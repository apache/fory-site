"use strict";(self.webpackChunkfory_site=self.webpackChunkfory_site||[]).push([[56405],{91871:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>a,contentTitle:()=>o,default:()=>h,frontMatter:()=>s,metadata:()=>d,toc:()=>l});var t=i(85893),r=i(11151);const s={title:"Migration Guide",sidebar_position:12,id:"migration",license:'Licensed to the Apache Software Foundation (ASF) under one or more\ncontributor license agreements.  See the NOTICE file distributed with\nthis work for additional information regarding copyright ownership.\nThe ASF licenses this file to You under the Apache License, Version 2.0\n(the "License"); you may not use this file except in compliance with\nthe License.  You may obtain a copy of the License at\n\n   http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an "AS IS" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n'},o=void 0,d={id:"guide/python/migration",title:"Migration Guide",description:"This page covers migration from pickle and JSON to pyfory.",source:"@site/versioned_docs/version-0.14/guide/python/migration.md",sourceDirName:"guide/python",slug:"/guide/python/migration",permalink:"/docs/0.14/guide/python/migration",draft:!1,unlisted:!1,editUrl:"https://github.com/apache/fory-site/tree/main/docs/guide/python/migration.md",tags:[],version:"0.14",sidebarPosition:12,frontMatter:{title:"Migration Guide",sidebar_position:12,id:"migration",license:'Licensed to the Apache Software Foundation (ASF) under one or more\ncontributor license agreements.  See the NOTICE file distributed with\nthis work for additional information regarding copyright ownership.\nThe ASF licenses this file to You under the Apache License, Version 2.0\n(the "License"); you may not use this file except in compliance with\nthe License.  You may obtain a copy of the License at\n\n   http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an "AS IS" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n'},sidebar:"docsSidebar",previous:{title:"Row Format",permalink:"/docs/0.14/guide/python/row_format"},next:{title:"Troubleshooting",permalink:"/docs/0.14/guide/python/troubleshooting"}},a={},l=[{value:"From Pickle",id:"from-pickle",level:2},{value:"From JSON",id:"from-json",level:2},{value:"Key Differences",id:"key-differences",level:2},{value:"Migration Tips",id:"migration-tips",level:2},{value:"Related Topics",id:"related-topics",level:2}];function c(e){const n={a:"a",code:"code",h2:"h2",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.a)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.p,{children:"This page covers migration from pickle and JSON to pyfory."}),"\n",(0,t.jsx)(n.h2,{id:"from-pickle",children:"From Pickle"}),"\n",(0,t.jsx)(n.p,{children:"Replace pickle with Fory for better performance while keeping the same API:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:"# Before (pickle)\nimport pickle\ndata = pickle.dumps(obj)\nresult = pickle.loads(data)\n\n# After (Fory - drop-in replacement with better performance)\nimport pyfory\nf = pyfory.Fory(xlang=False, ref=True, strict=False)\ndata = f.dumps(obj)      # Faster and more compact\nresult = f.loads(data)   # Faster deserialization\n\n# Benefits:\n# - 2-10x faster serialization\n# - 2-5x faster deserialization\n# - Up to 3x smaller data size\n# - Same API, better performance\n"})}),"\n",(0,t.jsx)(n.h2,{id:"from-json",children:"From JSON"}),"\n",(0,t.jsx)(n.p,{children:"Unlike JSON, Fory supports arbitrary Python types including functions:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:'# Before (JSON - limited types)\nimport json\ndata = json.dumps({"name": "Alice", "age": 30})\nresult = json.loads(data)\n\n# After (Fory - all Python types)\nimport pyfory\nf = pyfory.Fory()\ndata = f.dumps({"name": "Alice", "age": 30, "func": lambda x: x})\nresult = f.loads(data)\n'})}),"\n",(0,t.jsx)(n.h2,{id:"key-differences",children:"Key Differences"}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Feature"}),(0,t.jsx)(n.th,{children:"pickle"}),(0,t.jsx)(n.th,{children:"JSON"}),(0,t.jsx)(n.th,{children:"pyfory"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Performance"}),(0,t.jsx)(n.td,{children:"Moderate"}),(0,t.jsx)(n.td,{children:"Slow"}),(0,t.jsx)(n.td,{children:"Fast"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Data Size"}),(0,t.jsx)(n.td,{children:"Large"}),(0,t.jsx)(n.td,{children:"Large"}),(0,t.jsx)(n.td,{children:"Compact"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Type Support"}),(0,t.jsx)(n.td,{children:"All Python"}),(0,t.jsx)(n.td,{children:"Limited"}),(0,t.jsx)(n.td,{children:"All Python"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Cross-Language"}),(0,t.jsx)(n.td,{children:"No"}),(0,t.jsx)(n.td,{children:"Yes"}),(0,t.jsx)(n.td,{children:"Yes (xlang mode)"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Security"}),(0,t.jsx)(n.td,{children:"Low"}),(0,t.jsx)(n.td,{children:"High"}),(0,t.jsx)(n.td,{children:"Configurable"})]})]})]}),"\n",(0,t.jsx)(n.h2,{id:"migration-tips",children:"Migration Tips"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Start with strict=False"})," to ensure compatibility"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Add type registration"})," for performance and security"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Test thoroughly"})," before deploying"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Monitor performance"})," improvements"]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"related-topics",children:"Related Topics"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.a,{href:"/docs/0.14/guide/python/configuration",children:"Configuration"})," - Fory parameters"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.a,{href:"/docs/0.14/guide/python/native_mode",children:"Python Native Mode"})," - Pickle replacement features"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.a,{href:"/docs/0.14/guide/python/security",children:"Security"})," - Security best practices"]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,r.a)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(c,{...e})}):c(e)}},11151:(e,n,i)=>{i.d(n,{Z:()=>d,a:()=>o});var t=i(67294);const r={},s=t.createContext(r);function o(e){const n=t.useContext(s);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:o(e.components),t.createElement(s.Provider,{value:n},e.children)}}}]);