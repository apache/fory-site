"use strict";(self.webpackChunkfory_site=self.webpackChunkfory_site||[]).push([[70434],{41654:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>o,contentTitle:()=>t,default:()=>h,frontMatter:()=>a,metadata:()=>l,toc:()=>d});var s=i(85893),r=i(11151);const a={title:"Cross-Language Serialization Guide",sidebar_position:0,id:"serialization_index",license:'Licensed to the Apache Software Foundation (ASF) under one or more\ncontributor license agreements.  See the NOTICE file distributed with\nthis work for additional information regarding copyright ownership.\nThe ASF licenses this file to You under the Apache License, Version 2.0\n(the "License"); you may not use this file except in compliance with\nthe License.  You may obtain a copy of the License at\n\n   http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an "AS IS" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n'},t=void 0,l={id:"guide/xlang/serialization_index",title:"Cross-Language Serialization Guide",description:"Apache Fory\u2122 xlang (cross-language) serialization enables seamless data exchange between different programming languages. Serialize data in one language and deserialize it in another without manual data conversion. You can use either direct native types (no IDL) or a schema-first Fory IDL workflow.",source:"@site/docs/guide/xlang/index.md",sourceDirName:"guide/xlang",slug:"/guide/xlang/",permalink:"/docs/next/guide/xlang/",draft:!1,unlisted:!1,editUrl:"https://github.com/apache/fory-site/tree/main/docs/guide/xlang/index.md",tags:[],version:"current",sidebarPosition:0,frontMatter:{title:"Cross-Language Serialization Guide",sidebar_position:0,id:"serialization_index",license:'Licensed to the Apache Software Foundation (ASF) under one or more\ncontributor license agreements.  See the NOTICE file distributed with\nthis work for additional information regarding copyright ownership.\nThe ASF licenses this file to You under the Apache License, Version 2.0\n(the "License"); you may not use this file except in compliance with\nthe License.  You may obtain a copy of the License at\n\n   http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an "AS IS" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n'},sidebar:"docsSidebar",previous:{title:"Default Values",permalink:"/docs/next/guide/kotlin/default_values"},next:{title:"Getting Started",permalink:"/docs/next/guide/xlang/getting_started"}},o={},d=[{value:"Features",id:"features",level:2},{value:"Supported Languages",id:"supported-languages",level:2},{value:"When to Use Xlang Mode",id:"when-to-use-xlang-mode",level:2},{value:"Quick Example",id:"quick-example",level:2},{value:"Java (Producer)",id:"java-producer",level:3},{value:"Python (Consumer)",id:"python-consumer",level:3},{value:"Fory IDL",id:"fory-idl",level:2},{value:"Minimal IDL Example",id:"minimal-idl-example",level:3},{value:"When to Fory IDL",id:"when-to-fory-idl",level:2},{value:"Documentation",id:"documentation",level:2},{value:"Language-Specific Guides",id:"language-specific-guides",level:2},{value:"Specifications",id:"specifications",level:2}];function c(e){const n={a:"a",code:"code",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.a)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.p,{children:"Apache Fory\u2122 xlang (cross-language) serialization enables seamless data exchange between different programming languages. Serialize data in one language and deserialize it in another without manual data conversion. You can use either direct native types (no IDL) or a schema-first Fory IDL workflow."}),"\n",(0,s.jsx)(n.h2,{id:"features",children:"Features"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"No IDL Required"}),": Serialize objects directly with native language types"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Multi-Language Support"}),": Java, Python, C++, Go, Rust, JavaScript all interoperate seamlessly"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Reference Support"}),": Shared and circular references work across language boundaries"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Schema Evolution"}),": Forward/backward compatibility when class definitions change"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Zero-Copy"}),": Out-of-band serialization for large binary data"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"High Performance"}),": JIT compilation and optimized binary protocol"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"supported-languages",children:"Supported Languages"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Language"}),(0,s.jsx)(n.th,{children:"Status"}),(0,s.jsx)(n.th,{children:"Package"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Java"}),(0,s.jsx)(n.td,{children:"\u2705"}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"org.apache.fory:fory-core"})})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Python"}),(0,s.jsx)(n.td,{children:"\u2705"}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"pyfory"})})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"C++"}),(0,s.jsx)(n.td,{children:"\u2705"}),(0,s.jsx)(n.td,{children:"Bazel/CMake build"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Go"}),(0,s.jsx)(n.td,{children:"\u2705"}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"github.com/apache/fory/go/fory"})})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Rust"}),(0,s.jsx)(n.td,{children:"\u2705"}),(0,s.jsxs)(n.td,{children:[(0,s.jsx)(n.code,{children:"fory"})," crate"]})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"JavaScript"}),(0,s.jsx)(n.td,{children:"\u2705"}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"@apache-fory/fory"})})]})]})]}),"\n",(0,s.jsx)(n.h2,{id:"when-to-use-xlang-mode",children:"When to Use Xlang Mode"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Use xlang mode when:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Building multi-language microservices"}),"\n",(0,s.jsx)(n.li,{children:"Creating polyglot data pipelines"}),"\n",(0,s.jsx)(n.li,{children:"Sharing data between frontend (JavaScript) and backend (Java/Python/Go)"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Use language-native mode when:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"All serialization/deserialization happens in the same language"}),"\n",(0,s.jsx)(n.li,{children:"Maximum performance is required (native mode is faster)"}),"\n",(0,s.jsx)(n.li,{children:"You need language-specific features (Python pickle compatibility, Java serialization hooks)"}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"quick-example",children:"Quick Example"}),"\n",(0,s.jsx)(n.h3,{id:"java-producer",children:"Java (Producer)"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:'import org.apache.fory.*;\nimport org.apache.fory.config.*;\n\npublic class Person {\n    public String name;\n    public int age;\n}\n\nFory fory = Fory.builder()\n    .withLanguage(Language.XLANG)\n    .build();\nfory.register(Person.class, "example.Person");\n\nPerson person = new Person();\nperson.name = "Alice";\nperson.age = 30;\nbyte[] bytes = fory.serialize(person);\n// Send bytes to Python, Go, Rust, etc.\n'})}),"\n",(0,s.jsx)(n.h3,{id:"python-consumer",children:"Python (Consumer)"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:'import pyfory\nfrom dataclasses import dataclass\n\n@dataclass\nclass Person:\n    name: str\n    age: pyfory.Int32Type\n\nfory = pyfory.Fory(xlang=True)\nfory.register_type(Person, typename="example.Person")\n\n# Receive bytes from Java\nperson = fory.deserialize(bytes_from_java)\nprint(f"{person.name}, {person.age}")  # Alice, 30\n'})}),"\n",(0,s.jsx)(n.h2,{id:"fory-idl",children:"Fory IDL"}),"\n",(0,s.jsxs)(n.p,{children:["For schema-first projects, Fory also provides ",(0,s.jsx)(n.strong,{children:"Fory IDL"})," and code generation."]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Compiler docs: ",(0,s.jsx)(n.a,{href:"/docs/next/compiler/",children:"Fory IDL Overview"})]}),"\n",(0,s.jsx)(n.li,{children:"Best for large multi-language message contracts and long-lived schemas"}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"minimal-idl-example",children:"Minimal IDL Example"}),"\n",(0,s.jsxs)(n.p,{children:["Create ",(0,s.jsx)(n.code,{children:"person.fdl"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-protobuf",children:"package example;\n\nmessage Person {\n    string name = 1;\n    int32 age = 2;\n    optional string email = 3;\n}\n"})}),"\n",(0,s.jsx)(n.p,{children:"Generate code:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"foryc person.fdl --lang java,python,go,rust,cpp --output ./generated\n"})}),"\n",(0,s.jsx)(n.p,{children:"This generates native language types with consistent field/type mappings across all targets."}),"\n",(0,s.jsx)(n.h2,{id:"when-to-fory-idl",children:"When to Fory IDL"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Option"}),(0,s.jsx)(n.th,{children:"Use When"}),(0,s.jsx)(n.th,{children:"Why"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Native xlang types (no IDL)"}),(0,s.jsx)(n.td,{children:"You only have a few message types and want to move quickly"}),(0,s.jsx)(n.td,{children:"Avoids the integration/setup cost of introducing and operating the compiler"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Fory IDL (schema-first + codegen)"}),(0,s.jsx)(n.td,{children:"You have many messages across multiple languages/teams/services"}),(0,s.jsx)(n.td,{children:"Provides a single contract, stronger consistency, and easier long-term evolution"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Hybrid (start native, move to IDL)"}),(0,s.jsx)(n.td,{children:"Project starts small but message count and cross-team dependency grows"}),(0,s.jsx)(n.td,{children:"Lets you keep early velocity, then standardize once schema complexity increases"})]})]})]}),"\n",(0,s.jsx)(n.h2,{id:"documentation",children:"Documentation"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Topic"}),(0,s.jsx)(n.th,{children:"Description"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.a,{href:"/docs/next/guide/xlang/getting_started",children:"Getting Started"})}),(0,s.jsx)(n.td,{children:"Installation and basic setup for all languages"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.a,{href:"/docs/next/specification/xlang_type_mapping",children:"Type Mapping"})}),(0,s.jsx)(n.td,{children:"Cross-language type mapping reference"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.a,{href:"/docs/next/guide/xlang/serialization",children:"Serialization"})}),(0,s.jsx)(n.td,{children:"Built-in types, custom types, reference handling"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.a,{href:"/docs/next/guide/xlang/zero_copy",children:"Zero-Copy"})}),(0,s.jsx)(n.td,{children:"Out-of-band serialization for large data"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.a,{href:"/docs/next/guide/xlang/row_format",children:"Row Format"})}),(0,s.jsx)(n.td,{children:"Cache-friendly binary format with random access"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.a,{href:"/docs/next/guide/xlang/troubleshooting",children:"Troubleshooting"})}),(0,s.jsx)(n.td,{children:"Common issues and solutions"})]})]})]}),"\n",(0,s.jsx)(n.h2,{id:"language-specific-guides",children:"Language-Specific Guides"}),"\n",(0,s.jsx)(n.p,{children:"For language-specific details and API reference:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"/docs/next/guide/java/cross_language",children:"Java Cross-Language Guide"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"/docs/next/guide/python/cross_language",children:"Python Cross-Language Guide"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"/docs/next/guide/cpp/cross_language",children:"C++ Cross-Language Guide"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"/docs/next/guide/rust/cross_language",children:"Rust Cross-Language Guide"})}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"specifications",children:"Specifications"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.a,{href:"/docs/next/specification/xlang_serialization_spec",children:"Xlang Serialization Specification"})," - Binary protocol details"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.a,{href:"/docs/next/specification/xlang_type_mapping",children:"Type Mapping Specification"})," - Complete type mapping reference"]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,r.a)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(c,{...e})}):c(e)}},11151:(e,n,i)=>{i.d(n,{Z:()=>l,a:()=>t});var s=i(67294);const r={},a=s.createContext(r);function t(e){const n=s.useContext(a);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:t(e.components),s.createElement(a.Provider,{value:n},e.children)}}}]);