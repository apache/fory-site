"use strict";(self.webpackChunkfory_site=self.webpackChunkfory_site||[]).push([[2594],{98907:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>l,contentTitle:()=>o,default:()=>g,frontMatter:()=>a,metadata:()=>t,toc:()=>c});var i=r(85893),s=r(11151);const a={title:"Getting Started",sidebar_position:10,id:"getting_started",license:'Licensed to the Apache Software Foundation (ASF) under one or more\ncontributor license agreements.  See the NOTICE file distributed with\nthis work for additional information regarding copyright ownership.\nThe ASF licenses this file to You under the Apache License, Version 2.0\n(the "License"); you may not use this file except in compliance with\nthe License.  You may obtain a copy of the License at\n\n   http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an "AS IS" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n'},o=void 0,t={id:"guide/xlang/getting_started",title:"Getting Started",description:"This guide covers installation and basic setup for cross-language serialization in all supported languages.",source:"@site/versioned_docs/version-0.15/guide/xlang/getting-started.md",sourceDirName:"guide/xlang",slug:"/guide/xlang/getting_started",permalink:"/docs/guide/xlang/getting_started",draft:!1,unlisted:!1,editUrl:"https://github.com/apache/fory-site/tree/main/docs/guide/xlang/getting-started.md",tags:[],version:"0.15",sidebarPosition:10,frontMatter:{title:"Getting Started",sidebar_position:10,id:"getting_started",license:'Licensed to the Apache Software Foundation (ASF) under one or more\ncontributor license agreements.  See the NOTICE file distributed with\nthis work for additional information regarding copyright ownership.\nThe ASF licenses this file to You under the Apache License, Version 2.0\n(the "License"); you may not use this file except in compliance with\nthe License.  You may obtain a copy of the License at\n\n   http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an "AS IS" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n'},sidebar:"docsSidebar",previous:{title:"Cross-Language Serialization Guide",permalink:"/docs/guide/xlang/"},next:{title:"Serialization",permalink:"/docs/guide/xlang/serialization"}},l={},c=[{value:"Installation",id:"installation",level:2},{value:"Java",id:"java",level:3},{value:"Python",id:"python",level:3},{value:"Go",id:"go",level:3},{value:"Rust",id:"rust",level:3},{value:"JavaScript",id:"javascript",level:3},{value:"C++",id:"c",level:3},{value:"Enable Cross-Language Mode",id:"enable-cross-language-mode",level:2},{value:"Java",id:"java-1",level:3},{value:"Python",id:"python-1",level:3},{value:"Go",id:"go-1",level:3},{value:"Rust",id:"rust-1",level:3},{value:"JavaScript",id:"javascript-1",level:3},{value:"C++",id:"c-1",level:3},{value:"Type Registration",id:"type-registration",level:2},{value:"Register by Name (Recommended)",id:"register-by-name-recommended",level:3},{value:"Register by ID",id:"register-by-id",level:3},{value:"Hello World Example",id:"hello-world-example",level:2},{value:"Java (Serializer)",id:"java-serializer",level:3},{value:"Python (Deserializer)",id:"python-deserializer",level:3},{value:"Best Practices",id:"best-practices",level:2},{value:"Next Steps",id:"next-steps",level:2}];function d(e){const n={a:"a",code:"code",h2:"h2",h3:"h3",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,s.a)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.p,{children:"This guide covers installation and basic setup for cross-language serialization in all supported languages."}),"\n",(0,i.jsx)(n.h2,{id:"installation",children:"Installation"}),"\n",(0,i.jsx)(n.h3,{id:"java",children:"Java"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Maven:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-xml",children:"<dependency>\n  <groupId>org.apache.fory</groupId>\n  <artifactId>fory-core</artifactId>\n  <version>0.15.0</version>\n</dependency>\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Gradle:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-gradle",children:"implementation 'org.apache.fory:fory-core:0.15.0'\n"})}),"\n",(0,i.jsx)(n.h3,{id:"python",children:"Python"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"pip install pyfory\n"})}),"\n",(0,i.jsx)(n.h3,{id:"go",children:"Go"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"go get github.com/apache/fory/go/fory\n"})}),"\n",(0,i.jsx)(n.h3,{id:"rust",children:"Rust"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-toml",children:'[dependencies]\nfory = "0.13"\n'})}),"\n",(0,i.jsx)(n.h3,{id:"javascript",children:"JavaScript"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"npm install @apache-fory/fory\n"})}),"\n",(0,i.jsx)(n.h3,{id:"c",children:"C++"}),"\n",(0,i.jsxs)(n.p,{children:["Use Bazel or CMake to build from source. See ",(0,i.jsx)(n.a,{href:"/docs/guide/cpp/",children:"C++ Guide"})," for details."]}),"\n",(0,i.jsx)(n.h2,{id:"enable-cross-language-mode",children:"Enable Cross-Language Mode"}),"\n",(0,i.jsx)(n.p,{children:"Each language requires enabling xlang mode to ensure binary compatibility across languages."}),"\n",(0,i.jsx)(n.h3,{id:"java-1",children:"Java"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-java",children:"import org.apache.fory.*;\nimport org.apache.fory.config.*;\n\nFory fory = Fory.builder()\n    .withLanguage(Language.XLANG)  // Enable cross-language mode\n    .withRefTracking(true)          // Optional: for circular references\n    .build();\n"})}),"\n",(0,i.jsx)(n.h3,{id:"python-1",children:"Python"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"import pyfory\n\n# Cross-language mode must be enabled explicitly\nfory = pyfory.Fory(xlang=True)\n\n# Enable reference tracking when needed\nfory = pyfory.Fory(xlang=True, ref=True)\n"})}),"\n",(0,i.jsx)(n.h3,{id:"go-1",children:"Go"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-go",children:'import forygo "github.com/apache/fory/go/fory"\n\nfory := forygo.NewFory(forygo.WithXlang(true))\n// Or with reference tracking\nfory := forygo.NewFory(forygo.WithXlang(true), forygo.WithTrackRef(true))\n'})}),"\n",(0,i.jsx)(n.h3,{id:"rust-1",children:"Rust"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-rust",children:"use fory::Fory;\n\nlet fory = Fory::default().xlang(true);\n"})}),"\n",(0,i.jsx)(n.h3,{id:"javascript-1",children:"JavaScript"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-javascript",children:'import Fory from "@apache-fory/fory";\n\nconst fory = new Fory();\n'})}),"\n",(0,i.jsx)(n.h3,{id:"c-1",children:"C++"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-cpp",children:'#include "fory/serialization/fory.h"\n\nusing namespace fory::serialization;\n\nauto fory = Fory::builder()\n    .xlang(true)\n    .build();\n'})}),"\n",(0,i.jsx)(n.h2,{id:"type-registration",children:"Type Registration"}),"\n",(0,i.jsx)(n.p,{children:"Custom types must be registered with consistent names or IDs across all languages."}),"\n",(0,i.jsx)(n.h3,{id:"register-by-name-recommended",children:"Register by Name (Recommended)"}),"\n",(0,i.jsx)(n.p,{children:"Using string names is more flexible and less prone to conflicts:"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Java:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-java",children:'fory.register(Person.class, "example.Person");\n'})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Python:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:'fory.register_type(Person, typename="example.Person")\n'})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Go:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-go",children:'fory.RegisterNamedStruct(Person{}, "example.Person")\n'})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Rust:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-rust",children:'use fory::{Fory, ForyObject};\n\n#[derive(ForyObject)]\nstruct Person {\n    name: String,\n    age: i32,\n}\n\nlet mut fory = Fory::default().xlang(true);\nfory\n    .register_by_namespace::<Person>("example", "Person")\n    .expect("register Person");\n'})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"JavaScript:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-javascript",children:'const description = Type.object("example.Person", {\n  name: Type.string(),\n  age: Type.int32(),\n});\nfory.registerSerializer(description);\n'})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"C++:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-cpp",children:'fory.register_struct<Person>("example.Person");\n// For enums, use register_enum:\n// fory.register_enum<Color>("example.Color");\n'})}),"\n",(0,i.jsx)(n.h3,{id:"register-by-id",children:"Register by ID"}),"\n",(0,i.jsx)(n.p,{children:"Using numeric IDs is faster and produces smaller binary output:"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Java:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-java",children:"fory.register(Person.class, 100);\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Python:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"fory.register_type(Person, type_id=100)\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Go:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-go",children:"fory.RegisterStruct(Person{}, 100)\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"C++:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-cpp",children:"fory.register_struct<Person>(100);\n// For enums, use register_enum:\n// fory.register_enum<Color>(101);\n"})}),"\n",(0,i.jsx)(n.h2,{id:"hello-world-example",children:"Hello World Example"}),"\n",(0,i.jsx)(n.p,{children:"A complete example showing serialization in Java and deserialization in Python:"}),"\n",(0,i.jsx)(n.h3,{id:"java-serializer",children:"Java (Serializer)"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-java",children:'import org.apache.fory.*;\nimport org.apache.fory.config.*;\nimport java.nio.file.*;\n\npublic class Person {\n    public String name;\n    public int age;\n}\n\npublic class HelloWorld {\n    public static void main(String[] args) throws Exception {\n        Fory fory = Fory.builder()\n            .withLanguage(Language.XLANG)\n            .build();\n        fory.register(Person.class, "example.Person");\n\n        Person person = new Person();\n        person.name = "Alice";\n        person.age = 30;\n\n        byte[] bytes = fory.serialize(person);\n        Files.write(Path.of("person.bin"), bytes);\n        System.out.println("Serialized to person.bin");\n    }\n}\n'})}),"\n",(0,i.jsx)(n.h3,{id:"python-deserializer",children:"Python (Deserializer)"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:'import pyfory\nfrom dataclasses import dataclass\n\n@dataclass\nclass Person:\n    name: str\n    age: pyfory.Int32Type\n\nfory = pyfory.Fory(xlang=True)\nfory.register_type(Person, typename="example.Person")\n\nwith open("person.bin", "rb") as f:\n    data = f.read()\n\nperson = fory.deserialize(data)\nprint(f"Name: {person.name}, Age: {person.age}")\n# Output: Name: Alice, Age: 30\n'})}),"\n",(0,i.jsx)(n.h2,{id:"best-practices",children:"Best Practices"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Use consistent type names"}),": Ensure all languages use the same type name or ID"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Enable reference tracking"}),": If your data has circular or shared references"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Reuse Fory instances"}),": Creating Fory is expensive; reuse instances"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Use type annotations"}),": In Python, use ",(0,i.jsx)(n.code,{children:"pyfory.Int32Type"})," etc. for precise type mapping"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Test cross-language"}),": Verify serialization works across all target languages"]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"next-steps",children:"Next Steps"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"/docs/specification/xlang_type_mapping",children:"Type Mapping"})," - Cross-language type mapping reference"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"/docs/guide/xlang/serialization",children:"Serialization"})," - Detailed serialization examples"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"/docs/guide/xlang/troubleshooting",children:"Troubleshooting"})," - Common issues and solutions"]}),"\n"]})]})}function g(e={}){const{wrapper:n}={...(0,s.a)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},11151:(e,n,r)=>{r.d(n,{Z:()=>t,a:()=>o});var i=r(67294);const s={},a=i.createContext(s);function o(e){const n=i.useContext(a);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function t(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:o(e.components),i.createElement(a.Provider,{value:n},e.children)}}}]);