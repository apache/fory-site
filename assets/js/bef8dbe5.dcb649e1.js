"use strict";(self.webpackChunkfory_site=self.webpackChunkfory_site||[]).push([[18911],{51410:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>c,contentTitle:()=>t,default:()=>h,frontMatter:()=>r,metadata:()=>l,toc:()=>a});var i=s(85893),d=s(11151);const r={title:"Schema IDL",sidebar_position:2,id:"syntax",license:'Licensed to the Apache Software Foundation (ASF) under one or more\ncontributor license agreements.  See the NOTICE file distributed with\nthis work for additional information regarding copyright ownership.\nThe ASF licenses this file to You under the Apache License, Version 2.0\n(the "License"); you may not use this file except in compliance with\nthe License.  You may obtain a copy of the License at\n\n   http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an "AS IS" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n'},t=void 0,l={id:"compiler/syntax",title:"Schema IDL",description:"This document provides the syntax and semantic reference for Fory IDL.",source:"@site/versioned_docs/version-0.15/compiler/schema-idl.md",sourceDirName:"compiler",slug:"/compiler/syntax",permalink:"/docs/compiler/syntax",draft:!1,unlisted:!1,editUrl:"https://github.com/apache/fory-site/tree/main/docs/compiler/schema-idl.md",tags:[],version:"0.15",sidebarPosition:2,frontMatter:{title:"Schema IDL",sidebar_position:2,id:"syntax",license:'Licensed to the Apache Software Foundation (ASF) under one or more\ncontributor license agreements.  See the NOTICE file distributed with\nthis work for additional information regarding copyright ownership.\nThe ASF licenses this file to You under the Apache License, Version 2.0\n(the "License"); you may not use this file except in compliance with\nthe License.  You may obtain a copy of the License at\n\n   http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an "AS IS" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n'},sidebar:"docsSidebar",previous:{title:"Overview",permalink:"/docs/compiler/"},next:{title:"Compiler Guide",permalink:"/docs/compiler/compiler_guide"}},c={},a=[{value:"File Structure",id:"file-structure",level:2},{value:"Comments",id:"comments",level:2},{value:"Package Declaration",id:"package-declaration",level:2},{value:"File-Level Options",id:"file-level-options",level:2},{value:"Syntax",id:"syntax",level:3},{value:"Java Package Option",id:"java-package-option",level:3},{value:"Go Package Option",id:"go-package-option",level:3},{value:"Java Outer Classname Option",id:"java-outer-classname-option",level:3},{value:"Java Multiple Files Option",id:"java-multiple-files-option",level:3},{value:"Multiple Options",id:"multiple-options",level:3},{value:"Protobuf Extension Syntax",id:"protobuf-extension-syntax",level:3},{value:"Option Priority",id:"option-priority",level:3},{value:"Cross-Language Type Registration",id:"cross-language-type-registration",level:3},{value:"Import Statement",id:"import-statement",level:2},{value:"Basic Syntax",id:"basic-syntax",level:3},{value:"Multiple Imports",id:"multiple-imports",level:3},{value:"Path Resolution",id:"path-resolution",level:3},{value:"Complete Example",id:"complete-example",level:3},{value:"Unsupported Import Syntax",id:"unsupported-import-syntax",level:3},{value:"Import Errors",id:"import-errors",level:3},{value:"Enum Definition",id:"enum-definition",level:2},{value:"Basic Syntax",id:"basic-syntax-1",level:3},{value:"With Explicit Type ID",id:"with-explicit-type-id",level:3},{value:"Reserved Values",id:"reserved-values",level:3},{value:"Enum Type Options",id:"enum-type-options",level:3},{value:"Language Mapping",id:"language-mapping",level:3},{value:"Enum Prefix Stripping",id:"enum-prefix-stripping",level:3},{value:"Message Definition",id:"message-definition",level:2},{value:"Basic Syntax",id:"basic-syntax-2",level:3},{value:"With Explicit Type ID",id:"with-explicit-type-id-1",level:3},{value:"Without Explicit Type ID",id:"without-explicit-type-id",level:3},{value:"Language Mapping",id:"language-mapping-1",level:3},{value:"Reserved Fields",id:"reserved-fields",level:3},{value:"Message Type Options",id:"message-type-options",level:3},{value:"Nested Types",id:"nested-types",level:2},{value:"Nested Messages",id:"nested-messages",level:3},{value:"Nested Enums",id:"nested-enums",level:3},{value:"Qualified Type Names",id:"qualified-type-names",level:3},{value:"Deeply Nested Types",id:"deeply-nested-types",level:3},{value:"Language-Specific Generation",id:"language-specific-generation",level:3},{value:"Nested Type Rules",id:"nested-type-rules",level:3},{value:"Union Definition",id:"union-definition",level:2},{value:"Basic Syntax",id:"basic-syntax-3",level:3},{value:"Using a Union in a Message",id:"using-a-union-in-a-message",level:3},{value:"Rules",id:"rules",level:3},{value:"Field Definition",id:"field-definition",level:2},{value:"Basic Syntax",id:"basic-syntax-4",level:3},{value:"With Modifiers",id:"with-modifiers",level:3},{value:"Field Modifiers",id:"field-modifiers",level:3},{value:"<code>optional</code>",id:"optional",level:4},{value:"<code>ref</code>",id:"ref",level:4},{value:"<code>list</code>",id:"list",level:4},{value:"Combining Modifiers",id:"combining-modifiers",level:3},{value:"Field Numbers",id:"field-numbers",level:2},{value:"Type System",id:"type-system",level:2},{value:"Primitive Types",id:"primitive-types",level:3},{value:"Boolean",id:"boolean",level:4},{value:"Integer Types",id:"integer-types",level:4},{value:"Integer Encoding Variants",id:"integer-encoding-variants",level:4},{value:"Floating-Point Types",id:"floating-point-types",level:4},{value:"String Type",id:"string-type",level:4},{value:"Bytes Type",id:"bytes-type",level:4},{value:"Temporal Types",id:"temporal-types",level:4},{value:"Date",id:"date",level:5},{value:"Timestamp",id:"timestamp",level:5},{value:"Any",id:"any",level:4},{value:"Named Types",id:"named-types",level:3},{value:"Collection Types",id:"collection-types",level:3},{value:"List (<code>list</code>)",id:"list-list",level:4},{value:"Map",id:"map",level:4},{value:"Type Compatibility Matrix",id:"type-compatibility-matrix",level:3},{value:"Best Practices",id:"best-practices",level:3},{value:"Type IDs",id:"type-ids",level:2},{value:"With Explicit Type ID",id:"with-explicit-type-id-2",level:3},{value:"Without Explicit Type ID",id:"without-explicit-type-id-1",level:3},{value:"Practical Notes",id:"practical-notes",level:3},{value:"ID Assignment Strategy",id:"id-assignment-strategy",level:3},{value:"Complete Example",id:"complete-example-1",level:2},{value:"Grammar Summary",id:"grammar-summary",level:2}];function o(e){const n={a:"a",code:"code",h2:"h2",h3:"h3",h4:"h4",h5:"h5",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,d.a)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.p,{children:"This document provides the syntax and semantic reference for Fory IDL."}),"\n",(0,i.jsxs)(n.p,{children:["For compiler usage and build integration, see\n",(0,i.jsx)(n.a,{href:"/docs/compiler/compiler_guide",children:"Compiler Guide"}),". For protobuf/FlatBuffers frontend mapping\nrules, see ",(0,i.jsx)(n.a,{href:"/docs/compiler/protobuf_idl_support",children:"Protocol Buffers IDL Support"})," and\n",(0,i.jsx)(n.a,{href:"/docs/compiler/flatbuffers_idl",children:"FlatBuffers IDL Support"}),"."]}),"\n",(0,i.jsx)(n.h2,{id:"file-structure",children:"File Structure"}),"\n",(0,i.jsx)(n.p,{children:"An Fory IDL file typically consists of:"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsx)(n.li,{children:"Optional package declaration"}),"\n",(0,i.jsx)(n.li,{children:"Optional file-level options"}),"\n",(0,i.jsx)(n.li,{children:"Optional import statements"}),"\n",(0,i.jsx)(n.li,{children:"Type definitions (enums, messages, and unions)"}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-protobuf",children:'// Optional package declaration\npackage com.example.models;\n\n// Optional file-level options\noption java_package = "com.example.models";\n\n// Import statements\nimport "common/types.fdl";\n\n// Type definitions\nenum Color [id=100] { ... }\nmessage User [id=101] { ... }\nmessage Order [id=102] { ... }\nunion Event [id=103] { ... }\n'})}),"\n",(0,i.jsx)(n.h2,{id:"comments",children:"Comments"}),"\n",(0,i.jsx)(n.p,{children:"Fory IDL supports both single-line and block comments:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-protobuf",children:"// This is a single-line comment\n\n/*\n * This is a block comment\n * that spans multiple lines\n */\n\nmessage Example {\n    string name = 1;  // Inline comment\n}\n"})}),"\n",(0,i.jsx)(n.h2,{id:"package-declaration",children:"Package Declaration"}),"\n",(0,i.jsx)(n.p,{children:"The package declaration defines the namespace for all types in the file."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-protobuf",children:"package com.example.models;\n"})}),"\n",(0,i.jsx)(n.p,{children:"You can optionally specify a package alias used for auto-generated type IDs:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-protobuf",children:"package com.example.models alias models_v1;\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Rules:"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Optional but recommended"}),"\n",(0,i.jsx)(n.li,{children:"Must appear before any type definitions"}),"\n",(0,i.jsx)(n.li,{children:"Only one package declaration per file"}),"\n",(0,i.jsx)(n.li,{children:"Used for namespace-based type registration"}),"\n",(0,i.jsx)(n.li,{children:"Package alias is used for auto-ID hashing"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Language Mapping:"})}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Language"}),(0,i.jsx)(n.th,{children:"Package Usage"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Java"}),(0,i.jsx)(n.td,{children:"Java package"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Python"}),(0,i.jsx)(n.td,{children:"Module name (dots to underscores)"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Go"}),(0,i.jsx)(n.td,{children:"Package name (last component)"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Rust"}),(0,i.jsx)(n.td,{children:"Module name (dots to underscores)"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"C++"}),(0,i.jsxs)(n.td,{children:["Namespace (dots to ",(0,i.jsx)(n.code,{children:"::"}),")"]})]})]})]}),"\n",(0,i.jsx)(n.h2,{id:"file-level-options",children:"File-Level Options"}),"\n",(0,i.jsx)(n.p,{children:"Options can be specified at file level to control language-specific code generation."}),"\n",(0,i.jsx)(n.h3,{id:"syntax",children:"Syntax"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-protobuf",children:"option option_name = value;\n"})}),"\n",(0,i.jsx)(n.h3,{id:"java-package-option",children:"Java Package Option"}),"\n",(0,i.jsx)(n.p,{children:"Override the Java package for generated code:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-protobuf",children:'package payment;\noption java_package = "com.mycorp.payment.v1";\n\nmessage Payment {\n    string id = 1;\n}\n'})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Effect:"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Generated Java files will be in ",(0,i.jsx)(n.code,{children:"com/mycorp/payment/v1/"})," directory"]}),"\n",(0,i.jsxs)(n.li,{children:["Java package declaration will be ",(0,i.jsx)(n.code,{children:"package com.mycorp.payment.v1;"})]}),"\n",(0,i.jsxs)(n.li,{children:["Type registration still uses the Fory IDL package (",(0,i.jsx)(n.code,{children:"payment"}),") for cross-language compatibility"]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"go-package-option",children:"Go Package Option"}),"\n",(0,i.jsx)(n.p,{children:"Specify the Go import path and package name:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-protobuf",children:'package payment;\noption go_package = "github.com/mycorp/apis/gen/payment/v1;paymentv1";\n\nmessage Payment {\n    string id = 1;\n}\n'})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Format:"})," ",(0,i.jsx)(n.code,{children:'"import/path;package_name"'})," or just ",(0,i.jsx)(n.code,{children:'"import/path"'})," (last segment used as package name)"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Effect:"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Generated Go files will have ",(0,i.jsx)(n.code,{children:"package paymentv1"})]}),"\n",(0,i.jsx)(n.li,{children:"The import path can be used in other Go code"}),"\n",(0,i.jsxs)(n.li,{children:["Type registration still uses the Fory IDL package (",(0,i.jsx)(n.code,{children:"payment"}),") for cross-language compatibility"]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"java-outer-classname-option",children:"Java Outer Classname Option"}),"\n",(0,i.jsx)(n.p,{children:"Generate all types as inner classes of a single outer wrapper class:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-protobuf",children:'package payment;\noption java_outer_classname = "DescriptorProtos";\n\nenum Status {\n    UNKNOWN = 0;\n    ACTIVE = 1;\n}\n\nmessage Payment {\n    string id = 1;\n    Status status = 2;\n}\n'})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Effect:"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Generates a single file ",(0,i.jsx)(n.code,{children:"DescriptorProtos.java"})," instead of separate files"]}),"\n",(0,i.jsxs)(n.li,{children:["All enums and messages become ",(0,i.jsx)(n.code,{children:"public static"})," inner classes"]}),"\n",(0,i.jsxs)(n.li,{children:["The outer class is ",(0,i.jsx)(n.code,{children:"public final"})," with a private constructor"]}),"\n",(0,i.jsx)(n.li,{children:"Useful for grouping related types together"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Generated structure:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-java",children:"public final class DescriptorProtos {\n    private DescriptorProtos() {}\n\n    public static enum Status {\n        UNKNOWN,\n        ACTIVE;\n    }\n\n    public static class Payment {\n        private String id;\n        private Status status;\n        // ...\n    }\n}\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Combined with java_package:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-protobuf",children:'package payment;\noption java_package = "com.example.proto";\noption java_outer_classname = "PaymentProtos";\n\nmessage Payment {\n    string id = 1;\n}\n'})}),"\n",(0,i.jsxs)(n.p,{children:["This generates ",(0,i.jsx)(n.code,{children:"com/example/proto/PaymentProtos.java"})," with all types as inner classes."]}),"\n",(0,i.jsx)(n.h3,{id:"java-multiple-files-option",children:"Java Multiple Files Option"}),"\n",(0,i.jsx)(n.p,{children:"Control whether types are generated in separate files or as inner classes:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-protobuf",children:'package payment;\noption java_outer_classname = "PaymentProtos";\noption java_multiple_files = true;\n\nmessage Payment {\n    string id = 1;\n}\n\nmessage Receipt {\n    string id = 1;\n}\n'})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Behavior:"})}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:(0,i.jsx)(n.code,{children:"java_outer_classname"})}),(0,i.jsx)(n.th,{children:(0,i.jsx)(n.code,{children:"java_multiple_files"})}),(0,i.jsx)(n.th,{children:"Result"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Not set"}),(0,i.jsx)(n.td,{children:"Any"}),(0,i.jsx)(n.td,{children:"Separate files (one per type)"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Set"}),(0,i.jsxs)(n.td,{children:[(0,i.jsx)(n.code,{children:"false"})," (default)"]}),(0,i.jsx)(n.td,{children:"Single file with all types as inner classes"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Set"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"true"})}),(0,i.jsx)(n.td,{children:"Separate files (overrides outer class)"})]})]})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsxs)(n.strong,{children:["Effect of ",(0,i.jsx)(n.code,{children:"java_multiple_files = true"}),":"]})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Each top-level enum and message gets its own ",(0,i.jsx)(n.code,{children:".java"})," file"]}),"\n",(0,i.jsxs)(n.li,{children:["Overrides ",(0,i.jsx)(n.code,{children:"java_outer_classname"})," behavior"]}),"\n",(0,i.jsx)(n.li,{children:"Useful when you want separate files but still specify an outer class name for other purposes"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Example without java_multiple_files (default):"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-protobuf",children:'option java_outer_classname = "PaymentProtos";\n// Generates: PaymentProtos.java containing Payment and Receipt as inner classes\n'})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Example with java_multiple_files = true:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-protobuf",children:'option java_outer_classname = "PaymentProtos";\noption java_multiple_files = true;\n// Generates: Payment.java, Receipt.java (separate files)\n'})}),"\n",(0,i.jsx)(n.h3,{id:"multiple-options",children:"Multiple Options"}),"\n",(0,i.jsx)(n.p,{children:"Multiple options can be specified:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-protobuf",children:'package payment;\noption java_package = "com.mycorp.payment.v1";\noption go_package = "github.com/mycorp/apis/gen/payment/v1;paymentv1";\noption deprecated = true;\n\nmessage Payment {\n    string id = 1;\n}\n'})}),"\n",(0,i.jsx)(n.h3,{id:"protobuf-extension-syntax",children:"Protobuf Extension Syntax"}),"\n",(0,i.jsxs)(n.p,{children:["In ",(0,i.jsx)(n.code,{children:".fdl"})," files, use native Fory IDL syntax only (for example, ",(0,i.jsx)(n.code,{children:"[id=100]"}),", ",(0,i.jsx)(n.code,{children:"ref"}),",\n",(0,i.jsx)(n.code,{children:"optional"}),", ",(0,i.jsx)(n.code,{children:"nullable=true"}),")."]}),"\n",(0,i.jsxs)(n.p,{children:["Protobuf extension syntax with ",(0,i.jsx)(n.code,{children:"(fory)."})," is for ",(0,i.jsx)(n.code,{children:".proto"})," files and the protobuf\nfrontend only."]}),"\n",(0,i.jsxs)(n.p,{children:["For protobuf extension options, see\n",(0,i.jsx)(n.a,{href:"/docs/compiler/protobuf_idl_support#fory-extension-options-protobuf",children:"Protocol Buffers IDL Support"}),"."]}),"\n",(0,i.jsx)(n.h3,{id:"option-priority",children:"Option Priority"}),"\n",(0,i.jsx)(n.p,{children:"For language-specific packages:"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsx)(n.li,{children:"Command-line package override (highest priority)"}),"\n",(0,i.jsxs)(n.li,{children:["Language-specific option (",(0,i.jsx)(n.code,{children:"java_package"}),", ",(0,i.jsx)(n.code,{children:"go_package"}),")"]}),"\n",(0,i.jsx)(n.li,{children:"Fory IDL package declaration (fallback)"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Example:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-protobuf",children:'package myapp.models;\noption java_package = "com.example.generated";\n'})}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Scenario"}),(0,i.jsx)(n.th,{children:"Java Package Used"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"No override"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"com.example.generated"})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsxs)(n.td,{children:["CLI: ",(0,i.jsx)(n.code,{children:"--package=override"})]}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"override"})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"No java_package option"}),(0,i.jsxs)(n.td,{children:[(0,i.jsx)(n.code,{children:"myapp.models"})," (fallback)"]})]})]})]}),"\n",(0,i.jsx)(n.h3,{id:"cross-language-type-registration",children:"Cross-Language Type Registration"}),"\n",(0,i.jsx)(n.p,{children:"Language-specific options only affect where code is generated, not the type namespace used for serialization. This ensures cross-language compatibility:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-protobuf",children:'package myapp.models;\noption java_package = "com.mycorp.generated";\noption go_package = "github.com/mycorp/gen;genmodels";\n\nmessage User {\n    string name = 1;\n}\n'})}),"\n",(0,i.jsxs)(n.p,{children:["All languages will register ",(0,i.jsx)(n.code,{children:"User"})," with namespace ",(0,i.jsx)(n.code,{children:"myapp.models"}),", enabling:"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Java serialized data \u2192 Go deserialization"}),"\n",(0,i.jsx)(n.li,{children:"Go serialized data \u2192 Java deserialization"}),"\n",(0,i.jsx)(n.li,{children:"Any language combination works seamlessly"}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"import-statement",children:"Import Statement"}),"\n",(0,i.jsx)(n.p,{children:"Import statements allow you to use types defined in other Fory IDL files."}),"\n",(0,i.jsx)(n.h3,{id:"basic-syntax",children:"Basic Syntax"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-protobuf",children:'import "path/to/file.fdl";\n'})}),"\n",(0,i.jsx)(n.h3,{id:"multiple-imports",children:"Multiple Imports"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-protobuf",children:'import "common/types.fdl";\nimport "common/enums.fdl";\nimport "models/address.fdl";\n'})}),"\n",(0,i.jsx)(n.h3,{id:"path-resolution",children:"Path Resolution"}),"\n",(0,i.jsx)(n.p,{children:"Import paths are resolved relative to the importing file:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:'project/\n\u251c\u2500\u2500 common/\n\u2502   \u2514\u2500\u2500 types.fdl\n\u251c\u2500\u2500 models/\n\u2502   \u251c\u2500\u2500 user.fdl      # import "../common/types.fdl"\n\u2502   \u2514\u2500\u2500 order.fdl     # import "../common/types.fdl"\n\u2514\u2500\u2500 main.fdl          # import "common/types.fdl"\n'})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Rules:"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Import paths are quoted strings (double or single quotes)"}),"\n",(0,i.jsx)(n.li,{children:"Paths are resolved relative to the importing file's directory"}),"\n",(0,i.jsx)(n.li,{children:"Imported types become available as if defined in the current file"}),"\n",(0,i.jsx)(n.li,{children:"Circular imports are detected and reported as errors"}),"\n",(0,i.jsx)(n.li,{children:"Transitive imports work (if A imports B and B imports C, A has access to C's types)"}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"complete-example",children:"Complete Example"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"common/types.fdl:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-protobuf",children:"package common;\n\nenum Status [id=100] {\n    PENDING = 0;\n    ACTIVE = 1;\n    COMPLETED = 2;\n}\n\nmessage Address [id=101] {\n    string street = 1;\n    string city = 2;\n    string country = 3;\n}\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"models/user.fdl:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-protobuf",children:'package models;\nimport "../common/types.fdl";\n\nmessage User [id=200] {\n    string id = 1;\n    string name = 2;\n    Address home_address = 3;  // Uses imported type\n    Status status = 4;          // Uses imported enum\n}\n'})}),"\n",(0,i.jsx)(n.h3,{id:"unsupported-import-syntax",children:"Unsupported Import Syntax"}),"\n",(0,i.jsxs)(n.p,{children:["The following protobuf import modifiers are ",(0,i.jsx)(n.strong,{children:"not supported"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-protobuf",children:'// NOT SUPPORTED - will produce an error\nimport public "other.fdl";\nimport weak "other.fdl";\n'})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.code,{children:"import public"})}),": Fory IDL uses a simpler import model. All imported types are available to the importing file only. Re-exporting is not supported. Import each file directly where needed."]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.code,{children:"import weak"})}),": Fory IDL requires all imports to be present at compile time. Optional dependencies are not supported."]}),"\n",(0,i.jsx)(n.h3,{id:"import-errors",children:"Import Errors"}),"\n",(0,i.jsx)(n.p,{children:"The compiler reports errors for:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"File not found"}),": The imported file doesn't exist"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Circular import"}),": A imports B which imports A (directly or indirectly)"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Parse errors"}),": Syntax errors in imported files"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Unsupported syntax"}),": ",(0,i.jsx)(n.code,{children:"import public"})," or ",(0,i.jsx)(n.code,{children:"import weak"})]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"enum-definition",children:"Enum Definition"}),"\n",(0,i.jsx)(n.p,{children:"Enums define a set of named integer constants."}),"\n",(0,i.jsx)(n.h3,{id:"basic-syntax-1",children:"Basic Syntax"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-protobuf",children:"enum Status {\n    PENDING = 0;\n    ACTIVE = 1;\n    COMPLETED = 2;\n}\n"})}),"\n",(0,i.jsx)(n.h3,{id:"with-explicit-type-id",children:"With Explicit Type ID"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-protobuf",children:"enum Status [id=100] {\n    PENDING = 0;\n    ACTIVE = 1;\n    COMPLETED = 2;\n}\n"})}),"\n",(0,i.jsx)(n.h3,{id:"reserved-values",children:"Reserved Values"}),"\n",(0,i.jsx)(n.p,{children:"Reserve field numbers or names to prevent reuse:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-protobuf",children:'enum Status {\n    reserved 2, 15, 9 to 11, 40 to max;  // Reserved numbers\n    reserved "OLD_STATUS", "DEPRECATED"; // Reserved names\n    PENDING = 0;\n    ACTIVE = 1;\n    COMPLETED = 3;\n}\n'})}),"\n",(0,i.jsx)(n.h3,{id:"enum-type-options",children:"Enum Type Options"}),"\n",(0,i.jsxs)(n.p,{children:["Enum-level options are declared inline in ",(0,i.jsx)(n.code,{children:"[]"})," after the enum name:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-protobuf",children:"enum Status [deprecated=true] {\n    PENDING = 0;\n    ACTIVE = 1;\n}\n"})}),"\n",(0,i.jsxs)(n.p,{children:["FDL does not support ",(0,i.jsx)(n.code,{children:"option ...;"})," statements inside enum bodies."]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Unsupported:"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"allow_alias"})," is ",(0,i.jsx)(n.strong,{children:"not supported"}),". Each enum value must have a unique integer."]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"language-mapping",children:"Language Mapping"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Language"}),(0,i.jsx)(n.th,{children:"Implementation"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Java"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"enum Status { UNKNOWN, ACTIVE, ... }"})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Python"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"class Status(IntEnum): UNKNOWN = 0"})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Go"}),(0,i.jsxs)(n.td,{children:[(0,i.jsx)(n.code,{children:"type Status int32"})," with constants"]})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Rust"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"#[repr(i32)] enum Status { Unknown }"})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"C++"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"enum class Status : int32_t { ... }"})})]})]})]}),"\n",(0,i.jsx)(n.h3,{id:"enum-prefix-stripping",children:"Enum Prefix Stripping"}),"\n",(0,i.jsx)(n.p,{children:"When enum values use a protobuf-style prefix (enum name in UPPER_SNAKE_CASE), the compiler automatically strips the prefix for languages with scoped enums:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-protobuf",children:"// Input with prefix\nenum DeviceTier {\n    DEVICE_TIER_UNKNOWN = 0;\n    DEVICE_TIER_TIER1 = 1;\n    DEVICE_TIER_TIER2 = 2;\n}\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Generated code:"})}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Language"}),(0,i.jsx)(n.th,{children:"Output"}),(0,i.jsx)(n.th,{children:"Style"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Java"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"UNKNOWN, TIER1, TIER2"})}),(0,i.jsx)(n.td,{children:"Scoped enum"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Rust"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"Unknown, Tier1, Tier2"})}),(0,i.jsx)(n.td,{children:"Scoped enum"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"C++"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"UNKNOWN, TIER1, TIER2"})}),(0,i.jsx)(n.td,{children:"Scoped enum"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Python"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"UNKNOWN, TIER1, TIER2"})}),(0,i.jsx)(n.td,{children:"Scoped IntEnum"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Go"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"DeviceTierUnknown, DeviceTierTier1, ..."})}),(0,i.jsx)(n.td,{children:"Unscoped const"})]})]})]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Note:"})," The prefix is only stripped if the remainder is a valid identifier. For example, ",(0,i.jsx)(n.code,{children:"DEVICE_TIER_1"})," is kept unchanged because ",(0,i.jsx)(n.code,{children:"1"})," is not a valid identifier name."]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Grammar:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"enum_def     := 'enum' IDENTIFIER [type_options] '{' enum_body '}'\ntype_options := '[' type_option (',' type_option)* ']'\ntype_option  := IDENTIFIER '=' option_value\nenum_body    := (reserved_stmt | enum_value)*\nreserved_stmt := 'reserved' reserved_items ';'\nenum_value   := IDENTIFIER '=' INTEGER ';'\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Rules:"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Enum names must be unique within the file"}),"\n",(0,i.jsx)(n.li,{children:"Enum values must have explicit integer assignments"}),"\n",(0,i.jsx)(n.li,{children:"Value integers must be unique within the enum (no aliases)"}),"\n",(0,i.jsxs)(n.li,{children:["Type ID (",(0,i.jsx)(n.code,{children:"[id=100]"}),") is optional for enums but recommended for cross-language use"]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Example with All Features:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-protobuf",children:'// HTTP status code categories\nenum HttpCategory [id=200] {\n    reserved 10 to 20;           // Reserved for future use\n    reserved "UNKNOWN";          // Reserved name\n    INFORMATIONAL = 1;\n    SUCCESS = 2;\n    REDIRECTION = 3;\n    CLIENT_ERROR = 4;\n    SERVER_ERROR = 5;\n}\n'})}),"\n",(0,i.jsx)(n.h2,{id:"message-definition",children:"Message Definition"}),"\n",(0,i.jsx)(n.p,{children:"Messages define structured data types with typed fields."}),"\n",(0,i.jsx)(n.h3,{id:"basic-syntax-2",children:"Basic Syntax"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-protobuf",children:"message Person {\n    string name = 1;\n    int32 age = 2;\n}\n"})}),"\n",(0,i.jsx)(n.h3,{id:"with-explicit-type-id-1",children:"With Explicit Type ID"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-protobuf",children:"message Person [id=101] {\n    string name = 1;\n    int32 age = 2;\n}\n"})}),"\n",(0,i.jsx)(n.h3,{id:"without-explicit-type-id",children:"Without Explicit Type ID"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-protobuf",children:"message Person {  // Auto-generated when enable_auto_type_id = true\n    string name = 1;\n    int32 age = 2;\n}\n"})}),"\n",(0,i.jsx)(n.h3,{id:"language-mapping-1",children:"Language Mapping"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Language"}),(0,i.jsx)(n.th,{children:"Implementation"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Java"}),(0,i.jsx)(n.td,{children:"POJO class with getters/setters"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Python"}),(0,i.jsxs)(n.td,{children:[(0,i.jsx)(n.code,{children:"@dataclass"})," class"]})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Go"}),(0,i.jsx)(n.td,{children:"Struct with exported fields"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Rust"}),(0,i.jsxs)(n.td,{children:["Struct with ",(0,i.jsx)(n.code,{children:"#[derive(ForyObject)]"})]})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"C++"}),(0,i.jsxs)(n.td,{children:["Struct with ",(0,i.jsx)(n.code,{children:"FORY_STRUCT"})," macro"]})]})]})]}),"\n",(0,i.jsxs)(n.p,{children:["Type IDs control cross-language registration for messages, unions, and enums. See\n",(0,i.jsx)(n.a,{href:"#type-ids",children:"Type IDs"})," for auto-generation, aliases, and collision handling."]}),"\n",(0,i.jsx)(n.h3,{id:"reserved-fields",children:"Reserved Fields"}),"\n",(0,i.jsx)(n.p,{children:"Reserve field numbers or names to prevent reuse after removing fields:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-protobuf",children:'message User {\n    reserved 2, 15, 9 to 11;       // Reserved field numbers\n    reserved "old_field", "temp";  // Reserved field names\n    string id = 1;\n    string name = 3;\n}\n'})}),"\n",(0,i.jsx)(n.h3,{id:"message-type-options",children:"Message Type Options"}),"\n",(0,i.jsxs)(n.p,{children:["Message-level options are declared inline in ",(0,i.jsx)(n.code,{children:"[]"})," after the message name:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-protobuf",children:"message User [deprecated=true] {\n    string id = 1;\n    string name = 2;\n}\n"})}),"\n",(0,i.jsxs)(n.p,{children:["FDL does not support ",(0,i.jsx)(n.code,{children:"option ...;"})," statements inside message or enum bodies."]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Grammar:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"message_def  := 'message' IDENTIFIER [type_options] '{' message_body '}'\ntype_options := '[' type_option (',' type_option)* ']'\ntype_option  := IDENTIFIER '=' option_value\nmessage_body := (reserved_stmt | nested_type | field_def)*\nnested_type  := enum_def | message_def | union_def\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Rules:"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Type IDs follow the rules in ",(0,i.jsx)(n.a,{href:"#type-ids",children:"Type IDs"}),"."]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"nested-types",children:"Nested Types"}),"\n",(0,i.jsx)(n.p,{children:"Messages can contain nested message, enum, and union definitions. This is useful for defining types that are closely related to their parent message."}),"\n",(0,i.jsx)(n.h3,{id:"nested-messages",children:"Nested Messages"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-protobuf",children:"message SearchResponse {\n    message Result {\n        string url = 1;\n        string title = 2;\n        list<string> snippets = 3;\n    }\n    list<Result> results = 1;\n}\n"})}),"\n",(0,i.jsx)(n.h3,{id:"nested-enums",children:"Nested Enums"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-protobuf",children:"message Container {\n    enum Status {\n        STATUS_UNKNOWN = 0;\n        STATUS_ACTIVE = 1;\n        STATUS_INACTIVE = 2;\n    }\n    Status status = 1;\n}\n"})}),"\n",(0,i.jsx)(n.h3,{id:"qualified-type-names",children:"Qualified Type Names"}),"\n",(0,i.jsx)(n.p,{children:"Nested types can be referenced from other messages using qualified names (Parent.Child):"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-protobuf",children:"message SearchResponse {\n    message Result {\n        string url = 1;\n        string title = 2;\n    }\n}\n\nmessage SearchResultCache {\n    // Reference nested type with qualified name\n    SearchResponse.Result cached_result = 1;\n    list<SearchResponse.Result> all_results = 2;\n}\n"})}),"\n",(0,i.jsx)(n.h3,{id:"deeply-nested-types",children:"Deeply Nested Types"}),"\n",(0,i.jsx)(n.p,{children:"Nesting can be multiple levels deep:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-protobuf",children:"message Outer {\n    message Middle {\n        message Inner {\n            string value = 1;\n        }\n        Inner inner = 1;\n    }\n    Middle middle = 1;\n}\n\nmessage OtherMessage {\n    // Reference deeply nested type\n    Outer.Middle.Inner deep_ref = 1;\n}\n"})}),"\n",(0,i.jsx)(n.h3,{id:"language-specific-generation",children:"Language-Specific Generation"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Language"}),(0,i.jsx)(n.th,{children:"Nested Type Generation"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Java"}),(0,i.jsxs)(n.td,{children:["Static inner classes (",(0,i.jsx)(n.code,{children:"SearchResponse.Result"}),")"]})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Python"}),(0,i.jsx)(n.td,{children:"Nested classes within dataclass"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Go"}),(0,i.jsxs)(n.td,{children:["Flat structs with underscore (",(0,i.jsx)(n.code,{children:"SearchResponse_Result"}),", configurable to camelcase)"]})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Rust"}),(0,i.jsxs)(n.td,{children:["Nested modules (",(0,i.jsx)(n.code,{children:"search_response::Result"}),")"]})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"C++"}),(0,i.jsxs)(n.td,{children:["Nested classes (",(0,i.jsx)(n.code,{children:"SearchResponse::Result"}),")"]})]})]})]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Note:"})," Go defaults to underscore-separated nested names; set ",(0,i.jsx)(n.code,{children:'option go_nested_type_style = "camelcase";'})," to use concatenated names. Rust emits nested modules for nested types."]}),"\n",(0,i.jsx)(n.h3,{id:"nested-type-rules",children:"Nested Type Rules"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Nested type names must be unique within their parent message"}),"\n",(0,i.jsx)(n.li,{children:"Nested types can have their own type IDs"}),"\n",(0,i.jsxs)(n.li,{children:["Numeric type IDs must be globally unique (including nested types); see ",(0,i.jsx)(n.a,{href:"#type-ids",children:"Type IDs"}),"\nfor auto-generation and collision handling"]}),"\n",(0,i.jsx)(n.li,{children:"Within a message, you can reference nested types by simple name"}),"\n",(0,i.jsx)(n.li,{children:"From outside, use the qualified name (Parent.Child)"}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"union-definition",children:"Union Definition"}),"\n",(0,i.jsx)(n.p,{children:"Unions define a value that can hold exactly one of several case types."}),"\n",(0,i.jsx)(n.h3,{id:"basic-syntax-3",children:"Basic Syntax"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-protobuf",children:"union Animal [id=106] {\n    Dog dog = 1;\n    Cat cat = 2;\n}\n"})}),"\n",(0,i.jsx)(n.h3,{id:"using-a-union-in-a-message",children:"Using a Union in a Message"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-protobuf",children:"message Person [id=100] {\n    Animal pet = 1;\n    optional Animal favorite_pet = 2;\n}\n"})}),"\n",(0,i.jsx)(n.h3,{id:"rules",children:"Rules"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Case IDs must be unique within the union"}),"\n",(0,i.jsxs)(n.li,{children:["Cases cannot be ",(0,i.jsx)(n.code,{children:"optional"})," or ",(0,i.jsx)(n.code,{children:"ref"})]}),"\n",(0,i.jsx)(n.li,{children:"Union cases do not support field options"}),"\n",(0,i.jsx)(n.li,{children:"Case types can be primitives, enums, messages, or other named types"}),"\n",(0,i.jsxs)(n.li,{children:["Union type IDs follow the rules in ",(0,i.jsx)(n.a,{href:"#type-ids",children:"Type IDs"}),"."]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Grammar:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"union_def  := 'union' IDENTIFIER [type_options] '{' union_field* '}'\nunion_field := field_type IDENTIFIER '=' INTEGER ';'\n"})}),"\n",(0,i.jsx)(n.h2,{id:"field-definition",children:"Field Definition"}),"\n",(0,i.jsx)(n.p,{children:"Fields define the properties of a message."}),"\n",(0,i.jsx)(n.h3,{id:"basic-syntax-4",children:"Basic Syntax"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-protobuf",children:"field_type field_name = field_number;\n"})}),"\n",(0,i.jsx)(n.h3,{id:"with-modifiers",children:"With Modifiers"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-protobuf",children:"optional list<string> tags = 1;  // Nullable list\nlist<optional string> tags = 2;  // Elements may be null\nref list<Node> nodes = 3;        // Collection tracked as a reference\nlist<ref Node> nodes = 4;        // Elements tracked as references\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Grammar:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"field_def    := [modifiers] field_type IDENTIFIER '=' INTEGER ';'\nmodifiers    := { 'optional' | 'ref' }\nfield_type   := primitive_type | named_type | list_type | map_type\nlist_type    := 'list' '<' { 'optional' | 'ref' } field_type '>'\n"})}),"\n",(0,i.jsxs)(n.p,{children:["Modifiers apply to the field/collection. Use ",(0,i.jsx)(n.code,{children:"list<...>"})," to describe element\nmodifiers. ",(0,i.jsx)(n.code,{children:"repeated"})," is accepted as an alias for ",(0,i.jsx)(n.code,{children:"list"}),"."]}),"\n",(0,i.jsx)(n.h3,{id:"field-modifiers",children:"Field Modifiers"}),"\n",(0,i.jsx)(n.h4,{id:"optional",children:(0,i.jsx)(n.code,{children:"optional"})}),"\n",(0,i.jsx)(n.p,{children:"Marks the field as nullable:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-protobuf",children:"message User {\n    string name = 1;           // Required, non-null\n    optional string email = 2; // Nullable\n}\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Generated Code:"})}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Language"}),(0,i.jsx)(n.th,{children:"Non-optional"}),(0,i.jsx)(n.th,{children:"Optional"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Java"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"String name"})}),(0,i.jsxs)(n.td,{children:[(0,i.jsx)(n.code,{children:"String email"})," with ",(0,i.jsx)(n.code,{children:"@ForyField(nullable=true)"})]})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Python"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"name: str"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"name: Optional[str]"})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Go"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"Name string"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"Name *string"})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Rust"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"name: String"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"name: Option<String>"})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"C++"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"std::string name"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"std::optional<std::string> name"})})]})]})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Default Values:"})}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Type"}),(0,i.jsx)(n.th,{children:"Default Value"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Non-optional types"}),(0,i.jsx)(n.td,{children:"Language default"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Optional types"}),(0,i.jsxs)(n.td,{children:[(0,i.jsx)(n.code,{children:"null"}),"/",(0,i.jsx)(n.code,{children:"None"}),"/",(0,i.jsx)(n.code,{children:"nil"})]})]})]})]}),"\n",(0,i.jsx)(n.h4,{id:"ref",children:(0,i.jsx)(n.code,{children:"ref"})}),"\n",(0,i.jsx)(n.p,{children:"Enables reference tracking for shared/circular references:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-protobuf",children:"message Node {\n    string value = 1;\n    ref Node parent = 2;     // Can point to shared object\n    list<ref Node> children = 3;\n}\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Use Cases:"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Shared objects (same object referenced multiple times)"}),"\n",(0,i.jsx)(n.li,{children:"Circular references (object graphs with cycles)"}),"\n",(0,i.jsx)(n.li,{children:"Tree structures with parent pointers"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Generated Code:"})}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Language"}),(0,i.jsxs)(n.th,{children:["Without ",(0,i.jsx)(n.code,{children:"ref"})]}),(0,i.jsxs)(n.th,{children:["With ",(0,i.jsx)(n.code,{children:"ref"})]})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Java"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"Node parent"})}),(0,i.jsxs)(n.td,{children:[(0,i.jsx)(n.code,{children:"Node parent"})," with ",(0,i.jsx)(n.code,{children:"@ForyField(ref=true)"})]})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Python"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"parent: Node"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"parent: Node = pyfory.field(ref=True)"})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Go"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"Parent Node"})}),(0,i.jsxs)(n.td,{children:[(0,i.jsx)(n.code,{children:"Parent *Node"})," with ",(0,i.jsx)(n.code,{children:'fory:"ref"'})]})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Rust"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"parent: Node"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"parent: Arc<Node>"})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"C++"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"Node parent"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"std::shared_ptr<Node> parent"})})]})]})]}),"\n",(0,i.jsxs)(n.p,{children:["Rust uses ",(0,i.jsx)(n.code,{children:"Arc"})," by default; use ",(0,i.jsx)(n.code,{children:"ref(thread_safe=false)"})," or ",(0,i.jsx)(n.code,{children:"ref(weak=true)"}),"\nto customize pointer types. For protobuf option syntax, see\n",(0,i.jsx)(n.a,{href:"/docs/compiler/protobuf_idl_support#field-level-options",children:"Protocol Buffers IDL Support"}),"."]}),"\n",(0,i.jsx)(n.h4,{id:"list",children:(0,i.jsx)(n.code,{children:"list"})}),"\n",(0,i.jsx)(n.p,{children:"Marks the field as a list/array:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-protobuf",children:"message Document {\n    list<string> tags = 1;\n    list<User> authors = 2;\n}\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Generated Code:"})}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Language"}),(0,i.jsx)(n.th,{children:"Type"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Java"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"List<String>"})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Python"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"List[str]"})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Go"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"[]string"})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Rust"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"Vec<String>"})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"C++"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"std::vector<std::string>"})})]})]})]}),"\n",(0,i.jsx)(n.h3,{id:"combining-modifiers",children:"Combining Modifiers"}),"\n",(0,i.jsx)(n.p,{children:"Modifiers can be combined:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-fdl",children:"message Example {\n    optional list<string> tags = 1;  // Nullable list\n    list<optional string> aliases = 2; // Elements may be null\n    ref list<Node> nodes = 3;          // Collection tracked as a reference\n    list<ref Node> children = 4;       // Elements tracked as references\n    optional ref User owner = 5;          // Nullable tracked reference\n}\n"})}),"\n",(0,i.jsxs)(n.p,{children:["Modifiers before ",(0,i.jsx)(n.code,{children:"list"})," apply to the field/collection. Modifiers after ",(0,i.jsx)(n.code,{children:"list"}),"\napply to elements. ",(0,i.jsx)(n.code,{children:"repeated"})," is accepted as an alias for ",(0,i.jsx)(n.code,{children:"list"}),"."]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"List modifier mapping:"})}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Fory IDL"}),(0,i.jsx)(n.th,{children:"Java"}),(0,i.jsx)(n.th,{children:"Python"}),(0,i.jsx)(n.th,{children:"Go"}),(0,i.jsx)(n.th,{children:"Rust"}),(0,i.jsx)(n.th,{children:"C++"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"optional list<string>"})}),(0,i.jsxs)(n.td,{children:[(0,i.jsx)(n.code,{children:"List<String>"})," + ",(0,i.jsx)(n.code,{children:"@ForyField(nullable = true)"})]}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"Optional[List[str]]"})}),(0,i.jsxs)(n.td,{children:[(0,i.jsx)(n.code,{children:"[]string"})," + ",(0,i.jsx)(n.code,{children:"nullable"})]}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"Option<Vec<String>>"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"std::optional<std::vector<std::string>>"})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"list<optional string>"})}),(0,i.jsxs)(n.td,{children:[(0,i.jsx)(n.code,{children:"List<String>"})," (nullable elements)"]}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"List[Optional[str]]"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"[]*string"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"Vec<Option<String>>"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"std::vector<std::optional<std::string>>"})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"ref list<User>"})}),(0,i.jsxs)(n.td,{children:[(0,i.jsx)(n.code,{children:"List<User>"})," + ",(0,i.jsx)(n.code,{children:"@ForyField(ref = true)"})]}),(0,i.jsxs)(n.td,{children:[(0,i.jsx)(n.code,{children:"List[User]"})," + ",(0,i.jsx)(n.code,{children:"pyfory.field(ref=True)"})]}),(0,i.jsxs)(n.td,{children:[(0,i.jsx)(n.code,{children:"[]User"})," + ",(0,i.jsx)(n.code,{children:"ref"})]}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"Arc<Vec<User>>"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"std::shared_ptr<std::vector<User>>"})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"list<ref User>"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"List<User>"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"List[User]"})}),(0,i.jsxs)(n.td,{children:[(0,i.jsx)(n.code,{children:"[]*User"})," + ",(0,i.jsx)(n.code,{children:"ref=false"})]}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"Vec<Arc<User>>"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"std::vector<std::shared_ptr<User>>"})})]})]})]}),"\n",(0,i.jsxs)(n.p,{children:["Use ",(0,i.jsx)(n.code,{children:"ref(thread_safe=false)"})," in Fory IDL (or ",(0,i.jsx)(n.code,{children:"[(fory).thread_safe_pointer = false]"})," in protobuf)\nto generate ",(0,i.jsx)(n.code,{children:"Rc"})," instead of ",(0,i.jsx)(n.code,{children:"Arc"})," in Rust."]}),"\n",(0,i.jsx)(n.h2,{id:"field-numbers",children:"Field Numbers"}),"\n",(0,i.jsx)(n.p,{children:"Each field must have a unique positive integer identifier:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-protobuf",children:"message Example {\n    string first = 1;\n    string second = 2;\n    string third = 3;\n}\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Rules and best practices:"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Numbers must be unique within a message."}),"\n",(0,i.jsx)(n.li,{children:"Numbers must be positive integers."}),"\n",(0,i.jsx)(n.li,{children:"Gaps are allowed and are useful when fields are removed."}),"\n",(0,i.jsxs)(n.li,{children:["Prefer sequential numbering from ",(0,i.jsx)(n.code,{children:"1"}),"."]}),"\n",(0,i.jsx)(n.li,{children:"Never reuse a removed field number for a different field."}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"type-system",children:"Type System"}),"\n",(0,i.jsxs)(n.p,{children:["Fory IDL provides a cross-language type system for primitives, named types, and\ncollections. Field modifiers (",(0,i.jsx)(n.code,{children:"optional"}),", ",(0,i.jsx)(n.code,{children:"list"}),", ",(0,i.jsx)(n.code,{children:"ref"}),") control nullability,\ncollection behavior, and reference tracking (see\n",(0,i.jsx)(n.a,{href:"#field-modifiers",children:"Field Modifiers"}),")."]}),"\n",(0,i.jsx)(n.h3,{id:"primitive-types",children:"Primitive Types"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Type"}),(0,i.jsx)(n.th,{children:"Description"}),(0,i.jsx)(n.th,{children:"Size"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"bool"})}),(0,i.jsx)(n.td,{children:"Boolean value"}),(0,i.jsx)(n.td,{children:"1 byte"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"int8"})}),(0,i.jsx)(n.td,{children:"Signed 8-bit integer"}),(0,i.jsx)(n.td,{children:"1 byte"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"int16"})}),(0,i.jsx)(n.td,{children:"Signed 16-bit integer"}),(0,i.jsx)(n.td,{children:"2 bytes"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"int32"})}),(0,i.jsx)(n.td,{children:"Signed 32-bit integer (varint encoding)"}),(0,i.jsx)(n.td,{children:"4 bytes"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"int64"})}),(0,i.jsx)(n.td,{children:"Signed 64-bit integer (varint encoding)"}),(0,i.jsx)(n.td,{children:"8 bytes"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"uint8"})}),(0,i.jsx)(n.td,{children:"Unsigned 8-bit integer"}),(0,i.jsx)(n.td,{children:"1 byte"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"uint16"})}),(0,i.jsx)(n.td,{children:"Unsigned 16-bit integer"}),(0,i.jsx)(n.td,{children:"2 bytes"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"uint32"})}),(0,i.jsx)(n.td,{children:"Unsigned 32-bit integer (varint encoding)"}),(0,i.jsx)(n.td,{children:"4 bytes"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"uint64"})}),(0,i.jsx)(n.td,{children:"Unsigned 64-bit integer (varint encoding)"}),(0,i.jsx)(n.td,{children:"8 bytes"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"fixed_int32"})}),(0,i.jsx)(n.td,{children:"Signed 32-bit integer (fixed encoding)"}),(0,i.jsx)(n.td,{children:"4 bytes"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"fixed_int64"})}),(0,i.jsx)(n.td,{children:"Signed 64-bit integer (fixed encoding)"}),(0,i.jsx)(n.td,{children:"8 bytes"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"fixed_uint32"})}),(0,i.jsx)(n.td,{children:"Unsigned 32-bit integer (fixed encoding)"}),(0,i.jsx)(n.td,{children:"4 bytes"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"fixed_uint64"})}),(0,i.jsx)(n.td,{children:"Unsigned 64-bit integer (fixed encoding)"}),(0,i.jsx)(n.td,{children:"8 bytes"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"tagged_int64"})}),(0,i.jsx)(n.td,{children:"Signed 64-bit integer (tagged encoding)"}),(0,i.jsx)(n.td,{children:"8 bytes"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"tagged_uint64"})}),(0,i.jsx)(n.td,{children:"Unsigned 64-bit integer (tagged encoding)"}),(0,i.jsx)(n.td,{children:"8 bytes"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"float32"})}),(0,i.jsx)(n.td,{children:"32-bit floating point"}),(0,i.jsx)(n.td,{children:"4 bytes"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"float64"})}),(0,i.jsx)(n.td,{children:"64-bit floating point"}),(0,i.jsx)(n.td,{children:"8 bytes"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"string"})}),(0,i.jsx)(n.td,{children:"UTF-8 string"}),(0,i.jsx)(n.td,{children:"Variable"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"bytes"})}),(0,i.jsx)(n.td,{children:"Binary data"}),(0,i.jsx)(n.td,{children:"Variable"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"date"})}),(0,i.jsx)(n.td,{children:"Calendar date"}),(0,i.jsx)(n.td,{children:"Variable"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"timestamp"})}),(0,i.jsx)(n.td,{children:"Date and time with timezone"}),(0,i.jsx)(n.td,{children:"Variable"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"duration"})}),(0,i.jsx)(n.td,{children:"Duration"}),(0,i.jsx)(n.td,{children:"Variable"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"decimal"})}),(0,i.jsx)(n.td,{children:"Decimal value"}),(0,i.jsx)(n.td,{children:"Variable"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"any"})}),(0,i.jsx)(n.td,{children:"Dynamic value (runtime type)"}),(0,i.jsx)(n.td,{children:"Variable"})]})]})]}),"\n",(0,i.jsx)(n.h4,{id:"boolean",children:"Boolean"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Language"}),(0,i.jsx)(n.th,{children:"Type"}),(0,i.jsx)(n.th,{children:"Notes"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Java"}),(0,i.jsxs)(n.td,{children:[(0,i.jsx)(n.code,{children:"boolean"})," / ",(0,i.jsx)(n.code,{children:"Boolean"})]}),(0,i.jsx)(n.td,{children:"Primitive or boxed"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Python"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"bool"})}),(0,i.jsx)(n.td,{})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Go"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"bool"})}),(0,i.jsx)(n.td,{})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Rust"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"bool"})}),(0,i.jsx)(n.td,{})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"C++"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"bool"})}),(0,i.jsx)(n.td,{})]})]})]}),"\n",(0,i.jsx)(n.h4,{id:"integer-types",children:"Integer Types"}),"\n",(0,i.jsx)(n.p,{children:"Fory IDL provides fixed-width signed integers (varint encoding for 32/64-bit by default):"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Fory IDL Type"}),(0,i.jsx)(n.th,{children:"Size"}),(0,i.jsx)(n.th,{children:"Range"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"int8"})}),(0,i.jsx)(n.td,{children:"8-bit"}),(0,i.jsx)(n.td,{children:"-128 to 127"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"int16"})}),(0,i.jsx)(n.td,{children:"16-bit"}),(0,i.jsx)(n.td,{children:"-32,768 to 32,767"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"int32"})}),(0,i.jsx)(n.td,{children:"32-bit"}),(0,i.jsx)(n.td,{children:"-2^31 to 2^31 - 1"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"int64"})}),(0,i.jsx)(n.td,{children:"64-bit"}),(0,i.jsx)(n.td,{children:"-2^63 to 2^63 - 1"})]})]})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Language Mapping (Signed):"})}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Fory IDL"}),(0,i.jsx)(n.th,{children:"Java"}),(0,i.jsx)(n.th,{children:"Python"}),(0,i.jsx)(n.th,{children:"Go"}),(0,i.jsx)(n.th,{children:"Rust"}),(0,i.jsx)(n.th,{children:"C++"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"int8"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"byte"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"pyfory.int8"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"int8"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"i8"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"int8_t"})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"int16"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"short"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"pyfory.int16"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"int16"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"i16"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"int16_t"})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"int32"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"int"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"pyfory.int32"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"int32"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"i32"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"int32_t"})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"int64"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"long"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"pyfory.int64"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"int64"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"i64"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"int64_t"})})]})]})]}),"\n",(0,i.jsx)(n.p,{children:"Fory IDL provides fixed-width unsigned integers (varint encoding for 32/64-bit by default):"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Fory IDL"}),(0,i.jsx)(n.th,{children:"Size"}),(0,i.jsx)(n.th,{children:"Range"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"uint8"})}),(0,i.jsx)(n.td,{children:"8-bit"}),(0,i.jsx)(n.td,{children:"0 to 255"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"uint16"})}),(0,i.jsx)(n.td,{children:"16-bit"}),(0,i.jsx)(n.td,{children:"0 to 65,535"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"uint32"})}),(0,i.jsx)(n.td,{children:"32-bit"}),(0,i.jsx)(n.td,{children:"0 to 2^32 - 1"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"uint64"})}),(0,i.jsx)(n.td,{children:"64-bit"}),(0,i.jsx)(n.td,{children:"0 to 2^64 - 1"})]})]})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Language Mapping (Unsigned):"})}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Fory IDL"}),(0,i.jsx)(n.th,{children:"Java"}),(0,i.jsx)(n.th,{children:"Python"}),(0,i.jsx)(n.th,{children:"Go"}),(0,i.jsx)(n.th,{children:"Rust"}),(0,i.jsx)(n.th,{children:"C++"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"uint8"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"short"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"pyfory.uint8"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"uint8"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"u8"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"uint8_t"})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"uint16"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"int"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"pyfory.uint16"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"uint16"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"u16"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"uint16_t"})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"uint32"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"long"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"pyfory.uint32"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"uint32"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"u32"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"uint32_t"})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"uint64"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"long"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"pyfory.uint64"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"uint64"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"u64"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"uint64_t"})})]})]})]}),"\n",(0,i.jsx)(n.h4,{id:"integer-encoding-variants",children:"Integer Encoding Variants"}),"\n",(0,i.jsx)(n.p,{children:"For 32/64-bit integers, Fory IDL uses varint encoding by default. Use explicit types when\nyou need fixed-width or tagged encoding:"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Fory IDL Type"}),(0,i.jsx)(n.th,{children:"Encoding"}),(0,i.jsx)(n.th,{children:"Notes"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"fixed_int32"})}),(0,i.jsx)(n.td,{children:"fixed"}),(0,i.jsx)(n.td,{children:"Signed 32-bit"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"fixed_int64"})}),(0,i.jsx)(n.td,{children:"fixed"}),(0,i.jsx)(n.td,{children:"Signed 64-bit"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"fixed_uint32"})}),(0,i.jsx)(n.td,{children:"fixed"}),(0,i.jsx)(n.td,{children:"Unsigned 32-bit"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"fixed_uint64"})}),(0,i.jsx)(n.td,{children:"fixed"}),(0,i.jsx)(n.td,{children:"Unsigned 64-bit"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"tagged_int64"})}),(0,i.jsx)(n.td,{children:"tagged"}),(0,i.jsx)(n.td,{children:"Signed 64-bit (hybrid)"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"tagged_uint64"})}),(0,i.jsx)(n.td,{children:"tagged"}),(0,i.jsx)(n.td,{children:"Unsigned 64-bit (hybrid)"})]})]})]}),"\n",(0,i.jsx)(n.h4,{id:"floating-point-types",children:"Floating-Point Types"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Fory IDL Type"}),(0,i.jsx)(n.th,{children:"Size"}),(0,i.jsx)(n.th,{children:"Precision"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"float32"})}),(0,i.jsx)(n.td,{children:"32-bit"}),(0,i.jsx)(n.td,{children:"~7 digits"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"float64"})}),(0,i.jsx)(n.td,{children:"64-bit"}),(0,i.jsx)(n.td,{children:"~15-16 digits"})]})]})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Language Mapping:"})}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Fory IDL"}),(0,i.jsx)(n.th,{children:"Java"}),(0,i.jsx)(n.th,{children:"Python"}),(0,i.jsx)(n.th,{children:"Go"}),(0,i.jsx)(n.th,{children:"Rust"}),(0,i.jsx)(n.th,{children:"C++"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"float32"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"float"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"pyfory.float32"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"float32"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"f32"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"float"})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"float64"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"double"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"pyfory.float64"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"float64"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"f64"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"double"})})]})]})]}),"\n",(0,i.jsx)(n.h4,{id:"string-type",children:"String Type"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Language"}),(0,i.jsx)(n.th,{children:"Type"}),(0,i.jsx)(n.th,{children:"Notes"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Java"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"String"})}),(0,i.jsx)(n.td,{children:"Immutable"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Python"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"str"})}),(0,i.jsx)(n.td,{})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Go"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"string"})}),(0,i.jsx)(n.td,{children:"Immutable"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Rust"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"String"})}),(0,i.jsx)(n.td,{children:"Owned, heap-allocated"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"C++"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"std::string"})}),(0,i.jsx)(n.td,{})]})]})]}),"\n",(0,i.jsx)(n.h4,{id:"bytes-type",children:"Bytes Type"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Language"}),(0,i.jsx)(n.th,{children:"Type"}),(0,i.jsx)(n.th,{children:"Notes"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Java"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"byte[]"})}),(0,i.jsx)(n.td,{})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Python"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"bytes"})}),(0,i.jsx)(n.td,{children:"Immutable"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Go"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"[]byte"})}),(0,i.jsx)(n.td,{})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Rust"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"Vec<u8>"})}),(0,i.jsx)(n.td,{})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"C++"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"std::vector<uint8_t>"})}),(0,i.jsx)(n.td,{})]})]})]}),"\n",(0,i.jsx)(n.h4,{id:"temporal-types",children:"Temporal Types"}),"\n",(0,i.jsx)(n.h5,{id:"date",children:"Date"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Language"}),(0,i.jsx)(n.th,{children:"Type"}),(0,i.jsx)(n.th,{children:"Notes"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Java"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"java.time.LocalDate"})}),(0,i.jsx)(n.td,{})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Python"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"datetime.date"})}),(0,i.jsx)(n.td,{})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Go"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"time.Time"})}),(0,i.jsx)(n.td,{children:"Time portion ignored"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Rust"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"chrono::NaiveDate"})}),(0,i.jsxs)(n.td,{children:["Requires ",(0,i.jsx)(n.code,{children:"chrono"})," crate"]})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"C++"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"fory::serialization::Date"})}),(0,i.jsx)(n.td,{})]})]})]}),"\n",(0,i.jsx)(n.h5,{id:"timestamp",children:"Timestamp"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Language"}),(0,i.jsx)(n.th,{children:"Type"}),(0,i.jsx)(n.th,{children:"Notes"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Java"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"java.time.Instant"})}),(0,i.jsx)(n.td,{children:"UTC-based"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Python"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"datetime.datetime"})}),(0,i.jsx)(n.td,{})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Go"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"time.Time"})}),(0,i.jsx)(n.td,{})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Rust"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"chrono::NaiveDateTime"})}),(0,i.jsxs)(n.td,{children:["Requires ",(0,i.jsx)(n.code,{children:"chrono"})," crate"]})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"C++"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"fory::serialization::Timestamp"})}),(0,i.jsx)(n.td,{})]})]})]}),"\n",(0,i.jsx)(n.h4,{id:"any",children:"Any"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Language"}),(0,i.jsx)(n.th,{children:"Type"}),(0,i.jsx)(n.th,{children:"Notes"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Java"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"Object"})}),(0,i.jsx)(n.td,{children:"Runtime type written"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Python"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"Any"})}),(0,i.jsx)(n.td,{children:"Runtime type written"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Go"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"any"})}),(0,i.jsx)(n.td,{children:"Runtime type written"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Rust"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"Box<dyn Any>"})}),(0,i.jsx)(n.td,{children:"Runtime type written"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"C++"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"std::any"})}),(0,i.jsx)(n.td,{children:"Runtime type written"})]})]})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Example:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-protobuf",children:"enum EventType [id=120] {\n    CREATED = 0;\n    DELETED = 1;\n}\n\nmessage UserCreated [id=121] {\n    string user_id = 1;\n}\n\nmessage Envelope [id=122] {\n    EventType type = 1;\n    any payload = 2;\n}\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsxs)(n.strong,{children:["Generated Code (",(0,i.jsx)(n.code,{children:"Envelope.payload"}),"):"]})}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Language"}),(0,i.jsx)(n.th,{children:"Generated Field Type"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Java"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"Object payload"})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Python"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"payload: Any"})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Go"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"Payload any"})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Rust"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"payload: Box<dyn Any>"})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"C++"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"std::any payload"})})]})]})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Notes:"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"any"})," always writes a null flag (same as ",(0,i.jsx)(n.code,{children:"nullable"}),") because values may be empty."]}),"\n",(0,i.jsxs)(n.li,{children:["Allowed runtime values are limited to ",(0,i.jsx)(n.code,{children:"bool"}),", ",(0,i.jsx)(n.code,{children:"string"}),", ",(0,i.jsx)(n.code,{children:"enum"}),", ",(0,i.jsx)(n.code,{children:"message"}),", and ",(0,i.jsx)(n.code,{children:"union"}),".\nOther primitives (numeric, bytes, date/time) and list/map are not supported; wrap them in a\nmessage or use explicit fields instead."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"ref"})," is not allowed on ",(0,i.jsx)(n.code,{children:"any"})," fields (including list/map values). Wrap ",(0,i.jsx)(n.code,{children:"any"})," in a message\nif you need reference tracking."]}),"\n",(0,i.jsx)(n.li,{children:"The runtime type must be registered in the target language schema/IDL registration; unknown\ntypes fail to deserialize."}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"named-types",children:"Named Types"}),"\n",(0,i.jsx)(n.p,{children:"Reference other messages, enums, or unions by name:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-protobuf",children:"enum Status { ... }\nmessage User { ... }\n\nmessage Order {\n    User customer = 1;    // Reference to User message\n    Status status = 2;    // Reference to Status enum\n}\n"})}),"\n",(0,i.jsx)(n.h3,{id:"collection-types",children:"Collection Types"}),"\n",(0,i.jsxs)(n.h4,{id:"list-list",children:["List (",(0,i.jsx)(n.code,{children:"list"}),")"]}),"\n",(0,i.jsxs)(n.p,{children:["Use the ",(0,i.jsx)(n.code,{children:"list<...>"})," type for list fields. ",(0,i.jsx)(n.code,{children:"repeated"})," is accepted as an alias. See ",(0,i.jsx)(n.a,{href:"#field-modifiers",children:"Field Modifiers"})," for\nmodifier combinations and language mapping."]}),"\n",(0,i.jsxs)(n.p,{children:["Nested collection types are not supported. Use a message wrapper if you need\n",(0,i.jsx)(n.code,{children:"list<list<...>>"}),", ",(0,i.jsx)(n.code,{children:"list<map<...>>"}),", or ",(0,i.jsx)(n.code,{children:"map<..., list<...>>"}),"."]}),"\n",(0,i.jsx)(n.h4,{id:"map",children:"Map"}),"\n",(0,i.jsx)(n.p,{children:"Maps with typed keys and values:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-protobuf",children:"message Config {\n    map<string, string> properties = 1;\n    map<string, int32> counts = 2;\n    map<int32, User> users = 3;\n}\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Language Mapping:"})}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Fory IDL"}),(0,i.jsx)(n.th,{children:"Java"}),(0,i.jsx)(n.th,{children:"Python"}),(0,i.jsx)(n.th,{children:"Go"}),(0,i.jsx)(n.th,{children:"Rust"}),(0,i.jsx)(n.th,{children:"C++"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"map<string, int32>"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"Map<String, Integer>"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"Dict[str, int]"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"map[string]int32"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"HashMap<String, i32>"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"std::map<std::string, int32_t>"})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"map<string, User>"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"Map<String, User>"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"Dict[str, User]"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"map[string]User"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"HashMap<String, User>"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"std::map<std::string, User>"})})]})]})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Key Type Restrictions:"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"string"})," (most common)"]}),"\n",(0,i.jsxs)(n.li,{children:["Integer types (",(0,i.jsx)(n.code,{children:"int8"}),", ",(0,i.jsx)(n.code,{children:"int16"}),", ",(0,i.jsx)(n.code,{children:"int32"}),", ",(0,i.jsx)(n.code,{children:"int64"}),")"]}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"bool"})}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Avoid using messages or complex types as keys."}),"\n",(0,i.jsx)(n.h3,{id:"type-compatibility-matrix",children:"Type Compatibility Matrix"}),"\n",(0,i.jsx)(n.p,{children:"This matrix shows which type conversions are safe across languages:"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"From -> To"}),(0,i.jsx)(n.th,{children:"bool"}),(0,i.jsx)(n.th,{children:"int8"}),(0,i.jsx)(n.th,{children:"int16"}),(0,i.jsx)(n.th,{children:"int32"}),(0,i.jsx)(n.th,{children:"int64"}),(0,i.jsx)(n.th,{children:"float32"}),(0,i.jsx)(n.th,{children:"float64"}),(0,i.jsx)(n.th,{children:"string"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"bool"}),(0,i.jsx)(n.td,{children:"Y"}),(0,i.jsx)(n.td,{children:"Y"}),(0,i.jsx)(n.td,{children:"Y"}),(0,i.jsx)(n.td,{children:"Y"}),(0,i.jsx)(n.td,{children:"Y"}),(0,i.jsx)(n.td,{children:"-"}),(0,i.jsx)(n.td,{children:"-"}),(0,i.jsx)(n.td,{children:"-"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"int8"}),(0,i.jsx)(n.td,{children:"-"}),(0,i.jsx)(n.td,{children:"Y"}),(0,i.jsx)(n.td,{children:"Y"}),(0,i.jsx)(n.td,{children:"Y"}),(0,i.jsx)(n.td,{children:"Y"}),(0,i.jsx)(n.td,{children:"Y"}),(0,i.jsx)(n.td,{children:"Y"}),(0,i.jsx)(n.td,{children:"-"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"int16"}),(0,i.jsx)(n.td,{children:"-"}),(0,i.jsx)(n.td,{children:"-"}),(0,i.jsx)(n.td,{children:"Y"}),(0,i.jsx)(n.td,{children:"Y"}),(0,i.jsx)(n.td,{children:"Y"}),(0,i.jsx)(n.td,{children:"Y"}),(0,i.jsx)(n.td,{children:"Y"}),(0,i.jsx)(n.td,{children:"-"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"int32"}),(0,i.jsx)(n.td,{children:"-"}),(0,i.jsx)(n.td,{children:"-"}),(0,i.jsx)(n.td,{children:"-"}),(0,i.jsx)(n.td,{children:"Y"}),(0,i.jsx)(n.td,{children:"Y"}),(0,i.jsx)(n.td,{children:"-"}),(0,i.jsx)(n.td,{children:"Y"}),(0,i.jsx)(n.td,{children:"-"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"int64"}),(0,i.jsx)(n.td,{children:"-"}),(0,i.jsx)(n.td,{children:"-"}),(0,i.jsx)(n.td,{children:"-"}),(0,i.jsx)(n.td,{children:"-"}),(0,i.jsx)(n.td,{children:"Y"}),(0,i.jsx)(n.td,{children:"-"}),(0,i.jsx)(n.td,{children:"-"}),(0,i.jsx)(n.td,{children:"-"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"float32"}),(0,i.jsx)(n.td,{children:"-"}),(0,i.jsx)(n.td,{children:"-"}),(0,i.jsx)(n.td,{children:"-"}),(0,i.jsx)(n.td,{children:"-"}),(0,i.jsx)(n.td,{children:"-"}),(0,i.jsx)(n.td,{children:"Y"}),(0,i.jsx)(n.td,{children:"Y"}),(0,i.jsx)(n.td,{children:"-"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"float64"}),(0,i.jsx)(n.td,{children:"-"}),(0,i.jsx)(n.td,{children:"-"}),(0,i.jsx)(n.td,{children:"-"}),(0,i.jsx)(n.td,{children:"-"}),(0,i.jsx)(n.td,{children:"-"}),(0,i.jsx)(n.td,{children:"-"}),(0,i.jsx)(n.td,{children:"Y"}),(0,i.jsx)(n.td,{children:"-"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"string"}),(0,i.jsx)(n.td,{children:"-"}),(0,i.jsx)(n.td,{children:"-"}),(0,i.jsx)(n.td,{children:"-"}),(0,i.jsx)(n.td,{children:"-"}),(0,i.jsx)(n.td,{children:"-"}),(0,i.jsx)(n.td,{children:"-"}),(0,i.jsx)(n.td,{children:"-"}),(0,i.jsx)(n.td,{children:"Y"})]})]})]}),"\n",(0,i.jsx)(n.p,{children:"Y = Safe conversion, - = Not recommended"}),"\n",(0,i.jsx)(n.h3,{id:"best-practices",children:"Best Practices"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Use ",(0,i.jsx)(n.code,{children:"int32"})," as the default for most integers; use ",(0,i.jsx)(n.code,{children:"int64"})," for large values."]}),"\n",(0,i.jsxs)(n.li,{children:["Use ",(0,i.jsx)(n.code,{children:"string"})," for text data (UTF-8) and ",(0,i.jsx)(n.code,{children:"bytes"})," for binary data."]}),"\n",(0,i.jsxs)(n.li,{children:["Use ",(0,i.jsx)(n.code,{children:"optional"})," only when the field may legitimately be absent."]}),"\n",(0,i.jsxs)(n.li,{children:["Use ",(0,i.jsx)(n.code,{children:"ref"})," only when needed for shared or circular references."]}),"\n",(0,i.jsxs)(n.li,{children:["Prefer ",(0,i.jsx)(n.code,{children:"list"})," for ordered sequences and ",(0,i.jsx)(n.code,{children:"map"})," for key-value lookups."]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"type-ids",children:"Type IDs"}),"\n",(0,i.jsxs)(n.p,{children:["Type IDs enable efficient cross-language serialization and are used for\nmessages, unions, and enums. When ",(0,i.jsx)(n.code,{children:"enable_auto_type_id = true"})," (default) and\n",(0,i.jsx)(n.code,{children:"id"})," is omitted, the compiler auto-generates one using\n",(0,i.jsx)(n.code,{children:"MurmurHash3(utf8(package.type_name))"})," (32-bit) and annotates it in generated\ncode. When ",(0,i.jsx)(n.code,{children:"enable_auto_type_id = false"}),", types without explicit IDs are\nregistered by namespace and name instead. Collisions are detected at\ncompile-time across the current file and all imports; when a collision occurs,\nthe compiler raises an error and asks for an explicit ",(0,i.jsx)(n.code,{children:"id"})," or an ",(0,i.jsx)(n.code,{children:"alias"}),"."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-protobuf",children:"enum Color [id=100] { ... }\nmessage User [id=101] { ... }\nunion Event [id=102] { ... }\n"})}),"\n",(0,i.jsxs)(n.p,{children:["Enum type IDs remain optional; if omitted they are auto-generated using the same\nhash when ",(0,i.jsx)(n.code,{children:"enable_auto_type_id = true"}),"."]}),"\n",(0,i.jsx)(n.h3,{id:"with-explicit-type-id-2",children:"With Explicit Type ID"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-protobuf",children:"message User [id=101] { ... }\nmessage User [id=101, deprecated=true] { ... }  // Multiple options\n"})}),"\n",(0,i.jsx)(n.h3,{id:"without-explicit-type-id-1",children:"Without Explicit Type ID"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-protobuf",children:"message Config { ... }  // Auto-generated when enable_auto_type_id = true\n"})}),"\n",(0,i.jsxs)(n.p,{children:["You can set ",(0,i.jsx)(n.code,{children:'[alias="..."]'})," to change the hash source without renaming the type."]}),"\n",(0,i.jsx)(n.h3,{id:"practical-notes",children:"Practical Notes"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["If a type omits ",(0,i.jsx)(n.code,{children:"id"})," and ",(0,i.jsx)(n.code,{children:"enable_auto_type_id = true"}),", Fory generates an ID\nwith ",(0,i.jsx)(n.code,{children:"MurmurHash3(utf8(package.type_name))"})," (32-bit)."]}),"\n",(0,i.jsx)(n.li,{children:"Package alias and type alias change the hash input and can be used to resolve\nhash collisions without renaming public types."}),"\n",(0,i.jsxs)(n.li,{children:["Manual IDs in the small varint range (",(0,i.jsx)(n.code,{children:"0-127"}),") are compact on the wire; auto\nIDs are typically larger and usually consume 4-5 bytes."]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"id-assignment-strategy",children:"ID Assignment Strategy"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-protobuf",children:"// Enums: 100-199\nenum Status [id=100] { ... }\nenum Priority [id=101] { ... }\n\n// User domain: 200-299\nmessage User [id=200] { ... }\nmessage UserProfile [id=201] { ... }\n\n// Order domain: 300-399\nmessage Order [id=300] { ... }\nmessage OrderItem [id=301] { ... }\n"})}),"\n",(0,i.jsx)(n.h2,{id:"complete-example-1",children:"Complete Example"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-protobuf",children:"// E-commerce domain model\npackage com.shop.models;\n\n// Enums with type IDs\nenum OrderStatus [id=100] {\n    PENDING = 0;\n    CONFIRMED = 1;\n    SHIPPED = 2;\n    DELIVERED = 3;\n    CANCELLED = 4;\n}\n\nenum PaymentMethod [id=101] {\n    CREDIT_CARD = 0;\n    DEBIT_CARD = 1;\n    PAYPAL = 2;\n    BANK_TRANSFER = 3;\n}\n\n// Messages with type IDs\nmessage Address [id=200] {\n    string street = 1;\n    string city = 2;\n    string state = 3;\n    string country = 4;\n    string postal_code = 5;\n}\n\nmessage Customer [id=201] {\n    string id = 1;\n    string name = 2;\n    optional string email = 3;\n    optional string phone = 4;\n    optional Address billing_address = 5;\n    optional Address shipping_address = 6;\n}\n\nmessage Product [id=202] {\n    string sku = 1;\n    string name = 2;\n    string description = 3;\n    float64 price = 4;\n    int32 stock = 5;\n    list<string> categories = 6;\n    map<string, string> attributes = 7;\n}\n\nmessage OrderItem [id=203] {\n    ref Product product = 1;  // Track reference to avoid duplication\n    int32 quantity = 2;\n    float64 unit_price = 3;\n}\n\nmessage Order [id=204] {\n    string id = 1;\n    ref Customer customer = 2;\n    list<OrderItem> items = 3;\n    OrderStatus status = 4;\n    PaymentMethod payment_method = 5;\n    float64 total = 6;\n    optional string notes = 7;\n    timestamp created_at = 8;\n    optional timestamp shipped_at = 9;\n}\n\n// Config without explicit type ID (auto-generated when enable_auto_type_id = true)\nmessage ShopConfig {\n    string store_name = 1;\n    string currency = 2;\n    float64 tax_rate = 3;\n    list<string> supported_countries = 4;\n}\n"})}),"\n",(0,i.jsxs)(n.p,{children:["For protobuf-specific extension options and ",(0,i.jsx)(n.code,{children:"(fory)."})," syntax, see\n",(0,i.jsx)(n.a,{href:"/docs/compiler/protobuf_idl_support#fory-extension-options-protobuf",children:"Protocol Buffers IDL Support"}),"."]}),"\n",(0,i.jsx)(n.h2,{id:"grammar-summary",children:"Grammar Summary"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"file         := [package_decl] file_option* import_decl* type_def*\n\npackage_decl := 'package' package_name ['alias' package_name] ';'\npackage_name := IDENTIFIER ('.' IDENTIFIER)*\n\nfile_option  := 'option' option_name '=' option_value ';'\noption_name  := IDENTIFIER\n\nimport_decl  := 'import' STRING ';'\n\ntype_def     := enum_def | message_def | union_def\n\nenum_def     := 'enum' IDENTIFIER [type_options] '{' enum_body '}'\nenum_body    := (reserved_stmt | enum_value)*\nenum_value   := IDENTIFIER '=' INTEGER ';'\n\nmessage_def  := 'message' IDENTIFIER [type_options] '{' message_body '}'\nmessage_body := (reserved_stmt | nested_type | field_def)*\nnested_type  := enum_def | message_def | union_def\nfield_def    := [modifiers] field_type IDENTIFIER '=' INTEGER [field_options] ';'\n\nunion_def    := 'union' IDENTIFIER [type_options] '{' union_field* '}'\nunion_field  := ['repeated'] field_type IDENTIFIER '=' INTEGER [field_options] ';'\noption_value := 'true' | 'false' | IDENTIFIER | INTEGER | STRING\n\nreserved_stmt := 'reserved' reserved_items ';'\nreserved_items := reserved_item (',' reserved_item)*\nreserved_item := INTEGER | INTEGER 'to' INTEGER | INTEGER 'to' 'max' | STRING\n\nmodifiers    := { 'optional' | 'ref' | 'repeated' }\n\nfield_type   := primitive_type | named_type | list_type | map_type\nprimitive_type := 'bool'\n               | 'int8' | 'int16' | 'int32' | 'int64'\n               | 'uint8' | 'uint16' | 'uint32' | 'uint64'\n               | 'fixed_int32' | 'fixed_int64' | 'fixed_uint32' | 'fixed_uint64'\n               | 'tagged_int64' | 'tagged_uint64'\n               | 'float32' | 'float64'\n               | 'string' | 'bytes'\n               | 'date' | 'timestamp' | 'duration' | 'decimal'\n               | 'any'\nnamed_type   := qualified_name\nqualified_name := IDENTIFIER ('.' IDENTIFIER)*   // e.g., Parent.Child\nlist_type    := 'list' '<' { 'optional' | 'ref' } field_type '>'\nmap_type     := 'map' '<' field_type ',' field_type '>'\n\ntype_options := '[' type_option (',' type_option)* ']'\ntype_option  := IDENTIFIER '=' option_value         // e.g., id=100, deprecated=true\nfield_options := '[' field_option (',' field_option)* ']'\nfield_option := IDENTIFIER '=' option_value         // e.g., deprecated=true, ref=true\n\nSTRING       := '\"' [^\"\\n]* '\"' | \"'\" [^'\\n]* \"'\"\nIDENTIFIER   := [a-zA-Z_][a-zA-Z0-9_]*\nINTEGER      := '-'? [0-9]+\n"})})]})}function h(e={}){const{wrapper:n}={...(0,d.a)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(o,{...e})}):o(e)}},11151:(e,n,s)=>{s.d(n,{Z:()=>l,a:()=>t});var i=s(67294);const d={},r=i.createContext(d);function t(e){const n=i.useContext(r);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(d):e.components||d:t(e.components),i.createElement(r.Provider,{value:n},e.children)}}}]);