"use strict";(self.webpackChunkfory_site=self.webpackChunkfory_site||[]).push([[1394],{93766:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>l,contentTitle:()=>a,default:()=>h,frontMatter:()=>t,metadata:()=>o,toc:()=>c});var r=i(85893),s=i(11151);const t={title:"Python Serialization Guide",sidebar_position:0,id:"serialization_index",license:'Licensed to the Apache Software Foundation (ASF) under one or more\ncontributor license agreements.  See the NOTICE file distributed with\nthis work for additional information regarding copyright ownership.\nThe ASF licenses this file to You under the Apache License, Version 2.0\n(the "License"); you may not use this file except in compliance with\nthe License.  You may obtain a copy of the License at\n\n   http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an "AS IS" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n'},a=void 0,o={id:"guide/python/serialization_index",title:"Python Serialization Guide",description:"Apache Fory\u2122 is a blazing fast multi-language serialization framework powered by JIT compilation and zero-copy techniques, providing up to ultra-fast performance while maintaining ease of use and safety.",source:"@site/versioned_docs/version-0.14/guide/python/index.md",sourceDirName:"guide/python",slug:"/guide/python/",permalink:"/docs/0.14/guide/python/",draft:!1,unlisted:!1,editUrl:"https://github.com/apache/fory-site/tree/main/docs/guide/python/index.md",tags:[],version:"0.14",sidebarPosition:0,frontMatter:{title:"Python Serialization Guide",sidebar_position:0,id:"serialization_index",license:'Licensed to the Apache Software Foundation (ASF) under one or more\ncontributor license agreements.  See the NOTICE file distributed with\nthis work for additional information regarding copyright ownership.\nThe ASF licenses this file to You under the Apache License, Version 2.0\n(the "License"); you may not use this file except in compliance with\nthe License.  You may obtain a copy of the License at\n\n   http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an "AS IS" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n'},sidebar:"docsSidebar",previous:{title:"Troubleshooting",permalink:"/docs/0.14/guide/java/troubleshooting"},next:{title:"Configuration",permalink:"/docs/0.14/guide/python/configuration"}},l={},c=[{value:"Key Features",id:"key-features",level:2},{value:"Flexible Serialization Modes",id:"flexible-serialization-modes",level:3},{value:"Versatile Serialization Features",id:"versatile-serialization-features",level:3},{value:"Blazing Fast Performance",id:"blazing-fast-performance",level:3},{value:"Compact Data Size",id:"compact-data-size",level:3},{value:"Security &amp; Safety",id:"security--safety",level:3},{value:"Installation",id:"installation",level:2},{value:"Basic Installation",id:"basic-installation",level:3},{value:"Optional Dependencies",id:"optional-dependencies",level:3},{value:"Requirements",id:"requirements",level:3},{value:"Thread Safety",id:"thread-safety",level:2},{value:"Quick Start",id:"quick-start",level:2},{value:"Next Steps",id:"next-steps",level:2},{value:"Links",id:"links",level:2}];function d(e){const n={a:"a",code:"code",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,s.a)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Apache Fory\u2122"})," is a blazing fast multi-language serialization framework powered by ",(0,r.jsx)(n.strong,{children:"JIT compilation"})," and ",(0,r.jsx)(n.strong,{children:"zero-copy"})," techniques, providing up to ",(0,r.jsx)(n.strong,{children:"ultra-fast performance"})," while maintaining ease of use and safety."]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"pyfory"})," provides the Python implementation of Apache Fory\u2122, offering both high-performance object serialization and advanced row-format capabilities for data processing tasks."]}),"\n",(0,r.jsx)(n.h2,{id:"key-features",children:"Key Features"}),"\n",(0,r.jsx)(n.h3,{id:"flexible-serialization-modes",children:"Flexible Serialization Modes"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Python native Mode"}),": Full Python compatibility, drop-in replacement for pickle/cloudpickle"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Cross-Language Mode"}),": Optimized for multi-language data exchange"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Row Format"}),": Zero-copy row format for analytics workloads"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"versatile-serialization-features",children:"Versatile Serialization Features"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Shared/circular reference support"})," for complex object graphs in both Python-native and cross-language modes"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Polymorphism support"})," for customized types with automatic type dispatching"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Schema evolution"})," support for backward/forward compatibility when using dataclasses in cross-language mode"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Out-of-band buffer support"})," for zero-copy serialization of large data structures like NumPy arrays and Pandas DataFrames, compatible with pickle protocol 5"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"blazing-fast-performance",children:"Blazing Fast Performance"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Extremely fast performance"})," compared to other serialization frameworks"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Runtime code generation"})," and ",(0,r.jsx)(n.strong,{children:"Cython-accelerated"})," core implementation for optimal performance"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"compact-data-size",children:"Compact Data Size"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Compact object graph protocol"})," with minimal space overhead\u2014up to 3\xd7 size reduction compared to pickle/cloudpickle"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Meta packing and sharing"})," to minimize type forward/backward compatibility space overhead"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"security--safety",children:"Security & Safety"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Strict mode"})," prevents deserialization of untrusted types by type registration and checks."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Reference tracking"})," for handling circular references safely"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"installation",children:"Installation"}),"\n",(0,r.jsx)(n.h3,{id:"basic-installation",children:"Basic Installation"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"pip install pyfory\n"})}),"\n",(0,r.jsx)(n.h3,{id:"optional-dependencies",children:"Optional Dependencies"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:'# Install with row format support (requires Apache Arrow)\npip install pyfory[format]\n\n# Install from source for development\ngit clone https://github.com/apache/fory.git\ncd fory/python\npip install -e ".[dev,format]"\n'})}),"\n",(0,r.jsx)(n.h3,{id:"requirements",children:"Requirements"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Python"}),": 3.8 or higher"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"OS"}),": Linux, macOS, Windows"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"thread-safety",children:"Thread Safety"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"pyfory"})," provides ",(0,r.jsx)(n.code,{children:"ThreadSafeFory"})," for thread-safe serialization using thread-local storage:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:'import pyfory\nimport threading\nfrom dataclasses import dataclass\n\n@dataclass\nclass Person:\n    name: str\n    age: int\n\n# Create thread-safe Fory instance\nfory = pyfory.ThreadSafeFory(xlang=False, ref=True)\nfory.register(Person)\n\n# Use in multiple threads safely\ndef serialize_in_thread(thread_id):\n    person = Person(name=f"User{thread_id}", age=25 + thread_id)\n    data = fory.serialize(person)\n    result = fory.deserialize(data)\n    print(f"Thread {thread_id}: {result}")\n\nthreads = [threading.Thread(target=serialize_in_thread, args=(i,)) for i in range(10)]\nfor t in threads: t.start()\nfor t in threads: t.join()\n'})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Key Features:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Instance Pool"}),": Maintains a pool of ",(0,r.jsx)(n.code,{children:"Fory"})," instances protected by a lock for thread safety"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Shared Configuration"}),": All registrations must be done upfront and are applied to all instances"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Same API"}),": Drop-in replacement for ",(0,r.jsx)(n.code,{children:"Fory"})," class with identical methods"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Registration Safety"}),": Prevents registration after first use to ensure consistency"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"When to Use:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Multi-threaded Applications"}),": Web servers, concurrent workers, parallel processing"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Shared Fory Instances"}),": When multiple threads need to serialize/deserialize data"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Thread Pools"}),": Applications using thread pools or concurrent.futures"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"quick-start",children:"Quick Start"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:"import pyfory\nfrom dataclasses import dataclass\n\n@dataclass\nclass Person:\n    name: str\n    age: int\n\n# Create Fory instance\nfory = pyfory.Fory(xlang=False, ref=True)\nfory.register(Person)\n\nperson = Person(\"Alice\", 30)\ndata = fory.serialize(person)\nresult = fory.deserialize(data)\nprint(result)  # Person(name='Alice', age=30)\n"})}),"\n",(0,r.jsx)(n.h2,{id:"next-steps",children:"Next Steps"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"/docs/0.14/guide/python/configuration",children:"Configuration"})," - Fory parameters and modes"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"/docs/0.14/guide/python/basic_serialization",children:"Basic Serialization"})," - Basic usage patterns"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"/docs/0.14/guide/python/native_mode",children:"Python Native Mode"})," - Functions, lambdas, classes"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"/docs/0.14/guide/python/cross_language",children:"Cross-Language"})," - XLANG mode"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"/docs/0.14/guide/python/row_format",children:"Row Format"})," - Zero-copy row format"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"/docs/0.14/guide/python/security",children:"Security"})," - Security best practices"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"links",children:"Links"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Documentation"}),": ",(0,r.jsx)(n.a,{href:"https://fory.apache.org/docs/latest/python_guide/",children:"https://fory.apache.org/docs/latest/python_guide/"})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"GitHub"}),": ",(0,r.jsx)(n.a,{href:"https://github.com/apache/fory",children:"https://github.com/apache/fory"})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"PyPI"}),": ",(0,r.jsx)(n.a,{href:"https://pypi.org/project/pyfory/",children:"https://pypi.org/project/pyfory/"})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Issues"}),": ",(0,r.jsx)(n.a,{href:"https://github.com/apache/fory/issues",children:"https://github.com/apache/fory/issues"})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Slack"}),": ",(0,r.jsx)(n.a,{href:"https://join.slack.com/t/fory-project/shared_invite/zt-36g0qouzm-kcQSvV_dtfbtBKHRwT5gsw",children:"https://join.slack.com/t/fory-project/shared_invite/zt-36g0qouzm-kcQSvV_dtfbtBKHRwT5gsw"})]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,s.a)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}},11151:(e,n,i)=>{i.d(n,{Z:()=>o,a:()=>a});var r=i(67294);const s={},t=r.createContext(s);function a(e){const n=r.useContext(t);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:a(e.components),r.createElement(t.Provider,{value:n},e.children)}}}]);