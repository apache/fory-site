"use strict";(self.webpackChunkfory_site=self.webpackChunkfory_site||[]).push([[94803],{48201:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>d,contentTitle:()=>o,default:()=>h,frontMatter:()=>s,metadata:()=>a,toc:()=>l});var i=r(85893),t=r(11151);const s={title:"Code Generation",sidebar_position:90,id:"codegen",license:'Licensed to the Apache Software Foundation (ASF) under one or more\ncontributor license agreements.  See the NOTICE file distributed with\nthis work for additional information regarding copyright ownership.\nThe ASF licenses this file to You under the Apache License, Version 2.0\n(the "License"); you may not use this file except in compliance with\nthe License.  You may obtain a copy of the License at\n\n   http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an "AS IS" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n'},o=void 0,a={id:"guide/go/codegen",title:"Code Generation",description:"Code generation is an experimental feature in Fory Go. The API and behavior may change in future releases. The reflection-based path remains the stable, recommended approach for most use cases.",source:"@site/versioned_docs/version-0.15/guide/go/codegen.md",sourceDirName:"guide/go",slug:"/guide/go/codegen",permalink:"/docs/guide/go/codegen",draft:!1,unlisted:!1,editUrl:"https://github.com/apache/fory-site/tree/main/docs/guide/go/codegen.md",tags:[],version:"0.15",sidebarPosition:90,frontMatter:{title:"Code Generation",sidebar_position:90,id:"codegen",license:'Licensed to the Apache Software Foundation (ASF) under one or more\ncontributor license agreements.  See the NOTICE file distributed with\nthis work for additional information regarding copyright ownership.\nThe ASF licenses this file to You under the Apache License, Version 2.0\n(the "License"); you may not use this file except in compliance with\nthe License.  You may obtain a copy of the License at\n\n   http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an "AS IS" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n'},sidebar:"docsSidebar",previous:{title:"Cross-Language Serialization",permalink:"/docs/guide/go/cross_language"},next:{title:"Thread Safety",permalink:"/docs/guide/go/thread_safety"}},d={},l=[{value:"Why Code Generation?",id:"why-code-generation",level:2},{value:"Installation",id:"installation",level:2},{value:"Basic Usage",id:"basic-usage",level:2},{value:"Step 1: Annotate Structs",id:"step-1-annotate-structs",level:3},{value:"Step 2: Add Go Generate Directive",id:"step-2-add-go-generate-directive",level:3},{value:"Step 3: Run Code Generation",id:"step-3-run-code-generation",level:3},{value:"Generated Code Structure",id:"generated-code-structure",level:2},{value:"Type Snapshot",id:"type-snapshot",level:3},{value:"Serializer Implementation",id:"serializer-implementation",level:3},{value:"Auto-Registration",id:"auto-registration",level:3},{value:"Command-Line Options",id:"command-line-options",level:2},{value:"File-Based Generation",id:"file-based-generation",level:3},{value:"Package-Based Generation",id:"package-based-generation",level:3},{value:"Explicit Types (Legacy)",id:"explicit-types-legacy",level:3},{value:"Force Regeneration",id:"force-regeneration",level:3},{value:"When to Regenerate",id:"when-to-regenerate",level:2},{value:"Automatic Detection",id:"automatic-detection",level:3},{value:"Auto-Retry",id:"auto-retry",level:3},{value:"Supported Types",id:"supported-types",level:2},{value:"Nested Structs",id:"nested-structs",level:3},{value:"CI/CD Integration",id:"cicd-integration",level:2},{value:"Check In Generated Code",id:"check-in-generated-code",level:3},{value:"Generate in Pipeline",id:"generate-in-pipeline",level:3},{value:"Usage with Generated Code",id:"usage-with-generated-code",level:2},{value:"Mixing Generated and Non-Generated",id:"mixing-generated-and-non-generated",level:2},{value:"Limitations",id:"limitations",level:2},{value:"Experimental Status",id:"experimental-status",level:3},{value:"Not Supported",id:"not-supported",level:3},{value:"Reflection Fallback",id:"reflection-fallback",level:3},{value:"Troubleshooting",id:"troubleshooting",level:2},{value:"&quot;fory: command not found&quot;",id:"fory-command-not-found",level:3},{value:"Compile Error After Struct Change",id:"compile-error-after-struct-change",level:3},{value:"Generated Code Out of Sync",id:"generated-code-out-of-sync",level:3},{value:"Example Project Structure",id:"example-project-structure",level:2},{value:"FAQ",id:"faq",level:2},{value:"Is codegen required?",id:"is-codegen-required",level:3},{value:"Does generated code work across Go versions?",id:"does-generated-code-work-across-go-versions",level:3},{value:"Can I mix generated and non-generated types?",id:"can-i-mix-generated-and-non-generated-types",level:3},{value:"How do I update generated code?",id:"how-do-i-update-generated-code",level:3},{value:"Should I commit generated files?",id:"should-i-commit-generated-files",level:3},{value:"Related Topics",id:"related-topics",level:2}];function c(e){const n={a:"a",admonition:"admonition",code:"code",h2:"h2",h3:"h3",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,t.a)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.admonition,{title:"Experimental Feature",type:"warning",children:(0,i.jsxs)(n.p,{children:["Code generation is an ",(0,i.jsx)(n.strong,{children:"experimental"})," feature in Fory Go. The API and behavior may change in future releases. The reflection-based path remains the stable, recommended approach for most use cases."]})}),"\n",(0,i.jsx)(n.p,{children:"Fory Go provides optional ahead-of-time (AOT) code generation for performance-critical paths. This eliminates reflection overhead and provides compile-time type safety."}),"\n",(0,i.jsx)(n.h2,{id:"why-code-generation",children:"Why Code Generation?"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Aspect"}),(0,i.jsx)(n.th,{children:"Reflection-Based"}),(0,i.jsx)(n.th,{children:"Code Generation"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Setup"}),(0,i.jsx)(n.td,{children:"Zero configuration"}),(0,i.jsxs)(n.td,{children:["Requires ",(0,i.jsx)(n.code,{children:"go generate"})]})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Performance"}),(0,i.jsx)(n.td,{children:"Good"}),(0,i.jsx)(n.td,{children:"Better (no reflection)"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Type Safety"}),(0,i.jsx)(n.td,{children:"Runtime"}),(0,i.jsx)(n.td,{children:"Compile-time"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Maintenance"}),(0,i.jsx)(n.td,{children:"Automatic"}),(0,i.jsx)(n.td,{children:"Requires regeneration"})]})]})]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Use code generation when"}),":"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Maximum performance is required"}),"\n",(0,i.jsx)(n.li,{children:"Compile-time type safety is important"}),"\n",(0,i.jsx)(n.li,{children:"Hot paths are performance-critical"}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Use reflection when"}),":"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Simple setup is preferred"}),"\n",(0,i.jsx)(n.li,{children:"Types change frequently"}),"\n",(0,i.jsx)(n.li,{children:"Dynamic typing is needed"}),"\n",(0,i.jsx)(n.li,{children:"Code generation complexity is undesirable"}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"installation",children:"Installation"}),"\n",(0,i.jsxs)(n.p,{children:["Install the ",(0,i.jsx)(n.code,{children:"fory"})," generator binary:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"go install github.com/apache/fory/go/fory/cmd/fory@latest\n\nGO111MODULE=on go get -u github.com/apache/fory/go/fory/cmd/fory\n"})}),"\n",(0,i.jsxs)(n.p,{children:["Ensure ",(0,i.jsx)(n.code,{children:"$GOBIN"})," or ",(0,i.jsx)(n.code,{children:"$GOPATH/bin"})," is in your ",(0,i.jsx)(n.code,{children:"PATH"}),"."]}),"\n",(0,i.jsx)(n.h2,{id:"basic-usage",children:"Basic Usage"}),"\n",(0,i.jsx)(n.h3,{id:"step-1-annotate-structs",children:"Step 1: Annotate Structs"}),"\n",(0,i.jsxs)(n.p,{children:["Add the ",(0,i.jsx)(n.code,{children:"//fory:generate"})," comment above structs:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-go",children:'package models\n\n//fory:generate\ntype User struct {\n    ID   int64  `json:"id"`\n    Name string `json:"name"`\n}\n\n//fory:generate\ntype Order struct {\n    ID       int64\n    Customer string\n    Total    float64\n}\n'})}),"\n",(0,i.jsx)(n.h3,{id:"step-2-add-go-generate-directive",children:"Step 2: Add Go Generate Directive"}),"\n",(0,i.jsxs)(n.p,{children:["Add a ",(0,i.jsx)(n.code,{children:"go:generate"})," directive (once per file or package):"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-go",children:"//go:generate fory -file models.go\n"})}),"\n",(0,i.jsx)(n.p,{children:"Or for the entire package:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-go",children:"//go:generate fory -pkg .\n"})}),"\n",(0,i.jsx)(n.h3,{id:"step-3-run-code-generation",children:"Step 3: Run Code Generation"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"go generate ./...\n"})}),"\n",(0,i.jsxs)(n.p,{children:["This creates ",(0,i.jsx)(n.code,{children:"models_fory_gen.go"})," with generated serializers."]}),"\n",(0,i.jsx)(n.h2,{id:"generated-code-structure",children:"Generated Code Structure"}),"\n",(0,i.jsx)(n.p,{children:"The generator creates:"}),"\n",(0,i.jsx)(n.h3,{id:"type-snapshot",children:"Type Snapshot"}),"\n",(0,i.jsx)(n.p,{children:"A compile-time check to detect struct changes:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-go",children:"// Snapshot of User's underlying type at generation time\ntype _User_expected struct {\n    ID   int64\n    Name string\n}\n\n// Compile-time check: fails if User no longer matches\nvar _ = func(x User) { _ = _User_expected(x) }\n"})}),"\n",(0,i.jsx)(n.h3,{id:"serializer-implementation",children:"Serializer Implementation"}),"\n",(0,i.jsx)(n.p,{children:"Strongly-typed serialization methods:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-go",children:"type User_ForyGenSerializer struct{}\n\nfunc NewSerializerFor_User() fory.Serializer {\n    return &User_ForyGenSerializer{}\n}\n\nfunc (User_ForyGenSerializer) WriteTyped(ctx *fory.WriteContext, v *User) error {\n    buf := ctx.Buffer()\n    buf.WriteInt64(v.ID)\n    ctx.WriteString(v.Name)\n    return nil\n}\n\nfunc (User_ForyGenSerializer) ReadTyped(ctx *fory.ReadContext, v *User) error {\n    err := ctx.Err()\n    buf := ctx.Buffer()\n    v.ID = buf.ReadInt64(err)\n    v.Name = ctx.ReadString()\n    if ctx.HasError() {\n        return ctx.TakeError()\n    }\n    return nil\n}\n"})}),"\n",(0,i.jsx)(n.h3,{id:"auto-registration",children:"Auto-Registration"}),"\n",(0,i.jsxs)(n.p,{children:["Serializers are registered in ",(0,i.jsx)(n.code,{children:"init()"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-go",children:"func init() {\n    fory.RegisterSerializerFactory((*User)(nil), NewSerializerFor_User)\n}\n"})}),"\n",(0,i.jsx)(n.h2,{id:"command-line-options",children:"Command-Line Options"}),"\n",(0,i.jsx)(n.h3,{id:"file-based-generation",children:"File-Based Generation"}),"\n",(0,i.jsx)(n.p,{children:"Generate for a specific file:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"fory -file models.go\n"})}),"\n",(0,i.jsx)(n.h3,{id:"package-based-generation",children:"Package-Based Generation"}),"\n",(0,i.jsx)(n.p,{children:"Generate for a package:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"fory -pkg ./models\n"})}),"\n",(0,i.jsx)(n.h3,{id:"explicit-types-legacy",children:"Explicit Types (Legacy)"}),"\n",(0,i.jsx)(n.p,{children:"Specify types explicitly:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:'fory -pkg ./models -type "User,Order"\n'})}),"\n",(0,i.jsx)(n.h3,{id:"force-regeneration",children:"Force Regeneration"}),"\n",(0,i.jsx)(n.p,{children:"Force regeneration even if up-to-date:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"fory --force -file models.go\n"})}),"\n",(0,i.jsx)(n.h2,{id:"when-to-regenerate",children:"When to Regenerate"}),"\n",(0,i.jsx)(n.p,{children:"Regenerate when any of these change:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Field additions, removals, or renames"}),"\n",(0,i.jsx)(n.li,{children:"Field type changes"}),"\n",(0,i.jsx)(n.li,{children:"Struct tag changes"}),"\n",(0,i.jsxs)(n.li,{children:["New structs with ",(0,i.jsx)(n.code,{children:"//fory:generate"})]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"automatic-detection",children:"Automatic Detection"}),"\n",(0,i.jsx)(n.p,{children:"Fory includes a compile-time guard:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-go",children:"// If struct changed, this fails to compile\nvar _ = func(x User) { _ = _User_expected(x) }\n"})}),"\n",(0,i.jsx)(n.p,{children:"If you forget to regenerate, the build fails with a clear message."}),"\n",(0,i.jsx)(n.h3,{id:"auto-retry",children:"Auto-Retry"}),"\n",(0,i.jsxs)(n.p,{children:["When invoked via ",(0,i.jsx)(n.code,{children:"go generate"}),", the generator detects stale code and retries:"]}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsx)(n.li,{children:"Detects compile error from guard"}),"\n",(0,i.jsx)(n.li,{children:"Removes stale generated file"}),"\n",(0,i.jsx)(n.li,{children:"Regenerates fresh code"}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"supported-types",children:"Supported Types"}),"\n",(0,i.jsx)(n.p,{children:"Code generation supports:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["All primitive types (",(0,i.jsx)(n.code,{children:"bool"}),", ",(0,i.jsx)(n.code,{children:"int*"}),", ",(0,i.jsx)(n.code,{children:"uint*"}),", ",(0,i.jsx)(n.code,{children:"float*"}),", ",(0,i.jsx)(n.code,{children:"string"}),")"]}),"\n",(0,i.jsx)(n.li,{children:"Slices of primitives and structs"}),"\n",(0,i.jsx)(n.li,{children:"Maps with supported key/value types"}),"\n",(0,i.jsx)(n.li,{children:"Nested structs (must also be generated)"}),"\n",(0,i.jsx)(n.li,{children:"Pointers to structs"}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"nested-structs",children:"Nested Structs"}),"\n",(0,i.jsxs)(n.p,{children:["All nested structs must also have ",(0,i.jsx)(n.code,{children:"//fory:generate"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-go",children:"//fory:generate\ntype Address struct {\n    City    string\n    Country string\n}\n\n//fory:generate\ntype Person struct {\n    Name    string\n    Address Address  // Address must also be generated\n}\n"})}),"\n",(0,i.jsx)(n.h2,{id:"cicd-integration",children:"CI/CD Integration"}),"\n",(0,i.jsx)(n.h3,{id:"check-in-generated-code",children:"Check In Generated Code"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Recommended for libraries"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:'go generate ./...\ngit add *_fory_gen.go\ngit commit -m "Regenerate Fory serializers"\n'})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Pros"}),": Consumers can build without generator; reproducible builds\n",(0,i.jsx)(n.strong,{children:"Cons"}),": Larger diffs; must remember to regenerate"]}),"\n",(0,i.jsx)(n.h3,{id:"generate-in-pipeline",children:"Generate in Pipeline"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Recommended for applications"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:"steps:\n  - run: go install github.com/apache/fory/go/fory/cmd/fory@latest\n  - run: go generate ./...\n  - run: go build ./...\n"})}),"\n",(0,i.jsx)(n.h2,{id:"usage-with-generated-code",children:"Usage with Generated Code"}),"\n",(0,i.jsx)(n.p,{children:"Generated code integrates transparently:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-go",children:'f := fory.New()\n\n// Fory automatically uses generated serializer if available\nuser := &User{ID: 1, Name: "Alice"}\ndata, _ := f.Serialize(user)\n\nvar result User\nf.Deserialize(data, &result)\n'})}),"\n",(0,i.jsxs)(n.p,{children:["No code changes needed - registration happens in ",(0,i.jsx)(n.code,{children:"init()"}),"."]}),"\n",(0,i.jsx)(n.h2,{id:"mixing-generated-and-non-generated",children:"Mixing Generated and Non-Generated"}),"\n",(0,i.jsx)(n.p,{children:"You can mix approaches:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-go",children:"//fory:generate\ntype HotPathStruct struct {\n    // Performance-critical, use codegen\n}\n\ntype ColdPathStruct struct {\n    // Not annotated, uses reflection\n}\n"})}),"\n",(0,i.jsx)(n.h2,{id:"limitations",children:"Limitations"}),"\n",(0,i.jsx)(n.h3,{id:"experimental-status",children:"Experimental Status"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"API may change"}),"\n",(0,i.jsx)(n.li,{children:"Not all edge cases tested"}),"\n",(0,i.jsx)(n.li,{children:"May have undiscovered bugs"}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"not-supported",children:"Not Supported"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Interface fields (dynamic types)"}),"\n",(0,i.jsx)(n.li,{children:"Recursive types without pointers"}),"\n",(0,i.jsx)(n.li,{children:"Private (unexported) fields"}),"\n",(0,i.jsx)(n.li,{children:"Custom serializers"}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"reflection-fallback",children:"Reflection Fallback"}),"\n",(0,i.jsx)(n.p,{children:"If codegen fails, Fory falls back to reflection:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-go",children:"// If User_ForyGenSerializer not found, uses reflection\nf.Serialize(&User{})\n"})}),"\n",(0,i.jsx)(n.h2,{id:"troubleshooting",children:"Troubleshooting"}),"\n",(0,i.jsx)(n.h3,{id:"fory-command-not-found",children:'"fory: command not found"'}),"\n",(0,i.jsx)(n.p,{children:"Ensure the binary is in PATH:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"export PATH=$PATH:$(go env GOPATH)/bin\n"})}),"\n",(0,i.jsx)(n.h3,{id:"compile-error-after-struct-change",children:"Compile Error After Struct Change"}),"\n",(0,i.jsx)(n.p,{children:"Regenerate:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"go generate ./...\n"})}),"\n",(0,i.jsx)(n.p,{children:"Or force:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"fory --force -file yourfile.go\n"})}),"\n",(0,i.jsx)(n.h3,{id:"generated-code-out-of-sync",children:"Generated Code Out of Sync"}),"\n",(0,i.jsx)(n.p,{children:"The compile-time guard catches this:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"cannot use x (variable of type User) as type _User_expected in argument\n"})}),"\n",(0,i.jsxs)(n.p,{children:["Run ",(0,i.jsx)(n.code,{children:"go generate"})," to fix."]}),"\n",(0,i.jsx)(n.h2,{id:"example-project-structure",children:"Example Project Structure"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"myproject/\n\u251c\u2500\u2500 models/\n\u2502   \u251c\u2500\u2500 models.go           # Struct definitions\n\u2502   \u251c\u2500\u2500 models_fory_gen.go  # Generated code\n\u2502   \u2514\u2500\u2500 generate.go         # go:generate directive\n\u251c\u2500\u2500 main.go\n\u2514\u2500\u2500 go.mod\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"models/generate.go"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-go",children:"package models\n\n//go:generate fory -pkg .\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"models/models.go"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-go",children:"package models\n\n//fory:generate\ntype User struct {\n    ID   int64\n    Name string\n}\n"})}),"\n",(0,i.jsx)(n.h2,{id:"faq",children:"FAQ"}),"\n",(0,i.jsx)(n.h3,{id:"is-codegen-required",children:"Is codegen required?"}),"\n",(0,i.jsx)(n.p,{children:"No. Reflection-based serialization works without code generation."}),"\n",(0,i.jsx)(n.h3,{id:"does-generated-code-work-across-go-versions",children:"Does generated code work across Go versions?"}),"\n",(0,i.jsx)(n.p,{children:"Yes. Generated code is plain Go with no version-specific features."}),"\n",(0,i.jsx)(n.h3,{id:"can-i-mix-generated-and-non-generated-types",children:"Can I mix generated and non-generated types?"}),"\n",(0,i.jsx)(n.p,{children:"Yes. Fory automatically uses generated serializers when available."}),"\n",(0,i.jsx)(n.h3,{id:"how-do-i-update-generated-code",children:"How do I update generated code?"}),"\n",(0,i.jsxs)(n.p,{children:["Run ",(0,i.jsx)(n.code,{children:"go generate ./..."})," after struct changes."]}),"\n",(0,i.jsx)(n.h3,{id:"should-i-commit-generated-files",children:"Should I commit generated files?"}),"\n",(0,i.jsx)(n.p,{children:"For libraries: yes. For applications: either works."}),"\n",(0,i.jsx)(n.h2,{id:"related-topics",children:"Related Topics"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"/docs/guide/go/basic_serialization",children:"Basic Serialization"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"/docs/guide/go/configuration",children:"Configuration"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"/docs/guide/go/troubleshooting",children:"Troubleshooting"})}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,t.a)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(c,{...e})}):c(e)}},11151:(e,n,r)=>{r.d(n,{Z:()=>a,a:()=>o});var i=r(67294);const t={},s=i.createContext(t);function o(e){const n=i.useContext(s);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:o(e.components),i.createElement(s.Provider,{value:n},e.children)}}}]);