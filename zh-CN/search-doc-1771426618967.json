{"searchDocs":[{"title":"Apache Fory‚Ñ¢ Graduates to Top-Level Apache Project","type":0,"sectionRef":"#","url":"/zh-CN/blog/apache-fory-graduated","content":"","keywords":"","version":null},{"title":"What is Apache Fory?‚Äã","type":1,"pageTitle":"Apache Fory‚Ñ¢ Graduates to Top-Level Apache Project","url":"/zh-CN/blog/apache-fory-graduated#what-is-apache-fory","content":" Apache Fory is a blazingly-fast multi-language serialization framework that revolutionizes data exchange between systems and languages. By leveraging JIT compilation and zero-copy techniques, Fory delivers up to 170x faster performance compared to other serialization frameworkds while being extremely easy to use.  ","version":null,"tagName":"h2"},{"title":"Key Features:‚Äã","type":1,"pageTitle":"Apache Fory‚Ñ¢ Graduates to Top-Level Apache Project","url":"/zh-CN/blog/apache-fory-graduated#key-features","content":" üåê Cross-language serialization: Java, Python, C++, Go, JavaScript, Rust, Scala, Kotlin‚ö°Ô∏è Zero-copy optimization: Minimizes memory overhead for large datasetsüîÑ Schema evolution: Forward/backward compatibility for evolving data structuresüîí Security-first: Class registration prevents deserialization vulnerabilitiesüì¶ Multiple protocols: Object graph, Row format, and Java-compatible modes  ","version":null,"tagName":"h3"},{"title":"Quick Start‚Äã","type":1,"pageTitle":"Apache Fory‚Ñ¢ Graduates to Top-Level Apache Project","url":"/zh-CN/blog/apache-fory-graduated#quick-start","content":" Java serialization example:  Fory fory = Fory.builder().build(); fory.register(DataModel.class); DataModel obj = new DataModel(/*...*/); byte[] bytes = fory.serialize(obj); DataModel restored = (DataModel) fory.deserialize(bytes);   Python serialization example  from dataclasses import dataclass import pyfory class Foo: name: str: age: int pyfory.register(Foo) bytes = pyfory.serialize(Foo(&quot;Shawn&quot;, 30)) # Ultra-fast encoding restored = pyfory.deserialize(bytes) # Instant decoding   ","version":null,"tagName":"h3"},{"title":"The Incubation Journey‚Äã","type":1,"pageTitle":"Apache Fory‚Ñ¢ Graduates to Top-Level Apache Project","url":"/zh-CN/blog/apache-fory-graduated#the-incubation-journey","content":" Since entering the Apache Incubator in December 2023, Fory has achieved significant milestones.  ","version":null,"tagName":"h2"},{"title":"Community Growth‚Äã","type":1,"pageTitle":"Apache Fory‚Ñ¢ Graduates to Top-Level Apache Project","url":"/zh-CN/blog/apache-fory-graduated#community-growth","content":" üë• 90+ contributorsüîß 6 new committers added, with 1 promoted to PPMCü§ù Diverse adoption across fintech, e-commerce, and cloud  ","version":null,"tagName":"h3"},{"title":"Technical Progress‚Äã","type":1,"pageTitle":"Apache Fory‚Ñ¢ Graduates to Top-Level Apache Project","url":"/zh-CN/blog/apache-fory-graduated#technical-progress","content":" üöÄ 14 ASF-compliant releases (0.5.0 to 0.11.2)üîÑ 4 release managers ensuring sustainable operations‚Ñ¢ Trademark resolution: Successful rename from Fury ‚Üí Fory‚úÖ Maturity validation: Full compliance with ASF graduation requirements  ","version":null,"tagName":"h3"},{"title":"Apache Way Adoption‚Äã","type":1,"pageTitle":"Apache Fory‚Ñ¢ Graduates to Top-Level Apache Project","url":"/zh-CN/blog/apache-fory-graduated#apache-way-adoption","content":" üì¨ 100% public discussions on dev@ mailing listsüó≥Ô∏è Consensus-driven decisions through formal votingüåê Complete infrastructure migration to Fory namespace  ","version":null,"tagName":"h3"},{"title":"Why Graduation Matters‚Äã","type":1,"pageTitle":"Apache Fory‚Ñ¢ Graduates to Top-Level Apache Project","url":"/zh-CN/blog/apache-fory-graduated#why-graduation-matters","content":" Graduation signifies that Fory has demonstrated:  Sustainable governance with diverse PMC leadershipEnterprise-ready stability through rigorous releasesCommunity independence with no vendor dominanceASF policy compliance including security and licensing  ","version":null,"tagName":"h2"},{"title":"What's Next‚Äã","type":1,"pageTitle":"Apache Fory‚Ñ¢ Graduates to Top-Level Apache Project","url":"/zh-CN/blog/apache-fory-graduated#whats-next","content":" As a Top-Level Project, Fory's roadmap includes:  Enhanced Capabilities Improved schema evolution for cross-language compatibilityProducation ready support for Rust/C++ serializationOptimize Pyfory Performance continuously and provide drop-in replacement support for pickle Ecosystem Integration GRPC IntegrationProtobuf Migration Tool Community Growth Comprehensive user documentationStructured mentorship program for new contributorsProduction case studies with early adopters  ","version":null,"tagName":"h2"},{"title":"Get Involved‚Äã","type":1,"pageTitle":"Apache Fory‚Ñ¢ Graduates to Top-Level Apache Project","url":"/zh-CN/blog/apache-fory-graduated#get-involved","content":" Experience Fory's performance:  Java:  &lt;dependency&gt; &lt;groupId&gt;org.apache.fory&lt;/groupId&gt; &lt;artifactId&gt;fory-core&lt;/artifactId&gt; &lt;version&gt;0.11.2&lt;/version&gt; &lt;/dependency&gt;   Python:  pip install pyfory   Join our community:  üåê Website: https://fory.apache.orgüí¨ Slack: fory-project.slack.comüìß Mailing list: dev@fory.apache.orgüêô GitHub: https://github.com/apache/fory  ","version":null,"tagName":"h2"},{"title":"Acknowledgements‚Äã","type":1,"pageTitle":"Apache Fory‚Ñ¢ Graduates to Top-Level Apache Project","url":"/zh-CN/blog/apache-fory-graduated#acknowledgements","content":" The PMC Members of the Fory project are listed as follows, with big thanks to their significant contributions:  Shawn Yang (Chair)tisonXuanwoTwicePJ FanningPan LiXin WangWeipeng Wangliyueolivelli  Big thanks to all contributors who submitted code, reported issues, and improved documentation. This achievement belongs to the entire Apache Fory community! ","version":null,"tagName":"h2"},{"title":"Fory v0.11.2 Released","type":0,"sectionRef":"#","url":"/zh-CN/blog/fory_0_11_2_release","content":"","keywords":"","version":null},{"title":"Features‚Äã","type":1,"pageTitle":"Fory v0.11.2 Released","url":"/zh-CN/blog/fory_0_11_2_release#features","content":" feat(python): Add Python Linux ARM64 support and optimize Bazel installation by @esafak in https://github.com/apache/fory/pull/2357feat(java): row encoder array deserialization into List supports lazy access by @stevenschlansker in https://github.com/apache/fory/pull/2358  ","version":null,"tagName":"h2"},{"title":"Bug Fixes‚Äã","type":1,"pageTitle":"Fory v0.11.2 Released","url":"/zh-CN/blog/fory_0_11_2_release#bug-fixes","content":" fix(java): fix register class async jit thread safety by @chaokunyang in https://github.com/apache/fory/pull/2365fix: fix WeakHashMap thread safety by @chaokunyang in https://github.com/apache/fory/pull/2366fix(rust): fix rust lint error by @chaokunyang in https://github.com/apache/fory/pull/2373fix(java): fix automatic module conflict with maven shaded dependencies by @chaokunyang in https://github.com/apache/fory/pull/2372  ","version":null,"tagName":"h2"},{"title":"Documentation‚Äã","type":1,"pageTitle":"Fory v0.11.2 Released","url":"/zh-CN/blog/fory_0_11_2_release#documentation","content":" docs: adding multi-threading clarifications for java serialization by @drse in https://github.com/apache/fory/pull/2356docs: fix document markdown lint error by @LiangliangSui in https://github.com/apache/fory/pull/2360docs: Update java_serialization_guide.md - Fury - Fory by @apupier in https://github.com/apache/fory/pull/2362docs: Update java_serialization_guide.md - fury --&gt; fory by @apupier in https://github.com/apache/fory/pull/2361docs: update jdk 24 support in README.md by @chaokunyang in https://github.com/apache/fory/pull/2368  ","version":null,"tagName":"h2"},{"title":"Chores‚Äã","type":1,"pageTitle":"Fory v0.11.2 Released","url":"/zh-CN/blog/fory_0_11_2_release#chores","content":" chore: bump version 0.11.1 by @LiangliangSui in https://github.com/apache/fory/pull/2369  Full Changelog: https://github.com/apache/fory/compare/v0.11.1...v0.11.2 ","version":null,"tagName":"h2"},{"title":"Fory v0.11.1 Released","type":0,"sectionRef":"#","url":"/zh-CN/blog/fory_0_11_1_release","content":"","keywords":"","version":null},{"title":"Features‚Äã","type":1,"pageTitle":"Fory v0.11.1 Released","url":"/zh-CN/blog/fory_0_11_1_release#features","content":" feat(java): row encoder supports synthesizing interfaces nested inside of records by @stevenschlansker in https://github.com/apache/fory/pull/2304feat(java): Support customized serializer for abstract or interface. by @CherishCai in https://github.com/apache/fory/pull/2311feat(java): row encoder supports custom rewriting values without changing their type by @stevenschlansker in https://github.com/apache/fory/pull/2305feat(java): support multi-dimensional array field serialization in xlang meta shared mode by @OmCheeLin in https://github.com/apache/fory/pull/2314feat(python): bump cython to 3.1.1 by @penguin-wwy in https://github.com/apache/fory/pull/2318feat(java): array row encoder supports set of interface type by @stevenschlansker in https://github.com/apache/fory/pull/2333feat(java): support maven shade for disallowed.txt by @chaokunyang in https://github.com/apache/fory/pull/2327feat(java): store OptionalInt, OptionalLong, OptionalDouble same as nullable values by @stevenschlansker in https://github.com/apache/fory/pull/2338  ","version":null,"tagName":"h2"},{"title":"Bug Fix‚Äã","type":1,"pageTitle":"Fory v0.11.1 Released","url":"/zh-CN/blog/fory_0_11_1_release#bug-fix","content":" fix(java): row encoder interface synthesis handle (Optional) null correctly by @stevenschlansker in https://github.com/apache/fory/pull/2306fix(java): Use (long, long, byte) key for MetaStringBytes cache to prevent collisions by @LouisLou2 in https://github.com/apache/fory/pull/2308fix(python): update python benchmark script by @penguin-wwy in https://github.com/apache/fory/pull/2315fix(java): fix row encoder synthesized interface lazy-decoding of Optional by @stevenschlansker in https://github.com/apache/fory/pull/2320fix(java): fix row format handling Optional of type with custom codec by @stevenschlansker in https://github.com/apache/fory/pull/2321fix(java): row encoder array element serializer created too late by @stevenschlansker in https://github.com/apache/fory/pull/2323fix(python): fix py3.13 ci on windows by @chaokunyang in https://github.com/apache/fory/pull/2334fix(python): correct compute_string_hash usage in StructHashVisitor.visit_customized by @lzaeh in https://github.com/apache/fory/pull/2335fix(java): fix register serializer for abstract class by @chaokunyang in https://github.com/apache/fory/pull/2347fix(java): fix map nested array type serialization codegen by @chaokunyang in https://github.com/apache/fory/pull/2352  ","version":null,"tagName":"h2"},{"title":"Other Improvements‚Äã","type":1,"pageTitle":"Fory v0.11.1 Released","url":"/zh-CN/blog/fory_0_11_1_release#other-improvements","content":" chore(java): skip find customized serializer when absClassInfo is empty by @CherishCai in https://github.com/apache/fory/pull/2316chore: add release note generate tool by @chaokunyang in https://github.com/apache/fory/pull/2322chore: Update README.md for fory rename by @chaokunyang in https://github.com/apache/fory/pull/2324chore: update slack invite link to fory by @chaokunyang in https://github.com/apache/fory/pull/2325perf(java): Improve zone offset deserialization performance by overriding JDK caching by @Cybermaxke in https://github.com/apache/fory/pull/2336chore: bump release version to 0.11.0 by @chaokunyang in https://github.com/apache/fory/pull/2340perf(java): update benchmark plot by @chaokunyang in https://github.com/apache/fory/pull/2342chore: update plots fro compatible by @chaokunyang in https://github.com/apache/fory/pull/2344docs: add document for customized map collection serializers by @chaokunyang in https://github.com/apache/fory/pull/2351docs: add row format guide for ext and interface types by @nabilshafi in https://github.com/apache/fory/pull/2346chore(java): ProtobufDispatcher should trigger log warning at most once by @ClaudioConsolmagno in https://github.com/apache/fory/pull/2353docs: format markdown docs by @chaokunyang in https://github.com/apache/fory/pull/2354chore: refine validate serializers message for map/collection by @chaokunyang in https://github.com/apache/fory/pull/2355  ","version":null,"tagName":"h2"},{"title":"New Contributors‚Äã","type":1,"pageTitle":"Fory v0.11.1 Released","url":"/zh-CN/blog/fory_0_11_1_release#new-contributors","content":" @nabilshafi made their first contribution in https://github.com/apache/fory/pull/2346@ClaudioConsolmagno made their first contribution in https://github.com/apache/fory/pull/2353  Full Changelog: https://github.com/apache/fory/compare/v0.11.0...v0.11.1-rc1 ","version":null,"tagName":"h2"},{"title":"Fory v0.12.0 Released","type":0,"sectionRef":"#","url":"/zh-CN/blog/fory_0_12_0_release","content":"","keywords":"","version":null},{"title":"Highlights‚Äã","type":1,"pageTitle":"Fory v0.12.0 Released","url":"/zh-CN/blog/fory_0_12_0_release#highlights","content":" [Python] Support Python __getstate__/__setstate__/__reduce__ serialization protocol[Python] Support serialize python function[Java] Use JDK11 for fory-format module[Scala]Support default value for scala case/pojo classes when deseralizing[Kotlin] Support default value for kotlin data classes when deserializing  ","version":null,"tagName":"h2"},{"title":"Features‚Äã","type":1,"pageTitle":"Fory v0.12.0 Released","url":"/zh-CN/blog/fory_0_12_0_release#features","content":" refactor(python): replace Black and Flake8 with Ruff by @esafak in https://github.com/apache/fory/pull/2388refactor(python): Unify DataClassSerializer and ComplexObjectSerializer by @esafak in https://github.com/apache/fory/pull/2389refactor(python): Simplify require_pyarrow, remove undefined pytest.mark by @esafak in https://github.com/apache/fory/pull/2396feat(python): Replace usage of ComplexObjectSerializer with DataClassSerializer by @esafak in https://github.com/apache/fory/pull/2395feat(python): Add StatefulSerializer using getstate, setstate by @esafak in https://github.com/apache/fory/pull/2400feat(python): Implement ReduceSerializer for reduce support by @esafak in https://github.com/apache/fory/pull/2401feat(python): Support codegen with XLANG in DataClassSerializer by @esafak in https://github.com/apache/fory/pull/2405perf(Go/python): Type system compatibility upgrade by @pandalee99 in https://github.com/apache/fory/pull/2339feat(python): Add FunctionSerializer for function serialization by @esafak in https://github.com/apache/fory/pull/2404feat: Implement ObjectSerializer for custom objects by @esafak in https://github.com/apache/fory/pull/2413feat(scala): support scala object with default values by @chaokunyang in https://github.com/apache/fory/pull/2412refactor(java): refactor java default value support for scala/kotlin by @chaokunyang in https://github.com/apache/fory/pull/2415feat(kotlin): support default value for kotlin data class by @chaokunyang in https://github.com/apache/fory/pull/2416feat(kotlin): add cache to kotlin default value support by @chaokunyang in https://github.com/apache/fory/pull/2419refactor(ci): Migrate CI runner to Python scripts by @esafak in https://github.com/apache/fory/pull/2406feat(java): use java11 for fory-format module by @chaokunyang in https://github.com/apache/fory/pull/2448feat(python): add register api for python by @chaokunyang in https://github.com/apache/fory/pull/2451feat(java): add graalvm 23 ci by @chaokunyang in https://github.com/apache/fory/pull/2463  ","version":null,"tagName":"h2"},{"title":"Bug Fix‚Äã","type":1,"pageTitle":"Fory v0.12.0 Released","url":"/zh-CN/blog/fory_0_12_0_release#bug-fix","content":" fix: tidy up issues in scala_guide.md by @pjfanning in https://github.com/apache/fory/pull/2374fix(java): ClassDef header calculation error by @LiangliangSui in https://github.com/apache/fory/pull/2382ci(python): Build manylinux_2_28 wheels using auditwheel by @esafak in https://github.com/apache/fory/pull/2381fix: Correct pyarrow installation check and add bazel troubleshooting by @esafak in https://github.com/apache/fory/pull/2418fix(go): fix type writing and reading logic in slice by @lzaeh in https://github.com/apache/fory/pull/2427fix(rust): fix rust lint error by @chaokunyang in https://github.com/apache/fory/pull/2447fix(java): crash when map only contains null value by @LouisLou2 in https://github.com/apache/fory/pull/2444fix(java): MemoryBuffer::readChars by @LouisLou2 in https://github.com/apache/fory/pull/2438fix(java): fix java deploy with different java versions by @chaokunyang in https://github.com/apache/fory/pull/2449fix(java): fix install jdks by @chaokunyang in https://github.com/apache/fory/pull/2450fix(java): fix maven deploy by @chaokunyang in https://github.com/apache/fory/pull/2452fix(java): fix shade janino duplciate entry by @chaokunyang in https://github.com/apache/fory/pull/2453fix(java): fix extension java module conflict by @chaokunyang in https://github.com/apache/fory/pull/2455fix(java): fix extension java module conflict by @chaokunyang in https://github.com/apache/fory/pull/2456fix(java): fix decode classdef for abstract classes by @chaokunyang in https://github.com/apache/fory/pull/2462fix(python): fix pyfory pypi release (#2473) by @chaokunyang in https://github.com/apache/fory/pull/2474fix(python): fix py releases macos13 by @chaokunyang in https://github.com/apache/fory/pull/2479  ","version":null,"tagName":"h2"},{"title":"Other Improvements‚Äã","type":1,"pageTitle":"Fory v0.12.0 Released","url":"/zh-CN/blog/fory_0_12_0_release#other-improvements","content":" chore(Scala): upgrade sbt and plugins by @pjfanning in https://github.com/apache/fory/pull/2379chore(python): add more comprehensive test parameters by @pandalee99 in https://github.com/apache/fory/pull/2377chore(Scala): remove var that can be mutated by @pjfanning in https://github.com/apache/fory/pull/2385chore(Scala): add test for Scala 3 enum by @pjfanning in https://github.com/apache/fory/pull/2386chore(Scala): use setup-sbt CI action by @pjfanning in https://github.com/apache/fory/pull/2387chore(Scala): refactor scala test so it asserts something by @pjfanning in https://github.com/apache/fory/pull/2390chore(Scala): Create DurationTest.scala by @pjfanning in https://github.com/apache/fory/pull/2394chore(Java): handle deserialization scenario that currently throws an IndexOutOfBoundsException by @pjfanning in https://github.com/apache/fory/pull/2399chore: bump release version to 0.11.2 by @pandalee99 in https://github.com/apache/fory/pull/2403chore(deps): bump org.apache.commons:commons-lang3 from 3.12.0 to 3.18.0 in /java/fory-test-core by @dependabot[bot] in https://github.com/apache/fory/pull/2408chore(docs): Fix the names of some documents by @pandalee99 in https://github.com/apache/fory/pull/2411chore(cpp): fix duplicate copyright by @co63oc in https://github.com/apache/fory/pull/2426docs: fix ruff command by @co63oc in https://github.com/apache/fory/pull/2425chore: fix typos by @co63oc in https://github.com/apache/fory/pull/2424chore(dart): fix typos by @co63oc in https://github.com/apache/fory/pull/2428chore: fix typos by @co63oc in https://github.com/apache/fory/pull/2429chore: remove incubating by @chaokunyang in https://github.com/apache/fory/pull/2431chore: fix typos by @co63oc in https://github.com/apache/fory/pull/2433chore: fix typos by @co63oc in https://github.com/apache/fory/pull/2436chore: translate comments by @co63oc in https://github.com/apache/fory/pull/2442chore(python): add execute doc for cross langauge tests in python by @chaokunyang in https://github.com/apache/fory/pull/2420chore(java): arrow 18.3.0 by @stevenschlansker in https://github.com/apache/fory/pull/2458chore: prepare commits for releases-0.12 by @chaokunyang in https://github.com/apache/fory/pull/2470chore(python): disable import format warning by @chaokunyang in https://github.com/apache/fory/pull/2477  ","version":null,"tagName":"h2"},{"title":"New Contributors‚Äã","type":1,"pageTitle":"Fory v0.12.0 Released","url":"/zh-CN/blog/fory_0_12_0_release#new-contributors","content":" @co63oc made their first contribution in https://github.com/apache/fory/pull/2426  Full Changelog: https://github.com/apache/fory/compare/v0.11.2...v0.12.0 ","version":null,"tagName":"h2"},{"title":"Fory v0.12.2 Released","type":0,"sectionRef":"#","url":"/zh-CN/blog/fory_0_12_2_release","content":"","keywords":"","version":null},{"title":"Features‚Äã","type":1,"pageTitle":"Fory v0.12.2 Released","url":"/zh-CN/blog/fory_0_12_2_release#features","content":" feat(java): bean encoder implemented interfaces honor @Ignore by @stevenschlansker in https://github.com/apache/fory/pull/2576feat(java): support limit deserialization depth by @chaokunyang in https://github.com/apache/fory/pull/2578  ","version":null,"tagName":"h2"},{"title":"Bug Fixes‚Äã","type":1,"pageTitle":"Fory v0.12.2 Released","url":"/zh-CN/blog/fory_0_12_2_release#bug-fixes","content":" fix(ci): Install pyfory for golang xlang tests by @esafak in https://github.com/apache/fory/pull/2561fix(ci): Exit with subprocess return code in run_ci.py by @esafak in https://github.com/apache/fory/pull/2560fix(java): fix codegen name conflict by @chaokunyang in https://github.com/apache/fory/pull/2565fix(java): Skip calculation of classVersionHash if checkClassVersion by @theigl in https://github.com/apache/fory/pull/2573fix(java): skip hash compute for abstract field type by @chaokunyang in https://github.com/apache/fory/pull/2575fix(java): row format buffer recycling leaves offset and size for null by @stevenschlansker in https://github.com/apache/fory/pull/2540  ","version":null,"tagName":"h2"},{"title":"Improvements‚Äã","type":1,"pageTitle":"Fory v0.12.2 Released","url":"/zh-CN/blog/fory_0_12_2_release#improvements","content":" refactor(java): refactor fory java exception hierarchical structure by @chaokunyang in https://github.com/apache/fory/pull/2577  Full Changelog: https://github.com/apache/fory/compare/v0.12.1...v0.12.2 ","version":null,"tagName":"h2"},{"title":"Fory v0.12.3 Released","type":0,"sectionRef":"#","url":"/zh-CN/blog/fory_0_12_3_release","content":"","keywords":"","version":null},{"title":"Features‚Äã","type":1,"pageTitle":"Fory v0.12.3 Released","url":"/zh-CN/blog/fory_0_12_3_release#features","content":" feat(java): support concurent map serialization when being updated by @chaokunyang in https://github.com/apache/fory/pull/2617feat(python): support limit pyfory depth by @chaokunyang in https://github.com/apache/fory/pull/2625feat(python): drop-in replacement for pickle serialization by @chaokunyang in https://github.com/apache/fory/pull/2629  ","version":null,"tagName":"h2"},{"title":"Bug Fixes‚Äã","type":1,"pageTitle":"Fory v0.12.3 Released","url":"/zh-CN/blog/fory_0_12_3_release#bug-fixes","content":" fix(java): fix get nested genericType for codegen by @chaokunyang in https://github.com/apache/fory/pull/2632  Full Changelog: https://github.com/apache/fory/compare/v0.12.2...v0.12.3 ","version":null,"tagName":"h2"},{"title":"Fory v0.12.1 Released","type":0,"sectionRef":"#","url":"/zh-CN/blog/fory_0_12_1_release","content":"","keywords":"","version":null},{"title":"Features‚Äã","type":1,"pageTitle":"Fory v0.12.1 Released","url":"/zh-CN/blog/fory_0_12_1_release#features","content":" feat(python): set default languge to python for pyfory by @chaokunyang in https://github.com/apache/fory/pull/2490feat(python): add register api to python by @chaokunyang in https://github.com/apache/fory/pull/2491  ","version":null,"tagName":"h2"},{"title":"Bug Fixes‚Äã","type":1,"pageTitle":"Fory v0.12.1 Released","url":"/zh-CN/blog/fory_0_12_1_release#bug-fixes","content":" Ensure Encoders.mapEncoder loads bean classes correctly by @stevenschlansker in https://github.com/apache/fory/pull/2494fix(java): row format generated bean types handling Optional by @stevenschlansker in https://github.com/apache/fory/pull/2497fix(java): fix addListener not releasing the lock by @open-snail in https://github.com/apache/fory/pull/2500  ","version":null,"tagName":"h2"},{"title":"Improvements‚Äã","type":1,"pageTitle":"Fory v0.12.1 Released","url":"/zh-CN/blog/fory_0_12_1_release#improvements","content":" Improve PyPI landing page and add row-format documentation (https://github.com/apache/fory/pull/2498, https://github.com/apache/fory/pull/2499)Refactor python release workflow by @esafak in https://github.com/apache/fory/pull/2483 https://github.com/apache/fory/pull/2532chore: translate Chinese comments into English by @Asnowww in https://github.com/apache/fory/pull/2503  ","version":null,"tagName":"h2"},{"title":"New Contributors‚Äã","type":1,"pageTitle":"Fory v0.12.1 Released","url":"/zh-CN/blog/fory_0_12_1_release#new-contributors","content":" @Asnowww made their first contribution in https://github.com/apache/fory/pull/2503@open-snail made their first contribution in https://github.com/apache/fory/pull/2500  Full Changelog: https://github.com/apache/fory/compare/v0.12.0...v0.12.1 ","version":null,"tagName":"h2"},{"title":"Fory v0.13.2 Released","type":0,"sectionRef":"#","url":"/zh-CN/blog/fory_0_13_2_release","content":"","keywords":"","version":null},{"title":"Highlights‚Äã","type":1,"pageTitle":"Fory v0.13.2 Released","url":"/zh-CN/blog/fory_0_13_2_release#highlights","content":" perf(rust): use thread local to manage fory rust WriteContext/ReadContext by @chaokunyang inhttps://github.com/apache/fory/pull/2946feat(rust): add typename to unregistered error message by @chaokunyang in https://github.com/apache/fory/pull/2881  ","version":null,"tagName":"h2"},{"title":"Features‚Äã","type":1,"pageTitle":"Fory v0.13.2 Released","url":"/zh-CN/blog/fory_0_13_2_release#features","content":" feat(rust): add fory config for rust by @chaokunyang in https://github.com/apache/fory/pull/2947perf(rust): use thread local to manage fory rust WriteContext/ReadContext by @chaokunyang inhttps://github.com/apache/fory/pull/2946perf(rust): use segmented pool to reduce contention of fory pool by @chaokunyang inhttps://github.com/apache/fory/pull/2945feat(Rust): Support u128 &amp; u128_array by @urlyy in https://github.com/apache/fory/pull/2899perf(rust): optimize buffer write read perf by @chaokunyang in https://github.com/apache/fory/pull/2892feat(rust): direct derive primitve write/read by @chaokunyang in https://github.com/apache/fory/pull/2890refactor(rust): merge fory_debug into fory macro attr by @chaokunyang in https://github.com/apache/fory/pull/2883perf(rust): support criterion profiler to generate flamegraph by @chaokunyang inhttps://github.com/apache/fory/pull/2882feat(rust): add typename to unregistered error message by @chaokunyang in https://github.com/apache/fory/pull/2881feat(rust): add duration serializer support by @chaokunyang in https://github.com/apache/fory/pull/2878feat(python): add raw method to buffer object by @chaokunyang in https://github.com/apache/fory/pull/2875feat: refine python module check by @chaokunyang in https://github.com/apache/fory/pull/2952  ","version":null,"tagName":"h2"},{"title":"Bug Fix‚Äã","type":1,"pageTitle":"Fory v0.13.2 Released","url":"/zh-CN/blog/fory_0_13_2_release#bug-fix","content":" fix(kotlin): support Kotlin field with Java reserved world by @chaokunyang inhttps://github.com/apache/fory/pull/2948fix(rust): raise error for nested polymorphics for collection by @chaokunyang inhttps://github.com/apache/fory/pull/2934fix(rust): fix array field support by @chaokunyang in https://github.com/apache/fory/pull/2933fix(Rust): fix Binary implementation by @urlyy in https://github.com/apache/fory/pull/2902  ","version":null,"tagName":"h2"},{"title":"Other Improvements‚Äã","type":1,"pageTitle":"Fory v0.13.2 Released","url":"/zh-CN/blog/fory_0_13_2_release#other-improvements","content":" docs(java): add logging section by @mosinnik in https://github.com/apache/fory/pull/2905docs: fix cargo benchmark comand in doc by @chaokunyang in https://github.com/apache/fory/pull/2897chore: move benchmarks to separate dir to speed up ci build by @chaokunyang inhttps://github.com/apache/fory/pull/2894chore(CI): Fix cache with symlinks by @PrakashRaj-GK in https://github.com/apache/fory/pull/2893chore(CI): Add caching for bazel in github workflows by @PrakashRaj-GK in https://github.com/apache/fory/pull/2888chore(Java): Update java quickstart doc, for note register order-sensitive by @monk inhttps://github.com/apache/fory/pull/2837docs(rust): remove redundant doc for shared reference by @chaokunyang in https://github.com/apache/fory/pull/2879chore(rust): fix tuple test comment by @chaokunyang in https://github.com/apache/fory/pull/2877docs: fix broken table in in java_serialization_guide.md by @mosinnik in https://github.com/apache/fory/pull/2876  Full Changelog: https://github.com/apache/fory/compare/v0.13.1...v0.13.2 ","version":null,"tagName":"h2"},{"title":"Fory v0.11.0 Released","type":0,"sectionRef":"#","url":"/zh-CN/blog/fory_0_11_0_release","content":"","keywords":"","version":null},{"title":"Highlights‚Äã","type":1,"pageTitle":"Fory v0.11.0 Released","url":"/zh-CN/blog/fory_0_11_0_release#highlights","content":" Add Dart Serialization supportChunk-based map serialization for Java/Python with performance optimizations and XLang supportCross-language homogeneous collection serialization between Java/PythonRefactor XLang type system and serialization for fory goPerformance improvements in Python (dict/tuple/list serialization, C-API optimization)Row format evolution with support for Optional, Records, nested beans, and interface synthesisUnify Java and XLang object serialization with cross-language compatibility for enums, time, arrays, and moreRenamed Apache Fury to Apache Fory  ","version":null,"tagName":"h2"},{"title":"Breaking Changes‚Äã","type":1,"pageTitle":"Fory v0.11.0 Released","url":"/zh-CN/blog/fory_0_11_0_release#breaking-changes","content":" Renamed Apache Fury to Apache Fory, this transition impacts all project components including code repositories, maven groupId, jar names, package names, documentation, and communication channels and the source release name (and location), see Rename Announcement for more details.  ","version":null,"tagName":"h2"},{"title":"Features‚Äã","type":1,"pageTitle":"Fory v0.11.0 Released","url":"/zh-CN/blog/fory_0_11_0_release#features","content":" feat(java): ReplaceResolveSerializer deep copy by @zhaommmmomo in https://github.com/apache/fory/pull/1925perf(python): Enhance the Python benchmark script by @penguin-wwy in https://github.com/apache/fory/pull/1926perf(python): Improve tuple and list serializer performance by @penguin-wwy in https://github.com/apache/fory/pull/1933feat(python): Implement collection serialization protocol by @penguin-wwy in https://github.com/apache/fory/pull/1942perf(python): Pre-allocate size for the dictionary by @penguin-wwy in https://github.com/apache/fory/pull/1949feat(java): use varint for jdk compatible serializers by @chaokunyang in https://github.com/apache/fory/pull/1960feat(java): configurable buffer size limit by @theigl in https://github.com/apache/fory/pull/1963perf(python): Directly access the key-value pairs of a dict by @penguin-wwy in https://github.com/apache/fory/pull/1970feat(python): Hardcoding metastring into passable parameters by @pandalee99 in https://github.com/apache/fory/pull/1987feat(java/python): new xlang type system spec implementation by @chaokunyang in https://github.com/apache/fory/pull/1690feat(c++): Support the UTF-8 to UTF-16 with SIMD by @pandalee99 in https://github.com/apache/fory/pull/1990feat(python): support latin1/utf16 string encoding in python by @chaokunyang in https://github.com/apache/fory/pull/1997feat(c++): add simd accelerated c++ ascii/latin1 check funcion by @chaokunyang in https://github.com/apache/fory/pull/1999perf(python): get object dict for faster field read/write by @chaokunyang in https://github.com/apache/fory/pull/2003perf(python): optimize bytes buffer creation by @chaokunyang in https://github.com/apache/fory/pull/2008feat(java): make 4 bytes utf16 size header optional for utf8 encoding by @chaokunyang in https://github.com/apache/fory/pull/2010feat(ci): support building python on windows by @An-DJ in https://github.com/apache/fory/pull/1885feat(java): Chunk by chunk predictive map serialization protocol by @Hen1ng in https://github.com/apache/fory/pull/1722feat(java): support streaming encode/decode to/from buffer for row format by @chaokunyang in https://github.com/apache/fory/pull/2024feat(c++): Add benchmark for performance evaluation by @pandalee99 in https://github.com/apache/fory/pull/2023feat(java): new implementation and protocol refine for chunk based map serialization by @chaokunyang in https://github.com/apache/fory/pull/2025feat(c++): BenchMark will be a Module by @pandalee99 in https://github.com/apache/fory/pull/2028feat(java): jit support for chunk based map serialization by @chaokunyang in https://github.com/apache/fory/pull/2027feat(java): Add basicMultiConfigFury dataprovider and add basic map unit test use the dataProvider by @Hen1ng in https://github.com/apache/fory/pull/2032feat(python): unify type system between python and xlang serialization in pyfury by @chaokunyang in https://github.com/apache/fory/pull/2034feat(java): deserialize one pojo into another type by @orisgarno in https://github.com/apache/fory/pull/2012feat(python): chunk based map serialization for python by @chaokunyang in https://github.com/apache/fory/pull/2038feat(python): add macos pyfury ci by @chaokunyang in https://github.com/apache/fory/pull/2041feat(python): automatic release pyfury on macos and windows by @chaokunyang in https://github.com/apache/fory/pull/2045feat(javascript): optimize string serializer by @theweipeng in https://github.com/apache/fory/pull/2043feat(java): zstd meta compressor by @orisgarno in https://github.com/apache/fory/pull/2042feat(python): support 3.13 by @penguin-wwy in https://github.com/apache/fory/pull/2046feat(java): support register type by name in java by @chaokunyang in https://github.com/apache/fory/pull/2053feat(spec): remove polymorphic from type id by @chaokunyang in https://github.com/apache/fory/pull/2054feat(java): Add fastpath for collection/map serialize and deserialize by @Hen1ng in https://github.com/apache/fory/pull/2050perf(python): upgrade pyarrow version to 15.0.0 by @pandalee99 in https://github.com/apache/fory/pull/2056feat(python): chunk based map serialization in pure python by @pandalee99 in https://github.com/apache/fory/pull/2037build(bazel): Extracts compile_commands.json by @penguin-wwy in https://github.com/apache/fory/pull/2059feat(javascript): simplify the definition of object type description by @theweipeng in https://github.com/apache/fory/pull/2058perf(java): Optimize Computational Efficiency of MetaStringEncoder::encodeGeneric by @LouisLou2 in https://github.com/apache/fory/pull/2072feat(javascript): Impl xlang by @theweipeng in https://github.com/apache/fory/pull/2075perf(python): Optimize sequence buffer writing via the c-api by @penguin-wwy in https://github.com/apache/fory/pull/2078feat(javascript): Speed up string serializer by @theweipeng in https://github.com/apache/fory/pull/2083feat(java): extra entry in disallowed.txt by @pjfanning in https://github.com/apache/fory/pull/2098perf(java): Refactor ThreadPoolFury to improve performance by @moooonk in https://github.com/apache/fory/pull/2092perf(java): Improve performance by using System.arraycopy to copy between byte arrays by @Cybermaxke in https://github.com/apache/fory/pull/2101feat(java): use sha256 to check disallowed.txt tamper by @chaokunyang in https://github.com/apache/fory/pull/2102perf(java): Refactor field sorting in StructSerializer to cache transformed field names and avoid redundant computation by @LouisLou2 in https://github.com/apache/fory/pull/2091feat(java): support passed tracking ref meta when building serializers by @chaokunyang in https://github.com/apache/fory/pull/2113feat(java): support nested bean in array/collection/map for row format by @chaokunyang in https://github.com/apache/fory/pull/2116feat(java): support inconsistent registration by name/id by @chaokunyang in https://github.com/apache/fory/pull/2120feat: xlang map chunk serialization between java/python by @chaokunyang in https://github.com/apache/fory/pull/2127feat: xlang homogeneous collection serialization between java/python by @chaokunyang in https://github.com/apache/fory/pull/2130feat(chore): bump version support kotlin by @chaokunyang in https://github.com/apache/fory/pull/2134feat(dart): Add Fury Dart Support by @LouisLou2 in https://github.com/apache/fory/pull/2112refactor(java): refactor object serializer for unifying xlang/java serialization in java by @chaokunyang in https://github.com/apache/fory/pull/2139refactor(java): move methods from object serializer to abstract object serializer by @chaokunyang in https://github.com/apache/fory/pull/2140feat(java): unify java and xlang object serialization by @chaokunyang in https://github.com/apache/fory/pull/2146feat(java): support enum/time/array final types in xlang serialization by @chaokunyang in https://github.com/apache/fory/pull/2164feat(java): FuryField annotation hints for struct serialization by @Hen1ng in https://github.com/apache/fory/pull/2036feat(kotlin): add kotlin ci by @pandalee99 in https://github.com/apache/fory/pull/2176perf(kotlin): Add multiple versions of kotlin CI by @pandalee99 in https://github.com/apache/fory/pull/2184feat(dart): add test_config.yaml and apply TestConfig for environment-specific settings by @LouisLou2 in https://github.com/apache/fory/pull/2183feat: add Dart to Language enums across all implementations by @LouisLou2 in https://github.com/apache/fory/pull/2187feat(go): fury go implements new xlang by @pandalee99 in https://github.com/apache/fory/pull/2198feat(java): add protobuf serializer for message and byte string by @chaokunyang in https://github.com/apache/fory/pull/2213feat(spec): update type meta encoding by @chaokunyang in https://github.com/apache/fory/pull/2216feat(java): type meta encoding for xlang in java by @chaokunyang in https://github.com/apache/fory/pull/2197feat(java): support trackingRef in furyField by @Hen1ng in https://github.com/apache/fory/pull/2168feat(java): add DescriptorBuilder for easy build and copying Descriptor by @Hen1ng in https://github.com/apache/fory/pull/2229feat(java): Support furyField nullable in codeGen pattern by @Hen1ng in https://github.com/apache/fory/pull/2191feat(java): row encoder supports custom types and collections by @stevenschlansker in https://github.com/apache/fory/pull/2243test(benchmark): add msgpack serialization/deserialization to benchmark by @Kn0688 in https://github.com/apache/fory/pull/2242feat(go): fury-go implements adaptation and optimization for new xlang by @pandalee99 in https://github.com/apache/fory/pull/2230perf(c++): Evaluate the implementation effect &amp;&amp;simdutf performs partial vectorization by @pandalee99 in https://github.com/apache/fory/pull/2033feat(java): fury row encoder now supports implementing interfaces with simple value type by @stevenschlansker in https://github.com/apache/fory/pull/2250feat(java): row format supports Optional by @stevenschlansker in https://github.com/apache/fory/pull/2254feat(java): row format supports Record types by @stevenschlansker in https://github.com/apache/fory/pull/2256perf(go): Optimize the type registration system &amp;&amp; Reduce useless code by @pandalee99 in https://github.com/apache/fory/pull/2262feat(java): support meta shared serialization for xlang in java by @chaokunyang in https://github.com/apache/fory/pull/2276feat(python): replace &quot;_class&quot; prefix with &quot;_type&quot; in metashare by @urlyy in https://github.com/apache/fory/pull/2290feat(java): Adding explanatory message to deserializeNonexistentClass misconfiguration in Config by @drse in https://github.com/apache/fory/pull/2300feat(java): row encoder supports synthesizing interfaces nested inside of records by @stevenschlansker in https://github.com/apache/fory/pull/2304feat(java): Support customized serializer for abstract or interface. by @CherishCai in https://github.com/apache/fory/pull/2311feat(java): row encoder supports custom rewriting values without changing their type by @stevenschlansker in https://github.com/apache/fory/pull/2305feat(java): support multi-dimensional array field serialization in xlang meta shared mode by @OmCheeLin in https://github.com/apache/fory/pull/2314feat(python): bump cython to 3.1.1 by @penguin-wwy in https://github.com/apache/fory/pull/2318  ","version":null,"tagName":"h2"},{"title":"Bug Fix‚Äã","type":1,"pageTitle":"Fory v0.11.0 Released","url":"/zh-CN/blog/fory_0_11_0_release#bug-fix","content":" fix(doc): set compressString default value to false by @chaokunyang in https://github.com/apache/fory/pull/1913fix(java): Move schema caching to unsafe trait to avoid issues when using non-inferred schema. by @wywen in https://github.com/apache/fory/pull/1944fix(java): ClassLoaderFuryPooled#setFactoryCallback cannot effect old Fury by @MrChang0 in https://github.com/apache/fory/pull/1946fix(java): fix find constructor error in generated serializer class caused by duplicated class classloading for Fury by @chaokunyang in https://github.com/apache/fory/pull/1948fix(c++): fix bazel install by @chaokunyang in https://github.com/apache/fory/pull/1979fix(java): Fix flakiness in ExpressionVisitorTest#testTraverseExpression by @AmitPr in https://github.com/apache/fory/pull/1968fix(java): only print warn message if scopedMetaShareEnabled is true ‚Ä¶ by @zhfeng in https://github.com/apache/fory/pull/1985fix(java): Fix the issue caused by not using readCompressedBytesString during deserialization when string compression is enabled. by @Aliothmoon in https://github.com/apache/fory/pull/1991fix(java): Compatible mode on de/serialize api failed to deserialize by @orisgarno in https://github.com/apache/fory/pull/1996fix(java): chunk map serialize an error by @Hen1ng in https://github.com/apache/fory/pull/2030fix(java): fix duplicate entry write at max chunk size bound by @chaokunyang in https://github.com/apache/fory/pull/2040fix(java): Remove duplicate maven dependency by @Hen1ng in https://github.com/apache/fory/pull/2044fix(python): Fix missing parameters and old API names by @pandalee99 in https://github.com/apache/fory/pull/2049fix(java): fix read null chunk out of bound by @chaokunyang in https://github.com/apache/fory/pull/2065fix(java): Fix error with MemoryBuffer::readBytesAsInt64 when not in LITTLE_ENDIAN mode by @LouisLou2 in https://github.com/apache/fory/pull/2069fix(java): fix read primitives error on fill buffer bound by @chaokunyang in https://github.com/apache/fory/pull/2064fix(java): java.util.Date and its subclasses are mutable by @moooonk in https://github.com/apache/fory/pull/2076fix(java): fix ImmutableCollections$SubList duplicate registration by @w-yfan in https://github.com/apache/fory/pull/2074fix(java): Modify some mistake by @Hen1ng in https://github.com/apache/fory/pull/2086fix(python): inconsistent struct hash calculation between Java and Python by @LouisLou2 in https://github.com/apache/fory/pull/2108fix(java): fix serialization npe of collection with all null elems by @chaokunyang in https://github.com/apache/fory/pull/2111fix(java): fix not null value flag by @chaokunyang in https://github.com/apache/fory/pull/2114fix(java): use registered id to sort fields by @chaokunyang in https://github.com/apache/fory/pull/2115fix(java): fix disallowed.txt check in windows by @chaokunyang in https://github.com/apache/fory/pull/2128fix(java): fix nested chunk map serialization error when generics exists by @chaokunyang in https://github.com/apache/fory/pull/2136fix(java): fix DisallowedList calculate hash in Windows by @moooonk in https://github.com/apache/fory/pull/2142fix(java): fix fury logger log exception by @chaokunyang in https://github.com/apache/fory/pull/2153fix(java): fix xlang container field deserialization type error by @chaokunyang in https://github.com/apache/fory/pull/2161fix(java): fix nested map chunk serialization codegen by @chaokunyang in https://github.com/apache/fory/pull/2172fix(kotlin): fix kotlin compile error by @chaokunyang in https://github.com/apache/fory/pull/2173fix(dart): fix inappropriate naming and align test titles by @LouisLou2 in https://github.com/apache/fory/pull/2180fix(dart): replace string-based type selection with enum in FixedNum factory method by @LouisLou2 in https://github.com/apache/fory/pull/2185fix(java): ensure readVarUint36Small reads full bits regardless of remaining buffer size by @LouisLou2 in https://github.com/apache/fory/pull/2179test(java): add test for fix of readVarUint36Small behavior by @LouisLou2 in https://github.com/apache/fory/pull/2186fix(python): fix pyfury build using pyproject.toml by @chaokunyang in https://github.com/apache/fory/pull/2206fix(java): ensure FuryObjectInputStream.read never returns 0 when length&gt;0 #2204 by @X-czh in https://github.com/apache/fory/pull/2205fix(python): TimestampSerializer fails on Windows for naive datetimes near epoch by @LouisLou2 in https://github.com/apache/fory/pull/2209fix(java): Fix empty string processing in MetaStringBytes by @LouisLou2 in https://github.com/apache/fory/pull/2212fix(java): fix field super class missing in compatible mode by @chaokunyang in https://github.com/apache/fory/pull/2214fix(java): mark fury-test-core as test dep in fury extensions by @chaokunyang in https://github.com/apache/fory/pull/2231fix(java): MemoryBuffer getRemainingBytes can return unexpected results on a slice by @stevenschlansker in https://github.com/apache/fory/pull/2237fix(java): use serialization binding by @Hen1ng in https://github.com/apache/fory/pull/2241fix(C++): Fix reversed parameters and incorrect calls in string_util benchmark by @lzaeh in https://github.com/apache/fory/pull/2246fix(java): fix row type enum properties by @stevenschlansker in https://github.com/apache/fory/pull/2258fix(java): fix generics when write/read null map kv chunk by @chaokunyang in https://github.com/apache/fory/pull/2261fix(java): row encoder incorrectly interprets type parameters as cycles by @stevenschlansker in https://github.com/apache/fory/pull/2265fix(scala): Ensure singleton classes are initialized before reading by @creddy in https://github.com/apache/fory/pull/2267fix(go): fix metastringbytes inconsistency issue by @lzaeh in https://github.com/apache/fory/pull/2269fix(java): descriptors for beans should not include static methods by @stevenschlansker in https://github.com/apache/fory/pull/2281fix(java): raise exception when registering invalid serializer for Map/List by @OmCheeLin in https://github.com/apache/fory/pull/2291fix(java): xlang test skip needs correct import in newer python versions by @stevenschlansker in https://github.com/apache/fory/pull/2296fix(java): row encoder interface synthesis handle (Optional) null correctly by @stevenschlansker in https://github.com/apache/fory/pull/2306fix(java): Use (long, long, byte) key for MetaStringBytes cache to prevent collisions by @LouisLou2 in https://github.com/apache/fory/pull/2308fix(python): update python benchmark script by @penguin-wwy in https://github.com/apache/fory/pull/2315  ","version":null,"tagName":"h2"},{"title":"Other Improvements‚Äã","type":1,"pageTitle":"Fory v0.11.0 Released","url":"/zh-CN/blog/fory_0_11_0_release#other-improvements","content":" chore(ci): Migrate the ci from macOS 12 to macOS 13 by @penguin-wwy in https://github.com/apache/fory/pull/1927chore: bump release version to 0.9.0 by @chaokunyang in https://github.com/apache/fory/pull/1940chore(Rust): fix lint problems by @theweipeng in https://github.com/apache/fory/pull/1962docs(java): add object mapping example and tests by @chaokunyang in https://github.com/apache/fory/pull/1974chore(python): drop py3.7 support by @chaokunyang in https://github.com/apache/fory/pull/1981chore(c++): Function inlining and code tuning by @pandalee99 in https://github.com/apache/fory/pull/2002style(cpp): rename logging level with &quot;FURY_&quot; prefix by @An-DJ in https://github.com/apache/fory/pull/2016docs: update copyright date in NOTICE by @caicancai in https://github.com/apache/fory/pull/2029docs(java): update java serialization schema compatibility doc by @chaokunyang in https://github.com/apache/fory/pull/2047docs: Update to latest version by @theweipeng in https://github.com/apache/fory/pull/2080Update snapshot version by @chaokunyang in https://github.com/apache/fory/pull/2081chore: remove required_linear_history by @chaokunyang in https://github.com/apache/fory/pull/2122chore: fix license issue by @chaokunyang in https://github.com/apache/fory/pull/2137chore(java): use the SHA256_HASH field value directly. by @LiangliangSui in https://github.com/apache/fory/pull/2144chore(java): Update the content that needs to be corrected when reading the code. by @LiangliangSui in https://github.com/apache/fory/pull/2143chore: update copyright year to 2025 by @chaokunyang in https://github.com/apache/fory/pull/2149chore: bump release version to 0.10.1 by @chaokunyang in https://github.com/apache/fory/pull/2151chore(dart): remove unused dart/fury-test/lib/main.dart by @LouisLou2 in https://github.com/apache/fory/pull/2181chore: bump release version to 0.10.2 by @LiangliangSui in https://github.com/apache/fory/pull/2207chore(java): reduce java test log by @chaokunyang in https://github.com/apache/fory/pull/2217chore(.asf.yaml): enable rebase-and-merge button by @chaokunyang in https://github.com/apache/fory/pull/2220chore(github): fix YAML warnings about spaces before comments by @stevenschlansker in https://github.com/apache/fory/pull/2225chore(java): janino 3.1.12 by @stevenschlansker in https://github.com/apache/fory/pull/2226chore(java): jdk 24 build support by @stevenschlansker in https://github.com/apache/fory/pull/2224chore(javascript): remove nodejs 12 support by @chaokunyang in https://github.com/apache/fory/pull/2233chore(java): gitignore testng output by @stevenschlansker in https://github.com/apache/fory/pull/2238chore: fix clippy warning by @theweipeng in https://github.com/apache/fory/pull/2240chore: Delete the redundant comments and add the document by @pandalee99 in https://github.com/apache/fory/pull/2244chore: bump release version to 0.10.3 by @pandalee99 in https://github.com/apache/fory/pull/2252chore: rename apache fury to apache fory by @chaokunyang in https://github.com/apache/fory/pull/2263chore: keep fury for maven artifact by @chaokunyang in https://github.com/apache/fory/pull/2264chore(java): skip xlang tests when pyfory is not available by @stevenschlansker in https://github.com/apache/fory/pull/2266chore(java): Use crossLanguage instead of language in Fory by @CherishCai in https://github.com/apache/fory/pull/2274chore(java): fix xlang test skip in the case where there is no Python at all by @stevenschlansker in https://github.com/apache/fory/pull/2280chore(java): gitignore test-output from integration_tests as well as java by @stevenschlansker in https://github.com/apache/fory/pull/2282chore: update fory rename in README.md by @chaokunyang in https://github.com/apache/fory/pull/2292chore: Some Fory changes in README.md by @pjfanning in https://github.com/apache/fory/pull/2295chore: update fory logo by @chaokunyang in https://github.com/apache/fory/pull/2298chore(java): skip find customized serializer when absClassInfo is empty by @CherishCai in https://github.com/apache/fory/pull/2316  ","version":null,"tagName":"h2"},{"title":"New Contributors‚Äã","type":1,"pageTitle":"Fory v0.11.0 Released","url":"/zh-CN/blog/fory_0_11_0_release#new-contributors","content":" @theigl made their first contribution in https://github.com/apache/fory/pull/1963@AmitPr made their first contribution in https://github.com/apache/fory/pull/1968@zhfeng made their first contribution in https://github.com/apache/fory/pull/1985@Hen1ng made their first contribution in https://github.com/apache/fory/pull/1722@LouisLou2 made their first contribution in https://github.com/apache/fory/pull/2069@moooonk made their first contribution in https://github.com/apache/fory/pull/2076@w-yfan made their first contribution in https://github.com/apache/fory/pull/2074@Cybermaxke made their first contribution in https://github.com/apache/fory/pull/2101@X-czh made their first contribution in https://github.com/apache/fory/pull/2205@stevenschlansker made their first contribution in https://github.com/apache/fory/pull/2225@Kn0688 made their first contribution in https://github.com/apache/fory/pull/2242@lzaeh made their first contribution in https://github.com/apache/fory/pull/2246@creddy made their first contribution in https://github.com/apache/fory/pull/2267@CherishCai made their first contribution in https://github.com/apache/fory/pull/2274@OmCheeLin made their first contribution in https://github.com/apache/fory/pull/2291@drse made their first contribution in https://github.com/apache/fory/pull/2300  Full Changelog: https://github.com/apache/fory/compare/v0.10.3...v0.11.0-rc2 ","version":null,"tagName":"h2"},{"title":"Fory v0.13.1 Released","type":0,"sectionRef":"#","url":"/zh-CN/blog/fory_0_13_1_release","content":"","keywords":"","version":null},{"title":"Highlights‚Äã","type":1,"pageTitle":"Fory v0.13.1 Released","url":"/zh-CN/blog/fory_0_13_1_release#highlights","content":" Support rust enum variant and schema evolution for tuple/struct style enumSupport rust tuple serialization and schema evolutionSupport rust skip macro attributes  ","version":null,"tagName":"h2"},{"title":"Enum Schema Evolution‚Äã","type":1,"pageTitle":"Fory v0.13.1 Released","url":"/zh-CN/blog/fory_0_13_1_release#enum-schema-evolution","content":" Fory v0.13.1 adds comprehensive enum schema evolution in Compatible mode, supporting all three variant types (Unit, Unnamed, Named):  Add/remove variants: Unknown variants fall back to #[fory(default)]Add/remove fields: Named variants support field evolution with automatic defaultsModify elements: Unnamed variants handle element count changes (extras skipped, missing use defaults)Variant type changes: Convert between Unit/Unnamed/Named with automatic default values  // Version 1 #[derive(ForyObject)] enum Command { #[fory(default)] Noop, Execute { name: String, args: i32 }, } // Version 2 - Added field and new variant // both `fory(default)` and standard `default` are supported #[derive(Default, ForyObject)] enum Command { #[default] Noop, Execute { name: String, args: i32, env: String }, // Added 'env' Cancel { reason: String }, // New variant } // V1‚ÜíV2: Missing 'env' gets default &quot;&quot;; Cancel‚ÜíNoop fallback in V1 // V2‚ÜíV1: Extra 'env' skipped; Cancel‚ÜíNoop fallback   ","version":null,"tagName":"h3"},{"title":"Tuple Schema Evolution‚Äã","type":1,"pageTitle":"Fory v0.13.1 Released","url":"/zh-CN/blog/fory_0_13_1_release#tuple-schema-evolution","content":" Tuples (1-22 elements) now support length evolution in Compatible mode:  Length changes: Grow or shrink tuple size (missing elements get defaults, extras discarded)Collections: Vec, HashMap, HashSet elements fully supportedNested tuples: Multi-level nesting with independent evolution per levelSmart pointers: Option, Arc, Rc wrapped elements handle evolution correctlyStruct fields: Tuple fields in structs evolve independently  let fory = Fory::default().compatible(true); // Serialize 2-element tuple let short = (42i32, &quot;hello&quot;.to_string()); let bin = fory.serialize(&amp;short).unwrap(); // Deserialize as 4-element tuple - extras get defaults let long: (i32, String, f64, bool) = fory.deserialize(&amp;bin).unwrap(); assert_eq!(long, (42, &quot;hello&quot;.to_string(), 0.0, false)); // Reverse: 4‚Üí2 elements, extras discarded let long = (100i32, &quot;world&quot;.to_string(), 3.14, true); let bin = fory.serialize(&amp;long).unwrap(); let short: (i32, String) = fory.deserialize(&amp;bin).unwrap(); assert_eq!(short, (100, &quot;world&quot;.to_string()));   ","version":null,"tagName":"h3"},{"title":"Features‚Äã","type":1,"pageTitle":"Fory v0.13.1 Released","url":"/zh-CN/blog/fory_0_13_1_release#features","content":" feat(rust): add rust benchmark report script and result by @chaokunyang in https://github.com/apache/fory/pull/2835feat(rust): rust benchmark print serialized data size by @chaokunyang in https://github.com/apache/fory/pull/2845feat(rust): Support rust tagged union enum by @urlyy in https://github.com/apache/fory/pull/2855feat(rust): support unsigned number for rust by @chaokunyang in https://github.com/apache/fory/pull/2857feat(rust): support rust tuple serialization and schema evolution by @chaokunyang in https://github.com/apache/fory/pull/2858feat(go): implement new field ordering and type hash algorithm by @ThisingL in https://github.com/apache/fory/pull/2868feat: support fory skip macro attributes(#2864) by @kitty-eu-org in https://github.com/apache/fory/pull/2865feat(Rust): Support usize by @urlyy in https://github.com/apache/fory/pull/2870feat(rust): make whether write type/ref compile-time evaluation by @chaokunyang in https://github.com/apache/fory/pull/2871feat(rust): add array support for rust by @chaokunyang in https://github.com/apache/fory/pull/2874feat(rust): support enum variant for schema evolution mode by @chaokunyang in https://github.com/apache/fory/pull/2873  ","version":null,"tagName":"h2"},{"title":"Bug Fix‚Äã","type":1,"pageTitle":"Fory v0.13.1 Released","url":"/zh-CN/blog/fory_0_13_1_release#bug-fix","content":" fix: fix 0.14.0 snapshot version by @chaokunyang in https://github.com/apache/fory/pull/2842fix(java): setting the ForyJitCompilerThreadFactory to produce daemon threads by @coderunner234 in https://github.com/apache/fory/pull/2869fix: modify the depth setting in Fory to prevent duplicate registrations. by @mengnankkkk in https://github.com/apache/fory/pull/2852  ","version":null,"tagName":"h2"},{"title":"Other Improvements‚Äã","type":1,"pageTitle":"Fory v0.13.1 Released","url":"/zh-CN/blog/fory_0_13_1_release#other-improvements","content":" docs(rust): update rust benchmark report table by @chaokunyang in https://github.com/apache/fory/pull/2836chore(rust): update cargo toml for publish by @chaokunyang in https://github.com/apache/fory/pull/2838chore: bump release version to 0.13.0 by @chaokunyang in https://github.com/apache/fory/pull/2841docs: fix doc sync dest by @chaokunyang in https://github.com/apache/fory/pull/2839docs: refactor readme by @chaokunyang in https://github.com/apache/fory/pull/2843docs: add AGENTS to readme by @chaokunyang in https://github.com/apache/fory/pull/2844chore: remove agents from main readme by @chaokunyang in https://github.com/apache/fory/pull/2846docs: update readme by @chaokunyang in https://github.com/apache/fory/pull/2847docs: fix xlang type mapping link by @chaokunyang in https://github.com/apache/fory/pull/2848chore(Java): Make RustXlangTest cases independent from each other by @urlyy in https://github.com/apache/fory/pull/2834chore(java): Remove print property names by @Danden1 in https://github.com/apache/fory/pull/2860chore(python): add py3.13 release flag by @chaokunyang in https://github.com/apache/fory/pull/2872chore(rust): add tests to use #[derive(ForyObject)] in macro_rules! by @REASY in https://github.com/apache/fory/pull/2867  ","version":null,"tagName":"h2"},{"title":"New Contributors‚Äã","type":1,"pageTitle":"Fory v0.13.1 Released","url":"/zh-CN/blog/fory_0_13_1_release#new-contributors","content":" @Danden1 made their first contribution in https://github.com/apache/fory/pull/2860@coderunner234 made their first contribution in https://github.com/apache/fory/pull/2869@REASY made their first contribution in https://github.com/apache/fory/pull/2867  Full Changelog: https://github.com/apache/fory/compare/v0.13.0...v0.13.1 ","version":null,"tagName":"h2"},{"title":"Fory v0.14.1 Released","type":0,"sectionRef":"#","url":"/zh-CN/blog/fory_0_14_1_release","content":"","keywords":"","version":null},{"title":"Highlights‚Äã","type":1,"pageTitle":"Fory v0.14.1 Released","url":"/zh-CN/blog/fory_0_14_1_release#highlights","content":" feat(rust): add generate_default attr, no longer generate Default by default by @ariesdevil in https://github.com/apache/fory/pull/3074  ","version":null,"tagName":"h2"},{"title":"Features‚Äã","type":1,"pageTitle":"Fory v0.14.1 Released","url":"/zh-CN/blog/fory_0_14_1_release#features","content":" feat(rust): add generate_default attr, no longer generate Default by default by @ariesdevil in https://github.com/apache/fory/pull/3074feat(java): mark createSerializer as public by @chaokunyang  ","version":null,"tagName":"h2"},{"title":"Bug Fix‚Äã","type":1,"pageTitle":"Fory v0.14.1 Released","url":"/zh-CN/blog/fory_0_14_1_release#bug-fix","content":" fix(java): Fix CopyOnWriteArrayList field serialization by @vybhavjs in https://github.com/apache/fory/pull/3079fix(java): Better ergonomics for AllowListChecker by @Asuka-star in https://github.com/apache/fory/pull/3061fix(java): fix read class def when writing classdefs by @chaokunyang in https://github.com/apache/fory/commit/3ad627c9fix(Rust): Move the calculating of TypeMeta::bytes and TypeMeta::hash ahead of serialization by @urlyy in https://github.com/apache/fory/pull/3060fix(Rust): prevent obtaining generic type metadata on custom types(struct/enum) by @urlyy in https://github.com/apache/fory/pull/3057  Full Changelog: https://github.com/apache/fory/compare/v0.14.0...v0.14.1 ","version":null,"tagName":"h2"},{"title":"Fory v0.14.0 Released","type":0,"sectionRef":"#","url":"/zh-CN/blog/fory_0_14_0_release","content":"","keywords":"","version":null},{"title":"Highlights‚Äã","type":1,"pageTitle":"Fory v0.14.0 Released","url":"/zh-CN/blog/fory_0_14_0_release#highlights","content":" Official C++ Support: First release of Apache Fory C++ with high-performance object graph serialization, cross-language interoperability, and schema evolutionRow Format &amp; Type System: New row-oriented format type system across Java, Python, and C++, enabling row-columnar conversions and removing Arrow dependenciesPerformance Enhancements: Significant optimizations across all languages, including thread-local context in Rust and fast flat-int maps for C++ type dispatchEcosystem Updates: Added support for JDK 25 (Java), Go 1.23, and Bazel 8. Python officially marked as stable with improved build parallelismAdvanced Java Features: GraalVM Native Image support via ForyFeature and optimized serializers for blocking queues and final fieldsObjectStreamSerializer Refactoring: Refactored ObjectStreamSerializer with meta-shared compatible mode for reduced space cost and improved performance on JDK customized serialization APIs  ","version":null,"tagName":"h2"},{"title":"C++: First Release Highlights‚Äã","type":1,"pageTitle":"Fory v0.14.0 Released","url":"/zh-CN/blog/fory_0_14_0_release#c-first-release-highlights","content":" This is the first Apache Fory C++ release, delivering a complete, high-performance serialization framework for modern C++17. If you build C++ applications requiring fast serialization, cross-language communication, or schema evolution, Fory C++ provides type-safe, compile-time serialization with minimal overhead.  Key capabilities:  Macro-based struct registration via FORY_STRUCT for compile-time type safetyCross-language serialization with Java, Python, Go, Rust, and JavaScriptForward/backward compatible schema evolution (Compatible mode)Reference tracking for shared objects and circular referencesThread-safe and single-threaded (fastest) variantsComprehensive type support: primitives, std::string, std::vector, std::map, std::set, std::optional, std::shared_ptr, std::unique_ptr, std::variant, and temporal typesZero-copy Row format for analytics workloads with random field accessCMake (FetchContent) and Bazel build system support  ","version":null,"tagName":"h2"},{"title":"Quick Start‚Äã","type":1,"pageTitle":"Fory v0.14.0 Released","url":"/zh-CN/blog/fory_0_14_0_release#quick-start","content":" #include &quot;fory/serialization/fory.h&quot; using namespace fory::serialization; struct Person { std::string name; int32_t age; std::vector&lt;std::string&gt; hobbies; FORY_STRUCT(Person, name, age, hobbies); }; int main() { auto fory = Fory::builder() .xlang(true) // Enable cross-language mode .track_ref(false) // Disable ref tracking for simple types .build(); fory.register_struct&lt;Person&gt;(1); Person person{&quot;Alice&quot;, 30, {&quot;reading&quot;, &quot;coding&quot;}}; auto bytes = fory.serialize(person).value(); Person decoded = fory.deserialize&lt;Person&gt;(bytes).value(); // person == decoded return 0; }   Guide: C++ Serialization ‚Äì https://fory.apache.org/docs/docs/guide/cpp/Examples: hello_world, hello_row  ","version":null,"tagName":"h3"},{"title":"C++ Benchmarks‚Äã","type":1,"pageTitle":"Fory v0.14.0 Released","url":"/zh-CN/blog/fory_0_14_0_release#c-benchmarks","content":"   Below are timing results (nanoseconds; lower is better) comparing Fory with Protobuf across different data structures.  Datatype\tOperation\tFory (ns)\tProtobuf (ns)\tFasterMediaContent\tSerialize\t414\t2,046\tFory (4.9x) MediaContent\tDeserialize\t1,361\t2,890\tFory (2.1x) Sample\tSerialize\t210\t307\tFory (1.5x) Sample\tDeserialize\t1,061\t1,500\tFory (1.4x) Struct\tSerialize\t51\t181\tFory (3.5x) Struct\tDeserialize\t136\t170\tFory (1.3x)  Note: Results depend on hardware and implementation versions. See the C++ benchmark guide for how to run benchmarks yourself: https://github.com/apache/fory/tree/main/benchmarks/cpp_benchmark  ","version":null,"tagName":"h3"},{"title":"Features‚Äã","type":1,"pageTitle":"Fory v0.14.0 Released","url":"/zh-CN/blog/fory_0_14_0_release#features","content":" feat(python): add raw method to buffer object by @chaokunyang in https://github.com/apache/fory/pull/2875feat(rust): add duration serializer support by @chaokunyang in https://github.com/apache/fory/pull/2878feat(rust): add typename to unregistered error message by @chaokunyang in https://github.com/apache/fory/pull/2881perf(rust): support criterion profiler to generate flamegraph by @chaokunyang in https://github.com/apache/fory/pull/2882refactor(rust): merge fory_debug into fory macro attr by @chaokunyang in https://github.com/apache/fory/pull/2883feat(rust): direct derive primitve write/read by @chaokunyang in https://github.com/apache/fory/pull/2890perf(rust): optimize buffer write read perf by @chaokunyang in https://github.com/apache/fory/pull/2892feat(Rust): Support u128 &amp; u128_array by @urlyy in https://github.com/apache/fory/pull/2899feat(c++): implement fory cpp object graph serialization framework by @chaokunyang in https://github.com/apache/fory/pull/2908feat(python): pure python row-columar convert by @chaokunyang in https://github.com/apache/fory/pull/2919feat(c++): implement xlang serialization for c++ by @chaokunyang in https://github.com/apache/fory/pull/2925feat(c++/python): add row format schema and remove arrow dependency by @chaokunyang in https://github.com/apache/fory/pull/2928feat(java): implement fory row format type system by @chaokunyang in https://github.com/apache/fory/pull/2931feat(python): implement cython bazel build directly without 3rd deps by @chaokunyang in https://github.com/apache/fory/pull/2936feat(c+/python): upgrade bazel to bazel8 by @chaokunyang in https://github.com/apache/fory/pull/2937feat(java/python/c++): add schema encoder and remove arrow serializers by @chaokunyang in https://github.com/apache/fory/pull/2938feat(c++): check max dyn depth when deserializing polymorphic types by @chaokunyang in https://github.com/apache/fory/pull/2939feat(c++): add cmake build support and add cpp examples by @chaokunyang in https://github.com/apache/fory/pull/2942feat(c++ ): add cpp benchmark by @chaokunyang in https://github.com/apache/fory/pull/2943perf(rust): use segmented pool to reduce contention of fory pool by @chaokunyang in https://github.com/apache/fory/pull/2945perf(rust): use thread local to manage fory rust WriteContext/ReadContext by @chaokunyang in https://github.com/apache/fory/pull/2946feat(rust): add fory config for rust by @chaokunyang in https://github.com/apache/fory/pull/2947perf(c++): optimize cpp serialization performance by @chaokunyang in https://github.com/apache/fory/pull/2944perf(c++): remove shared_ptr from type info to reduce atomic counter cost by @chaokunyang in https://github.com/apache/fory/pull/2951feat: refine python module check by @chaokunyang in https://github.com/apache/fory/pull/2952feat(java): support jdk 25 by @chaokunyang in https://github.com/apache/fory/pull/2954feat(java): add optimized serializers for blocking queues by @zhan7236 in https://github.com/apache/fory/pull/2955perf(c++): directly error set instead of result to reduce cost on hotpath by @chaokunyang in https://github.com/apache/fory/pull/2959perf(c++): optimize primitive struct fields read performance by @chaokunyang in https://github.com/apache/fory/pull/2960feat(java): implement FinalFieldReplaceResolveSerializer for final fields with writeReplace/readResolve methods by @mchernyakov in https://github.com/apache/fory/pull/2917perf(c++): add mac profile script for c++ by @chaokunyang in https://github.com/apache/fory/pull/2962perf(c++): fair benchmark for cpp by @chaokunyang in https://github.com/apache/fory/pull/2963perf(c++): optimize type dispatch performance by a fast flat-int map by @chaokunyang in https://github.com/apache/fory/pull/2966perf(c++): add media content benchmark by @chaokunyang in https://github.com/apache/fory/pull/2968feat(c++): support polymorphic collection elements serialization by @chaokunyang in https://github.com/apache/fory/pull/2974feat(c++): add cpp tuple serializer by @chaokunyang in https://github.com/apache/fory/pull/2975refactor(xlang): use 0 for unknow type id by @chaokunyang in https://github.com/apache/fory/pull/2985feat(java): Add ForyFeature for GraalVM Native Image by @mengnankkkk in https://github.com/apache/fory/pull/2701feat(c++): support container xlang serialization with polymorphic elements by @chaokunyang in https://github.com/apache/fory/pull/2980feat(python): parallel python wheel build by @chaokunyang in https://github.com/apache/fory/pull/2989perf(c++): improve the serialization performance of array/collection by @LiangliangSui in https://github.com/apache/fory/pull/2986feat(go): upgrade go to to 1.23 by @chaokunyang in https://github.com/apache/fory/pull/2995perf(c++): centralize error state in context for faster serialization by @chaokunyang in https://github.com/apache/fory/pull/3009refactor(go): redesign serialization implementation with performance and usability improvements by @chaokunyang in https://github.com/apache/fory/pull/2998refactor(rust): merge rust type layer into TypeMeta by @chaokunyang in https://github.com/apache/fory/pull/3019ci: remove macos x86 CI for Python by @chaokunyang in https://github.com/apache/fory/pull/3023feat(c++): support unsigned type for cpp by @chaokunyang in https://github.com/apache/fory/pull/3022feat(c++): support variant-based union type serialization for c++ by @chaokunyang in https://github.com/apache/fory/pull/3032feat(java): refactor ObjectStreamSerializer to use meta shared compatible serializer by @chaokunyang in https://github.com/apache/fory/pull/3034feat(java): separate user register type id with fory registered type id by @chaokunyang in https://github.com/apache/fory/pull/3035feat(): add c++ user guide doc by @chaokunyang in https://github.com/apache/fory/pull/3037refactor(c++/rust): refine c++ serialize_to API by @chaokunyang in https://github.com/apache/fory/pull/3045  ","version":null,"tagName":"h2"},{"title":"Bug Fix‚Äã","type":1,"pageTitle":"Fory v0.14.0 Released","url":"/zh-CN/blog/fory_0_14_0_release#bug-fix","content":" fix(Rust): fix Binary implementation by @urlyy in https://github.com/apache/fory/pull/2902fix(rust): fix array field support by @chaokunyang in https://github.com/apache/fory/pull/2933fix(rust): raise error for nested polymorphics for collection by @chaokunyang in https://github.com/apache/fory/pull/2934fix(kotlin): support Kotlin field with Java reserved world by @chaokunyang in https://github.com/apache/fory/pull/2948fix(java): handle TypeVariable in row format type inference by @chaokunyang in https://github.com/apache/fory/pull/2949fix(java): use single quotes in Python command for Windows compatibility by @zhan7236 in https://github.com/apache/fory/pull/2953fix(java): fix race condition in blocking queue serializers by @zhan7236 in https://github.com/apache/fory/pull/2956fix(cpp): fix the type error by @LiangliangSui in https://github.com/apache/fory/pull/2961fix(go): fix struct value reference tracking bug by @chaokunyang in https://github.com/apache/fory/pull/2991fix(java): support serialization of CopyOnWriteArraySet by @LiangliangSui in https://github.com/apache/fory/pull/2999  ","version":null,"tagName":"h2"},{"title":"Other Improvements‚Äã","type":1,"pageTitle":"Fory v0.14.0 Released","url":"/zh-CN/blog/fory_0_14_0_release#other-improvements","content":" docs: fix broken table in in java_serialization_guide.md by @mosinnik in https://github.com/apache/fory/pull/2876chore(rust): fix tuple test comment by @chaokunyang in https://github.com/apache/fory/pull/2877docs(rust): remove redundant doc for shared reference by @chaokunyang in https://github.com/apache/fory/pull/2879chore(Java): Update java quickstart doc, for note register order-sensitive by @moooonk in https://github.com/apache/fory/pull/2837chore(CI): Add caching for bazel in github workflows by @prakash-218 in https://github.com/apache/fory/pull/2888chore(CI): Fix cache with symlinks by @prakash-218 in https://github.com/apache/fory/pull/2893chore: move benchmarks to separate dir to speed up ci build by @chaokunyang in https://github.com/apache/fory/pull/2894docs: fix rust benchmark links by @chaokunyang in https://github.com/apache/fory/pull/2896docs: fix cargo benchmark comand in doc by @chaokunyang in https://github.com/apache/fory/pull/2897chore: bump release version to 0.13.1 by @chaokunyang in https://github.com/apache/fory/pull/2901docs(java): add logging section by @mosinnik in https://github.com/apache/fory/pull/2905chore(c++): remove cpp benchmarks by @chaokunyang in https://github.com/apache/fory/pull/2926chore(c++): move meta string to meta dir by @chaokunyang in https://github.com/apache/fory/pull/2940docs: remove unused type mappings for arrow types by @chaokunyang in https://github.com/apache/fory/pull/2964chore: Remove the content related to arrow. by @LiangliangSui in https://github.com/apache/fory/pull/2965chore(c++): move common macro into macros.h by @chaokunyang in https://github.com/apache/fory/pull/2970docs: Update Bazel version in README.md by @chaokunyang in https://github.com/apache/fory/pull/2971docs: refine xlang spec documentation by @chaokunyang in https://github.com/apache/fory/pull/2979docs: Refine metadata packing and automatic type mapping by @chaokunyang in https://github.com/apache/fory/pull/2984ci: add workflow to remove HTML comments from PR body by @chaokunyang in https://github.com/apache/fory/pull/2983docs: Update xlang_serialization_spec.md by @chaokunyang in https://github.com/apache/fory/pull/2987docs: update the C++ benchmark case by @LiangliangSui in https://github.com/apache/fory/pull/2988chore(deps): bump gopkg.in/yaml.v3 from 3.0.0-20200313102051-9f266ea9e77c to 3.0.1 in /go/fory by @dependabot[bot] in https://github.com/apache/fory/pull/2996chore: bump release version to 0.13.2 by @chaokunyang in https://github.com/apache/fory/pull/2997chore(python): mark pyfory as stable by @chaokunyang in https://github.com/apache/fory/pull/3001docs(c++): add cpp bazel example and add ci by @chaokunyang in https://github.com/apache/fory/pull/3033docs: refactor user guide docs by @chaokunyang in https://github.com/apache/fory/pull/3036docs: add scala and kotlin docs by @chaokunyang in https://github.com/apache/fory/pull/3040docs: refactor xlang docs by @chaokunyang in https://github.com/apache/fory/pull/3041docs: add row format spec by @chaokunyang in https://github.com/apache/fory/pull/3042docs: fix sidebar position by @chaokunyang in https://github.com/apache/fory/pull/3043docs: remove copy rust/python docs by @chaokunyang in https://github.com/apache/fory/pull/3044  ","version":null,"tagName":"h2"},{"title":"New Contributors‚Äã","type":1,"pageTitle":"Fory v0.14.0 Released","url":"/zh-CN/blog/fory_0_14_0_release#new-contributors","content":" @mosinnik made their first contribution in https://github.com/apache/fory/pull/2876@prakash-218 made their first contribution in https://github.com/apache/fory/pull/2888@zhan7236 made their first contribution in https://github.com/apache/fory/pull/2953@mchernyakov made their first contribution in https://github.com/apache/fory/pull/2917  Full Changelog: https://github.com/apache/fory/compare/v0.13.2...v0.14.0 ","version":null,"tagName":"h2"},{"title":"Fory v0.13.0 Released","type":0,"sectionRef":"#","url":"/zh-CN/blog/fory_0_13_0_release","content":"","keywords":"","version":null},{"title":"Highlights‚Äã","type":1,"pageTitle":"Fory v0.13.0 Released","url":"/zh-CN/blog/fory_0_13_0_release#highlights","content":" Dynamic Trait Object Serialization for RustShared/Circular ownership serialization for RustSchema Forward/Backward compatibilify for RustDrop-in Replacement for Python pickle: support local function/classes/__reduce__/__getstate__ serializationSchema Forward/Backward compatibilify for Python dataclassSupport codegen for xlang mode in javaPrimitive array compression using SIMDCompact Row Codec for Row FormatSchema Forward/Backward compatibilify for GoAhead-of-time codegen for golang struct serialization  ","version":null,"tagName":"h2"},{"title":"Rust: First Release Highlights‚Äã","type":1,"pageTitle":"Fory v0.13.0 Released","url":"/zh-CN/blog/fory_0_13_0_release#rust-first-release-highlights","content":" This is the first Apache Fory Rust release, delivering a complete, high‚Äëperformance serialization stack. If you build Rust services or libraries, you can now use Fory natively with strong typing, performance, and schema evolution.  Derive-based object graph serialization via #[derive(ForyObject)]Polymorphism for trait objects: Box&lt;dyn Trait&gt;, Rc&lt;dyn Trait&gt;, Arc&lt;dyn Trait&gt;, plus dyn AnyShared and circular reference tracking: Rc/Arc and RcWeak/ArcWeakForward/backward compatible schema evolution (Compatible mode)Zero-copy Row format via #[derive(ForyRow)] with selective field accessThread-safe and multi-thread capable serialization (context pool)Broad collection support (e.g., VecDeque, LinkedList, BTreeMap, BTreeSet, BinaryHeap)  ","version":null,"tagName":"h2"},{"title":"Quick start (minimal example):‚Äã","type":1,"pageTitle":"Fory v0.13.0 Released","url":"/zh-CN/blog/fory_0_13_0_release#quick-start-minimal-example","content":" use fory::{Fory, Error}; use fory::ForyObject; #[derive(ForyObject, Debug, PartialEq)] struct User { name: String, age: i32, email: String, } fn main() -&gt; Result&lt;(), Error&gt; { let mut fory = Fory::default(); fory.register::&lt;User&gt;(1)?; let user = User { name: &quot;Alice&quot;.into(), age: 30, email: &quot;alice@example.com&quot;.into() }; let bytes = fory.serialize(&amp;user)?; let decoded: User = fory.deserialize(&amp;bytes)?; assert_eq!(user, decoded); Ok(()) }   Guide: Rust Serialization ‚Äì https://fory.apache.org/docs/docs/guide/rust_serializationCrate: fory on crates.io ‚Äì https://crates.io/crates/foryAPI docs: docs.rs ‚Äì https://docs.rs/fory/latest/fory  ","version":null,"tagName":"h3"},{"title":"Rust Benchmarks‚Äã","type":1,"pageTitle":"Fory v0.13.0 Released","url":"/zh-CN/blog/fory_0_13_0_release#rust-benchmarks","content":"     Below are serialize throughput results (TPS; higher is better) comparing Fory with JSON and Protobuf across multiple datasets and sizes.  Datatype\tSize\tOperation\tFory TPS\tJSON TPS\tProtobuf TPS\tFastestcompany\tsmall\tserialize\t10,063,906\t761,673\t896,620\tfory company\tmedium\tserialize\t412,507\t33,835\t37,590\tfory company\tlarge\tserialize\t9,183\t793\t880\tfory ecommerce_data\tsmall\tserialize\t2,350,729\t206,262\t256,970\tfory ecommerce_data\tmedium\tserialize\t59,977\t4,699\t5,242\tfory ecommerce_data\tlarge\tserialize\t3,727\t266\t295\tfory person\tsmall\tserialize\t13,632,522\t1,345,189\t1,475,035\tfory person\tmedium\tserialize\t3,839,656\t337,610\t369,031\tfory person\tlarge\tserialize\t907,853\t79,631\t91,408\tfory simple_list\tsmall\tserialize\t27,726,945\t4,874,957\t4,643,172\tfory simple_list\tmedium\tserialize\t4,770,765\t401,558\t397,551\tfory simple_list\tlarge\tserialize\t606,061\t41,061\t44,565\tfory simple_map\tsmall\tserialize\t22,862,369\t3,888,025\t2,695,999\tfory simple_map\tmedium\tserialize\t2,128,973\t204,319\t193,132\tfory simple_map\tlarge\tserialize\t177,847\t18,419\t18,668\tfory simple_struct\tsmall\tserialize\t35,729,598\t10,167,045\t8,633,342\tfory simple_struct\tmedium\tserialize\t34,988,279\t9,737,098\t6,433,350\tfory simple_struct\tlarge\tserialize\t31,801,558\t4,545,041\t7,420,049\tfory system_data\tsmall\tserialize\t5,382,131\t468,033\t569,930\tfory system_data\tmedium\tserialize\t174,240\t11,896\t14,753\tfory system_data\tlarge\tserialize\t10,671\t876\t1,040\tfory  Note: Results depend on hardware, dataset, and implementation versions. See the Rust guide for how to run benchmarks yourself: https://github.com/apache/fory/blob/main/benchmarks/rust_benchmark/README.md  ","version":null,"tagName":"h3"},{"title":"Python: Drop‚Äëin Replacement for pickle‚Äã","type":1,"pageTitle":"Fory v0.13.0 Released","url":"/zh-CN/blog/fory_0_13_0_release#python-dropin-replacement-for-pickle","content":" pyfory now acts as a high‚Äëperformance drop‚Äëin replacement for pickle/cloudpickle, while keeping the same simple API and adding security and performance features.  Serialize any Python object in Python‚Äënative mode (xlang=False): global/local functions, lambdas, global/local classes, instance/class/static methodsHonors Python hooks: __getstate__, __setstate__, __reduce__, __reduce_ex__Reference tracking for shared/circular graphs with ref=TruePickle protocol 5 out‚Äëof‚Äëband buffers for zero‚Äëcopy via pickle.PickleBuffer (NumPy, Pandas, etc.)Security: strict=True for registration‚Äëbased safety and DeserializationPolicy for fine‚Äëgrained controlThreading: ThreadSafeFory for safe multi‚Äëthread useFamiliar API: dumps/loads are aliases of serialize/deserialize  Quick start:  import pyfory # Drop-in replacement for pickle/cloudpickle fory = pyfory.Fory(xlang=False, ref=True, strict=False) def make_multiplier(k): def mul(x): return k * x return mul binary = fory.dumps(make_multiplier(10)) assert fory.loads(binary)(3) == 30   Read more: Python Guide ‚Äì https://fory.apache.org/docs/latest/python_serialization/  ","version":null,"tagName":"h2"},{"title":"Features‚Äã","type":1,"pageTitle":"Fory v0.13.0 Released","url":"/zh-CN/blog/fory_0_13_0_release#features","content":" feat(java): support object stream serialization for graalvm by @chaokunyang in https://github.com/apache/fory/pull/2464refactor(java): rename abstract collection/map serializers to Map/ListLikeSerializer by @chaokunyang in https://github.com/apache/fory/pull/2466feat(memory): add customizable MemoryAllocator interface by @adriacabeza in https://github.com/apache/fory/pull/2467feat: Chain wheel test/build and release workflows by @esafak in https://github.com/apache/fory/pull/2483feat(python): set default languge to python for pyfory by @chaokunyang in https://github.com/apache/fory/pull/2490feat(python): add register api to python by @chaokunyang in https://github.com/apache/fory/pull/2491feat(python): meta compression for python by @chaokunyang in https://github.com/apache/fory/pull/2504feat(python): type meta encoding for python by @chaokunyang in https://github.com/apache/fory/pull/2509feat(CI): Cache npm, add node 24, lock file by @esafak in https://github.com/apache/fory/pull/2523feat(Rust): Implementing Type Compatible by @urlyy in https://github.com/apache/fory/pull/2492feat(Rust): support Option in MetaFieldType se/de by @urlyy in https://github.com/apache/fory/pull/2528feat(rust): support skipping fields bytes when deserializing in compatible mode by @urlyy in https://github.com/apache/fory/pull/2545feat(go): add type meta encoding for meta share by @junjiexh in https://github.com/apache/fory/pull/2554feat(Rust): Support automatic conversion between T and Option&lt;T&gt; when deserialize by @urlyy in https://github.com/apache/fory/pull/2563feat(java): bean encoder implemented interfaces honor @Ignore by @stevenschlansker in https://github.com/apache/fory/pull/2576refactor(java): refactor fory java exception hierarchical structure by @chaokunyang in https://github.com/apache/fory/pull/2577feat(Go): Implement ahead of time codegen for fory-go serialization by @ThisingL in https://github.com/apache/fory/pull/2553feat(java): support limit deserialization depth by @chaokunyang in https://github.com/apache/fory/pull/2578feat(rust): add fory rust benchmark by @chaokunyang in https://github.com/apache/fory/pull/2583perf(rust): optimize rust deserialize perf by @chaokunyang in https://github.com/apache/fory/pull/2584feat(rust): add rust profiler for serialization by @chaokunyang in https://github.com/apache/fory/pull/2588refactor(go): rename FieldInfo to FieldDef to avoide name collision by @junjiexh in https://github.com/apache/fory/pull/2594feat(python): meta share mode for pyfory compatible serialization by @chaokunyang in https://github.com/apache/fory/pull/2593feat(java/python): align java and python compatible mode serialization by @chaokunyang in https://github.com/apache/fory/pull/2602feat(java/python): support enum xlang serialization by @chaokunyang in https://github.com/apache/fory/pull/2603feat(Rust): support basic type se/de aligned with java by @urlyy in https://github.com/apache/fory/pull/2585perf(python/java): Fix &amp; optimize cross-language meta-share mode by @pandalee99 in https://github.com/apache/fory/pull/2601feat(go): align cross-language type serialization for primitive arrays by @pandalee99 in https://github.com/apache/fory/pull/2610feat(java): support codegen for xlang mode in java by @chaokunyang in https://github.com/apache/fory/pull/2613feat(java): primitive array compression using SIMD by @adriacabeza in https://github.com/apache/fory/pull/2485refactor(go): Replace globalTypeResolver with factory-based serializer registration by @ThisingL in https://github.com/apache/fory/pull/2615feat(go): Implement compatible mode with metashare mode by @junjiexh in https://github.com/apache/fory/pull/2607feat(java): support concurent map serialization when being updated by @chaokunyang in https://github.com/apache/fory/pull/2617feat(java): support concurrent updates when serializing collections by @chaokunyang in https://github.com/apache/fory/pull/2623feat(python): support limit pyfory depth by @chaokunyang in https://github.com/apache/fory/pull/2625feat(Rust): sort fields &amp;&amp; feat Enum &amp;&amp; fix read/write type_info &amp;&amp; fix type_meta en/decode by @urlyy in https://github.com/apache/fory/pull/2630feat(python): drop-in replacement for pickle serialization by @chaokunyang in https://github.com/apache/fory/pull/2629refactor(java): refactor type resolver by @chaokunyang in https://github.com/apache/fory/pull/2640feat(java): support type converters for comaptible mode by @chaokunyang in https://github.com/apache/fory/pull/2641refactor(java/python): refine collection header bitmap by @chaokunyang in https://github.com/apache/fory/pull/2642feat(go): metashare mode support collection and map and nested object by @junjiexh in https://github.com/apache/fory/pull/2643feat(go): Add slice and map support to fory-go codegen serialization by @ThisingL in https://github.com/apache/fory/pull/2638refactor(go): Change codegen annotation from //fory:gen to //fory:generate by @ThisingL in https://github.com/apache/fory/pull/2648feat(rust): support Map and register_by_name by @urlyy in https://github.com/apache/fory/pull/2649feat(java): support graalvm 25 by @chaokunyang in https://github.com/apache/fory/pull/2652feat(java): support deserialize not registered/exsited class/fields for xlang compatible mode by @chaokunyang in https://github.com/apache/fory/pull/2655refactor(Rust): Refactor compile-time code &amp; fix named_enum &amp; fix skip enum by @urlyy in https://github.com/apache/fory/pull/2657feat(python): support local py class serialization by @chaokunyang in https://github.com/apache/fory/pull/2665refactor(go): refine collection header bitmap by @junjiexh in https://github.com/apache/fory/pull/2656feat(python): support class methods serialization by @chaokunyang in https://github.com/apache/fory/pull/2670refactor(go): refine collection header bitmap in codegen by @ThisingL in https://github.com/apache/fory/pull/2676feat(rust): support box serde for rust by @chaokunyang in https://github.com/apache/fory/pull/2677feat(rust): support reference tracking for rust Rc/Arc by @chaokunyang in https://github.com/apache/fory/pull/2678feat(python): refine python serialization api by @chaokunyang in https://github.com/apache/fory/pull/2673refactor(Rust): Refine api name by @urlyy in https://github.com/apache/fory/pull/2671feat(rust): support rust dyn trait object serialization by @chaokunyang in https://github.com/apache/fory/pull/2691feat(rust): support dyn any trait object serialization for box/arc/rc by @chaokunyang in https://github.com/apache/fory/pull/2704feat(rust): support shared reference tracking for arc/rc&lt;dyn T&gt; by @chaokunyang in https://github.com/apache/fory/pull/2707feat(rust): avoid downcast method of multiple trait objects in same module conflict by @chaokunyang in https://github.com/apache/fory/pull/2708feat(rust): add deref to arc/rc wrapper by @chaokunyang in https://github.com/apache/fory/pull/2709refactor(rust): unify rc/arc wrapper macro arms into one function by @chaokunyang in https://github.com/apache/fory/pull/2711perf(Rust): Use SIMD to se/de string by @urlyy in https://github.com/apache/fory/pull/2716feat(Rust): named_xx se/de &amp;&amp; ext se/de &amp;&amp; add unittest by @urlyy in https://github.com/apache/fory/pull/2712feat(rust): support RcWeak/ArcWeak for circular reference tracking by @chaokunyang in https://github.com/apache/fory/pull/2714feat(rust): support limit max dyn depth by @chaokunyang in https://github.com/apache/fory/pull/2730feat(Rust): Unroll fields loop &amp; Add a feature for this by @urlyy in https://github.com/apache/fory/pull/2724feat(python): make fory out-of-band serialization compatible with pickle5 by @chaokunyang in https://github.com/apache/fory/pull/2732refactor(go): Replace legacy RegisterTagType api call by @junjiexh in https://github.com/apache/fory/pull/2696feat(python): add thread safe fory by @chaokunyang in https://github.com/apache/fory/pull/2735feat(rust): support VecDeque/LinkedList serialization by @chaokunyang in https://github.com/apache/fory/pull/2741feat(rust): support btreemap serialization by @chaokunyang in https://github.com/apache/fory/pull/2743feat(rust): support btree set and binary heap serialization by @chaokunyang in https://github.com/apache/fory/pull/2744feat(Rust): support context_pool to reduce context allocation &amp;&amp; support se/de in multi-thread by @urlyy in https://github.com/apache/fory/pull/2737feat(ci): cache Bazel binary in Python CI workflow by @SanyamSuyal in https://github.com/apache/fory/pull/2745feat(rust): rewrite fory derive macro for smaller and faster generated code using compile-time fields sort algorithm by @chaokunyang in https://github.com/apache/fory/pull/2749feat(ci): add maven cache to ci for faster build by @chaokunyang in https://github.com/apache/fory/pull/2751feat(rust): fast fory_read_compatible macro to use match by assigned field id by @chaokunyang in https://github.com/apache/fory/pull/2758refactor(rust): use compatible bool instead of enum to simplify API by @chaokunyang in https://github.com/apache/fory/pull/2763feat(rust): query type meta from parsed cache to speed up deserialization by @chaokunyang in https://github.com/apache/fory/pull/2764feat(java): introduce Compact Row Codec by @stevenschlansker in https://github.com/apache/fory/pull/2414feat(go): Add pointer field test for meta share mode by @junjiexh in https://github.com/apache/fory/pull/2674feat(rust): make Serializer api to return Result &amp;&amp; replace panic/expect/assert/unwrap with Result by @urlyy in https://github.com/apache/fory/pull/2765feat(rust): refactor rust serialization system by @chaokunyang in https://github.com/apache/fory/pull/2774feat(python): support optional typehint for dataclass fields by @chaokunyang in https://github.com/apache/fory/pull/2766feat(rust): dynamic rust serializer system by @chaokunyang in https://github.com/apache/fory/pull/2778feat(rust): use rc instead of arc for type meta for faster performance by @chaokunyang in https://github.com/apache/fory/pull/2782feat(python): support dataclass compatible mode for python native mode by @chaokunyang in https://github.com/apache/fory/pull/2784feat(java): support deserialize non exist enum variant to default by @chaokunyang in https://github.com/apache/fory/pull/2787feat(go): update codegen field sorting to generate smaller and faster code by @ThisingL in https://github.com/apache/fory/pull/2779feat(rust): make type meta resolve return type info directly by @chaokunyang in https://github.com/apache/fory/pull/2789perf(Rust): remove clone()/to_owned() on MetaString/MetaStringBytes in MetaStringResolver to improve performance &amp;&amp; fix xlang test by @urlyy in https://github.com/apache/fory/pull/2791feat(rust): support static struct version hash check for rust by @chaokunyang in https://github.com/apache/fory/pull/2793feat(rust): support profile all data types in rust benchmark by @chaokunyang in https://github.com/apache/fory/pull/2801perf(rust): optimize rust small string/struct read/write performance by @chaokunyang in https://github.com/apache/fory/pull/2803perf(rust): optimize rust performance by remove copy simd and add more inline hints by @chaokunyang in https://github.com/apache/fory/pull/2807perf(rust): always use utf8 when writing string by @chaokunyang in https://github.com/apache/fory/pull/2809feat(python): add deserialization policy for more fine-grained control and audit deserialization behaviour by @chaokunyang in https://github.com/apache/fory/pull/2811perf(Rust): Enchance performance by @theweipeng in https://github.com/apache/fory/pull/2810feat(Rust): Support serialize_to by @theweipeng in https://github.com/apache/fory/pull/2822feat(rust): lazy build typeinfo for rust to avoid nested struct register deps by @chaokunyang in https://github.com/apache/fory/pull/2824perf(Rust): Refactor reader by @theweipeng in https://github.com/apache/fory/pull/2826perf(python): optimize pyfory perf by @chaokunyang in https://github.com/apache/fory/pull/2829  ","version":null,"tagName":"h2"},{"title":"Bug Fix‚Äã","type":1,"pageTitle":"Fory v0.13.0 Released","url":"/zh-CN/blog/fory_0_13_0_release#bug-fix","content":" fix(java): fix map/list element type same with collection type jit error by @chaokunyang in https://github.com/apache/fory/pull/2465fix(python): fix gh action pypi publish by @chaokunyang in https://github.com/apache/fory/pull/2468fix(java): fix row encoder for private struct by @chaokunyang in https://github.com/apache/fory/pull/2469fix(python): fix pyfory pypi release by @chaokunyang in https://github.com/apache/fory/pull/2473fix(python): fix py release on macos 13 by @chaokunyang in https://github.com/apache/fory/pull/2478fix(ci): Build python wheels using interpreters in manylinux2014 by @esafak in https://github.com/apache/fory/pull/2486fix(java): Encoders.mapEncoder(TypeRef, TypeRef, TypeRef, Fory) should load bean classes by @stevenschlansker in https://github.com/apache/fory/pull/2494fix(java): row format generated bean types handling Optional by @stevenschlansker in https://github.com/apache/fory/pull/2497fix: Fix the issue of addListener not releasing the lock by @open-snail in https://github.com/apache/fory/pull/2500fix(ci): Use $ROOT/dist for wheel distribution by @esafak in https://github.com/apache/fory/pull/2506fix(python): fix publich tag for workflow by @chaokunyang in https://github.com/apache/fory/pull/2517fix(ci): print workflow head branch by @chaokunyang in https://github.com/apache/fory/pull/2518fix(python): fix release python wheel head_branch tag by @chaokunyang in https://github.com/apache/fory/pull/2519fix(java): MemoryBuffer tests that equalTo works with size zero buffers by @stevenschlansker in https://github.com/apache/fory/pull/2524fix(ci): Pass tag to bump_py_version, set PLAT inside manylinux container by @esafak in https://github.com/apache/fory/pull/2522fix(ci): Use ref_name tag in Windows, name release runs, verify wheel versions, use all python versions for release by @esafak in https://github.com/apache/fory/pull/2532ci: Fix verify_version() by capturing version properly by @esafak in https://github.com/apache/fory/pull/2535fix(python): fix bump_wheel version by @chaokunyang in https://github.com/apache/fory/pull/2534fix(python): fix bump version by @chaokunyang in https://github.com/apache/fory/pull/2536fix(python): add macos 13 release by @chaokunyang in https://github.com/apache/fory/pull/2538fix(ci): use lowercase for betahuhn/repo-file-sync-action by @chaokunyang in https://github.com/apache/fory/pull/2541fix(ci): use commit hash for repo-file-sync-action by @chaokunyang in https://github.com/apache/fory/pull/2542fix(java): array encoder seems to waste 8 bytes in encode(T) by @stevenschlansker in https://github.com/apache/fory/pull/2551fix(ci): Install pyfory for golang xlang tests by @esafak in https://github.com/apache/fory/pull/2561fix(ci): Exit with subprocess return code in run_ci.py by @esafak in https://github.com/apache/fory/pull/2560fix(java): fix codegen name conflict by @chaokunyang in https://github.com/apache/fory/pull/2565fix(java): fix classinfo npe on graalvm by @chaokunyang in https://github.com/apache/fory/pull/2572fix(java): Skip calculation of classVersionHash if checkClassVersion is false by @theigl in https://github.com/apache/fory/pull/2573fix(java): skip hash compute for abstract field type by @chaokunyang in https://github.com/apache/fory/pull/2575fix(java): row format buffer recycling leaves offset and size for null values by @stevenschlansker in https://github.com/apache/fory/pull/2540fix(java): fix xlang register type by id by @chaokunyang in https://github.com/apache/fory/pull/2591fix(java): fix xlang mode meta shared for java by @chaokunyang in https://github.com/apache/fory/pull/2592fix(python): Fix the build dependency failure that occurred in pyfory by @pandalee99 in https://github.com/apache/fory/pull/2596fix(python): Delete the redundant code in typedef by @pandalee99 in https://github.com/apache/fory/pull/2600fix(java): fix register by id for xlang metashare mode in java by @chaokunyang in https://github.com/apache/fory/pull/2614fix(java/python): fix meta string encoding order by @chaokunyang in https://github.com/apache/fory/pull/2616fix(go): Complete type registration in factory-based serializer system by @ThisingL in https://github.com/apache/fory/pull/2619fix(python): fix pyfory depth limit by @chaokunyang in https://github.com/apache/fory/pull/2626fix(java): fix get nested genericType for codegen by @chaokunyang in https://github.com/apache/fory/pull/2632fix(python): register dynamic serializer only not require registration by @chaokunyang in https://github.com/apache/fory/pull/2634fix(java): fix record serialization on graalvm25 by @chaokunyang in https://github.com/apache/fory/pull/2644fix(java): fix field converter for xlang by @chaokunyang in https://github.com/apache/fory/pull/2654fix(java): fix array serialization on graalvm by @chaokunyang in https://github.com/apache/fory/pull/2664fix(java): fix meta share deserialization for register by @chaokunyang in https://github.com/apache/fory/pull/2667fix(java): retain serializers in graalvm native images by @gudzpoz in https://github.com/apache/fory/pull/2680fix(java): fix graalvm not use generated serializer by @chaokunyang in https://github.com/apache/fory/pull/2682fix(java): fix register serializer for xlang in java by @chaokunyang in https://github.com/apache/fory/pull/2683fix(java): fix InputStream read big buffer error by @wuwangben in https://github.com/apache/fory/pull/2687fix(python): fix python module/type serialize by @chaokunyang in https://github.com/apache/fory/pull/2688fix(java): Fix flakiness in CollectionSerializersTest#tesPriorityQueueSerializer by @swj20010308 in https://github.com/apache/fory/pull/2693fix(java): Fix flakiness in LazyMapTest#testMap by @swj20010308 in https://github.com/apache/fory/pull/2692fix(java): fix deserializing EXT type bug by @mengnankkkk in https://github.com/apache/fory/pull/2700fix(java): fix xlang typedef encode by @chaokunyang in https://github.com/apache/fory/pull/2719fix(java): Fix flakiness in MetaContextTest#testShareClassName and #testShareClassDefCompatible by @swj20010308 in https://github.com/apache/fory/pull/2739fix(java): Fix flakiness in ForyCopyTest#mutableObjectCopyTest by @swj20010308 in https://github.com/apache/fory/pull/2738fix(ci): add retry logic to Bazel downloads to prevent flaky CI failures by @SanyamSuyal in https://github.com/apache/fory/pull/2733fix(java): serialize collections with only null elements in xlang mode by @mymde in https://github.com/apache/fory/pull/2740fix(ci): fix sync file by @chaokunyang in https://github.com/apache/fory/pull/2750fix(ci): fix sync files by @chaokunyang in https://github.com/apache/fory/pull/2752fix(docs): fix rust doc links build and check by @chaokunyang in https://github.com/apache/fory/pull/2753fix(java): fix maven cache by @chaokunyang in https://github.com/apache/fory/pull/2755fix(rust): fix rust xlang tests by @chaokunyang in https://github.com/apache/fory/pull/2788fix(java): Fix flakiness in CollectionSerializersTest#testCollectionFieldSerializers, CollectionSerializersTest#testCollectionFieldSerializersCopy and ProtocolInteroperabilityTest#testComplexCollection by @swj20010308 in https://github.com/apache/fory/pull/2790fix(java): fix java shanpshot version by @chaokunyang in https://github.com/apache/fory/pull/2800fix(go): Adjust serialization of nullable value to align python behavior by @junjiexh in https://github.com/apache/fory/pull/2814  ","version":null,"tagName":"h2"},{"title":"Other Improvements‚Äã","type":1,"pageTitle":"Fory v0.13.0 Released","url":"/zh-CN/blog/fory_0_13_0_release#other-improvements","content":" chore(python): disable pyfory.format import warning by @chaokunyang in https://github.com/apache/fory/pull/2476chore: bump release version to 0.12.0 by @chaokunyang in https://github.com/apache/fory/pull/2489docs: fix meta_size_mask by @urlyy in https://github.com/apache/fory/pull/2495chore: fix typos by @Asnowww in https://github.com/apache/fory/pull/2496docs: Improve pyfory PyPI documentation by @esafak in https://github.com/apache/fory/pull/2498docs(python): add row format doc by @chaokunyang in https://github.com/apache/fory/pull/2499chore: translate Chinese comments into English by @Asnowww in https://github.com/apache/fory/pull/2503docs: Improve pull request template by @esafak in https://github.com/apache/fory/pull/2508ci: Fix Windows wheel creation by @esafak in https://github.com/apache/fory/pull/2511ci: Pass the GH token to actions/download-artifact by @esafak in https://github.com/apache/fory/pull/2514chore: fix MetaStrEncoding by @co63oc in https://github.com/apache/fory/pull/2516chore(javascript): rename foryjs to apache-fory and remove install docs by @chaokunyang in https://github.com/apache/fory/pull/2544chore: bump release version to 0.12.1 by @chaokunyang in https://github.com/apache/fory/pull/2556docs: update contributing.md with Rust lint command by @urlyy in https://github.com/apache/fory/pull/2569chore(ci): use str replace to make bump java version faster by @chaokunyang in https://github.com/apache/fory/pull/2568docs(java): add idea jdk11 usage config by @chaokunyang in https://github.com/apache/fory/pull/2570docs(rust): add rust document by @chaokunyang in https://github.com/apache/fory/pull/2582chore: bump release version to 0.12.2 by @chaokunyang in https://github.com/apache/fory/pull/2589chore: add trademark for fory name by @chaokunyang in https://github.com/apache/fory/pull/2590chore: Revert &quot;fix(python): Fix the build dependency failure that occurred in pyfory&quot; by @chaokunyang in https://github.com/apache/fory/pull/2597chore: remove slash in homepage URL by @chaokunyang in https://github.com/apache/fory/pull/2604chore(go): replace all typ to type_ by @chaokunyang in https://github.com/apache/fory/pull/2612chore: bump release version to 0.12.3 by @chaokunyang in https://github.com/apache/fory/pull/2645docs: add AGENT.md to make AI coding more efficient by @chaokunyang in https://github.com/apache/fory/pull/2646chore(rust): remove tag read/write by @chaokunyang in https://github.com/apache/fory/pull/2681docs(python): refine python readme with detailed docs by @chaokunyang in https://github.com/apache/fory/pull/2689docs(python): update schema evolution support in README by @chaokunyang in https://github.com/apache/fory/pull/2690docs: fix python readme lint by @chaokunyang in https://github.com/apache/fory/pull/2694docs(rust): add comprehensive rust readme document by @chaokunyang in https://github.com/apache/fory/pull/2723docs(rust): add detailed rust api doc and readme by @chaokunyang in https://github.com/apache/fory/pull/2728docs: sync rust and python document to fory-site by @chaokunyang in https://github.com/apache/fory/pull/2734docs(rust): update rust roadmap by @chaokunyang in https://github.com/apache/fory/pull/2754docs(rust): fix rust doc broken link by @chaokunyang in https://github.com/apache/fory/pull/2756docs(rust): fix rust doc lint by @chaokunyang in https://github.com/apache/fory/pull/2757docs(go): Update README.md by @junjiexh in https://github.com/apache/fory/pull/2675docs(rust): add rust thread safety and troubleshooting doc by @chaokunyang in https://github.com/apache/fory/pull/2781chore(rust): rename fory-tests to tests by @chaokunyang in https://github.com/apache/fory/pull/2783docs(rust): update rust serializer trait doc by @chaokunyang in https://github.com/apache/fory/pull/2795chore: fix release error by @chaokunyang in https://github.com/apache/fory/pull/2796chore(python): rename numeric typehint by @chaokunyang in https://github.com/apache/fory/pull/2808chore(rust): reorder fory rust methods by @chaokunyang in https://github.com/apache/fory/pull/2813docs(python): refine python code and add api doc by @chaokunyang in https://github.com/apache/fory/pull/2816chore(ci): remove macos13 ci for rust/c++ by @chaokunyang in https://github.com/apache/fory/pull/2817chore(rust): rename metastring to meta_string by @urlyy in https://github.com/apache/fory/pull/2812docs(rust): add serialize_to api doc by @chaokunyang in https://github.com/apache/fory/pull/2825chore(Rust): Streamline code by @theweipeng in https://github.com/apache/fory/pull/2828docs(rust): update serialize to deserialize from doc by @chaokunyang in https://github.com/apache/fory/pull/2830chore(Rust): Remove new_from_fory from context.rs by @urlyy in https://github.com/apache/fory/pull/2831  ","version":null,"tagName":"h2"},{"title":"New Contributors‚Äã","type":1,"pageTitle":"Fory v0.13.0 Released","url":"/zh-CN/blog/fory_0_13_0_release#new-contributors","content":" @adriacabeza made their first contribution in https://github.com/apache/fory/pull/2467@Asnowww made their first contribution in https://github.com/apache/fory/pull/2496@open-snail made their first contribution in https://github.com/apache/fory/pull/2500@junjiexh made their first contribution in https://github.com/apache/fory/pull/2554@ThisingL made their first contribution in https://github.com/apache/fory/pull/2553@gudzpoz made their first contribution in https://github.com/apache/fory/pull/2680@wuwangben made their first contribution in https://github.com/apache/fory/pull/2687@swj20010308 made their first contribution in https://github.com/apache/fory/pull/2693@mengnankkkk made their first contribution in https://github.com/apache/fory/pull/2700@SanyamSuyal made their first contribution in https://github.com/apache/fory/pull/2733@mymde made their first contribution in https://github.com/apache/fory/pull/2740  Full Changelog: https://github.com/apache/fory/compare/v0.12.3...v0.13.0-rc2 ","version":null,"tagName":"h2"},{"title":"Fory v0.15.0 Released","type":0,"sectionRef":"#","url":"/zh-CN/blog/fory_0_15_0_release","content":"","keywords":"","version":null},{"title":"Highlights‚Äã","type":1,"pageTitle":"Fory v0.15.0 Released","url":"/zh-CN/blog/fory_0_15_0_release#highlights","content":" feat(go): new golang xlang serialization implementation by @chaokunyang in https://github.com/apache/fory/pull/3063feat(rust): add tuple struct support and improve generic type handling by @ariesdevil in https://github.com/apache/fory/pull/3087refactor(rust): unify tuple struct and named struct protocol, and make schema evolution happy by @ariesdevil in https://github.com/apache/fory/pull/3092feat(java/python/rust/go/cpp): align nullable meta for xlang struct fields serialization by @chaokunyang in https://github.com/apache/fory/pull/3093feat(java/python/rust/go/cpp): xlang fields reference and typeinfo alignment by @chaokunyang in https://github.com/apache/fory/pull/3107feat(cpp): add SharedWeak&lt;T&gt; for circular reference support by @chaokunyang in https://github.com/apache/fory/pull/3109feat(xlang): support unsigned int for xlang by @chaokunyang in https://github.com/apache/fory/pull/3111 and https://github.com/apache/fory/pull/3113feat(xlang/java): refactor java native serialization type system and streaming type info for xlang by @chaokunyang in https://github.com/apache/fory/pull/3153feat(xlang): fory schema idl and compiler by @chaokunyang in https://github.com/apache/fory/pull/3106feat(compiler): add flatbuffers idl support by @chaokunyang in https://github.com/apache/fory/pull/3184  ","version":null,"tagName":"h2"},{"title":"Go Serialization: First Release‚Äã","type":1,"pageTitle":"Fory v0.15.0 Released","url":"/zh-CN/blog/fory_0_15_0_release#go-serialization-first-release","content":" Apache Fory 0.15.0 is the first release with official Go serialization support. The Go implementation delivers high-performance serialization with cross-language compatibility and production-focused configuration options.  Key capabilities:  Cross-language mode with Java, Python, cpp, Rust, and JavaScript (fory.WithXlang(true))Reflection-based serialization by default, plus optional experimental AOT code generation for hot pathsReference tracking for shared/circular object graphs (fory.WithTrackRef(true) + fory:&quot;ref&quot; tags)Compatible mode for schema evolution (fory.WithCompatible(true)) supporting add/remove/reorder field changesThread-safe wrapper (github.com/apache/fory/go/fory/threadsafe) for concurrent workloads  ","version":null,"tagName":"h2"},{"title":"Quick Start‚Äã","type":1,"pageTitle":"Fory v0.15.0 Released","url":"/zh-CN/blog/fory_0_15_0_release#quick-start","content":" package main import ( &quot;github.com/apache/fory/go/fory&quot; ) type User struct { ID int64 Name string } func main() { f := fory.New( fory.WithXlang(true), fory.WithCompatible(true), ) _ = f.RegisterStruct(User{}, 1) data, _ := f.Serialize(&amp;User{ID: 1, Name: &quot;Alice&quot;}) var out User _ = f.Deserialize(data, &amp;out) }   Go guide: https://fory.apache.org/docs/guide/go/  ","version":null,"tagName":"h3"},{"title":"Go Benchmarks‚Äã","type":1,"pageTitle":"Fory v0.15.0 Released","url":"/zh-CN/blog/fory_0_15_0_release#go-benchmarks","content":"   Below are timing results (ns/op; lower is better) comparing Fory with Protobuf and Msgpack across representative data structures.  Data Type\tOperation\tFory\tProtobuf\tMsgpackStruct\tSerialize\t66.0\t97.8\t184.9 Struct\tDeserialize\t82.7\t90.9\t309.6 Structlist\tSerialize\t632.8\t1783.0\t3340.0 Structlist\tDeserialize\t906.4\t1891.0\t5709.0 Sample\tSerialize\t137.3\t367.3\t1492.0 Sample\tDeserialize\t263.6\t422.2\t2661.0 Samplelist\tSerialize\t1962.0\t7087.0\t26169.0 Samplelist\tDeserialize\t4234.0\t9321.0\t53615.0 Mediacontent\tSerialize\t268.8\t471.1\t773.7 Mediacontent\tDeserialize\t426.9\t553.1\t1432.0 Mediacontentlist\tSerialize\t3736.0\t9107.0\t13911.0 Mediacontentlist\tDeserialize\t7247.0\t11435.0\t27975.0  Serialized data sizes (bytes):  Data Type\tFory\tProtobuf\tMsgpackStruct\t58\t61\t57 Sample\t446\t375\t524 MediaContent\t342\t301\t400 StructList\t560\t1260\t1146 SampleList\t7600\t7560\t10486 MediaContentList\t5776\t6080\t8006  Note: Results depend on hardware and implementation versions. See the Go benchmark docs for details: https://fory.apache.org/docs/benchmarks/go/  ","version":null,"tagName":"h3"},{"title":"Fory Schema IDL and Compiler: First Release‚Äã","type":1,"pageTitle":"Fory v0.15.0 Released","url":"/zh-CN/blog/fory_0_15_0_release#fory-schema-idl-and-compiler-first-release","content":" Apache Fory 0.15.0 also introduces the first release of the Fory schema IDL and compiler toolchain. You can define schemas once and generate native types and registration code across languages.  Key capabilities:  Schema-first development with enum, message, and unionFory-native field semantics: optional (nullability), ref (shared/circular references), list, and mapMulti-language code generation for Java, Python, Go, Rust, and cppProtobuf (.proto) and FlatBuffers (.fbs) frontend support, translated into Fory IR/codegenIdiomatic generated APIs with to/from bytes helpers  ","version":null,"tagName":"h2"},{"title":"Quick Start‚Äã","type":1,"pageTitle":"Fory v0.15.0 Released","url":"/zh-CN/blog/fory_0_15_0_release#quick-start-1","content":" pip install fory-compiler foryc example.fdl --lang java,python,go,rust,cpp --output ./generated   package example; message Person [id=101] { string name = 1; optional string email = 2; }   ","version":null,"tagName":"h3"},{"title":"Generated Code Example‚Äã","type":1,"pageTitle":"Fory v0.15.0 Released","url":"/zh-CN/blog/fory_0_15_0_release#generated-code-example","content":" foryc generates idiomatic native types plus registration/byte helpers. For the schema above, generated code looks like:  // Go (excerpt) type Person struct { Name string `fory:&quot;id=1&quot;` Email optional.Optional[string] `fory:&quot;id=2&quot;` } func (m *Person) ToBytes() ([]byte, error) { ... } func (m *Person) FromBytes(data []byte) error { ... } func RegisterTypes(f *fory.Fory) error { return f.RegisterStruct(Person{}, 101) }   // Java (excerpt) public class Person { @ForyField(id = 1) private String name; @ForyField(id = 2, nullable = true) private String email; public byte[] toBytes() { ... } public static Person fromBytes(byte[] bytes) { ... } }   # Python (excerpt) @pyfory.dataclass class Person: name: str = pyfory.field(id=1, default=&quot;&quot;) email: Optional[str] = pyfory.field(id=2, default=None) def to_bytes(self) -&gt; bytes: ... @classmethod def from_bytes(cls, data: bytes) -&gt; &quot;Person&quot;: ...   Compiler docs: https://fory.apache.org/docs/compiler/  ","version":null,"tagName":"h3"},{"title":"Features‚Äã","type":1,"pageTitle":"Fory v0.15.0 Released","url":"/zh-CN/blog/fory_0_15_0_release#features","content":" feat(java): add config params for IdentityObjectIntMap by @jim-parsons in https://github.com/apache/fory/pull/3048perf: add cpp benchmark report by @chaokunyang in https://github.com/apache/fory/pull/3051feat(python): add Union type support for xlang serialization by @zhan7236 in https://github.com/apache/fory/pull/3059feat(go): new golang xlang serialization implementation by @chaokunyang in https://github.com/apache/fory/pull/3063feat(java): enhance ForyField annotation with tag ID support for optimized serialization by @mchernyakov in https://github.com/apache/fory/pull/3021feat(cpp): add iterator container serialization support by @zhan7236 in https://github.com/apache/fory/pull/3068refactor(go): refactor go error processing by @chaokunyang in https://github.com/apache/fory/pull/3069feat(rust): add generate_default attr, no longer generate Default trait impl by default by @ariesdevil in https://github.com/apache/fory/pull/3074feat(java): implement Union type support for cross-language serialization by @zhan7236 in https://github.com/apache/fory/pull/3062perf(go): add go benchmarks and optimize performance by @chaokunyang in https://github.com/apache/fory/pull/3071feat(python): add java python xlang tests and align protocol by @chaokunyang in https://github.com/apache/fory/pull/3077feat(rust): add i128 and isize type support by @ariesdevil in https://github.com/apache/fory/pull/3080feat(rust): add unit type and PhantomData serializer support by @ariesdevil in https://github.com/apache/fory/pull/3081refactor(python): refactor pyfory serializers code structure by @chaokunyang in https://github.com/apache/fory/pull/3083feat(rust): add union and none type support by @ariesdevil in https://github.com/apache/fory/pull/3084feat(go): add go struct field tag support by @chaokunyang in https://github.com/apache/fory/pull/3082feat(rust): add tuple struct support and improve generic type handling by @ariesdevil in https://github.com/apache/fory/pull/3087feat(rust): support configure rust field meta to reduce cost by @chaokunyang in https://github.com/apache/fory/pull/3089feat(cpp): support customize cpp field meta by @chaokunyang in https://github.com/apache/fory/pull/3088feat(ci): make rust xlang ci run separately to make ci faster by @chaokunyang in https://github.com/apache/fory/pull/3090feat(python): support configure field meta for python by @chaokunyang in https://github.com/apache/fory/pull/3091refactor(rust): unify tuple struct and named struct protocol, and make schema evolution happy by @ariesdevil in https://github.com/apache/fory/pull/3092feat(java): build Descriptors with final ref_tracking flags by @chaokunyang in https://github.com/apache/fory/pull/3070feat(java/python/rust/go/cpp): align nullable meta for xlang struct fields serialization by @chaokunyang in https://github.com/apache/fory/pull/3093feat(rust): implement fine-grained ref tracking for rust by @chaokunyang in https://github.com/apache/fory/pull/3101feat(cpp): fine-grained ref tracking for cpp by @chaokunyang in https://github.com/apache/fory/pull/3103feat(java/python/rust/go/cpp): xlang nullable/ref alignment by @chaokunyang in https://github.com/apache/fory/pull/3104feat(java/python/rust/go/cpp): xlang fields reference and typeinfo alignment by @chaokunyang in https://github.com/apache/fory/pull/3107feat(java/python/go/rust): add circular reference xlang tests by @chaokunyang in https://github.com/apache/fory/pull/3108feat(cpp): add SharedWeak&lt;T&gt; for circular reference support by @chaokunyang in https://github.com/apache/fory/pull/3109feat(js): add schema-based per-field nullable support for xlang by @theharsh999 in https://github.com/apache/fory/pull/3100feat(xlang): support unsigned int for xlang by @chaokunyang in https://github.com/apache/fory/pull/3111feat(java): long array serializer support varint encoding by @Pigsy-Monk in https://github.com/apache/fory/pull/3115feat(xlang): support serialization for unsigned types and field encoding config by @chaokunyang in https://github.com/apache/fory/pull/3113perf(go): optimize go struct fields serialization perf by @chaokunyang in https://github.com/apache/fory/pull/3120feat(java): int array serializer support varint encoding by @Pigsy-Monk in https://github.com/apache/fory/pull/3124feat(java): support xlang serialization for GraalVM native image by @chaokunyang in https://github.com/apache/fory/pull/3126refactor(go): rename go interface to any by @chaokunyang in https://github.com/apache/fory/pull/3128refactor(xlang): remove magic number from protocol by @chaokunyang in https://github.com/apache/fory/pull/3137feat(xlang): use little endian when serializing array of multiple byte element size by @chaokunyang in https://github.com/apache/fory/pull/3140refactor(java/cpp): rename morphic to dynamic by @chaokunyang in https://github.com/apache/fory/pull/3142feat(xlang): add unsigned integer type support for JavaScript by @ayush00git in https://github.com/apache/fory/pull/3139feat: add unsigned number for dart by @ayush00git in https://github.com/apache/fory/pull/3144feat(xlang/java): refactor java native serialization type system and streaming type info for xlang by @chaokunyang in https://github.com/apache/fory/pull/3153feat(dart): add struct serializer support for unsigned integer types by @ayush00git in https://github.com/apache/fory/pull/3155feat(xlang): fory schema idl and compiler by @chaokunyang in https://github.com/apache/fory/pull/3106refactor(java): use Types.NONE + 1 as base java native id by @chaokunyang in https://github.com/apache/fory/pull/3180refactor(compiler): refactor fory compiler into hierarchical architecture by @chaokunyang in https://github.com/apache/fory/pull/3179feat(JavaScript): Add cross language test for JavaScript by @theweipeng in https://github.com/apache/fory/pull/3161feat(dart): add dart ci by @chaokunyang in https://github.com/apache/fory/pull/3189feat(compiler): add flatbuffers idl support by @chaokunyang in https://github.com/apache/fory/pull/3184feat(java): enhance java unsigned int/array type system by @chaokunyang in https://github.com/apache/fory/pull/3190feat(dart): add uint annotation types to the fory's codegen system by @ayush00git in https://github.com/apache/fory/pull/3181feat(dart): add uint struct support to the codegen system by @ayush00git in https://github.com/apache/fory/pull/3192feat(compiler): add union support to fory compiler and runtime by @chaokunyang in https://github.com/apache/fory/pull/3195feat(cpp): support private fields of cpp class by @chaokunyang in https://github.com/apache/fory/pull/3193feat(compiler): generate getter/setter/has/clear methods for cpp by @chaokunyang in https://github.com/apache/fory/pull/3199feat(JavaScript): impl the xlang string by @theweipeng in https://github.com/apache/fory/pull/3197feat(cpp): make fory enum/nuion macro in user namespace by @chaokunyang in https://github.com/apache/fory/pull/3200feat(go): use option for optional fields by @chaokunyang in https://github.com/apache/fory/pull/3202feat(cpp): make shared_ptr track ref by default by @chaokunyang in https://github.com/apache/fory/pull/3214feat(go): support [N]uint types array serializers by @ayush00git in https://github.com/apache/fory/pull/3201feat(xlang): reserve 4 bits for type meta by @chaokunyang in https://github.com/apache/fory/pull/3204feat(go): remove murmur hash go deps by @chaokunyang in https://github.com/apache/fory/pull/3217feat(compiler): refine generated cpp API by @chaokunyang in https://github.com/apache/fory/pull/3221feat(python): refactor cython buffer to use cpp buffer by @chaokunyang in https://github.com/apache/fory/pull/3219ci: speed up setup-python on windows by @chaokunyang in https://github.com/apache/fory/pull/3222feat(python): add buffer index accessors by @chaokunyang in https://github.com/apache/fory/pull/3223feat(xlang/compiler): support shared/circular reference serialization for fory/protobuf/flatbuffer idl by @chaokunyang in https://github.com/apache/fory/pull/3226feat(cpp): add polymorphic serialization support for any to compiler by @chaokunyang in https://github.com/apache/fory/pull/3232feat(JavaScript): impl xlang writer by @theweipeng in https://github.com/apache/fory/pull/3234feat(xlang): support control ref tracking for nested list map elements by @chaokunyang in https://github.com/apache/fory/pull/3236feat(compiler): add generated to_bytes/from_bytes methods to generated message/union by @chaokunyang in https://github.com/apache/fory/pull/3238refactor(cpp): use snake_case namestyle for cpp by @chaokunyang in https://github.com/apache/fory/pull/3240perf(go): optimize go perf by @chaokunyang in https://github.com/apache/fory/pull/3241refactor(go): adjust go buffer uint32/64 write/read name style by @chaokunyang in https://github.com/apache/fory/pull/3242refactor(compiler): refactor fory compiler command line by @chaokunyang in https://github.com/apache/fory/pull/3243feat(compiler): add compatible mode for idl by @chaokunyang in https://github.com/apache/fory/pull/3245feat(go): add float16 support to go by @ayush00git in https://github.com/apache/fory/pull/3235feat(java): generate java List for primitive array by @chaokunyang in https://github.com/apache/fory/pull/3247feat(JavaScript): Impl xlang Map and Collection by @theweipeng in https://github.com/apache/fory/pull/3249feat(compiler/runtime): use hash for generated class as id and refactor user type id encoding by @chaokunyang in https://github.com/apache/fory/pull/3248refactor(spec): remove language byte from xlang in protocol by @chaokunyang in https://github.com/apache/fory/pull/3256refactor(go): move go struct serializer init to struct_init.go by @chaokunyang in https://github.com/apache/fory/pull/3255feat(protocol): add float8 and bfloat16 to protocol spec by @chaokunyang in https://github.com/apache/fory/pull/3259feat(compiler): add evolution option support by @chaokunyang in https://github.com/apache/fory/pull/3262feat(compiler): update toString/repr/std::fmt::Debug for generated ref code by @chaokunyang in https://github.com/apache/fory/pull/3264perf: optimize schema evolution mode performance by @chaokunyang in https://github.com/apache/fory/pull/3260feat(JavaScript): Impl xlang JavaScript testcase by @theweipeng in https://github.com/apache/fory/pull/3263feat(compiler): add list keyword for list fields by @chaokunyang in https://github.com/apache/fory/pull/3295  ","version":null,"tagName":"h2"},{"title":"Bug Fix‚Äã","type":1,"pageTitle":"Fory v0.15.0 Released","url":"/zh-CN/blog/fory_0_15_0_release#bug-fix","content":" fix(docs): fix graalvm link by @chaokunyang in https://github.com/apache/fory/pull/3056fix(Rust): prevent obtaining generic type metadata on custom types(struct/enum) by @urlyy in https://github.com/apache/fory/pull/3057fix(Rust): Move the calculating of TypeMeta::bytes and TypeMeta::hash ahead of serialization by @urlyy in https://github.com/apache/fory/pull/3060fix(java): Better ergonomics for AllowListChecker by @Asuka-star in https://github.com/apache/fory/pull/3061fix(rust): output original registered ID in type mismatch error log by @userzhy in https://github.com/apache/fory/pull/3067fix(java): Fix CopyOnWriteArrayList field serialization by @vybhavjs in https://github.com/apache/fory/pull/3079fix(go): reference tracking fails when &gt;127 objects serialized by @jonyoder in https://github.com/apache/fory/pull/3086fix(java): fix abstract enum and abstract array serialization for GraalVM by @chaokunyang in https://github.com/apache/fory/pull/3095fix(rust): enable Union type cross-language serialization between Rust and Java by @ariesdevil in https://github.com/apache/fory/pull/3094fix: x86 architecture missing from universal2 macOS wheel by @madhavajay in https://github.com/apache/fory/pull/3114fix(java): optimize type resolver calls for xlang mode on graalvm by @chaokunyang in https://github.com/apache/fory/pull/3129fix(java): stop compilation service when shutdowning compile service by @chaokunyang in https://github.com/apache/fory/pull/3138fix(python): fix collection null elements read/write by @chaokunyang in https://github.com/apache/fory/pull/3149fix: typo in the xlang_serialization_spec.md by @ayush00git in https://github.com/apache/fory/pull/3151fix(java): use littlen endian for utf16 string on big endian by @chaokunyang in https://github.com/apache/fory/pull/3159fix(java): fix openj9 sliced string serde by @chaokunyang in https://github.com/apache/fory/pull/3160fix(cpp): fix fory cpp compile warnings by @chaokunyang in https://github.com/apache/fory/pull/3188fix(cpp): issue 3229 - compile error on gcc16 by @xflcx1991 in https://github.com/apache/fory/pull/3230fix(java): fix java ci maven module error by @chaokunyang in https://github.com/apache/fory/pull/3265fix(go): prevent panic in readUTF16LE with odd byte counts by @jonyoder in https://github.com/apache/fory/pull/3293  ","version":null,"tagName":"h2"},{"title":"Other Improvements‚Äã","type":1,"pageTitle":"Fory v0.15.0 Released","url":"/zh-CN/blog/fory_0_15_0_release#other-improvements","content":" chore: bump release version to 0.14.0 by @chaokunyang in https://github.com/apache/fory/pull/3052chore: fix benchmark plot by @chaokunyang in https://github.com/apache/fory/pull/3053docs: add cpp doc in main readme.md by @chaokunyang in https://github.com/apache/fory/pull/3055chore(deps): bump org.apache.logging.log4j:log4j-core from 2.20.0 to 2.25.3 in /java/fory-test-core by @dependabot[bot] in https://github.com/apache/fory/pull/3065chore(python): Update badge styles in README.md by @chaokunyang in https://github.com/apache/fory/pull/3072chore(rust): revert rust crates version by @ariesdevil in https://github.com/apache/fory/pull/3075docs(cpp): Add MSVC compatibility to the CMake sample in the CPP document. by @Eiskomet in https://github.com/apache/fory/pull/3078chore: bump release version to 0.14.1 by @chaokunyang in https://github.com/apache/fory/pull/3096docs(go): add go serialization doc by @chaokunyang in https://github.com/apache/fory/pull/3121docs(go): fix go serialization doc by @chaokunyang in https://github.com/apache/fory/pull/3125docs(go): fix broken go doc links by @chaokunyang in https://github.com/apache/fory/pull/3127docs(go): add go version requirements by @chaokunyang in https://github.com/apache/fory/pull/3134docs(go): add docs for go pkg dev by @chaokunyang in https://github.com/apache/fory/pull/3135docs: adjust doc links and sync config by @chaokunyang in https://github.com/apache/fory/pull/3136docs: remove redundant prefix doc id by @chaokunyang in https://github.com/apache/fory/pull/3141docs: add field configuration doc by @chaokunyang in https://github.com/apache/fory/pull/3143docs: fix field type broken links by @chaokunyang in https://github.com/apache/fory/pull/3146docs: fix field type meta pos by @chaokunyang in https://github.com/apache/fory/pull/3147docs: fix native field type meta doc by @chaokunyang in https://github.com/apache/fory/pull/3148chore(java): move java benchmark to bench dir by @chaokunyang in https://github.com/apache/fory/pull/3152docs: fix typo and grammar in readme by @Howard-aile in https://github.com/apache/fory/pull/3156docs: update agents.md by @chaokunyang in https://github.com/apache/fory/pull/3162docs(compiler): update fory compiler doc by @chaokunyang in https://github.com/apache/fory/pull/3183docs: fix protobuf docs by @chaokunyang in https://github.com/apache/fory/pull/3185docs: add missing protobuf-idl.md by @chaokunyang in https://github.com/apache/fory/pull/3186docs(cpp): add cpp polymorphism doc by @chaokunyang in https://github.com/apache/fory/pull/3187docs: Fix links in README by @chaokunyang in https://github.com/apache/fory/pull/3212chore(java): rename _getTypeResolver to getTypeResolver by @chaokunyang in https://github.com/apache/fory/pull/3227chore(cpp): remove unique token from FORY_FIELD_CONFIG by @chaokunyang in https://github.com/apache/fory/pull/3228docs(compiler): merge type system doc into schema-idl odc by @chaokunyang in https://github.com/apache/fory/pull/3258chore: fix bump version and add rust/comiler auto release by @chaokunyang in https://github.com/apache/fory/pull/3257docs: move language impl reference to a new doc by @chaokunyang in https://github.com/apache/fory/pull/3261docs(go): add go benchmarks result by @chaokunyang in https://github.com/apache/fory/pull/3296chore: speedup windows ci by @chaokunyang in https://github.com/apache/fory/pull/3297  ","version":null,"tagName":"h2"},{"title":"New Contributors‚Äã","type":1,"pageTitle":"Fory v0.15.0 Released","url":"/zh-CN/blog/fory_0_15_0_release#new-contributors","content":" @jim-parsons made their first contribution in https://github.com/apache/fory/pull/3048@Asuka-star made their first contribution in https://github.com/apache/fory/pull/3061@userzhy made their first contribution in https://github.com/apache/fory/pull/3067@ariesdevil made their first contribution in https://github.com/apache/fory/pull/3074@Eiskomet made their first contribution in https://github.com/apache/fory/pull/3078@vybhavjs made their first contribution in https://github.com/apache/fory/pull/3079@jonyoder made their first contribution in https://github.com/apache/fory/pull/3086@theharsh999 made their first contribution in https://github.com/apache/fory/pull/3100@madhavajay made their first contribution in https://github.com/apache/fory/pull/3114@Pigsy-Monk made their first contribution in https://github.com/apache/fory/pull/3115@ayush00git made their first contribution in https://github.com/apache/fory/pull/3139@Howard-aile made their first contribution in https://github.com/apache/fory/pull/3156@xflcx1991 made their first contribution in https://github.com/apache/fory/pull/3230  Full Changelog: https://github.com/apache/fory/compare/v0.14.1...v0.15.0 ","version":null,"tagName":"h2"},{"title":"Fury v0.1.1 released","type":0,"sectionRef":"#","url":"/zh-CN/blog/fury_0_1_1_release","content":"","keywords":"","version":null},{"title":"Highlights‚Äã","type":1,"pageTitle":"Fury v0.1.1 released","url":"/zh-CN/blog/fury_0_1_1_release#highlights","content":" Java Dubbo fury integration: https://github.com/fury-project/dubbo-serialization-furyAdd class checker API to customize security check behaviour(#890) Python Support pyarrow6 bazel build (#859 #862)Support python 3.10 (#859 #862)  ","version":null,"tagName":"h2"},{"title":"What's Changed‚Äã","type":1,"pageTitle":"Fury v0.1.1 released","url":"/zh-CN/blog/fury_0_1_1_release#whats-changed","content":" [Java] Dubbo fury integration: https://github.com/fury-project/dubbo-serialization-fury[Java] fix isSecure check for xlang in java (#822)[Java] register empty object by default (#829)[Java] upgrade guava for(#831)[Python] Support pyarrow6 bazel build (#859)[Python] add missing shared lib for python (#862)[Java] optimize buffer copy (#870)[Doc] Fix row format doc (#873)[Java] fix ofHashMap (#877)[Java] add jdk tools.jar for tests (#881)[Java] Fix lazy bean serializer (#883)[Java] print exception for fury creation (#885)[Java] remove getCurrentFury API (#887)[Java] Add fury map iterator api (#889)[Java] Add class checker API (#890)[Python] Fix python linux deploy missing shared library files (#892)[[Java] refine AllowListChecker (#893)  Full Changelog: https://github.com/alipay/fury/compare/v0.1.0...v0.1.1 ","version":null,"tagName":"h2"},{"title":"Fury v0.1.2 released","type":0,"sectionRef":"#","url":"/zh-CN/blog/fury_0_1_2_release","content":"","keywords":"","version":null},{"title":"What's Changed‚Äã","type":1,"pageTitle":"Fury v0.1.2 released","url":"/zh-CN/blog/fury_0_1_2_release#whats-changed","content":" [Java] Skip toString in annotation invocation handler readObject (#746)[Python] Use cloudpickle for local function serialization (#914)[Python] fix row format getter (#915)  Full Changelog: https://github.com/alipay/fury/compare/v0.1.0...v0.1.1 ","version":null,"tagName":"h2"},{"title":"Fury v0.10.0 Released","type":0,"sectionRef":"#","url":"/zh-CN/blog/fury_0_10_0_release","content":"","keywords":"","version":null},{"title":"Highlight‚Äã","type":1,"pageTitle":"Fury v0.10.0 Released","url":"/zh-CN/blog/fury_0_10_0_release#highlight","content":" Chunk based map serializationHighly optimized JavaScript string serialization  ","version":null,"tagName":"h2"},{"title":"Features‚Äã","type":1,"pageTitle":"Fury v0.10.0 Released","url":"/zh-CN/blog/fury_0_10_0_release#features","content":" feat(java): ReplaceResolveSerializer deep copy by @zhaommmmomo in https://github.com/apache/fury/pull/1925feat(java): use varint for jdk compatible serializers by @chaokunyang in https://github.com/apache/fury/pull/1960feat(java): configurable buffer size limit by @theigl in https://github.com/apache/fury/pull/1963feat(java): make 4 bytes utf16 size header optional for utf8 encoding by @chaokunyang in https://github.com/apache/fury/pull/2010feat(ci): support building python on windows by @An-DJ in https://github.com/apache/fury/pull/1885feat(java): Chunk by chunk predictive map serialization protocol by @Hen1ng in https://github.com/apache/fury/pull/1722feat(java): support streaming encode/decode to/from buffer for row format by @chaokunyang in https://github.com/apache/fury/pull/2024feat(java): new implementation and protocol refine for chunk based map serialization by @chaokunyang in https://github.com/apache/fury/pull/2025feat(java): jit support for chunk based map serialization by @chaokunyang in https://github.com/apache/fury/pull/2027feat(java): Add basicMultiConfigFury dataprovider and add basic map unit test use the dataProvider by @Hen1ng in https://github.com/apache/fury/pull/2032feat(java): deserialize one pojo into another type by @orisgarno in https://github.com/apache/fury/pull/2012feat(python): chunk based map serialization for python by @chaokunyang in https://github.com/apache/fury/pull/2038feat(java): zstd meta compressor by @orisgarno in https://github.com/apache/fury/pull/2042feat(python): automatic release pyfury on macos and windows by @chaokunyang in https://github.com/apache/fury/pull/2045feat(javascript): optimize string serializer by @theweipeng in https://github.com/apache/fury/pull/2043feat(python): add macos pyfury ci by @chaokunyang in https://github.com/apache/fury/pull/2041  ","version":null,"tagName":"h2"},{"title":"Bug Fix‚Äã","type":1,"pageTitle":"Fury v0.10.0 Released","url":"/zh-CN/blog/fury_0_10_0_release#bug-fix","content":" fix(java): Move schema caching to unsafe trait to avoid issues when using non-inferred schema. by @wywen in https://github.com/apache/fury/pull/1944fix(java): ClassLoaderFuryPooled#setFactoryCallback cannot effect old Fury by @MrChang0 in https://github.com/apache/fury/pull/1946fix(java): fix find constructor error in generated serializer class caused by duplicated class classloading for Fury by @chaokunyang in https://github.com/apache/fury/pull/1948fix(c++): fix bazel install by @chaokunyang in https://github.com/apache/fury/pull/1979fix(java): Fix flakiness in ExpressionVisitorTest#testTraverseExpression by @AmitPr in https://github.com/apache/fury/pull/1968fix(java): Fix the issue caused by not using readCompressedBytesString during deserialization when string compression is enabled. by @Aliothmoon in https://github.com/apache/fury/pull/1991fix(java): Compatible mode on de/serialize api failed to deserialize by @orisgarno in https://github.com/apache/fury/pull/1996fix(java): chunk map serialize an error by @Hen1ng in https://github.com/apache/fury/pull/2030fix(python): Fix missing parameters and old API names by @pandalee99 in https://github.com/apache/fury/pull/2049fix(doc): set compressString default value to false by @chaokunyang in https://github.com/apache/fury/pull/1913fix(java): Remove duplicate maven dependency by @Hen1ng in https://github.com/apache/fury/pull/2044fix(java): fix duplicate entry write at max chunk size bound by @chaokunyang in https://github.com/apache/fury/pull/2040  ","version":null,"tagName":"h2"},{"title":"Other Improvements‚Äã","type":1,"pageTitle":"Fury v0.10.0 Released","url":"/zh-CN/blog/fury_0_10_0_release#other-improvements","content":" chore(ci): Migrate the ci from macOS 12 to macOS 13 by @penguin-wwy in https://github.com/apache/fury/pull/1927chore(Rust): fix lint problems by @theweipeng in https://github.com/apache/fury/pull/1962docs(java): add object mapping example and tests by @chaokunyang in https://github.com/apache/fury/pull/1974chore(python): drop py3.7 support by @chaokunyang in https://github.com/apache/fury/pull/1981fix(java): only print warn message if scopedMetaShareEnabled is true ‚Ä¶ by @zhfeng in https://github.com/apache/fury/pull/1985docs: update copyright date in NOTICE by @caicancai in https://github.com/apache/fury/pull/2029docs(java): update java serialization schema compatibility doc by @chaokunyang in https://github.com/apache/fury/pull/2047  ","version":null,"tagName":"h2"},{"title":"New Contributors‚Äã","type":1,"pageTitle":"Fury v0.10.0 Released","url":"/zh-CN/blog/fury_0_10_0_release#new-contributors","content":" @theigl made their first contribution in https://github.com/apache/fury/pull/1963@AmitPr made their first contribution in https://github.com/apache/fury/pull/1968@zhfeng made their first contribution in https://github.com/apache/fury/pull/1985@Hen1ng made their first contribution in https://github.com/apache/fury/pull/1722  Full Changelog: https://github.com/apache/fury/compare/v0.9.0...v0.10.0 ","version":null,"tagName":"h2"},{"title":"Fury v0.10.1 Released","type":0,"sectionRef":"#","url":"/zh-CN/blog/fury_0_10_1_release","content":"","keywords":"","version":null},{"title":"Features‚Äã","type":1,"pageTitle":"Fury v0.10.1 Released","url":"/zh-CN/blog/fury_0_10_1_release#features","content":" feat(java): support passed tracking ref meta when building serializers by @chaokunyang in https://github.com/apache/fury/pull/2113feat(java): extra entry in disallowed.txt by @pjfanning in https://github.com/apache/fury/pull/2098feat(java): use sha256 to check disallowed.txt tamper by @chaokunyang in https://github.com/apache/fury/pull/2102  ","version":null,"tagName":"h2"},{"title":"Bug Fix‚Äã","type":1,"pageTitle":"Fury v0.10.1 Released","url":"/zh-CN/blog/fury_0_10_1_release#bug-fix","content":" fix(java): fix read null chunk out of bound by @chaokunyang in https://github.com/apache/fury/pull/2065fix(java): Fix error with MemoryBuffer::readBytesAsInt64 when not in LITTLE_ENDIAN mode by @LouisLou2 in https://github.com/apache/fury/pull/2069fix(java): fix read primitives error on fill buffer bound by @chaokunyang in https://github.com/apache/fury/pull/2064fix(java): java.util.Date and its subclasses are mutable by @moooonk in https://github.com/apache/fury/pull/2076fix(java): fix ImmutableCollections$SubList duplicate registration by @w-yfan in https://github.com/apache/fury/pull/2074fix(java): Modify some mistake by @Hen1ng in https://github.com/apache/fury/pull/2086fix(java): fix serialization npe of collection with all null elems by @chaokunyang in https://github.com/apache/fury/pull/2111fix(java): fix disallowed.txt check in windows by @chaokunyang in https://github.com/apache/fury/pull/2128  ","version":null,"tagName":"h2"},{"title":"Other Improvements‚Äã","type":1,"pageTitle":"Fury v0.10.1 Released","url":"/zh-CN/blog/fury_0_10_1_release#other-improvements","content":" perf(java): Improve performance by using System.arraycopy to copy between byte arrays by @Cybermaxke in https://github.com/apache/fury/pull/2101perf(java): Refactor ThreadPoolFury to improve performance by @moooonk in https://github.com/apache/fury/pull/2092perf(java): Optimize Computational Efficiency of MetaStringEncoder::encodeGeneric by @LouisLou2 in https://github.com/apache/fury/pull/2072  Full Changelog: https://github.com/apache/fury/compare/v0.10.0...v0.10.1 ","version":null,"tagName":"h2"},{"title":"Fury v0.10.2 Released","type":0,"sectionRef":"#","url":"/zh-CN/blog/fury_0_10_2_release","content":"","keywords":"","version":null},{"title":"Features‚Äã","type":1,"pageTitle":"Fury v0.10.2 Released","url":"/zh-CN/blog/fury_0_10_2_release#features","content":" feat(kotlin): add kotlin ci by @pandalee99 in https://github.com/apache/fury/pull/2176  ","version":null,"tagName":"h2"},{"title":"Bug Fix‚Äã","type":1,"pageTitle":"Fury v0.10.2 Released","url":"/zh-CN/blog/fury_0_10_2_release#bug-fix","content":" fix(java): fix DisallowedList calculate hash in Windows by @chaokunyang in https://github.com/apache/fury/pull/2142fix(java): fix fury logger log exception by @chaokunyang in https://github.com/apache/fury/pull/2153fix(java): fix nested chunk map serialization error when generics exists by @chaokunyang in https://github.com/apache/fury/pull/2162fix(java): fix nested map chunk serialization codegen by @chaokunyang in https://github.com/apache/fury/pull/2172fix(kotlin): fix kotlin compile error by @chaokunyang in https://github.com/apache/fury/pull/2173  Full Changelog: https://github.com/apache/fury/compare/v0.10.1...v0.10.2 ","version":null,"tagName":"h2"},{"title":"Fury v0.10.3 Released","type":0,"sectionRef":"#","url":"/zh-CN/blog/fury_0_10_3_release","content":"","keywords":"","version":null},{"title":"Features‚Äã","type":1,"pageTitle":"Fury v0.10.3 Released","url":"/zh-CN/blog/fury_0_10_3_release#features","content":" feat(java): add protobuf serializer for message and byte string by @chaokunyang in https://github.com/apache/fury/pull/2213  ","version":null,"tagName":"h2"},{"title":"Bug Fix‚Äã","type":1,"pageTitle":"Fury v0.10.3 Released","url":"/zh-CN/blog/fury_0_10_3_release#bug-fix","content":" fix(java): mark fury-test-core as test dep in fury extensions by @chaokunyang in https://github.com/apache/fury/pull/2231fix(java): ensure readVarUint36Small reads full bits regardless of remaining buffer size by @LouisLou2 in https://github.com/apache/fury/pull/2179fix(java): ensure FuryObjectInputStream.read never returns 0 when length&gt;0 by @X-czh in https://github.com/apache/fury/pull/2205fix(java): Fix empty string processing in MetaStringBytes by @LouisLou2 in https://github.com/apache/fury/pull/2212fix(java): fix field super class missing in compatible mode by @chaokunyang in https://github.com/apache/fury/pull/2214fix(python): fix pyfury build using pyproject.toml by @chaokunyang in https://github.com/apache/fury/pull/2206fix: install bazel by @chaokunyangfix: print python tests exception by @chaokunyangfix: install pyarrow by @chaokunyang  ","version":null,"tagName":"h2"},{"title":"Chores‚Äã","type":1,"pageTitle":"Fury v0.10.3 Released","url":"/zh-CN/blog/fury_0_10_3_release#chores","content":" chore: cherry-pick commits for 0.10.3 by @chaokunyang in https://github.com/apache/fury/pull/2219chore: cherry-pick commits for 0.10.3 by @chaokunyang in https://github.com/apache/fury/pull/2234chore: Bump version to 0.10.3 by @pandalee99 in https://github.com/apache/fury/pull/2235chore: fix Releases 0.10 by @pandalee99 in https://github.com/apache/fury/pull/2236chore(javascript): remove nodejs 12 support by @chaokunyang in https://github.com/apache/fury/pull/2233  Full Changelog: https://github.com/apache/fury/compare/v0.10.2...v0.10.3-rc2 ","version":null,"tagName":"h2"},{"title":"Fury v0.2.1 released","type":0,"sectionRef":"#","url":"/zh-CN/blog/fury_0_2_1_release","content":"","keywords":"","version":null},{"title":"Highlight‚Äã","type":1,"pageTitle":"Fury v0.2.1 released","url":"/zh-CN/blog/fury_0_2_1_release#highlight","content":" [Go] Support tiny go compilation[Java] Support private JDK17+ record class JIT serialization  ","version":null,"tagName":"h2"},{"title":"Bug fix‚Äã","type":1,"pageTitle":"Fury v0.2.1 released","url":"/zh-CN/blog/fury_0_2_1_release#bug-fix","content":" Fix jit error for register private serializersUpgrade janino version to fix package name conflict with classname  ","version":null,"tagName":"h2"},{"title":"What's Changed‚Äã","type":1,"pageTitle":"Fury v0.2.1 released","url":"/zh-CN/blog/fury_0_2_1_release#whats-changed","content":" [Doc] Update JDK support doc by @chaokunyang in https://github.com/alipay/fury/pull/992[Go] Make compilation support tinygo by @springrain in https://github.com/alipay/fury/pull/991[Doc] fix config class imports by @chaokunyang in https://github.com/alipay/fury/pull/993[go] fixed typo in readme import path by @voldyman in https://github.com/alipay/fury/pull/995[Java] fix jit error for register private serializers by @chaokunyang in https://github.com/alipay/fury/pull/999[Java] Refine reflection contructor by MethodHandle by @chaokunyang in https://github.com/alipay/fury/pull/1000[Java] Fix private record JIT by @chaokunyang in https://github.com/alipay/fury/pull/1004[Java] Upgrade janino version to fix package name conflict with classname by @chaokunyang in https://github.com/alipay/fury/pull/1006[Java] fix janino deps for fury-benchmark by @chaokunyang in https://github.com/alipay/fury/pull/1007[Doc] Improve README by @caicancai in https://github.com/alipay/fury/pull/1009  ","version":null,"tagName":"h2"},{"title":"New Contributors‚Äã","type":1,"pageTitle":"Fury v0.2.1 released","url":"/zh-CN/blog/fury_0_2_1_release#new-contributors","content":" @springrain made their first contribution in https://github.com/alipay/fury/pull/991@voldyman made their first contribution in https://github.com/alipay/fury/pull/995@caicancai made their first contribution in https://github.com/alipay/fury/pull/1009  Full Changelog: https://github.com/alipay/fury/compare/v0.2.0...v0.2.1 ","version":null,"tagName":"h2"},{"title":"Fury v0.1.0 released","type":0,"sectionRef":"#","url":"/zh-CN/blog/fury_0_1_0_release","content":"","keywords":"","version":null},{"title":"New Contributors‚Äã","type":1,"pageTitle":"Fury v0.1.0 released","url":"/zh-CN/blog/fury_0_1_0_release#new-contributors","content":" @wangweipeng2 made their first contribution in https://github.com/alipay/fury/pull/215@rainsonGain made their first contribution in https://github.com/alipay/fury/pull/429@leeco-cloud made their first contribution in https://github.com/alipay/fury/pull/436@dependabot made their first contribution in https://github.com/alipay/fury/pull/590@tisonkun made their first contribution in https://github.com/alipay/fury/pull/762@hieu-ht made their first contribution in https://github.com/alipay/fury/pull/786@s31k31 made their first contribution in https://github.com/alipay/fury/pull/782  ","version":null,"tagName":"h2"},{"title":"What's Changed‚Äã","type":1,"pageTitle":"Fury v0.1.0 released","url":"/zh-CN/blog/fury_0_1_0_release#whats-changed","content":" Create pull_request_template.md by @chaokunyang in https://github.com/alipay/fury/pull/2add apache licence file by @chaokunyang in https://github.com/alipay/fury/pull/3[Java] add java code structure by @chaokunyang in https://github.com/alipay/fury/pull/4[Java] add java code formatter by @chaokunyang in https://github.com/alipay/fury/pull/5[Java] Add licence to file header by @chaokunyang in https://github.com/alipay/fury/pull/6[Docs] add fury debug doc by @chaokunyang in https://github.com/alipay/fury/pull/8[Docs] refine readme by fix syntax error by @chaokunyang in https://github.com/alipay/fury/pull/10[Community] add getting involved document by @chaokunyang in https://github.com/alipay/fury/pull/12[Java] add java ci by @chaokunyang in https://github.com/alipay/fury/pull/14[Java] fix license format conflict with checkstyle by @chaokunyang in https://github.com/alipay/fury/pull/16[Java] Add unsafe memory util by @chaokunyang in https://github.com/alipay/fury/pull/18[Java] add tuple2/tuple3 utils by @chaokunyang in https://github.com/alipay/fury/pull/20[Java] add LoggerFactory for disable logging more easily by @chaokunyang in https://github.com/alipay/fury/pull/22[Java] add string utils by @chaokunyang in https://github.com/alipay/fury/pull/24[Java] add memory read/write utils by @chaokunyang in https://github.com/alipay/fury/pull/26[Community] update slack invite link by @chaokunyang in https://github.com/alipay/fury/pull/27[Java] add cross-language type id by @chaokunyang in https://github.com/alipay/fury/pull/35[Java] Add api annotation to mark api stability by @chaokunyang in https://github.com/alipay/fury/pull/37[Java] add int array to avoid box cost by @chaokunyang in https://github.com/alipay/fury/pull/39[Java] add auto-growing object array by @chaokunyang in https://github.com/alipay/fury/pull/41[Java] Add optimized map for faster lookup by @chaokunyang in https://github.com/alipay/fury/pull/43[Java] add basic type inference support by @chaokunyang in https://github.com/alipay/fury/pull/45[Java] Add long map support by @chaokunyang in https://github.com/alipay/fury/pull/47[Java] add fury exceptions by @chaokunyang in https://github.com/alipay/fury/pull/48[Java] add MurmurHash3 support by @chaokunyang in https://github.com/alipay/fury/pull/50[Java] add Reflection support by @chaokunyang in https://github.com/alipay/fury/pull/52add FieldAccessor and fields compare by @chaokunyang in https://github.com/alipay/fury/pull/54[Java] implement basic compiler backend based on janino by @chaokunyang in https://github.com/alipay/fury/pull/56[Java] Add extensible classloaders by @chaokunyang in https://github.com/alipay/fury/pull/58[Java] Support multi key weak map by @chaokunyang in https://github.com/alipay/fury/pull/60[Java] codegen framework for fury java jit by @chaokunyang in https://github.com/alipay/fury/pull/61[Java] add utility for lambda functions by @chaokunyang in https://github.com/alipay/fury/pull/63[Java] add common expression ir for programing construct by @chaokunyang in https://github.com/alipay/fury/pull/64[Java] fix if expression with return child node by @chaokunyang in https://github.com/alipay/fury/pull/66[Java] add expression tree traverser and updater by @chaokunyang in https://github.com/alipay/fury/pull/68[Java] add missing author java odc by @chaokunyang in https://github.com/alipay/fury/pull/69[Java] add enum string resolver support by @chaokunyang in https://github.com/alipay/fury/pull/72[Java] add reference tracking support by @chaokunyang in https://github.com/alipay/fury/pull/74[Java] add java serializer interface by @chaokunyang in https://github.com/alipay/fury/pull/76[Java] add test utils by @chaokunyang in https://github.com/alipay/fury/pull/77[Java] add generics hierarchy resolving support by @chaokunyang in https://github.com/alipay/fury/pull/79[Java] add serialization context to relate serializing different objects by @chaokunyang in https://github.com/alipay/fury/pull/82[Java] add class info util by @chaokunyang in https://github.com/alipay/fury/pull/83[Java] add buffer callback by @chaokunyang in https://github.com/alipay/fury/pull/87[Java] implement basic java serialization framework by @chaokunyang in https://github.com/alipay/fury/pull/88[Java] Add string serializer by @chaokunyang in https://github.com/alipay/fury/pull/90[Java] add string builder/buffer serializers by @chaokunyang in https://github.com/alipay/fury/pull/93[Java] add missing uint serializers tests by @chaokunyang in https://github.com/alipay/fury/pull/95[Java] Implement enum serialization for java by @chaokunyang in https://github.com/alipay/fury/pull/97[Java] Implement bigint/decimal serialization for java by @chaokunyang in https://github.com/alipay/fury/pull/101[Community] add zhihu link by @chaokunyang in https://github.com/alipay/fury/pull/103[Community] fix zhihu link by @chaokunyang in https://github.com/alipay/fury/pull/104[Community] update slack desc by @chaokunyang in https://github.com/alipay/fury/pull/105[Java] Add object array serializer by @chaokunyang in https://github.com/alipay/fury/pull/107[Java] Implement primitive array serializers by @chaokunyang in https://github.com/alipay/fury/pull/109[Java] support serializing byte buffer by @chaokunyang in https://github.com/alipay/fury/pull/113[Java] support serializing java.util.concurrent.atomics by @chaokunyang in https://github.com/alipay/fury/pull/115[Java] move string array serializers by @chaokunyang in https://github.com/alipay/fury/pull/116[Java] support Currency serialization by @chaokunyang in https://github.com/alipay/fury/pull/118[Java] support charset serialization by @chaokunyang in https://github.com/alipay/fury/pull/120[Java] support URI serialization by @chaokunyang in https://github.com/alipay/fury/pull/122[Java] add support for regex serialization by @chaokunyang in https://github.com/alipay/fury/pull/124[Java] support uuid serialization by @chaokunyang in https://github.com/alipay/fury/pull/126[Java] add class serialization test by @chaokunyang in https://github.com/alipay/fury/pull/127[Java] add Locale Serializer support by @chaokunyang in https://github.com/alipay/fury/pull/129[Java] fix LocaleSerializer cache thread safety by @chaokunyang in https://github.com/alipay/fury/pull/132[Java] serialization support for java.util.OptionalXXX by @chaokunyang in https://github.com/alipay/fury/pull/134[Java] Add time serializers by @chaokunyang in https://github.com/alipay/fury/pull/137[Java] add ObjectInput/Output based on fury by @chaokunyang in https://github.com/alipay/fury/pull/139[Java] add JavaSerializer based on ObjectInputStream/ObjectOutputStream by @chaokunyang in https://github.com/alipay/fury/pull/141[Java] implement jdk proxy serialization by @chaokunyang in https://github.com/alipay/fury/pull/143[Java] implement Externalizable serialization by @chaokunyang in https://github.com/alipay/fury/pull/145[Java] implement Collection serialization by @chaokunyang in https://github.com/alipay/fury/pull/147[Java] add sortedset serializer by @chaokunyang in https://github.com/alipay/fury/pull/149[Java] add empty collection serializer by @chaokunyang in https://github.com/alipay/fury/pull/151[Java] add single collection serializers by @chaokunyang in https://github.com/alipay/fury/pull/153[Java] add ConcurrentSkipListSet serializer by @chaokunyang in https://github.com/alipay/fury/pull/155[Java] add java.util.Vector serializer by @chaokunyang in https://github.com/alipay/fury/pull/157[Java] add java.util.ArrayDeque serializer by @chaokunyang in https://github.com/alipay/fury/pull/159[Java] add java.util.EnumSet serializer by @chaokunyang in https://github.com/alipay/fury/pull/161[Java] implement java.util.BitSet serializer by @chaokunyang in https://github.com/alipay/fury/pull/163[Java] implement java.util.PriorityQueue serialization by @chaokunyang in https://github.com/alipay/fury/pull/165[Java] implement map serialization framework by @chaokunyang in https://github.com/alipay/fury/pull/167[Java] support java.util.SortedMap serialization by @chaokunyang in https://github.com/alipay/fury/pull/169[Java] support empty map serialization by @chaokunyang in https://github.com/alipay/fury/pull/171[Java] implement singleton map serialization by @chaokunyang in https://github.com/alipay/fury/pull/173[Java] support concurrent map serialization by @chaokunyang in https://github.com/alipay/fury/pull/175[Java] implement enum map serialization by @chaokunyang in https://github.com/alipay/fury/pull/177[Java] group and sort descriptors for cache and consistency by @chaokunyang in https://github.com/alipay/fury/pull/179[Java] Implement object serialization by @chaokunyang in https://github.com/alipay/fury/pull/181[Java] fury native lambda serialization for java by @chaokunyang in https://github.com/alipay/fury/pull/183Update feature_request.md by @chaokunyang in https://github.com/alipay/fury/pull/184Update bug_report.md by @chaokunyang in https://github.com/alipay/fury/pull/185Update bug_report.md by @chaokunyang in https://github.com/alipay/fury/pull/186[Java] Optimize Collections.synchronized serialization performance by @chaokunyang in https://github.com/alipay/fury/pull/188[Java] optimize unmodifiable serialization by @chaokunyang in https://github.com/alipay/fury/pull/191[Java] add native readResolve/writeReplace serialization support by @chaokunyang in https://github.com/alipay/fury/pull/193[Java] [1/N] support type forward/backward compatibility by @chaokunyang in https://github.com/alipay/fury/pull/196[Java] Add struct util to create test struct class dynamically by @chaokunyang in https://github.com/alipay/fury/pull/199Revert &quot;[Java] Add struct util to create test struct class dynamically&quot; by @chaokunyang in https://github.com/alipay/fury/pull/200[Java] Add struct util to create test struct class dynamically by @chaokunyang in https://github.com/alipay/fury/pull/201[Java] [2/N] support type forward/backward compatibility by @chaokunyang in https://github.com/alipay/fury/pull/195[Java] Optimize subclass container serialization by @chaokunyang in https://github.com/alipay/fury/pull/205[Java] remove generated classes automatically by @chaokunyang in https://github.com/alipay/fury/pull/207[Java] implement collection serialization field by field by @chaokunyang in https://github.com/alipay/fury/pull/209[Java] implement java map serialization field by field by @chaokunyang in https://github.com/alipay/fury/pull/210[Java] optimize jdk compatible collection serializer by @chaokunyang in https://github.com/alipay/fury/pull/212[Java] support compatible map serialization by @chaokunyang in https://github.com/alipay/fury/pull/213[JavaScript] javascript of fury by @wangweipeng2 in https://github.com/alipay/fury/pull/215[JavaScript]Replace Nodejs lib by standard lib by @wangweipeng2 in https://github.com/alipay/fury/pull/217[JavaScript]Add test by @wangweipeng2 in https://github.com/alipay/fury/pull/219[JavaScript] Change package.json entry file by @wangweipeng2 in https://github.com/alipay/fury/pull/221Update feature_request.md by @chaokunyang in https://github.com/alipay/fury/pull/223[Java] implement fury-native jdk compatible object serialization by @chaokunyang in https://github.com/alipay/fury/pull/222[Java] Add class def for meta sharing by @chaokunyang in https://github.com/alipay/fury/pull/226[Java] Support meta shared serialization by @chaokunyang in https://github.com/alipay/fury/pull/225[Java] add missing license to ObjectStreamSerializer by @chaokunyang in https://github.com/alipay/fury/pull/228[Java] move loadClass to ClassUtils by @chaokunyang in https://github.com/alipay/fury/pull/229[javascript] add javascript ci by @chaokunyang in https://github.com/alipay/fury/pull/230Fix CI by @chaokunyang in https://github.com/alipay/fury/pull/232[Java] forbid classes serialization by blacklist by @chaokunyang in https://github.com/alipay/fury/pull/234[Java] generate field accessor on the flight by @chaokunyang in https://github.com/alipay/fury/pull/240[Java] expression optimizer for method split by @chaokunyang in https://github.com/alipay/fury/pull/241[JavaScript]Fix ci by @wangweipeng2 in https://github.com/alipay/fury/pull/242[Java] add codec builder base class by @chaokunyang in https://github.com/alipay/fury/pull/244[Java] add jdk serializable check by @chaokunyang in https://github.com/alipay/fury/pull/248[Java] add base object serializer builder by @chaokunyang in https://github.com/alipay/fury/pull/249[Java] Implement jit serialization for object by @chaokunyang in https://github.com/alipay/fury/pull/250[Java] Fix meta shared serializer when jit enabled by @chaokunyang in https://github.com/alipay/fury/pull/252Update bug_report.md by @chaokunyang in https://github.com/alipay/fury/pull/253[Java] type forward/backward compatible jit serializer by @chaokunyang in https://github.com/alipay/fury/pull/254[Java] Meta shared object jit serializer by @chaokunyang in https://github.com/alipay/fury/pull/255[Java] jit context for manage compilation by @chaokunyang in https://github.com/alipay/fury/pull/259[Java] fix javaFury thread safety by @chaokunyang in https://github.com/alipay/fury/pull/261[Java] set rootdir for maven multi-module project by @chaokunyang in https://github.com/alipay/fury/pull/263[Java] add guava immutable list serializer by @chaokunyang in https://github.com/alipay/fury/pull/264[Java] add guava immutable map serializer by @chaokunyang in https://github.com/alipay/fury/pull/266[Java] Async compilation for jit serializers by @chaokunyang in https://github.com/alipay/fury/pull/268[Java] add url serializer by @chaokunyang in https://github.com/alipay/fury/pull/269[Java] optimize java serialization by @chaokunyang in https://github.com/alipay/fury/pull/271[Java] bind fury with classloader by @chaokunyang in https://github.com/alipay/fury/pull/274[Java] add forward serializer by @chaokunyang in https://github.com/alipay/fury/pull/276[Java] add thread-safe fury serializer by @chaokunyang in https://github.com/alipay/fury/pull/278[Java] Add guava/sublist todo serializer by @chaokunyang in https://github.com/alipay/fury/pull/282[Java] add zero-copy tests by @chaokunyang in https://github.com/alipay/fury/pull/284[Java] Profiling fury init by @chaokunyang in https://github.com/alipay/fury/pull/286[Java] add complex cyclic tests by @chaokunyang in https://github.com/alipay/fury/pull/288[Java] enable testArrayStructZeroCopy by @chaokunyang in https://github.com/alipay/fury/pull/290[Java] add complex collection struct tests by @chaokunyang in https://github.com/alipay/fury/pull/292[Java] add complex map struct tests by @chaokunyang in https://github.com/alipay/fury/pull/294[Java] misc serializer tests by @chaokunyang in https://github.com/alipay/fury/pull/295[Java] optimize time reference by @chaokunyang in https://github.com/alipay/fury/pull/297[Java] add unsafe accessor test for duplicate fields by @chaokunyang in https://github.com/alipay/fury/pull/299[Java] add serializer factory test by @chaokunyang in https://github.com/alipay/fury/pull/301[Java] add duplicate fields tests by @chaokunyang in https://github.com/alipay/fury/pull/303[Java] add protocol interoperability tests by @chaokunyang in https://github.com/alipay/fury/pull/305[Java] Lazy map support by @chaokunyang in https://github.com/alipay/fury/pull/307[Java] Support deserialize unexisted classes by @chaokunyang in https://github.com/alipay/fury/pull/309[Java] fix OutOfBandTest pkg by @chaokunyang in https://github.com/alipay/fury/pull/310javascript latin1 string performance improvement by @wangweipeng2 in https://github.com/alipay/fury/pull/312[Java] Add row format interface by @chaokunyang in https://github.com/alipay/fury/pull/316[Java] add Default arrow type visitor by @chaokunyang in https://github.com/alipay/fury/pull/318[Java] add decimal util by @chaokunyang in https://github.com/alipay/fury/pull/320[Java] add pyarrow style data types API in java by @chaokunyang in https://github.com/alipay/fury/pull/322[Java] add fury InputStream/OutputStream by @chaokunyang in https://github.com/alipay/fury/pull/324[Java] Infer arrow schema for java bean by @chaokunyang in https://github.com/alipay/fury/pull/326[Java] add bitmap utils by @chaokunyang in https://github.com/alipay/fury/pull/328[Java] binary row format data structure by @chaokunyang in https://github.com/alipay/fury/pull/330[Java] binary row format writer by @chaokunyang in https://github.com/alipay/fury/pull/333[Java] add arrow visitor for value accessor by @chaokunyang in https://github.com/alipay/fury/pull/335[Java] add row format tests by @chaokunyang in https://github.com/alipay/fury/pull/337[Java] add row format encoder interface by @chaokunyang in https://github.com/alipay/fury/pull/339[Java] Base builder for building jit encoder by @chaokunyang in https://github.com/alipay/fury/pull/341[Java] add jit-based row encoder implementation by @chaokunyang in https://github.com/alipay/fury/pull/343[Java] format code by @chaokunyang in https://github.com/alipay/fury/pull/344[Java] add missing license by @chaokunyang in https://github.com/alipay/fury/pull/345[Java] Add fury channel by @chaokunyang in https://github.com/alipay/fury/pull/346[Java] Mock io for count bytes by @chaokunyang in https://github.com/alipay/fury/pull/349[Java] Arrow record batch zero-copy serializers by @chaokunyang in https://github.com/alipay/fury/pull/351[Java] Add missing license by @chaokunyang in https://github.com/alipay/fury/pull/352[Java] optimize decimal encoding performance by @chaokunyang in https://github.com/alipay/fury/pull/354[Java] optimize schema creation perf by @chaokunyang in https://github.com/alipay/fury/pull/356[Java] update row javadoc by @chaokunyang in https://github.com/alipay/fury/pull/357[Java] Support convert row to arrow format by @chaokunyang in https://github.com/alipay/fury/pull/359[Java] add arrow serializers tests by @chaokunyang in https://github.com/alipay/fury/pull/361[Java] fix arrow tests by @chaokunyang in https://github.com/alipay/fury/pull/362[Java] add serialize to buffer tests by @chaokunyang in https://github.com/alipay/fury/pull/364[Java] add basic cross-langauge serialization tests by @chaokunyang in https://github.com/alipay/fury/pull/366[Java] add serializeBeanTest by @chaokunyang in https://github.com/alipay/fury/pull/367[Java] add registerTest by @chaokunyang in https://github.com/alipay/fury/pull/368[Java] add testTreeMap by @chaokunyang in https://github.com/alipay/fury/pull/369[Java] add offheap tests by @chaokunyang in https://github.com/alipay/fury/pull/371[Java] refine classresovler tests by @chaokunyang in https://github.com/alipay/fury/pull/373[Java] add private bean tests by @chaokunyang in https://github.com/alipay/fury/pull/375[Java] add blocking queue test by @chaokunyang in https://github.com/alipay/fury/pull/377[Java] add duplicate fields test by @chaokunyang in https://github.com/alipay/fury/pull/378[Java] add guava tests by @chaokunyang in https://github.com/alipay/fury/pull/381[Java] add test for jdk serializable check by @chaokunyang in https://github.com/alipay/fury/pull/383[Java] add secure mode test by @chaokunyang in https://github.com/alipay/fury/pull/385[Java] ensure fury doesn't introduce class leak by @chaokunyang in https://github.com/alipay/fury/pull/387[Java] add tests for ignoring fields by @chaokunyang in https://github.com/alipay/fury/pull/389[Java] add thread to blacklist by @chaokunyang in https://github.com/alipay/fury/pull/391[Java] Add complex testsuite by @chaokunyang in https://github.com/alipay/fury/pull/393[Java] add benchmark framework by @chaokunyang in https://github.com/alipay/fury/pull/399[Java] add plotting tool by @chaokunyang in https://github.com/alipay/fury/pull/400[Java] add usertype benchmarks by @chaokunyang in https://github.com/alipay/fury/pull/401[Java] Add string benchmarks by @chaokunyang in https://github.com/alipay/fury/pull/403[Java] add array benchmark by @chaokunyang in https://github.com/alipay/fury/pull/405[Java] add map benchmark by @chaokunyang in https://github.com/alipay/fury/pull/409[Java] add memory benchmark by @chaokunyang in https://github.com/alipay/fury/pull/410[Java] add row format benchmark by @chaokunyang in https://github.com/alipay/fury/pull/411[Java] add zero copy benchmark by @chaokunyang in https://github.com/alipay/fury/pull/413[Java] Add flatbufffer/protobuffer benchmarks by @chaokunyang in https://github.com/alipay/fury/pull/415[Java] update integration_tests readme by @chaokunyang in https://github.com/alipay/fury/pull/416[C++] generate arrow bazel depdencies from pyarrow bundled shared library by @chaokunyang in https://github.com/alipay/fury/pull/418[C++] Add bazel C++ build support by @chaokunyang in https://github.com/alipay/fury/pull/420[C++] add c++ logging util by @chaokunyang in https://github.com/alipay/fury/pull/423[C++] add cpp status util by @chaokunyang in https://github.com/alipay/fury/pull/425[C++] basic util for bytes operations by @chaokunyang in https://github.com/alipay/fury/pull/427Update bug_report.md by @chaokunyang in https://github.com/alipay/fury/pull/430[Java] register class check duplciate id by @chaokunyang in https://github.com/alipay/fury/pull/432[Java] move ExpressionOptimizer into codegen package by @chaokunyang in https://github.com/alipay/fury/pull/433Format/container encoder by @rainsonGain in https://github.com/alipay/fury/pull/429[Java] Thread-safe fury implementation by pooling by @leeco-cloud in https://github.com/alipay/fury/pull/436[C++] Add c++ buffer util by @chaokunyang in https://github.com/alipay/fury/pull/438[CI] fix CI by @chaokunyang in https://github.com/alipay/fury/pull/439[C++] Binary row format for c++ by @chaokunyang in https://github.com/alipay/fury/pull/441[C++] C++ row format to arrow by @chaokunyang in https://github.com/alipay/fury/pull/442[C++] Add c++ ci by @chaokunyang in https://github.com/alipay/fury/pull/444[CI] Add code lint ci job by @chaokunyang in https://github.com/alipay/fury/pull/446[Doc] Add c++ debugging doc by @chaokunyang in https://github.com/alipay/fury/pull/448[Python] [1/n] Fury python binding by @chaokunyang in https://github.com/alipay/fury/pull/450[python] Type infer for python by @chaokunyang in https://github.com/alipay/fury/pull/458[Java] skip checkstyle in java test by @chaokunyang in https://github.com/alipay/fury/pull/459[Python] Fix python ci by @chaokunyang in https://github.com/alipay/fury/pull/461[Python] Python row format by @chaokunyang in https://github.com/alipay/fury/pull/463[Python] Python encoder for row format by @chaokunyang in https://github.com/alipay/fury/pull/466[Python] Row and arrow format converter by @chaokunyang in https://github.com/alipay/fury/pull/467[C++] cpp murmurhash by @chaokunyang in https://github.com/alipay/fury/pull/469[Python] Python murmur hash binding by @chaokunyang in https://github.com/alipay/fury/pull/472[Python] add weak key identity map by @chaokunyang in https://github.com/alipay/fury/pull/474[Python] add reference resolver by @chaokunyang in https://github.com/alipay/fury/pull/476[Python] Implement python serialization framework by @chaokunyang in https://github.com/alipay/fury/pull/478[Python] add common python serializers by @chaokunyang in https://github.com/alipay/fury/pull/480[Python] struct serialization support by @chaokunyang in https://github.com/alipay/fury/pull/482[Java] Fix get super type exception by @chaokunyang in https://github.com/alipay/fury/pull/484[Java] fix map final value type serializer in jit compatible mode by @chaokunyang in https://github.com/alipay/fury/pull/485[Docs] add fury logo by @chaokunyang in https://github.com/alipay/fury/pull/487[Docs] add square fury logo by @chaokunyang in https://github.com/alipay/fury/pull/488[python] add cpp reference resolver based on abseil map by @chaokunyang in https://github.com/alipay/fury/pull/493[python] add cpp class resolver by @chaokunyang in https://github.com/alipay/fury/pull/494[Python] cython serialization framework by @chaokunyang in https://github.com/alipay/fury/pull/496[Python] cython basic serializers by @chaokunyang in https://github.com/alipay/fury/pull/501[Python] cython container serializers by @chaokunyang in https://github.com/alipay/fury/pull/502[Pyhton] cython array serializers by @chaokunyang in https://github.com/alipay/fury/pull/503[Python] cython struct serializer by @chaokunyang in https://github.com/alipay/fury/pull/505[Python] cython misc serializers by @chaokunyang in https://github.com/alipay/fury/pull/506[Python] Unify cython python serializer by @chaokunyang in https://github.com/alipay/fury/pull/507[Python] Codegen serialization support by @chaokunyang in https://github.com/alipay/fury/pull/509[Python] Support arrow serialization in objgraph by @chaokunyang in https://github.com/alipay/fury/pull/515[Python] Add common pytests by @chaokunyang in https://github.com/alipay/fury/pull/517[C++] pin bazel to 4.2.0 by @chaokunyang in https://github.com/alipay/fury/pull/519[Community] Update contacts about wechat/dingding by @chaokunyang in https://github.com/alipay/fury/pull/521[Java] support struct cross language serialization by @chaokunyang in https://github.com/alipay/fury/pull/523[Java] add java/python cross language row format tests by @chaokunyang in https://github.com/alipay/fury/pull/525feat: fix qrcode size in readme by @wangweipeng2 in https://github.com/alipay/fury/pull/526[Java] replace io.furyx with org.furyio by @chaokunyang in https://github.com/alipay/fury/pull/527[Java] Add missing map license by @chaokunyang in https://github.com/alipay/fury/pull/529[Java] reduce string serializer caller stack by jit by @chaokunyang in https://github.com/alipay/fury/pull/531[Java] fix nested map generics by @chaokunyang in https://github.com/alipay/fury/pull/533[Java] fix jdk11 string jit serialization by @chaokunyang in https://github.com/alipay/fury/pull/535[JavaScript] improve write performance by @wangweipeng2 in https://github.com/alipay/fury/pull/538[Java] refine java benchmarks by @chaokunyang in https://github.com/alipay/fury/pull/536[Java] fix fury java kryo/fst benchmark classloading by @chaokunyang in https://github.com/alipay/fury/pull/542[Java] Unsafe method invoke optimization by @chaokunyang in https://github.com/alipay/fury/pull/543[Java] Optimize string serialization mem ops by @chaokunyang in https://github.com/alipay/fury/pull/545[Java] Optimze jit generated code by @chaokunyang in https://github.com/alipay/fury/pull/548[Java] Optimize primitive fields jit read/write by @chaokunyang in https://github.com/alipay/fury/pull/550[Java] Fix benchmark plot by @chaokunyang in https://github.com/alipay/fury/pull/554[Java] Upload benchmark data by @chaokunyang in https://github.com/alipay/fury/pull/555[Docs] Update benchmarks by @chaokunyang in https://github.com/alipay/fury/pull/560[Docs] use a smaller size for benchmark plots by @chaokunyang in https://github.com/alipay/fury/pull/561[Docs] update docs by @chaokunyang in https://github.com/alipay/fury/pull/565[Doc] update docs by @chaokunyang in https://github.com/alipay/fury/pull/566[Docs] update readme by @chaokunyang in https://github.com/alipay/fury/pull/567[JavaScript] Import js write performance by @wangweipeng2 in https://github.com/alipay/fury/pull/569[Docs ] fix benchmarks figures align by @chaokunyang in https://github.com/alipay/fury/pull/571[Docs] fix python typehint comment by @chaokunyang in https://github.com/alipay/fury/pull/572[Docs] add row format to arrow conversion java example by @chaokunyang in https://github.com/alipay/fury/pull/573[JavaScript] update benchmark by @wangweipeng2 in https://github.com/alipay/fury/pull/574[JavaScript] easy type description by @wangweipeng2 in https://github.com/alipay/fury/pull/576[JavaScript] add generic constraints to the serializer by @wangweipeng2 in https://github.com/alipay/fury/pull/577[Docs] Refine benchmark plots by @chaokunyang in https://github.com/alipay/fury/pull/578[Docs] fix java header by @chaokunyang in https://github.com/alipay/fury/pull/582[Python] support secure mode for python by @chaokunyang in https://github.com/alipay/fury/pull/584[Docs] update readme speedup by @chaokunyang in https://github.com/alipay/fury/pull/585[Docs] remove Binary Serialization from header by @chaokunyang in https://github.com/alipay/fury/pull/586[Docs] add Serialization to header by @chaokunyang in https://github.com/alipay/fury/pull/587[Docs] fix invalid image links in cpp debug doc by @chaokunyang in https://github.com/alipay/fury/pull/589Bump protobuf-java from 3.11.0 to 3.16.3 in /java/fury-benchmark by @dependabot in https://github.com/alipay/fury/pull/590Bump testng from 7.3.0 to 7.5.1 in /java by @dependabot in https://github.com/alipay/fury/pull/591Bump checkstyle from 8.19 to 8.29 in /java by @dependabot in https://github.com/alipay/fury/pull/592Bump guava from 30.0-jre to 32.0.0-jre in /java by @dependabot in https://github.com/alipay/fury/pull/593Bump protobuf-java from 3.15.0 to 3.16.3 in /integration_tests by @dependabot in https://github.com/alipay/fury/pull/594[Java] replace log4j by log4j2 for test modules by @chaokunyang in https://github.com/alipay/fury/pull/595[JavaScript] update benchmark by @wangweipeng2 in https://github.com/alipay/fury/pull/597[Java] rename reference to ref by @chaokunyang in https://github.com/alipay/fury/pull/599[Java] fix checkstyle failure by @chaokunyang in https://github.com/alipay/fury/pull/602[Java] fix missing reference renaming by @chaokunyang in https://github.com/alipay/fury/pull/603[Java] Rename requireClassRegistration by @chaokunyang in https://github.com/alipay/fury/pull/604[JavaScript]: remove dependency on v8 by @wangweipeng2 in https://github.com/alipay/fury/pull/606[Rust] Add readme for fury rust by @chaokunyang in https://github.com/alipay/fury/pull/607[Java] add missing license for java code by @chaokunyang in https://github.com/alipay/fury/pull/608[Java] update java benchmarks by @chaokunyang in https://github.com/alipay/fury/pull/609[Docs] update java benchmarks chart size by @chaokunyang in https://github.com/alipay/fury/pull/610[Docs] use same color for fury best performance by @chaokunyang in https://github.com/alipay/fury/pull/611[Java] add MetaContext tests by @chaokunyang in https://github.com/alipay/fury/pull/613[Java] Add java misc tests by @chaokunyang in https://github.com/alipay/fury/pull/614[Java] Add codegen class loading/gc tests by @chaokunyang in https://github.com/alipay/fury/pull/616[Java] add warn logs when requireClassRegistration disabled by @chaokunyang in https://github.com/alipay/fury/pull/618[Docs] Add java adcanced user guide doc by @chaokunyang in https://github.com/alipay/fury/pull/621[Docs] Update java advanced doc by @chaokunyang in https://github.com/alipay/fury/pull/625[JavaScript] Eliminate polymorphism in JS code by @wangweipeng2 in https://github.com/alipay/fury/pull/627[Python] rename reference to ref for python by @chaokunyang in https://github.com/alipay/fury/pull/629[Java/Python] Rename crosslanguage to x by @chaokunyang in https://github.com/alipay/fury/pull/631[JavaScript] reduce generated code size by @wangweipeng2 in https://github.com/alipay/fury/pull/633[Java] update java snapshot url by @chaokunyang in https://github.com/alipay/fury/pull/635[CI] Enable Fury CI by @chaokunyang in https://github.com/alipay/fury/pull/636[Docs] add benchmark data by @chaokunyang in https://github.com/alipay/fury/pull/639[Doc] use camel naming for benchmark class doc by @chaokunyang in https://github.com/alipay/fury/pull/640[Docs] Update security doc by @chaokunyang in https://github.com/alipay/fury/pull/642[Java] update license for Generics by @chaokunyang in https://github.com/alipay/fury/pull/644[Java] fix generics license length by @chaokunyang in https://github.com/alipay/fury/pull/645[Java] update java security doc by @chaokunyang in https://github.com/alipay/fury/pull/646[Go] update golang readme by @chaokunyang in https://github.com/alipay/fury/pull/648[Doc] replace Fury.Language by Language by @chaokunyang in https://github.com/alipay/fury/pull/650[Java] update java row readme by @chaokunyang in https://github.com/alipay/fury/pull/651[Java] register guava serializers ahead by @chaokunyang in https://github.com/alipay/fury/pull/654[Docs] split user guide doc into 3 parts to sync with website by @chaokunyang in https://github.com/alipay/fury/pull/665[Docs] move guide docs to guide by @chaokunyang in https://github.com/alipay/fury/pull/667[Doc] sync files to home site by @wangweipeng2 in https://github.com/alipay/fury/pull/666[Java] Fix IndexOutOfBoundsException when new fury deserialize from InputStream by @chaokunyang in https://github.com/alipay/fury/pull/671[Doc] support front matter by @wangweipeng2 in https://github.com/alipay/fury/pull/672[Doc] rename inner fury to f when creating ThreadSafeFury by @chaokunyang in https://github.com/alipay/fury/pull/676[Java] Support string zerocopy for jdk14+ by @chaokunyang in https://github.com/alipay/fury/pull/677[CI] Add deploy script by @chaokunyang in https://github.com/alipay/fury/pull/688[Java] Support maven release by @chaokunyang in https://github.com/alipay/fury/pull/691[Doc] add java release jar for v0.1.0-alpha.1 by @chaokunyang in https://github.com/alipay/fury/pull/693[Doc] Fix release jar doc by @chaokunyang in https://github.com/alipay/fury/pull/694[Doc] Refine readme for more readability by @chaokunyang in https://github.com/alipay/fury/pull/695[Java] Add detailed lambda error by @chaokunyang in https://github.com/alipay/fury/pull/698[Doc] Fix threadsafe example by @chaokunyang in https://github.com/alipay/fury/pull/699[Docs] fix threadsafe fury in java guide by @chaokunyang in https://github.com/alipay/fury/pull/700[Docs] remove bracket from classLoader by @chaokunyang in https://github.com/alipay/fury/pull/701[Java] add maven source plugin by @chaokunyang in https://github.com/alipay/fury/pull/702[Java] Jdk serialization binary check by @chaokunyang in https://github.com/alipay/fury/pull/714[Java] add jdk migration doc by @chaokunyang in https://github.com/alipay/fury/pull/715[Java] Support jit for non public classes by @chaokunyang in https://github.com/alipay/fury/pull/719[Rust] rust lang initial version by @wangweipeng2 in https://github.com/alipay/fury/pull/718[Java] add type tag registration check by @chaokunyang in https://github.com/alipay/fury/pull/722[Doc] highlight warmup by @chaokunyang in https://github.com/alipay/fury/pull/723[Rust ] calculate the reserved space on compile time by @wangweipeng2 in https://github.com/alipay/fury/pull/725[Java/Python] disable reference tracking by default by @chaokunyang in https://github.com/alipay/fury/pull/727[Java] debug log code stats by @chaokunyang in https://github.com/alipay/fury/pull/728[Java] upgrade java install to 0.1.0-alpha.2 by @chaokunyang in https://github.com/alipay/fury/pull/731[Doc] use fury png logo by @chaokunyang in https://github.com/alipay/fury/pull/733[Doc] remove margin fury png logo by @chaokunyang in https://github.com/alipay/fury/pull/734[Doc] Refine logo and icon by @chaokunyang in https://github.com/alipay/fury/pull/735[ Rust ] Make the protocols of rust and js consistent by @wangweipeng2 in https://github.com/alipay/fury/pull/738[JavaScript] Make the protocols of rust and js consistent by @wangweipeng2 in https://github.com/alipay/fury/pull/739[Java] Remove guava from userdoc by @chaokunyang in https://github.com/alipay/fury/pull/740[Java] rename writeNonRefT to writeNonRef by @chaokunyang in https://github.com/alipay/fury/pull/743[Java] Optimize object array serialization by @chaokunyang in https://github.com/alipay/fury/pull/741[Java] avoid reflection in resolve/replace by @chaokunyang in https://github.com/alipay/fury/pull/744[Java] avoid reflection in writeObject/readOject/readObjectNoData by @chaokunyang in https://github.com/alipay/fury/pull/747[Java] optimize guava list serialization by @chaokunyang in https://github.com/alipay/fury/pull/748[Java] add MakeJDKFunction lambda factory by @chaokunyang in https://github.com/alipay/fury/pull/752[Java] Optimize guava List/Map/Set serialization by @chaokunyang in https://github.com/alipay/fury/pull/750[Doc] Add contributing guide doc by @chaokunyang in https://github.com/alipay/fury/pull/759[Doc] Create CODE_OF_CONDUCT.md by @chaokunyang in https://github.com/alipay/fury/pull/761[Doc] Fix broken link in README by @tisonkun in https://github.com/alipay/fury/pull/762[Rust] Several Rust idioms by @tisonkun in https://github.com/alipay/fury/pull/763[Java] fix write replace class failure by @chaokunyang in https://github.com/alipay/fury/pull/767[Java] replace withSecureMode by requireClassRegistration API by @chaokunyang in https://github.com/alipay/fury/pull/768[Doc] Update README.md by @chaokunyang in https://github.com/alipay/fury/pull/770[Doc] add javadoc for FuryBuilder by @chaokunyang in https://github.com/alipay/fury/pull/775[Doc] add doc for fury creation reuse by @chaokunyang in https://github.com/alipay/fury/pull/777[Java] [Python] auto deploy java/python packages by @chaokunyang in https://github.com/alipay/fury/pull/781[Java] refine FuryBuilder API by @chaokunyang in https://github.com/alipay/fury/pull/784[CI] skip release tests by @chaokunyang in https://github.com/alipay/fury/pull/785Corrected grammar and paraphrasing to make the README easier to read by @hieu-ht in https://github.com/alipay/fury/pull/786Don't let CI run when the changed files are not the code by @hieu-ht in https://github.com/alipay/fury/pull/787[Java] use lambda for SynchronizedSerializers factory by @chaokunyang in https://github.com/alipay/fury/pull/789[Java] use lambda for unmodifiable serializers factory by @chaokunyang in https://github.com/alipay/fury/pull/790[Python] replace alpha/beta to a/b for python by @chaokunyang in https://github.com/alipay/fury/pull/792[Python] fix python bump version by @chaokunyang in https://github.com/alipay/fury/pull/793[CI] Fix bump version by @chaokunyang in https://github.com/alipay/fury/pull/795[CI] Fix py release by @chaokunyang in https://github.com/alipay/fury/pull/796[Doc] update python and java install by @chaokunyang in https://github.com/alipay/fury/pull/797Update README.md by @chaokunyang in https://github.com/alipay/fury/pull/800[Doc] Update java install version to 0.1.0-alpah.5 by @chaokunyang in https://github.com/alipay/fury/pull/801[CI] Fix pypi upload by @chaokunyang in https://github.com/alipay/fury/pull/803[Java] Add core java developer to maven pom by @chaokunyang in https://github.com/alipay/fury/pull/802[Java] add core java developer to maven modules pom by @chaokunyang in https://github.com/alipay/fury/pull/804[Java] support decode utf8 for java string serialization by @chaokunyang in https://github.com/alipay/fury/pull/806Update Java Deserialization Blacklist by @s31k31 in https://github.com/alipay/fury/pull/782chore: apply license format by @tisonkun in https://github.com/alipay/fury/pull/783[Java] use soft reference to avoid duplicate codegen by @chaokunyang in https://github.com/alipay/fury/pull/809  Full Changelog: https://github.com/alipay/fury/commits/v0.1.0 ","version":null,"tagName":"h2"},{"title":"Fury v0.3.0 released","type":0,"sectionRef":"#","url":"/zh-CN/blog/fury_0_3_0_release","content":"","keywords":"","version":null},{"title":"Scala Serialization Guide‚Äã","type":1,"pageTitle":"Fury v0.3.0 released","url":"/zh-CN/blog/fury_0_3_0_release#scala-serialization-guide","content":" Install dependecy:  libraryDependencies += &quot;org.furyio&quot; % &quot;fury-core&quot; % &quot;0.3.0&quot;   Creating fury:  val fury = Fury.builder() .withScalaOptimizationEnabled(true) .requireClassRegistration(false) .withRefTracking(true) .build()   Serialize case objects:  case class Person(github: String, age: Int, id: Long) val p = Person(&quot;https://github.com/chaokunyang&quot;, 18, 1) println(fury.deserialize(fury.serialize(p))) println(fury.deserializeJavaObject(fury.serializeJavaObject(p)))   Serialize singleton objects:  object singleton { } val o1 = fury.deserialize(fury.serialize(singleton)) val o2 = fury.deserialize(fury.serialize(singleton)) println(o1 == o2)   Serialize collection objects:  val seq = Seq(1,2) val list = List(&quot;a&quot;, &quot;b&quot;) val map = Map(&quot;a&quot; -&gt; 1, &quot;b&quot; -&gt; 2) println(fury.deserialize(fury.serialize(seq))) println(fury.deserialize(fury.serialize(list))) println(fury.deserialize(fury.serialize(map)))   Serialize enum:  enum Color { case Red, Green, Blue } println(fury.deserialize(fury.serialize(Color.Green)))   ","version":null,"tagName":"h2"},{"title":"Highlight‚Äã","type":1,"pageTitle":"Fury v0.3.0 released","url":"/zh-CN/blog/fury_0_3_0_release#highlight","content":" [Scala] Support scala serialization: case/object/tuple/string/collection/enum/basic all supported[Scala] Add scala user documentation[Scala] add optimized scala singleton object serializer[Java] Make java.io.Externalizable compatible with Java writeReplace/readResolve API[Java] Integrate fury with dubbo https://github.com/apache/dubbo-spi-extensions/pull/226[Java] support bytes string serialization for jdk8 with JDK17 runtime  ","version":null,"tagName":"h2"},{"title":"BugFix‚Äã","type":1,"pageTitle":"Fury v0.3.0 released","url":"/zh-CN/blog/fury_0_3_0_release#bugfix","content":" [Java] Allow for InputStream not reading entire length[Java] Use ReflectionUtils.getCtrHandle() for non-public constructor in ExternalizableSerializer[Java] fix jdk compatible serialization for inheritance  ","version":null,"tagName":"h2"},{"title":"What's Changed‚Äã","type":1,"pageTitle":"Fury v0.3.0 released","url":"/zh-CN/blog/fury_0_3_0_release#whats-changed","content":" [Impove]-[Doc] Improve README by @caicancai in https://github.com/alipay/fury/pull/1011[Java] rename wrong ascii naming to latin by @chaokunyang in https://github.com/alipay/fury/pull/1013[Doc] Update go install doc by @chaokunyang in https://github.com/alipay/fury/pull/1015fix(grammatical): correct typos and improve grammar by @iamahens in https://github.com/alipay/fury/pull/1018[Improve]-[Doc] Improve README by @caicancai in https://github.com/alipay/fury/pull/1020[Improve]-[Doc] add environment requirement by @caicancai in https://github.com/alipay/fury/pull/1022chore(docs): fixed typos by @Smoothieewastaken in https://github.com/alipay/fury/pull/1023bugfix: read buffer error when object contain binary field by @wangweipeng2 in https://github.com/alipay/fury/pull/1026[Doc] Optimize class registration doc by @chaokunyang in https://github.com/alipay/fury/pull/1027[Java] fix jdk compatible serialization for inheritance by @chaokunyang in https://github.com/alipay/fury/pull/1030[Doc] add scala user doc by @chaokunyang in https://github.com/alipay/fury/pull/1028[Doc] refine scala doc by @chaokunyang in https://github.com/alipay/fury/pull/1031Update README.md - fix grammatrical errors in README. by @ayushrakesh in https://github.com/alipay/fury/pull/1037[Java] Support local static class jit by @chaokunyang in https://github.com/alipay/fury/pull/1036[Java] support bytes string serialization for jdk8 by @chaokunyang in https://github.com/alipay/fury/pull/1039[Java] set timeout to JITContextTest by @chaokunyang in https://github.com/alipay/fury/pull/1040[Java] fix string builder serialization for jdk8 with jdk17 runtime by @chaokunyang in https://github.com/alipay/fury/pull/1042[Doc] add auto code reviewers by @chaokunyang in https://github.com/alipay/fury/pull/1043[Java] Allow for InputStream not reading entire length by @knutwannheden in https://github.com/alipay/fury/pull/1034[Java] Use ReflectionUtils.getCtrHandle() in ExternalizableSerializer by @knutwannheden in https://github.com/alipay/fury/pull/1044[Improve] make maven-spotless-plugin version as a parameter by @caicancai in https://github.com/alipay/fury/pull/1046Update README.md by @Shivam250702 in https://github.com/alipay/fury/pull/1047[Java] support writeReplace/readResolve for Externalizable by @chaokunyang in https://github.com/alipay/fury/pull/1048Update README.md by @Spyrosigma in https://github.com/alipay/fury/pull/1051Grammatical error in CODE_OF_CONDUCT.md by @HimanshuMahto in https://github.com/alipay/fury/pull/1050Update scala link title README.md by @chaokunyang in https://github.com/alipay/fury/pull/1052[Doc] add scala readme and refine document by @chaokunyang in https://github.com/alipay/fury/pull/1041[Java] populate StackOverflowError with enable ref tracking message by @chaokunyang in https://github.com/alipay/fury/pull/1049[Scala] Setup scala project by @chaokunyang in https://github.com/alipay/fury/pull/1054[Scala] add scala singleton object serializer by @chaokunyang in https://github.com/alipay/fury/pull/1053Updated README.md by @vidhijain27 in https://github.com/alipay/fury/pull/1056[Scala] add scala tuple serialization tests by @chaokunyang in https://github.com/alipay/fury/pull/1059Empty ListExpression#genCode will throw npe by @farmerworking in https://github.com/alipay/fury/pull/1063  ","version":null,"tagName":"h2"},{"title":"New Contributors‚Äã","type":1,"pageTitle":"Fury v0.3.0 released","url":"/zh-CN/blog/fury_0_3_0_release#new-contributors","content":" @iamahens made their first contribution in https://github.com/alipay/fury/pull/1018@Smoothieewastaken made their first contribution in https://github.com/alipay/fury/pull/1023@ayushrakesh made their first contribution in https://github.com/alipay/fury/pull/1037@knutwannheden made their first contribution in https://github.com/alipay/fury/pull/1034@Shivam250702 made their first contribution in https://github.com/alipay/fury/pull/1047@Spyrosigma made their first contribution in https://github.com/alipay/fury/pull/1051@HimanshuMahto made their first contribution in https://github.com/alipay/fury/pull/1050@vidhijain27 made their first contribution in https://github.com/alipay/fury/pull/1056@farmerworking made their first contribution in https://github.com/alipay/fury/pull/1063  Full Changelog: https://github.com/alipay/fury/compare/v0.2.1...v0.3.0 ","version":null,"tagName":"h2"},{"title":"Introducing Apache Fory‚Ñ¢ Rust: A Versatile Serialization Framework for the Modern Age","type":0,"sectionRef":"#","url":"/zh-CN/blog/fory_rust_versatile_serialization_framework","content":"","keywords":"","version":null},{"title":"The Serialization Dilemma‚Äã","type":1,"pageTitle":"Introducing Apache Fory‚Ñ¢ Rust: A Versatile Serialization Framework for the Modern Age","url":"/zh-CN/blog/fory_rust_versatile_serialization_framework#the-serialization-dilemma","content":" Every backend engineer has faced this moment: your application needs to serialize complex data structures such as nested objects, circular references, polymorphic types, and you're forced to choose between three bad options:  Fast but fragile: Hand-rolled binary formats that break with schema changesFlexible but slow: JSON/Protocol with 10x performance overheadComplex and limiting: Existing solutions that don't support your language's advanced features  Apache Fory Rust eliminates this false choice. It's a serialization framework that delivers exceptional performance while automatically handling the complexities of modern applications‚Äîno IDL files, no manual schema management, no compromises.  ","version":null,"tagName":"h2"},{"title":"What Makes Apache Fory Rust Different?‚Äã","type":1,"pageTitle":"Introducing Apache Fory‚Ñ¢ Rust: A Versatile Serialization Framework for the Modern Age","url":"/zh-CN/blog/fory_rust_versatile_serialization_framework#what-makes-apache-fory-rust-different","content":" ","version":null,"tagName":"h2"},{"title":"1. Truly Cross-Language‚Äã","type":1,"pageTitle":"Introducing Apache Fory‚Ñ¢ Rust: A Versatile Serialization Framework for the Modern Age","url":"/zh-CN/blog/fory_rust_versatile_serialization_framework#1-truly-cross-language","content":" Apache Fory Rust speaks the same binary protocol as Java, Python, C++, Go, and other language implementations. Serialize data in Rust, deserialize in Python ‚Äî it just works. No schema files. No code generation. No version mismatches.  // Rust: Serialize let user = User { name: &quot;Alice&quot;.to_string(), age: 30, metadata: HashMap::from([(&quot;role&quot;, &quot;admin&quot;)]), }; let bytes = fory.serialize(&amp;user); // Python: Deserialize (same binary format!) user = fory.deserialize(bytes) # Just works!   This isn't just convenient ‚Äî it changes how we develop microservices architectures where different teams use different languages.  ","version":null,"tagName":"h3"},{"title":"2. Automatic Shared/Circular Reference Handling‚Äã","type":1,"pageTitle":"Introducing Apache Fory‚Ñ¢ Rust: A Versatile Serialization Framework for the Modern Age","url":"/zh-CN/blog/fory_rust_versatile_serialization_framework#2-automatic-sharedcircular-reference-handling","content":" Most serialization frameworks panic when encountering circular references. Apache Fory tracks and preserves reference identity automatically:  Shared Reference:  use fory::Fory; use std::rc::Rc; let fory = Fory::default(); // Create a shared value let shared = Rc::new(String::from(&quot;shared_value&quot;)); // Reference it multiple times let data = vec![shared.clone(), shared.clone(), shared.clone()]; // The shared value is serialized only once let bytes = fory.serialize(&amp;data); let decoded: Vec&lt;Rc&lt;String&gt;&gt; = fory.deserialize(&amp;bytes)?; // Verify reference identity is preserved assert_eq!(decoded.len(), 3); assert_eq!(*decoded[0], &quot;shared_value&quot;); // All three Rc pointers point to the same object assert!(Rc::ptr_eq(&amp;decoded[0], &amp;decoded[1])); assert!(Rc::ptr_eq(&amp;decoded[1], &amp;decoded[2]));   Circular Reference:  use fory::{ForyObject, RcWeak}; #[derive(ForyObject)] struct Node { value: i32, parent: RcWeak&lt;RefCell&lt;Node&gt;&gt;, // Weak pointer breaks cycles children: Vec&lt;Rc&lt;RefCell&lt;Node&gt;&gt;&gt;, // Strong references tracked } // Build a parent-child tree with circular references let parent = Rc::new(RefCell::new(Node { ... })); let child = Rc::new(RefCell::new(Node { parent: RcWeak::from(&amp;parent), // Points back to parent ... })); parent.borrow_mut().children.push(child.clone()); // Serialization handles the cycle automatically let bytes = fory.serialize(&amp;parent); let decoded: Rc&lt;RefCell&lt;Node&gt;&gt; = fory.deserialize(&amp;bytes)?; // Reference relationships preserved! assert!(Rc::ptr_eq(&amp;decoded, &amp;decoded.borrow().children[0].borrow().parent.upgrade().unwrap()));   This isn't just a feature‚Äîit's essential for graph databases, object-relational mappers, and domain models.  ","version":null,"tagName":"h3"},{"title":"3. Trait Object Serialization‚Äã","type":1,"pageTitle":"Introducing Apache Fory‚Ñ¢ Rust: A Versatile Serialization Framework for the Modern Age","url":"/zh-CN/blog/fory_rust_versatile_serialization_framework#3-trait-object-serialization","content":" Rust's trait system enables powerful abstractions, but serializing Box&lt;dyn Trait&gt; is notoriously difficult. Apache Fory makes it trivial:  use fory::{ForyObject, Serializer, register_trait_type}; trait Animal: Serializer { fn speak(&amp;self) -&gt; String; } #[derive(ForyObject)] struct Dog { name: String, breed: String } #[derive(ForyObject)] struct Cat { name: String, color: String } // Register implementations register_trait_type!(Animal, Dog, Cat); // Serialize heterogeneous collections let animals: Vec&lt;Box&lt;dyn Animal&gt;&gt; = vec![ Box::new(Dog { ... }), Box::new(Cat { ... }), ]; let bytes = fory.serialize(&amp;animals); let decoded: Vec&lt;Box&lt;dyn Animal&gt;&gt; = fory.deserialize(&amp;bytes)?; // Polymorphism preserved! decoded[0].speak(); // &quot;Woof!&quot; decoded[1].speak(); // &quot;Meow!&quot;   Alternative: Using dyn Any without trait registration:  use std::rc::Rc; use std::any::Any; // No trait definition or registration needed let dog: Rc&lt;dyn Any&gt; = Rc::new(Dog { name: &quot;Rex&quot;.to_string(), breed: &quot;Labrador&quot;.to_string() }); let cat: Rc&lt;dyn Any&gt; = Rc::new(Cat { name: &quot;Whiskers&quot;.to_string(), color: &quot;Orange&quot;.to_string() }); let bytes = fory.serialize(&amp;dog); let decoded: Rc&lt;dyn Any&gt; = fory.deserialize(&amp;bytes)?; // Downcast to concrete type let unwrapped = decoded.downcast_ref::&lt;Dog&gt;().unwrap(); assert_eq!(unwrapped.name, &quot;Rex&quot;);   Supports:  Box&lt;dyn Trait&gt; - Owned trait objectsRc&lt;dyn Trait&gt; / Arc&lt;dyn Trait&gt; - Reference-counted trait objectsRc&lt;dyn Any&gt; / Arc&lt;dyn Any&gt; - Runtime type dispatch without traitsAuto-generated wrapper types for standalone serialization  This unlocks plugin systems, heterogeneous collections, and extensible architectures that were previously impossible to serialize.  ","version":null,"tagName":"h3"},{"title":"4. Schema Evolution Without Breaking Changes‚Äã","type":1,"pageTitle":"Introducing Apache Fory‚Ñ¢ Rust: A Versatile Serialization Framework for the Modern Age","url":"/zh-CN/blog/fory_rust_versatile_serialization_framework#4-schema-evolution-without-breaking-changes","content":" Microservices evolve independently. Apache Fory's Compatible mode allows schema changes without coordination:  use fory::{Fory, ForyObject}; // Service A: Version 1 #[derive(ForyObject)] struct User { name: String, age: i32, address: String, } let mut fory_v1 = Fory::default().compatible(true); fory_v1.register::&lt;User&gt;(1); // Service B: Version 2 (evolved independently) #[derive(ForyObject)] struct User { name: String, age: i32, // address removed phone: Option&lt;String&gt;, // New field metadata: HashMap&lt;String, String&gt;, // Another new field } let mut fory_v2 = Fory::default().compatible(true); fory_v2.register::&lt;User&gt;(1); // V1 data deserializes into V2 structure let v1_bytes = fory_v1.serialize(&amp;user_v1); let user_v2: User = fory_v2.deserialize(&amp;v1_bytes)?; // Missing fields get default values automatically   Compatibility rules:  ‚úÖ Add new fields (default values applied)‚úÖ Remove fields (skipped during deserialization)‚úÖ Reorder fields (matched by name)‚úÖ Change nullability (T ‚Üî Option&lt;T&gt;)‚ùå Type changes (except nullable variants)  This is critical for zero-downtime deployments and polyglot microservices.  ","version":null,"tagName":"h3"},{"title":"The Technical Foundation‚Äã","type":1,"pageTitle":"Introducing Apache Fory‚Ñ¢ Rust: A Versatile Serialization Framework for the Modern Age","url":"/zh-CN/blog/fory_rust_versatile_serialization_framework#the-technical-foundation","content":" ","version":null,"tagName":"h2"},{"title":"Protocol Design‚Äã","type":1,"pageTitle":"Introducing Apache Fory‚Ñ¢ Rust: A Versatile Serialization Framework for the Modern Age","url":"/zh-CN/blog/fory_rust_versatile_serialization_framework#protocol-design","content":" Apache Fory uses a sophisticated binary protocol designed for both performance and flexibility:  | fory header | reference meta | type meta | value data |   Key innovations:  Efficient encoding: Variable-length integers, compact type IDs, bit-packed flagsReference tracking: Deduplicates shared objects automatically (serialize once, reference thereafter)Meta compression: Gzip compression for type metadata in meta-sharing modeLittle-endian layout: Optimized for modern CPU architectures  ","version":null,"tagName":"h3"},{"title":"Compile-Time Code Generation‚Äã","type":1,"pageTitle":"Introducing Apache Fory‚Ñ¢ Rust: A Versatile Serialization Framework for the Modern Age","url":"/zh-CN/blog/fory_rust_versatile_serialization_framework#compile-time-code-generation","content":" Unlike reflection-based frameworks, Apache Fory generates serialization code at compile time via procedural macros:  use fory::ForyObject; #[derive(ForyObject)] struct Person { name: String, age: i32, address: Address, } // Macro generates: // - fory_write_data() for serialization // - fory_read_data() for deserialization // - fory_reserved_space() for buffer pre-allocation // - fory_get_type_id() for type registration   Benefits:  ‚ö° Zero runtime overhead: No reflection, no vtable lookupsüõ°Ô∏è Type safety: Compile-time errors instead of runtime panicsüì¶ Small binary size: Only code for types you actually useüîç IDE support: Full autocomplete and error checking  ","version":null,"tagName":"h3"},{"title":"Architecture‚Äã","type":1,"pageTitle":"Introducing Apache Fory‚Ñ¢ Rust: A Versatile Serialization Framework for the Modern Age","url":"/zh-CN/blog/fory_rust_versatile_serialization_framework#architecture","content":" Apache Fory Rust consists of three focused crates:  fory/ # High-level API ‚îî‚îÄ Convenience wrappers, derive re-exports fory-core/ # Core serialization engine ‚îú‚îÄ fory.rs # Main entry point ‚îú‚îÄ buffer.rs # Zero-copy binary I/O ‚îú‚îÄ serializer/ # Type-specific serializers ‚îú‚îÄ resolver/ # Type registration &amp; dispatch ‚îú‚îÄ meta/ # Meta string compression ‚îî‚îÄ row/ # Row format implementation fory-derive/ # Procedural macros ‚îú‚îÄ object/ # ForyObject derive macro ‚îî‚îÄ fory_row.rs # ForyRow derive macro   This modular design ensures clean separation of concerns and makes the codebase maintainable.  ","version":null,"tagName":"h3"},{"title":"Benchmarks: Real-World Performance‚Äã","type":1,"pageTitle":"Introducing Apache Fory‚Ñ¢ Rust: A Versatile Serialization Framework for the Modern Age","url":"/zh-CN/blog/fory_rust_versatile_serialization_framework#benchmarks-real-world-performance","content":"     Datatype\tSize\tOperation\tFory TPS\tJSON TPS\tProtobuf TPS\tFastestcompany\tsmall\tserialize\t10,063,906\t761,673\t896,620\tfory company\tmedium\tserialize\t412,507\t33,835\t37,590\tfory company\tlarge\tserialize\t9,183\t793\t880\tfory ecommerce_data\tsmall\tserialize\t2,350,729\t206,262\t256,970\tfory ecommerce_data\tmedium\tserialize\t59,977\t4,699\t5,242\tfory ecommerce_data\tlarge\tserialize\t3,727\t266\t295\tfory person\tsmall\tserialize\t13,632,522\t1,345,189\t1,475,035\tfory person\tmedium\tserialize\t3,839,656\t337,610\t369,031\tfory person\tlarge\tserialize\t907,853\t79,631\t91,408\tfory simple_list\tsmall\tserialize\t27,726,945\t4,874,957\t4,643,172\tfory simple_list\tmedium\tserialize\t4,770,765\t401,558\t397,551\tfory simple_list\tlarge\tserialize\t606,061\t41,061\t44,565\tfory simple_map\tsmall\tserialize\t22,862,369\t3,888,025\t2,695,999\tfory simple_map\tmedium\tserialize\t2,128,973\t204,319\t193,132\tfory simple_map\tlarge\tserialize\t177,847\t18,419\t18,668\tfory simple_struct\tsmall\tserialize\t35,729,598\t10,167,045\t8,633,342\tfory simple_struct\tmedium\tserialize\t34,988,279\t9,737,098\t6,433,350\tfory simple_struct\tlarge\tserialize\t31,801,558\t4,545,041\t7,420,049\tfory system_data\tsmall\tserialize\t5,382,131\t468,033\t569,930\tfory system_data\tmedium\tserialize\t174,240\t11,896\t14,753\tfory system_data\tlarge\tserialize\t10,671\t876\t1,040\tfory  ","version":null,"tagName":"h2"},{"title":"When to Use Apache Fory Rust‚Äã","type":1,"pageTitle":"Introducing Apache Fory‚Ñ¢ Rust: A Versatile Serialization Framework for the Modern Age","url":"/zh-CN/blog/fory_rust_versatile_serialization_framework#when-to-use-apache-fory-rust","content":" ","version":null,"tagName":"h2"},{"title":"‚úÖ Ideal Use Cases‚Äã","type":1,"pageTitle":"Introducing Apache Fory‚Ñ¢ Rust: A Versatile Serialization Framework for the Modern Age","url":"/zh-CN/blog/fory_rust_versatile_serialization_framework#-ideal-use-cases","content":" Microservices with polyglot teams Different services in different languagesNeed seamless data exchange without schema filesSchema evolution across independent deployments High-performance data pipelines Processing millions of records per secondMemory-constrained environments (use row format)Analytics workloads with selective field access Complex domain models Circular references (parent-child relationships, graphs)Polymorphic types (trait objects, inheritance hierarchies)Rich object graphs with shared references Real-time systems Low-latency requirements (&lt;1ms serialization)Memory-mapped file accessZero-copy deserialization critical  ","version":null,"tagName":"h3"},{"title":"‚ö†Ô∏è Consider Alternatives If‚Äã","type":1,"pageTitle":"Introducing Apache Fory‚Ñ¢ Rust: A Versatile Serialization Framework for the Modern Age","url":"/zh-CN/blog/fory_rust_versatile_serialization_framework#Ô∏è-consider-alternatives-if","content":" You need human-readable data: Use JSON/YAML for debuggingYou need long-term storage format: Use Parquet for data lakesYour data is trivial: serde + bincode is simpler for basic types  ","version":null,"tagName":"h3"},{"title":"Getting Started in 5 Minutes‚Äã","type":1,"pageTitle":"Introducing Apache Fory‚Ñ¢ Rust: A Versatile Serialization Framework for the Modern Age","url":"/zh-CN/blog/fory_rust_versatile_serialization_framework#getting-started-in-5-minutes","content":" ","version":null,"tagName":"h2"},{"title":"Installation‚Äã","type":1,"pageTitle":"Introducing Apache Fory‚Ñ¢ Rust: A Versatile Serialization Framework for the Modern Age","url":"/zh-CN/blog/fory_rust_versatile_serialization_framework#installation","content":" Add to Cargo.toml:  [dependencies] fory = &quot;0.13&quot;   ","version":null,"tagName":"h3"},{"title":"Basic Object Serialization‚Äã","type":1,"pageTitle":"Introducing Apache Fory‚Ñ¢ Rust: A Versatile Serialization Framework for the Modern Age","url":"/zh-CN/blog/fory_rust_versatile_serialization_framework#basic-object-serialization","content":" use fory::{Fory, Error, ForyObject}; #[derive(ForyObject, Debug, PartialEq)] struct User { name: String, age: i32, email: String, } fn main() -&gt; Result&lt;(), Error&gt; { let mut fory = Fory::default(); fory.register::&lt;User&gt;(1); // Register with unique ID let user = User { name: &quot;Alice&quot;.to_string(), age: 30, email: &quot;alice@example.com&quot;.to_string(), }; // Serialize let bytes = fory.serialize(&amp;user); // Deserialize let decoded: User = fory.deserialize(&amp;bytes)?; assert_eq!(user, decoded); Ok(()) }   ","version":null,"tagName":"h3"},{"title":"Cross-Language Serialization‚Äã","type":1,"pageTitle":"Introducing Apache Fory‚Ñ¢ Rust: A Versatile Serialization Framework for the Modern Age","url":"/zh-CN/blog/fory_rust_versatile_serialization_framework#cross-language-serialization","content":" use fory::Fory; // Enable cross-language mode let mut fory = Fory::default().compatible(true).xlang(true); // Register with id/namespace for cross-language compatibility fory.register_by_namespace::&lt;User&gt;(1); // fory.register_by_namespace::&lt;User&gt;(&quot;example&quot;, &quot;User&quot;); let bytes = fory.serialize(&amp;user); // This can now be deserialized in Java, Python, Go, etc.   Register types with consistent IDs or names across all languages:  By ID (fory.register::&lt;User&gt;(1)): Faster serialization, more compact encoding, but requires coordination to avoid ID conflictsBy name (fory.register_by_name::&lt;User&gt;(&quot;example.User&quot;)): More flexible, less prone to conflicts, easier to manage across teams, but slightly larger encoding  ","version":null,"tagName":"h3"},{"title":"Supported Types‚Äã","type":1,"pageTitle":"Introducing Apache Fory‚Ñ¢ Rust: A Versatile Serialization Framework for the Modern Age","url":"/zh-CN/blog/fory_rust_versatile_serialization_framework#supported-types","content":" Apache Fory Rust supports a comprehensive type system:  Primitives: bool, i8, i16, i32, i64, f32, f64, String  Collections: Vec&lt;T&gt;, HashMap&lt;K,V&gt;, BTreeMap&lt;K,V&gt;, HashSet&lt;T&gt;, Option&lt;T&gt;  Smart Pointers: Box&lt;T&gt;, Rc&lt;T&gt;, Arc&lt;T&gt;, RcWeak&lt;T&gt;, ArcWeak&lt;T&gt;, RefCell&lt;T&gt;, Mutex&lt;T&gt;  Date/Time: chrono::NaiveDate, chrono::NaiveDateTime  Custom Types: Derive ForyObject for object graphs, ForyRow for row format  Trait Objects: Box&lt;dyn T&gt;, Rc&lt;dyn T&gt;, Arc&lt;dyn T&gt;, Rc&lt;dyn Any&gt;, Arc&lt;dyn Any&gt;  ","version":null,"tagName":"h2"},{"title":"Roadmap: What's Next‚Äã","type":1,"pageTitle":"Introducing Apache Fory‚Ñ¢ Rust: A Versatile Serialization Framework for the Modern Age","url":"/zh-CN/blog/fory_rust_versatile_serialization_framework#roadmap-whats-next","content":" Apache Fory Rust is production-ready today, but we're just getting started and continuing active development:  ","version":null,"tagName":"h2"},{"title":"‚úÖ Shipped in v0.13‚Äã","type":1,"pageTitle":"Introducing Apache Fory‚Ñ¢ Rust: A Versatile Serialization Framework for the Modern Age","url":"/zh-CN/blog/fory_rust_versatile_serialization_framework#-shipped-in-v013","content":" ‚úÖ Static codegen via procedural macros‚úÖ Row format serialization with zero-copy‚úÖ Cross-language object graph serialization‚úÖ Shared and circular reference tracking‚úÖ Weak pointer support (RcWeak, ArcWeak)‚úÖ Trait object serialization (Box/Rc/Arc)‚úÖ Schema evolution in compatible mode  ","version":null,"tagName":"h3"},{"title":"üöß Coming Soon‚Äã","type":1,"pageTitle":"Introducing Apache Fory‚Ñ¢ Rust: A Versatile Serialization Framework for the Modern Age","url":"/zh-CN/blog/fory_rust_versatile_serialization_framework#-coming-soon","content":"  Cross-language reference serialization: serialize Rc/Arc to/from other languages. Partial row updates: Mutate row format in-place  ","version":null,"tagName":"h3"},{"title":"üéØ Help Wanted‚Äã","type":1,"pageTitle":"Introducing Apache Fory‚Ñ¢ Rust: A Versatile Serialization Framework for the Modern Age","url":"/zh-CN/blog/fory_rust_versatile_serialization_framework#-help-wanted","content":" We're actively seeking contributors for:  Performance tuning: Profile and optimize hot pathsDocumentation: More examples, tutorials, and guidesTesting: Fuzzing, property tests, edge case coverage  ","version":null,"tagName":"h3"},{"title":"Production Considerations‚Äã","type":1,"pageTitle":"Introducing Apache Fory‚Ñ¢ Rust: A Versatile Serialization Framework for the Modern Age","url":"/zh-CN/blog/fory_rust_versatile_serialization_framework#production-considerations","content":" ","version":null,"tagName":"h2"},{"title":"Thread Safety‚Äã","type":1,"pageTitle":"Introducing Apache Fory‚Ñ¢ Rust: A Versatile Serialization Framework for the Modern Age","url":"/zh-CN/blog/fory_rust_versatile_serialization_framework#thread-safety","content":" Fory becomes fully thread-safe after registration is complete. Once every type is registered (which requires &amp;mut Fory), wrap the instance in an Arc and freely share it across worker threads for concurrent serialization and deserialization.  use fory::Fory; use std::{sync::Arc, thread}; let mut fory = Fory::default(); fory.register::&lt;Item&gt;(1)?; let fory = Arc::new(fory); // `Fory` is Send + Sync once registration is done let item = Item::default(); let handles: Vec&lt;_&gt; = (0..4) .map(|_| { let fory = Arc::clone(&amp;fory); let input = item.clone(); thread::spawn(move || { let bytes = fory.serialize(&amp;input); let decoded: Item = fory.deserialize(&amp;bytes).expect(&quot;valid data&quot;); (bytes, decoded) }) }) .collect(); for handle in handles { let (bytes, decoded) = handle.join().expect(&quot;thread finished&quot;); // work with `bytes` / `decoded` }   ","version":null,"tagName":"h3"},{"title":"Error Handling‚Äã","type":1,"pageTitle":"Introducing Apache Fory‚Ñ¢ Rust: A Versatile Serialization Framework for the Modern Age","url":"/zh-CN/blog/fory_rust_versatile_serialization_framework#error-handling","content":" Apache Fory uses Result&lt;T, Error&gt; for all fallible operations:  use fory::Error; match fory.deserialize::&lt;User&gt;(&amp;bytes) { Ok(user) =&gt; process_user(user), Err(Error::TypeMismatch) =&gt; log::error!(&quot;Schema mismatch&quot;), Err(Error::BufferTooShort) =&gt; log::error!(&quot;Incomplete data&quot;), Err(e) =&gt; log::error!(&quot;Deserialization failed: {}&quot;, e), }   ","version":null,"tagName":"h3"},{"title":"Documentation‚Äã","type":1,"pageTitle":"Introducing Apache Fory‚Ñ¢ Rust: A Versatile Serialization Framework for the Modern Age","url":"/zh-CN/blog/fory_rust_versatile_serialization_framework#documentation","content":" Apache Fory Rust Guide: üìñ ViewApache Fory Rust API Doc: üìñ ViewApache Fory Xlang Serialization Spec: üìñ View  ","version":null,"tagName":"h2"},{"title":"Community and Contribution‚Äã","type":1,"pageTitle":"Introducing Apache Fory‚Ñ¢ Rust: A Versatile Serialization Framework for the Modern Age","url":"/zh-CN/blog/fory_rust_versatile_serialization_framework#community-and-contribution","content":" Apache Fory is an Apache Software Foundation project with a vibrant, growing community:  GitHub: apache/foryDocs: fory.apache.orgSlack: Join our communityIssue Tracker: GitHub Issues  ","version":null,"tagName":"h2"},{"title":"How to Contribute‚Äã","type":1,"pageTitle":"Introducing Apache Fory‚Ñ¢ Rust: A Versatile Serialization Framework for the Modern Age","url":"/zh-CN/blog/fory_rust_versatile_serialization_framework#how-to-contribute","content":" We welcome contributions of all kinds:  Code: Implement features from the roadmapDocs: Write tutorials, examples, and guidesTesting: Add benchmarks, fuzz tests, integration testsFeedback: Report bugs, request features, share use cases  See CONTRIBUTING.md for guidelines.  ","version":null,"tagName":"h3"},{"title":"License‚Äã","type":1,"pageTitle":"Introducing Apache Fory‚Ñ¢ Rust: A Versatile Serialization Framework for the Modern Age","url":"/zh-CN/blog/fory_rust_versatile_serialization_framework#license","content":" Apache Fory is licensed under the Apache License 2.0, a permissive open-source license that allows commercial use, modification, and distribution.  ","version":null,"tagName":"h3"},{"title":"Conclusion‚Äã","type":1,"pageTitle":"Introducing Apache Fory‚Ñ¢ Rust: A Versatile Serialization Framework for the Modern Age","url":"/zh-CN/blog/fory_rust_versatile_serialization_framework#conclusion","content":" Apache Fory Rust represents a paradigm shift in serialization:  No more trade-offs: Get performance and flexibilityNo more boilerplate: Derive macros handle the complexityNo more lock-in: Trait-object and shared reference support by nature  Whether you're building microservices, data pipelines, or real-time systems, Apache Fory Rust delivers the performance you need with the ergonomics you deserve.  Try it today:  cargo add fory   Join the community:  git clone https://github.com/apache/fory.git cd fory/rust cargo test --features tests   Share your experience:  Write a blog post about your use casePresent at your local Rust meetupContribute benchmarks from your domain ","version":null,"tagName":"h2"},{"title":"Fury v0.2.0 released","type":0,"sectionRef":"#","url":"/zh-CN/blog/fury_0_2_0_release","content":"","keywords":"","version":null},{"title":"Highlights‚Äã","type":1,"pageTitle":"Fury v0.2.0 released","url":"/zh-CN/blog/fury_0_2_0_release#highlights","content":" ","version":null,"tagName":"h2"},{"title":"Java‚Äã","type":1,"pageTitle":"Fury v0.2.0 released","url":"/zh-CN/blog/fury_0_2_0_release#java","content":" Support JDK17+ record JIT/Interpreter serializationSupport JDK17+ record JIT/Interpreter serialization backward/forward compatibilitySupport jdk9+ Immutable Collections JIT/Interpreter mode serialization, much faster compared to other frameworksNew collection serialization protocol by homogenization, 1.5x speed up, 2X space saving.Desgined and implemented a new long compression algorithm, with performance cost less than 10% but give 50% compresstion ratioSupport configuring compress int/long independently, enable int/long compression by defaultAdd class checker API and Whitelist/Blacklist based implementation to enhance security  ","version":null,"tagName":"h3"},{"title":"Python‚Äã","type":1,"pageTitle":"Fury v0.2.0 released","url":"/zh-CN/blog/fury_0_2_0_release#python","content":" Support pyarrow6 bazel buildSupport python 3.10  ","version":null,"tagName":"h3"},{"title":"JavaScript‚Äã","type":1,"pageTitle":"Fury v0.2.0 released","url":"/zh-CN/blog/fury_0_2_0_release#javascript","content":" [JavaScript] support fury for browser[JavaScript] support polymorphism[JavaScript] enhancement performance  ","version":null,"tagName":"h3"},{"title":"Golang‚Äã","type":1,"pageTitle":"Fury v0.2.0 released","url":"/zh-CN/blog/fury_0_2_0_release#golang","content":" Implement Golang serialization framework, which support reference, pointer, data serializationImplement serializers for string/numbers/slice/map/slice/struct/pointer  ","version":null,"tagName":"h3"},{"title":"What's Changed‚Äã","type":1,"pageTitle":"Fury v0.2.0 released","url":"/zh-CN/blog/fury_0_2_0_release#whats-changed","content":" [JavaScript] enhancement performance and bugfix by @wangweipeng2 in https://github.com/alipay/fury/pull/811[JavaScript] support polymorphism by @wangweipeng2 in https://github.com/alipay/fury/pull/814Create SECURITY.md by @chaokunyang in https://github.com/alipay/fury/pull/817[JavaScript] fix bug #703 by @wangweipeng2 in https://github.com/alipay/fury/pull/819[Java] fix isSecure check for xlang in java by @chaokunyang in https://github.com/alipay/fury/pull/822[Doc] add protocol wire format wip by @chaokunyang in https://github.com/alipay/fury/pull/823[JavaScript] write tag hash by @wangweipeng2 in https://github.com/alipay/fury/pull/825[JavaScript] support browser by @wangweipeng2 in https://github.com/alipay/fury/pull/830[Java] register empty object by default by @chaokunyang in https://github.com/alipay/fury/pull/829[Java] upgrade guava for CVE-2023-2976 by @chaokunyang in https://github.com/alipay/fury/pull/831[JavaScript] detect platform wrong by @wangweipeng2 in https://github.com/alipay/fury/pull/832[JavaScript] add test by @wangweipeng2 in https://github.com/alipay/fury/pull/836[Java] Add compatible ci for JDK8/11/13/15/17 by @chaokunyang in https://github.com/alipay/fury/pull/835[Java] use java.lang.ClassValue to cache Lookup by @chaokunyang in https://github.com/alipay/fury/pull/844[Java] Refactor integration tests by @chaokunyang in https://github.com/alipay/fury/pull/845[Java] suppress maven download logs by --no-transfer-progress by @chaokunyang in https://github.com/alipay/fury/pull/846[Java] add missing jdk primitive function by @chaokunyang in https://github.com/alipay/fury/pull/848[Java] make getter lambda functions by @chaokunyang in https://github.com/alipay/fury/pull/849[Java] add record utils by @chaokunyang in https://github.com/alipay/fury/pull/850[Java] Support access record field value by @chaokunyang in https://github.com/alipay/fury/pull/851[Java] interpreter mode support for record serialization by @chaokunyang in https://github.com/alipay/fury/pull/852[CI] Fix checkstyle by @chaokunyang in https://github.com/alipay/fury/pull/853[Java] Support jdk record forward/backward interpreter serialization by @chaokunyang in https://github.com/alipay/fury/pull/854[Java] Support jdk record metashare mode by @chaokunyang in https://github.com/alipay/fury/pull/855[Java] move record utils to record pkg by @chaokunyang in https://github.com/alipay/fury/pull/856[Java] move inner functions outside by @chaokunyang in https://github.com/alipay/fury/pull/857[Python] Support pyarrow6 bazel build by @chaokunyang in https://github.com/alipay/fury/pull/859[Python] add missing shared lib for python by @chaokunyang in https://github.com/alipay/fury/pull/862[Python] fix python deploy by @chaokunyang in https://github.com/alipay/fury/pull/863[Java] Jdk record compatible jit by @chaokunyang in https://github.com/alipay/fury/pull/864[Java] JIT serialization for JDK record by @chaokunyang in https://github.com/alipay/fury/pull/866[Java] support private record jit by @chaokunyang in https://github.com/alipay/fury/pull/869[Java] optimize buffer copy by @chaokunyang in https://github.com/alipay/fury/pull/870[Doc] Fix row format doc by @chaokunyang in https://github.com/alipay/fury/pull/873[Java] Support compress int long independently by @chaokunyang in https://github.com/alipay/fury/pull/875[Java] fix ofHashMap by @chaokunyang in https://github.com/alipay/fury/pull/877[Java] add jdk tools.jar for tests by @chaokunyang in https://github.com/alipay/fury/pull/881[Java] register common exception by @chaokunyang in https://github.com/alipay/fury/pull/879[Java] Fix lazy bean serializer by @chaokunyang in https://github.com/alipay/fury/pull/883[Java] print exception for fury creation by @chaokunyang in https://github.com/alipay/fury/pull/885[Java] remove getCurrentFury API by @chaokunyang in https://github.com/alipay/fury/pull/887[Java] Add fury map iterator api by @chaokunyang in https://github.com/alipay/fury/pull/889[Java] Add class checker API by @chaokunyang in https://github.com/alipay/fury/pull/890[Python] Fix python linux deploy missing shared library files by @chaokunyang in https://github.com/alipay/fury/pull/892[Java] refine AllowListChecker by @chaokunyang in https://github.com/alipay/fury/pull/893Update README.md by @chaokunyang in https://github.com/alipay/fury/pull/894[Java] support immutable collection/map jit and generics optimization by @chaokunyang in https://github.com/alipay/fury/pull/895[Java] cache generated guava constructor by @chaokunyang in https://github.com/alipay/fury/pull/897[Java] Optimize jdk9+ immutable collection serialization by @chaokunyang in https://github.com/alipay/fury/pull/900[Java] add jdk20 tests by @chaokunyang in https://github.com/alipay/fury/pull/901[Java] optimize duplicate fields utils by @chaokunyang in https://github.com/alipay/fury/pull/905[Java] fix jit error for package-level field with private type by @chaokunyang in https://github.com/alipay/fury/pull/907[Java] update blacklist by @chaokunyang in https://github.com/alipay/fury/pull/913[Python] Use cloudpickle for local function serialization by @chaokunyang in https://github.com/alipay/fury/pull/914[Python] fix row format getter by @chaokunyang in https://github.com/alipay/fury/pull/915[Java] disable class check by default by @chaokunyang in https://github.com/alipay/fury/pull/917[Java] refine java docs by @chaokunyang in https://github.com/alipay/fury/pull/918Update blacklist.txt by @chaokunyang in https://github.com/alipay/fury/pull/920[Java] Skip toString in annotation invocation handler readObject by @chaokunyang in https://github.com/alipay/fury/pull/922Optimize StringBuilder/StringBuffer serialization by @pandalee99 in https://github.com/alipay/fury/pull/908Bump release versin to 0.1.2 by @chaokunyang in https://github.com/alipay/fury/pull/924[Doc] add basic type java format doc by @chaokunyang in https://github.com/alipay/fury/pull/928[Java] speed test codegen speed by avoid duplicate codegen by @chaokunyang in https://github.com/alipay/fury/pull/929[Java] Optimize collection serialization protocol by homogenization by @chaokunyang in https://github.com/alipay/fury/pull/923Bump org.apache.avro:avro from 1.11.1 to 1.11.3 in /java/fury-benchmark by @dependabot in https://github.com/alipay/fury/pull/931[Java] Rename classinfocache to classinfoholder by @chaokunyang in https://github.com/alipay/fury/pull/933[Java] put together all primitive serializers by @chaokunyang in https://github.com/alipay/fury/pull/934[Java] Fix jvm crash caused by varint out-of-bound writing by @chaokunyang in https://github.com/alipay/fury/pull/937[Java] enable int compression by default by @chaokunyang in https://github.com/alipay/fury/pull/935[Java] put together all fury related config classes into config package by @chaokunyang in https://github.com/alipay/fury/pull/940[Java] Add SLI(small long as int) long encoding algorithm by @chaokunyang in https://github.com/alipay/fury/pull/942[Java] use raw type serializer for getSerialzier in jit by @chaokunyang in https://github.com/alipay/fury/pull/943[Java] use varint for class id encoding to reduce space cost by @chaokunyang in https://github.com/alipay/fury/pull/945[Java] Fix Collection/Map jit/interpreter protocol inconsisitency for generics instantiated subclass by @chaokunyang in https://github.com/alipay/fury/pull/947[Go] add fury go util and ci tests by @chaokunyang in https://github.com/alipay/fury/pull/950[Go] add fury go buffer implementation by @chaokunyang in https://github.com/alipay/fury/pull/952[Go] add fury go serialization framework by @chaokunyang in https://github.com/alipay/fury/pull/954[Go] add serializers for common go types by @chaokunyang in https://github.com/alipay/fury/pull/956[Java] fix varint writeindex grow for jit by @chaokunyang in https://github.com/alipay/fury/pull/957[Go] add fury go map serializer by @chaokunyang in https://github.com/alipay/fury/pull/959[Go] add slice serializer for fury go by @chaokunyang in https://github.com/alipay/fury/pull/961[Go] add set serializer for fury go by @chaokunyang in https://github.com/alipay/fury/pull/963[Go] Add struct serializer for fury go by @chaokunyang in https://github.com/alipay/fury/pull/965[Go] add ref tracking tests by @chaokunyang in https://github.com/alipay/fury/pull/967[Go] add fury type dispatch tests by @chaokunyang in https://github.com/alipay/fury/pull/969[Go] add fury serialization tests by @chaokunyang in https://github.com/alipay/fury/pull/971[Go] Add fury xlang tests by @chaokunyang in https://github.com/alipay/fury/pull/973[Go] rename Reference to Ref by @chaokunyang in https://github.com/alipay/fury/pull/975[Java] add jdk 21 tests by @chaokunyang in https://github.com/alipay/fury/pull/977[Java] add jdk 21 tests ci by @chaokunyang in https://github.com/alipay/fury/pull/978[Java] Optimize sli long read/write by @chaokunyang in https://github.com/alipay/fury/pull/981[Doc] upgrade docs by @chaokunyang in https://github.com/alipay/fury/pull/985 https://github.com/alipay/fury/pull/986 https://github.com/alipay/fury/pull/987[Java] add serializeJavaObject API to ThreadSafeFury by @chaokunyang in https://github.com/alipay/fury/pull/988[Java] fix jdk17/21 ci latest_jdk_tests skip by @chaokunyang in https://github.com/alipay/fury/pull/989  ","version":null,"tagName":"h2"},{"title":"New Contributors‚Äã","type":1,"pageTitle":"Fury v0.2.0 released","url":"/zh-CN/blog/fury_0_2_0_release#new-contributors","content":" @pandalee99 made their first contribution in https://github.com/alipay/fury/pull/908@ilxqx made their first contribution in https://github.com/fury-project/dubbo-serialization-fury/pull/1@T-baby made their first contribution in https://github.com/fury-project/dubbo-serialization-fury/pull/13  Full Changelog: https://github.com/alipay/fury/compare/v0.1.0...v0.2.0 ","version":null,"tagName":"h2"},{"title":"Fury v0.3.1 released","type":0,"sectionRef":"#","url":"/zh-CN/blog/fury_0_3_1_release","content":"","keywords":"","version":null},{"title":"Highlight‚Äã","type":1,"pageTitle":"Fury v0.3.1 released","url":"/zh-CN/blog/fury_0_3_1_release#highlight","content":" Support python 3.11 and 3.12, drop python 3.6 supportRefactor collection serialization framework to support writeReplace JITIntegrate scala collection with fury java collection frameworkSupport scala collection jit serializationSupport shim dispatcher to resolve compatibility problems for common used classesUse lastest arrow 14 version for row format in Java and Python  ","version":null,"tagName":"h2"},{"title":"What's Changed‚Äã","type":1,"pageTitle":"Fury v0.3.1 released","url":"/zh-CN/blog/fury_0_3_1_release#whats-changed","content":" [Doc] add scala sbt install doc by @chaokunyang in https://github.com/alipay/fury/pull/1066[Doc] Update scala_guide.md by @chaokunyang in https://github.com/alipay/fury/pull/1067[Doc] Add scala 2/3 support doc by @chaokunyang in https://github.com/alipay/fury/pull/1068[Java] Refactor collection serialization framework to support writeReplace JIT by @chaokunyang in https://github.com/alipay/fury/pull/1062[Java] Refine collection package by @chaokunyang in https://github.com/alipay/fury/pull/1070[Java] merge map/collection into collection package by @chaokunyang in https://github.com/alipay/fury/pull/1072[Scala] integrate scala collection with fury java collection framework by @chaokunyang in https://github.com/alipay/fury/pull/1073remove unused part of build.sbt by @pjfanning in https://github.com/alipay/fury/pull/1074[Scala] get build to work with Scala 3 by @pjfanning in https://github.com/alipay/fury/pull/1075[Scala] support scala collection jit serialization by @chaokunyang in https://github.com/alipay/fury/pull/1077[Doc] add apache license section to readme by @caicancai in https://github.com/alipay/fury/pull/1080[Java] add option to disable class check warnings by @chaokunyang in https://github.com/alipay/fury/pull/1084[Java] Fix collection serialization NPE when all elements are null by @chaokunyang in https://github.com/alipay/fury/pull/1086[Java] FuryPooledObjectFactory getFury refactor, remove redundant recursive call by @mof-dev-3 in https://github.com/alipay/fury/pull/1088[Rust] add rust-version by @wangweipeng2 in https://github.com/alipay/fury/pull/1091[DOC] add javascript sample by @wangweipeng2 in https://github.com/alipay/fury/pull/1095Make sure the c++ standard is set to 17 by @PragmaTwice in https://github.com/alipay/fury/pull/1093Fix undefined behavior due to use of uninitialized field in Buffer by @PragmaTwice in https://github.com/alipay/fury/pull/1092[Rust] merge derive and make it sample by @wangweipeng2 in https://github.com/alipay/fury/pull/1098[DOC] add rust sample by @wangweipeng2 in https://github.com/alipay/fury/pull/1100Simplify endian utility functions and IsOneOf by @PragmaTwice in https://github.com/alipay/fury/pull/1096[Java] throw error if nested fury serialize happen in serialization by @chaokunyang in https://github.com/alipay/fury/pull/1103[C++] remove useless FromXXXEndian by @chaokunyang in https://github.com/alipay/fury/pull/1105[Rust ] Remove the magic numbers by @wangweipeng2 in https://github.com/alipay/fury/pull/1107[Rust] chore: add rust doc by @wangweipeng2 in https://github.com/alipay/fury/pull/1109[JavaScript] Fill in readme by @wangweipeng2 in https://github.com/alipay/fury/pull/1110chore: check xlang flag by @wangweipeng2 in https://github.com/alipay/fury/pull/1112[Java] Remove guava part1 by @chaokunyang in https://github.com/alipay/fury/pull/1114[Rust] Correct language flag by @wangweipeng2 in https://github.com/alipay/fury/pull/1120[Java] DateTimeUtils minor refactor, reuse floorDiv to calculate floorMod by @mof-dev-3 in https://github.com/alipay/fury/pull/1122[Python] Support python3.11/12 by @chaokunyang in https://github.com/alipay/fury/pull/1064[java] support shim dispatcher to resolve compatibility problems for common used classes by @xiguashu in https://github.com/alipay/fury/pull/1123  ","version":null,"tagName":"h2"},{"title":"New Contributors‚Äã","type":1,"pageTitle":"Fury v0.3.1 released","url":"/zh-CN/blog/fury_0_3_1_release#new-contributors","content":" @pjfanning made their first contribution in https://github.com/alipay/fury/pull/1074@mof-dev-3 made their first contribution in https://github.com/alipay/fury/pull/1088@PragmaTwice made their first contribution in https://github.com/alipay/fury/pull/1093@xiguashu made their first contribution in https://github.com/alipay/fury/pull/1123  Full Changelog: https://github.com/alipay/fury/compare/v0.3.0...v0.3.1 ","version":null,"tagName":"h2"},{"title":"Fury 0.4.0 Released","type":0,"sectionRef":"#","url":"/zh-CN/blog/fury_0_4_0_release","content":"","keywords":"","version":null},{"title":"Highlight‚Äã","type":1,"pageTitle":"Fury 0.4.0 Released","url":"/zh-CN/blog/fury_0_4_0_release#highlight","content":" [Java] Support Graalvm native image. The implementation will generate all serialization code at image build time, the runtime will be extremely fast, see fury graalvm usage doc[Java] Fury vs JDK benchmark on Graalvm native image[Scala] Serialization support for package scoped object[C++] Reflection support by macro/template programing[C++] Automatic row format encoder  ","version":null,"tagName":"h2"},{"title":"What's Changed‚Äã","type":1,"pageTitle":"Fury 0.4.0 Released","url":"/zh-CN/blog/fury_0_4_0_release#whats-changed","content":" [Python] fix python release by @chaokunyang in https://github.com/alipay/fury/pull/1125[Java] make unsafe offset compatible with graalvm by @chaokunyang in https://github.com/alipay/fury/pull/1117[Scala] Fix scala package object JIT error by @chaokunyang in https://github.com/alipay/fury/pull/1130[Java] Refine maven pom config by @chaokunyang in https://github.com/alipay/fury/pull/1126[Rust] add rust building by @caicancai in https://github.com/alipay/fury/pull/1129[C++] Remove useless overload of Writer::WriteString by @PragmaTwice in https://github.com/alipay/fury/pull/1136[Rust] fix typo by @caicancai in https://github.com/alipay/fury/pull/1133[Rust] add mesaage about rust ci by @caicancai in https://github.com/alipay/fury/pull/1131[C++] Add move ctor/assign op to Status by @PragmaTwice in https://github.com/alipay/fury/pull/1134[Rust] fix cargo test error by @wangweipeng2 in https://github.com/alipay/fury/pull/1135[Rust] improve rust ci by @caicancai in https://github.com/alipay/fury/pull/1138[Scala] Fix scala collection serialization nested in pojo by @chaokunyang in https://github.com/alipay/fury/pull/1140[Java] make sting builder serializer codegen eager by @chaokunyang in https://github.com/alipay/fury/pull/1141[Rust] fix rust ci bug by @caicancai in https://github.com/alipay/fury/pull/1139[Java] support add static fields in fury codegen by @chaokunyang in https://github.com/alipay/fury/pull/1147[C++] Add the basic row format serializer for C++ class types via reflection by @PragmaTwice in https://github.com/alipay/fury/pull/1144[C++] Add duplicated fields detection in FURY_FIELD_INFO macro by @PragmaTwice in https://github.com/alipay/fury/pull/1151[Java] support create serializer when register class by @chaokunyang in https://github.com/alipay/fury/pull/1154[Java] Support graalvm native image by @chaokunyang in https://github.com/alipay/fury/pull/1143[C++] Support string type in RowEncoder by @PragmaTwice in https://github.com/alipay/fury/pull/1158[Scala] add graalvm support for scala singleton by @chaokunyang in https://github.com/alipay/fury/pull/1159[Scala] Fix scala singleton map/collection serialization in struct by @chaokunyang in https://github.com/alipay/fury/pull/1160[Java] add read resolve circular test suite by @chaokunyang in https://github.com/alipay/fury/pull/1161[Java] Remove load arrow serializers by default by @chaokunyang in https://github.com/alipay/fury/pull/1163[Java] Support thread safe fury for graalvm native image by @chaokunyang in https://github.com/alipay/fury/pull/1164[Scala] Fix package object serialization in scala App by @chaokunyang in https://github.com/alipay/fury/pull/1166[Java] add graalvm usage doc by @chaokunyang in https://github.com/alipay/fury/pull/1168[C++] Split util.h to bit_util.h and time_util.h by @PragmaTwice in https://github.com/alipay/fury/pull/1171[C++] Support cv-qualified types in row encoder by @PragmaTwice in https://github.com/alipay/fury/pull/1172[C++] Add support for nested class types in row encoder by @PragmaTwice in https://github.com/alipay/fury/pull/1173[Java] Add graalvm benchmark by @chaokunyang in https://github.com/alipay/fury/pull/1178[Java] Fix string key serializer ref tracking by @chaokunyang in https://github.com/alipay/fury/pull/1174[Java] Add graalvm benchmark test results by @chaokunyang in https://github.com/alipay/fury/pull/1180[Scala] fix package object inaccessible from source code by @chaokunyang in https://github.com/alipay/fury/pull/1181  Full Changelog: https://github.com/alipay/fury/compare/v0.3.1...v0.4.0 ","version":null,"tagName":"h2"},{"title":"Fury 0.5.1 Released","type":0,"sectionRef":"#","url":"/zh-CN/blog/fury_0_5_1_release","content":"","keywords":"","version":null},{"title":"Feature‚Äã","type":1,"pageTitle":"Fury 0.5.1 Released","url":"/zh-CN/blog/fury_0_5_1_release#feature","content":" feat(spec): remove list/map header from type meta spec by @chaokunyang in https://github.com/apache/fury/pull/1590perf(java): Reduce performance regression caused by deleteCharAt by @LiangliangSui in https://github.com/apache/fury/pull/1591feat(java): type meta encoding for java by @chaokunyang in https://github.com/apache/fury/pull/1556 and https://github.com/apache/fury/pull/1601feat(sepc): update type meta field info spec by @chaokunyang in https://github.com/apache/fury/pull/1603feat(javascript): add data to description util by @bytemain in https://github.com/apache/fury/pull/1609feat(java): Support CopyOnWriteArrayListSerializer by @MrChang0 in https://github.com/apache/fury/pull/1613feat(java): add blocked stream utils by @chaokunyang in https://github.com/apache/fury/pull/1617feat(go/java): Add ASCII check before meta string encoding by @jasonmokk in https://github.com/apache/fury/pull/1620feat(java): register old version guava collect by @MrChang0 in https://github.com/apache/fury/pull/1622feat(java): support deserialization ignoreEnumDeserializeError by @157152688 in https://github.com/apache/fury/pull/1623feat(java): add set serializer for concurrent set by @MrChang0 in https://github.com/apache/fury/pull/1616feat(java): add custom serializer register in case of special serializer ctr by @MrChang0 in https://github.com/apache/fury/pull/1625feat(java): remove soft/weak ref values from thread safe fury by @chaokunyang in https://github.com/apache/fury/pull/1639refactor(java): Remove Guava's Collection usages by @Munoon in https://github.com/apache/fury/pull/1611 and https://github.com/apache/fury/pull/1614refactor(java): replace Guava's string utility methods with own implementation by @Munoon in https://github.com/apache/fury/pull/1624  ","version":null,"tagName":"h2"},{"title":"Bug Fix‚Äã","type":1,"pageTitle":"Fury 0.5.1 Released","url":"/zh-CN/blog/fury_0_5_1_release#bug-fix","content":" fix(java): compatible low version guava by @MrChang0 in https://github.com/apache/fury/pull/1593 and https://github.com/apache/fury/pull/1594fix(java): fix getClassDef thead safety by @chaokunyang in https://github.com/apache/fury/pull/1597fix(java): remove maven groupId change by @chaokunyang in https://github.com/apache/fury/pull/1602fix(java): make slf4j provided by @chaokunyang in https://github.com/apache/fury/pull/1605fix(java): clear serializer for collection/map by @chaokunyang in https://github.com/apache/fury/pull/1606fix(java): fix TypeRef getSubType by @chaokunyang in https://github.com/apache/fury/pull/1608fix(java): fix fastutil Object2ObjectOpenHashMap serialization by @chaokunyang in https://github.com/apache/fury/pull/1618fix(java): subclass without fields will encode superclass by @MrChang0 in https://github.com/apache/fury/pull/1626fix(java): fix wildcard capturer capture NullPointerException by @chaokunyang in https://github.com/apache/fury/pull/1637fix(java): fix abstract collection elems same type serialization by @chaokunyang in https://github.com/apache/fury/pull/1641fix(java): ThreadPoolFury#factoryCallback don't work when create new classLoaderFuryPooled by @MrChang0 in https://github.com/apache/fury/pull/1628fix(go/java): Enhance ASCII check in meta string encoding by @jasonmokk in https://github.com/apache/fury/pull/1631  ","version":null,"tagName":"h2"},{"title":"Misc‚Äã","type":1,"pageTitle":"Fury 0.5.1 Released","url":"/zh-CN/blog/fury_0_5_1_release#misc","content":" chore(java): move tests to meta/reflect pkg by @chaokunyang in https://github.com/apache/fury/pull/1592chore(java): make enum serializer as an upper level class by @chaokunyang in https://github.com/apache/fury/pull/1598chore: bump dev version to 0.6.0 by @chaokunyang in https://github.com/apache/fury/pull/1599chore: Fury header add language field by @LiangliangSui in https://github.com/apache/fury/pull/1612chore(java): rename deserializeUnexistentEnumValueAsNull to deserializeNonexistentAsNull by @chaokunyang in https://github.com/apache/fury/pull/1634chore(java): remove gpg pinentry-mode by @chaokunyang in https://github.com/apache/fury/pull/1636  ","version":null,"tagName":"h2"},{"title":"New Contributors‚Äã","type":1,"pageTitle":"Fury 0.5.1 Released","url":"/zh-CN/blog/fury_0_5_1_release#new-contributors","content":" @MrChang0 made their first contribution in https://github.com/apache/fury/pull/1594@jasonmokk made their first contribution in https://github.com/apache/fury/pull/1620@157152688 made their first contribution in https://github.com/apache/fury/pull/1623  Full Changelog: https://github.com/apache/fury/compare/v0.5.0...v0.5.1 ","version":null,"tagName":"h2"},{"title":"Fury 0.4.1 Released","type":0,"sectionRef":"#","url":"/zh-CN/blog/fury_0_4_1_release","content":"","keywords":"","version":null},{"title":"Highlight‚Äã","type":1,"pageTitle":"Fury 0.4.1 Released","url":"/zh-CN/blog/fury_0_4_1_release#highlight","content":" [Rust] Support row format[C++] Support iterable types for RowEncoder[JavaScript] Support partial record[Java] Fix JIT error in corner case, now Fury can generate serializer for every class  ","version":null,"tagName":"h2"},{"title":"What's Changed‚Äã","type":1,"pageTitle":"Fury 0.4.1 Released","url":"/zh-CN/blog/fury_0_4_1_release#whats-changed","content":" [Doc] Refine issue template by a yaml form by @chaokunyang in https://github.com/alipay/fury/pull/1185[C++] Fix ownership problem for children writers by visitor by @PragmaTwice in https://github.com/alipay/fury/pull/1193[C++] Remove useless fields and macro in logging by @PragmaTwice in https://github.com/alipay/fury/pull/1195[Doc] add docs for java FuryBuilder #1188 by @mof-dev-3 in https://github.com/alipay/fury/pull/1192[Rust] support row format by @wangweipeng2 in https://github.com/alipay/fury/pull/1196[C++] Add RowEncoder wrapper to RowEncodeTrait by @PragmaTwice in https://github.com/alipay/fury/pull/1200[Rust] Row support more types by @wangweipeng2 in https://github.com/alipay/fury/pull/1202[Rust] Support row map by @wangweipeng2 in https://github.com/alipay/fury/pull/1206[C++] update bazel version from 4.2 to 6.3.2 by @chaokunyang in https://github.com/alipay/fury/pull/1204[JavaScript] Support partial record by @wangweipeng2 in https://github.com/alipay/fury/pull/1208[Java] fix package access level class accessor jit by @chaokunyang in https://github.com/alipay/fury/pull/1210[JavaScript] Fix register a description twice will get undefined serializer by @bytemain in https://github.com/alipay/fury/pull/1211[C++] Support iterable types in RowEncodeTrait by @PragmaTwice in https://github.com/alipay/fury/pull/1212[C++] Support iterable types for RowEncoder by @PragmaTwice in https://github.com/alipay/fury/pull/1215[Python] Refine py register class method by @chaokunyang in https://github.com/alipay/fury/pull/1218[Java] Clear extRegistry.getClassCtx if generate serializer class failed in https://github.com/alipay/fury/pull/1221  ","version":null,"tagName":"h2"},{"title":"New Contributors‚Äã","type":1,"pageTitle":"Fury 0.4.1 Released","url":"/zh-CN/blog/fury_0_4_1_release#new-contributors","content":" @bytemain made their first contribution in https://github.com/alipay/fury/pull/1211  Full Changelog: https://github.com/alipay/fury/compare/v0.4.0...v0.4.1 ","version":null,"tagName":"h2"},{"title":"Fury v0.5.0 Released","type":0,"sectionRef":"#","url":"/zh-CN/blog/fury_0_5_0_release","content":"","keywords":"","version":null},{"title":"New Features‚Äã","type":1,"pageTitle":"Fury v0.5.0 Released","url":"/zh-CN/blog/fury_0_5_0_release#new-features","content":" ","version":null,"tagName":"h2"},{"title":"Specification‚Äã","type":1,"pageTitle":"Fury v0.5.0 Released","url":"/zh-CN/blog/fury_0_5_0_release#specification","content":" Introduced fury cross-language serialization specification (#1413, #1508)Introduced xlang type mapping (#1468)Introduced fury java specification (#1240)Introduced meta string encoding specification (#1565, #1513, #1517)  ","version":null,"tagName":"h3"},{"title":"Java‚Äã","type":1,"pageTitle":"Fury v0.5.0 Released","url":"/zh-CN/blog/fury_0_5_0_release#java","content":" Support for compatible mode with GraalVM (#1586, #1587).Support unexisted array/enum classes and enabled deserializeUnexistedClass by default (#1569, #1575).meta string encoding algorithm in java (#1514, #1568, #1516, #1565)Support meta string encoding for classname and package name (#1527)native streaming mode deserialization (#1451, #1551)native channel stream reader (#1483)Support registration in thread safe fury (#1280)Implement fury logger and remove slf4j library (#1485, #1494, #1506, #1492)Support adjust logger level dynamically (#1557)Support jdk proxy serialization for graalvm (#1379)Specify JPMS module names (#1343)Align string array to collection protocol v2 (#1228)  ","version":null,"tagName":"h3"},{"title":"JavaScript‚Äã","type":1,"pageTitle":"Fury v0.5.0 Released","url":"/zh-CN/blog/fury_0_5_0_release#javascript","content":" Align implementation to new Xlang protocol (#1487)Implement Xlang map (#1549)Implemented xlang map code generator (#1571)Added magic number feature for better serialization control (#1550).Support oneof (#1348)create zero-copy buffer when convert (#1386)Implement the collection protocol (#1337)Implement Enum (#1321)compress numbers (#1290)  ","version":null,"tagName":"h3"},{"title":"C++‚Äã","type":1,"pageTitle":"Fury v0.5.0 Released","url":"/zh-CN/blog/fury_0_5_0_release#c","content":" Support optional fields/elements in RowEncoder (#1223)Support mapping types for RowEncodeTrait (#1247)  ","version":null,"tagName":"h3"},{"title":"Golang‚Äã","type":1,"pageTitle":"Fury v0.5.0 Released","url":"/zh-CN/blog/fury_0_5_0_release#golang","content":" Implemented Fury meta string encoding algorithm (#1566).concat meta string len with flags (#1517)  ","version":null,"tagName":"h3"},{"title":"Enhancements‚Äã","type":1,"pageTitle":"Fury v0.5.0 Released","url":"/zh-CN/blog/fury_0_5_0_release#enhancements","content":" ","version":null,"tagName":"h2"},{"title":"Java‚Äã","type":1,"pageTitle":"Fury v0.5.0 Released","url":"/zh-CN/blog/fury_0_5_0_release#java-1","content":" Improved buffer growth strategy to support larger data sizes for serialization (#1582).Performance optimizations for MetaStringDecoder and various serialization processes (#1568, #1511, #1493).concat write classname flag with package name (#1523)concat meta string len with flags (#1517)fastpath for read/write small varint in range [0,127] (#1503)optimize read float/double for jvm jit inline (#1472)replace Guava's TypeToken with self-made (#1553)Remove basic guava API usage (#1244)optimize fury creation speed (#1511)optimize string serialization by concat coder and length (#1486)carry read objects when deserialization fail for better trouble shooting (#1420)implement define_class insteadof using javaassist (#1422)avoid recompilation when gc happens for memory pressure (#1411, #1585)Fix immutable collection ref tracking (#1403)reduce fury caller stack (#1496)Extract BaseFury interface (#1382)refine collection builder util (#1334)disable async compilation for graalvm (#1222)refine endian check code size in buffer (#1501)generate list fori loop instead of iterator loop for list serialization (#1493)Reduce unsafeWritePositiveVarLong bytecode size. (#1491)Reduce unsafePutPositiveVarInt bytecode size. (#1490, #1489)optimize read char/short jvm jit inline (#1471)reduce code size of read long to optimize jvm jit inline (#1470)reduce readInt/readVarInt code size for for jvm jit inline (#1469)refactor readVarUint32 algorithm (#1462)rewrite readVarUint64 algorithm (#1463)  ","version":null,"tagName":"h3"},{"title":"JavaScript‚Äã","type":1,"pageTitle":"Fury v0.5.0 Released","url":"/zh-CN/blog/fury_0_5_0_release#javascript-1","content":" Make PlatformBuffer available if has Buffer polyfill (#1373)enhance performance 64bits number (#1320)Refactor &amp; Compress Long (#1313)Improve tag write performance (#1241)Add more methods for BinaryReader (#1231)Implements tuple serializer (#1216)  ","version":null,"tagName":"h3"},{"title":"Python‚Äã","type":1,"pageTitle":"Fury v0.5.0 Released","url":"/zh-CN/blog/fury_0_5_0_release#python","content":" concat meta string len with flags (#1517)  ","version":null,"tagName":"h3"},{"title":"Bug Fix‚Äã","type":1,"pageTitle":"Fury v0.5.0 Released","url":"/zh-CN/blog/fury_0_5_0_release#bug-fix","content":" Java‚Äã  Fix bytebuffer no such method error (#1580)Prevent exception in ObjectArray.clearObjectArray() (#1573)Fix slf4j on graalvm (#1432)Fix illegal classname caused by negative hash (#1436)Fix BigDecimal serializer (#1431)Fix BigInteger serialization (#1479)Fix type conflict in method split (#1371)Fix CodeGen Name conflicts when omitting java.lang prefix #1363 (#1366)Fix ClassLoader npe in loadOrGenCodecClass (#1346)Fix big buffer trunc (#1402)Make Blacklist detection is also performed when the Class is registered. (#1398)avoid big object graph cause buffer take up too much memory (#1397)Fix get static field by unsafe (#1380)Fix javax package for accessor codegen (#1388)Fix nested collection cast for scala/java (#1333)Fix References within InvocationHandler (#1365)Allow partial read of serialized size from InputStream (#1391)add potential missing bean class-loader (#1381)Fix polymorphic array serialization (#1324)Fix nested collection num elements (#1306)Fix collection init size typo (#1342)Clear extRegistry.getClassCtx if generate serializer class failed (#1221)  Rust‚Äã  Fix memory errors caused by casting (#1372)Fix incorrect cast (#1345)  ","version":null,"tagName":"h3"},{"title":"Miscellaneous‚Äã","type":1,"pageTitle":"Fury v0.5.0 Released","url":"/zh-CN/blog/fury_0_5_0_release#miscellaneous","content":" Numerous code cleanups, refactorings, and internal improvements across all supported languages to enhance code quality and maintainability.Moved various utilities into more appropriate packages to improve code organization and readability (#1584, #1583, #1578).rename MemoryBuffer read/write/put/getType with read/write/put/getTypeNumber (#1480, #1464, #1505, #1500)extract public Fury methods to BaseFury (#1467)Optimize Class ID allocation. (#1406)refine Collection util data structure (#1287) (#1288)Improve Status by using unique_ptr (#1234)Improve FormatTimePoint by removing sstream (#1233)Drop optional chaining expression (#1338)  ","version":null,"tagName":"h2"},{"title":"New Contributors‚Äã","type":1,"pageTitle":"Fury v0.5.0 Released","url":"/zh-CN/blog/fury_0_5_0_release#new-contributors","content":" @nandakumar131 made their first contribution in https://github.com/apache/fury/pull/1244@vesense made their first contribution in https://github.com/apache/fury/pull/1260@LiangliangSui made their first contribution in https://github.com/apache/fury/pull/1294@liuxiaocs7 made their first contribution in https://github.com/apache/fury/pull/1312@mtf90 made their first contribution in https://github.com/apache/fury/pull/1343@bowin made their first contribution in https://github.com/apache/fury/pull/1353@cn-at-osmit made their first contribution in https://github.com/apache/fury/pull/1366@Maurice-Betzel made their first contribution in https://github.com/apache/fury/pull/1381@phogh made their first contribution in https://github.com/apache/fury/pull/1391@laglangyue made their first contribution in https://github.com/apache/fury/pull/1415@Munoon made their first contribution in https://github.com/apache/fury/pull/1467@pixeeai made their first contribution in https://github.com/apache/fury/pull/1559@huisman6 made their first contribution in https://github.com/apache/fury/pull/1572@tommyettinger made their first contribution in https://github.com/apache/fury/pull/1573@qingoba made their first contribution in https://github.com/apache/fury/pull/1566  ","version":null,"tagName":"h2"},{"title":"Acknowledgements‚Äã","type":1,"pageTitle":"Fury v0.5.0 Released","url":"/zh-CN/blog/fury_0_5_0_release#acknowledgements","content":" Thanks @chaokunyang @theweipeng @PragmaTwice @LiangliangSui @nandakumar131 @Munoon @qingoba @vesense @liuxiaocs7 @mtf90 @bowin @cn-at-osmit @Maurice-Betzel @phogh @laglangyue @tommyettinger @huisman6 @pixeeai  A big thank you to all our contributors who have worked hard on this release. Your contributions, whether through code, documentation, or issue reporting, are really appreciated.  Full Changelog: https://github.com/apache/fury/compare/v0.4.1...v0.5.0 ","version":null,"tagName":"h2"},{"title":"Fury 0.6.0 Released","type":0,"sectionRef":"#","url":"/zh-CN/blog/fury_0_6_0_release","content":"","keywords":"","version":null},{"title":"High light‚Äã","type":1,"pageTitle":"Fury 0.6.0 Released","url":"/zh-CN/blog/fury_0_6_0_release#high-light","content":" In this release, we introduced a scoped meta share mode for schema evolution in java and enabled it by default when CompatibleMode is set to Compatible:  This mode is 50% faster than previous KV compatible mode, and only 1/6 size of serialized payload than before.It's 4x faster than protobuf, less than 1/2 serialized size of protobuf for complex object.    Protobuf/JSON will write message fields meta and values in a KV layout, so when serializzing a list of message, they will have two issues:  Write meta multiple times even those message are the same type.KV layout is dispersive, which is not friendly for compression.  The meta share mode will write field name&amp;type meta of a struct only once for multiple objects of same type, which will save space and improve performance comparedto protobuf.  With meta share, we can write field name&amp;type meta of a struct only once for multiple objects of same type, which will save space and improve performance comparedto protobuf. And we can also encode the meta into binary in advance, and use one memory copy to write it which will be much faster.  ","version":null,"tagName":"h2"},{"title":"Serialize data‚Äã","type":1,"pageTitle":"Fury 0.6.0 Released","url":"/zh-CN/blog/fury_0_6_0_release#serialize-data","content":"  public static class NumericStruct { public int f1; public int f2; public int f3; public int f4; public int f5; public int f6; public int f7; public int f8; public static NumericStruct build() { NumericStruct struct = new NumericStruct(); struct.f1 = 1; struct.f2 = 2; struct.f3 = 3; struct.f4 = 4; struct.f5 = 5; struct.f6 = 6; struct.f7 = 7; struct.f8 = 8; return struct; } } public static class NumericStructList { public List&lt;NumericStruct&gt; list; public static NumericStructList build() { NumericStructList structList = new NumericStructList(); structList.list = new ArrayList&lt;&gt;(1000); for (int i = 0; i &lt; 1000; i++) { structList.list.add(NumericStruct.build()); } return structList; }   ","version":null,"tagName":"h3"},{"title":"Result‚Äã","type":1,"pageTitle":"Fury 0.6.0 Released","url":"/zh-CN/blog/fury_0_6_0_release#result","content":" Performance:  Benchmark Mode Cnt Score Error Units fury_deserialize thrpt 30 49667.900 ¬± 3004.061 ops/s fury_kv_compatible_deserialize thrpt 30 33014.595 ¬± 3716.199 ops/s fury_kv_compatible_serialize thrpt 30 23915.260 ¬± 3968.119 ops/s fury_serialize thrpt 30 63146.826 ¬± 2930.505 ops/s protobuf_deserialize thrpt 30 14156.610 ¬± 685.272 ops/s protobuf_serialize thrpt 30 10060.293 ¬± 706.064 ops/s   Size:  Lib\tSerialized Payload Sizefury\t8077 furystrict\t8009 furykv\t48028 protobuf\t18000  ","version":null,"tagName":"h3"},{"title":"Feature‚Äã","type":1,"pageTitle":"Fury 0.6.0 Released","url":"/zh-CN/blog/fury_0_6_0_release#feature","content":" feat(java): support nonexistent class deserialization in meta share mode by @chaokunyang in https://github.com/apache/fury/pull/1646feat(java): scoped meta share mode for type forward/backward compaibility by @chaokunyang in https://github.com/apache/fury/pull/1660feat(java): support meta compression by Deflater by @chaokunyang in https://github.com/apache/fury/pull/1663perf(java): Add ClassInfo ClassBytes generation conditions. by @LiangliangSui in https://github.com/apache/fury/pull/1667feat(javascript): use TextDecoder to decode buffer by @bytemain in https://github.com/apache/fury/pull/1699feat(Python): meta string encoding algorithm in Python by @pandalee99 in https://github.com/apache/fury/pull/1702feat(C++): String detection is performed using SIMD techniques by @pandalee99 in https://github.com/apache/fury/pull/1720feat(C++): The use of SIMD accelerated to implement and optimize utf16 utf8 by @pandalee99 in https://github.com/apache/fury/pull/1732feat(java): enable scoped meta share for compatible mode by default by @chaokunyang in https://github.com/apache/fury/pull/1733perf(java): optimize scoped meta share mode perf by @chaokunyang in https://github.com/apache/fury/pull/1734  ","version":null,"tagName":"h2"},{"title":"Bug Fix‚Äã","type":1,"pageTitle":"Fury 0.6.0 Released","url":"/zh-CN/blog/fury_0_6_0_release#bug-fix","content":" chore(doc): fix example by @wangjie-fourth in https://github.com/apache/fury/pull/1657fix(java): fix scala object type codegen by @chaokunyang in https://github.com/apache/fury/pull/1659fix(java): Fix header offset issue in MetaStringBytes hashcode by @LiangliangSui in https://github.com/apache/fury/pull/1668fix(java): return fury to pooled which get from by @MrChang0 in https://github.com/apache/fury/pull/1697fix(doc): codestyle version in python by @pandalee99 in https://github.com/apache/fury/pull/1706fix(java): fix nested map serialization codegen by @chaokunyang in https://github.com/apache/fury/pull/1713fix(java): fix fastjson object serialization by @chaokunyang in https://github.com/apache/fury/pull/1717  ","version":null,"tagName":"h2"},{"title":"Others‚Äã","type":1,"pageTitle":"Fury 0.6.0 Released","url":"/zh-CN/blog/fury_0_6_0_release#others","content":" chore: Add IssueNavigationLink and icon for IDEA by @lvshaokang in https://github.com/apache/fury/pull/1665chore(rust): resolve deprecate warnings by @waynexia in https://github.com/apache/fury/pull/1662chore(doc): fix doc example code by @wangjie-fourth in https://github.com/apache/fury/pull/1666chore(rust): Setup rustfmt and toolchain for rust by @Xuanwo in https://github.com/apache/fury/pull/1677chore(rust): Make rust clippy happy by @Xuanwo in https://github.com/apache/fury/pull/1678chore(doc): add incubating DISCLAIMER by @chaokunyang in https://github.com/apache/fury/pull/1681chore(java): Update github URL in IntelliJ vcs.xml by @pjfanning in https://github.com/apache/fury/pull/1689ci: fix ci error by @LiangliangSui in https://github.com/apache/fury/pull/1691docs: fix badge x by @vesense in https://github.com/apache/fury/pull/1694chore(doc): fix compiler error by @wangjie-fourth in https://github.com/apache/fury/pull/1698refactor(java): move latin language checker method from string serializer to string util by @anagh07 in https://github.com/apache/fury/pull/1708chore(doc): the more complete readme is in python by @pandalee99 in https://github.com/apache/fury/pull/1709build: update scala build by @pjfanning in https://github.com/apache/fury/pull/1725build: publish jars for fury-scala by @pjfanning in https://github.com/apache/fury/pull/1729chore(java): merge reflect.Types into TypeRef by @chaokunyang in https://github.com/apache/fury/pull/1731  ","version":null,"tagName":"h2"},{"title":"New Contributors‚Äã","type":1,"pageTitle":"Fury 0.6.0 Released","url":"/zh-CN/blog/fury_0_6_0_release#new-contributors","content":" @wangjie-fourth made their first contribution in https://github.com/apache/fury/pull/1657@lvshaokang made their first contribution in https://github.com/apache/fury/pull/1665@waynexia made their first contribution in https://github.com/apache/fury/pull/1662@Xuanwo made their first contribution in https://github.com/apache/fury/pull/1677@anagh07 made their first contribution in https://github.com/apache/fury/pull/1708  Full Changelog: https://github.com/apache/fury/compare/v0.5.1...v0.6.0 ","version":null,"tagName":"h2"},{"title":"Fury v0.7.0 Released","type":0,"sectionRef":"#","url":"/zh-CN/blog/fury_0_7_0_release","content":"","keywords":"","version":null},{"title":"High Light‚Äã","type":1,"pageTitle":"Fury v0.7.0 Released","url":"/zh-CN/blog/fury_0_7_0_release#high-light","content":" ","version":null,"tagName":"h2"},{"title":"Experimental‚Äã","type":1,"pageTitle":"Fury v0.7.0 Released","url":"/zh-CN/blog/fury_0_7_0_release#experimental","content":" Implement fast object deep copy framework for java:  Fury fury = Fury.builder().withRefCopy(true).build(); fury.register(SomeClass.class); SomeClass a = xxx; SomeClass copied = fury.copy(a);   Benchmark result:  Benchmark\tobjectType\tScore\tError\tUnitsfury_copy\tMEDIA_CONTENT\t1243297.690\t¬± 451828.452\tops/s fury_copy\tSAMPLE\t2670545.816\t¬± 1378536.021\tops/s fury_copy\tSTRUCT\t2673356.422\t¬± 202288.322\tops/s fury_copy\tSTRUCT2\t1943587.774\t¬± 392513.707\tops/s fury_copy_int_map\tint map\t1470264.733\t¬± 1021875.257\tops/s fury_copy_list\tint list\t3556892.276\t¬± 127410.724\tops/s fury_copy_object_array\tarray\t4430589.112\t¬± 25366.893\tops/s fury_copy_string_map\tstring map\t1736145.327\t¬± 377806.877\tops/s kryo_copy\tMEDIA_CONTENT\t804208.092\t¬± 27429.069\tops/s kryo_copy\tSAMPLE\t717669.608\t¬± 71093.370\tops/s kryo_copy\tSTRUCT\t1076048.642\t¬± 223194.146\tops/s kryo_copy\tSTRUCT2\t141374.767\t¬± 14150.535\tops/s kryo_copy_int_map\tint map\t546203.187\t¬± 54669.173\tops/s kryo_copy_list\tint list\t843643.496\t¬± 312306.921\tops/s kryo_copy_object_array\tobject array\t1593267.344\t¬± 1721824.436\tops/s kryo_copy_string_map\tstring map\t574809.875\t¬± 47316.340\tops/s  ","version":null,"tagName":"h3"},{"title":"Features‚Äã","type":1,"pageTitle":"Fury v0.7.0 Released","url":"/zh-CN/blog/fury_0_7_0_release#features","content":" feat(Rust): add meta string encoding algorithm in Rust by @urlyy in https://github.com/apache/fury/pull/1712feat(Rust): Implement utf16 to utf8 conversion algorithm by @urlyy in https://github.com/apache/fury/pull/1730perf(java): add struct benchmark with pb by @chaokunyang in https://github.com/apache/fury/pull/1736feat(java): fast object copy framework in fury java by @zhaommmmomo in https://github.com/apache/fury/pull/1701perf(java): optimize pojo copy performance by @chaokunyang in https://github.com/apache/fury/pull/1739feat(java): support jdk17+ record copy by @chaokunyang in https://github.com/apache/fury/pull/1741feat(RUST): String detection is performed using SIMD techniques by @kitty-eu-org in https://github.com/apache/fury/pull/1752feat(java): Add 'Expose' annotation to support &quot;only de/serialize annotated fields&quot; by @urlyy in https://github.com/apache/fury/pull/1751feat(java): support Ignore inconsistent types deserialize by @weijiang157152688 in https://github.com/apache/fury/pull/1737perf(java): optimize map copy perf by @chaokunyang in https://github.com/apache/fury/pull/1767perf(java): optimize list copy perf by @chaokunyang in https://github.com/apache/fury/pull/1769perf(java): optimize object array copy perf by @chaokunyang in https://github.com/apache/fury/pull/1770feat(java): support deep ref copy by @chaokunyang in https://github.com/apache/fury/pull/1771  ","version":null,"tagName":"h2"},{"title":"Bug Fix‚Äã","type":1,"pageTitle":"Fury v0.7.0 Released","url":"/zh-CN/blog/fury_0_7_0_release#bug-fix","content":" fix(java): fix janino commons classes issue by @chaokunyang in https://github.com/apache/fury/pull/1753fix(scala): fix scala release version by @chaokunyang in https://github.com/apache/fury/pull/1756fix(java): fix streaming classdef read by @chaokunyang in https://github.com/apache/fury/pull/1758fix(java): fix big buffer streaming MetaShared read offset by @chaokunyang in https://github.com/apache/fury/pull/1760fix(java): fix fury logger npe by @chaokunyang in https://github.com/apache/fury/pull/1762fix(java): fix enum abstract field serialization by @chaokunyang in https://github.com/apache/fury/pull/1765fix(java): Fix memory leak in StructSerializer.xread() caused by re-pushing instead of popping GenericType. by @komamitsu in https://github.com/apache/fury/pull/1768  ","version":null,"tagName":"h2"},{"title":"Other Improvements‚Äã","type":1,"pageTitle":"Fury v0.7.0 Released","url":"/zh-CN/blog/fury_0_7_0_release#other-improvements","content":" chore: Update case in DISCLAIMER by @pjfanning in https://github.com/apache/fury/pull/1746chore: bump dev version to 0.7.0 by @chaokunyang in https://github.com/apache/fury/pull/1755chore(java): rename copyTrackingRef to copyRef by @chaokunyang in https://github.com/apache/fury/pull/1748chore(java): add fury deep copy documentation by @chaokunyang in https://github.com/apache/fury/pull/1773  ","version":null,"tagName":"h2"},{"title":"New Contributors‚Äã","type":1,"pageTitle":"Fury v0.7.0 Released","url":"/zh-CN/blog/fury_0_7_0_release#new-contributors","content":" @urlyy made their first contribution in https://github.com/apache/fury/pull/1712@zhaommmmomo made their first contribution in https://github.com/apache/fury/pull/1701@kitty-eu-org made their first contribution in https://github.com/apache/fury/pull/1752@komamitsu made their first contribution in https://github.com/apache/fury/pull/1768  Full Changelog: https://github.com/apache/fury/compare/v0.6.0...v0.7.0  ","version":null,"tagName":"h2"},{"title":"Acknowledgements‚Äã","type":1,"pageTitle":"Fury v0.7.0 Released","url":"/zh-CN/blog/fury_0_7_0_release#acknowledgements","content":" Thanks @komamitsu @pjfanning @chaokunyang @weijiang157152688 @kitty-eu-org @urlyy @zhaommmmomo A big thank you to all our contributors who have worked hard on this release. Your contributions, whether through code, documentation, or issue reporting, are really appreciated.  Full Changelog: https://github.com/apache/fury/compare/v0.6.0...v0.7.0 ","version":null,"tagName":"h2"},{"title":"Fury v0.7.1 Released","type":0,"sectionRef":"#","url":"/zh-CN/blog/fury_0_7_1_release","content":"","keywords":"","version":null},{"title":"Features‚Äã","type":1,"pageTitle":"Fury v0.7.1 Released","url":"/zh-CN/blog/fury_0_7_1_release#features","content":" feat(javascript): Added MetaString Class for Unicode Encoding/Decoding in Type.Object Code Generation by @Forchapeatl in https://github.com/apache/fury/pull/1774feat(Rust): Refine Code Structure &amp; Prepare for Future Compatibility Features by @theweipeng in https://github.com/apache/fury/pull/1787feat(java): ThreadSafeFury add getClassResolver method by @funky-eyes in https://github.com/apache/fury/pull/1780feat(Rust): Implement TypeMeta part of the compatibility features by @theweipeng in https://github.com/apache/fury/pull/1789feat(Rust): Support polymorphism by @theweipeng in https://github.com/apache/fury/pull/1795feat(java): Support copy capabilities for some classes without no-argument constructors by @zhaommmmomo in https://github.com/apache/fury/pull/1794feat(java): support jdk9+ java.util.ImmutableCollections copy by @zhaommmmomo in https://github.com/apache/fury/pull/1800feat(rust): support enum serialization by @jiacai2050 in https://github.com/apache/fury/pull/1817refine fury website and add chinese documents by @yuluo-yx and @LofiSu  ","version":null,"tagName":"h2"},{"title":"Bug Fix‚Äã","type":1,"pageTitle":"Fury v0.7.1 Released","url":"/zh-CN/blog/fury_0_7_1_release#bug-fix","content":" ci: fix rust ci failed by @LiangliangSui in https://github.com/apache/fury/pull/1783fix(java): fix classloader get npe by @chaokunyang in https://github.com/apache/fury/pull/1792fix(scala): fix nested type serialization in scala object type by @chaokunyang in https://github.com/apache/fury/pull/1809fix(java): Fix replace resolver serializaiton by @chaokunyang in https://github.com/apache/fury/pull/1812fix(java): fix reserved keyword conflict by @chaokunyang in https://github.com/apache/fury/pull/1819fix(java): fix nested map field value serialization by private map serializer by @chaokunyang in https://github.com/apache/fury/pull/1820fix(rust): use iter to avoid reallocate by @jiacai2050 in https://github.com/apache/fury/pull/1821  ","version":null,"tagName":"h2"},{"title":"Other Improvements‚Äã","type":1,"pageTitle":"Fury v0.7.1 Released","url":"/zh-CN/blog/fury_0_7_1_release#other-improvements","content":" chore(java): Disallow writing meta classdef when obj is null by @LiangliangSui in https://github.com/apache/fury/pull/1686chore(infra): optimize github tmpl &amp; update actions/checkout version to 4.1.7 by @yuluo-yx in https://github.com/apache/fury/pull/1807chore(infra): remove redundant bug reporting options by @yuluo-yx in https://github.com/apache/fury/pull/1810docs: add check lint ci &amp; fix md lint by @yuluo-yx in https://github.com/apache/fury/pull/1811  ","version":null,"tagName":"h2"},{"title":"New Contributors‚Äã","type":1,"pageTitle":"Fury v0.7.1 Released","url":"/zh-CN/blog/fury_0_7_1_release#new-contributors","content":" @Forchapeatl made their first contribution in https://github.com/apache/fury/pull/1774@funky-eyes made their first contribution in https://github.com/apache/fury/pull/1780@yuluo-yx made their first contribution in https://github.com/apache/fury/pull/1807  Full Changelog: https://github.com/apache/fury/compare/v0.7.0...v0.7.1  ","version":null,"tagName":"h2"},{"title":"Acknowledgements‚Äã","type":1,"pageTitle":"Fury v0.7.1 Released","url":"/zh-CN/blog/fury_0_7_1_release#acknowledgements","content":" Thanks @jiacai2050 @chaokunyang @theweipeng @funky-eyes @Forchapeatl @zhaommmmomo @yuluo-yx @LiangliangSui @LofiSu  A big thank you to all our contributors who have worked hard on this release. Your contributions, whether through code, documentation, or issue reporting, are really appreciated. ","version":null,"tagName":"h2"},{"title":"Fury v0.8.0 Released","type":0,"sectionRef":"#","url":"/zh-CN/blog/fury_0_8_0_release","content":"","keywords":"","version":null},{"title":"Highlights‚Äã","type":1,"pageTitle":"Fury v0.8.0 Released","url":"/zh-CN/blog/fury_0_8_0_release#highlights","content":" Support graalvm 17/21/22 native imageRelease fury optimized serializers for scala collectionReduce scala collection classname serialization cost using dict encoding  ","version":null,"tagName":"h2"},{"title":"Features‚Äã","type":1,"pageTitle":"Fury v0.8.0 Released","url":"/zh-CN/blog/fury_0_8_0_release#features","content":" refactor(rust): simplify error handle by @jiacai2050 in https://github.com/apache/fury/pull/1823feat(java): support graalvm 17/21/22 by @chaokunyang in https://github.com/apache/fury/pull/1845perf(java): inline same element invoke in jit by @chaokunyang in https://github.com/apache/fury/pull/1851perf(java): optimize read classdef perf by @chaokunyang in https://github.com/apache/fury/pull/1852feat(scala): optimize scala class serialization by @chaokunyang in https://github.com/apache/fury/pull/1853feat(java): implement sublist serializers by @chaokunyang in https://github.com/apache/fury/pull/1856feat(java): use SubListViewSerializer only when tracking ref by @chaokunyang in https://github.com/apache/fury/pull/1858  ","version":null,"tagName":"h2"},{"title":"Bug Fix‚Äã","type":1,"pageTitle":"Fury v0.8.0 Released","url":"/zh-CN/blog/fury_0_8_0_release#bug-fix","content":" fix(java): DeserializationException#getMessage call by @yoohaemin in https://github.com/apache/fury/pull/1830fix(java): fix collection view serialization by @chaokunyang in https://github.com/apache/fury/pull/1833fix(java): fix long type name meta string encoding by @chaokunyang in https://github.com/apache/fury/pull/1837fix(java): fix serializer factory getSerializerClass by @chaokunyang in https://github.com/apache/fury/pull/1836fix(rust): replace (value &lt;&lt; 8) | (value &gt;&gt; 8) with value.rotate_right(8) by @chaokunyang in https://github.com/apache/fury/pull/1841fix(java): Fix for maximum size of java arrays by @fink-arthur in https://github.com/apache/fury/pull/1843fix(java): Fix max Java array size for reader by @fink-arthur in https://github.com/apache/fury/pull/1844fix(java): fix jdk proxy serialization when proxy writeReplace method by @chaokunyang in https://github.com/apache/fury/pull/1857  ","version":null,"tagName":"h2"},{"title":"Other Improvements‚Äã","type":1,"pageTitle":"Fury v0.8.0 Released","url":"/zh-CN/blog/fury_0_8_0_release#other-improvements","content":" chore(java): fix default value doc for metaShareEnabled/scopedMetaShareEnabled by @chaokunyang in https://github.com/apache/fury/pull/1826chore(doc): fix 'how to upgrade fury' link in README by @sh-cho in https://github.com/apache/fury/pull/1846build(deps): bump com.google.protobuf:protobuf-java from 3.16.3 to 3.25.5 in /java/benchmark by @dependabot in https://github.com/apache/fury/pull/1847chore(java): simplify generated codec name by @chaokunyang in https://github.com/apache/fury/pull/1850ci: only run sync job if the repo is apache/fury by @pjfanning in https://github.com/apache/fury/pull/1860feat(scala): upgrade sbt and sbt-apache-sonatype by @pjfanning in https://github.com/apache/fury/pull/1859  ","version":null,"tagName":"h2"},{"title":"New Contributors‚Äã","type":1,"pageTitle":"Fury v0.8.0 Released","url":"/zh-CN/blog/fury_0_8_0_release#new-contributors","content":" @yoohaemin made their first contribution in https://github.com/apache/fury/pull/1830@fink-arthur made their first contribution in https://github.com/apache/fury/pull/1843@sh-cho made their first contribution in https://github.com/apache/fury/pull/1846  Full Changelog: https://github.com/apache/fury/compare/v0.7.1...v0.8.0  ","version":null,"tagName":"h2"},{"title":"Acknowledgements‚Äã","type":1,"pageTitle":"Fury v0.8.0 Released","url":"/zh-CN/blog/fury_0_8_0_release#acknowledgements","content":" Thanks @jiacai2050 @fink-arthur @sh-cho @pjfanning @chaokunyang @yoohaemin  A big thank you to all our contributors who have worked hard on this release. Your contributions, whether through code, documentation, or issue reporting, are really appreciated. ","version":null,"tagName":"h2"},{"title":"Fury v0.9.0 Released","type":0,"sectionRef":"#","url":"/zh-CN/blog/fury_0_9_0_release","content":"","keywords":"","version":null},{"title":"Highlight‚Äã","type":1,"pageTitle":"Fury v0.9.0 Released","url":"/zh-CN/blog/fury_0_9_0_release#highlight","content":" Optimized serializers for Fury kotlin supportHighly-optimized UTF-8 string encoding implementation for Java(2x faster than JDK utf8 encoding)Reduce metastring hashcode payload for small string(&lt;=16 bytes)Support building C++ libs on windows platform  ","version":null,"tagName":"h2"},{"title":"Features‚Äã","type":1,"pageTitle":"Fury v0.9.0 Released","url":"/zh-CN/blog/fury_0_9_0_release#features","content":" feat(kotlin): Introduce kotlin package with stdlib collections and tests by @wywen in https://github.com/apache/fury/pull/1877feat(kotlin): Add Unsigned Primitive Support by @wywen in https://github.com/apache/fury/pull/1886feat(kotlin): Add unsigned array support and tests for arrays and strings by @wywen in https://github.com/apache/fury/pull/1891feat(java): Refactor String serialization and deserialization by @HuangXingBo in https://github.com/apache/fury/pull/1890feat(java): support thread safe register callback for scala kotlin by @chaokunyang in https://github.com/apache/fury/pull/1895feat(scala): add scala range serializer by @chaokunyang in https://github.com/apache/fury/pull/1899feat(java): add option to treat enum as string by @orisgarno in https://github.com/apache/fury/pull/1892feat(kotlin): Add tests and support for built-in types from the kotlin stdlib by @wywen in https://github.com/apache/fury/pull/1901feat(java): reduce metastring hashcode payload for small string(&lt;=16 bytes) by @chaokunyang in https://github.com/apache/fury/pull/1909feat(javascript): Added serialization and serialization for Type Meta Layer by @Forchapeatl in https://github.com/apache/fury/pull/1825feat(bazel): support building C++ libs on windows platform by @An-DJ in https://github.com/apache/fury/pull/1873feat(scala): support scala native image build by @chaokunyang in https://github.com/apache/fury/pull/1922perf(python): Add python benchmark test by @penguin-wwy in https://github.com/apache/fury/pull/1916  ","version":null,"tagName":"h2"},{"title":"Bug Fix‚Äã","type":1,"pageTitle":"Fury v0.9.0 Released","url":"/zh-CN/blog/fury_0_9_0_release#bug-fix","content":" fix(scala): ban these sbt commands by @pjfanning in https://github.com/apache/fury/pull/1862fix(java): fix async compilation switch for non-public nested class by @chaokunyang in https://github.com/apache/fury/pull/1883fix(java): fix add fury thread safety issue by @chaokunyang in https://github.com/apache/fury/pull/1889fix(other): fix feature request template by @chaokunyang in https://github.com/apache/fury/pull/1898fix(java): NonExistentEnum on mode serializeEnumByName by @orisgarno in https://github.com/apache/fury/pull/1904fix(java): ThreadLocalFury and ThreadPoolFury prioritize using the user classloader by @Aliothmoon in https://github.com/apache/fury/pull/1907fix(java): child container deep copy by @zhaommmmomo in https://github.com/apache/fury/pull/1911fix(java): Fix incorrect results of utf16 to utf8 conversion for latin1 but not ascii characters in https://github.com/apache/fury/pull/1914fix(python): Eliminate PytestCollectionWarning when running pytest by @penguin-wwy in https://github.com/apache/fury/pull/1917  ","version":null,"tagName":"h2"},{"title":"Other Improvements‚Äã","type":1,"pageTitle":"Fury v0.9.0 Released","url":"/zh-CN/blog/fury_0_9_0_release#other-improvements","content":" chore(py314): Replace deprecated pkgutil.find_loader by @effigies in https://github.com/apache/fury/pull/1888docs(guide): Fix package typo by @mandrean in https://github.com/apache/fury/pull/1906build(kotlin): Add spotless ktfmt and enable explicit api mode for library code. by @wywen in https://github.com/apache/fury/pull/1912build(deps): upgrade scala (2.13.15/3.3.4) by @pjfanning in https://github.com/apache/fury/pull/1861feat(rust): add rust-analyzer to toolchain by @caicancai in https://github.com/apache/fury/pull/1865chore(scala): add scala build script by @chaokunyang in https://github.com/apache/fury/pull/1920chore(kotlin): add parent pom for fury kotlin by @chaokunyang in https://github.com/apache/fury/pull/1921feat(java): Improve error message on architecture not using little-endian format by @apupier in https://github.com/apache/fury/pull/1918  ","version":null,"tagName":"h2"},{"title":"New Contributors‚Äã","type":1,"pageTitle":"Fury v0.9.0 Released","url":"/zh-CN/blog/fury_0_9_0_release#new-contributors","content":" @An-DJ made their first contribution in https://github.com/apache/fury/pull/1873@wywen made their first contribution in https://github.com/apache/fury/pull/1877@effigies made their first contribution in https://github.com/apache/fury/pull/1888@HuangXingBo made their first contribution in https://github.com/apache/fury/pull/1890@orisgarno made their first contribution in https://github.com/apache/fury/pull/1892@mandrean made their first contribution in https://github.com/apache/fury/pull/1906@Aliothmoon made their first contribution in https://github.com/apache/fury/pull/1907@penguin-wwy made their first contribution in https://github.com/apache/fury/pull/1916@apupier made their first contribution in https://github.com/apache/fury/pull/1918  Full Changelog: https://github.com/apache/fury/compare/v0.8.0...v0.9.0  ","version":null,"tagName":"h2"},{"title":"Acknowledgements‚Äã","type":1,"pageTitle":"Fury v0.9.0 Released","url":"/zh-CN/blog/fury_0_9_0_release#acknowledgements","content":" Thanks @effigies @apupier @wywen @mandrean @HuangXingBo @pjfanning @chaokunyang @penguin-wwy @An-DJ @Forchapeatl @orisgarno @zhaommmmomo @caicancai @Aliothmoon  A big thank you to all our contributors who have worked hard on this release. Your contributions, whether through code, documentation, or issue reporting, are really appreciated. ","version":null,"tagName":"h2"},{"title":"Important Announcement - Apache Fury is Now Apache Fory","type":0,"sectionRef":"#","url":"/zh-CN/blog/fury_renamed_to_fory","content":"","keywords":"","version":null},{"title":"Announcement‚Äã","type":1,"pageTitle":"Important Announcement - Apache Fury is Now Apache Fory","url":"/zh-CN/blog/fury_renamed_to_fory#announcement","content":" The Apache Fury team is now officially announcing that Apache Fury has been renamed to Apache Fory, effective immediately. This transition impacts all project components including code repositories, package names, documentation, and communication channels.  ","version":null,"tagName":"h2"},{"title":"Why This Change Is Necessary‚Äã","type":1,"pageTitle":"Important Announcement - Apache Fury is Now Apache Fory","url":"/zh-CN/blog/fury_renamed_to_fory#why-this-change-is-necessary","content":" This transition is required to resolve naming conflicts identified by the ASF Brand Management. Following massive discussions and a formal vote, this change ensures compliance with ASF's guidelines.  The new name &quot;Fory&quot; preserves phonetic similarity to &quot;Fury&quot; while establishing a distinct identity aligned with ASF standards.  ","version":null,"tagName":"h2"},{"title":"Technical Changes and Impact‚Äã","type":1,"pageTitle":"Important Announcement - Apache Fury is Now Apache Fory","url":"/zh-CN/blog/fury_renamed_to_fory#technical-changes-and-impact","content":" This transition requires updates across the ecosystem:  Java packages migrated from org.apache.fury to org.apache.foryClass names migrated from XXXFury/FuryXXX to XXXFory/ForyXXXGitHub repositories renamed to apache/fory (code) and apache/fory-site (website)Downstream integrations (Quarkus-Fury, Camel-Fury) require dependency updatesMailing lists transition to @fory.apache.org  ","version":null,"tagName":"h2"},{"title":"Migration Support‚Äã","type":1,"pageTitle":"Important Announcement - Apache Fury is Now Apache Fory","url":"/zh-CN/blog/fury_renamed_to_fory#migration-support","content":" To facilitate this transition:  Existing Apache Fury release document remains intact at v0.10 documentCritical URL redirects in place  ","version":null,"tagName":"h2"},{"title":"Why \"Fory\"?‚Äã","type":1,"pageTitle":"Important Announcement - Apache Fury is Now Apache Fory","url":"/zh-CN/blog/fury_renamed_to_fory#why-fory","content":" The name was chosen by prioritizing:  Phonetic similarity to &quot;Fury&quot;No existing trademark conflictsPreservation of our technical identityShort, memorable, and globally pronounceable  ","version":null,"tagName":"h2"},{"title":"Our Commitment‚Äã","type":1,"pageTitle":"Important Announcement - Apache Fury is Now Apache Fory","url":"/zh-CN/blog/fury_renamed_to_fory#our-commitment","content":" We recognize the burden this places on our users, especially those with deep integrations. Please know:  All existing issues and PRs have been migratedPerformance benchmarks remain consistently superiorRelease cycles continue uninterrupted  This rename represents our commitment to respecting intellectual property while maintaining technical excellence. We're grateful for your patience and continued trust as we navigate this transition together. ","version":null,"tagName":"h2"},{"title":"Apache Fury: A blazing fast multi-language serialization framework powered by JIT and zero-copy","type":0,"sectionRef":"#","url":"/zh-CN/blog/fury_blazing_fast_multiple_language_serialization_framework","content":"","keywords":"","version":null},{"title":"Background‚Äã","type":1,"pageTitle":"Apache Fury: A blazing fast multi-language serialization framework powered by JIT and zero-copy","url":"/zh-CN/blog/fury_blazing_fast_multiple_language_serialization_framework#background","content":" Serialization is a basic component of system communication, and widely used in big data, AI framework, cloud native and other distributed systems. Data transfer between processes, languages, nodes, or object persistence, state read-write and copy, all need serialization. The performance and ease-of-use of serialization affects runtime and development efficiency of the system.  Static serialization frameworks like Protobuf or FlatBuffers cannot be used for cross-language application development directly, because they don't support shared reference and polymorphism, and also need to generate code ahead.  Dynamic serialization frameworks such as JDK serialization, Kryo, Fst, Hessian, Pickle provide ease-of-use and dynamics, but don't support cross-language and suffer significant performance issues, which is unsuitable for high throughput, low latency, and large-scale data transfer scenarios.  Therefore, we developed a new multi-language serialization framework Apache Fury, which is open-sourced on https://github.com/apache/fury. Through highly optimized serialization primitives, JIT dynamic compilation and zero-copy technologies, Fury is both fast and easy-to-use. It can cross-language serialize any object automatically and provides ultimate performance at the same time.    ","version":null,"tagName":"h2"},{"title":"What is Apache Fury?‚Äã","type":1,"pageTitle":"Apache Fury: A blazing fast multi-language serialization framework powered by JIT and zero-copy","url":"/zh-CN/blog/fury_blazing_fast_multiple_language_serialization_framework#what-is-apache-fury","content":" Apache Fury is a multi-language serialization framework powered by JIT dynamic compilation and zero copy, providing blazing fast speed and ease of use:  Multiple languages: Java, Python, C++, Golang, JavaScript, Rust. Other languages can be added easily.Highly optimized serialization primitives.Zero-copy: Support out-of-band serialization and off-heap read/write.High performance: Use JIT to generate serialization code at runtime in an async multithreaded way, which can optimize methods inlining, code cache, dead code elimination, hash lookup, meta writing and memory read/write.Multi protocols: Provide flexibility and ease of use of dynamic serialization, as well as the cross-language of static serialization. Java Serialization: Drop-in replaces JDK, Kryo, and Hessian. No need to modify user code, but providing 170x speed up at most, which can improve efficiency of rpc, data transfer and object persistence significantly.100% JDK compatible, support JDK custom serialization methods writeObject, readObject, writeReplace, readResolve, readObjectNoData natively. Cross-language object graph: Cross-language serialize any objects automatically, no need for IDL, schema compilation, and object/protocol conversion.Cross-language serialize shared/circular reference, no data duplication or recursion error.Support object polymorphism, multiple children type objects can be serialized simultaneously. Row format A cache-friendly binary random-access format, supports skipping deserialization and lazy deserialization, efficient for high-performance computing and large-scale data transfer.Support automatic conversion to Apache Arrow.  ","version":null,"tagName":"h2"},{"title":"Core Serialization Capabilities‚Äã","type":1,"pageTitle":"Apache Fury: A blazing fast multi-language serialization framework powered by JIT and zero-copy","url":"/zh-CN/blog/fury_blazing_fast_multiple_language_serialization_framework#core-serialization-capabilities","content":" Although different scenarios require different serialization protocols, the underlying operations of serialization are similar.  Therefore, Fury defines and implements a set of basic serialization capabilities, which can be used for quickly building new multi-language serialization protocols and get speedup by JIT acceleration and other optimizations.  At the same time, performance optimization for a protocol on the primitives can also benefit all other protocols.  ","version":null,"tagName":"h2"},{"title":"Serialization Primitives‚Äã","type":1,"pageTitle":"Apache Fury: A blazing fast multi-language serialization framework powered by JIT and zero-copy","url":"/zh-CN/blog/fury_blazing_fast_multiple_language_serialization_framework#serialization-primitives","content":" Common serialization operations contains:  Bitmap operationsNumber encoding and decodingCompression for int and longString creation and copyString encoding: ASCII, UTF8, UTF16Memory copyArray copy and compressionMeta encoding, compression, and cache  Fury use SIMD and other advanced language features to make basic operations extremely fast in every languages.  ","version":null,"tagName":"h3"},{"title":"Zero-copy Serialization‚Äã","type":1,"pageTitle":"Apache Fury: A blazing fast multi-language serialization framework powered by JIT and zero-copy","url":"/zh-CN/blog/fury_blazing_fast_multiple_language_serialization_framework#zero-copy-serialization","content":" Large-scale data transfer often has multiple binary buffers in an object graph. Some serialization frameworks will write the binaries into an intermediate buffer and introduce multiple time-consuming memory copies. Fury implemented an out-of-band serialization protocol inspired by pickle5, Ray and Apache Arrow, which can capture all binary buffers in an object graph to avoid intermediate copies of these buffers.  The following figure shows the serialization process of zero-copy:    Currently, Fury supports the following types of zero-copy:  Java: all basic types of arrays, ByteBuffer, ArrowRecordBatch, and VectorSchemaRootPython: all arrays of the array module, numpy arrays, pyarrow.Table, and pyarrow.RecordBatchGolang: byte slice  You can also add the new zero copy type based on the Fury interface.  ","version":null,"tagName":"h3"},{"title":"JIT dynamic compilation acceleration‚Äã","type":1,"pageTitle":"Apache Fury: A blazing fast multi-language serialization framework powered by JIT and zero-copy","url":"/zh-CN/blog/fury_blazing_fast_multiple_language_serialization_framework#jit-dynamic-compilation-acceleration","content":" Custom type objects usually contain lots of type information, Fury used this information to generate efficient serialization code at runtime, which can push lots of runtime operations into the dynamic compilation stage. By inlining more methods, better code cache, reducing virtual method calls, conditional branches, hash lookup, metadata writes, and memory reads/writes, the serialization performance is greatly accelerated.  For Java, Fury implements a runtime codegen framework and defines an operator expression IR. Then fury can perform type inference based on the generic type information of the object at runtime to build an expression tree that describes the logic of serialized code.  The codegen framework will generate efficient Java code from the expression tree, then pass to Janino to compile it into bytecode, and load it into the user's ClassLoader or the ClassLoader created by Fury, and finally compile it into efficient assembly code through Java JIT.  Since JVM JIT skips Big method compilation and inlining, Fury also implements an optimizer to split big methods into small methods recursively, thus ensuring that all code can be compiled and inlined.    Fury also supports asynchronous multithreaded compilation by running the codegen tasks in a thread pool, and using interpretation mode until JIT finishes to ensure no serialization burrs. Users can skip warm up serialization of objects.  Python and JavaScript codegen are similar. Generating source code is easier for development and troubleshooting problems.  Since serialization will manipulate objects extensively in each programming language, and the language does not expose the low-level API of the memory model, native methods call has a large cost too, so we cannot use LLVM to build a unified serializer JIT framework. Instead, we implemented a codegen framework for every language separately.  ","version":null,"tagName":"h3"},{"title":"Static code generation‚Äã","type":1,"pageTitle":"Apache Fury: A blazing fast multi-language serialization framework powered by JIT and zero-copy","url":"/zh-CN/blog/fury_blazing_fast_multiple_language_serialization_framework#static-code-generation","content":" Although JIT compilation can greatly improve serialization efficiency and generate better serialization code based on the statistical distribution of data at runtime, languages like C++ do not support reflection, have no virtual machines, and no low-level API for memory models. We cannot generate serialization code dynamically for such languages through JIT.  In such scenarios, Fury is implementing an AOT codegen framework, which generates the serialized code statically according to the object schema, and objects can be serialized automatically using the generated serializer. For Rust, Rust macro is used to generate code statically.  ","version":null,"tagName":"h3"},{"title":"Cache optimization‚Äã","type":1,"pageTitle":"Apache Fury: A blazing fast multi-language serialization framework powered by JIT and zero-copy","url":"/zh-CN/blog/fury_blazing_fast_multiple_language_serialization_framework#cache-optimization","content":" When serializing a custom type, fury will reorder fields to ensure that fields of the same type are serialized in order. This can hit more data cache and CPU instruction cache.  The basic type fields are written in descending order by byte size. In this way, if the initial addresses are aligned, subsequent read and write operations will occur at the position where the memory addresses are aligned, making CPU execution more efficient.  ","version":null,"tagName":"h3"},{"title":"Multi-protocol Design and Implementation‚Äã","type":1,"pageTitle":"Apache Fury: A blazing fast multi-language serialization framework powered by JIT and zero-copy","url":"/zh-CN/blog/fury_blazing_fast_multiple_language_serialization_framework#multi-protocol-design-and-implementation","content":" Based on the multi-language serialization features provided by Fury core, we have built three serialization protocols for different scenarios:  Java serialization: Suitable for pure Java serialization scenarios and provides up to 170x speed up;Cross-language object graph serialization: Suitable for application-oriented multi-language programming and high-performance cross-language serialization;Row-format serialization: Suitable for distributed computing engines such as Apache Spark, Apache Flink, Apache Doris, Velox, and features frameworks.  In the future, we will add new protocols for other core scenarios. Users can also build their own protocols based on Fury's serialization framework.  ","version":null,"tagName":"h2"},{"title":"Java serialization‚Äã","type":1,"pageTitle":"Apache Fury: A blazing fast multi-language serialization framework powered by JIT and zero-copy","url":"/zh-CN/blog/fury_blazing_fast_multiple_language_serialization_framework#java-serialization","content":" Java is widely used in big data, cloud native, microservices, and enterprise applications. Therefore, Fury made lots of optimizations for Java serialization, which reduces system latency and server costs a lot, and improves throughput significantly. Our implementation has the following highlights:  Blazing fast performance: Based on Java types, JIT compilation and Unsafe low-level operations, Fury is 170x faster than JDK, and 50~110x faster than Kryo/Hessian at most.100% JDK serialization API compatibility : Supports all JDK custom serialization methods writeObject, readObject, writeReplace, readResolve, readObjectNoData natively to ensure the serialization correctness in any scenario. Kryo and Hessian have some correctness issues in these scenarios.Type compatibility: When the deserialization and serialization class schema are inconsistent, it can still deserialize correctly. It supports application upgrade and deployment, add/delete fields independently. Fury type-compatible mode is implemented with no performance loss compared to type-consistent mode.Metadata sharing : share metadata(class name, field name&amp;type, etc.) across multiple serializations under a context (TCP connection), meta will be sent to the peer only for the first serialization, the peer can reconstruct the same deserializer based on this information. Subsequent serialization will skip transferring metadata, which can reduce network traffic, and support type compatibility automatically.Zero-copy support: supports out-of-band zero copy and off-heap memory read and write.  ","version":null,"tagName":"h3"},{"title":"Cross-language object graph serialization‚Äã","type":1,"pageTitle":"Apache Fury: A blazing fast multi-language serialization framework powered by JIT and zero-copy","url":"/zh-CN/blog/fury_blazing_fast_multiple_language_serialization_framework#cross-language-object-graph-serialization","content":" Fury cross-language object graph serialization is primarily used for scenarios that require higher dynamics and ease-of-use.  Although frameworks like Protobuf or FlatBuffers support cross-language serialization, they still have limitations:  They require pre-defined IDLs and generate code statically ahead, lacking sufficient dynamics and flexibility;The generated classes don't conform to object-oriented design and it's impossible to add behavior to classes, which make them unsuitable for use as domain objects in cross-language application development.They don't support polymorphism. Object-oriented programming uses interfaces to invoke subclass methods, but this pattern isn't supported well in those frameworks. Although FlatBuffers offers Union, and Protobuf provides OneOf/Any, those API require check object type during serialization and deserialization, which isn't polymorphic.They don't support circular references and shared references. Users need to define a set of IDLs for domain objects and implement reference resolution by themselves, as well as writing code to convert between domain objects and protocol objects in each language. If the object graph depth is deep, more code needs to be written.  Due to the above limitations, Fury implemented a cross-language object graph serialization protocol that:  Automatically serializes any object across multiple languages: By defining classes in the serialization and deserialization peer, objects in one language can be automatically serialized into objects in another language without creating IDL files, compiling schema to generate code, or writing conversion code.Automatically serializes shared and circular references across multiple languages.Supports object type polymorphism, consistent with the object-oriented programming paradigm, and multiple subtypes can be automatically deserialized without manual intervention.Out-of-band zero-copy is also supported in this protocol.  Example of Automatic Cross-Language Serialization:    ","version":null,"tagName":"h3"},{"title":"Row-format‚Äã","type":1,"pageTitle":"Apache Fury: A blazing fast multi-language serialization framework powered by JIT and zero-copy","url":"/zh-CN/blog/fury_blazing_fast_multiple_language_serialization_framework#row-format","content":" For high-performance computing and large-scale data transfer scenarios, data serialization and transfer are often the performance bottlenecks of the system. If users only need to read part of the data or filter data based on some field of an object, deserializing the entire data will result in unnecessary overhead. Therefore, Fury provides a binary data structure for direct reading and writing on binary data to avoid serialization.  Apache Arrow is a standardized columnar storage format that supports binary read and write. However, columnar format is not suitable for all scenarios. Data in online and streaming computing are naturally stored row by row, and row is also used in columnar computing engines when involving data updates, Hash/Join/Aggregation operations.  However, there is no standardized implementation for row format. Computing engines such as Spark/Flink/Doris/Velox all defined their row format, which doesn't support cross-language and can only be used internally by themselves. FlatBuffers does support lazy deserialization, but it requires static compilation of schema IDL and management of offset, which is impossible for complex scenarios.  Therefore, Fury implemented a binary row format inspired by Spark Tungsten and Apache Arrow format, which allows random access and partial deserialization. Currently, Java/Python/C++ versions have been implemented, allowing direct reading and writing on binary data to avoid all serialization overhead, and can convert to arrow format automatically.    This format is densely stored, byte aligned and cache-friendly, which enables faster read and write operations. By avoiding deserialization, it reduces Java GC pressure and Python overhead. Based on Python's dynamics, Fury's data structure implements special methods such as getattr, getitem, slice, etc., ensuring behavior consistency with Python dataclass, list, object, and users have no perception of this.  ","version":null,"tagName":"h3"},{"title":"Performance Comparison‚Äã","type":1,"pageTitle":"Apache Fury: A blazing fast multi-language serialization framework powered by JIT and zero-copy","url":"/zh-CN/blog/fury_blazing_fast_multiple_language_serialization_framework#performance-comparison","content":" Here are some Java serialization performance data, where charts with &quot;compatible&quot; in the title are performance data under type compatible mode: Support type forward vs. Backward compatibility. Charts without &quot;compatible&quot; in the title are performance data without type compatibility: class schema must be same between serialization and deserialization.  For fairness, Fury disabled the zero-copy feature for all tests.        ","version":null,"tagName":"h2"},{"title":"Roadmap‚Äã","type":1,"pageTitle":"Apache Fury: A blazing fast multi-language serialization framework powered by JIT and zero-copy","url":"/zh-CN/blog/fury_blazing_fast_multiple_language_serialization_framework#roadmap","content":" Meta compression, auto meta sharing and cross-language schema compatibility.AOT Framework for C++ and Golang to generate code statically.Object graph serialization support for C++ and RustRow format support for Golang, Rust, and NodeJSProtobuf compatibility supportProtocols for features and knowledge graph serializationContinuously improve our serialization infrastructure for any new protocols  ","version":null,"tagName":"h2"},{"title":"Join us‚Äã","type":1,"pageTitle":"Apache Fury: A blazing fast multi-language serialization framework powered by JIT and zero-copy","url":"/zh-CN/blog/fury_blazing_fast_multiple_language_serialization_framework#join-us","content":" We are committed to building Apache Fury into an open and neutral community project that pursues passion and innovation. The development and discussion are open-sourced and transparent in the community. Any form of participation is welcome, including but not limited to questions, code contributions, technical discussions, etc. We are looking forward to receiving your ideas and feedback, participating in the project together, pushing the project forward and creating a better serialization framework.  The GitHub address of the fury repository is: https://github.com/apache/fury  Official website: https://fury.apache.org  All issues, PR, and Discussion are welcome. ","version":null,"tagName":"h2"},{"title":"Meta String: A 37.5% space efficient string encoding than UTF-8 in Fury serialization","type":0,"sectionRef":"#","url":"/zh-CN/blog/fury_meta_string_37_5_percent_space_efficient_encoding_than_utf8","content":"","keywords":"","version":null},{"title":"Background‚Äã","type":1,"pageTitle":"Meta String: A 37.5% space efficient string encoding than UTF-8 in Fury serialization","url":"/zh-CN/blog/fury_meta_string_37_5_percent_space_efficient_encoding_than_utf8#background","content":" In rpc/serialization systems, we often need to send namespace/path/filename/fieldName/packageName/moduleName/className/enumValue string between processes.  Those strings are mostly ascii strings. In order to transfer between processes, we encode such strings using utf-8 encodings. Such encoding will take one byte for every char, which is not space efficient actually.  If we take a deeper look, we will found that most chars are lowercase chars, ., $ and _, which can be expressed in a much smaller range 0~32. But one byte can represent range 0~255, the significant bits are wasted, and this cost is not ignorable. In a dynamic serialization framework, such meta will take considerable cost compared to actual data.  So we proposed a new string encoding algorithm which we called meta string encoding in Fury. It will encode most chars using 5 bits instead of 8 bits in utf-8 encoding, which can bring 37.5% space cost savings compared to utf-8 encoding.  ","version":null,"tagName":"h2"},{"title":"Meta String Introduction‚Äã","type":1,"pageTitle":"Meta String: A 37.5% space efficient string encoding than UTF-8 in Fury serialization","url":"/zh-CN/blog/fury_meta_string_37_5_percent_space_efficient_encoding_than_utf8#meta-string-introduction","content":" Meta string encoding algorithm is mainly used to encode meta strings such as field names, namespace, packageName, className, path and filename. Such a string is enumerated and limited, so the encoding performance is not important since we can cache the encoding result.  Meta string encoding uses 5/6 bits instead of 8 bits in utf-8 encoding for every chars. Since it uses less bits than utf8, it can bring37.5% space cost savings compared to utf-8 and has a smaller encoded binary size, which uses less storage and makes the network transfer faster.  More details about meta string spec can be found in Fury xlang serialization specification.  ","version":null,"tagName":"h2"},{"title":"Encoding Algorithms‚Äã","type":1,"pageTitle":"Meta String: A 37.5% space efficient string encoding than UTF-8 in Fury serialization","url":"/zh-CN/blog/fury_meta_string_37_5_percent_space_efficient_encoding_than_utf8#encoding-algorithms","content":" String binary encoding algorithm:  Algorithm\tPattern\tDescriptionLOWER_SPECIAL\ta-z._$|\tevery char is written using 5 bits, a-z: 0b00000~0b11001, ._$|: 0b11010~0b11101, prepend one bit at the start to indicate whether strip last char since last byte may have 7 redundant bits(1 indicates strip last char) LOWER_UPPER_DIGIT_SPECIAL\ta-zA-Z0~9._\tevery char is written using 6 bits, a-z: 0b00000~0b11001, A-Z: 0b11010~0b110011, 0~9: 0b110100~0b111101, ._: 0b111110~0b111111, prepend one bit at the start to indicate whether strip last char since last byte may have 7 redundant bits(1 indicates strip last char) UTF-8\tany chars\tUTF-8 encoding  If we use LOWER_SPECIAL/LOWER_UPPER_DIGIT_SPECIAL, we must add a strip last char flag in encoded data. This is because every char will be encoded using 5/6 bits, and the last char may have 1~7 bits which are unused by encoding, such bits may cause an extra char to be read, which we must strip off.  Here is encoding code snippet in java, see org.apache.fury.meta.MetaStringEncoder#encodeGeneric(char[], int) for more details:  private byte[] encodeGeneric(char[] chars, int bitsPerChar) { int totalBits = chars.length * bitsPerChar + 1; int byteLength = (totalBits + 7) / 8; // Calculate number of needed bytes byte[] bytes = new byte[byteLength]; int currentBit = 1; for (char c : chars) { int value = (bitsPerChar == 5) ? charToValueLowerSpecial(c) : charToValueLowerUpperDigitSpecial(c); // Encode the value in bitsPerChar bits for (int i = bitsPerChar - 1; i &gt;= 0; i--) { if ((value &amp; (1 &lt;&lt; i)) != 0) { // Set the bit in the byte array int bytePos = currentBit / 8; int bitPos = currentBit % 8; bytes[bytePos] |= (byte) (1 &lt;&lt; (7 - bitPos)); } currentBit++; } } boolean stripLastChar = bytes.length * 8 &gt;= totalBits + bitsPerChar; if (stripLastChar) { bytes[0] = (byte) (bytes[0] | 0x80); } return bytes; } private int charToValueLowerSpecial(char c) { if (c &gt;= 'a' &amp;&amp; c &lt;= 'z') { return c - 'a'; } else if (c == '.') { return 26; } else if (c == '_') { return 27; } else if (c == '$') { return 28; } else if (c == '|') { return 29; } else { throw new IllegalArgumentException(&quot;Unsupported character for LOWER_SPECIAL encoding: &quot; + c); } } private int charToValueLowerUpperDigitSpecial(char c) { if (c &gt;= 'a' &amp;&amp; c &lt;= 'z') { return c - 'a'; } else if (c &gt;= 'A' &amp;&amp; c &lt;= 'Z') { return 26 + (c - 'A'); } else if (c &gt;= '0' &amp;&amp; c &lt;= '9') { return 52 + (c - '0'); } else if (c == specialChar1) { return 62; } else if (c == specialChar2) { return 63; } else { throw new IllegalArgumentException( &quot;Unsupported character for LOWER_UPPER_DIGIT_SPECIAL encoding: &quot; + c); } }   Here is decoding code snippet in golang, see go/fury/meta/meta_string_decoder.go:70 for more details:  func (d *Decoder) decodeGeneric(data []byte, algorithm Encoding) ([]byte, error) { bitsPerChar := 5 if algorithm == LOWER_UPPER_DIGIT_SPECIAL { bitsPerChar = 6 } // Retrieve 5 bits every iteration from data, convert them to characters, and save them to chars // &quot;abc&quot; encodedBytes as [00000] [000,01] [00010] [0, corresponding to three bytes, which are 0, 68, 0 // Take the highest digit first, then the lower, in order // here access data[0] before entering the loop, so we had to deal with empty data in Decode method // totChars * bitsPerChar &lt;= totBits &lt; (totChars + 1) * bitsPerChar stripLastChar := (data[0] &amp; 0x80) &gt;&gt; 7 totBits := len(data)*8 - 1 - int(stripLastChar)*bitsPerChar totChars := totBits / bitsPerChar chars := make([]byte, totChars) bitPos, bitCount := 6, 1 // first highest bit indicates whether strip last char for i := 0; i &lt; totChars; i++ { var val byte = 0 for i := 0; i &lt; bitsPerChar; i++ { if data[bitCount/8]&amp;(1&lt;&lt;bitPos) &gt; 0 { val |= 1 &lt;&lt; (bitsPerChar - i - 1) } bitPos = (bitPos - 1 + 8) % 8 bitCount++ } ch, err := d.decodeChar(val, algorithm) if err != nil { return nil, err } chars[i] = ch } return chars, nil }   ","version":null,"tagName":"h2"},{"title":"Select Best Encoding‚Äã","type":1,"pageTitle":"Meta String: A 37.5% space efficient string encoding than UTF-8 in Fury serialization","url":"/zh-CN/blog/fury_meta_string_37_5_percent_space_efficient_encoding_than_utf8#select-best-encoding","content":" For most lowercase characters, meta string will use 5 bits to encode every char. For string containing uppercase chars, meta string will try to convert the string into a lower case representation by inserting some markers, and compare used bytes with 6 bits encoding, then select the encoding which has smaller encoded size.  Here is the common encoding selection strategy:  Encoding Flag\tPattern\tEncoding AlgorithmLOWER_SPECIAL\tevery char is in a-z._|\tLOWER_SPECIAL FIRST_TO_LOWER_SPECIAL\tevery char is in a-z._ except first char is upper case\treplace first upper case char to lower case, then use LOWER_SPECIAL ALL_TO_LOWER_SPECIAL\tevery char is in a-zA-Z._\treplace every upper case char by | + lower case, then use LOWER_SPECIAL, use this encoding if it's smaller than Encoding LOWER_UPPER_DIGIT_SPECIAL LOWER_UPPER_DIGIT_SPECIAL\tevery char is in a-zA-Z._\tuse LOWER_UPPER_DIGIT_SPECIAL encoding if it's smaller than Encoding FIRST_TO_LOWER_SPECIAL UTF8\tany utf-8 char\tuse UTF-8 encoding Compression\tany utf-8 char\tlossless compression  For package name, module name or namespace, LOWER_SPECIAL will be used mostly. ALL_TO_LOWER_SPECIAL can be used too, since it can represent the same chars as LOWER_SPECIAL without using more bits, but also support string with uppercase chars.  For className, FIRST_TO_LOWER_SPECIAL will be used mostly. If there are multiple uppercase chars, then ALL_TO_LOWER_SPECIAL will be used instead. If a string contains digits, then LOWER_UPPER_DIGIT_SPECIAL will be used.  Finally, utf8 will be the fallback encoding if the string contains some chars which is not in range a-z0-9A-Z.  ","version":null,"tagName":"h2"},{"title":"Encoding Flags and Data jointly‚Äã","type":1,"pageTitle":"Meta String: A 37.5% space efficient string encoding than UTF-8 in Fury serialization","url":"/zh-CN/blog/fury_meta_string_37_5_percent_space_efficient_encoding_than_utf8#encoding-flags-and-data-jointly","content":" Depending on the case, one can choose encoding flags + data jointly, using 3 bits of first byte for flags and other bytes for data. This can be useful since there are some holes remaining in last byte, adding flags in data doesn't always increase serialized bytes size.Or one can use a header to encode such flags with other meta such as encoded size, this is what Fury does in https://github.com/apache/fury/pull/1556  ","version":null,"tagName":"h2"},{"title":"Benchmark‚Äã","type":1,"pageTitle":"Meta String: A 37.5% space efficient string encoding than UTF-8 in Fury serialization","url":"/zh-CN/blog/fury_meta_string_37_5_percent_space_efficient_encoding_than_utf8#benchmark","content":" utf8 encoding uses 30 bytes for string org.apache.fury.benchmark.data, fury meta string uses only 19 bytes. utf8 encoding uses 12 bytes for string MediaContent, but fury meta string uses only 9 bytes.  // utf8 use 30 bytes, we use only 19 bytes assertEquals(encoder.encode(&quot;org.apache.fury.benchmark.data&quot;).getBytes().length, 19); // utf8 uses 12 bytes, we use only 9 bytes. assertEquals(encoder.encode(&quot;MediaContent&quot;).getBytes().length, 9);  ","version":null,"tagName":"h2"},{"title":"Á§æÂå∫","type":0,"sectionRef":"#","url":"/zh-CN/docs/0.10/community/","content":"","keywords":"","version":"0.10"},{"title":"ÈÇÆ‰ª∂ÂàóË°®‚Äã","type":1,"pageTitle":"Á§æÂå∫","url":"/zh-CN/docs/0.10/community/#ÈÇÆ‰ª∂ÂàóË°®","content":" ÈÇÆ‰ª∂ÂàóË°®\tÊèèËø∞\tËÆ¢ÈòÖ\tÂèñÊ∂àËÆ¢ÈòÖ\tÂèëÈÄÅÈÇÆ‰ª∂\tÊ¥ªÂä®dev@fury.apache.org\tÂºÄÂèëÁõ∏ÂÖ≥ËÆ®ËÆ∫\tËÆ¢ÈòÖ\tÂèñÊ∂àËÆ¢ÈòÖ\tÂèëÈÄÅÈÇÆ‰ª∂\tÈÇÆ‰ª∂ÂàóË°®Ê¥ªÂä® commits@fury.apache.org\t‰ªìÂ∫ìÁöÑÊâÄÊúâ commits\tËÆ¢ÈòÖ\tÂèñÊ∂àËÆ¢ÈòÖ\tÂè™ËØªÁöÑÈÇÆ‰ª∂ÂàóË°®\tÈÇÆ‰ª∂ÂàóË°®Ê¥ªÂä®  Âú®Â∞ùËØïÂèëÈÄÅÈÇÆ‰ª∂‰πãÂâçÔºåËØ∑Á°Æ‰øùËÆ¢ÈòÖ‰∏äËø∞ÁöÑÈÇÆ‰ª∂ÂàóË°®„ÄÇ  Â¶ÇÊûúÊÇ®Ê≤°ÊúâËÆ¢ÈòÖÈÇÆ‰ª∂ÂàóË°®ÔºåÊÇ®ÁöÑÈÇÆ‰ª∂Â∞ÜË¢´ÊãíÁªùÊàñ‰∏ç‰ºöÊî∂Âà∞ÂõûÂ§ç„ÄÇ  ","version":"0.10","tagName":"h2"},{"title":"Â¶Ç‰ΩïËÆ¢ÈòÖÈÇÆ‰ª∂ÂàóË°®‚Äã","type":1,"pageTitle":"Á§æÂå∫","url":"/zh-CN/docs/0.10/community/#Â¶Ç‰ΩïËÆ¢ÈòÖÈÇÆ‰ª∂ÂàóË°®","content":" Ë¶ÅÂèëÈÄÅÈÇÆ‰ª∂Ëá≥ÈÇÆ‰ª∂ÂàóË°®ÔºåËØ∑ÂÖàÈÄöËøá‰ª•‰∏ãÊñπÂºèËÆ¢ÈòÖÔºö  ÂèëÈÄÅÁîµÂ≠êÈÇÆ‰ª∂Ëá≥ listname-subscribe@fury.apache.orgÔºåÂπ∂Áõ∏Â∫îÊõøÊç¢ listnameÔºõÂõûÂ§çÊÇ®Â∞ÜÊî∂Âà∞ÁöÑÁ°ÆËÆ§ÁîµÂ≠êÈÇÆ‰ª∂Ôºå‰øùÊåÅÈÇÆ‰ª∂‰∏ªÈ¢òË°åÂÆåÊï¥ÔºõÁÑ∂ÂêéÊÇ®Â∞ÜÊî∂Âà∞‰∏ÄÂ∞ÅÊ¨¢ËøéÁöÑÁîµÂ≠êÈÇÆ‰ª∂ÔºåËÆ¢ÈòÖÊàêÂäü„ÄÇ  Âú®ËÆ®ËÆ∫ÁîµÂ≠êÈÇÆ‰ª∂‰∏≠ÁöÑ‰ª£Á†ÅÁâáÊÆµÊó∂ÔºåËØ∑Á°Æ‰øùÔºö  ÊÇ®‰∏çË¶ÅÈìæÊé•Âà∞Â§ñÈÉ®ÊúçÂä°‰∏≠ÁöÑÊñá‰ª∂ÔºåÂõ†‰∏∫Ê≠§Á±ªÊñá‰ª∂ÂèØËÉΩ‰ºöÊõ¥Êîπ„ÄÅË¢´Âà†Èô§ÊàñÈìæÊé•ÂèØËÉΩ‰ºö‰∏≠Êñ≠Ôºå‰ªéËÄå‰ΩøÂ≠òÊ°£ÁöÑÁîµÂ≠êÈÇÆ‰ª∂Á∫øÁ®ãÂèòÂæóÊó†Áî®ÔºõÊÇ®Á≤òË¥¥ÊñáÊú¨ËÄå‰∏çÊòØÊñáÊú¨Â±èÂπïÊà™ÂõæÔºõÁ≤òË¥¥‰ª£Á†ÅÊó∂‰øùÊåÅÊ†ºÂºèÔºå‰ª•‰øùÊåÅ‰ª£Á†ÅÂèØËØªÔºõÊúâË∂≥Â§üÁöÑÂØºÂÖ•ËØ≠Âè•‰ª•ÈÅøÂÖç‰∫ßÁîü‰ª£Á†ÅÊ≠ß‰πâ„ÄÇ  ","version":"0.10","tagName":"h3"},{"title":"Slack‚Äã","type":1,"pageTitle":"Á§æÂå∫","url":"/zh-CN/docs/0.10/community/#slack","content":" ÊÇ®ÂèØ‰ª•Âä†ÂÖ•Slack ‰∏äÁöÑ Apache Fury‚Ñ¢ Á§æÂå∫„ÄÇ  ËøôÈáåÊúâ‰∏Ä‰∫õÁ§æÂå∫ËßÑÂàôÔºö  ‰øùÊåÅÂ∞äÈáçÂíåÂèãÂñÑÔºõÊâÄÊúâÈáçË¶ÅÁöÑÂÜ≥ÂÆöÂíåÁªìËÆ∫ÈÉΩÂøÖÈ°ªÂèçÊò†Âà∞ÈÇÆ‰ª∂ÂàóË°®‰∏≠„ÄÇ ‚ÄúÂ¶ÇÊûúËøôÊ≤°ÊúâÂú®ÈÇÆ‰ª∂ÂàóË°®‰∏≠ÊúâÁõ∏ÂÖ≥ÁöÑËÆ®ËÆ∫ËÆ∞ÂΩïÔºåÂàô‰ª£Ë°®ÂÆÉ‰∏çÁîüÊïà‚Äù ÔºõThe Apache WayÔºõ‰ΩøÁî® Slack Á∫øÁ®ãÊù•Èò≤Ê≠¢Âπ∂Ë°åÂØπËØùÊ∑πÊ≤°ÂΩìÂâçÁöÑÂØπËØùÈ¢ëÈÅìÔºõËØ∑‰∏çË¶ÅÁõ¥Êé•ÂêëÈÇÆ‰ª∂ÂàóË°®ÂèëÈÄÅ Bug fix„ÄÅIssue ÂàÜÈÖçÂíå Code Review Ê∂àÊÅØ„ÄÇËøô‰∫õÂÜÖÂÆπÂ∫îËØ•Ë¢´Á§æÂå∫Ë¥°ÁåÆËÄÖËá™ÊÑøÂ§ÑÁêÜÂπ∂ÂàÜÈÖç„ÄÇ  ","version":"0.10","tagName":"h2"},{"title":"Issue Ë∑üË∏™‚Äã","type":1,"pageTitle":"Á§æÂå∫","url":"/zh-CN/docs/0.10/community/#issue-Ë∑üË∏™","content":" Êàë‰ª¨‰ΩøÁî® GitHub Issues Êù•Ë∑üË∏™ÊâÄÊúâ IssuesÔºö  ‰ª£Á†ÅÁõ∏ÂÖ≥ÈóÆÈ¢òÔºöhttps://github.com/apache/fury/issuesÁΩëÁ´ôÁõ∏ÂÖ≥ÈóÆÈ¢òÔºöhttps://github.com/apache/fury-site/issues  ÊÇ®ÈúÄË¶ÅÊúâ‰∏Ä‰∏™ GitHub Â∏êÊà∑ ÊâçËÉΩÂàõÂª∫ÈóÆÈ¢ò„ÄÇ Â¶ÇÊûúÊÇ®Ê≤°Êúâ GitHub Â∏êÊà∑ÔºåÊÇ®ÂèØ‰ª•ÂèëÈÄÅÁîµÂ≠êÈÇÆ‰ª∂Ëá≥ dev@fury.apache.org„ÄÇ  ","version":"0.10","tagName":"h2"},{"title":"Êä•Âëä Bug‚Äã","type":1,"pageTitle":"Á§æÂå∫","url":"/zh-CN/docs/0.10/community/#Êä•Âëä-bug","content":" ÊÇ®Âú®Êä•Âëä Bug ‰πãÂâçÔºåÂ∫îËØ•Ôºö  È™åËØÅËØ• Bug Á°ÆÂÆûÂ≠òÂú®ÔºõÊêúÁ¥¢ Issue List ‰ª•Á°Æ‰øù‰∏çÂ≠òÂú®Áõ∏ÂÖ≥ Bug„ÄÇÂú® Issue List ‰∏≠ÂàõÂª∫ bug Êä•Âëä„ÄÇÂ¶ÇÊûúÂèØËÉΩÁöÑËØùÔºåÊ∑±ÂÖ•Á†îÁ©∂ Apache Fury ÁöÑÊ∫ê‰ª£Á†ÅÔºåÂπ∂ÈíàÂØπÊÇ®Êä•ÂëäÁöÑ Bug Êèê‰∫§Ë°•‰∏ÅÔºåËøôÊúâÂä©‰∫éÂø´ÈÄü‰øÆÂ§ç Bug„ÄÇ  ","version":"0.10","tagName":"h3"},{"title":"Êä•ÂëäÂÆâÂÖ®ÊºèÊ¥û‚Äã","type":1,"pageTitle":"Á§æÂå∫","url":"/zh-CN/docs/0.10/community/#Êä•ÂëäÂÆâÂÖ®ÊºèÊ¥û","content":" Apache Fury ÊòØ Apache ËΩØ‰ª∂Âü∫Èáë‰ºö ÁöÑ‰∏Ä‰∏™È°πÁõÆÔºåÈÅµÂæ™ ASF ÊºèÊ¥ûÂ§ÑÁêÜÊµÅÁ®ã„ÄÇ  Ë¶ÅÊä•ÂëäÊÇ®ÂèëÁé∞ÁöÑÊñ∞ÁöÑÂÆâÂÖ®ÊºèÊ¥ûÔºåËØ∑ÈÅµÂæ™ ASF ÊºèÊ¥ûÊä•ÂëäÊµÅÁ®ãÔºåËØ•ÊµÅÁ®ãËß£Èáä‰∫ÜÂ¶Ç‰ΩïÁßÅ‰∏ãÂêëÁ§æÂå∫Áª¥Êä§ËÄÖÂèëÈÄÅËØ¶ÁªÜÁöÑÊºèÊ¥û‰ø°ÊÅØ„ÄÇ  ","version":"0.10","tagName":"h3"},{"title":"New Feature‚Äã","type":1,"pageTitle":"Á§æÂå∫","url":"/zh-CN/docs/0.10/community/#new-feature","content":" Ê¨¢ËøéÊÇ®Â¢ûÂº∫ÂäüËÉΩÊàñÊñ∞ÂäüËÉΩÂª∫ËÆÆ„ÄÇÊèêÊ°àË∂äÂÖ∑‰Ωì„ÄÅË∂äÂêàÁêÜÔºåÊÇ®Âú® Fury Á§æÂå∫ÁöÑÂΩ±ÂìçÂäõÂ∞±Ë∂äÂ§ß„ÄÇÂÆÉÊúâÂèØËÉΩÂú®‰πãÂêéÁâàÊú¨ÂèëÂ∏É„ÄÇ  ","version":"0.10","tagName":"h3"},{"title":"È°πÁõÆÊ∫ê‰ª£Á†Å‚Äã","type":1,"pageTitle":"Á§æÂå∫","url":"/zh-CN/docs/0.10/community/#È°πÁõÆÊ∫ê‰ª£Á†Å","content":" Fury Core Â≠òÂÇ®Â∫ìÔºöhttps://github.com/apache/furyFury ÁΩëÁ´ôÂ≠òÂÇ®Â∫ìÔºöhttps://github.com/apache/fury-site ","version":"0.10","tagName":"h3"},{"title":"Â¶Ç‰ΩïÂä†ÂÖ• Fury Á§æÂå∫","type":0,"sectionRef":"#","url":"/zh-CN/docs/0.10/community/how_to_join_community","content":"","keywords":"","version":"0.10"},{"title":"Fury Ë¥°ÁåÆÊåáÂçó‚Äã","type":1,"pageTitle":"Â¶Ç‰ΩïÂä†ÂÖ• Fury Á§æÂå∫","url":"/zh-CN/docs/0.10/community/how_to_join_community#fury-Ë¥°ÁåÆÊåáÂçó","content":" Fury Âõ¢ÈòüÈÄöÂ∏∏Âú® github ‰∏äËøõË°åÂºÄÂèëÂíå issue Áª¥Êä§ÔºåËØ∑ÊâìÂºÄ¬†Github ÁΩëÁ´ôÔºåÁÇπÂáªÂè≥‰∏äËßí¬†Sign up¬†ÊåâÈíÆÔºåÊ≥®ÂÜå‰∏Ä‰∏™Ëá™Â∑±ÁöÑË¥¶Âè∑ÔºåÂºÄÂêØ‰Ω†ÂºÄÊ∫ê‰πãÊóÖÁöÑÁ¨¨‰∏ÄÊ≠•„ÄÇ  Âú®¬†Fury‰ªìÂ∫ì‰∏≠ÔºåÊàë‰ª¨Êúâ‰∏Ä‰ªΩÈù¢ÂêëÊâÄÊúâÂºÄÊ∫êË¥°ÁåÆËÄÖÁöÑÊåáÂçóÔºå‰ªãÁªç‰∫ÜÊúâÂÖ≥ÁâàÊú¨ÁÆ°ÁêÜ„ÄÅÂàÜÊîØÁÆ°ÁêÜÁ≠âÂÜÖÂÆπÔºåËØ∑Ëä±Âá†ÂàÜÈíüÊó∂Èó¥ÈòÖËØª‰∫ÜËß£‰∏Ä‰∏ã„ÄÇ  ","version":"0.10","tagName":"h2"},{"title":"‰Ω†ÁöÑÁ¨¨‰∏Ä‰∏™ Pull Request‚Äã","type":1,"pageTitle":"Â¶Ç‰ΩïÂä†ÂÖ• Fury Á§æÂå∫","url":"/zh-CN/docs/0.10/community/how_to_join_community#‰Ω†ÁöÑÁ¨¨‰∏Ä‰∏™-pull-request","content":" ","version":"0.10","tagName":"h2"},{"title":"Step0ÔºöÂÆâË£Ö Git‚Äã","type":1,"pageTitle":"Â¶Ç‰ΩïÂä†ÂÖ• Fury Á§æÂå∫","url":"/zh-CN/docs/0.10/community/how_to_join_community#step0ÂÆâË£Ö-git","content":" Git ÊòØ‰∏ÄÁßçÁâàÊú¨ÊéßÂà∂Á≥ªÁªüÔºåÁî®‰∫éË∑üË∏™ÂíåÁÆ°ÁêÜËΩØ‰ª∂ÂºÄÂèëÈ°πÁõÆ‰∏≠ÁöÑ‰ª£Á†ÅÂèòÊõ¥„ÄÇÂÆÉÂ∏ÆÂä©ÂºÄÂèëËÄÖËÆ∞ÂΩïÂíåÁÆ°ÁêÜ‰ª£Á†ÅÁöÑÂéÜÂè≤ËÆ∞ÂΩïÔºåÊñπ‰æøÂõ¢ÈòüÂçè‰Ωú„ÄÅ‰ª£Á†ÅÁâàÊú¨ÊéßÂà∂„ÄÅÂêàÂπ∂‰ª£Á†ÅÁ≠âÊìç‰Ωú„ÄÇÈÄöËøá GitÔºåÊÇ®ÂèØ‰ª•ËøΩË∏™ÊØè‰∏™Êñá‰ª∂ÁöÑÊØè‰∏™ÁâàÊú¨ÔºåÂπ∂ËΩªÊùæÂú∞Âú®‰∏çÂêåÁâàÊú¨‰πãÈó¥ËøõË°åÂàáÊç¢ÂíåÊØîËæÉ„ÄÇGit ËøòÊèê‰æõ‰∫ÜÂàÜÊîØÁÆ°ÁêÜÂäüËÉΩÔºå‰ΩøÂæóÂèØ‰ª•ÂêåÊó∂ËøõË°åÂ§ö‰∏™Âπ∂Ë°åÂºÄÂèë‰ªªÂä°„ÄÇ  ËÆøÈóÆ Git ÂÆòÊñπÁΩëÁ´ôÔºöhttps://git-scm.com‰∏ãËΩΩÊúÄÊñ∞ÁâàÊú¨ÁöÑ Git ÂÆâË£ÖÁ®ãÂ∫è„ÄÇËøêË°å‰∏ãËΩΩÁöÑÂÆâË£ÖÁ®ãÂ∫èÔºåÊåâÁÖßÂÆâË£ÖÂêëÂØºÁöÑÊèêÁ§∫ËøõË°åÂÆâË£Ö„ÄÇÂÆâË£ÖÂÆåÊàêÂêéÔºå‰Ω†ÂèØ‰ª•ÈÄöËøáÂëΩ‰ª§Ë°å‰ΩøÁî®¬†git version¬†ÂëΩ‰ª§Á°ÆËÆ§ÂÆâË£ÖÊàêÂäü„ÄÇ  ","version":"0.10","tagName":"h3"},{"title":"Step1ÔºöFork È°πÁõÆ‚Äã","type":1,"pageTitle":"Â¶Ç‰ΩïÂä†ÂÖ• Fury Á§æÂå∫","url":"/zh-CN/docs/0.10/community/how_to_join_community#step1fork-È°πÁõÆ","content":" È¶ñÂÖàÈúÄË¶Å fork Ëøô‰∏™È°πÁõÆÔºåËøõÂÖ•FuryÈ°πÁõÆÈ°µÈù¢ÔºåÁÇπÂáªÂè≥‰∏äËßíÁöÑ Fork ÊåâÈíÆ‰Ω†ÁöÑ github Â∏êÂè∑‰∏≠‰ºöÂá∫Áé∞ xxxx(‰Ω†ÁöÑ github Áî®Êà∑Âêç)/fury Ëøô‰∏™È°πÁõÆÂú®Êú¨Âú∞ÁîµËÑë‰∏ä‰ΩøÁî®‰ª•‰∏ãÂëΩ‰ª§: ÂæóÂà∞‰∏Ä‰∏™ fury Êñá‰ª∂Â§π  // ssh git clone git@github.com:xxxx(‰Ω†ÁöÑgithubÁî®Êà∑Âêç)/fury.git // https git clone https://github.com/xxxx(‰Ω†ÁöÑgithubÁî®Êà∑Âêç)/fury.git   ","version":"0.10","tagName":"h3"},{"title":"Step2ÔºöËé∑ÂèñÈ°πÁõÆ‰ª£Á†Å‚Äã","type":1,"pageTitle":"Â¶Ç‰ΩïÂä†ÂÖ• Fury Á§æÂå∫","url":"/zh-CN/docs/0.10/community/how_to_join_community#step2Ëé∑ÂèñÈ°πÁõÆ‰ª£Á†Å","content":" ËøõÂÖ• fury Êñá‰ª∂Â§πÔºåÊ∑ªÂä† fury ÁöÑËøúÁ®ãÂú∞ÂùÄ  git remote add upstream https://github.com/apache/fury.git   ","version":"0.10","tagName":"h3"},{"title":"Step3ÔºöÂàõÂª∫ÂàÜÊîØ‚Äã","type":1,"pageTitle":"Â¶Ç‰ΩïÂä†ÂÖ• Fury Á§æÂå∫","url":"/zh-CN/docs/0.10/community/how_to_join_community#step3ÂàõÂª∫ÂàÜÊîØ","content":" Â•Ω‰∫ÜÔºåÁé∞Âú®ÂèØ‰ª•ÂºÄÂßãË¥°ÁåÆÊàë‰ª¨ÁöÑ‰ª£Á†Å‰∫Ü„ÄÇfury ÈªòËÆ§ÂàÜÊîØ‰∏∫ main ÂàÜÊîØ„ÄÇÊó†ËÆ∫ÊòØÂäüËÉΩÂºÄÂèë„ÄÅbug ‰øÆÂ§ç„ÄÅÊñáÊ°£ÁºñÂÜôÔºåÈÉΩËØ∑Êñ∞Âª∫Á´ã‰∏Ä‰∏™ÂàÜÊîØÔºåÂÜçÂêàÂπ∂Âà∞ main ÂàÜÊîØ‰∏ä„ÄÇ‰ΩøÁî®‰ª•‰∏ã‰ª£Á†ÅÂàõÂª∫ÂàÜÊîØÔºö  // ÂàõÂª∫ÂäüËÉΩÂºÄÂèëÂàÜÊîØ git checkout -b feat/xxxx // ÂàõÂª∫ÈóÆÈ¢ò‰øÆÂ§çÂºÄÂèëÂàÜÊîØ git checkout -b fix/xxxx // ÂàõÂª∫ÊñáÊ°£„ÄÅdemoÂàÜÊîØ git checkout -b docs/add-java-demo   ÂÅáËÆæÊàë‰ª¨ÂàõÂª∫‰∫ÜÊñáÊ°£‰øÆÊîπÂàÜÊîØ¬†docs/add-java-demo  ÂÅáËÆæÊàë‰ª¨Â∑≤ÁªèÊ∑ªÂä†‰∫Ü‰∏Ä‰∫õ‰ª£Á†ÅÔºåÊèê‰∫§Âà∞‰ª£Á†ÅÂ∫ì git add . git commit -a -m &quot;docs: add java demo and related docs&quot; „ÄÇ  ","version":"0.10","tagName":"h3"},{"title":"Step4ÔºöÂêàÂπ∂‰øÆÊîπ‚Äã","type":1,"pageTitle":"Â¶Ç‰ΩïÂä†ÂÖ• Fury Á§æÂå∫","url":"/zh-CN/docs/0.10/community/how_to_join_community#step4ÂêàÂπ∂‰øÆÊîπ","content":" ÂàáÊç¢ÂõûËá™Â∑±ÁöÑÂºÄÂèëÂàÜÊîØ:  git checkout docs/add-java-demo   ÊääÊõ¥Êñ∞‰ª£Á†ÅÊèê‰∫§Âà∞Ëá™Â∑±ÁöÑÂàÜÊîØ‰∏≠:  git push origin docs/add-java-demo   ","version":"0.10","tagName":"h3"},{"title":"Step5ÔºöÊèê‰∫§ Pull Request‚Äã","type":1,"pageTitle":"Â¶Ç‰ΩïÂä†ÂÖ• Fury Á§æÂå∫","url":"/zh-CN/docs/0.10/community/how_to_join_community#step5Êèê‰∫§-pull-request","content":" ‰Ω†ÂèØ‰ª•Âú®‰Ω†ÁöÑ github ‰ª£Á†Å‰ªìÂ∫ìÈ°µÈù¢ÁÇπÂáª¬†Compare &amp; pull request¬†ÊåâÈíÆ„ÄÇÊàñÈÄöËøá¬†contribute¬†ÊåâÈíÆÂàõÂª∫„ÄÇ  Â°´ÂÜôËøôÊòØ‰ªÄ‰πàÁ±ªÂûãÁöÑ‰øÆÊîπÂ°´ÂÜôÂÖ≥ËÅîÁöÑ issueËã•ÊúâÂ§çÊùÇÂèòÊõ¥ÔºåËØ∑ËØ¥ÊòéËÉåÊôØÂíåËß£ÂÜ≥ÊñπÊ°à  Áõ∏ÂÖ≥‰ø°ÊÅØÂ°´ÂÜôÂÆåÊàêÂêéÔºåÁÇπÂáª Create pull request Êèê‰∫§„ÄÇ  ","version":"0.10","tagName":"h3"},{"title":"ËΩªÊùæÊ≠•ÂÖ• Fury ÂºÄÊ∫êË¥°ÁåÆ‰πãÊóÖ‚Äã","type":1,"pageTitle":"Â¶Ç‰ΩïÂä†ÂÖ• Fury Á§æÂå∫","url":"/zh-CN/docs/0.10/community/how_to_join_community#ËΩªÊùæÊ≠•ÂÖ•-fury-ÂºÄÊ∫êË¥°ÁåÆ‰πãÊóÖ","content":" &quot;good first issue&quot; ÊòØ‰∏Ä‰∏™Âú®ÂºÄÊ∫êÁ§æÂå∫Â∏∏ËßÅÁöÑÊ†áÁ≠æÔºåËøô‰∏™Ê†áÁ≠æÁöÑÁõÆÁöÑÊòØÂ∏ÆÂä©Êñ∞Ë¥°ÁåÆËÄÖÊâæÂà∞ÈÄÇÂêàÂÖ•Èó®ÁöÑÈóÆÈ¢ò„ÄÇ  Fury ÁöÑÂÖ•Èó®ÈóÆÈ¢òÔºå‰Ω†ÂèØ‰ª•ÈÄöËøá¬†issue ÂàóË°®Êü•Áúã„ÄÇ  Â¶ÇÊûú‰Ω†ÂΩìÂâçÊúâÊó∂Èó¥ÂíåÊÑèÊÑøÂèÇ‰∏éÂà∞Á§æÂå∫Ë¥°ÁåÆÔºåÂèØ‰ª•Âú® issue ÈáåÁúã‰∏ÄÁúã¬†good first issueÔºåÈÄâÊã©‰∏Ä‰∏™ÊÑüÂÖ¥Ë∂£„ÄÅÈÄÇÂêàËá™Â∑±ÁöÑËÆ§È¢Ü„ÄÇ  ","version":"0.10","tagName":"h2"},{"title":"Êã•Êä± Apache Fury Á§æÂå∫‚Äã","type":1,"pageTitle":"Â¶Ç‰ΩïÂä†ÂÖ• Fury Á§æÂå∫","url":"/zh-CN/docs/0.10/community/how_to_join_community#Êã•Êä±-apache-fury-Á§æÂå∫","content":" Âú®‰Ω†‰∏∫ Fury Ë¥°ÁåÆ‰ª£Á†Å‰πã‰ΩôÔºåÊàë‰ª¨ÈºìÂä±‰Ω†ÂèÇ‰∏éÂÖ∂‰ªñËÆ©Á§æÂå∫Êõ¥Âä†ÁπÅËç£ÁöÑ‰∫ãÊÉÖÔºåÊØîÂ¶ÇÔºö  ‰∏∫È°πÁõÆÁöÑÂèëÂ±ï„ÄÅÂäüËÉΩËßÑÂàí Á≠âÊèêÂª∫ËÆÆ„ÄÇÂàõ‰ΩúÊñáÁ´†„ÄÅËßÜÈ¢ëÔºåÂºÄÂäûËÆ≤Â∫ßÊù•ÂÆ£‰º† Fury„ÄÇÊí∞ÂÜôÊé®ÂπøËÆ°ÂàíÔºåÂêåÂõ¢Èòü‰∏ÄÂêåÊâßË°å„ÄÇ ","version":"0.10","tagName":"h2"},{"title":"ÂºÄÂèëÊåáÂçó","type":0,"sectionRef":"#","url":"/zh-CN/docs/0.10/guide/development","content":"","keywords":"","version":"0.10"},{"title":"Êú¨Âú∞ÊûÑÂª∫ Apache Fury‚Äã","type":1,"pageTitle":"ÂºÄÂèëÊåáÂçó","url":"/zh-CN/docs/0.10/guide/development#Êú¨Âú∞ÊûÑÂª∫-apache-fury","content":" ‰ªé Github ‰ª£Á†ÅÂ∫ì ÊãâÂèñÊúÄÊñ∞‰ª£Á†Å„ÄÇ  ","version":"0.10","tagName":"h2"},{"title":"ÊûÑÂª∫ Apache Fury Java‚Äã","type":1,"pageTitle":"ÂºÄÂèëÊåáÂçó","url":"/zh-CN/docs/0.10/guide/development#ÊûÑÂª∫-apache-fury-java","content":" cd java mvn clean compile -DskipTests   Êú¨Âú∞ÁéØÂ¢ÉË¶ÅÊ±Ç‚Äã  java 1.8+maven 3.6.3+  ","version":"0.10","tagName":"h3"},{"title":"ÊûÑÂª∫ Apache Fury Python‚Äã","type":1,"pageTitle":"ÂºÄÂèëÊåáÂçó","url":"/zh-CN/docs/0.10/guide/development#ÊûÑÂª∫-apache-fury-python","content":" cd python pip install pyarrow==14.0.0 Cython wheel numpy pytest pip install -v -e .   Êú¨Âú∞ÁéØÂ¢ÉË¶ÅÊ±Ç‚Äã  python 3.6+  ","version":"0.10","tagName":"h3"},{"title":"ÊûÑÂª∫ Apache Fury C++‚Äã","type":1,"pageTitle":"ÂºÄÂèëÊåáÂçó","url":"/zh-CN/docs/0.10/guide/development#ÊûÑÂª∫-apache-fury-c","content":" Build fury row formatÔºö  pip install pyarrow==14.0.0 bazel build //cpp/fury/row:fury_row_format   Build fury row format encoder:  pip install pyarrow==14.0.0 bazel build //cpp/fury/encoder:fury_encoder   Êú¨Âú∞ÁéØÂ¢ÉË¶ÅÊ±Ç‚Äã  compilers with C++17 supportbazel 6.3.2  ","version":"0.10","tagName":"h3"},{"title":"ÊûÑÂª∫ Apache Fury GoLang‚Äã","type":1,"pageTitle":"ÂºÄÂèëÊåáÂçó","url":"/zh-CN/docs/0.10/guide/development#ÊûÑÂª∫-apache-fury-golang","content":" cd go/fury # run test go test -v # run xlang test go test -v fury_xlang_test.go   Êú¨Âú∞ÁéØÂ¢ÉË¶ÅÊ±Ç‚Äã  go 1.13+  ","version":"0.10","tagName":"h3"},{"title":"ÊûÑÂª∫ Apache Fury Rust‚Äã","type":1,"pageTitle":"ÂºÄÂèëÊåáÂçó","url":"/zh-CN/docs/0.10/guide/development#ÊûÑÂª∫-apache-fury-rust","content":" cd rust # build cargo build # run test cargo test   Êú¨Âú∞ÁéØÂ¢ÉË¶ÅÊ±Ç‚Äã  curl --proto '=https' --tlsv1.2 -sSf https://sh.rustup.rs | sh   ","version":"0.10","tagName":"h3"},{"title":"ÊûÑÂª∫ Apache Fury JavaScript‚Äã","type":1,"pageTitle":"ÂºÄÂèëÊåáÂçó","url":"/zh-CN/docs/0.10/guide/development#ÊûÑÂª∫-apache-fury-javascript","content":" cd javascript npm install # run build npm run build # run test npm run test   Êú¨Âú∞ÁéØÂ¢ÉË¶ÅÊ±Ç‚Äã  node 14+npm 8+ ","version":"0.10","tagName":"h3"},{"title":"Â¶Ç‰ΩïÈ™åËØÅ Apache Fury","type":0,"sectionRef":"#","url":"/zh-CN/docs/0.10/community/how_to_verify","content":"","keywords":"","version":"0.10"},{"title":"‰∏ãËΩΩ Apache Fury‚Äã","type":1,"pageTitle":"Â¶Ç‰ΩïÈ™åËØÅ Apache Fury","url":"/zh-CN/docs/0.10/community/how_to_verify#‰∏ãËΩΩ-apache-fury","content":" # If there is svn locally, you can clone to the local svn co https://dist.apache.org/repos/dist/dev/incubator/fury/${release_version}-${rc_version}/ # You can download the material file directly wget https://dist.apache.org/repos/dist/dev/incubator/fury/${release_version}-${rc_version}/xxx.xxx   ","version":"0.10","tagName":"h2"},{"title":"È™åËØÅ checksums Âíå signatures‚Äã","type":1,"pageTitle":"Â¶Ç‰ΩïÈ™åËØÅ Apache Fury","url":"/zh-CN/docs/0.10/community/how_to_verify#È™åËØÅ-checksums-Âíå-signatures","content":" È¶ñÂÖàÔºåÊÇ®ÈúÄË¶ÅÂÆâË£Ö gpgÔºö  apt-get install gnupg # or yum install gnupg # or brew install gnupg   ‰πãÂêéÔºåÂØºÂÖ• Apache Fury release manager ÁöÑÂÖ¨Èí•Ôºö  curl https://downloads.apache.org/incubator/fury/KEYS &gt; KEYS # Download KEYS gpg --import KEYS # Import KEYS to local # Then, trust the public key: gpg --edit-key &lt;KEY-used-in-this-version&gt; # Edit the key(mentioned in vote email) # It will enter the interactive mode, use the following command to trust the key: gpg (GnuPG) 2.0.22; Copyright (C) 2013 Free Software Foundation, Inc. This is free software: you are free to change and redistribute it. There is NO WARRANTY, to the extent permitted by law. pub 4096R/5E580BA4 created: 2024-03-27 expires: never usage: SC trust: unknown validity: unknown sub 4096R/A31EF728 created: 2024-03-27 expires: never usage: E [ unknown] (1). chaokunyang (CODE SIGNING KEY) &lt;chaokunyang@apache.org&gt; gpg&gt; trust pub 4096R/5E580BA4 created: 2024-03-27 expires: never usage: SC trust: unknown validity: unknown sub 4096R/A31EF728 created: 2024-03-27 expires: never usage: E [ unknown] (1). chaokunyang (CODE SIGNING KEY) &lt;chaokunyang@apache.org&gt; Please decide how far you trust this user to correctly verify other users' keys (by looking at passports, checking fingerprints from different sources, etc.) 1 = I don't know or won't say 2 = I do NOT trust 3 = I trust marginally 4 = I trust fully 5 = I trust ultimately m = back to the main menu Your decision? 5 Do you really want to set this key to ultimate trust? (y/N) y pub 4096R/5E580BA4 created: 2024-03-27 expires: never usage: SC trust: ultimate validity: unknown sub 4096R/A31EF728 created: 2024-03-27 expires: never usage: E [ unknown] (1). chaokunyang (CODE SIGNING KEY) &lt;chaokunyang@apache.org&gt; Please note that the shown key validity is not necessarily correct unless you restart the program.   Êé•‰∏ãÊù•È™åËØÅÁ≠æÂêçÔºö  for i in *.tar.gz; do echo $i; gpg --verify $i.asc $i; done   Â¶ÇÊûúÂá∫Áé∞Â¶Ç‰∏ãÂÜÖÂÆπÔºåÂàôË°®Á§∫Á≠æÂêçÊ≠£Á°ÆÔºö  apache-fury-incubating-0.5.0-src.tar.gz gpg: Signature made Wed 17 Apr 2024 11:49:45 PM CST using RSA key ID 5E580BA4 gpg: checking the trustdb gpg: 3 marginal(s) needed, 1 complete(s) needed, PGP trust model gpg: depth: 0 valid: 1 signed: 0 trust: 0-, 0q, 0n, 0m, 0f, 1u gpg: Good signature from &quot;chaokunyang (CODE SIGNING KEY) &lt;chaokunyang@apache.org&gt;&quot;   ÁÑ∂ÂêéÈ™åËØÅ checksumÔºö  for i in *.tar.gz; do echo $i; sha512sum --check $i.sha512; done   ÂÆÉÂ∫îËØ•ËæìÂá∫Â¶Ç‰∏ãÂÜÖÂÆπÔºö  apache-fury-incubating-0.5.0-src.tar.gz apache-fury-incubating-0.5.0-src.tar.gz: OK   ","version":"0.10","tagName":"h2"},{"title":"Ê£ÄÊü•Ê∫êÁ†ÅÂåÖ‰∏≠ÁöÑÊñá‰ª∂‚Äã","type":1,"pageTitle":"Â¶Ç‰ΩïÈ™åËØÅ Apache Fury","url":"/zh-CN/docs/0.10/community/how_to_verify#Ê£ÄÊü•Ê∫êÁ†ÅÂåÖ‰∏≠ÁöÑÊñá‰ª∂","content":" Ëß£ÂéãÁº© apache-fury-${release_version}-${rc_version}-src.tar.gz Âπ∂Ê£ÄÊü•‰ª•‰∏ãÂÜÖÂÆπÔºö  Ê≠§Â≠òÂÇ®Â∫ì LICENSE Âíå NOTICE Êñá‰ª∂ÊòØÊ≠£Á°ÆÁöÑÔºõÂ¶ÇÊúâÂøÖË¶ÅÔºåÊâÄÊúâÊñá‰ª∂ÈÉΩÊúâ ASF ËÆ∏ÂèØËØÅÊ†áÂ§¥ÔºõÈ°πÁõÆÊûÑÂª∫ÈÄöËøá„ÄÇ  ","version":"0.10","tagName":"h2"},{"title":"Ê£ÄÊü• fury-java ÁöÑ Maven artifacts‚Äã","type":1,"pageTitle":"Â¶Ç‰ΩïÈ™åËØÅ Apache Fury","url":"/zh-CN/docs/0.10/community/how_to_verify#Ê£ÄÊü•-fury-java-ÁöÑ-maven-artifacts","content":" ‰∏ãËΩΩ Apache FuryÔºöhttps://repository.apache.org/content/repositories/orgapachefury-${maven_artifact_number}/.  ÊÇ®ÂèØ‰ª•Ê£ÄÊü•‰ª•‰∏ãÂÜÖÂÆπÔºö  JAR ÁöÑ Checksum ‰∏éÈ°πÁõÆÁªëÂÆöÁöÑ checksum Êñá‰ª∂‰∏ÄËá¥„ÄÇJAR ÁöÑ signature ‰∏éÈ°πÁõÆÁªëÂÆöÁöÑ signature Êñá‰ª∂‰∏ÄËá¥„ÄÇJAR Âú®Êú¨Âú∞ÊòØÂèØÈáçÂ§çÁöÑ„ÄÇËøôÊÑèÂë≥ÁùÄÊÇ®ÂèØ‰ª•Âú®ËÆ°ÁÆóÊú∫‰∏äÊûÑÂª∫ JARÔºåÂπ∂È™åËØÅ checksum Âíå‰∏éÈ°πÁõÆÁªëÂÆöÁöÑÁõ∏Âêå„ÄÇ ","version":"0.10","tagName":"h2"},{"title":"Row format ÊåáÂçó","type":0,"sectionRef":"#","url":"/zh-CN/docs/0.10/guide/row_format","content":"","keywords":"","version":"0.10"},{"title":"Row format protocol‚Äã","type":1,"pageTitle":"Row format ÊåáÂçó","url":"/zh-CN/docs/0.10/guide/row_format#row-format-protocol","content":" ","version":"0.10","tagName":"h2"},{"title":"Java‚Äã","type":1,"pageTitle":"Row format ÊåáÂçó","url":"/zh-CN/docs/0.10/guide/row_format#java","content":" public class Bar { String f1; List&lt;Long&gt; f2; } public class Foo { int f1; List&lt;Integer&gt; f2; Map&lt;String, Integer&gt; f3; List&lt;Bar&gt; f4; } RowEncoder&lt;Foo&gt; encoder = Encoders.bean(Foo.class); Foo foo = new Foo(); foo.f1 = 10; foo.f2 = IntStream.range(0, 1000000).boxed().collect(Collectors.toList()); foo.f3 = IntStream.range(0, 1000000).boxed().collect(Collectors.toMap(i -&gt; &quot;k&quot;+i, i-&gt;i)); List&lt;Bar&gt; bars = new ArrayList&lt;&gt;(1000000); for (int i = 0; i &lt; 1000000; i++) { Bar bar = new Bar(); bar.f1 = &quot;s&quot;+i; bar.f2 = LongStream.range(0, 10).boxed().collect(Collectors.toList()); bars.add(bar); } foo.f4 = bars; // Can be zero-copy read by python BinaryRow binaryRow = encoder.toRow(foo); // can be data from python Foo newFoo = encoder.fromRow(binaryRow); // zero-copy read List&lt;Integer&gt; f2 BinaryArray binaryArray2 = binaryRow.getArray(1); // zero-copy read List&lt;Bar&gt; f4 BinaryArray binaryArray4 = binaryRow.getArray(3); // zero-copy read 11th element of `readList&lt;Bar&gt; f4` BinaryRow barStruct = binaryArray4.getStruct(10); // zero-copy read 6th of f2 of 11th element of `readList&lt;Bar&gt; f4` barStruct.getArray(1).getInt64(5); RowEncoder&lt;Bar&gt; barEncoder = Encoders.bean(Bar.class); // deserialize part of data. Bar newBar = barEncoder.fromRow(barStruct); Bar newBar2 = barEncoder.fromRow(binaryArray4.getStruct(20));   ","version":"0.10","tagName":"h3"},{"title":"Python‚Äã","type":1,"pageTitle":"Row format ÊåáÂçó","url":"/zh-CN/docs/0.10/guide/row_format#python","content":" @dataclass class Bar: f1: str f2: List[pa.int64] @dataclass class Foo: f1: pa.int32 f2: List[pa.int32] f3: Dict[str, pa.int32] f4: List[Bar] encoder = pyfury.encoder(Foo) foo = Foo(f1=10, f2=list(range(1000_000)), f3={f&quot;k{i}&quot;: i for i in range(1000_000)}, f4=[Bar(f1=f&quot;s{i}&quot;, f2=list(range(10))) for i in range(1000_000)]) binary: bytes = encoder.to_row(foo).to_bytes() print(f&quot;start: {datetime.datetime.now()}&quot;) foo_row = pyfury.RowData(encoder.schema, binary) print(foo_row.f2[100000], foo_row.f4[100000].f1, foo_row.f4[200000].f2[5]) print(f&quot;end: {datetime.datetime.now()}&quot;) binary = pickle.dumps(foo) print(f&quot;pickle start: {datetime.datetime.now()}&quot;) new_foo = pickle.loads(binary) print(new_foo.f2[100000], new_foo.f4[100000].f1, new_foo.f4[200000].f2[5]) print(f&quot;pickle end: {datetime.datetime.now()}&quot;)   ","version":"0.10","tagName":"h3"},{"title":"Apache Arrow ÊîØÊåÅ‚Äã","type":1,"pageTitle":"Row format ÊåáÂçó","url":"/zh-CN/docs/0.10/guide/row_format#apache-arrow-ÊîØÊåÅ","content":" Apache Fury Format ËøòÊîØÊåÅ‰ªé Arrow Table/RecordBatch Ëá™Âä®ËΩ¨Êç¢„ÄÇ  JavaÔºö  Schema schema = TypeInference.inferSchema(BeanA.class); ArrowWriter arrowWriter = ArrowUtils.createArrowWriter(schema); Encoder&lt;BeanA&gt; encoder = Encoders.rowEncoder(BeanA.class); for (int i = 0; i &lt; 10; i++) { BeanA beanA = BeanA.createBeanA(2); arrowWriter.write(encoder.toRow(beanA)); } return arrowWriter.finishAsRecordBatch();   PythonÔºö  import pyfury encoder = pyfury.encoder(Foo) encoder.to_arrow_record_batch([foo] * 10000) encoder.to_arrow_table([foo] * 10000)   C++:  std::shared_ptr&lt;ArrowWriter&gt; arrow_writer; EXPECT_TRUE( ArrowWriter::Make(schema, ::arrow::default_memory_pool(), &amp;arrow_writer) .ok()); for (auto &amp;row : rows) { EXPECT_TRUE(arrow_writer-&gt;Write(row).ok()); } std::shared_ptr&lt;::arrow::RecordBatch&gt; record_batch; EXPECT_TRUE(arrow_writer-&gt;Finish(&amp;record_batch).ok()); EXPECT_TRUE(record_batch-&gt;Validate().ok()); EXPECT_EQ(record_batch-&gt;num_columns(), schema-&gt;num_fields()); EXPECT_EQ(record_batch-&gt;num_rows(), row_nums);   Schema schema = TypeInference.inferSchema(BeanA.class); ArrowWriter arrowWriter = ArrowUtils.createArrowWriter(schema); Encoder&lt;BeanA&gt; encoder = Encoders.rowEncoder(BeanA.class); for (int i = 0; i &lt; 10; i++) { BeanA beanA = BeanA.createBeanA(2); arrowWriter.write(encoder.toRow(beanA)); } return arrowWriter.finishAsRecordBatch();  ","version":"0.10","tagName":"h3"},{"title":"GraalVM ÊåáÂçó","type":0,"sectionRef":"#","url":"/zh-CN/docs/0.10/guide/graalvm_serialization","content":"","keywords":"","version":"0.10"},{"title":"GraalVM Native Image ‰ªãÁªç‚Äã","type":1,"pageTitle":"GraalVM ÊåáÂçó","url":"/zh-CN/docs/0.10/guide/graalvm_serialization#graalvm-native-image-‰ªãÁªç","content":" GraalVM Native Image ËÉΩÂ§üÂ∞Ü Java Â∫îÁî®‰ª£Á†ÅÁºñËØëÊàê‰∏∫ÂéüÁîüÁöÑÊú¨Âú∞Â∫îÁî®Á®ãÂ∫è‰ª£Á†ÅÔºå‰ª•ÊûÑÂª∫Êõ¥Âø´„ÄÅÊõ¥Â∞è„ÄÅÊõ¥Á≤æÁÆÄÁöÑÂ∫îÁî®Á®ãÂ∫è„ÄÇ ÂÖ∂‰∏çËÉΩ‰ΩøÁî® JIT ÁºñËØëÂô®Â∞ÜÂ≠óËäÇÁ†ÅÁºñËØë‰∏∫Êú∫Âô®Á†ÅÔºåÂπ∂‰∏îÂú®Ê≤°ÊúâÈÖçÁΩÆÁõ∏ÂÖ≥ÂèçÂ∞ÑÊñá‰ª∂ÁöÑÂâçÊèê‰∏ã‰∏çÊîØÊåÅÂèçÂ∞ÑÔºåÂú®ÂæàÂ§öÊÉÖÂÜµ‰∏ã‰ΩøÁî®ËæÉ‰∏∫Â§çÊùÇ„ÄÇ  Apache Fury ÂØπ GraalVM Native Image ÊîØÊåÅÈùûÂ∏∏ÂÆåÂñÑ„ÄÇApache Fury Âú® Graalvm ÊûÑÂª∫Êó∂ËÉΩÂ§ü‰∏∫ Fury JIT framework Âíå MethodHandle/LambdaMetafactory ÁîüÊàêÊâÄÊúâÁöÑÂ∫èÂàóÂåñ‰ª£Á†Å„ÄÇÁÑ∂ÂêéÂú®ËøêË°åÊó∂‰ΩøÁî®Ëøô‰∫õÁîüÊàêÁöÑ‰ª£Á†ÅËøõË°åÂ∫èÂàóÂåñÔºåÊó†ÈúÄ‰ªª‰ΩïÈ¢ùÂ§ñÊàêÊú¨ÔºåÊÄßËÉΩÈùûÂ∏∏Âá∫Ëâ≤„ÄÇ  ‰∏∫‰∫ÜÂú® Graalvm Native Images ‰∏ä‰ΩøÁî® FuryÔºåÊÇ®ÂøÖÈ°ªÂ∞Ü Apache Fury ÂàõÂª∫‰∏∫ÈùôÊÄÅÁöÑÁ±ªÂ≠óÊÆµÔºåÂπ∂‰∏îÂú® enclosing class ÂàùÂßãÂåñÊó∂Èó¥ÊúüÈó¥ÂÆåÊàêÊâÄÊúâÁöÑÁ±ªÊ≥®ÂÜå„ÄÇ ÁÑ∂ÂêéÂú®resources/META-INF/native-image/$xxx/ ÁõÆÂΩï‰∏ãÊ∑ªÂä† native-image.properties ÈÖçÁΩÆÊñá‰ª∂„ÄÇÊåáÂØº GraalVM Âú®ÊûÑÂª∫ Native Images Êó∂ÂàùÂßãÂåñÈÖçÁΩÆÁöÑÁ±ª„ÄÇ  ‰æãÂ¶ÇÔºåËøôÈáåÊàë‰ª¨Âú®ÈÖçÁΩÆÊñá‰ª∂‰∏≠Âä†ÂÖ• org.apache.fury.graalvm.Example Á±ªÔºö  Args = --initialize-at-build-time=org.apache.fury.graalvm.Example   ‰ΩøÁî® Apache Fury ÁöÑÂè¶‰∏Ä‰∏™Â•ΩÂ§ÑÊòØÔºåÊÇ®‰∏çÂøÖÈÖçÁΩÆÂèçÂ∞Ñ JSONÂíåÂ∫èÂàóÂåñ JSONÔºåËøôÈùûÂ∏∏‰πèÂë≥„ÄÅÁπÅÁêê‰∏î‰∏çÊñπ‰æø„ÄÇ‰ΩøÁî® Apache Fury Êó∂ÔºåÊÇ®Âè™ÈúÄ‰∏∫Ë¶ÅÂ∫èÂàóÂåñÁöÑÊØè‰∏™Á±ªÂûãË∞ÉÁî® org.apache.fury.Fury.register(Class&lt;?&gt;, boolean) Âç≥ÂèØ„ÄÇ  ËØ∑Ê≥®ÊÑèÔºåÁî±‰∫é GraalVM Native Image Âú®ÈïúÂÉèËøêË°åÊó∂‰∏çÊîØÊåÅ JITÔºåÂõ†Ê≠§ Apache Fury ÁöÑ asyncCompilationEnabled ÈÄâÈ°πÂ∞ÜÂú®‰ΩøÁî® GraalVM Native Image ÊûÑÂª∫Â∫îÁî®Êó∂Ëá™Âä®Á¶ÅÁî®„ÄÇ  ","version":"0.10","tagName":"h2"},{"title":"Á∫øÁ®ã‰∏çÂÆâÂÖ®‚Äã","type":1,"pageTitle":"GraalVM ÊåáÂçó","url":"/zh-CN/docs/0.10/guide/graalvm_serialization#Á∫øÁ®ã‰∏çÂÆâÂÖ®","content":" ExampleÔºö  import org.apache.fury.Fury; import org.apache.fury.util.Preconditions; import java.util.List; import java.util.Map; public class Example { public record Record ( int f1, String f2, List&lt;String&gt; f3, Map&lt;String, Long&gt; f4) { } static Fury fury; static { fury = Fury.builder().build(); // register and generate serializer code. fury.register(Record.class, true); } public static void main(String[] args) { Record record = new Record(10, &quot;abc&quot;, List.of(&quot;str1&quot;, &quot;str2&quot;), Map.of(&quot;k1&quot;, 10L, &quot;k2&quot;, 20L)); System.out.println(record); byte[] bytes = fury.serialize(record); Object o = fury.deserialize(bytes); System.out.println(o); Preconditions.checkArgument(record.equals(o)); } }   ‰πãÂêéÂú® native-image.properties ‰∏≠Âä†ÂÖ• org.apache.fury.graalvm.Example ÈÖçÁΩÆÔºö  Args = --initialize-at-build-time=org.apache.fury.graalvm.Example   ","version":"0.10","tagName":"h2"},{"title":"Á∫øÁ®ãÂÆâÂÖ®‚Äã","type":1,"pageTitle":"GraalVM ÊåáÂçó","url":"/zh-CN/docs/0.10/guide/graalvm_serialization#Á∫øÁ®ãÂÆâÂÖ®","content":" import org.apache.fury.Fury; import org.apache.fury.ThreadLocalFury; import org.apache.fury.ThreadSafeFury; import org.apache.fury.util.Preconditions; import java.util.List; import java.util.Map; public class ThreadSafeExample { public record Foo ( int f1, String f2, List&lt;String&gt; f3, Map&lt;String, Long&gt; f4) { } static ThreadSafeFury fury; static { fury = new ThreadLocalFury(classLoader -&gt; { Fury f = Fury.builder().build(); // register and generate serializer code. f.register(Foo.class, true); return f; }); } public static void main(String[] args) { System.out.println(fury.deserialize(fury.serialize(&quot;abc&quot;))); System.out.println(fury.deserialize(fury.serialize(List.of(1,2,3)))); System.out.println(fury.deserialize(fury.serialize(Map.of(&quot;k1&quot;, 1, &quot;k2&quot;, 2)))); Foo foo = new Foo(10, &quot;abc&quot;, List.of(&quot;str1&quot;, &quot;str2&quot;), Map.of(&quot;k1&quot;, 10L, &quot;k2&quot;, 20L)); System.out.println(foo); byte[] bytes = fury.serialize(foo); Object o = fury.deserialize(bytes); System.out.println(o); } }   ‰πãÂêéÂú® native-image.properties ‰∏≠Âä†ÂÖ• org.apache.fury.graalvm.ThreadSafeExample ÈÖçÁΩÆÔºö  Args = --initialize-at-build-time=org.apache.fury.graalvm.ThreadSafeExample   ","version":"0.10","tagName":"h2"},{"title":"Ê°ÜÊû∂ÈõÜÊàê‚Äã","type":1,"pageTitle":"GraalVM ÊåáÂçó","url":"/zh-CN/docs/0.10/guide/graalvm_serialization#Ê°ÜÊû∂ÈõÜÊàê","content":" ÂØπ‰∫éÊ°ÜÊû∂ÂºÄÂèë‰∫∫ÂëòÔºåÂ¶ÇÊûúÊÇ®ÊÉ≥ÈõÜÊàê Apache Fury ËøõË°åÂ∫èÂàóÂåñ„ÄÇÊÇ®ÂèØ‰ª•Êèê‰æõ‰∏Ä‰∏™ÈÖçÁΩÆÊñá‰ª∂ÔºåËÆ©Áî®Êà∑ÂàóÂá∫‰ªñ‰ª¨ÊÉ≥Ë¶ÅÂ∫èÂàóÂåñÁöÑÊâÄÊúâÁ±ªÔºåÁÑ∂ÂêéÊÇ®ÂèØ‰ª•Âä†ËΩΩËøô‰∫õÁ±ªÂπ∂Ë∞ÉÁî® org.apache.fury.Fury.register(Class&lt;?&gt;, boolean) Âú®ÊÇ®ÁöÑ Fury ÈõÜÊàêÁ±ª‰∏≠Ê≥®ÂÜåËøô‰∫õÁ±ªÔºåÂπ∂ÈÖçÁΩÆËØ•Á±ªÂú® GraalVM Native Image ÊûÑÂª∫Êó∂ËøõË°åÂàùÂßãÂåñ„ÄÇ  ","version":"0.10","tagName":"h2"},{"title":"Âü∫ÂáÜÊµãËØï‚Äã","type":1,"pageTitle":"GraalVM ÊåáÂçó","url":"/zh-CN/docs/0.10/guide/graalvm_serialization#Âü∫ÂáÜÊµãËØï","content":" Âú®ËøôÈáåÔºåÊàë‰ª¨ÁªôÂá∫‰∫Ü Apache Fury Âíå Graalvm Â∫èÂàóÂåñ‰πãÈó¥ÁöÑ‰∏§‰∏™Á±ªÂü∫ÂáÜÊµãËØï„ÄÇ  Á¶ÅÁî® Apache Fury compression Êó∂Ôºö  StructÔºöFury ‰∏é 46x speed, 43% size JDK ËøõË°åÊØîËæÉ„ÄÇPojoÔºöFury ‰∏é 12x speed, 56% size JDKËøõË°åÊØîËæÉ„ÄÇ  ÂêØÁî® Apache Fury compression Êó∂Ôºö  StructÔºöFury ‰∏é 24x speed, 31% size JDKËøõË°åÊØîËæÉ„ÄÇPojoÔºöFury ‰∏é 12x speed, 48% size JDKËøõË°åÊØîËæÉ„ÄÇ  ÊúâÂÖ≥Âü∫ÂáÜÊµãËØï‰ª£Á†ÅÔºåËØ∑ÂèÇÈòÖ Benchmark.java„ÄÇ  ","version":"0.10","tagName":"h2"},{"title":"ÁªìÊûÑ‰ΩìÂü∫ÂáÜÊµãËØï‚Äã","type":1,"pageTitle":"GraalVM ÊåáÂçó","url":"/zh-CN/docs/0.10/guide/graalvm_serialization#ÁªìÊûÑ‰ΩìÂü∫ÂáÜÊµãËØï","content":" Á±ªÂ≠óÊÆµ‚Äã  public class Struct implements Serializable { public int f1; public long f2; public float f3; public double f4; public int f5; public long f6; public float f7; public double f8; public int f9; public long f10; public float f11; public double f12; }   Âü∫ÂáÜÊµãËØïÁªìÊûú‚Äã  ‰∏çÂºÄÂêØÂéãÁº©Êó∂ÊµãËØïÁªìÊûúÔºö  Benchmark repeat number: 400000 Object type: class org.apache.fury.graalvm.Struct Compress number: false Fury size: 76.0 JDK size: 178.0 Fury serialization took mills: 49 JDK serialization took mills: 2254 Compare speed: Fury is 45.70x speed of JDK Compare size: Fury is 0.43x size of JDK   ÂºÄÂêØÂéãÁº©Êó∂ÊµãËØïÁªìÊûúÔºö  Benchmark repeat number: 400000 Object type: class org.apache.fury.graalvm.Struct Compress number: true Fury size: 55.0 JDK size: 178.0 Fury serialization took mills: 130 JDK serialization took mills: 3161 Compare speed: Fury is 24.16x speed of JDK Compare size: Fury is 0.31x size of JDK   ","version":"0.10","tagName":"h3"},{"title":"Pojo Âü∫ÂáÜÊµãËØï‚Äã","type":1,"pageTitle":"GraalVM ÊåáÂçó","url":"/zh-CN/docs/0.10/guide/graalvm_serialization#pojo-Âü∫ÂáÜÊµãËØï","content":" Á±ªÂ≠óÊÆµ‚Äã  public class Foo implements Serializable { int f1; String f2; List&lt;String&gt; f3; Map&lt;String, Long&gt; f4; }   Âü∫ÂáÜÊµãËØïÁªìÊûú‚Äã  ‰∏çÂºÄÂêØÂéãÁº©Êó∂ÊµãËØïÁªìÊûúÔºö  Benchmark repeat number: 400000 Object type: class org.apache.fury.graalvm.Foo Compress number: false Fury size: 541.0 JDK size: 964.0 Fury serialization took mills: 1663 JDK serialization took mills: 16266 Compare speed: Fury is 12.19x speed of JDK Compare size: Fury is 0.56x size of JDK   ÂºÄÂêØÂéãÁº©Êó∂ÊµãËØïÁªìÊûúÔºö  Benchmark repeat number: 400000 Object type: class org.apache.fury.graalvm.Foo Compress number: true Fury size: 459.0 JDK size: 964.0 Fury serialization took mills: 1289 JDK serialization took mills: 15069 Compare speed: Fury is 12.11x speed of JDK Compare size: Fury is 0.48x size of JDK  ","version":"0.10","tagName":"h3"},{"title":"Â¶Ç‰ΩïÂèëÂ∏É","type":0,"sectionRef":"#","url":"/zh-CN/docs/0.10/community/how_to_release","content":"","keywords":"","version":"0.10"},{"title":"‰ªãÁªç‚Äã","type":1,"pageTitle":"Â¶Ç‰ΩïÂèëÂ∏É","url":"/zh-CN/docs/0.10/community/how_to_release#‰ªãÁªç","content":" Ê∫ê‰ª£Á†ÅÂèëÂ∏ÉÊòØ Apache ÊúÄÈáçËßÜ‰ª•ÂèäÊúÄÈáçË¶ÅÁöÑÈÉ®ÂàÜ„ÄÇ  ËØ∑Ê≥®ÊÑèËÆ∏ÂèØËØÅÂíåÂèëÂ∏ÉÁöÑËΩØ‰ª∂Á≠æÂêçÈóÆÈ¢ò„ÄÇÂèëÂ∏ÉËΩØ‰ª∂ÊòØ‰∏Ä‰ª∂‰∏•ËÇÉÁöÑ‰∫ãÊÉÖÔºåÂπ∂‰ºö‰∫ßÁîüÁõ∏Â∫îÁöÑÊ≥ïÂæãÂêéÊûú„ÄÇ  ","version":"0.10","tagName":"h2"},{"title":"release manager Á¨¨‰∏ÄÊ¨°ÂèëÂ∏É‚Äã","type":1,"pageTitle":"Â¶Ç‰ΩïÂèëÂ∏É","url":"/zh-CN/docs/0.10/community/how_to_release#release-manager-Á¨¨‰∏ÄÊ¨°ÂèëÂ∏É","content":" ","version":"0.10","tagName":"h2"},{"title":"ÁéØÂ¢ÉË¶ÅÊ±Ç‚Äã","type":1,"pageTitle":"Â¶Ç‰ΩïÂèëÂ∏É","url":"/zh-CN/docs/0.10/community/how_to_release#ÁéØÂ¢ÉË¶ÅÊ±Ç","content":" Ê≠§ÂèëÂ∏ÉËøáÁ®ãÂú® Ubuntu Á≥ªÁªü‰∏≠ËøêË°åÔºåÈúÄË¶Å‰ª•‰∏ãÂá†‰∏™ÁéØÂ¢É‰æùËµñÔºö  JDK 1.8+Apache Maven 3.x+Python 3.8GnuPG 2.xGitSVNÔºàApache Âü∫Èáë‰ºö‰ΩøÁî® svn Êù•ÊâòÁÆ°È°πÁõÆÂèëÂ∏ÉÔºâËÆæÁΩÆÁéØÂ¢ÉÂèòÈáèÔºöÂ¶ÇÊûúÊÇ®Âú®‰∏çÂêåÁöÑÁõÆÂΩï‰∏ãÈÖçÁΩÆ‰∫Ü gpg ÂØÜÈí•ÔºåËØ∑ÊâßË°å export GNUPGHOME=$(xxx) ÂØºÂá∫ÁéØÂ¢ÉÂèòÈáè„ÄÇ  ","version":"0.10","tagName":"h3"},{"title":"ÂáÜÂ§á GPG ÂØÜÈí•‚Äã","type":1,"pageTitle":"Â¶Ç‰ΩïÂèëÂ∏É","url":"/zh-CN/docs/0.10/community/how_to_release#ÂáÜÂ§á-gpg-ÂØÜÈí•","content":" Â¶ÇÊûúÊÇ®ÊòØÁ¨¨‰∏ÄÊ¨°‰Ωú‰∏∫ËΩØ‰ª∂ÂèëÂ∏ÉËÄÖÔºåÊÇ®ÈúÄË¶ÅÂáÜÂ§á‰∏Ä‰∏™ GPG ÂØÜÈí•„ÄÇ  ÊÇ®ÂèØ‰ª•ÂèÇËÄÉËøôÈáåÁöÑÂø´ÈÄüÂºÄÂßãËé∑Âèñ‰∏Ä‰∏™ GPG ÂØÜÈí•ÊàñËÄÖËé∑ÂèñÊõ¥Â§öÁõ∏ÂÖ≥‰ø°ÊÅØ„ÄÇ  ÂÆâË£Ö GPG‚Äã  sudo apt install gnupg2   ÁîüÊàê GPG ÂØÜÈí•‚Äã  ËØ∑‰ΩøÁî®ÊÇ®ÁöÑ Apache ÂêçÂ≠óÂíåÁîµÂ≠êÈÇÆ‰ª∂Âú∞ÂùÄÁîüÊàê GPG ÂØÜÈí•Ôºö  $ gpg --full-gen-key gpg (GnuPG) 2.2.20; Copyright (C) 2020 Free Software Foundation, Inc. This is free software: you are free to change and redistribute it. There is NO WARRANTY, to the extent permitted by law. Please select what kind of key you want: (1) RSA and RSA (default) (2) DSA and Elgamal (3) DSA (sign only) (4) RSA (sign only) (14) Existing key from card Your selection? 1 # input 1 RSA keys may be between 1024 and 4096 bits long. What keysize do you want? (2048) 4096 # input 4096 Requested keysize is 4096 bits Please specify how long the key should be valid. 0 = key does not expire &lt;n&gt; = key expires in n days &lt;n&gt;w = key expires in n weeks &lt;n&gt;m = key expires in n months &lt;n&gt;y = key expires in n years Key is valid for? (0) 0 # input 0 Key does not expire at all Is this correct? (y/N) y # input y GnuPG needs to construct a user ID to identify your key. Real name: Chaokun Yang # input your name Email address: chaokunyang@apache.org # input your email Comment: CODE SIGNING KEY # input some annotations, optional You selected this USER-ID: &quot;Chaokun &lt;chaokunyang@apache.org&gt;&quot; Change (N)ame, (C)omment, (E)mail or (O)kay/(Q)uit? O # input O We need to generate a lot of random bytes. It is a good idea to perform some other action (type on the keyboard, move the mouse, utilize the disks) during the prime generation; this gives the random number generator a better chance to gain enough entropy. We need to generate a lot of random bytes. It is a good idea to perform some other action (type on the keyboard, move the mouse, utilize the disks) during the prime generation; this gives the random number generator a better chance to gain enough entropy. # Input the security key ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îÇ Please enter this passphrase ‚îÇ ‚îÇ ‚îÇ ‚îÇ Passphrase: _______________________________ ‚îÇ ‚îÇ ‚îÇ ‚îÇ &lt;OK&gt; &lt;Cancel&gt; ‚îÇ ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò # key generation will be done after your inputting the key with the following output gpg: key E49B00F626B marked as ultimately trusted gpg: revocation certificate stored as '/Users/chaokunyang/.gnupg/openpgp-revocs.d/1E2CDAE4C08AD7D694D1CB139D7BE8E45E580BA4.rev' public and secret key created and signed. pub rsa4096 2022-07-12 [SC] 1E2CDAE4C08AD7D694D1CB139D7BE8E45E580BA4 uid [ultimate] Chaokun &lt;chaokunyang@apache.org&gt; sub rsa4096 2022-07-12 [E]   ‰∏ä‰º†ÂÖ¨Èí•Ëá≥ GPG ÂØÜÈí•ÊúçÂä°Âô®‚Äã  È¶ñÂÖàÔºåÂàóÂá∫ÊÇ®ÊâÄÂàõÂª∫ÁöÑ GPG ÂØÜÈí•Ôºö  gpg --list-keys   ÊâßË°åÁõ∏ÂÖ≥ÂëΩ‰ª§‰πãÂêéÔºåÊÇ®Â∞ÜÁúãÂà∞Â¶Ç‰∏ãËæìÂá∫Ôºö  -------------------------------------------------- pub rsa4096 2024-03-27 [SC] 1E2CDAE4C08AD7D694D1CB139D7BE8E45E580BA4 uid [ultimate] chaokunyang (CODE SIGNING KEY) &lt;chaokunyang@apache.org&gt; sub rsa4096 2024-03-27 [E]   ÁÑ∂ÂêéÔºåÂ∞ÜÊÇ®ÁöÑÂØÜÈí• ID ÂèëÈÄÅÂà∞ÂØÜÈí•ÊúçÂä°Âô®Ôºö  gpg --keyserver keys.openpgp.org --send-key &lt;key-id&gt; # e.g., 1E2CDAE4C08AD7D694D1CB139D7BE8E45E580BA4   ÂÖ∂‰∏≠Ôºåkeys.openpgp.org ÊòØ‰∏Ä‰∏™ÈöèÊú∫ÈÄâÊã©ÁöÑÂØÜÈí•ÊúçÂä°Âô®ÔºåÂèØ‰ª•‰ΩøÁî® keyserver.ubuntu.com Êàñ‰ªª‰ΩïÂÖ∂‰ªñÂäüËÉΩÂÆåÂ§áÁöÑÂØÜÈí•ÊúçÂä°Âô®„ÄÇ  Ê£ÄÊü•ÂØÜÈí•ÊòØÂê¶ÂàõÂª∫ÊàêÂäü‚Äã  ‰∏ä‰º†Â§ßÁ∫¶ÈúÄË¶Å‰∏ÄÂàÜÈíüÔºõ‰πãÂêéÔºåÊÇ®ÂèØ‰ª•ÈÄöËøáÁîµÂ≠êÈÇÆ‰ª∂Âú®Áõ∏Â∫îÁöÑÂØÜÈí•ÊúçÂä°Âô®‰∏äÊ£ÄÊü•„ÄÇ  Â∞ÜÂØÜÈí•‰∏ä‰º†Âà∞ÂØÜÈí•ÊúçÂä°Âô®ÁöÑ‰∏ªË¶ÅÁõÆÁöÑÊòØ‰∏∫‰∫ÜÂä†ÂÖ•‰∏Ä‰∏™ÂèØ‰ø°ÁöÑ‰ø°‰ªªÁΩëÁªú„ÄÇ  Â∞Ü GPG ÂÖ¨Èí•Ê∑ªÂä†Âà∞È°πÁõÆ KEYS Êñá‰ª∂‰∏≠‚Äã  ÂèëÂ∏ÉÂàÜÊîØÁöÑ svn ‰ªìÂ∫ìÊòØÔºöhttps://dist.apache.org/repos/dist/release/incubator/fury  ËØ∑Âú®ÂèëÂ∏ÉÂàÜÊîØÁöÑ KEYS ‰∏≠Ê∑ªÂä†ÂÖ¨Èí•Ôºö  svn co https://dist.apache.org/repos/dist/release/incubator/fury fury-dist # As this step will copy all the versions, it will take some time. If the network is broken, please use svn cleanup to delete the lock before re-execute it. cd fury-dist (gpg --list-sigs YOUR_NAME@apache.org &amp;&amp; gpg --export --armor YOUR_NAME@apache.org) &gt;&gt; KEYS # Append your key to the KEYS file svn add . # It is not needed if the KEYS document exists before. svn ci -m &quot;add gpg key for YOUR_NAME&quot; # Later on, if you are asked to enter a username and password, just use your apache username and password.   Â∞Ü GPG ÂÖ¨Èí•‰∏ä‰º†Âà∞ÊÇ®ÁöÑ GitHub Â∏êÊà∑‚Äã  ËæìÂÖ• https://github.com/settings/keys ‰ª•Ê∑ªÂä†ÊÇ®ÁöÑ GPG ÂØÜÈí•„ÄÇÂ¶ÇÊûúÊ∑ªÂä†ÂêéÂèëÁé∞‚ÄúÊú™È™åËØÅ‚ÄùÂ≠óÊ†∑ÔºåËØ∑Â∞Ü GPG ÂØÜÈí•‰∏≠‰ΩøÁî®ÁöÑÁîµÂ≠êÈÇÆ‰ª∂Âú∞ÂùÄÁªëÂÆöÂà∞ÊÇ®ÁöÑ GitHub Â∏êÊà∑Ôºàhttps://github.com/settings/emailsÔºâ„ÄÇ  ","version":"0.10","tagName":"h3"},{"title":"Âª∂‰º∏ÈòÖËØª‚Äã","type":1,"pageTitle":"Â¶Ç‰ΩïÂèëÂ∏É","url":"/zh-CN/docs/0.10/community/how_to_release#Âª∂‰º∏ÈòÖËØª","content":" Âª∫ËÆÆÊÇ®Âú®ÂèëÂ∏É‰πãÂâçÈòÖËØª‰ª•‰∏ãÊñáÊ°£Ôºå‰∫ÜËß£ÊúâÂÖ≥ Apache Âü∫Èáë‰ºöÂèëÂ∏ÉËΩØ‰ª∂ÁöÑÊõ¥Â§öËØ¶ÁªÜ‰ø°ÊÅØÔºå‰ΩÜËøô‰∏çÊòØÂøÖÈ°ªÁöÑÔºö  ÂèëÂ∏ÉÊîøÁ≠ñÔºöhttps://www.apache.org/legal/release-policy.htmlTLP ÁâàÊú¨Ôºöhttps://infra.apache.org/release-distributionÂèëÂ∏ÉÊ†áÂøóÔºöhttps://infra.apache.org/release-signing.htmlÂèëÂ∏ÉÂèëÂ∏ÉÔºöhttps://infra.apache.org/release-publishing.htmlÂèëÂ∏É‰∏ãËΩΩÈ°µÈù¢Ôºöhttps://infra.apache.org/release-download-pages.htmlÂèëÂ∏É maven artifactsÔºöhttps://infra.apache.org/publishing-maven-artifacts.html  ","version":"0.10","tagName":"h3"},{"title":"ÂºÄÂßãÊúâÂÖ≥ÂèëÂ∏ÉÁöÑËÆ®ËÆ∫‚Äã","type":1,"pageTitle":"Â¶Ç‰ΩïÂèëÂ∏É","url":"/zh-CN/docs/0.10/community/how_to_release#ÂºÄÂßãÊúâÂÖ≥ÂèëÂ∏ÉÁöÑËÆ®ËÆ∫","content":" ÈÄöËøáÂèëÈÄÅÁîµÂ≠êÈÇÆ‰ª∂Ëá≥‰ª•‰∏ãÂú∞ÂùÄÂèëËµ∑ÊúâÂÖ≥‰∏ã‰∏Ä‰∏™ÁâàÊú¨ÁöÑËÆ®ËÆ∫Ôºödev@fury.apache.orgÔºö  Ê†áÈ¢òÔºö  [DISCUSS] Release Apache Fury(incubating) ${release_version}   ÂÜÖÂÆπÔºö  Hello, Apache Fury(incubating) Community, This is a call for a discussion to release Apache Fury(incubating) version ${release_version}. The change lists about this release: https://github.com/apache/fury/compare/v0.4.1...v0.5.0 Please leave your comments here about this release plan. We will bump the version in repo and start the release process after the discussion. Thanks, ${name}   ","version":"0.10","tagName":"h2"},{"title":"ÂáÜÂ§áÂèëÂ∏É‚Äã","type":1,"pageTitle":"Â¶Ç‰ΩïÂèëÂ∏É","url":"/zh-CN/docs/0.10/community/how_to_release#ÂáÜÂ§áÂèëÂ∏É","content":" Â¶ÇÊûúËÆ®ËÆ∫ÁªìÊûú‰∏≠Ê≤°ÊúâÂá∫Áé∞ÂèçÂØπÂ£∞Èü≥ÔºåÊÇ®ÈúÄË¶ÅÂÅö‰∏Ä‰∫õÂèëÂ∏ÉÁâàÊú¨ÁöÑÂáÜÂ§áÂ∑•‰Ωú„ÄÇ  ","version":"0.10","tagName":"h2"},{"title":"Github ÂàÜÊîØÂíåÊ†áÁ≠æ‚Äã","type":1,"pageTitle":"Â¶Ç‰ΩïÂèëÂ∏É","url":"/zh-CN/docs/0.10/community/how_to_release#github-ÂàÜÊîØÂíåÊ†áÁ≠æ","content":" ÂàõÂª∫‰∏Ä‰∏™Âêç‰∏∫ releases-0.5.0ÈÄöËøáÊâßË°åÂëΩ‰ª§Â∞ÜÁâàÊú¨ $version ÂçáÁ∫ßÂà∞ python ci/release.py bump_version -l all -version $versionÊâßË°å git commit Âπ∂Â∞ÜÂàÜÊîØÊé®ÈÄÅÂà∞ git@github.com:apache/fury.gitÈÄöËøá git tag v0.5.0-rc1 ÂàõÂª∫‰∏Ä‰∏™Êñ∞Ê†áÁ≠æÔºåÁÑ∂ÂêéÂ∞ÜÂÖ∂Êé®ÈÄÅÂà∞ git@github.com:apache/fury.git  ","version":"0.10","tagName":"h3"},{"title":"ÊûÑÂª∫ artifacts Âπ∂‰∏ä‰º†Âà∞ SVN dist/dev ‰ªìÂ∫ì‚Äã","type":1,"pageTitle":"Â¶Ç‰ΩïÂèëÂ∏É","url":"/zh-CN/docs/0.10/community/how_to_release#ÊûÑÂª∫-artifacts-Âπ∂‰∏ä‰º†Âà∞-svn-distdev-‰ªìÂ∫ì","content":" È¶ñÂÖàÔºåÊÇ®ÈúÄË¶ÅÈÄöËøá python ci/release.py build -v $version ÊûÑÂª∫È¢ÑÂèëÂ∏É artifacts„ÄÇ  ÁÑ∂ÂêéÊÇ®ÈúÄË¶ÅÊääÂÆÉ‰∏ä‰º†Âà∞ svn dist repo„ÄÇdev ÂàÜÊîØÁöÑ dist ‰ªìÂ∫ìÂú∞ÂùÄÊòØÔºöhttps://dist.apache.org/repos/dist/dev/incubator/fury  # As this step will copy all the versions, it will take some time. If the network is broken, please use svn cleanup to delete the lock before re-execute it. svn co https://dist.apache.org/repos/dist/dev/incubator/fury fury-dist-dev   ÁÑ∂ÂêéÔºå‰∏ä‰º†È°πÁõÆÔºö  cd fury-dist-dev # create a directory named by version mkdir ${release_version}-${rc_version} # copy source code and signature package to the versioned directory cp ${repo_dir}/dist/* ${release_version}-${rc_version} # check svn status svn status # add to svn svn add ${release_version}-${rc_version} # check svn status svn status # commit to SVN remote server svn commit -m &quot;Prepare for fury ${release_version}-${rc_version}&quot;   ËÆøÈóÆ https://dist.apache.org/repos/dist/dev/incubator/fury/ ‰ª•Ê£ÄÊü• artifacts ÊòØÂê¶Ê≠£Á°Æ‰∏ä‰º†„ÄÇ  ","version":"0.10","tagName":"h3"},{"title":"Â¶ÇÊûúÂá∫Áé∞ÈóÆÈ¢òËØ•ÊÄé‰πàÂäû‚Äã","type":1,"pageTitle":"Â¶Ç‰ΩïÂèëÂ∏É","url":"/zh-CN/docs/0.10/community/how_to_release#Â¶ÇÊûúÂá∫Áé∞ÈóÆÈ¢òËØ•ÊÄé‰πàÂäû","content":" Â¶ÇÊûúÊüê‰∫õÊñá‰ª∂ÊòØÊÑèÂ§ñÂá∫Áé∞ÊàñËÄÖÂèëÁîüÊüê‰∫õÈîôËØØÔºåÂàôÈúÄË¶ÅÂà†Èô§Áõ∏ÂÖ≥ÂÜÖÂÆπÂπ∂ÊâßË°å svn deleteÔºåÁÑ∂ÂêéÈáçÂ§ç‰∏äËø∞‰∏ä‰º†ËøáÁ®ã„ÄÇ  ","version":"0.10","tagName":"h3"},{"title":"ÊäïÁ•®‚Äã","type":1,"pageTitle":"Â¶Ç‰ΩïÂèëÂ∏É","url":"/zh-CN/docs/0.10/community/how_to_release#ÊäïÁ•®","content":" ‰Ωú‰∏∫‰∏Ä‰∏™Â≠µÂåñÈ°πÁõÆÔºåÊñ∞ÁâàÊú¨ÂèëÂ∏ÉÈúÄË¶Å Apache Fury Á§æÂå∫ÂíåÂ≠µÂåñÂô®Á§æÂå∫ÁöÑÊäïÁ•®„ÄÇ  release_versionÔºöFury ÁöÑÁâàÊú¨ÔºåÂ¶Ç 0.5.0„ÄÇrelease_candidate_versionÔºöÊäïÁ•®ÁöÑÁâàÊú¨ÔºåÂ¶Ç 0.5.0-rc1„ÄÇmaven_artifact_numberÔºöMaven ÊöÇÂ≠ò artifacts ÁöÑÊï∞Èáè„ÄÇÂ¶Ç 1001. ÂÖ∑‰ΩìÊù•ËØ¥ÔºåÂèØ‰ª•ÈÄöËøáÊêúÁ¥¢ ‚Äúfury‚Äù Êù•ÊâæÂà∞ maven_artifact_number https://repository.apache.org/#stagingRepositories.  ","version":"0.10","tagName":"h2"},{"title":"Fury Á§æÂå∫ÊäïÁ•®‚Äã","type":1,"pageTitle":"Â¶Ç‰ΩïÂèëÂ∏É","url":"/zh-CN/docs/0.10/community/how_to_release#fury-Á§æÂå∫ÊäïÁ•®","content":" ÂèëÈÄÅÁîµÂ≠êÈÇÆ‰ª∂Ëá≥ Fury CommunityÔºödev@fury.apache.orgÔºö  Ê†áÈ¢òÔºö  [VOTE] Release Apache Fury(incubating) v${release_version}-${rc_version}   ÂÜÖÂÆπÔºö  Hello, Apache Fury(incubating) Community: This is a call for vote to release Apache Fury(Incubating) version release-0.5.0-rc3. Apache Fury(incubating) - A blazingly fast multi-language serialization framework powered by JIT and zero-copy. The change lists about this release: https://github.com/apache/fury/compare/v0.4.1...v0.5.0-rc3 The release candidates: https://dist.apache.org/repos/dist/dev/incubator/fury/0.5.0-rc3/ The maven staging for this release: https://repository.apache.org/content/repositories/orgapachefury-1003 Git tag for the release: https://github.com/apache/fury/releases/tag/v0.5.0-rc3 Git commit for the release: https://github.com/apache/fury/commit/fae06330edd049bb960536e978a45b97bca66faf The artifacts signed with PGP key [5E580BA4], corresponding to [chaokunyang@apache.org], that can be found in keys file: https://downloads.apache.org/incubator/fury/KEYS The vote will be open for at least 72 hours until the necessary number of votes are reached. Please vote accordingly: [ ] +1 approve [ ] +0 no opinion [ ] -1 disapprove with the reason To learn more about Fury, please see https://fury.apache.org/ *Valid check is a requirement for a vote. *Checklist for reference: [ ] Download Fury is valid. [ ] Checksums and PGP signatures are valid. [ ] Source code distributions have correct names matching the current release. [ ] LICENSE and NOTICE files are correct. [ ] All files have license headers if necessary. [ ] No compiled archives bundled in source archive. [ ] Can compile from source. More detail checklist please refer: https://cwiki.apache.org/confluence/display/INCUBATOR/Incubator+Release+Checklist How to Build and Test, please refer to: https://github.com/apache/fury/blob/main/docs/guide/DEVELOPMENT.md Thanks, Chaokun Yang   Âú®Ëá≥Â∞ëËé∑Âæó 3 + 1 ‰∏îÂÖ∑ÊúâÁ∫¶ÊùüÂäõÁöÑÊäïÁ•®ÔºàÊù•Ëá™ Fury Podling PMC ÊàêÂëòÂíåÊèê‰∫§ËÄÖÔºâÂπ∂Ê≤°ÊúâÊî∂Âà∞Âê¶ÂÜ≥Á•®‰πãÂêéÔºåÂèëÂ∏ÉÊäïÁ•®ÁªìÊûúÔºö  Ê†áÈ¢òÔºö  [RESULT][VOTE] Release Apache Fury(incubating) v${release_version}-${rc_version}   ÂÜÖÂÆπÔºö  Hello, Apache Fury(incubating) Community, The vote to release Apache Fury(Incubating) v${release_version}-${rc_version} has passed. The vote PASSED with 3 binding +1 and 0 -1 vote: Binding votes: - xxx - yyy - zzz Vote thread: ${vote_thread_url} Thanks, ${name}   ","version":"0.10","tagName":"h3"},{"title":"Â≠µÂåñÂô®Á§æÂå∫ÊäïÁ•®‚Äã","type":1,"pageTitle":"Â¶Ç‰ΩïÂèëÂ∏É","url":"/zh-CN/docs/0.10/community/how_to_release#Â≠µÂåñÂô®Á§æÂå∫ÊäïÁ•®","content":" ÂèëÈÄÅÁîµÂ≠êÈÇÆ‰ª∂Ëá≥Ôºögeneral@incubator.apache.orgÔºö  Ê†áÈ¢òÔºö  [VOTE] Release Apache Fury(incubating) v${release_version}-${rc_version}   ÂÜÖÂÆπÔºö  Hello everyone, This is a call for the vote to release Apache Fury(Incubating) v${release_version}-${rc_version}. The Apache Fury community has voted and approved the release of Apache Fury(incubating) v${release_version}-${rc_version}. We now kindly request the IPMC members review and vote for this release. Apache Fury(incubating) - A blazingly fast multi-language serialization framework powered by JIT and zero-copy. Fury community vote thread: ${community_vote_thread_url} Vote result thread: ${community_vote_result_thread_url} The release candidate: https://dist.apache.org/repos/dist/dev/incubator/fury/${release_version}-${rc_version}/ This release has been signed with a PGP available here: https://downloads.apache.org/incubator/fury/KEYS Git tag for the release: https://github.com/apache/fury/releases/tag/v${release_version}-${rc_version}/ Git commit for the release: https://github.com/apache/fury/commit/$xxx Maven staging repo: https://repository.apache.org/content/repositories/orgapachefury-${maven_artifact_number}/ How to Build and Test, please refer to: https://github.com/apache/fury/blob/main/docs/guide/DEVELOPMENT.md Please download, verify, and test. The VOTE will pass after 3 binding approve. [ ] +1 approve [ ] +0 no opinion [ ] -1 disapprove with the reason To learn more about apache fury, please see https://fury.apache.org/ Checklist for reference: [ ] Download links are valid. [ ] Checksums and signatures. [ ] LICENSE/NOTICE files exist [ ] No unexpected binary files [ ] All source files have ASF headers [ ] Can compile from source Thanks, ${name}   Ëá≥Â∞ë 72 Â∞èÊó∂ÂêéÔºåËá≥Â∞ëÊúâ 3 + 1 ÂÖ∑ÊúâÁ∫¶ÊùüÂäõÁöÑÊäïÁ•®ÔºàÊù•Ëá™Â≠µÂåñÂô® PMC ÊàêÂëòÔºâ‰∏îÊ≤°ÊúâÂê¶ÂÜ≥Á•®ÔºåÂèëÂ∏ÉÊäïÁ•®ÁªìÊûúÔºö  Ê†áÈ¢òÔºö  [RESULT][VOTE] Release Apache Fury(incubating) v${release_version}-${rc_version}   ÂÜÖÂÆπÔºö  Hi Incubator PMC, The vote to release Apache Fury(incubating) v${release_version}-${rc_version} has passed with 4 +1 binding and 3 +1 non-binding votes, no +0 or -1 votes. Binding votesÔºö - xxx - yyy - zzz Non-Binding votes: - aaa Vote thread: ${incubator_vote_thread_url} Thanks for reviewing and voting for our release candidate. We will proceed with publishing the approved artifacts and sending out the announcement soon.   ","version":"0.10","tagName":"h3"},{"title":"Â¶ÇÊûúÊäïÁ•®Â§±Ë¥•ÊÄé‰πàÂäû‚Äã","type":1,"pageTitle":"Â¶Ç‰ΩïÂèëÂ∏É","url":"/zh-CN/docs/0.10/community/how_to_release#Â¶ÇÊûúÊäïÁ•®Â§±Ë¥•ÊÄé‰πàÂäû","content":" Â¶ÇÊûúÊäïÁ•®Â§±Ë¥•ÔºåËØ∑ÂçïÂáª‚ÄúÂà†Èô§‚Äù‰ª•Âà†Èô§ÊöÇÂ≠òÁöÑ Maven artifacts„ÄÇ  Ëß£ÂÜ≥ÊèêÂá∫ÁöÑÈóÆÈ¢òÔºåÁÑ∂ÂêéÂÜçÊ¨°ÊèêÂá∫ rc_version ÁöÑÊñ∞ÊäïÁ•®„ÄÇ  ","version":"0.10","tagName":"h3"},{"title":"ÂÆòÊñπÂèëÂ∏É‚Äã","type":1,"pageTitle":"Â¶Ç‰ΩïÂèëÂ∏É","url":"/zh-CN/docs/0.10/community/how_to_release#ÂÆòÊñπÂèëÂ∏É","content":" ","version":"0.10","tagName":"h2"},{"title":"Â∞Ü artifacts ÂèëÂ∏ÉÂà∞ SVN ÂèëÂ∏ÉÁõÆÂΩï‚Äã","type":1,"pageTitle":"Â¶Ç‰ΩïÂèëÂ∏É","url":"/zh-CN/docs/0.10/community/how_to_release#Â∞Ü-artifacts-ÂèëÂ∏ÉÂà∞-svn-ÂèëÂ∏ÉÁõÆÂΩï","content":" release_versionÔºöFury ÁöÑÂèëÂ∏ÉÁâàÊú¨ÔºåÂ¶Ç 0.5.0release_candidate_versionÔºöÊäïÁ•®ÁâàÊú¨ÔºåÂ¶Ç 0.5.0-rc1  svn mv https://dist.apache.org/repos/dist/dev/incubator/fury/${release_version}-${rc_version} https://dist.apache.org/repos/dist/release/incubator/fury/${release_version} -m &quot;Release fury ${release_version}&quot;   ","version":"0.10","tagName":"h3"},{"title":"Êõ¥Êîπ Fury ÁΩëÁ´ô‰∏ãËΩΩÈìæÊé•‚Äã","type":1,"pageTitle":"Â¶Ç‰ΩïÂèëÂ∏É","url":"/zh-CN/docs/0.10/community/how_to_release#Êõ¥Êîπ-fury-ÁΩëÁ´ô‰∏ãËΩΩÈìæÊé•","content":" Êèê‰∫§ PR Âà∞ https://github.com/apache/fury-site ‰ªìÂ∫ìÊõ¥Êñ∞ Fury ÁâàÊú¨Ôºå‰∏ãËΩΩÈ°µÈù¢  ","version":"0.10","tagName":"h3"},{"title":"ÂèëÂ∏É Maven artifacts‚Äã","type":1,"pageTitle":"Â¶Ç‰ΩïÂèëÂ∏É","url":"/zh-CN/docs/0.10/community/how_to_release#ÂèëÂ∏É-maven-artifacts","content":" maven_artifact_numberÔºöMaven ÊöÇÂ≠ò artifacts ÁöÑÊï∞Èáè„ÄÇÂ¶Ç 1001„ÄÇÊâìÂºÄhttps://repository.apache.org/#stagingRepositories.ÊâæÂà∞ artifacts orgapachefury-${maven_artifact_number}ÔºåÁÇπÂáª‚ÄúÂèëÂ∏É‚Äù„ÄÇ  ","version":"0.10","tagName":"h3"},{"title":"ÂèëÈÄÅÂÖ¨Âëä‚Äã","type":1,"pageTitle":"Â¶Ç‰ΩïÂèëÂ∏É","url":"/zh-CN/docs/0.10/community/how_to_release#ÂèëÈÄÅÂÖ¨Âëä","content":" Â∞ÜÂèëÂ∏ÉÂÖ¨ÂëäÂèëÈÄÅÁªô dev@fury.apache.org Âπ∂‰∏îÊäÑÈÄÅÁªô announce@apache.org„ÄÇ  Ê†áÈ¢òÔºö  [ANNOUNCE] Release Apache Fury(incubating) ${release_version}   ÂÜÖÂÆπÔºö  Hi all, The Apache Fury(incubating) community is pleased to announce that Apache Fury(incubating) {release_version} has been released! Apache Fury(incubating) - A blazingly fast multi-language serialization framework powered by JIT and zero-copy. The release notes are available here: https://github.com/apache/fury/releases/tag/v${release_version} For the complete list of changes: https://github.com/apache/fury/compare/v0.5.0...v${release_version} Apache Fury website: https://fury.apache.org/ Download Links: https://fury.apache.org/download Fury Resources: - Fury github repo: https://github.com/apache/fury - Issue: https://github.com/apache/fury/issues - Mailing list: dev@fury.apache.org We are looking to grow our community and welcome new contributors. If you are interested in contributing to Fury, please contact us on the mailing list or on GitHub. We will be happy to help you get started. ------------------ Best Regards, ${your_name}   Ëá≥Ê≠§ÔºåÊï¥‰∏™ÂèëÂ∏ÉÊµÅÁ®ãÁªìÊùü„ÄÇ ","version":"0.10","tagName":"h3"},{"title":"Benchmark","type":0,"sectionRef":"#","url":"/zh-CN/docs/0.10/introduction/benchmark","content":"","keywords":"","version":"0.10"},{"title":"Java Â∫èÂàóÂåñ‚Äã","type":1,"pageTitle":"Benchmark","url":"/zh-CN/docs/0.10/introduction/benchmark#java-Â∫èÂàóÂåñ","content":"         ","version":"0.10","tagName":"h3"},{"title":"Java ÂèçÂ∫èÂàóÂåñ‚Äã","type":1,"pageTitle":"Benchmark","url":"/zh-CN/docs/0.10/introduction/benchmark#java-ÂèçÂ∫èÂàóÂåñ","content":"         ÊúâÂÖ≥Á±ªÂûãÂêëÂâç/ÂêëÂêéÂÖºÂÆπÊÄß„ÄÅÂ†ÜÂ§ñÊîØÊåÅ„ÄÅÈõ∂Êã∑Ë¥ùÂ∫èÂàóÂåñÁöÑÊõ¥Â§ö benchmark ÊµãËØïÔºåËØ∑ÂèÇËßÅbenchmarks  ","version":"0.10","tagName":"h3"},{"title":"JavaScript‚Äã","type":1,"pageTitle":"Benchmark","url":"/zh-CN/docs/0.10/introduction/benchmark#javascript","content":"   ËØ•Êù°ÂΩ¢Âõæ‰ΩøÁî®ÁöÑÊï∞ÊçÆÂåÖÊã¨‰∏Ä‰∏™ÂÖ∑ÊúâÂ§öÁßçÂ≠óÊÆµÁ±ªÂûãÁöÑÂ§çÊùÇÂØπË±°ÔºåJSON Êï∞ÊçÆÁöÑÂ§ßÂ∞è‰∏∫ 3KB„ÄÇ  ËØ∑ÂèÇÈòÖbenchmarks benchmark ÊµãËØï‰ª£Á†Å„ÄÇ ","version":"0.10","tagName":"h3"},{"title":"Â§öËØ≠Ë®ÄÂ∫èÂàóÂåñÁöÑÁ±ªÂûãÊò†Â∞Ñ","type":0,"sectionRef":"#","url":"/zh-CN/docs/0.10/guide/xlang_type_mapping","content":"","keywords":"","version":"0.10"},{"title":"Type Mapping‚Äã","type":1,"pageTitle":"Â§öËØ≠Ë®ÄÂ∫èÂàóÂåñÁöÑÁ±ªÂûãÊò†Â∞Ñ","url":"/zh-CN/docs/0.10/guide/xlang_type_mapping#type-mapping","content":" Fury Á±ªÂûã\tFury Á±ªÂûã ID\tJava\tPython\tJavascript\tC++\tGolang\tRustbool\t1\tbool/Boolean\tbool\tBoolean\tbool\tbool\tbool int8\t2\tbyte/Byte\tint/pyfury.Int8\tType.int8()\tint8_t\tint8\ti8 int16\t3\tshort/Short\tint/pyfury.Int16\tType.int16()\tint16_t\tint16\ti6 int32\t4\tint/Integer\tint/pyfury.Int32\tType.int32()\tint32_t\tint32\ti32 var_int32\t5\tint/Integer\tint/pyfury.VarInt32\tType.varint32()\tfury::varint32_t\tfury.varint32\tfury::varint32 int64\t6\tlong/Long\tint/pyfury.Int64\tType.int64()\tint64_t\tint64\ti64 var_int64\t7\tlong/Long\tint/pyfury.VarInt64\tType.varint64()\tfury::varint64_t\tfury.varint64\tfury::varint64 sli_int64\t8\tlong/Long\tint/pyfury.SliInt64\tType.sliint64()\tfury::sliint64_t\tfury.sliint64\tfury::sliint64 float16\t9\tfloat/Float\tfloat/pyfury.Float16\tType.float16()\tfury::float16_t\tfury.float16\tfury::f16 float32\t10\tfloat/Float\tfloat/pyfury.Float32\tType.float32()\tfloat\tfloat32\tf32 float64\t11\tdouble/Double\tfloat/pyfury.Float64\tType.float64()\tdouble\tfloat64\tf64 string\t12\tString\tstr\tString\tstring\tstring\tString/str enum\t13\tEnum subclasses\tenum subclasses\t/\tenum\t/\tenum list\t14\tList/Collection\tlist/tuple\tarray\tvector\tslice\tVec set\t15\tSet\tset\t/\tset\tfury.Set\tSet map\t16\tMap\tdict\tMap\tunordered_map\tmap\tHashMap duration\t17\tDuration\ttimedelta\tNumber\tduration\tDuration\tDuration timestamp\t18\tInstant\tdatetime\tNumber\tstd::chrono::nanoseconds\tTime\tDateTime decimal\t19\tBigDecimal\tDecimal\tbigint\t/\t/\t/ binary\t20\tbyte[]\tbytes\t/\tuint8_t[n]/vector&lt;T&gt;\t[n]uint8/[]T\tVec&lt;uint8_t&gt; array\t21\tarray\tnp.ndarray\t/\t/\tarray/slice\tVec bool_array\t22\tbool[]\tndarray(np.bool_)\t/\tbool[n]\t[n]bool/[]T\tVec&lt;bool&gt; int8_array\t23\tbyte[]\tndarray(int8)\t/\tint8_t[n]/vector&lt;T&gt;\t[n]int8/[]T\tVec&lt;i18&gt; int16_array\t24\tshort[]\tndarray(int16)\t/\tint16_t[n]/vector&lt;T&gt;\t[n]int16/[]T\tVec&lt;i16&gt; int32_array\t25\tint[]\tndarray(int32)\t/\tint32_t[n]/vector&lt;T&gt;\t[n]int32/[]T\tVec&lt;i32&gt; int64_array\t26\tlong[]\tndarray(int64)\t/\tint64_t[n]/vector&lt;T&gt;\t[n]int64/[]T\tVec&lt;i64&gt; float16_array\t27\tfloat[]\tndarray(float16)\t/\tfury::float16_t[n]/vector&lt;T&gt;\t[n]float16/[]T\tVec&lt;fury::f16&gt; float32_array\t28\tfloat[]\tndarray(float32)\t/\tfloat[n]/vector&lt;T&gt;\t[n]float32/[]T\tVec&lt;f32&gt; float64_array\t29\tdouble[]\tndarray(float64)\t/\tdouble[n]/vector&lt;T&gt;\t[n]float64/[]T\tVec&lt;f64&gt; tensor\t30\t/\t/\t/\t/\t/\t/ sparse tensor\t31\t/\t/\t/\t/\t/\t/ arrow record batch\t32\t/\t/\t/\t/\t/\t/ arrow table\t33\t/\t/\t/\t/\t/\t/  ","version":"0.10","tagName":"h2"},{"title":"Á±ªÂûã‰ø°ÊÅØÔºàÁõÆÂâçÂ∞öÊú™ÂÆûÁé∞Ôºâ‚Äã","type":1,"pageTitle":"Â§öËØ≠Ë®ÄÂ∫èÂàóÂåñÁöÑÁ±ªÂûãÊò†Â∞Ñ","url":"/zh-CN/docs/0.10/guide/xlang_type_mapping#Á±ªÂûã‰ø°ÊÅØÁõÆÂâçÂ∞öÊú™ÂÆûÁé∞","content":" Áî±‰∫éËØ≠Ë®ÄÁ±ªÂûãÁ≥ªÁªü‰πãÈó¥ÁöÑÂ∑ÆÂºÇÔºåËøô‰∫õÁ±ªÂûãÊó†Ê≥ïÂú®ËØ≠Ë®Ä‰πãÈó¥‰∏ÄÂØπ‰∏ÄÂú∞Êò†Â∞Ñ„ÄÇ  Â¶ÇÊûúÁî®Êà∑ÁúãÂà∞‰∏ÄÁßçËØ≠Ë®Ä‰∏≠ÁöÑ‰∏ÄÁßçÁ±ªÂûãÂØπÂ∫î Apache Fury Á±ªÂûãÁ≥ªÁªü‰∏≠ÁöÑÂ§öÁßçÁ±ªÂûã„ÄÇ  ‰æãÂ¶ÇÔºöjava ‰∏≠ÁöÑ long Á±ªÂûãÂØπÂ∫î int64/varint64/sliint64 Á±ªÂûã„ÄÇÁ±ªÂûã‰∏∫ int64/varint64/sliint64 ËøôÊÑèÂë≥ÁùÄËØ•ËØ≠Ë®ÄÁº∫Â∞ëÊüê‰∫õÁ±ªÂûãÔºåÁî®Êà∑Âú®‰ΩøÁî® Fury Êó∂ÂøÖÈ°ªÊèê‰æõÈ¢ùÂ§ñÁöÑÁ±ªÂûã‰ø°ÊÅØ„ÄÇ  ","version":"0.10","tagName":"h3"},{"title":"Á±ªÂûãÊ≥®Ëß£‚Äã","type":1,"pageTitle":"Â§öËØ≠Ë®ÄÂ∫èÂàóÂåñÁöÑÁ±ªÂûãÊò†Â∞Ñ","url":"/zh-CN/docs/0.10/guide/xlang_type_mapping#Á±ªÂûãÊ≥®Ëß£","content":" Â¶ÇÊûúÁ±ªÂûãÊòØÂè¶‰∏Ä‰∏™Á±ªÁöÑÂ≠óÊÆµÔºåÁî®Êà∑ÂèØ‰ª•‰∏∫Á±ªÂûãÁöÑÂ≠óÊÆµÊàñÊï¥‰∏™Á±ªÂûãÊèê‰æõ meta hints„ÄÇ Ëøô‰∫õ‰ø°ÊÅØ‰πüÂèØ‰ª•Áî®ÂÖ∂‰ªñËØ≠Ë®ÄÊèê‰æõÔºö  javaÔºö‰ΩøÁî®Ê≥®Ëß£ÔºõcppÔºö‰ΩøÁî®ÂÆèÂíåÊ®°ÊùøÔºõgolangÔºö‰ΩøÁî® struct tagÔºõpython: ‰ΩøÁî® typehintÔºõrustÔºö‰ΩøÁî®ÂÆè„ÄÇ  ‰∏ãÈù¢ÊòØ‰∏Ä‰∏™‰æãÂ≠êÔºö  Java: class Foo { @Int32Type(varint = true) int f1; List&lt;@Int32Type(varint = true) Integer&gt; f2; } Python: class Foo: f1: Int32Type(varint=True) f2: List[Int32Type(varint=True)]   ","version":"0.10","tagName":"h3"},{"title":"Á±ªÂûãÂåÖË£ÖÂô®‚Äã","type":1,"pageTitle":"Â§öËØ≠Ë®ÄÂ∫èÂàóÂåñÁöÑÁ±ªÂûãÊò†Â∞Ñ","url":"/zh-CN/docs/0.10/guide/xlang_type_mapping#Á±ªÂûãÂåÖË£ÖÂô®","content":" Â¶ÇÊûúÁ±ªÂûã‰∏çÊòØÁ±ªÁöÑÂ≠óÊÆµÔºåÁî®Êà∑ÂøÖÈ°ªÁî® Fury Á±ªÂûãÊù•ÂåÖË£ÖËØ•Á±ªÂûãÔºå‰ª•‰º†ÈÄíÈ¢ùÂ§ñÁöÑÁ±ªÂûã‰ø°ÊÅØ„ÄÇ  ‰æãÂ¶ÇÔºöÂÅáËÆæ Apache Fury Java Êèê‰æõ‰∫Ü VarInt64 Á±ªÂûãÔºåÂΩìÁî®Êà∑Ë∞ÉÁî® fury.serialize(long_value) Êó∂ÔºåÈúÄË¶ÅÂÉè‰∏ãÈù¢ËøôÊ†∑Ë∞ÉÁî® Ë∞ÉÁî® fury.serialize(new VarInt64(long_value))„ÄÇ ","version":"0.10","tagName":"h2"},{"title":"Features","type":0,"sectionRef":"#","url":"/zh-CN/docs/0.10/introduction/features","content":"Features Â§öÁßçËØ≠Ë®ÄÔºöJava/Python/C++/Golang/Javascript/Rust„ÄÇÈõ∂Êã∑Ë¥ùÔºöÁ±ª‰ººpickle5ÔºåÊîØÊåÅÂ†ÜÂ§ñËØª/ÂÜôÁöÑË∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ„ÄÇÈ´òÊÄßËÉΩÔºöÈ´òÂ∫¶ÂèØÊâ©Â±ïÁöÑ JIT Ê°ÜÊû∂ÔºåÂèØÂú®ËøêË°åÊó∂‰ª•ÂºÇÊ≠•Â§öÁ∫øÁ®ãÊñπÂºèÁîüÊàêÂ∫èÂàóÂåñÁ®ãÂ∫è‰ª£Á†ÅÔºå‰ª•Âä†Âø´Â∫èÂàóÂåñÈÄüÂ∫¶ÔºåÈÄöËøá‰ª•‰∏ãÊñπÂºèÊèêÂçá 20-170 ÂÄçÁöÑÈÄüÂ∫¶Ôºö ÂáèÂ∞ëÂú®ÁîüÊàê‰ª£Á†Å‰∏≠ÂÜÖËÅîÂèòÈáèÂáèÂ∞ëÂÜÖÂ≠òËÆøÈóÆÔºõÈÄöËøáÂú®ÁîüÊàêÁöÑ‰ª£Á†Å‰∏≠ÂÜÖËÅîË∞ÉÁî®Êù•ÂáèÂ∞ëËôöÊãüÊñπÊ≥ïË∞ÉÁî®ÔºõÂáèÂ∞ëÊù°‰ª∂ÂàÜÊîØÔºõÂáèÂ∞ëÂìàÂ∏åÊü•ÊâæÔºõ ‰∫åËøõÂà∂ÂçèËÆÆÔºöÂØπË±°Âõæ„ÄÅË°åÊ†ºÂºèÁ≠â„ÄÇ Èô§‰∫ÜË∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ‰πãÂ§ñÔºåFury ËøòÊîØÊåÅ‰ª•‰∏ãÂäüËÉΩÔºö Áõ¥Êé•ÊõøÊç¢ Java Â∫èÂàóÂåñÊ°ÜÊû∂ÔºåÂ¶Ç JDK/Kryo/HessianÔºåÊó†ÈúÄ‰øÆÊîπ‰ªª‰Ωï‰ª£Á†ÅÔºå‰ΩÜÈÄüÂ∫¶ÊèêÈ´ò 100 ÂÄç„ÄÇÂÆÉÂèØ‰ª•Â§ßÂ§ßÊèêÈ´ò RPC Ë∞ÉÁî®ÊÄßËÉΩ„ÄÅÊï∞ÊçÆ‰º†ËæìÂíåÂØπË±°ÊåÅ‰πÖÂåñÁöÑÊïàÁéáÔºõJDK Â∫èÂàóÂåñ 100% ÂÖºÂÆπÔºåÂéüÁîüÊîØÊåÅ java Ëá™ÂÆö‰πâÂ∫èÂàóÂåñ writeObject/readObject/writeReplace/readResolve/readObjectNoDataÔºõÊîØÊåÅ golang ÁöÑÂÖ±‰∫´ÂíåÂæ™ÁéØÂºïÁî®ÂØπË±°Â∫èÂàóÂåñÔºõÊîØÊåÅ golang ÁöÑËá™Âä®ÂØπË±°Â∫èÂàóÂåñ„ÄÇ","keywords":"","version":"0.10"},{"title":"Ê¶ÇËø∞","type":0,"sectionRef":"#","url":"/zh-CN/docs/0.10/introduction/overview","content":"","keywords":"","version":"0.10"},{"title":"ÂçèËÆÆ‚Äã","type":1,"pageTitle":"Ê¶ÇËø∞","url":"/zh-CN/docs/0.10/introduction/overview#ÂçèËÆÆ","content":" ‰∏çÂêåÂú∫ÊôØÊúâ‰∏çÂêåÁöÑÂ∫èÂàóÂåñÈúÄÊ±Ç„ÄÇFury ÈíàÂØπËøô‰∫õÈúÄÊ±ÇËÆæËÆ°Âπ∂ÂÆûÁé∞‰∫ÜÂ§öÁßç‰∫åËøõÂà∂ÂçèËÆÆÔºö  Ë∑®ËØ≠Ë®ÄÂØπË±°ÂõæÂçèËÆÆÔºö Ëá™Âä®Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ‰ªª‰ΩïÂØπË±°ÔºåÊó†ÈúÄ IDL ÂÆö‰πâ„ÄÅSchema ÁºñËØëÂíåÂØπË±°‰∏éÂçèËÆÆ‰πãÈó¥ÁöÑËΩ¨Êç¢„ÄÇÊîØÊåÅÂÖ±‰∫´ÂºïÁî®ÂíåÂæ™ÁéØÂºïÁî®ÔºåÊó†ÈáçÂ§çÊï∞ÊçÆÊàñÈÄíÂΩíÈîôËØØ„ÄÇÊîØÊåÅÂØπË±°Â§öÊÄÅ„ÄÇ ÂéüÁîü Java/Python ÂØπË±°ÂõæÂçèËÆÆÔºöÂü∫‰∫éËØ≠Ë®ÄÁ±ªÂûãÁ≥ªÁªüÁöÑÈ´òÂ∫¶‰ºòÂåñ„ÄÇË°åÊ†ºÂºèÂçèËÆÆÔºöÁºìÂ≠òÂèãÂ•ΩÁöÑ‰∫åËøõÂà∂ÈöèÊú∫ËÆøÈóÆÊ†ºÂºèÔºåÊîØÊåÅË∑≥ËøáÂ∫èÂàóÂåñÂíåÈÉ®ÂàÜÂ∫èÂàóÂåñÔºåÂèØËá™Âä®ËΩ¨Êç¢‰∏∫ÂàóÊ†ºÂºè„ÄÇ  Âü∫‰∫é Fury Áé∞ÊúâÁöÑÁºìÂÜ≤Âå∫„ÄÅÁºñÁ†Å„ÄÅÂÖÉÊï∞ÊçÆ„ÄÅ‰ª£Á†ÅÁîüÊàêÁ≠âËÉΩÂäõÔºåÂèØ‰ª•ËΩªÊùæÊ∑ªÂä†Êñ∞ÂçèËÆÆ„ÄÇÊâÄÊúâËøô‰∫õÂÖ±‰∫´Áõ∏ÂêåÁöÑ‰ª£Á†ÅÂ∫ìÔºå‰∏Ä‰∏™ÂçèËÆÆÁöÑ‰ºòÂåñÂèØ‰ª•Ë¢´Âè¶‰∏Ä‰∏™ÂçèËÆÆÂ§çÁî®„ÄÇ  ","version":"0.10","tagName":"h2"},{"title":"ÂÖºÂÆπÊÄß‚Äã","type":1,"pageTitle":"Ê¶ÇËø∞","url":"/zh-CN/docs/0.10/introduction/overview#ÂÖºÂÆπÊÄß","content":" ","version":"0.10","tagName":"h2"},{"title":"Schema ÂÖºÂÆπÊÄß‚Äã","type":1,"pageTitle":"Ê¶ÇËø∞","url":"/zh-CN/docs/0.10/introduction/overview#schema-ÂÖºÂÆπÊÄß","content":" Fury Java ÂØπË±°ÂõæÂ∫èÂàóÂåñÊîØÊåÅÁ±ª Schema ÁöÑÂêëÂâç/ÂêëÂêéÂÖºÂÆπÊÄß„ÄÇÂ∫èÂàóÂåñÁ´ØÂíåÂèçÂ∫èÂàóÂåñÁ´ØÂèØ‰ª•Áã¨Á´ãÊ∑ªÂä†/Âà†Èô§Â≠óÊÆµ„ÄÇ  Êàë‰ª¨ËÆ°ÂàíÂú®ÂÖÉÊï∞ÊçÆÂéãÁº©ÂÆåÊàêÂêéÊ∑ªÂä†Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñÊîØÊåÅ„ÄÇ  ","version":"0.10","tagName":"h3"},{"title":"‰∫åËøõÂà∂ÂÖºÂÆπÊÄß‚Äã","type":1,"pageTitle":"Ê¶ÇËø∞","url":"/zh-CN/docs/0.10/introduction/overview#‰∫åËøõÂà∂ÂÖºÂÆπÊÄß","content":" Êàë‰ª¨‰ªçÂú®ÊîπËøõÂçèËÆÆÔºåÁõÆÂâç Fury ÁâàÊú¨‰πãÈó¥‰∏ç‰øùËØÅ‰∫åËøõÂà∂ÂÖºÂÆπÊÄß„ÄÇÂ¶ÇÊûúÊÇ®Â∞ÜÊù•Ë¶ÅÂçáÁ∫ß FuryÔºåËØ∑‰ΩøÁî® shade ÊâìÂåÖ Fury„ÄÇ  ‰∫åËøõÂà∂ÂÖºÂÆπÊÄßÂ∞ÜÂú® Fury 1.0 ‰πãÂâçÂæóÂà∞‰øùËØÅ„ÄÇ  ","version":"0.10","tagName":"h3"},{"title":"ÂÆâÂÖ®ÊÄß‚Äã","type":1,"pageTitle":"Ê¶ÇËø∞","url":"/zh-CN/docs/0.10/introduction/overview#ÂÆâÂÖ®ÊÄß","content":" ÈùôÊÄÅÂ∫èÂàóÂåñÔºàÂ¶ÇË°åÊ†ºÂºèÔºâÊú¨Ë¥®‰∏äÊòØÂÆâÂÖ®ÁöÑ„ÄÇ‰ΩÜÂä®ÊÄÅÂØπË±°ÂõæÂ∫èÂàóÂåñÊîØÊåÅÂèçÂ∫èÂàóÂåñÊú™Ê≥®ÂÜåÁöÑÁ±ªÂûãÔºåËøôÂèØËÉΩ‰ºöÂºïÂÖ•ÂÆâÂÖ®È£éÈô©„ÄÇ  ‰æãÂ¶ÇÔºåÂèçÂ∫èÂàóÂåñÂèØËÉΩ‰ºöË∞ÉÁî® init ÊûÑÈÄ†ÂáΩÊï∞Êàñ equals/hashCode ÊñπÊ≥ïÔºåÂ¶ÇÊûúÊñπÊ≥ï‰ΩìÂåÖÂê´ÊÅ∂ÊÑè‰ª£Á†ÅÔºåÁ≥ªÁªüÂ∞ÜÈù¢‰∏¥È£éÈô©„ÄÇ  Fury ‰∏∫Ê≠§ÂçèËÆÆÊèê‰æõ‰∫ÜÁ±ªÊ≥®ÂÜåÊ®°ÂºèÈÄâÈ°πÔºåÈªòËÆ§ÂêØÁî®ÔºåÂè™ÂÖÅËÆ∏ÂèçÂ∫èÂàóÂåñÂèó‰ø°‰ªªÁöÑÂ∑≤Ê≥®ÂÜåÁ±ªÂûãÊàñÂÜÖÁΩÆÁ±ªÂûã‰ª•Á°Æ‰øùÂÆâÂÖ®„ÄÇ  Fury Êèê‰æõ‰∫ÜÁ±ªÊ≥®ÂÜåÈÄâÈ°πÔºåÈªòËÆ§ÂêØÁî®ÔºåÂè™ÂÖÅËÆ∏ÂèçÂ∫èÂàóÂåñÂèó‰ø°‰ªªÁöÑÂ∑≤Ê≥®ÂÜåÁ±ªÂûãÊàñÂÜÖÁΩÆÁ±ªÂûã„ÄÇÈô§ÈùûÊÇ®ËÉΩÁ°Æ‰øùÁéØÂ¢ÉÁ°ÆÂÆûÂÆâÂÖ®ÔºåÂê¶Âàô‰∏çË¶ÅÁ¶ÅÁî®Á±ªÊ≥®ÂÜåÊàñÁ±ªÊ≥®ÂÜåÊ£ÄÊü•„ÄÇÂ¶ÇÊûúÊÇ®Á¶ÅÁî®‰∫ÜÁ±ªÊ≥®ÂÜåÈÄâÈ°πÔºåÊàë‰ª¨ÂØπÂÆâÂÖ®ÊÄß‰∏çÊâøÊãÖË¥£‰ªª„ÄÇ  ","version":"0.10","tagName":"h2"},{"title":"Ë∑ØÁ∫øÂõæ‚Äã","type":1,"pageTitle":"Ê¶ÇËø∞","url":"/zh-CN/docs/0.10/introduction/overview#Ë∑ØÁ∫øÂõæ","content":" ÂÖÉÊï∞ÊçÆÂéãÁº©„ÄÅËá™Âä®ÂÖÉÊï∞ÊçÆÂÖ±‰∫´ÂíåË∑®ËØ≠Ë®Ä Schema ÂÖºÂÆπÊÄßC++/Golang AOT Ê°ÜÊû∂‰ª•ÈùôÊÄÅÁîüÊàê‰ª£Á†ÅC++/Rust ÂØπË±°ÂõæÂ∫èÂàóÂåñÊîØÊåÅGolang/Rust/NodeJS Ë°åÊ†ºÂºèÊîØÊåÅProtoBuffer ÂÖºÂÆπÊÄßÊîØÊåÅÁâπÂæÅÂíåÁü•ËØÜÂõæË∞±Â∫èÂàóÂåñÂçèËÆÆÊåÅÁª≠ÊîπËøõÊàë‰ª¨ÁöÑÂ∫èÂàóÂåñÂü∫Á°ÄËÆæÊñΩ‰ª•ÊîØÊåÅ‰ªª‰ΩïÊñ∞ÂçèËÆÆ  ","version":"0.10","tagName":"h2"},{"title":"Â¶Ç‰ΩïË¥°ÁåÆ‚Äã","type":1,"pageTitle":"Ê¶ÇËø∞","url":"/zh-CN/docs/0.10/introduction/overview#Â¶Ç‰ΩïË¥°ÁåÆ","content":" ËØ∑ÈòÖËØª CONTRIBUTING ÊåáÂçó‰∫ÜËß£Â¶Ç‰ΩïË¥°ÁåÆ„ÄÇ ","version":"0.10","tagName":"h2"},{"title":"Java Â∫èÂàóÂåñÊåáÂçó","type":0,"sectionRef":"#","url":"/zh-CN/docs/0.10/guide/serialization","content":"","keywords":"","version":"0.10"},{"title":"Java ÂØπË±°ÂõæÂ∫èÂàóÂåñ‚Äã","type":1,"pageTitle":"Java Â∫èÂàóÂåñÊåáÂçó","url":"/zh-CN/docs/0.10/guide/serialization#java-ÂØπË±°ÂõæÂ∫èÂàóÂåñ","content":" ÂΩìÂè™ÈúÄË¶Å Java ÂØπË±°Â∫èÂàóÂåñÊó∂ÔºåÂÖ∂Áõ∏ÊØîË∑®ËØ≠Ë®ÄÁöÑÂõæÂ∫èÂàóÂåñÊã•ÊúâÊõ¥Â•ΩÁöÑÊÄßËÉΩ„ÄÇ  ","version":"0.10","tagName":"h2"},{"title":"Âø´ÈÄüÂºÄÂßã‚Äã","type":1,"pageTitle":"Java Â∫èÂàóÂåñÊåáÂçó","url":"/zh-CN/docs/0.10/guide/serialization#Âø´ÈÄüÂºÄÂßã","content":" Ê≥®ÊÑèÔºöFury ÂØπË±°ÂàõÂª∫ÁöÑ‰ª£‰ª∑ÂæàÈ´òÔºå Âõ†Ê≠§ Fury ÂØπË±°Â∫îËØ•Â∞ΩÂèØËÉΩË¢´Â§çÁî®ÔºåËÄå‰∏çÊòØÊØèÊ¨°ÈÉΩÈáçÊñ∞ÂàõÂª∫„ÄÇ  ÊÇ®Â∫îËØ•‰∏∫ Fury ÂàõÂª∫‰∏Ä‰∏™ÂÖ®Â±ÄÁöÑÈùôÊÄÅÂèòÈáèÔºåÊàñËÄÖÊúâÈôêÁöÑÁöÑ Fury ÂÆû‰æãÂØπË±°„ÄÇFuryÊú¨Ë∫´Âç†Áî®‰∏ÄÂÆöÂÜÖÂ≠òÔºåËØ∑‰∏çË¶ÅÂàõÂª∫‰∏ä‰∏á‰∏™FuryÂØπË±°  ‰ΩøÁî®ÂçïÁ∫øÁ®ãÁâàÊú¨ Fury:  import java.util.List; import java.util.Arrays; import org.apache.fury.*; import org.apache.fury.config.*; public class Example { public static void main(String[] args) { SomeClass object = new SomeClass(); // Note that Fury instances should be reused between // multiple serializations of different objects. Fury fury = Fury.builder().withLanguage(Language.JAVA) .requireClassRegistration(true) .build(); // Registering types can reduce class name serialization overhead, but not mandatory. // If class registration enabled, all custom types must be registered. fury.register(SomeClass.class); byte[] bytes = fury.serialize(object); System.out.println(fury.deserialize(bytes)); } }   ‰ΩøÁî®Â§öÁ∫øÁ®ãÁâàÊú¨ FuryÔºö  import java.util.List; import java.util.Arrays; import org.apache.fury.*; import org.apache.fury.config.*; public class Example { public static void main(String[] args) { SomeClass object = new SomeClass(); // Note that Fury instances should be reused between // multiple serializations of different objects. ThreadSafeFury fury = new ThreadLocalFury(classLoader -&gt; { Fury f = Fury.builder().withLanguage(Language.JAVA) .withClassLoader(classLoader).build(); f.register(SomeClass.class); return f; }); byte[] bytes = fury.serialize(object); System.out.println(fury.deserialize(bytes)); } }   Fury ÂØπË±°Â§çÁî®Á§∫‰æãÔºö  import java.util.List; import java.util.Arrays; import org.apache.fury.*; import org.apache.fury.config.*; public class Example { // reuse fury. private static final ThreadSafeFury fury = new ThreadLocalFury(classLoader -&gt; { Fury f = Fury.builder().withLanguage(Language.JAVA) .withClassLoader(classLoader).build(); f.register(SomeClass.class); return f; }); public static void main(String[] args) { SomeClass object = new SomeClass(); byte[] bytes = fury.serialize(object); System.out.println(fury.deserialize(bytes)); } }   ","version":"0.10","tagName":"h2"},{"title":"FuryBuilder ÂèÇÊï∞ÈÄâÈ°π‚Äã","type":1,"pageTitle":"Java Â∫èÂàóÂåñÊåáÂçó","url":"/zh-CN/docs/0.10/guide/serialization#furybuilder-ÂèÇÊï∞ÈÄâÈ°π","content":" ÂèÇÊï∞ÈÄâÈ°πÂêç\tÊèèËø∞\tÈªòËÆ§ÂÄºtimeRefIgnored\tÂêØÁî® reference tracking Êó∂ÔºåÊòØÂê¶ÂøΩÁï•Âú® TimeSerializers ‰∏≠Ê≥®ÂÜåÁöÑÊâÄÊúâÊó∂Èó¥Á±ªÂûãÂèäÂÖ∂Â≠êÁ±ªÁöÑÂºïÁî®Ë∑üË∏™„ÄÇÂ¶ÇÊûúÂøΩÁï•ÔºåÂàôÂèØ‰ª•ÈÄöËøáË∞ÉÁî® Fury#registerSerializer(Class, Serializer) Êù•ÂêØÁî®ÂØπÊØèÁßçÊó∂Èó¥Á±ªÂûãÁöÑÂºïÁî®Ë∑üË∏™„ÄÇ‰æãÂ¶ÇÔºåfury.registerSerializer(Date.class, new DateSerializer(fury, true))„ÄÇËØ∑Ê≥®ÊÑèÔºåÂêØÁî® ref tracking ÂäüËÉΩÂ∫îÂú®‰ªª‰ΩïÂåÖÂê´Êó∂Èó¥Â≠óÊÆµÁöÑÁ±ªÂûãÁöÑÂ∫èÂàóÂåñÁ®ãÂ∫èÁºñÁ†Å‰πãÂâçËøõË°å„ÄÇÂê¶ÂàôÔºåËøô‰∫õÂ≠óÊÆµ‰ªçÂ∞ÜË∑≥Ëøá reference tracking„ÄÇ\ttrue compressInt\tÂêØÁî®ÊàñÁ¶ÅÁî® int ÂéãÁº©ÔºåÂáèÂ∞èÊï∞ÊçÆ‰ΩìÁßØ„ÄÇ\ttrue compressLong\tÂêØÁî®ÊàñÁ¶ÅÁî® long ÂéãÁº©ÔºåÂáèÂ∞èÊï∞ÊçÆ‰ΩìÁßØ„ÄÇ\ttrue compressString\tÂêØÁî®ÊàñÁ¶ÅÁî® String ÂéãÁº©ÔºåÂáèÂ∞èÊï∞ÊçÆ‰ΩìÁßØ„ÄÇ\ttrue classLoader\tÂÖ≥ËÅîÂà∞ÂΩìÂâç Fury ÁöÑÁ±ªÂä†ËΩΩÂô®ÔºåÊØè‰∏™ Fury ‰ºöÂÖ≥ËÅî‰∏Ä‰∏™‰∏çÂèØÂèòÁöÑÁ±ªÂä†ËΩΩÂô®ÔºåÁî®‰∫éÁºìÂ≠òÁ±ªÂÖÉÊï∞ÊçÆ„ÄÇÂ¶ÇÊûúÈúÄË¶ÅÂàáÊç¢Á±ªÂä†ËΩΩÂô®ÔºåËØ∑‰ΩøÁî® LoaderBinding Êàñ ThreadSafeFury ËøõË°åÊõ¥Êñ∞„ÄÇ\tThread.currentThread().getContextClassLoader() compatibleMode\tÁ±ªÂûãÁöÑÂêëÂâç/ÂêëÂêéÂÖºÂÆπÊÄßÈÖçÁΩÆ„ÄÇ‰πü‰∏é checkClassVersion ÈÖçÁΩÆÁõ∏ÂÖ≥„ÄÇschema_consistentÔºö Á±ªÁöÑSchema‰ø°ÊÅØÂøÖÈ°ªÂú®Â∫èÂàóÂåñÂØπÁ≠âËäÇÁÇπÂíåÂèçÂ∫èÂàóÂåñÂØπÁ≠âËäÇÁÇπ‰πãÈó¥‰øùÊåÅ‰∏ÄËá¥„ÄÇCOMPATIBLEÔºö Â∫èÂàóÂåñÂØπÁ≠âËäÇÁÇπÂíåÂèçÂ∫èÂàóÂåñÂØπÁ≠âËäÇÁÇπ‰πãÈó¥ÁöÑÁ±ªÊ®°ÂºèÂèØ‰ª•‰∏çÂêå„ÄÇÂÆÉ‰ª¨ÂèØ‰ª•Áã¨Á´ãÊ∑ªÂä†/Âà†Èô§Â≠óÊÆµ„ÄÇ\tCompatibleMode.SCHEMA_CONSISTENT checkClassVersion\tÂÜ≥ÂÆöÊòØÂê¶Ê£ÄÊü•Á±ªÊ®°ÂºèÁöÑ‰∏ÄËá¥ÊÄß„ÄÇÂ¶ÇÊûúÂêØÁî®ÔºåFury Â∞ÜÂÜôÂÖ• classVersionHash ÂíåÂü∫‰∫éÂÖ∂Ê£ÄÊü•Á±ªÂûã‰∏ÄËá¥ÊÄß„ÄÇÂΩìÂêØÁî® CompatibleMode#COMPATIBLE Êó∂ÔºåÂÆÉÂ∞ÜËá™Âä®Á¶ÅÁî®„ÄÇÈô§ÈùûËÉΩÁ°Æ‰øùÁ±ª‰∏ç‰ºöÊºîÂåñÔºåÂê¶Âàô‰∏çÂª∫ËÆÆÁ¶ÅÁî®„ÄÇ\tfalse checkJdkClassSerializable\tÂêØÁî®ÊàñÁ¶ÅÁî® java.* ‰∏ãÁ±ªÁöÑ Serializable Êé•Âè£Ê£ÄÊü•„ÄÇÂ¶ÇÊûú java.* ‰∏ãÁöÑÁ±ª‰∏çÊòØ SerializableÔºåFury Â∞ÜÊäõÂá∫ UnsupportedOperationException„ÄÇ\ttrue registerGuavaTypes\tÊòØÂê¶È¢ÑÂÖàÊ≥®ÂÜå Guava Á±ªÂûãÔºåÂ¶Ç RegularImmutableMap/RegularImmutableList„ÄÇËøô‰∫õÁ±ªÂûã‰∏çÊòØÂÖ¨ÂÖ± APIÔºå‰ΩÜ‰ºº‰πéÈùûÂ∏∏Á®≥ÂÆö„ÄÇ\ttrue requireClassRegistration\tÁ¶ÅÁî®ÂèØËÉΩ‰ºöÂÖÅËÆ∏Êú™Áü•Á±ªË¢´ÂèçÂ∫èÂàóÂåñÔºå‰ªéËÄåÂ∏¶Êù•ÊΩúÂú®ÁöÑÂÆâÂÖ®È£éÈô©„ÄÇ\ttrue suppressClassRegistrationWarnings\tÊòØÂê¶ÊäëÂà∂Á±ªÊ≥®ÂÜåË≠¶Âëä„ÄÇËøô‰∫õË≠¶ÂëäÂèØÁî®‰∫éÂÆâÂÖ®ÂÆ°ËÆ°Ôºå‰ΩÜÂèØËÉΩ‰ºöËæÉÁêêÁ¢éÔºåÈªòËÆ§ÊÉÖÂÜµ‰∏ãÂ∞ÜÂêØÁî®Ê≠§ÊäëÂà∂ÂäüËÉΩ„ÄÇ\ttrue metaShareEnabled\tÊòØÂê¶Âê¶ÂºÄÂêØÂéüÂÖÉÊï∞ÊçÆÂÖ±‰∫´„ÄÇ\tfalse scopedMetaShareEnabled\tËåÉÂõ¥ÂÖÉÊï∞ÊçÆÂÖ±‰∫´‰æßÈáç‰∫éÂçï‰∏ÄÂ∫èÂàóÂåñÊµÅÁ®ã„ÄÇÂú®Ê≠§ËøáÁ®ã‰∏≠ÂàõÂª∫ÊàñËØÜÂà´ÁöÑÂÖÉÊï∞ÊçÆ‰∏∫ËØ•ËøáÁ®ãÁã¨ÊúâÔºå‰∏ç‰ºö‰∏éÂÖ∂‰ªñÂ∫èÂàóÂåñËøáÁ®ãÂÖ±‰∫´„ÄÇ\tfalse metaCompressor\tÂÖÉÊï∞ÊçÆÂéãÁº©Âô®„ÄÇËØ∑Ê≥®ÊÑèÔºå‰º†ÈÄíÁöÑÂÖÉÂéãÁº©Âô®Â∫îÊòØÁ∫øÁ®ãÂÆâÂÖ®ÁöÑ„ÄÇÈªòËÆ§ÊÉÖÂÜµ‰∏ãÔºåÂ∞Ü‰ΩøÁî®Âü∫‰∫é Deflater ÁöÑÂéãÁº©Âô® DeflaterMetaCompressor„ÄÇÁî®Êà∑ÂèØ‰ª•‰ΩøÁî®ÂÖ∂‰ªñÂéãÁº©Âô®ÔºåÂ¶Ç zstd ‰ª•Ëé∑ÂæóÊõ¥Â•ΩÁöÑÂéãÁº©Áéá„ÄÇ\tDeflaterMetaCompressor deserializeNonexistentClass\tÂêØÁî®ÊàñÁ¶ÅÁî®ÂèçÂ∫èÂàóÂåñ/Ë∑≥ËΩ¨‰∏çÂ≠òÂú®Á±ªÁöÑÊï∞ÊçÆ„ÄÇ\ttrueÔºå Â¶ÇÊûúËÆæÁΩÆ‰∫Ü CompatibleMode.CompatibleÔºåÂ∞Ü‰ºöÂèò‰∏∫ false„ÄÇ codeGenEnabled\tÁ¶ÅÁî®ÂêéÔºåÂàùÂßãÂ∫èÂàóÂåñÈÄüÂ∫¶‰ºöÂä†Âø´Ôºå‰ΩÜÂêéÁª≠Â∫èÂàóÂåñÈÄüÂ∫¶‰ºöÂáèÊÖ¢„ÄÇ\ttrue asyncCompilationEnabled\tÂ¶ÇÊûúÂêØÁî®ÔºåÂ∫èÂàóÂåñ‰ºöÈ¶ñÂÖà‰ΩøÁî®Ëß£ÈáäÂô®Ê®°ÂºèÔºåÂπ∂Âú®Á±ªÁöÑÂºÇÊ≠•Â∫èÂàóÂåñ JIT ÂÆåÊàêÂêéÂàáÊç¢Âà∞ JIT Â∫èÂàóÂåñ„ÄÇ\tfalse scalaOptimizationEnabled\tÂêØÁî®ÊàñÁ¶ÅÁî®ÁâπÂÆö‰∫é Scala ÁöÑÂ∫èÂàóÂåñ‰ºòÂåñ„ÄÇ\tfalse copyRef\tÁ¶ÅÁî®ÂêéÔºåÂ§çÂà∂ÊÄßËÉΩ‰ºöÊõ¥Â•Ω„ÄÇ‰ΩÜ Fury Ê∑±Â∫¶Â§çÂà∂Â∞ÜÂøΩÁï•Âæ™ÁéØÂºïÁî®ÂíåÂÖ±‰∫´ÂºïÁî®„ÄÇÂØπË±°Âõæ‰∏≠ÁöÑÁõ∏ÂêåÂºïÁî®Â∞ÜÂú®‰∏ÄÊ¨° Fury#copy ‰∏≠Â§çÂà∂Âà∞‰∏çÂêåÁöÑÂØπË±°‰∏≠„ÄÇ\ttrue  ","version":"0.10","tagName":"h2"},{"title":"È´òÁ∫ßÁî®Ê≥ï‚Äã","type":1,"pageTitle":"Java Â∫èÂàóÂåñÊåáÂçó","url":"/zh-CN/docs/0.10/guide/serialization#È´òÁ∫ßÁî®Ê≥ï","content":" ","version":"0.10","tagName":"h2"},{"title":"Fury ÂàõÂª∫‚Äã","type":1,"pageTitle":"Java Â∫èÂàóÂåñÊåáÂçó","url":"/zh-CN/docs/0.10/guide/serialization#fury-ÂàõÂª∫","content":" ÂçïÁ∫øÁ®ã Fury ÂàõÂª∫:  Fury fury=Fury.builder() .withLanguage(Language.JAVA) // enable reference tracking for shared/circular reference. // Disable it will have better performance if no duplicate reference. .withRefTracking(false) .withCompatibleMode(CompatibleMode.SCHEMA_CONSISTENT) // enable type forward/backward compatibility // disable it for small size and better performance. // .withCompatibleMode(CompatibleMode.COMPATIBLE) // enable async multi-threaded compilation. .withAsyncCompilation(true) .build(); byte[]bytes=fury.serialize(object); System.out.println(fury.deserialize(bytes));   Â§öÁ∫øÁ®ã Fury ÂàõÂª∫:  ThreadSafeFury fury=Fury.builder() .withLanguage(Language.JAVA) // enable reference tracking for shared/circular reference. // Disable it will have better performance if no duplicate reference. .withRefTracking(false) // compress int for smaller size // .withIntCompressed(true) // compress long for smaller size // .withLongCompressed(true) .withCompatibleMode(CompatibleMode.SCHEMA_CONSISTENT) // enable type forward/backward compatibility // disable it for small size and better performance. // .withCompatibleMode(CompatibleMode.COMPATIBLE) // enable async multi-threaded compilation. .withAsyncCompilation(true) .buildThreadSafeFury(); byte[]bytes=fury.serialize(object); System.out.println(fury.deserialize(bytes));   ","version":"0.10","tagName":"h3"},{"title":"ÈÖçÁΩÆFuryÁîüÊàêÊõ¥Â∞èÁöÑÂ∫èÂàóÂåñ‰ΩìÁßØÔºö‚Äã","type":1,"pageTitle":"Java Â∫èÂàóÂåñÊåáÂçó","url":"/zh-CN/docs/0.10/guide/serialization#ÈÖçÁΩÆfuryÁîüÊàêÊõ¥Â∞èÁöÑÂ∫èÂàóÂåñ‰ΩìÁßØ","content":" FuryBuilder#withIntCompressed/FuryBuilder#withLongCompressed ÂèØÁî®‰∫éÂéãÁº© int/longÔºå‰ΩøÂÖ∂‰ΩìÁßØÊõ¥Â∞è„ÄÇÈÄöÂ∏∏ÂéãÁº© int Á±ªÂûãÂ∞±Ë∂≥Â§ü‰∫Ü„ÄÇ  Ëøô‰∏§‰∏™ÂéãÁº©Â±ûÊÄßÈªòËÆ§ÂêØÁî®„ÄÇÂ¶ÇÊûúÂ∫èÂàóÂåñÂ§ßÂ∞è‰∏çÈáçË¶ÅÔºåÊØîÂ¶Ç‰Ω†‰πãÂâç‰ΩøÁî®flatbuffersËøõË°åÂ∫èÂàóÂåñÔºåflatbuffers‰∏ç‰ºöÂéãÁº©‰ªª‰Ωï‰∏úË•øÔºåÈÇ£‰πàËøôÁßçÊÉÖÂÜµ‰∏ãÂª∫ËÆÆÂÖ≥Èó≠ÂéãÁº©„ÄÇÂ¶ÇÊûúÊï∞ÊçÆÈÉΩÊòØÊï∞Â≠óÔºåÂéãÁº©ÂèØËÉΩ‰ºöÂ∏¶Êù• 80%‰ª•‰∏äÁöÑÊÄßËÉΩÊçüËÄó„ÄÇ  ÂØπ‰∫é int ÂéãÁº©ÔºåFury ‰ΩøÁî® 1~5 Â≠óËäÇËøõË°åÁºñÁ†Å„ÄÇÊØè‰∏™Â≠óËäÇÁöÑÁ¨¨‰∏Ä‰ΩçË°®Á§∫ÊòØÂê¶Êúâ‰∏ã‰∏Ä‰∏™Â≠óËäÇ‰ΩçÔºåÂ¶ÇÊûú‰∏ã‰∏Ä‰∏™Â≠óËäÇ‰ΩçË¢´ËÆæÁΩÆÔºåÂàôÂ∞ÜËØªÂèñ‰∏ã‰∏Ä‰∏™Â≠óËäÇÔºåÁõ¥Âà∞‰∏ã‰∏Ä‰∏™Â≠óËäÇ‰ΩçÊú™Ë¢´ËÆæÁΩÆÊó∂ÂÅúÊ≠¢„ÄÇ  ÂØπ‰∫é long ÂéãÁº©ÔºåFury ÊîØÊåÅ‰∏§ÁßçÁºñÁ†ÅÊñπÂºèÔºö  Fury SLIÔºàSmall long as intÔºâÁºñÁ†ÅÔºàÈªòËÆ§‰ΩøÁî®ÔºâÔºö Â¶ÇÊûú long Âú® [-1073741824, 1073741823] ËåÉÂõ¥ÂÜÖÔºåÂàôÁºñÁ†Å‰∏∫ 4 Â≠óËäÇ intÔºö| little-endian: ((int) value) &lt;&lt; 1 |Âê¶ÂàôÂÜôÊàê 9 Â≠óËäÇÔºö | 0b1 | little-endian 8 bit long | Fury PVLÔºàÊ∏êËøõÂèØÂèòÈïøÔºâÁºñÁ†ÅÔºö ÊØè‰∏™Â≠óËäÇÁöÑÁ¨¨‰∏Ä‰ΩçË°®Á§∫ÊòØÂê¶Êúâ‰∏ã‰∏Ä‰∏™Â≠óËäÇ„ÄÇÂ¶ÇÊûúÁ¨¨‰∏Ä‰ΩçË¢´ËÆæÁΩÆÔºåÂàôÂ∞ÜËØªÂèñ‰∏ã‰∏Ä‰∏™Â≠óËäÇ„ÄÇ Áõ¥Âà∞‰∏ã‰∏ÄÂ≠óËäÇÁöÑÁ¨¨‰∏Ä‰ΩçÊú™ËÆæÁΩÆ„ÄÇË¥üÊï∞Â∞ÜÈÄöËøá (v &lt;&lt; 1) ^ (v &gt;&gt; 63) ËΩ¨Êç¢‰∏∫Ê≠£Êï∞Ôºå‰ª•ÂáèÂ∞ëÂ∞èË¥üÊï∞ÁöÑÁºñÁ†ÅÁ©∫Èó¥Âç†Áî®„ÄÇ  Â¶ÇÊûú‰∏Ä‰∏™Êï∞Â≠óÊòØ Long Á±ªÂûãÔºåÂ§ßÂ§ö‰∏çËÉΩÁî®Êõ¥Â∞èÁöÑÂ≠óËäÇË°®Á§∫ÔºåÂéãÁº©ÊïàÊûúÂ∞±‰∏çÂ§üÂ•Ω„ÄÇ ‰∏éÂç†Áî®ÁöÑÊÄßËÉΩÂºÄÈîÄÁõ∏ÊØîÔºåËøôÊòØ‰∏çÂÄºÂæóÁöÑ„ÄÇÂ¶ÇÊûúÊÇ®ÂèëÁé∞LongÁ±ªÂûãÂéãÁº©Âπ∂Ê≤°ÊúâÂ∏¶Êù•Â§öÂ∞ëÂ•ΩÂ§ÑÔºå‰πüËÆ∏ÊÇ®Â∫îËØ•Â∞ùËØïÂÖ≥Èó≠LongÁ±ªÂûãÂéãÁº©Ôºå‰ª•ÊèêÂçáÊÄßËÉΩ„ÄÇ  ","version":"0.10","tagName":"h3"},{"title":"ÂØπË±°Ê∑±Êã∑Ë¥ù‚Äã","type":1,"pageTitle":"Java Â∫èÂàóÂåñÊåáÂçó","url":"/zh-CN/docs/0.10/guide/serialization#ÂØπË±°Ê∑±Êã∑Ë¥ù","content":" Ê∑±Â∫¶Êã∑Ë¥ùÁ§∫‰æã:  Fury fury=Fury.builder() ... .withRefCopy(true).build(); SomeClass a=xxx; SomeClass copied=fury.copy(a)   ‰Ωø Fury Ê∑±Â∫¶Â§çÂà∂ÂøΩÁï•Âæ™ÁéØÂºïÁî®ÂíåÂÖ±‰∫´ÂºïÁî®ÔºåÊ≠§ÈÖçÁΩÆ‰ºöÂ∞ÜÂØπË±°Âõæ‰∏≠ÁöÑÁõ∏ÂêåÂºïÁî®Âú®‰∏ÄÊ¨° Fury#copy ‰πãÂêé‰ºöË¢´Â§çÂà∂Âà∞‰∏çÂêåÁöÑÂØπË±°‰∏≠„ÄÇ  Fury fury=Fury.builder() ... .withRefCopy(false).build(); SomeClass a=xxx; SomeClass copied=fury.copy(a)   ","version":"0.10","tagName":"h3"},{"title":"ÂÆûÁé∞Ëá™ÂÆö‰πâÁöÑÂ∫èÂàóÂåñÂô®‚Äã","type":1,"pageTitle":"Java Â∫èÂàóÂåñÊåáÂçó","url":"/zh-CN/docs/0.10/guide/serialization#ÂÆûÁé∞Ëá™ÂÆö‰πâÁöÑÂ∫èÂàóÂåñÂô®","content":" Âú®Êüê‰∫õÊÉÖÂÜµ‰∏ãÔºåÊÇ®ÂèØËÉΩÂ∏åÊúõ‰∏∫ÊÇ®ÁöÑËá™ÂÆö‰πâÁ±ªÂûãÂÆûÁé∞‰∏Ä‰∏™Â∫èÂàóÂåñÂô®ÔºåÁâπÂà´ÊòØÊüê‰∫õÈÄöËøá JDK writeObject/writeReplace/readObject/readResolve ÂÆûÁé∞Â∫èÂàóÂåñÁöÑÁ±ªÔºåJDKÂ∫èÂàóÂåñÁöÑÊÄßËÉΩÂíåÁ©∫Èó¥ÊïàÁéáÂæà‰Ωé„ÄÇÊØîÂ¶ÇËØ¥ÔºåÂ¶ÇÊûúÊÇ®‰∏çÊÉ≥‰∏ãÈù¢ÁöÑ Foo#writeObject Ë¢´Ë∞ÉÁî®Ôºå‰Ω†ÂèØ‰ª•ÂÆûÁé∞Á±ªÂûã‰∏ãÈù¢ÁöÑ FooSerializer Ôºö  class Foo { public long f1; private void writeObject(ObjectOutputStream s) throws IOException { System.out.println(f1); s.defaultWriteObject(); } } class FooSerializer extends Serializer&lt;Foo&gt; { public FooSerializer(Fury fury) { super(fury, Foo.class); } @Override public void write(MemoryBuffer buffer, Foo value) { buffer.writeInt64(value.f1); } @Override public Foo read(MemoryBuffer buffer) { Foo foo = new Foo(); foo.f1 = buffer.readInt64(); return foo; } }   Ê≥®ÂÜåÂ∫èÂàóÂåñÂô®:  Fury fury=getFury(); fury.registerSerializer(Foo.class,new FooSerializer(fury));   ","version":"0.10","tagName":"h3"},{"title":"ÂÆâÂÖ®‰∏éÁ±ªÊ≥®ÂÜå‚Äã","type":1,"pageTitle":"Java Â∫èÂàóÂåñÊåáÂçó","url":"/zh-CN/docs/0.10/guide/serialization#ÂÆâÂÖ®‰∏éÁ±ªÊ≥®ÂÜå","content":" ÂèØ‰ª•‰ΩøÁî® FuryBuilder#requireClassRegistration Êù•Á¶ÅÁî®Á±ªÊ≥®ÂÜåÔºåËøôÂ∞ÜÂÖÅËÆ∏ÂèçÂ∫èÂàóÂåñÊú™Áü•Á±ªÂûãÁöÑÂØπË±°Ôºå‰ΩøÁî®Êõ¥ÁÅµÊ¥ª„ÄÇ‰ΩÜÂ¶ÇÊûúÁ±ª‰∏≠ÂåÖÂê´ÊÅ∂ÊÑè‰ª£Á†ÅÔºåÂ∞±‰ºöÂá∫Áé∞ÂÆâÂÖ®ÊºèÊ¥û„ÄÇ  Èô§ÈùûËÉΩÁ°Æ‰øùËøêË°åÁéØÂ¢ÉÂíåÂ§ñÈÉ®‰∫§‰∫íÁéØÂ¢ÉÂÆâÂÖ®ÔºåÂê¶ÂàôËØ∑ÂãøÁ¶ÅÁî®Á±ªÊ≥®ÂÜåÊ£ÄÊü•„ÄÇ  Â¶ÇÊûúÁ¶ÅÁî®Ê≠§ÈÄâÈ°πÔºåÂú®ÂèçÂ∫èÂàóÂåñÊú™Áü•/‰∏çÂèØ‰ø°‰ªªÁöÑÁ±ªÂûãÊó∂ÔºåÂèØËÉΩ‰ºöÊâßË°åinit/equals/hashCode‰∏≠ÁöÑÊÅ∂ÊÑè‰ª£Á†Å„ÄÇ Á¶ÅÁî®„ÄÇ  Á±ªÊ≥®ÂÜå‰∏ç‰ªÖÂèØ‰ª•Èôç‰ΩéÂÆâÂÖ®È£éÈô©ÔºåËøòÂèØ‰ª•ÈÅøÂÖçÁ±ªÂêçÂ∫èÂàóÂåñÊàêÊú¨„ÄÇ  ÊÇ®ÂèØ‰ª•‰ΩøÁî® Fury#register API Êù•Ê≥®ÂÜåÁ±ª„ÄÇ  ËØ∑Ê≥®ÊÑèÔºöÁ±ªÊ≥®ÂÜåÈ°∫Â∫èÂæàÈáçË¶ÅÔºåÂ∫èÂàóÂåñÂíåÂèçÂ∫èÂàóÂåñÂØπÔºåÂ∫îÂÖ∑ÊúâÁõ∏ÂêåÁöÑÊ≥®ÂÜåÈ°∫Â∫è„ÄÇ  Fury fury=xxx; fury.register(SomeClass.class); fury.register(SomeClass1.class,200);   Â¶ÇÊûúË∞ÉÁî® FuryBuilder#requireClassRegistration(false) Êù•Á¶ÅÁî®Á±ªÊ≥®ÂÜåÊ£ÄÊü•„ÄÅ ÂèØ‰ª•ÈÄöËøá ClassResolver#setClassChecker ËÆæÁΩÆ org.apache.fury.resolver.ClassChecker Êù•ÊéßÂà∂Âì™‰∫õÁ±ªÊòØÂÖÅËÆ∏Â∫èÂàóÂåñ„ÄÇ‰æãÂ¶ÇÔºåÂèØ‰ª•ÈÄöËøá‰ª•‰∏ãÊñπÂºèÂÖÅËÆ∏‰ª• org.example.* ÂºÄÂ§¥ÁöÑÁ±ªÔºö  Fury fury=xxx; fury.getClassResolver().setClassChecker((classResolver,className)-&gt;className.startsWith(&quot;org.example.&quot;));   AllowListChecker checker=new AllowListChecker(AllowListChecker.CheckLevel.STRICT); ThreadSafeFury fury=new ThreadLocalFury(classLoader-&gt;{ Fury f=Fury.builder().requireClassRegistration(true).withClassLoader(classLoader).build(); f.getClassResolver().setClassChecker(checker); checker.addListener(f.getClassResolver()); return f; }); checker.allowClass(&quot;org.example.*&quot;);   Aapche Fury ËøòÊèê‰æõ‰∫Ü‰∏Ä‰∏™ org.apache.fury.resolver.AllowListCheckerÔºåÂÆÉÊòØ‰∏Ä‰∏™Âü∫‰∫éÂÖÅËÆ∏/Á¶ÅÊ≠¢ÂàóË°®ÁöÑÊ£ÄÊü•Âô®ÔºåÁî®‰∫éÁÆÄÂåñÁ±ªÊ£ÄÊü•Êú∫Âà∂ÁöÑÂÆöÂà∂„ÄÇÊÇ®ÂèØ‰ª•‰ΩøÁî®Ê≠§Ê£ÄÊü•Âô®ÊàñËá™Ë°åÂÆûÁé∞Êõ¥Â§çÊùÇÁöÑÊ£ÄÊü•Âô®„ÄÇ  ","version":"0.10","tagName":"h3"},{"title":"Â∫èÂàóÂåñÂô®Ê≥®ÂÜå‚Äã","type":1,"pageTitle":"Java Â∫èÂàóÂåñÊåáÂçó","url":"/zh-CN/docs/0.10/guide/serialization#Â∫èÂàóÂåñÂô®Ê≥®ÂÜå","content":" ÊÇ®ËøòÂèØ‰ª•ÈÄöËøá Fury#registerSerializer API ‰∏∫Á±ªÊ≥®ÂÜåËá™ÂÆö‰πâÂ∫èÂàóÂåñÂô®„ÄÇÊàñËÄÖ‰∏∫Á±ªÂÆûÁé∞ java.io.Externalizable„ÄÇ  ","version":"0.10","tagName":"h3"},{"title":"Èõ∂Êã∑Ë¥ùÂ∫èÂàóÂåñ‚Äã","type":1,"pageTitle":"Java Â∫èÂàóÂåñÊåáÂçó","url":"/zh-CN/docs/0.10/guide/serialization#Èõ∂Êã∑Ë¥ùÂ∫èÂàóÂåñ","content":" import org.apache.fury.*; import org.apache.fury.config.*; import org.apache.fury.serializers.BufferObject; import org.apache.fury.memory.MemoryBuffer; import java.util.*; import java.util.stream.Collectors; public class ZeroCopyExample { // Note that fury instance should be reused instead of creation every time. static Fury fury = Fury.builder() .withLanguage(Language.JAVA) .build(); // mvn exec:java -Dexec.mainClass=&quot;io.ray.fury.examples.ZeroCopyExample&quot; public static void main(String[] args) { List&lt;Object&gt; list = Arrays.asList(&quot;str&quot;, new byte[1000], new int[100], new double[100]); Collection&lt;BufferObject&gt; bufferObjects = new ArrayList&lt;&gt;(); byte[] bytes = fury.serialize(list, e -&gt; !bufferObjects.add(e)); List&lt;MemoryBuffer&gt; buffers = bufferObjects.stream() .map(BufferObject::toBuffer).collect(Collectors.toList()); System.out.println(fury.deserialize(bytes, buffers)); } }   ","version":"0.10","tagName":"h3"},{"title":"Meta ÂÖ±‰∫´‚Äã","type":1,"pageTitle":"Java Â∫èÂàóÂåñÊåáÂçó","url":"/zh-CN/docs/0.10/guide/serialization#meta-ÂÖ±‰∫´","content":" Apache Fury ÊîØÊåÅÂú®Âêå‰∏Ä‰∏™‰∏ä‰∏ãÊñáÔºà‰æãÂ¶ÇÔºöTCP ConnectionÔºâ‰∏≠ÁöÑÂ§ö‰∏™Â∫èÂàó‰∏≠ÂÖ±‰∫´Á±ªÂûãÂÖÉÊï∞ÊçÆÔºà‰æãÂ¶ÇÔºöÁ±ªÂêçÁß∞ÔºåÂ≠óÊÆµÂêçÁß∞ÔºåÂ≠óÊÆµÁ±ªÂûã‰ø°ÊÅØ Á≠âÔºâÔºåËøô‰∫õ‰ø°ÊÅØÂ∞ÜÂú®‰∏ä‰∏ãÊñá‰∏≠Á¨¨‰∏ÄÊ¨°Â∫èÂàóÂåñÊó∂ÂèëÈÄÅÁªô ÂØπÁ´Ø„ÄÇÊ†πÊçÆËøô‰∫õÂÖÉÊï∞ÊçÆÔºåÂØπÁ´ØÊñπÂèØÈáçÂª∫Áõ∏ÂêåÁöÑÂèçÂ∫èÂàóÂåñÂô®Ôºå‰ªéËÄåÈÅøÂÖç‰∏∫ÂêéÁª≠Â∫èÂàóÂåñ‰º†ËæìÂÖÉÊï∞ÊçÆÔºåÂáèÂ∞ëÁΩëÁªúÊµÅÈáèÂéãÂäõÔºåÂπ∂ÊîØÊåÅÁ±ªÂûãÂêëÂâç/ÂêëÂêéÂÖºÂÆπ„ÄÇ  // Fury.builder() // .withLanguage(Language.JAVA) // .withRefTracking(false) // // share meta across serialization. // .withMetaContextShare(true) // Not thread-safe fury. MetaContext context=xxx; fury.getSerializationContext().setMetaContext(context); byte[]bytes=fury.serialize(o); // Not thread-safe fury. MetaContext context=xxx; fury.getSerializationContext().setMetaContext(context); fury.deserialize(bytes) // Thread-safe fury fury.setClassLoader(beanA.getClass().getClassLoader()); byte[]serialized=fury.execute( f-&gt;{ f.getSerializationContext().setMetaContext(context); return f.serialize(beanA); } ); // thread-safe fury fury.setClassLoader(beanA.getClass().getClassLoader()); Object newObj=fury.execute( f-&gt;{ f.getSerializationContext().setMetaContext(context); return f.deserialize(serialized); } );   ","version":"0.10","tagName":"h3"},{"title":"ÂèçÂ∫èÂàóÂåñ‰∏çÂ≠òÂú®ÁöÑÁ±ª‚Äã","type":1,"pageTitle":"Java Â∫èÂàóÂåñÊåáÂçó","url":"/zh-CN/docs/0.10/guide/serialization#ÂèçÂ∫èÂàóÂåñ‰∏çÂ≠òÂú®ÁöÑÁ±ª","content":" Apache Fury ÊîØÊåÅÂèçÂ∫èÂàóÂåñ‰∏çÂ≠òÂú®ÁöÑÁ±ªÔºåÈÄöËøáFuryBuilder#deserializeNonexistentClass(true) ÈÄâÈ°πÂºÄÂêØ„ÄÇÂΩìÊ≠§ÈÄâÈ°πÂºÄÂêØÁöÑÊó∂ÂÄôÔºåÂêåÊó∂‰πü‰ºöÂºÄÂêØÂÖÉÊï∞ÊçÆÂÖ±‰∫´„ÄÇApache Fury ‰ºöÂ∞ÜËØ•Á±ªÂûãÁöÑÂèçÂ∫èÂàóÂåñÊï∞ÊçÆÂ≠òÂÇ®Âú® lazy Map Â≠êÁ±ª‰∏≠„ÄÇÈÄöËøá‰ΩøÁî® Fury ÂÆûÁé∞ÁöÑ lazy MapÔºåÂèØ‰ª•ÈÅøÂÖçÂú®ÂèçÂ∫èÂàóÂåñËøáÁ®ã‰∏≠Â°´ÂÖÖ map Êó∂ map ÂÜÖÈÉ®ËäÇÁÇπÁöÑrebalanceÊù•‰∏ãÔºå‰ªéËÄåËøõ‰∏ÄÊ≠•ÊèêÈ´òÊÄßËÉΩ„ÄÇÂ¶ÇÊûúËøô‰∫õÊï∞ÊçÆË¢´ÂèëÈÄÅÂà∞Âè¶‰∏Ä‰∏™ËøõÁ®ãÔºåËÄåËØ•ËøõÁ®ã‰∏≠Â≠òÂú®ËØ•Á±ªÔºåÈÇ£‰πàÊï∞ÊçÆÂ∞ÜË¢´ÂèçÂ∫èÂàóÂåñ‰∏∫ËØ•Á±ªÂûãÁöÑÂØπË±°ÔºåËÄå‰∏ç‰ºö‰∏¢Â§±‰ªª‰Ωï‰ø°ÊÅØ„ÄÇ  Â¶ÇÊûúÊú™ÂêØÁî®ÂÖÉÊï∞ÊçÆÂÖ±‰∫´ÔºåÊñ∞Á±ªÊï∞ÊçÆÂ∞ÜË¢´Ë∑≥ËøáÔºåÂπ∂ËøîÂõû‰∏Ä‰∏™ NonexistentSkipClass ÁöÑstub ÂØπË±°„ÄÇ  ","version":"0.10","tagName":"h3"},{"title":"Â∫èÂàóÂåñÂ∫ìËøÅÁßª‚Äã","type":1,"pageTitle":"Java Â∫èÂàóÂåñÊåáÂçó","url":"/zh-CN/docs/0.10/guide/serialization#Â∫èÂàóÂåñÂ∫ìËøÅÁßª","content":" ","version":"0.10","tagName":"h2"},{"title":"JDK ËøÅÁßª‚Äã","type":1,"pageTitle":"Java Â∫èÂàóÂåñÊåáÂçó","url":"/zh-CN/docs/0.10/guide/serialization#jdk-ËøÅÁßª","content":" Â¶ÇÊûúÊÇ®‰πãÂâç‰ΩøÁî® JDK Â∫èÂàóÂåñÔºåÂπ∂‰∏îÊ≤°ÊúâÂêåÊó∂ÂçáÁ∫ß client Âíå server„ÄÇËøôÂú®Á∫ø‰∏äÂ∫îÁî®ÂæàÂ∏∏ËßÅÔºåApache Fury Êèê‰æõ‰∫Ü‰∏Ä‰∏™ org.apache.fury.serializer.JavaSerializer.serializedByJDK Â∑•ÂÖ∑ÊñπÊ≥ïÊù•Ê£ÄÊü•‰∫åËøõÂà∂Êñá‰ª∂ÊòØÂê¶Áî± JDK Â∫èÂàóÂåñÁîüÊàê„ÄÇÊÇ®ÂèØ‰ª•‰ΩøÁî®‰ª•‰∏ãÊ®°Âºè‰ΩøÂ∑≤ÊúâÁöÑÂ∫èÂàóÂåñÂÖ∑ÊúâÊé¢ÊµãËøêË°åÂçèËÆÆÁöÑËÉΩÂäõ„ÄÅÁÑ∂Âêé‰ª•ÂºÇÊ≠•ÊªöÂä®ÂçáÁ∫ßÁöÑÊñπÂºèÂ∞ÜÂ∫èÂàóÂåñÂô®ÈÄêÊ≠•ÂçáÁ∫ßËá≥ Apache FuryÔºö  if(JavaSerializer.serializedByJDK(bytes)){ ObjectInputStream objectInputStream=xxx; return objectInputStream.readObject(); }else{ return fury.deserialize(bytes); }   ","version":"0.10","tagName":"h3"},{"title":"Apache Fury Êõ¥Êñ∞‚Äã","type":1,"pageTitle":"Java Â∫èÂàóÂåñÊåáÂçó","url":"/zh-CN/docs/0.10/guide/serialization#apache-fury-Êõ¥Êñ∞","content":" ÂΩìÂâçÂè™‰øùËØÅÂ∞èÁâàÊú¨‰πãÈó¥ÁöÑÂÖºÂÆπÊÄß„ÄÇ‰æãÂ¶ÇÔºöÊÇ®‰ΩøÁî®ÁöÑ Fury ÁâàÊú¨‰∏∫ 0.9.0ÔºåÂΩìÂçáÁ∫ßÂà∞ Fury 0.8.1 ÁâàÊú¨ÔºåÂèØ‰ª•Á°Æ‰øù‰∫åËøõÂà∂ÂçèËÆÆÁöÑÂÖºÂÆπÊÄß„ÄÇ‰ΩÜÊòØÔºåÂ¶ÇÊûúÊõ¥Êñ∞Âà∞ Fury 0.9.0 ÁâàÊú¨Ôºå‰∫åËøõÂà∂ÂçèËÆÆÂÖºÂÆπÊÄßËÉΩÂäõ‰∏çËÉΩÂæóÂà∞‰øùËØÅ„ÄÇÊàë‰ª¨ËÆ°ÂàíÂú®1.0.0ÁâàÊú¨ÂºÄÂßãÊèê‰æõÂ§ßÁâàÊú¨ÂÜÖÁöÑ‰∫åËøõÂà∂ÂÖºÂÆπÊÄß„ÄÇ  ","version":"0.10","tagName":"h3"},{"title":"Â∏∏ËßÅÈóÆÈ¢òÊéíÊü•‚Äã","type":1,"pageTitle":"Java Â∫èÂàóÂåñÊåáÂçó","url":"/zh-CN/docs/0.10/guide/serialization#Â∏∏ËßÅÈóÆÈ¢òÊéíÊü•","content":" ","version":"0.10","tagName":"h2"},{"title":"Á±ª‰∏ç‰∏ÄËá¥ÂíåÁ±ªÁâàÊú¨Ê£ÄÊü•‚Äã","type":1,"pageTitle":"Java Â∫èÂàóÂåñÊåáÂçó","url":"/zh-CN/docs/0.10/guide/serialization#Á±ª‰∏ç‰∏ÄËá¥ÂíåÁ±ªÁâàÊú¨Ê£ÄÊü•","content":" Â¶ÇÊûúÊÇ®Âú®ÂàõÂª∫ fury Êó∂Êú™Â∞Ü CompatibleMode ËÆæÁΩÆ‰∏∫ org.apache.fury.config.CompatibleMode.COMPATIBLE ËÄåÂá∫Áé∞Â•áÊÄ™ÁöÑÂ∫èÂàóÂåñÈîôËØØÔºåÂèØËÉΩÊòØÁî±‰∫éÂ∫èÂàóÂåñÂØπÂíåÂèçÂ∫èÂàóÂåñÂØπ‰πãÈó¥ÁöÑÁ±ª‰∏ç‰∏ÄËá¥ÈÄ†ÊàêÁöÑ„ÄÇ  Âú®ËøôÁßçÊÉÖÂÜµ‰∏ãÔºåÊÇ®ÂèØ‰ª•Ë∞ÉÁî® FuryBuilder#withClassVersionCheck Êù•ÂàõÂª∫ Fury ‰ª•È™åËØÅÂÆÉÔºåÂ¶ÇÊûúÂèçÂ∫èÂàóÂåñÊó∂ÊäõÂá∫org.apache.fury.exception.ClassNotCompatibleExceptionÔºåÂàôË°®ÊòéÁ±ªÊòØ‰∏ç‰∏ÄËá¥ÁöÑÔºåÊÇ®Â∫îËØ•ÈÄöËøáFuryBuilder#withCompaibleMode(CompatibleMode.COMPATIBLE) ÂàõÂª∫ Fury ÂØπË±°„ÄÇ  CompatibleMode.COMPATIBLE ‰ºöÂ∏¶Êù•Êõ¥Â§öÁöÑÊÄßËÉΩÂíåÁ©∫Èó¥‰ª£‰ª∑ÔºåÂ¶ÇÊûúÊÇ®ÁöÑÁ±ªÂú®Â∫èÂàóÂåñÂíåÂèçÂ∫èÂàóÂåñ‰πãÈó¥‰øùÊåÅ‰∏ÄËá¥ÔºåËØ∑‰∏çË¶ÅËÆæÁΩÆÊ≠§ÈÄâÈ°π„ÄÇ  ","version":"0.10","tagName":"h3"},{"title":"‰ΩøÁî®ÈîôËØØÁöÑ API ÂèçÂ∫èÂàóÂåñ‚Äã","type":1,"pageTitle":"Java Â∫èÂàóÂåñÊåáÂçó","url":"/zh-CN/docs/0.10/guide/serialization#‰ΩøÁî®ÈîôËØØÁöÑ-api-ÂèçÂ∫èÂàóÂåñ","content":" Â¶ÇÊûúÊÇ®Ë∞ÉÁî® Fury#serialize Êù•Â∫èÂàóÂåñÂØπË±°ÔºåÂàôÂ∫îË∞ÉÁî® Fury#deserialize Êù•ÂèçÂ∫èÂàóÂåñÂØπË±°ÔºåËÄå‰∏çÊòØ‰ΩøÁî® Fury#deserializeJavaObject„ÄÇ  Â¶ÇÊûúË∞ÉÁî® Fury#serializeJavaObject Êù•Â∫èÂàóÂåñÂØπË±°ÔºåÂàôÂ∫îË∞ÉÁî® Fury#deserializeJavaObject Êù•ËøõË°åÂèçÂ∫èÂàóÂåñ„ÄÇËÄå‰∏çÊòØ‰ΩøÁî®Fury#deserializeJavaObjectAndClass ÊàñËÄÖ Fury#deserialize„ÄÇ  Â¶ÇÊûúË∞ÉÁî® Fury#serializeJavaObjectAndClass Êù•Â∫èÂàóÂåñÂØπË±°ÔºåÂàôÂ∫î Ë∞ÉÁî® Fury#deserializeJavaObjectAndClass ËøõË°åÂèçÂ∫èÂàóÂåñÔºåËÄå‰∏çÊòØ‰ΩøÁî®Fury#deserializeJavaObject ÊàñËÄÖ Fury#deserialize„ÄÇ ","version":"0.10","tagName":"h3"},{"title":"Fury Row Format","type":0,"sectionRef":"#","url":"/zh-CN/docs/0.10/specification/row_format_spec","content":"","keywords":"","version":"0.10"},{"title":"Row Format‚Äã","type":1,"pageTitle":"Fury Row Format","url":"/zh-CN/docs/0.10/specification/row_format_spec#row-format","content":" Coming soon ","version":"0.10","tagName":"h2"},{"title":"Fury Java Serialization Format","type":0,"sectionRef":"#","url":"/zh-CN/docs/0.10/specification/java_serialization_spec","content":"","keywords":"","version":"0.10"},{"title":"Spec overview‚Äã","type":1,"pageTitle":"Fury Java Serialization Format","url":"/zh-CN/docs/0.10/specification/java_serialization_spec#spec-overview","content":" Fury Java Serialization is an automatic object serialization framework that supports reference and polymorphism. Fury will convert an object from/to fury java serialization binary format. Fury has two core concepts for java serialization:  Fury Java Binary formatFramework to convert object to/from Fury Java Binary format  The serialization format is a dynamic binary format. The dynamics and reference/polymorphism support make Fury flexible, much more easy to use, but also introduce more complexities compared to static serialization frameworks. So the format will be more complex.  Here is the overall format:  | fury header | object ref meta | object class meta | object value data |   The data are serialized using little endian byte order overall. If bytes swap is costly for some object, Fury will write the byte order for that object into the data instead of converting it to little endian.  ","version":"0.10","tagName":"h2"},{"title":"Fury header‚Äã","type":1,"pageTitle":"Fury Java Serialization Format","url":"/zh-CN/docs/0.10/specification/java_serialization_spec#fury-header","content":" Fury header consists starts one byte:  | 4 bits | 1 bit | 1 bit | 1 bit | 1 bit | optional 4 bytes | +---------------+-------+-------+--------+-------+------------------------------------+ | reserved bits | oob | xlang | endian | null | unsigned int for meta start offset |   null flag: 1 when object is null, 0 otherwise. If an object is null, other bits won't be set.endian flag: 1 when data is encoded by little endian, 0 for big endian.xlang flag: 1 when serialization uses xlang format, 0 when serialization uses Fury java format.oob flag: 1 when passed BufferCallback is not null, 0 otherwise.  If meta share mode is enabled, an uncompressed unsigned int is appended to indicate the start offset of metadata.  ","version":"0.10","tagName":"h2"},{"title":"Reference Meta‚Äã","type":1,"pageTitle":"Fury Java Serialization Format","url":"/zh-CN/docs/0.10/specification/java_serialization_spec#reference-meta","content":" Reference tracking handles whether the object is null, and whether to track reference for the object by writing corresponding flags and maintaining internal state.  Reference flags:  Flag\tByte Value\tDescriptionNULL FLAG\t-3\tThis flag indicates the object is a null value. We don't use another byte to indicate REF, so that we can save one byte. REF FLAG\t-2\tThis flag indicates the object is already serialized previously, and fury will write a ref id with unsigned varint format instead of serialize it again NOT_NULL VALUE FLAG\t-1\tThis flag indicates the object is a non-null value and fury doesn't track ref for this type of object. REF VALUE FLAG\t0\tThis flag indicates the object is referencable and the first time to serialize.  When reference tracking is disabled globally or for specific types, or for certain types within a particular context(e.g., a field of a class), only the NULL and NOT_NULL VALUE flags will be used for reference meta.  ","version":"0.10","tagName":"h2"},{"title":"Class Meta‚Äã","type":1,"pageTitle":"Fury Java Serialization Format","url":"/zh-CN/docs/0.10/specification/java_serialization_spec#class-meta","content":" Fury supports to register class by an optional id, the registration can be used for security check and class identification. If a class is registered, it will have a user-provided or an auto-growing unsigned int i.e. class_id.  Depending on whether meta share mode and registration is enabled for current class, Fury will write class meta differently.  ","version":"0.10","tagName":"h2"},{"title":"Schema consistent‚Äã","type":1,"pageTitle":"Fury Java Serialization Format","url":"/zh-CN/docs/0.10/specification/java_serialization_spec#schema-consistent","content":" If schema consistent mode is enabled globally or enabled for current class, class meta will be written as follows:  If class is registered, it will be written as a fury unsigned varint: class_id &lt;&lt; 1.If class is not registered: If class is not an array, fury will write one byte 0bxxxxxxx1 first, then write class name. The first little bit is 1, which is different from first bit 0 of encoded class id. Fury can use this information to determine whether to read class by class id for deserialization. If class is not registered and class is an array, fury will write one byte dimensions &lt;&lt; 1 | 1 first, then write component class subsequently. This can reduce array class name cost if component class is or will be serialized.Class will be written as two enumerated fury unsigned by default: package name and class name. If meta share mode is enabled, class will be written as an unsigned varint which points to index in MetaContext.  ","version":"0.10","tagName":"h3"},{"title":"Schema evolution‚Äã","type":1,"pageTitle":"Fury Java Serialization Format","url":"/zh-CN/docs/0.10/specification/java_serialization_spec#schema-evolution","content":" If schema evolution mode is enabled globally or enabled for current class, class meta will be written as follows:  If meta share mode is not enabled, class meta will be written as schema consistent mode. Additionally, field meta such as field type and name will be written with the field value using a key-value like layout.If meta share mode is enabled, class meta will be written as a meta-share encoded binary if class hasn't been written before, otherwise an unsigned varint id which references to previous written class meta will be written.  ","version":"0.10","tagName":"h3"},{"title":"Meta share‚Äã","type":1,"pageTitle":"Fury Java Serialization Format","url":"/zh-CN/docs/0.10/specification/java_serialization_spec#meta-share","content":" This mode will forbid streaming writing since it needs to look back for update the start offset after the whole object graph writing and meta collecting is finished. Only in this way we can ensure deserialization failure doesn't lost shared meta. Meta streamline will be supported in the future for enclosed meta sharing which doesn't cross multiple serializations of different objects.  For Schema consistent mode, class will be encoded as an enumerated string by full class name. Here we mainly describe the meta layout for schema evolution mode:  | 8 bytes global meta header | 1~2 bytes | variable bytes | variable bytes | variable bytes | +-------------------------------+-------------|--------------------+-------------------+----------------+ | 50 bits hash + 14 bits header | type header | current class meta | parent class meta | ... |   Class meta are encoded from parent class to leaf class, only class with serializable fields will be encoded.  ","version":"0.10","tagName":"h2"},{"title":"Global meta header‚Äã","type":1,"pageTitle":"Fury Java Serialization Format","url":"/zh-CN/docs/0.10/specification/java_serialization_spec#global-meta-header","content":" Meta header is a 64 bits number value encoded in little endian order.  lower 12 bits are used to encode meta size. If meta size &gt;= 0b1111_1111_1111, then writemeta_ size - 0b1111_1111_1111 next.13rd bit is used to indicate whether to write fields meta. When this class is schema-consistent or use registered serializer, fields meta will be skipped. Class Meta will be used for share namespace + type name only.14rd bit is used to indicate whether meta is compressed.Other 50 bits is used to store the unique hash of flags + all layers class meta.  ","version":"0.10","tagName":"h3"},{"title":"Type header‚Äã","type":1,"pageTitle":"Fury Java Serialization Format","url":"/zh-CN/docs/0.10/specification/java_serialization_spec#type-header","content":" Lowest 4 digits 0b0000~0b1110 are used to record num classes. 0b1111 is preserved to indicate that Fury need to read more bytes for length using Fury unsigned int encoding. If current class doesn't has parent class, or parent class doesn't have fields to serialize, or we're in a context which serialize fields of current class only(ObjectStreamSerializer#SlotInfo is an example), num classes will be 1.Other 4 bits are preserved to future extensions.If num classes are greater than or equal to 0b1111, write num_classes - 0b1111 as varuint next.  ","version":"0.10","tagName":"h3"},{"title":"Single layer class meta‚Äã","type":1,"pageTitle":"Fury Java Serialization Format","url":"/zh-CN/docs/0.10/specification/java_serialization_spec#single-layer-class-meta","content":" | unsigned varint | meta string | meta string | field info: variable bytes | variable bytes | ... | +----------------------------+-----------------------+---------------------+-------------------------------+-----------------+-----+ | num fields + register flag | header + package name | header + class name | header + type id + field name | next field info | ... |   num fields: encode num fields &lt;&lt; 1 | register flag(1 when class registered) as unsigned varint. If class is registered, then an unsigned varint class id will be written next, package and class name will be omitted.If current class is schema consistent, then num field will be 0 to flag it.If current class isn't schema consistent, then num field will be the number of compatible fields. For example, users can use tag id to mark some field as compatible field in schema consistent context. In such cases, schema consistent fields will be serialized first, then compatible fields will be serialized next. At deserialization, Fury will use fields info of those fields which aren't annotated by tag id for deserializing schema consistent fields, then use fields info in meta for deserializing compatible fields. Package name encoding(omitted when class is registered): encoding algorithm: UTF8/ALL_TO_LOWER_SPECIAL/LOWER_UPPER_DIGIT_SPECIALHeader: 6 bits size | 2 bits encoding flags. The 6 bits size: 0~63 will be used to indicate size 0~63, the value 63 the size need more byte to read, the encoding will encode size - 63 as a varint next. Class name encoding(omitted when class is registered): encoding algorithm: UTF8/LOWER_UPPER_DIGIT_SPECIAL/FIRST_TO_LOWER_SPECIAL/ALL_TO_LOWER_SPECIALheader: 6 bits size | 2 bits encoding flags. The 6 bits size: 0~63 will be used to indicate size 0~63, the value 63 the size need more byte to read, the encoding will encode size - 63 as a varint next. Field info: header(8 bits): 3 bits size + 2 bits field name encoding + polymorphism flag + nullability flag + ref tracking flag. Users can use annotation to provide those info. 2 bits field name encoding: encoding: UTF8/ALL_TO_LOWER_SPECIAL/LOWER_UPPER_DIGIT_SPECIAL/TAG_IDIf tag id is used, i.e. field name is written by an unsigned varint tag id. 2 bits encoding will be 11. size of field name: The 3 bits size: 0~7 will be used to indicate length 1~7, the value 6 the size read more bytes, the encoding will encode size - 7 as a varint next.If encoding is TAG_ID, then num_bytes of field name will be used to store tag id. ref tracking: when set to 1, ref tracking will be enabled for this field.nullability: when set to 1, this field can be null.polymorphism: when set to 1, the actual type of field will be the declared field type even the type if not final. type id: For registered type-consistent classes, it will be the registered class id.Otherwise it will be encoded as OBJECT_ID if it isn't final and FINAL_OBJECT_ID if it's final. The meta for such types is written separately instead of inlining here is to reduce meta space cost if object of this type is serialized in current object graph multiple times, and the field value may be null too. Field name: If type id is set, type id will be used instead. Otherwise meta string encoding length and data will be written instead.  Field order are left as implementation details, which is not exposed to specification, the deserialization need to resort fields based on Fury field comparator. In this way, fury can compute statistics for field names or types and using a more compact encoding.  ","version":"0.10","tagName":"h3"},{"title":"Other layers class meta‚Äã","type":1,"pageTitle":"Fury Java Serialization Format","url":"/zh-CN/docs/0.10/specification/java_serialization_spec#other-layers-class-meta","content":" Same encoding algorithm as the previous layer except:  header + package name: Header: If package name has been written before: varint index + sharing flag(set) will be writtenIf package name hasn't been written before: If meta string encoding is LOWER_SPECIAL and the length of encoded string &lt;= 64, then header will be6 bits size + encoding flag(set) + sharing flag(unset).Otherwise, header will be 3 bits unset + 3 bits encoding flags + encoding flag(unset) + sharing flag(unset)  ","version":"0.10","tagName":"h3"},{"title":"Meta String‚Äã","type":1,"pageTitle":"Fury Java Serialization Format","url":"/zh-CN/docs/0.10/specification/java_serialization_spec#meta-string","content":" Meta string is mainly used to encode meta strings such as class name and field names.  ","version":"0.10","tagName":"h2"},{"title":"Encoding Algorithms‚Äã","type":1,"pageTitle":"Fury Java Serialization Format","url":"/zh-CN/docs/0.10/specification/java_serialization_spec#encoding-algorithms","content":" String binary encoding algorithm:  Algorithm\tPattern\tDescriptionLOWER_SPECIAL\ta-z._$|\tevery char is written using 5 bits, a-z: 0b00000~0b11001, ._$|: 0b11010~0b11101, prepend one bit at the start to indicate whether strip last char since last byte may have 7 redundant bits(1 indicates strip last char) LOWER_UPPER_DIGIT_SPECIAL\ta-zA-Z0~9._\tevery char is written using 6 bits, a-z: 0b00000~0b11001, A-Z: 0b11010~0b110011, 0~9: 0b110100~0b111101, ._: 0b111110~0b111111, prepend one bit at the start to indicate whether strip last char since last byte may have 7 redundant bits(1 indicates strip last char) UTF-8\tany chars\tUTF-8 encoding  Encoding flags:  Encoding Flag\tPattern\tEncoding AlgorithmLOWER_SPECIAL\tevery char is in a-z._$|\tLOWER_SPECIAL FIRST_TO_LOWER_SPECIAL\tevery char is in a-z[c1,c2] except first char is upper case\treplace first upper case char to lower case, then use LOWER_SPECIAL ALL_TO_LOWER_SPECIAL\tevery char is in a-zA-Z[c1,c2]\treplace every upper case char by | + lower case, then use LOWER_SPECIAL, use this encoding if it's smaller than Encoding LOWER_UPPER_DIGIT_SPECIAL LOWER_UPPER_DIGIT_SPECIAL\tevery char is in a-zA-Z[c1,c2]\tuse LOWER_UPPER_DIGIT_SPECIAL encoding if it's smaller than Encoding FIRST_TO_LOWER_SPECIAL UTF8\tany utf-8 char\tuse UTF-8 encoding Compression\tany utf-8 char\tlossless compression  Notes:  For package name encoding, c1,c2 should be ._; For field/type name encoding, c1,c2 should be _$;Depending on cases, one can choose encoding flags + data jointly, uses 3 bits of first byte for flags and other bytes for data.  ","version":"0.10","tagName":"h3"},{"title":"Shared meta string‚Äã","type":1,"pageTitle":"Fury Java Serialization Format","url":"/zh-CN/docs/0.10/specification/java_serialization_spec#shared-meta-string","content":" The shared meta string format consists of header and encoded string binary. Header of encoded string binary will be inlined in shared meta header.  Header is written using little endian order, Fury can read this flag first to determine how to deserialize the data.  Write by data‚Äã  If string hasn't been written before, the data will be written as follows:  | unsigned varint: string binary size + 1 bit: not written before | 56 bits: unique hash | 3 bits encoding flags + string binary |   If string binary size is less than 16 bytes, the hash will be omitted to save spaces. Unique hash can be omitted too if caller pass a flag to disable it. In such cases, the format will be:  | unsigned varint: string binary size + 1 bit: not written before | 3 bits encoding flags + string binary |   Write by ref‚Äã  If string has been written before, the data will be written as follows:  | unsigned varint: written string id + 1 bit: written before |   ","version":"0.10","tagName":"h3"},{"title":"Value Format‚Äã","type":1,"pageTitle":"Fury Java Serialization Format","url":"/zh-CN/docs/0.10/specification/java_serialization_spec#value-format","content":" ","version":"0.10","tagName":"h2"},{"title":"Basic types‚Äã","type":1,"pageTitle":"Fury Java Serialization Format","url":"/zh-CN/docs/0.10/specification/java_serialization_spec#basic-types","content":" Bool‚Äã  size: 1 byteformat: 0 for false, 1 for true  Byte‚Äã  size: 1 byteformat: write as pure byte.  Short‚Äã  size: 2 bytebyte order: little endian order  Char‚Äã  size: 2 bytebyte order: little endian order  Unsigned int‚Äã  size: 1~5 byteFormat: The most significant bit (MSB) in every byte indicates whether to have the next byte. If first bit is set i.e. b &amp; 0x80 == 0x80, then the next byte should be read until the first bit of the next byte is unset.  Signed int‚Äã  size: 1~5 byteFormat: First convert the number into positive unsigned int by (v &lt;&lt; 1) ^ (v &gt;&gt; 31) ZigZag algorithm, then encoding it as an unsigned int.  Unsigned long‚Äã  size: 1~9 byteFury PVL(Progressive Variable-length Long) Encoding: positive long format: first bit in every byte indicates whether to have the next byte. If first bit is set i.e. b &amp; 0x80 == 0x80, then the next byte should be read until the first bit is unset.  Signed long‚Äã  size: 1~9 byteFury SLI(Small long as int) Encoding: If long is in [-1073741824, 1073741823], encode as 4 bytes int: | little-endian: ((int) value) &lt;&lt; 1 |Otherwise write as 9 bytes: | 0b1 | little-endian 8 bytes long | Fury PVL(Progressive Variable-length Long) Encoding: First convert the number into positive unsigned long by (v &lt;&lt; 1) ^ (v &gt;&gt; 63) ZigZag algorithm to reduce cost of small negative numbers, then encoding it as an unsigned long.  Float‚Äã  size: 4 byteformat: convert float to 4 bytes int by Float.floatToRawIntBits, then write as binary by little endian order.  Double‚Äã  size: 8 byteformat: convert double to 8 bytes int by Double.doubleToRawLongBits, then write as binary by little endian order.  ","version":"0.10","tagName":"h3"},{"title":"String‚Äã","type":1,"pageTitle":"Fury Java Serialization Format","url":"/zh-CN/docs/0.10/specification/java_serialization_spec#string","content":" Format:  | header: size &lt;&lt; 2 | 2 bits encoding flags | binary data |   size + encoding will be concat as a long and encoded as an unsigned var long. The little 2 bits is used for encoding: 0 for latin, 1 for utf-16, 2 for utf-8.encoded string binary data based on encoding: latin/utf-16/utf-8.  Which encoding to choose:  For JDK8: fury detect latin at runtime, if string is latin string, then use latin encoding, otherwise use utf-16.For JDK9+: fury use coder in String object for encoding, latin/utf-16 will be used for encoding.If the string is encoded by utf-8, then fury will use utf-8 to decode the data. But currently fury doesn't enable utf-8 encoding by default for java. Cross-language string serialization of fury uses utf-8 by default.  ","version":"0.10","tagName":"h3"},{"title":"Collection‚Äã","type":1,"pageTitle":"Fury Java Serialization Format","url":"/zh-CN/docs/0.10/specification/java_serialization_spec#collection","content":" All collection serializers must extend AbstractCollectionSerializer.  Format:  length(unsigned varint) | collection header | elements header | elements data   Collection header‚Äã  For ArrayList/LinkedArrayList/HashSet/LinkedHashSet, this will be empty.For TreeSet, this will be ComparatorFor subclass of ArrayList, this may be extra object field info.  Elements header‚Äã  In most cases, all collection elements are same type and not null, elements header will encode those homogeneous information to avoid the cost of writing it for every element. Specifically, there are four kinds of information which will be encoded by elements header, each use one bit:  If track elements ref, use the first bit 0b1 of the header to flag it.If the collection has null, use the second bit 0b10 of the header to flag it. If ref tracking is enabled for this element type, this flag is invalid.If the collection element types are not declared type, use the 3rd bit 0b100 of the header to flag it.If the collection element types are different, use the 4rd bit 0b1000 header to flag it.  By default, all bits are unset, which means all elements won't track ref, all elements are same type, not null and the actual element is the declared type in the custom class field.  The implementation can generate different deserialization code based read header, and look up the generated code from a linear map/list.  Elements data‚Äã  Based on the elements header, the serialization of elements data may skip ref flag/null flag/element class info.  CollectionSerializer#write/read can be taken as an example.  ","version":"0.10","tagName":"h3"},{"title":"Array‚Äã","type":1,"pageTitle":"Fury Java Serialization Format","url":"/zh-CN/docs/0.10/specification/java_serialization_spec#array","content":" Primitive array‚Äã  Primitive array are taken as a binary buffer, serialization will just write the length of array size as an unsigned int, then copy the whole buffer into the stream.  Such serialization won't compress the array. If users want to compress primitive array, users need to register custom serializers for such types.  Object array‚Äã  Object array is serialized using the collection format. Object component type will be taken as collection element generic type.  ","version":"0.10","tagName":"h3"},{"title":"Map‚Äã","type":1,"pageTitle":"Fury Java Serialization Format","url":"/zh-CN/docs/0.10/specification/java_serialization_spec#map","content":" All Map serializers must extend AbstractMapSerializer.  Format:  | length(unsigned varint) | map header | key value pairs data |   Map header‚Äã  For HashMap/LinkedHashMap, this will be empty.For TreeMap, this will be ComparatorFor other Map, this may be extra object field info.  Map Key-Value data‚Äã  Map iteration is too expensive, Fury won't compute the header like for collection before since it introduceconsiderable overhead. Users can use MapFieldInfo annotation to provide header in advance. Otherwise Fury will use first key-value pair to predict header optimistically, and update the chunk header if the prediction failed at some pair.  Fury will serialize map chunk by chunk, every chunk has 127 pairs at most.  | 1 byte | 1 byte | variable bytes | +----------------+----------------+-----------------+ | KV header | chunk size: N | N*2 objects |   KV header:  If track key ref, use the first bit 0b1 of the header to flag it.If the key has null, use the second bit 0b10 of the header to flag it. If ref tracking is enabled for this key type, this flag is invalid.If the actual key type of map is not the declared key type, use the 3rd bit 0b100 of the header to flag it.If track value ref, use the 4th bit 0b1000 of the header to flag it.If the value has null, use the 5th bit 0b10000 of the header to flag it. If ref tracking is enabled for this value type, this flag is invalid.If the value type of map is not the declared value type, use the 6rd bit 0b100000 of the header to flag it.If key or value is null, that key and value will be written as a separate chunk, and chunk size writing will be skipped too.  If streaming write is enabled, which means Fury can't update written chunk size. In such cases, map key-value data format will be:  | 1 byte | variable bytes | +----------------+-----------------+ | KV header | N*2 objects |   KV header will be a header marked by MapFieldInfo in java. The implementation can generate different deserialization code based read header, and look up the generated code from a linear map/list.  ","version":"0.10","tagName":"h3"},{"title":"Enum‚Äã","type":1,"pageTitle":"Fury Java Serialization Format","url":"/zh-CN/docs/0.10/specification/java_serialization_spec#enum","content":" Enums are serialized as an unsigned var int. If the order of enum values change, the deserialized enum value may not be the value users expect. In such cases, users must register enum serializer by make it write enum value as an enumerated string with unique hash disabled.  ","version":"0.10","tagName":"h3"},{"title":"Object‚Äã","type":1,"pageTitle":"Fury Java Serialization Format","url":"/zh-CN/docs/0.10/specification/java_serialization_spec#object","content":" Object means object of pojo/struct/bean/record type. Object will be serialized by writing its fields data in fury order.  Depending on schema compatibility, objects will have different formats.  Field order‚Äã  Field will be ordered as following, every group of fields will have its own order:  primitive fields: larger size type first, smaller later, variable size type last.boxed primitive fields: same order as primitive fieldsfinal fields: same type together, then sorted by field name lexicographically.collection fields: same order as final fieldsmap fields: same order as final fieldsother fields: same order as final fields  Schema consistent‚Äã  Object fields will be serialized one by one using following format:  Primitive field value: | var bytes | +----------------+ | value data | +----------------+ Boxed field value: | one byte | var bytes | +-----------+---------------+ | null flag | field value | +-----------+---------------+ field value of final type with ref tracking: | var bytes | var objects | +-----------+-------------+ | ref meta | value data | +-----------+-------------+ field value of final type without ref tracking: | one byte | var objects | +-----------+-------------+ | null flag | field value | +-----------+-------------+ field value of non-final type with ref tracking: | one byte | var bytes | var objects | +-----------+-------------+-------------+ | ref meta | class meta | value data | +-----------+-------------+-------------+ field value of non-final type without ref tracking: | one byte | var bytes | var objects | +-----------+------------+------------+ | null flag | class meta | value data | +-----------+------------+------------+   Schema evolution‚Äã  Schema evolution have similar format as schema consistent mode for object except:  For this object type itself, schema consistent mode will write class by id/name, but schema evolution mode will write class field names, types and other meta too, see Class meta.Class meta of final custom type needs to be written too, because peers may not have this class defined.  ","version":"0.10","tagName":"h3"},{"title":"Class‚Äã","type":1,"pageTitle":"Fury Java Serialization Format","url":"/zh-CN/docs/0.10/specification/java_serialization_spec#class","content":" Class will be serialized using class meta format.  ","version":"0.10","tagName":"h3"},{"title":"Implementation guidelines‚Äã","type":1,"pageTitle":"Fury Java Serialization Format","url":"/zh-CN/docs/0.10/specification/java_serialization_spec#implementation-guidelines","content":" Try to merge multiple bytes into an int/long write before writing to reduce memory IO and bound check cost.Read multiple bytes as an int/long, then split into multiple bytes to reduce memory IO and bound check cost.Try to use one varint/long to write flags and length together to save one byte cost and reduce memory io.Condition branches are less expensive compared to memory IO cost unless there are too many branches. ","version":"0.10","tagName":"h2"},{"title":"ÂÆâË£Ö Apache Fury","type":0,"sectionRef":"#","url":"/zh-CN/docs/0.10/start/install","content":"","keywords":"","version":"0.10"},{"title":"Fury Java ÂÆâË£Ö‚Äã","type":1,"pageTitle":"ÂÆâË£Ö Apache Fury","url":"/zh-CN/docs/0.10/start/install#fury-java-ÂÆâË£Ö","content":" Ë¶Å‰ΩøÁî® Maven Ê∑ªÂä†ÂØπ Apache Fury ÁöÑ‰æùËµñÔºåËØ∑‰ΩøÁî®‰ª•‰∏ãÈÖçÁΩÆÔºö  &lt;dependency&gt; &lt;groupId&gt;org.apache.fury&lt;/groupId&gt; &lt;artifactId&gt;fury-core&lt;/artifactId&gt; &lt;version&gt;0.10.3&lt;/version&gt; &lt;/dependency&gt; &lt;!-- row/arrow format support --&gt; &lt;!-- &lt;dependency&gt; &lt;groupId&gt;org.apache.fury&lt;/groupId&gt; &lt;artifactId&gt;fury-format&lt;/artifactId&gt; &lt;version&gt;0.10.3&lt;/version&gt; &lt;/dependency&gt; --&gt;   ","version":"0.10","tagName":"h3"},{"title":"Fury Scala ÂÆâË£Ö‚Äã","type":1,"pageTitle":"ÂÆâË£Ö Apache Fury","url":"/zh-CN/docs/0.10/start/install#fury-scala-ÂÆâË£Ö","content":" Ë¶Å‰ΩøÁî® Maven Ê∑ªÂä† scala 2.13 ÁöÑ Fury scala ‰æùËµñÔºåËØ∑‰ΩøÁî®‰ª•‰∏ãÈÖçÁΩÆÔºö  &lt;dependency&gt; &lt;groupId&gt;org.apache.fury&lt;/groupId&gt; &lt;artifactId&gt;fury-scala_2.13&lt;/artifactId&gt; &lt;version&gt;0.10.3&lt;/version&gt; &lt;/dependency&gt;   Ë¶Å‰ΩøÁî® Maven Ê∑ªÂä† scala 3 ÁöÑ Fury scala ‰æùËµñÔºåËØ∑‰ΩøÁî®‰ª•‰∏ãÈÖçÁΩÆÔºö  &lt;dependency&gt; &lt;groupId&gt;org.apache.fury&lt;/groupId&gt; &lt;artifactId&gt;fury-scala_3&lt;/artifactId&gt; &lt;version&gt;0.10.3&lt;/version&gt; &lt;/dependency&gt;   Ë¶Å‰ΩøÁî® sbt Ê∑ªÂä† scala 2.13 ÁöÑ Fury scala ‰æùËµñÔºåËØ∑‰ΩøÁî®‰ª•‰∏ãÈÖçÁΩÆÔºö  libraryDependencies += &quot;org.apache.fury&quot; % &quot;fury-scala_2.13&quot; % &quot;0.10.3&quot;   Ë¶Å‰ΩøÁî® sbt Ê∑ªÂä† scala 3 ÁöÑ Fury scala ‰æùËµñÔºåËØ∑‰ΩøÁî®‰ª•‰∏ãÈÖçÁΩÆÔºö  libraryDependencies += &quot;org.apache.fury&quot; % &quot;fury-scala_3&quot; % &quot;0.10.3&quot;   ","version":"0.10","tagName":"h3"},{"title":"Fury Kotlin ÂÆâË£Ö‚Äã","type":1,"pageTitle":"ÂÆâË£Ö Apache Fury","url":"/zh-CN/docs/0.10/start/install#fury-kotlin-ÂÆâË£Ö","content":" To add a dependency on Fury kotlin with maven, use the following:  &lt;dependency&gt; &lt;groupId&gt;org.apache.fury&lt;/groupId&gt; &lt;artifactId&gt;fury-kotlin&lt;/artifactId&gt; &lt;version&gt;0.10.3&lt;/version&gt; &lt;/dependency&gt;  ","version":"0.10","tagName":"h2"},{"title":"Á§æÂå∫","type":0,"sectionRef":"#","url":"/zh-CN/docs/0.11/community/","content":"","keywords":"","version":"0.11"},{"title":"ÈÇÆ‰ª∂ÂàóË°®‚Äã","type":1,"pageTitle":"Á§æÂå∫","url":"/zh-CN/docs/0.11/community/#ÈÇÆ‰ª∂ÂàóË°®","content":" ÈÇÆ‰ª∂ÂàóË°®\tÊèèËø∞\tËÆ¢ÈòÖ\tÂèñÊ∂àËÆ¢ÈòÖ\tÂèëÈÄÅÈÇÆ‰ª∂\tÊ¥ªÂä®dev@fory.apache.org\tÂºÄÂèëÁõ∏ÂÖ≥ËÆ®ËÆ∫\tËÆ¢ÈòÖ\tÂèñÊ∂àËÆ¢ÈòÖ\tÂèëÈÄÅÈÇÆ‰ª∂\tÈÇÆ‰ª∂ÂàóË°®Ê¥ªÂä® commits@fory.apache.org\t‰ªìÂ∫ìÁöÑÊâÄÊúâ commits\tËÆ¢ÈòÖ\tÂèñÊ∂àËÆ¢ÈòÖ\tÂè™ËØªÁöÑÈÇÆ‰ª∂ÂàóË°®\tÈÇÆ‰ª∂ÂàóË°®Ê¥ªÂä®  Âú®Â∞ùËØïÂèëÈÄÅÈÇÆ‰ª∂‰πãÂâçÔºåËØ∑Á°Æ‰øùËÆ¢ÈòÖ‰∏äËø∞ÁöÑÈÇÆ‰ª∂ÂàóË°®„ÄÇ  Â¶ÇÊûúÊÇ®Ê≤°ÊúâËÆ¢ÈòÖÈÇÆ‰ª∂ÂàóË°®ÔºåÊÇ®ÁöÑÈÇÆ‰ª∂Â∞ÜË¢´ÊãíÁªùÊàñ‰∏ç‰ºöÊî∂Âà∞ÂõûÂ§ç„ÄÇ  ","version":"0.11","tagName":"h2"},{"title":"Â¶Ç‰ΩïËÆ¢ÈòÖÈÇÆ‰ª∂ÂàóË°®‚Äã","type":1,"pageTitle":"Á§æÂå∫","url":"/zh-CN/docs/0.11/community/#Â¶Ç‰ΩïËÆ¢ÈòÖÈÇÆ‰ª∂ÂàóË°®","content":" Ë¶ÅÂèëÈÄÅÈÇÆ‰ª∂Ëá≥ÈÇÆ‰ª∂ÂàóË°®ÔºåËØ∑ÂÖàÈÄöËøá‰ª•‰∏ãÊñπÂºèËÆ¢ÈòÖÔºö  ÂèëÈÄÅÁîµÂ≠êÈÇÆ‰ª∂Ëá≥ listname-subscribe@fory.apache.orgÔºåÂπ∂Áõ∏Â∫îÊõøÊç¢ listnameÔºõÂõûÂ§çÊÇ®Â∞ÜÊî∂Âà∞ÁöÑÁ°ÆËÆ§ÁîµÂ≠êÈÇÆ‰ª∂Ôºå‰øùÊåÅÈÇÆ‰ª∂‰∏ªÈ¢òË°åÂÆåÊï¥ÔºõÁÑ∂ÂêéÊÇ®Â∞ÜÊî∂Âà∞‰∏ÄÂ∞ÅÊ¨¢ËøéÁöÑÁîµÂ≠êÈÇÆ‰ª∂ÔºåËÆ¢ÈòÖÊàêÂäü„ÄÇ  Âú®ËÆ®ËÆ∫ÁîµÂ≠êÈÇÆ‰ª∂‰∏≠ÁöÑ‰ª£Á†ÅÁâáÊÆµÊó∂ÔºåËØ∑Á°Æ‰øùÔºö  ÊÇ®‰∏çË¶ÅÈìæÊé•Âà∞Â§ñÈÉ®ÊúçÂä°‰∏≠ÁöÑÊñá‰ª∂ÔºåÂõ†‰∏∫Ê≠§Á±ªÊñá‰ª∂ÂèØËÉΩ‰ºöÊõ¥Êîπ„ÄÅË¢´Âà†Èô§ÊàñÈìæÊé•ÂèØËÉΩ‰ºö‰∏≠Êñ≠Ôºå‰ªéËÄå‰ΩøÂ≠òÊ°£ÁöÑÁîµÂ≠êÈÇÆ‰ª∂Á∫øÁ®ãÂèòÂæóÊó†Áî®ÔºõÊÇ®Á≤òË¥¥ÊñáÊú¨ËÄå‰∏çÊòØÊñáÊú¨Â±èÂπïÊà™ÂõæÔºõÁ≤òË¥¥‰ª£Á†ÅÊó∂‰øùÊåÅÊ†ºÂºèÔºå‰ª•‰øùÊåÅ‰ª£Á†ÅÂèØËØªÔºõÊúâË∂≥Â§üÁöÑÂØºÂÖ•ËØ≠Âè•‰ª•ÈÅøÂÖç‰∫ßÁîü‰ª£Á†ÅÊ≠ß‰πâ„ÄÇ  ","version":"0.11","tagName":"h3"},{"title":"Slack‚Äã","type":1,"pageTitle":"Á§æÂå∫","url":"/zh-CN/docs/0.11/community/#slack","content":" ÊÇ®ÂèØ‰ª•Âä†ÂÖ•Slack ‰∏äÁöÑ Apache Fory‚Ñ¢ Á§æÂå∫„ÄÇ  ËøôÈáåÊúâ‰∏Ä‰∫õÁ§æÂå∫ËßÑÂàôÔºö  ‰øùÊåÅÂ∞äÈáçÂíåÂèãÂñÑÔºõÊâÄÊúâÈáçË¶ÅÁöÑÂÜ≥ÂÆöÂíåÁªìËÆ∫ÈÉΩÂøÖÈ°ªÂèçÊò†Âà∞ÈÇÆ‰ª∂ÂàóË°®‰∏≠„ÄÇ ‚ÄúÂ¶ÇÊûúËøôÊ≤°ÊúâÂú®ÈÇÆ‰ª∂ÂàóË°®‰∏≠ÊúâÁõ∏ÂÖ≥ÁöÑËÆ®ËÆ∫ËÆ∞ÂΩïÔºåÂàô‰ª£Ë°®ÂÆÉ‰∏çÁîüÊïà‚Äù ÔºõThe Apache WayÔºõ‰ΩøÁî® Slack Á∫øÁ®ãÊù•Èò≤Ê≠¢Âπ∂Ë°åÂØπËØùÊ∑πÊ≤°ÂΩìÂâçÁöÑÂØπËØùÈ¢ëÈÅìÔºõËØ∑‰∏çË¶ÅÁõ¥Êé•ÂêëÈÇÆ‰ª∂ÂàóË°®ÂèëÈÄÅ Bug fix„ÄÅIssue ÂàÜÈÖçÂíå Code Review Ê∂àÊÅØ„ÄÇËøô‰∫õÂÜÖÂÆπÂ∫îËØ•Ë¢´Á§æÂå∫Ë¥°ÁåÆËÄÖËá™ÊÑøÂ§ÑÁêÜÂπ∂ÂàÜÈÖç„ÄÇ  ","version":"0.11","tagName":"h2"},{"title":"Issue Ë∑üË∏™‚Äã","type":1,"pageTitle":"Á§æÂå∫","url":"/zh-CN/docs/0.11/community/#issue-Ë∑üË∏™","content":" Êàë‰ª¨‰ΩøÁî® GitHub Issues Êù•Ë∑üË∏™ÊâÄÊúâ IssuesÔºö  ‰ª£Á†ÅÁõ∏ÂÖ≥ÈóÆÈ¢òÔºöhttps://github.com/apache/fory/issuesÁΩëÁ´ôÁõ∏ÂÖ≥ÈóÆÈ¢òÔºöhttps://github.com/apache/fory-site/issues  ÊÇ®ÈúÄË¶ÅÊúâ‰∏Ä‰∏™ GitHub Â∏êÊà∑ ÊâçËÉΩÂàõÂª∫ÈóÆÈ¢ò„ÄÇ Â¶ÇÊûúÊÇ®Ê≤°Êúâ GitHub Â∏êÊà∑ÔºåÊÇ®ÂèØ‰ª•ÂèëÈÄÅÁîµÂ≠êÈÇÆ‰ª∂Ëá≥ dev@fory.apache.org„ÄÇ  ","version":"0.11","tagName":"h2"},{"title":"Êä•Âëä Bug‚Äã","type":1,"pageTitle":"Á§æÂå∫","url":"/zh-CN/docs/0.11/community/#Êä•Âëä-bug","content":" ÊÇ®Âú®Êä•Âëä Bug ‰πãÂâçÔºåÂ∫îËØ•Ôºö  È™åËØÅËØ• Bug Á°ÆÂÆûÂ≠òÂú®ÔºõÊêúÁ¥¢ Issue List ‰ª•Á°Æ‰øù‰∏çÂ≠òÂú®Áõ∏ÂÖ≥ Bug„ÄÇÂú® Issue List ‰∏≠ÂàõÂª∫ bug Êä•Âëä„ÄÇÂ¶ÇÊûúÂèØËÉΩÁöÑËØùÔºåÊ∑±ÂÖ•Á†îÁ©∂ Apache Fory‚Ñ¢ ÁöÑÊ∫ê‰ª£Á†ÅÔºåÂπ∂ÈíàÂØπÊÇ®Êä•ÂëäÁöÑ Bug Êèê‰∫§Ë°•‰∏ÅÔºåËøôÊúâÂä©‰∫éÂø´ÈÄü‰øÆÂ§ç Bug„ÄÇ  ","version":"0.11","tagName":"h3"},{"title":"Êä•ÂëäÂÆâÂÖ®ÊºèÊ¥û‚Äã","type":1,"pageTitle":"Á§æÂå∫","url":"/zh-CN/docs/0.11/community/#Êä•ÂëäÂÆâÂÖ®ÊºèÊ¥û","content":" Apache Fory‚Ñ¢ ÊòØ Apache ËΩØ‰ª∂Âü∫Èáë‰ºö ÁöÑ‰∏Ä‰∏™È°πÁõÆÔºåÈÅµÂæ™ ASF ÊºèÊ¥ûÂ§ÑÁêÜÊµÅÁ®ã„ÄÇ  Ë¶ÅÊä•ÂëäÊÇ®ÂèëÁé∞ÁöÑÊñ∞ÁöÑÂÆâÂÖ®ÊºèÊ¥ûÔºåËØ∑ÈÅµÂæ™ ASF ÊºèÊ¥ûÊä•ÂëäÊµÅÁ®ãÔºåËØ•ÊµÅÁ®ãËß£Èáä‰∫ÜÂ¶Ç‰ΩïÁßÅ‰∏ãÂêëÁ§æÂå∫Áª¥Êä§ËÄÖÂèëÈÄÅËØ¶ÁªÜÁöÑÊºèÊ¥û‰ø°ÊÅØ„ÄÇ  ","version":"0.11","tagName":"h3"},{"title":"New Feature‚Äã","type":1,"pageTitle":"Á§æÂå∫","url":"/zh-CN/docs/0.11/community/#new-feature","content":" Ê¨¢ËøéÊÇ®Â¢ûÂº∫ÂäüËÉΩÊàñÊñ∞ÂäüËÉΩÂª∫ËÆÆ„ÄÇÊèêÊ°àË∂äÂÖ∑‰Ωì„ÄÅË∂äÂêàÁêÜÔºåÊÇ®Âú® Apache Fory‚Ñ¢ Á§æÂå∫ÁöÑÂΩ±ÂìçÂäõÂ∞±Ë∂äÂ§ß„ÄÇÂÆÉÊúâÂèØËÉΩÂú®‰πãÂêéÁâàÊú¨ÂèëÂ∏É„ÄÇ  ","version":"0.11","tagName":"h3"},{"title":"È°πÁõÆÊ∫ê‰ª£Á†Å‚Äã","type":1,"pageTitle":"Á§æÂå∫","url":"/zh-CN/docs/0.11/community/#È°πÁõÆÊ∫ê‰ª£Á†Å","content":" Apache Fory‚Ñ¢ Core Â≠òÂÇ®Â∫ìÔºöhttps://github.com/apache/foryApache Fory‚Ñ¢ ÁΩëÁ´ôÂ≠òÂÇ®Â∫ìÔºöhttps://github.com/apache/fory-site ","version":"0.11","tagName":"h3"},{"title":"Â§öËØ≠Ë®ÄÂ∫èÂàóÂåñÊåáÂçó","type":0,"sectionRef":"#","url":"/zh-CN/docs/0.10/guide/xlang_serialization","content":"","keywords":"","version":"0.10"},{"title":"Ë∑®ËØ≠Ë®ÄÂØπË±°ÂõæÂ∫èÂàóÂåñ‚Äã","type":1,"pageTitle":"Â§öËØ≠Ë®ÄÂ∫èÂàóÂåñÊåáÂçó","url":"/zh-CN/docs/0.10/guide/xlang_serialization#Ë∑®ËØ≠Ë®ÄÂØπË±°ÂõæÂ∫èÂàóÂåñ","content":" ","version":"0.10","tagName":"h2"},{"title":"Â∫èÂàóÂåñÂÜÖÁΩÆÁ±ªÂûã‚Äã","type":1,"pageTitle":"Â§öËØ≠Ë®ÄÂ∫èÂàóÂåñÊåáÂçó","url":"/zh-CN/docs/0.10/guide/xlang_serialization#Â∫èÂàóÂåñÂÜÖÁΩÆÁ±ªÂûã","content":" Apache FuryÂèØ‰ª•Ëá™Âä®Â∫èÂàóÂåñÁºñÁ®ãËØ≠Ë®ÄÁöÑÂ∏∏ËßÅÊï∞ÊçÆÁ±ªÂûãÔºöprimitive numeric types, string, binary, array, list, map Á≠â„ÄÇ  Java  import org.apache.fury.*; import org.apache.fury.config.*; import java.util.*; public class Example1 { public static void main(String[] args) { Fury fury = Fury.builder().withLanguage(Language.XLANG).build(); List&lt;Object&gt; list = ofArrayList(true, false, &quot;str&quot;, -1.1, 1, new int[100], new double[20]); byte[] bytes = fury.serialize(list); // bytes can be data serialized by other languages. fury.deserialize(bytes); Map&lt;Object, Object&gt; map = new HashMap&lt;&gt;(); map.put(&quot;k1&quot;, &quot;v1&quot;); map.put(&quot;k2&quot;, list); map.put(&quot;k3&quot;, -1); bytes = fury.serialize(map); // bytes can be data serialized by other languages. fury.deserialize(bytes); } }   Python  import pyfury import numpy as np fury = pyfury.Fury() object_list = [True, False, &quot;str&quot;, -1.1, 1, np.full(100, 0, dtype=np.int32), np.full(20, 0.0, dtype=np.double)] data = fury.serialize(object_list) # bytes can be data serialized by other languages. new_list = fury.deserialize(data) object_map = {&quot;k1&quot;: &quot;v1&quot;, &quot;k2&quot;: object_list, &quot;k3&quot;: -1} data = fury.serialize(object_map) # bytes can be data serialized by other languages. new_map = fury.deserialize(data) print(new_map)   Golang  package main import furygo &quot;github.com/apache/fury/fury/go/fury&quot; import &quot;fmt&quot; func main() { list := []interface{}{true, false, &quot;str&quot;, -1.1, 1, make([]int32, 10), make([]float64, 20)} fury := furygo.NewFury() bytes, err := fury.Marshal(list) if err != nil { panic(err) } var newValue interface{} // bytes can be data serialized by other languages. if err := fury.Unmarshal(bytes, &amp;newValue); err != nil { panic(err) } fmt.Println(newValue) dict := map[string]interface{}{ &quot;k1&quot;: &quot;v1&quot;, &quot;k2&quot;: list, &quot;k3&quot;: -1, } bytes, err = fury.Marshal(dict) if err != nil { panic(err) } // bytes can be data serialized by other languages. if err := fury.Unmarshal(bytes, &amp;newValue); err != nil { panic(err) } fmt.Println(newValue) }   JavaScript  import Fury from &quot;@furyjs/fury&quot;; /** * @furyjs/hps use v8's fast-calls-api that can be called directly by jit, ensure that the version of Node is 20 or above. * Experimental feature, installation success cannot be guaranteed at this moment * If you are unable to install the module, replace it with `const hps = null;` **/ import hps from &quot;@furyjs/hps&quot;; const fury = new Fury({ hps }); const input = fury.serialize(&quot;hello fury&quot;); const result = fury.deserialize(input); console.log(result);   Rust  use chrono::{NaiveDate, NaiveDateTime}; use fury::{from_buffer, to_buffer, Fury}; use std::collections::HashMap; fn run() { let bin: Vec&lt;u8&gt; = to_buffer(&amp;&quot;hello&quot;.to_string()); let obj: String = from_buffer(&amp;bin).expect(&quot;should success&quot;); assert_eq!(&quot;hello&quot;.to_string(), obj); }   ","version":"0.10","tagName":"h3"},{"title":"Â∫èÂàóÂåñËá™ÂÆö‰πâÁ±ªÂûã‚Äã","type":1,"pageTitle":"Â§öËØ≠Ë®ÄÂ∫èÂàóÂåñÊåáÂçó","url":"/zh-CN/docs/0.10/guide/xlang_serialization#Â∫èÂàóÂåñËá™ÂÆö‰πâÁ±ªÂûã","content":" Â∫èÂàóÂåñÁî®Êà∑ÂÆö‰πâÁöÑÁ±ªÂûãÈúÄË¶Å‰ΩøÁî®Ê≥®ÂÜå API Ê≥®ÂÜåËá™ÂÆö‰πâÁ±ªÂûãÔºå‰ª•‰æøÂú®‰∏çÂêåËØ≠Ë®Ä‰∏≠Âª∫Á´ãÁ±ªÂûã‰πãÈó¥ÁöÑÊò†Â∞ÑÂÖ≥Á≥ª„ÄÇ  Java  import org.apache.fury.*; import org.apache.fury.config.*; import java.util.*; public class Example2 { public static class SomeClass1 { Object f1; Map&lt;Byte, Integer&gt; f2; } public static class SomeClass2 { Object f1; String f2; List&lt;Object&gt; f3; Map&lt;Byte, Integer&gt; f4; Byte f5; Short f6; Integer f7; Long f8; Float f9; Double f10; short[] f11; List&lt;Short&gt; f12; } public static Object createObject() { SomeClass1 obj1 = new SomeClass1(); obj1.f1 = true; obj1.f2 = ofHashMap((byte) -1, 2); SomeClass2 obj = new SomeClass2(); obj.f1 = obj1; obj.f2 = &quot;abc&quot;; obj.f3 = ofArrayList(&quot;abc&quot;, &quot;abc&quot;); obj.f4 = ofHashMap((byte) 1, 2); obj.f5 = Byte.MAX_VALUE; obj.f6 = Short.MAX_VALUE; obj.f7 = Integer.MAX_VALUE; obj.f8 = Long.MAX_VALUE; obj.f9 = 1.0f / 2; obj.f10 = 1 / 3.0; obj.f11 = new short[]{(short) 1, (short) 2}; obj.f12 = ofArrayList((short) -1, (short) 4); return obj; } // mvn exec:java -Dexec.mainClass=&quot;org.apache.fury.examples.Example2&quot; public static void main(String[] args) { Fury fury = Fury.builder().withLanguage(Language.XLANG).build(); fury.register(SomeClass1.class, &quot;example.SomeClass1&quot;); fury.register(SomeClass2.class, &quot;example.SomeClass2&quot;); byte[] bytes = fury.serialize(createObject()); // bytes can be data serialized by other languages. System.out.println(fury.deserialize(bytes)); } }   Python  from dataclasses import dataclass from typing import List, Dict, Any import pyfury, array @dataclass class SomeClass1: f1: Any f2: Dict[pyfury.Int8Type, pyfury.Int32Type] @dataclass class SomeClass2: f1: Any = None f2: str = None f3: List[str] = None f4: Dict[pyfury.Int8Type, pyfury.Int32Type] = None f5: pyfury.Int8Type = None f6: pyfury.Int16Type = None f7: pyfury.Int32Type = None # int type will be taken as `pyfury.Int64Type`. # use `pyfury.Int32Type` for type hint if peer # are more narrow type. f8: int = None f9: pyfury.Float32Type = None # float type will be taken as `pyfury.Float64Type` f10: float = None f11: pyfury.Int16ArrayType = None f12: List[pyfury.Int16Type] = None if __name__ == &quot;__main__&quot;: f = pyfury.Fury() f.register_class(SomeClass1, type_tag=&quot;example.SomeClass1&quot;) f.register_class(SomeClass2, type_tag=&quot;example.SomeClass2&quot;) obj1 = SomeClass1(f1=True, f2={-1: 2}) obj = SomeClass2( f1=obj1, f2=&quot;abc&quot;, f3=[&quot;abc&quot;, &quot;abc&quot;], f4={1: 2}, f5=2 ** 7 - 1, f6=2 ** 15 - 1, f7=2 ** 31 - 1, f8=2 ** 63 - 1, f9=1.0 / 2, f10=1 / 3.0, f11=array.array(&quot;h&quot;, [1, 2]), f12=[-1, 4], ) data = f.serialize(obj) # bytes can be data serialized by other languages. print(f.deserialize(data))   Golang  package main import furygo &quot;github.com/apache/fury/fury/go/fury&quot; import &quot;fmt&quot; func main() { type SomeClass1 struct { F1 interface{} F2 string F3 []interface{} F4 map[int8]int32 F5 int8 F6 int16 F7 int32 F8 int64 F9 float32 F10 float64 F11 []int16 F12 fury.Int16Slice } type SomeClas2 struct { F1 interface{} F2 map[int8]int32 } fury := furygo.NewFury() if err := fury.RegisterTagType(&quot;example.SomeClass1&quot;, SomeClass1{}); err != nil { panic(err) } if err := fury.RegisterTagType(&quot;example.SomeClass2&quot;, SomeClass2{}); err != nil { panic(err) } obj1 := &amp;SomeClass1{} obj1.F1 = true obj1.F2 = map[int8]int32{-1: 2} obj := &amp;SomeClass1{} obj.F1 = obj1 obj.F2 = &quot;abc&quot; obj.F3 = []interface{}{&quot;abc&quot;, &quot;abc&quot;} f4 := map[int8]int32{1: 2} obj.F4 = f4 obj.F5 = fury.MaxInt8 obj.F6 = fury.MaxInt16 obj.F7 = fury.MaxInt32 obj.F8 = fury.MaxInt64 obj.F9 = 1.0 / 2 obj.F10 = 1 / 3.0 obj.F11 = []int16{1, 2} obj.F12 = []int16{-1, 4} bytes, err := fury.Marshal(obj); if err != nil { panic(err) } var newValue interface{} // bytes can be data serialized by other languages. if err := fury.Unmarshal(bytes, &amp;newValue); err != nil { panic(err) } fmt.Println(newValue) }   JavaScript  import Fury, { Type, InternalSerializerType } from &quot;@furyjs/fury&quot;; /** * @furyjs/hps use v8's fast-calls-api that can be called directly by jit, ensure that the version of Node is 20 or above. * Experimental feature, installation success cannot be guaranteed at this moment * If you are unable to install the module, replace it with `const hps = null;` **/ import hps from &quot;@furyjs/hps&quot;; // Now we describe data structures using JSON, but in the future, we will use more ways. const description = Type.object(&quot;example.foo&quot;, { foo: Type.string(), }); const fury = new Fury({ hps }); const { serialize, deserialize } = fury.registerSerializer(description); const input = serialize({ foo: &quot;hello fury&quot; }); const result = deserialize(input); console.log(result);   Rust  use chrono::{NaiveDate, NaiveDateTime}; use fury::{from_buffer, to_buffer, Fury}; use std::collections::HashMap; #[test] fn complex_struct() { #[derive(Fury, Debug, PartialEq)] #[tag(&quot;example.foo2&quot;)] struct Animal { category: String, } #[derive(Fury, Debug, PartialEq)] #[tag(&quot;example.foo&quot;)] struct Person { c1: Vec&lt;u8&gt;, // binary c2: Vec&lt;i16&gt;, // primitive array animal: Vec&lt;Animal&gt;, c3: Vec&lt;Vec&lt;u8&gt;&gt;, name: String, c4: HashMap&lt;String, String&gt;, age: u16, op: Option&lt;String&gt;, op2: Option&lt;String&gt;, date: NaiveDate, time: NaiveDateTime, c5: f32, c6: f64, } let person: Person = Person { c1: vec![1, 2, 3], c2: vec![5, 6, 7], c3: vec![vec![1, 2], vec![1, 3]], animal: vec![Animal { category: &quot;Dog&quot;.to_string(), }], c4: HashMap::from([ (&quot;hello1&quot;.to_string(), &quot;hello2&quot;.to_string()), (&quot;hello2&quot;.to_string(), &quot;hello3&quot;.to_string()), ]), age: 12, name: &quot;helo&quot;.to_string(), op: Some(&quot;option&quot;.to_string()), op2: None, date: NaiveDate::from_ymd_opt(2025, 12, 12).unwrap(), time: NaiveDateTime::from_timestamp_opt(1689912359, 0).unwrap(), c5: 2.0, c6: 4.0, }; let bin: Vec&lt;u8&gt; = to_buffer(&amp;person); let obj: Person = from_buffer(&amp;bin).expect(&quot;should success&quot;); assert_eq!(person, obj); }   ","version":"0.10","tagName":"h3"},{"title":"Â∫èÂàóÂåñÂÖ±‰∫´ÂºïÁî®ÂíåÂæ™ÁéØÂºïÁî®‚Äã","type":1,"pageTitle":"Â§öËØ≠Ë®ÄÂ∫èÂàóÂåñÊåáÂçó","url":"/zh-CN/docs/0.10/guide/xlang_serialization#Â∫èÂàóÂåñÂÖ±‰∫´ÂºïÁî®ÂíåÂæ™ÁéØÂºïÁî®","content":" ÂÖ±‰∫´ÂºïÁî®ÂíåÂæ™ÁéØÂºïÁî®ÂèØËá™Âä®Â∫èÂàóÂåñÔºå‰∏ç‰ºöÂá∫Áé∞ÈáçÂ§çÊï∞ÊçÆÊàñÈÄíÂΩíÈîôËØØ„ÄÇ  Java  import org.apache.fury.*; import org.apache.fury.config.*; import java.util.*; public class ReferenceExample { public static class SomeClass { SomeClass f1; Map&lt;String, String&gt; f2; Map&lt;String, String&gt; f3; } public static Object createObject() { SomeClass obj = new SomeClass(); obj.f1 = obj; obj.f2 = ofHashMap(&quot;k1&quot;, &quot;v1&quot;, &quot;k2&quot;, &quot;v2&quot;); obj.f3 = obj.f2; return obj; } // mvn exec:java -Dexec.mainClass=&quot;org.apache.fury.examples.ReferenceExample&quot; public static void main(String[] args) { Fury fury = Fury.builder().withLanguage(Language.XLANG) .withRefTracking(true).build(); fury.register(SomeClass.class, &quot;example.SomeClass&quot;); byte[] bytes = fury.serialize(createObject()); // bytes can be data serialized by other languages. System.out.println(fury.deserialize(bytes)); } }   Python  from typing import Dict import pyfury class SomeClass: f1: &quot;SomeClass&quot; f2: Dict[str, str] f3: Dict[str, str] fury = pyfury.Fury(ref_tracking=True) fury.register_class(SomeClass, type_tag=&quot;example.SomeClass&quot;) obj = SomeClass() obj.f2 = {&quot;k1&quot;: &quot;v1&quot;, &quot;k2&quot;: &quot;v2&quot;} obj.f1, obj.f3 = obj, obj.f2 data = fury.serialize(obj) # bytes can be data serialized by other languages. print(fury.deserialize(data))   Golang  package main import furygo &quot;github.com/apache/fury/fury/go/fury&quot; import &quot;fmt&quot; func main() { type SomeClass struct { F1 *SomeClass F2 map[string]string F3 map[string]string } fury := furygo.NewFury(true) if err := fury.RegisterTagType(&quot;example.SomeClass&quot;, SomeClass{}); err != nil { panic(err) } value := &amp;SomeClass{F2: map[string]string{&quot;k1&quot;: &quot;v1&quot;, &quot;k2&quot;: &quot;v2&quot;}} value.F3 = value.F2 value.F1 = value bytes, err := fury.Marshal(value) if err != nil { } var newValue interface{} // bytes can be data serialized by other languages. if err := fury.Unmarshal(bytes, &amp;newValue); err != nil { panic(err) } fmt.Println(newValue) }   JavaScript  import Fury, { Type } from '@furyjs/fury'; /** * @furyjs/hps use v8's fast-calls-api that can be called directly by jit, ensure that the version of Node is 20 or above. * Experimental feature, installation success cannot be guaranteed at this moment * If you are unable to install the module, replace it with `const hps = null;` **/ import hps from '@furyjs/hps'; const description = Type.object('example.foo', { foo: Type.string(), bar: Type.object('example.foo'), }); const fury = new Fury({ hps }); const { serialize, deserialize } = fury.registerSerializer(description); const data: any = { foo: 'hello fury', }; data.bar = data; const input = serialize(data); const result = deserialize(input); console.log(result.bar.foo === result.foo);   JavaScriptReference cannot be implemented because of rust ownership restrictions  ","version":"0.10","tagName":"h3"},{"title":"Zero-Copy Serialization‚Äã","type":1,"pageTitle":"Â§öËØ≠Ë®ÄÂ∫èÂàóÂåñÊåáÂçó","url":"/zh-CN/docs/0.10/guide/xlang_serialization#zero-copy-serialization","content":" Java  import org.apache.fury.*; import org.apache.fury.config.*; import org.apache.fury.serializers.BufferObject; import org.apache.fury.memory.MemoryBuffer; import java.util.*; import java.util.stream.Collectors; public class ZeroCopyExample { // mvn exec:java -Dexec.mainClass=&quot;io.ray.fury.examples.ZeroCopyExample&quot; public static void main(String[] args) { Fury fury = Fury.builder().withLanguage(Language.XLANG).build(); List&lt;Object&gt; list = ofArrayList(&quot;str&quot;, new byte[1000], new int[100], new double[100]); Collection&lt;BufferObject&gt; bufferObjects = new ArrayList&lt;&gt;(); byte[] bytes = fury.serialize(list, e -&gt; !bufferObjects.add(e)); // bytes can be data serialized by other languages. List&lt;MemoryBuffer&gt; buffers = bufferObjects.stream() .map(BufferObject::toBuffer).collect(Collectors.toList()); System.out.println(fury.deserialize(bytes, buffers)); } }   Python  import array import pyfury import numpy as np fury = pyfury.Fury() list_ = [&quot;str&quot;, bytes(bytearray(1000)), array.array(&quot;i&quot;, range(100)), np.full(100, 0.0, dtype=np.double)] serialized_objects = [] data = fury.serialize(list_, buffer_callback=serialized_objects.append) buffers = [o.to_buffer() for o in serialized_objects] # bytes can be data serialized by other languages. print(fury.deserialize(data, buffers=buffers))   Golang  package main import furygo &quot;github.com/apache/fury/fury/go/fury&quot; import &quot;fmt&quot; func main() { fury := furygo.NewFury() list := []interface{}{&quot;str&quot;, make([]byte, 1000)} buf := fury.NewByteBuffer(nil) var bufferObjects []fury.BufferObject fury.Serialize(buf, list, func(o fury.BufferObject) bool { bufferObjects = append(bufferObjects, o) return false }) var newList []interface{} var buffers []*fury.ByteBuffer for _, o := range bufferObjects { buffers = append(buffers, o.ToBuffer()) } if err := fury.Deserialize(buf, &amp;newList, buffers); err != nil { panic(err) } fmt.Println(newList) }   JavaScript  // Coming soon  ","version":"0.10","tagName":"h3"},{"title":"Â¶Ç‰ΩïÂä†ÂÖ• Apache Fory‚Ñ¢ Á§æÂå∫","type":0,"sectionRef":"#","url":"/zh-CN/docs/0.11/community/how_to_join_community","content":"","keywords":"","version":"0.11"},{"title":"Apache Fory‚Ñ¢ Ë¥°ÁåÆÊåáÂçó‚Äã","type":1,"pageTitle":"Â¶Ç‰ΩïÂä†ÂÖ• Apache Fory‚Ñ¢ Á§æÂå∫","url":"/zh-CN/docs/0.11/community/how_to_join_community#apache-fory-Ë¥°ÁåÆÊåáÂçó","content":" Apache Fory‚Ñ¢ Âõ¢ÈòüÈÄöÂ∏∏Âú® github ‰∏äËøõË°åÂºÄÂèëÂíå issue Áª¥Êä§ÔºåËØ∑ÊâìÂºÄ¬†Github ÁΩëÁ´ôÔºåÁÇπÂáªÂè≥‰∏äËßí¬†Sign up¬†ÊåâÈíÆÔºåÊ≥®ÂÜå‰∏Ä‰∏™Ëá™Â∑±ÁöÑË¥¶Âè∑ÔºåÂºÄÂêØ‰Ω†ÂºÄÊ∫ê‰πãÊóÖÁöÑÁ¨¨‰∏ÄÊ≠•„ÄÇ  Âú®¬†Apache Fory‚Ñ¢ ‰ªìÂ∫ì‰∏≠ÔºåÊàë‰ª¨Êúâ‰∏Ä‰ªΩÈù¢ÂêëÊâÄÊúâÂºÄÊ∫êË¥°ÁåÆËÄÖÁöÑÊåáÂçóÔºå‰ªãÁªç‰∫ÜÊúâÂÖ≥ÁâàÊú¨ÁÆ°ÁêÜ„ÄÅÂàÜÊîØÁÆ°ÁêÜÁ≠âÂÜÖÂÆπÔºåËØ∑Ëä±Âá†ÂàÜÈíüÊó∂Èó¥ÈòÖËØª‰∫ÜËß£‰∏Ä‰∏ã„ÄÇ  ","version":"0.11","tagName":"h2"},{"title":"‰Ω†ÁöÑÁ¨¨‰∏Ä‰∏™ Pull Request‚Äã","type":1,"pageTitle":"Â¶Ç‰ΩïÂä†ÂÖ• Apache Fory‚Ñ¢ Á§æÂå∫","url":"/zh-CN/docs/0.11/community/how_to_join_community#‰Ω†ÁöÑÁ¨¨‰∏Ä‰∏™-pull-request","content":" ","version":"0.11","tagName":"h2"},{"title":"Step0ÔºöÂÆâË£Ö Git‚Äã","type":1,"pageTitle":"Â¶Ç‰ΩïÂä†ÂÖ• Apache Fory‚Ñ¢ Á§æÂå∫","url":"/zh-CN/docs/0.11/community/how_to_join_community#step0ÂÆâË£Ö-git","content":" Git ÊòØ‰∏ÄÁßçÁâàÊú¨ÊéßÂà∂Á≥ªÁªüÔºåÁî®‰∫éË∑üË∏™ÂíåÁÆ°ÁêÜËΩØ‰ª∂ÂºÄÂèëÈ°πÁõÆ‰∏≠ÁöÑ‰ª£Á†ÅÂèòÊõ¥„ÄÇÂÆÉÂ∏ÆÂä©ÂºÄÂèëËÄÖËÆ∞ÂΩïÂíåÁÆ°ÁêÜ‰ª£Á†ÅÁöÑÂéÜÂè≤ËÆ∞ÂΩïÔºåÊñπ‰æøÂõ¢ÈòüÂçè‰Ωú„ÄÅ‰ª£Á†ÅÁâàÊú¨ÊéßÂà∂„ÄÅÂêàÂπ∂‰ª£Á†ÅÁ≠âÊìç‰Ωú„ÄÇÈÄöËøá GitÔºåÊÇ®ÂèØ‰ª•ËøΩË∏™ÊØè‰∏™Êñá‰ª∂ÁöÑÊØè‰∏™ÁâàÊú¨ÔºåÂπ∂ËΩªÊùæÂú∞Âú®‰∏çÂêåÁâàÊú¨‰πãÈó¥ËøõË°åÂàáÊç¢ÂíåÊØîËæÉ„ÄÇGit ËøòÊèê‰æõ‰∫ÜÂàÜÊîØÁÆ°ÁêÜÂäüËÉΩÔºå‰ΩøÂæóÂèØ‰ª•ÂêåÊó∂ËøõË°åÂ§ö‰∏™Âπ∂Ë°åÂºÄÂèë‰ªªÂä°„ÄÇ  ËÆøÈóÆ Git ÂÆòÊñπÁΩëÁ´ôÔºöhttps://git-scm.com‰∏ãËΩΩÊúÄÊñ∞ÁâàÊú¨ÁöÑ Git ÂÆâË£ÖÁ®ãÂ∫è„ÄÇËøêË°å‰∏ãËΩΩÁöÑÂÆâË£ÖÁ®ãÂ∫èÔºåÊåâÁÖßÂÆâË£ÖÂêëÂØºÁöÑÊèêÁ§∫ËøõË°åÂÆâË£Ö„ÄÇÂÆâË£ÖÂÆåÊàêÂêéÔºå‰Ω†ÂèØ‰ª•ÈÄöËøáÂëΩ‰ª§Ë°å‰ΩøÁî®¬†git version¬†ÂëΩ‰ª§Á°ÆËÆ§ÂÆâË£ÖÊàêÂäü„ÄÇ  ","version":"0.11","tagName":"h3"},{"title":"Step1ÔºöFork È°πÁõÆ‚Äã","type":1,"pageTitle":"Â¶Ç‰ΩïÂä†ÂÖ• Apache Fory‚Ñ¢ Á§æÂå∫","url":"/zh-CN/docs/0.11/community/how_to_join_community#step1fork-È°πÁõÆ","content":" È¶ñÂÖàÈúÄË¶Å fork Ëøô‰∏™È°πÁõÆÔºåËøõÂÖ•ForyÈ°πÁõÆÈ°µÈù¢ÔºåÁÇπÂáªÂè≥‰∏äËßíÁöÑ Fork ÊåâÈíÆ‰Ω†ÁöÑ github Â∏êÂè∑‰∏≠‰ºöÂá∫Áé∞ xxxx(‰Ω†ÁöÑ github Áî®Êà∑Âêç)/fory Ëøô‰∏™È°πÁõÆÂú®Êú¨Âú∞ÁîµËÑë‰∏ä‰ΩøÁî®‰ª•‰∏ãÂëΩ‰ª§: ÂæóÂà∞‰∏Ä‰∏™ fory Êñá‰ª∂Â§π  // ssh git clone git@github.com:xxxx(‰Ω†ÁöÑgithubÁî®Êà∑Âêç)/fory.git // https git clone https://github.com/xxxx(‰Ω†ÁöÑgithubÁî®Êà∑Âêç)/fory.git   ","version":"0.11","tagName":"h3"},{"title":"Step2ÔºöËé∑ÂèñÈ°πÁõÆ‰ª£Á†Å‚Äã","type":1,"pageTitle":"Â¶Ç‰ΩïÂä†ÂÖ• Apache Fory‚Ñ¢ Á§æÂå∫","url":"/zh-CN/docs/0.11/community/how_to_join_community#step2Ëé∑ÂèñÈ°πÁõÆ‰ª£Á†Å","content":" ËøõÂÖ• fory Êñá‰ª∂Â§πÔºåÊ∑ªÂä† fory ÁöÑËøúÁ®ãÂú∞ÂùÄ  git remote add upstream https://github.com/apache/fory.git   ","version":"0.11","tagName":"h3"},{"title":"Step3ÔºöÂàõÂª∫ÂàÜÊîØ‚Äã","type":1,"pageTitle":"Â¶Ç‰ΩïÂä†ÂÖ• Apache Fory‚Ñ¢ Á§æÂå∫","url":"/zh-CN/docs/0.11/community/how_to_join_community#step3ÂàõÂª∫ÂàÜÊîØ","content":" Â•Ω‰∫ÜÔºåÁé∞Âú®ÂèØ‰ª•ÂºÄÂßãË¥°ÁåÆÊàë‰ª¨ÁöÑ‰ª£Á†Å‰∫Ü„ÄÇfory ÈªòËÆ§ÂàÜÊîØ‰∏∫ main ÂàÜÊîØ„ÄÇÊó†ËÆ∫ÊòØÂäüËÉΩÂºÄÂèë„ÄÅbug ‰øÆÂ§ç„ÄÅÊñáÊ°£ÁºñÂÜôÔºåÈÉΩËØ∑Êñ∞Âª∫Á´ã‰∏Ä‰∏™ÂàÜÊîØÔºåÂÜçÂêàÂπ∂Âà∞ main ÂàÜÊîØ‰∏ä„ÄÇ‰ΩøÁî®‰ª•‰∏ã‰ª£Á†ÅÂàõÂª∫ÂàÜÊîØÔºö  // ÂàõÂª∫ÂäüËÉΩÂºÄÂèëÂàÜÊîØ git checkout -b feat/xxxx // ÂàõÂª∫ÈóÆÈ¢ò‰øÆÂ§çÂºÄÂèëÂàÜÊîØ git checkout -b fix/xxxx // ÂàõÂª∫ÊñáÊ°£„ÄÅdemoÂàÜÊîØ git checkout -b docs/add-java-demo   ÂÅáËÆæÊàë‰ª¨ÂàõÂª∫‰∫ÜÊñáÊ°£‰øÆÊîπÂàÜÊîØ¬†docs/add-java-demo  ÂÅáËÆæÊàë‰ª¨Â∑≤ÁªèÊ∑ªÂä†‰∫Ü‰∏Ä‰∫õ‰ª£Á†ÅÔºåÊèê‰∫§Âà∞‰ª£Á†ÅÂ∫ì git add . git commit -a -m &quot;docs: add java demo and related docs&quot; „ÄÇ  ","version":"0.11","tagName":"h3"},{"title":"Step4ÔºöÂêàÂπ∂‰øÆÊîπ‚Äã","type":1,"pageTitle":"Â¶Ç‰ΩïÂä†ÂÖ• Apache Fory‚Ñ¢ Á§æÂå∫","url":"/zh-CN/docs/0.11/community/how_to_join_community#step4ÂêàÂπ∂‰øÆÊîπ","content":" ÂàáÊç¢ÂõûËá™Â∑±ÁöÑÂºÄÂèëÂàÜÊîØ:  git checkout docs/add-java-demo   ÊääÊõ¥Êñ∞‰ª£Á†ÅÊèê‰∫§Âà∞Ëá™Â∑±ÁöÑÂàÜÊîØ‰∏≠:  git push origin docs/add-java-demo   ","version":"0.11","tagName":"h3"},{"title":"Step5ÔºöÊèê‰∫§ Pull Request‚Äã","type":1,"pageTitle":"Â¶Ç‰ΩïÂä†ÂÖ• Apache Fory‚Ñ¢ Á§æÂå∫","url":"/zh-CN/docs/0.11/community/how_to_join_community#step5Êèê‰∫§-pull-request","content":" ‰Ω†ÂèØ‰ª•Âú®‰Ω†ÁöÑ github ‰ª£Á†Å‰ªìÂ∫ìÈ°µÈù¢ÁÇπÂáª¬†Compare &amp; pull request¬†ÊåâÈíÆ„ÄÇÊàñÈÄöËøá¬†contribute¬†ÊåâÈíÆÂàõÂª∫„ÄÇ  Â°´ÂÜôËøôÊòØ‰ªÄ‰πàÁ±ªÂûãÁöÑ‰øÆÊîπÂ°´ÂÜôÂÖ≥ËÅîÁöÑ issueËã•ÊúâÂ§çÊùÇÂèòÊõ¥ÔºåËØ∑ËØ¥ÊòéËÉåÊôØÂíåËß£ÂÜ≥ÊñπÊ°à  Áõ∏ÂÖ≥‰ø°ÊÅØÂ°´ÂÜôÂÆåÊàêÂêéÔºåÁÇπÂáª Create pull request Êèê‰∫§„ÄÇ  ","version":"0.11","tagName":"h3"},{"title":"ËΩªÊùæÊ≠•ÂÖ• Apache Fory‚Ñ¢ ÂºÄÊ∫êË¥°ÁåÆ‰πãÊóÖ‚Äã","type":1,"pageTitle":"Â¶Ç‰ΩïÂä†ÂÖ• Apache Fory‚Ñ¢ Á§æÂå∫","url":"/zh-CN/docs/0.11/community/how_to_join_community#ËΩªÊùæÊ≠•ÂÖ•-apache-fory-ÂºÄÊ∫êË¥°ÁåÆ‰πãÊóÖ","content":" &quot;good first issue&quot; ÊòØ‰∏Ä‰∏™Âú®ÂºÄÊ∫êÁ§æÂå∫Â∏∏ËßÅÁöÑÊ†áÁ≠æÔºåËøô‰∏™Ê†áÁ≠æÁöÑÁõÆÁöÑÊòØÂ∏ÆÂä©Êñ∞Ë¥°ÁåÆËÄÖÊâæÂà∞ÈÄÇÂêàÂÖ•Èó®ÁöÑÈóÆÈ¢ò„ÄÇ  Apache Fory‚Ñ¢ ÁöÑÂÖ•Èó®ÈóÆÈ¢òÔºå‰Ω†ÂèØ‰ª•ÈÄöËøá¬†issue ÂàóË°®Êü•Áúã„ÄÇ  Â¶ÇÊûú‰Ω†ÂΩìÂâçÊúâÊó∂Èó¥ÂíåÊÑèÊÑøÂèÇ‰∏éÂà∞Á§æÂå∫Ë¥°ÁåÆÔºåÂèØ‰ª•Âú® issue ÈáåÁúã‰∏ÄÁúã¬†good first issueÔºåÈÄâÊã©‰∏Ä‰∏™ÊÑüÂÖ¥Ë∂£„ÄÅÈÄÇÂêàËá™Â∑±ÁöÑËÆ§È¢Ü„ÄÇ  ","version":"0.11","tagName":"h2"},{"title":"Êã•Êä± Apache Fory‚Ñ¢ Á§æÂå∫‚Äã","type":1,"pageTitle":"Â¶Ç‰ΩïÂä†ÂÖ• Apache Fory‚Ñ¢ Á§æÂå∫","url":"/zh-CN/docs/0.11/community/how_to_join_community#Êã•Êä±-apache-fory-Á§æÂå∫","content":" Âú®‰Ω†‰∏∫ Apache Fory‚Ñ¢ Ë¥°ÁåÆ‰ª£Á†Å‰πã‰ΩôÔºåÊàë‰ª¨ÈºìÂä±‰Ω†ÂèÇ‰∏éÂÖ∂‰ªñËÆ©Á§æÂå∫Êõ¥Âä†ÁπÅËç£ÁöÑ‰∫ãÊÉÖÔºåÊØîÂ¶ÇÔºö  ‰∏∫È°πÁõÆÁöÑÂèëÂ±ï„ÄÅÂäüËÉΩËßÑÂàí Á≠âÊèêÂª∫ËÆÆ„ÄÇÂàõ‰ΩúÊñáÁ´†„ÄÅËßÜÈ¢ëÔºåÂºÄÂäûËÆ≤Â∫ßÊù•ÂÆ£‰º† Apache Fory‚Ñ¢Êí∞ÂÜôÊé®ÂπøËÆ°ÂàíÔºåÂêåÂõ¢Èòü‰∏ÄÂêåÊâßË°å„ÄÇ ","version":"0.11","tagName":"h2"},{"title":"Apache Fury ‰ΩøÁî®","type":0,"sectionRef":"#","url":"/zh-CN/docs/0.10/start/usage","content":"","keywords":"","version":"0.10"},{"title":"Java Â∫èÂàóÂåñ‚Äã","type":1,"pageTitle":"Apache Fury ‰ΩøÁî®","url":"/zh-CN/docs/0.10/start/usage#java-Â∫èÂàóÂåñ","content":" import java.util.List; import java.util.Arrays; import io.fury.*; public class Example { public static void main(String[] args) { SomeClass object = new SomeClass(); // Note that Fury instances should be reused between // multiple serializations of different objects. Fury fury = Fury.builder().withLanguage(Language.JAVA) // Allow to deserialize objects unknown types, // more flexible but less secure. // .requireClassRegistration(false) .build(); // Registering types can reduce class name serialization overhead, but not mandatory. // If secure mode enabled, all custom types must be registered. fury.register(SomeClass.class); byte[] bytes = fury.serialize(object); System.out.println(fury.deserialize(bytes)); } }   ","version":"0.10","tagName":"h2"},{"title":"ScalaÂ∫èÂàóÂåñ‚Äã","type":1,"pageTitle":"Apache Fury ‰ΩøÁî®","url":"/zh-CN/docs/0.10/start/usage#scalaÂ∫èÂàóÂåñ","content":" import org.apache.fury.Fury import org.apache.fury.serializer.scala.ScalaSerializers case class Person(name: String, id: Long, github: String) case class Point(x : Int, y : Int, z : Int) object ScalaExample { val fury: Fury = Fury.builder().withScalaOptimizationEnabled(true).build() // Register optimized fury serializers for scala ScalaSerializers.registerSerializers(fury) fury.register(classOf[Person]) fury.register(classOf[Point]) def main(args: Array[String]): Unit = { val p = Person(&quot;Shawn Yang&quot;, 1, &quot;https://github.com/chaokunyang&quot;) println(fury.deserialize(fury.serialize(p))) println(fury.deserialize(fury.serialize(Point(1, 2, 3)))) } } ## KotlinÂ∫èÂàóÂåñ ```kotlin import org.apache.fury.Fury import org.apache.fury.ThreadSafeFury import org.apache.fury.serializer.kotlin.KotlinSerializers data class Person(val name: String, val id: Long, val github: String) data class Point(val x : Int, val y : Int, val z : Int) fun main(args: Array&lt;String&gt;) { // Ê≥®ÊÑè: ‰∏ãÈù¢ÁöÑFuryÂàùÂßãÂåñ‰ª£Á†ÅÂ∫îËØ•Âè™ÊâßË°å‰∏ÄÊ¨°ÔºåËÄå‰∏çÊòØÂú®ÊØèÊ¨°Â∫èÂàóÂåñÂâçÈÉΩËøêË°å val fury: ThreadSafeFury = Fury.builder().requireClassRegistration(true).buildThreadSafeFury() KotlinSerializers.registerSerializers(fury) fury.register(Person::class.java) fury.register(Point::class.java) val p = Person(&quot;Shawn Yang&quot;, 1, &quot;https://github.com/chaokunyang&quot;) println(fury.deserialize(fury.serialize(p))) println(fury.deserialize(fury.serialize(Point(1, 2, 3)))) }   ","version":"0.10","tagName":"h2"},{"title":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ‚Äã","type":1,"pageTitle":"Apache Fury ‰ΩøÁî®","url":"/zh-CN/docs/0.10/start/usage#Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ","content":" ","version":"0.10","tagName":"h2"},{"title":"Java‚Äã","type":1,"pageTitle":"Apache Fury ‰ΩøÁî®","url":"/zh-CN/docs/0.10/start/usage#java","content":" import com.google.common.collect.ImmutableMap; import io.fury.*; import java.util.Map; public class ReferenceExample { public static class SomeClass { SomeClass f1; Map&lt;String, String&gt; f2; Map&lt;String, String&gt; f3; } public static Object createObject() { SomeClass obj = new SomeClass(); obj.f1 = obj; obj.f2 = ImmutableMap.of(&quot;k1&quot;, &quot;v1&quot;, &quot;k2&quot;, &quot;v2&quot;); obj.f3 = obj.f2; return obj; } // mvn exec:java -Dexec.mainClass=&quot;io.fury.examples.ReferenceExample&quot; public static void main(String[] args) { Fury fury = Fury.builder().withLanguage(Language.XLANG) .withRefTracking(true).build(); fury.register(SomeClass.class, &quot;example.SomeClass&quot;); byte[] bytes = fury.serialize(createObject()); // bytes can be data serialized by other languages. System.out.println(fury.deserialize(bytes)); ; } }   ","version":"0.10","tagName":"h3"},{"title":"Python‚Äã","type":1,"pageTitle":"Apache Fury ‰ΩøÁî®","url":"/zh-CN/docs/0.10/start/usage#python","content":" from typing import Dict import pyfury class SomeClass: f1: &quot;SomeClass&quot; f2: Dict[str, str] f3: Dict[str, str] fury = pyfury.Fury(ref_tracking=True) fury.register_class(SomeClass, &quot;example.SomeClass&quot;) obj = SomeClass() obj.f2 = {&quot;k1&quot;: &quot;v1&quot;, &quot;k2&quot;: &quot;v2&quot;} obj.f1, obj.f3 = obj, obj.f2 data = fury.serialize(obj) # bytes can be data serialized by other languages. print(fury.deserialize(data))   ","version":"0.10","tagName":"h3"},{"title":"Golangs‚Äã","type":1,"pageTitle":"Apache Fury ‰ΩøÁî®","url":"/zh-CN/docs/0.10/start/usage#golangs","content":" package main import ( &quot;fmt&quot; furygo &quot;github.com/apache/fury/go/fury&quot; ) func main() { type SomeClass struct { F1 *SomeClass F2 map[string]string F3 map[string]string } fury := furygo.NewFury(true) if err := fury.RegisterTagType(&quot;example.SomeClass&quot;, SomeClass{}); err != nil { panic(err) } value := &amp;SomeClass{F2: map[string]string{&quot;k1&quot;: &quot;v1&quot;, &quot;k2&quot;: &quot;v2&quot;}} value.F3 = value.F2 value.F1 = value bytes, err := fury.Marshal(value) if err != nil { } var newValue interface{} // bytes can be data serialized by other languages. if err := fury.Unmarshal(bytes, &amp;newValue); err != nil { panic(err) } fmt.Println(newValue) }   ","version":"0.10","tagName":"h3"},{"title":"JavaScript‚Äã","type":1,"pageTitle":"Apache Fury ‰ΩøÁî®","url":"/zh-CN/docs/0.10/start/usage#javascript","content":" import Fury, { Type } from &quot;@furyjs/fury&quot;; /** * @furyjs/hps use v8's fast-calls-api that can be called directly by jit, ensure that the version of Node is 20 or above. * Experimental feature, installation success cannot be guaranteed at this moment * If you are unable to install the module, replace it with `const hps = null;` **/ import hps from &quot;@furyjs/hps&quot;; // Now we describe data structures using JSON, but in the future, we will use more ways. const description = Type.object(&quot;example.foo&quot;, { foo: Type.string(), }); const fury = new Fury({ hps }); const { serialize, deserialize } = fury.registerSerializer(description); const input = serialize({ foo: &quot;hello fury&quot; }); const result = deserialize(input); console.log(result);   ","version":"0.10","tagName":"h3"},{"title":"Rust‚Äã","type":1,"pageTitle":"Apache Fury ‰ΩøÁî®","url":"/zh-CN/docs/0.10/start/usage#rust","content":" use fury::{from_buffer, to_buffer, Fury}; #[derive(Fury, Debug, PartialEq)] #[tag(&quot;example.foo&quot;)] struct Animal { name: String, category: String, } #[derive(Fury, Debug, PartialEq)] #[tag(&quot;example.bar&quot;)] struct Person { name: String, age: u32, pets: Vec&lt;Animal&gt;, } fn main() { let penson = Person { name: &quot;hello&quot;.to_string(), age: 12, pets: vec![ Animal { name: &quot;world1&quot;.to_string(), category: &quot;cat&quot;.to_string(), }, Animal { name: &quot;world2&quot;.to_string(), category: &quot;dog&quot;.to_string(), }, ], }; let bin = to_buffer(&amp;penson); let obj: Person = from_buffer(&amp;bin).expect(&quot;should success&quot;); assert_eq!(obj, penson); }  ","version":"0.10","tagName":"h3"},{"title":"Â¶Ç‰ΩïÈ™åËØÅ Apache Fory‚Ñ¢","type":0,"sectionRef":"#","url":"/zh-CN/docs/0.11/community/how_to_verify","content":"","keywords":"","version":"0.11"},{"title":"‰∏ãËΩΩ Apache Fory‚Ñ¢‚Äã","type":1,"pageTitle":"Â¶Ç‰ΩïÈ™åËØÅ Apache Fory‚Ñ¢","url":"/zh-CN/docs/0.11/community/how_to_verify#‰∏ãËΩΩ-apache-fory","content":" # If there is svn locally, you can clone to the local svn co https://dist.apache.org/repos/dist/dev/incubator/fory/${release_version}-${rc_version}/ # You can download the material file directly wget https://dist.apache.org/repos/dist/dev/incubator/fory/${release_version}-${rc_version}/xxx.xxx   ","version":"0.11","tagName":"h2"},{"title":"È™åËØÅ checksums Âíå signatures‚Äã","type":1,"pageTitle":"Â¶Ç‰ΩïÈ™åËØÅ Apache Fory‚Ñ¢","url":"/zh-CN/docs/0.11/community/how_to_verify#È™åËØÅ-checksums-Âíå-signatures","content":" È¶ñÂÖàÔºåÊÇ®ÈúÄË¶ÅÂÆâË£Ö gpgÔºö  apt-get install gnupg # or yum install gnupg # or brew install gnupg   ‰πãÂêéÔºåÂØºÂÖ• Apache Fory release manager ÁöÑÂÖ¨Èí•Ôºö  curl https://downloads.apache.org/incubator/fory/KEYS &gt; KEYS # Download KEYS gpg --import KEYS # Import KEYS to local # Then, trust the public key: gpg --edit-key &lt;KEY-used-in-this-version&gt; # Edit the key(mentioned in vote email) # It will enter the interactive mode, use the following command to trust the key: gpg (GnuPG) 2.0.22; Copyright (C) 2013 Free Software Foundation, Inc. This is free software: you are free to change and redistribute it. There is NO WARRANTY, to the extent permitted by law. pub 4096R/5E580BA4 created: 2024-03-27 expires: never usage: SC trust: unknown validity: unknown sub 4096R/A31EF728 created: 2024-03-27 expires: never usage: E [ unknown] (1). chaokunyang (CODE SIGNING KEY) &lt;chaokunyang@apache.org&gt; gpg&gt; trust pub 4096R/5E580BA4 created: 2024-03-27 expires: never usage: SC trust: unknown validity: unknown sub 4096R/A31EF728 created: 2024-03-27 expires: never usage: E [ unknown] (1). chaokunyang (CODE SIGNING KEY) &lt;chaokunyang@apache.org&gt; Please decide how far you trust this user to correctly verify other users' keys (by looking at passports, checking fingerprints from different sources, etc.) 1 = I don't know or won't say 2 = I do NOT trust 3 = I trust marginally 4 = I trust fully 5 = I trust ultimately m = back to the main menu Your decision? 5 Do you really want to set this key to ultimate trust? (y/N) y pub 4096R/5E580BA4 created: 2024-03-27 expires: never usage: SC trust: ultimate validity: unknown sub 4096R/A31EF728 created: 2024-03-27 expires: never usage: E [ unknown] (1). chaokunyang (CODE SIGNING KEY) &lt;chaokunyang@apache.org&gt; Please note that the shown key validity is not necessarily correct unless you restart the program.   Êé•‰∏ãÊù•È™åËØÅÁ≠æÂêçÔºö  for i in *.tar.gz; do echo $i; gpg --verify $i.asc $i; done   Â¶ÇÊûúÂá∫Áé∞Â¶Ç‰∏ãÂÜÖÂÆπÔºåÂàôË°®Á§∫Á≠æÂêçÊ≠£Á°ÆÔºö  apache-fory-incubating-0.5.0-src.tar.gz gpg: Signature made Wed 17 Apr 2024 11:49:45 PM CST using RSA key ID 5E580BA4 gpg: checking the trustdb gpg: 3 marginal(s) needed, 1 complete(s) needed, PGP trust model gpg: depth: 0 valid: 1 signed: 0 trust: 0-, 0q, 0n, 0m, 0f, 1u gpg: Good signature from &quot;chaokunyang (CODE SIGNING KEY) &lt;chaokunyang@apache.org&gt;&quot;   ÁÑ∂ÂêéÈ™åËØÅ checksumÔºö  for i in *.tar.gz; do echo $i; sha512sum --check $i.sha512; done   ÂÆÉÂ∫îËØ•ËæìÂá∫Â¶Ç‰∏ãÂÜÖÂÆπÔºö  apache-fory-incubating-0.5.0-src.tar.gz apache-fory-incubating-0.5.0-src.tar.gz: OK   ","version":"0.11","tagName":"h2"},{"title":"Ê£ÄÊü•Ê∫êÁ†ÅÂåÖ‰∏≠ÁöÑÊñá‰ª∂‚Äã","type":1,"pageTitle":"Â¶Ç‰ΩïÈ™åËØÅ Apache Fory‚Ñ¢","url":"/zh-CN/docs/0.11/community/how_to_verify#Ê£ÄÊü•Ê∫êÁ†ÅÂåÖ‰∏≠ÁöÑÊñá‰ª∂","content":" Ëß£ÂéãÁº© apache-fory-${release_version}-${rc_version}-src.tar.gz Âπ∂Ê£ÄÊü•‰ª•‰∏ãÂÜÖÂÆπÔºö  Ê≠§Â≠òÂÇ®Â∫ì LICENSE Âíå NOTICE Êñá‰ª∂ÊòØÊ≠£Á°ÆÁöÑÔºõÂ¶ÇÊúâÂøÖË¶ÅÔºåÊâÄÊúâÊñá‰ª∂ÈÉΩÊúâ ASF ËÆ∏ÂèØËØÅÊ†áÂ§¥ÔºõÈ°πÁõÆÊûÑÂª∫ÈÄöËøá„ÄÇ  ","version":"0.11","tagName":"h2"},{"title":"Ê£ÄÊü• fory-java ÁöÑ Maven artifacts‚Äã","type":1,"pageTitle":"Â¶Ç‰ΩïÈ™åËØÅ Apache Fory‚Ñ¢","url":"/zh-CN/docs/0.11/community/how_to_verify#Ê£ÄÊü•-fory-java-ÁöÑ-maven-artifacts","content":" ‰∏ãËΩΩ Apache ForyÔºöhttps://repository.apache.org/content/repositories/orgapachefory-${maven_artifact_number}/.  ÊÇ®ÂèØ‰ª•Ê£ÄÊü•‰ª•‰∏ãÂÜÖÂÆπÔºö  JAR ÁöÑ Checksum ‰∏éÈ°πÁõÆÁªëÂÆöÁöÑ checksum Êñá‰ª∂‰∏ÄËá¥„ÄÇJAR ÁöÑ signature ‰∏éÈ°πÁõÆÁªëÂÆöÁöÑ signature Êñá‰ª∂‰∏ÄËá¥„ÄÇJAR Âú®Êú¨Âú∞ÊòØÂèØÈáçÂ§çÁöÑ„ÄÇËøôÊÑèÂë≥ÁùÄÊÇ®ÂèØ‰ª•Âú®ËÆ°ÁÆóÊú∫‰∏äÊûÑÂª∫ JARÔºåÂπ∂È™åËØÅ checksum Âíå‰∏éÈ°πÁõÆÁªëÂÆöÁöÑÁõ∏Âêå„ÄÇ ","version":"0.11","tagName":"h2"},{"title":"Fury Xlang Serialization Format","type":0,"sectionRef":"#","url":"/zh-CN/docs/0.10/specification/xlang_serialization_spec","content":"","keywords":"","version":"0.10"},{"title":"Cross-language Serialization Specification‚Äã","type":1,"pageTitle":"Fury Xlang Serialization Format","url":"/zh-CN/docs/0.10/specification/xlang_serialization_spec#cross-language-serialization-specification","content":" Format Version History: Version 0.1 - serialization spec formalized  Fury xlang serialization is an automatic object serialization framework that supports reference and polymorphism. Fury will convert an object from/to fury xlang serialization binary format. Fury has two core concepts for xlang serialization:  Fury xlang binary formatFramework implemented in different languages to convert object to/from Fury xlang binary format  The serialization format is a dynamic binary format. The dynamics and reference/polymorphism support make Fury flexible, much more easy to use, but also introduce more complexities compared to static serialization frameworks. So the format will be more complex.  ","version":"0.10","tagName":"h2"},{"title":"Type Systems‚Äã","type":1,"pageTitle":"Fury Xlang Serialization Format","url":"/zh-CN/docs/0.10/specification/xlang_serialization_spec#type-systems","content":" ","version":"0.10","tagName":"h2"},{"title":"Data Types‚Äã","type":1,"pageTitle":"Fury Xlang Serialization Format","url":"/zh-CN/docs/0.10/specification/xlang_serialization_spec#data-types","content":" bool: a boolean value (true or false).int8: a 8-bit signed integer.int16: a 16-bit signed integer.int32: a 32-bit signed integer.var_int32: a 32-bit signed integer which use fury var_int32 encoding.int64: a 64-bit signed integer.var_int64: a 64-bit signed integer which use fury PVL encoding.sli_int64: a 64-bit signed integer which use fury SLI encoding.float16: a 16-bit floating point number.float32: a 32-bit floating point number.float64: a 64-bit floating point number including NaN and Infinity.string: a text string encoded using Latin1/UTF16/UTF-8 encoding.enum: a data type consisting of a set of named values. Rust enum with non-predefined field values are not supported as an enum.named_enum: an enum whose value will be serialized as the registered name.struct: a morphic(final) type serialized by Fury Struct serializer. i.e. it doesn't have subclasses. Suppose we're deserializing List&lt;SomeClass&gt;, we can save dynamic serializer dispatch since SomeClass is morphic(final).compatible_struct: a morphic(final) type serialized by Fury compatible Struct serializer.named_struct: a struct whose type mapping will be encoded as a name.named_compatible_struct: a compatible_struct whose type mapping will be encoded as a name.ext: a type which will be serialized by a customized serializer.named_ext: an ext type whose type mapping will be encoded as a name.list: a sequence of objects.set: an unordered set of unique elements.map: a map of key-value pairs. Mutable types such as list/map/set/array/tensor/arrow are not allowed as key of map.duration: an absolute length of time, independent of any calendar/timezone, as a count of nanoseconds.timestamp: a point in time, independent of any calendar/timezone, as a count of nanoseconds. The count is relative to an epoch at UTC midnight on January 1, 1970.local_date: a naive date without timezone. The count is days relative to an epoch at UTC midnight on Jan 1, 1970.decimal: exact decimal value represented as an integer value in two's complement.binary: an variable-length array of bytes.array: only allow 1d numeric components. Other arrays will be taken as List. The implementation should support the interoperability between array and list. bool_array: one dimensional bool array.int8_array: one dimensional int8 array.int16_array: one dimensional int16 array.int32_array: one dimensional int32 array.int64_array: one dimensional int64 array.float16_array: one dimensional half_float_16 array.float32_array: one dimensional float32 array.float64_array: one dimensional float64 array. tensor: multidimensional array which every sub-array have same size and type.arrow record batch: an arrow record batch object.arrow table: an arrow table object.  Note:  Unsigned int/long are not added here, since not every language support those types.  ","version":"0.10","tagName":"h3"},{"title":"Polymorphisms‚Äã","type":1,"pageTitle":"Fury Xlang Serialization Format","url":"/zh-CN/docs/0.10/specification/xlang_serialization_spec#polymorphisms","content":" For polymorphism, if one non-final class is registered, and only one subclass is registered, then we can take all elements in List/Map have same type, thus reduce runtime check cost.  Collection/Array polymorphism are not fully supported, since some languages such as golang have only one collection type. If users want to get exactly the type he passed, he must pass that type when deserializing or annotate that type to the field of struct.  ","version":"0.10","tagName":"h3"},{"title":"Type disambiguation‚Äã","type":1,"pageTitle":"Fury Xlang Serialization Format","url":"/zh-CN/docs/0.10/specification/xlang_serialization_spec#type-disambiguation","content":" Due to differences between type systems of languages, those types can't be mapped one-to-one between languages. When deserializing, Fury use the target data structure type and the data type in the data jointly to determine how to deserialize and populate the target data structure. For example:  class Foo { int[] intArray; Object[] objects; List&lt;Object&gt; objectList; } class Foo2 { int[] intArray; List&lt;Object&gt; objects; List&lt;Object&gt; objectList; }   intArray has an int32_array type. But both objects and objectList fields in the serialize data have list data type. When deserializing, the implementation will create an Object array for objects, but create a ArrayListfor objectList to populate its elements. And the serialized data of Foo can be deserialized into Foo2 too.  Users can also provide meta hints for fields of a type, or the type whole. Here is an example in java which use annotation to provide such information.  @FuryObject(fieldsNullable = false, trackingRef = false) class Foo { @FuryField(trackingRef = false) int[] intArray; @FuryField(polymorphic = true) Object object; @FuryField(tagId = 1, nullable = true) List&lt;Object&gt; objectList; }   Such information can be provided in other languages too:  cpp: use macro and template.golang: use struct tag.python: use typehint.rust: use macro.  ","version":"0.10","tagName":"h3"},{"title":"Type ID‚Äã","type":1,"pageTitle":"Fury Xlang Serialization Format","url":"/zh-CN/docs/0.10/specification/xlang_serialization_spec#type-id","content":" All internal data types are expressed using an ID in range 0~64. Users can use 0~4096 for representing their types.  ","version":"0.10","tagName":"h3"},{"title":"Type mapping‚Äã","type":1,"pageTitle":"Fury Xlang Serialization Format","url":"/zh-CN/docs/0.10/specification/xlang_serialization_spec#type-mapping","content":" See Type mapping  ","version":"0.10","tagName":"h3"},{"title":"Spec overview‚Äã","type":1,"pageTitle":"Fury Xlang Serialization Format","url":"/zh-CN/docs/0.10/specification/xlang_serialization_spec#spec-overview","content":" Here is the overall format:  | fury header | object ref meta | object type meta | object value data |   The data are serialized using little endian byte order overall. If bytes swap is costly for some object, Fury will write the byte order for that object into the data instead of converting it to little endian.  ","version":"0.10","tagName":"h2"},{"title":"Fury header‚Äã","type":1,"pageTitle":"Fury Xlang Serialization Format","url":"/zh-CN/docs/0.10/specification/xlang_serialization_spec#fury-header","content":" Fury header consists starts one byte:  | 2 bytes | 4 bits | 1 bit | 1 bit | 1 bit | 1 bit | 1 byte | optional 4 bytes | +--------------+---------------+-------+-------+--------+-------+------------+------------------------------------+ | magic number | reserved bits | oob | xlang | endian | null | language | unsigned int for meta start offset |   magic number: used to identify fury serialization protocol, current version use 0x62d4.null flag: 1 when object is null, 0 otherwise. If an object is null, other bits won't be set.endian flag: 1 when data is encoded by little endian, 0 for big endian.xlang flag: 1 when serialization uses xlang format, 0 when serialization uses Fury java format.oob flag: 1 when passed BufferCallback is not null, 0 otherwise.language: the language when serializing objects, such as JAVA, PYTHON, GO, etc. Fury can use this flag to determine whether spend more time on serialization to make the deserialization faster for dynamic languages.  If meta share mode is enabled, an uncompressed unsigned int is appended to indicate the start offset of metadata.  ","version":"0.10","tagName":"h2"},{"title":"Reference Meta‚Äã","type":1,"pageTitle":"Fury Xlang Serialization Format","url":"/zh-CN/docs/0.10/specification/xlang_serialization_spec#reference-meta","content":" Reference tracking handles whether the object is null, and whether to track reference for the object by writing corresponding flags and maintaining internal state.  Reference flags:  Flag\tByte Value\tDescriptionNULL FLAG\t-3\tThis flag indicates the object is a null value. We don't use another byte to indicate REF, so that we can save one byte. REF FLAG\t-2\tThis flag indicates the object is already serialized previously, and fury will write a ref id with unsigned varint format instead of serialize it again NOT_NULL VALUE FLAG\t-1\tThis flag indicates the object is a non-null value and fury doesn't track ref for this type of object. REF VALUE FLAG\t0\tThis flag indicates the object is referencable and the first time to serialize.  When reference tracking is disabled globally or for specific types, or for certain types within a particular context(e.g., a field of a type), only the NULL and NOT_NULL VALUE flags will be used for reference meta.  For languages which doesn't support reference such as rust, reference tracking must be disabled for correct deserialization by fury rust implementation.  For languages whose object values are not null by default:  In rust, Fury takes Option:None as a null valueIn c++, Fury takes std::nullopt as a null valueIn golang, Fury takes null interface/pointer as a null value  If one want to deserialize in languages like Java/Python/JavaScript, he should mark the type with all fields not-null by default, or using schema-evolution mode to carry the not-null fields info in the data.  ","version":"0.10","tagName":"h2"},{"title":"Type Meta‚Äã","type":1,"pageTitle":"Fury Xlang Serialization Format","url":"/zh-CN/docs/0.10/specification/xlang_serialization_spec#type-meta","content":" For every type to be serialized, it have a type id to indicate its type.  basic types: the type idenum: Type.ENUM + registered idType.NAMED_ENUM + registered namespace+typename list: Type.Listset: Type.SETmap: Type.MAPext: Type.EXT + registered idType.NAMED_EXT + registered namespace+typename struct: Type.STRUCT + struct metaType.NAMED_STRUCT + struct meta  Every type must be registered with an ID or name first. The registration can be used for security check and type identification.  Struct is a special type, depending whether schema compatibility is enabled, Fury will write struct meta differently.  ","version":"0.10","tagName":"h2"},{"title":"Struct Schema consistent‚Äã","type":1,"pageTitle":"Fury Xlang Serialization Format","url":"/zh-CN/docs/0.10/specification/xlang_serialization_spec#struct-schema-consistent","content":" If schema consistent mode is enabled globally when creating fury, type meta will be written as a fury unsigned varint of type_id. Schema evolution related meta will be ignored.If schema evolution mode is enabled globally when creating fury, and current class is configured to use schema consistent mode like struct vs table in flatbuffers: Type meta will be add to captured_type_defs: captured_type_defs[type def stub] = map size ahead when registering type.Get index of the meta in captured_type_defs, write that index as | unsigned varint: index |.  ","version":"0.10","tagName":"h3"},{"title":"Struct Schema evolution‚Äã","type":1,"pageTitle":"Fury Xlang Serialization Format","url":"/zh-CN/docs/0.10/specification/xlang_serialization_spec#struct-schema-evolution","content":" If schema evolution mode is enabled globally when creating fury, and enabled for current type, type meta will be written using one of the following mode. Which mode to use is configured when creating fury.  Normal mode(meta share not enabled): If type meta hasn't been written before, add type defto captured_type_defs: captured_type_defs[type def] = map size.Get index of the meta in captured_type_defs, write that index as | unsigned varint: index |.After finished the serialization of the object graph, fury will start to write captured_type_defs: Firstly, set current to meta start offset of fury header Then write captured_type_defs one by one: buffer.write_var_uint32(len(writting_type_defs) - len(schema_consistent_type_def_stubs)) for type_meta in writting_type_defs: if not type_meta.is_stub(): type_meta.write_type_def(buffer) writing_type_defs = copy(schema_consistent_type_def_stubs) Meta share mode: the writing steps are same as the normal mode, but captured_type_defs will be shared across multiple serializations of different objects. For example, suppose we have a batch to serialize: captured_type_defs = {} stream = ... # add `Type1` to `captured_type_defs` and write `Type1` fury.serialize(stream, [Type1()]) # add `Type2` to `captured_type_defs` and write `Type2`, `Type1` is written before. fury.serialize(stream, [Type1(), Type2()]) # `Type1` and `Type2` are written before, no need to write meta. fury.serialize(stream, [Type1(), Type2()]) Streaming mode(streaming mode doesn't support meta share): If type meta hasn't been written before, the data will be written as: | unsigned varint: 0b11111111 | type def | If type meta has been written before, the data will be written as: | unsigned varint: written index &lt;&lt; 1 | written index is the id in captured_type_defs. With this mode, meta start offset can be omitted.  The normal mode and meta share mode will forbid streaming writing since it needs to look back for update the start offset after the whole object graph writing and meta collecting is finished. Only in this way we can ensure deserialization failure in meta share mode doesn't lost shared meta.  Type Def‚Äã  Here we mainly describe the meta layout for schema evolution mode:  | 8 bytes header | variable bytes | variable bytes | +----------------------+--------------------+-------------------+ | global binary header | meta header | fields meta |   For languages which support inheritance, if parent class and subclass has fields with same name, using field in subclass.  Global binary header‚Äã  50 bits hash + 1bit compress flag + write fields meta + 12 bits meta size. Right is the lower bits.  lower 12 bits are used to encode meta size. If meta size &gt;= 0b1111_1111_1111, then writemeta_ size - 0b1111_1111_1111 next.13rd bit is used to indicate whether to write fields meta. When this class is schema-consistent or use registered serializer, fields meta will be skipped. Class Meta will be used for share namespace + type name only.14rd bit is used to indicate whether meta is compressed.Other 50 bits is used to store the unique hash of flags + all layers class meta.  Meta header‚Äã  Meta header is a 8 bits number value.  Lowest 5 digits 0b00000~0b11110 are used to record num fields. 0b11111 is preserved to indicate that Fury need to read more bytes for length using Fury unsigned int encoding. Note that num_fields is the number of compatible fields. Users can use tag id to mark some fields as compatible fields in schema consistent context. In such cases, schema consistent fields will be serialized first, then compatible fields will be serialized next. At deserialization, Fury will use fields info of those fields which aren't annotated by tag id for deserializing schema consistent fields, then use fields info in meta for deserializing compatible fields.The 6th bit: 0 for registered by id, 1 for registered by name.Remaining 2 bits are reserved for future extension.  Fields meta‚Äã  Format:  | field info: variable bytes | variable bytes | ... | +---------------------------------+-----------------+-----+ | header + type info + field name | next field info | ... |   Field Header‚Äã  Field Header is 8 bits, annotation can be used to provide more specific info. If annotation not exists, fury will infer those info automatically.  The format for field header is:  2 bits field name encoding + 4 bits size + nullability flag + ref tracking flag   Detailed spec:  2 bits field name encoding: encoding: UTF8/ALL_TO_LOWER_SPECIAL/LOWER_UPPER_DIGIT_SPECIAL/TAG_IDIf tag id is used, field name will be written by an unsigned varint tag id, and 2 bits encoding will be 11. size of field name: The 4 bits size: 0~14 will be used to indicate length 1~15, the value 15 indicates to read more bytes, the encoding will encode size - 15 as a varint next.If encoding is TAG_ID, then num_bytes of field name will be used to store tag id. ref tracking: when set to 1, ref tracking will be enabled for this field.nullability: when set to 1, this field can be null.  Field Type Info‚Äã  Field type info is written as unsigned int8. Detailed id spec is:  For struct registered by id, it will be Type.STRUCT.For struct registered by name, it will be Type.NAMED_STRUCT.For enum registered by id, it will be Type.ENUM.For enum registered by name, it will be Type.NAMED_ENUM.For ext type registered by id, it will be Type.EXT.For ext type registered by name, it will be Type.NAMED_EXT.For list/set type, it will be written as Type.LIST/SET, then write element type recursively.For 1D primitive array type, it will be written as Type.XXX_ARRAY.For multi-dimensional primitive array type with same size on each dim, it will be written as Type.TENSOR.For other array type, it will be written as Type.LIST, then write element type recursively.For map type, it will be written as Type.MAP, then write key and value type recursively.For other types supported by fury directly, it will be fury type id for that type.For other types not determined at compile time, write Type.UNKNOWN instead. For such types, actual type will be written when serializing such field values.  Polymorphism spec:  struct/named_struct/ext/named_ext are taken as polymorphic, the meta for those types are written separately instead of inlining here to reduce meta space cost if object of this type is serialized in current object graph multiple times, and the field value may be null too.enum is taken as morphic, if deserialization doesn't have this field, or the type is not enum, enum value will be skipped.list/map/set are taken as morphic, when serializing values of those type, the concrete types won't be written again.Other types that fury supported are taken as morphic too.  List/Set/Map nested type spec:  list: | list type id | nested type id &lt;&lt; 2 + nullability flag + ref tracking flag | ... multi-layer type info |set: | set type id | nested type id &lt;&lt; 2 + nullability flag + ref tracking flag | ... multi-layer type info |map: | set type id | key type info | value type info | Key type format: | nested type id &lt;&lt; 2 + nullability flag + ref tracking flag | ... multi-layer type info |Value type format: | nested type id &lt;&lt; 2 + nullability flag + ref tracking flag | ... multi-layer type info |  Field Name‚Äã  If tag id is set, tag id will be used instead. Otherwise meta string of field name will be written instead.  Field order‚Äã  Field order are left as implementation details, which is not exposed to specification, the deserialization need to resort fields based on Fury fields sort algorithms. In this way, fury can compute statistics for field names or types and using a more compact encoding.  ","version":"0.10","tagName":"h3"},{"title":"Extended Type Meta with Inheritance support‚Äã","type":1,"pageTitle":"Fury Xlang Serialization Format","url":"/zh-CN/docs/0.10/specification/xlang_serialization_spec#extended-type-meta-with-inheritance-support","content":" If one want to support inheritance for struct, one can implement following spec.  ","version":"0.10","tagName":"h2"},{"title":"Schema consistent‚Äã","type":1,"pageTitle":"Fury Xlang Serialization Format","url":"/zh-CN/docs/0.10/specification/xlang_serialization_spec#schema-consistent","content":" Fields are serialized from parent type to leaf type. Fields are sorted using fury struct fields sort algorithms.  ","version":"0.10","tagName":"h3"},{"title":"Schema Evolution‚Äã","type":1,"pageTitle":"Fury Xlang Serialization Format","url":"/zh-CN/docs/0.10/specification/xlang_serialization_spec#schema-evolution","content":" Meta layout for schema evolution mode:  | 8 bytes header | variable bytes | variable bytes | variable bytes | variable bytes | +----------------------+----------------+----------------+--------------------+--------------------+ | global binary header | meta header | fields meta | parent meta header | parent fields meta |   Meta header‚Äã  Meta header is a 64 bits number value encoded in little endian order.  Lowest 4 digits 0b0000~0b1110 are used to record num classes. 0b1111 is preserved to indicate that Fury need to read more bytes for length using Fury unsigned int encoding. If current type doesn't has parent type, or parent type doesn't have fields to serialize, or we're in a context which serialize fields of current type only, num classes will be 1.The 5th bit is used to indicate whether this type needs schema evolution.Other 56 bits are used to store the unique hash of flags + all layers type meta.  Single layer type meta‚Äã  | unsigned varint | var uint | field info: variable bytes | variable bytes | ... | +-----------------+----------+-------------------------------+-----------------+-----+ | num_fields | type id | header + type id + field name | next field info | ... |   Other layers type meta‚Äã  Same encoding algorithm as the previous layer.  ","version":"0.10","tagName":"h3"},{"title":"Meta String‚Äã","type":1,"pageTitle":"Fury Xlang Serialization Format","url":"/zh-CN/docs/0.10/specification/xlang_serialization_spec#meta-string","content":" Meta string is mainly used to encode meta strings such as field names.  ","version":"0.10","tagName":"h2"},{"title":"Encoding Algorithms‚Äã","type":1,"pageTitle":"Fury Xlang Serialization Format","url":"/zh-CN/docs/0.10/specification/xlang_serialization_spec#encoding-algorithms","content":" String binary encoding algorithm:  Algorithm\tPattern\tDescriptionLOWER_SPECIAL\ta-z._$|\tevery char is written using 5 bits, a-z: 0b00000~0b11001, ._$|: 0b11010~0b11101, prepend one bit at the start to indicate whether strip last char since last byte may have 7 redundant bits(1 indicates strip last char) LOWER_UPPER_DIGIT_SPECIAL\ta-zA-Z0~9._\tevery char is written using 6 bits, a-z: 0b00000~0b11001, A-Z: 0b11010~0b110011, 0~9: 0b110100~0b111101, ._: 0b111110~0b111111, prepend one bit at the start to indicate whether strip last char since last byte may have 7 redundant bits(1 indicates strip last char) UTF-8\tany chars\tUTF-8 encoding  Encoding flags:  Encoding Flag\tPattern\tEncoding AlgorithmLOWER_SPECIAL\tevery char is in a-z._|\tLOWER_SPECIAL FIRST_TO_LOWER_SPECIAL\tevery char is in a-z._ except first char is upper case\treplace first upper case char to lower case, then use LOWER_SPECIAL ALL_TO_LOWER_SPECIAL\tevery char is in a-zA-Z._\treplace every upper case char by | + lower case, then use LOWER_SPECIAL, use this encoding if it's smaller than Encoding LOWER_UPPER_DIGIT_SPECIAL LOWER_UPPER_DIGIT_SPECIAL\tevery char is in a-zA-Z._\tuse LOWER_UPPER_DIGIT_SPECIAL encoding if it's smaller than Encoding FIRST_TO_LOWER_SPECIAL UTF8\tany utf-8 char\tuse UTF-8 encoding Compression\tany utf-8 char\tlossless compression  Notes:  Depending on cases, one can choose encoding flags + data jointly, uses 3 bits of first byte for flags and other bytes for data.  ","version":"0.10","tagName":"h3"},{"title":"Value Format‚Äã","type":1,"pageTitle":"Fury Xlang Serialization Format","url":"/zh-CN/docs/0.10/specification/xlang_serialization_spec#value-format","content":" ","version":"0.10","tagName":"h2"},{"title":"Basic types‚Äã","type":1,"pageTitle":"Fury Xlang Serialization Format","url":"/zh-CN/docs/0.10/specification/xlang_serialization_spec#basic-types","content":" bool‚Äã  size: 1 byteformat: 0 for false, 1 for true  int8‚Äã  size: 1 byteformat: write as pure byte.  int16‚Äã  size: 2 bytebyte order: raw bytes of little endian order  unsigned int32‚Äã  size: 4 bytebyte order: raw bytes of little endian order  unsigned varint32‚Äã  size: 1~5 byteFormat: The most significant bit (MSB) in every byte indicates whether to have the next byte. If first bit is set i.e. b &amp; 0x80 == 0x80, then the next byte should be read until the first bit of the next byte is unset.  signed int32‚Äã  size: 4 bytebyte order: raw bytes of little endian order  signed varint32‚Äã  size: 1~5 byteFormat: First convert the number into positive unsigned int by (v &lt;&lt; 1) ^ (v &gt;&gt; 31) ZigZag algorithm, then encode it as an unsigned varint.  unsigned int64‚Äã  size: 8 bytebyte order: raw bytes of little endian order  unsigned varint64‚Äã  size: 1~9 byteFury SLI(Small long as int) Encoding: If long is in [0, 2147483647], encode as 4 bytes int: | little-endian: ((int) value) &lt;&lt; 1 |Otherwise write as 9 bytes: | 0b1 | little-endian 8 bytes long | Fury PVL(Progressive Variable-length Long) Encoding: positive long format: first bit in every byte indicates whether to have the next byte. If first bit is set i.e. b &amp; 0x80 == 0x80, then the next byte should be read until the first bit is unset.  signed int64‚Äã  size: 8 bytebyte order: raw bytes of little endian order  signed varint64‚Äã  size: 1~9 byteFury SLI(Small long as int) Encoding: If long is in [-1073741824, 1073741823], encode as 4 bytes int: | little-endian: ((int) value) &lt;&lt; 1 |Otherwise write as 9 bytes: | 0b1 | little-endian 8 bytes long | Fury PVL(Progressive Variable-length Long) Encoding: First convert the number into positive unsigned long by (v &lt;&lt; 1) ^ (v &gt;&gt; 63) ZigZag algorithm to reduce cost of small negative numbers, then encoding it as an unsigned long.  float32‚Äã  size: 4 byteformat: encode the specified floating-point value according to the IEEE 754 floating-point &quot;single format&quot; bit layout, preserving Not-a-Number (NaN) values, then write as binary by little endian order.  float64‚Äã  size: 8 byteformat: encode the specified floating-point value according to the IEEE 754 floating-point &quot;double format&quot; bit layout, preserving Not-a-Number (NaN) values. then write as binary by little endian order.  ","version":"0.10","tagName":"h3"},{"title":"string‚Äã","type":1,"pageTitle":"Fury Xlang Serialization Format","url":"/zh-CN/docs/0.10/specification/xlang_serialization_spec#string","content":" Format:  | unsigned varint64: size &lt;&lt; 2 `bitor` 2 bits encoding flags | binary data |   size + encoding will be concat as a long and encoded as an unsigned varint64. The little 2 bits is used for encoding: 0 for latin1(ISO-8859-1), 1 for utf-16, 2 for utf-8.encoded string binary data based on encoding: latin/utf-16/utf-8.  Which encoding to choose:  For JDK8: fury detect latin at runtime, if string is latin string, then use latin encoding, otherwise use utf-16.For JDK9+: fury use coder in String object for encoding, latin/utf-16 will be used for encoding.If the string is encoded by utf-8, then fury will use utf-8 to decode the data. Cross-language string serialization of fury uses utf-8 by default.  ","version":"0.10","tagName":"h3"},{"title":"list‚Äã","type":1,"pageTitle":"Fury Xlang Serialization Format","url":"/zh-CN/docs/0.10/specification/xlang_serialization_spec#list","content":" Format:  | unsigned varint64: length | 1 byte elements header | elements data |   elements header‚Äã  In most cases, all elements are same type and not null, elements header will encode those homogeneous information to avoid the cost of writing it for every element. Specifically, there are four kinds of information which will be encoded by elements header, each use one bit:  If track elements ref, use the first bit 0b1 of the header to flag it.If the elements have null, use the second bit 0b10 of the header to flag it. If ref tracking is enabled for this element type, this flag is invalid.If the element types are not the declared type, use the 3rd bit 0b100 of the header to flag it.If the element types are different, use the 4rd bit 0b1000 header to flag it.  By default, all bits are unset, which means all elements won't track ref, all elements are same type, not null and the actual element is the declared type in the custom type field.  The implementation can generate different deserialization code based read header, and look up the generated code from a linear map/list.  elements data‚Äã  Based on the elements header, the serialization of elements data may skip ref flag/null flag/element type info.  fury = ... buffer = ... elems = ... if element_type_is_same: if not is_declared_type: fury.write_type(buffer, elem_type) elem_serializer = get_serializer(...) if track_ref: for elem in elems: if not ref_resolver.write_ref_or_null(buffer, elem): elem_serializer.write(buffer, elem) elif has_null: for elem in elems: if elem is None: buffer.write_byte(null_flag) else: buffer.write_byte(not_null_flag) elem_serializer.write(buffer, elem) else: for elem in elems: elem_serializer.write(buffer, elem) else: if track_ref: for elem in elems: fury.write_ref(buffer, elem) elif has_null: for elem in elems: fury.write_nullable(buffer, elem) else: for elem in elems: fury.write_value(buffer, elem)   CollectionSerializer#writeElementscan be taken as an example.  ","version":"0.10","tagName":"h3"},{"title":"array‚Äã","type":1,"pageTitle":"Fury Xlang Serialization Format","url":"/zh-CN/docs/0.10/specification/xlang_serialization_spec#array","content":" primitive array‚Äã  Primitive array are taken as a binary buffer, serialization will just write the length of array size as an unsigned int, then copy the whole buffer into the stream.  Such serialization won't compress the array. If users want to compress primitive array, users need to register custom serializers for such types or mark it as list type.  Tensor‚Äã  Tensor is a special primitive multi-dimensional array which all dimensions have same size and type. The serialization format is:  | num_dims(unsigned varint) | shape[0](unsigned varint) | shape[...] | shape[N] | element type | data |   The data is continuous to reduce copy and may zero-copy in some cases.  object array‚Äã  Object array is serialized using the list format. Object component type will be taken as list element generic type.  ","version":"0.10","tagName":"h3"},{"title":"map‚Äã","type":1,"pageTitle":"Fury Xlang Serialization Format","url":"/zh-CN/docs/0.10/specification/xlang_serialization_spec#map","content":" Map uses a chunk by chunk based Format:  | length(unsigned varint) | key value chunk data | ... | key value chunk data |   map key-value chunk data‚Äã  Map iteration is too expensive, Fury won't compute the header like for list since it introduceconsiderable overhead. Users can use MapFieldInfo annotation to provide the header in advance. Otherwise Fury will use first key-value pair to predict header optimistically, and update the chunk header if the prediction failed at some pair.  Fury will serialize the map chunk by chunk, every chunk has 255 pairs at most.  | 1 byte | 1 byte | variable bytes | +----------------+----------------+-----------------+ | KV header | chunk size: N | N*2 objects |   KV header:  If track key ref, use the first bit 0b1 of the header to flag it.If the key has null, use the second bit 0b10 of the header to flag it. If ref tracking is enabled for this key type, this flag is invalid.If the actual key type of map is not the declared key type, use the 3rd bit 0b100 of the header to flag it.If track value ref, use the 4th bit 0b1000 of the header to flag it.If the value has null, use the 5th bit 0b10000 of the header to flag it. If ref tracking is enabled for this value type, this flag is invalid.If the value type of map is not the declared value type, use the 6rd bit 0b100000 of the header to flag it.If key or value is null, that key and value will be written as a separate chunk, and chunk size writing will be skipped too.  If streaming write is enabled, which means Fury can't update written chunk size. In such cases, map key-value data format will be:  | 1 byte | variable bytes | +----------------+-----------------+ | KV header | N*2 objects |   KV header will be a header marked by MapFieldInfo in java. For languages such as golang, this can be computed in advance for non-interface types most times. The implementation can generate different deserialization code based read header, and look up the generated code from a linear map/list.  Why serialize chunk by chunk?‚Äã  When fury will use first key-value pair to predict header optimistically, it can't know how many pairs have same meta(tracking kef ref, key has null and so on). If we don't write chunk by chunk with max chunk size, we must write at least X bytes to take up a place for later to update the number which has same elements, X is the num_bytes for encoding varint encoding of map size.  And most map size are smaller than 255, if all pairs have same data, the chunk will be 1. This is common in golang/rust, which object are not reference by default.  Also, if only one or two keys have different meta, we can make it into a different chunk, so that most pairs can share meta.  The implementation can accumulate read count with map size to decide whether to read more chunks.  ","version":"0.10","tagName":"h3"},{"title":"enum‚Äã","type":1,"pageTitle":"Fury Xlang Serialization Format","url":"/zh-CN/docs/0.10/specification/xlang_serialization_spec#enum","content":" Enums are serialized as an unsigned var int. If the order of enum values change, the deserialized enum value may not be the value users expect. In such cases, users must register enum serializer by make it write enum value as an enumerated string with unique hash disabled.  ","version":"0.10","tagName":"h3"},{"title":"decimal‚Äã","type":1,"pageTitle":"Fury Xlang Serialization Format","url":"/zh-CN/docs/0.10/specification/xlang_serialization_spec#decimal","content":" Not supported for now.  ","version":"0.10","tagName":"h3"},{"title":"struct‚Äã","type":1,"pageTitle":"Fury Xlang Serialization Format","url":"/zh-CN/docs/0.10/specification/xlang_serialization_spec#struct","content":" Struct means object of class/pojo/struct/bean/record type. Struct will be serialized by writing its fields data in fury order.  Depending on schema compatibility, structs will have different formats.  field order‚Äã  Field will be ordered as following, every group of fields will have its own order:  primitive fields: larger size type first, smaller later, variable size type last.when same size, sort by type idwhen same size and type id, sort by snake case field nametypes: bool/int8/int16/int32/varint32/int64/varint64/sliint64/float16/float32/float64 nullable primitive fields: same order as primitive fieldsmorphic fields: same type together, then sorted by field name lexicographically using snake case style.unknown fields: same sort algorithms as morphic fieldslist fields: same sort algorithms as morphic fieldsset fields: same sort algorithms as morphic fieldsmap fields: same sort algorithms as morphic fields  Field order‚Äã  Fields in a struct are sorted in a ascending order by:  primitive fields first: bool/int8/int16/int32/varint32/int64/varint64/sliint64/float16/float32/float64, sorted by type id.nullable primitive fieldsmorphic types except list/set/mapunknown typeslist typesset typesmap types  If two fields have same type, then sort by snake_case styled field name.  schema consistent‚Äã  Object will be written as:  | 4 byte | variable bytes | +---------------+------------------+ | type hash | field values |   Type hash is used to check the type schema consistency across languages. Type hash will be the first 32 bits of 56 bits value of the type meta.  Object fields will be serialized one by one using following format:  not null primitive field value: | var bytes | +----------------+ | value data | +----------------+ nullable primitive field value: | one byte | var bytes | +-----------+---------------+ | null flag | field value | +-----------+---------------+ field value of final type with ref tracking: | var bytes | var objects | +-----------+-------------+ | ref meta | value data | +-----------+-------------+ field value of final type without ref tracking: | one byte | var objects | +-----------+-------------+ | null flag | field value | +-----------+-------------+ field value of non-final type with ref tracking: | one byte | var bytes | var objects | +-----------+-------------+-------------+ | ref meta | type meta | value data | +-----------+-------------+-------------+ field value of non-final type without ref tracking: | one byte | var bytes | var objects | +-----------+------------+------------+ | null flag | type meta | value data | +-----------+------------+------------+   Schema evolution‚Äã  Schema evolution have similar format as schema consistent mode for object except:  For the object type, schema consistent mode will write type by id only, but schema evolution mode will write type consisting of field names, types and other meta too, see Type meta.Type meta of final custom type needs to be written too, because peers may not have this type defined.  ","version":"0.10","tagName":"h3"},{"title":"Type‚Äã","type":1,"pageTitle":"Fury Xlang Serialization Format","url":"/zh-CN/docs/0.10/specification/xlang_serialization_spec#type","content":" Type will be serialized using type meta format.  ","version":"0.10","tagName":"h3"},{"title":"Implementation guidelines‚Äã","type":1,"pageTitle":"Fury Xlang Serialization Format","url":"/zh-CN/docs/0.10/specification/xlang_serialization_spec#implementation-guidelines","content":" ","version":"0.10","tagName":"h2"},{"title":"How to reduce memory read/write code‚Äã","type":1,"pageTitle":"Fury Xlang Serialization Format","url":"/zh-CN/docs/0.10/specification/xlang_serialization_spec#how-to-reduce-memory-readwrite-code","content":" Try to merge multiple bytes into an int/long write before writing to reduce memory IO and bound check cost.Read multiple bytes as an int/long, then split into multiple bytes to reduce memory IO and bound check cost.Try to use one varint/long to write flags and length together to save one byte cost and reduce memory io.Condition branches are less expensive compared to memory IO cost unless there are too many branches.  ","version":"0.10","tagName":"h3"},{"title":"Fast deserialization for static languages without runtime codegen support‚Äã","type":1,"pageTitle":"Fury Xlang Serialization Format","url":"/zh-CN/docs/0.10/specification/xlang_serialization_spec#fast-deserialization-for-static-languages-without-runtime-codegen-support","content":" For type evolution, the serializer will encode the type meta into the serialized data. The deserializer will compare this meta with class meta in the current process, and use the diff to determine how to deserialize the data.  For java/javascript/python, we can use the diff to generate serializer code at runtime and load it as class/function for deserialization. In this way, the type evolution will be as fast as type consist mode.  For C++/Rust, we can't generate the serializer code at runtime. So we need to generate the code at compile-time using meta programming. But at that time, we don't know the type schema in other processes, so we can't generate the serializer code for such inconsistent types. We may need to generate the code which has a loop and compare field name one by one to decide whether to deserialize and assign the field or skip the field value.  One fast way is that we can optimize the string comparison into jump instructions:  Assume the current type has n fields, and the peer type has n1 fields.Generate an auto growing field id from 0 for every sorted field in the current type at the compile time.Compare the received type meta with current type, generate same id if the field name is same, otherwise generate an auto growing id starting from n, cache this meta at runtime.Iterate the fields of received type meta, use a switch to compare the field id to deserialize data and assign/skip field value. Continuous field id will be optimized into jump in switch block, so it will very fast.  Here is an example, suppose process A has a class Foo with version 1 defined as Foo1, process B has a class Foowith version 2 defined as Foo2:  // class Foo with version 1 class Foo1 { int32_t v1; // id 0 std::string v2; // id 1 }; // class Foo with version 2 class Foo2 { // id 0, but will have id 2 in process A bool v0; // id 1, but will have id 0 in process A int32_t v1; // id 2, but will have id 3 in process A int64_t long_value; // id 3, but will have id 1 in process A std::string v2; // id 4, but will have id 4 in process A std::vector&lt;std::string&gt; list; };   When process A received serialized Foo2 from process B, here is how it deserialize the data:  Foo1 foo1 = ...; const std::vector&lt;fury::FieldInfo&gt; &amp;field_infos = type_meta.field_infos; for (const auto &amp;field_info : field_infos) { switch (field_info.field_id) { case 0: foo1.v1 = buffer.read_varint32(); break; case 1: foo1.v2 = fury.read_string(); break; default: fury.skip_data(field_info); } }  ","version":"0.10","tagName":"h3"},{"title":"ÂºÄÂèëÊåáÂçó","type":0,"sectionRef":"#","url":"/zh-CN/docs/0.11/guide/development","content":"","keywords":"","version":"0.11"},{"title":"Êú¨Âú∞ÊûÑÂª∫ Apache Fory‚Ñ¢‚Äã","type":1,"pageTitle":"ÂºÄÂèëÊåáÂçó","url":"/zh-CN/docs/0.11/guide/development#Êú¨Âú∞ÊûÑÂª∫-apache-fory","content":" ‰ªé Github ‰ª£Á†ÅÂ∫ì ÊãâÂèñÊúÄÊñ∞‰ª£Á†Å„ÄÇ  ","version":"0.11","tagName":"h2"},{"title":"ÊûÑÂª∫ Apache Fory‚Ñ¢ Java‚Äã","type":1,"pageTitle":"ÂºÄÂèëÊåáÂçó","url":"/zh-CN/docs/0.11/guide/development#ÊûÑÂª∫-apache-fory-java","content":" cd java mvn clean compile -DskipTests   Êú¨Âú∞ÁéØÂ¢ÉË¶ÅÊ±Ç‚Äã  java 1.8+maven 3.6.3+  ","version":"0.11","tagName":"h3"},{"title":"ÊûÑÂª∫ Apache Fory‚Ñ¢ Python‚Äã","type":1,"pageTitle":"ÂºÄÂèëÊåáÂçó","url":"/zh-CN/docs/0.11/guide/development#ÊûÑÂª∫-apache-fory-python","content":" cd python pip install pyarrow==14.0.0 Cython wheel numpy pytest pip install -v -e .   Êú¨Âú∞ÁéØÂ¢ÉË¶ÅÊ±Ç‚Äã  python 3.6+  ","version":"0.11","tagName":"h3"},{"title":"ÊûÑÂª∫ Apache Fory‚Ñ¢ C++‚Äã","type":1,"pageTitle":"ÂºÄÂèëÊåáÂçó","url":"/zh-CN/docs/0.11/guide/development#ÊûÑÂª∫-apache-fory-c","content":" Build fory row formatÔºö  pip install pyarrow==14.0.0 bazel build //cpp/fory/row:fory_row_format   Build fory row format encoder:  pip install pyarrow==14.0.0 bazel build //cpp/fory/encoder:fory_encoder   Êú¨Âú∞ÁéØÂ¢ÉË¶ÅÊ±Ç‚Äã  compilers with C++17 supportbazel 6.3.2  ","version":"0.11","tagName":"h3"},{"title":"ÊûÑÂª∫ Apache Fory‚Ñ¢ GoLang‚Äã","type":1,"pageTitle":"ÂºÄÂèëÊåáÂçó","url":"/zh-CN/docs/0.11/guide/development#ÊûÑÂª∫-apache-fory-golang","content":" cd go/fory # run test go test -v # run xlang test go test -v fory_xlang_test.go   Êú¨Âú∞ÁéØÂ¢ÉË¶ÅÊ±Ç‚Äã  go 1.13+  ","version":"0.11","tagName":"h3"},{"title":"ÊûÑÂª∫ Apache Fory‚Ñ¢ Rust‚Äã","type":1,"pageTitle":"ÂºÄÂèëÊåáÂçó","url":"/zh-CN/docs/0.11/guide/development#ÊûÑÂª∫-apache-fory-rust","content":" cd rust # build cargo build # run test cargo test   Êú¨Âú∞ÁéØÂ¢ÉË¶ÅÊ±Ç‚Äã  curl --proto '=https' --tlsv1.2 -sSf https://sh.rustup.rs | sh   ","version":"0.11","tagName":"h3"},{"title":"ÊûÑÂª∫ Apache Fory‚Ñ¢ JavaScript‚Äã","type":1,"pageTitle":"ÂºÄÂèëÊåáÂçó","url":"/zh-CN/docs/0.11/guide/development#ÊûÑÂª∫-apache-fory-javascript","content":" cd javascript npm install # run build npm run build # run test npm run test   Êú¨Âú∞ÁéØÂ¢ÉË¶ÅÊ±Ç‚Äã  node 14+npm 8+ ","version":"0.11","tagName":"h3"},{"title":"Â¶Ç‰ΩïÂèëÂ∏É","type":0,"sectionRef":"#","url":"/zh-CN/docs/0.11/community/how_to_release","content":"","keywords":"","version":"0.11"},{"title":"‰ªãÁªç‚Äã","type":1,"pageTitle":"Â¶Ç‰ΩïÂèëÂ∏É","url":"/zh-CN/docs/0.11/community/how_to_release#‰ªãÁªç","content":" Ê∫ê‰ª£Á†ÅÂèëÂ∏ÉÊòØ Apache ÊúÄÈáçËßÜ‰ª•ÂèäÊúÄÈáçË¶ÅÁöÑÈÉ®ÂàÜ„ÄÇ  ËØ∑Ê≥®ÊÑèËÆ∏ÂèØËØÅÂíåÂèëÂ∏ÉÁöÑËΩØ‰ª∂Á≠æÂêçÈóÆÈ¢ò„ÄÇÂèëÂ∏ÉËΩØ‰ª∂ÊòØ‰∏Ä‰ª∂‰∏•ËÇÉÁöÑ‰∫ãÊÉÖÔºåÂπ∂‰ºö‰∫ßÁîüÁõ∏Â∫îÁöÑÊ≥ïÂæãÂêéÊûú„ÄÇ  ","version":"0.11","tagName":"h2"},{"title":"release manager Á¨¨‰∏ÄÊ¨°ÂèëÂ∏É‚Äã","type":1,"pageTitle":"Â¶Ç‰ΩïÂèëÂ∏É","url":"/zh-CN/docs/0.11/community/how_to_release#release-manager-Á¨¨‰∏ÄÊ¨°ÂèëÂ∏É","content":" ","version":"0.11","tagName":"h2"},{"title":"ÁéØÂ¢ÉË¶ÅÊ±Ç‚Äã","type":1,"pageTitle":"Â¶Ç‰ΩïÂèëÂ∏É","url":"/zh-CN/docs/0.11/community/how_to_release#ÁéØÂ¢ÉË¶ÅÊ±Ç","content":" Ê≠§ÂèëÂ∏ÉËøáÁ®ãÂú® Ubuntu Á≥ªÁªü‰∏≠ËøêË°åÔºåÈúÄË¶Å‰ª•‰∏ãÂá†‰∏™ÁéØÂ¢É‰æùËµñÔºö  JDK 1.8+Apache Maven 3.x+Python 3.8GnuPG 2.xGitSVNÔºàApache Âü∫Èáë‰ºö‰ΩøÁî® svn Êù•ÊâòÁÆ°È°πÁõÆÂèëÂ∏ÉÔºâËÆæÁΩÆÁéØÂ¢ÉÂèòÈáèÔºöÂ¶ÇÊûúÊÇ®Âú®‰∏çÂêåÁöÑÁõÆÂΩï‰∏ãÈÖçÁΩÆ‰∫Ü gpg ÂØÜÈí•ÔºåËØ∑ÊâßË°å export GNUPGHOME=$(xxx) ÂØºÂá∫ÁéØÂ¢ÉÂèòÈáè„ÄÇ  ","version":"0.11","tagName":"h3"},{"title":"ÂáÜÂ§á GPG ÂØÜÈí•‚Äã","type":1,"pageTitle":"Â¶Ç‰ΩïÂèëÂ∏É","url":"/zh-CN/docs/0.11/community/how_to_release#ÂáÜÂ§á-gpg-ÂØÜÈí•","content":" Â¶ÇÊûúÊÇ®ÊòØÁ¨¨‰∏ÄÊ¨°‰Ωú‰∏∫ËΩØ‰ª∂ÂèëÂ∏ÉËÄÖÔºåÊÇ®ÈúÄË¶ÅÂáÜÂ§á‰∏Ä‰∏™ GPG ÂØÜÈí•„ÄÇ  ÊÇ®ÂèØ‰ª•ÂèÇËÄÉËøôÈáåÁöÑÂø´ÈÄüÂºÄÂßãËé∑Âèñ‰∏Ä‰∏™ GPG ÂØÜÈí•ÊàñËÄÖËé∑ÂèñÊõ¥Â§öÁõ∏ÂÖ≥‰ø°ÊÅØ„ÄÇ  ÂÆâË£Ö GPG‚Äã  sudo apt install gnupg2   ÁîüÊàê GPG ÂØÜÈí•‚Äã  ËØ∑‰ΩøÁî®ÊÇ®ÁöÑ Apache ÂêçÂ≠óÂíåÁîµÂ≠êÈÇÆ‰ª∂Âú∞ÂùÄÁîüÊàê GPG ÂØÜÈí•Ôºö  $ gpg --full-gen-key gpg (GnuPG) 2.2.20; Copyright (C) 2020 Free Software Foundation, Inc. This is free software: you are free to change and redistribute it. There is NO WARRANTY, to the extent permitted by law. Please select what kind of key you want: (1) RSA and RSA (default) (2) DSA and Elgamal (3) DSA (sign only) (4) RSA (sign only) (14) Existing key from card Your selection? 1 # input 1 RSA keys may be between 1024 and 4096 bits long. What keysize do you want? (2048) 4096 # input 4096 Requested keysize is 4096 bits Please specify how long the key should be valid. 0 = key does not expire &lt;n&gt; = key expires in n days &lt;n&gt;w = key expires in n weeks &lt;n&gt;m = key expires in n months &lt;n&gt;y = key expires in n years Key is valid for? (0) 0 # input 0 Key does not expire at all Is this correct? (y/N) y # input y GnuPG needs to construct a user ID to identify your key. Real name: Chaokun Yang # input your name Email address: chaokunyang@apache.org # input your email Comment: CODE SIGNING KEY # input some annotations, optional You selected this USER-ID: &quot;Chaokun &lt;chaokunyang@apache.org&gt;&quot; Change (N)ame, (C)omment, (E)mail or (O)kay/(Q)uit? O # input O We need to generate a lot of random bytes. It is a good idea to perform some other action (type on the keyboard, move the mouse, utilize the disks) during the prime generation; this gives the random number generator a better chance to gain enough entropy. We need to generate a lot of random bytes. It is a good idea to perform some other action (type on the keyboard, move the mouse, utilize the disks) during the prime generation; this gives the random number generator a better chance to gain enough entropy. # Input the security key ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îÇ Please enter this passphrase ‚îÇ ‚îÇ ‚îÇ ‚îÇ Passphrase: _______________________________ ‚îÇ ‚îÇ ‚îÇ ‚îÇ &lt;OK&gt; &lt;Cancel&gt; ‚îÇ ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò # key generation will be done after your inputting the key with the following output gpg: key E49B00F626B marked as ultimately trusted gpg: revocation certificate stored as '/Users/chaokunyang/.gnupg/openpgp-revocs.d/1E2CDAE4C08AD7D694D1CB139D7BE8E45E580BA4.rev' public and secret key created and signed. pub rsa4096 2022-07-12 [SC] 1E2CDAE4C08AD7D694D1CB139D7BE8E45E580BA4 uid [ultimate] Chaokun &lt;chaokunyang@apache.org&gt; sub rsa4096 2022-07-12 [E]   ‰∏ä‰º†ÂÖ¨Èí•Ëá≥ GPG ÂØÜÈí•ÊúçÂä°Âô®‚Äã  È¶ñÂÖàÔºåÂàóÂá∫ÊÇ®ÊâÄÂàõÂª∫ÁöÑ GPG ÂØÜÈí•Ôºö  gpg --list-keys   ÊâßË°åÁõ∏ÂÖ≥ÂëΩ‰ª§‰πãÂêéÔºåÊÇ®Â∞ÜÁúãÂà∞Â¶Ç‰∏ãËæìÂá∫Ôºö  -------------------------------------------------- pub rsa4096 2024-03-27 [SC] 1E2CDAE4C08AD7D694D1CB139D7BE8E45E580BA4 uid [ultimate] chaokunyang (CODE SIGNING KEY) &lt;chaokunyang@apache.org&gt; sub rsa4096 2024-03-27 [E]   ÁÑ∂ÂêéÔºåÂ∞ÜÊÇ®ÁöÑÂØÜÈí• ID ÂèëÈÄÅÂà∞ÂØÜÈí•ÊúçÂä°Âô®Ôºö  gpg --keyserver keys.openpgp.org --send-key &lt;key-id&gt; # e.g., 1E2CDAE4C08AD7D694D1CB139D7BE8E45E580BA4   ÂÖ∂‰∏≠Ôºåkeys.openpgp.org ÊòØ‰∏Ä‰∏™ÈöèÊú∫ÈÄâÊã©ÁöÑÂØÜÈí•ÊúçÂä°Âô®ÔºåÂèØ‰ª•‰ΩøÁî® keyserver.ubuntu.com Êàñ‰ªª‰ΩïÂÖ∂‰ªñÂäüËÉΩÂÆåÂ§áÁöÑÂØÜÈí•ÊúçÂä°Âô®„ÄÇ  Ê£ÄÊü•ÂØÜÈí•ÊòØÂê¶ÂàõÂª∫ÊàêÂäü‚Äã  ‰∏ä‰º†Â§ßÁ∫¶ÈúÄË¶Å‰∏ÄÂàÜÈíüÔºõ‰πãÂêéÔºåÊÇ®ÂèØ‰ª•ÈÄöËøáÁîµÂ≠êÈÇÆ‰ª∂Âú®Áõ∏Â∫îÁöÑÂØÜÈí•ÊúçÂä°Âô®‰∏äÊ£ÄÊü•„ÄÇ  Â∞ÜÂØÜÈí•‰∏ä‰º†Âà∞ÂØÜÈí•ÊúçÂä°Âô®ÁöÑ‰∏ªË¶ÅÁõÆÁöÑÊòØ‰∏∫‰∫ÜÂä†ÂÖ•‰∏Ä‰∏™ÂèØ‰ø°ÁöÑ‰ø°‰ªªÁΩëÁªú„ÄÇ  Â∞Ü GPG ÂÖ¨Èí•Ê∑ªÂä†Âà∞È°πÁõÆ KEYS Êñá‰ª∂‰∏≠‚Äã  ÂèëÂ∏ÉÂàÜÊîØÁöÑ svn ‰ªìÂ∫ìÊòØÔºöhttps://dist.apache.org/repos/dist/release/incubator/fory  ËØ∑Âú®ÂèëÂ∏ÉÂàÜÊîØÁöÑ KEYS ‰∏≠Ê∑ªÂä†ÂÖ¨Èí•Ôºö  svn co https://dist.apache.org/repos/dist/release/incubator/fory fory-dist # As this step will copy all the versions, it will take some time. If the network is broken, please use svn cleanup to delete the lock before re-execute it. cd fory-dist (gpg --list-sigs YOUR_NAME@apache.org &amp;&amp; gpg --export --armor YOUR_NAME@apache.org) &gt;&gt; KEYS # Append your key to the KEYS file svn add . # It is not needed if the KEYS document exists before. svn ci -m &quot;add gpg key for YOUR_NAME&quot; # Later on, if you are asked to enter a username and password, just use your apache username and password.   Â∞Ü GPG ÂÖ¨Èí•‰∏ä‰º†Âà∞ÊÇ®ÁöÑ GitHub Â∏êÊà∑‚Äã  ËæìÂÖ• https://github.com/settings/keys ‰ª•Ê∑ªÂä†ÊÇ®ÁöÑ GPG ÂØÜÈí•„ÄÇÂ¶ÇÊûúÊ∑ªÂä†ÂêéÂèëÁé∞‚ÄúÊú™È™åËØÅ‚ÄùÂ≠óÊ†∑ÔºåËØ∑Â∞Ü GPG ÂØÜÈí•‰∏≠‰ΩøÁî®ÁöÑÁîµÂ≠êÈÇÆ‰ª∂Âú∞ÂùÄÁªëÂÆöÂà∞ÊÇ®ÁöÑ GitHub Â∏êÊà∑Ôºàhttps://github.com/settings/emailsÔºâ„ÄÇ  ","version":"0.11","tagName":"h3"},{"title":"Âª∂‰º∏ÈòÖËØª‚Äã","type":1,"pageTitle":"Â¶Ç‰ΩïÂèëÂ∏É","url":"/zh-CN/docs/0.11/community/how_to_release#Âª∂‰º∏ÈòÖËØª","content":" Âª∫ËÆÆÊÇ®Âú®ÂèëÂ∏É‰πãÂâçÈòÖËØª‰ª•‰∏ãÊñáÊ°£Ôºå‰∫ÜËß£ÊúâÂÖ≥ Apache Âü∫Èáë‰ºöÂèëÂ∏ÉËΩØ‰ª∂ÁöÑÊõ¥Â§öËØ¶ÁªÜ‰ø°ÊÅØÔºå‰ΩÜËøô‰∏çÊòØÂøÖÈ°ªÁöÑÔºö  ÂèëÂ∏ÉÊîøÁ≠ñÔºöhttps://www.apache.org/legal/release-policy.htmlÂ≠µÂåñÂô®ÂèëÂ∏ÉÔºöhttp://incubator.apache.org/guides/releasemanagement.htmlTLP ÁâàÊú¨Ôºöhttps://infra.apache.org/release-distributionÂèëÂ∏ÉÊ†áÂøóÔºöhttps://infra.apache.org/release-signing.htmlÂèëÂ∏ÉÂèëÂ∏ÉÔºöhttps://infra.apache.org/release-publishing.htmlÂèëÂ∏É‰∏ãËΩΩÈ°µÈù¢Ôºöhttps://infra.apache.org/release-download-pages.htmlÂèëÂ∏É maven artifactsÔºöhttps://infra.apache.org/publishing-maven-artifacts.html  ","version":"0.11","tagName":"h3"},{"title":"ÂºÄÂßãÊúâÂÖ≥ÂèëÂ∏ÉÁöÑËÆ®ËÆ∫‚Äã","type":1,"pageTitle":"Â¶Ç‰ΩïÂèëÂ∏É","url":"/zh-CN/docs/0.11/community/how_to_release#ÂºÄÂßãÊúâÂÖ≥ÂèëÂ∏ÉÁöÑËÆ®ËÆ∫","content":" ÈÄöËøáÂèëÈÄÅÁîµÂ≠êÈÇÆ‰ª∂Ëá≥‰ª•‰∏ãÂú∞ÂùÄÂèëËµ∑ÊúâÂÖ≥‰∏ã‰∏Ä‰∏™ÁâàÊú¨ÁöÑËÆ®ËÆ∫Ôºödev@fory.apache.orgÔºö  Ê†áÈ¢òÔºö  [DISCUSS] Release Apache Fory(incubating) ${release_version}   ÂÜÖÂÆπÔºö  Hello, Apache Fory(incubating) Community, This is a call for a discussion to release Apache Fory(incubating) version ${release_version}. The change lists about this release: https://github.com/apache/fory/compare/v0.4.1...v0.5.0 Please leave your comments here about this release plan. We will bump the version in repo and start the release process after the discussion. Thanks, ${name}   ","version":"0.11","tagName":"h2"},{"title":"ÂáÜÂ§áÂèëÂ∏É‚Äã","type":1,"pageTitle":"Â¶Ç‰ΩïÂèëÂ∏É","url":"/zh-CN/docs/0.11/community/how_to_release#ÂáÜÂ§áÂèëÂ∏É","content":" Â¶ÇÊûúËÆ®ËÆ∫ÁªìÊûú‰∏≠Ê≤°ÊúâÂá∫Áé∞ÂèçÂØπÂ£∞Èü≥ÔºåÊÇ®ÈúÄË¶ÅÂÅö‰∏Ä‰∫õÂèëÂ∏ÉÁâàÊú¨ÁöÑÂáÜÂ§áÂ∑•‰Ωú„ÄÇ  ","version":"0.11","tagName":"h2"},{"title":"Github ÂàÜÊîØÂíåÊ†áÁ≠æ‚Äã","type":1,"pageTitle":"Â¶Ç‰ΩïÂèëÂ∏É","url":"/zh-CN/docs/0.11/community/how_to_release#github-ÂàÜÊîØÂíåÊ†áÁ≠æ","content":" ÂàõÂª∫‰∏Ä‰∏™Âêç‰∏∫ releases-0.5.0ÈÄöËøáÊâßË°åÂëΩ‰ª§Â∞ÜÁâàÊú¨ $version ÂçáÁ∫ßÂà∞ python ci/release.py bump_version -l all -version $versionÊâßË°å git commit Âπ∂Â∞ÜÂàÜÊîØÊé®ÈÄÅÂà∞ git@github.com:apache/fory.gitÈÄöËøá git tag v0.5.0-rc1 ÂàõÂª∫‰∏Ä‰∏™Êñ∞Ê†áÁ≠æÔºåÁÑ∂ÂêéÂ∞ÜÂÖ∂Êé®ÈÄÅÂà∞ git@github.com:apache/fory.git  ","version":"0.11","tagName":"h3"},{"title":"ÊûÑÂª∫ artifacts Âπ∂‰∏ä‰º†Âà∞ SVN dist/dev ‰ªìÂ∫ì‚Äã","type":1,"pageTitle":"Â¶Ç‰ΩïÂèëÂ∏É","url":"/zh-CN/docs/0.11/community/how_to_release#ÊûÑÂª∫-artifacts-Âπ∂‰∏ä‰º†Âà∞-svn-distdev-‰ªìÂ∫ì","content":" È¶ñÂÖàÔºåÊÇ®ÈúÄË¶ÅÈÄöËøá python ci/release.py build -v $version ÊûÑÂª∫È¢ÑÂèëÂ∏É artifacts„ÄÇ  ÁÑ∂ÂêéÊÇ®ÈúÄË¶ÅÊääÂÆÉ‰∏ä‰º†Âà∞ svn dist repo„ÄÇdev ÂàÜÊîØÁöÑ dist ‰ªìÂ∫ìÂú∞ÂùÄÊòØÔºöhttps://dist.apache.org/repos/dist/dev/incubator/fory  # As this step will copy all the versions, it will take some time. If the network is broken, please use svn cleanup to delete the lock before re-execute it. svn co https://dist.apache.org/repos/dist/dev/incubator/fory fory-dist-dev   ÁÑ∂ÂêéÔºå‰∏ä‰º†È°πÁõÆÔºö  cd fory-dist-dev # create a directory named by version mkdir ${release_version}-${rc_version} # copy source code and signature package to the versioned directory cp ${repo_dir}/dist/* ${release_version}-${rc_version} # check svn status svn status # add to svn svn add ${release_version}-${rc_version} # check svn status svn status # commit to SVN remote server svn commit -m &quot;Prepare for fory ${release_version}-${rc_version}&quot;   ËÆøÈóÆ https://dist.apache.org/repos/dist/dev/incubator/fory/ ‰ª•Ê£ÄÊü• artifacts ÊòØÂê¶Ê≠£Á°Æ‰∏ä‰º†„ÄÇ  ","version":"0.11","tagName":"h3"},{"title":"Â¶ÇÊûúÂá∫Áé∞ÈóÆÈ¢òËØ•ÊÄé‰πàÂäû‚Äã","type":1,"pageTitle":"Â¶Ç‰ΩïÂèëÂ∏É","url":"/zh-CN/docs/0.11/community/how_to_release#Â¶ÇÊûúÂá∫Áé∞ÈóÆÈ¢òËØ•ÊÄé‰πàÂäû","content":" Â¶ÇÊûúÊüê‰∫õÊñá‰ª∂ÊòØÊÑèÂ§ñÂá∫Áé∞ÊàñËÄÖÂèëÁîüÊüê‰∫õÈîôËØØÔºåÂàôÈúÄË¶ÅÂà†Èô§Áõ∏ÂÖ≥ÂÜÖÂÆπÂπ∂ÊâßË°å svn deleteÔºåÁÑ∂ÂêéÈáçÂ§ç‰∏äËø∞‰∏ä‰º†ËøáÁ®ã„ÄÇ  ","version":"0.11","tagName":"h3"},{"title":"ÊäïÁ•®‚Äã","type":1,"pageTitle":"Â¶Ç‰ΩïÂèëÂ∏É","url":"/zh-CN/docs/0.11/community/how_to_release#ÊäïÁ•®","content":" ‰Ωú‰∏∫‰∏Ä‰∏™Â≠µÂåñÈ°πÁõÆÔºåÊñ∞ÁâàÊú¨ÂèëÂ∏ÉÈúÄË¶Å Apache Fory Á§æÂå∫ÂíåÂ≠µÂåñÂô®Á§æÂå∫ÁöÑÊäïÁ•®„ÄÇ  release_versionÔºöFory ÁöÑÁâàÊú¨ÔºåÂ¶Ç 0.5.0„ÄÇrelease_candidate_versionÔºöÊäïÁ•®ÁöÑÁâàÊú¨ÔºåÂ¶Ç 0.5.0-rc1„ÄÇmaven_artifact_numberÔºöMaven ÊöÇÂ≠ò artifacts ÁöÑÊï∞Èáè„ÄÇÂ¶Ç 1001. ÂÖ∑‰ΩìÊù•ËØ¥ÔºåÂèØ‰ª•ÈÄöËøáÊêúÁ¥¢ ‚Äúfory‚Äù Êù•ÊâæÂà∞ maven_artifact_number https://repository.apache.org/#stagingRepositories.  ","version":"0.11","tagName":"h2"},{"title":"Fory Á§æÂå∫ÊäïÁ•®‚Äã","type":1,"pageTitle":"Â¶Ç‰ΩïÂèëÂ∏É","url":"/zh-CN/docs/0.11/community/how_to_release#fory-Á§æÂå∫ÊäïÁ•®","content":" ÂèëÈÄÅÁîµÂ≠êÈÇÆ‰ª∂Ëá≥ Fory CommunityÔºödev@fory.apache.orgÔºö  Ê†áÈ¢òÔºö  [VOTE] Release Apache Fory(incubating) v${release_version}-${rc_version}   ÂÜÖÂÆπÔºö  Hello, Apache Fory(incubating) Community: This is a call for vote to release Apache Fory(Incubating) version release-0.5.0-rc3. Apache Fory(incubating) - A blazingly fast multi-language serialization framework powered by JIT and zero-copy. The change lists about this release: https://github.com/apache/fory/compare/v0.4.1...v0.5.0-rc3 The release candidates: https://dist.apache.org/repos/dist/dev/incubator/fory/0.5.0-rc3/ The maven staging for this release: https://repository.apache.org/content/repositories/orgapachefory-1003 Git tag for the release: https://github.com/apache/fory/releases/tag/v0.5.0-rc3 Git commit for the release: https://github.com/apache/fory/commit/fae06330edd049bb960536e978a45b97bca66faf The artifacts signed with PGP key [5E580BA4], corresponding to [chaokunyang@apache.org], that can be found in keys file: https://downloads.apache.org/incubator/fory/KEYS The vote will be open for at least 72 hours until the necessary number of votes are reached. Please vote accordingly: [ ] +1 approve [ ] +0 no opinion [ ] -1 disapprove with the reason To learn more about Fory, please see https://fory.apache.org/ *Valid check is a requirement for a vote. *Checklist for reference: [ ] Download Fory is valid. [ ] Checksums and PGP signatures are valid. [ ] Source code distributions have correct names matching the current release. [ ] LICENSE and NOTICE files are correct. [ ] All files have license headers if necessary. [ ] No compiled archives bundled in source archive. [ ] Can compile from source. More detail checklist please refer: https://cwiki.apache.org/confluence/display/INCUBATOR/Incubator+Release+Checklist How to Build and Test, please refer to: https://github.com/apache/fory/blob/main/docs/guide/DEVELOPMENT.md Thanks, Chaokun Yang   Âú®Ëá≥Â∞ëËé∑Âæó 3 + 1 ‰∏îÂÖ∑ÊúâÁ∫¶ÊùüÂäõÁöÑÊäïÁ•®ÔºàÊù•Ëá™ Fory Podling PMC ÊàêÂëòÂíåÊèê‰∫§ËÄÖÔºâÂπ∂Ê≤°ÊúâÊî∂Âà∞Âê¶ÂÜ≥Á•®‰πãÂêéÔºåÂèëÂ∏ÉÊäïÁ•®ÁªìÊûúÔºö  Ê†áÈ¢òÔºö  [RESULT][VOTE] Release Apache Fory(incubating) v${release_version}-${rc_version}   ÂÜÖÂÆπÔºö  Hello, Apache Fory(incubating) Community, The vote to release Apache Fory(Incubating) v${release_version}-${rc_version} has passed. The vote PASSED with 3 binding +1 and 0 -1 vote: Binding votes: - xxx - yyy - zzz Vote thread: ${vote_thread_url} Thanks, ${name}   ","version":"0.11","tagName":"h3"},{"title":"Â≠µÂåñÂô®Á§æÂå∫ÊäïÁ•®‚Äã","type":1,"pageTitle":"Â¶Ç‰ΩïÂèëÂ∏É","url":"/zh-CN/docs/0.11/community/how_to_release#Â≠µÂåñÂô®Á§æÂå∫ÊäïÁ•®","content":" ÂèëÈÄÅÁîµÂ≠êÈÇÆ‰ª∂Ëá≥Ôºögeneral@incubator.apache.orgÔºö  Ê†áÈ¢òÔºö  [VOTE] Release Apache Fory(incubating) v${release_version}-${rc_version}   ÂÜÖÂÆπÔºö  Hello everyone, This is a call for the vote to release Apache Fory(Incubating) v${release_version}-${rc_version}. The Apache Fory community has voted and approved the release of Apache Fory(incubating) v${release_version}-${rc_version}. We now kindly request the IPMC members review and vote for this release. Apache Fory(incubating) - A blazingly fast multi-language serialization framework powered by JIT and zero-copy. Fory community vote thread: ${community_vote_thread_url} Vote result thread: ${community_vote_result_thread_url} The release candidate: https://dist.apache.org/repos/dist/dev/incubator/fory/${release_version}-${rc_version}/ This release has been signed with a PGP available here: https://downloads.apache.org/incubator/fory/KEYS Git tag for the release: https://github.com/apache/fory/releases/tag/v${release_version}-${rc_version}/ Git commit for the release: https://github.com/apache/fory/commit/$xxx Maven staging repo: https://repository.apache.org/content/repositories/orgapachefory-${maven_artifact_number}/ How to Build and Test, please refer to: https://github.com/apache/fory/blob/main/docs/guide/DEVELOPMENT.md Please download, verify, and test. The VOTE will pass after 3 binding approve. [ ] +1 approve [ ] +0 no opinion [ ] -1 disapprove with the reason To learn more about apache fory, please see https://fory.apache.org/ Checklist for reference: [ ] Download links are valid. [ ] Checksums and signatures. [ ] LICENSE/NOTICE files exist [ ] No unexpected binary files [ ] All source files have ASF headers [ ] Can compile from source Thanks, ${name}   Ëá≥Â∞ë 72 Â∞èÊó∂ÂêéÔºåËá≥Â∞ëÊúâ 3 + 1 ÂÖ∑ÊúâÁ∫¶ÊùüÂäõÁöÑÊäïÁ•®ÔºàÊù•Ëá™Â≠µÂåñÂô® PMC ÊàêÂëòÔºâ‰∏îÊ≤°ÊúâÂê¶ÂÜ≥Á•®ÔºåÂèëÂ∏ÉÊäïÁ•®ÁªìÊûúÔºö  Ê†áÈ¢òÔºö  [RESULT][VOTE] Release Apache Fory(incubating) v${release_version}-${rc_version}   ÂÜÖÂÆπÔºö  Hi Incubator PMC, The vote to release Apache Fory(incubating) v${release_version}-${rc_version} has passed with 4 +1 binding and 3 +1 non-binding votes, no +0 or -1 votes. Binding votesÔºö - xxx - yyy - zzz Non-Binding votes: - aaa Vote thread: ${incubator_vote_thread_url} Thanks for reviewing and voting for our release candidate. We will proceed with publishing the approved artifacts and sending out the announcement soon.   ","version":"0.11","tagName":"h3"},{"title":"Â¶ÇÊûúÊäïÁ•®Â§±Ë¥•ÊÄé‰πàÂäû‚Äã","type":1,"pageTitle":"Â¶Ç‰ΩïÂèëÂ∏É","url":"/zh-CN/docs/0.11/community/how_to_release#Â¶ÇÊûúÊäïÁ•®Â§±Ë¥•ÊÄé‰πàÂäû","content":" Â¶ÇÊûúÊäïÁ•®Â§±Ë¥•ÔºåËØ∑ÂçïÂáª‚ÄúÂà†Èô§‚Äù‰ª•Âà†Èô§ÊöÇÂ≠òÁöÑ Maven artifacts„ÄÇ  Ëß£ÂÜ≥ÊèêÂá∫ÁöÑÈóÆÈ¢òÔºåÁÑ∂ÂêéÂÜçÊ¨°ÊèêÂá∫ rc_version ÁöÑÊñ∞ÊäïÁ•®„ÄÇ  ","version":"0.11","tagName":"h3"},{"title":"ÂÆòÊñπÂèëÂ∏É‚Äã","type":1,"pageTitle":"Â¶Ç‰ΩïÂèëÂ∏É","url":"/zh-CN/docs/0.11/community/how_to_release#ÂÆòÊñπÂèëÂ∏É","content":" ","version":"0.11","tagName":"h2"},{"title":"Â∞Ü artifacts ÂèëÂ∏ÉÂà∞ SVN ÂèëÂ∏ÉÁõÆÂΩï‚Äã","type":1,"pageTitle":"Â¶Ç‰ΩïÂèëÂ∏É","url":"/zh-CN/docs/0.11/community/how_to_release#Â∞Ü-artifacts-ÂèëÂ∏ÉÂà∞-svn-ÂèëÂ∏ÉÁõÆÂΩï","content":" release_versionÔºöFory ÁöÑÂèëÂ∏ÉÁâàÊú¨ÔºåÂ¶Ç 0.5.0release_candidate_versionÔºöÊäïÁ•®ÁâàÊú¨ÔºåÂ¶Ç 0.5.0-rc1  svn mv https://dist.apache.org/repos/dist/dev/incubator/fory/${release_version}-${rc_version} https://dist.apache.org/repos/dist/release/incubator/fory/${release_version} -m &quot;Release fory ${release_version}&quot;   ","version":"0.11","tagName":"h3"},{"title":"Êõ¥Êîπ Fory ÁΩëÁ´ô‰∏ãËΩΩÈìæÊé•‚Äã","type":1,"pageTitle":"Â¶Ç‰ΩïÂèëÂ∏É","url":"/zh-CN/docs/0.11/community/how_to_release#Êõ¥Êîπ-fory-ÁΩëÁ´ô‰∏ãËΩΩÈìæÊé•","content":" Êèê‰∫§ PR Âà∞ https://github.com/apache/fory-site ‰ªìÂ∫ìÊõ¥Êñ∞ Fory ÁâàÊú¨Ôºå‰∏ãËΩΩÈ°µÈù¢  ","version":"0.11","tagName":"h3"},{"title":"ÂèëÂ∏É Maven artifacts‚Äã","type":1,"pageTitle":"Â¶Ç‰ΩïÂèëÂ∏É","url":"/zh-CN/docs/0.11/community/how_to_release#ÂèëÂ∏É-maven-artifacts","content":" maven_artifact_numberÔºöMaven ÊöÇÂ≠ò artifacts ÁöÑÊï∞Èáè„ÄÇÂ¶Ç 1001„ÄÇÊâìÂºÄhttps://repository.apache.org/#stagingRepositories.ÊâæÂà∞ artifacts orgapachefory-${maven_artifact_number}ÔºåÁÇπÂáª‚ÄúÂèëÂ∏É‚Äù„ÄÇ  ","version":"0.11","tagName":"h3"},{"title":"ÂèëÈÄÅÂÖ¨Âëä‚Äã","type":1,"pageTitle":"Â¶Ç‰ΩïÂèëÂ∏É","url":"/zh-CN/docs/0.11/community/how_to_release#ÂèëÈÄÅÂÖ¨Âëä","content":" Â∞ÜÂèëÂ∏ÉÂÖ¨ÂëäÂèëÈÄÅÁªô dev@fory.apache.org Âπ∂‰∏îÊäÑÈÄÅÁªô announce@apache.org„ÄÇ  Ê†áÈ¢òÔºö  [ANNOUNCE] Release Apache Fory(incubating) ${release_version}   ÂÜÖÂÆπÔºö  Hi all, The Apache Fory(incubating) community is pleased to announce that Apache Fory(incubating) {release_version} has been released! Apache Fory(incubating) - A blazingly fast multi-language serialization framework powered by JIT and zero-copy. The release notes are available here: https://github.com/apache/fory/releases/tag/v${release_version} For the complete list of changes: https://github.com/apache/fory/compare/v0.5.0...v${release_version} Apache Fory website: https://fory.apache.org/ Download Links: https://fory.apache.org/download Fory Resources: - Fory github repo: https://github.com/apache/fory - Issue: https://github.com/apache/fory/issues - Mailing list: dev@fory.apache.org We are looking to grow our community and welcome new contributors. If you are interested in contributing to Fory, please contact us on the mailing list or on GitHub. We will be happy to help you get started. ------------------ Best Regards, ${your_name}   Ëá≥Ê≠§ÔºåÊï¥‰∏™ÂèëÂ∏ÉÊµÅÁ®ãÁªìÊùü„ÄÇ ","version":"0.11","tagName":"h3"},{"title":"GraalVM Â∫èÂàóÂåñ","type":0,"sectionRef":"#","url":"/zh-CN/docs/0.11/guide/graalvm_serialization","content":"","keywords":"","version":"0.11"},{"title":"GraalVM Native Image‚Äã","type":1,"pageTitle":"GraalVM Â∫èÂàóÂåñ","url":"/zh-CN/docs/0.11/guide/graalvm_serialization#graalvm-native-image","content":" GraalVM ÁöÑ native image ËÉΩÂ∞Ü Java ‰ª£Á†ÅÊèêÂâçÁºñËØë‰∏∫Êú¨Âú∞‰ª£Á†ÅÔºå‰ªéËÄåÊûÑÂª∫Êõ¥Âø´„ÄÅÊõ¥Â∞è„ÄÅÊõ¥Á≤æÁÆÄÁöÑÂ∫îÁî®„ÄÇ Native image ‰∏çÂåÖÂê´ JIT ÁºñËØëÂô®ÔºåÊó†Ê≥ïÂú®ËøêË°åÊó∂Â∞ÜÂ≠óËäÇÁ†ÅÁºñËØë‰∏∫Êú∫Âô®Á†ÅÔºå‰πü‰∏çÊîØÊåÅÂèçÂ∞ÑÔºåÈô§ÈùûÈÖçÁΩÆÂèçÂ∞ÑÂÖÉÊï∞ÊçÆÊñá‰ª∂„ÄÇ  Apache Fory‚Ñ¢ Âú®GraalVM native image ‰∏ãËøêË°åËâØÂ•Ω„ÄÇFory ‰ºöÂú® graalvm ÊûÑÂª∫Èò∂ÊÆµ‰∏∫ Fory JIT framework Âíå MethodHandle/LambdaMetafactory ÁîüÊàêÊâÄÊúâÂ∫èÂàóÂåñÂô®‰ª£Á†ÅÔºåËøêË°åÊó∂Áõ¥Êé•‰ΩøÁî®Ëøô‰∫õÁîüÊàêÁöÑ‰ª£Á†ÅËøõË°åÂ∫èÂàóÂåñÔºåÊó†ÈúÄÈ¢ùÂ§ñÂºÄÈîÄÔºåÊÄßËÉΩ‰ºòÂºÇ„ÄÇ  Âú® graalvm native image ‰∏ã‰ΩøÁî® Fory Êó∂ÔºåÂøÖÈ°ªÂ∞Ü Fory ÂàõÂª∫‰∏∫Á±ªÁöÑÈùôÊÄÅÂ≠óÊÆµÔºåÂπ∂Âú®Á±ªÂàùÂßãÂåñÊó∂Ê≥®ÂÜåÊâÄÊúâÁ±ªÂûã„ÄÇÁÑ∂ÂêéÂú® resources/META-INF/native-image/$xxx/native-image.properties ‰∏ãÈÖçÁΩÆ native-image.propertiesÔºåÂëäÁü• graalvm Âú® native image ÊûÑÂª∫Êó∂ÂàùÂßãÂåñËØ•Á±ª„ÄÇ‰æãÂ¶ÇÔºåÈÖçÁΩÆ org.apache.fory.graalvm.Example Á±ªÂú®ÊûÑÂª∫Êó∂ÂàùÂßãÂåñÔºö  Args = --initialize-at-build-time=org.apache.fory.graalvm.Example   ‰ΩøÁî® fory ÁöÑÂè¶‰∏Ä‰∏™Â•ΩÂ§ÑÊòØÊó†ÈúÄÈÖçÁΩÆÁπÅÁêêÁöÑ reflection json Âíå serialization json„ÄÇÂè™ÈúÄÂØπÊØè‰∏™ÈúÄË¶ÅÂ∫èÂàóÂåñÁöÑÁ±ªÂûãË∞ÉÁî® org.apache.fory.Fory.register(Class&lt;?&gt;, boolean) Âç≥ÂèØ„ÄÇ  Ê≥®ÊÑèÔºöFory ÁöÑ asyncCompilationEnabled ÈÄâÈ°πÂú® graalvm native image ‰∏ã‰ºöËá™Âä®Á¶ÅÁî®ÔºåÂõ†‰∏∫ native image ËøêË°åÊó∂‰∏çÊîØÊåÅ JIT„ÄÇ  ","version":"0.11","tagName":"h2"},{"title":"ÈùûÁ∫øÁ®ãÂÆâÂÖ® Fory‚Äã","type":1,"pageTitle":"GraalVM Â∫èÂàóÂåñ","url":"/zh-CN/docs/0.11/guide/graalvm_serialization#ÈùûÁ∫øÁ®ãÂÆâÂÖ®-fory","content":" Á§∫‰æãÔºö  import org.apache.fory.Fory; import org.apache.fory.util.Preconditions; import java.util.List; import java.util.Map; public class Example { public record Record ( int f1, String f2, List&lt;String&gt; f3, Map&lt;String, Long&gt; f4) { } static Fory fory; static { fory = Fory.builder().build(); // Ê≥®ÂÜåÂπ∂ÁîüÊàêÂ∫èÂàóÂåñÂô®‰ª£Á†Å„ÄÇ fory.register(Record.class, true); } public static void main(String[] args) { Record record = new Record(10, &quot;abc&quot;, List.of(&quot;str1&quot;, &quot;str2&quot;), Map.of(&quot;k1&quot;, 10L, &quot;k2&quot;, 20L)); System.out.println(record); byte[] bytes = fory.serialize(record); Object o = fory.deserialize(bytes); System.out.println(o); Preconditions.checkArgument(record.equals(o)); } }   ÁÑ∂ÂêéÂú® native-image.properties ÈÖçÁΩÆ‰∏≠Ê∑ªÂä† org.apache.fory.graalvm.Example ÁöÑÊûÑÂª∫Êó∂ÂàùÂßãÂåñÔºö  Args = --initialize-at-build-time=org.apache.fory.graalvm.Example   ","version":"0.11","tagName":"h2"},{"title":"Á∫øÁ®ãÂÆâÂÖ® Fory‚Äã","type":1,"pageTitle":"GraalVM Â∫èÂàóÂåñ","url":"/zh-CN/docs/0.11/guide/graalvm_serialization#Á∫øÁ®ãÂÆâÂÖ®-fory","content":" import org.apache.fory.Fory; import org.apache.fory.ThreadLocalFory; import org.apache.fory.ThreadSafeFory; import org.apache.fory.util.Preconditions; import java.util.List; import java.util.Map; public class ThreadSafeExample { public record Foo ( int f1, String f2, List&lt;String&gt; f3, Map&lt;String, Long&gt; f4) { } static ThreadSafeFory fory; static { fory = new ThreadLocalFory(classLoader -&gt; { Fory f = Fory.builder().build(); // Ê≥®ÂÜåÂπ∂ÁîüÊàêÂ∫èÂàóÂåñÂô®‰ª£Á†Å„ÄÇ f.register(Foo.class, true); return f; }); } public static void main(String[] args) { System.out.println(fory.deserialize(fory.serialize(&quot;abc&quot;))); System.out.println(fory.deserialize(fory.serialize(List.of(1,2,3)))); System.out.println(fory.deserialize(fory.serialize(Map.of(&quot;k1&quot;, 1, &quot;k2&quot;, 2)))); Foo foo = new Foo(10, &quot;abc&quot;, List.of(&quot;str1&quot;, &quot;str2&quot;), Map.of(&quot;k1&quot;, 10L, &quot;k2&quot;, 20L)); System.out.println(foo); byte[] bytes = fory.serialize(foo); Object o = fory.deserialize(bytes); System.out.println(o); } }   ÁÑ∂ÂêéÂú® native-image.properties ÈÖçÁΩÆ‰∏≠Ê∑ªÂä† org.apache.fory.graalvm.ThreadSafeExample ÁöÑÊûÑÂª∫Êó∂ÂàùÂßãÂåñÔºö  Args = --initialize-at-build-time=org.apache.fory.graalvm.ThreadSafeExample   ","version":"0.11","tagName":"h2"},{"title":"Ê°ÜÊû∂ÈõÜÊàê‚Äã","type":1,"pageTitle":"GraalVM Â∫èÂàóÂåñ","url":"/zh-CN/docs/0.11/guide/graalvm_serialization#Ê°ÜÊû∂ÈõÜÊàê","content":" ÂØπ‰∫éÊ°ÜÊû∂ÂºÄÂèëËÄÖÔºåÂ¶ÇÊûúÂ∏åÊúõÈõÜÊàê fory ‰Ωú‰∏∫Â∫èÂàóÂåñÊñπÊ°àÔºåÂèØ‰ª•Êèê‰æõ‰∏Ä‰∏™ÈÖçÁΩÆÊñá‰ª∂ÔºåËÆ©Áî®Êà∑ÂàóÂá∫ÊâÄÊúâÈúÄË¶ÅÂ∫èÂàóÂåñÁöÑÁ±ªÔºåÁÑ∂ÂêéÂä†ËΩΩËøô‰∫õÁ±ªÂπ∂Âú® Fory ÈõÜÊàêÁ±ª‰∏≠Ë∞ÉÁî® org.apache.fory.Fory.register(Class&lt;?&gt;, boolean) ËøõË°åÊ≥®ÂÜåÔºåÂπ∂ÈÖçÁΩÆËØ•Á±ªÂú® graalvm native image ÊûÑÂª∫Êó∂ÂàùÂßãÂåñ„ÄÇ  ","version":"0.11","tagName":"h2"},{"title":"Benchmark‚Äã","type":1,"pageTitle":"GraalVM Â∫èÂàóÂåñ","url":"/zh-CN/docs/0.11/guide/graalvm_serialization#benchmark","content":" ËøôÈáåÁªôÂá∫ Fory ‰∏é Graalvm Serialization ÁöÑ‰∏§‰∏™Á±ªÁöÑÂü∫ÂáÜÊµãËØï„ÄÇ  Fory Êú™ÂºÄÂêØÂéãÁº©Êó∂Ôºö  StructÔºöFory ‰∏∫ JDK ÁöÑ 46x ÈÄüÂ∫¶Ôºå43% Â§ßÂ∞èPojoÔºöFory ‰∏∫ JDK ÁöÑ 12x ÈÄüÂ∫¶Ôºå56% Â§ßÂ∞è  Fory ÂºÄÂêØÂéãÁº©Êó∂Ôºö  StructÔºöFory ‰∏∫ JDK ÁöÑ 24x ÈÄüÂ∫¶Ôºå31% Â§ßÂ∞èPojoÔºöFory ‰∏∫ JDK ÁöÑ 12x ÈÄüÂ∫¶Ôºå48% Â§ßÂ∞è  Âü∫ÂáÜÊµãËØï‰ª£Á†ÅËßÅ [Benchmark.java]„ÄÇ  ","version":"0.11","tagName":"h2"},{"title":"Struct Âü∫ÂáÜÊµãËØï‚Äã","type":1,"pageTitle":"GraalVM Â∫èÂàóÂåñ","url":"/zh-CN/docs/0.11/guide/graalvm_serialization#struct-Âü∫ÂáÜÊµãËØï","content":" Á±ªÂ≠óÊÆµ‚Äã  public class Struct implements Serializable { public int f1; public long f2; public float f3; public double f4; public int f5; public long f6; public float f7; public double f8; public int f9; public long f10; public float f11; public double f12; }   Benchmark ÁªìÊûú‚Äã  Êú™ÂéãÁº©Ôºö  Benchmark repeat number: 400000 Object type: class org.apache.fory.graalvm.Struct Compress number: false Fory size: 76.0 JDK size: 178.0 Fory serialization took mills: 49 JDK serialization took mills: 2254 Compare speed: Fory is 45.70x speed of JDK Compare size: Fory is 0.43x size of JDK   ÂéãÁº©Ôºö  Benchmark repeat number: 400000 Object type: class org.apache.fory.graalvm.Struct Compress number: true Fory size: 55.0 JDK size: 178.0 Fory serialization took mills: 130 JDK serialization took mills: 3161 Compare speed: Fory is 24.16x speed of JDK Compare size: Fory is 0.31x size of JDK   ","version":"0.11","tagName":"h3"},{"title":"Pojo Âü∫ÂáÜÊµãËØï‚Äã","type":1,"pageTitle":"GraalVM Â∫èÂàóÂåñ","url":"/zh-CN/docs/0.11/guide/graalvm_serialization#pojo-Âü∫ÂáÜÊµãËØï","content":" Á±ªÂ≠óÊÆµ‚Äã  public class Foo implements Serializable { int f1; String f2; List&lt;String&gt; f3; Map&lt;String, Long&gt; f4; }   Benchmark ÁªìÊûú‚Äã  Êú™ÂéãÁº©Ôºö  Benchmark repeat number: 400000 Object type: class org.apache.fory.graalvm.Foo Compress number: false Fory size: 541.0 JDK size: 964.0 Fory serialization took mills: 1663 JDK serialization took mills: 16266 Compare speed: Fory is 12.19x speed of JDK Compare size: Fory is 0.56x size of JDK   ÂéãÁº©Ôºö  Benchmark repeat number: 400000 Object type: class org.apache.fory.graalvm.Foo Compress number: true Fory size: 459.0 JDK size: 964.0 Fory serialization took mills: 1289 JDK serialization took mills: 15069 Compare speed: Fory is 12.11x speed of JDK Compare size: Fory is 0.48x size of JDK  ","version":"0.11","tagName":"h3"},{"title":"Ë∑®ËØ≠Ë®ÄÁ±ªÂûãÊò†Â∞Ñ","type":0,"sectionRef":"#","url":"/zh-CN/docs/0.11/guide/xlang_type_mapping","content":"","keywords":"","version":"0.11"},{"title":"Á±ªÂûãÊò†Â∞Ñ‚Äã","type":1,"pageTitle":"Ë∑®ËØ≠Ë®ÄÁ±ªÂûãÊò†Â∞Ñ","url":"/zh-CN/docs/0.11/guide/xlang_type_mapping#Á±ªÂûãÊò†Â∞Ñ","content":" Fory Type\tFory Type ID\tJava\tPython\tJavascript\tC++\tGolang\tRustbool\t1\tbool/Boolean\tbool\tBoolean\tbool\tbool\tbool int8\t2\tbyte/Byte\tint/pyfory.Int8\tType.int8()\tint8_t\tint8\ti8 int16\t3\tshort/Short\tint/pyfory.Int16\tType.int16()\tint16_t\tint16\ti6 int32\t4\tint/Integer\tint/pyfory.Int32\tType.int32()\tint32_t\tint32\ti32 var_int32\t5\tint/Integer\tint/pyfory.VarInt32\tType.varint32()\tfory::varint32_t\tfory.varint32\tfory::varint32 int64\t6\tlong/Long\tint/pyfory.Int64\tType.int64()\tint64_t\tint64\ti64 var_int64\t7\tlong/Long\tint/pyfory.VarInt64\tType.varint64()\tfory::varint64_t\tfory.varint64\tfory::varint64 sli_int64\t8\tlong/Long\tint/pyfory.SliInt64\tType.sliint64()\tfory::sliint64_t\tfory.sliint64\tfory::sliint64 float16\t9\tfloat/Float\tfloat/pyfory.Float16\tType.float16()\tfory::float16_t\tfory.float16\tfory::f16 float32\t10\tfloat/Float\tfloat/pyfory.Float32\tType.float32()\tfloat\tfloat32\tf32 float64\t11\tdouble/Double\tfloat/pyfory.Float64\tType.float64()\tdouble\tfloat64\tf64 string\t12\tString\tstr\tString\tstring\tstring\tString/str enum\t13\tEnum subclasses\tenum subclasses\t/\tenum\t/\tenum named_enum\t14\tEnum subclasses\tenum subclasses\t/\tenum\t/\tenum struct\t15\tpojo/record\tdata class / type with type hints\tobject\tstruct/class\tstruct\tstruct compatible_struct\t16\tpojo/record\tdata class / type with type hints\tobject\tstruct/class\tstruct\tstruct named_struct\t17\tpojo/record\tdata class / type with type hints\tobject\tstruct/class\tstruct\tstruct named_compatible_struct\t18\tpojo/record\tdata class / type with type hints\tobject\tstruct/class\tstruct\tstruct ext\t19\tpojo/record\tdata class / type with type hints\tobject\tstruct/class\tstruct\tstruct named_ext\t20\tpojo/record\tdata class / type with type hints\tobject\tstruct/class\tstruct\tstruct list\t21\tList/Collection\tlist/tuple\tarray\tvector\tslice\tVec set\t22\tSet\tset\t/\tset\tfory.Set\tSet map\t23\tMap\tdict\tMap\tunordered_map\tmap\tHashMap duration\t24\tDuration\ttimedelta\tNumber\tduration\tDuration\tDuration timestamp\t25\tInstant\tdatetime\tNumber\tstd::chrono::nanoseconds\tTime\tDateTime local_date\t26\tDate\tdatetime\tNumber\tstd::chrono::nanoseconds\tTime\tDateTime decimal\t27\tBigDecimal\tDecimal\tbigint\t/\t/\t/ binary\t28\tbyte[]\tbytes\t/\tuint8_t[n]/vector&lt;T&gt;\t[n]uint8/[]T\tVec&lt;uint8_t&gt; array\t29\tarray\tnp.ndarray\t/\t/\tarray/slice\tVec bool_array\t30\tbool[]\tndarray(np.bool_)\t/\tbool[n]\t[n]bool/[]T\tVec&lt;bool&gt; int8_array\t31\tbyte[]\tndarray(int8)\t/\tint8_t[n]/vector&lt;T&gt;\t[n]int8/[]T\tVec&lt;i18&gt; int16_array\t32\tshort[]\tndarray(int16)\t/\tint16_t[n]/vector&lt;T&gt;\t[n]int16/[]T\tVec&lt;i16&gt; int32_array\t33\tint[]\tndarray(int32)\t/\tint32_t[n]/vector&lt;T&gt;\t[n]int32/[]T\tVec&lt;i32&gt; int64_array\t34\tlong[]\tndarray(int64)\t/\tint64_t[n]/vector&lt;T&gt;\t[n]int64/[]T\tVec&lt;i64&gt; float16_array\t35\tfloat[]\tndarray(float16)\t/\tfory::float16_t[n]/vector&lt;T&gt;\t[n]float16/[]T\tVec&lt;fory::f16&gt; float32_array\t36\tfloat[]\tndarray(float32)\t/\tfloat[n]/vector&lt;T&gt;\t[n]float32/[]T\tVec&lt;f32&gt; float64_array\t37\tdouble[]\tndarray(float64)\t/\tdouble[n]/vector&lt;T&gt;\t[n]float64/[]T\tVec&lt;f64&gt; arrow record batch\t38\t/\t/\t/\t/\t/\t/ arrow table\t39\t/\t/\t/\t/\t/\t/  ","version":"0.11","tagName":"h2"},{"title":"Á±ªÂûã‰ø°ÊÅØÔºàÂΩìÂâçÊú™ÂÆûÁé∞Ôºâ‚Äã","type":1,"pageTitle":"Ë∑®ËØ≠Ë®ÄÁ±ªÂûãÊò†Â∞Ñ","url":"/zh-CN/docs/0.11/guide/xlang_type_mapping#Á±ªÂûã‰ø°ÊÅØÂΩìÂâçÊú™ÂÆûÁé∞","content":" Áî±‰∫éÂêÑËØ≠Ë®ÄÁöÑÁ±ªÂûãÁ≥ªÁªüÂ≠òÂú®Â∑ÆÂºÇÔºåÊüê‰∫õÁ±ªÂûãÊó†Ê≥ïÂÅöÂà∞‰∏Ä‰∏ÄÊò†Â∞Ñ„ÄÇ  Â¶ÇÊûúÁî®Êà∑ÂèëÁé∞Êüê‰∏ÄËØ≠Ë®ÄÁöÑÁ±ªÂûãÂú® Fory Á±ªÂûãÁ≥ªÁªü‰∏≠ÂØπÂ∫îÂ§ö‰∏™Á±ªÂûãÔºå‰æãÂ¶Ç Java ‰∏≠ÁöÑ long ÂØπÂ∫î int64/varint64/sliint64ÔºåËøôÊÑèÂë≥ÁùÄËØ•ËØ≠Ë®ÄÁº∫Â∞ëÊüê‰∫õÁ±ªÂûãÔºåÁî®Êà∑Âú®‰ΩøÁî® Fory Êó∂ÈúÄË¶ÅÈ¢ùÂ§ñÊèê‰æõÁ±ªÂûã‰ø°ÊÅØ„ÄÇ  ","version":"0.11","tagName":"h2"},{"title":"Á±ªÂûãÊ≥®Ëß£‚Äã","type":1,"pageTitle":"Ë∑®ËØ≠Ë®ÄÁ±ªÂûãÊò†Â∞Ñ","url":"/zh-CN/docs/0.11/guide/xlang_type_mapping#Á±ªÂûãÊ≥®Ëß£","content":" Â¶ÇÊûúÁ±ªÂûãÊòØÂè¶‰∏Ä‰∏™Á±ªÁöÑÂ≠óÊÆµÔºåÁî®Êà∑ÂèØ‰ª•‰∏∫Á±ªÂûãÁöÑÂ≠óÊÆµÊàñÊï¥‰∏™Á±ªÂûãÊèê‰æõÂÖÉ‰ø°ÊÅØÊèêÁ§∫„ÄÇ Ëøô‰∫õ‰ø°ÊÅØÂú®ÂÖ∂‰ªñËØ≠Ë®Ä‰∏≠‰πüÂèØ‰ª•Êèê‰æõÔºö  JavaÔºö‰ΩøÁî® annotation„ÄÇC++Ôºö‰ΩøÁî®ÂÆèÂíåÊ®°Êùø„ÄÇGolangÔºö‰ΩøÁî® struct tag„ÄÇPythonÔºö‰ΩøÁî® typehint„ÄÇRustÔºö‰ΩøÁî®ÂÆè„ÄÇ  Á§∫‰æãÔºö  Java: class Foo { @Int32Type(varint = true) int f1; List&lt;@Int32Type(varint = true) Integer&gt; f2; } Python: class Foo: f1: Int32Type(varint=True) f2: List[Int32Type(varint=True)]   ","version":"0.11","tagName":"h2"},{"title":"Á±ªÂûãÂåÖË£ÖÂô®‚Äã","type":1,"pageTitle":"Ë∑®ËØ≠Ë®ÄÁ±ªÂûãÊò†Â∞Ñ","url":"/zh-CN/docs/0.11/guide/xlang_type_mapping#Á±ªÂûãÂåÖË£ÖÂô®","content":" Â¶ÇÊûúÁ±ªÂûã‰∏çÊòØÁ±ªÁöÑÂ≠óÊÆµÔºåÁî®Êà∑ÂøÖÈ°ªÁî® Fory Á±ªÂûãÂåÖË£ÖËØ•Á±ªÂûã‰ª•‰º†ÈÄíÈ¢ùÂ§ñÁöÑÁ±ªÂûã‰ø°ÊÅØ„ÄÇ  ‰æãÂ¶ÇÔºåÂÅáËÆæ Fory Java Êèê‰æõ‰∫Ü VarInt64 Á±ªÂûãÔºåÂΩìÁî®Êà∑Ë∞ÉÁî® fory.serialize(long_value) Êó∂ÔºåÈúÄË¶ÅËøôÊ†∑Ë∞ÉÁî®Ôºöfory.serialize(new VarInt64(long_value))„ÄÇ ","version":"0.11","tagName":"h2"},{"title":"Benchmark","type":0,"sectionRef":"#","url":"/zh-CN/docs/0.11/introduction/benchmark","content":"","keywords":"","version":"0.11"},{"title":"Java Â∫èÂàóÂåñ‚Äã","type":1,"pageTitle":"Benchmark","url":"/zh-CN/docs/0.11/introduction/benchmark#java-Â∫èÂàóÂåñ","content":"         ","version":"0.11","tagName":"h3"},{"title":"Java ÂèçÂ∫èÂàóÂåñ‚Äã","type":1,"pageTitle":"Benchmark","url":"/zh-CN/docs/0.11/introduction/benchmark#java-ÂèçÂ∫èÂàóÂåñ","content":"         ÊúâÂÖ≥Á±ªÂûãÂêëÂâç/ÂêëÂêéÂÖºÂÆπÊÄß„ÄÅÂ†ÜÂ§ñÊîØÊåÅ„ÄÅÈõ∂Êã∑Ë¥ùÂ∫èÂàóÂåñÁöÑÊõ¥Â§ö benchmark ÊµãËØïÔºåËØ∑ÂèÇËßÅbenchmarks  ","version":"0.11","tagName":"h3"},{"title":"JavaScript‚Äã","type":1,"pageTitle":"Benchmark","url":"/zh-CN/docs/0.11/introduction/benchmark#javascript","content":"   ËØ•Êù°ÂΩ¢Âõæ‰ΩøÁî®ÁöÑÊï∞ÊçÆÂåÖÊã¨‰∏Ä‰∏™ÂÖ∑ÊúâÂ§öÁßçÂ≠óÊÆµÁ±ªÂûãÁöÑÂ§çÊùÇÂØπË±°ÔºåJSON Êï∞ÊçÆÁöÑÂ§ßÂ∞è‰∏∫ 3KB„ÄÇ  ËØ∑ÂèÇÈòÖbenchmarks benchmark ÊµãËØï‰ª£Á†Å„ÄÇ ","version":"0.11","tagName":"h3"},{"title":"Features","type":0,"sectionRef":"#","url":"/zh-CN/docs/0.11/introduction/features","content":"Features Â§öÁßçËØ≠Ë®ÄÔºöJava/Python/C++/Golang/Javascript/Rust„ÄÇÈõ∂Êã∑Ë¥ùÔºöÁ±ª‰ººpickle5ÔºåÊîØÊåÅÂ†ÜÂ§ñËØª/ÂÜôÁöÑË∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ„ÄÇÈ´òÊÄßËÉΩÔºöÈ´òÂ∫¶ÂèØÊâ©Â±ïÁöÑ JIT Ê°ÜÊû∂ÔºåÂèØÂú®ËøêË°åÊó∂‰ª•ÂºÇÊ≠•Â§öÁ∫øÁ®ãÊñπÂºèÁîüÊàêÂ∫èÂàóÂåñÁ®ãÂ∫è‰ª£Á†ÅÔºå‰ª•Âä†Âø´Â∫èÂàóÂåñÈÄüÂ∫¶ÔºåÈÄöËøá‰ª•‰∏ãÊñπÂºèÊèêÂçá 20-170 ÂÄçÁöÑÈÄüÂ∫¶Ôºö ÂáèÂ∞ëÂú®ÁîüÊàê‰ª£Á†Å‰∏≠ÂÜÖËÅîÂèòÈáèÂáèÂ∞ëÂÜÖÂ≠òËÆøÈóÆÔºõÈÄöËøáÂú®ÁîüÊàêÁöÑ‰ª£Á†Å‰∏≠ÂÜÖËÅîË∞ÉÁî®Êù•ÂáèÂ∞ëËôöÊãüÊñπÊ≥ïË∞ÉÁî®ÔºõÂáèÂ∞ëÊù°‰ª∂ÂàÜÊîØÔºõÂáèÂ∞ëÂìàÂ∏åÊü•ÊâæÔºõ ‰∫åËøõÂà∂ÂçèËÆÆÔºöÂØπË±°Âõæ„ÄÅË°åÊ†ºÂºèÁ≠â„ÄÇ Èô§‰∫ÜË∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ‰πãÂ§ñÔºåFory ËøòÊîØÊåÅ‰ª•‰∏ãÂäüËÉΩÔºö Áõ¥Êé•ÊõøÊç¢ Java Â∫èÂàóÂåñÊ°ÜÊû∂ÔºåÂ¶Ç JDK/Kryo/HessianÔºåÊó†ÈúÄ‰øÆÊîπ‰ªª‰Ωï‰ª£Á†ÅÔºå‰ΩÜÈÄüÂ∫¶ÊèêÈ´ò 100 ÂÄç„ÄÇÂÆÉÂèØ‰ª•Â§ßÂ§ßÊèêÈ´ò RPC Ë∞ÉÁî®ÊÄßËÉΩ„ÄÅÊï∞ÊçÆ‰º†ËæìÂíåÂØπË±°ÊåÅ‰πÖÂåñÁöÑÊïàÁéáÔºõJDK Â∫èÂàóÂåñ 100% ÂÖºÂÆπÔºåÂéüÁîüÊîØÊåÅ java Ëá™ÂÆö‰πâÂ∫èÂàóÂåñ writeObject/readObject/writeReplace/readResolve/readObjectNoDataÔºõÊîØÊåÅ golang ÁöÑÂÖ±‰∫´ÂíåÂæ™ÁéØÂºïÁî®ÂØπË±°Â∫èÂàóÂåñÔºõÊîØÊåÅ golang ÁöÑËá™Âä®ÂØπË±°Â∫èÂàóÂåñ„ÄÇ","keywords":"","version":"0.11"},{"title":"Ë°åÂ≠òÊ†ºÂºè","type":0,"sectionRef":"#","url":"/zh-CN/docs/0.11/guide/row_format","content":"","keywords":"","version":"0.11"},{"title":"Java‚Äã","type":1,"pageTitle":"Ë°åÂ≠òÊ†ºÂºè","url":"/zh-CN/docs/0.11/guide/row_format#java","content":" public class Bar { String f1; List&lt;Long&gt; f2; } public class Foo { int f1; List&lt;Integer&gt; f2; Map&lt;String, Integer&gt; f3; List&lt;Bar&gt; f4; } RowEncoder&lt;Foo&gt; encoder = Encoders.bean(Foo.class); Foo foo = new Foo(); foo.f1 = 10; foo.f2 = IntStream.range(0, 1000000).boxed().collect(Collectors.toList()); foo.f3 = IntStream.range(0, 1000000).boxed().collect(Collectors.toMap(i -&gt; &quot;k&quot;+i, i-&gt;i)); List&lt;Bar&gt; bars = new ArrayList&lt;&gt;(1000000); for (int i = 0; i &lt; 1000000; i++) { Bar bar = new Bar(); bar.f1 = &quot;s&quot;+i; bar.f2 = LongStream.range(0, 10).boxed().collect(Collectors.toList()); bars.add(bar); } foo.f4 = bars; // ÂèØË¢´ python Èõ∂Êã∑Ë¥ùËØªÂèñ BinaryRow binaryRow = encoder.toRow(foo); // ‰πüÂèØ‰ª•ÊòØ python ÁîüÊàêÁöÑÊï∞ÊçÆ Foo newFoo = encoder.fromRow(binaryRow); // Èõ∂Êã∑Ë¥ùËØªÂèñ List&lt;Integer&gt; f2 BinaryArray binaryArray2 = binaryRow.getArray(1); // Èõ∂Êã∑Ë¥ùËØªÂèñ List&lt;Bar&gt; f4 BinaryArray binaryArray4 = binaryRow.getArray(3); // Èõ∂Êã∑Ë¥ùËØªÂèñ `readList&lt;Bar&gt; f4` ÁöÑÁ¨¨ 11 ‰∏™ÂÖÉÁ¥† BinaryRow barStruct = binaryArray4.getStruct(10); // Èõ∂Êã∑Ë¥ùËØªÂèñ `readList&lt;Bar&gt; f4` Á¨¨ 11 ‰∏™ÂÖÉÁ¥†ÁöÑ f2 ÁöÑÁ¨¨ 6 ‰∏™ÂÖÉÁ¥† barStruct.getArray(1).getInt64(5); RowEncoder&lt;Bar&gt; barEncoder = Encoders.bean(Bar.class); // Âè™ÂèçÂ∫èÂàóÂåñÈÉ®ÂàÜÊï∞ÊçÆ Bar newBar = barEncoder.fromRow(barStruct); Bar newBar2 = barEncoder.fromRow(binaryArray4.getStruct(20));   ","version":"0.11","tagName":"h2"},{"title":"Python‚Äã","type":1,"pageTitle":"Ë°åÂ≠òÊ†ºÂºè","url":"/zh-CN/docs/0.11/guide/row_format#python","content":" @dataclass class Bar: f1: str f2: List[pa.int64] @dataclass class Foo: f1: pa.int32 f2: List[pa.int32] f3: Dict[str, pa.int32] f4: List[Bar] encoder = pyfory.encoder(Foo) foo = Foo(f1=10, f2=list(range(1000_000)), f3={f&quot;k{i}&quot;: i for i in range(1000_000)}, f4=[Bar(f1=f&quot;s{i}&quot;, f2=list(range(10))) for i in range(1000_000)]) binary: bytes = encoder.to_row(foo).to_bytes() print(f&quot;start: {datetime.datetime.now()}&quot;) foo_row = pyfory.RowData(encoder.schema, binary) print(foo_row.f2[100000], foo_row.f4[100000].f1, foo_row.f4[200000].f2[5]) print(f&quot;end: {datetime.datetime.now()}&quot;) binary = pickle.dumps(foo) print(f&quot;pickle start: {datetime.datetime.now()}&quot;) new_foo = pickle.loads(binary) print(new_foo.f2[100000], new_foo.f4[100000].f1, new_foo.f4[200000].f2[5]) print(f&quot;pickle end: {datetime.datetime.now()}&quot;)   ","version":"0.11","tagName":"h2"},{"title":"Apache Arrow ÊîØÊåÅ‚Äã","type":1,"pageTitle":"Ë°åÂ≠òÊ†ºÂºè","url":"/zh-CN/docs/0.11/guide/row_format#apache-arrow-ÊîØÊåÅ","content":" Fory Format ‰πüÊîØÊåÅ‰∏é Arrow Table/RecordBatch ÁöÑËá™Âä®ËΩ¨Êç¢„ÄÇ  Java Á§∫‰æãÔºö  Schema schema = TypeInference.inferSchema(BeanA.class); ArrowWriter arrowWriter = ArrowUtils.createArrowWriter(schema); Encoder&lt;BeanA&gt; encoder = Encoders.rowEncoder(BeanA.class); for (int i = 0; i &lt; 10; i++) { BeanA beanA = BeanA.createBeanA(2); arrowWriter.write(encoder.toRow(beanA)); } return arrowWriter.finishAsRecordBatch();   ","version":"0.11","tagName":"h3"},{"title":"ÊîØÊåÅÊé•Âè£‰∏éÁªßÊâøÁ±ªÂûã‚Äã","type":1,"pageTitle":"Ë°åÂ≠òÊ†ºÂºè","url":"/zh-CN/docs/0.11/guide/row_format#ÊîØÊåÅÊé•Âè£‰∏éÁªßÊâøÁ±ªÂûã","content":" Fury Áé∞Â∑≤ÊîØÊåÅ Java interface Á±ªÂûãÂíåÂ≠êÁ±ªÔºàextendsÔºâÁ±ªÂûãÁöÑË°åÊ†ºÂºèÊò†Â∞ÑÔºåÂ∏¶Êù•Êõ¥Âä®ÊÄÅÂíåÁÅµÊ¥ªÁöÑÊï∞ÊçÆ schema„ÄÇ  Áõ∏ÂÖ≥Â¢ûÂº∫ËßÅ #2243„ÄÅ#2250„ÄÅ#2256„ÄÇ  ","version":"0.11","tagName":"h2"},{"title":"Á§∫‰æãÔºöÊé•Âè£Á±ªÂûãÁöÑ RowEncoder Êò†Â∞Ñ‚Äã","type":1,"pageTitle":"Ë°åÂ≠òÊ†ºÂºè","url":"/zh-CN/docs/0.11/guide/row_format#Á§∫‰æãÊé•Âè£Á±ªÂûãÁöÑ-rowencoder-Êò†Â∞Ñ","content":" public interface Animal { String speak(); } public class Dog implements Animal { public String name; @Override public String speak() { return &quot;Woof&quot;; } } // ‰ΩøÁî® RowEncoder ‰ª•Êé•Âè£Á±ªÂûãÁºñÁ†ÅÂíåËß£Á†Å RowEncoder&lt;Animal&gt; encoder = Encoders.bean(Animal.class); Dog dog = new Dog(); dog.name = &quot;Bingo&quot;; BinaryRow row = encoder.toRow(dog); Animal decoded = encoder.fromRow(row); System.out.println(decoded.speak()); // Woof   ","version":"0.11","tagName":"h3"},{"title":"Á§∫‰æãÔºöÁªßÊâøÁ±ªÂûãÁöÑ RowEncoder Êò†Â∞Ñ‚Äã","type":1,"pageTitle":"Ë°åÂ≠òÊ†ºÂºè","url":"/zh-CN/docs/0.11/guide/row_format#Á§∫‰æãÁªßÊâøÁ±ªÂûãÁöÑ-rowencoder-Êò†Â∞Ñ","content":" public class Parent { public String parentField; } public class Child extends Parent { public String childField; } // ‰ΩøÁî® RowEncoder ‰ª•Áà∂Á±ªÁ±ªÂûãÁºñÁ†ÅÂíåËß£Á†Å RowEncoder&lt;Parent&gt; encoder = Encoders.bean(Parent.class); Child child = new Child(); child.parentField = &quot;Hello&quot;; child.childField = &quot;World&quot;; BinaryRow row = encoder.toRow(child); Parent decoded = encoder.fromRow(row);   Python Á§∫‰æãÔºö  import pyfory encoder = pyfory.encoder(Foo) encoder.to_arrow_record_batch([foo] * 10000) encoder.to_arrow_table([foo] * 10000)   C++ Á§∫‰æãÔºö  std::shared_ptr&lt;ArrowWriter&gt; arrow_writer; EXPECT_TRUE( ArrowWriter::Make(schema, ::arrow::default_memory_pool(), &amp;arrow_writer) .ok()); for (auto &amp;row : rows) { EXPECT_TRUE(arrow_writer-&gt;Write(row).ok()); } std::shared_ptr&lt;::arrow::RecordBatch&gt; record_batch; EXPECT_TRUE(arrow_writer-&gt;Finish(&amp;record_batch).ok()); EXPECT_TRUE(record_batch-&gt;Validate().ok()); EXPECT_EQ(record_batch-&gt;num_columns(), schema-&gt;num_fields()); EXPECT_EQ(record_batch-&gt;num_rows(), row_nums);   Schema schema = TypeInference.inferSchema(BeanA.class); ArrowWriter arrowWriter = ArrowUtils.createArrowWriter(schema); Encoder&lt;BeanA&gt; encoder = Encoders.rowEncoder(BeanA.class); for (int i = 0; i &lt; 10; i++) { BeanA beanA = BeanA.createBeanA(2); arrowWriter.write(encoder.toRow(beanA)); } return arrowWriter.finishAsRecordBatch();  ","version":"0.11","tagName":"h3"},{"title":"Ê¶ÇËø∞","type":0,"sectionRef":"#","url":"/zh-CN/docs/0.11/introduction/overview","content":"","keywords":"","version":"0.11"},{"title":"ÂçèËÆÆ‚Äã","type":1,"pageTitle":"Ê¶ÇËø∞","url":"/zh-CN/docs/0.11/introduction/overview#ÂçèËÆÆ","content":" ‰∏çÂêåÂú∫ÊôØÊúâ‰∏çÂêåÁöÑÂ∫èÂàóÂåñÈúÄÊ±Ç„ÄÇFury ÈíàÂØπËøô‰∫õÈúÄÊ±ÇËÆæËÆ°Âπ∂ÂÆûÁé∞‰∫ÜÂ§öÁßç‰∫åËøõÂà∂ÂçèËÆÆÔºö  Ë∑®ËØ≠Ë®ÄÂØπË±°ÂõæÂçèËÆÆÔºö Ëá™Âä®Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ‰ªª‰ΩïÂØπË±°ÔºåÊó†ÈúÄ IDL ÂÆö‰πâ„ÄÅSchema ÁºñËØëÂíåÂØπË±°‰∏éÂçèËÆÆ‰πãÈó¥ÁöÑËΩ¨Êç¢„ÄÇÊîØÊåÅÂÖ±‰∫´ÂºïÁî®ÂíåÂæ™ÁéØÂºïÁî®ÔºåÊó†ÈáçÂ§çÊï∞ÊçÆÊàñÈÄíÂΩíÈîôËØØ„ÄÇÊîØÊåÅÂØπË±°Â§öÊÄÅ„ÄÇ ÂéüÁîü Java/Python ÂØπË±°ÂõæÂçèËÆÆÔºöÂü∫‰∫éËØ≠Ë®ÄÁ±ªÂûãÁ≥ªÁªüÁöÑÈ´òÂ∫¶‰ºòÂåñ„ÄÇË°åÊ†ºÂºèÂçèËÆÆÔºöÁºìÂ≠òÂèãÂ•ΩÁöÑ‰∫åËøõÂà∂ÈöèÊú∫ËÆøÈóÆÊ†ºÂºèÔºåÊîØÊåÅË∑≥ËøáÂ∫èÂàóÂåñÂíåÈÉ®ÂàÜÂ∫èÂàóÂåñÔºåÂèØËá™Âä®ËΩ¨Êç¢‰∏∫ÂàóÊ†ºÂºè„ÄÇ  Âü∫‰∫é Fury Áé∞ÊúâÁöÑÁºìÂÜ≤Âå∫„ÄÅÁºñÁ†Å„ÄÅÂÖÉÊï∞ÊçÆ„ÄÅ‰ª£Á†ÅÁîüÊàêÁ≠âËÉΩÂäõÔºåÂèØ‰ª•ËΩªÊùæÊ∑ªÂä†Êñ∞ÂçèËÆÆ„ÄÇÊâÄÊúâËøô‰∫õÂÖ±‰∫´Áõ∏ÂêåÁöÑ‰ª£Á†ÅÂ∫ìÔºå‰∏Ä‰∏™ÂçèËÆÆÁöÑ‰ºòÂåñÂèØ‰ª•Ë¢´Âè¶‰∏Ä‰∏™ÂçèËÆÆÂ§çÁî®„ÄÇ  ","version":"0.11","tagName":"h2"},{"title":"ÂÖºÂÆπÊÄß‚Äã","type":1,"pageTitle":"Ê¶ÇËø∞","url":"/zh-CN/docs/0.11/introduction/overview#ÂÖºÂÆπÊÄß","content":" ","version":"0.11","tagName":"h2"},{"title":"Schema ÂÖºÂÆπÊÄß‚Äã","type":1,"pageTitle":"Ê¶ÇËø∞","url":"/zh-CN/docs/0.11/introduction/overview#schema-ÂÖºÂÆπÊÄß","content":" Fury Java ÂØπË±°ÂõæÂ∫èÂàóÂåñÊîØÊåÅÁ±ª Schema ÁöÑÂêëÂâç/ÂêëÂêéÂÖºÂÆπÊÄß„ÄÇÂ∫èÂàóÂåñÁ´ØÂíåÂèçÂ∫èÂàóÂåñÁ´ØÂèØ‰ª•Áã¨Á´ãÊ∑ªÂä†/Âà†Èô§Â≠óÊÆµ„ÄÇ  Êàë‰ª¨ËÆ°ÂàíÂú®ÂÖÉÊï∞ÊçÆÂéãÁº©ÂÆåÊàêÂêéÊ∑ªÂä†Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñÊîØÊåÅ„ÄÇ  ","version":"0.11","tagName":"h3"},{"title":"‰∫åËøõÂà∂ÂÖºÂÆπÊÄß‚Äã","type":1,"pageTitle":"Ê¶ÇËø∞","url":"/zh-CN/docs/0.11/introduction/overview#‰∫åËøõÂà∂ÂÖºÂÆπÊÄß","content":" Êàë‰ª¨‰ªçÂú®ÊîπËøõÂçèËÆÆÔºåÁõÆÂâç Fury ÁâàÊú¨‰πãÈó¥‰∏ç‰øùËØÅ‰∫åËøõÂà∂ÂÖºÂÆπÊÄß„ÄÇÂ¶ÇÊûúÊÇ®Â∞ÜÊù•Ë¶ÅÂçáÁ∫ß FuryÔºåËØ∑‰ΩøÁî® shade ÊâìÂåÖ Fury„ÄÇ  ‰∫åËøõÂà∂ÂÖºÂÆπÊÄßÂ∞ÜÂú® Fury 1.0 ‰πãÂâçÂæóÂà∞‰øùËØÅ„ÄÇ  ","version":"0.11","tagName":"h3"},{"title":"ÂÆâÂÖ®ÊÄß‚Äã","type":1,"pageTitle":"Ê¶ÇËø∞","url":"/zh-CN/docs/0.11/introduction/overview#ÂÆâÂÖ®ÊÄß","content":" ÈùôÊÄÅÂ∫èÂàóÂåñÔºàÂ¶ÇË°åÊ†ºÂºèÔºâÊú¨Ë¥®‰∏äÊòØÂÆâÂÖ®ÁöÑ„ÄÇ‰ΩÜÂä®ÊÄÅÂØπË±°ÂõæÂ∫èÂàóÂåñÊîØÊåÅÂèçÂ∫èÂàóÂåñÊú™Ê≥®ÂÜåÁöÑÁ±ªÂûãÔºåËøôÂèØËÉΩ‰ºöÂºïÂÖ•ÂÆâÂÖ®È£éÈô©„ÄÇ  ‰æãÂ¶ÇÔºåÂèçÂ∫èÂàóÂåñÂèØËÉΩ‰ºöË∞ÉÁî® init ÊûÑÈÄ†ÂáΩÊï∞Êàñ equals/hashCode ÊñπÊ≥ïÔºåÂ¶ÇÊûúÊñπÊ≥ï‰ΩìÂåÖÂê´ÊÅ∂ÊÑè‰ª£Á†ÅÔºåÁ≥ªÁªüÂ∞ÜÈù¢‰∏¥È£éÈô©„ÄÇ  Fury ‰∏∫Ê≠§ÂçèËÆÆÊèê‰æõ‰∫ÜÁ±ªÊ≥®ÂÜåÊ®°ÂºèÈÄâÈ°πÔºåÈªòËÆ§ÂêØÁî®ÔºåÂè™ÂÖÅËÆ∏ÂèçÂ∫èÂàóÂåñÂèó‰ø°‰ªªÁöÑÂ∑≤Ê≥®ÂÜåÁ±ªÂûãÊàñÂÜÖÁΩÆÁ±ªÂûã‰ª•Á°Æ‰øùÂÆâÂÖ®„ÄÇ  Fury Êèê‰æõ‰∫ÜÁ±ªÊ≥®ÂÜåÈÄâÈ°πÔºåÈªòËÆ§ÂêØÁî®ÔºåÂè™ÂÖÅËÆ∏ÂèçÂ∫èÂàóÂåñÂèó‰ø°‰ªªÁöÑÂ∑≤Ê≥®ÂÜåÁ±ªÂûãÊàñÂÜÖÁΩÆÁ±ªÂûã„ÄÇÈô§ÈùûÊÇ®ËÉΩÁ°Æ‰øùÁéØÂ¢ÉÁ°ÆÂÆûÂÆâÂÖ®ÔºåÂê¶Âàô‰∏çË¶ÅÁ¶ÅÁî®Á±ªÊ≥®ÂÜåÊàñÁ±ªÊ≥®ÂÜåÊ£ÄÊü•„ÄÇÂ¶ÇÊûúÊÇ®Á¶ÅÁî®‰∫ÜÁ±ªÊ≥®ÂÜåÈÄâÈ°πÔºåÊàë‰ª¨ÂØπÂÆâÂÖ®ÊÄß‰∏çÊâøÊãÖË¥£‰ªª„ÄÇ  ","version":"0.11","tagName":"h2"},{"title":"Ë∑ØÁ∫øÂõæ‚Äã","type":1,"pageTitle":"Ê¶ÇËø∞","url":"/zh-CN/docs/0.11/introduction/overview#Ë∑ØÁ∫øÂõæ","content":" ÂÖÉÊï∞ÊçÆÂéãÁº©„ÄÅËá™Âä®ÂÖÉÊï∞ÊçÆÂÖ±‰∫´ÂíåË∑®ËØ≠Ë®Ä Schema ÂÖºÂÆπÊÄßC++/Golang AOT Ê°ÜÊû∂‰ª•ÈùôÊÄÅÁîüÊàê‰ª£Á†ÅC++/Rust ÂØπË±°ÂõæÂ∫èÂàóÂåñÊîØÊåÅGolang/Rust/NodeJS Ë°åÊ†ºÂºèÊîØÊåÅProtoBuffer ÂÖºÂÆπÊÄßÊîØÊåÅÁâπÂæÅÂíåÁü•ËØÜÂõæË∞±Â∫èÂàóÂåñÂçèËÆÆÊåÅÁª≠ÊîπËøõÊàë‰ª¨ÁöÑÂ∫èÂàóÂåñÂü∫Á°ÄËÆæÊñΩ‰ª•ÊîØÊåÅ‰ªª‰ΩïÊñ∞ÂçèËÆÆ  ","version":"0.11","tagName":"h2"},{"title":"Â¶Ç‰ΩïË¥°ÁåÆ‚Äã","type":1,"pageTitle":"Ê¶ÇËø∞","url":"/zh-CN/docs/0.11/introduction/overview#Â¶Ç‰ΩïË¥°ÁåÆ","content":" ËØ∑ÈòÖËØª CONTRIBUTING ÊåáÂçó‰∫ÜËß£Â¶Ç‰ΩïË¥°ÁåÆ„ÄÇ ","version":"0.11","tagName":"h2"},{"title":"Row Format","type":0,"sectionRef":"#","url":"/zh-CN/docs/0.11/specification/row_format_spec","content":"","keywords":"","version":"0.11"},{"title":"Row Format‚Äã","type":1,"pageTitle":"Row Format","url":"/zh-CN/docs/0.11/specification/row_format_spec#row-format","content":" Coming soon ","version":"0.11","tagName":"h2"},{"title":"Java Serialization Format","type":0,"sectionRef":"#","url":"/zh-CN/docs/0.11/specification/java_serialization_spec","content":"","keywords":"","version":"0.11"},{"title":"Spec overview‚Äã","type":1,"pageTitle":"Java Serialization Format","url":"/zh-CN/docs/0.11/specification/java_serialization_spec#spec-overview","content":" Fory Java Serialization is an automatic object serialization framework that supports reference and polymorphism. Fory will convert an object from/to fory java serialization binary format. Fory has two core concepts for java serialization:  Fory Java Binary formatFramework to convert object to/from Fory Java Binary format  The serialization format is a dynamic binary format. The dynamics and reference/polymorphism support make Fory flexible, much more easy to use, but also introduce more complexities compared to static serialization frameworks. So the format will be more complex.  Here is the overall format:  | fory header | object ref meta | object class meta | object value data |   The data are serialized using little endian byte order overall. If bytes swap is costly for some object, Fory will write the byte order for that object into the data instead of converting it to little endian.  ","version":"0.11","tagName":"h2"},{"title":"Fory header‚Äã","type":1,"pageTitle":"Java Serialization Format","url":"/zh-CN/docs/0.11/specification/java_serialization_spec#fory-header","content":" Fory header consists starts one byte:  | 4 bits | 1 bit | 1 bit | 1 bit | 1 bit | optional 4 bytes | +---------------+-------+-------+--------+-------+------------------------------------+ | reserved bits | oob | xlang | endian | null | unsigned int for meta start offset |   null flag: 1 when object is null, 0 otherwise. If an object is null, other bits won't be set.endian flag: 1 when data is encoded by little endian, 0 for big endian.xlang flag: 1 when serialization uses xlang format, 0 when serialization uses Fory java format.oob flag: 1 when passed BufferCallback is not null, 0 otherwise.  If meta share mode is enabled, an uncompressed unsigned int is appended to indicate the start offset of metadata.  ","version":"0.11","tagName":"h2"},{"title":"Reference Meta‚Äã","type":1,"pageTitle":"Java Serialization Format","url":"/zh-CN/docs/0.11/specification/java_serialization_spec#reference-meta","content":" Reference tracking handles whether the object is null, and whether to track reference for the object by writing corresponding flags and maintaining internal state.  Reference flags:  Flag\tByte Value\tDescriptionNULL FLAG\t-3\tThis flag indicates the object is a null value. We don't use another byte to indicate REF, so that we can save one byte. REF FLAG\t-2\tThis flag indicates the object is already serialized previously, and fory will write a ref id with unsigned varint format instead of serialize it again NOT_NULL VALUE FLAG\t-1\tThis flag indicates the object is a non-null value and fory doesn't track ref for this type of object. REF VALUE FLAG\t0\tThis flag indicates the object is referencable and the first time to serialize.  When reference tracking is disabled globally or for specific types, or for certain types within a particular context(e.g., a field of a class), only the NULL and NOT_NULL VALUE flags will be used for reference meta.  ","version":"0.11","tagName":"h2"},{"title":"Class Meta‚Äã","type":1,"pageTitle":"Java Serialization Format","url":"/zh-CN/docs/0.11/specification/java_serialization_spec#class-meta","content":" Fory supports to register class by an optional id, the registration can be used for security check and class identification. If a class is registered, it will have a user-provided or an auto-growing unsigned int i.e. class_id.  Depending on whether meta share mode and registration is enabled for current class, Fory will write class meta differently.  ","version":"0.11","tagName":"h2"},{"title":"Schema consistent‚Äã","type":1,"pageTitle":"Java Serialization Format","url":"/zh-CN/docs/0.11/specification/java_serialization_spec#schema-consistent","content":" If schema consistent mode is enabled globally or enabled for current class, class meta will be written as follows:  If class is registered, it will be written as a fory unsigned varint: class_id &lt;&lt; 1.If class is not registered: If class is not an array, fory will write one byte 0bxxxxxxx1 first, then write class name. The first little bit is 1, which is different from first bit 0 of encoded class id. Fory can use this information to determine whether to read class by class id for deserialization. If class is not registered and class is an array, fory will write one byte dimensions &lt;&lt; 1 | 1 first, then write component class subsequently. This can reduce array class name cost if component class is or will be serialized.Class will be written as two enumerated fory unsigned by default: package name and class name. If meta share mode is enabled, class will be written as an unsigned varint which points to index in MetaContext.  ","version":"0.11","tagName":"h3"},{"title":"Schema evolution‚Äã","type":1,"pageTitle":"Java Serialization Format","url":"/zh-CN/docs/0.11/specification/java_serialization_spec#schema-evolution","content":" If schema evolution mode is enabled globally or enabled for current class, class meta will be written as follows:  If meta share mode is not enabled, class meta will be written as schema consistent mode. Additionally, field meta such as field type and name will be written with the field value using a key-value like layout.If meta share mode is enabled, class meta will be written as a meta-share encoded binary if class hasn't been written before, otherwise an unsigned varint id which references to previous written class meta will be written.  ","version":"0.11","tagName":"h3"},{"title":"Meta share‚Äã","type":1,"pageTitle":"Java Serialization Format","url":"/zh-CN/docs/0.11/specification/java_serialization_spec#meta-share","content":" This mode will forbid streaming writing since it needs to look back for update the start offset after the whole object graph writing and meta collecting is finished. Only in this way we can ensure deserialization failure doesn't lost shared meta. Meta streamline will be supported in the future for enclosed meta sharing which doesn't cross multiple serializations of different objects.  For Schema consistent mode, class will be encoded as an enumerated string by full class name. Here we mainly describe the meta layout for schema evolution mode:  | 8 bytes global meta header | 1~2 bytes | variable bytes | variable bytes | variable bytes | +-------------------------------+-------------|--------------------+-------------------+----------------+ | 50 bits hash + 14 bits header | type header | current class meta | parent class meta | ... |   Class meta are encoded from parent class to leaf class, only class with serializable fields will be encoded.  ","version":"0.11","tagName":"h2"},{"title":"Global meta header‚Äã","type":1,"pageTitle":"Java Serialization Format","url":"/zh-CN/docs/0.11/specification/java_serialization_spec#global-meta-header","content":" Meta header is a 64 bits number value encoded in little endian order.  lower 12 bits are used to encode meta size. If meta size &gt;= 0b1111_1111_1111, then writemeta_ size - 0b1111_1111_1111 next.13rd bit is used to indicate whether to write fields meta. When this class is schema-consistent or use registered serializer, fields meta will be skipped. Class Meta will be used for share namespace + type name only.14rd bit is used to indicate whether meta is compressed.Other 50 bits is used to store the unique hash of flags + all layers class meta.  ","version":"0.11","tagName":"h3"},{"title":"Type header‚Äã","type":1,"pageTitle":"Java Serialization Format","url":"/zh-CN/docs/0.11/specification/java_serialization_spec#type-header","content":" Lowest 4 digits 0b0000~0b1110 are used to record num classes. 0b1111 is preserved to indicate that Fory need to read more bytes for length using Fory unsigned int encoding. If current class doesn't has parent class, or parent class doesn't have fields to serialize, or we're in a context which serialize fields of current class only(ObjectStreamSerializer#SlotInfo is an example), num classes will be 1.Other 4 bits are preserved to future extensions.If num classes are greater than or equal to 0b1111, write num_classes - 0b1111 as varuint next.  ","version":"0.11","tagName":"h3"},{"title":"Single layer class meta‚Äã","type":1,"pageTitle":"Java Serialization Format","url":"/zh-CN/docs/0.11/specification/java_serialization_spec#single-layer-class-meta","content":" | unsigned varint | meta string | meta string | field info: variable bytes | variable bytes | ... | +----------------------------+-----------------------+---------------------+-------------------------------+-----------------+-----+ | num fields + register flag | header + package name | header + class name | header + type id + field name | next field info | ... |   num fields: encode num fields &lt;&lt; 1 | register flag(1 when class registered) as unsigned varint. If class is registered, then an unsigned varint class id will be written next, package and class name will be omitted.If current class is schema consistent, then num field will be 0 to flag it.If current class isn't schema consistent, then num field will be the number of compatible fields. For example, users can use tag id to mark some field as compatible field in schema consistent context. In such cases, schema consistent fields will be serialized first, then compatible fields will be serialized next. At deserialization, Fory will use fields info of those fields which aren't annotated by tag id for deserializing schema consistent fields, then use fields info in meta for deserializing compatible fields. Package name encoding(omitted when class is registered): encoding algorithm: UTF8/ALL_TO_LOWER_SPECIAL/LOWER_UPPER_DIGIT_SPECIALHeader: 6 bits size | 2 bits encoding flags. The 6 bits size: 0~63 will be used to indicate size 0~63, the value 63 the size need more byte to read, the encoding will encode size - 63 as a varint next. Class name encoding(omitted when class is registered): encoding algorithm: UTF8/LOWER_UPPER_DIGIT_SPECIAL/FIRST_TO_LOWER_SPECIAL/ALL_TO_LOWER_SPECIALheader: 6 bits size | 2 bits encoding flags. The 6 bits size: 0~63 will be used to indicate size 0~63, the value 63 the size need more byte to read, the encoding will encode size - 63 as a varint next. Field info: header(8 bits): 3 bits size + 2 bits field name encoding + polymorphism flag + nullability flag + ref tracking flag. Users can use annotation to provide those info. 2 bits field name encoding: encoding: UTF8/ALL_TO_LOWER_SPECIAL/LOWER_UPPER_DIGIT_SPECIAL/TAG_IDIf tag id is used, i.e. field name is written by an unsigned varint tag id. 2 bits encoding will be 11. size of field name: The 3 bits size: 0~7 will be used to indicate length 1~7, the value 6 the size read more bytes, the encoding will encode size - 7 as a varint next.If encoding is TAG_ID, then num_bytes of field name will be used to store tag id. ref tracking: when set to 1, ref tracking will be enabled for this field.nullability: when set to 1, this field can be null.polymorphism: when set to 1, the actual type of field will be the declared field type even the type if not final. type id: For registered type-consistent classes, it will be the registered class id.Otherwise it will be encoded as OBJECT_ID if it isn't final and FINAL_OBJECT_ID if it's final. The meta for such types is written separately instead of inlining here is to reduce meta space cost if object of this type is serialized in current object graph multiple times, and the field value may be null too. Field name: If type id is set, type id will be used instead. Otherwise meta string encoding length and data will be written instead.  Field order are left as implementation details, which is not exposed to specification, the deserialization need to resort fields based on Fory field comparator. In this way, fory can compute statistics for field names or types and using a more compact encoding.  ","version":"0.11","tagName":"h3"},{"title":"Other layers class meta‚Äã","type":1,"pageTitle":"Java Serialization Format","url":"/zh-CN/docs/0.11/specification/java_serialization_spec#other-layers-class-meta","content":" Same encoding algorithm as the previous layer except:  header + package name: Header: If package name has been written before: varint index + sharing flag(set) will be writtenIf package name hasn't been written before: If meta string encoding is LOWER_SPECIAL and the length of encoded string &lt;= 64, then header will be6 bits size + encoding flag(set) + sharing flag(unset).Otherwise, header will be 3 bits unset + 3 bits encoding flags + encoding flag(unset) + sharing flag(unset)  ","version":"0.11","tagName":"h3"},{"title":"Meta String‚Äã","type":1,"pageTitle":"Java Serialization Format","url":"/zh-CN/docs/0.11/specification/java_serialization_spec#meta-string","content":" Meta string is mainly used to encode meta strings such as class name and field names.  ","version":"0.11","tagName":"h2"},{"title":"Encoding Algorithms‚Äã","type":1,"pageTitle":"Java Serialization Format","url":"/zh-CN/docs/0.11/specification/java_serialization_spec#encoding-algorithms","content":" String binary encoding algorithm:  Algorithm\tPattern\tDescriptionLOWER_SPECIAL\ta-z._$|\tevery char is written using 5 bits, a-z: 0b00000~0b11001, ._$|: 0b11010~0b11101, prepend one bit at the start to indicate whether strip last char since last byte may have 7 redundant bits(1 indicates strip last char) LOWER_UPPER_DIGIT_SPECIAL\ta-zA-Z0~9._\tevery char is written using 6 bits, a-z: 0b00000~0b11001, A-Z: 0b11010~0b110011, 0~9: 0b110100~0b111101, ._: 0b111110~0b111111, prepend one bit at the start to indicate whether strip last char since last byte may have 7 redundant bits(1 indicates strip last char) UTF-8\tany chars\tUTF-8 encoding  Encoding flags:  Encoding Flag\tPattern\tEncoding AlgorithmLOWER_SPECIAL\tevery char is in a-z._$|\tLOWER_SPECIAL FIRST_TO_LOWER_SPECIAL\tevery char is in a-z[c1,c2] except first char is upper case\treplace first upper case char to lower case, then use LOWER_SPECIAL ALL_TO_LOWER_SPECIAL\tevery char is in a-zA-Z[c1,c2]\treplace every upper case char by | + lower case, then use LOWER_SPECIAL, use this encoding if it's smaller than Encoding LOWER_UPPER_DIGIT_SPECIAL LOWER_UPPER_DIGIT_SPECIAL\tevery char is in a-zA-Z[c1,c2]\tuse LOWER_UPPER_DIGIT_SPECIAL encoding if it's smaller than Encoding FIRST_TO_LOWER_SPECIAL UTF8\tany utf-8 char\tuse UTF-8 encoding Compression\tany utf-8 char\tlossless compression  Notes:  For package name encoding, c1,c2 should be ._; For field/type name encoding, c1,c2 should be _$;Depending on cases, one can choose encoding flags + data jointly, uses 3 bits of first byte for flags and other bytes for data.  ","version":"0.11","tagName":"h3"},{"title":"Shared meta string‚Äã","type":1,"pageTitle":"Java Serialization Format","url":"/zh-CN/docs/0.11/specification/java_serialization_spec#shared-meta-string","content":" The shared meta string format consists of header and encoded string binary. Header of encoded string binary will be inlined in shared meta header.  Header is written using little endian order, Fory can read this flag first to determine how to deserialize the data.  Write by data‚Äã  If string hasn't been written before, the data will be written as follows:  | unsigned varint: string binary size + 1 bit: not written before | 56 bits: unique hash | 3 bits encoding flags + string binary |   If string binary size is less than 16 bytes, the hash will be omitted to save spaces. Unique hash can be omitted too if caller pass a flag to disable it. In such cases, the format will be:  | unsigned varint: string binary size + 1 bit: not written before | 3 bits encoding flags + string binary |   Write by ref‚Äã  If string has been written before, the data will be written as follows:  | unsigned varint: written string id + 1 bit: written before |   ","version":"0.11","tagName":"h3"},{"title":"Value Format‚Äã","type":1,"pageTitle":"Java Serialization Format","url":"/zh-CN/docs/0.11/specification/java_serialization_spec#value-format","content":" ","version":"0.11","tagName":"h2"},{"title":"Basic types‚Äã","type":1,"pageTitle":"Java Serialization Format","url":"/zh-CN/docs/0.11/specification/java_serialization_spec#basic-types","content":" Bool‚Äã  size: 1 byteformat: 0 for false, 1 for true  Byte‚Äã  size: 1 byteformat: write as pure byte.  Short‚Äã  size: 2 bytebyte order: little endian order  Char‚Äã  size: 2 bytebyte order: little endian order  Unsigned int‚Äã  size: 1~5 byteFormat: The most significant bit (MSB) in every byte indicates whether to have the next byte. If first bit is set i.e. b &amp; 0x80 == 0x80, then the next byte should be read until the first bit of the next byte is unset.  Signed int‚Äã  size: 1~5 byteFormat: First convert the number into positive unsigned int by (v &lt;&lt; 1) ^ (v &gt;&gt; 31) ZigZag algorithm, then encoding it as an unsigned int.  Unsigned long‚Äã  size: 1~9 byteFory PVL(Progressive Variable-length Long) Encoding: positive long format: first bit in every byte indicates whether to have the next byte. If first bit is set i.e. b &amp; 0x80 == 0x80, then the next byte should be read until the first bit is unset.  Signed long‚Äã  size: 1~9 byteFory SLI(Small long as int) Encoding: If long is in [-1073741824, 1073741823], encode as 4 bytes int: | little-endian: ((int) value) &lt;&lt; 1 |Otherwise write as 9 bytes: | 0b1 | little-endian 8 bytes long | Fory PVL(Progressive Variable-length Long) Encoding: First convert the number into positive unsigned long by (v &lt;&lt; 1) ^ (v &gt;&gt; 63) ZigZag algorithm to reduce cost of small negative numbers, then encoding it as an unsigned long.  Float‚Äã  size: 4 byteformat: convert float to 4 bytes int by Float.floatToRawIntBits, then write as binary by little endian order.  Double‚Äã  size: 8 byteformat: convert double to 8 bytes int by Double.doubleToRawLongBits, then write as binary by little endian order.  ","version":"0.11","tagName":"h3"},{"title":"String‚Äã","type":1,"pageTitle":"Java Serialization Format","url":"/zh-CN/docs/0.11/specification/java_serialization_spec#string","content":" Format:  | header: size &lt;&lt; 2 | 2 bits encoding flags | binary data |   size + encoding will be concat as a long and encoded as an unsigned var long. The little 2 bits is used for encoding: 0 for latin, 1 for utf-16, 2 for utf-8.encoded string binary data based on encoding: latin/utf-16/utf-8.  Which encoding to choose:  For JDK8: fory detect latin at runtime, if string is latin string, then use latin encoding, otherwise use utf-16.For JDK9+: fory use coder in String object for encoding, latin/utf-16 will be used for encoding.If the string is encoded by utf-8, then fory will use utf-8 to decode the data. But currently fory doesn't enable utf-8 encoding by default for java. Cross-language string serialization of fory uses utf-8 by default.  ","version":"0.11","tagName":"h3"},{"title":"Collection‚Äã","type":1,"pageTitle":"Java Serialization Format","url":"/zh-CN/docs/0.11/specification/java_serialization_spec#collection","content":" All collection serializers must extend AbstractCollectionSerializer.  Format:  length(unsigned varint) | collection header | elements header | elements data   Collection header‚Äã  For ArrayList/LinkedArrayList/HashSet/LinkedHashSet, this will be empty.For TreeSet, this will be ComparatorFor subclass of ArrayList, this may be extra object field info.  Elements header‚Äã  In most cases, all collection elements are same type and not null, elements header will encode those homogeneous information to avoid the cost of writing it for every element. Specifically, there are four kinds of information which will be encoded by elements header, each use one bit:  If track elements ref, use the first bit 0b1 of the header to flag it.If the collection has null, use the second bit 0b10 of the header to flag it. If ref tracking is enabled for this element type, this flag is invalid.If the collection element types are not declared type, use the 3rd bit 0b100 of the header to flag it.If the collection element types are different, use the 4rd bit 0b1000 header to flag it.  By default, all bits are unset, which means all elements won't track ref, all elements are same type, not null and the actual element is the declared type in the custom class field.  The implementation can generate different deserialization code based read header, and look up the generated code from a linear map/list.  Elements data‚Äã  Based on the elements header, the serialization of elements data may skip ref flag/null flag/element class info.  CollectionSerializer#write/read can be taken as an example.  ","version":"0.11","tagName":"h3"},{"title":"Array‚Äã","type":1,"pageTitle":"Java Serialization Format","url":"/zh-CN/docs/0.11/specification/java_serialization_spec#array","content":" Primitive array‚Äã  Primitive array are taken as a binary buffer, serialization will just write the length of array size as an unsigned int, then copy the whole buffer into the stream.  Such serialization won't compress the array. If users want to compress primitive array, users need to register custom serializers for such types.  Object array‚Äã  Object array is serialized using the collection format. Object component type will be taken as collection element generic type.  ","version":"0.11","tagName":"h3"},{"title":"Map‚Äã","type":1,"pageTitle":"Java Serialization Format","url":"/zh-CN/docs/0.11/specification/java_serialization_spec#map","content":" All Map serializers must extend AbstractMapSerializer.  Format:  | length(unsigned varint) | map header | key value pairs data |   Map header‚Äã  For HashMap/LinkedHashMap, this will be empty.For TreeMap, this will be ComparatorFor other Map, this may be extra object field info.  Map Key-Value data‚Äã  Map iteration is too expensive, Fory won't compute the header like for collection before since it introduceconsiderable overhead. Users can use MapFieldInfo annotation to provide header in advance. Otherwise Fory will use first key-value pair to predict header optimistically, and update the chunk header if the prediction failed at some pair.  Fory will serialize map chunk by chunk, every chunk has 127 pairs at most.  | 1 byte | 1 byte | variable bytes | +----------------+----------------+-----------------+ | KV header | chunk size: N | N*2 objects |   KV header:  If track key ref, use the first bit 0b1 of the header to flag it.If the key has null, use the second bit 0b10 of the header to flag it. If ref tracking is enabled for this key type, this flag is invalid.If the actual key type of map is not the declared key type, use the 3rd bit 0b100 of the header to flag it.If track value ref, use the 4th bit 0b1000 of the header to flag it.If the value has null, use the 5th bit 0b10000 of the header to flag it. If ref tracking is enabled for this value type, this flag is invalid.If the value type of map is not the declared value type, use the 6rd bit 0b100000 of the header to flag it.If key or value is null, that key and value will be written as a separate chunk, and chunk size writing will be skipped too.  If streaming write is enabled, which means Fory can't update written chunk size. In such cases, map key-value data format will be:  | 1 byte | variable bytes | +----------------+-----------------+ | KV header | N*2 objects |   KV header will be a header marked by MapFieldInfo in java. The implementation can generate different deserialization code based read header, and look up the generated code from a linear map/list.  ","version":"0.11","tagName":"h3"},{"title":"Enum‚Äã","type":1,"pageTitle":"Java Serialization Format","url":"/zh-CN/docs/0.11/specification/java_serialization_spec#enum","content":" Enums are serialized as an unsigned var int. If the order of enum values change, the deserialized enum value may not be the value users expect. In such cases, users must register enum serializer by make it write enum value as an enumerated string with unique hash disabled.  ","version":"0.11","tagName":"h3"},{"title":"Object‚Äã","type":1,"pageTitle":"Java Serialization Format","url":"/zh-CN/docs/0.11/specification/java_serialization_spec#object","content":" Object means object of pojo/struct/bean/record type. Object will be serialized by writing its fields data in fory order.  Depending on schema compatibility, objects will have different formats.  Field order‚Äã  Field will be ordered as following, every group of fields will have its own order:  primitive fields: larger size type first, smaller later, variable size type last.boxed primitive fields: same order as primitive fieldsfinal fields: same type together, then sorted by field name lexicographically.collection fields: same order as final fieldsmap fields: same order as final fieldsother fields: same order as final fields  Schema consistent‚Äã  Object fields will be serialized one by one using following format:  Primitive field value: | var bytes | +----------------+ | value data | +----------------+ Boxed field value: | one byte | var bytes | +-----------+---------------+ | null flag | field value | +-----------+---------------+ field value of final type with ref tracking: | var bytes | var objects | +-----------+-------------+ | ref meta | value data | +-----------+-------------+ field value of final type without ref tracking: | one byte | var objects | +-----------+-------------+ | null flag | field value | +-----------+-------------+ field value of non-final type with ref tracking: | one byte | var bytes | var objects | +-----------+-------------+-------------+ | ref meta | class meta | value data | +-----------+-------------+-------------+ field value of non-final type without ref tracking: | one byte | var bytes | var objects | +-----------+------------+------------+ | null flag | class meta | value data | +-----------+------------+------------+   Schema evolution‚Äã  Schema evolution have similar format as schema consistent mode for object except:  For this object type itself, schema consistent mode will write class by id/name, but schema evolution mode will write class field names, types and other meta too, see Class meta.Class meta of final custom type needs to be written too, because peers may not have this class defined.  ","version":"0.11","tagName":"h3"},{"title":"Class‚Äã","type":1,"pageTitle":"Java Serialization Format","url":"/zh-CN/docs/0.11/specification/java_serialization_spec#class","content":" Class will be serialized using class meta format.  ","version":"0.11","tagName":"h3"},{"title":"Implementation guidelines‚Äã","type":1,"pageTitle":"Java Serialization Format","url":"/zh-CN/docs/0.11/specification/java_serialization_spec#implementation-guidelines","content":" Try to merge multiple bytes into an int/long write before writing to reduce memory IO and bound check cost.Read multiple bytes as an int/long, then split into multiple bytes to reduce memory IO and bound check cost.Try to use one varint/long to write flags and length together to save one byte cost and reduce memory io.Condition branches are less expensive compared to memory IO cost unless there are too many branches. ","version":"0.11","tagName":"h2"},{"title":"Â§öËØ≠Ë®ÄÂ∫èÂàóÂåñ","type":0,"sectionRef":"#","url":"/zh-CN/docs/0.11/guide/xlang_serialization","content":"","keywords":"","version":"0.11"},{"title":"Ë∑®ËØ≠Ë®ÄÂØπË±°ÂõæÂ∫èÂàóÂåñ‚Äã","type":1,"pageTitle":"Â§öËØ≠Ë®ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/0.11/guide/xlang_serialization#Ë∑®ËØ≠Ë®ÄÂØπË±°ÂõæÂ∫èÂàóÂåñ","content":" ","version":"0.11","tagName":"h2"},{"title":"Â∫èÂàóÂåñÂÜÖÁΩÆÁ±ªÂûã‚Äã","type":1,"pageTitle":"Â§öËØ≠Ë®ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/0.11/guide/xlang_serialization#Â∫èÂàóÂåñÂÜÖÁΩÆÁ±ªÂûã","content":" Apache Fory‚Ñ¢ ÂèØ‰ª•Ëá™Âä®Â∫èÂàóÂåñÁºñÁ®ãËØ≠Ë®ÄÁöÑÂ∏∏ËßÅÊï∞ÊçÆÁ±ªÂûãÔºöprimitive numeric types, string, binary, array, list, map Á≠â„ÄÇ  Java  import org.apache.fory.*; import org.apache.fory.config.*; import java.util.*; public class Example1 { public static void main(String[] args) { Fory fory = Fory.builder().withLanguage(Language.XLANG).build(); List&lt;Object&gt; list = ofArrayList(true, false, &quot;str&quot;, -1.1, 1, new int[100], new double[20]); byte[] bytes = fory.serialize(list); // bytes can be data serialized by other languages. fory.deserialize(bytes); Map&lt;Object, Object&gt; map = new HashMap&lt;&gt;(); map.put(&quot;k1&quot;, &quot;v1&quot;); map.put(&quot;k2&quot;, list); map.put(&quot;k3&quot;, -1); bytes = fory.serialize(map); // bytes can be data serialized by other languages. fory.deserialize(bytes); } }   Python  import pyfory import numpy as np fory = pyfory.Fory() object_list = [True, False, &quot;str&quot;, -1.1, 1, np.full(100, 0, dtype=np.int32), np.full(20, 0.0, dtype=np.double)] data = fory.serialize(object_list) # bytes can be data serialized by other languages. new_list = fory.deserialize(data) object_map = {&quot;k1&quot;: &quot;v1&quot;, &quot;k2&quot;: object_list, &quot;k3&quot;: -1} data = fory.serialize(object_map) # bytes can be data serialized by other languages. new_map = fory.deserialize(data) print(new_map)   Golang  package main import forygo &quot;github.com/apache/fory/fory/go/fory&quot; import &quot;fmt&quot; func main() { list := []interface{}{true, false, &quot;str&quot;, -1.1, 1, make([]int32, 10), make([]float64, 20)} fory := forygo.NewFory() bytes, err := fory.Marshal(list) if err != nil { panic(err) } var newValue interface{} // bytes can be data serialized by other languages. if err := fory.Unmarshal(bytes, &amp;newValue); err != nil { panic(err) } fmt.Println(newValue) dict := map[string]interface{}{ &quot;k1&quot;: &quot;v1&quot;, &quot;k2&quot;: list, &quot;k3&quot;: -1, } bytes, err = fory.Marshal(dict) if err != nil { panic(err) } // bytes can be data serialized by other languages. if err := fory.Unmarshal(bytes, &amp;newValue); err != nil { panic(err) } fmt.Println(newValue) }   JavaScript  import Fory from &quot;@apache-fory/fory&quot;; /** * @apache-fory/hps use v8's fast-calls-api that can be called directly by jit, ensure that the version of Node is 20 or above. * Experimental feature, installation success cannot be guaranteed at this moment * If you are unable to install the module, replace it with `const hps = null;` **/ import hps from &quot;@apache-fory/hps&quot;; const fory = new Fory({ hps }); const input = fory.serialize(&quot;hello fory&quot;); const result = fory.deserialize(input); console.log(result);   Rust  use chrono::{NaiveDate, NaiveDateTime}; use fory::{from_buffer, to_buffer, Fory}; use std::collections::HashMap; fn run() { let bin: Vec&lt;u8&gt; = to_buffer(&amp;&quot;hello&quot;.to_string()); let obj: String = from_buffer(&amp;bin).expect(&quot;should success&quot;); assert_eq!(&quot;hello&quot;.to_string(), obj); }   ","version":"0.11","tagName":"h3"},{"title":"Â∫èÂàóÂåñËá™ÂÆö‰πâÁ±ªÂûã‚Äã","type":1,"pageTitle":"Â§öËØ≠Ë®ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/0.11/guide/xlang_serialization#Â∫èÂàóÂåñËá™ÂÆö‰πâÁ±ªÂûã","content":" Â∫èÂàóÂåñÁî®Êà∑ÂÆö‰πâÁöÑÁ±ªÂûãÈúÄË¶Å‰ΩøÁî®Ê≥®ÂÜå API Ê≥®ÂÜåËá™ÂÆö‰πâÁ±ªÂûãÔºå‰ª•‰æøÂú®‰∏çÂêåËØ≠Ë®Ä‰∏≠Âª∫Á´ãÁ±ªÂûã‰πãÈó¥ÁöÑÊò†Â∞ÑÂÖ≥Á≥ª„ÄÇ  Java  import org.apache.fory.*; import org.apache.fory.config.*; import java.util.*; public class Example2 { public static class SomeClass1 { Object f1; Map&lt;Byte, Integer&gt; f2; } public static class SomeClass2 { Object f1; String f2; List&lt;Object&gt; f3; Map&lt;Byte, Integer&gt; f4; Byte f5; Short f6; Integer f7; Long f8; Float f9; Double f10; short[] f11; List&lt;Short&gt; f12; } public static Object createObject() { SomeClass1 obj1 = new SomeClass1(); obj1.f1 = true; obj1.f2 = ofHashMap((byte) -1, 2); SomeClass2 obj = new SomeClass2(); obj.f1 = obj1; obj.f2 = &quot;abc&quot;; obj.f3 = ofArrayList(&quot;abc&quot;, &quot;abc&quot;); obj.f4 = ofHashMap((byte) 1, 2); obj.f5 = Byte.MAX_VALUE; obj.f6 = Short.MAX_VALUE; obj.f7 = Integer.MAX_VALUE; obj.f8 = Long.MAX_VALUE; obj.f9 = 1.0f / 2; obj.f10 = 1 / 3.0; obj.f11 = new short[]{(short) 1, (short) 2}; obj.f12 = ofArrayList((short) -1, (short) 4); return obj; } // mvn exec:java -Dexec.mainClass=&quot;org.apache.fory.examples.Example2&quot; public static void main(String[] args) { Fory fory = Fory.builder().withLanguage(Language.XLANG).build(); fory.register(SomeClass1.class, &quot;example.SomeClass1&quot;); fory.register(SomeClass2.class, &quot;example.SomeClass2&quot;); byte[] bytes = fory.serialize(createObject()); // bytes can be data serialized by other languages. System.out.println(fory.deserialize(bytes)); } }   Python  from dataclasses import dataclass from typing import List, Dict, Any import pyfory, array @dataclass class SomeClass1: f1: Any f2: Dict[pyfory.Int8Type, pyfory.Int32Type] @dataclass class SomeClass2: f1: Any = None f2: str = None f3: List[str] = None f4: Dict[pyfory.Int8Type, pyfory.Int32Type] = None f5: pyfory.Int8Type = None f6: pyfory.Int16Type = None f7: pyfory.Int32Type = None # int type will be taken as `pyfory.Int64Type`. # use `pyfory.Int32Type` for type hint if peer # are more narrow type. f8: int = None f9: pyfory.Float32Type = None # float type will be taken as `pyfory.Float64Type` f10: float = None f11: pyfory.Int16ArrayType = None f12: List[pyfory.Int16Type] = None if __name__ == &quot;__main__&quot;: f = pyfory.Fory() f.register_class(SomeClass1, type_tag=&quot;example.SomeClass1&quot;) f.register_class(SomeClass2, type_tag=&quot;example.SomeClass2&quot;) obj1 = SomeClass1(f1=True, f2={-1: 2}) obj = SomeClass2( f1=obj1, f2=&quot;abc&quot;, f3=[&quot;abc&quot;, &quot;abc&quot;], f4={1: 2}, f5=2 ** 7 - 1, f6=2 ** 15 - 1, f7=2 ** 31 - 1, f8=2 ** 63 - 1, f9=1.0 / 2, f10=1 / 3.0, f11=array.array(&quot;h&quot;, [1, 2]), f12=[-1, 4], ) data = f.serialize(obj) # bytes can be data serialized by other languages. print(f.deserialize(data))   Golang  package main import forygo &quot;github.com/apache/fory/fory/go/fory&quot; import &quot;fmt&quot; func main() { type SomeClass1 struct { F1 interface{} F2 string F3 []interface{} F4 map[int8]int32 F5 int8 F6 int16 F7 int32 F8 int64 F9 float32 F10 float64 F11 []int16 F12 fory.Int16Slice } type SomeClas2 struct { F1 interface{} F2 map[int8]int32 } fory := forygo.NewFory() if err := fory.RegisterTagType(&quot;example.SomeClass1&quot;, SomeClass1{}); err != nil { panic(err) } if err := fory.RegisterTagType(&quot;example.SomeClass2&quot;, SomeClass2{}); err != nil { panic(err) } obj1 := &amp;SomeClass1{} obj1.F1 = true obj1.F2 = map[int8]int32{-1: 2} obj := &amp;SomeClass1{} obj.F1 = obj1 obj.F2 = &quot;abc&quot; obj.F3 = []interface{}{&quot;abc&quot;, &quot;abc&quot;} f4 := map[int8]int32{1: 2} obj.F4 = f4 obj.F5 = fory.MaxInt8 obj.F6 = fory.MaxInt16 obj.F7 = fory.MaxInt32 obj.F8 = fory.MaxInt64 obj.F9 = 1.0 / 2 obj.F10 = 1 / 3.0 obj.F11 = []int16{1, 2} obj.F12 = []int16{-1, 4} bytes, err := fory.Marshal(obj); if err != nil { panic(err) } var newValue interface{} // bytes can be data serialized by other languages. if err := fory.Unmarshal(bytes, &amp;newValue); err != nil { panic(err) } fmt.Println(newValue) }   JavaScript  import Fory, { Type, InternalSerializerType } from &quot;@apache-fory/fory&quot;; /** * @apache-fory/hps use v8's fast-calls-api that can be called directly by jit, ensure that the version of Node is 20 or above. * Experimental feature, installation success cannot be guaranteed at this moment * If you are unable to install the module, replace it with `const hps = null;` **/ import hps from &quot;@apache-fory/hps&quot;; // Now we describe data structures using JSON, but in the future, we will use more ways. const description = Type.object(&quot;example.foo&quot;, { foo: Type.string(), }); const fory = new Fory({ hps }); const { serialize, deserialize } = fory.registerSerializer(description); const input = serialize({ foo: &quot;hello fory&quot; }); const result = deserialize(input); console.log(result);   Rust  use chrono::{NaiveDate, NaiveDateTime}; use fory::{from_buffer, to_buffer, Fory}; use std::collections::HashMap; #[test] fn complex_struct() { #[derive(Fory, Debug, PartialEq)] #[tag(&quot;example.foo2&quot;)] struct Animal { category: String, } #[derive(Fory, Debug, PartialEq)] #[tag(&quot;example.foo&quot;)] struct Person { c1: Vec&lt;u8&gt;, // binary c2: Vec&lt;i16&gt;, // primitive array animal: Vec&lt;Animal&gt;, c3: Vec&lt;Vec&lt;u8&gt;&gt;, name: String, c4: HashMap&lt;String, String&gt;, age: u16, op: Option&lt;String&gt;, op2: Option&lt;String&gt;, date: NaiveDate, time: NaiveDateTime, c5: f32, c6: f64, } let person: Person = Person { c1: vec![1, 2, 3], c2: vec![5, 6, 7], c3: vec![vec![1, 2], vec![1, 3]], animal: vec![Animal { category: &quot;Dog&quot;.to_string(), }], c4: HashMap::from([ (&quot;hello1&quot;.to_string(), &quot;hello2&quot;.to_string()), (&quot;hello2&quot;.to_string(), &quot;hello3&quot;.to_string()), ]), age: 12, name: &quot;helo&quot;.to_string(), op: Some(&quot;option&quot;.to_string()), op2: None, date: NaiveDate::from_ymd_opt(2025, 12, 12).unwrap(), time: NaiveDateTime::from_timestamp_opt(1689912359, 0).unwrap(), c5: 2.0, c6: 4.0, }; let bin: Vec&lt;u8&gt; = to_buffer(&amp;person); let obj: Person = from_buffer(&amp;bin).expect(&quot;should success&quot;); assert_eq!(person, obj); }   ","version":"0.11","tagName":"h3"},{"title":"Â∫èÂàóÂåñÂÖ±‰∫´ÂºïÁî®ÂíåÂæ™ÁéØÂºïÁî®‚Äã","type":1,"pageTitle":"Â§öËØ≠Ë®ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/0.11/guide/xlang_serialization#Â∫èÂàóÂåñÂÖ±‰∫´ÂºïÁî®ÂíåÂæ™ÁéØÂºïÁî®","content":" ÂÖ±‰∫´ÂºïÁî®ÂíåÂæ™ÁéØÂºïÁî®ÂèØ‰ª•Ë¢´Ëá™Âä®Â∫èÂàóÂåñÔºå‰∏ç‰ºö‰∫ßÁîüÈáçÂ§çÊï∞ÊçÆÊàñÈÄíÂΩíÈîôËØØ„ÄÇ  Java  import org.apache.fory.*; import org.apache.fory.config.*; import java.util.*; public class ReferenceExample { public static class SomeClass { SomeClass f1; Map&lt;String, String&gt; f2; Map&lt;String, String&gt; f3; } public static Object createObject() { SomeClass obj = new SomeClass(); obj.f1 = obj; obj.f2 = ofHashMap(&quot;k1&quot;, &quot;v1&quot;, &quot;k2&quot;, &quot;v2&quot;); obj.f3 = obj.f2; return obj; } // mvn exec:java -Dexec.mainClass=&quot;org.apache.fory.examples.ReferenceExample&quot; public static void main(String[] args) { Fory fory = Fory.builder().withLanguage(Language.XLANG) .withRefTracking(true).build(); fory.register(SomeClass.class, &quot;example.SomeClass&quot;); byte[] bytes = fory.serialize(createObject()); // bytes can be data serialized by other languages. System.out.println(fory.deserialize(bytes)); } }   Python  from typing import Dict import pyfory class SomeClass: f1: &quot;SomeClass&quot; f2: Dict[str, str] f3: Dict[str, str] fory = pyfory.Fory(ref_tracking=True) fory.register_type(SomeClass, typename=&quot;example.SomeClass&quot;) obj = SomeClass() obj.f2 = {&quot;k1&quot;: &quot;v1&quot;, &quot;k2&quot;: &quot;v2&quot;} obj.f1, obj.f3 = obj, obj.f2 data = fory.serialize(obj) # bytes can be data serialized by other languages. print(fory.deserialize(data))   Golang  package main import forygo &quot;github.com/apache/fory/fory/go/fory&quot; import &quot;fmt&quot; func main() { type SomeClass struct { F1 *SomeClass F2 map[string]string F3 map[string]string } fory := forygo.NewFory(true) if err := fory.RegisterTagType(&quot;example.SomeClass&quot;, SomeClass{}); err != nil { panic(err) } value := &amp;SomeClass{F2: map[string]string{&quot;k1&quot;: &quot;v1&quot;, &quot;k2&quot;: &quot;v2&quot;}} value.F3 = value.F2 value.F1 = value bytes, err := fory.Marshal(value) if err != nil { panic(err) } var newValue interface{} // bytes can be data serialized by other languages. if err := fory.Unmarshal(bytes, &amp;newValue); err != nil { panic(err) } fmt.Println(newValue) }   JavaScript  import Fory, { Type } from &quot;@apache-fory/fory&quot;; /** * @apache-fory/hps use v8's fast-calls-api that can be called directly by jit, ensure that the version of Node is 20 or above. * Experimental feature, installation success cannot be guaranteed at this moment * If you are unable to install the module, replace it with `const hps = null;` **/ import hps from &quot;@apache-fory/hps&quot;; const description = Type.object(&quot;example.foo&quot;, { foo: Type.string(), bar: Type.object(&quot;example.foo&quot;), }); const fory = new Fory({ hps }); const { serialize, deserialize } = fory.registerSerializer(description); const data = { foo: &quot;hello fory&quot;, }; data.bar = data; const input = serialize(data); const result = deserialize(input); console.log(result.bar.foo === result.foo);   Rust  Áî±‰∫é Rust ÊâÄÊúâÊùÉÈôêÂà∂ÔºåÊöÇ‰∏çÊîØÊåÅÂºïÁî®Á±ªÂûãÁöÑÂ∫èÂàóÂåñ  ","version":"0.11","tagName":"h3"},{"title":"Zero-Copy Serialization‚Äã","type":1,"pageTitle":"Â§öËØ≠Ë®ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/0.11/guide/xlang_serialization#zero-copy-serialization","content":" Java  import org.apache.fory.*; import org.apache.fory.config.*; import org.apache.fory.serializers.BufferObject; import org.apache.fory.memory.MemoryBuffer; import java.util.*; import java.util.stream.Collectors; public class ZeroCopyExample { // mvn exec:java -Dexec.mainClass=&quot;io.ray.fory.examples.ZeroCopyExample&quot; public static void main(String[] args) { Fory fory = Fory.builder().withLanguage(Language.XLANG).build(); List&lt;Object&gt; list = ofArrayList(&quot;str&quot;, new byte[1000], new int[100], new double[100]); Collection&lt;BufferObject&gt; bufferObjects = new ArrayList&lt;&gt;(); byte[] bytes = fory.serialize(list, e -&gt; !bufferObjects.add(e)); // bytes can be data serialized by other languages. List&lt;MemoryBuffer&gt; buffers = bufferObjects.stream() .map(BufferObject::toBuffer).collect(Collectors.toList()); System.out.println(fory.deserialize(bytes, buffers)); } }   Python  import array import pyfory import numpy as np fory = pyfory.Fory() list_ = [&quot;str&quot;, bytes(bytearray(1000)), array.array(&quot;i&quot;, range(100)), np.full(100, 0.0, dtype=np.double)] serialized_objects = [] data = fory.serialize(list_, buffer_callback=serialized_objects.append) buffers = [o.to_buffer() for o in serialized_objects] # bytes can be data serialized by other languages. print(fory.deserialize(data, buffers=buffers))   Golang  package main import forygo &quot;github.com/apache/fory/fory/go/fory&quot; import &quot;fmt&quot; func main() { fory := forygo.NewFory() list := []interface{}{&quot;str&quot;, make([]byte, 1000)} buf := fory.NewByteBuffer(nil) var bufferObjects []fory.BufferObject fory.Serialize(buf, list, func(o fory.BufferObject) bool { bufferObjects = append(bufferObjects, o) return false }) var newList []interface{} var buffers []*fory.ByteBuffer for _, o := range bufferObjects { buffers = append(buffers, o.ToBuffer()) } if err := fory.Deserialize(buf, &amp;newList, buffers); err != nil { panic(err) } fmt.Println(newList) }   JavaScript  // Coming soon  ","version":"0.11","tagName":"h3"},{"title":"Xlang Serialization Format","type":0,"sectionRef":"#","url":"/zh-CN/docs/0.11/specification/xlang_serialization_spec","content":"","keywords":"","version":"0.11"},{"title":"Cross-language Serialization Specification‚Äã","type":1,"pageTitle":"Xlang Serialization Format","url":"/zh-CN/docs/0.11/specification/xlang_serialization_spec#cross-language-serialization-specification","content":" Format Version History: Version 0.1 - serialization spec formalized  Fory xlang serialization is an automatic object serialization framework that supports reference and polymorphism. Fory will convert an object from/to fory xlang serialization binary format. Fory has two core concepts for xlang serialization:  Fory xlang binary formatFramework implemented in different languages to convert object to/from Fory xlang binary format  The serialization format is a dynamic binary format. The dynamics and reference/polymorphism support make Fory flexible, much more easy to use, but also introduce more complexities compared to static serialization frameworks. So the format will be more complex.  ","version":"0.11","tagName":"h2"},{"title":"Type Systems‚Äã","type":1,"pageTitle":"Xlang Serialization Format","url":"/zh-CN/docs/0.11/specification/xlang_serialization_spec#type-systems","content":" ","version":"0.11","tagName":"h2"},{"title":"Data Types‚Äã","type":1,"pageTitle":"Xlang Serialization Format","url":"/zh-CN/docs/0.11/specification/xlang_serialization_spec#data-types","content":" bool: a boolean value (true or false).int8: a 8-bit signed integer.int16: a 16-bit signed integer.int32: a 32-bit signed integer.var_int32: a 32-bit signed integer which use fory var_int32 encoding.int64: a 64-bit signed integer.var_int64: a 64-bit signed integer which use fory PVL encoding.sli_int64: a 64-bit signed integer which use fory SLI encoding.float16: a 16-bit floating point number.float32: a 32-bit floating point number.float64: a 64-bit floating point number including NaN and Infinity.string: a text string encoded using Latin1/UTF16/UTF-8 encoding.enum: a data type consisting of a set of named values. Rust enum with non-predefined field values are not supported as an enum.named_enum: an enum whose value will be serialized as the registered name.struct: a morphic(final) type serialized by Fory Struct serializer. i.e. it doesn't have subclasses. Suppose we're deserializing List&lt;SomeClass&gt;, we can save dynamic serializer dispatch since SomeClass is morphic(final).compatible_struct: a morphic(final) type serialized by Fory compatible Struct serializer.named_struct: a struct whose type mapping will be encoded as a name.named_compatible_struct: a compatible_struct whose type mapping will be encoded as a name.ext: a type which will be serialized by a customized serializer.named_ext: an ext type whose type mapping will be encoded as a name.list: a sequence of objects.set: an unordered set of unique elements.map: a map of key-value pairs. Mutable types such as list/map/set/array/tensor/arrow are not allowed as key of map.duration: an absolute length of time, independent of any calendar/timezone, as a count of nanoseconds.timestamp: a point in time, independent of any calendar/timezone, as a count of nanoseconds. The count is relative to an epoch at UTC midnight on January 1, 1970.local_date: a naive date without timezone. The count is days relative to an epoch at UTC midnight on Jan 1, 1970.decimal: exact decimal value represented as an integer value in two's complement.binary: an variable-length array of bytes.array: only allow 1d numeric components. Other arrays will be taken as List. The implementation should support the interoperability between array and list. bool_array: one dimensional bool array.int8_array: one dimensional int8 array.int16_array: one dimensional int16 array.int32_array: one dimensional int32 array.int64_array: one dimensional int64 array.float16_array: one dimensional half_float_16 array.float32_array: one dimensional float32 array.float64_array: one dimensional float64 array. tensor: multidimensional array which every sub-array have same size and type.arrow record batch: an arrow record batch object.arrow table: an arrow table object.  Note:  Unsigned int/long are not added here, since not every language support those types.  ","version":"0.11","tagName":"h3"},{"title":"Polymorphisms‚Äã","type":1,"pageTitle":"Xlang Serialization Format","url":"/zh-CN/docs/0.11/specification/xlang_serialization_spec#polymorphisms","content":" For polymorphism, if one non-final class is registered, and only one subclass is registered, then we can take all elements in List/Map have same type, thus reduce runtime check cost.  Collection/Array polymorphism are not fully supported, since some languages such as golang have only one collection type. If users want to get exactly the type he passed, he must pass that type when deserializing or annotate that type to the field of struct.  ","version":"0.11","tagName":"h3"},{"title":"Type disambiguation‚Äã","type":1,"pageTitle":"Xlang Serialization Format","url":"/zh-CN/docs/0.11/specification/xlang_serialization_spec#type-disambiguation","content":" Due to differences between type systems of languages, those types can't be mapped one-to-one between languages. When deserializing, Fory use the target data structure type and the data type in the data jointly to determine how to deserialize and populate the target data structure. For example:  class Foo { int[] intArray; Object[] objects; List&lt;Object&gt; objectList; } class Foo2 { int[] intArray; List&lt;Object&gt; objects; List&lt;Object&gt; objectList; }   intArray has an int32_array type. But both objects and objectList fields in the serialize data have list data type. When deserializing, the implementation will create an Object array for objects, but create a ArrayListfor objectList to populate its elements. And the serialized data of Foo can be deserialized into Foo2 too.  Users can also provide meta hints for fields of a type, or the type whole. Here is an example in java which use annotation to provide such information.  @ForyObject(fieldsNullable = false, trackingRef = false) class Foo { @ForyField(trackingRef = false) int[] intArray; @ForyField(polymorphic = true) Object object; @ForyField(tagId = 1, nullable = true) List&lt;Object&gt; objectList; }   Such information can be provided in other languages too:  cpp: use macro and template.golang: use struct tag.python: use typehint.rust: use macro.  ","version":"0.11","tagName":"h3"},{"title":"Type ID‚Äã","type":1,"pageTitle":"Xlang Serialization Format","url":"/zh-CN/docs/0.11/specification/xlang_serialization_spec#type-id","content":" All internal data types are expressed using an ID in range 0~64. Users can use 0~4096 for representing their types.  ","version":"0.11","tagName":"h3"},{"title":"Spec overview‚Äã","type":1,"pageTitle":"Xlang Serialization Format","url":"/zh-CN/docs/0.11/specification/xlang_serialization_spec#spec-overview","content":" Here is the overall format:  | fory header | object ref meta | object type meta | object value data |   The data are serialized using little endian byte order overall. If bytes swap is costly for some object, Fory will write the byte order for that object into the data instead of converting it to little endian.  ","version":"0.11","tagName":"h2"},{"title":"Fory header‚Äã","type":1,"pageTitle":"Xlang Serialization Format","url":"/zh-CN/docs/0.11/specification/xlang_serialization_spec#fory-header","content":" Fory header consists starts one byte:  | 2 bytes | 4 bits | 1 bit | 1 bit | 1 bit | 1 bit | 1 byte | optional 4 bytes | +--------------+---------------+-------+-------+--------+-------+------------+------------------------------------+ | magic number | reserved bits | oob | xlang | endian | null | language | unsigned int for meta start offset |   magic number: used to identify fory serialization protocol, current version use 0x62d4.null flag: 1 when object is null, 0 otherwise. If an object is null, other bits won't be set.endian flag: 1 when data is encoded by little endian, 0 for big endian.xlang flag: 1 when serialization uses xlang format, 0 when serialization uses Fory java format.oob flag: 1 when passed BufferCallback is not null, 0 otherwise.language: the language when serializing objects, such as JAVA, PYTHON, GO, etc. Fory can use this flag to determine whether spend more time on serialization to make the deserialization faster for dynamic languages.  If meta share mode is enabled, an uncompressed unsigned int is appended to indicate the start offset of metadata.  ","version":"0.11","tagName":"h2"},{"title":"Reference Meta‚Äã","type":1,"pageTitle":"Xlang Serialization Format","url":"/zh-CN/docs/0.11/specification/xlang_serialization_spec#reference-meta","content":" Reference tracking handles whether the object is null, and whether to track reference for the object by writing corresponding flags and maintaining internal state.  Reference flags:  Flag\tByte Value\tDescriptionNULL FLAG\t-3\tThis flag indicates the object is a null value. We don't use another byte to indicate REF, so that we can save one byte. REF FLAG\t-2\tThis flag indicates the object is already serialized previously, and fory will write a ref id with unsigned varint format instead of serialize it again NOT_NULL VALUE FLAG\t-1\tThis flag indicates the object is a non-null value and fory doesn't track ref for this type of object. REF VALUE FLAG\t0\tThis flag indicates the object is referencable and the first time to serialize.  When reference tracking is disabled globally or for specific types, or for certain types within a particular context(e.g., a field of a type), only the NULL and NOT_NULL VALUE flags will be used for reference meta.  For languages which doesn't support reference such as rust, reference tracking must be disabled for correct deserialization by fory rust implementation.  For languages whose object values are not null by default:  In rust, Fory takes Option:None as a null valueIn c++, Fory takes std::nullopt as a null valueIn golang, Fory takes null interface/pointer as a null value  If one want to deserialize in languages like Java/Python/JavaScript, he should mark the type with all fields not-null by default, or using schema-evolution mode to carry the not-null fields info in the data.  ","version":"0.11","tagName":"h2"},{"title":"Type Meta‚Äã","type":1,"pageTitle":"Xlang Serialization Format","url":"/zh-CN/docs/0.11/specification/xlang_serialization_spec#type-meta","content":" For every type to be serialized, it have a type id to indicate its type.  basic types: the type idenum: Type.ENUM + registered idType.NAMED_ENUM + registered namespace+typename list: Type.Listset: Type.SETmap: Type.MAPext: Type.EXT + registered idType.NAMED_EXT + registered namespace+typename struct: Type.STRUCT + struct metaType.NAMED_STRUCT + struct meta  Every type must be registered with an ID or name first. The registration can be used for security check and type identification.  Struct is a special type, depending whether schema compatibility is enabled, Fory will write struct meta differently.  ","version":"0.11","tagName":"h2"},{"title":"Struct Schema consistent‚Äã","type":1,"pageTitle":"Xlang Serialization Format","url":"/zh-CN/docs/0.11/specification/xlang_serialization_spec#struct-schema-consistent","content":" If schema consistent mode is enabled globally when creating fory, type meta will be written as a fory unsigned varint of type_id. Schema evolution related meta will be ignored.If schema evolution mode is enabled globally when creating fory, and current class is configured to use schema consistent mode like struct vs table in flatbuffers: Type meta will be add to captured_type_defs: captured_type_defs[type def stub] = map size ahead when registering type.Get index of the meta in captured_type_defs, write that index as | unsigned varint: index |.  ","version":"0.11","tagName":"h3"},{"title":"Struct Schema evolution‚Äã","type":1,"pageTitle":"Xlang Serialization Format","url":"/zh-CN/docs/0.11/specification/xlang_serialization_spec#struct-schema-evolution","content":" If schema evolution mode is enabled globally when creating fory, and enabled for current type, type meta will be written using one of the following mode. Which mode to use is configured when creating fory.  Normal mode(meta share not enabled): If type meta hasn't been written before, add type defto captured_type_defs: captured_type_defs[type def] = map size.Get index of the meta in captured_type_defs, write that index as | unsigned varint: index |.After finished the serialization of the object graph, fory will start to write captured_type_defs: Firstly, set current to meta start offset of fory header Then write captured_type_defs one by one: buffer.write_var_uint32(len(writting_type_defs) - len(schema_consistent_type_def_stubs)) for type_meta in writting_type_defs: if not type_meta.is_stub(): type_meta.write_type_def(buffer) writing_type_defs = copy(schema_consistent_type_def_stubs) Meta share mode: the writing steps are same as the normal mode, but captured_type_defs will be shared across multiple serializations of different objects. For example, suppose we have a batch to serialize: captured_type_defs = {} stream = ... # add `Type1` to `captured_type_defs` and write `Type1` fory.serialize(stream, [Type1()]) # add `Type2` to `captured_type_defs` and write `Type2`, `Type1` is written before. fory.serialize(stream, [Type1(), Type2()]) # `Type1` and `Type2` are written before, no need to write meta. fory.serialize(stream, [Type1(), Type2()]) Streaming mode(streaming mode doesn't support meta share): If type meta hasn't been written before, the data will be written as: | unsigned varint: 0b11111111 | type def | If type meta has been written before, the data will be written as: | unsigned varint: written index &lt;&lt; 1 | written index is the id in captured_type_defs. With this mode, meta start offset can be omitted.  The normal mode and meta share mode will forbid streaming writing since it needs to look back for update the start offset after the whole object graph writing and meta collecting is finished. Only in this way we can ensure deserialization failure in meta share mode doesn't lost shared meta.  Type Def‚Äã  Here we mainly describe the meta layout for schema evolution mode:  | 8 bytes header | variable bytes | variable bytes | +----------------------+--------------------+-------------------+ | global binary header | meta header | fields meta |   For languages which support inheritance, if parent class and subclass has fields with same name, using field in subclass.  Global binary header‚Äã  50 bits hash + 1bit compress flag + write fields meta + 12 bits meta size. Right is the lower bits.  lower 12 bits are used to encode meta size. If meta size &gt;= 0b1111_1111_1111, then writemeta_ size - 0b1111_1111_1111 next.13rd bit is used to indicate whether to write fields meta. When this class is schema-consistent or use registered serializer, fields meta will be skipped. Class Meta will be used for share namespace + type name only.14rd bit is used to indicate whether meta is compressed.Other 50 bits is used to store the unique hash of flags + all layers class meta.  Meta header‚Äã  Meta header is a 8 bits number value.  Lowest 5 digits 0b00000~0b11110 are used to record num fields. 0b11111 is preserved to indicate that Fory need to read more bytes for length using Fory unsigned int encoding. Note that num_fields is the number of compatible fields. Users can use tag id to mark some fields as compatible fields in schema consistent context. In such cases, schema consistent fields will be serialized first, then compatible fields will be serialized next. At deserialization, Fory will use fields info of those fields which aren't annotated by tag id for deserializing schema consistent fields, then use fields info in meta for deserializing compatible fields.The 6th bit: 0 for registered by id, 1 for registered by name.Remaining 2 bits are reserved for future extension.  Fields meta‚Äã  Format:  | field info: variable bytes | variable bytes | ... | +---------------------------------+-----------------+-----+ | header + type info + field name | next field info | ... |   Field Header‚Äã  Field Header is 8 bits, annotation can be used to provide more specific info. If annotation not exists, fory will infer those info automatically.  The format for field header is:  2 bits field name encoding + 4 bits size + nullability flag + ref tracking flag   Detailed spec:  2 bits field name encoding: encoding: UTF8/ALL_TO_LOWER_SPECIAL/LOWER_UPPER_DIGIT_SPECIAL/TAG_IDIf tag id is used, field name will be written by an unsigned varint tag id, and 2 bits encoding will be 11. size of field name: The 4 bits size: 0~14 will be used to indicate length 1~15, the value 15 indicates to read more bytes, the encoding will encode size - 15 as a varint next.If encoding is TAG_ID, then num_bytes of field name will be used to store tag id. ref tracking: when set to 1, ref tracking will be enabled for this field.nullability: when set to 1, this field can be null.  Field Type Info‚Äã  Field type info is written as unsigned int8. Detailed id spec is:  For struct registered by id, it will be Type.STRUCT.For struct registered by name, it will be Type.NAMED_STRUCT.For enum registered by id, it will be Type.ENUM.For enum registered by name, it will be Type.NAMED_ENUM.For ext type registered by id, it will be Type.EXT.For ext type registered by name, it will be Type.NAMED_EXT.For list/set type, it will be written as Type.LIST/SET, then write element type recursively.For 1D primitive array type, it will be written as Type.XXX_ARRAY.For multi-dimensional primitive array type with same size on each dim, it will be written as Type.TENSOR.For other array type, it will be written as Type.LIST, then write element type recursively.For map type, it will be written as Type.MAP, then write key and value type recursively.For other types supported by fory directly, it will be fory type id for that type.For other types not determined at compile time, write Type.UNKNOWN instead. For such types, actual type will be written when serializing such field values.  Polymorphism spec:  struct/named_struct/ext/named_ext are taken as polymorphic, the meta for those types are written separately instead of inlining here to reduce meta space cost if object of this type is serialized in current object graph multiple times, and the field value may be null too.enum is taken as morphic, if deserialization doesn't have this field, or the type is not enum, enum value will be skipped.list/map/set are taken as morphic, when serializing values of those type, the concrete types won't be written again.Other types that fory supported are taken as morphic too.  List/Set/Map nested type spec:  list: | list type id | nested type id &lt;&lt; 2 + nullability flag + ref tracking flag | ... multi-layer type info |set: | set type id | nested type id &lt;&lt; 2 + nullability flag + ref tracking flag | ... multi-layer type info |map: | set type id | key type info | value type info | Key type format: | nested type id &lt;&lt; 2 + nullability flag + ref tracking flag | ... multi-layer type info |Value type format: | nested type id &lt;&lt; 2 + nullability flag + ref tracking flag | ... multi-layer type info |  Field Name‚Äã  If tag id is set, tag id will be used instead. Otherwise meta string of field name will be written instead.  Field order‚Äã  Field order are left as implementation details, which is not exposed to specification, the deserialization need to resort fields based on Fory fields sort algorithms. In this way, fory can compute statistics for field names or types and using a more compact encoding.  ","version":"0.11","tagName":"h3"},{"title":"Extended Type Meta with Inheritance support‚Äã","type":1,"pageTitle":"Xlang Serialization Format","url":"/zh-CN/docs/0.11/specification/xlang_serialization_spec#extended-type-meta-with-inheritance-support","content":" If one want to support inheritance for struct, one can implement following spec.  ","version":"0.11","tagName":"h2"},{"title":"Schema consistent‚Äã","type":1,"pageTitle":"Xlang Serialization Format","url":"/zh-CN/docs/0.11/specification/xlang_serialization_spec#schema-consistent","content":" Fields are serialized from parent type to leaf type. Fields are sorted using fory struct fields sort algorithms.  ","version":"0.11","tagName":"h3"},{"title":"Schema Evolution‚Äã","type":1,"pageTitle":"Xlang Serialization Format","url":"/zh-CN/docs/0.11/specification/xlang_serialization_spec#schema-evolution","content":" Meta layout for schema evolution mode:  | 8 bytes header | variable bytes | variable bytes | variable bytes | variable bytes | +----------------------+----------------+----------------+--------------------+--------------------+ | global binary header | meta header | fields meta | parent meta header | parent fields meta |   Meta header‚Äã  Meta header is a 64 bits number value encoded in little endian order.  Lowest 4 digits 0b0000~0b1110 are used to record num classes. 0b1111 is preserved to indicate that Fory need to read more bytes for length using Fory unsigned int encoding. If current type doesn't has parent type, or parent type doesn't have fields to serialize, or we're in a context which serialize fields of current type only, num classes will be 1.The 5th bit is used to indicate whether this type needs schema evolution.Other 56 bits are used to store the unique hash of flags + all layers type meta.  Single layer type meta‚Äã  | unsigned varint | var uint | field info: variable bytes | variable bytes | ... | +-----------------+----------+-------------------------------+-----------------+-----+ | num_fields | type id | header + type id + field name | next field info | ... |   Other layers type meta‚Äã  Same encoding algorithm as the previous layer.  ","version":"0.11","tagName":"h3"},{"title":"Meta String‚Äã","type":1,"pageTitle":"Xlang Serialization Format","url":"/zh-CN/docs/0.11/specification/xlang_serialization_spec#meta-string","content":" Meta string is mainly used to encode meta strings such as field names.  ","version":"0.11","tagName":"h2"},{"title":"Encoding Algorithms‚Äã","type":1,"pageTitle":"Xlang Serialization Format","url":"/zh-CN/docs/0.11/specification/xlang_serialization_spec#encoding-algorithms","content":" String binary encoding algorithm:  Algorithm\tPattern\tDescriptionLOWER_SPECIAL\ta-z._$|\tevery char is written using 5 bits, a-z: 0b00000~0b11001, ._$|: 0b11010~0b11101, prepend one bit at the start to indicate whether strip last char since last byte may have 7 redundant bits(1 indicates strip last char) LOWER_UPPER_DIGIT_SPECIAL\ta-zA-Z0~9._\tevery char is written using 6 bits, a-z: 0b00000~0b11001, A-Z: 0b11010~0b110011, 0~9: 0b110100~0b111101, ._: 0b111110~0b111111, prepend one bit at the start to indicate whether strip last char since last byte may have 7 redundant bits(1 indicates strip last char) UTF-8\tany chars\tUTF-8 encoding  Encoding flags:  Encoding Flag\tPattern\tEncoding AlgorithmLOWER_SPECIAL\tevery char is in a-z._|\tLOWER_SPECIAL FIRST_TO_LOWER_SPECIAL\tevery char is in a-z._ except first char is upper case\treplace first upper case char to lower case, then use LOWER_SPECIAL ALL_TO_LOWER_SPECIAL\tevery char is in a-zA-Z._\treplace every upper case char by | + lower case, then use LOWER_SPECIAL, use this encoding if it's smaller than Encoding LOWER_UPPER_DIGIT_SPECIAL LOWER_UPPER_DIGIT_SPECIAL\tevery char is in a-zA-Z._\tuse LOWER_UPPER_DIGIT_SPECIAL encoding if it's smaller than Encoding FIRST_TO_LOWER_SPECIAL UTF8\tany utf-8 char\tuse UTF-8 encoding Compression\tany utf-8 char\tlossless compression  Notes:  Depending on cases, one can choose encoding flags + data jointly, uses 3 bits of first byte for flags and other bytes for data.  ","version":"0.11","tagName":"h3"},{"title":"Value Format‚Äã","type":1,"pageTitle":"Xlang Serialization Format","url":"/zh-CN/docs/0.11/specification/xlang_serialization_spec#value-format","content":" ","version":"0.11","tagName":"h2"},{"title":"Basic types‚Äã","type":1,"pageTitle":"Xlang Serialization Format","url":"/zh-CN/docs/0.11/specification/xlang_serialization_spec#basic-types","content":" bool‚Äã  size: 1 byteformat: 0 for false, 1 for true  int8‚Äã  size: 1 byteformat: write as pure byte.  int16‚Äã  size: 2 bytebyte order: raw bytes of little endian order  unsigned int32‚Äã  size: 4 bytebyte order: raw bytes of little endian order  unsigned varint32‚Äã  size: 1~5 byteFormat: The most significant bit (MSB) in every byte indicates whether to have the next byte. If first bit is set i.e. b &amp; 0x80 == 0x80, then the next byte should be read until the first bit of the next byte is unset.  signed int32‚Äã  size: 4 bytebyte order: raw bytes of little endian order  signed varint32‚Äã  size: 1~5 byteFormat: First convert the number into positive unsigned int by (v &lt;&lt; 1) ^ (v &gt;&gt; 31) ZigZag algorithm, then encode it as an unsigned varint.  unsigned int64‚Äã  size: 8 bytebyte order: raw bytes of little endian order  unsigned varint64‚Äã  size: 1~9 byteFory SLI(Small long as int) Encoding: If long is in [0, 2147483647], encode as 4 bytes int: | little-endian: ((int) value) &lt;&lt; 1 |Otherwise write as 9 bytes: | 0b1 | little-endian 8 bytes long | Fory PVL(Progressive Variable-length Long) Encoding: positive long format: first bit in every byte indicates whether to have the next byte. If first bit is set i.e. b &amp; 0x80 == 0x80, then the next byte should be read until the first bit is unset.  signed int64‚Äã  size: 8 bytebyte order: raw bytes of little endian order  signed varint64‚Äã  size: 1~9 byteFory SLI(Small long as int) Encoding: If long is in [-1073741824, 1073741823], encode as 4 bytes int: | little-endian: ((int) value) &lt;&lt; 1 |Otherwise write as 9 bytes: | 0b1 | little-endian 8 bytes long | Fory PVL(Progressive Variable-length Long) Encoding: First convert the number into positive unsigned long by (v &lt;&lt; 1) ^ (v &gt;&gt; 63) ZigZag algorithm to reduce cost of small negative numbers, then encoding it as an unsigned long.  float32‚Äã  size: 4 byteformat: encode the specified floating-point value according to the IEEE 754 floating-point &quot;single format&quot; bit layout, preserving Not-a-Number (NaN) values, then write as binary by little endian order.  float64‚Äã  size: 8 byteformat: encode the specified floating-point value according to the IEEE 754 floating-point &quot;double format&quot; bit layout, preserving Not-a-Number (NaN) values. then write as binary by little endian order.  ","version":"0.11","tagName":"h3"},{"title":"string‚Äã","type":1,"pageTitle":"Xlang Serialization Format","url":"/zh-CN/docs/0.11/specification/xlang_serialization_spec#string","content":" Format:  | unsigned varint64: size &lt;&lt; 2 `bitor` 2 bits encoding flags | binary data |   size + encoding will be concat as a long and encoded as an unsigned varint64. The little 2 bits is used for encoding: 0 for latin1(ISO-8859-1), 1 for utf-16, 2 for utf-8.encoded string binary data based on encoding: latin/utf-16/utf-8.  Which encoding to choose:  For JDK8: fory detect latin at runtime, if string is latin string, then use latin encoding, otherwise use utf-16.For JDK9+: fory use coder in String object for encoding, latin/utf-16 will be used for encoding.If the string is encoded by utf-8, then fory will use utf-8 to decode the data. Cross-language string serialization of fory uses utf-8 by default.  ","version":"0.11","tagName":"h3"},{"title":"list‚Äã","type":1,"pageTitle":"Xlang Serialization Format","url":"/zh-CN/docs/0.11/specification/xlang_serialization_spec#list","content":" Format:  | unsigned varint64: length | 1 byte elements header | elements data |   elements header‚Äã  In most cases, all elements are same type and not null, elements header will encode those homogeneous information to avoid the cost of writing it for every element. Specifically, there are four kinds of information which will be encoded by elements header, each use one bit:  If track elements ref, use the first bit 0b1 of the header to flag it.If the elements have null, use the second bit 0b10 of the header to flag it. If ref tracking is enabled for this element type, this flag is invalid.If the element types are not the declared type, use the 3rd bit 0b100 of the header to flag it.If the element types are different, use the 4rd bit 0b1000 header to flag it.  By default, all bits are unset, which means all elements won't track ref, all elements are same type, not null and the actual element is the declared type in the custom type field.  The implementation can generate different deserialization code based read header, and look up the generated code from a linear map/list.  elements data‚Äã  Based on the elements header, the serialization of elements data may skip ref flag/null flag/element type info.  fory = ... buffer = ... elems = ... if element_type_is_same: if not is_declared_type: fory.write_type(buffer, elem_type) elem_serializer = get_serializer(...) if track_ref: for elem in elems: if not ref_resolver.write_ref_or_null(buffer, elem): elem_serializer.write(buffer, elem) elif has_null: for elem in elems: if elem is None: buffer.write_byte(null_flag) else: buffer.write_byte(not_null_flag) elem_serializer.write(buffer, elem) else: for elem in elems: elem_serializer.write(buffer, elem) else: if track_ref: for elem in elems: fory.write_ref(buffer, elem) elif has_null: for elem in elems: fory.write_nullable(buffer, elem) else: for elem in elems: fory.write_value(buffer, elem)   CollectionSerializer#writeElementscan be taken as an example.  ","version":"0.11","tagName":"h3"},{"title":"array‚Äã","type":1,"pageTitle":"Xlang Serialization Format","url":"/zh-CN/docs/0.11/specification/xlang_serialization_spec#array","content":" primitive array‚Äã  Primitive array are taken as a binary buffer, serialization will just write the length of array size as an unsigned int, then copy the whole buffer into the stream.  Such serialization won't compress the array. If users want to compress primitive array, users need to register custom serializers for such types or mark it as list type.  Tensor‚Äã  Tensor is a special primitive multi-dimensional array which all dimensions have same size and type. The serialization format is:  | num_dims(unsigned varint) | shape[0](unsigned varint) | shape[...] | shape[N] | element type | data |   The data is continuous to reduce copy and may zero-copy in some cases.  object array‚Äã  Object array is serialized using the list format. Object component type will be taken as list element generic type.  ","version":"0.11","tagName":"h3"},{"title":"map‚Äã","type":1,"pageTitle":"Xlang Serialization Format","url":"/zh-CN/docs/0.11/specification/xlang_serialization_spec#map","content":" Map uses a chunk by chunk based Format:  | length(unsigned varint) | key value chunk data | ... | key value chunk data |   map key-value chunk data‚Äã  Map iteration is too expensive, Fory won't compute the header like for list since it introduceconsiderable overhead. Users can use MapFieldInfo annotation to provide the header in advance. Otherwise Fory will use first key-value pair to predict header optimistically, and update the chunk header if the prediction failed at some pair.  Fory will serialize the map chunk by chunk, every chunk has 255 pairs at most.  | 1 byte | 1 byte | variable bytes | +----------------+----------------+-----------------+ | KV header | chunk size: N | N*2 objects |   KV header:  If track key ref, use the first bit 0b1 of the header to flag it.If the key has null, use the second bit 0b10 of the header to flag it. If ref tracking is enabled for this key type, this flag is invalid.If the actual key type of map is not the declared key type, use the 3rd bit 0b100 of the header to flag it.If track value ref, use the 4th bit 0b1000 of the header to flag it.If the value has null, use the 5th bit 0b10000 of the header to flag it. If ref tracking is enabled for this value type, this flag is invalid.If the value type of map is not the declared value type, use the 6rd bit 0b100000 of the header to flag it.If key or value is null, that key and value will be written as a separate chunk, and chunk size writing will be skipped too.  If streaming write is enabled, which means Fory can't update written chunk size. In such cases, map key-value data format will be:  | 1 byte | variable bytes | +----------------+-----------------+ | KV header | N*2 objects |   KV header will be a header marked by MapFieldInfo in java. For languages such as golang, this can be computed in advance for non-interface types most times. The implementation can generate different deserialization code based read header, and look up the generated code from a linear map/list.  Why serialize chunk by chunk?‚Äã  When fory will use first key-value pair to predict header optimistically, it can't know how many pairs have same meta(tracking kef ref, key has null and so on). If we don't write chunk by chunk with max chunk size, we must write at least X bytes to take up a place for later to update the number which has same elements, X is the num_bytes for encoding varint encoding of map size.  And most map size are smaller than 255, if all pairs have same data, the chunk will be 1. This is common in golang/rust, which object are not reference by default.  Also, if only one or two keys have different meta, we can make it into a different chunk, so that most pairs can share meta.  The implementation can accumulate read count with map size to decide whether to read more chunks.  ","version":"0.11","tagName":"h3"},{"title":"enum‚Äã","type":1,"pageTitle":"Xlang Serialization Format","url":"/zh-CN/docs/0.11/specification/xlang_serialization_spec#enum","content":" Enums are serialized as an unsigned var int. If the order of enum values change, the deserialized enum value may not be the value users expect. In such cases, users must register enum serializer by make it write enum value as an enumerated string with unique hash disabled.  ","version":"0.11","tagName":"h3"},{"title":"decimal‚Äã","type":1,"pageTitle":"Xlang Serialization Format","url":"/zh-CN/docs/0.11/specification/xlang_serialization_spec#decimal","content":" Not supported for now.  ","version":"0.11","tagName":"h3"},{"title":"struct‚Äã","type":1,"pageTitle":"Xlang Serialization Format","url":"/zh-CN/docs/0.11/specification/xlang_serialization_spec#struct","content":" Struct means object of class/pojo/struct/bean/record type. Struct will be serialized by writing its fields data in fory order.  Depending on schema compatibility, structs will have different formats.  field order‚Äã  Field will be ordered as following, every group of fields will have its own order:  primitive fields: larger size type first, smaller later, variable size type last.when same size, sort by type idwhen same size and type id, sort by snake case field nametypes: bool/int8/int16/int32/varint32/int64/varint64/sliint64/float16/float32/float64 nullable primitive fields: same order as primitive fieldsmorphic fields: same type together, then sorted by field name lexicographically using snake case style.unknown fields: same sort algorithms as morphic fieldslist fields: same sort algorithms as morphic fieldsset fields: same sort algorithms as morphic fieldsmap fields: same sort algorithms as morphic fields  Field order‚Äã  Fields in a struct are sorted in a ascending order by:  primitive fields first: bool/int8/int16/int32/varint32/int64/varint64/sliint64/float16/float32/float64, sorted by type id.nullable primitive fieldsmorphic types except list/set/mapunknown typeslist typesset typesmap types  If two fields have same type, then sort by snake_case styled field name.  schema consistent‚Äã  Object will be written as:  | 4 byte | variable bytes | +---------------+------------------+ | type hash | field values |   Type hash is used to check the type schema consistency across languages. Type hash will be the first 32 bits of 56 bits value of the type meta.  Object fields will be serialized one by one using following format:  not null primitive field value: | var bytes | +----------------+ | value data | +----------------+ nullable primitive field value: | one byte | var bytes | +-----------+---------------+ | null flag | field value | +-----------+---------------+ field value of final type with ref tracking: | var bytes | var objects | +-----------+-------------+ | ref meta | value data | +-----------+-------------+ field value of final type without ref tracking: | one byte | var objects | +-----------+-------------+ | null flag | field value | +-----------+-------------+ field value of non-final type with ref tracking: | one byte | var bytes | var objects | +-----------+-------------+-------------+ | ref meta | type meta | value data | +-----------+-------------+-------------+ field value of non-final type without ref tracking: | one byte | var bytes | var objects | +-----------+------------+------------+ | null flag | type meta | value data | +-----------+------------+------------+   Schema evolution‚Äã  Schema evolution have similar format as schema consistent mode for object except:  For the object type, schema consistent mode will write type by id only, but schema evolution mode will write type consisting of field names, types and other meta too, see Type meta.Type meta of final custom type needs to be written too, because peers may not have this type defined.  ","version":"0.11","tagName":"h3"},{"title":"Type‚Äã","type":1,"pageTitle":"Xlang Serialization Format","url":"/zh-CN/docs/0.11/specification/xlang_serialization_spec#type","content":" Type will be serialized using type meta format.  ","version":"0.11","tagName":"h3"},{"title":"Implementation guidelines‚Äã","type":1,"pageTitle":"Xlang Serialization Format","url":"/zh-CN/docs/0.11/specification/xlang_serialization_spec#implementation-guidelines","content":" ","version":"0.11","tagName":"h2"},{"title":"How to reduce memory read/write code‚Äã","type":1,"pageTitle":"Xlang Serialization Format","url":"/zh-CN/docs/0.11/specification/xlang_serialization_spec#how-to-reduce-memory-readwrite-code","content":" Try to merge multiple bytes into an int/long write before writing to reduce memory IO and bound check cost.Read multiple bytes as an int/long, then split into multiple bytes to reduce memory IO and bound check cost.Try to use one varint/long to write flags and length together to save one byte cost and reduce memory io.Condition branches are less expensive compared to memory IO cost unless there are too many branches.  ","version":"0.11","tagName":"h3"},{"title":"Fast deserialization for static languages without runtime codegen support‚Äã","type":1,"pageTitle":"Xlang Serialization Format","url":"/zh-CN/docs/0.11/specification/xlang_serialization_spec#fast-deserialization-for-static-languages-without-runtime-codegen-support","content":" For type evolution, the serializer will encode the type meta into the serialized data. The deserializer will compare this meta with class meta in the current process, and use the diff to determine how to deserialize the data.  For java/javascript/python, we can use the diff to generate serializer code at runtime and load it as class/function for deserialization. In this way, the type evolution will be as fast as type consist mode.  For C++/Rust, we can't generate the serializer code at runtime. So we need to generate the code at compile-time using meta programming. But at that time, we don't know the type schema in other processes, so we can't generate the serializer code for such inconsistent types. We may need to generate the code which has a loop and compare field name one by one to decide whether to deserialize and assign the field or skip the field value.  One fast way is that we can optimize the string comparison into jump instructions:  Assume the current type has n fields, and the peer type has n1 fields.Generate an auto growing field id from 0 for every sorted field in the current type at the compile time.Compare the received type meta with current type, generate same id if the field name is same, otherwise generate an auto growing id starting from n, cache this meta at runtime.Iterate the fields of received type meta, use a switch to compare the field id to deserialize data and assign/skip field value. Continuous field id will be optimized into jump in switch block, so it will very fast.  Here is an example, suppose process A has a class Foo with version 1 defined as Foo1, process B has a class Foowith version 2 defined as Foo2:  // class Foo with version 1 class Foo1 { int32_t v1; // id 0 std::string v2; // id 1 }; // class Foo with version 2 class Foo2 { // id 0, but will have id 2 in process A bool v0; // id 1, but will have id 0 in process A int32_t v1; // id 2, but will have id 3 in process A int64_t long_value; // id 3, but will have id 1 in process A std::string v2; // id 4, but will have id 4 in process A std::vector&lt;std::string&gt; list; };   When process A received serialized Foo2 from process B, here is how it deserialize the data:  Foo1 foo1 = ...; const std::vector&lt;fory::FieldInfo&gt; &amp;field_infos = type_meta.field_infos; for (const auto &amp;field_info : field_infos) { switch (field_info.field_id) { case 0: foo1.v1 = buffer.read_varint32(); break; case 1: foo1.v2 = fory.read_string(); break; default: fory.skip_data(field_info); } }  ","version":"0.11","tagName":"h3"},{"title":"ÂÆâË£Ö Apache Fory‚Ñ¢","type":0,"sectionRef":"#","url":"/zh-CN/docs/0.11/start/install","content":"","keywords":"","version":"0.11"},{"title":"Apache Fory‚Ñ¢ Java ÂÆâË£Ö‚Äã","type":1,"pageTitle":"ÂÆâË£Ö Apache Fory‚Ñ¢","url":"/zh-CN/docs/0.11/start/install#apache-fory-java-ÂÆâË£Ö","content":" Ë¶Å‰ΩøÁî® Maven Ê∑ªÂä†ÂØπ Apache Fory ÁöÑ‰æùËµñÔºåËØ∑‰ΩøÁî®‰ª•‰∏ãÈÖçÁΩÆÔºö  &lt;dependency&gt; &lt;groupId&gt;org.apache.fory&lt;/groupId&gt; &lt;artifactId&gt;fory-core&lt;/artifactId&gt; &lt;version&gt;0.11.2&lt;/version&gt; &lt;/dependency&gt; &lt;!-- row/arrow format support --&gt; &lt;!-- &lt;dependency&gt; &lt;groupId&gt;org.apache.fory&lt;/groupId&gt; &lt;artifactId&gt;fory-format&lt;/artifactId&gt; &lt;version&gt;0.11.2&lt;/version&gt; &lt;/dependency&gt; --&gt;   ","version":"0.11","tagName":"h3"},{"title":"Apache Fory‚Ñ¢ Scala ÂÆâË£Ö‚Äã","type":1,"pageTitle":"ÂÆâË£Ö Apache Fory‚Ñ¢","url":"/zh-CN/docs/0.11/start/install#apache-fory-scala-ÂÆâË£Ö","content":" Ë¶Å‰ΩøÁî® Maven Ê∑ªÂä† scala 2.13 ÁöÑ Fory scala ‰æùËµñÔºåËØ∑‰ΩøÁî®‰ª•‰∏ãÈÖçÁΩÆÔºö  &lt;dependency&gt; &lt;groupId&gt;org.apache.fory&lt;/groupId&gt; &lt;artifactId&gt;fory-scala_2.13&lt;/artifactId&gt; &lt;version&gt;0.11.2&lt;/version&gt; &lt;/dependency&gt;   Ë¶Å‰ΩøÁî® Maven Ê∑ªÂä† scala 3 ÁöÑ Fory scala ‰æùËµñÔºåËØ∑‰ΩøÁî®‰ª•‰∏ãÈÖçÁΩÆÔºö  &lt;dependency&gt; &lt;groupId&gt;org.apache.fory&lt;/groupId&gt; &lt;artifactId&gt;fory-scala_3&lt;/artifactId&gt; &lt;version&gt;0.11.2&lt;/version&gt; &lt;/dependency&gt;   Ë¶Å‰ΩøÁî® sbt Ê∑ªÂä† scala 2.13 ÁöÑ Fory scala ‰æùËµñÔºåËØ∑‰ΩøÁî®‰ª•‰∏ãÈÖçÁΩÆÔºö  libraryDependencies += &quot;org.apache.fory&quot; % &quot;fory-scala_2.13&quot; % &quot;0.11.2&quot;   Ë¶Å‰ΩøÁî® sbt Ê∑ªÂä† scala 3 ÁöÑ Fory scala ‰æùËµñÔºåËØ∑‰ΩøÁî®‰ª•‰∏ãÈÖçÁΩÆÔºö  libraryDependencies += &quot;org.apache.fory&quot; % &quot;fory-scala_3&quot; % &quot;0.11.2&quot;   ","version":"0.11","tagName":"h3"},{"title":"Fory Kotlin ÂÆâË£Ö‚Äã","type":1,"pageTitle":"ÂÆâË£Ö Apache Fory‚Ñ¢","url":"/zh-CN/docs/0.11/start/install#fory-kotlin-ÂÆâË£Ö","content":" To add a dependency on Apache Fory‚Ñ¢kotlin with maven, use the following:  &lt;dependency&gt; &lt;groupId&gt;org.apache.fory&lt;/groupId&gt; &lt;artifactId&gt;fory-kotlin&lt;/artifactId&gt; &lt;version&gt;0.11.2&lt;/version&gt; &lt;/dependency&gt;   ","version":"0.11","tagName":"h2"},{"title":"Fory JavaScript ÂÆâË£Ö‚Äã","type":1,"pageTitle":"ÂÆâË£Ö Apache Fory‚Ñ¢","url":"/zh-CN/docs/0.11/start/install#fory-javascript-ÂÆâË£Ö","content":" Apache Fory ÁõÆÂâçÊöÇÊú™ÂèëÂ∏ÉÂà∞ NPM, ËØ∑ÈÄöËøáÊ∫êÁ†ÅÂÆâË£Ö„ÄÇ ","version":"0.11","tagName":"h2"},{"title":"Java Â∫èÂàóÂåñ","type":0,"sectionRef":"#","url":"/zh-CN/docs/0.11/guide/serialization","content":"","keywords":"","version":"0.11"},{"title":"Âø´ÈÄüÂºÄÂßã‚Äã","type":1,"pageTitle":"Java Â∫èÂàóÂåñ","url":"/zh-CN/docs/0.11/guide/serialization#Âø´ÈÄüÂºÄÂßã","content":" Ê≥®ÊÑèÔºåFory ÂÆû‰æãÁöÑÂàõÂª∫ÂºÄÈîÄËæÉÂ§ßÔºåFory ÂÆû‰æãÂ∫îÂú®Â§öÊ¨°Â∫èÂàóÂåñÈó¥Â§çÁî®ÔºåËÄå‰∏çÊòØÊØèÊ¨°ÈÉΩÊñ∞Âª∫„ÄÇ Âª∫ËÆÆÂ∞Ü Fory ‰øùÂ≠òÂú®ÈùôÊÄÅÂÖ®Â±ÄÂèòÈáè„ÄÅÂçï‰æãÂØπË±°ÊàñÊúâÈôêÊï∞ÈáèÁöÑÂÆû‰æãÂèòÈáè‰∏≠„ÄÇ  ÂçïÁ∫øÁ®ãÂú∫ÊôØ‰∏ã Fory ÁöÑÁî®Ê≥ïÔºö  import java.util.List; import java.util.Arrays; import org.apache.fory.*; import org.apache.fory.config.*; public class Example { public static void main(String[] args) { SomeClass object = new SomeClass(); // Ê≥®ÊÑèÔºöFory ÂÆû‰æãÂ∫îÂú®Â§öÊ¨°Â∫èÂàóÂåñÈó¥Â§çÁî® Fory fory = Fory.builder().withLanguage(Language.JAVA) .requireClassRegistration(true) .build(); // Ê≥®ÂÜåÁ±ªÂûãÂèØÂáèÂ∞ëÁ±ªÂêçÂ∫èÂàóÂåñÂºÄÈîÄÔºå‰ΩÜ‰∏çÊòØÂº∫Âà∂ÁöÑ„ÄÇ // ÂêØÁî®Á±ªÊ≥®ÂÜåÂêéÔºåÊâÄÊúâËá™ÂÆö‰πâÁ±ªÂûãÈÉΩÂøÖÈ°ªÊ≥®ÂÜå„ÄÇ fory.register(SomeClass.class); byte[] bytes = fory.serialize(object); System.out.println(fory.deserialize(bytes)); } }   Â§öÁ∫øÁ®ãÂú∫ÊôØ‰∏ã Fory ÁöÑÁî®Ê≥ïÔºö  import java.util.List; import java.util.Arrays; import org.apache.fory.*; import org.apache.fory.config.*; public class Example { public static void main(String[] args) { SomeClass object = new SomeClass(); // Ê≥®ÊÑèÔºöFory ÂÆû‰æãÂ∫îÂú®Â§öÊ¨°Â∫èÂàóÂåñÈó¥Â§çÁî® ThreadSafeFory fory = new ThreadLocalFory(classLoader -&gt; { Fory f = Fory.builder().withLanguage(Language.JAVA) .withClassLoader(classLoader).build(); f.register(SomeClass.class); return f; }); byte[] bytes = fory.serialize(object); System.out.println(fory.deserialize(bytes)); } }   Fory ÂÆû‰æãÂ§çÁî®Á§∫‰æãÔºö  import java.util.List; import java.util.Arrays; import org.apache.fory.*; import org.apache.fory.config.*; public class Example { // Â§çÁî® fory ÂÆû‰æã private static final ThreadSafeFory fory = new ThreadLocalFory(classLoader -&gt; { Fory f = Fory.builder().withLanguage(Language.JAVA) .withClassLoader(classLoader).build(); f.register(SomeClass.class); return f; }); public static void main(String[] args) { SomeClass object = new SomeClass(); byte[] bytes = fory.serialize(object); System.out.println(fory.deserialize(bytes)); } }   ","version":"0.11","tagName":"h2"},{"title":"ForyBuilder ÈÖçÁΩÆÈÄâÈ°π‚Äã","type":1,"pageTitle":"Java Â∫èÂàóÂåñ","url":"/zh-CN/docs/0.11/guide/serialization#forybuilder-ÈÖçÁΩÆÈÄâÈ°π","content":" ÈÄâÈ°πÂêç\tËØ¥Êòé\tÈªòËÆ§ÂÄºtimeRefIgnored\tÊòØÂê¶ÂøΩÁï•ÊâÄÊúâÂú® TimeSerializers Ê≥®ÂÜåÁöÑÊó∂Èó¥Á±ªÂûãÂèäÂÖ∂Â≠êÁ±ªÁöÑÂºïÁî®Ë∑üË∏™ÔºàÂΩìÂºïÁî®Ë∑üË∏™ÂºÄÂêØÊó∂Ôºâ„ÄÇÂ¶ÇÈúÄÂØπÊó∂Èó¥Á±ªÂûãÂêØÁî®ÂºïÁî®Ë∑üË∏™ÔºåÂèØÈÄöËøá Fory#registerSerializer(Class, Serializer) Ê≥®ÂÜå„ÄÇ‰æãÂ¶ÇÔºöfory.registerSerializer(Date.class, new DateSerializer(fory, true))„ÄÇÊ≥®ÊÑèÔºåÂêØÁî®ÂºïÁî®Ë∑üË∏™ÈúÄÂú®ÂåÖÂê´Êó∂Èó¥Â≠óÊÆµÁöÑÁ±ªÂûã‰ª£Á†ÅÁîüÊàêÂâçÂÆåÊàêÔºåÂê¶ÂàôËøô‰∫õÂ≠óÊÆµ‰ªç‰ºöË∑≥ËøáÂºïÁî®Ë∑üË∏™„ÄÇ\ttrue compressInt\tÊòØÂê¶ÂêØÁî® int ÂéãÁº©‰ª•ÂáèÂ∞èÂ∫èÂàóÂåñ‰ΩìÁßØ„ÄÇ\ttrue compressLong\tÊòØÂê¶ÂêØÁî® long ÂéãÁº©‰ª•ÂáèÂ∞èÂ∫èÂàóÂåñ‰ΩìÁßØ„ÄÇ\ttrue compressString\tÊòØÂê¶ÂêØÁî®Â≠óÁ¨¶‰∏≤ÂéãÁº©‰ª•ÂáèÂ∞èÂ∫èÂàóÂåñ‰ΩìÁßØ„ÄÇ\tfalse classLoader\tÁ±ªÂä†ËΩΩÂô®‰∏çÂª∫ËÆÆÂä®ÊÄÅÂèòÊõ¥ÔºåFory ‰ºöÁºìÂ≠òÁ±ªÂÖÉÊï∞ÊçÆ„ÄÇÂ¶ÇÈúÄÂèòÊõ¥Á±ªÂä†ËΩΩÂô®ÔºåËØ∑‰ΩøÁî® LoaderBinding Êàñ ThreadSafeFory„ÄÇ\tThread.currentThread().getContextClassLoader() compatibleMode\tÁ±ªÂûãÂâçÂêë/ÂêéÂêëÂÖºÂÆπÊÄßÈÖçÁΩÆ„ÄÇ‰∏é checkClassVersion ÈÖçÁΩÆÁõ∏ÂÖ≥„ÄÇSCHEMA_CONSISTENTÔºöÂ∫èÂàóÂåñÁ´Ø‰∏éÂèçÂ∫èÂàóÂåñÁ´ØÁ±ªÁªìÊûÑÈúÄ‰∏ÄËá¥„ÄÇCOMPATIBLEÔºöÂ∫èÂàóÂåñÁ´Ø‰∏éÂèçÂ∫èÂàóÂåñÁ´ØÁ±ªÁªìÊûÑÂèØ‰∏çÂêåÔºåÂèØÁã¨Á´ãÂ¢ûÂà†Â≠óÊÆµ„ÄÇËØ¶ËßÅ„ÄÇ\tCompatibleMode.SCHEMA_CONSISTENT checkClassVersion\tÊòØÂê¶Ê†°È™åÁ±ªÁªìÊûÑ‰∏ÄËá¥ÊÄß„ÄÇÂêØÁî®ÂêéÔºåFory ‰ºöÂÜôÂÖ•Âπ∂Ê†°È™å classVersionHash„ÄÇËã•ÂêØÁî® CompatibleMode#COMPATIBLEÔºåÊ≠§È°π‰ºöËá™Âä®ÂÖ≥Èó≠„ÄÇÈô§ÈùûËÉΩÁ°Æ‰øùÁ±ª‰∏ç‰ºöÊºîÂåñÔºåÂê¶Âàô‰∏çÂª∫ËÆÆÂÖ≥Èó≠„ÄÇ\tfalse checkJdkClassSerializable\tÊòØÂê¶Ê†°È™å java.* ‰∏ãÁöÑÁ±ªÂÆûÁé∞‰∫Ü Serializable Êé•Âè£„ÄÇËã•Êú™ÂÆûÁé∞ÔºåFory ‰ºöÊäõÂá∫ UnsupportedOperationException„ÄÇ\ttrue registerGuavaTypes\tÊòØÂê¶È¢ÑÊ≥®ÂÜå Guava Á±ªÂûãÔºàÂ¶Ç RegularImmutableMap/RegularImmutableListÔºâ„ÄÇËøô‰∫õÁ±ªÂûãËôΩÈùûÂÖ¨ÂºÄ APIÔºå‰ΩÜËæÉ‰∏∫Á®≥ÂÆö„ÄÇ\ttrue requireClassRegistration\tÂÖ≥Èó≠ÂêéÂèØÂèçÂ∫èÂàóÂåñÊú™Áü•Á±ªÂûãÔºåÁÅµÊ¥ªÊÄßÊõ¥È´òÔºå‰ΩÜÂ≠òÂú®ÂÆâÂÖ®È£éÈô©„ÄÇ\ttrue suppressClassRegistrationWarnings\tÊòØÂê¶Â±èËîΩÁ±ªÊ≥®ÂÜåË≠¶Âëä„ÄÇË≠¶ÂëäÂèØÁî®‰∫éÂÆâÂÖ®ÂÆ°ËÆ°Ôºå‰ΩÜÂèØËÉΩÂΩ±Âìç‰ΩìÈ™åÔºåÈªòËÆ§ÂºÄÂêØÂ±èËîΩ„ÄÇ\ttrue metaShareEnabled\tÊòØÂê¶ÂêØÁî®ÂÖÉÊï∞ÊçÆÂÖ±‰∫´Ê®°Âºè„ÄÇ\ttrueÔºàËã•ËÆæÁΩÆ‰∫Ü CompatibleMode.CompatibleÔºåÂê¶Âàô‰∏∫ falseÔºâ scopedMetaShareEnabled\tÊòØÂê¶ÂêØÁî®ÂçïÊ¨°Â∫èÂàóÂåñËåÉÂõ¥ÂÜÖÁöÑÂÖÉÊï∞ÊçÆÁã¨‰∫´„ÄÇËØ•ÂÖÉÊï∞ÊçÆ‰ªÖÂú®Êú¨Ê¨°Â∫èÂàóÂåñ‰∏≠ÊúâÊïàÔºå‰∏ç‰∏éÂÖ∂‰ªñÂ∫èÂàóÂåñÂÖ±‰∫´„ÄÇ\ttrueÔºàËã•ËÆæÁΩÆ‰∫Ü CompatibleMode.CompatibleÔºåÂê¶Âàô‰∏∫ falseÔºâ metaCompressor\tËÆæÁΩÆÂÖÉÊï∞ÊçÆÂéãÁº©Âô®„ÄÇÈªòËÆ§‰ΩøÁî®Âü∫‰∫é Deflater ÁöÑ DeflaterMetaCompressorÔºåÂèØËá™ÂÆö‰πâÂ¶Ç zstd Á≠âÊõ¥È´òÂéãÁº©ÊØîÁöÑÂéãÁº©Âô®„ÄÇÈúÄ‰øùËØÅÁ∫øÁ®ãÂÆâÂÖ®„ÄÇ\tDeflaterMetaCompressor deserializeNonexistentClass\tÊòØÂê¶ÂÖÅËÆ∏ÂèçÂ∫èÂàóÂåñ/Ë∑≥Ëøá‰∏çÂ≠òÂú®ÁöÑÁ±ªÁöÑÊï∞ÊçÆ„ÄÇ\ttrueÔºàËã•ËÆæÁΩÆ‰∫Ü CompatibleMode.CompatibleÔºåÂê¶Âàô‰∏∫ falseÔºâ codeGenEnabled\tÊòØÂê¶ÂêØÁî®‰ª£Á†ÅÁîüÊàê„ÄÇÂÖ≥Èó≠ÂêéÈ¶ñÊ¨°Â∫èÂàóÂåñÊõ¥Âø´Ôºå‰ΩÜÂêéÁª≠Â∫èÂàóÂåñÊÄßËÉΩËæÉ‰Ωé„ÄÇ\ttrue asyncCompilationEnabled\tÊòØÂê¶ÂêØÁî®ÂºÇÊ≠•ÁºñËØë„ÄÇÂêØÁî®ÂêéÔºåÂ∫èÂàóÂåñÂÖàÁî®Ëß£ÈáäÊ®°ÂºèÔºåJIT ÂÆåÊàêÂêéÂàáÊç¢‰∏∫ JIT Ê®°Âºè„ÄÇ\tfalse scalaOptimizationEnabled\tÊòØÂê¶ÂêØÁî® Scala ÁâπÂÆö‰ºòÂåñ„ÄÇ\tfalse copyRef\tÂÖ≥Èó≠ÂêéÔºåÊ∑±Êã∑Ë¥ùÊÄßËÉΩÊõ¥Â•ΩÔºå‰ΩÜ‰ºöÂøΩÁï•Âæ™ÁéØÂíåÂÖ±‰∫´ÂºïÁî®„ÄÇÂØπË±°Âõæ‰∏≠ÁöÑÂêå‰∏ÄÂºïÁî®‰ºöË¢´Êã∑Ë¥ù‰∏∫‰∏çÂêåÂØπË±°„ÄÇ\ttrue serializeEnumByName\tÂêØÁî®ÂêéÔºåÊûö‰∏æÊåâÂêçÁß∞Â∫èÂàóÂåñÔºåÂê¶ÂàôÊåâ ordinal„ÄÇ\tfalse  ","version":"0.11","tagName":"h2"},{"title":"È´òÁ∫ßÁî®Ê≥ï‚Äã","type":1,"pageTitle":"Java Â∫èÂàóÂåñ","url":"/zh-CN/docs/0.11/guide/serialization#È´òÁ∫ßÁî®Ê≥ï","content":" ","version":"0.11","tagName":"h2"},{"title":"Apache Fory‚Ñ¢ ÂàõÂª∫‚Äã","type":1,"pageTitle":"Java Â∫èÂàóÂåñ","url":"/zh-CN/docs/0.11/guide/serialization#apache-fory-ÂàõÂª∫","content":" ÂçïÁ∫øÁ®ã Fory Á§∫‰æãÔºö  Fory fory = Fory.builder() .withLanguage(Language.JAVA) // ÂêØÁî®ÂÖ±‰∫´/Âæ™ÁéØÂºïÁî®Ë∑üË∏™„ÄÇËã•Êó†ÈáçÂ§çÂºïÁî®ÂèØÂÖ≥Èó≠‰ª•ÊèêÂçáÊÄßËÉΩ„ÄÇ .withRefTracking(false) .withCompatibleMode(CompatibleMode.SCHEMA_CONSISTENT) // ÂêØÁî®Á±ªÂûãÂâçÂêë/ÂêéÂêëÂÖºÂÆπ // Ëã•ËøΩÊ±ÇÊõ¥Â∞è‰ΩìÁßØÂíåÊõ¥È´òÊÄßËÉΩÂèØÂÖ≥Èó≠ // .withCompatibleMode(CompatibleMode.COMPATIBLE) // ÂêØÁî®ÂºÇÊ≠•Â§öÁ∫øÁ®ãÁºñËØë .withAsyncCompilation(true) .build(); byte[] bytes = fory.serialize(object); System.out.println(fory.deserialize(bytes));   Á∫øÁ®ãÂÆâÂÖ® Fory Á§∫‰æãÔºö  ThreadSafeFory fory = Fory.builder() .withLanguage(Language.JAVA) // ÂêØÁî®ÂÖ±‰∫´/Âæ™ÁéØÂºïÁî®Ë∑üË∏™„ÄÇËã•Êó†ÈáçÂ§çÂºïÁî®ÂèØÂÖ≥Èó≠‰ª•ÊèêÂçáÊÄßËÉΩ„ÄÇ .withRefTracking(false) // ÂêØÁî® int ÂéãÁº© // .withIntCompressed(true) // ÂêØÁî® long ÂéãÁº© // .withLongCompressed(true) .withCompatibleMode(CompatibleMode.SCHEMA_CONSISTENT) // ÂêØÁî®Á±ªÂûãÂâçÂêë/ÂêéÂêëÂÖºÂÆπ // Ëã•ËøΩÊ±ÇÊõ¥Â∞è‰ΩìÁßØÂíåÊõ¥È´òÊÄßËÉΩÂèØÂÖ≥Èó≠ // .withCompatibleMode(CompatibleMode.COMPATIBLE) // ÂêØÁî®ÂºÇÊ≠•Â§öÁ∫øÁ®ãÁºñËØë .withAsyncCompilation(true) .buildThreadSafeFory(); byte[] bytes = fory.serialize(object); System.out.println(fory.deserialize(bytes));   ","version":"0.11","tagName":"h3"},{"title":"Â∫èÂàóÂåñ‰∏≠ÁöÑÁ±ªÁªìÊûÑÊºîÂåñ‚Äã","type":1,"pageTitle":"Java Â∫èÂàóÂåñ","url":"/zh-CN/docs/0.11/guide/serialization#Â∫èÂàóÂåñ‰∏≠ÁöÑÁ±ªÁªìÊûÑÊºîÂåñ","content":" Âú®ÂÆûÈôÖÁ≥ªÁªü‰∏≠ÔºåÂ∫èÂàóÂåñÁî®Âà∞ÁöÑÁ±ªÁªìÊûÑÂèØËÉΩ‰ºöÈöèÊó∂Èó¥ÂèòÂåñÔºåÊØîÂ¶ÇÂ≠óÊÆµÁöÑÂ¢ûÂà†„ÄÇÂΩìÂ∫èÂàóÂåñÂíåÂèçÂ∫èÂàóÂåñÁ´Ø‰ΩøÁî®‰∏çÂêåÁâàÊú¨ÁöÑ jar Êó∂ÔºåÁ±ªÁªìÊûÑÂèØËÉΩ‰∏ç‰∏ÄËá¥„ÄÇ  Fory ÈªòËÆ§ÈááÁî® CompatibleMode.SCHEMA_CONSISTENTÔºåÂç≥Ë¶ÅÊ±ÇÂ∫èÂàóÂåñÂíåÂèçÂ∫èÂàóÂåñÁ´ØÁ±ªÁªìÊûÑ‰∏ÄËá¥Ôºå‰ª•Ëé∑ÂæóÊúÄÂ∞èÁöÑÂ∫èÂàóÂåñ‰ΩìÁßØÂíåÊúÄÈ´òÊÄßËÉΩ„ÄÇÂ¶ÇÊûúÁªìÊûÑ‰∏ç‰∏ÄËá¥ÔºåÂèçÂ∫èÂàóÂåñ‰ºöÂ§±Ë¥•„ÄÇ  Â¶ÇÈúÄÊîØÊåÅÁ±ªÁªìÊûÑÊºîÂåñÔºàÂâçÂêë/ÂêéÂêëÂÖºÂÆπÔºâÔºåÈúÄÂ∞Ü Fory ÈÖçÁΩÆ‰∏∫ CompatibleMode.COMPATIBLEÔºåÂÖÅËÆ∏Â≠óÊÆµÂ¢ûÂà†ÔºåÂèçÂ∫èÂàóÂåñÁ´ØÂèØËá™Âä®ÈÄÇÈÖç‰∏çÂêåÁªìÊûÑ„ÄÇ  Á§∫‰æãÔºö  Fory fory = Fory.builder() .withCompatibleMode(CompatibleMode.COMPATIBLE) .build(); byte[] bytes = fory.serialize(object); System.out.println(fory.deserialize(bytes));   ÂÖºÂÆπÊ®°Âºè‰∏ãÔºåÁ±ªÂÖÉÊï∞ÊçÆ‰ºöÂÜôÂÖ•Â∫èÂàóÂåñÁªìÊûú„ÄÇApache Fory‚Ñ¢ ÈááÁî®È´òÊïàÂéãÁº©ÁÆóÊ≥ïÈôç‰ΩéÂÖÉÊï∞ÊçÆÂºÄÈîÄÔºå‰ΩÜ‰ªç‰ºöÊúâ‰∏ÄÂÆö‰ΩìÁßØÂ¢ûÂä†„ÄÇ‰∏∫Ëøõ‰∏ÄÊ≠•Èôç‰ΩéÂÖÉÊï∞ÊçÆÊàêÊú¨ÔºåApache Fory‚Ñ¢ ÊîØÊåÅÂÖÉÊï∞ÊçÆÂÖ±‰∫´Êú∫Âà∂ÔºåËØ¶ÊÉÖËßÅMeta Sharing„ÄÇ  ","version":"0.11","tagName":"h3"},{"title":"ÂéãÁº©‚Äã","type":1,"pageTitle":"Java Â∫èÂàóÂåñ","url":"/zh-CN/docs/0.11/guide/serialization#ÂéãÁº©","content":" ForyBuilder#withIntCompressed/ForyBuilder#withLongCompressed ÂèØÁî®‰∫éÂéãÁº© int/long Á±ªÂûã‰ª•ÂáèÂ∞è‰ΩìÁßØ„ÄÇÈªòËÆ§Âùá‰∏∫ÂºÄÂêØ„ÄÇ  Â¶ÇÊûúÂ∫èÂàóÂåñ‰ΩìÁßØ‰∏çÊïèÊÑüÔºàÂ¶Ç‰πãÂâçÁî® flatbuffers Á≠âÊó†ÂéãÁº©Ê†ºÂºèÔºâÔºåÂª∫ËÆÆÂÖ≥Èó≠ÂéãÁº©‰ª•ÊèêÂçáÊÄßËÉΩ„ÄÇÂØπ‰∫éÂÖ®‰∏∫Êï∞Â≠óÁöÑÊï∞ÊçÆÔºåÂéãÁº©ÂèØËÉΩÂ∏¶Êù• 80% ÁöÑÊÄßËÉΩÊçüÂ§±„ÄÇ  int ÂéãÁº©ÈááÁî® 1~5 Â≠óËäÇÂèòÈïøÁºñÁ†ÅÔºålong ÂéãÁº©ÊîØÊåÅ‰∏§ÁßçÊñπÂºèÔºö  SLIÔºàSmall long as intÔºåÈªòËÆ§ÔºâÔºölong Âú® [-1073741824, 1073741823] ËåÉÂõ¥ÂÜÖÁî® 4 Â≠óËäÇÁºñÁ†ÅÔºåÂê¶ÂàôÁî® 9 Â≠óËäÇ„ÄÇPVLÔºàProgressive Variable-length LongÔºâÔºöÈááÁî®ÂèòÈïøÁºñÁ†ÅÔºåË¥üÊï∞ÈÄöËøá (v &lt;&lt; 1) ^ (v &gt;&gt; 63) ËΩ¨Êç¢„ÄÇ  Â¶Ç long Á±ªÂûãÊï∞ÊçÆÊó†Ê≥ïÊúâÊïàÂéãÁº©ÔºåÂª∫ËÆÆÂÖ≥Èó≠ long ÂéãÁº©‰ª•ÊèêÂçáÊÄßËÉΩ„ÄÇ  ","version":"0.11","tagName":"h3"},{"title":"ÂØπË±°Ê∑±Êã∑Ë¥ù‚Äã","type":1,"pageTitle":"Java Â∫èÂàóÂåñ","url":"/zh-CN/docs/0.11/guide/serialization#ÂØπË±°Ê∑±Êã∑Ë¥ù","content":" Ê∑±Êã∑Ë¥ùÁ§∫‰æãÔºö  Fory fory = Fory.builder().withRefCopy(true).build(); SomeClass a = xxx; SomeClass copied = fory.copy(a);   Â¶ÇÈúÄÂøΩÁï•Âæ™ÁéØÂíåÂÖ±‰∫´ÂºïÁî®ÔºàÂç≥ÂØπË±°Âõæ‰∏≠Âêå‰∏ÄÂºïÁî®‰ºöË¢´Êã∑Ë¥ù‰∏∫‰∏çÂêåÂØπË±°ÔºâÔºåÂèØÂÖ≥Èó≠ refCopyÔºö  Fory fory = Fory.builder().withRefCopy(false).build(); SomeClass a = xxx; SomeClass copied = fory.copy(a);   ","version":"0.11","tagName":"h3"},{"title":"Ëá™ÂÆö‰πâÂ∫èÂàóÂåñÂô®‚Äã","type":1,"pageTitle":"Java Â∫èÂàóÂåñ","url":"/zh-CN/docs/0.11/guide/serialization#Ëá™ÂÆö‰πâÂ∫èÂàóÂåñÂô®","content":" Êüê‰∫õÂú∫ÊôØ‰∏ãÈúÄ‰∏∫ÁâπÂÆöÁ±ªÂûãÂÆûÁé∞Ëá™ÂÆö‰πâÂ∫èÂàóÂåñÂô®ÔºåÂ∞§ÂÖ∂ÊòØ JDK writeObject/writeReplace/readObject/readResolve ÊñπÂºèÊïàÁéáËæÉ‰ΩéÊó∂„ÄÇÂ¶Ç‰∏ã‰æãÔºåÈÅøÂÖç Foo#writeObject Ë¢´Ë∞ÉÁî®Ôºö  class Foo { public long f1; private void writeObject(ObjectOutputStream s) throws IOException { System.out.println(f1); s.defaultWriteObject(); } } class FooSerializer extends Serializer&lt;Foo&gt; { public FooSerializer(Fory fory) { super(fory, Foo.class); } @Override public void write(MemoryBuffer buffer, Foo value) { buffer.writeInt64(value.f1); } @Override public Foo read(MemoryBuffer buffer) { Foo foo = new Foo(); foo.f1 = buffer.readInt64(); return foo; } }   Ê≥®ÂÜåËá™ÂÆö‰πâÂ∫èÂàóÂåñÂô®Ôºö  Fory fory = getFory(); fory.registerSerializer(Foo.class, new FooSerializer(fory));   ","version":"0.11","tagName":"h3"},{"title":"ÂÆûÁé∞ÈõÜÂêàÁ±ªÂ∫èÂàóÂåñÂô®‚Äã","type":1,"pageTitle":"Java Â∫èÂàóÂåñ","url":"/zh-CN/docs/0.11/guide/serialization#ÂÆûÁé∞ÈõÜÂêàÁ±ªÂ∫èÂàóÂåñÂô®","content":" ‰∏é Map Á±ª‰ººÔºåÂÆûÁé∞Ëá™ÂÆö‰πâ Collection Á±ªÂûãÁöÑÂ∫èÂàóÂåñÂô®Êó∂ÔºåÈúÄÁªßÊâø CollectionSerializer Êàñ AbstractCollectionSerializer„ÄÇ‰∫åËÄÖÂå∫Âà´Âú®‰∫éÔºåAbstractCollectionSerializer ÂèØÁî®‰∫éÂ∫èÂàóÂåñÁ±ª‰ººÈõÜÂêàÁªìÊûÑ‰ΩÜ‰∏çÊòØ Java Collection Â≠êÁ±ªÁöÑÁ±ªÂûã„ÄÇ  ÂØπ‰∫éÈõÜÂêàÂ∫èÂàóÂåñÂô®ÔºåÊúâ‰∏Ä‰∏™ÁâπÊÆäÂèÇÊï∞ supportCodegenHook ÈúÄË¶ÅÈÖçÁΩÆÔºö  ËÆæ‰∏∫ true Êó∂Ôºö ÂêØÁî®ÈõÜÂêàÂÖÉÁ¥†ÁöÑÈ´òÊïàËÆøÈóÆÂíå JIT ÁºñËØëÔºåÊèêÂçáÊÄßËÉΩÁõ¥Êé•Â∫èÂàóÂåñË∞ÉÁî®ÔºåÂÜÖËÅî map ÁöÑ key-valueÔºåÊó†Âä®ÊÄÅÂàÜÂèëÂºÄÈîÄÊé®ËçêÁî®‰∫éÊ†áÂáÜÈõÜÂêàÁ±ªÂûã ËÆæ‰∏∫ false Êó∂Ôºö ÈááÁî®Êé•Âè£ÊñπÂºèËÆøÈóÆÂÖÉÁ¥†ÔºåÂä®ÊÄÅÂàÜÂèëÔºåÁÅµÊ¥ªÊÄßÊõ¥È´òÈÄÇÂêàÊúâÁâπÊÆäÂ∫èÂàóÂåñÈúÄÊ±ÇÁöÑËá™ÂÆö‰πâÈõÜÂêàÂèØÂ§ÑÁêÜÂ§çÊùÇÈõÜÂêàÂÆûÁé∞  ÊîØÊåÅ JIT ÁöÑÈõÜÂêàÂ∫èÂàóÂåñÂô®ÂÆûÁé∞‚Äã  ÂÆûÁé∞ÊîØÊåÅ JIT ÁöÑÈõÜÂêàÂ∫èÂàóÂåñÂô®Êó∂ÔºåÂèØÂà©Áî® Fory Áé∞ÊúâÁöÑ‰∫åËøõÂà∂Ê†ºÂºèÂíåÈõÜÂêàÂ∫èÂàóÂåñÂü∫Á°ÄËÆæÊñΩ„ÄÇÂÖ≥ÈîÆÂú®‰∫éÊ≠£Á°ÆÂÆûÁé∞ onCollectionWrite Âíå newCollection ÊñπÊ≥ï‰ª•Â§ÑÁêÜÂÖÉÊï∞ÊçÆÔºåÂÖ∂‰ΩôÂÖÉÁ¥†Â∫èÂàóÂåñÁî± Fory Ëá™Âä®ÂÆåÊàê„ÄÇ  Á§∫‰æãÔºö  public class CustomCollectionSerializer&lt;T extends Collection&gt; extends CollectionSerializer&lt;T&gt; { public CustomCollectionSerializer(Fory fory, Class&lt;T&gt; cls) { // supportCodegenHook ÊéßÂà∂ÊòØÂê¶ÂêØÁî® JIT ÁºñËØë super(fory, cls, true); } @Override public Collection onCollectionWrite(MemoryBuffer buffer, T value) { // ÂÜôÂÖ•ÈõÜÂêàÂ§ßÂ∞è buffer.writeVarUint32Small7(value.size()); // ÂèØÂÜôÂÖ•È¢ùÂ§ñÈõÜÂêàÂÖÉÊï∞ÊçÆ return value; } @Override public Collection newCollection(MemoryBuffer buffer) { // ÂàõÂª∫Êñ∞ÈõÜÂêàÂÆû‰æã Collection collection = super.newCollection(buffer); // ËØªÂèñÂπ∂ËÆæÁΩÆÈõÜÂêàÂ§ßÂ∞è int numElements = getAndClearNumElements(); setNumElements(numElements); return collection; } }   Ê≥®ÊÑèÔºöÂÆûÁé∞ newCollection Êó∂ÈúÄË∞ÉÁî® setNumElementsÔºå‰ª•ÂëäÁü• Fory ÂèçÂ∫èÂàóÂåñÂ§öÂ∞ëÂÖÉÁ¥†„ÄÇ  ‰∏çÊîØÊåÅ JIT ÁöÑËá™ÂÆö‰πâÈõÜÂêàÂ∫èÂàóÂåñÂô®‚Äã  ÊúâÊó∂ÈúÄÂ∫èÂàóÂåñÂ∫ïÂ±Ç‰∏∫ÂéüÂßãÊï∞ÁªÑÊàñÊúâÁâπÊÆäÈúÄÊ±ÇÁöÑÈõÜÂêàÁ±ªÂûãÔºåÊ≠§Êó∂ÂèØÁ¶ÅÁî® JITÔºåÁõ¥Êé•ÈáçÂÜô write Âíå read ÊñπÊ≥ï„ÄÇ  ËøôÁßçÊñπÂºèÔºö  ÂÆåÂÖ®ÊéßÂà∂Â∫èÂàóÂåñÊ†ºÂºèÈÄÇÂêàÂéüÂßãÊï∞ÁªÑË∑≥ËøáÈõÜÂêàËø≠‰ª£ÂºÄÈîÄÂèØÁõ¥Êé•ÂÜÖÂ≠òËÆøÈóÆ  Á§∫‰æãÔºàÂéüÂßã int Êï∞ÁªÑÔºâÔºö  class IntList extends AbstractCollection&lt;Integer&gt; { private final int[] elements; private final int size; public IntList(int size) { this.elements = new int[size]; this.size = size; } public IntList(int[] elements, int size) { this.elements = elements; this.size = size; } @Override public Iterator&lt;Integer&gt; iterator() { return new Iterator&lt;Integer&gt;() { private int index = 0; @Override public boolean hasNext() { return index &lt; size; } @Override public Integer next() { if (!hasNext()) throw new NoSuchElementException(); return elements[index++]; } }; } @Override public int size() { return size; } public int get(int index) { if (index &gt;= size) throw new IndexOutOfBoundsException(); return elements[index]; } public void set(int index, int value) { if (index &gt;= size) throw new IndexOutOfBoundsException(); elements[index] = value; } public int[] getElements() { return elements; } } class IntListSerializer extends AbstractCollectionSerializer&lt;IntList&gt; { public IntListSerializer(Fory fory) { // Á¶ÅÁî® JITÔºåÂÆåÂÖ®Ëá™ÂÆö‰πâÂ∫èÂàóÂåñ super(fory, IntList.class, false); } @Override public void write(MemoryBuffer buffer, IntList value) { buffer.writeVarUint32Small7(value.size()); int[] elements = value.getElements(); for (int i = 0; i &lt; value.size(); i++) { buffer.writeVarInt32(elements[i]); } } @Override public IntList read(MemoryBuffer buffer) { int size = buffer.readVarUint32Small7(); int[] elements = new int[size]; for (int i = 0; i &lt; size; i++) { elements[i] = buffer.readVarInt32(); } return new IntList(elements, size); } // JIT Á¶ÅÁî®Êó∂‰ª•‰∏ãÊñπÊ≥ï‰∏ç‰ΩøÁî® @Override public Collection onCollectionWrite(MemoryBuffer buffer, IntList value) { throw new UnsupportedOperationException(); } @Override public Collection newCollection(MemoryBuffer buffer) { throw new UnsupportedOperationException(); } @Override public IntList onCollectionRead(Collection collection) { throw new UnsupportedOperationException(); } }   ÂÖ≥ÈîÆÁÇπËØ¥ÊòéÔºö  ÂéüÂßãÊï∞ÁªÑÂ≠òÂÇ®ÔºöÁõ¥Êé•Áî® int[]ÔºåÈÅøÂÖçË£ÖÁÆ±/ÊãÜÁÆ±ÔºåÂÜÖÂ≠òÂ∏ÉÂ±ÄÈ´òÊïà„ÄÇÁõ¥Êé•Â∫èÂàóÂåñÔºöÂÖàÂÜô sizeÔºåÂÜçÂÜôÂéüÂßãÂÄºÔºåÊó†ÈúÄËø≠‰ª£ÔºåÊó†Ë£ÖÁÆ±/ÊãÜÁÆ±„ÄÇÁõ¥Êé•ÂèçÂ∫èÂàóÂåñÔºöÂÖàËØª sizeÔºåÂÜçËØªÂéüÂßãÂÄºÂ°´ÂÖÖÊï∞ÁªÑÔºåÊúÄÂêéÊûÑÈÄ†ÂØπË±°„ÄÇÁ¶ÅÁî® JITÔºösupportCodegenHook=falseÔºåÈáçÂÜô write/readÔºåÂÆåÂÖ®Ëá™ÂÆö‰πâÊ†ºÂºè„ÄÇ  ÈÄÇÁî®Âú∫ÊôØÔºö  Âè™Â§ÑÁêÜÂéüÂßãÁ±ªÂûãÊÄßËÉΩÊûÅËá¥Ë¶ÅÊ±ÇÈúÄÊúÄÂ∞èÂÜÖÂ≠òÂºÄÈîÄÊúâÁâπÊÆäÂ∫èÂàóÂåñÈúÄÊ±Ç  ‰ΩøÁî®Á§∫‰æãÔºö  IntList list = new IntList(3); list.set(0, 1); list.set(1, 2); list.set(2, 3); byte[] bytes = fory.serialize(list); IntList newList = (IntList) fory.deserialize(bytes);   ËôΩÁÑ∂ÊîæÂºÉ‰∫Ü Fory ÁöÑÈÉ®ÂàÜ‰ºòÂåñÔºå‰ΩÜÂØπÂéüÂßãÁ±ªÂûãÂíåÁõ¥Êé•Êï∞ÁªÑËÆøÈóÆÂú∫ÊôØÊÄßËÉΩÊûÅÈ´ò„ÄÇ  ÂÆûÁé∞ collection-like Á±ªÂûãÂ∫èÂàóÂåñÂô®‚Äã  ÊúâÊó∂ÈúÄ‰∏∫Á±ª‰ººÈõÜÂêà‰ΩÜÈùûÊ†áÂáÜ Java Collection ÁöÑÁ±ªÂûãÂÆûÁé∞Â∫èÂàóÂåñÂô®„ÄÇÂéüÂàôÂ¶Ç‰∏ãÔºö  ÁªßÊâø AbstractCollectionSerializerÂêØÁî® JIT ‰ºòÂåñÔºàsupportCodegenHook=trueÔºâÈÄöËøáËßÜÂõæÁ±ªÈ´òÊïàËÆøÈóÆÂÖÉÁ¥†Ê≠£Á°ÆÁÆ°ÁêÜ size  Á§∫‰æãÔºö  class CustomCollectionLike { private final Object[] elements; private final int size; public CustomCollectionLike(int size) { this.elements = new Object[size]; this.size = size; } public CustomCollectionLike(Object[] elements, int size) { this.elements = elements; this.size = size; } public Object get(int index) { if (index &gt;= size) throw new IndexOutOfBoundsException(); return elements[index]; } public int size() { return size; } public Object[] getElements() { return elements; } } class CollectionView extends AbstractCollection&lt;Object&gt; { private final Object[] elements; private final int size; private int writeIndex; public CollectionView(CustomCollectionLike collection) { this.elements = collection.getElements(); this.size = collection.size(); } public CollectionView(int size) { this.size = size; this.elements = new Object[size]; } @Override public Iterator&lt;Object&gt; iterator() { return new Iterator&lt;Object&gt;() { private int index = 0; @Override public boolean hasNext() { return index &lt; size; } @Override public Object next() { if (!hasNext()) throw new NoSuchElementException(); return elements[index++]; } }; } @Override public boolean add(Object element) { if (writeIndex &gt;= size) throw new IllegalStateException(&quot;Collection is full&quot;); elements[writeIndex++] = element; return true; } @Override public int size() { return size; } public Object[] getElements() { return elements; } } class CustomCollectionSerializer extends AbstractCollectionSerializer&lt;CustomCollectionLike&gt; { public CustomCollectionSerializer(Fory fory) { super(fory, CustomCollectionLike.class, true); } @Override public Collection onCollectionWrite(MemoryBuffer buffer, CustomCollectionLike value) { buffer.writeVarUint32Small7(value.size()); return new CollectionView(value); } @Override public Collection newCollection(MemoryBuffer buffer) { int numElements = buffer.readVarUint32Small7(); setNumElements(numElements); return new CollectionView(numElements); } @Override public CustomCollectionLike onCollectionRead(Collection collection) { CollectionView view = (CollectionView) collection; return new CustomCollectionLike(view.getElements(), view.size()); } }   ÂÖ≥ÈîÆÁÇπËØ¥ÊòéÔºö  Êï∞ÁªÑÂ≠òÂÇ®ÔºåÂÆöÈïøÔºåÁõ¥Êé•ËÆøÈóÆËßÜÂõæÁ±ªÁªßÊâø AbstractCollectionÔºåÂÆûÁé∞Ëø≠‰ª£Âíå addÊîØÊåÅ JIT ‰ºòÂåñÔºåÊï∞ÁªÑÈõ∂Êã∑Ë¥ùÊÄßËÉΩ‰ºòÂÖàÔºåÁÅµÊ¥ªÊÄßÁï•‰Ωé    Â¶ÇÈúÄÁªßÁª≠Ë°•ÂÖÖ map-like Á±ªÂûã„ÄÅÊ≥®ÂÜåËá™ÂÆö‰πâÂ∫èÂàóÂåñÂô®„ÄÅExternalizable ÊîØÊåÅÁ≠âÂÜÖÂÆπÔºåËØ∑ÂõûÂ§ç&quot;ÁªßÁª≠&quot;ÔºÅ  ","version":"0.11","tagName":"h3"},{"title":"Ëá™ÂÆö‰πâ Map Â∫èÂàóÂåñÂô®‚Äã","type":1,"pageTitle":"Java Â∫èÂàóÂåñ","url":"/zh-CN/docs/0.11/guide/serialization#Ëá™ÂÆö‰πâ-map-Â∫èÂàóÂåñÂô®","content":" Ëá™ÂÆö‰πâ Map Á±ªÂûãÂ∫èÂàóÂåñÂô®ÈúÄÁªßÊâø MapSerializer Êàñ AbstractMapSerializer„ÄÇ‰∫åËÄÖÂå∫Âà´Á±ª‰ººÈõÜÂêàÂ∫èÂàóÂåñÂô®„ÄÇ  supportCodegenHook=trueÔºöÊé®ËçêÁî®‰∫éÊ†áÂáÜ MapÔºåÊîØÊåÅ JIT ‰ºòÂåñsupportCodegenHook=falseÔºöÈÄÇÂêàÁâπÊÆäÈúÄÊ±ÇÔºåÈúÄÊâãÂä®ÂÆûÁé∞Â∫èÂàóÂåñÈÄªËæë  ÊîØÊåÅ JIT ÁöÑ Map Â∫èÂàóÂåñÂô®Á§∫‰æã‚Äã  public class CustomMapSerializer&lt;T extends Map&gt; extends MapSerializer&lt;T&gt; { public CustomMapSerializer(Fory fory, Class&lt;T&gt; cls) { super(fory, cls, true); } @Override public Map onMapWrite(MemoryBuffer buffer, T value) { buffer.writeVarUint32Small7(value.size()); return value; } @Override public Map newMap(MemoryBuffer buffer) { int numElements = buffer.readVarUint32Small7(); setNumElements(numElements); return new HashMap(numElements); } }   ‰∏çÊîØÊåÅ JIT ÁöÑËá™ÂÆö‰πâ Map Â∫èÂàóÂåñÂô®‚Äã  ÈÄÇÁî®‰∫éÊúâÁâπÊÆäÂ≠óÊÆµÊàñËá™ÂÆö‰πâ‰∫åËøõÂà∂Ê†ºÂºèÁöÑ Map Á±ªÂûã„ÄÇ  class FixedValueMap extends AbstractMap&lt;String, Integer&gt; { // ... ÁúÅÁï•ÂÆûÁé∞ ... } class FixedValueMapSerializer extends AbstractMapSerializer&lt;FixedValueMap&gt; { public FixedValueMapSerializer(Fory fory) { super(fory, FixedValueMap.class, false); } @Override public void write(MemoryBuffer buffer, FixedValueMap value) { buffer.writeInt32(value.getFixedValue()); buffer.writeVarUint32Small7(value.getKeys().size()); for (String key : value.getKeys()) { buffer.writeString(key); } } @Override public FixedValueMap read(MemoryBuffer buffer) { int fixedValue = buffer.readInt32(); int size = buffer.readVarUint32Small7(); Set&lt;String&gt; keys = new HashSet&lt;&gt;(size); for (int i = 0; i &lt; size; i++) { keys.add(buffer.readString()); } return new FixedValueMap(keys, fixedValue); } @Override public Map onMapWrite(MemoryBuffer buffer, FixedValueMap value) { throw new UnsupportedOperationException(); } @Override public FixedValueMap onMapRead(Map map) { throw new UnsupportedOperationException(); } @Override public FixedValueMap onMapCopy(Map map) { throw new UnsupportedOperationException(); } }   ","version":"0.11","tagName":"h3"},{"title":"Ê≥®ÂÜåËá™ÂÆö‰πâÂ∫èÂàóÂåñÂô®‚Äã","type":1,"pageTitle":"Java Â∫èÂàóÂåñ","url":"/zh-CN/docs/0.11/guide/serialization#Ê≥®ÂÜåËá™ÂÆö‰πâÂ∫èÂàóÂåñÂô®","content":" ÂÆûÁé∞Ëá™ÂÆö‰πâÂ∫èÂàóÂåñÂô®ÂêéÔºåÈúÄÈÄöËøáÂ¶Ç‰∏ãÊñπÂºèÊ≥®ÂÜåÔºö  Fory fory = Fory.builder() .withLanguage(Language.JAVA) .build(); // Ê≥®ÂÜå Map Â∫èÂàóÂåñÂô® fory.registerSerializer(CustomMap.class, new CustomMapSerializer&lt;&gt;(fory, CustomMap.class)); // Ê≥®ÂÜåÈõÜÂêàÂ∫èÂàóÂåñÂô® fory.registerSerializer(CustomCollection.class, new CustomCollectionSerializer&lt;&gt;(fory, CustomCollection.class));   Ê≥®ÊÑè‰∫ãÈ°πÔºö ÂßãÁªàÁªßÊâøÂêàÈÄÇÁöÑÂü∫Á±ªÔºàMap Áî® MapSerializer/AbstractMapSerializerÔºåÈõÜÂêàÁî® CollectionSerializer/AbstractCollectionSerializerÔºâÊ†πÊçÆ supportCodegenHook ÈÄâÊã©ÊÄßËÉΩ‰∏éÁÅµÊ¥ªÊÄßÂ¶ÇÈúÄÂºïÁî®Ë∑üË∏™ÔºåÈúÄÊ≠£Á°ÆÂ§ÑÁêÜsupportCodegenHook=true Êó∂ÔºåÈúÄÁî® setNumElements/getAndClearNumElements ÁÆ°ÁêÜÂÖÉÁ¥†Êï∞Èáè  ","version":"0.11","tagName":"h3"},{"title":"ÂÆâÂÖ®‰∏éÁ±ªÊ≥®ÂÜå‚Äã","type":1,"pageTitle":"Java Â∫èÂàóÂåñ","url":"/zh-CN/docs/0.11/guide/serialization#ÂÆâÂÖ®‰∏éÁ±ªÊ≥®ÂÜå","content":" ForyBuilder#requireClassRegistration ÂèØÂÖ≥Èó≠Á±ªÊ≥®ÂÜåÊ†°È™åÔºåÂÖÅËÆ∏ÂèçÂ∫èÂàóÂåñÊú™Áü•Á±ªÂûãÔºåÁÅµÊ¥ª‰ΩÜÊúâÂÆâÂÖ®È£éÈô©„ÄÇ  Â¶ÇÊó†Ê≥ïÁ°Æ‰øùÁéØÂ¢ÉÂÆâÂÖ®ÔºåÂàáÂãøÂÖ≥Èó≠Á±ªÊ≥®ÂÜå„ÄÇ ÂèçÂ∫èÂàóÂåñÊú™Áü•/‰∏çÂèó‰ø°‰ªªÁ±ªÂûãÊó∂ÔºåÊÅ∂ÊÑè‰ª£Á†ÅÂèØËÉΩÂú® init/equals/hashCode Á≠âÊñπÊ≥ï‰∏≠Ë¢´ÊâßË°å„ÄÇ  Á±ªÊ≥®ÂÜå‰∏ç‰ªÖÊèêÂçáÂÆâÂÖ®ÊÄßÔºåËøòÂèØÂáèÂ∞ëÁ±ªÂêçÂ∫èÂàóÂåñÂºÄÈîÄ„ÄÇÊ≥®ÂÜåÈ°∫Â∫èÈúÄ‰øùÊåÅÂ∫èÂàóÂåñÁ´Ø‰∏éÂèçÂ∫èÂàóÂåñÁ´Ø‰∏ÄËá¥„ÄÇ  Fory fory = xxx; fory.register(SomeClass.class); fory.register(SomeClass1.class, 200);   Â¶ÇÈúÄÂÖ≥Èó≠Ê≥®ÂÜåÊ†°È™åÔºåÂèØÈÄöËøá ClassResolver#setClassChecker Ëá™ÂÆö‰πâÂÖÅËÆ∏ÁöÑÁ±ªÂêçÔºö  Fory fory = xxx; fory.getClassResolver().setClassChecker( (classResolver, className) -&gt; className.startsWith(&quot;org.example.&quot;));   Êàñ‰ΩøÁî® AllowListCheckerÔºö  AllowListChecker checker = new AllowListChecker(AllowListChecker.CheckLevel.STRICT); ThreadSafeFory fory = new ThreadLocalFory(classLoader -&gt; { Fory f = Fory.builder().requireClassRegistration(true).withClassLoader(classLoader).build(); f.getClassResolver().setClassChecker(checker); checker.addListener(f.getClassResolver()); return f; }); checker.allowClass(&quot;org.example.*&quot;);   Fory Êèê‰æõ‰∫Ü org.apache.fory.resolver.AllowListCheckerÔºå‰πüÂèØËá™Ë°åÂÆûÁé∞Êõ¥Â§çÊùÇÁöÑÊ†°È™åÈÄªËæë„ÄÇ  ","version":"0.11","tagName":"h3"},{"title":"ÊåâÂêçÁß∞Ê≥®ÂÜåÁ±ª‚Äã","type":1,"pageTitle":"Java Â∫èÂàóÂåñ","url":"/zh-CN/docs/0.11/guide/serialization#ÊåâÂêçÁß∞Ê≥®ÂÜåÁ±ª","content":" Êåâ id Ê≥®ÂÜåÁ±ªÊÄßËÉΩÂíå‰ΩìÁßØÊõ¥‰ºòÔºå‰ΩÜÂ¶ÇÈúÄÁÆ°ÁêÜÂ§ßÈáèÁ±ªÂûã idÔºåÂèØÁî® register(Class&lt;?&gt; cls, String namespace, String typeName) ÊåâÂêçÁß∞Ê≥®ÂÜåÔºö  fory.register(Foo.class, &quot;demo&quot;, &quot;Foo&quot;);   Â¶ÇÊó†ÈáçÂêçÔºånamespace ÂèØ‰∏∫Á©∫‰ª•ÂáèÂ∞ë‰ΩìÁßØ„ÄÇ  ‰∏çÂª∫ËÆÆÁî®ÂêçÁß∞Ê≥®ÂÜåÔºåÂõ†Â∫èÂàóÂåñ‰ΩìÁßØ‰ºöÊòæËëóÂ¢ûÂä†„ÄÇ  ","version":"0.11","tagName":"h3"},{"title":"Èõ∂Êã∑Ë¥ùÂ∫èÂàóÂåñ‚Äã","type":1,"pageTitle":"Java Â∫èÂàóÂåñ","url":"/zh-CN/docs/0.11/guide/serialization#Èõ∂Êã∑Ë¥ùÂ∫èÂàóÂåñ","content":" Apache Fory‚Ñ¢ ÊîØÊåÅÈõ∂Êã∑Ë¥ùÂ∫èÂàóÂåñÔºåÂèØÈ´òÊïàÂ§ÑÁêÜÂ§ßÂØπË±°ÊàñÁõ¥Êé•ÂÜÖÂ≠òÁºìÂÜ≤Âå∫„ÄÇÁ§∫‰æãÔºö  import org.apache.fory.*; import org.apache.fory.config.*; import org.apache.fory.serializer.BufferObject; import org.apache.fory.memory.MemoryBuffer; import java.util.*; import java.util.stream.Collectors; public class ZeroCopyExample { // Ê≥®ÊÑèÔºöFory ÂÆû‰æãÂ∫îÂ§çÁî®Ôºå‰∏çË¶ÅÊØèÊ¨°Êñ∞Âª∫ static Fory fory = Fory.builder() .withLanguage(Language.JAVA) .build(); // mvn exec:java -Dexec.mainClass=&quot;io.ray.fory.examples.ZeroCopyExample&quot; public static void main(String[] args) { List&lt;Object&gt; list = Arrays.asList(&quot;str&quot;, new byte[1000], new int[100], new double[100]); Collection&lt;BufferObject&gt; bufferObjects = new ArrayList&lt;&gt;(); byte[] bytes = fory.serialize(list, e -&gt; !bufferObjects.add(e)); List&lt;MemoryBuffer&gt; buffers = bufferObjects.stream() .map(BufferObject::toBuffer).collect(Collectors.toList()); System.out.println(fory.deserialize(bytes, buffers)); } }   ","version":"0.11","tagName":"h3"},{"title":"ÂÖÉÊï∞ÊçÆÂÖ±‰∫´ÔºàMeta SharingÔºâ‚Äã","type":1,"pageTitle":"Java Â∫èÂàóÂåñ","url":"/zh-CN/docs/0.11/guide/serialization#ÂÖÉÊï∞ÊçÆÂÖ±‰∫´meta-sharing","content":" Apache Fory‚Ñ¢ ÊîØÊåÅÂú®Âêå‰∏Ä‰∏ä‰∏ãÊñáÔºàÂ¶Ç TCP ËøûÊé•ÔºâÂÜÖÂÖ±‰∫´Á±ªÂûãÂÖÉÊï∞ÊçÆÔºàÁ±ªÂêç„ÄÅÂ≠óÊÆµÂêç„ÄÅÊúÄÁªàÂ≠óÊÆµÁ±ªÂûãÁ≠âÔºâ„ÄÇÈ¶ñÊ¨°Â∫èÂàóÂåñÊó∂ÂÖÉÊï∞ÊçÆ‰ºöÂèëÈÄÅÂà∞ÂØπÁ´ØÔºåÂØπÁ´ØÂèØÂü∫‰∫éÂÖÉÊï∞ÊçÆÈáçÂª∫ÂèçÂ∫èÂàóÂåñÂô®ÔºåÂêéÁª≠Â∫èÂàóÂåñÊó†ÈúÄÈáçÂ§ç‰º†ËæìÂÖÉÊï∞ÊçÆÔºå‰ªéËÄåÂáèÂ∞ëÁΩëÁªúÊµÅÈáèÂπ∂Ëá™Âä®ÊîØÊåÅÁ±ªÂûãÂâçÂêë/ÂêéÂêëÂÖºÂÆπ„ÄÇ  // Fory.builder() // .withLanguage(Language.JAVA) // .withRefTracking(false) // // Ë∑®Â∫èÂàóÂåñÂÖ±‰∫´ÂÖÉÊï∞ÊçÆ // .withMetaContextShare(true) // ÈùûÁ∫øÁ®ãÂÆâÂÖ® Fory MetaContext context = xxx; fory.getSerializationContext().setMetaContext(context); byte[] bytes = fory.serialize(o); // ÈùûÁ∫øÁ®ãÂÆâÂÖ® Fory MetaContext context = xxx; fory.getSerializationContext().setMetaContext(context); fory.deserialize(bytes); // Á∫øÁ®ãÂÆâÂÖ® Fory fory.setClassLoader(beanA.getClass().getClassLoader()); byte[] serialized = fory.execute( f -&gt; { f.getSerializationContext().setMetaContext(context); return f.serialize(beanA); } ); // Á∫øÁ®ãÂÆâÂÖ® Fory fory.setClassLoader(beanA.getClass().getClassLoader()); Object newObj = fory.execute( f -&gt; { f.getSerializationContext().setMetaContext(context); return f.deserialize(serialized); } );   ","version":"0.11","tagName":"h3"},{"title":"ÂèçÂ∫èÂàóÂåñ‰∏çÂ≠òÂú®ÁöÑÁ±ª‚Äã","type":1,"pageTitle":"Java Â∫èÂàóÂåñ","url":"/zh-CN/docs/0.11/guide/serialization#ÂèçÂ∫èÂàóÂåñ‰∏çÂ≠òÂú®ÁöÑÁ±ª","content":" Apache Fory‚Ñ¢ ÊîØÊåÅÂèçÂ∫èÂàóÂåñ‰∏çÂ≠òÂú®ÁöÑÁ±ª„ÄÇÈÄöËøá ForyBuilder#deserializeNonexistentClass(true) ÂêØÁî®„ÄÇÂΩìÂêØÁî®‰∏îÂÖÉÊï∞ÊçÆÂÖ±‰∫´ÂºÄÂêØÊó∂ÔºåFory ‰ºöÂ∞ÜËØ•Á±ªÂûãÁöÑÊï∞ÊçÆÂ≠òÂÇ®‰∏∫ Map ÁöÑÊÉ∞ÊÄßÂ≠êÁ±ªÔºåÈÅøÂÖçÂèçÂ∫èÂàóÂåñÊó∂Â°´ÂÖÖ Map ÁöÑÈáçÊéíÂºÄÈîÄÔºåÊèêÂçáÊÄßËÉΩ„ÄÇÂ¶ÇÊûúÊï∞ÊçÆË¢´ÂèëÈÄÅÂà∞Âè¶‰∏Ä‰∏™ËøõÁ®ã‰∏îËØ•Á±ªÂ≠òÂú®ÔºåÂàôÂèØÊó†ÊçüËøòÂéü‰∏∫ÂéüÁ±ªÂûãÂØπË±°„ÄÇ  Ëã•Êú™ÂêØÁî®ÂÖÉÊï∞ÊçÆÂÖ±‰∫´ÔºåÂàôÊñ∞Á±ªÊï∞ÊçÆ‰ºöË¢´Ë∑≥ËøáÔºåËøîÂõû NonexistentSkipClass Âç†‰ΩçÂØπË±°„ÄÇ  ","version":"0.11","tagName":"h3"},{"title":"Á±ªÂûãÊò†Â∞ÑÔºàË∑®Á±ªÂûãÊ∑±Êã∑Ë¥ù/Êò†Â∞ÑÔºâ‚Äã","type":1,"pageTitle":"Java Â∫èÂàóÂåñ","url":"/zh-CN/docs/0.11/guide/serialization#Á±ªÂûãÊò†Â∞ÑË∑®Á±ªÂûãÊ∑±Êã∑Ë¥ùÊò†Â∞Ñ","content":" Apache Fory‚Ñ¢ ÊîØÊåÅÂ∞Ü‰∏Ä‰∏™Á±ªÂûãÁöÑÂØπË±°Ê∑±Êã∑Ë¥ù/Êò†Â∞Ñ‰∏∫Âè¶‰∏Ä‰∏™Á±ªÂûã„ÄÇÊ≥®ÊÑè‰∫ãÈ°πÔºö  ËØ•Êò†Â∞Ñ‰ºöÊâßË°åÊ∑±Êã∑Ë¥ùÔºåÊâÄÊúâÊò†Â∞ÑÂ≠óÊÆµ‰ºöÂÖàÂ∫èÂàóÂåñ‰∏∫‰∫åËøõÂà∂ÔºåÂÜçÂèçÂ∫èÂàóÂåñ‰∏∫ÁõÆÊ†áÁ±ªÂûã„ÄÇÊâÄÊúâÁªìÊûÑ‰ΩìÁ±ªÂûãÂøÖÈ°ªÁî®Áõ∏Âêå ID Ê≥®ÂÜåÔºåÂê¶ÂàôÊó†Ê≥ïÊ≠£Á°ÆÊò†Â∞Ñ„ÄÇÂä°ÂøÖ‰øùËØÅÂ∫èÂàóÂåñÂíåÂèçÂ∫èÂàóÂåñÁ´ØÊ≥®ÂÜåÈ°∫Â∫è‰∏ÄËá¥„ÄÇ  Á§∫‰æãÔºö  public class StructMappingExample { static class Struct1 { int f1; String f2; public Struct1(int f1, String f2) { this.f1 = f1; this.f2 = f2; } } static class Struct2 { int f1; String f2; double f3; } static ThreadSafeFory fory1 = Fory.builder() .withCompatibleMode(CompatibleMode.COMPATIBLE).buildThreadSafeFory(); static ThreadSafeFory fory2 = Fory.builder() .withCompatibleMode(CompatibleMode.COMPATIBLE).buildThreadSafeFory(); static { fory1.register(Struct1.class); fory2.register(Struct2.class); } public static void main(String[] args) { Struct1 struct1 = new Struct1(10, &quot;abc&quot;); Struct2 struct2 = (Struct2) fory2.deserialize(fory1.serialize(struct1)); Assert.assertEquals(struct2.f1, struct1.f1); Assert.assertEquals(struct2.f2, struct1.f2); struct1 = (Struct1) fory1.deserialize(fory2.serialize(struct2)); Assert.assertEquals(struct1.f1, struct2.f1); Assert.assertEquals(struct1.f2, struct2.f2); } }   ","version":"0.11","tagName":"h3"},{"title":"ËøÅÁßª‚Äã","type":1,"pageTitle":"Java Â∫èÂàóÂåñ","url":"/zh-CN/docs/0.11/guide/serialization#ËøÅÁßª","content":" ","version":"0.11","tagName":"h2"},{"title":"JDK Â∫èÂàóÂåñËøÅÁßª‚Äã","type":1,"pageTitle":"Java Â∫èÂàóÂåñ","url":"/zh-CN/docs/0.11/guide/serialization#jdk-Â∫èÂàóÂåñËøÅÁßª","content":" Â¶ÇÊûú‰πãÂâç‰ΩøÁî® JDK Â∫èÂàóÂåñÔºå‰∏îÊó†Ê≥ïÂêåÊó∂ÂçáÁ∫ßÂÆ¢Êà∑Á´ØÂíåÊúçÂä°Á´ØÔºàÂ¶ÇÁ∫ø‰∏äÂ∫îÁî®Â∏∏ËßÅÂú∫ÊôØÔºâÔºåFory Êèê‰æõ org.apache.fory.serializer.JavaSerializer.serializedByJDK Â∑•ÂÖ∑ÊñπÊ≥ïÂà§Êñ≠‰∫åËøõÂà∂Êï∞ÊçÆÊòØÂê¶‰∏∫ JDK Â∫èÂàóÂåñÁîüÊàê„ÄÇÂèØÁî®Â¶Ç‰∏ãÊ®°ÂºèÂÆûÁé∞ÂçèËÆÆÂÖºÂÆπÔºåÊîØÊåÅÂºÇÊ≠•ÊªöÂä®ÂçáÁ∫ßÔºö  if (JavaSerializer.serializedByJDK(bytes)) { ObjectInputStream objectInputStream=xxx; return objectInputStream.readObject(); } else { return fory.deserialize(bytes); }   ","version":"0.11","tagName":"h3"},{"title":"Apache Fory‚Ñ¢ ÁâàÊú¨ÂçáÁ∫ß‚Äã","type":1,"pageTitle":"Java Â∫èÂàóÂåñ","url":"/zh-CN/docs/0.11/guide/serialization#apache-fory-ÁâàÊú¨ÂçáÁ∫ß","content":" ÁõÆÂâç‰ªÖ‰øùËØÅÂ∞èÁâàÊú¨Èó¥ÁöÑ‰∫åËøõÂà∂ÂÖºÂÆπÊÄß„ÄÇ‰æãÂ¶ÇÔºåfory v0.11.1 ÂçáÁ∫ßÂà∞ v0.11.2 ÂèØÁõ¥Êé•ÂÖºÂÆπÔºåÂçáÁ∫ßÂà∞ v0.12.0 Âàô‰∏ç‰øùËØÅÂÖºÂÆπ„ÄÇÂ§ßÂ§öÊï∞Âú∫ÊôØÊó†ÈúÄÈ¢ëÁπÅÂçáÁ∫ß‰∏ªÁâàÊú¨ÔºåÂΩìÂâçÁâàÊú¨Â∑≤Ë∂≥Â§üÈ´òÊïàÁ¥ßÂáëÔºåËÄÅÁâàÊú¨‰πü‰ºöÊåÅÁª≠Áª¥Êä§ bugfix„ÄÇ  ","version":"0.11","tagName":"h3"},{"title":"ÊïÖÈöúÊéíÊü•‚Äã","type":1,"pageTitle":"Java Â∫èÂàóÂåñ","url":"/zh-CN/docs/0.11/guide/serialization#ÊïÖÈöúÊéíÊü•","content":" ","version":"0.11","tagName":"h2"},{"title":"Á±ªÁªìÊûÑ‰∏ç‰∏ÄËá¥‰∏éÁâàÊú¨Ê†°È™å‚Äã","type":1,"pageTitle":"Java Â∫èÂàóÂåñ","url":"/zh-CN/docs/0.11/guide/serialization#Á±ªÁªìÊûÑ‰∏ç‰∏ÄËá¥‰∏éÁâàÊú¨Ê†°È™å","content":" Ëã•Êú™ËÆæÁΩÆ CompatibleMode ‰∏∫ org.apache.fory.config.CompatibleMode.COMPATIBLEÔºåÂá∫Áé∞Â∫èÂàóÂåñÂºÇÂ∏∏ÔºåÂèØËÉΩÊòØÂ∫èÂàóÂåñÁ´ØÂíåÂèçÂ∫èÂàóÂåñÁ´ØÁ±ªÁªìÊûÑ‰∏ç‰∏ÄËá¥„ÄÇ  Ê≠§Êó∂ÂèØÁî® ForyBuilder#withClassVersionCheck ÂàõÂª∫ Fory ËøõË°åÊ†°È™åÔºåËã•ÂèçÂ∫èÂàóÂåñÊäõÂá∫ org.apache.fory.exception.ClassNotCompatibleExceptionÔºåËØ¥ÊòéÁ±ªÁªìÊûÑ‰∏ç‰∏ÄËá¥ÔºåÂ∫îÊîπÁî® ForyBuilder#withCompaibleMode(CompatibleMode.COMPATIBLE)„ÄÇ  CompatibleMode.COMPATIBLE ‰ºöÂ∏¶Êù•‰∏ÄÂÆöÊÄßËÉΩÂíå‰ΩìÁßØÂºÄÈîÄÔºåËã•Á±ªÁªìÊûÑÂßãÁªà‰∏ÄËá¥Ôºå‰∏çÂª∫ËÆÆÈªòËÆ§ÂºÄÂêØ„ÄÇ  ","version":"0.11","tagName":"h3"},{"title":"POJO Ë∑®Á±ªÂûãÂèçÂ∫èÂàóÂåñ‚Äã","type":1,"pageTitle":"Java Â∫èÂàóÂåñ","url":"/zh-CN/docs/0.11/guide/serialization#pojo-Ë∑®Á±ªÂûãÂèçÂ∫èÂàóÂåñ","content":" Apache Fory‚Ñ¢ ÊîØÊåÅÂ∞Ü‰∏Ä‰∏™ POJO Â∫èÂàóÂåñÂêéÂèçÂ∫èÂàóÂåñ‰∏∫‰∏çÂêåÁªìÊûÑÁöÑ POJO„ÄÇÊ≠§Êó∂ÈúÄÂ∞Ü CompatibleMode ËÆæ‰∏∫ org.apache.fory.config.CompatibleMode.COMPATIBLE„ÄÇ  public class DeserializeIntoType { static class Struct1 { int f1; String f2; public Struct1(int f1, String f2) { this.f1 = f1; this.f2 = f2; } } static class Struct2 { int f1; String f2; double f3; } static ThreadSafeFory fory = Fory.builder() .withCompatibleMode(CompatibleMode.COMPATIBLE).buildThreadSafeFory(); public static void main(String[] args) { Struct1 struct1 = new Struct1(10, &quot;abc&quot;); byte[] data = fory.serializeJavaObject(struct1); Struct2 struct2 = (Struct2) fory.deserializeJavaObject(bytes, Struct2.class); } }   ","version":"0.11","tagName":"h3"},{"title":"ÂèçÂ∫èÂàóÂåñ API ‰ΩøÁî®ÈîôËØØ‚Äã","type":1,"pageTitle":"Java Â∫èÂàóÂåñ","url":"/zh-CN/docs/0.11/guide/serialization#ÂèçÂ∫èÂàóÂåñ-api-‰ΩøÁî®ÈîôËØØ","content":" Áî® Fory#serialize Â∫èÂàóÂåñÁöÑÂØπË±°ÔºåÈúÄÁî® Fory#deserialize ÂèçÂ∫èÂàóÂåñÔºå‰∏çËÉΩÁî® Fory#deserializeJavaObject„ÄÇÁî® Fory#serializeJavaObject Â∫èÂàóÂåñÁöÑÂØπË±°ÔºåÈúÄÁî® Fory#deserializeJavaObject ÂèçÂ∫èÂàóÂåñÔºå‰∏çËÉΩÁî® Fory#deserializeJavaObjectAndClass Êàñ Fory#deserialize„ÄÇÁî® Fory#serializeJavaObjectAndClass Â∫èÂàóÂåñÁöÑÂØπË±°ÔºåÈúÄÁî® Fory#deserializeJavaObjectAndClass ÂèçÂ∫èÂàóÂåñÔºå‰∏çËÉΩÁî®ÂÖ∂‰ªñ API„ÄÇ ","version":"0.11","tagName":"h3"},{"title":"Apache Fory‚Ñ¢ ‰ΩøÁî®","type":0,"sectionRef":"#","url":"/zh-CN/docs/0.11/start/usage","content":"","keywords":"","version":"0.11"},{"title":"Java Â∫èÂàóÂåñ‚Äã","type":1,"pageTitle":"Apache Fory‚Ñ¢ ‰ΩøÁî®","url":"/zh-CN/docs/0.11/start/usage#java-Â∫èÂàóÂåñ","content":" import java.util.List; import java.util.Arrays; import io.fory.*; public class Example { public static void main(String[] args) { SomeClass object = new SomeClass(); // Note that Fory instances should be reused between // multiple serializations of different objects. Fory fory = Fory.builder().withLanguage(Language.JAVA) // Allow to deserialize objects unknown types, // more flexible but less secure. // .requireClassRegistration(false) .build(); // Registering types can reduce class name serialization overhead, but not mandatory. // If secure mode enabled, all custom types must be registered. fory.register(SomeClass.class); byte[] bytes = fory.serialize(object); System.out.println(fory.deserialize(bytes)); } }   ","version":"0.11","tagName":"h2"},{"title":"ScalaÂ∫èÂàóÂåñ‚Äã","type":1,"pageTitle":"Apache Fory‚Ñ¢ ‰ΩøÁî®","url":"/zh-CN/docs/0.11/start/usage#scalaÂ∫èÂàóÂåñ","content":" import org.apache.fory.Fory import org.apache.fory.serializer.scala.ScalaSerializers case class Person(name: String, id: Long, github: String) case class Point(x : Int, y : Int, z : Int) object ScalaExample { val fory: Fory = Fory.builder().withScalaOptimizationEnabled(true).build() // Register optimized fory serializers for scala ScalaSerializers.registerSerializers(fory) fory.register(classOf[Person]) fory.register(classOf[Point]) def main(args: Array[String]): Unit = { val p = Person(&quot;Shawn Yang&quot;, 1, &quot;https://github.com/chaokunyang&quot;) println(fory.deserialize(fory.serialize(p))) println(fory.deserialize(fory.serialize(Point(1, 2, 3)))) } } ## KotlinÂ∫èÂàóÂåñ ```kotlin import org.apache.fory.Fory import org.apache.fory.ThreadSafeFory import org.apache.fory.serializer.kotlin.KotlinSerializers data class Person(val name: String, val id: Long, val github: String) data class Point(val x : Int, val y : Int, val z : Int) fun main(args: Array&lt;String&gt;) { // Ê≥®ÊÑè: ‰∏ãÈù¢ÁöÑForyÂàùÂßãÂåñ‰ª£Á†ÅÂ∫îËØ•Âè™ÊâßË°å‰∏ÄÊ¨°ÔºåËÄå‰∏çÊòØÂú®ÊØèÊ¨°Â∫èÂàóÂåñÂâçÈÉΩËøêË°å val fory: ThreadSafeFory = Fory.builder().requireClassRegistration(true).buildThreadSafeFory() KotlinSerializers.registerSerializers(fory) fory.register(Person::class.java) fory.register(Point::class.java) val p = Person(&quot;Shawn Yang&quot;, 1, &quot;https://github.com/chaokunyang&quot;) println(fory.deserialize(fory.serialize(p))) println(fory.deserialize(fory.serialize(Point(1, 2, 3)))) }   ","version":"0.11","tagName":"h2"},{"title":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ‚Äã","type":1,"pageTitle":"Apache Fory‚Ñ¢ ‰ΩøÁî®","url":"/zh-CN/docs/0.11/start/usage#Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ","content":" ","version":"0.11","tagName":"h2"},{"title":"Java‚Äã","type":1,"pageTitle":"Apache Fory‚Ñ¢ ‰ΩøÁî®","url":"/zh-CN/docs/0.11/start/usage#java","content":" import com.google.common.collect.ImmutableMap; import io.fory.*; import java.util.Map; public class ReferenceExample { public static class SomeClass { SomeClass f1; Map&lt;String, String&gt; f2; Map&lt;String, String&gt; f3; } public static Object createObject() { SomeClass obj = new SomeClass(); obj.f1 = obj; obj.f2 = ImmutableMap.of(&quot;k1&quot;, &quot;v1&quot;, &quot;k2&quot;, &quot;v2&quot;); obj.f3 = obj.f2; return obj; } // mvn exec:java -Dexec.mainClass=&quot;io.fory.examples.ReferenceExample&quot; public static void main(String[] args) { Fory fory = Fory.builder().withLanguage(Language.XLANG) .withRefTracking(true).build(); fory.register(SomeClass.class, &quot;example.SomeClass&quot;); byte[] bytes = fory.serialize(createObject()); // bytes can be data serialized by other languages. System.out.println(fory.deserialize(bytes)); ; } }   ","version":"0.11","tagName":"h3"},{"title":"Python‚Äã","type":1,"pageTitle":"Apache Fory‚Ñ¢ ‰ΩøÁî®","url":"/zh-CN/docs/0.11/start/usage#python","content":" from typing import Dict import pyfory class SomeClass: f1: &quot;SomeClass&quot; f2: Dict[str, str] f3: Dict[str, str] fory = pyfory.Fory(ref_tracking=True) fory.register_class(SomeClass, &quot;example.SomeClass&quot;) obj = SomeClass() obj.f2 = {&quot;k1&quot;: &quot;v1&quot;, &quot;k2&quot;: &quot;v2&quot;} obj.f1, obj.f3 = obj, obj.f2 data = fory.serialize(obj) # bytes can be data serialized by other languages. print(fory.deserialize(data))   ","version":"0.11","tagName":"h3"},{"title":"Golangs‚Äã","type":1,"pageTitle":"Apache Fory‚Ñ¢ ‰ΩøÁî®","url":"/zh-CN/docs/0.11/start/usage#golangs","content":" package main import ( &quot;fmt&quot; forygo &quot;github.com/apache/fory/go/fory&quot; ) func main() { type SomeClass struct { F1 *SomeClass F2 map[string]string F3 map[string]string } fory := forygo.NewFory(true) if err := fory.RegisterTagType(&quot;example.SomeClass&quot;, SomeClass{}); err != nil { panic(err) } value := &amp;SomeClass{F2: map[string]string{&quot;k1&quot;: &quot;v1&quot;, &quot;k2&quot;: &quot;v2&quot;}} value.F3 = value.F2 value.F1 = value bytes, err := fory.Marshal(value) if err != nil { } var newValue interface{} // bytes can be data serialized by other languages. if err := fory.Unmarshal(bytes, &amp;newValue); err != nil { panic(err) } fmt.Println(newValue) }   ","version":"0.11","tagName":"h3"},{"title":"JavaScript‚Äã","type":1,"pageTitle":"Apache Fory‚Ñ¢ ‰ΩøÁî®","url":"/zh-CN/docs/0.11/start/usage#javascript","content":" import Fory, { Type } from &quot;@apache-fory/fory&quot;; /** * @apache-fory/hps use v8's fast-calls-api that can be called directly by jit, ensure that the version of Node is 20 or above. * Experimental feature, installation success cannot be guaranteed at this moment * If you are unable to install the module, replace it with `const hps = null;` **/ import hps from &quot;@apache-fory/hps&quot;; // Now we describe data structures using JSON, but in the future, we will use more ways. const description = Type.object(&quot;example.foo&quot;, { foo: Type.string(), }); const fory = new Fory({ hps }); const { serialize, deserialize } = fory.registerSerializer(description); const input = serialize({ foo: &quot;hello fory&quot; }); const result = deserialize(input); console.log(result);   ","version":"0.11","tagName":"h3"},{"title":"Rust‚Äã","type":1,"pageTitle":"Apache Fory‚Ñ¢ ‰ΩøÁî®","url":"/zh-CN/docs/0.11/start/usage#rust","content":" use fory::{from_buffer, to_buffer, Fory}; #[derive(Fory, Debug, PartialEq)] #[tag(&quot;example.foo&quot;)] struct Animal { name: String, category: String, } #[derive(Fory, Debug, PartialEq)] #[tag(&quot;example.bar&quot;)] struct Person { name: String, age: u32, pets: Vec&lt;Animal&gt;, } fn main() { let penson = Person { name: &quot;hello&quot;.to_string(), age: 12, pets: vec![ Animal { name: &quot;world1&quot;.to_string(), category: &quot;cat&quot;.to_string(), }, Animal { name: &quot;world2&quot;.to_string(), category: &quot;dog&quot;.to_string(), }, ], }; let bin = to_buffer(&amp;penson); let obj: Person = from_buffer(&amp;bin).expect(&quot;should success&quot;); assert_eq!(obj, penson); }  ","version":"0.11","tagName":"h3"},{"title":"Á§æÂå∫","type":0,"sectionRef":"#","url":"/zh-CN/docs/0.12/community/","content":"","keywords":"","version":"0.12"},{"title":"ÈÇÆ‰ª∂ÂàóË°®‚Äã","type":1,"pageTitle":"Á§æÂå∫","url":"/zh-CN/docs/0.12/community/#ÈÇÆ‰ª∂ÂàóË°®","content":" ÈÇÆ‰ª∂ÂàóË°®\tÊèèËø∞\tËÆ¢ÈòÖ\tÂèñÊ∂àËÆ¢ÈòÖ\tÂèëÈÄÅÈÇÆ‰ª∂\tÊ¥ªÂä®dev@fory.apache.org\tÂºÄÂèëÁõ∏ÂÖ≥ËÆ®ËÆ∫\tËÆ¢ÈòÖ\tÂèñÊ∂àËÆ¢ÈòÖ\tÂèëÈÄÅÈÇÆ‰ª∂\tÈÇÆ‰ª∂ÂàóË°®Ê¥ªÂä® commits@fory.apache.org\t‰ªìÂ∫ìÁöÑÊâÄÊúâ commits\tËÆ¢ÈòÖ\tÂèñÊ∂àËÆ¢ÈòÖ\tÂè™ËØªÁöÑÈÇÆ‰ª∂ÂàóË°®\tÈÇÆ‰ª∂ÂàóË°®Ê¥ªÂä®  Âú®Â∞ùËØïÂèëÈÄÅÈÇÆ‰ª∂‰πãÂâçÔºåËØ∑Á°Æ‰øùËÆ¢ÈòÖ‰∏äËø∞ÁöÑÈÇÆ‰ª∂ÂàóË°®„ÄÇ  Â¶ÇÊûúÊÇ®Ê≤°ÊúâËÆ¢ÈòÖÈÇÆ‰ª∂ÂàóË°®ÔºåÊÇ®ÁöÑÈÇÆ‰ª∂Â∞ÜË¢´ÊãíÁªùÊàñ‰∏ç‰ºöÊî∂Âà∞ÂõûÂ§ç„ÄÇ  ","version":"0.12","tagName":"h2"},{"title":"Â¶Ç‰ΩïËÆ¢ÈòÖÈÇÆ‰ª∂ÂàóË°®‚Äã","type":1,"pageTitle":"Á§æÂå∫","url":"/zh-CN/docs/0.12/community/#Â¶Ç‰ΩïËÆ¢ÈòÖÈÇÆ‰ª∂ÂàóË°®","content":" Ë¶ÅÂèëÈÄÅÈÇÆ‰ª∂Ëá≥ÈÇÆ‰ª∂ÂàóË°®ÔºåËØ∑ÂÖàÈÄöËøá‰ª•‰∏ãÊñπÂºèËÆ¢ÈòÖÔºö  ÂèëÈÄÅÁîµÂ≠êÈÇÆ‰ª∂Ëá≥ listname-subscribe@fory.apache.orgÔºåÂπ∂Áõ∏Â∫îÊõøÊç¢ listnameÔºõÂõûÂ§çÊÇ®Â∞ÜÊî∂Âà∞ÁöÑÁ°ÆËÆ§ÁîµÂ≠êÈÇÆ‰ª∂Ôºå‰øùÊåÅÈÇÆ‰ª∂‰∏ªÈ¢òË°åÂÆåÊï¥ÔºõÁÑ∂ÂêéÊÇ®Â∞ÜÊî∂Âà∞‰∏ÄÂ∞ÅÊ¨¢ËøéÁöÑÁîµÂ≠êÈÇÆ‰ª∂ÔºåËÆ¢ÈòÖÊàêÂäü„ÄÇ  Âú®ËÆ®ËÆ∫ÁîµÂ≠êÈÇÆ‰ª∂‰∏≠ÁöÑ‰ª£Á†ÅÁâáÊÆµÊó∂ÔºåËØ∑Á°Æ‰øùÔºö  ÊÇ®‰∏çË¶ÅÈìæÊé•Âà∞Â§ñÈÉ®ÊúçÂä°‰∏≠ÁöÑÊñá‰ª∂ÔºåÂõ†‰∏∫Ê≠§Á±ªÊñá‰ª∂ÂèØËÉΩ‰ºöÊõ¥Êîπ„ÄÅË¢´Âà†Èô§ÊàñÈìæÊé•ÂèØËÉΩ‰ºö‰∏≠Êñ≠Ôºå‰ªéËÄå‰ΩøÂ≠òÊ°£ÁöÑÁîµÂ≠êÈÇÆ‰ª∂Á∫øÁ®ãÂèòÂæóÊó†Áî®ÔºõÊÇ®Á≤òË¥¥ÊñáÊú¨ËÄå‰∏çÊòØÊñáÊú¨Â±èÂπïÊà™ÂõæÔºõÁ≤òË¥¥‰ª£Á†ÅÊó∂‰øùÊåÅÊ†ºÂºèÔºå‰ª•‰øùÊåÅ‰ª£Á†ÅÂèØËØªÔºõÊúâË∂≥Â§üÁöÑÂØºÂÖ•ËØ≠Âè•‰ª•ÈÅøÂÖç‰∫ßÁîü‰ª£Á†ÅÊ≠ß‰πâ„ÄÇ  ","version":"0.12","tagName":"h3"},{"title":"Slack‚Äã","type":1,"pageTitle":"Á§æÂå∫","url":"/zh-CN/docs/0.12/community/#slack","content":" ÊÇ®ÂèØ‰ª•Âä†ÂÖ•Slack ‰∏äÁöÑ Apache Fory‚Ñ¢ Á§æÂå∫„ÄÇ  ËøôÈáåÊúâ‰∏Ä‰∫õÁ§æÂå∫ËßÑÂàôÔºö  ‰øùÊåÅÂ∞äÈáçÂíåÂèãÂñÑÔºõÊâÄÊúâÈáçË¶ÅÁöÑÂÜ≥ÂÆöÂíåÁªìËÆ∫ÈÉΩÂøÖÈ°ªÂèçÊò†Âà∞ÈÇÆ‰ª∂ÂàóË°®‰∏≠„ÄÇ ‚ÄúÂ¶ÇÊûúËøôÊ≤°ÊúâÂú®ÈÇÆ‰ª∂ÂàóË°®‰∏≠ÊúâÁõ∏ÂÖ≥ÁöÑËÆ®ËÆ∫ËÆ∞ÂΩïÔºåÂàô‰ª£Ë°®ÂÆÉ‰∏çÁîüÊïà‚Äù ÔºõThe Apache WayÔºõ‰ΩøÁî® Slack Á∫øÁ®ãÊù•Èò≤Ê≠¢Âπ∂Ë°åÂØπËØùÊ∑πÊ≤°ÂΩìÂâçÁöÑÂØπËØùÈ¢ëÈÅìÔºõËØ∑‰∏çË¶ÅÁõ¥Êé•ÂêëÈÇÆ‰ª∂ÂàóË°®ÂèëÈÄÅ Bug fix„ÄÅIssue ÂàÜÈÖçÂíå Code Review Ê∂àÊÅØ„ÄÇËøô‰∫õÂÜÖÂÆπÂ∫îËØ•Ë¢´Á§æÂå∫Ë¥°ÁåÆËÄÖËá™ÊÑøÂ§ÑÁêÜÂπ∂ÂàÜÈÖç„ÄÇ  ","version":"0.12","tagName":"h2"},{"title":"Issue Ë∑üË∏™‚Äã","type":1,"pageTitle":"Á§æÂå∫","url":"/zh-CN/docs/0.12/community/#issue-Ë∑üË∏™","content":" Êàë‰ª¨‰ΩøÁî® GitHub Issues Êù•Ë∑üË∏™ÊâÄÊúâ IssuesÔºö  ‰ª£Á†ÅÁõ∏ÂÖ≥ÈóÆÈ¢òÔºöhttps://github.com/apache/fory/issuesÁΩëÁ´ôÁõ∏ÂÖ≥ÈóÆÈ¢òÔºöhttps://github.com/apache/fory-site/issues  ÊÇ®ÈúÄË¶ÅÊúâ‰∏Ä‰∏™ GitHub Â∏êÊà∑ ÊâçËÉΩÂàõÂª∫ÈóÆÈ¢ò„ÄÇ Â¶ÇÊûúÊÇ®Ê≤°Êúâ GitHub Â∏êÊà∑ÔºåÊÇ®ÂèØ‰ª•ÂèëÈÄÅÁîµÂ≠êÈÇÆ‰ª∂Ëá≥ dev@fory.apache.org„ÄÇ  ","version":"0.12","tagName":"h2"},{"title":"Êä•Âëä Bug‚Äã","type":1,"pageTitle":"Á§æÂå∫","url":"/zh-CN/docs/0.12/community/#Êä•Âëä-bug","content":" ÊÇ®Âú®Êä•Âëä Bug ‰πãÂâçÔºåÂ∫îËØ•Ôºö  È™åËØÅËØ• Bug Á°ÆÂÆûÂ≠òÂú®ÔºõÊêúÁ¥¢ Issue List ‰ª•Á°Æ‰øù‰∏çÂ≠òÂú®Áõ∏ÂÖ≥ Bug„ÄÇÂú® Issue List ‰∏≠ÂàõÂª∫ bug Êä•Âëä„ÄÇÂ¶ÇÊûúÂèØËÉΩÁöÑËØùÔºåÊ∑±ÂÖ•Á†îÁ©∂ Apache Fory‚Ñ¢ ÁöÑÊ∫ê‰ª£Á†ÅÔºåÂπ∂ÈíàÂØπÊÇ®Êä•ÂëäÁöÑ Bug Êèê‰∫§Ë°•‰∏ÅÔºåËøôÊúâÂä©‰∫éÂø´ÈÄü‰øÆÂ§ç Bug„ÄÇ  ","version":"0.12","tagName":"h3"},{"title":"Êä•ÂëäÂÆâÂÖ®ÊºèÊ¥û‚Äã","type":1,"pageTitle":"Á§æÂå∫","url":"/zh-CN/docs/0.12/community/#Êä•ÂëäÂÆâÂÖ®ÊºèÊ¥û","content":" Apache Fory‚Ñ¢ ÊòØ Apache ËΩØ‰ª∂Âü∫Èáë‰ºö ÁöÑ‰∏Ä‰∏™È°πÁõÆÔºåÈÅµÂæ™ ASF ÊºèÊ¥ûÂ§ÑÁêÜÊµÅÁ®ã„ÄÇ  Ë¶ÅÊä•ÂëäÊÇ®ÂèëÁé∞ÁöÑÊñ∞ÁöÑÂÆâÂÖ®ÊºèÊ¥ûÔºåËØ∑ÈÅµÂæ™ ASF ÊºèÊ¥ûÊä•ÂëäÊµÅÁ®ãÔºåËØ•ÊµÅÁ®ãËß£Èáä‰∫ÜÂ¶Ç‰ΩïÁßÅ‰∏ãÂêëÁ§æÂå∫Áª¥Êä§ËÄÖÂèëÈÄÅËØ¶ÁªÜÁöÑÊºèÊ¥û‰ø°ÊÅØ„ÄÇ  ","version":"0.12","tagName":"h3"},{"title":"New Feature‚Äã","type":1,"pageTitle":"Á§æÂå∫","url":"/zh-CN/docs/0.12/community/#new-feature","content":" Ê¨¢ËøéÊÇ®Â¢ûÂº∫ÂäüËÉΩÊàñÊñ∞ÂäüËÉΩÂª∫ËÆÆ„ÄÇÊèêÊ°àË∂äÂÖ∑‰Ωì„ÄÅË∂äÂêàÁêÜÔºåÊÇ®Âú® Fory Á§æÂå∫ÁöÑÂΩ±ÂìçÂäõÂ∞±Ë∂äÂ§ß„ÄÇÂÆÉÊúâÂèØËÉΩÂú®‰πãÂêéÁâàÊú¨ÂèëÂ∏É„ÄÇ  ","version":"0.12","tagName":"h3"},{"title":"È°πÁõÆÊ∫ê‰ª£Á†Å‚Äã","type":1,"pageTitle":"Á§æÂå∫","url":"/zh-CN/docs/0.12/community/#È°πÁõÆÊ∫ê‰ª£Á†Å","content":" Fory Core Â≠òÂÇ®Â∫ìÔºöhttps://github.com/apache/foryFory ÁΩëÁ´ôÂ≠òÂÇ®Â∫ìÔºöhttps://github.com/apache/fory-site ","version":"0.12","tagName":"h3"},{"title":"Â¶Ç‰ΩïÂä†ÂÖ• Apache Fory‚Ñ¢ Á§æÂå∫","type":0,"sectionRef":"#","url":"/zh-CN/docs/0.12/community/how_to_join_community","content":"","keywords":"","version":"0.12"},{"title":"Apache Fory‚Ñ¢ Ë¥°ÁåÆÊåáÂçó‚Äã","type":1,"pageTitle":"Â¶Ç‰ΩïÂä†ÂÖ• Apache Fory‚Ñ¢ Á§æÂå∫","url":"/zh-CN/docs/0.12/community/how_to_join_community#apache-fory-Ë¥°ÁåÆÊåáÂçó","content":" Apache Fory‚Ñ¢ Âõ¢ÈòüÈÄöÂ∏∏Âú® github ‰∏äËøõË°åÂºÄÂèëÂíå issue Áª¥Êä§ÔºåËØ∑ÊâìÂºÄ¬†Github ÁΩëÁ´ôÔºåÁÇπÂáªÂè≥‰∏äËßí¬†Sign up¬†ÊåâÈíÆÔºåÊ≥®ÂÜå‰∏Ä‰∏™Ëá™Â∑±ÁöÑË¥¶Âè∑ÔºåÂºÄÂêØ‰Ω†ÂºÄÊ∫ê‰πãÊóÖÁöÑÁ¨¨‰∏ÄÊ≠•„ÄÇ  Âú®¬†Apache Fory‚Ñ¢ ‰ªìÂ∫ì‰∏≠ÔºåÊàë‰ª¨Êúâ‰∏Ä‰ªΩÈù¢ÂêëÊâÄÊúâÂºÄÊ∫êË¥°ÁåÆËÄÖÁöÑÊåáÂçóÔºå‰ªãÁªç‰∫ÜÊúâÂÖ≥ÁâàÊú¨ÁÆ°ÁêÜ„ÄÅÂàÜÊîØÁÆ°ÁêÜÁ≠âÂÜÖÂÆπÔºåËØ∑Ëä±Âá†ÂàÜÈíüÊó∂Èó¥ÈòÖËØª‰∫ÜËß£‰∏Ä‰∏ã„ÄÇ  ","version":"0.12","tagName":"h2"},{"title":"‰Ω†ÁöÑÁ¨¨‰∏Ä‰∏™ Pull Request‚Äã","type":1,"pageTitle":"Â¶Ç‰ΩïÂä†ÂÖ• Apache Fory‚Ñ¢ Á§æÂå∫","url":"/zh-CN/docs/0.12/community/how_to_join_community#‰Ω†ÁöÑÁ¨¨‰∏Ä‰∏™-pull-request","content":" ","version":"0.12","tagName":"h2"},{"title":"Step0ÔºöÂÆâË£Ö Git‚Äã","type":1,"pageTitle":"Â¶Ç‰ΩïÂä†ÂÖ• Apache Fory‚Ñ¢ Á§æÂå∫","url":"/zh-CN/docs/0.12/community/how_to_join_community#step0ÂÆâË£Ö-git","content":" Git ÊòØ‰∏ÄÁßçÁâàÊú¨ÊéßÂà∂Á≥ªÁªüÔºåÁî®‰∫éË∑üË∏™ÂíåÁÆ°ÁêÜËΩØ‰ª∂ÂºÄÂèëÈ°πÁõÆ‰∏≠ÁöÑ‰ª£Á†ÅÂèòÊõ¥„ÄÇÂÆÉÂ∏ÆÂä©ÂºÄÂèëËÄÖËÆ∞ÂΩïÂíåÁÆ°ÁêÜ‰ª£Á†ÅÁöÑÂéÜÂè≤ËÆ∞ÂΩïÔºåÊñπ‰æøÂõ¢ÈòüÂçè‰Ωú„ÄÅ‰ª£Á†ÅÁâàÊú¨ÊéßÂà∂„ÄÅÂêàÂπ∂‰ª£Á†ÅÁ≠âÊìç‰Ωú„ÄÇÈÄöËøá GitÔºåÊÇ®ÂèØ‰ª•ËøΩË∏™ÊØè‰∏™Êñá‰ª∂ÁöÑÊØè‰∏™ÁâàÊú¨ÔºåÂπ∂ËΩªÊùæÂú∞Âú®‰∏çÂêåÁâàÊú¨‰πãÈó¥ËøõË°åÂàáÊç¢ÂíåÊØîËæÉ„ÄÇGit ËøòÊèê‰æõ‰∫ÜÂàÜÊîØÁÆ°ÁêÜÂäüËÉΩÔºå‰ΩøÂæóÂèØ‰ª•ÂêåÊó∂ËøõË°åÂ§ö‰∏™Âπ∂Ë°åÂºÄÂèë‰ªªÂä°„ÄÇ  ËÆøÈóÆ Git ÂÆòÊñπÁΩëÁ´ôÔºöhttps://git-scm.com‰∏ãËΩΩÊúÄÊñ∞ÁâàÊú¨ÁöÑ Git ÂÆâË£ÖÁ®ãÂ∫è„ÄÇËøêË°å‰∏ãËΩΩÁöÑÂÆâË£ÖÁ®ãÂ∫èÔºåÊåâÁÖßÂÆâË£ÖÂêëÂØºÁöÑÊèêÁ§∫ËøõË°åÂÆâË£Ö„ÄÇÂÆâË£ÖÂÆåÊàêÂêéÔºå‰Ω†ÂèØ‰ª•ÈÄöËøáÂëΩ‰ª§Ë°å‰ΩøÁî®¬†git version¬†ÂëΩ‰ª§Á°ÆËÆ§ÂÆâË£ÖÊàêÂäü„ÄÇ  ","version":"0.12","tagName":"h3"},{"title":"Step1ÔºöFork È°πÁõÆ‚Äã","type":1,"pageTitle":"Â¶Ç‰ΩïÂä†ÂÖ• Apache Fory‚Ñ¢ Á§æÂå∫","url":"/zh-CN/docs/0.12/community/how_to_join_community#step1fork-È°πÁõÆ","content":" È¶ñÂÖàÈúÄË¶Å fork Ëøô‰∏™È°πÁõÆÔºåËøõÂÖ•ForyÈ°πÁõÆÈ°µÈù¢ÔºåÁÇπÂáªÂè≥‰∏äËßíÁöÑ Fork ÊåâÈíÆ‰Ω†ÁöÑ github Â∏êÂè∑‰∏≠‰ºöÂá∫Áé∞ xxxx(‰Ω†ÁöÑ github Áî®Êà∑Âêç)/fory Ëøô‰∏™È°πÁõÆÂú®Êú¨Âú∞ÁîµËÑë‰∏ä‰ΩøÁî®‰ª•‰∏ãÂëΩ‰ª§: ÂæóÂà∞‰∏Ä‰∏™ fory Êñá‰ª∂Â§π  // ssh git clone git@github.com:xxxx(‰Ω†ÁöÑgithubÁî®Êà∑Âêç)/fory.git // https git clone https://github.com/xxxx(‰Ω†ÁöÑgithubÁî®Êà∑Âêç)/fory.git   ","version":"0.12","tagName":"h3"},{"title":"Step2ÔºöËé∑ÂèñÈ°πÁõÆ‰ª£Á†Å‚Äã","type":1,"pageTitle":"Â¶Ç‰ΩïÂä†ÂÖ• Apache Fory‚Ñ¢ Á§æÂå∫","url":"/zh-CN/docs/0.12/community/how_to_join_community#step2Ëé∑ÂèñÈ°πÁõÆ‰ª£Á†Å","content":" ËøõÂÖ• fory Êñá‰ª∂Â§πÔºåÊ∑ªÂä† fory ÁöÑËøúÁ®ãÂú∞ÂùÄ  git remote add upstream https://github.com/apache/fory.git   ","version":"0.12","tagName":"h3"},{"title":"Step3ÔºöÂàõÂª∫ÂàÜÊîØ‚Äã","type":1,"pageTitle":"Â¶Ç‰ΩïÂä†ÂÖ• Apache Fory‚Ñ¢ Á§æÂå∫","url":"/zh-CN/docs/0.12/community/how_to_join_community#step3ÂàõÂª∫ÂàÜÊîØ","content":" Â•Ω‰∫ÜÔºåÁé∞Âú®ÂèØ‰ª•ÂºÄÂßãË¥°ÁåÆÊàë‰ª¨ÁöÑ‰ª£Á†Å‰∫Ü„ÄÇfory ÈªòËÆ§ÂàÜÊîØ‰∏∫ main ÂàÜÊîØ„ÄÇÊó†ËÆ∫ÊòØÂäüËÉΩÂºÄÂèë„ÄÅbug ‰øÆÂ§ç„ÄÅÊñáÊ°£ÁºñÂÜôÔºåÈÉΩËØ∑Êñ∞Âª∫Á´ã‰∏Ä‰∏™ÂàÜÊîØÔºåÂÜçÂêàÂπ∂Âà∞ main ÂàÜÊîØ‰∏ä„ÄÇ‰ΩøÁî®‰ª•‰∏ã‰ª£Á†ÅÂàõÂª∫ÂàÜÊîØÔºö  // ÂàõÂª∫ÂäüËÉΩÂºÄÂèëÂàÜÊîØ git checkout -b feat/xxxx // ÂàõÂª∫ÈóÆÈ¢ò‰øÆÂ§çÂºÄÂèëÂàÜÊîØ git checkout -b fix/xxxx // ÂàõÂª∫ÊñáÊ°£„ÄÅdemoÂàÜÊîØ git checkout -b docs/add-java-demo   ÂÅáËÆæÊàë‰ª¨ÂàõÂª∫‰∫ÜÊñáÊ°£‰øÆÊîπÂàÜÊîØ¬†docs/add-java-demo  ÂÅáËÆæÊàë‰ª¨Â∑≤ÁªèÊ∑ªÂä†‰∫Ü‰∏Ä‰∫õ‰ª£Á†ÅÔºåÊèê‰∫§Âà∞‰ª£Á†ÅÂ∫ì git add . git commit -a -m &quot;docs: add java demo and related docs&quot; „ÄÇ  ","version":"0.12","tagName":"h3"},{"title":"Step4ÔºöÂêàÂπ∂‰øÆÊîπ‚Äã","type":1,"pageTitle":"Â¶Ç‰ΩïÂä†ÂÖ• Apache Fory‚Ñ¢ Á§æÂå∫","url":"/zh-CN/docs/0.12/community/how_to_join_community#step4ÂêàÂπ∂‰øÆÊîπ","content":" ÂàáÊç¢ÂõûËá™Â∑±ÁöÑÂºÄÂèëÂàÜÊîØ:  git checkout docs/add-java-demo   ÊääÊõ¥Êñ∞‰ª£Á†ÅÊèê‰∫§Âà∞Ëá™Â∑±ÁöÑÂàÜÊîØ‰∏≠:  git push origin docs/add-java-demo   ","version":"0.12","tagName":"h3"},{"title":"Step5ÔºöÊèê‰∫§ Pull Request‚Äã","type":1,"pageTitle":"Â¶Ç‰ΩïÂä†ÂÖ• Apache Fory‚Ñ¢ Á§æÂå∫","url":"/zh-CN/docs/0.12/community/how_to_join_community#step5Êèê‰∫§-pull-request","content":" ‰Ω†ÂèØ‰ª•Âú®‰Ω†ÁöÑ github ‰ª£Á†Å‰ªìÂ∫ìÈ°µÈù¢ÁÇπÂáª¬†Compare &amp; pull request¬†ÊåâÈíÆ„ÄÇÊàñÈÄöËøá¬†contribute¬†ÊåâÈíÆÂàõÂª∫„ÄÇ  Â°´ÂÜôËøôÊòØ‰ªÄ‰πàÁ±ªÂûãÁöÑ‰øÆÊîπÂ°´ÂÜôÂÖ≥ËÅîÁöÑ issueËã•ÊúâÂ§çÊùÇÂèòÊõ¥ÔºåËØ∑ËØ¥ÊòéËÉåÊôØÂíåËß£ÂÜ≥ÊñπÊ°à  Áõ∏ÂÖ≥‰ø°ÊÅØÂ°´ÂÜôÂÆåÊàêÂêéÔºåÁÇπÂáª Create pull request Êèê‰∫§„ÄÇ  ","version":"0.12","tagName":"h3"},{"title":"ËΩªÊùæÊ≠•ÂÖ• Apache Fory‚Ñ¢ ÂºÄÊ∫êË¥°ÁåÆ‰πãÊóÖ‚Äã","type":1,"pageTitle":"Â¶Ç‰ΩïÂä†ÂÖ• Apache Fory‚Ñ¢ Á§æÂå∫","url":"/zh-CN/docs/0.12/community/how_to_join_community#ËΩªÊùæÊ≠•ÂÖ•-apache-fory-ÂºÄÊ∫êË¥°ÁåÆ‰πãÊóÖ","content":" &quot;good first issue&quot; ÊòØ‰∏Ä‰∏™Âú®ÂºÄÊ∫êÁ§æÂå∫Â∏∏ËßÅÁöÑÊ†áÁ≠æÔºåËøô‰∏™Ê†áÁ≠æÁöÑÁõÆÁöÑÊòØÂ∏ÆÂä©Êñ∞Ë¥°ÁåÆËÄÖÊâæÂà∞ÈÄÇÂêàÂÖ•Èó®ÁöÑÈóÆÈ¢ò„ÄÇ  Apache Fory‚Ñ¢ ÁöÑÂÖ•Èó®ÈóÆÈ¢òÔºå‰Ω†ÂèØ‰ª•ÈÄöËøá¬†issue ÂàóË°®Êü•Áúã„ÄÇ  Â¶ÇÊûú‰Ω†ÂΩìÂâçÊúâÊó∂Èó¥ÂíåÊÑèÊÑøÂèÇ‰∏éÂà∞Á§æÂå∫Ë¥°ÁåÆÔºåÂèØ‰ª•Âú® issue ÈáåÁúã‰∏ÄÁúã¬†good first issueÔºåÈÄâÊã©‰∏Ä‰∏™ÊÑüÂÖ¥Ë∂£„ÄÅÈÄÇÂêàËá™Â∑±ÁöÑËÆ§È¢Ü„ÄÇ  ","version":"0.12","tagName":"h2"},{"title":"Êã•Êä± Apache Fory‚Ñ¢ Á§æÂå∫‚Äã","type":1,"pageTitle":"Â¶Ç‰ΩïÂä†ÂÖ• Apache Fory‚Ñ¢ Á§æÂå∫","url":"/zh-CN/docs/0.12/community/how_to_join_community#Êã•Êä±-apache-fory-Á§æÂå∫","content":" Âú®‰Ω†‰∏∫ Apache Fory‚Ñ¢ Ë¥°ÁåÆ‰ª£Á†Å‰πã‰ΩôÔºåÊàë‰ª¨ÈºìÂä±‰Ω†ÂèÇ‰∏éÂÖ∂‰ªñËÆ©Á§æÂå∫Êõ¥Âä†ÁπÅËç£ÁöÑ‰∫ãÊÉÖÔºåÊØîÂ¶ÇÔºö  ‰∏∫È°πÁõÆÁöÑÂèëÂ±ï„ÄÅÂäüËÉΩËßÑÂàí Á≠âÊèêÂª∫ËÆÆ„ÄÇÂàõ‰ΩúÊñáÁ´†„ÄÅËßÜÈ¢ëÔºåÂºÄÂäûËÆ≤Â∫ßÊù•ÂÆ£‰º† Apache Fory‚Ñ¢ „ÄÇÊí∞ÂÜôÊé®ÂπøËÆ°ÂàíÔºåÂêåÂõ¢Èòü‰∏ÄÂêåÊâßË°å„ÄÇ ","version":"0.12","tagName":"h2"},{"title":"Nominate Committer","type":0,"sectionRef":"#","url":"/zh-CN/docs/0.12/community/nominate_committer","content":"","keywords":"","version":"0.12"},{"title":"Discusstion‚Äã","type":1,"pageTitle":"Nominate Committer","url":"/zh-CN/docs/0.12/community/nominate_committer#discusstion","content":" Start a discusstion abouthe the candidate via sending email to: private@fory.apache.org  To: private@[project].apache.org Subject: [DISCUSS] New committer: [Candidate Name] I propose to add [Candidate Name] as a committer. [State reasons that you believe they are a good candidate.] [State contribution statistics, if available and relevant.] Please remember that should this candidate be elected as a PMC member at some later date, they will have access to our archives, and be able to read this, so phrase your comments constructively with this in mind.   ","version":"0.12","tagName":"h2"},{"title":"Start vote about the candidate‚Äã","type":1,"pageTitle":"Nominate Committer","url":"/zh-CN/docs/0.12/community/nominate_committer#start-vote-about-the-candidate","content":" Start a vote about the candidate via sending email to: private@fory.apache.org:  candidate name: The full name of the candidate.candidate github_id: The GitHub id of the candidate.  Email Template:  To: private@[PROJECT].apache.org Subject: [VOTE] New committer: [Candidate Name] This is a VOTE to add [Candidate Name] as a committer. This has been discussed here: [Link to DISCUSS thread on lists.apache.org] If you have more to add to the discussion, please do so there, rather than in this VOTE thread. [+1] Yes, add this committer [0] Abstain [-1] No, do not add this committer Voting ends one week from today, i.e. midnight UTC on YYYY-MM-DD https://www.timeanddate.com/counters/customcounter.html?year=YYYY&amp;month=MM&amp;day=DD See voting guidelines at https://community.apache.org/pmc/adding-committers.html   ","version":"0.12","tagName":"h2"},{"title":"Add the candidate to the committer list‚Äã","type":1,"pageTitle":"Nominate Committer","url":"/zh-CN/docs/0.12/community/nominate_committer#add-the-candidate-to-the-committer-list","content":" After the candidate accepts the invitation and the iCLA is recorded, add the candidate to the committer list by whimsy roster tools  ","version":"0.12","tagName":"h2"},{"title":"Announcement‚Äã","type":1,"pageTitle":"Nominate Committer","url":"/zh-CN/docs/0.12/community/nominate_committer#announcement","content":" Once the nominee accepts the invitation and the commit bit is granted, it's encouraged to send an announcement email to dev@fory.apache.org to welcome the new committers. Here is an email template:  To: dev@[PROJECT].apache.org Subject: New committer: [Committer Name] The Project Management Committee (PMC) for Apache [PROJECT] has invited [Committer Name] to become a committer and we are pleased to announce that they have accepted. Please join us in welcoming [Committer Name] to their new role and responsibility in our project community. [Your Name] On behalf of the [Project] PMC  ","version":"0.12","tagName":"h2"},{"title":"ÂºÄÂèëÊåáÂçó","type":0,"sectionRef":"#","url":"/zh-CN/docs/0.12/guide/development","content":"","keywords":"","version":"0.12"},{"title":"Êú¨Âú∞ÊûÑÂª∫ Apache Fory‚Ñ¢‚Äã","type":1,"pageTitle":"ÂºÄÂèëÊåáÂçó","url":"/zh-CN/docs/0.12/guide/development#Êú¨Âú∞ÊûÑÂª∫-apache-fory","content":" ‰ªé Github ‰ª£Á†ÅÂ∫ì ÊãâÂèñÊúÄÊñ∞‰ª£Á†Å„ÄÇ  ","version":"0.12","tagName":"h2"},{"title":"ÊûÑÂª∫ Apache Fory‚Ñ¢ Java‚Äã","type":1,"pageTitle":"ÂºÄÂèëÊåáÂçó","url":"/zh-CN/docs/0.12/guide/development#ÊûÑÂª∫-apache-fory-java","content":" cd java mvn clean compile -DskipTests   Êú¨Âú∞ÁéØÂ¢ÉË¶ÅÊ±Ç‚Äã  java 1.8+maven 3.6.3+  ","version":"0.12","tagName":"h3"},{"title":"ÊûÑÂª∫ Apache Fory‚Ñ¢ Python‚Äã","type":1,"pageTitle":"ÂºÄÂèëÊåáÂçó","url":"/zh-CN/docs/0.12/guide/development#ÊûÑÂª∫-apache-fory-python","content":" cd python pip install pyarrow==14.0.0 Cython wheel numpy pytest pip install -v -e .   Êú¨Âú∞ÁéØÂ¢ÉË¶ÅÊ±Ç‚Äã  python 3.6+  ","version":"0.12","tagName":"h3"},{"title":"ÊûÑÂª∫ Apache Fory‚Ñ¢ C++‚Äã","type":1,"pageTitle":"ÂºÄÂèëÊåáÂçó","url":"/zh-CN/docs/0.12/guide/development#ÊûÑÂª∫-apache-fory-c","content":" Build fory row formatÔºö  pip install pyarrow==14.0.0 bazel build //cpp/fory/row:fory_row_format   Build fory row format encoder:  pip install pyarrow==14.0.0 bazel build //cpp/fory/encoder:fory_encoder   Êú¨Âú∞ÁéØÂ¢ÉË¶ÅÊ±Ç‚Äã  compilers with C++17 supportbazel 6.3.2  ","version":"0.12","tagName":"h3"},{"title":"ÊûÑÂª∫ Apache Fory‚Ñ¢ GoLang‚Äã","type":1,"pageTitle":"ÂºÄÂèëÊåáÂçó","url":"/zh-CN/docs/0.12/guide/development#ÊûÑÂª∫-apache-fory-golang","content":" cd go/fory # run test go test -v # run xlang test go test -v fory_xlang_test.go   Êú¨Âú∞ÁéØÂ¢ÉË¶ÅÊ±Ç‚Äã  go 1.13+  ","version":"0.12","tagName":"h3"},{"title":"ÊûÑÂª∫ Apache Fory‚Ñ¢ Rust‚Äã","type":1,"pageTitle":"ÂºÄÂèëÊåáÂçó","url":"/zh-CN/docs/0.12/guide/development#ÊûÑÂª∫-apache-fory-rust","content":" cd rust # build cargo build # run test cargo test   Êú¨Âú∞ÁéØÂ¢ÉË¶ÅÊ±Ç‚Äã  curl --proto '=https' --tlsv1.2 -sSf https://sh.rustup.rs | sh   ","version":"0.12","tagName":"h3"},{"title":"ÊûÑÂª∫ Apache Fory‚Ñ¢ JavaScript‚Äã","type":1,"pageTitle":"ÂºÄÂèëÊåáÂçó","url":"/zh-CN/docs/0.12/guide/development#ÊûÑÂª∫-apache-fory-javascript","content":" cd javascript npm install # run build npm run build # run test npm run test   Êú¨Âú∞ÁéØÂ¢ÉË¶ÅÊ±Ç‚Äã  node 14+npm 8+ ","version":"0.12","tagName":"h3"},{"title":"Â¶Ç‰ΩïÈ™åËØÅ Apache Fory‚Ñ¢","type":0,"sectionRef":"#","url":"/zh-CN/docs/0.12/community/how_to_verify","content":"","keywords":"","version":"0.12"},{"title":"‰∏ãËΩΩ Apache Fory‚Ñ¢‚Äã","type":1,"pageTitle":"Â¶Ç‰ΩïÈ™åËØÅ Apache Fory‚Ñ¢","url":"/zh-CN/docs/0.12/community/how_to_verify#‰∏ãËΩΩ-apache-fory","content":" # If there is svn locally, you can clone to the local svn co https://dist.apache.org/repos/dist/dev/incubator/fory/${release_version}-${rc_version}/ # You can download the material file directly wget https://dist.apache.org/repos/dist/dev/incubator/fory/${release_version}-${rc_version}/xxx.xxx   ","version":"0.12","tagName":"h2"},{"title":"È™åËØÅ checksums Âíå signatures‚Äã","type":1,"pageTitle":"Â¶Ç‰ΩïÈ™åËØÅ Apache Fory‚Ñ¢","url":"/zh-CN/docs/0.12/community/how_to_verify#È™åËØÅ-checksums-Âíå-signatures","content":" È¶ñÂÖàÔºåÊÇ®ÈúÄË¶ÅÂÆâË£Ö gpgÔºö  apt-get install gnupg # or yum install gnupg # or brew install gnupg   ‰πãÂêéÔºåÂØºÂÖ• Apache Fory‚Ñ¢ release manager ÁöÑÂÖ¨Èí•Ôºö  curl https://downloads.apache.org/incubator/fory/KEYS &gt; KEYS # Download KEYS gpg --import KEYS # Import KEYS to local # Then, trust the public key: gpg --edit-key &lt;KEY-used-in-this-version&gt; # Edit the key(mentioned in vote email) # It will enter the interactive mode, use the following command to trust the key: gpg (GnuPG) 2.0.22; Copyright (C) 2013 Free Software Foundation, Inc. This is free software: you are free to change and redistribute it. There is NO WARRANTY, to the extent permitted by law. pub 4096R/5E580BA4 created: 2024-03-27 expires: never usage: SC trust: unknown validity: unknown sub 4096R/A31EF728 created: 2024-03-27 expires: never usage: E [ unknown] (1). chaokunyang (CODE SIGNING KEY) &lt;chaokunyang@apache.org&gt; gpg&gt; trust pub 4096R/5E580BA4 created: 2024-03-27 expires: never usage: SC trust: unknown validity: unknown sub 4096R/A31EF728 created: 2024-03-27 expires: never usage: E [ unknown] (1). chaokunyang (CODE SIGNING KEY) &lt;chaokunyang@apache.org&gt; Please decide how far you trust this user to correctly verify other users' keys (by looking at passports, checking fingerprints from different sources, etc.) 1 = I don't know or won't say 2 = I do NOT trust 3 = I trust marginally 4 = I trust fully 5 = I trust ultimately m = back to the main menu Your decision? 5 Do you really want to set this key to ultimate trust? (y/N) y pub 4096R/5E580BA4 created: 2024-03-27 expires: never usage: SC trust: ultimate validity: unknown sub 4096R/A31EF728 created: 2024-03-27 expires: never usage: E [ unknown] (1). chaokunyang (CODE SIGNING KEY) &lt;chaokunyang@apache.org&gt; Please note that the shown key validity is not necessarily correct unless you restart the program.   Êé•‰∏ãÊù•È™åËØÅÁ≠æÂêçÔºö  for i in *.tar.gz; do echo $i; gpg --verify $i.asc $i; done   Â¶ÇÊûúÂá∫Áé∞Â¶Ç‰∏ãÂÜÖÂÆπÔºåÂàôË°®Á§∫Á≠æÂêçÊ≠£Á°ÆÔºö  apache-fory-incubating-0.5.0-src.tar.gz gpg: Signature made Wed 17 Apr 2024 11:49:45 PM CST using RSA key ID 5E580BA4 gpg: checking the trustdb gpg: 3 marginal(s) needed, 1 complete(s) needed, PGP trust model gpg: depth: 0 valid: 1 signed: 0 trust: 0-, 0q, 0n, 0m, 0f, 1u gpg: Good signature from &quot;chaokunyang (CODE SIGNING KEY) &lt;chaokunyang@apache.org&gt;&quot;   ÁÑ∂ÂêéÈ™åËØÅ checksumÔºö  for i in *.tar.gz; do echo $i; sha512sum --check $i.sha512; done   ÂÆÉÂ∫îËØ•ËæìÂá∫Â¶Ç‰∏ãÂÜÖÂÆπÔºö  apache-fory-incubating-0.5.0-src.tar.gz apache-fory-incubating-0.5.0-src.tar.gz: OK   ","version":"0.12","tagName":"h2"},{"title":"Ê£ÄÊü•Ê∫êÁ†ÅÂåÖ‰∏≠ÁöÑÊñá‰ª∂‚Äã","type":1,"pageTitle":"Â¶Ç‰ΩïÈ™åËØÅ Apache Fory‚Ñ¢","url":"/zh-CN/docs/0.12/community/how_to_verify#Ê£ÄÊü•Ê∫êÁ†ÅÂåÖ‰∏≠ÁöÑÊñá‰ª∂","content":" Ëß£ÂéãÁº© apache-fory-${release_version}-${rc_version}-src.tar.gz Âπ∂Ê£ÄÊü•‰ª•‰∏ãÂÜÖÂÆπÔºö  Ê≠§Â≠òÂÇ®Â∫ì LICENSE Âíå NOTICE Êñá‰ª∂ÊòØÊ≠£Á°ÆÁöÑÔºõÂ¶ÇÊúâÂøÖË¶ÅÔºåÊâÄÊúâÊñá‰ª∂ÈÉΩÊúâ ASF ËÆ∏ÂèØËØÅÊ†áÂ§¥ÔºõÈ°πÁõÆÊûÑÂª∫ÈÄöËøá„ÄÇ  ","version":"0.12","tagName":"h2"},{"title":"Ê£ÄÊü• fory-java ÁöÑ Maven artifacts‚Äã","type":1,"pageTitle":"Â¶Ç‰ΩïÈ™åËØÅ Apache Fory‚Ñ¢","url":"/zh-CN/docs/0.12/community/how_to_verify#Ê£ÄÊü•-fory-java-ÁöÑ-maven-artifacts","content":" ‰∏ãËΩΩ Apache ForyÔºöhttps://repository.apache.org/content/repositories/orgapachefory-${maven_artifact_number}/.  ÊÇ®ÂèØ‰ª•Ê£ÄÊü•‰ª•‰∏ãÂÜÖÂÆπÔºö  JAR ÁöÑ Checksum ‰∏éÈ°πÁõÆÁªëÂÆöÁöÑ checksum Êñá‰ª∂‰∏ÄËá¥„ÄÇJAR ÁöÑ signature ‰∏éÈ°πÁõÆÁªëÂÆöÁöÑ signature Êñá‰ª∂‰∏ÄËá¥„ÄÇJAR Âú®Êú¨Âú∞ÊòØÂèØÈáçÂ§çÁöÑ„ÄÇËøôÊÑèÂë≥ÁùÄÊÇ®ÂèØ‰ª•Âú®ËÆ°ÁÆóÊú∫‰∏äÊûÑÂª∫ JARÔºåÂπ∂È™åËØÅ checksum Âíå‰∏éÈ°πÁõÆÁªëÂÆöÁöÑÁõ∏Âêå„ÄÇ ","version":"0.12","tagName":"h2"},{"title":"Â¶Ç‰ΩïÂèëÂ∏É","type":0,"sectionRef":"#","url":"/zh-CN/docs/0.12/community/how_to_release","content":"","keywords":"","version":"0.12"},{"title":"‰ªãÁªç‚Äã","type":1,"pageTitle":"Â¶Ç‰ΩïÂèëÂ∏É","url":"/zh-CN/docs/0.12/community/how_to_release#‰ªãÁªç","content":" Ê∫ê‰ª£Á†ÅÂèëÂ∏ÉÊòØ Apache ÊúÄÈáçËßÜ‰ª•ÂèäÊúÄÈáçË¶ÅÁöÑÈÉ®ÂàÜ„ÄÇ  ËØ∑Ê≥®ÊÑèËÆ∏ÂèØËØÅÂíåÂèëÂ∏ÉÁöÑËΩØ‰ª∂Á≠æÂêçÈóÆÈ¢ò„ÄÇÂèëÂ∏ÉËΩØ‰ª∂ÊòØ‰∏Ä‰ª∂‰∏•ËÇÉÁöÑ‰∫ãÊÉÖÔºåÂπ∂‰ºö‰∫ßÁîüÁõ∏Â∫îÁöÑÊ≥ïÂæãÂêéÊûú„ÄÇ  ","version":"0.12","tagName":"h2"},{"title":"release manager Á¨¨‰∏ÄÊ¨°ÂèëÂ∏É‚Äã","type":1,"pageTitle":"Â¶Ç‰ΩïÂèëÂ∏É","url":"/zh-CN/docs/0.12/community/how_to_release#release-manager-Á¨¨‰∏ÄÊ¨°ÂèëÂ∏É","content":" ","version":"0.12","tagName":"h2"},{"title":"ÁéØÂ¢ÉË¶ÅÊ±Ç‚Äã","type":1,"pageTitle":"Â¶Ç‰ΩïÂèëÂ∏É","url":"/zh-CN/docs/0.12/community/how_to_release#ÁéØÂ¢ÉË¶ÅÊ±Ç","content":" Ê≠§ÂèëÂ∏ÉËøáÁ®ãÂú® Ubuntu Á≥ªÁªü‰∏≠ËøêË°åÔºåÈúÄË¶Å‰ª•‰∏ãÂá†‰∏™ÁéØÂ¢É‰æùËµñÔºö  JDK 1.8+Apache Maven 3.x+Python 3.8GnuPG 2.xGitSVNÔºàApache Âü∫Èáë‰ºö‰ΩøÁî® svn Êù•ÊâòÁÆ°È°πÁõÆÂèëÂ∏ÉÔºâËÆæÁΩÆÁéØÂ¢ÉÂèòÈáèÔºöÂ¶ÇÊûúÊÇ®Âú®‰∏çÂêåÁöÑÁõÆÂΩï‰∏ãÈÖçÁΩÆ‰∫Ü gpg ÂØÜÈí•ÔºåËØ∑ÊâßË°å export GNUPGHOME=$(xxx) ÂØºÂá∫ÁéØÂ¢ÉÂèòÈáè„ÄÇ  ","version":"0.12","tagName":"h3"},{"title":"ÂáÜÂ§á GPG ÂØÜÈí•‚Äã","type":1,"pageTitle":"Â¶Ç‰ΩïÂèëÂ∏É","url":"/zh-CN/docs/0.12/community/how_to_release#ÂáÜÂ§á-gpg-ÂØÜÈí•","content":" Â¶ÇÊûúÊÇ®ÊòØÁ¨¨‰∏ÄÊ¨°‰Ωú‰∏∫ËΩØ‰ª∂ÂèëÂ∏ÉËÄÖÔºåÊÇ®ÈúÄË¶ÅÂáÜÂ§á‰∏Ä‰∏™ GPG ÂØÜÈí•„ÄÇ  ÊÇ®ÂèØ‰ª•ÂèÇËÄÉËøôÈáåÁöÑÂø´ÈÄüÂºÄÂßãËé∑Âèñ‰∏Ä‰∏™ GPG ÂØÜÈí•ÊàñËÄÖËé∑ÂèñÊõ¥Â§öÁõ∏ÂÖ≥‰ø°ÊÅØ„ÄÇ  ÂÆâË£Ö GPG‚Äã  sudo apt install gnupg2   ÁîüÊàê GPG ÂØÜÈí•‚Äã  ËØ∑‰ΩøÁî®ÊÇ®ÁöÑ Apache ÂêçÂ≠óÂíåÁîµÂ≠êÈÇÆ‰ª∂Âú∞ÂùÄÁîüÊàê GPG ÂØÜÈí•Ôºö  $ gpg --full-gen-key gpg (GnuPG) 2.2.20; Copyright (C) 2020 Free Software Foundation, Inc. This is free software: you are free to change and redistribute it. There is NO WARRANTY, to the extent permitted by law. Please select what kind of key you want: (1) RSA and RSA (default) (2) DSA and Elgamal (3) DSA (sign only) (4) RSA (sign only) (14) Existing key from card Your selection? 1 # input 1 RSA keys may be between 1024 and 4096 bits long. What keysize do you want? (2048) 4096 # input 4096 Requested keysize is 4096 bits Please specify how long the key should be valid. 0 = key does not expire &lt;n&gt; = key expires in n days &lt;n&gt;w = key expires in n weeks &lt;n&gt;m = key expires in n months &lt;n&gt;y = key expires in n years Key is valid for? (0) 0 # input 0 Key does not expire at all Is this correct? (y/N) y # input y GnuPG needs to construct a user ID to identify your key. Real name: Chaokun Yang # input your name Email address: chaokunyang@apache.org # input your email Comment: CODE SIGNING KEY # input some annotations, optional You selected this USER-ID: &quot;Chaokun &lt;chaokunyang@apache.org&gt;&quot; Change (N)ame, (C)omment, (E)mail or (O)kay/(Q)uit? O # input O We need to generate a lot of random bytes. It is a good idea to perform some other action (type on the keyboard, move the mouse, utilize the disks) during the prime generation; this gives the random number generator a better chance to gain enough entropy. We need to generate a lot of random bytes. It is a good idea to perform some other action (type on the keyboard, move the mouse, utilize the disks) during the prime generation; this gives the random number generator a better chance to gain enough entropy. # Input the security key ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îÇ Please enter this passphrase ‚îÇ ‚îÇ ‚îÇ ‚îÇ Passphrase: _______________________________ ‚îÇ ‚îÇ ‚îÇ ‚îÇ &lt;OK&gt; &lt;Cancel&gt; ‚îÇ ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò # key generation will be done after your inputting the key with the following output gpg: key E49B00F626B marked as ultimately trusted gpg: revocation certificate stored as '/Users/chaokunyang/.gnupg/openpgp-revocs.d/1E2CDAE4C08AD7D694D1CB139D7BE8E45E580BA4.rev' public and secret key created and signed. pub rsa4096 2022-07-12 [SC] 1E2CDAE4C08AD7D694D1CB139D7BE8E45E580BA4 uid [ultimate] Chaokun &lt;chaokunyang@apache.org&gt; sub rsa4096 2022-07-12 [E]   ‰∏ä‰º†ÂÖ¨Èí•Ëá≥ GPG ÂØÜÈí•ÊúçÂä°Âô®‚Äã  È¶ñÂÖàÔºåÂàóÂá∫ÊÇ®ÊâÄÂàõÂª∫ÁöÑ GPG ÂØÜÈí•Ôºö  gpg --list-keys   ÊâßË°åÁõ∏ÂÖ≥ÂëΩ‰ª§‰πãÂêéÔºåÊÇ®Â∞ÜÁúãÂà∞Â¶Ç‰∏ãËæìÂá∫Ôºö  -------------------------------------------------- pub rsa4096 2024-03-27 [SC] 1E2CDAE4C08AD7D694D1CB139D7BE8E45E580BA4 uid [ultimate] chaokunyang (CODE SIGNING KEY) &lt;chaokunyang@apache.org&gt; sub rsa4096 2024-03-27 [E]   ÁÑ∂ÂêéÔºåÂ∞ÜÊÇ®ÁöÑÂØÜÈí• ID ÂèëÈÄÅÂà∞ÂØÜÈí•ÊúçÂä°Âô®Ôºö  gpg --keyserver keys.openpgp.org --send-key &lt;key-id&gt; # e.g., 1E2CDAE4C08AD7D694D1CB139D7BE8E45E580BA4   ÂÖ∂‰∏≠Ôºåkeys.openpgp.org ÊòØ‰∏Ä‰∏™ÈöèÊú∫ÈÄâÊã©ÁöÑÂØÜÈí•ÊúçÂä°Âô®ÔºåÂèØ‰ª•‰ΩøÁî® keyserver.ubuntu.com Êàñ‰ªª‰ΩïÂÖ∂‰ªñÂäüËÉΩÂÆåÂ§áÁöÑÂØÜÈí•ÊúçÂä°Âô®„ÄÇ  Ê£ÄÊü•ÂØÜÈí•ÊòØÂê¶ÂàõÂª∫ÊàêÂäü‚Äã  ‰∏ä‰º†Â§ßÁ∫¶ÈúÄË¶Å‰∏ÄÂàÜÈíüÔºõ‰πãÂêéÔºåÊÇ®ÂèØ‰ª•ÈÄöËøáÁîµÂ≠êÈÇÆ‰ª∂Âú®Áõ∏Â∫îÁöÑÂØÜÈí•ÊúçÂä°Âô®‰∏äÊ£ÄÊü•„ÄÇ  Â∞ÜÂØÜÈí•‰∏ä‰º†Âà∞ÂØÜÈí•ÊúçÂä°Âô®ÁöÑ‰∏ªË¶ÅÁõÆÁöÑÊòØ‰∏∫‰∫ÜÂä†ÂÖ•‰∏Ä‰∏™ÂèØ‰ø°ÁöÑ‰ø°‰ªªÁΩëÁªú„ÄÇ  Â∞Ü GPG ÂÖ¨Èí•Ê∑ªÂä†Âà∞È°πÁõÆ KEYS Êñá‰ª∂‰∏≠‚Äã  ÂèëÂ∏ÉÂàÜÊîØÁöÑ svn ‰ªìÂ∫ìÊòØÔºöhttps://dist.apache.org/repos/dist/release/incubator/fory  ËØ∑Âú®ÂèëÂ∏ÉÂàÜÊîØÁöÑ KEYS ‰∏≠Ê∑ªÂä†ÂÖ¨Èí•Ôºö  svn co https://dist.apache.org/repos/dist/release/incubator/fory fory-dist # As this step will copy all the versions, it will take some time. If the network is broken, please use svn cleanup to delete the lock before re-execute it. cd fory-dist (gpg --list-sigs YOUR_NAME@apache.org &amp;&amp; gpg --export --armor YOUR_NAME@apache.org) &gt;&gt; KEYS # Append your key to the KEYS file svn add . # It is not needed if the KEYS document exists before. svn ci -m &quot;add gpg key for YOUR_NAME&quot; # Later on, if you are asked to enter a username and password, just use your apache username and password.   Â∞Ü GPG ÂÖ¨Èí•‰∏ä‰º†Âà∞ÊÇ®ÁöÑ GitHub Â∏êÊà∑‚Äã  ËæìÂÖ• https://github.com/settings/keys ‰ª•Ê∑ªÂä†ÊÇ®ÁöÑ GPG ÂØÜÈí•„ÄÇÂ¶ÇÊûúÊ∑ªÂä†ÂêéÂèëÁé∞‚ÄúÊú™È™åËØÅ‚ÄùÂ≠óÊ†∑ÔºåËØ∑Â∞Ü GPG ÂØÜÈí•‰∏≠‰ΩøÁî®ÁöÑÁîµÂ≠êÈÇÆ‰ª∂Âú∞ÂùÄÁªëÂÆöÂà∞ÊÇ®ÁöÑ GitHub Â∏êÊà∑Ôºàhttps://github.com/settings/emailsÔºâ„ÄÇ  ","version":"0.12","tagName":"h3"},{"title":"Âª∂‰º∏ÈòÖËØª‚Äã","type":1,"pageTitle":"Â¶Ç‰ΩïÂèëÂ∏É","url":"/zh-CN/docs/0.12/community/how_to_release#Âª∂‰º∏ÈòÖËØª","content":" Âª∫ËÆÆÊÇ®Âú®ÂèëÂ∏É‰πãÂâçÈòÖËØª‰ª•‰∏ãÊñáÊ°£Ôºå‰∫ÜËß£ÊúâÂÖ≥ Apache Âü∫Èáë‰ºöÂèëÂ∏ÉËΩØ‰ª∂ÁöÑÊõ¥Â§öËØ¶ÁªÜ‰ø°ÊÅØÔºå‰ΩÜËøô‰∏çÊòØÂøÖÈ°ªÁöÑÔºö  ÂèëÂ∏ÉÊîøÁ≠ñÔºöhttps://www.apache.org/legal/release-policy.htmlTLP ÁâàÊú¨Ôºöhttps://infra.apache.org/release-distributionÂèëÂ∏ÉÊ†áÂøóÔºöhttps://infra.apache.org/release-signing.htmlÂèëÂ∏ÉÂèëÂ∏ÉÔºöhttps://infra.apache.org/release-publishing.htmlÂèëÂ∏É‰∏ãËΩΩÈ°µÈù¢Ôºöhttps://infra.apache.org/release-download-pages.htmlÂèëÂ∏É maven artifactsÔºöhttps://infra.apache.org/publishing-maven-artifacts.html  ","version":"0.12","tagName":"h3"},{"title":"ÂºÄÂßãÊúâÂÖ≥ÂèëÂ∏ÉÁöÑËÆ®ËÆ∫‚Äã","type":1,"pageTitle":"Â¶Ç‰ΩïÂèëÂ∏É","url":"/zh-CN/docs/0.12/community/how_to_release#ÂºÄÂßãÊúâÂÖ≥ÂèëÂ∏ÉÁöÑËÆ®ËÆ∫","content":" ÈÄöËøáÂèëÈÄÅÁîµÂ≠êÈÇÆ‰ª∂Ëá≥‰ª•‰∏ãÂú∞ÂùÄÂèëËµ∑ÊúâÂÖ≥‰∏ã‰∏Ä‰∏™ÁâàÊú¨ÁöÑËÆ®ËÆ∫Ôºödev@fory.apache.orgÔºö  Ê†áÈ¢òÔºö  [DISCUSS] Release Apache Fory(incubating) ${release_version}   ÂÜÖÂÆπÔºö  Hello, Apache Fory(incubating) Community, This is a call for a discussion to release Apache Fory(incubating) version ${release_version}. The change lists about this release: https://github.com/apache/fory/compare/v0.4.1...v0.5.0 Please leave your comments here about this release plan. We will bump the version in repo and start the release process after the discussion. Thanks, ${name}   ","version":"0.12","tagName":"h2"},{"title":"ÂáÜÂ§áÂèëÂ∏É‚Äã","type":1,"pageTitle":"Â¶Ç‰ΩïÂèëÂ∏É","url":"/zh-CN/docs/0.12/community/how_to_release#ÂáÜÂ§áÂèëÂ∏É","content":" Â¶ÇÊûúËÆ®ËÆ∫ÁªìÊûú‰∏≠Ê≤°ÊúâÂá∫Áé∞ÂèçÂØπÂ£∞Èü≥ÔºåÊÇ®ÈúÄË¶ÅÂÅö‰∏Ä‰∫õÂèëÂ∏ÉÁâàÊú¨ÁöÑÂáÜÂ§áÂ∑•‰Ωú„ÄÇ  ","version":"0.12","tagName":"h2"},{"title":"Github ÂàÜÊîØÂíåÊ†áÁ≠æ‚Äã","type":1,"pageTitle":"Â¶Ç‰ΩïÂèëÂ∏É","url":"/zh-CN/docs/0.12/community/how_to_release#github-ÂàÜÊîØÂíåÊ†áÁ≠æ","content":" ÂàõÂª∫‰∏Ä‰∏™Âêç‰∏∫ releases-0.5.0ÈÄöËøáÊâßË°åÂëΩ‰ª§Â∞ÜÁâàÊú¨ $version ÂçáÁ∫ßÂà∞ python ci/release.py bump_version -l all -version $versionÊâßË°å git commit Âπ∂Â∞ÜÂàÜÊîØÊé®ÈÄÅÂà∞ git@github.com:apache/fory.gitÈÄöËøá git tag v0.5.0-rc1 ÂàõÂª∫‰∏Ä‰∏™Êñ∞Ê†áÁ≠æÔºåÁÑ∂ÂêéÂ∞ÜÂÖ∂Êé®ÈÄÅÂà∞ git@github.com:apache/fory.git  ","version":"0.12","tagName":"h3"},{"title":"ÊûÑÂª∫ artifacts Âπ∂‰∏ä‰º†Âà∞ SVN dist/dev ‰ªìÂ∫ì‚Äã","type":1,"pageTitle":"Â¶Ç‰ΩïÂèëÂ∏É","url":"/zh-CN/docs/0.12/community/how_to_release#ÊûÑÂª∫-artifacts-Âπ∂‰∏ä‰º†Âà∞-svn-distdev-‰ªìÂ∫ì","content":" È¶ñÂÖàÔºåÊÇ®ÈúÄË¶ÅÈÄöËøá python ci/release.py build -v $version ÊûÑÂª∫È¢ÑÂèëÂ∏É artifacts„ÄÇ  ÁÑ∂ÂêéÊÇ®ÈúÄË¶ÅÊääÂÆÉ‰∏ä‰º†Âà∞ svn dist repo„ÄÇdev ÂàÜÊîØÁöÑ dist ‰ªìÂ∫ìÂú∞ÂùÄÊòØÔºöhttps://dist.apache.org/repos/dist/dev/incubator/fory  # As this step will copy all the versions, it will take some time. If the network is broken, please use svn cleanup to delete the lock before re-execute it. svn co https://dist.apache.org/repos/dist/dev/incubator/fory fory-dist-dev   ÁÑ∂ÂêéÔºå‰∏ä‰º†È°πÁõÆÔºö  cd fory-dist-dev # create a directory named by version mkdir ${release_version}-${rc_version} # copy source code and signature package to the versioned directory cp ${repo_dir}/dist/* ${release_version}-${rc_version} # check svn status svn status # add to svn svn add ${release_version}-${rc_version} # check svn status svn status # commit to SVN remote server svn commit -m &quot;Prepare for fory ${release_version}-${rc_version}&quot;   ËÆøÈóÆ https://dist.apache.org/repos/dist/dev/incubator/fory/ ‰ª•Ê£ÄÊü• artifacts ÊòØÂê¶Ê≠£Á°Æ‰∏ä‰º†„ÄÇ  ","version":"0.12","tagName":"h3"},{"title":"Â¶ÇÊûúÂá∫Áé∞ÈóÆÈ¢òËØ•ÊÄé‰πàÂäû‚Äã","type":1,"pageTitle":"Â¶Ç‰ΩïÂèëÂ∏É","url":"/zh-CN/docs/0.12/community/how_to_release#Â¶ÇÊûúÂá∫Áé∞ÈóÆÈ¢òËØ•ÊÄé‰πàÂäû","content":" Â¶ÇÊûúÊüê‰∫õÊñá‰ª∂ÊòØÊÑèÂ§ñÂá∫Áé∞ÊàñËÄÖÂèëÁîüÊüê‰∫õÈîôËØØÔºåÂàôÈúÄË¶ÅÂà†Èô§Áõ∏ÂÖ≥ÂÜÖÂÆπÂπ∂ÊâßË°å svn deleteÔºåÁÑ∂ÂêéÈáçÂ§ç‰∏äËø∞‰∏ä‰º†ËøáÁ®ã„ÄÇ  ","version":"0.12","tagName":"h3"},{"title":"ÊäïÁ•®‚Äã","type":1,"pageTitle":"Â¶Ç‰ΩïÂèëÂ∏É","url":"/zh-CN/docs/0.12/community/how_to_release#ÊäïÁ•®","content":" Êñ∞ÁâàÊú¨ÂèëÂ∏ÉÈúÄË¶Å Apache Fory Á§æÂå∫ÁöÑÊäïÁ•®„ÄÇ  release_versionÔºöFory ÁöÑÁâàÊú¨ÔºåÂ¶Ç 0.5.0„ÄÇrelease_candidate_versionÔºöÊäïÁ•®ÁöÑÁâàÊú¨ÔºåÂ¶Ç 0.5.0-rc1„ÄÇmaven_artifact_numberÔºöMaven ÊöÇÂ≠ò artifacts ÁöÑÊï∞Èáè„ÄÇÂ¶Ç 1001. ÂÖ∑‰ΩìÊù•ËØ¥ÔºåÂèØ‰ª•ÈÄöËøáÊêúÁ¥¢ ‚Äúfory‚Äù Êù•ÊâæÂà∞ maven_artifact_number https://repository.apache.org/#stagingRepositories.  ","version":"0.12","tagName":"h2"},{"title":"Fory Á§æÂå∫ÊäïÁ•®‚Äã","type":1,"pageTitle":"Â¶Ç‰ΩïÂèëÂ∏É","url":"/zh-CN/docs/0.12/community/how_to_release#fory-Á§æÂå∫ÊäïÁ•®","content":" ÂèëÈÄÅÁîµÂ≠êÈÇÆ‰ª∂Ëá≥ Fory CommunityÔºödev@fory.apache.orgÔºö  Ê†áÈ¢òÔºö  [VOTE] Release Apache Fory(incubating) v${release_version}-${rc_version}   ÂÜÖÂÆπÔºö  Hello, Apache Fory(incubating) Community: This is a call for vote to release Apache Fory(Incubating) version release-0.5.0-rc3. Apache Fory(incubating) - A blazingly fast multi-language serialization framework powered by JIT and zero-copy. The change lists about this release: https://github.com/apache/fory/compare/v0.4.1...v0.5.0-rc3 The release candidates: https://dist.apache.org/repos/dist/dev/incubator/fory/0.5.0-rc3/ The maven staging for this release: https://repository.apache.org/content/repositories/orgapachefory-1003 Git tag for the release: https://github.com/apache/fory/releases/tag/v0.5.0-rc3 Git commit for the release: https://github.com/apache/fory/commit/fae06330edd049bb960536e978a45b97bca66faf The artifacts signed with PGP key [5E580BA4], corresponding to [chaokunyang@apache.org], that can be found in keys file: https://downloads.apache.org/incubator/fory/KEYS The vote will be open for at least 72 hours until the necessary number of votes are reached. Please vote accordingly: [ ] +1 approve [ ] +0 no opinion [ ] -1 disapprove with the reason To learn more about Fory, please see https://fory.apache.org/ *Valid check is a requirement for a vote. *Checklist for reference: [ ] Download Fory is valid. [ ] Checksums and PGP signatures are valid. [ ] Source code distributions have correct names matching the current release. [ ] LICENSE and NOTICE files are correct. [ ] All files have license headers if necessary. [ ] No compiled archives bundled in source archive. [ ] Can compile from source. More detail checklist please refer: https://cwiki.apache.org/confluence/display/INCUBATOR/Incubator+Release+Checklist How to Build and Test, please refer to: https://github.com/apache/fory/blob/main/docs/guide/DEVELOPMENT.md Thanks, Chaokun Yang   Âú®Ëá≥Â∞ëËé∑Âæó 3 + 1 ‰∏îÂÖ∑ÊúâÁ∫¶ÊùüÂäõÁöÑÊäïÁ•®ÔºàÊù•Ëá™ Fory Podling PMC ÊàêÂëòÂíåÊèê‰∫§ËÄÖÔºâÂπ∂Ê≤°ÊúâÊî∂Âà∞Âê¶ÂÜ≥Á•®‰πãÂêéÔºåÂèëÂ∏ÉÊäïÁ•®ÁªìÊûúÔºö  Ê†áÈ¢òÔºö  [RESULT][VOTE] Release Apache Fory(incubating) v${release_version}-${rc_version}   ÂÜÖÂÆπÔºö  Hello, Apache Fory(incubating) Community, The vote to release Apache Fory(Incubating) v${release_version}-${rc_version} has passed. The vote PASSED with 3 binding +1 and 0 -1 vote: Binding votes: - xxx - yyy - zzz Vote thread: ${vote_thread_url} Thanks, ${name}   ","version":"0.12","tagName":"h3"},{"title":"Â¶ÇÊûúÊäïÁ•®Â§±Ë¥•ÊÄé‰πàÂäû‚Äã","type":1,"pageTitle":"Â¶Ç‰ΩïÂèëÂ∏É","url":"/zh-CN/docs/0.12/community/how_to_release#Â¶ÇÊûúÊäïÁ•®Â§±Ë¥•ÊÄé‰πàÂäû","content":" Â¶ÇÊûúÊäïÁ•®Â§±Ë¥•ÔºåËØ∑ÂçïÂáª‚ÄúÂà†Èô§‚Äù‰ª•Âà†Èô§ÊöÇÂ≠òÁöÑ Maven artifacts„ÄÇ  Ëß£ÂÜ≥ÊèêÂá∫ÁöÑÈóÆÈ¢òÔºåÁÑ∂ÂêéÂÜçÊ¨°ÊèêÂá∫ rc_version ÁöÑÊñ∞ÊäïÁ•®„ÄÇ  ","version":"0.12","tagName":"h3"},{"title":"ÂÆòÊñπÂèëÂ∏É‚Äã","type":1,"pageTitle":"Â¶Ç‰ΩïÂèëÂ∏É","url":"/zh-CN/docs/0.12/community/how_to_release#ÂÆòÊñπÂèëÂ∏É","content":" ","version":"0.12","tagName":"h2"},{"title":"Â∞Ü artifacts ÂèëÂ∏ÉÂà∞ SVN ÂèëÂ∏ÉÁõÆÂΩï‚Äã","type":1,"pageTitle":"Â¶Ç‰ΩïÂèëÂ∏É","url":"/zh-CN/docs/0.12/community/how_to_release#Â∞Ü-artifacts-ÂèëÂ∏ÉÂà∞-svn-ÂèëÂ∏ÉÁõÆÂΩï","content":" release_versionÔºöFory ÁöÑÂèëÂ∏ÉÁâàÊú¨ÔºåÂ¶Ç 0.5.0release_candidate_versionÔºöÊäïÁ•®ÁâàÊú¨ÔºåÂ¶Ç 0.5.0-rc1  svn mv https://dist.apache.org/repos/dist/dev/incubator/fory/${release_version}-${rc_version} https://dist.apache.org/repos/dist/release/incubator/fory/${release_version} -m &quot;Release fory ${release_version}&quot;   ","version":"0.12","tagName":"h3"},{"title":"Êõ¥Êîπ Fory ÁΩëÁ´ô‰∏ãËΩΩÈìæÊé•‚Äã","type":1,"pageTitle":"Â¶Ç‰ΩïÂèëÂ∏É","url":"/zh-CN/docs/0.12/community/how_to_release#Êõ¥Êîπ-fory-ÁΩëÁ´ô‰∏ãËΩΩÈìæÊé•","content":" Êèê‰∫§ PR Âà∞ https://github.com/apache/fory-site ‰ªìÂ∫ìÊõ¥Êñ∞ Fory ÁâàÊú¨Ôºå‰∏ãËΩΩÈ°µÈù¢  ","version":"0.12","tagName":"h3"},{"title":"ÂèëÂ∏É Maven artifacts‚Äã","type":1,"pageTitle":"Â¶Ç‰ΩïÂèëÂ∏É","url":"/zh-CN/docs/0.12/community/how_to_release#ÂèëÂ∏É-maven-artifacts","content":" maven_artifact_numberÔºöMaven ÊöÇÂ≠ò artifacts ÁöÑÊï∞Èáè„ÄÇÂ¶Ç 1001„ÄÇÊâìÂºÄhttps://repository.apache.org/#stagingRepositories.ÊâæÂà∞ artifacts orgapachefory-${maven_artifact_number}ÔºåÁÇπÂáª‚ÄúÂèëÂ∏É‚Äù„ÄÇ  ","version":"0.12","tagName":"h3"},{"title":"ÂèëÈÄÅÂÖ¨Âëä‚Äã","type":1,"pageTitle":"Â¶Ç‰ΩïÂèëÂ∏É","url":"/zh-CN/docs/0.12/community/how_to_release#ÂèëÈÄÅÂÖ¨Âëä","content":" Â∞ÜÂèëÂ∏ÉÂÖ¨ÂëäÂèëÈÄÅÁªô dev@fory.apache.org Âπ∂‰∏îÊäÑÈÄÅÁªô announce@apache.org„ÄÇ  Ê†áÈ¢òÔºö  [ANNOUNCE] Release Apache Fory(incubating) ${release_version}   ÂÜÖÂÆπÔºö  Hi all, The Apache Fory(incubating) community is pleased to announce that Apache Fory(incubating) {release_version} has been released! Apache Fory(incubating) - A blazingly fast multi-language serialization framework powered by JIT and zero-copy. The release notes are available here: https://github.com/apache/fory/releases/tag/v${release_version} For the complete list of changes: https://github.com/apache/fory/compare/v0.5.0...v${release_version} Apache Fory website: https://fory.apache.org/ Download Links: https://fory.apache.org/download Fory Resources: - Fory github repo: https://github.com/apache/fory - Issue: https://github.com/apache/fory/issues - Mailing list: dev@fory.apache.org We are looking to grow our community and welcome new contributors. If you are interested in contributing to Fory, please contact us on the mailing list or on GitHub. We will be happy to help you get started. ------------------ Best Regards, ${your_name}   Ëá≥Ê≠§ÔºåÊï¥‰∏™ÂèëÂ∏ÉÊµÅÁ®ãÁªìÊùü„ÄÇ ","version":"0.12","tagName":"h3"},{"title":"GraalVM Â∫èÂàóÂåñ","type":0,"sectionRef":"#","url":"/zh-CN/docs/0.12/guide/graalvm_serialization","content":"","keywords":"","version":"0.12"},{"title":"GraalVM Native Image‚Äã","type":1,"pageTitle":"GraalVM Â∫èÂàóÂåñ","url":"/zh-CN/docs/0.12/guide/graalvm_serialization#graalvm-native-image","content":" GraalVM ÁöÑ native image ËÉΩÂ∞Ü Java ‰ª£Á†ÅÊèêÂâçÁºñËØë‰∏∫Êú¨Âú∞‰ª£Á†ÅÔºå‰ªéËÄåÊûÑÂª∫Êõ¥Âø´„ÄÅÊõ¥Â∞è„ÄÅÊõ¥Á≤æÁÆÄÁöÑÂ∫îÁî®„ÄÇ Native image ‰∏çÂåÖÂê´ JIT ÁºñËØëÂô®ÔºåÊó†Ê≥ïÂú®ËøêË°åÊó∂Â∞ÜÂ≠óËäÇÁ†ÅÁºñËØë‰∏∫Êú∫Âô®Á†ÅÔºå‰πü‰∏çÊîØÊåÅÂèçÂ∞ÑÔºåÈô§ÈùûÈÖçÁΩÆÂèçÂ∞ÑÂÖÉÊï∞ÊçÆÊñá‰ª∂„ÄÇ  Apache Fory‚Ñ¢ Âú®GraalVM native image ‰∏ãËøêË°åËâØÂ•Ω„ÄÇFory ‰ºöÂú® graalvm ÊûÑÂª∫Èò∂ÊÆµ‰∏∫ Fory JIT framework Âíå MethodHandle/LambdaMetafactory ÁîüÊàêÊâÄÊúâÂ∫èÂàóÂåñÂô®‰ª£Á†ÅÔºåËøêË°åÊó∂Áõ¥Êé•‰ΩøÁî®Ëøô‰∫õÁîüÊàêÁöÑ‰ª£Á†ÅËøõË°åÂ∫èÂàóÂåñÔºåÊó†ÈúÄÈ¢ùÂ§ñÂºÄÈîÄÔºåÊÄßËÉΩ‰ºòÂºÇ„ÄÇ  Âú® graalvm native image ‰∏ã‰ΩøÁî® Fory Êó∂ÔºåÂøÖÈ°ªÂ∞Ü Fory ÂàõÂª∫‰∏∫Á±ªÁöÑÈùôÊÄÅÂ≠óÊÆµÔºåÂπ∂Âú®Á±ªÂàùÂßãÂåñÊó∂Ê≥®ÂÜåÊâÄÊúâÁ±ªÂûã„ÄÇÁÑ∂ÂêéÂú® resources/META-INF/native-image/$xxx/native-image.properties ‰∏ãÈÖçÁΩÆ native-image.propertiesÔºåÂëäÁü• graalvm Âú® native image ÊûÑÂª∫Êó∂ÂàùÂßãÂåñËØ•Á±ª„ÄÇ‰æãÂ¶ÇÔºåÈÖçÁΩÆ org.apache.fory.graalvm.Example Á±ªÂú®ÊûÑÂª∫Êó∂ÂàùÂßãÂåñÔºö  Args = --initialize-at-build-time=org.apache.fory.graalvm.Example   ‰ΩøÁî® fory ÁöÑÂè¶‰∏Ä‰∏™Â•ΩÂ§ÑÊòØÊó†ÈúÄÈÖçÁΩÆÁπÅÁêêÁöÑ reflection json Âíå serialization json„ÄÇÂè™ÈúÄÂØπÊØè‰∏™ÈúÄË¶ÅÂ∫èÂàóÂåñÁöÑÁ±ªÂûãË∞ÉÁî® org.apache.fory.Fory.register(Class&lt;?&gt;, boolean) Âç≥ÂèØ„ÄÇ  Ê≥®ÊÑèÔºöFory ÁöÑ asyncCompilationEnabled ÈÄâÈ°πÂú® graalvm native image ‰∏ã‰ºöËá™Âä®Á¶ÅÁî®ÔºåÂõ†‰∏∫ native image ËøêË°åÊó∂‰∏çÊîØÊåÅ JIT„ÄÇ  ","version":"0.12","tagName":"h2"},{"title":"ÈùûÁ∫øÁ®ãÂÆâÂÖ® Fory‚Äã","type":1,"pageTitle":"GraalVM Â∫èÂàóÂåñ","url":"/zh-CN/docs/0.12/guide/graalvm_serialization#ÈùûÁ∫øÁ®ãÂÆâÂÖ®-fory","content":" Á§∫‰æãÔºö  import org.apache.fory.Fory; import org.apache.fory.util.Preconditions; import java.util.List; import java.util.Map; public class Example { public record Record ( int f1, String f2, List&lt;String&gt; f3, Map&lt;String, Long&gt; f4) { } static Fory fory; static { fory = Fory.builder().build(); // Ê≥®ÂÜåÂπ∂ÁîüÊàêÂ∫èÂàóÂåñÂô®‰ª£Á†Å„ÄÇ fory.register(Record.class, true); } public static void main(String[] args) { Record record = new Record(10, &quot;abc&quot;, List.of(&quot;str1&quot;, &quot;str2&quot;), Map.of(&quot;k1&quot;, 10L, &quot;k2&quot;, 20L)); System.out.println(record); byte[] bytes = fory.serialize(record); Object o = fory.deserialize(bytes); System.out.println(o); Preconditions.checkArgument(record.equals(o)); } }   ÁÑ∂ÂêéÂú® native-image.properties ÈÖçÁΩÆ‰∏≠Ê∑ªÂä† org.apache.fory.graalvm.Example ÁöÑÊûÑÂª∫Êó∂ÂàùÂßãÂåñÔºö  Args = --initialize-at-build-time=org.apache.fory.graalvm.Example   ","version":"0.12","tagName":"h2"},{"title":"Á∫øÁ®ãÂÆâÂÖ® Fory‚Äã","type":1,"pageTitle":"GraalVM Â∫èÂàóÂåñ","url":"/zh-CN/docs/0.12/guide/graalvm_serialization#Á∫øÁ®ãÂÆâÂÖ®-fory","content":" import org.apache.fory.Fory; import org.apache.fory.ThreadLocalFory; import org.apache.fory.ThreadSafeFory; import org.apache.fory.util.Preconditions; import java.util.List; import java.util.Map; public class ThreadSafeExample { public record Foo ( int f1, String f2, List&lt;String&gt; f3, Map&lt;String, Long&gt; f4) { } static ThreadSafeFory fory; static { fory = new ThreadLocalFory(classLoader -&gt; { Fory f = Fory.builder().build(); // Ê≥®ÂÜåÂπ∂ÁîüÊàêÂ∫èÂàóÂåñÂô®‰ª£Á†Å„ÄÇ f.register(Foo.class, true); return f; }); } public static void main(String[] args) { System.out.println(fory.deserialize(fory.serialize(&quot;abc&quot;))); System.out.println(fory.deserialize(fory.serialize(List.of(1,2,3)))); System.out.println(fory.deserialize(fory.serialize(Map.of(&quot;k1&quot;, 1, &quot;k2&quot;, 2)))); Foo foo = new Foo(10, &quot;abc&quot;, List.of(&quot;str1&quot;, &quot;str2&quot;), Map.of(&quot;k1&quot;, 10L, &quot;k2&quot;, 20L)); System.out.println(foo); byte[] bytes = fory.serialize(foo); Object o = fory.deserialize(bytes); System.out.println(o); } }   ÁÑ∂ÂêéÂú® native-image.properties ÈÖçÁΩÆ‰∏≠Ê∑ªÂä† org.apache.fory.graalvm.ThreadSafeExample ÁöÑÊûÑÂª∫Êó∂ÂàùÂßãÂåñÔºö  Args = --initialize-at-build-time=org.apache.fory.graalvm.ThreadSafeExample   ","version":"0.12","tagName":"h2"},{"title":"Ê°ÜÊû∂ÈõÜÊàê‚Äã","type":1,"pageTitle":"GraalVM Â∫èÂàóÂåñ","url":"/zh-CN/docs/0.12/guide/graalvm_serialization#Ê°ÜÊû∂ÈõÜÊàê","content":" ÂØπ‰∫éÊ°ÜÊû∂ÂºÄÂèëËÄÖÔºåÂ¶ÇÊûúÂ∏åÊúõÈõÜÊàê fory ‰Ωú‰∏∫Â∫èÂàóÂåñÊñπÊ°àÔºåÂèØ‰ª•Êèê‰æõ‰∏Ä‰∏™ÈÖçÁΩÆÊñá‰ª∂ÔºåËÆ©Áî®Êà∑ÂàóÂá∫ÊâÄÊúâÈúÄË¶ÅÂ∫èÂàóÂåñÁöÑÁ±ªÔºåÁÑ∂ÂêéÂä†ËΩΩËøô‰∫õÁ±ªÂπ∂Âú® Fory ÈõÜÊàêÁ±ª‰∏≠Ë∞ÉÁî® org.apache.fory.Fory.register(Class&lt;?&gt;, boolean) ËøõË°åÊ≥®ÂÜåÔºåÂπ∂ÈÖçÁΩÆËØ•Á±ªÂú® graalvm native image ÊûÑÂª∫Êó∂ÂàùÂßãÂåñ„ÄÇ  ","version":"0.12","tagName":"h2"},{"title":"Benchmark‚Äã","type":1,"pageTitle":"GraalVM Â∫èÂàóÂåñ","url":"/zh-CN/docs/0.12/guide/graalvm_serialization#benchmark","content":" ËøôÈáåÁªôÂá∫ Fory ‰∏é Graalvm Serialization ÁöÑ‰∏§‰∏™Á±ªÁöÑÂü∫ÂáÜÊµãËØï„ÄÇ  Fory Êú™ÂºÄÂêØÂéãÁº©Êó∂Ôºö  StructÔºöFory ‰∏∫ JDK ÁöÑ 46x ÈÄüÂ∫¶Ôºå43% Â§ßÂ∞èPojoÔºöFory ‰∏∫ JDK ÁöÑ 12x ÈÄüÂ∫¶Ôºå56% Â§ßÂ∞è  Fory ÂºÄÂêØÂéãÁº©Êó∂Ôºö  StructÔºöFory ‰∏∫ JDK ÁöÑ 24x ÈÄüÂ∫¶Ôºå31% Â§ßÂ∞èPojoÔºöFory ‰∏∫ JDK ÁöÑ 12x ÈÄüÂ∫¶Ôºå48% Â§ßÂ∞è  Âü∫ÂáÜÊµãËØï‰ª£Á†ÅËßÅ [Benchmark.java]„ÄÇ  ","version":"0.12","tagName":"h2"},{"title":"Struct Âü∫ÂáÜÊµãËØï‚Äã","type":1,"pageTitle":"GraalVM Â∫èÂàóÂåñ","url":"/zh-CN/docs/0.12/guide/graalvm_serialization#struct-Âü∫ÂáÜÊµãËØï","content":" Á±ªÂ≠óÊÆµ‚Äã  public class Struct implements Serializable { public int f1; public long f2; public float f3; public double f4; public int f5; public long f6; public float f7; public double f8; public int f9; public long f10; public float f11; public double f12; }   Benchmark ÁªìÊûú‚Äã  Êú™ÂéãÁº©Ôºö  Benchmark repeat number: 400000 Object type: class org.apache.fory.graalvm.Struct Compress number: false Fory size: 76.0 JDK size: 178.0 Fory serialization took mills: 49 JDK serialization took mills: 2254 Compare speed: Fory is 45.70x speed of JDK Compare size: Fory is 0.43x size of JDK   ÂéãÁº©Ôºö  Benchmark repeat number: 400000 Object type: class org.apache.fory.graalvm.Struct Compress number: true Fory size: 55.0 JDK size: 178.0 Fory serialization took mills: 130 JDK serialization took mills: 3161 Compare speed: Fory is 24.16x speed of JDK Compare size: Fory is 0.31x size of JDK   ","version":"0.12","tagName":"h3"},{"title":"Pojo Âü∫ÂáÜÊµãËØï‚Äã","type":1,"pageTitle":"GraalVM Â∫èÂàóÂåñ","url":"/zh-CN/docs/0.12/guide/graalvm_serialization#pojo-Âü∫ÂáÜÊµãËØï","content":" Á±ªÂ≠óÊÆµ‚Äã  public class Foo implements Serializable { int f1; String f2; List&lt;String&gt; f3; Map&lt;String, Long&gt; f4; }   Benchmark ÁªìÊûú‚Äã  Êú™ÂéãÁº©Ôºö  Benchmark repeat number: 400000 Object type: class org.apache.fory.graalvm.Foo Compress number: false Fory size: 541.0 JDK size: 964.0 Fory serialization took mills: 1663 JDK serialization took mills: 16266 Compare speed: Fory is 12.19x speed of JDK Compare size: Fory is 0.56x size of JDK   ÂéãÁº©Ôºö  Benchmark repeat number: 400000 Object type: class org.apache.fory.graalvm.Foo Compress number: true Fory size: 459.0 JDK size: 964.0 Fory serialization took mills: 1289 JDK serialization took mills: 15069 Compare speed: Fory is 12.11x speed of JDK Compare size: Fory is 0.48x size of JDK  ","version":"0.12","tagName":"h3"},{"title":"Ë∑®ËØ≠Ë®ÄÁ±ªÂûãÊò†Â∞Ñ","type":0,"sectionRef":"#","url":"/zh-CN/docs/0.12/guide/xlang_type_mapping","content":"","keywords":"","version":"0.12"},{"title":"Á±ªÂûãÊò†Â∞Ñ‚Äã","type":1,"pageTitle":"Ë∑®ËØ≠Ë®ÄÁ±ªÂûãÊò†Â∞Ñ","url":"/zh-CN/docs/0.12/guide/xlang_type_mapping#Á±ªÂûãÊò†Â∞Ñ","content":" Fory Type\tFory Type ID\tJava\tPython\tJavascript\tC++\tGolang\tRustbool\t1\tbool/Boolean\tbool\tBoolean\tbool\tbool\tbool int8\t2\tbyte/Byte\tint/pyfory.Int8\tType.int8()\tint8_t\tint8\ti8 int16\t3\tshort/Short\tint/pyfory.Int16\tType.int16()\tint16_t\tint16\ti6 int32\t4\tint/Integer\tint/pyfory.Int32\tType.int32()\tint32_t\tint32\ti32 var_int32\t5\tint/Integer\tint/pyfory.VarInt32\tType.varint32()\tfory::varint32_t\tfory.varint32\tfory::varint32 int64\t6\tlong/Long\tint/pyfory.Int64\tType.int64()\tint64_t\tint64\ti64 var_int64\t7\tlong/Long\tint/pyfory.VarInt64\tType.varint64()\tfory::varint64_t\tfory.varint64\tfory::varint64 sli_int64\t8\tlong/Long\tint/pyfory.SliInt64\tType.sliint64()\tfory::sliint64_t\tfory.sliint64\tfory::sliint64 float16\t9\tfloat/Float\tfloat/pyfory.Float16\tType.float16()\tfory::float16_t\tfory.float16\tfory::f16 float32\t10\tfloat/Float\tfloat/pyfory.Float32\tType.float32()\tfloat\tfloat32\tf32 float64\t11\tdouble/Double\tfloat/pyfory.Float64\tType.float64()\tdouble\tfloat64\tf64 string\t12\tString\tstr\tString\tstring\tstring\tString/str enum\t13\tEnum subclasses\tenum subclasses\t/\tenum\t/\tenum named_enum\t14\tEnum subclasses\tenum subclasses\t/\tenum\t/\tenum struct\t15\tpojo/record\tdata class / type with type hints\tobject\tstruct/class\tstruct\tstruct compatible_struct\t16\tpojo/record\tdata class / type with type hints\tobject\tstruct/class\tstruct\tstruct named_struct\t17\tpojo/record\tdata class / type with type hints\tobject\tstruct/class\tstruct\tstruct named_compatible_struct\t18\tpojo/record\tdata class / type with type hints\tobject\tstruct/class\tstruct\tstruct ext\t19\tpojo/record\tdata class / type with type hints\tobject\tstruct/class\tstruct\tstruct named_ext\t20\tpojo/record\tdata class / type with type hints\tobject\tstruct/class\tstruct\tstruct list\t21\tList/Collection\tlist/tuple\tarray\tvector\tslice\tVec set\t22\tSet\tset\t/\tset\tfory.Set\tSet map\t23\tMap\tdict\tMap\tunordered_map\tmap\tHashMap duration\t24\tDuration\ttimedelta\tNumber\tduration\tDuration\tDuration timestamp\t25\tInstant\tdatetime\tNumber\tstd::chrono::nanoseconds\tTime\tDateTime local_date\t26\tDate\tdatetime\tNumber\tstd::chrono::nanoseconds\tTime\tDateTime decimal\t27\tBigDecimal\tDecimal\tbigint\t/\t/\t/ binary\t28\tbyte[]\tbytes\t/\tuint8_t[n]/vector&lt;T&gt;\t[n]uint8/[]T\tVec&lt;uint8_t&gt; array\t29\tarray\tnp.ndarray\t/\t/\tarray/slice\tVec bool_array\t30\tbool[]\tndarray(np.bool_)\t/\tbool[n]\t[n]bool/[]T\tVec&lt;bool&gt; int8_array\t31\tbyte[]\tndarray(int8)\t/\tint8_t[n]/vector&lt;T&gt;\t[n]int8/[]T\tVec&lt;i18&gt; int16_array\t32\tshort[]\tndarray(int16)\t/\tint16_t[n]/vector&lt;T&gt;\t[n]int16/[]T\tVec&lt;i16&gt; int32_array\t33\tint[]\tndarray(int32)\t/\tint32_t[n]/vector&lt;T&gt;\t[n]int32/[]T\tVec&lt;i32&gt; int64_array\t34\tlong[]\tndarray(int64)\t/\tint64_t[n]/vector&lt;T&gt;\t[n]int64/[]T\tVec&lt;i64&gt; float16_array\t35\tfloat[]\tndarray(float16)\t/\tfory::float16_t[n]/vector&lt;T&gt;\t[n]float16/[]T\tVec&lt;fory::f16&gt; float32_array\t36\tfloat[]\tndarray(float32)\t/\tfloat[n]/vector&lt;T&gt;\t[n]float32/[]T\tVec&lt;f32&gt; float64_array\t37\tdouble[]\tndarray(float64)\t/\tdouble[n]/vector&lt;T&gt;\t[n]float64/[]T\tVec&lt;f64&gt; arrow record batch\t38\t/\t/\t/\t/\t/\t/ arrow table\t39\t/\t/\t/\t/\t/\t/  ","version":"0.12","tagName":"h2"},{"title":"Á±ªÂûã‰ø°ÊÅØÔºàÂΩìÂâçÊú™ÂÆûÁé∞Ôºâ‚Äã","type":1,"pageTitle":"Ë∑®ËØ≠Ë®ÄÁ±ªÂûãÊò†Â∞Ñ","url":"/zh-CN/docs/0.12/guide/xlang_type_mapping#Á±ªÂûã‰ø°ÊÅØÂΩìÂâçÊú™ÂÆûÁé∞","content":" Áî±‰∫éÂêÑËØ≠Ë®ÄÁöÑÁ±ªÂûãÁ≥ªÁªüÂ≠òÂú®Â∑ÆÂºÇÔºåÊüê‰∫õÁ±ªÂûãÊó†Ê≥ïÂÅöÂà∞‰∏Ä‰∏ÄÊò†Â∞Ñ„ÄÇ  Â¶ÇÊûúÁî®Êà∑ÂèëÁé∞Êüê‰∏ÄËØ≠Ë®ÄÁöÑÁ±ªÂûãÂú® Fory Á±ªÂûãÁ≥ªÁªü‰∏≠ÂØπÂ∫îÂ§ö‰∏™Á±ªÂûãÔºå‰æãÂ¶Ç Java ‰∏≠ÁöÑ long ÂØπÂ∫î int64/varint64/sliint64ÔºåËøôÊÑèÂë≥ÁùÄËØ•ËØ≠Ë®ÄÁº∫Â∞ëÊüê‰∫õÁ±ªÂûãÔºåÁî®Êà∑Âú®‰ΩøÁî® Fory Êó∂ÈúÄË¶ÅÈ¢ùÂ§ñÊèê‰æõÁ±ªÂûã‰ø°ÊÅØ„ÄÇ  ","version":"0.12","tagName":"h2"},{"title":"Á±ªÂûãÊ≥®Ëß£‚Äã","type":1,"pageTitle":"Ë∑®ËØ≠Ë®ÄÁ±ªÂûãÊò†Â∞Ñ","url":"/zh-CN/docs/0.12/guide/xlang_type_mapping#Á±ªÂûãÊ≥®Ëß£","content":" Â¶ÇÊûúÁ±ªÂûãÊòØÂè¶‰∏Ä‰∏™Á±ªÁöÑÂ≠óÊÆµÔºåÁî®Êà∑ÂèØ‰ª•‰∏∫Á±ªÂûãÁöÑÂ≠óÊÆµÊàñÊï¥‰∏™Á±ªÂûãÊèê‰æõÂÖÉ‰ø°ÊÅØÊèêÁ§∫„ÄÇ Ëøô‰∫õ‰ø°ÊÅØÂú®ÂÖ∂‰ªñËØ≠Ë®Ä‰∏≠‰πüÂèØ‰ª•Êèê‰æõÔºö  JavaÔºö‰ΩøÁî® annotation„ÄÇC++Ôºö‰ΩøÁî®ÂÆèÂíåÊ®°Êùø„ÄÇGolangÔºö‰ΩøÁî® struct tag„ÄÇPythonÔºö‰ΩøÁî® typehint„ÄÇRustÔºö‰ΩøÁî®ÂÆè„ÄÇ  Á§∫‰æãÔºö  Java: class Foo { @Int32Type(varint = true) int f1; List&lt;@Int32Type(varint = true) Integer&gt; f2; } Python: class Foo: f1: Int32Type(varint=True) f2: List[Int32Type(varint=True)]   ","version":"0.12","tagName":"h2"},{"title":"Á±ªÂûãÂåÖË£ÖÂô®‚Äã","type":1,"pageTitle":"Ë∑®ËØ≠Ë®ÄÁ±ªÂûãÊò†Â∞Ñ","url":"/zh-CN/docs/0.12/guide/xlang_type_mapping#Á±ªÂûãÂåÖË£ÖÂô®","content":" Â¶ÇÊûúÁ±ªÂûã‰∏çÊòØÁ±ªÁöÑÂ≠óÊÆµÔºåÁî®Êà∑ÂøÖÈ°ªÁî® Fory Á±ªÂûãÂåÖË£ÖËØ•Á±ªÂûã‰ª•‰º†ÈÄíÈ¢ùÂ§ñÁöÑÁ±ªÂûã‰ø°ÊÅØ„ÄÇ  ‰æãÂ¶ÇÔºåÂÅáËÆæ Fory Java Êèê‰æõ‰∫Ü VarInt64 Á±ªÂûãÔºåÂΩìÁî®Êà∑Ë∞ÉÁî® fory.serialize(long_value) Êó∂ÔºåÈúÄË¶ÅËøôÊ†∑Ë∞ÉÁî®Ôºöfory.serialize(new VarInt64(long_value))„ÄÇ ","version":"0.12","tagName":"h2"},{"title":"Benchmark","type":0,"sectionRef":"#","url":"/zh-CN/docs/0.12/introduction/benchmark","content":"","keywords":"","version":"0.12"},{"title":"Java Â∫èÂàóÂåñ‚Äã","type":1,"pageTitle":"Benchmark","url":"/zh-CN/docs/0.12/introduction/benchmark#java-Â∫èÂàóÂåñ","content":"         ","version":"0.12","tagName":"h3"},{"title":"Java ÂèçÂ∫èÂàóÂåñ‚Äã","type":1,"pageTitle":"Benchmark","url":"/zh-CN/docs/0.12/introduction/benchmark#java-ÂèçÂ∫èÂàóÂåñ","content":"         ÊúâÂÖ≥Á±ªÂûãÂêëÂâç/ÂêëÂêéÂÖºÂÆπÊÄß„ÄÅÂ†ÜÂ§ñÊîØÊåÅ„ÄÅÈõ∂Êã∑Ë¥ùÂ∫èÂàóÂåñÁöÑÊõ¥Â§ö benchmark ÊµãËØïÔºåËØ∑ÂèÇËßÅbenchmarks  ","version":"0.12","tagName":"h3"},{"title":"JavaScript‚Äã","type":1,"pageTitle":"Benchmark","url":"/zh-CN/docs/0.12/introduction/benchmark#javascript","content":"   ËØ•Êù°ÂΩ¢Âõæ‰ΩøÁî®ÁöÑÊï∞ÊçÆÂåÖÊã¨‰∏Ä‰∏™ÂÖ∑ÊúâÂ§öÁßçÂ≠óÊÆµÁ±ªÂûãÁöÑÂ§çÊùÇÂØπË±°ÔºåJSON Êï∞ÊçÆÁöÑÂ§ßÂ∞è‰∏∫ 3KB„ÄÇ  ËØ∑ÂèÇÈòÖbenchmarks benchmark ÊµãËØï‰ª£Á†Å„ÄÇ ","version":"0.12","tagName":"h3"},{"title":"Features","type":0,"sectionRef":"#","url":"/zh-CN/docs/0.12/introduction/features","content":"Features Â§öÁßçËØ≠Ë®ÄÔºöJava/Python/C++/Golang/Javascript/Rust„ÄÇÈõ∂Êã∑Ë¥ùÔºöÁ±ª‰ººpickle5ÔºåÊîØÊåÅÂ†ÜÂ§ñËØª/ÂÜôÁöÑË∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ„ÄÇÈ´òÊÄßËÉΩÔºöÈ´òÂ∫¶ÂèØÊâ©Â±ïÁöÑ JIT Ê°ÜÊû∂ÔºåÂèØÂú®ËøêË°åÊó∂‰ª•ÂºÇÊ≠•Â§öÁ∫øÁ®ãÊñπÂºèÁîüÊàêÂ∫èÂàóÂåñÁ®ãÂ∫è‰ª£Á†ÅÔºå‰ª•Âä†Âø´Â∫èÂàóÂåñÈÄüÂ∫¶ÔºåÈÄöËøá‰ª•‰∏ãÊñπÂºèÊèêÂçá 20-170 ÂÄçÁöÑÈÄüÂ∫¶Ôºö ÂáèÂ∞ëÂú®ÁîüÊàê‰ª£Á†Å‰∏≠ÂÜÖËÅîÂèòÈáèÂáèÂ∞ëÂÜÖÂ≠òËÆøÈóÆÔºõÈÄöËøáÂú®ÁîüÊàêÁöÑ‰ª£Á†Å‰∏≠ÂÜÖËÅîË∞ÉÁî®Êù•ÂáèÂ∞ëËôöÊãüÊñπÊ≥ïË∞ÉÁî®ÔºõÂáèÂ∞ëÊù°‰ª∂ÂàÜÊîØÔºõÂáèÂ∞ëÂìàÂ∏åÊü•ÊâæÔºõ ‰∫åËøõÂà∂ÂçèËÆÆÔºöÂØπË±°Âõæ„ÄÅË°åÊ†ºÂºèÁ≠â„ÄÇ Èô§‰∫ÜË∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ‰πãÂ§ñÔºåFory ËøòÊîØÊåÅ‰ª•‰∏ãÂäüËÉΩÔºö Áõ¥Êé•ÊõøÊç¢ Java Â∫èÂàóÂåñÊ°ÜÊû∂ÔºåÂ¶Ç JDK/Kryo/HessianÔºåÊó†ÈúÄ‰øÆÊîπ‰ªª‰Ωï‰ª£Á†ÅÔºå‰ΩÜÈÄüÂ∫¶ÊèêÈ´ò 100 ÂÄç„ÄÇÂÆÉÂèØ‰ª•Â§ßÂ§ßÊèêÈ´ò RPC Ë∞ÉÁî®ÊÄßËÉΩ„ÄÅÊï∞ÊçÆ‰º†ËæìÂíåÂØπË±°ÊåÅ‰πÖÂåñÁöÑÊïàÁéáÔºõJDK Â∫èÂàóÂåñ 100% ÂÖºÂÆπÔºåÂéüÁîüÊîØÊåÅ java Ëá™ÂÆö‰πâÂ∫èÂàóÂåñ writeObject/readObject/writeReplace/readResolve/readObjectNoDataÔºõÊîØÊåÅ golang ÁöÑÂÖ±‰∫´ÂíåÂæ™ÁéØÂºïÁî®ÂØπË±°Â∫èÂàóÂåñÔºõÊîØÊåÅ golang ÁöÑËá™Âä®ÂØπË±°Â∫èÂàóÂåñ„ÄÇ","keywords":"","version":"0.12"},{"title":"Ê¶ÇËø∞","type":0,"sectionRef":"#","url":"/zh-CN/docs/0.12/introduction/overview","content":"","keywords":"","version":"0.12"},{"title":"ÂçèËÆÆ‚Äã","type":1,"pageTitle":"Ê¶ÇËø∞","url":"/zh-CN/docs/0.12/introduction/overview#ÂçèËÆÆ","content":" ‰∏çÂêåÂú∫ÊôØÊúâ‰∏çÂêåÁöÑÂ∫èÂàóÂåñÈúÄÊ±Ç„ÄÇFury ÈíàÂØπËøô‰∫õÈúÄÊ±ÇËÆæËÆ°Âπ∂ÂÆûÁé∞‰∫ÜÂ§öÁßç‰∫åËøõÂà∂ÂçèËÆÆÔºö  Ë∑®ËØ≠Ë®ÄÂØπË±°ÂõæÂçèËÆÆÔºö Ëá™Âä®Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ‰ªª‰ΩïÂØπË±°ÔºåÊó†ÈúÄ IDL ÂÆö‰πâ„ÄÅSchema ÁºñËØëÂíåÂØπË±°‰∏éÂçèËÆÆ‰πãÈó¥ÁöÑËΩ¨Êç¢„ÄÇÊîØÊåÅÂÖ±‰∫´ÂºïÁî®ÂíåÂæ™ÁéØÂºïÁî®ÔºåÊó†ÈáçÂ§çÊï∞ÊçÆÊàñÈÄíÂΩíÈîôËØØ„ÄÇÊîØÊåÅÂØπË±°Â§öÊÄÅ„ÄÇ ÂéüÁîü Java/Python ÂØπË±°ÂõæÂçèËÆÆÔºöÂü∫‰∫éËØ≠Ë®ÄÁ±ªÂûãÁ≥ªÁªüÁöÑÈ´òÂ∫¶‰ºòÂåñ„ÄÇË°åÊ†ºÂºèÂçèËÆÆÔºöÁºìÂ≠òÂèãÂ•ΩÁöÑ‰∫åËøõÂà∂ÈöèÊú∫ËÆøÈóÆÊ†ºÂºèÔºåÊîØÊåÅË∑≥ËøáÂ∫èÂàóÂåñÂíåÈÉ®ÂàÜÂ∫èÂàóÂåñÔºåÂèØËá™Âä®ËΩ¨Êç¢‰∏∫ÂàóÊ†ºÂºè„ÄÇ  Âü∫‰∫é Fury Áé∞ÊúâÁöÑÁºìÂÜ≤Âå∫„ÄÅÁºñÁ†Å„ÄÅÂÖÉÊï∞ÊçÆ„ÄÅ‰ª£Á†ÅÁîüÊàêÁ≠âËÉΩÂäõÔºåÂèØ‰ª•ËΩªÊùæÊ∑ªÂä†Êñ∞ÂçèËÆÆ„ÄÇÊâÄÊúâËøô‰∫õÂÖ±‰∫´Áõ∏ÂêåÁöÑ‰ª£Á†ÅÂ∫ìÔºå‰∏Ä‰∏™ÂçèËÆÆÁöÑ‰ºòÂåñÂèØ‰ª•Ë¢´Âè¶‰∏Ä‰∏™ÂçèËÆÆÂ§çÁî®„ÄÇ  ","version":"0.12","tagName":"h2"},{"title":"ÂÖºÂÆπÊÄß‚Äã","type":1,"pageTitle":"Ê¶ÇËø∞","url":"/zh-CN/docs/0.12/introduction/overview#ÂÖºÂÆπÊÄß","content":" ","version":"0.12","tagName":"h2"},{"title":"Schema ÂÖºÂÆπÊÄß‚Äã","type":1,"pageTitle":"Ê¶ÇËø∞","url":"/zh-CN/docs/0.12/introduction/overview#schema-ÂÖºÂÆπÊÄß","content":" Fury Java ÂØπË±°ÂõæÂ∫èÂàóÂåñÊîØÊåÅÁ±ª Schema ÁöÑÂêëÂâç/ÂêëÂêéÂÖºÂÆπÊÄß„ÄÇÂ∫èÂàóÂåñÁ´ØÂíåÂèçÂ∫èÂàóÂåñÁ´ØÂèØ‰ª•Áã¨Á´ãÊ∑ªÂä†/Âà†Èô§Â≠óÊÆµ„ÄÇ  Êàë‰ª¨ËÆ°ÂàíÂú®ÂÖÉÊï∞ÊçÆÂéãÁº©ÂÆåÊàêÂêéÊ∑ªÂä†Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñÊîØÊåÅ„ÄÇ  ","version":"0.12","tagName":"h3"},{"title":"‰∫åËøõÂà∂ÂÖºÂÆπÊÄß‚Äã","type":1,"pageTitle":"Ê¶ÇËø∞","url":"/zh-CN/docs/0.12/introduction/overview#‰∫åËøõÂà∂ÂÖºÂÆπÊÄß","content":" Êàë‰ª¨‰ªçÂú®ÊîπËøõÂçèËÆÆÔºåÁõÆÂâç Fury ÁâàÊú¨‰πãÈó¥‰∏ç‰øùËØÅ‰∫åËøõÂà∂ÂÖºÂÆπÊÄß„ÄÇÂ¶ÇÊûúÊÇ®Â∞ÜÊù•Ë¶ÅÂçáÁ∫ß FuryÔºåËØ∑‰ΩøÁî® shade ÊâìÂåÖ Fury„ÄÇ  ‰∫åËøõÂà∂ÂÖºÂÆπÊÄßÂ∞ÜÂú® Fury 1.0 ‰πãÂâçÂæóÂà∞‰øùËØÅ„ÄÇ  ","version":"0.12","tagName":"h3"},{"title":"ÂÆâÂÖ®ÊÄß‚Äã","type":1,"pageTitle":"Ê¶ÇËø∞","url":"/zh-CN/docs/0.12/introduction/overview#ÂÆâÂÖ®ÊÄß","content":" ÈùôÊÄÅÂ∫èÂàóÂåñÔºàÂ¶ÇË°åÊ†ºÂºèÔºâÊú¨Ë¥®‰∏äÊòØÂÆâÂÖ®ÁöÑ„ÄÇ‰ΩÜÂä®ÊÄÅÂØπË±°ÂõæÂ∫èÂàóÂåñÊîØÊåÅÂèçÂ∫èÂàóÂåñÊú™Ê≥®ÂÜåÁöÑÁ±ªÂûãÔºåËøôÂèØËÉΩ‰ºöÂºïÂÖ•ÂÆâÂÖ®È£éÈô©„ÄÇ  ‰æãÂ¶ÇÔºåÂèçÂ∫èÂàóÂåñÂèØËÉΩ‰ºöË∞ÉÁî® init ÊûÑÈÄ†ÂáΩÊï∞Êàñ equals/hashCode ÊñπÊ≥ïÔºåÂ¶ÇÊûúÊñπÊ≥ï‰ΩìÂåÖÂê´ÊÅ∂ÊÑè‰ª£Á†ÅÔºåÁ≥ªÁªüÂ∞ÜÈù¢‰∏¥È£éÈô©„ÄÇ  Fury ‰∏∫Ê≠§ÂçèËÆÆÊèê‰æõ‰∫ÜÁ±ªÊ≥®ÂÜåÊ®°ÂºèÈÄâÈ°πÔºåÈªòËÆ§ÂêØÁî®ÔºåÂè™ÂÖÅËÆ∏ÂèçÂ∫èÂàóÂåñÂèó‰ø°‰ªªÁöÑÂ∑≤Ê≥®ÂÜåÁ±ªÂûãÊàñÂÜÖÁΩÆÁ±ªÂûã‰ª•Á°Æ‰øùÂÆâÂÖ®„ÄÇ  Fury Êèê‰æõ‰∫ÜÁ±ªÊ≥®ÂÜåÈÄâÈ°πÔºåÈªòËÆ§ÂêØÁî®ÔºåÂè™ÂÖÅËÆ∏ÂèçÂ∫èÂàóÂåñÂèó‰ø°‰ªªÁöÑÂ∑≤Ê≥®ÂÜåÁ±ªÂûãÊàñÂÜÖÁΩÆÁ±ªÂûã„ÄÇÈô§ÈùûÊÇ®ËÉΩÁ°Æ‰øùÁéØÂ¢ÉÁ°ÆÂÆûÂÆâÂÖ®ÔºåÂê¶Âàô‰∏çË¶ÅÁ¶ÅÁî®Á±ªÊ≥®ÂÜåÊàñÁ±ªÊ≥®ÂÜåÊ£ÄÊü•„ÄÇÂ¶ÇÊûúÊÇ®Á¶ÅÁî®‰∫ÜÁ±ªÊ≥®ÂÜåÈÄâÈ°πÔºåÊàë‰ª¨ÂØπÂÆâÂÖ®ÊÄß‰∏çÊâøÊãÖË¥£‰ªª„ÄÇ  ","version":"0.12","tagName":"h2"},{"title":"Ë∑ØÁ∫øÂõæ‚Äã","type":1,"pageTitle":"Ê¶ÇËø∞","url":"/zh-CN/docs/0.12/introduction/overview#Ë∑ØÁ∫øÂõæ","content":" ÂÖÉÊï∞ÊçÆÂéãÁº©„ÄÅËá™Âä®ÂÖÉÊï∞ÊçÆÂÖ±‰∫´ÂíåË∑®ËØ≠Ë®Ä Schema ÂÖºÂÆπÊÄßC++/Golang AOT Ê°ÜÊû∂‰ª•ÈùôÊÄÅÁîüÊàê‰ª£Á†ÅC++/Rust ÂØπË±°ÂõæÂ∫èÂàóÂåñÊîØÊåÅGolang/Rust/NodeJS Ë°åÊ†ºÂºèÊîØÊåÅProtoBuffer ÂÖºÂÆπÊÄßÊîØÊåÅÁâπÂæÅÂíåÁü•ËØÜÂõæË∞±Â∫èÂàóÂåñÂçèËÆÆÊåÅÁª≠ÊîπËøõÊàë‰ª¨ÁöÑÂ∫èÂàóÂåñÂü∫Á°ÄËÆæÊñΩ‰ª•ÊîØÊåÅ‰ªª‰ΩïÊñ∞ÂçèËÆÆ  ","version":"0.12","tagName":"h2"},{"title":"Â¶Ç‰ΩïË¥°ÁåÆ‚Äã","type":1,"pageTitle":"Ê¶ÇËø∞","url":"/zh-CN/docs/0.12/introduction/overview#Â¶Ç‰ΩïË¥°ÁåÆ","content":" ËØ∑ÈòÖËØª CONTRIBUTING ÊåáÂçó‰∫ÜËß£Â¶Ç‰ΩïË¥°ÁåÆ„ÄÇ ","version":"0.12","tagName":"h2"},{"title":"Ë°åÂ≠òÊ†ºÂºè","type":0,"sectionRef":"#","url":"/zh-CN/docs/0.12/guide/row_format","content":"","keywords":"","version":"0.12"},{"title":"Java‚Äã","type":1,"pageTitle":"Ë°åÂ≠òÊ†ºÂºè","url":"/zh-CN/docs/0.12/guide/row_format#java","content":" public class Bar { String f1; List&lt;Long&gt; f2; } public class Foo { int f1; List&lt;Integer&gt; f2; Map&lt;String, Integer&gt; f3; List&lt;Bar&gt; f4; } RowEncoder&lt;Foo&gt; encoder = Encoders.bean(Foo.class); Foo foo = new Foo(); foo.f1 = 10; foo.f2 = IntStream.range(0, 1000000).boxed().collect(Collectors.toList()); foo.f3 = IntStream.range(0, 1000000).boxed().collect(Collectors.toMap(i -&gt; &quot;k&quot;+i, i-&gt;i)); List&lt;Bar&gt; bars = new ArrayList&lt;&gt;(1000000); for (int i = 0; i &lt; 1000000; i++) { Bar bar = new Bar(); bar.f1 = &quot;s&quot;+i; bar.f2 = LongStream.range(0, 10).boxed().collect(Collectors.toList()); bars.add(bar); } foo.f4 = bars; // ÂèØË¢´ python Èõ∂Êã∑Ë¥ùËØªÂèñ BinaryRow binaryRow = encoder.toRow(foo); // ‰πüÂèØ‰ª•ÊòØ python ÁîüÊàêÁöÑÊï∞ÊçÆ Foo newFoo = encoder.fromRow(binaryRow); // Èõ∂Êã∑Ë¥ùËØªÂèñ List&lt;Integer&gt; f2 BinaryArray binaryArray2 = binaryRow.getArray(1); // Èõ∂Êã∑Ë¥ùËØªÂèñ List&lt;Bar&gt; f4 BinaryArray binaryArray4 = binaryRow.getArray(3); // Èõ∂Êã∑Ë¥ùËØªÂèñ `readList&lt;Bar&gt; f4` ÁöÑÁ¨¨ 11 ‰∏™ÂÖÉÁ¥† BinaryRow barStruct = binaryArray4.getStruct(10); // Èõ∂Êã∑Ë¥ùËØªÂèñ `readList&lt;Bar&gt; f4` Á¨¨ 11 ‰∏™ÂÖÉÁ¥†ÁöÑ f2 ÁöÑÁ¨¨ 6 ‰∏™ÂÖÉÁ¥† barStruct.getArray(1).getInt64(5); RowEncoder&lt;Bar&gt; barEncoder = Encoders.bean(Bar.class); // Âè™ÂèçÂ∫èÂàóÂåñÈÉ®ÂàÜÊï∞ÊçÆ Bar newBar = barEncoder.fromRow(barStruct); Bar newBar2 = barEncoder.fromRow(binaryArray4.getStruct(20));   ","version":"0.12","tagName":"h2"},{"title":"Python‚Äã","type":1,"pageTitle":"Ë°åÂ≠òÊ†ºÂºè","url":"/zh-CN/docs/0.12/guide/row_format#python","content":" @dataclass class Bar: f1: str f2: List[pa.int64] @dataclass class Foo: f1: pa.int32 f2: List[pa.int32] f3: Dict[str, pa.int32] f4: List[Bar] encoder = pyfory.encoder(Foo) foo = Foo(f1=10, f2=list(range(1000_000)), f3={f&quot;k{i}&quot;: i for i in range(1000_000)}, f4=[Bar(f1=f&quot;s{i}&quot;, f2=list(range(10))) for i in range(1000_000)]) binary: bytes = encoder.to_row(foo).to_bytes() print(f&quot;start: {datetime.datetime.now()}&quot;) foo_row = pyfory.RowData(encoder.schema, binary) print(foo_row.f2[100000], foo_row.f4[100000].f1, foo_row.f4[200000].f2[5]) print(f&quot;end: {datetime.datetime.now()}&quot;) binary = pickle.dumps(foo) print(f&quot;pickle start: {datetime.datetime.now()}&quot;) new_foo = pickle.loads(binary) print(new_foo.f2[100000], new_foo.f4[100000].f1, new_foo.f4[200000].f2[5]) print(f&quot;pickle end: {datetime.datetime.now()}&quot;)   ","version":"0.12","tagName":"h2"},{"title":"Apache Arrow ÊîØÊåÅ‚Äã","type":1,"pageTitle":"Ë°åÂ≠òÊ†ºÂºè","url":"/zh-CN/docs/0.12/guide/row_format#apache-arrow-ÊîØÊåÅ","content":" Fory Format ‰πüÊîØÊåÅ‰∏é Arrow Table/RecordBatch ÁöÑËá™Âä®ËΩ¨Êç¢„ÄÇ  Java Á§∫‰æãÔºö  Schema schema = TypeInference.inferSchema(BeanA.class); ArrowWriter arrowWriter = ArrowUtils.createArrowWriter(schema); Encoder&lt;BeanA&gt; encoder = Encoders.rowEncoder(BeanA.class); for (int i = 0; i &lt; 10; i++) { BeanA beanA = BeanA.createBeanA(2); arrowWriter.write(encoder.toRow(beanA)); } return arrowWriter.finishAsRecordBatch();   ","version":"0.12","tagName":"h3"},{"title":"ÊîØÊåÅÊé•Âè£‰∏éÁªßÊâøÁ±ªÂûã‚Äã","type":1,"pageTitle":"Ë°åÂ≠òÊ†ºÂºè","url":"/zh-CN/docs/0.12/guide/row_format#ÊîØÊåÅÊé•Âè£‰∏éÁªßÊâøÁ±ªÂûã","content":" Fury Áé∞Â∑≤ÊîØÊåÅ Java interface Á±ªÂûãÂíåÂ≠êÁ±ªÔºàextendsÔºâÁ±ªÂûãÁöÑË°åÊ†ºÂºèÊò†Â∞ÑÔºåÂ∏¶Êù•Êõ¥Âä®ÊÄÅÂíåÁÅµÊ¥ªÁöÑÊï∞ÊçÆ schema„ÄÇ  Áõ∏ÂÖ≥Â¢ûÂº∫ËßÅ #2243„ÄÅ#2250„ÄÅ#2256„ÄÇ  ","version":"0.12","tagName":"h2"},{"title":"Á§∫‰æãÔºöÊé•Âè£Á±ªÂûãÁöÑ RowEncoder Êò†Â∞Ñ‚Äã","type":1,"pageTitle":"Ë°åÂ≠òÊ†ºÂºè","url":"/zh-CN/docs/0.12/guide/row_format#Á§∫‰æãÊé•Âè£Á±ªÂûãÁöÑ-rowencoder-Êò†Â∞Ñ","content":" public interface Animal { String speak(); } public class Dog implements Animal { public String name; @Override public String speak() { return &quot;Woof&quot;; } } // ‰ΩøÁî® RowEncoder ‰ª•Êé•Âè£Á±ªÂûãÁºñÁ†ÅÂíåËß£Á†Å RowEncoder&lt;Animal&gt; encoder = Encoders.bean(Animal.class); Dog dog = new Dog(); dog.name = &quot;Bingo&quot;; BinaryRow row = encoder.toRow(dog); Animal decoded = encoder.fromRow(row); System.out.println(decoded.speak()); // Woof   ","version":"0.12","tagName":"h3"},{"title":"Á§∫‰æãÔºöÁªßÊâøÁ±ªÂûãÁöÑ RowEncoder Êò†Â∞Ñ‚Äã","type":1,"pageTitle":"Ë°åÂ≠òÊ†ºÂºè","url":"/zh-CN/docs/0.12/guide/row_format#Á§∫‰æãÁªßÊâøÁ±ªÂûãÁöÑ-rowencoder-Êò†Â∞Ñ","content":" public class Parent { public String parentField; } public class Child extends Parent { public String childField; } // ‰ΩøÁî® RowEncoder ‰ª•Áà∂Á±ªÁ±ªÂûãÁºñÁ†ÅÂíåËß£Á†Å RowEncoder&lt;Parent&gt; encoder = Encoders.bean(Parent.class); Child child = new Child(); child.parentField = &quot;Hello&quot;; child.childField = &quot;World&quot;; BinaryRow row = encoder.toRow(child); Parent decoded = encoder.fromRow(row);   Python Á§∫‰æãÔºö  import pyfory encoder = pyfory.encoder(Foo) encoder.to_arrow_record_batch([foo] * 10000) encoder.to_arrow_table([foo] * 10000)   C++ Á§∫‰æãÔºö  std::shared_ptr&lt;ArrowWriter&gt; arrow_writer; EXPECT_TRUE( ArrowWriter::Make(schema, ::arrow::default_memory_pool(), &amp;arrow_writer) .ok()); for (auto &amp;row : rows) { EXPECT_TRUE(arrow_writer-&gt;Write(row).ok()); } std::shared_ptr&lt;::arrow::RecordBatch&gt; record_batch; EXPECT_TRUE(arrow_writer-&gt;Finish(&amp;record_batch).ok()); EXPECT_TRUE(record_batch-&gt;Validate().ok()); EXPECT_EQ(record_batch-&gt;num_columns(), schema-&gt;num_fields()); EXPECT_EQ(record_batch-&gt;num_rows(), row_nums);   Schema schema = TypeInference.inferSchema(BeanA.class); ArrowWriter arrowWriter = ArrowUtils.createArrowWriter(schema); Encoder&lt;BeanA&gt; encoder = Encoders.rowEncoder(BeanA.class); for (int i = 0; i &lt; 10; i++) { BeanA beanA = BeanA.createBeanA(2); arrowWriter.write(encoder.toRow(beanA)); } return arrowWriter.finishAsRecordBatch();  ","version":"0.12","tagName":"h3"},{"title":"Row Format","type":0,"sectionRef":"#","url":"/zh-CN/docs/0.12/specification/row_format_spec","content":"","keywords":"","version":"0.12"},{"title":"Row Format‚Äã","type":1,"pageTitle":"Row Format","url":"/zh-CN/docs/0.12/specification/row_format_spec#row-format","content":" Coming soon ","version":"0.12","tagName":"h2"},{"title":"Java Serialization Format","type":0,"sectionRef":"#","url":"/zh-CN/docs/0.12/specification/java_serialization_spec","content":"","keywords":"","version":"0.12"},{"title":"Spec overview‚Äã","type":1,"pageTitle":"Java Serialization Format","url":"/zh-CN/docs/0.12/specification/java_serialization_spec#spec-overview","content":" Fory Java Serialization is an automatic object serialization framework that supports reference and polymorphism. Fory will convert an object from/to fory java serialization binary format. Fory has two core concepts for java serialization:  Fory Java Binary formatFramework to convert object to/from Fory Java Binary format  The serialization format is a dynamic binary format. The dynamics and reference/polymorphism support make Fory flexible, much more easy to use, but also introduce more complexities compared to static serialization frameworks. So the format will be more complex.  Here is the overall format:  | fory header | object ref meta | object class meta | object value data |   The data are serialized using little endian byte order overall. If bytes swap is costly for some object, Fory will write the byte order for that object into the data instead of converting it to little endian.  ","version":"0.12","tagName":"h2"},{"title":"Fory header‚Äã","type":1,"pageTitle":"Java Serialization Format","url":"/zh-CN/docs/0.12/specification/java_serialization_spec#fory-header","content":" Fory header consists starts one byte:  | 4 bits | 1 bit | 1 bit | 1 bit | 1 bit | optional 4 bytes | +---------------+-------+-------+--------+-------+------------------------------------+ | reserved bits | oob | xlang | endian | null | unsigned int for meta start offset |   null flag: 1 when object is null, 0 otherwise. If an object is null, other bits won't be set.endian flag: 1 when data is encoded by little endian, 0 for big endian.xlang flag: 1 when serialization uses xlang format, 0 when serialization uses Fory java format.oob flag: 1 when passed BufferCallback is not null, 0 otherwise.  If meta share mode is enabled, an uncompressed unsigned int is appended to indicate the start offset of metadata.  ","version":"0.12","tagName":"h2"},{"title":"Reference Meta‚Äã","type":1,"pageTitle":"Java Serialization Format","url":"/zh-CN/docs/0.12/specification/java_serialization_spec#reference-meta","content":" Reference tracking handles whether the object is null, and whether to track reference for the object by writing corresponding flags and maintaining internal state.  Reference flags:  Flag\tByte Value\tDescriptionNULL FLAG\t-3\tThis flag indicates the object is a null value. We don't use another byte to indicate REF, so that we can save one byte. REF FLAG\t-2\tThis flag indicates the object is already serialized previously, and fory will write a ref id with unsigned varint format instead of serialize it again NOT_NULL VALUE FLAG\t-1\tThis flag indicates the object is a non-null value and fory doesn't track ref for this type of object. REF VALUE FLAG\t0\tThis flag indicates the object is referencable and the first time to serialize.  When reference tracking is disabled globally or for specific types, or for certain types within a particular context(e.g., a field of a class), only the NULL and NOT_NULL VALUE flags will be used for reference meta.  ","version":"0.12","tagName":"h2"},{"title":"Class Meta‚Äã","type":1,"pageTitle":"Java Serialization Format","url":"/zh-CN/docs/0.12/specification/java_serialization_spec#class-meta","content":" Fory supports to register class by an optional id, the registration can be used for security check and class identification. If a class is registered, it will have a user-provided or an auto-growing unsigned int i.e. class_id.  Depending on whether meta share mode and registration is enabled for current class, Fory will write class meta differently.  ","version":"0.12","tagName":"h2"},{"title":"Schema consistent‚Äã","type":1,"pageTitle":"Java Serialization Format","url":"/zh-CN/docs/0.12/specification/java_serialization_spec#schema-consistent","content":" If schema consistent mode is enabled globally or enabled for current class, class meta will be written as follows:  If class is registered, it will be written as a fory unsigned varint: class_id &lt;&lt; 1.If class is not registered: If class is not an array, fory will write one byte 0bxxxxxxx1 first, then write class name. The first little bit is 1, which is different from first bit 0 of encoded class id. Fory can use this information to determine whether to read class by class id for deserialization. If class is not registered and class is an array, fory will write one byte dimensions &lt;&lt; 1 | 1 first, then write component class subsequently. This can reduce array class name cost if component class is or will be serialized.Class will be written as two enumerated fory unsigned by default: package name and class name. If meta share mode is enabled, class will be written as an unsigned varint which points to index in MetaContext.  ","version":"0.12","tagName":"h3"},{"title":"Schema evolution‚Äã","type":1,"pageTitle":"Java Serialization Format","url":"/zh-CN/docs/0.12/specification/java_serialization_spec#schema-evolution","content":" If schema evolution mode is enabled globally or enabled for current class, class meta will be written as follows:  If meta share mode is not enabled, class meta will be written as schema consistent mode. Additionally, field meta such as field type and name will be written with the field value using a key-value like layout.If meta share mode is enabled, class meta will be written as a meta-share encoded binary if class hasn't been written before, otherwise an unsigned varint id which references to previous written class meta will be written.  ","version":"0.12","tagName":"h3"},{"title":"Meta share‚Äã","type":1,"pageTitle":"Java Serialization Format","url":"/zh-CN/docs/0.12/specification/java_serialization_spec#meta-share","content":" This mode will forbid streaming writing since it needs to look back for update the start offset after the whole object graph writing and meta collecting is finished. Only in this way we can ensure deserialization failure doesn't lost shared meta. Meta streamline will be supported in the future for enclosed meta sharing which doesn't cross multiple serializations of different objects.  For Schema consistent mode, class will be encoded as an enumerated string by full class name. Here we mainly describe the meta layout for schema evolution mode:  | 8 bytes global meta header | 1~2 bytes | variable bytes | variable bytes | variable bytes | +-------------------------------+-------------|--------------------+-------------------+----------------+ | 50 bits hash + 14 bits header | type header | current class meta | parent class meta | ... |   Class meta are encoded from parent class to leaf class, only class with serializable fields will be encoded.  ","version":"0.12","tagName":"h2"},{"title":"Global meta header‚Äã","type":1,"pageTitle":"Java Serialization Format","url":"/zh-CN/docs/0.12/specification/java_serialization_spec#global-meta-header","content":" Meta header is a 64 bits number value encoded in little endian order.  lower 12 bits are used to encode meta size. If meta size &gt;= 0b1111_1111_1111, then writemeta_ size - 0b1111_1111_1111 next.13rd bit is used to indicate whether to write fields meta. When this class is schema-consistent or use registered serializer, fields meta will be skipped. Class Meta will be used for share namespace + type name only.14rd bit is used to indicate whether meta is compressed.Other 50 bits is used to store the unique hash of flags + all layers class meta.  ","version":"0.12","tagName":"h3"},{"title":"Type header‚Äã","type":1,"pageTitle":"Java Serialization Format","url":"/zh-CN/docs/0.12/specification/java_serialization_spec#type-header","content":" Lowest 4 digits 0b0000~0b1110 are used to record num classes. 0b1111 is preserved to indicate that Fory need to read more bytes for length using Fory unsigned int encoding. If current class doesn't has parent class, or parent class doesn't have fields to serialize, or we're in a context which serialize fields of current class only(ObjectStreamSerializer#SlotInfo is an example), num classes will be 1.Other 4 bits are preserved to future extensions.If num classes are greater than or equal to 0b1111, write num_classes - 0b1111 as varuint next.  ","version":"0.12","tagName":"h3"},{"title":"Single layer class meta‚Äã","type":1,"pageTitle":"Java Serialization Format","url":"/zh-CN/docs/0.12/specification/java_serialization_spec#single-layer-class-meta","content":" | unsigned varint | meta string | meta string | field info: variable bytes | variable bytes | ... | +----------------------------+-----------------------+---------------------+-------------------------------+-----------------+-----+ | num fields + register flag | header + package name | header + class name | header + type id + field name | next field info | ... |   num fields: encode num fields &lt;&lt; 1 | register flag(1 when class registered) as unsigned varint. If class is registered, then an unsigned varint class id will be written next, package and class name will be omitted.If current class is schema consistent, then num field will be 0 to flag it.If current class isn't schema consistent, then num field will be the number of compatible fields. For example, users can use tag id to mark some field as compatible field in schema consistent context. In such cases, schema consistent fields will be serialized first, then compatible fields will be serialized next. At deserialization, Fory will use fields info of those fields which aren't annotated by tag id for deserializing schema consistent fields, then use fields info in meta for deserializing compatible fields. Package name encoding(omitted when class is registered): encoding algorithm: UTF8/ALL_TO_LOWER_SPECIAL/LOWER_UPPER_DIGIT_SPECIALHeader: 6 bits size | 2 bits encoding flags. The 6 bits size: 0~63 will be used to indicate size 0~63, the value 63 the size need more byte to read, the encoding will encode size - 63 as a varint next. Class name encoding(omitted when class is registered): encoding algorithm: UTF8/LOWER_UPPER_DIGIT_SPECIAL/FIRST_TO_LOWER_SPECIAL/ALL_TO_LOWER_SPECIALheader: 6 bits size | 2 bits encoding flags. The 6 bits size: 0~63 will be used to indicate size 0~63, the value 63 the size need more byte to read, the encoding will encode size - 63 as a varint next. Field info: header(8 bits): 3 bits size + 2 bits field name encoding + polymorphism flag + nullability flag + ref tracking flag. Users can use annotation to provide those info. 2 bits field name encoding: encoding: UTF8/ALL_TO_LOWER_SPECIAL/LOWER_UPPER_DIGIT_SPECIAL/TAG_IDIf tag id is used, i.e. field name is written by an unsigned varint tag id. 2 bits encoding will be 11. size of field name: The 3 bits size: 0~7 will be used to indicate length 1~7, the value 6 the size read more bytes, the encoding will encode size - 7 as a varint next.If encoding is TAG_ID, then num_bytes of field name will be used to store tag id. ref tracking: when set to 1, ref tracking will be enabled for this field.nullability: when set to 1, this field can be null.polymorphism: when set to 1, the actual type of field will be the declared field type even the type if not final. type id: For registered type-consistent classes, it will be the registered class id.Otherwise it will be encoded as OBJECT_ID if it isn't final and FINAL_OBJECT_ID if it's final. The meta for such types is written separately instead of inlining here is to reduce meta space cost if object of this type is serialized in current object graph multiple times, and the field value may be null too. Field name: If type id is set, type id will be used instead. Otherwise meta string encoding length and data will be written instead.  Field order are left as implementation details, which is not exposed to specification, the deserialization need to resort fields based on Fory field comparator. In this way, fory can compute statistics for field names or types and using a more compact encoding.  ","version":"0.12","tagName":"h3"},{"title":"Other layers class meta‚Äã","type":1,"pageTitle":"Java Serialization Format","url":"/zh-CN/docs/0.12/specification/java_serialization_spec#other-layers-class-meta","content":" Same encoding algorithm as the previous layer except:  header + package name: Header: If package name has been written before: varint index + sharing flag(set) will be writtenIf package name hasn't been written before: If meta string encoding is LOWER_SPECIAL and the length of encoded string &lt;= 64, then header will be6 bits size + encoding flag(set) + sharing flag(unset).Otherwise, header will be 3 bits unset + 3 bits encoding flags + encoding flag(unset) + sharing flag(unset)  ","version":"0.12","tagName":"h3"},{"title":"Meta String‚Äã","type":1,"pageTitle":"Java Serialization Format","url":"/zh-CN/docs/0.12/specification/java_serialization_spec#meta-string","content":" Meta string is mainly used to encode meta strings such as class name and field names.  ","version":"0.12","tagName":"h2"},{"title":"Encoding Algorithms‚Äã","type":1,"pageTitle":"Java Serialization Format","url":"/zh-CN/docs/0.12/specification/java_serialization_spec#encoding-algorithms","content":" String binary encoding algorithm:  Algorithm\tPattern\tDescriptionLOWER_SPECIAL\ta-z._$|\tevery char is written using 5 bits, a-z: 0b00000~0b11001, ._$|: 0b11010~0b11101, prepend one bit at the start to indicate whether strip last char since last byte may have 7 redundant bits(1 indicates strip last char) LOWER_UPPER_DIGIT_SPECIAL\ta-zA-Z0~9._\tevery char is written using 6 bits, a-z: 0b00000~0b11001, A-Z: 0b11010~0b110011, 0~9: 0b110100~0b111101, ._: 0b111110~0b111111, prepend one bit at the start to indicate whether strip last char since last byte may have 7 redundant bits(1 indicates strip last char) UTF-8\tany chars\tUTF-8 encoding  Encoding flags:  Encoding Flag\tPattern\tEncoding AlgorithmLOWER_SPECIAL\tevery char is in a-z._$|\tLOWER_SPECIAL FIRST_TO_LOWER_SPECIAL\tevery char is in a-z[c1,c2] except first char is upper case\treplace first upper case char to lower case, then use LOWER_SPECIAL ALL_TO_LOWER_SPECIAL\tevery char is in a-zA-Z[c1,c2]\treplace every upper case char by | + lower case, then use LOWER_SPECIAL, use this encoding if it's smaller than Encoding LOWER_UPPER_DIGIT_SPECIAL LOWER_UPPER_DIGIT_SPECIAL\tevery char is in a-zA-Z[c1,c2]\tuse LOWER_UPPER_DIGIT_SPECIAL encoding if it's smaller than Encoding FIRST_TO_LOWER_SPECIAL UTF8\tany utf-8 char\tuse UTF-8 encoding Compression\tany utf-8 char\tlossless compression  Notes:  For package name encoding, c1,c2 should be ._; For field/type name encoding, c1,c2 should be _$;Depending on cases, one can choose encoding flags + data jointly, uses 3 bits of first byte for flags and other bytes for data.  ","version":"0.12","tagName":"h3"},{"title":"Shared meta string‚Äã","type":1,"pageTitle":"Java Serialization Format","url":"/zh-CN/docs/0.12/specification/java_serialization_spec#shared-meta-string","content":" The shared meta string format consists of header and encoded string binary. Header of encoded string binary will be inlined in shared meta header.  Header is written using little endian order, Fory can read this flag first to determine how to deserialize the data.  Write by data‚Äã  If string hasn't been written before, the data will be written as follows:  | unsigned varint: string binary size + 1 bit: not written before | 56 bits: unique hash | 3 bits encoding flags + string binary |   If string binary size is less than 16 bytes, the hash will be omitted to save spaces. Unique hash can be omitted too if caller pass a flag to disable it. In such cases, the format will be:  | unsigned varint: string binary size + 1 bit: not written before | 3 bits encoding flags + string binary |   Write by ref‚Äã  If string has been written before, the data will be written as follows:  | unsigned varint: written string id + 1 bit: written before |   ","version":"0.12","tagName":"h3"},{"title":"Value Format‚Äã","type":1,"pageTitle":"Java Serialization Format","url":"/zh-CN/docs/0.12/specification/java_serialization_spec#value-format","content":" ","version":"0.12","tagName":"h2"},{"title":"Basic types‚Äã","type":1,"pageTitle":"Java Serialization Format","url":"/zh-CN/docs/0.12/specification/java_serialization_spec#basic-types","content":" Bool‚Äã  size: 1 byteformat: 0 for false, 1 for true  Byte‚Äã  size: 1 byteformat: write as pure byte.  Short‚Äã  size: 2 bytebyte order: little endian order  Char‚Äã  size: 2 bytebyte order: little endian order  Unsigned int‚Äã  size: 1~5 byteFormat: The most significant bit (MSB) in every byte indicates whether to have the next byte. If first bit is set i.e. b &amp; 0x80 == 0x80, then the next byte should be read until the first bit of the next byte is unset.  Signed int‚Äã  size: 1~5 byteFormat: First convert the number into positive unsigned int by (v &lt;&lt; 1) ^ (v &gt;&gt; 31) ZigZag algorithm, then encoding it as an unsigned int.  Unsigned long‚Äã  size: 1~9 byteFory PVL(Progressive Variable-length Long) Encoding: positive long format: first bit in every byte indicates whether to have the next byte. If first bit is set i.e. b &amp; 0x80 == 0x80, then the next byte should be read until the first bit is unset.  Signed long‚Äã  size: 1~9 byteFory SLI(Small long as int) Encoding: If long is in [-1073741824, 1073741823], encode as 4 bytes int: | little-endian: ((int) value) &lt;&lt; 1 |Otherwise write as 9 bytes: | 0b1 | little-endian 8 bytes long | Fory PVL(Progressive Variable-length Long) Encoding: First convert the number into positive unsigned long by (v &lt;&lt; 1) ^ (v &gt;&gt; 63) ZigZag algorithm to reduce cost of small negative numbers, then encoding it as an unsigned long.  Float‚Äã  size: 4 byteformat: convert float to 4 bytes int by Float.floatToRawIntBits, then write as binary by little endian order.  Double‚Äã  size: 8 byteformat: convert double to 8 bytes int by Double.doubleToRawLongBits, then write as binary by little endian order.  ","version":"0.12","tagName":"h3"},{"title":"String‚Äã","type":1,"pageTitle":"Java Serialization Format","url":"/zh-CN/docs/0.12/specification/java_serialization_spec#string","content":" Format:  | header: size &lt;&lt; 2 | 2 bits encoding flags | binary data |   size + encoding will be concat as a long and encoded as an unsigned var long. The little 2 bits is used for encoding: 0 for latin, 1 for utf-16, 2 for utf-8.encoded string binary data based on encoding: latin/utf-16/utf-8.  Which encoding to choose:  For JDK8: fory detect latin at runtime, if string is latin string, then use latin encoding, otherwise use utf-16.For JDK9+: fory use coder in String object for encoding, latin/utf-16 will be used for encoding.If the string is encoded by utf-8, then fory will use utf-8 to decode the data. But currently fory doesn't enable utf-8 encoding by default for java. Cross-language string serialization of fory uses utf-8 by default.  ","version":"0.12","tagName":"h3"},{"title":"Collection‚Äã","type":1,"pageTitle":"Java Serialization Format","url":"/zh-CN/docs/0.12/specification/java_serialization_spec#collection","content":" All collection serializers must extend AbstractCollectionSerializer.  Format:  length(unsigned varint) | collection header | elements header | elements data   Collection header‚Äã  For ArrayList/LinkedArrayList/HashSet/LinkedHashSet, this will be empty.For TreeSet, this will be ComparatorFor subclass of ArrayList, this may be extra object field info.  Elements header‚Äã  In most cases, all collection elements are same type and not null, elements header will encode those homogeneous information to avoid the cost of writing it for every element. Specifically, there are four kinds of information which will be encoded by elements header, each use one bit:  If track elements ref, use the first bit 0b1 of the header to flag it.If the collection has null, use the second bit 0b10 of the header to flag it. If ref tracking is enabled for this element type, this flag is invalid.If the collection element types are not declared type, use the 3rd bit 0b100 of the header to flag it.If the collection element types are different, use the 4th bit 0b1000 header to flag it.  By default, all bits are unset, which means all elements won't track ref, all elements are same type, not null and the actual element is the declared type in the custom class field.  The implementation can generate different deserialization code based read header, and look up the generated code from a linear map/list.  Elements data‚Äã  Based on the elements header, the serialization of elements data may skip ref flag/null flag/element class info.  CollectionSerializer#write/read can be taken as an example.  ","version":"0.12","tagName":"h3"},{"title":"Array‚Äã","type":1,"pageTitle":"Java Serialization Format","url":"/zh-CN/docs/0.12/specification/java_serialization_spec#array","content":" Primitive array‚Äã  Primitive array are taken as a binary buffer, serialization will just write the length of array size as an unsigned int, then copy the whole buffer into the stream.  Such serialization won't compress the array. If users want to compress primitive array, users need to register custom serializers for such types.  Object array‚Äã  Object array is serialized using the collection format. Object component type will be taken as collection element generic type.  ","version":"0.12","tagName":"h3"},{"title":"Map‚Äã","type":1,"pageTitle":"Java Serialization Format","url":"/zh-CN/docs/0.12/specification/java_serialization_spec#map","content":" All Map serializers must extend AbstractMapSerializer.  Format:  | length(unsigned varint) | map header | key value pairs data |   Map header‚Äã  For HashMap/LinkedHashMap, this will be empty.For TreeMap, this will be ComparatorFor other Map, this may be extra object field info.  Map Key-Value data‚Äã  Map iteration is too expensive, Fory won't compute the header like for collection before since it introduceconsiderable overhead. Users can use MapFieldInfo annotation to provide header in advance. Otherwise Fory will use first key-value pair to predict header optimistically, and update the chunk header if the prediction failed at some pair.  Fory will serialize map chunk by chunk, every chunk has 127 pairs at most.  | 1 byte | 1 byte | variable bytes | +----------------+----------------+-----------------+ | KV header | chunk size: N | N*2 objects |   KV header:  If track key ref, use the first bit 0b1 of the header to flag it.If the key has null, use the second bit 0b10 of the header to flag it. If ref tracking is enabled for this key type, this flag is invalid.If the actual key type of map is not the declared key type, use the 3rd bit 0b100 of the header to flag it.If track value ref, use the 4th bit 0b1000 of the header to flag it.If the value has null, use the 5th bit 0b10000 of the header to flag it. If ref tracking is enabled for this value type, this flag is invalid.If the value type of map is not the declared value type, use the 6rd bit 0b100000 of the header to flag it.If key or value is null, that key and value will be written as a separate chunk, and chunk size writing will be skipped too.  If streaming write is enabled, which means Fory can't update written chunk size. In such cases, map key-value data format will be:  | 1 byte | variable bytes | +----------------+-----------------+ | KV header | N*2 objects |   KV header will be a header marked by MapFieldInfo in java. The implementation can generate different deserialization code based read header, and look up the generated code from a linear map/list.  ","version":"0.12","tagName":"h3"},{"title":"Enum‚Äã","type":1,"pageTitle":"Java Serialization Format","url":"/zh-CN/docs/0.12/specification/java_serialization_spec#enum","content":" Enums are serialized as an unsigned var int. If the order of enum values change, the deserialized enum value may not be the value users expect. In such cases, users must register enum serializer by make it write enum value as an enumerated string with unique hash disabled.  ","version":"0.12","tagName":"h3"},{"title":"Object‚Äã","type":1,"pageTitle":"Java Serialization Format","url":"/zh-CN/docs/0.12/specification/java_serialization_spec#object","content":" Object means object of pojo/struct/bean/record type. Object will be serialized by writing its fields data in fory order.  Depending on schema compatibility, objects will have different formats.  Field order‚Äã  Field will be ordered as following, every group of fields will have its own order:  primitive fields: larger size type first, smaller later, variable size type last.boxed primitive fields: same order as primitive fieldsfinal fields: same type together, then sorted by field name lexicographically.collection fields: same order as final fieldsmap fields: same order as final fieldsother fields: same order as final fields  Schema consistent‚Äã  Object fields will be serialized one by one using following format:  Primitive field value: | var bytes | +----------------+ | value data | +----------------+ Boxed field value: | one byte | var bytes | +-----------+---------------+ | null flag | field value | +-----------+---------------+ field value of final type with ref tracking: | var bytes | var objects | +-----------+-------------+ | ref meta | value data | +-----------+-------------+ field value of final type without ref tracking: | one byte | var objects | +-----------+-------------+ | null flag | field value | +-----------+-------------+ field value of non-final type with ref tracking: | one byte | var bytes | var objects | +-----------+-------------+-------------+ | ref meta | class meta | value data | +-----------+-------------+-------------+ field value of non-final type without ref tracking: | one byte | var bytes | var objects | +-----------+------------+------------+ | null flag | class meta | value data | +-----------+------------+------------+   Schema evolution‚Äã  Schema evolution have similar format as schema consistent mode for object except:  For this object type itself, schema consistent mode will write class by id/name, but schema evolution mode will write class field names, types and other meta too, see Class meta.Class meta of final custom type needs to be written too, because peers may not have this class defined.  ","version":"0.12","tagName":"h3"},{"title":"Class‚Äã","type":1,"pageTitle":"Java Serialization Format","url":"/zh-CN/docs/0.12/specification/java_serialization_spec#class","content":" Class will be serialized using class meta format.  ","version":"0.12","tagName":"h3"},{"title":"Implementation guidelines‚Äã","type":1,"pageTitle":"Java Serialization Format","url":"/zh-CN/docs/0.12/specification/java_serialization_spec#implementation-guidelines","content":" Try to merge multiple bytes into an int/long write before writing to reduce memory IO and bound check cost.Read multiple bytes as an int/long, then split into multiple bytes to reduce memory IO and bound check cost.Try to use one varint/long to write flags and length together to save one byte cost and reduce memory io.Condition branches are less expensive compared to memory IO cost unless there are too many branches. ","version":"0.12","tagName":"h2"},{"title":"ÂÆâË£Ö Apache Fory","type":0,"sectionRef":"#","url":"/zh-CN/docs/0.12/start/install","content":"","keywords":"","version":"0.12"},{"title":"Apache Fory‚Ñ¢ Java ÂÆâË£Ö‚Äã","type":1,"pageTitle":"ÂÆâË£Ö Apache Fory","url":"/zh-CN/docs/0.12/start/install#apache-fory-java-ÂÆâË£Ö","content":" Ë¶Å‰ΩøÁî® Maven Ê∑ªÂä†ÂØπ Apache Fory ÁöÑ‰æùËµñÔºåËØ∑‰ΩøÁî®‰ª•‰∏ãÈÖçÁΩÆÔºö  &lt;dependency&gt; &lt;groupId&gt;org.apache.fory&lt;/groupId&gt; &lt;artifactId&gt;fory-core&lt;/artifactId&gt; &lt;version&gt;0.12.3&lt;/version&gt; &lt;/dependency&gt; &lt;!-- row/arrow format support --&gt; &lt;!-- &lt;dependency&gt; &lt;groupId&gt;org.apache.fory&lt;/groupId&gt; &lt;artifactId&gt;fory-format&lt;/artifactId&gt; &lt;version&gt;0.12.3&lt;/version&gt; &lt;/dependency&gt; --&gt;   ","version":"0.12","tagName":"h3"},{"title":"Apache Fory‚Ñ¢ Scala ÂÆâË£Ö‚Äã","type":1,"pageTitle":"ÂÆâË£Ö Apache Fory","url":"/zh-CN/docs/0.12/start/install#apache-fory-scala-ÂÆâË£Ö","content":" Ë¶Å‰ΩøÁî® Maven Ê∑ªÂä† scala 2.13 ÁöÑ Fory scala ‰æùËµñÔºåËØ∑‰ΩøÁî®‰ª•‰∏ãÈÖçÁΩÆÔºö  &lt;dependency&gt; &lt;groupId&gt;org.apache.fory&lt;/groupId&gt; &lt;artifactId&gt;fory-scala_2.13&lt;/artifactId&gt; &lt;version&gt;0.12.3&lt;/version&gt; &lt;/dependency&gt;   Ë¶Å‰ΩøÁî® Maven Ê∑ªÂä† scala 3 ÁöÑ Fory scala ‰æùËµñÔºåËØ∑‰ΩøÁî®‰ª•‰∏ãÈÖçÁΩÆÔºö  &lt;dependency&gt; &lt;groupId&gt;org.apache.fory&lt;/groupId&gt; &lt;artifactId&gt;fory-scala_3&lt;/artifactId&gt; &lt;version&gt;0.12.3&lt;/version&gt; &lt;/dependency&gt;   Ë¶Å‰ΩøÁî® sbt Ê∑ªÂä† scala 2.13 ÁöÑ Fory scala ‰æùËµñÔºåËØ∑‰ΩøÁî®‰ª•‰∏ãÈÖçÁΩÆÔºö  libraryDependencies += &quot;org.apache.fory&quot; % &quot;fory-scala_2.13&quot; % &quot;0.12.3&quot;   Ë¶Å‰ΩøÁî® sbt Ê∑ªÂä† scala 3 ÁöÑ Fory scala ‰æùËµñÔºåËØ∑‰ΩøÁî®‰ª•‰∏ãÈÖçÁΩÆÔºö  libraryDependencies += &quot;org.apache.fory&quot; % &quot;fory-scala_3&quot; % &quot;0.12.3&quot;   ","version":"0.12","tagName":"h3"},{"title":"Fory Kotlin ÂÆâË£Ö‚Äã","type":1,"pageTitle":"ÂÆâË£Ö Apache Fory","url":"/zh-CN/docs/0.12/start/install#fory-kotlin-ÂÆâË£Ö","content":" To add a dependency on Apache Fory‚Ñ¢kotlin with maven, use the following:  &lt;dependency&gt; &lt;groupId&gt;org.apache.fory&lt;/groupId&gt; &lt;artifactId&gt;fory-kotlin&lt;/artifactId&gt; &lt;version&gt;0.12.3&lt;/version&gt; &lt;/dependency&gt;   ","version":"0.12","tagName":"h2"},{"title":"Fory Python ÂÆâË£Ö‚Äã","type":1,"pageTitle":"ÂÆâË£Ö Apache Fory","url":"/zh-CN/docs/0.12/start/install#fory-python-ÂÆâË£Ö","content":" pip install pyfory   ","version":"0.12","tagName":"h2"},{"title":"Fory JavaScript ÂÆâË£Ö‚Äã","type":1,"pageTitle":"ÂÆâË£Ö Apache Fory","url":"/zh-CN/docs/0.12/start/install#fory-javascript-ÂÆâË£Ö","content":" Apache Fory ÁõÆÂâçÊöÇÊú™ÂèëÂ∏ÉÂà∞ NPM, ËØ∑ÈÄöËøáÊ∫êÁ†ÅÂÆâË£Ö„ÄÇ ","version":"0.12","tagName":"h2"},{"title":"Â§öËØ≠Ë®ÄÂ∫èÂàóÂåñ","type":0,"sectionRef":"#","url":"/zh-CN/docs/0.12/guide/xlang_serialization","content":"","keywords":"","version":"0.12"},{"title":"Ë∑®ËØ≠Ë®ÄÂØπË±°ÂõæÂ∫èÂàóÂåñ‚Äã","type":1,"pageTitle":"Â§öËØ≠Ë®ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/0.12/guide/xlang_serialization#Ë∑®ËØ≠Ë®ÄÂØπË±°ÂõæÂ∫èÂàóÂåñ","content":" ","version":"0.12","tagName":"h2"},{"title":"Â∫èÂàóÂåñÂÜÖÁΩÆÁ±ªÂûã‚Äã","type":1,"pageTitle":"Â§öËØ≠Ë®ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/0.12/guide/xlang_serialization#Â∫èÂàóÂåñÂÜÖÁΩÆÁ±ªÂûã","content":" Apache Fory‚Ñ¢ ÂèØ‰ª•Ëá™Âä®Â∫èÂàóÂåñÁºñÁ®ãËØ≠Ë®ÄÁöÑÂ∏∏ËßÅÊï∞ÊçÆÁ±ªÂûãÔºöprimitive numeric types, string, binary, array, list, map Á≠â„ÄÇ  Java  import org.apache.fory.*; import org.apache.fory.config.*; import java.util.*; public class Example1 { public static void main(String[] args) { Fory fory = Fory.builder().withLanguage(Language.XLANG).build(); List&lt;Object&gt; list = ofArrayList(true, false, &quot;str&quot;, -1.1, 1, new int[100], new double[20]); byte[] bytes = fory.serialize(list); // bytes can be data serialized by other languages. fory.deserialize(bytes); Map&lt;Object, Object&gt; map = new HashMap&lt;&gt;(); map.put(&quot;k1&quot;, &quot;v1&quot;); map.put(&quot;k2&quot;, list); map.put(&quot;k3&quot;, -1); bytes = fory.serialize(map); // bytes can be data serialized by other languages. fory.deserialize(bytes); } }   Python  import pyfory import numpy as np fory = pyfory.Fory() object_list = [True, False, &quot;str&quot;, -1.1, 1, np.full(100, 0, dtype=np.int32), np.full(20, 0.0, dtype=np.double)] data = fory.serialize(object_list) # bytes can be data serialized by other languages. new_list = fory.deserialize(data) object_map = {&quot;k1&quot;: &quot;v1&quot;, &quot;k2&quot;: object_list, &quot;k3&quot;: -1} data = fory.serialize(object_map) # bytes can be data serialized by other languages. new_map = fory.deserialize(data) print(new_map)   Golang  package main import forygo &quot;github.com/apache/fory/fory/go/fory&quot; import &quot;fmt&quot; func main() { list := []interface{}{true, false, &quot;str&quot;, -1.1, 1, make([]int32, 10), make([]float64, 20)} fory := forygo.NewFory() bytes, err := fory.Marshal(list) if err != nil { panic(err) } var newValue interface{} // bytes can be data serialized by other languages. if err := fory.Unmarshal(bytes, &amp;newValue); err != nil { panic(err) } fmt.Println(newValue) dict := map[string]interface{}{ &quot;k1&quot;: &quot;v1&quot;, &quot;k2&quot;: list, &quot;k3&quot;: -1, } bytes, err = fory.Marshal(dict) if err != nil { panic(err) } // bytes can be data serialized by other languages. if err := fory.Unmarshal(bytes, &amp;newValue); err != nil { panic(err) } fmt.Println(newValue) }   JavaScript  import Fory from &quot;@apache-fory/fory&quot;; /** * @apache-fory/hps use v8's fast-calls-api that can be called directly by jit, ensure that the version of Node is 20 or above. * Experimental feature, installation success cannot be guaranteed at this moment * If you are unable to install the module, replace it with `const hps = null;` **/ import hps from &quot;@apache-fory/hps&quot;; const fory = new Fory({ hps }); const input = fory.serialize(&quot;hello fory&quot;); const result = fory.deserialize(input); console.log(result);   Rust  use chrono::{NaiveDate, NaiveDateTime}; use fory::{from_buffer, to_buffer, Fory}; use std::collections::HashMap; fn run() { let bin: Vec&lt;u8&gt; = to_buffer(&amp;&quot;hello&quot;.to_string()); let obj: String = from_buffer(&amp;bin).expect(&quot;should success&quot;); assert_eq!(&quot;hello&quot;.to_string(), obj); }   ","version":"0.12","tagName":"h3"},{"title":"Â∫èÂàóÂåñËá™ÂÆö‰πâÁ±ªÂûã‚Äã","type":1,"pageTitle":"Â§öËØ≠Ë®ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/0.12/guide/xlang_serialization#Â∫èÂàóÂåñËá™ÂÆö‰πâÁ±ªÂûã","content":" Â∫èÂàóÂåñÁî®Êà∑ÂÆö‰πâÁöÑÁ±ªÂûãÈúÄË¶Å‰ΩøÁî®Ê≥®ÂÜå API Ê≥®ÂÜåËá™ÂÆö‰πâÁ±ªÂûãÔºå‰ª•‰æøÂú®‰∏çÂêåËØ≠Ë®Ä‰∏≠Âª∫Á´ãÁ±ªÂûã‰πãÈó¥ÁöÑÊò†Â∞ÑÂÖ≥Á≥ª„ÄÇ  Java  import org.apache.fory.*; import org.apache.fory.config.*; import java.util.*; public class Example2 { public static class SomeClass1 { Object f1; Map&lt;Byte, Integer&gt; f2; } public static class SomeClass2 { Object f1; String f2; List&lt;Object&gt; f3; Map&lt;Byte, Integer&gt; f4; Byte f5; Short f6; Integer f7; Long f8; Float f9; Double f10; short[] f11; List&lt;Short&gt; f12; } public static Object createObject() { SomeClass1 obj1 = new SomeClass1(); obj1.f1 = true; obj1.f2 = ofHashMap((byte) -1, 2); SomeClass2 obj = new SomeClass2(); obj.f1 = obj1; obj.f2 = &quot;abc&quot;; obj.f3 = ofArrayList(&quot;abc&quot;, &quot;abc&quot;); obj.f4 = ofHashMap((byte) 1, 2); obj.f5 = Byte.MAX_VALUE; obj.f6 = Short.MAX_VALUE; obj.f7 = Integer.MAX_VALUE; obj.f8 = Long.MAX_VALUE; obj.f9 = 1.0f / 2; obj.f10 = 1 / 3.0; obj.f11 = new short[]{(short) 1, (short) 2}; obj.f12 = ofArrayList((short) -1, (short) 4); return obj; } // mvn exec:java -Dexec.mainClass=&quot;org.apache.fory.examples.Example2&quot; public static void main(String[] args) { Fory fory = Fory.builder().withLanguage(Language.XLANG).build(); fory.register(SomeClass1.class, &quot;example.SomeClass1&quot;); fory.register(SomeClass2.class, &quot;example.SomeClass2&quot;); byte[] bytes = fory.serialize(createObject()); // bytes can be data serialized by other languages. System.out.println(fory.deserialize(bytes)); } }   Python  from dataclasses import dataclass from typing import List, Dict, Any import pyfory, array @dataclass class SomeClass1: f1: Any f2: Dict[pyfory.Int8Type, pyfory.Int32Type] @dataclass class SomeClass2: f1: Any = None f2: str = None f3: List[str] = None f4: Dict[pyfory.Int8Type, pyfory.Int32Type] = None f5: pyfory.Int8Type = None f6: pyfory.Int16Type = None f7: pyfory.Int32Type = None # int type will be taken as `pyfory.Int64Type`. # use `pyfory.Int32Type` for type hint if peer # are more narrow type. f8: int = None f9: pyfory.Float32Type = None # float type will be taken as `pyfory.Float64Type` f10: float = None f11: pyfory.Int16ArrayType = None f12: List[pyfory.Int16Type] = None if __name__ == &quot;__main__&quot;: f = pyfory.Fory() f.register_class(SomeClass1, type_tag=&quot;example.SomeClass1&quot;) f.register_class(SomeClass2, type_tag=&quot;example.SomeClass2&quot;) obj1 = SomeClass1(f1=True, f2={-1: 2}) obj = SomeClass2( f1=obj1, f2=&quot;abc&quot;, f3=[&quot;abc&quot;, &quot;abc&quot;], f4={1: 2}, f5=2 ** 7 - 1, f6=2 ** 15 - 1, f7=2 ** 31 - 1, f8=2 ** 63 - 1, f9=1.0 / 2, f10=1 / 3.0, f11=array.array(&quot;h&quot;, [1, 2]), f12=[-1, 4], ) data = f.serialize(obj) # bytes can be data serialized by other languages. print(f.deserialize(data))   Golang  package main import forygo &quot;github.com/apache/fory/fory/go/fory&quot; import &quot;fmt&quot; func main() { type SomeClass1 struct { F1 interface{} F2 string F3 []interface{} F4 map[int8]int32 F5 int8 F6 int16 F7 int32 F8 int64 F9 float32 F10 float64 F11 []int16 F12 fory.Int16Slice } type SomeClas2 struct { F1 interface{} F2 map[int8]int32 } fory := forygo.NewFory() if err := fory.RegisterTagType(&quot;example.SomeClass1&quot;, SomeClass1{}); err != nil { panic(err) } if err := fory.RegisterTagType(&quot;example.SomeClass2&quot;, SomeClass2{}); err != nil { panic(err) } obj1 := &amp;SomeClass1{} obj1.F1 = true obj1.F2 = map[int8]int32{-1: 2} obj := &amp;SomeClass1{} obj.F1 = obj1 obj.F2 = &quot;abc&quot; obj.F3 = []interface{}{&quot;abc&quot;, &quot;abc&quot;} f4 := map[int8]int32{1: 2} obj.F4 = f4 obj.F5 = fory.MaxInt8 obj.F6 = fory.MaxInt16 obj.F7 = fory.MaxInt32 obj.F8 = fory.MaxInt64 obj.F9 = 1.0 / 2 obj.F10 = 1 / 3.0 obj.F11 = []int16{1, 2} obj.F12 = []int16{-1, 4} bytes, err := fory.Marshal(obj); if err != nil { panic(err) } var newValue interface{} // bytes can be data serialized by other languages. if err := fory.Unmarshal(bytes, &amp;newValue); err != nil { panic(err) } fmt.Println(newValue) }   JavaScript  import Fory, { Type, InternalSerializerType } from &quot;@apache-fory/fory&quot;; /** * @apache-fory/hps use v8's fast-calls-api that can be called directly by jit, ensure that the version of Node is 20 or above. * Experimental feature, installation success cannot be guaranteed at this moment * If you are unable to install the module, replace it with `const hps = null;` **/ import hps from &quot;@apache-fory/hps&quot;; // Now we describe data structures using JSON, but in the future, we will use more ways. const description = Type.object(&quot;example.foo&quot;, { foo: Type.string(), }); const fory = new Fory({ hps }); const { serialize, deserialize } = fory.registerSerializer(description); const input = serialize({ foo: &quot;hello fory&quot; }); const result = deserialize(input); console.log(result);   Rust  use chrono::{NaiveDate, NaiveDateTime}; use fory::{from_buffer, to_buffer, Fory}; use std::collections::HashMap; #[test] fn complex_struct() { #[derive(Fory, Debug, PartialEq)] #[tag(&quot;example.foo2&quot;)] struct Animal { category: String, } #[derive(Fory, Debug, PartialEq)] #[tag(&quot;example.foo&quot;)] struct Person { c1: Vec&lt;u8&gt;, // binary c2: Vec&lt;i16&gt;, // primitive array animal: Vec&lt;Animal&gt;, c3: Vec&lt;Vec&lt;u8&gt;&gt;, name: String, c4: HashMap&lt;String, String&gt;, age: u16, op: Option&lt;String&gt;, op2: Option&lt;String&gt;, date: NaiveDate, time: NaiveDateTime, c5: f32, c6: f64, } let person: Person = Person { c1: vec![1, 2, 3], c2: vec![5, 6, 7], c3: vec![vec![1, 2], vec![1, 3]], animal: vec![Animal { category: &quot;Dog&quot;.to_string(), }], c4: HashMap::from([ (&quot;hello1&quot;.to_string(), &quot;hello2&quot;.to_string()), (&quot;hello2&quot;.to_string(), &quot;hello3&quot;.to_string()), ]), age: 12, name: &quot;helo&quot;.to_string(), op: Some(&quot;option&quot;.to_string()), op2: None, date: NaiveDate::from_ymd_opt(2025, 12, 12).unwrap(), time: NaiveDateTime::from_timestamp_opt(1689912359, 0).unwrap(), c5: 2.0, c6: 4.0, }; let bin: Vec&lt;u8&gt; = to_buffer(&amp;person); let obj: Person = from_buffer(&amp;bin).expect(&quot;should success&quot;); assert_eq!(person, obj); }   ","version":"0.12","tagName":"h3"},{"title":"Â∫èÂàóÂåñÂÖ±‰∫´ÂºïÁî®ÂíåÂæ™ÁéØÂºïÁî®‚Äã","type":1,"pageTitle":"Â§öËØ≠Ë®ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/0.12/guide/xlang_serialization#Â∫èÂàóÂåñÂÖ±‰∫´ÂºïÁî®ÂíåÂæ™ÁéØÂºïÁî®","content":" ÂÖ±‰∫´ÂºïÁî®ÂíåÂæ™ÁéØÂºïÁî®ÂèØ‰ª•Ë¢´Ëá™Âä®Â∫èÂàóÂåñÔºå‰∏ç‰ºö‰∫ßÁîüÈáçÂ§çÊï∞ÊçÆÊàñÈÄíÂΩíÈîôËØØ„ÄÇ  Java  import org.apache.fory.*; import org.apache.fory.config.*; import java.util.*; public class ReferenceExample { public static class SomeClass { SomeClass f1; Map&lt;String, String&gt; f2; Map&lt;String, String&gt; f3; } public static Object createObject() { SomeClass obj = new SomeClass(); obj.f1 = obj; obj.f2 = ofHashMap(&quot;k1&quot;, &quot;v1&quot;, &quot;k2&quot;, &quot;v2&quot;); obj.f3 = obj.f2; return obj; } // mvn exec:java -Dexec.mainClass=&quot;org.apache.fory.examples.ReferenceExample&quot; public static void main(String[] args) { Fory fory = Fory.builder().withLanguage(Language.XLANG) .withRefTracking(true).build(); fory.register(SomeClass.class, &quot;example.SomeClass&quot;); byte[] bytes = fory.serialize(createObject()); // bytes can be data serialized by other languages. System.out.println(fory.deserialize(bytes)); } }   Python  from typing import Dict import pyfory class SomeClass: f1: &quot;SomeClass&quot; f2: Dict[str, str] f3: Dict[str, str] fory = pyfory.Fory(ref_tracking=True) fory.register_type(SomeClass, typename=&quot;example.SomeClass&quot;) obj = SomeClass() obj.f2 = {&quot;k1&quot;: &quot;v1&quot;, &quot;k2&quot;: &quot;v2&quot;} obj.f1, obj.f3 = obj, obj.f2 data = fory.serialize(obj) # bytes can be data serialized by other languages. print(fory.deserialize(data))   Golang  package main import forygo &quot;github.com/apache/fory/fory/go/fory&quot; import &quot;fmt&quot; func main() { type SomeClass struct { F1 *SomeClass F2 map[string]string F3 map[string]string } fory := forygo.NewFory(true) if err := fory.RegisterTagType(&quot;example.SomeClass&quot;, SomeClass{}); err != nil { panic(err) } value := &amp;SomeClass{F2: map[string]string{&quot;k1&quot;: &quot;v1&quot;, &quot;k2&quot;: &quot;v2&quot;}} value.F3 = value.F2 value.F1 = value bytes, err := fory.Marshal(value) if err != nil { panic(err) } var newValue interface{} // bytes can be data serialized by other languages. if err := fory.Unmarshal(bytes, &amp;newValue); err != nil { panic(err) } fmt.Println(newValue) }   JavaScript  import Fory, { Type } from &quot;@apache-fory/fory&quot;; /** * @apache-fory/hps use v8's fast-calls-api that can be called directly by jit, ensure that the version of Node is 20 or above. * Experimental feature, installation success cannot be guaranteed at this moment * If you are unable to install the module, replace it with `const hps = null;` **/ import hps from &quot;@apache-fory/hps&quot;; const description = Type.object(&quot;example.foo&quot;, { foo: Type.string(), bar: Type.object(&quot;example.foo&quot;), }); const fory = new Fory({ hps }); const { serialize, deserialize } = fory.registerSerializer(description); const data = { foo: &quot;hello fory&quot;, }; data.bar = data; const input = serialize(data); const result = deserialize(input); console.log(result.bar.foo === result.foo);   Rust  Áî±‰∫é Rust ÊâÄÊúâÊùÉÈôêÂà∂ÔºåÊöÇ‰∏çÊîØÊåÅÂºïÁî®Á±ªÂûãÁöÑÂ∫èÂàóÂåñ  ","version":"0.12","tagName":"h3"},{"title":"Zero-Copy Serialization‚Äã","type":1,"pageTitle":"Â§öËØ≠Ë®ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/0.12/guide/xlang_serialization#zero-copy-serialization","content":" Java  import org.apache.fory.*; import org.apache.fory.config.*; import org.apache.fory.serializers.BufferObject; import org.apache.fory.memory.MemoryBuffer; import java.util.*; import java.util.stream.Collectors; public class ZeroCopyExample { // mvn exec:java -Dexec.mainClass=&quot;io.ray.fory.examples.ZeroCopyExample&quot; public static void main(String[] args) { Fory fory = Fory.builder().withLanguage(Language.XLANG).build(); List&lt;Object&gt; list = ofArrayList(&quot;str&quot;, new byte[1000], new int[100], new double[100]); Collection&lt;BufferObject&gt; bufferObjects = new ArrayList&lt;&gt;(); byte[] bytes = fory.serialize(list, e -&gt; !bufferObjects.add(e)); // bytes can be data serialized by other languages. List&lt;MemoryBuffer&gt; buffers = bufferObjects.stream() .map(BufferObject::toBuffer).collect(Collectors.toList()); System.out.println(fory.deserialize(bytes, buffers)); } }   Python  import array import pyfory import numpy as np fory = pyfory.Fory() list_ = [&quot;str&quot;, bytes(bytearray(1000)), array.array(&quot;i&quot;, range(100)), np.full(100, 0.0, dtype=np.double)] serialized_objects = [] data = fory.serialize(list_, buffer_callback=serialized_objects.append) buffers = [o.to_buffer() for o in serialized_objects] # bytes can be data serialized by other languages. print(fory.deserialize(data, buffers=buffers))   Golang  package main import forygo &quot;github.com/apache/fory/fory/go/fory&quot; import &quot;fmt&quot; func main() { fory := forygo.NewFory() list := []interface{}{&quot;str&quot;, make([]byte, 1000)} buf := fory.NewByteBuffer(nil) var bufferObjects []fory.BufferObject fory.Serialize(buf, list, func(o fory.BufferObject) bool { bufferObjects = append(bufferObjects, o) return false }) var newList []interface{} var buffers []*fory.ByteBuffer for _, o := range bufferObjects { buffers = append(buffers, o.ToBuffer()) } if err := fory.Deserialize(buf, &amp;newList, buffers); err != nil { panic(err) } fmt.Println(newList) }   JavaScript  // Coming soon  ","version":"0.12","tagName":"h3"},{"title":"Java Â∫èÂàóÂåñ","type":0,"sectionRef":"#","url":"/zh-CN/docs/0.12/guide/serialization","content":"","keywords":"","version":"0.12"},{"title":"Âø´ÈÄüÂºÄÂßã‚Äã","type":1,"pageTitle":"Java Â∫èÂàóÂåñ","url":"/zh-CN/docs/0.12/guide/serialization#Âø´ÈÄüÂºÄÂßã","content":" Ê≥®ÊÑèÔºåFory ÂÆû‰æãÁöÑÂàõÂª∫ÂºÄÈîÄËæÉÂ§ßÔºåFory ÂÆû‰æãÂ∫îÂú®Â§öÊ¨°Â∫èÂàóÂåñÈó¥Â§çÁî®ÔºåËÄå‰∏çÊòØÊØèÊ¨°ÈÉΩÊñ∞Âª∫„ÄÇ Âª∫ËÆÆÂ∞Ü Fory ‰øùÂ≠òÂú®ÈùôÊÄÅÂÖ®Â±ÄÂèòÈáè„ÄÅÂçï‰æãÂØπË±°ÊàñÊúâÈôêÊï∞ÈáèÁöÑÂÆû‰æãÂèòÈáè‰∏≠„ÄÇ  ÂçïÁ∫øÁ®ãÂú∫ÊôØ‰∏ã Fory ÁöÑÁî®Ê≥ïÔºö  import java.util.List; import java.util.Arrays; import org.apache.fory.*; import org.apache.fory.config.*; public class Example { public static void main(String[] args) { SomeClass object = new SomeClass(); // Ê≥®ÊÑèÔºöFory ÂÆû‰æãÂ∫îÂú®Â§öÊ¨°Â∫èÂàóÂåñÈó¥Â§çÁî® Fory fory = Fory.builder().withLanguage(Language.JAVA) .requireClassRegistration(true) .build(); // Ê≥®ÂÜåÁ±ªÂûãÂèØÂáèÂ∞ëÁ±ªÂêçÂ∫èÂàóÂåñÂºÄÈîÄÔºå‰ΩÜ‰∏çÊòØÂº∫Âà∂ÁöÑ„ÄÇ // ÂêØÁî®Á±ªÊ≥®ÂÜåÂêéÔºåÊâÄÊúâËá™ÂÆö‰πâÁ±ªÂûãÈÉΩÂøÖÈ°ªÊ≥®ÂÜå„ÄÇ fory.register(SomeClass.class); byte[] bytes = fory.serialize(object); System.out.println(fory.deserialize(bytes)); } }   Â§öÁ∫øÁ®ãÂú∫ÊôØ‰∏ã Fory ÁöÑÁî®Ê≥ïÔºö  import java.util.List; import java.util.Arrays; import org.apache.fory.*; import org.apache.fory.config.*; public class Example { public static void main(String[] args) { SomeClass object = new SomeClass(); // Ê≥®ÊÑèÔºöFory ÂÆû‰æãÂ∫îÂú®Â§öÊ¨°Â∫èÂàóÂåñÈó¥Â§çÁî® ThreadSafeFory fory = new ThreadLocalFory(classLoader -&gt; { Fory f = Fory.builder().withLanguage(Language.JAVA) .withClassLoader(classLoader).build(); f.register(SomeClass.class); return f; }); byte[] bytes = fory.serialize(object); System.out.println(fory.deserialize(bytes)); } }   Fory ÂÆû‰æãÂ§çÁî®Á§∫‰æãÔºö  import java.util.List; import java.util.Arrays; import org.apache.fory.*; import org.apache.fory.config.*; public class Example { // Â§çÁî® fory ÂÆû‰æã private static final ThreadSafeFory fory = new ThreadLocalFory(classLoader -&gt; { Fory f = Fory.builder().withLanguage(Language.JAVA) .withClassLoader(classLoader).build(); f.register(SomeClass.class); return f; }); public static void main(String[] args) { SomeClass object = new SomeClass(); byte[] bytes = fory.serialize(object); System.out.println(fory.deserialize(bytes)); } }   ","version":"0.12","tagName":"h2"},{"title":"ForyBuilder ÈÖçÁΩÆÈÄâÈ°π‚Äã","type":1,"pageTitle":"Java Â∫èÂàóÂåñ","url":"/zh-CN/docs/0.12/guide/serialization#forybuilder-ÈÖçÁΩÆÈÄâÈ°π","content":" ÈÄâÈ°πÂêç\tËØ¥Êòé\tÈªòËÆ§ÂÄºtimeRefIgnored\tÊòØÂê¶ÂøΩÁï•ÊâÄÊúâÂú® TimeSerializers Ê≥®ÂÜåÁöÑÊó∂Èó¥Á±ªÂûãÂèäÂÖ∂Â≠êÁ±ªÁöÑÂºïÁî®Ë∑üË∏™ÔºàÂΩìÂºïÁî®Ë∑üË∏™ÂºÄÂêØÊó∂Ôºâ„ÄÇÂ¶ÇÈúÄÂØπÊó∂Èó¥Á±ªÂûãÂêØÁî®ÂºïÁî®Ë∑üË∏™ÔºåÂèØÈÄöËøá Fory#registerSerializer(Class, Serializer) Ê≥®ÂÜå„ÄÇ‰æãÂ¶ÇÔºöfory.registerSerializer(Date.class, new DateSerializer(fory, true))„ÄÇÊ≥®ÊÑèÔºåÂêØÁî®ÂºïÁî®Ë∑üË∏™ÈúÄÂú®ÂåÖÂê´Êó∂Èó¥Â≠óÊÆµÁöÑÁ±ªÂûã‰ª£Á†ÅÁîüÊàêÂâçÂÆåÊàêÔºåÂê¶ÂàôËøô‰∫õÂ≠óÊÆµ‰ªç‰ºöË∑≥ËøáÂºïÁî®Ë∑üË∏™„ÄÇ\ttrue compressInt\tÊòØÂê¶ÂêØÁî® int ÂéãÁº©‰ª•ÂáèÂ∞èÂ∫èÂàóÂåñ‰ΩìÁßØ„ÄÇ\ttrue compressLong\tÊòØÂê¶ÂêØÁî® long ÂéãÁº©‰ª•ÂáèÂ∞èÂ∫èÂàóÂåñ‰ΩìÁßØ„ÄÇ\ttrue compressString\tÊòØÂê¶ÂêØÁî®Â≠óÁ¨¶‰∏≤ÂéãÁº©‰ª•ÂáèÂ∞èÂ∫èÂàóÂåñ‰ΩìÁßØ„ÄÇ\tfalse classLoader\tÁ±ªÂä†ËΩΩÂô®‰∏çÂª∫ËÆÆÂä®ÊÄÅÂèòÊõ¥ÔºåFory ‰ºöÁºìÂ≠òÁ±ªÂÖÉÊï∞ÊçÆ„ÄÇÂ¶ÇÈúÄÂèòÊõ¥Á±ªÂä†ËΩΩÂô®ÔºåËØ∑‰ΩøÁî® LoaderBinding Êàñ ThreadSafeFory„ÄÇ\tThread.currentThread().getContextClassLoader() compatibleMode\tÁ±ªÂûãÂâçÂêë/ÂêéÂêëÂÖºÂÆπÊÄßÈÖçÁΩÆ„ÄÇ‰∏é checkClassVersion ÈÖçÁΩÆÁõ∏ÂÖ≥„ÄÇSCHEMA_CONSISTENTÔºöÂ∫èÂàóÂåñÁ´Ø‰∏éÂèçÂ∫èÂàóÂåñÁ´ØÁ±ªÁªìÊûÑÈúÄ‰∏ÄËá¥„ÄÇCOMPATIBLEÔºöÂ∫èÂàóÂåñÁ´Ø‰∏éÂèçÂ∫èÂàóÂåñÁ´ØÁ±ªÁªìÊûÑÂèØ‰∏çÂêåÔºåÂèØÁã¨Á´ãÂ¢ûÂà†Â≠óÊÆµ„ÄÇËØ¶ËßÅ„ÄÇ\tCompatibleMode.SCHEMA_CONSISTENT checkClassVersion\tÊòØÂê¶Ê†°È™åÁ±ªÁªìÊûÑ‰∏ÄËá¥ÊÄß„ÄÇÂêØÁî®ÂêéÔºåFory ‰ºöÂÜôÂÖ•Âπ∂Ê†°È™å classVersionHash„ÄÇËã•ÂêØÁî® CompatibleMode#COMPATIBLEÔºåÊ≠§È°π‰ºöËá™Âä®ÂÖ≥Èó≠„ÄÇÈô§ÈùûËÉΩÁ°Æ‰øùÁ±ª‰∏ç‰ºöÊºîÂåñÔºåÂê¶Âàô‰∏çÂª∫ËÆÆÂÖ≥Èó≠„ÄÇ\tfalse checkJdkClassSerializable\tÊòØÂê¶Ê†°È™å java.* ‰∏ãÁöÑÁ±ªÂÆûÁé∞‰∫Ü Serializable Êé•Âè£„ÄÇËã•Êú™ÂÆûÁé∞ÔºåFory ‰ºöÊäõÂá∫ UnsupportedOperationException„ÄÇ\ttrue registerGuavaTypes\tÊòØÂê¶È¢ÑÊ≥®ÂÜå Guava Á±ªÂûãÔºàÂ¶Ç RegularImmutableMap/RegularImmutableListÔºâ„ÄÇËøô‰∫õÁ±ªÂûãËôΩÈùûÂÖ¨ÂºÄ APIÔºå‰ΩÜËæÉ‰∏∫Á®≥ÂÆö„ÄÇ\ttrue requireClassRegistration\tÂÖ≥Èó≠ÂêéÂèØÂèçÂ∫èÂàóÂåñÊú™Áü•Á±ªÂûãÔºåÁÅµÊ¥ªÊÄßÊõ¥È´òÔºå‰ΩÜÂ≠òÂú®ÂÆâÂÖ®È£éÈô©„ÄÇ\ttrue suppressClassRegistrationWarnings\tÊòØÂê¶Â±èËîΩÁ±ªÊ≥®ÂÜåË≠¶Âëä„ÄÇË≠¶ÂëäÂèØÁî®‰∫éÂÆâÂÖ®ÂÆ°ËÆ°Ôºå‰ΩÜÂèØËÉΩÂΩ±Âìç‰ΩìÈ™åÔºåÈªòËÆ§ÂºÄÂêØÂ±èËîΩ„ÄÇ\ttrue metaShareEnabled\tÊòØÂê¶ÂêØÁî®ÂÖÉÊï∞ÊçÆÂÖ±‰∫´Ê®°Âºè„ÄÇ\ttrueÔºàËã•ËÆæÁΩÆ‰∫Ü CompatibleMode.CompatibleÔºåÂê¶Âàô‰∏∫ falseÔºâ scopedMetaShareEnabled\tÊòØÂê¶ÂêØÁî®ÂçïÊ¨°Â∫èÂàóÂåñËåÉÂõ¥ÂÜÖÁöÑÂÖÉÊï∞ÊçÆÁã¨‰∫´„ÄÇËØ•ÂÖÉÊï∞ÊçÆ‰ªÖÂú®Êú¨Ê¨°Â∫èÂàóÂåñ‰∏≠ÊúâÊïàÔºå‰∏ç‰∏éÂÖ∂‰ªñÂ∫èÂàóÂåñÂÖ±‰∫´„ÄÇ\ttrueÔºàËã•ËÆæÁΩÆ‰∫Ü CompatibleMode.CompatibleÔºåÂê¶Âàô‰∏∫ falseÔºâ metaCompressor\tËÆæÁΩÆÂÖÉÊï∞ÊçÆÂéãÁº©Âô®„ÄÇÈªòËÆ§‰ΩøÁî®Âü∫‰∫é Deflater ÁöÑ DeflaterMetaCompressorÔºåÂèØËá™ÂÆö‰πâÂ¶Ç zstd Á≠âÊõ¥È´òÂéãÁº©ÊØîÁöÑÂéãÁº©Âô®„ÄÇÈúÄ‰øùËØÅÁ∫øÁ®ãÂÆâÂÖ®„ÄÇ\tDeflaterMetaCompressor deserializeNonexistentClass\tÊòØÂê¶ÂÖÅËÆ∏ÂèçÂ∫èÂàóÂåñ/Ë∑≥Ëøá‰∏çÂ≠òÂú®ÁöÑÁ±ªÁöÑÊï∞ÊçÆ„ÄÇ\ttrueÔºàËã•ËÆæÁΩÆ‰∫Ü CompatibleMode.CompatibleÔºåÂê¶Âàô‰∏∫ falseÔºâ codeGenEnabled\tÊòØÂê¶ÂêØÁî®‰ª£Á†ÅÁîüÊàê„ÄÇÂÖ≥Èó≠ÂêéÈ¶ñÊ¨°Â∫èÂàóÂåñÊõ¥Âø´Ôºå‰ΩÜÂêéÁª≠Â∫èÂàóÂåñÊÄßËÉΩËæÉ‰Ωé„ÄÇ\ttrue asyncCompilationEnabled\tÊòØÂê¶ÂêØÁî®ÂºÇÊ≠•ÁºñËØë„ÄÇÂêØÁî®ÂêéÔºåÂ∫èÂàóÂåñÂÖàÁî®Ëß£ÈáäÊ®°ÂºèÔºåJIT ÂÆåÊàêÂêéÂàáÊç¢‰∏∫ JIT Ê®°Âºè„ÄÇ\tfalse scalaOptimizationEnabled\tÊòØÂê¶ÂêØÁî® Scala ÁâπÂÆö‰ºòÂåñ„ÄÇ\tfalse copyRef\tÂÖ≥Èó≠ÂêéÔºåÊ∑±Êã∑Ë¥ùÊÄßËÉΩÊõ¥Â•ΩÔºå‰ΩÜ‰ºöÂøΩÁï•Âæ™ÁéØÂíåÂÖ±‰∫´ÂºïÁî®„ÄÇÂØπË±°Âõæ‰∏≠ÁöÑÂêå‰∏ÄÂºïÁî®‰ºöË¢´Êã∑Ë¥ù‰∏∫‰∏çÂêåÂØπË±°„ÄÇ\ttrue serializeEnumByName\tÂêØÁî®ÂêéÔºåÊûö‰∏æÊåâÂêçÁß∞Â∫èÂàóÂåñÔºåÂê¶ÂàôÊåâ ordinal„ÄÇ\tfalse  ","version":"0.12","tagName":"h2"},{"title":"È´òÁ∫ßÁî®Ê≥ï‚Äã","type":1,"pageTitle":"Java Â∫èÂàóÂåñ","url":"/zh-CN/docs/0.12/guide/serialization#È´òÁ∫ßÁî®Ê≥ï","content":" ","version":"0.12","tagName":"h2"},{"title":"Apache Fory‚Ñ¢ ÂàõÂª∫‚Äã","type":1,"pageTitle":"Java Â∫èÂàóÂåñ","url":"/zh-CN/docs/0.12/guide/serialization#apache-fory-ÂàõÂª∫","content":" ÂçïÁ∫øÁ®ã Fory Á§∫‰æãÔºö  Fory fory = Fory.builder() .withLanguage(Language.JAVA) // ÂêØÁî®ÂÖ±‰∫´/Âæ™ÁéØÂºïÁî®Ë∑üË∏™„ÄÇËã•Êó†ÈáçÂ§çÂºïÁî®ÂèØÂÖ≥Èó≠‰ª•ÊèêÂçáÊÄßËÉΩ„ÄÇ .withRefTracking(false) .withCompatibleMode(CompatibleMode.SCHEMA_CONSISTENT) // ÂêØÁî®Á±ªÂûãÂâçÂêë/ÂêéÂêëÂÖºÂÆπ // Ëã•ËøΩÊ±ÇÊõ¥Â∞è‰ΩìÁßØÂíåÊõ¥È´òÊÄßËÉΩÂèØÂÖ≥Èó≠ // .withCompatibleMode(CompatibleMode.COMPATIBLE) // ÂêØÁî®ÂºÇÊ≠•Â§öÁ∫øÁ®ãÁºñËØë .withAsyncCompilation(true) .build(); byte[] bytes = fory.serialize(object); System.out.println(fory.deserialize(bytes));   Á∫øÁ®ãÂÆâÂÖ® Fory Á§∫‰æãÔºö  ThreadSafeFory fory = Fory.builder() .withLanguage(Language.JAVA) // ÂêØÁî®ÂÖ±‰∫´/Âæ™ÁéØÂºïÁî®Ë∑üË∏™„ÄÇËã•Êó†ÈáçÂ§çÂºïÁî®ÂèØÂÖ≥Èó≠‰ª•ÊèêÂçáÊÄßËÉΩ„ÄÇ .withRefTracking(false) // ÂêØÁî® int ÂéãÁº© // .withIntCompressed(true) // ÂêØÁî® long ÂéãÁº© // .withLongCompressed(true) .withCompatibleMode(CompatibleMode.SCHEMA_CONSISTENT) // ÂêØÁî®Á±ªÂûãÂâçÂêë/ÂêéÂêëÂÖºÂÆπ // Ëã•ËøΩÊ±ÇÊõ¥Â∞è‰ΩìÁßØÂíåÊõ¥È´òÊÄßËÉΩÂèØÂÖ≥Èó≠ // .withCompatibleMode(CompatibleMode.COMPATIBLE) // ÂêØÁî®ÂºÇÊ≠•Â§öÁ∫øÁ®ãÁºñËØë .withAsyncCompilation(true) .buildThreadSafeFory(); byte[] bytes = fory.serialize(object); System.out.println(fory.deserialize(bytes));   ","version":"0.12","tagName":"h3"},{"title":"Â∫èÂàóÂåñ‰∏≠ÁöÑÁ±ªÁªìÊûÑÊºîÂåñ‚Äã","type":1,"pageTitle":"Java Â∫èÂàóÂåñ","url":"/zh-CN/docs/0.12/guide/serialization#Â∫èÂàóÂåñ‰∏≠ÁöÑÁ±ªÁªìÊûÑÊºîÂåñ","content":" Âú®ÂÆûÈôÖÁ≥ªÁªü‰∏≠ÔºåÂ∫èÂàóÂåñÁî®Âà∞ÁöÑÁ±ªÁªìÊûÑÂèØËÉΩ‰ºöÈöèÊó∂Èó¥ÂèòÂåñÔºåÊØîÂ¶ÇÂ≠óÊÆµÁöÑÂ¢ûÂà†„ÄÇÂΩìÂ∫èÂàóÂåñÂíåÂèçÂ∫èÂàóÂåñÁ´Ø‰ΩøÁî®‰∏çÂêåÁâàÊú¨ÁöÑ jar Êó∂ÔºåÁ±ªÁªìÊûÑÂèØËÉΩ‰∏ç‰∏ÄËá¥„ÄÇ  Fory ÈªòËÆ§ÈááÁî® CompatibleMode.SCHEMA_CONSISTENTÔºåÂç≥Ë¶ÅÊ±ÇÂ∫èÂàóÂåñÂíåÂèçÂ∫èÂàóÂåñÁ´ØÁ±ªÁªìÊûÑ‰∏ÄËá¥Ôºå‰ª•Ëé∑ÂæóÊúÄÂ∞èÁöÑÂ∫èÂàóÂåñ‰ΩìÁßØÂíåÊúÄÈ´òÊÄßËÉΩ„ÄÇÂ¶ÇÊûúÁªìÊûÑ‰∏ç‰∏ÄËá¥ÔºåÂèçÂ∫èÂàóÂåñ‰ºöÂ§±Ë¥•„ÄÇ  Â¶ÇÈúÄÊîØÊåÅÁ±ªÁªìÊûÑÊºîÂåñÔºàÂâçÂêë/ÂêéÂêëÂÖºÂÆπÔºâÔºåÈúÄÂ∞Ü Fory ÈÖçÁΩÆ‰∏∫ CompatibleMode.COMPATIBLEÔºåÂÖÅËÆ∏Â≠óÊÆµÂ¢ûÂà†ÔºåÂèçÂ∫èÂàóÂåñÁ´ØÂèØËá™Âä®ÈÄÇÈÖç‰∏çÂêåÁªìÊûÑ„ÄÇ  Á§∫‰æãÔºö  Fory fory = Fory.builder() .withCompatibleMode(CompatibleMode.COMPATIBLE) .build(); byte[] bytes = fory.serialize(object); System.out.println(fory.deserialize(bytes));   ÂÖºÂÆπÊ®°Âºè‰∏ãÔºåÁ±ªÂÖÉÊï∞ÊçÆ‰ºöÂÜôÂÖ•Â∫èÂàóÂåñÁªìÊûú„ÄÇApache Fory‚Ñ¢ ÈááÁî®È´òÊïàÂéãÁº©ÁÆóÊ≥ïÈôç‰ΩéÂÖÉÊï∞ÊçÆÂºÄÈîÄÔºå‰ΩÜ‰ªç‰ºöÊúâ‰∏ÄÂÆö‰ΩìÁßØÂ¢ûÂä†„ÄÇ‰∏∫Ëøõ‰∏ÄÊ≠•Èôç‰ΩéÂÖÉÊï∞ÊçÆÊàêÊú¨ÔºåApache Fory‚Ñ¢ ÊîØÊåÅÂÖÉÊï∞ÊçÆÂÖ±‰∫´Êú∫Âà∂ÔºåËØ¶ÊÉÖËßÅMeta Sharing„ÄÇ  ","version":"0.12","tagName":"h3"},{"title":"ÂéãÁº©‚Äã","type":1,"pageTitle":"Java Â∫èÂàóÂåñ","url":"/zh-CN/docs/0.12/guide/serialization#ÂéãÁº©","content":" ForyBuilder#withIntCompressed/ForyBuilder#withLongCompressed ÂèØÁî®‰∫éÂéãÁº© int/long Á±ªÂûã‰ª•ÂáèÂ∞è‰ΩìÁßØ„ÄÇÈªòËÆ§Âùá‰∏∫ÂºÄÂêØ„ÄÇ  Â¶ÇÊûúÂ∫èÂàóÂåñ‰ΩìÁßØ‰∏çÊïèÊÑüÔºàÂ¶Ç‰πãÂâçÁî® flatbuffers Á≠âÊó†ÂéãÁº©Ê†ºÂºèÔºâÔºåÂª∫ËÆÆÂÖ≥Èó≠ÂéãÁº©‰ª•ÊèêÂçáÊÄßËÉΩ„ÄÇÂØπ‰∫éÂÖ®‰∏∫Êï∞Â≠óÁöÑÊï∞ÊçÆÔºåÂéãÁº©ÂèØËÉΩÂ∏¶Êù• 80% ÁöÑÊÄßËÉΩÊçüÂ§±„ÄÇ  int ÂéãÁº©ÈááÁî® 1~5 Â≠óËäÇÂèòÈïøÁºñÁ†ÅÔºålong ÂéãÁº©ÊîØÊåÅ‰∏§ÁßçÊñπÂºèÔºö  SLIÔºàSmall long as intÔºåÈªòËÆ§ÔºâÔºölong Âú® [-1073741824, 1073741823] ËåÉÂõ¥ÂÜÖÁî® 4 Â≠óËäÇÁºñÁ†ÅÔºåÂê¶ÂàôÁî® 9 Â≠óËäÇ„ÄÇPVLÔºàProgressive Variable-length LongÔºâÔºöÈááÁî®ÂèòÈïøÁºñÁ†ÅÔºåË¥üÊï∞ÈÄöËøá (v &lt;&lt; 1) ^ (v &gt;&gt; 63) ËΩ¨Êç¢„ÄÇ  Â¶Ç long Á±ªÂûãÊï∞ÊçÆÊó†Ê≥ïÊúâÊïàÂéãÁº©ÔºåÂª∫ËÆÆÂÖ≥Èó≠ long ÂéãÁº©‰ª•ÊèêÂçáÊÄßËÉΩ„ÄÇ  ","version":"0.12","tagName":"h3"},{"title":"ÂØπË±°Ê∑±Êã∑Ë¥ù‚Äã","type":1,"pageTitle":"Java Â∫èÂàóÂåñ","url":"/zh-CN/docs/0.12/guide/serialization#ÂØπË±°Ê∑±Êã∑Ë¥ù","content":" Ê∑±Êã∑Ë¥ùÁ§∫‰æãÔºö  Fory fory = Fory.builder().withRefCopy(true).build(); SomeClass a = xxx; SomeClass copied = fory.copy(a);   Â¶ÇÈúÄÂøΩÁï•Âæ™ÁéØÂíåÂÖ±‰∫´ÂºïÁî®ÔºàÂç≥ÂØπË±°Âõæ‰∏≠Âêå‰∏ÄÂºïÁî®‰ºöË¢´Êã∑Ë¥ù‰∏∫‰∏çÂêåÂØπË±°ÔºâÔºåÂèØÂÖ≥Èó≠ refCopyÔºö  Fory fory = Fory.builder().withRefCopy(false).build(); SomeClass a = xxx; SomeClass copied = fory.copy(a);   ","version":"0.12","tagName":"h3"},{"title":"Ëá™ÂÆö‰πâÂ∫èÂàóÂåñÂô®‚Äã","type":1,"pageTitle":"Java Â∫èÂàóÂåñ","url":"/zh-CN/docs/0.12/guide/serialization#Ëá™ÂÆö‰πâÂ∫èÂàóÂåñÂô®","content":" Êüê‰∫õÂú∫ÊôØ‰∏ãÈúÄ‰∏∫ÁâπÂÆöÁ±ªÂûãÂÆûÁé∞Ëá™ÂÆö‰πâÂ∫èÂàóÂåñÂô®ÔºåÂ∞§ÂÖ∂ÊòØ JDK writeObject/writeReplace/readObject/readResolve ÊñπÂºèÊïàÁéáËæÉ‰ΩéÊó∂„ÄÇÂ¶Ç‰∏ã‰æãÔºåÈÅøÂÖç Foo#writeObject Ë¢´Ë∞ÉÁî®Ôºö  class Foo { public long f1; private void writeObject(ObjectOutputStream s) throws IOException { System.out.println(f1); s.defaultWriteObject(); } } class FooSerializer extends Serializer&lt;Foo&gt; { public FooSerializer(Fory fory) { super(fory, Foo.class); } @Override public void write(MemoryBuffer buffer, Foo value) { buffer.writeInt64(value.f1); } @Override public Foo read(MemoryBuffer buffer) { Foo foo = new Foo(); foo.f1 = buffer.readInt64(); return foo; } }   Ê≥®ÂÜåËá™ÂÆö‰πâÂ∫èÂàóÂåñÂô®Ôºö  Fory fory = getFory(); fory.registerSerializer(Foo.class, new FooSerializer(fory));   ","version":"0.12","tagName":"h3"},{"title":"ÂÆûÁé∞ÈõÜÂêàÁ±ªÂ∫èÂàóÂåñÂô®‚Äã","type":1,"pageTitle":"Java Â∫èÂàóÂåñ","url":"/zh-CN/docs/0.12/guide/serialization#ÂÆûÁé∞ÈõÜÂêàÁ±ªÂ∫èÂàóÂåñÂô®","content":" ‰∏é Map Á±ª‰ººÔºåÂÆûÁé∞Ëá™ÂÆö‰πâ Collection Á±ªÂûãÁöÑÂ∫èÂàóÂåñÂô®Êó∂ÔºåÈúÄÁªßÊâø CollectionSerializer Êàñ AbstractCollectionSerializer„ÄÇ‰∫åËÄÖÂå∫Âà´Âú®‰∫éÔºåAbstractCollectionSerializer ÂèØÁî®‰∫éÂ∫èÂàóÂåñÁ±ª‰ººÈõÜÂêàÁªìÊûÑ‰ΩÜ‰∏çÊòØ Java Collection Â≠êÁ±ªÁöÑÁ±ªÂûã„ÄÇ  ÂØπ‰∫éÈõÜÂêàÂ∫èÂàóÂåñÂô®ÔºåÊúâ‰∏Ä‰∏™ÁâπÊÆäÂèÇÊï∞ supportCodegenHook ÈúÄË¶ÅÈÖçÁΩÆÔºö  ËÆæ‰∏∫ true Êó∂Ôºö ÂêØÁî®ÈõÜÂêàÂÖÉÁ¥†ÁöÑÈ´òÊïàËÆøÈóÆÂíå JIT ÁºñËØëÔºåÊèêÂçáÊÄßËÉΩÁõ¥Êé•Â∫èÂàóÂåñË∞ÉÁî®ÔºåÂÜÖËÅî map ÁöÑ key-valueÔºåÊó†Âä®ÊÄÅÂàÜÂèëÂºÄÈîÄÊé®ËçêÁî®‰∫éÊ†áÂáÜÈõÜÂêàÁ±ªÂûã ËÆæ‰∏∫ false Êó∂Ôºö ÈááÁî®Êé•Âè£ÊñπÂºèËÆøÈóÆÂÖÉÁ¥†ÔºåÂä®ÊÄÅÂàÜÂèëÔºåÁÅµÊ¥ªÊÄßÊõ¥È´òÈÄÇÂêàÊúâÁâπÊÆäÂ∫èÂàóÂåñÈúÄÊ±ÇÁöÑËá™ÂÆö‰πâÈõÜÂêàÂèØÂ§ÑÁêÜÂ§çÊùÇÈõÜÂêàÂÆûÁé∞  ÊîØÊåÅ JIT ÁöÑÈõÜÂêàÂ∫èÂàóÂåñÂô®ÂÆûÁé∞‚Äã  ÂÆûÁé∞ÊîØÊåÅ JIT ÁöÑÈõÜÂêàÂ∫èÂàóÂåñÂô®Êó∂ÔºåÂèØÂà©Áî® Fory Áé∞ÊúâÁöÑ‰∫åËøõÂà∂Ê†ºÂºèÂíåÈõÜÂêàÂ∫èÂàóÂåñÂü∫Á°ÄËÆæÊñΩ„ÄÇÂÖ≥ÈîÆÂú®‰∫éÊ≠£Á°ÆÂÆûÁé∞ onCollectionWrite Âíå newCollection ÊñπÊ≥ï‰ª•Â§ÑÁêÜÂÖÉÊï∞ÊçÆÔºåÂÖ∂‰ΩôÂÖÉÁ¥†Â∫èÂàóÂåñÁî± Fory Ëá™Âä®ÂÆåÊàê„ÄÇ  Á§∫‰æãÔºö  public class CustomCollectionSerializer&lt;T extends Collection&gt; extends CollectionSerializer&lt;T&gt; { public CustomCollectionSerializer(Fory fory, Class&lt;T&gt; cls) { // supportCodegenHook ÊéßÂà∂ÊòØÂê¶ÂêØÁî® JIT ÁºñËØë super(fory, cls, true); } @Override public Collection onCollectionWrite(MemoryBuffer buffer, T value) { // ÂÜôÂÖ•ÈõÜÂêàÂ§ßÂ∞è buffer.writeVarUint32Small7(value.size()); // ÂèØÂÜôÂÖ•È¢ùÂ§ñÈõÜÂêàÂÖÉÊï∞ÊçÆ return value; } @Override public Collection newCollection(MemoryBuffer buffer) { // ÂàõÂª∫Êñ∞ÈõÜÂêàÂÆû‰æã Collection collection = super.newCollection(buffer); // ËØªÂèñÂπ∂ËÆæÁΩÆÈõÜÂêàÂ§ßÂ∞è int numElements = getAndClearNumElements(); setNumElements(numElements); return collection; } }   Ê≥®ÊÑèÔºöÂÆûÁé∞ newCollection Êó∂ÈúÄË∞ÉÁî® setNumElementsÔºå‰ª•ÂëäÁü• Fory ÂèçÂ∫èÂàóÂåñÂ§öÂ∞ëÂÖÉÁ¥†„ÄÇ  ‰∏çÊîØÊåÅ JIT ÁöÑËá™ÂÆö‰πâÈõÜÂêàÂ∫èÂàóÂåñÂô®‚Äã  ÊúâÊó∂ÈúÄÂ∫èÂàóÂåñÂ∫ïÂ±Ç‰∏∫ÂéüÂßãÊï∞ÁªÑÊàñÊúâÁâπÊÆäÈúÄÊ±ÇÁöÑÈõÜÂêàÁ±ªÂûãÔºåÊ≠§Êó∂ÂèØÁ¶ÅÁî® JITÔºåÁõ¥Êé•ÈáçÂÜô write Âíå read ÊñπÊ≥ï„ÄÇ  ËøôÁßçÊñπÂºèÔºö  ÂÆåÂÖ®ÊéßÂà∂Â∫èÂàóÂåñÊ†ºÂºèÈÄÇÂêàÂéüÂßãÊï∞ÁªÑË∑≥ËøáÈõÜÂêàËø≠‰ª£ÂºÄÈîÄÂèØÁõ¥Êé•ÂÜÖÂ≠òËÆøÈóÆ  Á§∫‰æãÔºàÂéüÂßã int Êï∞ÁªÑÔºâÔºö  class IntList extends AbstractCollection&lt;Integer&gt; { private final int[] elements; private final int size; public IntList(int size) { this.elements = new int[size]; this.size = size; } public IntList(int[] elements, int size) { this.elements = elements; this.size = size; } @Override public Iterator&lt;Integer&gt; iterator() { return new Iterator&lt;Integer&gt;() { private int index = 0; @Override public boolean hasNext() { return index &lt; size; } @Override public Integer next() { if (!hasNext()) throw new NoSuchElementException(); return elements[index++]; } }; } @Override public int size() { return size; } public int get(int index) { if (index &gt;= size) throw new IndexOutOfBoundsException(); return elements[index]; } public void set(int index, int value) { if (index &gt;= size) throw new IndexOutOfBoundsException(); elements[index] = value; } public int[] getElements() { return elements; } } class IntListSerializer extends AbstractCollectionSerializer&lt;IntList&gt; { public IntListSerializer(Fory fory) { // Á¶ÅÁî® JITÔºåÂÆåÂÖ®Ëá™ÂÆö‰πâÂ∫èÂàóÂåñ super(fory, IntList.class, false); } @Override public void write(MemoryBuffer buffer, IntList value) { buffer.writeVarUint32Small7(value.size()); int[] elements = value.getElements(); for (int i = 0; i &lt; value.size(); i++) { buffer.writeVarInt32(elements[i]); } } @Override public IntList read(MemoryBuffer buffer) { int size = buffer.readVarUint32Small7(); int[] elements = new int[size]; for (int i = 0; i &lt; size; i++) { elements[i] = buffer.readVarInt32(); } return new IntList(elements, size); } // JIT Á¶ÅÁî®Êó∂‰ª•‰∏ãÊñπÊ≥ï‰∏ç‰ΩøÁî® @Override public Collection onCollectionWrite(MemoryBuffer buffer, IntList value) { throw new UnsupportedOperationException(); } @Override public Collection newCollection(MemoryBuffer buffer) { throw new UnsupportedOperationException(); } @Override public IntList onCollectionRead(Collection collection) { throw new UnsupportedOperationException(); } }   ÂÖ≥ÈîÆÁÇπËØ¥ÊòéÔºö  ÂéüÂßãÊï∞ÁªÑÂ≠òÂÇ®ÔºöÁõ¥Êé•Áî® int[]ÔºåÈÅøÂÖçË£ÖÁÆ±/ÊãÜÁÆ±ÔºåÂÜÖÂ≠òÂ∏ÉÂ±ÄÈ´òÊïà„ÄÇÁõ¥Êé•Â∫èÂàóÂåñÔºöÂÖàÂÜô sizeÔºåÂÜçÂÜôÂéüÂßãÂÄºÔºåÊó†ÈúÄËø≠‰ª£ÔºåÊó†Ë£ÖÁÆ±/ÊãÜÁÆ±„ÄÇÁõ¥Êé•ÂèçÂ∫èÂàóÂåñÔºöÂÖàËØª sizeÔºåÂÜçËØªÂéüÂßãÂÄºÂ°´ÂÖÖÊï∞ÁªÑÔºåÊúÄÂêéÊûÑÈÄ†ÂØπË±°„ÄÇÁ¶ÅÁî® JITÔºösupportCodegenHook=falseÔºåÈáçÂÜô write/readÔºåÂÆåÂÖ®Ëá™ÂÆö‰πâÊ†ºÂºè„ÄÇ  ÈÄÇÁî®Âú∫ÊôØÔºö  Âè™Â§ÑÁêÜÂéüÂßãÁ±ªÂûãÊÄßËÉΩÊûÅËá¥Ë¶ÅÊ±ÇÈúÄÊúÄÂ∞èÂÜÖÂ≠òÂºÄÈîÄÊúâÁâπÊÆäÂ∫èÂàóÂåñÈúÄÊ±Ç  ‰ΩøÁî®Á§∫‰æãÔºö  IntList list = new IntList(3); list.set(0, 1); list.set(1, 2); list.set(2, 3); byte[] bytes = fory.serialize(list); IntList newList = (IntList) fory.deserialize(bytes);   ËôΩÁÑ∂ÊîæÂºÉ‰∫Ü Fory ÁöÑÈÉ®ÂàÜ‰ºòÂåñÔºå‰ΩÜÂØπÂéüÂßãÁ±ªÂûãÂíåÁõ¥Êé•Êï∞ÁªÑËÆøÈóÆÂú∫ÊôØÊÄßËÉΩÊûÅÈ´ò„ÄÇ  ÂÆûÁé∞ collection-like Á±ªÂûãÂ∫èÂàóÂåñÂô®‚Äã  ÊúâÊó∂ÈúÄ‰∏∫Á±ª‰ººÈõÜÂêà‰ΩÜÈùûÊ†áÂáÜ Java Collection ÁöÑÁ±ªÂûãÂÆûÁé∞Â∫èÂàóÂåñÂô®„ÄÇÂéüÂàôÂ¶Ç‰∏ãÔºö  ÁªßÊâø AbstractCollectionSerializerÂêØÁî® JIT ‰ºòÂåñÔºàsupportCodegenHook=trueÔºâÈÄöËøáËßÜÂõæÁ±ªÈ´òÊïàËÆøÈóÆÂÖÉÁ¥†Ê≠£Á°ÆÁÆ°ÁêÜ size  Á§∫‰æãÔºö  class CustomCollectionLike { private final Object[] elements; private final int size; public CustomCollectionLike(int size) { this.elements = new Object[size]; this.size = size; } public CustomCollectionLike(Object[] elements, int size) { this.elements = elements; this.size = size; } public Object get(int index) { if (index &gt;= size) throw new IndexOutOfBoundsException(); return elements[index]; } public int size() { return size; } public Object[] getElements() { return elements; } } class CollectionView extends AbstractCollection&lt;Object&gt; { private final Object[] elements; private final int size; private int writeIndex; public CollectionView(CustomCollectionLike collection) { this.elements = collection.getElements(); this.size = collection.size(); } public CollectionView(int size) { this.size = size; this.elements = new Object[size]; } @Override public Iterator&lt;Object&gt; iterator() { return new Iterator&lt;Object&gt;() { private int index = 0; @Override public boolean hasNext() { return index &lt; size; } @Override public Object next() { if (!hasNext()) throw new NoSuchElementException(); return elements[index++]; } }; } @Override public boolean add(Object element) { if (writeIndex &gt;= size) throw new IllegalStateException(&quot;Collection is full&quot;); elements[writeIndex++] = element; return true; } @Override public int size() { return size; } public Object[] getElements() { return elements; } } class CustomCollectionSerializer extends AbstractCollectionSerializer&lt;CustomCollectionLike&gt; { public CustomCollectionSerializer(Fory fory) { super(fory, CustomCollectionLike.class, true); } @Override public Collection onCollectionWrite(MemoryBuffer buffer, CustomCollectionLike value) { buffer.writeVarUint32Small7(value.size()); return new CollectionView(value); } @Override public Collection newCollection(MemoryBuffer buffer) { int numElements = buffer.readVarUint32Small7(); setNumElements(numElements); return new CollectionView(numElements); } @Override public CustomCollectionLike onCollectionRead(Collection collection) { CollectionView view = (CollectionView) collection; return new CustomCollectionLike(view.getElements(), view.size()); } }   ÂÖ≥ÈîÆÁÇπËØ¥ÊòéÔºö  Êï∞ÁªÑÂ≠òÂÇ®ÔºåÂÆöÈïøÔºåÁõ¥Êé•ËÆøÈóÆËßÜÂõæÁ±ªÁªßÊâø AbstractCollectionÔºåÂÆûÁé∞Ëø≠‰ª£Âíå addÊîØÊåÅ JIT ‰ºòÂåñÔºåÊï∞ÁªÑÈõ∂Êã∑Ë¥ùÊÄßËÉΩ‰ºòÂÖàÔºåÁÅµÊ¥ªÊÄßÁï•‰Ωé    Â¶ÇÈúÄÁªßÁª≠Ë°•ÂÖÖ map-like Á±ªÂûã„ÄÅÊ≥®ÂÜåËá™ÂÆö‰πâÂ∫èÂàóÂåñÂô®„ÄÅExternalizable ÊîØÊåÅÁ≠âÂÜÖÂÆπÔºåËØ∑ÂõûÂ§ç&quot;ÁªßÁª≠&quot;ÔºÅ  ","version":"0.12","tagName":"h3"},{"title":"Ëá™ÂÆö‰πâ Map Â∫èÂàóÂåñÂô®‚Äã","type":1,"pageTitle":"Java Â∫èÂàóÂåñ","url":"/zh-CN/docs/0.12/guide/serialization#Ëá™ÂÆö‰πâ-map-Â∫èÂàóÂåñÂô®","content":" Ëá™ÂÆö‰πâ Map Á±ªÂûãÂ∫èÂàóÂåñÂô®ÈúÄÁªßÊâø MapSerializer Êàñ AbstractMapSerializer„ÄÇ‰∫åËÄÖÂå∫Âà´Á±ª‰ººÈõÜÂêàÂ∫èÂàóÂåñÂô®„ÄÇ  supportCodegenHook=trueÔºöÊé®ËçêÁî®‰∫éÊ†áÂáÜ MapÔºåÊîØÊåÅ JIT ‰ºòÂåñsupportCodegenHook=falseÔºöÈÄÇÂêàÁâπÊÆäÈúÄÊ±ÇÔºåÈúÄÊâãÂä®ÂÆûÁé∞Â∫èÂàóÂåñÈÄªËæë  ÊîØÊåÅ JIT ÁöÑ Map Â∫èÂàóÂåñÂô®Á§∫‰æã‚Äã  public class CustomMapSerializer&lt;T extends Map&gt; extends MapSerializer&lt;T&gt; { public CustomMapSerializer(Fory fory, Class&lt;T&gt; cls) { super(fory, cls, true); } @Override public Map onMapWrite(MemoryBuffer buffer, T value) { buffer.writeVarUint32Small7(value.size()); return value; } @Override public Map newMap(MemoryBuffer buffer) { int numElements = buffer.readVarUint32Small7(); setNumElements(numElements); return new HashMap(numElements); } }   ‰∏çÊîØÊåÅ JIT ÁöÑËá™ÂÆö‰πâ Map Â∫èÂàóÂåñÂô®‚Äã  ÈÄÇÁî®‰∫éÊúâÁâπÊÆäÂ≠óÊÆµÊàñËá™ÂÆö‰πâ‰∫åËøõÂà∂Ê†ºÂºèÁöÑ Map Á±ªÂûã„ÄÇ  class FixedValueMap extends AbstractMap&lt;String, Integer&gt; { // ... ÁúÅÁï•ÂÆûÁé∞ ... } class FixedValueMapSerializer extends AbstractMapSerializer&lt;FixedValueMap&gt; { public FixedValueMapSerializer(Fory fory) { super(fory, FixedValueMap.class, false); } @Override public void write(MemoryBuffer buffer, FixedValueMap value) { buffer.writeInt32(value.getFixedValue()); buffer.writeVarUint32Small7(value.getKeys().size()); for (String key : value.getKeys()) { buffer.writeString(key); } } @Override public FixedValueMap read(MemoryBuffer buffer) { int fixedValue = buffer.readInt32(); int size = buffer.readVarUint32Small7(); Set&lt;String&gt; keys = new HashSet&lt;&gt;(size); for (int i = 0; i &lt; size; i++) { keys.add(buffer.readString()); } return new FixedValueMap(keys, fixedValue); } @Override public Map onMapWrite(MemoryBuffer buffer, FixedValueMap value) { throw new UnsupportedOperationException(); } @Override public FixedValueMap onMapRead(Map map) { throw new UnsupportedOperationException(); } @Override public FixedValueMap onMapCopy(Map map) { throw new UnsupportedOperationException(); } }   ","version":"0.12","tagName":"h3"},{"title":"Ê≥®ÂÜåËá™ÂÆö‰πâÂ∫èÂàóÂåñÂô®‚Äã","type":1,"pageTitle":"Java Â∫èÂàóÂåñ","url":"/zh-CN/docs/0.12/guide/serialization#Ê≥®ÂÜåËá™ÂÆö‰πâÂ∫èÂàóÂåñÂô®","content":" ÂÆûÁé∞Ëá™ÂÆö‰πâÂ∫èÂàóÂåñÂô®ÂêéÔºåÈúÄÈÄöËøáÂ¶Ç‰∏ãÊñπÂºèÊ≥®ÂÜåÔºö  Fory fory = Fory.builder() .withLanguage(Language.JAVA) .build(); // Ê≥®ÂÜå Map Â∫èÂàóÂåñÂô® fory.registerSerializer(CustomMap.class, new CustomMapSerializer&lt;&gt;(fory, CustomMap.class)); // Ê≥®ÂÜåÈõÜÂêàÂ∫èÂàóÂåñÂô® fory.registerSerializer(CustomCollection.class, new CustomCollectionSerializer&lt;&gt;(fory, CustomCollection.class));   Ê≥®ÊÑè‰∫ãÈ°πÔºö ÂßãÁªàÁªßÊâøÂêàÈÄÇÁöÑÂü∫Á±ªÔºàMap Áî® MapSerializer/AbstractMapSerializerÔºåÈõÜÂêàÁî® CollectionSerializer/AbstractCollectionSerializerÔºâÊ†πÊçÆ supportCodegenHook ÈÄâÊã©ÊÄßËÉΩ‰∏éÁÅµÊ¥ªÊÄßÂ¶ÇÈúÄÂºïÁî®Ë∑üË∏™ÔºåÈúÄÊ≠£Á°ÆÂ§ÑÁêÜsupportCodegenHook=true Êó∂ÔºåÈúÄÁî® setNumElements/getAndClearNumElements ÁÆ°ÁêÜÂÖÉÁ¥†Êï∞Èáè  ","version":"0.12","tagName":"h3"},{"title":"ÂÆâÂÖ®‰∏éÁ±ªÊ≥®ÂÜå‚Äã","type":1,"pageTitle":"Java Â∫èÂàóÂåñ","url":"/zh-CN/docs/0.12/guide/serialization#ÂÆâÂÖ®‰∏éÁ±ªÊ≥®ÂÜå","content":" ForyBuilder#requireClassRegistration ÂèØÂÖ≥Èó≠Á±ªÊ≥®ÂÜåÊ†°È™åÔºåÂÖÅËÆ∏ÂèçÂ∫èÂàóÂåñÊú™Áü•Á±ªÂûãÔºåÁÅµÊ¥ª‰ΩÜÊúâÂÆâÂÖ®È£éÈô©„ÄÇ  Â¶ÇÊó†Ê≥ïÁ°Æ‰øùÁéØÂ¢ÉÂÆâÂÖ®ÔºåÂàáÂãøÂÖ≥Èó≠Á±ªÊ≥®ÂÜå„ÄÇ ÂèçÂ∫èÂàóÂåñÊú™Áü•/‰∏çÂèó‰ø°‰ªªÁ±ªÂûãÊó∂ÔºåÊÅ∂ÊÑè‰ª£Á†ÅÂèØËÉΩÂú® init/equals/hashCode Á≠âÊñπÊ≥ï‰∏≠Ë¢´ÊâßË°å„ÄÇ  Á±ªÊ≥®ÂÜå‰∏ç‰ªÖÊèêÂçáÂÆâÂÖ®ÊÄßÔºåËøòÂèØÂáèÂ∞ëÁ±ªÂêçÂ∫èÂàóÂåñÂºÄÈîÄ„ÄÇÊ≥®ÂÜåÈ°∫Â∫èÈúÄ‰øùÊåÅÂ∫èÂàóÂåñÁ´Ø‰∏éÂèçÂ∫èÂàóÂåñÁ´Ø‰∏ÄËá¥„ÄÇ  Fory fory = xxx; fory.register(SomeClass.class); fory.register(SomeClass1.class, 200);   Â¶ÇÈúÄÂÖ≥Èó≠Ê≥®ÂÜåÊ†°È™åÔºåÂèØÈÄöËøá ClassResolver#setClassChecker Ëá™ÂÆö‰πâÂÖÅËÆ∏ÁöÑÁ±ªÂêçÔºö  Fory fory = xxx; fory.getClassResolver().setClassChecker( (classResolver, className) -&gt; className.startsWith(&quot;org.example.&quot;));   Êàñ‰ΩøÁî® AllowListCheckerÔºö  AllowListChecker checker = new AllowListChecker(AllowListChecker.CheckLevel.STRICT); ThreadSafeFory fory = new ThreadLocalFory(classLoader -&gt; { Fory f = Fory.builder().requireClassRegistration(true).withClassLoader(classLoader).build(); f.getClassResolver().setClassChecker(checker); checker.addListener(f.getClassResolver()); return f; }); checker.allowClass(&quot;org.example.*&quot;);   Fory Êèê‰æõ‰∫Ü org.apache.fory.resolver.AllowListCheckerÔºå‰πüÂèØËá™Ë°åÂÆûÁé∞Êõ¥Â§çÊùÇÁöÑÊ†°È™åÈÄªËæë„ÄÇ  ","version":"0.12","tagName":"h3"},{"title":"ÊåâÂêçÁß∞Ê≥®ÂÜåÁ±ª‚Äã","type":1,"pageTitle":"Java Â∫èÂàóÂåñ","url":"/zh-CN/docs/0.12/guide/serialization#ÊåâÂêçÁß∞Ê≥®ÂÜåÁ±ª","content":" Êåâ id Ê≥®ÂÜåÁ±ªÊÄßËÉΩÂíå‰ΩìÁßØÊõ¥‰ºòÔºå‰ΩÜÂ¶ÇÈúÄÁÆ°ÁêÜÂ§ßÈáèÁ±ªÂûã idÔºåÂèØÁî® register(Class&lt;?&gt; cls, String namespace, String typeName) ÊåâÂêçÁß∞Ê≥®ÂÜåÔºö  fory.register(Foo.class, &quot;demo&quot;, &quot;Foo&quot;);   Â¶ÇÊó†ÈáçÂêçÔºånamespace ÂèØ‰∏∫Á©∫‰ª•ÂáèÂ∞ë‰ΩìÁßØ„ÄÇ  ‰∏çÂª∫ËÆÆÁî®ÂêçÁß∞Ê≥®ÂÜåÔºåÂõ†Â∫èÂàóÂåñ‰ΩìÁßØ‰ºöÊòæËëóÂ¢ûÂä†„ÄÇ  ","version":"0.12","tagName":"h3"},{"title":"Èõ∂Êã∑Ë¥ùÂ∫èÂàóÂåñ‚Äã","type":1,"pageTitle":"Java Â∫èÂàóÂåñ","url":"/zh-CN/docs/0.12/guide/serialization#Èõ∂Êã∑Ë¥ùÂ∫èÂàóÂåñ","content":" Apache Fory‚Ñ¢ ÊîØÊåÅÈõ∂Êã∑Ë¥ùÂ∫èÂàóÂåñÔºåÂèØÈ´òÊïàÂ§ÑÁêÜÂ§ßÂØπË±°ÊàñÁõ¥Êé•ÂÜÖÂ≠òÁºìÂÜ≤Âå∫„ÄÇÁ§∫‰æãÔºö  import org.apache.fory.*; import org.apache.fory.config.*; import org.apache.fory.serializer.BufferObject; import org.apache.fory.memory.MemoryBuffer; import java.util.*; import java.util.stream.Collectors; public class ZeroCopyExample { // Ê≥®ÊÑèÔºöFory ÂÆû‰æãÂ∫îÂ§çÁî®Ôºå‰∏çË¶ÅÊØèÊ¨°Êñ∞Âª∫ static Fory fory = Fory.builder() .withLanguage(Language.JAVA) .build(); // mvn exec:java -Dexec.mainClass=&quot;io.ray.fory.examples.ZeroCopyExample&quot; public static void main(String[] args) { List&lt;Object&gt; list = Arrays.asList(&quot;str&quot;, new byte[1000], new int[100], new double[100]); Collection&lt;BufferObject&gt; bufferObjects = new ArrayList&lt;&gt;(); byte[] bytes = fory.serialize(list, e -&gt; !bufferObjects.add(e)); List&lt;MemoryBuffer&gt; buffers = bufferObjects.stream() .map(BufferObject::toBuffer).collect(Collectors.toList()); System.out.println(fory.deserialize(bytes, buffers)); } }   ","version":"0.12","tagName":"h3"},{"title":"ÂÖÉÊï∞ÊçÆÂÖ±‰∫´ÔºàMeta SharingÔºâ‚Äã","type":1,"pageTitle":"Java Â∫èÂàóÂåñ","url":"/zh-CN/docs/0.12/guide/serialization#ÂÖÉÊï∞ÊçÆÂÖ±‰∫´meta-sharing","content":" Apache Fory‚Ñ¢ ÊîØÊåÅÂú®Âêå‰∏Ä‰∏ä‰∏ãÊñáÔºàÂ¶Ç TCP ËøûÊé•ÔºâÂÜÖÂÖ±‰∫´Á±ªÂûãÂÖÉÊï∞ÊçÆÔºàÁ±ªÂêç„ÄÅÂ≠óÊÆµÂêç„ÄÅÊúÄÁªàÂ≠óÊÆµÁ±ªÂûãÁ≠âÔºâ„ÄÇÈ¶ñÊ¨°Â∫èÂàóÂåñÊó∂ÂÖÉÊï∞ÊçÆ‰ºöÂèëÈÄÅÂà∞ÂØπÁ´ØÔºåÂØπÁ´ØÂèØÂü∫‰∫éÂÖÉÊï∞ÊçÆÈáçÂª∫ÂèçÂ∫èÂàóÂåñÂô®ÔºåÂêéÁª≠Â∫èÂàóÂåñÊó†ÈúÄÈáçÂ§ç‰º†ËæìÂÖÉÊï∞ÊçÆÔºå‰ªéËÄåÂáèÂ∞ëÁΩëÁªúÊµÅÈáèÂπ∂Ëá™Âä®ÊîØÊåÅÁ±ªÂûãÂâçÂêë/ÂêéÂêëÂÖºÂÆπ„ÄÇ  // Fory.builder() // .withLanguage(Language.JAVA) // .withRefTracking(false) // // Ë∑®Â∫èÂàóÂåñÂÖ±‰∫´ÂÖÉÊï∞ÊçÆ // .withMetaContextShare(true) // ÈùûÁ∫øÁ®ãÂÆâÂÖ® Fory MetaContext context = xxx; fory.getSerializationContext().setMetaContext(context); byte[] bytes = fory.serialize(o); // ÈùûÁ∫øÁ®ãÂÆâÂÖ® Fory MetaContext context = xxx; fory.getSerializationContext().setMetaContext(context); fory.deserialize(bytes); // Á∫øÁ®ãÂÆâÂÖ® Fory fory.setClassLoader(beanA.getClass().getClassLoader()); byte[] serialized = fory.execute( f -&gt; { f.getSerializationContext().setMetaContext(context); return f.serialize(beanA); } ); // Á∫øÁ®ãÂÆâÂÖ® Fory fory.setClassLoader(beanA.getClass().getClassLoader()); Object newObj = fory.execute( f -&gt; { f.getSerializationContext().setMetaContext(context); return f.deserialize(serialized); } );   ","version":"0.12","tagName":"h3"},{"title":"ÂèçÂ∫èÂàóÂåñ‰∏çÂ≠òÂú®ÁöÑÁ±ª‚Äã","type":1,"pageTitle":"Java Â∫èÂàóÂåñ","url":"/zh-CN/docs/0.12/guide/serialization#ÂèçÂ∫èÂàóÂåñ‰∏çÂ≠òÂú®ÁöÑÁ±ª","content":" Apache Fory‚Ñ¢ ÊîØÊåÅÂèçÂ∫èÂàóÂåñ‰∏çÂ≠òÂú®ÁöÑÁ±ª„ÄÇÈÄöËøá ForyBuilder#deserializeNonexistentClass(true) ÂêØÁî®„ÄÇÂΩìÂêØÁî®‰∏îÂÖÉÊï∞ÊçÆÂÖ±‰∫´ÂºÄÂêØÊó∂ÔºåFory ‰ºöÂ∞ÜËØ•Á±ªÂûãÁöÑÊï∞ÊçÆÂ≠òÂÇ®‰∏∫ Map ÁöÑÊÉ∞ÊÄßÂ≠êÁ±ªÔºåÈÅøÂÖçÂèçÂ∫èÂàóÂåñÊó∂Â°´ÂÖÖ Map ÁöÑÈáçÊéíÂºÄÈîÄÔºåÊèêÂçáÊÄßËÉΩ„ÄÇÂ¶ÇÊûúÊï∞ÊçÆË¢´ÂèëÈÄÅÂà∞Âè¶‰∏Ä‰∏™ËøõÁ®ã‰∏îËØ•Á±ªÂ≠òÂú®ÔºåÂàôÂèØÊó†ÊçüËøòÂéü‰∏∫ÂéüÁ±ªÂûãÂØπË±°„ÄÇ  Ëã•Êú™ÂêØÁî®ÂÖÉÊï∞ÊçÆÂÖ±‰∫´ÔºåÂàôÊñ∞Á±ªÊï∞ÊçÆ‰ºöË¢´Ë∑≥ËøáÔºåËøîÂõû NonexistentSkipClass Âç†‰ΩçÂØπË±°„ÄÇ  ","version":"0.12","tagName":"h3"},{"title":"Á±ªÂûãÊò†Â∞ÑÔºàË∑®Á±ªÂûãÊ∑±Êã∑Ë¥ù/Êò†Â∞ÑÔºâ‚Äã","type":1,"pageTitle":"Java Â∫èÂàóÂåñ","url":"/zh-CN/docs/0.12/guide/serialization#Á±ªÂûãÊò†Â∞ÑË∑®Á±ªÂûãÊ∑±Êã∑Ë¥ùÊò†Â∞Ñ","content":" Apache Fory‚Ñ¢ ÊîØÊåÅÂ∞Ü‰∏Ä‰∏™Á±ªÂûãÁöÑÂØπË±°Ê∑±Êã∑Ë¥ù/Êò†Â∞Ñ‰∏∫Âè¶‰∏Ä‰∏™Á±ªÂûã„ÄÇÊ≥®ÊÑè‰∫ãÈ°πÔºö  ËØ•Êò†Â∞Ñ‰ºöÊâßË°åÊ∑±Êã∑Ë¥ùÔºåÊâÄÊúâÊò†Â∞ÑÂ≠óÊÆµ‰ºöÂÖàÂ∫èÂàóÂåñ‰∏∫‰∫åËøõÂà∂ÔºåÂÜçÂèçÂ∫èÂàóÂåñ‰∏∫ÁõÆÊ†áÁ±ªÂûã„ÄÇÊâÄÊúâÁªìÊûÑ‰ΩìÁ±ªÂûãÂøÖÈ°ªÁî®Áõ∏Âêå ID Ê≥®ÂÜåÔºåÂê¶ÂàôÊó†Ê≥ïÊ≠£Á°ÆÊò†Â∞Ñ„ÄÇÂä°ÂøÖ‰øùËØÅÂ∫èÂàóÂåñÂíåÂèçÂ∫èÂàóÂåñÁ´ØÊ≥®ÂÜåÈ°∫Â∫è‰∏ÄËá¥„ÄÇ  Á§∫‰æãÔºö  public class StructMappingExample { static class Struct1 { int f1; String f2; public Struct1(int f1, String f2) { this.f1 = f1; this.f2 = f2; } } static class Struct2 { int f1; String f2; double f3; } static ThreadSafeFory fory1 = Fory.builder() .withCompatibleMode(CompatibleMode.COMPATIBLE).buildThreadSafeFory(); static ThreadSafeFory fory2 = Fory.builder() .withCompatibleMode(CompatibleMode.COMPATIBLE).buildThreadSafeFory(); static { fory1.register(Struct1.class); fory2.register(Struct2.class); } public static void main(String[] args) { Struct1 struct1 = new Struct1(10, &quot;abc&quot;); Struct2 struct2 = (Struct2) fory2.deserialize(fory1.serialize(struct1)); Assert.assertEquals(struct2.f1, struct1.f1); Assert.assertEquals(struct2.f2, struct1.f2); struct1 = (Struct1) fory1.deserialize(fory2.serialize(struct2)); Assert.assertEquals(struct1.f1, struct2.f1); Assert.assertEquals(struct1.f2, struct2.f2); } }   ","version":"0.12","tagName":"h3"},{"title":"ËøÅÁßª‚Äã","type":1,"pageTitle":"Java Â∫èÂàóÂåñ","url":"/zh-CN/docs/0.12/guide/serialization#ËøÅÁßª","content":" ","version":"0.12","tagName":"h2"},{"title":"JDK Â∫èÂàóÂåñËøÅÁßª‚Äã","type":1,"pageTitle":"Java Â∫èÂàóÂåñ","url":"/zh-CN/docs/0.12/guide/serialization#jdk-Â∫èÂàóÂåñËøÅÁßª","content":" Â¶ÇÊûú‰πãÂâç‰ΩøÁî® JDK Â∫èÂàóÂåñÔºå‰∏îÊó†Ê≥ïÂêåÊó∂ÂçáÁ∫ßÂÆ¢Êà∑Á´ØÂíåÊúçÂä°Á´ØÔºàÂ¶ÇÁ∫ø‰∏äÂ∫îÁî®Â∏∏ËßÅÂú∫ÊôØÔºâÔºåFory Êèê‰æõ org.apache.fory.serializer.JavaSerializer.serializedByJDK Â∑•ÂÖ∑ÊñπÊ≥ïÂà§Êñ≠‰∫åËøõÂà∂Êï∞ÊçÆÊòØÂê¶‰∏∫ JDK Â∫èÂàóÂåñÁîüÊàê„ÄÇÂèØÁî®Â¶Ç‰∏ãÊ®°ÂºèÂÆûÁé∞ÂçèËÆÆÂÖºÂÆπÔºåÊîØÊåÅÂºÇÊ≠•ÊªöÂä®ÂçáÁ∫ßÔºö  if (JavaSerializer.serializedByJDK(bytes)) { ObjectInputStream objectInputStream=xxx; return objectInputStream.readObject(); } else { return fory.deserialize(bytes); }   ","version":"0.12","tagName":"h3"},{"title":"Apache Fory‚Ñ¢ ÁâàÊú¨ÂçáÁ∫ß‚Äã","type":1,"pageTitle":"Java Â∫èÂàóÂåñ","url":"/zh-CN/docs/0.12/guide/serialization#apache-fory-ÁâàÊú¨ÂçáÁ∫ß","content":" ÁõÆÂâç‰ªÖ‰øùËØÅÂ∞èÁâàÊú¨Èó¥ÁöÑ‰∫åËøõÂà∂ÂÖºÂÆπÊÄß„ÄÇ‰æãÂ¶ÇÔºåfory v0.11.1 ÂçáÁ∫ßÂà∞ v0.11.2 ÂèØÁõ¥Êé•ÂÖºÂÆπÔºåÂçáÁ∫ßÂà∞ v0.12.0 Âàô‰∏ç‰øùËØÅÂÖºÂÆπ„ÄÇÂ§ßÂ§öÊï∞Âú∫ÊôØÊó†ÈúÄÈ¢ëÁπÅÂçáÁ∫ß‰∏ªÁâàÊú¨ÔºåÂΩìÂâçÁâàÊú¨Â∑≤Ë∂≥Â§üÈ´òÊïàÁ¥ßÂáëÔºåËÄÅÁâàÊú¨‰πü‰ºöÊåÅÁª≠Áª¥Êä§ bugfix„ÄÇ  ","version":"0.12","tagName":"h3"},{"title":"ÊïÖÈöúÊéíÊü•‚Äã","type":1,"pageTitle":"Java Â∫èÂàóÂåñ","url":"/zh-CN/docs/0.12/guide/serialization#ÊïÖÈöúÊéíÊü•","content":" ","version":"0.12","tagName":"h2"},{"title":"Á±ªÁªìÊûÑ‰∏ç‰∏ÄËá¥‰∏éÁâàÊú¨Ê†°È™å‚Äã","type":1,"pageTitle":"Java Â∫èÂàóÂåñ","url":"/zh-CN/docs/0.12/guide/serialization#Á±ªÁªìÊûÑ‰∏ç‰∏ÄËá¥‰∏éÁâàÊú¨Ê†°È™å","content":" Ëã•Êú™ËÆæÁΩÆ CompatibleMode ‰∏∫ org.apache.fory.config.CompatibleMode.COMPATIBLEÔºåÂá∫Áé∞Â∫èÂàóÂåñÂºÇÂ∏∏ÔºåÂèØËÉΩÊòØÂ∫èÂàóÂåñÁ´ØÂíåÂèçÂ∫èÂàóÂåñÁ´ØÁ±ªÁªìÊûÑ‰∏ç‰∏ÄËá¥„ÄÇ  Ê≠§Êó∂ÂèØÁî® ForyBuilder#withClassVersionCheck ÂàõÂª∫ Fory ËøõË°åÊ†°È™åÔºåËã•ÂèçÂ∫èÂàóÂåñÊäõÂá∫ org.apache.fory.exception.ClassNotCompatibleExceptionÔºåËØ¥ÊòéÁ±ªÁªìÊûÑ‰∏ç‰∏ÄËá¥ÔºåÂ∫îÊîπÁî® ForyBuilder#withCompaibleMode(CompatibleMode.COMPATIBLE)„ÄÇ  CompatibleMode.COMPATIBLE ‰ºöÂ∏¶Êù•‰∏ÄÂÆöÊÄßËÉΩÂíå‰ΩìÁßØÂºÄÈîÄÔºåËã•Á±ªÁªìÊûÑÂßãÁªà‰∏ÄËá¥Ôºå‰∏çÂª∫ËÆÆÈªòËÆ§ÂºÄÂêØ„ÄÇ  ","version":"0.12","tagName":"h3"},{"title":"POJO Ë∑®Á±ªÂûãÂèçÂ∫èÂàóÂåñ‚Äã","type":1,"pageTitle":"Java Â∫èÂàóÂåñ","url":"/zh-CN/docs/0.12/guide/serialization#pojo-Ë∑®Á±ªÂûãÂèçÂ∫èÂàóÂåñ","content":" Apache Fory‚Ñ¢ ÊîØÊåÅÂ∞Ü‰∏Ä‰∏™ POJO Â∫èÂàóÂåñÂêéÂèçÂ∫èÂàóÂåñ‰∏∫‰∏çÂêåÁªìÊûÑÁöÑ POJO„ÄÇÊ≠§Êó∂ÈúÄÂ∞Ü CompatibleMode ËÆæ‰∏∫ org.apache.fory.config.CompatibleMode.COMPATIBLE„ÄÇ  public class DeserializeIntoType { static class Struct1 { int f1; String f2; public Struct1(int f1, String f2) { this.f1 = f1; this.f2 = f2; } } static class Struct2 { int f1; String f2; double f3; } static ThreadSafeFory fory = Fory.builder() .withCompatibleMode(CompatibleMode.COMPATIBLE).buildThreadSafeFory(); public static void main(String[] args) { Struct1 struct1 = new Struct1(10, &quot;abc&quot;); byte[] data = fory.serializeJavaObject(struct1); Struct2 struct2 = (Struct2) fory.deserializeJavaObject(bytes, Struct2.class); } }   ","version":"0.12","tagName":"h3"},{"title":"ÂèçÂ∫èÂàóÂåñ API ‰ΩøÁî®ÈîôËØØ‚Äã","type":1,"pageTitle":"Java Â∫èÂàóÂåñ","url":"/zh-CN/docs/0.12/guide/serialization#ÂèçÂ∫èÂàóÂåñ-api-‰ΩøÁî®ÈîôËØØ","content":" Áî® Fory#serialize Â∫èÂàóÂåñÁöÑÂØπË±°ÔºåÈúÄÁî® Fory#deserialize ÂèçÂ∫èÂàóÂåñÔºå‰∏çËÉΩÁî® Fory#deserializeJavaObject„ÄÇÁî® Fory#serializeJavaObject Â∫èÂàóÂåñÁöÑÂØπË±°ÔºåÈúÄÁî® Fory#deserializeJavaObject ÂèçÂ∫èÂàóÂåñÔºå‰∏çËÉΩÁî® Fory#deserializeJavaObjectAndClass Êàñ Fory#deserialize„ÄÇÁî® Fory#serializeJavaObjectAndClass Â∫èÂàóÂåñÁöÑÂØπË±°ÔºåÈúÄÁî® Fory#deserializeJavaObjectAndClass ÂèçÂ∫èÂàóÂåñÔºå‰∏çËÉΩÁî®ÂÖ∂‰ªñ API„ÄÇ ","version":"0.12","tagName":"h3"},{"title":"Xlang Serialization Format","type":0,"sectionRef":"#","url":"/zh-CN/docs/0.12/specification/xlang_serialization_spec","content":"","keywords":"","version":"0.12"},{"title":"Cross-language Serialization Specification‚Äã","type":1,"pageTitle":"Xlang Serialization Format","url":"/zh-CN/docs/0.12/specification/xlang_serialization_spec#cross-language-serialization-specification","content":" Format Version History: Version 0.1 - serialization spec formalized  Fory xlang serialization is an automatic object serialization framework that supports reference and polymorphism. Fory will convert an object from/to fory xlang serialization binary format. Fory has two core concepts for xlang serialization:  Fory xlang binary formatFramework implemented in different languages to convert object to/from Fory xlang binary format  The serialization format is a dynamic binary format. The dynamics and reference/polymorphism support make Fory flexible, much more easy to use, but also introduce more complexities compared to static serialization frameworks. So the format will be more complex.  ","version":"0.12","tagName":"h2"},{"title":"Type Systems‚Äã","type":1,"pageTitle":"Xlang Serialization Format","url":"/zh-CN/docs/0.12/specification/xlang_serialization_spec#type-systems","content":" ","version":"0.12","tagName":"h2"},{"title":"Data Types‚Äã","type":1,"pageTitle":"Xlang Serialization Format","url":"/zh-CN/docs/0.12/specification/xlang_serialization_spec#data-types","content":" bool: a boolean value (true or false).int8: a 8-bit signed integer.int16: a 16-bit signed integer.int32: a 32-bit signed integer.var_int32: a 32-bit signed integer which use fory var_int32 encoding.int64: a 64-bit signed integer.var_int64: a 64-bit signed integer which use fory PVL encoding.sli_int64: a 64-bit signed integer which use fory SLI encoding.float16: a 16-bit floating point number.float32: a 32-bit floating point number.float64: a 64-bit floating point number including NaN and Infinity.string: a text string encoded using Latin1/UTF16/UTF-8 encoding.enum: a data type consisting of a set of named values. Rust enum with non-predefined field values are not supported as an enum.named_enum: an enum whose value will be serialized as the registered name.struct: a morphic(final) type serialized by Fory Struct serializer. i.e. it doesn't have subclasses. Suppose we're deserializing List&lt;SomeClass&gt;, we can save dynamic serializer dispatch since SomeClass is morphic(final).compatible_struct: a morphic(final) type serialized by Fory compatible Struct serializer.named_struct: a struct whose type mapping will be encoded as a name.named_compatible_struct: a compatible_struct whose type mapping will be encoded as a name.ext: a type which will be serialized by a customized serializer.named_ext: an ext type whose type mapping will be encoded as a name.list: a sequence of objects.set: an unordered set of unique elements.map: a map of key-value pairs. Mutable types such as list/map/set/array/tensor/arrow are not allowed as key of map.duration: an absolute length of time, independent of any calendar/timezone, as a count of nanoseconds.timestamp: a point in time, independent of any calendar/timezone, as a count of nanoseconds. The count is relative to an epoch at UTC midnight on January 1, 1970.local_date: a naive date without timezone. The count is days relative to an epoch at UTC midnight on Jan 1, 1970.decimal: exact decimal value represented as an integer value in two's complement.binary: an variable-length array of bytes.array: only allow 1d numeric components. Other arrays will be taken as List. The implementation should support the interoperability between array and list. bool_array: one dimensional bool array.int8_array: one dimensional int8 array.int16_array: one dimensional int16 array.int32_array: one dimensional int32 array.int64_array: one dimensional int64 array.float16_array: one dimensional half_float_16 array.float32_array: one dimensional float32 array.float64_array: one dimensional float64 array. tensor: multidimensional array which every sub-array have same size and type.arrow record batch: an arrow record batch object.arrow table: an arrow table object.  Note:  Unsigned int/long are not added here, since not every language support those types.  ","version":"0.12","tagName":"h3"},{"title":"Polymorphisms‚Äã","type":1,"pageTitle":"Xlang Serialization Format","url":"/zh-CN/docs/0.12/specification/xlang_serialization_spec#polymorphisms","content":" For polymorphism, if one non-final class is registered, and only one subclass is registered, then we can take all elements in List/Map have same type, thus reduce runtime check cost.  Collection/Array polymorphism are not fully supported, since some languages such as golang have only one collection type. If users want to get exactly the type he passed, he must pass that type when deserializing or annotate that type to the field of struct.  ","version":"0.12","tagName":"h3"},{"title":"Type disambiguation‚Äã","type":1,"pageTitle":"Xlang Serialization Format","url":"/zh-CN/docs/0.12/specification/xlang_serialization_spec#type-disambiguation","content":" Due to differences between type systems of languages, those types can't be mapped one-to-one between languages. When deserializing, Fory use the target data structure type and the data type in the data jointly to determine how to deserialize and populate the target data structure. For example:  class Foo { int[] intArray; Object[] objects; List&lt;Object&gt; objectList; } class Foo2 { int[] intArray; List&lt;Object&gt; objects; List&lt;Object&gt; objectList; }   intArray has an int32_array type. But both objects and objectList fields in the serialize data have list data type. When deserializing, the implementation will create an Object array for objects, but create a ArrayListfor objectList to populate its elements. And the serialized data of Foo can be deserialized into Foo2 too.  Users can also provide meta hints for fields of a type, or the type whole. Here is an example in java which use annotation to provide such information.  @ForyObject(fieldsNullable = false, trackingRef = false) class Foo { @ForyField(trackingRef = false) int[] intArray; @ForyField(polymorphic = true) Object object; @ForyField(tagId = 1, nullable = true) List&lt;Object&gt; objectList; }   Such information can be provided in other languages too:  cpp: use macro and template.golang: use struct tag.python: use typehint.rust: use macro.  ","version":"0.12","tagName":"h3"},{"title":"Type ID‚Äã","type":1,"pageTitle":"Xlang Serialization Format","url":"/zh-CN/docs/0.12/specification/xlang_serialization_spec#type-id","content":" All internal data types are expressed using an ID in range 0~64. Users can use 0~4096 for representing their types.  ","version":"0.12","tagName":"h3"},{"title":"Type mapping‚Äã","type":1,"pageTitle":"Xlang Serialization Format","url":"/zh-CN/docs/0.12/specification/xlang_serialization_spec#type-mapping","content":" See Type mapping  ","version":"0.12","tagName":"h3"},{"title":"Spec overview‚Äã","type":1,"pageTitle":"Xlang Serialization Format","url":"/zh-CN/docs/0.12/specification/xlang_serialization_spec#spec-overview","content":" Here is the overall format:  | fory header | object ref meta | object type meta | object value data |   The data are serialized using little endian byte order overall. If bytes swap is costly for some object, Fory will write the byte order for that object into the data instead of converting it to little endian.  ","version":"0.12","tagName":"h2"},{"title":"Fory header‚Äã","type":1,"pageTitle":"Xlang Serialization Format","url":"/zh-CN/docs/0.12/specification/xlang_serialization_spec#fory-header","content":" Fory header consists starts one byte:  | 2 bytes | 4 bits | 1 bit | 1 bit | 1 bit | 1 bit | 1 byte | optional 4 bytes | +--------------+---------------+-------+-------+--------+-------+------------+------------------------------------+ | magic number | reserved bits | oob | xlang | endian | null | language | unsigned int for meta start offset |   magic number: used to identify fory serialization protocol, current version use 0x62d4.null flag: 1 when object is null, 0 otherwise. If an object is null, other bits won't be set.endian flag: 1 when data is encoded by little endian, 0 for big endian.xlang flag: 1 when serialization uses xlang format, 0 when serialization uses Fory java format.oob flag: 1 when passed BufferCallback is not null, 0 otherwise.language: the language when serializing objects, such as JAVA, PYTHON, GO, etc. Fory can use this flag to determine whether spend more time on serialization to make the deserialization faster for dynamic languages.  If meta share mode is enabled, an uncompressed unsigned int is appended to indicate the start offset of metadata.  ","version":"0.12","tagName":"h2"},{"title":"Reference Meta‚Äã","type":1,"pageTitle":"Xlang Serialization Format","url":"/zh-CN/docs/0.12/specification/xlang_serialization_spec#reference-meta","content":" Reference tracking handles whether the object is null, and whether to track reference for the object by writing corresponding flags and maintaining internal state.  Reference flags:  Flag\tByte Value\tDescriptionNULL FLAG\t-3\tThis flag indicates the object is a null value. We don't use another byte to indicate REF, so that we can save one byte. REF FLAG\t-2\tThis flag indicates the object is already serialized previously, and fory will write a ref id with unsigned varint format instead of serialize it again NOT_NULL VALUE FLAG\t-1\tThis flag indicates the object is a non-null value and fory doesn't track ref for this type of object. REF VALUE FLAG\t0\tThis flag indicates the object is referencable and the first time to serialize.  When reference tracking is disabled globally or for specific types, or for certain types within a particular context(e.g., a field of a type), only the NULL and NOT_NULL VALUE flags will be used for reference meta.  For languages which doesn't support reference such as rust, reference tracking must be disabled for correct deserialization by fory rust implementation.  For languages whose object values are not null by default:  In rust, Fory takes Option:None as a null valueIn c++, Fory takes std::nullopt as a null valueIn golang, Fory takes null interface/pointer as a null value  If one want to deserialize in languages like Java/Python/JavaScript, he should mark the type with all fields not-null by default, or using schema-evolution mode to carry the not-null fields info in the data.  ","version":"0.12","tagName":"h2"},{"title":"Type Meta‚Äã","type":1,"pageTitle":"Xlang Serialization Format","url":"/zh-CN/docs/0.12/specification/xlang_serialization_spec#type-meta","content":" For every type to be serialized, it have a type id to indicate its type.  basic types: the type idenum: Type.ENUM + registered idType.NAMED_ENUM + registered namespace+typename list: Type.Listset: Type.SETmap: Type.MAPext: Type.EXT + registered idType.NAMED_EXT + registered namespace+typename struct: Type.STRUCT + struct metaType.NAMED_STRUCT + struct meta  Every type must be registered with an ID or name first. The registration can be used for security check and type identification.  Struct is a special type, depending whether schema compatibility is enabled, Fory will write struct meta differently.  ","version":"0.12","tagName":"h2"},{"title":"Struct Schema consistent‚Äã","type":1,"pageTitle":"Xlang Serialization Format","url":"/zh-CN/docs/0.12/specification/xlang_serialization_spec#struct-schema-consistent","content":" If schema consistent mode is enabled globally when creating fory, type meta will be written as a fory unsigned varint of type_id. Schema evolution related meta will be ignored.If schema evolution mode is enabled globally when creating fory, and current class is configured to use schema consistent mode like struct vs table in flatbuffers: Type meta will be add to captured_type_defs: captured_type_defs[type def stub] = map size ahead when registering type.Get index of the meta in captured_type_defs, write that index as | unsigned varint: index |.  ","version":"0.12","tagName":"h3"},{"title":"Struct Schema evolution‚Äã","type":1,"pageTitle":"Xlang Serialization Format","url":"/zh-CN/docs/0.12/specification/xlang_serialization_spec#struct-schema-evolution","content":" If schema evolution mode is enabled globally when creating fory, and enabled for current type, type meta will be written using one of the following mode. Which mode to use is configured when creating fory.  Normal mode(meta share not enabled): If type meta hasn't been written before, add type defto captured_type_defs: captured_type_defs[type def] = map size.Get index of the meta in captured_type_defs, write that index as | unsigned varint: index |.After finished the serialization of the object graph, fory will start to write captured_type_defs: Firstly, set current to meta start offset of fory header Then write captured_type_defs one by one: buffer.write_var_uint32(len(writting_type_defs) - len(schema_consistent_type_def_stubs)) for type_meta in writting_type_defs: if not type_meta.is_stub(): type_meta.write_type_def(buffer) writing_type_defs = copy(schema_consistent_type_def_stubs) Meta share mode: the writing steps are same as the normal mode, but captured_type_defs will be shared across multiple serializations of different objects. For example, suppose we have a batch to serialize: captured_type_defs = {} stream = ... # add `Type1` to `captured_type_defs` and write `Type1` fory.serialize(stream, [Type1()]) # add `Type2` to `captured_type_defs` and write `Type2`, `Type1` is written before. fory.serialize(stream, [Type1(), Type2()]) # `Type1` and `Type2` are written before, no need to write meta. fory.serialize(stream, [Type1(), Type2()]) Streaming mode(streaming mode doesn't support meta share): If type meta hasn't been written before, the data will be written as: | unsigned varint: 0b11111111 | type def | If type meta has been written before, the data will be written as: | unsigned varint: written index &lt;&lt; 1 | written index is the id in captured_type_defs. With this mode, meta start offset can be omitted.  The normal mode and meta share mode will forbid streaming writing since it needs to look back for update the start offset after the whole object graph writing and meta collecting is finished. Only in this way we can ensure deserialization failure in meta share mode doesn't lost shared meta.  Type Def‚Äã  Here we mainly describe the meta layout for schema evolution mode:  | 8 bytes header | variable bytes | variable bytes | +----------------------+--------------------+-------------------+ | global binary header | meta header | fields meta |   For languages which support inheritance, if parent class and subclass has fields with same name, using field in subclass.  Global binary header‚Äã  50 bits hash + 1bit compress flag + write fields meta + 12 bits meta size. Right is the lower bits.  lower 12 bits are used to encode meta size. If meta size &gt;= 0b1111_1111_1111, then writemeta_ size - 0b1111_1111_1111 next.13rd bit is used to indicate whether to write fields meta. When this class is schema-consistent or use registered serializer, fields meta will be skipped. Class Meta will be used for share namespace + type name only.14rd bit is used to indicate whether meta is compressed.Other 50 bits is used to store the unique hash of flags + all layers class meta.  Meta header‚Äã  Meta header is a 8 bits number value.  Lowest 5 digits 0b00000~0b11110 are used to record num fields. 0b11111 is preserved to indicate that Fory need to read more bytes for length using Fory unsigned int encoding. Note that num_fields is the number of compatible fields. Users can use tag id to mark some fields as compatible fields in schema consistent context. In such cases, schema consistent fields will be serialized first, then compatible fields will be serialized next. At deserialization, Fory will use fields info of those fields which aren't annotated by tag id for deserializing schema consistent fields, then use fields info in meta for deserializing compatible fields.The 6th bit: 0 for registered by id, 1 for registered by name.Remaining 2 bits are reserved for future extension.  Fields meta‚Äã  Format:  | field info: variable bytes | variable bytes | ... | +---------------------------------+-----------------+-----+ | header + type info + field name | next field info | ... |   Field Header‚Äã  Field Header is 8 bits, annotation can be used to provide more specific info. If annotation not exists, fory will infer those info automatically.  The format for field header is:  2 bits field name encoding + 4 bits size + nullability flag + ref tracking flag   Detailed spec:  2 bits field name encoding: encoding: UTF8/ALL_TO_LOWER_SPECIAL/LOWER_UPPER_DIGIT_SPECIAL/TAG_IDIf tag id is used, field name will be written by an unsigned varint tag id, and 2 bits encoding will be 11. size of field name: The 4 bits size: 0~14 will be used to indicate length 1~15, the value 15 indicates to read more bytes, the encoding will encode size - 15 as a varint next.If encoding is TAG_ID, then num_bytes of field name will be used to store tag id. ref tracking: when set to 1, ref tracking will be enabled for this field.nullability: when set to 1, this field can be null.  Field Type Info‚Äã  Field type info is written as unsigned int8. Detailed id spec is:  For struct registered by id, it will be Type.STRUCT.For struct registered by name, it will be Type.NAMED_STRUCT.For enum registered by id, it will be Type.ENUM.For enum registered by name, it will be Type.NAMED_ENUM.For ext type registered by id, it will be Type.EXT.For ext type registered by name, it will be Type.NAMED_EXT.For list/set type, it will be written as Type.LIST/SET, then write element type recursively.For 1D primitive array type, it will be written as Type.XXX_ARRAY.For multi-dimensional primitive array type with same size on each dim, it will be written as Type.TENSOR.For other array type, it will be written as Type.LIST, then write element type recursively.For map type, it will be written as Type.MAP, then write key and value type recursively.For other types supported by fory directly, it will be fory type id for that type.For other types not determined at compile time, write Type.UNKNOWN instead. For such types, actual type will be written when serializing such field values.  Polymorphism spec:  struct/named_struct/ext/named_ext are taken as polymorphic, the meta for those types are written separately instead of inlining here to reduce meta space cost if object of this type is serialized in current object graph multiple times, and the field value may be null too.enum is taken as morphic, if deserialization doesn't have this field, or the type is not enum, enum value will be skipped.list/map/set are taken as morphic, when serializing values of those type, the concrete types won't be written again.Other types that fory supported are taken as morphic too.  List/Set/Map nested type spec:  list: | list type id | nested type id &lt;&lt; 2 + nullability flag + ref tracking flag | ... multi-layer type info |set: | set type id | nested type id &lt;&lt; 2 + nullability flag + ref tracking flag | ... multi-layer type info |map: | set type id | key type info | value type info | Key type format: | nested type id &lt;&lt; 2 + nullability flag + ref tracking flag | ... multi-layer type info |Value type format: | nested type id &lt;&lt; 2 + nullability flag + ref tracking flag | ... multi-layer type info |  Field Name‚Äã  If tag id is set, tag id will be used instead. Otherwise meta string of field name will be written instead.  Field order‚Äã  Field order are left as implementation details, which is not exposed to specification, the deserialization need to resort fields based on Fory fields sort algorithms. In this way, fory can compute statistics for field names or types and using a more compact encoding.  ","version":"0.12","tagName":"h3"},{"title":"Extended Type Meta with Inheritance support‚Äã","type":1,"pageTitle":"Xlang Serialization Format","url":"/zh-CN/docs/0.12/specification/xlang_serialization_spec#extended-type-meta-with-inheritance-support","content":" If one want to support inheritance for struct, one can implement following spec.  ","version":"0.12","tagName":"h2"},{"title":"Schema consistent‚Äã","type":1,"pageTitle":"Xlang Serialization Format","url":"/zh-CN/docs/0.12/specification/xlang_serialization_spec#schema-consistent","content":" Fields are serialized from parent type to leaf type. Fields are sorted using fory struct fields sort algorithms.  ","version":"0.12","tagName":"h3"},{"title":"Schema Evolution‚Äã","type":1,"pageTitle":"Xlang Serialization Format","url":"/zh-CN/docs/0.12/specification/xlang_serialization_spec#schema-evolution","content":" Meta layout for schema evolution mode:  | 8 bytes header | variable bytes | variable bytes | variable bytes | variable bytes | +----------------------+----------------+----------------+--------------------+--------------------+ | global binary header | meta header | fields meta | parent meta header | parent fields meta |   Meta header‚Äã  Meta header is a 64 bits number value encoded in little endian order.  Lowest 4 digits 0b0000~0b1110 are used to record num classes. 0b1111 is preserved to indicate that Fory need to read more bytes for length using Fory unsigned int encoding. If current type doesn't has parent type, or parent type doesn't have fields to serialize, or we're in a context which serialize fields of current type only, num classes will be 1.The 5th bit is used to indicate whether this type needs schema evolution.Other 56 bits are used to store the unique hash of flags + all layers type meta.  Single layer type meta‚Äã  | unsigned varint | var uint | field info: variable bytes | variable bytes | ... | +-----------------+----------+-------------------------------+-----------------+-----+ | num_fields | type id | header + type id + field name | next field info | ... |   Other layers type meta‚Äã  Same encoding algorithm as the previous layer.  ","version":"0.12","tagName":"h3"},{"title":"Meta String‚Äã","type":1,"pageTitle":"Xlang Serialization Format","url":"/zh-CN/docs/0.12/specification/xlang_serialization_spec#meta-string","content":" Meta string is mainly used to encode meta strings such as field names.  ","version":"0.12","tagName":"h2"},{"title":"Encoding Algorithms‚Äã","type":1,"pageTitle":"Xlang Serialization Format","url":"/zh-CN/docs/0.12/specification/xlang_serialization_spec#encoding-algorithms","content":" String binary encoding algorithm:  Algorithm\tPattern\tDescriptionLOWER_SPECIAL\ta-z._$|\tevery char is written using 5 bits, a-z: 0b00000~0b11001, ._$|: 0b11010~0b11101, prepend one bit at the start to indicate whether strip last char since last byte may have 7 redundant bits(1 indicates strip last char) LOWER_UPPER_DIGIT_SPECIAL\ta-zA-Z0~9._\tevery char is written using 6 bits, a-z: 0b00000~0b11001, A-Z: 0b11010~0b110011, 0~9: 0b110100~0b111101, ._: 0b111110~0b111111, prepend one bit at the start to indicate whether strip last char since last byte may have 7 redundant bits(1 indicates strip last char) UTF-8\tany chars\tUTF-8 encoding  Encoding flags:  Encoding Flag\tPattern\tEncoding AlgorithmLOWER_SPECIAL\tevery char is in a-z._|\tLOWER_SPECIAL FIRST_TO_LOWER_SPECIAL\tevery char is in a-z._ except first char is upper case\treplace first upper case char to lower case, then use LOWER_SPECIAL ALL_TO_LOWER_SPECIAL\tevery char is in a-zA-Z._\treplace every upper case char by | + lower case, then use LOWER_SPECIAL, use this encoding if it's smaller than Encoding LOWER_UPPER_DIGIT_SPECIAL LOWER_UPPER_DIGIT_SPECIAL\tevery char is in a-zA-Z._\tuse LOWER_UPPER_DIGIT_SPECIAL encoding if it's smaller than Encoding FIRST_TO_LOWER_SPECIAL UTF8\tany utf-8 char\tuse UTF-8 encoding Compression\tany utf-8 char\tlossless compression  Notes:  Depending on cases, one can choose encoding flags + data jointly, uses 3 bits of first byte for flags and other bytes for data.  ","version":"0.12","tagName":"h3"},{"title":"Value Format‚Äã","type":1,"pageTitle":"Xlang Serialization Format","url":"/zh-CN/docs/0.12/specification/xlang_serialization_spec#value-format","content":" ","version":"0.12","tagName":"h2"},{"title":"Basic types‚Äã","type":1,"pageTitle":"Xlang Serialization Format","url":"/zh-CN/docs/0.12/specification/xlang_serialization_spec#basic-types","content":" bool‚Äã  size: 1 byteformat: 0 for false, 1 for true  int8‚Äã  size: 1 byteformat: write as pure byte.  int16‚Äã  size: 2 bytebyte order: raw bytes of little endian order  unsigned int32‚Äã  size: 4 bytebyte order: raw bytes of little endian order  unsigned varint32‚Äã  size: 1~5 byteFormat: The most significant bit (MSB) in every byte indicates whether to have the next byte. If first bit is set i.e. b &amp; 0x80 == 0x80, then the next byte should be read until the first bit of the next byte is unset.  signed int32‚Äã  size: 4 bytebyte order: raw bytes of little endian order  signed varint32‚Äã  size: 1~5 byteFormat: First convert the number into positive unsigned int by (v &lt;&lt; 1) ^ (v &gt;&gt; 31) ZigZag algorithm, then encode it as an unsigned varint.  unsigned int64‚Äã  size: 8 bytebyte order: raw bytes of little endian order  unsigned varint64‚Äã  size: 1~9 byteFory SLI(Small long as int) Encoding: If long is in [0, 2147483647], encode as 4 bytes int: | little-endian: ((int) value) &lt;&lt; 1 |Otherwise write as 9 bytes: | 0b1 | little-endian 8 bytes long | Fory PVL(Progressive Variable-length Long) Encoding: positive long format: first bit in every byte indicates whether to have the next byte. If first bit is set i.e. b &amp; 0x80 == 0x80, then the next byte should be read until the first bit is unset.  signed int64‚Äã  size: 8 bytebyte order: raw bytes of little endian order  signed varint64‚Äã  size: 1~9 byteFory SLI(Small long as int) Encoding: If long is in [-1073741824, 1073741823], encode as 4 bytes int: | little-endian: ((int) value) &lt;&lt; 1 |Otherwise write as 9 bytes: | 0b1 | little-endian 8 bytes long | Fory PVL(Progressive Variable-length Long) Encoding: First convert the number into positive unsigned long by (v &lt;&lt; 1) ^ (v &gt;&gt; 63) ZigZag algorithm to reduce cost of small negative numbers, then encoding it as an unsigned long.  float32‚Äã  size: 4 byteformat: encode the specified floating-point value according to the IEEE 754 floating-point &quot;single format&quot; bit layout, preserving Not-a-Number (NaN) values, then write as binary by little endian order.  float64‚Äã  size: 8 byteformat: encode the specified floating-point value according to the IEEE 754 floating-point &quot;double format&quot; bit layout, preserving Not-a-Number (NaN) values. then write as binary by little endian order.  ","version":"0.12","tagName":"h3"},{"title":"string‚Äã","type":1,"pageTitle":"Xlang Serialization Format","url":"/zh-CN/docs/0.12/specification/xlang_serialization_spec#string","content":" Format:  | unsigned varint64: size &lt;&lt; 2 `bitor` 2 bits encoding flags | binary data |   size + encoding will be concat as a long and encoded as an unsigned varint64. The little 2 bits is used for encoding: 0 for latin1(ISO-8859-1), 1 for utf-16, 2 for utf-8.encoded string binary data based on encoding: latin/utf-16/utf-8.  Which encoding to choose:  For JDK8: fory detect latin at runtime, if string is latin string, then use latin encoding, otherwise use utf-16.For JDK9+: fory use coder in String object for encoding, latin/utf-16 will be used for encoding.If the string is encoded by utf-8, then fory will use utf-8 to decode the data. Cross-language string serialization of fory uses utf-8 by default.  ","version":"0.12","tagName":"h3"},{"title":"list‚Äã","type":1,"pageTitle":"Xlang Serialization Format","url":"/zh-CN/docs/0.12/specification/xlang_serialization_spec#list","content":" Format:  | unsigned varint64: length | 1 byte elements header | elements data |   elements header‚Äã  In most cases, all elements are same type and not null, elements header will encode those homogeneous information to avoid the cost of writing it for every element. Specifically, there are four kinds of information which will be encoded by elements header, each use one bit:  If track elements ref, use the first bit 0b1 of the header to flag it.If the elements have null, use the second bit 0b10 of the header to flag it. If ref tracking is enabled for this element type, this flag is invalid.If the element types are not the declared type, use the 3rd bit 0b100 of the header to flag it.If the element types are different, use the 4th bit 0b1000 header to flag it.  By default, all bits are unset, which means all elements won't track ref, all elements are same type, not null and the actual element is the declared type in the custom type field.  The implementation can generate different deserialization code based read header, and look up the generated code from a linear map/list.  elements data‚Äã  Based on the elements header, the serialization of elements data may skip ref flag/null flag/element type info.  fory = ... buffer = ... elems = ... if element_type_is_same: if not is_declared_type: fory.write_type(buffer, elem_type) elem_serializer = get_serializer(...) if track_ref: for elem in elems: if not ref_resolver.write_ref_or_null(buffer, elem): elem_serializer.write(buffer, elem) elif has_null: for elem in elems: if elem is None: buffer.write_byte(null_flag) else: buffer.write_byte(not_null_flag) elem_serializer.write(buffer, elem) else: for elem in elems: elem_serializer.write(buffer, elem) else: if track_ref: for elem in elems: fory.write_ref(buffer, elem) elif has_null: for elem in elems: fory.write_nullable(buffer, elem) else: for elem in elems: fory.write_value(buffer, elem)   CollectionSerializer#writeElementscan be taken as an example.  ","version":"0.12","tagName":"h3"},{"title":"array‚Äã","type":1,"pageTitle":"Xlang Serialization Format","url":"/zh-CN/docs/0.12/specification/xlang_serialization_spec#array","content":" primitive array‚Äã  Primitive array are taken as a binary buffer, serialization will just write the length of array size as an unsigned int, then copy the whole buffer into the stream.  Such serialization won't compress the array. If users want to compress primitive array, users need to register custom serializers for such types or mark it as list type.  Tensor‚Äã  Tensor is a special primitive multi-dimensional array which all dimensions have same size and type. The serialization format is:  | num_dims(unsigned varint) | shape[0](unsigned varint) | shape[...] | shape[N] | element type | data |   The data is continuous to reduce copy and may zero-copy in some cases.  object array‚Äã  Object array is serialized using the list format. Object component type will be taken as list element generic type.  ","version":"0.12","tagName":"h3"},{"title":"map‚Äã","type":1,"pageTitle":"Xlang Serialization Format","url":"/zh-CN/docs/0.12/specification/xlang_serialization_spec#map","content":" Map uses a chunk by chunk based Format:  | length(unsigned varint) | key value chunk data | ... | key value chunk data |   map key-value chunk data‚Äã  Map iteration is too expensive, Fory won't compute the header like for list since it introduceconsiderable overhead. Users can use MapFieldInfo annotation to provide the header in advance. Otherwise Fory will use first key-value pair to predict header optimistically, and update the chunk header if the prediction failed at some pair.  Fory will serialize the map chunk by chunk, every chunk has 255 pairs at most.  | 1 byte | 1 byte | variable bytes | +----------------+----------------+-----------------+ | KV header | chunk size: N | N*2 objects |   KV header:  If track key ref, use the first bit 0b1 of the header to flag it.If the key has null, use the second bit 0b10 of the header to flag it. If ref tracking is enabled for this key type, this flag is invalid.If the actual key type of map is not the declared key type, use the 3rd bit 0b100 of the header to flag it.If track value ref, use the 4th bit 0b1000 of the header to flag it.If the value has null, use the 5th bit 0b10000 of the header to flag it. If ref tracking is enabled for this value type, this flag is invalid.If the value type of map is not the declared value type, use the 6rd bit 0b100000 of the header to flag it.If key or value is null, that key and value will be written as a separate chunk, and chunk size writing will be skipped too.  If streaming write is enabled, which means Fory can't update written chunk size. In such cases, map key-value data format will be:  | 1 byte | variable bytes | +----------------+-----------------+ | KV header | N*2 objects |   KV header will be a header marked by MapFieldInfo in java. For languages such as golang, this can be computed in advance for non-interface types most times. The implementation can generate different deserialization code based read header, and look up the generated code from a linear map/list.  Why serialize chunk by chunk?‚Äã  When fory will use first key-value pair to predict header optimistically, it can't know how many pairs have same meta(tracking kef ref, key has null and so on). If we don't write chunk by chunk with max chunk size, we must write at least X bytes to take up a place for later to update the number which has same elements, X is the num_bytes for encoding varint encoding of map size.  And most map size are smaller than 255, if all pairs have same data, the chunk will be 1. This is common in golang/rust, which object are not reference by default.  Also, if only one or two keys have different meta, we can make it into a different chunk, so that most pairs can share meta.  The implementation can accumulate read count with map size to decide whether to read more chunks.  ","version":"0.12","tagName":"h3"},{"title":"enum‚Äã","type":1,"pageTitle":"Xlang Serialization Format","url":"/zh-CN/docs/0.12/specification/xlang_serialization_spec#enum","content":" Enums are serialized as an unsigned var int. If the order of enum values change, the deserialized enum value may not be the value users expect. In such cases, users must register enum serializer by make it write enum value as an enumerated string with unique hash disabled.  ","version":"0.12","tagName":"h3"},{"title":"decimal‚Äã","type":1,"pageTitle":"Xlang Serialization Format","url":"/zh-CN/docs/0.12/specification/xlang_serialization_spec#decimal","content":" Not supported for now.  ","version":"0.12","tagName":"h3"},{"title":"struct‚Äã","type":1,"pageTitle":"Xlang Serialization Format","url":"/zh-CN/docs/0.12/specification/xlang_serialization_spec#struct","content":" Struct means object of class/pojo/struct/bean/record type. Struct will be serialized by writing its fields data in fory order.  Depending on schema compatibility, structs will have different formats.  field order‚Äã  Field will be ordered as following, every group of fields will have its own order:  primitive fields: larger size type first, smaller later, variable size type last.when same size, sort by type idwhen same size and type id, sort by snake case field nametypes: bool/int8/int16/int32/varint32/int64/varint64/sliint64/float16/float32/float64 nullable primitive fields: same order as primitive fieldsmorphic fields: same type together, then sorted by field name lexicographically using snake case style.unknown fields: same sort algorithms as morphic fieldslist fields: same sort algorithms as morphic fieldsset fields: same sort algorithms as morphic fieldsmap fields: same sort algorithms as morphic fields  Field order‚Äã  Fields in a struct are sorted in a ascending order by:  primitive fields first: bool/int8/int16/int32/varint32/int64/varint64/sliint64/float16/float32/float64, sorted by type id.nullable primitive fieldsmorphic types except list/set/mapunknown typeslist typesset typesmap types  If two fields have same type, then sort by snake_case styled field name.  schema consistent‚Äã  Object will be written as:  | 4 byte | variable bytes | +---------------+------------------+ | type hash | field values |   Type hash is used to check the type schema consistency across languages. Type hash will be the first 32 bits of 56 bits value of the type meta.  Object fields will be serialized one by one using following format:  not null primitive field value: | var bytes | +----------------+ | value data | +----------------+ nullable primitive field value: | one byte | var bytes | +-----------+---------------+ | null flag | field value | +-----------+---------------+ field value of final type with ref tracking: | var bytes | var objects | +-----------+-------------+ | ref meta | value data | +-----------+-------------+ field value of final type without ref tracking: | one byte | var objects | +-----------+-------------+ | null flag | field value | +-----------+-------------+ field value of non-final type with ref tracking: | one byte | var bytes | var objects | +-----------+-------------+-------------+ | ref meta | type meta | value data | +-----------+-------------+-------------+ field value of non-final type without ref tracking: | one byte | var bytes | var objects | +-----------+------------+------------+ | null flag | type meta | value data | +-----------+------------+------------+   Schema evolution‚Äã  Schema evolution have similar format as schema consistent mode for object except:  For the object type, schema consistent mode will write type by id only, but schema evolution mode will write type consisting of field names, types and other meta too, see Type meta.Type meta of final custom type needs to be written too, because peers may not have this type defined.  ","version":"0.12","tagName":"h3"},{"title":"Type‚Äã","type":1,"pageTitle":"Xlang Serialization Format","url":"/zh-CN/docs/0.12/specification/xlang_serialization_spec#type","content":" Type will be serialized using type meta format.  ","version":"0.12","tagName":"h3"},{"title":"Implementation guidelines‚Äã","type":1,"pageTitle":"Xlang Serialization Format","url":"/zh-CN/docs/0.12/specification/xlang_serialization_spec#implementation-guidelines","content":" ","version":"0.12","tagName":"h2"},{"title":"How to reduce memory read/write code‚Äã","type":1,"pageTitle":"Xlang Serialization Format","url":"/zh-CN/docs/0.12/specification/xlang_serialization_spec#how-to-reduce-memory-readwrite-code","content":" Try to merge multiple bytes into an int/long write before writing to reduce memory IO and bound check cost.Read multiple bytes as an int/long, then split into multiple bytes to reduce memory IO and bound check cost.Try to use one varint/long to write flags and length together to save one byte cost and reduce memory io.Condition branches are less expensive compared to memory IO cost unless there are too many branches.  ","version":"0.12","tagName":"h3"},{"title":"Fast deserialization for static languages without runtime codegen support‚Äã","type":1,"pageTitle":"Xlang Serialization Format","url":"/zh-CN/docs/0.12/specification/xlang_serialization_spec#fast-deserialization-for-static-languages-without-runtime-codegen-support","content":" For type evolution, the serializer will encode the type meta into the serialized data. The deserializer will compare this meta with class meta in the current process, and use the diff to determine how to deserialize the data.  For java/javascript/python, we can use the diff to generate serializer code at runtime and load it as class/function for deserialization. In this way, the type evolution will be as fast as type consist mode.  For C++/Rust, we can't generate the serializer code at runtime. So we need to generate the code at compile-time using meta programming. But at that time, we don't know the type schema in other processes, so we can't generate the serializer code for such inconsistent types. We may need to generate the code which has a loop and compare field name one by one to decide whether to deserialize and assign the field or skip the field value.  One fast way is that we can optimize the string comparison into jump instructions:  Assume the current type has n fields, and the peer type has n1 fields.Generate an auto growing field id from 0 for every sorted field in the current type at the compile time.Compare the received type meta with current type, generate same id if the field name is same, otherwise generate an auto growing id starting from n, cache this meta at runtime.Iterate the fields of received type meta, use a switch to compare the field id to deserialize data and assign/skip field value. Continuous field id will be optimized into jump in switch block, so it will very fast.  Here is an example, suppose process A has a class Foo with version 1 defined as Foo1, process B has a class Foowith version 2 defined as Foo2:  // class Foo with version 1 class Foo1 { int32_t v1; // id 0 std::string v2; // id 1 }; // class Foo with version 2 class Foo2 { // id 0, but will have id 2 in process A bool v0; // id 1, but will have id 0 in process A int32_t v1; // id 2, but will have id 3 in process A int64_t long_value; // id 3, but will have id 1 in process A std::string v2; // id 4, but will have id 4 in process A std::vector&lt;std::string&gt; list; };   When process A received serialized Foo2 from process B, here is how it deserialize the data:  Foo1 foo1 = ...; const std::vector&lt;fory::FieldInfo&gt; &amp;field_infos = type_meta.field_infos; for (const auto &amp;field_info : field_infos) { switch (field_info.field_id) { case 0: foo1.v1 = buffer.read_varint32(); break; case 1: foo1.v2 = fory.read_string(); break; default: fory.skip_data(field_info); } }  ","version":"0.12","tagName":"h3"},{"title":"Á§æÂå∫","type":0,"sectionRef":"#","url":"/zh-CN/docs/0.13/community/","content":"","keywords":"","version":"0.13"},{"title":"ÈÇÆ‰ª∂ÂàóË°®‚Äã","type":1,"pageTitle":"Á§æÂå∫","url":"/zh-CN/docs/0.13/community/#ÈÇÆ‰ª∂ÂàóË°®","content":" ÈÇÆ‰ª∂ÂàóË°®\tÊèèËø∞\tËÆ¢ÈòÖ\tÂèñÊ∂àËÆ¢ÈòÖ\tÂèëÈÄÅÈÇÆ‰ª∂\tÊ¥ªÂä®dev@fory.apache.org\tÂºÄÂèëÁõ∏ÂÖ≥ËÆ®ËÆ∫\tËÆ¢ÈòÖ\tÂèñÊ∂àËÆ¢ÈòÖ\tÂèëÈÄÅÈÇÆ‰ª∂\tÈÇÆ‰ª∂ÂàóË°®Ê¥ªÂä® commits@fory.apache.org\t‰ªìÂ∫ìÁöÑÊâÄÊúâ commits\tËÆ¢ÈòÖ\tÂèñÊ∂àËÆ¢ÈòÖ\tÂè™ËØªÁöÑÈÇÆ‰ª∂ÂàóË°®\tÈÇÆ‰ª∂ÂàóË°®Ê¥ªÂä®  Âú®Â∞ùËØïÂèëÈÄÅÈÇÆ‰ª∂‰πãÂâçÔºåËØ∑Á°Æ‰øùËÆ¢ÈòÖ‰∏äËø∞ÁöÑÈÇÆ‰ª∂ÂàóË°®„ÄÇ  Â¶ÇÊûúÊÇ®Ê≤°ÊúâËÆ¢ÈòÖÈÇÆ‰ª∂ÂàóË°®ÔºåÊÇ®ÁöÑÈÇÆ‰ª∂Â∞ÜË¢´ÊãíÁªùÊàñ‰∏ç‰ºöÊî∂Âà∞ÂõûÂ§ç„ÄÇ  ","version":"0.13","tagName":"h2"},{"title":"Â¶Ç‰ΩïËÆ¢ÈòÖÈÇÆ‰ª∂ÂàóË°®‚Äã","type":1,"pageTitle":"Á§æÂå∫","url":"/zh-CN/docs/0.13/community/#Â¶Ç‰ΩïËÆ¢ÈòÖÈÇÆ‰ª∂ÂàóË°®","content":" Ë¶ÅÂèëÈÄÅÈÇÆ‰ª∂Ëá≥ÈÇÆ‰ª∂ÂàóË°®ÔºåËØ∑ÂÖàÈÄöËøá‰ª•‰∏ãÊñπÂºèËÆ¢ÈòÖÔºö  ÂèëÈÄÅÁîµÂ≠êÈÇÆ‰ª∂Ëá≥ listname-subscribe@fory.apache.orgÔºåÂπ∂Áõ∏Â∫îÊõøÊç¢ listnameÔºõÂõûÂ§çÊÇ®Â∞ÜÊî∂Âà∞ÁöÑÁ°ÆËÆ§ÁîµÂ≠êÈÇÆ‰ª∂Ôºå‰øùÊåÅÈÇÆ‰ª∂‰∏ªÈ¢òË°åÂÆåÊï¥ÔºõÁÑ∂ÂêéÊÇ®Â∞ÜÊî∂Âà∞‰∏ÄÂ∞ÅÊ¨¢ËøéÁöÑÁîµÂ≠êÈÇÆ‰ª∂ÔºåËÆ¢ÈòÖÊàêÂäü„ÄÇ  Âú®ËÆ®ËÆ∫ÁîµÂ≠êÈÇÆ‰ª∂‰∏≠ÁöÑ‰ª£Á†ÅÁâáÊÆµÊó∂ÔºåËØ∑Á°Æ‰øùÔºö  ÊÇ®‰∏çË¶ÅÈìæÊé•Âà∞Â§ñÈÉ®ÊúçÂä°‰∏≠ÁöÑÊñá‰ª∂ÔºåÂõ†‰∏∫Ê≠§Á±ªÊñá‰ª∂ÂèØËÉΩ‰ºöÊõ¥Êîπ„ÄÅË¢´Âà†Èô§ÊàñÈìæÊé•ÂèØËÉΩ‰ºö‰∏≠Êñ≠Ôºå‰ªéËÄå‰ΩøÂ≠òÊ°£ÁöÑÁîµÂ≠êÈÇÆ‰ª∂Á∫øÁ®ãÂèòÂæóÊó†Áî®ÔºõÊÇ®Á≤òË¥¥ÊñáÊú¨ËÄå‰∏çÊòØÊñáÊú¨Â±èÂπïÊà™ÂõæÔºõÁ≤òË¥¥‰ª£Á†ÅÊó∂‰øùÊåÅÊ†ºÂºèÔºå‰ª•‰øùÊåÅ‰ª£Á†ÅÂèØËØªÔºõÊúâË∂≥Â§üÁöÑÂØºÂÖ•ËØ≠Âè•‰ª•ÈÅøÂÖç‰∫ßÁîü‰ª£Á†ÅÊ≠ß‰πâ„ÄÇ  ","version":"0.13","tagName":"h3"},{"title":"Slack‚Äã","type":1,"pageTitle":"Á§æÂå∫","url":"/zh-CN/docs/0.13/community/#slack","content":" ÊÇ®ÂèØ‰ª•Âä†ÂÖ•Slack ‰∏äÁöÑ Apache Fory‚Ñ¢ Á§æÂå∫„ÄÇ  ËøôÈáåÊúâ‰∏Ä‰∫õÁ§æÂå∫ËßÑÂàôÔºö  ‰øùÊåÅÂ∞äÈáçÂíåÂèãÂñÑÔºõÊâÄÊúâÈáçË¶ÅÁöÑÂÜ≥ÂÆöÂíåÁªìËÆ∫ÈÉΩÂøÖÈ°ªÂèçÊò†Âà∞ÈÇÆ‰ª∂ÂàóË°®‰∏≠„ÄÇ ‚ÄúÂ¶ÇÊûúËøôÊ≤°ÊúâÂú®ÈÇÆ‰ª∂ÂàóË°®‰∏≠ÊúâÁõ∏ÂÖ≥ÁöÑËÆ®ËÆ∫ËÆ∞ÂΩïÔºåÂàô‰ª£Ë°®ÂÆÉ‰∏çÁîüÊïà‚Äù ÔºõThe Apache WayÔºõ‰ΩøÁî® Slack Á∫øÁ®ãÊù•Èò≤Ê≠¢Âπ∂Ë°åÂØπËØùÊ∑πÊ≤°ÂΩìÂâçÁöÑÂØπËØùÈ¢ëÈÅìÔºõËØ∑‰∏çË¶ÅÁõ¥Êé•ÂêëÈÇÆ‰ª∂ÂàóË°®ÂèëÈÄÅ Bug fix„ÄÅIssue ÂàÜÈÖçÂíå Code Review Ê∂àÊÅØ„ÄÇËøô‰∫õÂÜÖÂÆπÂ∫îËØ•Ë¢´Á§æÂå∫Ë¥°ÁåÆËÄÖËá™ÊÑøÂ§ÑÁêÜÂπ∂ÂàÜÈÖç„ÄÇ  ","version":"0.13","tagName":"h2"},{"title":"Issue Ë∑üË∏™‚Äã","type":1,"pageTitle":"Á§æÂå∫","url":"/zh-CN/docs/0.13/community/#issue-Ë∑üË∏™","content":" Êàë‰ª¨‰ΩøÁî® GitHub Issues Êù•Ë∑üË∏™ÊâÄÊúâ IssuesÔºö  ‰ª£Á†ÅÁõ∏ÂÖ≥ÈóÆÈ¢òÔºöhttps://github.com/apache/fory/issuesÁΩëÁ´ôÁõ∏ÂÖ≥ÈóÆÈ¢òÔºöhttps://github.com/apache/fory-site/issues  ÊÇ®ÈúÄË¶ÅÊúâ‰∏Ä‰∏™ GitHub Â∏êÂè∑ ÊâçËÉΩÂàõÂª∫ÈóÆÈ¢ò„ÄÇ Â¶ÇÊûúÊÇ®Ê≤°Êúâ GitHub Â∏êÂè∑ÔºåÊÇ®ÂèØ‰ª•ÂèëÈÄÅÁîµÂ≠êÈÇÆ‰ª∂Ëá≥ dev@fory.apache.org„ÄÇ  ","version":"0.13","tagName":"h2"},{"title":"Êä•Âëä Bug‚Äã","type":1,"pageTitle":"Á§æÂå∫","url":"/zh-CN/docs/0.13/community/#Êä•Âëä-bug","content":" ÊÇ®Âú®Êä•Âëä Bug ‰πãÂâçÔºåÂ∫îËØ•Ôºö  È™åËØÅËØ• Bug Á°ÆÂÆûÂ≠òÂú®ÔºõÊêúÁ¥¢ Issue List ‰ª•Á°Æ‰øù‰∏çÂ≠òÂú®Áõ∏ÂÖ≥ Bug„ÄÇÂú® Issue List ‰∏≠ÂàõÂª∫ bug Êä•Âëä„ÄÇÂ¶ÇÊûúÂèØËÉΩÁöÑËØùÔºåÊ∑±ÂÖ•Á†îÁ©∂ Apache Fory‚Ñ¢ ÁöÑÊ∫ê‰ª£Á†ÅÔºåÂπ∂ÈíàÂØπÊÇ®Êä•ÂëäÁöÑ Bug Êèê‰∫§Ë°•‰∏ÅÔºåËøôÊúâÂä©‰∫éÂø´ÈÄü‰øÆÂ§ç Bug„ÄÇ  ","version":"0.13","tagName":"h3"},{"title":"Êä•ÂëäÂÆâÂÖ®ÊºèÊ¥û‚Äã","type":1,"pageTitle":"Á§æÂå∫","url":"/zh-CN/docs/0.13/community/#Êä•ÂëäÂÆâÂÖ®ÊºèÊ¥û","content":" Apache Fory‚Ñ¢ ÊòØ Apache ËΩØ‰ª∂Âü∫Èáë‰ºö ÁöÑ‰∏Ä‰∏™È°πÁõÆÔºåÈÅµÂæ™ ASF ÊºèÊ¥ûÂ§ÑÁêÜÊµÅÁ®ã„ÄÇ  Ë¶ÅÊä•ÂëäÊÇ®ÂèëÁé∞ÁöÑÊñ∞ÁöÑÂÆâÂÖ®ÊºèÊ¥ûÔºåËØ∑ÈÅµÂæ™ ASF ÊºèÊ¥ûÊä•ÂëäÊµÅÁ®ãÔºåËØ•ÊµÅÁ®ãËß£Èáä‰∫ÜÂ¶Ç‰ΩïÁßÅ‰∏ãÂêëÁ§æÂå∫Áª¥Êä§ËÄÖÂèëÈÄÅËØ¶ÁªÜÁöÑÊºèÊ¥û‰ø°ÊÅØ„ÄÇ  ","version":"0.13","tagName":"h3"},{"title":"New Feature‚Äã","type":1,"pageTitle":"Á§æÂå∫","url":"/zh-CN/docs/0.13/community/#new-feature","content":" Ê¨¢ËøéÊÇ®Â¢ûÂº∫ÂäüËÉΩÊàñÊñ∞ÂäüËÉΩÂª∫ËÆÆ„ÄÇÊèêÊ°àË∂äÂÖ∑‰Ωì„ÄÅË∂äÂêàÁêÜÔºåÊÇ®Âú® Apache Fory‚Ñ¢ Á§æÂå∫ÁöÑÂΩ±ÂìçÂäõÂ∞±Ë∂äÂ§ß„ÄÇÂÆÉÊúâÂèØËÉΩÂú®‰πãÂêéÁâàÊú¨ÂèëÂ∏É„ÄÇ  ","version":"0.13","tagName":"h3"},{"title":"È°πÁõÆÊ∫ê‰ª£Á†Å‚Äã","type":1,"pageTitle":"Á§æÂå∫","url":"/zh-CN/docs/0.13/community/#È°πÁõÆÊ∫ê‰ª£Á†Å","content":" Apache Fory‚Ñ¢ Core Â≠òÂÇ®Â∫ìÔºöhttps://github.com/apache/foryApache Fory‚Ñ¢ ÁΩëÁ´ôÂ≠òÂÇ®Â∫ìÔºöhttps://github.com/apache/fory-site ","version":"0.13","tagName":"h3"},{"title":"Â¶Ç‰ΩïÂä†ÂÖ• Apache Fory‚Ñ¢ Á§æÂå∫","type":0,"sectionRef":"#","url":"/zh-CN/docs/0.13/community/how_to_join_community","content":"","keywords":"","version":"0.13"},{"title":"Apache Fory‚Ñ¢ Ë¥°ÁåÆÊåáÂçó‚Äã","type":1,"pageTitle":"Â¶Ç‰ΩïÂä†ÂÖ• Apache Fory‚Ñ¢ Á§æÂå∫","url":"/zh-CN/docs/0.13/community/how_to_join_community#apache-fory-Ë¥°ÁåÆÊåáÂçó","content":" Apache Fory‚Ñ¢ Âõ¢ÈòüÈÄöÂ∏∏Âú® github ‰∏äËøõË°åÂºÄÂèëÂíå issue Áª¥Êä§ÔºåËØ∑ÊâìÂºÄ¬†Github ÁΩëÁ´ôÔºåÁÇπÂáªÂè≥‰∏äËßí¬†Sign up¬†ÊåâÈíÆÔºåÊ≥®ÂÜå‰∏Ä‰∏™Ëá™Â∑±ÁöÑË¥¶Âè∑ÔºåÂºÄÂêØ‰Ω†ÂºÄÊ∫ê‰πãÊóÖÁöÑÁ¨¨‰∏ÄÊ≠•„ÄÇ  Âú®¬†Apache Fory‚Ñ¢ ‰ªìÂ∫ì‰∏≠ÔºåÊàë‰ª¨Êúâ‰∏Ä‰ªΩÈù¢ÂêëÊâÄÊúâÂºÄÊ∫êË¥°ÁåÆËÄÖÁöÑÊåáÂçóÔºå‰ªãÁªç‰∫ÜÊúâÂÖ≥ÁâàÊú¨ÁÆ°ÁêÜ„ÄÅÂàÜÊîØÁÆ°ÁêÜÁ≠âÂÜÖÂÆπÔºåËØ∑Ëä±Âá†ÂàÜÈíüÊó∂Èó¥ÈòÖËØª‰∫ÜËß£‰∏Ä‰∏ã„ÄÇ  ","version":"0.13","tagName":"h2"},{"title":"‰Ω†ÁöÑÁ¨¨‰∏Ä‰∏™ Pull Request‚Äã","type":1,"pageTitle":"Â¶Ç‰ΩïÂä†ÂÖ• Apache Fory‚Ñ¢ Á§æÂå∫","url":"/zh-CN/docs/0.13/community/how_to_join_community#‰Ω†ÁöÑÁ¨¨‰∏Ä‰∏™-pull-request","content":" ","version":"0.13","tagName":"h2"},{"title":"Step0ÔºöÂÆâË£Ö Git‚Äã","type":1,"pageTitle":"Â¶Ç‰ΩïÂä†ÂÖ• Apache Fory‚Ñ¢ Á§æÂå∫","url":"/zh-CN/docs/0.13/community/how_to_join_community#step0ÂÆâË£Ö-git","content":" Git ÊòØ‰∏ÄÁßçÁâàÊú¨ÊéßÂà∂Á≥ªÁªüÔºåÁî®‰∫éË∑üË∏™ÂíåÁÆ°ÁêÜËΩØ‰ª∂ÂºÄÂèëÈ°πÁõÆ‰∏≠ÁöÑ‰ª£Á†ÅÂèòÊõ¥„ÄÇÂÆÉÂ∏ÆÂä©ÂºÄÂèëËÄÖËÆ∞ÂΩïÂíåÁÆ°ÁêÜ‰ª£Á†ÅÁöÑÂéÜÂè≤ËÆ∞ÂΩïÔºåÊñπ‰æøÂõ¢ÈòüÂçè‰Ωú„ÄÅ‰ª£Á†ÅÁâàÊú¨ÊéßÂà∂„ÄÅÂêàÂπ∂‰ª£Á†ÅÁ≠âÊìç‰Ωú„ÄÇÈÄöËøá GitÔºåÊÇ®ÂèØ‰ª•ËøΩË∏™ÊØè‰∏™Êñá‰ª∂ÁöÑÊØè‰∏™ÁâàÊú¨ÔºåÂπ∂ËΩªÊùæÂú∞Âú®‰∏çÂêåÁâàÊú¨‰πãÈó¥ËøõË°åÂàáÊç¢ÂíåÊØîËæÉ„ÄÇGit ËøòÊèê‰æõ‰∫ÜÂàÜÊîØÁÆ°ÁêÜÂäüËÉΩÔºå‰ΩøÂæóÂèØ‰ª•ÂêåÊó∂ËøõË°åÂ§ö‰∏™Âπ∂Ë°åÂºÄÂèë‰ªªÂä°„ÄÇ  ËÆøÈóÆ Git ÂÆòÊñπÁΩëÁ´ôÔºöhttps://git-scm.com‰∏ãËΩΩÊúÄÊñ∞ÁâàÊú¨ÁöÑ Git ÂÆâË£ÖÁ®ãÂ∫è„ÄÇËøêË°å‰∏ãËΩΩÁöÑÂÆâË£ÖÁ®ãÂ∫èÔºåÊåâÁÖßÂÆâË£ÖÂêëÂØºÁöÑÊèêÁ§∫ËøõË°åÂÆâË£Ö„ÄÇÂÆâË£ÖÂÆåÊàêÂêéÔºå‰Ω†ÂèØ‰ª•ÈÄöËøáÂëΩ‰ª§Ë°å‰ΩøÁî®¬†git version¬†ÂëΩ‰ª§Á°ÆËÆ§ÂÆâË£ÖÊàêÂäü„ÄÇ  ","version":"0.13","tagName":"h3"},{"title":"Step1ÔºöFork È°πÁõÆ‚Äã","type":1,"pageTitle":"Â¶Ç‰ΩïÂä†ÂÖ• Apache Fory‚Ñ¢ Á§æÂå∫","url":"/zh-CN/docs/0.13/community/how_to_join_community#step1fork-È°πÁõÆ","content":" È¶ñÂÖàÈúÄË¶Å fork Ëøô‰∏™È°πÁõÆÔºåËøõÂÖ•Apache Fory‚Ñ¢ È°πÁõÆÈ°µÈù¢ÔºåÁÇπÂáªÂè≥‰∏äËßíÁöÑ Fork ÊåâÈíÆ‰Ω†ÁöÑ github Â∏êÂè∑‰∏≠‰ºöÂá∫Áé∞ xxxx(‰Ω†ÁöÑ github Áî®Êà∑Âêç)/fory Ëøô‰∏™È°πÁõÆÂú®Êú¨Âú∞ÁîµËÑë‰∏ä‰ΩøÁî®‰ª•‰∏ãÂëΩ‰ª§: ÂæóÂà∞‰∏Ä‰∏™ fory Êñá‰ª∂Â§π  // ssh git clone git@github.com:xxxx(‰Ω†ÁöÑgithubÁî®Êà∑Âêç)/fory.git // https git clone https://github.com/xxxx(‰Ω†ÁöÑgithubÁî®Êà∑Âêç)/fory.git   ","version":"0.13","tagName":"h3"},{"title":"Step2ÔºöËé∑ÂèñÈ°πÁõÆ‰ª£Á†Å‚Äã","type":1,"pageTitle":"Â¶Ç‰ΩïÂä†ÂÖ• Apache Fory‚Ñ¢ Á§æÂå∫","url":"/zh-CN/docs/0.13/community/how_to_join_community#step2Ëé∑ÂèñÈ°πÁõÆ‰ª£Á†Å","content":" ËøõÂÖ• fory Êñá‰ª∂Â§πÔºåÊ∑ªÂä† fory ÁöÑËøúÁ®ãÂú∞ÂùÄ  git remote add upstream https://github.com/apache/fory.git   ","version":"0.13","tagName":"h3"},{"title":"Step3ÔºöÂàõÂª∫ÂàÜÊîØ‚Äã","type":1,"pageTitle":"Â¶Ç‰ΩïÂä†ÂÖ• Apache Fory‚Ñ¢ Á§æÂå∫","url":"/zh-CN/docs/0.13/community/how_to_join_community#step3ÂàõÂª∫ÂàÜÊîØ","content":" Â•Ω‰∫ÜÔºåÁé∞Âú®ÂèØ‰ª•ÂºÄÂßãË¥°ÁåÆÊàë‰ª¨ÁöÑ‰ª£Á†Å‰∫Ü„ÄÇfory ÈªòËÆ§ÂàÜÊîØ‰∏∫ main ÂàÜÊîØ„ÄÇÊó†ËÆ∫ÊòØÂäüËÉΩÂºÄÂèë„ÄÅbug ‰øÆÂ§ç„ÄÅÊñáÊ°£ÁºñÂÜôÔºåÈÉΩËØ∑Êñ∞Âª∫Á´ã‰∏Ä‰∏™ÂàÜÊîØÔºåÂÜçÂêàÂπ∂Âà∞ main ÂàÜÊîØ‰∏ä„ÄÇ‰ΩøÁî®‰ª•‰∏ã‰ª£Á†ÅÂàõÂª∫ÂàÜÊîØÔºö  // ÂàõÂª∫ÂäüËÉΩÂºÄÂèëÂàÜÊîØ git checkout -b feat/xxxx // ÂàõÂª∫ÈóÆÈ¢ò‰øÆÂ§çÂºÄÂèëÂàÜÊîØ git checkout -b fix/xxxx // ÂàõÂª∫ÊñáÊ°£„ÄÅdemoÂàÜÊîØ git checkout -b docs/add-java-demo   ÂÅáËÆæÊàë‰ª¨ÂàõÂª∫‰∫ÜÊñáÊ°£‰øÆÊîπÂàÜÊîØ¬†docs/add-java-demo  ÂÅáËÆæÊàë‰ª¨Â∑≤ÁªèÊ∑ªÂä†‰∫Ü‰∏Ä‰∫õ‰ª£Á†ÅÔºåÊèê‰∫§Âà∞‰ª£Á†ÅÂ∫ì git add . git commit -a -m &quot;docs: add java demo and related docs&quot; „ÄÇ  ","version":"0.13","tagName":"h3"},{"title":"Step4ÔºöÂêàÂπ∂‰øÆÊîπ‚Äã","type":1,"pageTitle":"Â¶Ç‰ΩïÂä†ÂÖ• Apache Fory‚Ñ¢ Á§æÂå∫","url":"/zh-CN/docs/0.13/community/how_to_join_community#step4ÂêàÂπ∂‰øÆÊîπ","content":" ÂàáÊç¢ÂõûËá™Â∑±ÁöÑÂºÄÂèëÂàÜÊîØ:  git checkout docs/add-java-demo   ÊääÊõ¥Êñ∞‰ª£Á†ÅÊèê‰∫§Âà∞Ëá™Â∑±ÁöÑÂàÜÊîØ‰∏≠:  git push origin docs/add-java-demo   ","version":"0.13","tagName":"h3"},{"title":"Step5ÔºöÊèê‰∫§ Pull Request‚Äã","type":1,"pageTitle":"Â¶Ç‰ΩïÂä†ÂÖ• Apache Fory‚Ñ¢ Á§æÂå∫","url":"/zh-CN/docs/0.13/community/how_to_join_community#step5Êèê‰∫§-pull-request","content":" ‰Ω†ÂèØ‰ª•Âú®‰Ω†ÁöÑ github ‰ª£Á†Å‰ªìÂ∫ìÈ°µÈù¢ÁÇπÂáª¬†Compare &amp; pull request¬†ÊåâÈíÆ„ÄÇÊàñÈÄöËøá¬†contribute¬†ÊåâÈíÆÂàõÂª∫„ÄÇ  Â°´ÂÜôËøôÊòØ‰ªÄ‰πàÁ±ªÂûãÁöÑ‰øÆÊîπÂ°´ÂÜôÂÖ≥ËÅîÁöÑ issueËã•ÊúâÂ§çÊùÇÂèòÊõ¥ÔºåËØ∑ËØ¥ÊòéËÉåÊôØÂíåËß£ÂÜ≥ÊñπÊ°à  Áõ∏ÂÖ≥‰ø°ÊÅØÂ°´ÂÜôÂÆåÊàêÂêéÔºåÁÇπÂáª Create pull request Êèê‰∫§„ÄÇ  ","version":"0.13","tagName":"h3"},{"title":"ËΩªÊùæÊ≠•ÂÖ• Apache Fory‚Ñ¢ ÂºÄÊ∫êË¥°ÁåÆ‰πãÊóÖ‚Äã","type":1,"pageTitle":"Â¶Ç‰ΩïÂä†ÂÖ• Apache Fory‚Ñ¢ Á§æÂå∫","url":"/zh-CN/docs/0.13/community/how_to_join_community#ËΩªÊùæÊ≠•ÂÖ•-apache-fory-ÂºÄÊ∫êË¥°ÁåÆ‰πãÊóÖ","content":" &quot;good first issue&quot; ÊòØ‰∏Ä‰∏™Âú®ÂºÄÊ∫êÁ§æÂå∫Â∏∏ËßÅÁöÑÊ†áÁ≠æÔºåËøô‰∏™Ê†áÁ≠æÁöÑÁõÆÁöÑÊòØÂ∏ÆÂä©Êñ∞Ë¥°ÁåÆËÄÖÊâæÂà∞ÈÄÇÂêàÂÖ•Èó®ÁöÑÈóÆÈ¢ò„ÄÇ  Apache Fory‚Ñ¢ ÁöÑÂÖ•Èó®ÈóÆÈ¢òÔºå‰Ω†ÂèØ‰ª•ÈÄöËøá¬†issue ÂàóË°®Êü•Áúã„ÄÇ  Â¶ÇÊûú‰Ω†ÂΩìÂâçÊúâÊó∂Èó¥ÂíåÊÑèÊÑøÂèÇ‰∏éÂà∞Á§æÂå∫Ë¥°ÁåÆÔºåÂèØ‰ª•Âú® issue ÈáåÁúã‰∏ÄÁúã¬†good first issueÔºåÈÄâÊã©‰∏Ä‰∏™ÊÑüÂÖ¥Ë∂£„ÄÅÈÄÇÂêàËá™Â∑±ÁöÑËÆ§È¢Ü„ÄÇ  ","version":"0.13","tagName":"h2"},{"title":"Êã•Êä± Apache Fory‚Ñ¢ Á§æÂå∫‚Äã","type":1,"pageTitle":"Â¶Ç‰ΩïÂä†ÂÖ• Apache Fory‚Ñ¢ Á§æÂå∫","url":"/zh-CN/docs/0.13/community/how_to_join_community#Êã•Êä±-apache-fory-Á§æÂå∫","content":" Âú®‰Ω†‰∏∫ Apache Fory‚Ñ¢ Ë¥°ÁåÆ‰ª£Á†Å‰πã‰ΩôÔºåÊàë‰ª¨ÈºìÂä±‰Ω†ÂèÇ‰∏éÂÖ∂‰ªñËÆ©Á§æÂå∫Êõ¥Âä†ÁπÅËç£ÁöÑ‰∫ãÊÉÖÔºåÊØîÂ¶ÇÔºö  ‰∏∫È°πÁõÆÁöÑÂèëÂ±ï„ÄÅÂäüËÉΩËßÑÂàí Á≠âÊèêÂª∫ËÆÆ„ÄÇÂàõ‰ΩúÊñáÁ´†„ÄÅËßÜÈ¢ëÔºåÂºÄÂäûËÆ≤Â∫ßÊù•ÂÆ£‰º† Apache Fory‚Ñ¢Êí∞ÂÜôÊé®ÂπøËÆ°ÂàíÔºåÂêåÂõ¢Èòü‰∏ÄÂêåÊâßË°å„ÄÇ ","version":"0.13","tagName":"h2"},{"title":"Apache Fory‚Ñ¢ ‰ΩøÁî®","type":0,"sectionRef":"#","url":"/zh-CN/docs/0.12/start/usage","content":"","keywords":"","version":"0.12"},{"title":"Java Â∫èÂàóÂåñ‚Äã","type":1,"pageTitle":"Apache Fory‚Ñ¢ ‰ΩøÁî®","url":"/zh-CN/docs/0.12/start/usage#java-Â∫èÂàóÂåñ","content":" import java.util.List; import java.util.Arrays; import io.fory.*; public class Example { public static void main(String[] args) { SomeClass object = new SomeClass(); // Note that Fory instances should be reused between // multiple serializations of different objects. Fory fory = Fory.builder().withLanguage(Language.JAVA) // Allow to deserialize objects unknown types, // more flexible but less secure. // .requireClassRegistration(false) .build(); // Registering types can reduce class name serialization overhead, but not mandatory. // If secure mode enabled, all custom types must be registered. fory.register(SomeClass.class); byte[] bytes = fory.serialize(object); System.out.println(fory.deserialize(bytes)); } }   ","version":"0.12","tagName":"h2"},{"title":"ScalaÂ∫èÂàóÂåñ‚Äã","type":1,"pageTitle":"Apache Fory‚Ñ¢ ‰ΩøÁî®","url":"/zh-CN/docs/0.12/start/usage#scalaÂ∫èÂàóÂåñ","content":" import org.apache.fory.Fory import org.apache.fory.serializer.scala.ScalaSerializers case class Person(name: String, id: Long, github: String) case class Point(x : Int, y : Int, z : Int) object ScalaExample { val fory: Fory = Fory.builder().withScalaOptimizationEnabled(true).build() // Register optimized fory serializers for scala ScalaSerializers.registerSerializers(fory) fory.register(classOf[Person]) fory.register(classOf[Point]) def main(args: Array[String]): Unit = { val p = Person(&quot;Shawn Yang&quot;, 1, &quot;https://github.com/chaokunyang&quot;) println(fory.deserialize(fory.serialize(p))) println(fory.deserialize(fory.serialize(Point(1, 2, 3)))) } } ## KotlinÂ∫èÂàóÂåñ ```kotlin import org.apache.fory.Fory import org.apache.fory.ThreadSafeFory import org.apache.fory.serializer.kotlin.KotlinSerializers data class Person(val name: String, val id: Long, val github: String) data class Point(val x : Int, val y : Int, val z : Int) fun main(args: Array&lt;String&gt;) { // Ê≥®ÊÑè: ‰∏ãÈù¢ÁöÑForyÂàùÂßãÂåñ‰ª£Á†ÅÂ∫îËØ•Âè™ÊâßË°å‰∏ÄÊ¨°ÔºåËÄå‰∏çÊòØÂú®ÊØèÊ¨°Â∫èÂàóÂåñÂâçÈÉΩËøêË°å val fory: ThreadSafeFory = Fory.builder().requireClassRegistration(true).buildThreadSafeFory() KotlinSerializers.registerSerializers(fory) fory.register(Person::class.java) fory.register(Point::class.java) val p = Person(&quot;Shawn Yang&quot;, 1, &quot;https://github.com/chaokunyang&quot;) println(fory.deserialize(fory.serialize(p))) println(fory.deserialize(fory.serialize(Point(1, 2, 3)))) }   ","version":"0.12","tagName":"h2"},{"title":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ‚Äã","type":1,"pageTitle":"Apache Fory‚Ñ¢ ‰ΩøÁî®","url":"/zh-CN/docs/0.12/start/usage#Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ","content":" ","version":"0.12","tagName":"h2"},{"title":"Java‚Äã","type":1,"pageTitle":"Apache Fory‚Ñ¢ ‰ΩøÁî®","url":"/zh-CN/docs/0.12/start/usage#java","content":" import com.google.common.collect.ImmutableMap; import io.fory.*; import java.util.Map; public class ReferenceExample { public static class SomeClass { SomeClass f1; Map&lt;String, String&gt; f2; Map&lt;String, String&gt; f3; } public static Object createObject() { SomeClass obj = new SomeClass(); obj.f1 = obj; obj.f2 = ImmutableMap.of(&quot;k1&quot;, &quot;v1&quot;, &quot;k2&quot;, &quot;v2&quot;); obj.f3 = obj.f2; return obj; } // mvn exec:java -Dexec.mainClass=&quot;io.fory.examples.ReferenceExample&quot; public static void main(String[] args) { Fory fory = Fory.builder().withLanguage(Language.XLANG) .withRefTracking(true).build(); fory.register(SomeClass.class, &quot;example.SomeClass&quot;); byte[] bytes = fory.serialize(createObject()); // bytes can be data serialized by other languages. System.out.println(fory.deserialize(bytes)); ; } }   ","version":"0.12","tagName":"h3"},{"title":"Python‚Äã","type":1,"pageTitle":"Apache Fory‚Ñ¢ ‰ΩøÁî®","url":"/zh-CN/docs/0.12/start/usage#python","content":" from typing import Dict import pyfory class SomeClass: f1: &quot;SomeClass&quot; f2: Dict[str, str] f3: Dict[str, str] fory = pyfory.Fory(ref_tracking=True) fory.register_class(SomeClass, &quot;example.SomeClass&quot;) obj = SomeClass() obj.f2 = {&quot;k1&quot;: &quot;v1&quot;, &quot;k2&quot;: &quot;v2&quot;} obj.f1, obj.f3 = obj, obj.f2 data = fory.serialize(obj) # bytes can be data serialized by other languages. print(fory.deserialize(data))   ","version":"0.12","tagName":"h3"},{"title":"Golangs‚Äã","type":1,"pageTitle":"Apache Fory‚Ñ¢ ‰ΩøÁî®","url":"/zh-CN/docs/0.12/start/usage#golangs","content":" package main import ( &quot;fmt&quot; forygo &quot;github.com/apache/fory/go/fory&quot; ) func main() { type SomeClass struct { F1 *SomeClass F2 map[string]string F3 map[string]string } fory := forygo.NewFory(true) if err := fory.RegisterTagType(&quot;example.SomeClass&quot;, SomeClass{}); err != nil { panic(err) } value := &amp;SomeClass{F2: map[string]string{&quot;k1&quot;: &quot;v1&quot;, &quot;k2&quot;: &quot;v2&quot;}} value.F3 = value.F2 value.F1 = value bytes, err := fory.Marshal(value) if err != nil { } var newValue interface{} // bytes can be data serialized by other languages. if err := fory.Unmarshal(bytes, &amp;newValue); err != nil { panic(err) } fmt.Println(newValue) }   ","version":"0.12","tagName":"h3"},{"title":"JavaScript‚Äã","type":1,"pageTitle":"Apache Fory‚Ñ¢ ‰ΩøÁî®","url":"/zh-CN/docs/0.12/start/usage#javascript","content":" import Fory, { Type } from &quot;@apache-fory/fory&quot;; /** * @apache-fory/hps use v8's fast-calls-api that can be called directly by jit, ensure that the version of Node is 20 or above. * Experimental feature, installation success cannot be guaranteed at this moment * If you are unable to install the module, replace it with `const hps = null;` **/ import hps from &quot;@apache-fory/hps&quot;; // Now we describe data structures using JSON, but in the future, we will use more ways. const description = Type.object(&quot;example.foo&quot;, { foo: Type.string(), }); const fory = new Fory({ hps }); const { serialize, deserialize } = fory.registerSerializer(description); const input = serialize({ foo: &quot;hello fory&quot; }); const result = deserialize(input); console.log(result);   ","version":"0.12","tagName":"h3"},{"title":"Rust‚Äã","type":1,"pageTitle":"Apache Fory‚Ñ¢ ‰ΩøÁî®","url":"/zh-CN/docs/0.12/start/usage#rust","content":" use fory::{from_buffer, to_buffer, Fory}; #[derive(Fory, Debug, PartialEq)] #[tag(&quot;example.foo&quot;)] struct Animal { name: String, category: String, } #[derive(Fory, Debug, PartialEq)] #[tag(&quot;example.bar&quot;)] struct Person { name: String, age: u32, pets: Vec&lt;Animal&gt;, } fn main() { let penson = Person { name: &quot;hello&quot;.to_string(), age: 12, pets: vec![ Animal { name: &quot;world1&quot;.to_string(), category: &quot;cat&quot;.to_string(), }, Animal { name: &quot;world2&quot;.to_string(), category: &quot;dog&quot;.to_string(), }, ], }; let bin = to_buffer(&amp;penson); let obj: Person = from_buffer(&amp;bin).expect(&quot;should success&quot;); assert_eq!(obj, penson); }  ","version":"0.12","tagName":"h3"},{"title":"Â¶Ç‰ΩïÈ™åËØÅ Apache Fory‚Ñ¢","type":0,"sectionRef":"#","url":"/zh-CN/docs/0.13/community/how_to_verify","content":"","keywords":"","version":"0.13"},{"title":"‰∏ãËΩΩ Apache Fory‚Ñ¢‚Äã","type":1,"pageTitle":"Â¶Ç‰ΩïÈ™åËØÅ Apache Fory‚Ñ¢","url":"/zh-CN/docs/0.13/community/how_to_verify#‰∏ãËΩΩ-apache-fory","content":" # If there is svn locally, you can clone to the local svn co https://dist.apache.org/repos/dist/dev/incubator/fory/${release_version}-${rc_version}/ # You can download the material file directly wget https://dist.apache.org/repos/dist/dev/incubator/fory/${release_version}-${rc_version}/xxx.xxx   ","version":"0.13","tagName":"h2"},{"title":"È™åËØÅ checksums Âíå signatures‚Äã","type":1,"pageTitle":"Â¶Ç‰ΩïÈ™åËØÅ Apache Fory‚Ñ¢","url":"/zh-CN/docs/0.13/community/how_to_verify#È™åËØÅ-checksums-Âíå-signatures","content":" È¶ñÂÖàÔºåÊÇ®ÈúÄË¶ÅÂÆâË£Ö gpgÔºö  apt-get install gnupg # or yum install gnupg # or brew install gnupg   ‰πãÂêéÔºåÂØºÂÖ• Apache Fory release manager ÁöÑÂÖ¨Èí•Ôºö  curl https://downloads.apache.org/incubator/fory/KEYS &gt; KEYS # Download KEYS gpg --import KEYS # Import KEYS to local # Then, trust the public key: gpg --edit-key &lt;KEY-used-in-this-version&gt; # Edit the key(mentioned in vote email) # It will enter the interactive mode, use the following command to trust the key: gpg (GnuPG) 2.0.22; Copyright (C) 2013 Free Software Foundation, Inc. This is free software: you are free to change and redistribute it. There is NO WARRANTY, to the extent permitted by law. pub 4096R/5E580BA4 created: 2024-03-27 expires: never usage: SC trust: unknown validity: unknown sub 4096R/A31EF728 created: 2024-03-27 expires: never usage: E [ unknown] (1). chaokunyang (CODE SIGNING KEY) &lt;chaokunyang@apache.org&gt; gpg&gt; trust pub 4096R/5E580BA4 created: 2024-03-27 expires: never usage: SC trust: unknown validity: unknown sub 4096R/A31EF728 created: 2024-03-27 expires: never usage: E [ unknown] (1). chaokunyang (CODE SIGNING KEY) &lt;chaokunyang@apache.org&gt; Please decide how far you trust this user to correctly verify other users' keys (by looking at passports, checking fingerprints from different sources, etc.) 1 = I don't know or won't say 2 = I do NOT trust 3 = I trust marginally 4 = I trust fully 5 = I trust ultimately m = back to the main menu Your decision? 5 Do you really want to set this key to ultimate trust? (y/N) y pub 4096R/5E580BA4 created: 2024-03-27 expires: never usage: SC trust: ultimate validity: unknown sub 4096R/A31EF728 created: 2024-03-27 expires: never usage: E [ unknown] (1). chaokunyang (CODE SIGNING KEY) &lt;chaokunyang@apache.org&gt; Please note that the shown key validity is not necessarily correct unless you restart the program.   Êé•‰∏ãÊù•È™åËØÅÁ≠æÂêçÔºö  for i in *.tar.gz; do echo $i; gpg --verify $i.asc $i; done   Â¶ÇÊûúÂá∫Áé∞Â¶Ç‰∏ãÂÜÖÂÆπÔºåÂàôË°®Á§∫Á≠æÂêçÊ≠£Á°ÆÔºö  apache-fory-0.5.0-src.tar.gz gpg: Signature made Wed 17 Apr 2024 11:49:45 PM CST using RSA key ID 5E580BA4 gpg: checking the trustdb gpg: 3 marginal(s) needed, 1 complete(s) needed, PGP trust model gpg: depth: 0 valid: 1 signed: 0 trust: 0-, 0q, 0n, 0m, 0f, 1u gpg: Good signature from &quot;chaokunyang (CODE SIGNING KEY) &lt;chaokunyang@apache.org&gt;&quot;   ÁÑ∂ÂêéÈ™åËØÅ checksumÔºö  for i in *.tar.gz; do echo $i; sha512sum --check $i.sha512; done   ÂÆÉÂ∫îËØ•ËæìÂá∫Â¶Ç‰∏ãÂÜÖÂÆπÔºö  apache-fory-0.12.0-src.tar.gz apache-fory-0.12.0-src.tar.gz: OK   ","version":"0.13","tagName":"h2"},{"title":"Ê£ÄÊü•Ê∫êÁ†ÅÂåÖ‰∏≠ÁöÑÊñá‰ª∂‚Äã","type":1,"pageTitle":"Â¶Ç‰ΩïÈ™åËØÅ Apache Fory‚Ñ¢","url":"/zh-CN/docs/0.13/community/how_to_verify#Ê£ÄÊü•Ê∫êÁ†ÅÂåÖ‰∏≠ÁöÑÊñá‰ª∂","content":" Ëß£ÂéãÁº© apache-fory-${release_version}-${rc_version}-src.tar.gz Âπ∂Ê£ÄÊü•‰ª•‰∏ãÂÜÖÂÆπÔºö  Ê≠§Â≠òÂÇ®Â∫ì LICENSE Âíå NOTICE Êñá‰ª∂ÊòØÊ≠£Á°ÆÁöÑÔºõÂ¶ÇÊúâÂøÖË¶ÅÔºåÊâÄÊúâÊñá‰ª∂ÈÉΩÊúâ ASF ËÆ∏ÂèØËØÅÊ†áÂ§¥ÔºõÈ°πÁõÆÊûÑÂª∫ÈÄöËøá„ÄÇ  ","version":"0.13","tagName":"h2"},{"title":"Ê£ÄÊü• fory-java ÁöÑ Maven artifacts‚Äã","type":1,"pageTitle":"Â¶Ç‰ΩïÈ™åËØÅ Apache Fory‚Ñ¢","url":"/zh-CN/docs/0.13/community/how_to_verify#Ê£ÄÊü•-fory-java-ÁöÑ-maven-artifacts","content":" ‰∏ãËΩΩ Apache Fory‚Ñ¢Ôºöhttps://repository.apache.org/content/repositories/orgapachefory-${maven_artifact_number}/.  ÊÇ®ÂèØ‰ª•Ê£ÄÊü•‰ª•‰∏ãÂÜÖÂÆπÔºö  JAR ÁöÑ Checksum ‰∏éÈ°πÁõÆÁªëÂÆöÁöÑ checksum Êñá‰ª∂‰∏ÄËá¥„ÄÇJAR ÁöÑ signature ‰∏éÈ°πÁõÆÁªëÂÆöÁöÑ signature Êñá‰ª∂‰∏ÄËá¥„ÄÇJAR Âú®Êú¨Âú∞ÊòØÂèØÈáçÂ§çÁöÑ„ÄÇËøôÊÑèÂë≥ÁùÄÊÇ®ÂèØ‰ª•Âú®ËÆ°ÁÆóÊú∫‰∏äÊûÑÂª∫ JARÔºåÂπ∂È™åËØÅ checksum Âíå‰∏éÈ°πÁõÆÁªëÂÆöÁöÑÁõ∏Âêå„ÄÇ ","version":"0.13","tagName":"h2"},{"title":"ÂºÄÂèëÊåáÂçó","type":0,"sectionRef":"#","url":"/zh-CN/docs/0.13/guide/development","content":"","keywords":"","version":"0.13"},{"title":"Êú¨Âú∞ÊûÑÂª∫ Apache Fory‚Ñ¢‚Äã","type":1,"pageTitle":"ÂºÄÂèëÊåáÂçó","url":"/zh-CN/docs/0.13/guide/development#Êú¨Âú∞ÊûÑÂª∫-apache-fory","content":" ‰ªé Github ‰ª£Á†ÅÂ∫ì ÊãâÂèñÊúÄÊñ∞‰ª£Á†Å„ÄÇ  ","version":"0.13","tagName":"h2"},{"title":"ÊûÑÂª∫ Apache Fory‚Ñ¢ Java‚Äã","type":1,"pageTitle":"ÂºÄÂèëÊåáÂçó","url":"/zh-CN/docs/0.13/guide/development#ÊûÑÂª∫-apache-fory-java","content":" cd java mvn clean compile -DskipTests   Êú¨Âú∞ÁéØÂ¢ÉË¶ÅÊ±Ç‚Äã  java 1.8+maven 3.6.3+  ","version":"0.13","tagName":"h3"},{"title":"ÊûÑÂª∫ Apache Fory‚Ñ¢ Python‚Äã","type":1,"pageTitle":"ÂºÄÂèëÊåáÂçó","url":"/zh-CN/docs/0.13/guide/development#ÊûÑÂª∫-apache-fory-python","content":" cd python pip install pyarrow==14.0.0 Cython wheel numpy pytest pip install -v -e .   Êú¨Âú∞ÁéØÂ¢ÉË¶ÅÊ±Ç‚Äã  python 3.6+  ","version":"0.13","tagName":"h3"},{"title":"ÊûÑÂª∫ Apache Fory‚Ñ¢ C++‚Äã","type":1,"pageTitle":"ÂºÄÂèëÊåáÂçó","url":"/zh-CN/docs/0.13/guide/development#ÊûÑÂª∫-apache-fory-c","content":" Build fory row formatÔºö  pip install pyarrow==14.0.0 bazel build //cpp/fory/row:fory_row_format   Build fory row format encoder:  pip install pyarrow==14.0.0 bazel build //cpp/fory/encoder:fory_encoder   Êú¨Âú∞ÁéØÂ¢ÉË¶ÅÊ±Ç‚Äã  compilers with C++17 supportbazel 6.3.2  ","version":"0.13","tagName":"h3"},{"title":"ÊûÑÂª∫ Apache Fory‚Ñ¢ GoLang‚Äã","type":1,"pageTitle":"ÂºÄÂèëÊåáÂçó","url":"/zh-CN/docs/0.13/guide/development#ÊûÑÂª∫-apache-fory-golang","content":" cd go/fory # run test go test -v # run xlang test go test -v fory_xlang_test.go   Êú¨Âú∞ÁéØÂ¢ÉË¶ÅÊ±Ç‚Äã  go 1.13+  ","version":"0.13","tagName":"h3"},{"title":"ÊûÑÂª∫ Apache Fory‚Ñ¢ Rust‚Äã","type":1,"pageTitle":"ÂºÄÂèëÊåáÂçó","url":"/zh-CN/docs/0.13/guide/development#ÊûÑÂª∫-apache-fory-rust","content":" cd rust # build cargo build # run test cargo test   Êú¨Âú∞ÁéØÂ¢ÉË¶ÅÊ±Ç‚Äã  curl --proto '=https' --tlsv1.2 -sSf https://sh.rustup.rs | sh   ","version":"0.13","tagName":"h3"},{"title":"ÊûÑÂª∫ Apache Fory‚Ñ¢ JavaScript‚Äã","type":1,"pageTitle":"ÂºÄÂèëÊåáÂçó","url":"/zh-CN/docs/0.13/guide/development#ÊûÑÂª∫-apache-fory-javascript","content":" cd javascript npm install # run build npm run build # run test npm run test   Êú¨Âú∞ÁéØÂ¢ÉË¶ÅÊ±Ç‚Äã  node 14+npm 8+ ","version":"0.13","tagName":"h3"},{"title":"GraalVM Â∫èÂàóÂåñ","type":0,"sectionRef":"#","url":"/zh-CN/docs/0.13/guide/graalvm_serialization","content":"","keywords":"","version":"0.13"},{"title":"GraalVM Native Image‚Äã","type":1,"pageTitle":"GraalVM Â∫èÂàóÂåñ","url":"/zh-CN/docs/0.13/guide/graalvm_serialization#graalvm-native-image","content":" GraalVM ÁöÑ native image ËÉΩÂ∞Ü Java ‰ª£Á†ÅÊèêÂâçÁºñËØë‰∏∫Êú¨Âú∞‰ª£Á†ÅÔºå‰ªéËÄåÊûÑÂª∫Êõ¥Âø´„ÄÅÊõ¥Â∞è„ÄÅÊõ¥Á≤æÁÆÄÁöÑÂ∫îÁî®„ÄÇ Native image ‰∏çÂåÖÂê´ JIT ÁºñËØëÂô®ÔºåÊó†Ê≥ïÂú®ËøêË°åÊó∂Â∞ÜÂ≠óËäÇÁ†ÅÁºñËØë‰∏∫Êú∫Âô®Á†ÅÔºå‰πü‰∏çÊîØÊåÅÂèçÂ∞ÑÔºåÈô§ÈùûÈÖçÁΩÆÂèçÂ∞ÑÂÖÉÊï∞ÊçÆÊñá‰ª∂„ÄÇ  Apache Fory‚Ñ¢ Âú® GraalVM native image ‰∏ãËøêË°åËâØÂ•Ω„ÄÇFory ‰ºöÂú® graalvm ÊûÑÂª∫Èò∂ÊÆµ‰∏∫ Fory JIT framework Âíå MethodHandle/LambdaMetafactory ÁîüÊàêÊâÄÊúâÂ∫èÂàóÂåñÂô®‰ª£Á†ÅÔºåËøêË°åÊó∂Áõ¥Êé•‰ΩøÁî®Ëøô‰∫õÁîüÊàêÁöÑ‰ª£Á†ÅËøõË°åÂ∫èÂàóÂåñÔºåÊó†ÈúÄÈ¢ùÂ§ñÂºÄÈîÄÔºåÊÄßËÉΩ‰ºòÂºÇ„ÄÇ  Âú® graalvm native image ‰∏ã‰ΩøÁî® Fory Êó∂ÔºåÂøÖÈ°ªÂ∞Ü Fory ÂàõÂª∫‰∏∫Á±ªÁöÑÈùôÊÄÅÂ≠óÊÆµÔºåÂπ∂Âú®Á±ªÂàùÂßãÂåñÊó∂Ê≥®ÂÜåÊâÄÊúâÁ±ªÂûã„ÄÇÁÑ∂ÂêéÂú® resources/META-INF/native-image/$xxx/native-image.properties ‰∏ãÈÖçÁΩÆ native-image.propertiesÔºåÂëäÁü• graalvm Âú® native image ÊûÑÂª∫Êó∂ÂàùÂßãÂåñËØ•Á±ª„ÄÇ‰æãÂ¶ÇÔºåÈÖçÁΩÆ org.apache.fory.graalvm.Example Á±ªÂú®ÊûÑÂª∫Êó∂ÂàùÂßãÂåñÔºö  Args = --initialize-at-build-time=org.apache.fory.graalvm.Example   ‰ΩøÁî® fory ÁöÑÂè¶‰∏Ä‰∏™Â•ΩÂ§ÑÊòØÊó†ÈúÄÈÖçÁΩÆÁπÅÁêêÁöÑ reflection json Âíå serialization json„ÄÇÂè™ÈúÄÂØπÊØè‰∏™ÈúÄË¶ÅÂ∫èÂàóÂåñÁöÑÁ±ªÂûãË∞ÉÁî® org.apache.fory.Fory.register(Class&lt;?&gt;, boolean) Âç≥ÂèØ„ÄÇ  Ê≥®ÊÑèÔºöFory ÁöÑ asyncCompilationEnabled ÈÄâÈ°πÂú® graalvm native image ‰∏ã‰ºöËá™Âä®Á¶ÅÁî®ÔºåÂõ†‰∏∫ native image ËøêË°åÊó∂‰∏çÊîØÊåÅ JIT„ÄÇ  ","version":"0.13","tagName":"h2"},{"title":"ÈùûÁ∫øÁ®ãÂÆâÂÖ® Fory‚Äã","type":1,"pageTitle":"GraalVM Â∫èÂàóÂåñ","url":"/zh-CN/docs/0.13/guide/graalvm_serialization#ÈùûÁ∫øÁ®ãÂÆâÂÖ®-fory","content":" Á§∫‰æãÔºö  import org.apache.fory.Fory; import org.apache.fory.util.Preconditions; import java.util.List; import java.util.Map; public class Example { public record Record ( int f1, String f2, List&lt;String&gt; f3, Map&lt;String, Long&gt; f4) { } static Fory fory; static { fory = Fory.builder().build(); // Ê≥®ÂÜåÂπ∂ÁîüÊàêÂ∫èÂàóÂåñÂô®‰ª£Á†Å„ÄÇ fory.register(Record.class, true); } public static void main(String[] args) { Record record = new Record(10, &quot;abc&quot;, List.of(&quot;str1&quot;, &quot;str2&quot;), Map.of(&quot;k1&quot;, 10L, &quot;k2&quot;, 20L)); System.out.println(record); byte[] bytes = fory.serialize(record); Object o = fory.deserialize(bytes); System.out.println(o); Preconditions.checkArgument(record.equals(o)); } }   ÁÑ∂ÂêéÂú® native-image.properties ÈÖçÁΩÆ‰∏≠Ê∑ªÂä† org.apache.fory.graalvm.Example ÁöÑÊûÑÂª∫Êó∂ÂàùÂßãÂåñÔºö  Args = --initialize-at-build-time=org.apache.fory.graalvm.Example   ","version":"0.13","tagName":"h2"},{"title":"Á∫øÁ®ãÂÆâÂÖ® Fory‚Äã","type":1,"pageTitle":"GraalVM Â∫èÂàóÂåñ","url":"/zh-CN/docs/0.13/guide/graalvm_serialization#Á∫øÁ®ãÂÆâÂÖ®-fory","content":" import org.apache.fory.Fory; import org.apache.fory.ThreadLocalFory; import org.apache.fory.ThreadSafeFory; import org.apache.fory.util.Preconditions; import java.util.List; import java.util.Map; public class ThreadSafeExample { public record Foo ( int f1, String f2, List&lt;String&gt; f3, Map&lt;String, Long&gt; f4) { } static ThreadSafeFory fory; static { fory = new ThreadLocalFory(classLoader -&gt; { Fory f = Fory.builder().build(); // Ê≥®ÂÜåÂπ∂ÁîüÊàêÂ∫èÂàóÂåñÂô®‰ª£Á†Å„ÄÇ f.register(Foo.class, true); return f; }); } public static void main(String[] args) { System.out.println(fory.deserialize(fory.serialize(&quot;abc&quot;))); System.out.println(fory.deserialize(fory.serialize(List.of(1,2,3)))); System.out.println(fory.deserialize(fory.serialize(Map.of(&quot;k1&quot;, 1, &quot;k2&quot;, 2)))); Foo foo = new Foo(10, &quot;abc&quot;, List.of(&quot;str1&quot;, &quot;str2&quot;), Map.of(&quot;k1&quot;, 10L, &quot;k2&quot;, 20L)); System.out.println(foo); byte[] bytes = fory.serialize(foo); Object o = fory.deserialize(bytes); System.out.println(o); } }   ÁÑ∂ÂêéÂú® native-image.properties ÈÖçÁΩÆ‰∏≠Ê∑ªÂä† org.apache.fory.graalvm.ThreadSafeExample ÁöÑÊûÑÂª∫Êó∂ÂàùÂßãÂåñÔºö  Args = --initialize-at-build-time=org.apache.fory.graalvm.ThreadSafeExample   ","version":"0.13","tagName":"h2"},{"title":"Ê°ÜÊû∂ÈõÜÊàê‚Äã","type":1,"pageTitle":"GraalVM Â∫èÂàóÂåñ","url":"/zh-CN/docs/0.13/guide/graalvm_serialization#Ê°ÜÊû∂ÈõÜÊàê","content":" ÂØπ‰∫éÊ°ÜÊû∂ÂºÄÂèëËÄÖÔºåÂ¶ÇÊûúÂ∏åÊúõÈõÜÊàê fory ‰Ωú‰∏∫Â∫èÂàóÂåñÊñπÊ°àÔºåÂèØ‰ª•Êèê‰æõ‰∏Ä‰∏™ÈÖçÁΩÆÊñá‰ª∂ÔºåËÆ©Áî®Êà∑ÂàóÂá∫ÊâÄÊúâÈúÄË¶ÅÂ∫èÂàóÂåñÁöÑÁ±ªÔºåÁÑ∂ÂêéÂä†ËΩΩËøô‰∫õÁ±ªÂπ∂Âú® Fory ÈõÜÊàêÁ±ª‰∏≠Ë∞ÉÁî® org.apache.fory.Fory.register(Class&lt;?&gt;, boolean) ËøõË°åÊ≥®ÂÜåÔºåÂπ∂ÈÖçÁΩÆËØ•Á±ªÂú® graalvm native image ÊûÑÂª∫Êó∂ÂàùÂßãÂåñ„ÄÇ  ","version":"0.13","tagName":"h2"},{"title":"Benchmark‚Äã","type":1,"pageTitle":"GraalVM Â∫èÂàóÂåñ","url":"/zh-CN/docs/0.13/guide/graalvm_serialization#benchmark","content":" ËøôÈáåÁªôÂá∫ Fory ‰∏é Graalvm Serialization ÁöÑ‰∏§‰∏™Á±ªÁöÑÂü∫ÂáÜÊµãËØï„ÄÇ  Fory Êú™ÂºÄÂêØÂéãÁº©Êó∂Ôºö  StructÔºöFory ‰∏∫ JDK ÁöÑ 46x ÈÄüÂ∫¶Ôºå43% Â§ßÂ∞èPojoÔºöFory ‰∏∫ JDK ÁöÑ 12x ÈÄüÂ∫¶Ôºå56% Â§ßÂ∞è  Fory ÂºÄÂêØÂéãÁº©Êó∂Ôºö  StructÔºöFory ‰∏∫ JDK ÁöÑ 24x ÈÄüÂ∫¶Ôºå31% Â§ßÂ∞èPojoÔºöFory ‰∏∫ JDK ÁöÑ 12x ÈÄüÂ∫¶Ôºå48% Â§ßÂ∞è  Âü∫ÂáÜÊµãËØï‰ª£Á†ÅËßÅ [Benchmark.java]„ÄÇ  ","version":"0.13","tagName":"h2"},{"title":"Struct Âü∫ÂáÜÊµãËØï‚Äã","type":1,"pageTitle":"GraalVM Â∫èÂàóÂåñ","url":"/zh-CN/docs/0.13/guide/graalvm_serialization#struct-Âü∫ÂáÜÊµãËØï","content":" Á±ªÂ≠óÊÆµ‚Äã  public class Struct implements Serializable { public int f1; public long f2; public float f3; public double f4; public int f5; public long f6; public float f7; public double f8; public int f9; public long f10; public float f11; public double f12; }   Benchmark ÁªìÊûú‚Äã  Êú™ÂéãÁº©Ôºö  Benchmark repeat number: 400000 Object type: class org.apache.fory.graalvm.Struct Compress number: false Fory size: 76.0 JDK size: 178.0 Fory serialization took mills: 49 JDK serialization took mills: 2254 Compare speed: Fory is 45.70x speed of JDK Compare size: Fory is 0.43x size of JDK   ÂéãÁº©Ôºö  Benchmark repeat number: 400000 Object type: class org.apache.fory.graalvm.Struct Compress number: true Fory size: 55.0 JDK size: 178.0 Fory serialization took mills: 130 JDK serialization took mills: 3161 Compare speed: Fory is 24.16x speed of JDK Compare size: Fory is 0.31x size of JDK   ","version":"0.13","tagName":"h3"},{"title":"Pojo Âü∫ÂáÜÊµãËØï‚Äã","type":1,"pageTitle":"GraalVM Â∫èÂàóÂåñ","url":"/zh-CN/docs/0.13/guide/graalvm_serialization#pojo-Âü∫ÂáÜÊµãËØï","content":" Á±ªÂ≠óÊÆµ‚Äã  public class Foo implements Serializable { int f1; String f2; List&lt;String&gt; f3; Map&lt;String, Long&gt; f4; }   Benchmark ÁªìÊûú‚Äã  Êú™ÂéãÁº©Ôºö  Benchmark repeat number: 400000 Object type: class org.apache.fory.graalvm.Foo Compress number: false Fory size: 541.0 JDK size: 964.0 Fory serialization took mills: 1663 JDK serialization took mills: 16266 Compare speed: Fory is 12.19x speed of JDK Compare size: Fory is 0.56x size of JDK   ÂéãÁº©Ôºö  Benchmark repeat number: 400000 Object type: class org.apache.fory.graalvm.Foo Compress number: true Fory size: 459.0 JDK size: 964.0 Fory serialization took mills: 1289 JDK serialization took mills: 15069 Compare speed: Fory is 12.11x speed of JDK Compare size: Fory is 0.48x size of JDK  ","version":"0.13","tagName":"h3"},{"title":"Â¶Ç‰ΩïÂèëÂ∏É","type":0,"sectionRef":"#","url":"/zh-CN/docs/0.13/community/how_to_release","content":"","keywords":"","version":"0.13"},{"title":"‰ªãÁªç‚Äã","type":1,"pageTitle":"Â¶Ç‰ΩïÂèëÂ∏É","url":"/zh-CN/docs/0.13/community/how_to_release#‰ªãÁªç","content":" Ê∫ê‰ª£Á†ÅÂèëÂ∏ÉÊòØ Apache ÊúÄÈáçËßÜ‰ª•ÂèäÊúÄÈáçË¶ÅÁöÑÈÉ®ÂàÜ„ÄÇ  ËØ∑Ê≥®ÊÑèËÆ∏ÂèØËØÅÂíåÂèëÂ∏ÉÁöÑËΩØ‰ª∂Á≠æÂêçÈóÆÈ¢ò„ÄÇÂèëÂ∏ÉËΩØ‰ª∂ÊòØ‰∏Ä‰ª∂‰∏•ËÇÉÁöÑ‰∫ãÊÉÖÔºåÂπ∂‰ºö‰∫ßÁîüÁõ∏Â∫îÁöÑÊ≥ïÂæãÂêéÊûú„ÄÇ  ","version":"0.13","tagName":"h2"},{"title":"release manager Á¨¨‰∏ÄÊ¨°ÂèëÂ∏É‚Äã","type":1,"pageTitle":"Â¶Ç‰ΩïÂèëÂ∏É","url":"/zh-CN/docs/0.13/community/how_to_release#release-manager-Á¨¨‰∏ÄÊ¨°ÂèëÂ∏É","content":" ","version":"0.13","tagName":"h2"},{"title":"ÁéØÂ¢ÉË¶ÅÊ±Ç‚Äã","type":1,"pageTitle":"Â¶Ç‰ΩïÂèëÂ∏É","url":"/zh-CN/docs/0.13/community/how_to_release#ÁéØÂ¢ÉË¶ÅÊ±Ç","content":" Ê≠§ÂèëÂ∏ÉËøáÁ®ãÂú® Ubuntu Á≥ªÁªü‰∏≠ËøêË°åÔºåÈúÄË¶Å‰ª•‰∏ãÂá†‰∏™ÁéØÂ¢É‰æùËµñÔºö  JDK 1.8+Apache Maven 3.x+Python 3.8GnuPG 2.xGitSVNÔºàApache Âü∫Èáë‰ºö‰ΩøÁî® svn Êù•ÊâòÁÆ°È°πÁõÆÂèëÂ∏ÉÔºâËÆæÁΩÆÁéØÂ¢ÉÂèòÈáèÔºöÂ¶ÇÊûúÊÇ®Âú®‰∏çÂêåÁöÑÁõÆÂΩï‰∏ãÈÖçÁΩÆ‰∫Ü gpg ÂØÜÈí•ÔºåËØ∑ÊâßË°å export GNUPGHOME=$(xxx) ÂØºÂá∫ÁéØÂ¢ÉÂèòÈáè„ÄÇ  ","version":"0.13","tagName":"h3"},{"title":"ÂáÜÂ§á GPG ÂØÜÈí•‚Äã","type":1,"pageTitle":"Â¶Ç‰ΩïÂèëÂ∏É","url":"/zh-CN/docs/0.13/community/how_to_release#ÂáÜÂ§á-gpg-ÂØÜÈí•","content":" Â¶ÇÊûúÊÇ®ÊòØÁ¨¨‰∏ÄÊ¨°‰Ωú‰∏∫ËΩØ‰ª∂ÂèëÂ∏ÉËÄÖÔºåÊÇ®ÈúÄË¶ÅÂáÜÂ§á‰∏Ä‰∏™ GPG ÂØÜÈí•„ÄÇ  ÊÇ®ÂèØ‰ª•ÂèÇËÄÉËøôÈáåÁöÑÂø´ÈÄüÂºÄÂßãËé∑Âèñ‰∏Ä‰∏™ GPG ÂØÜÈí•ÊàñËÄÖËé∑ÂèñÊõ¥Â§öÁõ∏ÂÖ≥‰ø°ÊÅØ„ÄÇ  ÂÆâË£Ö GPG‚Äã  sudo apt install gnupg2   ÁîüÊàê GPG ÂØÜÈí•‚Äã  ËØ∑‰ΩøÁî®ÊÇ®ÁöÑ Apache ÂêçÂ≠óÂíåÁîµÂ≠êÈÇÆ‰ª∂Âú∞ÂùÄÁîüÊàê GPG ÂØÜÈí•Ôºö  $ gpg --full-gen-key gpg (GnuPG) 2.2.20; Copyright (C) 2020 Free Software Foundation, Inc. This is free software: you are free to change and redistribute it. There is NO WARRANTY, to the extent permitted by law. Please select what kind of key you want: (1) RSA and RSA (default) (2) DSA and Elgamal (3) DSA (sign only) (4) RSA (sign only) (14) Existing key from card Your selection? 1 # input 1 RSA keys may be between 1024 and 4096 bits long. What keysize do you want? (2048) 4096 # input 4096 Requested keysize is 4096 bits Please specify how long the key should be valid. 0 = key does not expire &lt;n&gt; = key expires in n days &lt;n&gt;w = key expires in n weeks &lt;n&gt;m = key expires in n months &lt;n&gt;y = key expires in n years Key is valid for? (0) 0 # input 0 Key does not expire at all Is this correct? (y/N) y # input y GnuPG needs to construct a user ID to identify your key. Real name: Chaokun Yang # input your name Email address: chaokunyang@apache.org # input your email Comment: CODE SIGNING KEY # input some annotations, optional You selected this USER-ID: &quot;Chaokun &lt;chaokunyang@apache.org&gt;&quot; Change (N)ame, (C)omment, (E)mail or (O)kay/(Q)uit? O # input O We need to generate a lot of random bytes. It is a good idea to perform some other action (type on the keyboard, move the mouse, utilize the disks) during the prime generation; this gives the random number generator a better chance to gain enough entropy. We need to generate a lot of random bytes. It is a good idea to perform some other action (type on the keyboard, move the mouse, utilize the disks) during the prime generation; this gives the random number generator a better chance to gain enough entropy. # Input the security key ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îÇ Please enter this passphrase ‚îÇ ‚îÇ ‚îÇ ‚îÇ Passphrase: _______________________________ ‚îÇ ‚îÇ ‚îÇ ‚îÇ &lt;OK&gt; &lt;Cancel&gt; ‚îÇ ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò # key generation will be done after your inputting the key with the following output gpg: key E49B00F626B marked as ultimately trusted gpg: revocation certificate stored as '/Users/chaokunyang/.gnupg/openpgp-revocs.d/1E2CDAE4C08AD7D694D1CB139D7BE8E45E580BA4.rev' public and secret key created and signed. pub rsa4096 2022-07-12 [SC] 1E2CDAE4C08AD7D694D1CB139D7BE8E45E580BA4 uid [ultimate] Chaokun &lt;chaokunyang@apache.org&gt; sub rsa4096 2022-07-12 [E]   ‰∏ä‰º†ÂÖ¨Èí•Ëá≥ GPG ÂØÜÈí•ÊúçÂä°Âô®‚Äã  È¶ñÂÖàÔºåÂàóÂá∫ÊÇ®ÊâÄÂàõÂª∫ÁöÑ GPG ÂØÜÈí•Ôºö  gpg --list-keys   ÊâßË°åÁõ∏ÂÖ≥ÂëΩ‰ª§‰πãÂêéÔºåÊÇ®Â∞ÜÁúãÂà∞Â¶Ç‰∏ãËæìÂá∫Ôºö  -------------------------------------------------- pub rsa4096 2024-03-27 [SC] 1E2CDAE4C08AD7D694D1CB139D7BE8E45E580BA4 uid [ultimate] chaokunyang (CODE SIGNING KEY) &lt;chaokunyang@apache.org&gt; sub rsa4096 2024-03-27 [E]   ÁÑ∂ÂêéÔºåÂ∞ÜÊÇ®ÁöÑÂØÜÈí• ID ÂèëÈÄÅÂà∞ÂØÜÈí•ÊúçÂä°Âô®Ôºö  gpg --keyserver keys.openpgp.org --send-key &lt;key-id&gt; # e.g., 1E2CDAE4C08AD7D694D1CB139D7BE8E45E580BA4   ÂÖ∂‰∏≠Ôºåkeys.openpgp.org ÊòØ‰∏Ä‰∏™ÈöèÊú∫ÈÄâÊã©ÁöÑÂØÜÈí•ÊúçÂä°Âô®ÔºåÂèØ‰ª•‰ΩøÁî® keyserver.ubuntu.com Êàñ‰ªª‰ΩïÂÖ∂‰ªñÂäüËÉΩÂÆåÂ§áÁöÑÂØÜÈí•ÊúçÂä°Âô®„ÄÇ  Ê£ÄÊü•ÂØÜÈí•ÊòØÂê¶ÂàõÂª∫ÊàêÂäü‚Äã  ‰∏ä‰º†Â§ßÁ∫¶ÈúÄË¶Å‰∏ÄÂàÜÈíüÔºõ‰πãÂêéÔºåÊÇ®ÂèØ‰ª•ÈÄöËøáÁîµÂ≠êÈÇÆ‰ª∂Âú®Áõ∏Â∫îÁöÑÂØÜÈí•ÊúçÂä°Âô®‰∏äÊ£ÄÊü•„ÄÇ  Â∞ÜÂØÜÈí•‰∏ä‰º†Âà∞ÂØÜÈí•ÊúçÂä°Âô®ÁöÑ‰∏ªË¶ÅÁõÆÁöÑÊòØ‰∏∫‰∫ÜÂä†ÂÖ•‰∏Ä‰∏™ÂèØ‰ø°ÁöÑ‰ø°‰ªªÁΩëÁªú„ÄÇ  Â∞Ü GPG ÂÖ¨Èí•Ê∑ªÂä†Âà∞È°πÁõÆ KEYS Êñá‰ª∂‰∏≠‚Äã  ÂèëÂ∏ÉÂàÜÊîØÁöÑ svn ‰ªìÂ∫ìÊòØÔºöhttps://dist.apache.org/repos/dist/release/fory  ËØ∑Âú®ÂèëÂ∏ÉÂàÜÊîØÁöÑ KEYS ‰∏≠Ê∑ªÂä†ÂÖ¨Èí•Ôºö  svn co https://dist.apache.org/repos/dist/release/fory fory-dist # As this step will copy all the versions, it will take some time. If the network is broken, please use svn cleanup to delete the lock before re-execute it. cd fory-dist (gpg --list-sigs YOUR_NAME@apache.org &amp;&amp; gpg --export --armor YOUR_NAME@apache.org) &gt;&gt; KEYS # Append your key to the KEYS file svn add . # It is not needed if the KEYS document exists before. svn ci -m &quot;add gpg key for YOUR_NAME&quot; # Later on, if you are asked to enter a username and password, just use your apache username and password.   Â∞Ü GPG ÂÖ¨Èí•‰∏ä‰º†Âà∞ÊÇ®ÁöÑ GitHub Â∏êÊà∑‚Äã  ËæìÂÖ• https://github.com/settings/keys ‰ª•Ê∑ªÂä†ÊÇ®ÁöÑ GPG ÂØÜÈí•„ÄÇÂ¶ÇÊûúÊ∑ªÂä†ÂêéÂèëÁé∞‚ÄúÊú™È™åËØÅ‚ÄùÂ≠óÊ†∑ÔºåËØ∑Â∞Ü GPG ÂØÜÈí•‰∏≠‰ΩøÁî®ÁöÑÁîµÂ≠êÈÇÆ‰ª∂Âú∞ÂùÄÁªëÂÆöÂà∞ÊÇ®ÁöÑ GitHub Â∏êÊà∑Ôºàhttps://github.com/settings/emailsÔºâ„ÄÇ  ","version":"0.13","tagName":"h3"},{"title":"Âª∂‰º∏ÈòÖËØª‚Äã","type":1,"pageTitle":"Â¶Ç‰ΩïÂèëÂ∏É","url":"/zh-CN/docs/0.13/community/how_to_release#Âª∂‰º∏ÈòÖËØª","content":" Âª∫ËÆÆÊÇ®Âú®ÂèëÂ∏É‰πãÂâçÈòÖËØª‰ª•‰∏ãÊñáÊ°£Ôºå‰∫ÜËß£ÊúâÂÖ≥ Apache Âü∫Èáë‰ºöÂèëÂ∏ÉËΩØ‰ª∂ÁöÑÊõ¥Â§öËØ¶ÁªÜ‰ø°ÊÅØÔºå‰ΩÜËøô‰∏çÊòØÂøÖÈ°ªÁöÑÔºö  ÂèëÂ∏ÉÊîøÁ≠ñÔºöhttps://www.apache.org/legal/release-policy.htmlTLP ÁâàÊú¨Ôºöhttps://infra.apache.org/release-distributionÂèëÂ∏ÉÊ†áÂøóÔºöhttps://infra.apache.org/release-signing.htmlÂèëÂ∏ÉÂèëÂ∏ÉÔºöhttps://infra.apache.org/release-publishing.htmlÂèëÂ∏É‰∏ãËΩΩÈ°µÈù¢Ôºöhttps://infra.apache.org/release-download-pages.htmlÂèëÂ∏É maven artifactsÔºöhttps://infra.apache.org/publishing-maven-artifacts.html  ","version":"0.13","tagName":"h3"},{"title":"ÂºÄÂßãÊúâÂÖ≥ÂèëÂ∏ÉÁöÑËÆ®ËÆ∫‚Äã","type":1,"pageTitle":"Â¶Ç‰ΩïÂèëÂ∏É","url":"/zh-CN/docs/0.13/community/how_to_release#ÂºÄÂßãÊúâÂÖ≥ÂèëÂ∏ÉÁöÑËÆ®ËÆ∫","content":" ÈÄöËøáÂèëÈÄÅÁîµÂ≠êÈÇÆ‰ª∂Ëá≥‰ª•‰∏ãÂú∞ÂùÄÂèëËµ∑ÊúâÂÖ≥‰∏ã‰∏Ä‰∏™ÁâàÊú¨ÁöÑËÆ®ËÆ∫Ôºödev@fory.apache.orgÔºö  Ê†áÈ¢òÔºö  [DISCUSS] Release Apache Fory ${release_version}   ÂÜÖÂÆπÔºö  Hello, Apache Fory Community, This is a call for a discussion to release Apache Fory version ${release_version}. The change lists about this release: https://github.com/apache/fory/compare/v0.11.2...v0.12.0 Please leave your comments here about this release plan. We will bump the version in repo and start the release process after the discussion. Thanks, ${name}   ","version":"0.13","tagName":"h2"},{"title":"ÂáÜÂ§áÂèëÂ∏É‚Äã","type":1,"pageTitle":"Â¶Ç‰ΩïÂèëÂ∏É","url":"/zh-CN/docs/0.13/community/how_to_release#ÂáÜÂ§áÂèëÂ∏É","content":" Â¶ÇÊûúËÆ®ËÆ∫ÁªìÊûú‰∏≠Ê≤°ÊúâÂá∫Áé∞ÂèçÂØπÂ£∞Èü≥ÔºåÊÇ®ÈúÄË¶ÅÂÅö‰∏Ä‰∫õÂèëÂ∏ÉÁâàÊú¨ÁöÑÂáÜÂ§áÂ∑•‰Ωú„ÄÇ  ","version":"0.13","tagName":"h2"},{"title":"Github ÂàÜÊîØÂíåÊ†áÁ≠æ‚Äã","type":1,"pageTitle":"Â¶Ç‰ΩïÂèëÂ∏É","url":"/zh-CN/docs/0.13/community/how_to_release#github-ÂàÜÊîØÂíåÊ†áÁ≠æ","content":" ÂàõÂª∫‰∏Ä‰∏™Âêç‰∏∫ releases-0.12.0ÈÄöËøáÊâßË°åÂëΩ‰ª§Â∞ÜÁâàÊú¨ $version ÂçáÁ∫ßÂà∞ python ci/release.py bump_version -l all -version $versionÊâßË°å git commit Âπ∂Â∞ÜÂàÜÊîØÊé®ÈÄÅÂà∞ git@github.com:apache/fory.gitÈÄöËøá git tag v0.12.0-rc1 ÂàõÂª∫‰∏Ä‰∏™Êñ∞Ê†áÁ≠æÔºåÁÑ∂ÂêéÂ∞ÜÂÖ∂Êé®ÈÄÅÂà∞ git@github.com:apache/fory.git  ","version":"0.13","tagName":"h3"},{"title":"ÊûÑÂª∫ artifacts Âπ∂‰∏ä‰º†Âà∞ SVN dist/dev ‰ªìÂ∫ì‚Äã","type":1,"pageTitle":"Â¶Ç‰ΩïÂèëÂ∏É","url":"/zh-CN/docs/0.13/community/how_to_release#ÊûÑÂª∫-artifacts-Âπ∂‰∏ä‰º†Âà∞-svn-distdev-‰ªìÂ∫ì","content":" È¶ñÂÖàÔºåÊÇ®ÈúÄË¶ÅÈÄöËøá python ci/release.py build -v $version ÊûÑÂª∫È¢ÑÂèëÂ∏É artifacts„ÄÇ  ÁÑ∂ÂêéÊÇ®ÈúÄË¶ÅÊääÂÆÉ‰∏ä‰º†Âà∞ svn dist repo„ÄÇdev ÂàÜÊîØÁöÑ dist ‰ªìÂ∫ìÂú∞ÂùÄÊòØÔºöhttps://dist.apache.org/repos/dist/dev/fory  # As this step will copy all the versions, it will take some time. If the network is broken, please use svn cleanup to delete the lock before re-execute it. svn co https://dist.apache.org/repos/dist/dev/fory fory-dist-dev   ÁÑ∂ÂêéÔºå‰∏ä‰º†È°πÁõÆÔºö  cd fory-dist-dev # create a directory named by version mkdir ${release_version}-${rc_version} # copy source code and signature package to the versioned directory cp ${repo_dir}/dist/* ${release_version}-${rc_version} # check svn status svn status # add to svn svn add ${release_version}-${rc_version} # check svn status svn status # commit to SVN remote server svn commit -m &quot;Prepare for fory ${release_version}-${rc_version}&quot;   ËÆøÈóÆ https://dist.apache.org/repos/dist/dev/fory/ ‰ª•Ê£ÄÊü• artifacts ÊòØÂê¶Ê≠£Á°Æ‰∏ä‰º†„ÄÇ  ","version":"0.13","tagName":"h3"},{"title":"Â¶ÇÊûúÂá∫Áé∞ÈóÆÈ¢òËØ•ÊÄé‰πàÂäû‚Äã","type":1,"pageTitle":"Â¶Ç‰ΩïÂèëÂ∏É","url":"/zh-CN/docs/0.13/community/how_to_release#Â¶ÇÊûúÂá∫Áé∞ÈóÆÈ¢òËØ•ÊÄé‰πàÂäû","content":" Â¶ÇÊûúÊüê‰∫õÊñá‰ª∂ÊòØÊÑèÂ§ñÂá∫Áé∞ÊàñËÄÖÂèëÁîüÊüê‰∫õÈîôËØØÔºåÂàôÈúÄË¶ÅÂà†Èô§Áõ∏ÂÖ≥ÂÜÖÂÆπÂπ∂ÊâßË°å svn deleteÔºåÁÑ∂ÂêéÈáçÂ§ç‰∏äËø∞‰∏ä‰º†ËøáÁ®ã„ÄÇ  ","version":"0.13","tagName":"h3"},{"title":"ÊäïÁ•®‚Äã","type":1,"pageTitle":"Â¶Ç‰ΩïÂèëÂ∏É","url":"/zh-CN/docs/0.13/community/how_to_release#ÊäïÁ•®","content":" Êñ∞ÁâàÊú¨ÂèëÂ∏ÉÈúÄË¶Å Apache Fory Á§æÂå∫ÁöÑÊäïÁ•®„ÄÇ  release_versionÔºöFory ÁöÑÁâàÊú¨ÔºåÂ¶Ç 0.12.0„ÄÇrelease_candidate_versionÔºöÊäïÁ•®ÁöÑÁâàÊú¨ÔºåÂ¶Ç 0.12.0-rc1„ÄÇmaven_artifact_numberÔºöMaven ÊöÇÂ≠ò artifacts ÁöÑÊï∞Èáè„ÄÇÂ¶Ç 1001. ÂÖ∑‰ΩìÊù•ËØ¥ÔºåÂèØ‰ª•ÈÄöËøáÊêúÁ¥¢ ‚Äúfory‚Äù Êù•ÊâæÂà∞ maven_artifact_number https://repository.apache.org/#stagingRepositories.  ","version":"0.13","tagName":"h2"},{"title":"Fory Á§æÂå∫ÊäïÁ•®‚Äã","type":1,"pageTitle":"Â¶Ç‰ΩïÂèëÂ∏É","url":"/zh-CN/docs/0.13/community/how_to_release#fory-Á§æÂå∫ÊäïÁ•®","content":" ÂèëÈÄÅÁîµÂ≠êÈÇÆ‰ª∂Ëá≥ Fory CommunityÔºödev@fory.apache.orgÔºö  Ê†áÈ¢òÔºö  [VOTE] Release Apache Fory v${release_version}-${rc_version}   ÂÜÖÂÆπÔºö  Hello, Apache Fory Community: This is a call for vote to release Apache Fory version release-0.12.0-rc1. Apache Fory - A blazingly fast multi-language serialization framework powered by JIT and zero-copy. The change lists about this release: https://github.com/apache/fory/compare/v0.12.0...v0.12.0-rc1 The release candidates: https://dist.apache.org/repos/dist/dev/fory/0.12.0-rc1/ The maven staging for this release: https://repository.apache.org/content/repositories/orgapachefory-1003 Git tag for the release: https://github.com/apache/fory/releases/tag/v0.12.0-rc1 Git commit for the release: https://github.com/apache/fory/commit/fae06330edd049bb960536e978a45b97bca66faf The artifacts signed with PGP key [5E580BA4], corresponding to [chaokunyang@apache.org], that can be found in keys file: https://downloads.apache.org/fory/KEYS The vote will be open for at least 72 hours until the necessary number of votes are reached. Please vote accordingly: [ ] +1 approve [ ] +0 no opinion [ ] -1 disapprove with the reason To learn more about Fory, please see https://fory.apache.org/ *Valid check is a requirement for a vote. *Checklist for reference: [ ] Download Fory is valid. [ ] Checksums and PGP signatures are valid. [ ] Source code distributions have correct names matching the current release. [ ] LICENSE and NOTICE files are correct. [ ] All files have license headers if necessary. [ ] No compiled archives bundled in source archive. [ ] Can compile from source. How to Build and Test, please refer to: https://github.com/apache/fory/blob/main/docs/guide/DEVELOPMENT.md Thanks, Chaokun Yang   Âú®Ëá≥Â∞ëËé∑Âæó 3 + 1 ‰∏îÂÖ∑ÊúâÁ∫¶ÊùüÂäõÁöÑÊäïÁ•®ÔºàÊù•Ëá™ Fory Podling PMC ÊàêÂëòÂíåÊèê‰∫§ËÄÖÔºâÂπ∂Ê≤°ÊúâÊî∂Âà∞Âê¶ÂÜ≥Á•®‰πãÂêéÔºåÂèëÂ∏ÉÊäïÁ•®ÁªìÊûúÔºö  Ê†áÈ¢òÔºö  [RESULT][VOTE] Release Apache Fory v${release_version}-${rc_version}   ÂÜÖÂÆπÔºö  Hello, Apache Fory Community, The vote to release Apache Fory v${release_version}-${rc_version} has passed. The vote PASSED with 3 binding +1 and 0 -1 vote: Binding votes: - xxx - yyy - zzz Vote thread: ${vote_thread_url} Thanks, ${name}   ","version":"0.13","tagName":"h3"},{"title":"Â¶ÇÊûúÊäïÁ•®Â§±Ë¥•ÊÄé‰πàÂäû‚Äã","type":1,"pageTitle":"Â¶Ç‰ΩïÂèëÂ∏É","url":"/zh-CN/docs/0.13/community/how_to_release#Â¶ÇÊûúÊäïÁ•®Â§±Ë¥•ÊÄé‰πàÂäû","content":" Â¶ÇÊûúÊäïÁ•®Â§±Ë¥•ÔºåËØ∑ÂçïÂáª‚ÄúÂà†Èô§‚Äù‰ª•Âà†Èô§ÊöÇÂ≠òÁöÑ Maven artifacts„ÄÇ  Ëß£ÂÜ≥ÊèêÂá∫ÁöÑÈóÆÈ¢òÔºåÁÑ∂ÂêéÂÜçÊ¨°ÊèêÂá∫ rc_version ÁöÑÊñ∞ÊäïÁ•®„ÄÇ  ","version":"0.13","tagName":"h3"},{"title":"ÂÆòÊñπÂèëÂ∏É‚Äã","type":1,"pageTitle":"Â¶Ç‰ΩïÂèëÂ∏É","url":"/zh-CN/docs/0.13/community/how_to_release#ÂÆòÊñπÂèëÂ∏É","content":" ","version":"0.13","tagName":"h2"},{"title":"Â∞Ü artifacts ÂèëÂ∏ÉÂà∞ SVN ÂèëÂ∏ÉÁõÆÂΩï‚Äã","type":1,"pageTitle":"Â¶Ç‰ΩïÂèëÂ∏É","url":"/zh-CN/docs/0.13/community/how_to_release#Â∞Ü-artifacts-ÂèëÂ∏ÉÂà∞-svn-ÂèëÂ∏ÉÁõÆÂΩï","content":" release_versionÔºöFory ÁöÑÂèëÂ∏ÉÁâàÊú¨ÔºåÂ¶Ç 0.12.0release_candidate_versionÔºöÊäïÁ•®ÁâàÊú¨ÔºåÂ¶Ç 0.12.0-rc1  svn mv https://dist.apache.org/repos/dist/dev/fory/${release_version}-${rc_version} https://dist.apache.org/repos/dist/release/fory/${release_version} -m &quot;Release fory ${release_version}&quot;   ","version":"0.13","tagName":"h3"},{"title":"Êõ¥Êîπ Fory ÁΩëÁ´ô‰∏ãËΩΩÈìæÊé•‚Äã","type":1,"pageTitle":"Â¶Ç‰ΩïÂèëÂ∏É","url":"/zh-CN/docs/0.13/community/how_to_release#Êõ¥Êîπ-fory-ÁΩëÁ´ô‰∏ãËΩΩÈìæÊé•","content":" Êèê‰∫§ PR Âà∞ https://github.com/apache/fory-site ‰ªìÂ∫ìÊõ¥Êñ∞ Fory ÁâàÊú¨Ôºå‰∏ãËΩΩÈ°µÈù¢  ","version":"0.13","tagName":"h3"},{"title":"ÂèëÂ∏É Maven artifacts‚Äã","type":1,"pageTitle":"Â¶Ç‰ΩïÂèëÂ∏É","url":"/zh-CN/docs/0.13/community/how_to_release#ÂèëÂ∏É-maven-artifacts","content":" maven_artifact_numberÔºöMaven ÊöÇÂ≠ò artifacts ÁöÑÊï∞Èáè„ÄÇÂ¶Ç 1001„ÄÇÊâìÂºÄhttps://repository.apache.org/#stagingRepositories.ÊâæÂà∞ artifacts orgapachefory-${maven_artifact_number}ÔºåÁÇπÂáª‚ÄúÂèëÂ∏É‚Äù„ÄÇ  ","version":"0.13","tagName":"h3"},{"title":"ÂèëÈÄÅÂÖ¨Âëä‚Äã","type":1,"pageTitle":"Â¶Ç‰ΩïÂèëÂ∏É","url":"/zh-CN/docs/0.13/community/how_to_release#ÂèëÈÄÅÂÖ¨Âëä","content":" Â∞ÜÂèëÂ∏ÉÂÖ¨ÂëäÂèëÈÄÅÁªô dev@fory.apache.org Âπ∂‰∏îÊäÑÈÄÅÁªô announce@apache.org„ÄÇ  Ê†áÈ¢òÔºö  [ANNOUNCE] Apache Fory ${release_version} released   ÂÜÖÂÆπÔºö  Hi all, The Apache Fory community is pleased to announce that Apache Fory {release_version} has been released! Apache Fory - A blazingly fast multi-language serialization framework powered by JIT and zero-copy. The release notes are available here: https://github.com/apache/fory/releases/tag/v${release_version} For the complete list of changes: https://github.com/apache/fory/compare/v0.12.0...v${release_version} Apache Fory website: https://fory.apache.org/ Download Links: https://fory.apache.org/download Fory Resources: - Fory github repo: https://github.com/apache/fory - Issue: https://github.com/apache/fory/issues - Mailing list: dev@fory.apache.org We are looking to grow our community and welcome new contributors. If you are interested in contributing to Fory, please contact us on the mailing list or on GitHub. We will be happy to help you get started. ------------------ Best Regards, ${your_name}   Ëá≥Ê≠§ÔºåÊï¥‰∏™ÂèëÂ∏ÉÊµÅÁ®ãÁªìÊùü„ÄÇ ","version":"0.13","tagName":"h3"},{"title":"ÊÄßËÉΩÊµãËØï","type":0,"sectionRef":"#","url":"/zh-CN/docs/0.13/introduction/benchmark","content":"","keywords":"","version":"0.13"},{"title":"Java ÊÄßËÉΩÊµãËØï‚Äã","type":1,"pageTitle":"ÊÄßËÉΩÊµãËØï","url":"/zh-CN/docs/0.13/introduction/benchmark#java-ÊÄßËÉΩÊµãËØï","content":" ","version":"0.13","tagName":"h2"},{"title":"Java Â∫èÂàóÂåñ‚Äã","type":1,"pageTitle":"ÊÄßËÉΩÊµãËØï","url":"/zh-CN/docs/0.13/introduction/benchmark#java-Â∫èÂàóÂåñ","content":"         ","version":"0.13","tagName":"h3"},{"title":"Java ÂèçÂ∫èÂàóÂåñ‚Äã","type":1,"pageTitle":"ÊÄßËÉΩÊµãËØï","url":"/zh-CN/docs/0.13/introduction/benchmark#java-ÂèçÂ∫èÂàóÂåñ","content":"         Êõ¥Â§öÂÖ≥‰∫éÁ±ªÂûãÂâçÂêë/ÂêéÂêëÂÖºÂÆπÊÄß„ÄÅÂ†ÜÂ§ñÊîØÊåÅ„ÄÅÈõ∂Êã∑Ë¥ùÂ∫èÂàóÂåñÁöÑÊÄßËÉΩÊµãËØïÔºåËØ∑ÂèÇËßÅ benchmarks„ÄÇ  ","version":"0.13","tagName":"h3"},{"title":"Rust ÊÄßËÉΩÊµãËØï‚Äã","type":1,"pageTitle":"ÊÄßËÉΩÊµãËØï","url":"/zh-CN/docs/0.13/introduction/benchmark#rust-ÊÄßËÉΩÊµãËØï","content":"       Ê≥®ÊÑèÔºöÁªìÊûúÂèñÂÜ≥‰∫éÁ°¨‰ª∂„ÄÅÊï∞ÊçÆÈõÜÂíåÂÆûÁé∞ÁâàÊú¨„ÄÇÊúâÂÖ≥Â¶Ç‰ΩïËá™Ë°åËøêË°åÊÄßËÉΩÊµãËØïÁöÑ‰ø°ÊÅØÔºåËØ∑ÂèÇÈòÖ Fory Rust Benchmark ÊåáÂçóÔºöhttps://github.com/apache/fory/blob/main/benchmarks/rust_benchmark/README.md  ","version":"0.13","tagName":"h2"},{"title":"JavaScript ÊÄßËÉΩÊµãËØï‚Äã","type":1,"pageTitle":"ÊÄßËÉΩÊµãËØï","url":"/zh-CN/docs/0.13/introduction/benchmark#javascript-ÊÄßËÉΩÊµãËØï","content":"   Ê≠§Êü±Áä∂Âõæ‰ΩøÁî®ÁöÑÊï∞ÊçÆÂåÖÂê´‰∏Ä‰∏™ÂÖ∑ÊúâÂ§öÁßçÂ≠óÊÆµÁ±ªÂûãÁöÑÂ§çÊùÇÂØπË±°ÔºåJSON Êï∞ÊçÆÂ§ßÂ∞è‰∏∫ 3KB„ÄÇ  ÊÄßËÉΩÊµãËØï‰ª£Á†ÅËØ∑ÂèÇËßÅ benchmarks„ÄÇ ","version":"0.13","tagName":"h2"},{"title":"Features","type":0,"sectionRef":"#","url":"/zh-CN/docs/0.13/introduction/features","content":"Features Â§öÁßçËØ≠Ë®ÄÔºöJava/Python/C++/Golang/Javascript/Rust„ÄÇÈõ∂Êã∑Ë¥ùÔºöÁ±ª‰ººpickle5ÔºåÊîØÊåÅÂ†ÜÂ§ñËØª/ÂÜôÁöÑË∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ„ÄÇÈ´òÊÄßËÉΩÔºöÈ´òÂ∫¶ÂèØÊâ©Â±ïÁöÑ JIT Ê°ÜÊû∂ÔºåÂèØÂú®ËøêË°åÊó∂‰ª•ÂºÇÊ≠•Â§öÁ∫øÁ®ãÊñπÂºèÁîüÊàêÂ∫èÂàóÂåñÁ®ãÂ∫è‰ª£Á†ÅÔºå‰ª•Âä†Âø´Â∫èÂàóÂåñÈÄüÂ∫¶ÔºåÈÄöËøá‰ª•‰∏ãÊñπÂºèÊèêÂçá 20-170 ÂÄçÁöÑÈÄüÂ∫¶Ôºö ÂáèÂ∞ëÂú®ÁîüÊàê‰ª£Á†Å‰∏≠ÂÜÖËÅîÂèòÈáèÂáèÂ∞ëÂÜÖÂ≠òËÆøÈóÆÔºõÈÄöËøáÂú®ÁîüÊàêÁöÑ‰ª£Á†Å‰∏≠ÂÜÖËÅîË∞ÉÁî®Êù•ÂáèÂ∞ëËôöÊãüÊñπÊ≥ïË∞ÉÁî®ÔºõÂáèÂ∞ëÊù°‰ª∂ÂàÜÊîØÔºõÂáèÂ∞ëÂìàÂ∏åÊü•ÊâæÔºõ ‰∫åËøõÂà∂ÂçèËÆÆÔºöÂØπË±°Âõæ„ÄÅË°åÊ†ºÂºèÁ≠â„ÄÇ Èô§‰∫ÜË∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ‰πãÂ§ñÔºåApache Fory‚Ñ¢ ËøòÊîØÊåÅ‰ª•‰∏ãÂäüËÉΩÔºö Áõ¥Êé•ÊõøÊç¢ Java Â∫èÂàóÂåñÊ°ÜÊû∂ÔºåÂ¶Ç JDK/Kryo/HessianÔºåÊó†ÈúÄ‰øÆÊîπ‰ªª‰Ωï‰ª£Á†ÅÔºå‰ΩÜÈÄüÂ∫¶ÊèêÈ´ò 100 ÂÄç„ÄÇÂÆÉÂèØ‰ª•Â§ßÂ§ßÊèêÈ´ò RPC Ë∞ÉÁî®ÊÄßËÉΩ„ÄÅÊï∞ÊçÆ‰º†ËæìÂíåÂØπË±°ÊåÅ‰πÖÂåñÁöÑÊïàÁéáÔºõJDK Â∫èÂàóÂåñ 100% ÂÖºÂÆπÔºåÂéüÁîüÊîØÊåÅ java Ëá™ÂÆö‰πâÂ∫èÂàóÂåñ writeObject/readObject/writeReplace/readResolve/readObjectNoDataÔºõÊîØÊåÅ golang ÁöÑÂÖ±‰∫´ÂíåÂæ™ÁéØÂºïÁî®ÂØπË±°Â∫èÂàóÂåñÔºõÊîØÊåÅ golang ÁöÑËá™Âä®ÂØπË±°Â∫èÂàóÂåñ„ÄÇ","keywords":"","version":"0.13"},{"title":"Ë°åÂ≠òÊ†ºÂºè","type":0,"sectionRef":"#","url":"/zh-CN/docs/0.13/guide/row_format","content":"","keywords":"","version":"0.13"},{"title":"Java‚Äã","type":1,"pageTitle":"Ë°åÂ≠òÊ†ºÂºè","url":"/zh-CN/docs/0.13/guide/row_format#java","content":" public class Bar { String f1; List&lt;Long&gt; f2; } public class Foo { int f1; List&lt;Integer&gt; f2; Map&lt;String, Integer&gt; f3; List&lt;Bar&gt; f4; } RowEncoder&lt;Foo&gt; encoder = Encoders.bean(Foo.class); Foo foo = new Foo(); foo.f1 = 10; foo.f2 = IntStream.range(0, 1000000).boxed().collect(Collectors.toList()); foo.f3 = IntStream.range(0, 1000000).boxed().collect(Collectors.toMap(i -&gt; &quot;k&quot;+i, i-&gt;i)); List&lt;Bar&gt; bars = new ArrayList&lt;&gt;(1000000); for (int i = 0; i &lt; 1000000; i++) { Bar bar = new Bar(); bar.f1 = &quot;s&quot;+i; bar.f2 = LongStream.range(0, 10).boxed().collect(Collectors.toList()); bars.add(bar); } foo.f4 = bars; // ÂèØË¢´ python Èõ∂Êã∑Ë¥ùËØªÂèñ BinaryRow binaryRow = encoder.toRow(foo); // ‰πüÂèØ‰ª•ÊòØ python ÁîüÊàêÁöÑÊï∞ÊçÆ Foo newFoo = encoder.fromRow(binaryRow); // Èõ∂Êã∑Ë¥ùËØªÂèñ List&lt;Integer&gt; f2 BinaryArray binaryArray2 = binaryRow.getArray(1); // Èõ∂Êã∑Ë¥ùËØªÂèñ List&lt;Bar&gt; f4 BinaryArray binaryArray4 = binaryRow.getArray(3); // Èõ∂Êã∑Ë¥ùËØªÂèñ `readList&lt;Bar&gt; f4` ÁöÑÁ¨¨ 11 ‰∏™ÂÖÉÁ¥† BinaryRow barStruct = binaryArray4.getStruct(10); // Èõ∂Êã∑Ë¥ùËØªÂèñ `readList&lt;Bar&gt; f4` Á¨¨ 11 ‰∏™ÂÖÉÁ¥†ÁöÑ f2 ÁöÑÁ¨¨ 6 ‰∏™ÂÖÉÁ¥† barStruct.getArray(1).getInt64(5); RowEncoder&lt;Bar&gt; barEncoder = Encoders.bean(Bar.class); // Âè™ÂèçÂ∫èÂàóÂåñÈÉ®ÂàÜÊï∞ÊçÆ Bar newBar = barEncoder.fromRow(barStruct); Bar newBar2 = barEncoder.fromRow(binaryArray4.getStruct(20));   ","version":"0.13","tagName":"h2"},{"title":"Python‚Äã","type":1,"pageTitle":"Ë°åÂ≠òÊ†ºÂºè","url":"/zh-CN/docs/0.13/guide/row_format#python","content":" @dataclass class Bar: f1: str f2: List[pa.int64] @dataclass class Foo: f1: pa.int32 f2: List[pa.int32] f3: Dict[str, pa.int32] f4: List[Bar] encoder = pyfory.encoder(Foo) foo = Foo(f1=10, f2=list(range(1000_000)), f3={f&quot;k{i}&quot;: i for i in range(1000_000)}, f4=[Bar(f1=f&quot;s{i}&quot;, f2=list(range(10))) for i in range(1000_000)]) binary: bytes = encoder.to_row(foo).to_bytes() print(f&quot;start: {datetime.datetime.now()}&quot;) foo_row = pyfory.RowData(encoder.schema, binary) print(foo_row.f2[100000], foo_row.f4[100000].f1, foo_row.f4[200000].f2[5]) print(f&quot;end: {datetime.datetime.now()}&quot;) binary = pickle.dumps(foo) print(f&quot;pickle start: {datetime.datetime.now()}&quot;) new_foo = pickle.loads(binary) print(new_foo.f2[100000], new_foo.f4[100000].f1, new_foo.f4[200000].f2[5]) print(f&quot;pickle end: {datetime.datetime.now()}&quot;)   ","version":"0.13","tagName":"h2"},{"title":"Apache Arrow ÊîØÊåÅ‚Äã","type":1,"pageTitle":"Ë°åÂ≠òÊ†ºÂºè","url":"/zh-CN/docs/0.13/guide/row_format#apache-arrow-ÊîØÊåÅ","content":" Fory Format ‰πüÊîØÊåÅ‰∏é Arrow Table/RecordBatch ÁöÑËá™Âä®ËΩ¨Êç¢„ÄÇ  Java Á§∫‰æãÔºö  Schema schema = TypeInference.inferSchema(BeanA.class); ArrowWriter arrowWriter = ArrowUtils.createArrowWriter(schema); Encoder&lt;BeanA&gt; encoder = Encoders.rowEncoder(BeanA.class); for (int i = 0; i &lt; 10; i++) { BeanA beanA = BeanA.createBeanA(2); arrowWriter.write(encoder.toRow(beanA)); } return arrowWriter.finishAsRecordBatch();   ","version":"0.13","tagName":"h3"},{"title":"ÊîØÊåÅÊé•Âè£‰∏éÁªßÊâøÁ±ªÂûã‚Äã","type":1,"pageTitle":"Ë°åÂ≠òÊ†ºÂºè","url":"/zh-CN/docs/0.13/guide/row_format#ÊîØÊåÅÊé•Âè£‰∏éÁªßÊâøÁ±ªÂûã","content":" Fury Áé∞Â∑≤ÊîØÊåÅ Java interface Á±ªÂûãÂíåÂ≠êÁ±ªÔºàextendsÔºâÁ±ªÂûãÁöÑË°åÊ†ºÂºèÊò†Â∞ÑÔºåÂ∏¶Êù•Êõ¥Âä®ÊÄÅÂíåÁÅµÊ¥ªÁöÑÊï∞ÊçÆ schema„ÄÇ  Áõ∏ÂÖ≥Â¢ûÂº∫ËßÅ #2243„ÄÅ#2250„ÄÅ#2256„ÄÇ  ","version":"0.13","tagName":"h2"},{"title":"Á§∫‰æãÔºöÊé•Âè£Á±ªÂûãÁöÑ RowEncoder Êò†Â∞Ñ‚Äã","type":1,"pageTitle":"Ë°åÂ≠òÊ†ºÂºè","url":"/zh-CN/docs/0.13/guide/row_format#Á§∫‰æãÊé•Âè£Á±ªÂûãÁöÑ-rowencoder-Êò†Â∞Ñ","content":" public interface Animal { String speak(); } public class Dog implements Animal { public String name; @Override public String speak() { return &quot;Woof&quot;; } } // ‰ΩøÁî® RowEncoder ‰ª•Êé•Âè£Á±ªÂûãÁºñÁ†ÅÂíåËß£Á†Å RowEncoder&lt;Animal&gt; encoder = Encoders.bean(Animal.class); Dog dog = new Dog(); dog.name = &quot;Bingo&quot;; BinaryRow row = encoder.toRow(dog); Animal decoded = encoder.fromRow(row); System.out.println(decoded.speak()); // Woof   ","version":"0.13","tagName":"h3"},{"title":"Á§∫‰æãÔºöÁªßÊâøÁ±ªÂûãÁöÑ RowEncoder Êò†Â∞Ñ‚Äã","type":1,"pageTitle":"Ë°åÂ≠òÊ†ºÂºè","url":"/zh-CN/docs/0.13/guide/row_format#Á§∫‰æãÁªßÊâøÁ±ªÂûãÁöÑ-rowencoder-Êò†Â∞Ñ","content":" public class Parent { public String parentField; } public class Child extends Parent { public String childField; } // ‰ΩøÁî® RowEncoder ‰ª•Áà∂Á±ªÁ±ªÂûãÁºñÁ†ÅÂíåËß£Á†Å RowEncoder&lt;Parent&gt; encoder = Encoders.bean(Parent.class); Child child = new Child(); child.parentField = &quot;Hello&quot;; child.childField = &quot;World&quot;; BinaryRow row = encoder.toRow(child); Parent decoded = encoder.fromRow(row);   Python Á§∫‰æãÔºö  import pyfory encoder = pyfory.encoder(Foo) encoder.to_arrow_record_batch([foo] * 10000) encoder.to_arrow_table([foo] * 10000)   C++ Á§∫‰æãÔºö  std::shared_ptr&lt;ArrowWriter&gt; arrow_writer; EXPECT_TRUE( ArrowWriter::Make(schema, ::arrow::default_memory_pool(), &amp;arrow_writer) .ok()); for (auto &amp;row : rows) { EXPECT_TRUE(arrow_writer-&gt;Write(row).ok()); } std::shared_ptr&lt;::arrow::RecordBatch&gt; record_batch; EXPECT_TRUE(arrow_writer-&gt;Finish(&amp;record_batch).ok()); EXPECT_TRUE(record_batch-&gt;Validate().ok()); EXPECT_EQ(record_batch-&gt;num_columns(), schema-&gt;num_fields()); EXPECT_EQ(record_batch-&gt;num_rows(), row_nums);   Schema schema = TypeInference.inferSchema(BeanA.class); ArrowWriter arrowWriter = ArrowUtils.createArrowWriter(schema); Encoder&lt;BeanA&gt; encoder = Encoders.rowEncoder(BeanA.class); for (int i = 0; i &lt; 10; i++) { BeanA beanA = BeanA.createBeanA(2); arrowWriter.write(encoder.toRow(beanA)); } return arrowWriter.finishAsRecordBatch();  ","version":"0.13","tagName":"h3"},{"title":"Ê¶ÇËø∞","type":0,"sectionRef":"#","url":"/zh-CN/docs/0.13/introduction/overview","content":"","keywords":"","version":"0.13"},{"title":"Ê†∏ÂøÉÁâπÊÄß‚Äã","type":1,"pageTitle":"Ê¶ÇËø∞","url":"/zh-CN/docs/0.13/introduction/overview#Ê†∏ÂøÉÁâπÊÄß","content":" ","version":"0.13","tagName":"h2"},{"title":"üöÄ È´òÊÄßËÉΩÂ∫èÂàóÂåñ‚Äã","type":1,"pageTitle":"Ê¶ÇËø∞","url":"/zh-CN/docs/0.13/introduction/overview#-È´òÊÄßËÉΩÂ∫èÂàóÂåñ","content":" Apache Fory‚Ñ¢ ÈÄöËøáÂÖàËøõÁöÑ‰ºòÂåñÊäÄÊúØÊèê‰æõÂçìË∂äÊÄßËÉΩÔºö  JIT ÁºñËØëÔºöJava ËøêË°åÊó∂‰ª£Á†ÅÁîüÊàêÊ∂àÈô§ËôöÊñπÊ≥ïË∞ÉÁî®Âπ∂ÂÜÖËÅîÁÉ≠Ë∑ØÂæÑÈùôÊÄÅ‰ª£Á†ÅÁîüÊàêÔºöRust„ÄÅC++ Âíå Go ÁöÑÁºñËØëÊó∂‰ª£Á†ÅÁîüÊàêÔºåÊó†ËøêË°åÊó∂ÂºÄÈîÄÂç≥ÂèØËææÂà∞Â≥∞ÂÄºÊÄßËÉΩÈõ∂Êã∑Ë¥ùÊìç‰ΩúÔºöÊó†ÈúÄ‰∏≠Èó¥ÁºìÂÜ≤Âå∫Â§çÂà∂ÁöÑÁõ¥Êé•ÂÜÖÂ≠òËÆøÈóÆÔºõË°åÊ†ºÂºèÊîØÊåÅÈöèÊú∫ËÆøÈóÆÂíåÈÉ®ÂàÜÂ∫èÂàóÂåñÊô∫ËÉΩÁºñÁ†ÅÔºöÊï¥Êï∞ÂíåÂ≠óÁ¨¶‰∏≤ÁöÑÂèòÈïøÂéãÁº©ÔºõÊï∞ÁªÑÁöÑ SIMD Âä†ÈÄüÔºàJava 16+ÔºâÂÖÉÊï∞ÊçÆÂÖ±‰∫´ÔºöÁ±ªÂÖÉÊï∞ÊçÆÊâìÂåÖÂáèÂ∞ëË∑®Â∫èÂàóÂåñÁöÑÂÜó‰ΩôÁ±ªÂûã‰ø°ÊÅØ  ","version":"0.13","tagName":"h3"},{"title":"üîÑ Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ‚Äã","type":1,"pageTitle":"Ê¶ÇËø∞","url":"/zh-CN/docs/0.13/introduction/overview#-Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ","content":" xlang Â∫èÂàóÂåñÊ†ºÂºè ÊîØÊåÅË∑®ÁºñÁ®ãËØ≠Ë®ÄÁöÑÊó†ÁºùÊï∞ÊçÆ‰∫§Êç¢Ôºö  Ëá™Âä®Á±ªÂûãÊò†Â∞ÑÔºöËØ≠Ë®ÄÁâπÂÆöÁ±ªÂûã‰πãÈó¥ÁöÑÊô∫ËÉΩËΩ¨Êç¢ÔºàÁ±ªÂûãÊò†Â∞ÑÔºâÂºïÁî®‰øùÊåÅÔºöÂÖ±‰∫´ÂíåÂæ™ÁéØÂºïÁî®Âú®Ë∑®ËØ≠Ë®ÄÊó∂Ê≠£Á°ÆÂ∑•‰ΩúÂ§öÊÄÅÊîØÊåÅÔºöÂØπË±°‰ª•ÂÖ∂ÂÆûÈôÖËøêË°åÊó∂Á±ªÂûãËøõË°åÂ∫èÂàóÂåñ/ÂèçÂ∫èÂàóÂåñSchema ÊºîËøõÔºöÂèØÈÄâÁöÑÂêëÂâç/ÂêëÂêéÂÖºÂÆπÊÄßÊîØÊåÅ Schema ÊºîËøõËá™Âä®Â∫èÂàóÂåñÔºöÊó†ÈúÄ IDL Êàñ Schema ÂÆö‰πâÔºõÁõ¥Êé•Â∫èÂàóÂåñ‰ªª‰ΩïÂØπË±°ÔºåÊó†ÈúÄ‰ª£Á†ÅÁîüÊàê  ","version":"0.13","tagName":"h3"},{"title":"üìä Ë°åÊ†ºÂºè‚Äã","type":1,"pageTitle":"Ê¶ÇËø∞","url":"/zh-CN/docs/0.13/introduction/overview#-Ë°åÊ†ºÂºè","content":" ÈíàÂØπÂàÜÊûêÂ∑•‰ΩúË¥üËΩΩ‰ºòÂåñÁöÑÁºìÂ≠òÂèãÂ•ΩÂûã Ë°åÊ†ºÂºèÔºö  Èõ∂Êã∑Ë¥ùÈöèÊú∫ËÆøÈóÆÔºöÊó†ÈúÄÂèçÂ∫èÂàóÂåñÊï¥‰∏™ÂØπË±°Âç≥ÂèØËØªÂèñÂçï‰∏™Â≠óÊÆµÈÉ®ÂàÜÊìç‰ΩúÔºöÈÄâÊã©ÊÄßÂ≠óÊÆµÂ∫èÂàóÂåñÂíåÂèçÂ∫èÂàóÂåñ‰ª•ÊèêÈ´òÊïàÁéáApache Arrow ÈõÜÊàêÔºöÊó†ÁºùËΩ¨Êç¢‰∏∫ÂàóÊ†ºÂºè‰ª•Áî®‰∫éÂàÜÊûêÊµÅÊ∞¥Á∫øÂ§öËØ≠Ë®ÄÊîØÊåÅÔºöÂèØÁî®‰∫é Java„ÄÅPython„ÄÅRust Âíå C++  ","version":"0.13","tagName":"h3"},{"title":"üîí ÂÆâÂÖ®ÊÄß‰∏éÁîü‰∫ßÂ∞±Áª™‚Äã","type":1,"pageTitle":"Ê¶ÇËø∞","url":"/zh-CN/docs/0.13/introduction/overview#-ÂÆâÂÖ®ÊÄß‰∏éÁîü‰∫ßÂ∞±Áª™","content":" ‰ºÅ‰∏öÁ∫ßÂÆâÂÖ®ÊÄßÂíåÂÖºÂÆπÊÄßÔºö  Á±ªÊ≥®ÂÜåÔºöÂü∫‰∫éÁôΩÂêçÂçïÁöÑÂèçÂ∫èÂàóÂåñÊéßÂà∂ÔºàÈªòËÆ§ÂêØÁî®ÔºâÊ∑±Â∫¶ÈôêÂà∂ÔºöÈò≤Ê≠¢ÈÄíÂΩíÂØπË±°ÂõæÊîªÂáªÂèØÈÖçÁΩÆÁ≠ñÁï•ÔºöËá™ÂÆö‰πâÁ±ªÊ£ÄÊü•Âô®ÂíåÂèçÂ∫èÂàóÂåñÁ≠ñÁï•Âπ≥Âè∞ÊîØÊåÅÔºöJava 8-24„ÄÅGraalVM ÂéüÁîüÈïúÂÉè„ÄÅÂ§öÊìç‰ΩúÁ≥ªÁªüÂπ≥Âè∞  ","version":"0.13","tagName":"h3"},{"title":"ÂçèËÆÆ‚Äã","type":1,"pageTitle":"Ê¶ÇËø∞","url":"/zh-CN/docs/0.13/introduction/overview#ÂçèËÆÆ","content":" Apache Fory‚Ñ¢ ÂÆûÁé∞‰∫ÜÈíàÂØπ‰∏çÂêåÂú∫ÊôØ‰ºòÂåñÁöÑÂ§ö‰∏™‰∫åËøõÂà∂ÂçèËÆÆÔºö  ÂçèËÆÆ\t‰ΩøÁî®Âú∫ÊôØ\tÊ†∏ÂøÉÁâπÊÄßË∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ\tË∑®ËØ≠Ë®ÄÂØπË±°‰∫§Êç¢\tËá™Âä®Â∫èÂàóÂåñ„ÄÅÂºïÁî®„ÄÅÂ§öÊÄÅ Java Â∫èÂàóÂåñ\tÈ´òÊÄßËÉΩ Java ‰∏ìÁî®\tJDK Â∫èÂàóÂåñÁöÑÁõ¥Êé•Êõø‰ª£ÔºåÂø´ 100 ÂÄç Ë°åÊ†ºÂºè\tÂàÜÊûêÂíåÊï∞ÊçÆÂ§ÑÁêÜ\tÈõ∂Êã∑Ë¥ùÈöèÊú∫ËÆøÈóÆ„ÄÅArrow ÂÖºÂÆπ Python ÂéüÁîü\tPython ‰∏ìÁî®Â∫èÂàóÂåñ\tPickle/cloudpickle Êõø‰ª£ÔºåÊÄßËÉΩÊõ¥Â•Ω  ÊâÄÊúâÂçèËÆÆÂÖ±‰∫´Áõ∏ÂêåÁöÑ‰ºòÂåñ‰ª£Á†ÅÂ∫ìÔºå‰∏Ä‰∏™ÂçèËÆÆÁöÑÊîπËøõÂèØ‰ª•ÊÉ†ÂèäÂÖ∂‰ªñÂçèËÆÆ„ÄÇ  ","version":"0.13","tagName":"h2"},{"title":"ÊñáÊ°£‚Äã","type":1,"pageTitle":"Ê¶ÇËø∞","url":"/zh-CN/docs/0.13/introduction/overview#ÊñáÊ°£","content":" ","version":"0.13","tagName":"h2"},{"title":"Áî®Êà∑ÊåáÂçó‚Äã","type":1,"pageTitle":"Ê¶ÇËø∞","url":"/zh-CN/docs/0.13/introduction/overview#Áî®Êà∑ÊåáÂçó","content":" ÊåáÂçó\tÊèèËø∞\tÊ∫êÊñá‰ª∂\tÁΩëÁ´ôJava Â∫èÂàóÂåñ\tJava Â∫èÂàóÂåñÁªºÂêàÊåáÂçó\tjava_serialization_guide.md\tüìñ Êü•Áúã Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ\tÂ§öËØ≠Ë®ÄÂØπË±°‰∫§Êç¢\txlang_serialization_guide.md\tüìñ Êü•Áúã Ë°åÊ†ºÂºè\tÈõ∂Êã∑Ë¥ùÈöèÊú∫ËÆøÈóÆÊ†ºÂºè\trow_format_guide.md\tüìñ Êü•Áúã Python\tPython ÁâπÂÆöÂäüËÉΩÂíåÁî®Ê≥ï\tpython_guide.md\tüìñ Êü•Áúã Rust\tRust ÂÆûÁé∞ÂíåÊ®°Âºè\trust_guide.md\tüìñ Êü•Áúã Scala\tScala ÈõÜÊàêÂíåÊúÄ‰Ω≥ÂÆûË∑µ\tscala_guide.md\tüìñ Êü•Áúã GraalVM\tÂéüÁîüÈïúÂÉèÊîØÊåÅÂíå AOT ÁºñËØë\tgraalvm_guide.md\tüìñ Êü•Áúã ÂºÄÂèë\tÊûÑÂª∫ÂíåË¥°ÁåÆ Fory\tDEVELOPMENT.md\tüìñ Êü•Áúã  ","version":"0.13","tagName":"h3"},{"title":"ÂçèËÆÆËßÑËåÉ‚Äã","type":1,"pageTitle":"Ê¶ÇËø∞","url":"/zh-CN/docs/0.13/introduction/overview#ÂçèËÆÆËßÑËåÉ","content":" ËßÑËåÉ\tÊèèËø∞\tÊ∫êÊñá‰ª∂\tÁΩëÁ´ôË∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ\tË∑®ËØ≠Ë®Ä‰∫åËøõÂà∂ÂçèËÆÆ\txlang_serialization_spec.md\tüìñ Êü•Áúã Java Â∫èÂàóÂåñ\tJava ‰ºòÂåñÂçèËÆÆ\tjava_serialization_spec.md\tüìñ Êü•Áúã Ë°åÊ†ºÂºè\tÂü∫‰∫éË°åÁöÑ‰∫åËøõÂà∂Ê†ºÂºè\trow_format_spec.md\tüìñ Êü•Áúã Á±ªÂûãÊò†Â∞Ñ\tË∑®ËØ≠Ë®ÄÁ±ªÂûãËΩ¨Êç¢\txlang_type_mapping.md\tüìñ Êü•Áúã  ","version":"0.13","tagName":"h3"},{"title":"ÂÖºÂÆπÊÄß‚Äã","type":1,"pageTitle":"Ê¶ÇËø∞","url":"/zh-CN/docs/0.13/introduction/overview#ÂÖºÂÆπÊÄß","content":" ","version":"0.13","tagName":"h2"},{"title":"Schema ÂÖºÂÆπÊÄß‚Äã","type":1,"pageTitle":"Ê¶ÇËø∞","url":"/zh-CN/docs/0.13/introduction/overview#schema-ÂÖºÂÆπÊÄß","content":" Apache Fory‚Ñ¢ ÊîØÊåÅ Java„ÄÅPython„ÄÅRust Âíå Golang ÁöÑÁ±ª Schema ÂêëÂâç/ÂêëÂêéÂÖºÂÆπÔºåÊîØÊåÅÁîü‰∫ßÁ≥ªÁªü‰∏≠ÁöÑÊó†Áºù Schema ÊºîËøõÔºåÊó†ÈúÄË∑®ÊâÄÊúâÊúçÂä°ÂçèË∞ÉÂçáÁ∫ß„ÄÇFory Êèê‰æõ‰∏§Áßç Schema ÂÖºÂÆπÊÄßÊ®°ÂºèÔºö  Schema ‰∏ÄËá¥Ê®°ÂºèÔºàÈªòËÆ§ÔºâÔºöÂÅáËÆæÂ∫èÂàóÂåñÂíåÂèçÂ∫èÂàóÂåñÁ´Ø‰πãÈó¥ÁöÑÁ±ª Schema Áõ∏Âêå„ÄÇÊ≠§Ê®°ÂºèÊèê‰æõÊúÄÂ∞èÁöÑÂ∫èÂàóÂåñÂºÄÈîÄ„ÄÅÊúÄÂ∞èÁöÑÊï∞ÊçÆÂ§ßÂ∞èÂíåÊúÄÂø´ÁöÑÊÄßËÉΩÔºöÈÄÇÁî®‰∫éÁ®≥ÂÆöÁöÑ Schema ÊàñÂèóÊéßÁéØÂ¢É„ÄÇ ÂÖºÂÆπÊ®°ÂºèÔºöÊîØÊåÅÁã¨Á´ãÁöÑ Schema ÊºîËøõÔºåÂÖ∑ÊúâÂêëÂâçÂíåÂêëÂêéÂÖºÂÆπÊÄß„ÄÇÊ≠§Ê®°ÂºèÊîØÊåÅÂ≠óÊÆµÊ∑ªÂä†/Âà†Èô§„ÄÅÊúâÈôêÁöÑÁ±ªÂûãÊºîËøõÂíå‰ºòÈõÖÂ§ÑÁêÜ Schema ‰∏çÂåπÈÖç„ÄÇÂú® Java ‰∏≠‰ΩøÁî® withCompatibleMode(CompatibleMode.COMPATIBLE) ÂêØÁî®ÔºåÂú® Python ‰∏≠‰ΩøÁî® compatible=TrueÔºåÂú® Rust ‰∏≠‰ΩøÁî® compatible_mode(true)ÔºåÂú® Go ‰∏≠‰ΩøÁî® NewFory(true)„ÄÇ  ","version":"0.13","tagName":"h3"},{"title":"‰∫åËøõÂà∂ÂÖºÂÆπÊÄß‚Äã","type":1,"pageTitle":"Ê¶ÇËø∞","url":"/zh-CN/docs/0.13/introduction/overview#‰∫åËøõÂà∂ÂÖºÂÆπÊÄß","content":" ÂΩìÂâçÁä∂ÊÄÅÔºöÁî±‰∫éÂçèËÆÆÊåÅÁª≠ÊºîËøõÔºåFory ‰∏ªË¶ÅÁâàÊú¨‰πãÈó¥‰∏ç‰øùËØÅ‰∫åËøõÂà∂ÂÖºÂÆπÊÄß„ÄÇ‰ΩÜÊòØÔºåÊ¨°Ë¶ÅÁâàÊú¨‰πãÈó¥Ôºà‰æãÂ¶Ç 0.13.xÔºâ‰øùËØÅÂÖºÂÆπÊÄß„ÄÇ  Âª∫ËÆÆÔºö  Êåâ Fory ‰∏ªË¶ÅÁâàÊú¨ÂØπÂ∫èÂàóÂåñÊï∞ÊçÆËøõË°åÁâàÊú¨ÊéßÂà∂ÂçáÁ∫ß‰∏ªË¶ÅÁâàÊú¨Êó∂ËßÑÂàíËøÅÁßªÁ≠ñÁï•ËØ¶ËßÅÂçáÁ∫ßÊåáÂçó  Êú™Êù•Ôºö‰ªé Fory 1.0 ÁâàÊú¨ÂºÄÂßãÂ∞Ü‰øùËØÅ‰∫åËøõÂà∂ÂÖºÂÆπÊÄß„ÄÇ  ","version":"0.13","tagName":"h3"},{"title":"ÂÆâÂÖ®‚Äã","type":1,"pageTitle":"Ê¶ÇËø∞","url":"/zh-CN/docs/0.13/introduction/overview#ÂÆâÂÖ®","content":" ","version":"0.13","tagName":"h2"},{"title":"Ê¶ÇËø∞‚Äã","type":1,"pageTitle":"Ê¶ÇËø∞","url":"/zh-CN/docs/0.13/introduction/overview#Ê¶ÇËø∞","content":" Â∫èÂàóÂåñÂÆâÂÖ®ÊÄßÂõ†ÂçèËÆÆËÄåÂºÇÔºö  Ë°åÊ†ºÂºèÔºö‰ΩøÁî®È¢ÑÂÆö‰πâ SchemaÔºåÊú¨Ë¥®‰∏äÂÆâÂÖ®ÂØπË±°ÂõæÂ∫èÂàóÂåñÔºàJava/Python ÂéüÁîüÔºâÔºöÊõ¥ÁÅµÊ¥ª‰ΩÜÈúÄË¶Å‰ªîÁªÜÁöÑÂÆâÂÖ®ÈÖçÁΩÆ  Âä®ÊÄÅÂ∫èÂàóÂåñÂèØ‰ª•ÂèçÂ∫èÂàóÂåñ‰ªªÊÑèÁ±ªÂûãÔºåËøôÂèØËÉΩ‰ºöÂ∏¶Êù•È£éÈô©„ÄÇ‰æãÂ¶ÇÔºåÂèçÂ∫èÂàóÂåñÂèØËÉΩ‰ºöË∞ÉÁî® init ÊûÑÈÄ†ÂáΩÊï∞Êàñ equals/hashCode ÊñπÊ≥ïÔºåÂ¶ÇÊûúÊñπÊ≥ï‰ΩìÂåÖÂê´ÊÅ∂ÊÑè‰ª£Á†ÅÔºåÁ≥ªÁªüÂ∞ÜÈù¢‰∏¥È£éÈô©„ÄÇ  Fory ÈªòËÆ§ÂêØÁî®Âä®ÊÄÅÂçèËÆÆÁöÑÁ±ªÊ≥®ÂÜåÔºåÂè™ÂÖÅËÆ∏Âèó‰ø°‰ªªÁöÑÂ∑≤Ê≥®ÂÜåÁ±ªÂûãÊàñÂÜÖÁΩÆÁ±ªÂûã„ÄÇÈô§ÈùûÊÇ®ËÉΩÁ°Æ‰øùÁéØÂ¢ÉÂÆâÂÖ®ÔºåÂê¶Âàô‰∏çË¶ÅÁ¶ÅÁî®Á±ªÊ≥®ÂÜå„ÄÇ  Â¶ÇÊûúÁ¶ÅÁî®Ê≠§ÈÄâÈ°πÔºåÊÇ®ÈúÄË¶ÅÂØπÂ∫èÂàóÂåñÂÆâÂÖ®Ë¥üË¥£„ÄÇÊÇ®Â∫îËØ•ÂÆûÁé∞Âπ∂ÈÖçÁΩÆËá™ÂÆö‰πâÁöÑ ClassChecker Êàñ DeserializationPolicy ‰ª•ËøõË°åÁªÜÁ≤íÂ∫¶ÁöÑÂÆâÂÖ®ÊéßÂà∂„ÄÇ  Ë¶ÅÊä•Âëä Apache Fory‚Ñ¢ ‰∏≠ÁöÑÂÆâÂÖ®ÊºèÊ¥ûÔºåËØ∑ÈÅµÂæ™ ASF ÊºèÊ¥ûÊä•ÂëäÊµÅÁ®ã„ÄÇ  ","version":"0.13","tagName":"h3"},{"title":"Á§æÂå∫‰∏éÊîØÊåÅ‚Äã","type":1,"pageTitle":"Ê¶ÇËø∞","url":"/zh-CN/docs/0.13/introduction/overview#Á§æÂå∫‰∏éÊîØÊåÅ","content":" ","version":"0.13","tagName":"h2"},{"title":"Ëé∑ÂèñÂ∏ÆÂä©‚Äã","type":1,"pageTitle":"Ê¶ÇËø∞","url":"/zh-CN/docs/0.13/introduction/overview#Ëé∑ÂèñÂ∏ÆÂä©","content":" SlackÔºöÂä†ÂÖ•Êàë‰ª¨ÁöÑ Slack Â∑•‰ΩúÂå∫ÂèÇ‰∏éÁ§æÂå∫ËÆ®ËÆ∫Twitter/XÔºöÂÖ≥Ê≥® @ApacheFory Ëé∑ÂèñÊõ¥Êñ∞ÂíåÂÖ¨ÂëäGitHub IssuesÔºöÂú® apache/fory Êä•ÂëäÈîôËØØÂíåËØ∑Ê±ÇÂäüËÉΩÈÇÆ‰ª∂ÂàóË°®ÔºöËÆ¢ÈòÖ Apache Fory ÈÇÆ‰ª∂ÂàóË°®ÂèÇ‰∏éÂºÄÂèëËÆ®ËÆ∫  ","version":"0.13","tagName":"h3"},{"title":"Ë¥°ÁåÆ‚Äã","type":1,"pageTitle":"Ê¶ÇËø∞","url":"/zh-CN/docs/0.13/introduction/overview#Ë¥°ÁåÆ","content":" Êàë‰ª¨Ê¨¢ËøéË¥°ÁåÆÔºÅËØ∑ÈòÖËØªÊàë‰ª¨ÁöÑË¥°ÁåÆÊåáÂçóÂºÄÂßã„ÄÇ  Ë¥°ÁåÆÊñπÂºèÔºö  üêõ Êä•ÂëäÈîôËØØÂíåÈóÆÈ¢òüí° ÊèêÂá∫Êñ∞ÂäüËÉΩüìù ÊîπËøõÊñáÊ°£üîß Êèê‰∫§ Pull Requestüß™ Ê∑ªÂä†ÊµãËØïÁî®‰æãüìä ÂàÜ‰∫´Âü∫ÂáÜÊµãËØï  ËØ¶ËßÅÂºÄÂèëÊåáÂçó‰∫ÜËß£ÊûÑÂª∫ËØ¥ÊòéÂíåÂºÄÂèëÂ∑•‰ΩúÊµÅÁ®ã„ÄÇ ","version":"0.13","tagName":"h3"},{"title":"Java Serialization Format","type":0,"sectionRef":"#","url":"/zh-CN/docs/0.13/specification/java_serialization_spec","content":"","keywords":"","version":"0.13"},{"title":"Spec overview‚Äã","type":1,"pageTitle":"Java Serialization Format","url":"/zh-CN/docs/0.13/specification/java_serialization_spec#spec-overview","content":" Apache Fory‚Ñ¢ Java Serialization is an automatic object serialization framework that supports reference and polymorphism. Apache Fory‚Ñ¢ will convert an object from/to fory java serialization binary format. Apache Fory‚Ñ¢ has two core concepts for java serialization:  Apache Fory‚Ñ¢ Java Binary formatFramework to convert object to/from Apache Fory‚Ñ¢ Java Binary format  The serialization format is a dynamic binary format. The dynamics and reference/polymorphism support make Apache Fory‚Ñ¢ flexible, much more easy to use, but also introduce more complexities compared to static serialization frameworks. So the format will be more complex.  Here is the overall format:  | fory header | object ref meta | object class meta | object value data |   The data are serialized using little endian byte order overall. If bytes swap is costly for some object, Fory will write the byte order for that object into the data instead of converting it to little endian.  ","version":"0.13","tagName":"h2"},{"title":"Fory header‚Äã","type":1,"pageTitle":"Java Serialization Format","url":"/zh-CN/docs/0.13/specification/java_serialization_spec#fory-header","content":" Fory header consists starts one byte:  | 4 bits | 1 bit | 1 bit | 1 bit | 1 bit | optional 4 bytes | +---------------+-------+-------+--------+-------+------------------------------------+ | reserved bits | oob | xlang | endian | null | unsigned int for meta start offset |   null flag: 1 when object is null, 0 otherwise. If an object is null, other bits won't be set.endian flag: 1 when data is encoded by little endian, 0 for big endian.xlang flag: 1 when serialization uses xlang format, 0 when serialization uses Fory java format.oob flag: 1 when passed BufferCallback is not null, 0 otherwise.  If meta share mode is enabled, an uncompressed unsigned int is appended to indicate the start offset of metadata.  ","version":"0.13","tagName":"h2"},{"title":"Reference Meta‚Äã","type":1,"pageTitle":"Java Serialization Format","url":"/zh-CN/docs/0.13/specification/java_serialization_spec#reference-meta","content":" Reference tracking handles whether the object is null, and whether to track reference for the object by writing corresponding flags and maintaining internal state.  Reference flags:  Flag\tByte Value\tDescriptionNULL FLAG\t-3\tThis flag indicates the object is a null value. We don't use another byte to indicate REF, so that we can save one byte. REF FLAG\t-2\tThis flag indicates the object is already serialized previously, and fory will write a ref id with unsigned varint format instead of serialize it again NOT_NULL VALUE FLAG\t-1\tThis flag indicates the object is a non-null value and fory doesn't track ref for this type of object. REF VALUE FLAG\t0\tThis flag indicates the object is referencable and the first time to serialize.  When reference tracking is disabled globally or for specific types, or for certain types within a particular context(e.g., a field of a class), only the NULL and NOT_NULL VALUE flags will be used for reference meta.  ","version":"0.13","tagName":"h2"},{"title":"Class Meta‚Äã","type":1,"pageTitle":"Java Serialization Format","url":"/zh-CN/docs/0.13/specification/java_serialization_spec#class-meta","content":" Fory supports to register class by an optional id, the registration can be used for security check and class identification. If a class is registered, it will have a user-provided or an auto-growing unsigned int i.e. class_id.  Depending on whether meta share mode and registration is enabled for current class, Fory will write class meta differently.  ","version":"0.13","tagName":"h2"},{"title":"Schema consistent‚Äã","type":1,"pageTitle":"Java Serialization Format","url":"/zh-CN/docs/0.13/specification/java_serialization_spec#schema-consistent","content":" If schema consistent mode is enabled globally or enabled for current class, class meta will be written as follows:  If class is registered, it will be written as a fory unsigned varint: class_id &lt;&lt; 1.If class is not registered: If class is not an array, fory will write one byte 0bxxxxxxx1 first, then write class name. The first little bit is 1, which is different from first bit 0 of encoded class id. Fory can use this information to determine whether to read class by class id for deserialization. If class is not registered and class is an array, fory will write one byte dimensions &lt;&lt; 1 | 1 first, then write component class subsequently. This can reduce array class name cost if component class is or will be serialized.Class will be written as two enumerated fory unsigned by default: package name and class name. If meta share mode is enabled, class will be written as an unsigned varint which points to index in MetaContext.  ","version":"0.13","tagName":"h3"},{"title":"Schema evolution‚Äã","type":1,"pageTitle":"Java Serialization Format","url":"/zh-CN/docs/0.13/specification/java_serialization_spec#schema-evolution","content":" If schema evolution mode is enabled globally or enabled for current class, class meta will be written as follows:  If meta share mode is not enabled, class meta will be written as schema consistent mode. Additionally, field meta such as field type and name will be written with the field value using a key-value like layout.If meta share mode is enabled, class meta will be written as a meta-share encoded binary if class hasn't been written before, otherwise an unsigned varint id which references to previous written class meta will be written.  ","version":"0.13","tagName":"h3"},{"title":"Meta share‚Äã","type":1,"pageTitle":"Java Serialization Format","url":"/zh-CN/docs/0.13/specification/java_serialization_spec#meta-share","content":" This mode will forbid streaming writing since it needs to look back for update the start offset after the whole object graph writing and meta collecting is finished. Only in this way we can ensure deserialization failure doesn't lost shared meta. Meta streamline will be supported in the future for enclosed meta sharing which doesn't cross multiple serializations of different objects.  For Schema consistent mode, class will be encoded as an enumerated string by full class name. Here we mainly describe the meta layout for schema evolution mode:  | 8 bytes global meta header | 1~2 bytes | variable bytes | variable bytes | variable bytes | +-------------------------------+-------------|--------------------+-------------------+----------------+ | 50 bits hash + 14 bits header | type header | current class meta | parent class meta | ... |   Class meta are encoded from parent class to leaf class, only class with serializable fields will be encoded.  ","version":"0.13","tagName":"h2"},{"title":"Global meta header‚Äã","type":1,"pageTitle":"Java Serialization Format","url":"/zh-CN/docs/0.13/specification/java_serialization_spec#global-meta-header","content":" Meta header is a 64 bits number value encoded in little endian order.  lower 12 bits are used to encode meta size. If meta size &gt;= 0b1111_1111_1111, then writemeta_ size - 0b1111_1111_1111 next.13rd bit is used to indicate whether to write fields meta. When this class is schema-consistent or use registered serializer, fields meta will be skipped. Class Meta will be used for share namespace + type name only.14rd bit is used to indicate whether meta is compressed.Other 50 bits is used to store the unique hash of flags + all layers class meta.  ","version":"0.13","tagName":"h3"},{"title":"Type header‚Äã","type":1,"pageTitle":"Java Serialization Format","url":"/zh-CN/docs/0.13/specification/java_serialization_spec#type-header","content":" Lowest 4 digits 0b0000~0b1110 are used to record num classes. 0b1111 is preserved to indicate that Fory need to read more bytes for length using Fory unsigned int encoding. If current class doesn't has parent class, or parent class doesn't have fields to serialize, or we're in a context which serialize fields of current class only(ObjectStreamSerializer#SlotInfo is an example), num classes will be 1.Other 4 bits are preserved to future extensions.If num classes are greater than or equal to 0b1111, write num_classes - 0b1111 as varuint next.  ","version":"0.13","tagName":"h3"},{"title":"Single layer class meta‚Äã","type":1,"pageTitle":"Java Serialization Format","url":"/zh-CN/docs/0.13/specification/java_serialization_spec#single-layer-class-meta","content":" | unsigned varint | meta string | meta string | field info: variable bytes | variable bytes | ... | +----------------------------+-----------------------+---------------------+-------------------------------+-----------------+-----+ | num fields + register flag | header + package name | header + class name | header + type id + field name | next field info | ... |   num fields: encode num fields &lt;&lt; 1 | register flag(1 when class registered) as unsigned varint. If class is registered, then an unsigned varint class id will be written next, package and class name will be omitted.If current class is schema consistent, then num field will be 0 to flag it.If current class isn't schema consistent, then num field will be the number of compatible fields. For example, users can use tag id to mark some field as compatible field in schema consistent context. In such cases, schema consistent fields will be serialized first, then compatible fields will be serialized next. At deserialization, Fory will use fields info of those fields which aren't annotated by tag id for deserializing schema consistent fields, then use fields info in meta for deserializing compatible fields. Package name encoding(omitted when class is registered): encoding algorithm: UTF8/ALL_TO_LOWER_SPECIAL/LOWER_UPPER_DIGIT_SPECIALHeader: 6 bits size | 2 bits encoding flags. The 6 bits size: 0~63 will be used to indicate size 0~63, the value 63 the size need more byte to read, the encoding will encode size - 63 as a varint next. Class name encoding(omitted when class is registered): encoding algorithm: UTF8/LOWER_UPPER_DIGIT_SPECIAL/FIRST_TO_LOWER_SPECIAL/ALL_TO_LOWER_SPECIALheader: 6 bits size | 2 bits encoding flags. The 6 bits size: 0~63 will be used to indicate size 0~63, the value 63 the size need more byte to read, the encoding will encode size - 63 as a varint next. Field info: header(8 bits): 3 bits size + 2 bits field name encoding + polymorphism flag + nullability flag + ref tracking flag. Users can use annotation to provide those info. 2 bits field name encoding: encoding: UTF8/ALL_TO_LOWER_SPECIAL/LOWER_UPPER_DIGIT_SPECIAL/TAG_IDIf tag id is used, i.e. field name is written by an unsigned varint tag id. 2 bits encoding will be 11. size of field name: The 3 bits size: 0~7 will be used to indicate length 1~7, the value 6 the size read more bytes, the encoding will encode size - 7 as a varint next.If encoding is TAG_ID, then num_bytes of field name will be used to store tag id. ref tracking: when set to 1, ref tracking will be enabled for this field.nullability: when set to 1, this field can be null.polymorphism: when set to 1, the actual type of field will be the declared field type even the type if not final. type id: For registered type-consistent classes, it will be the registered class id.Otherwise it will be encoded as OBJECT_ID if it isn't final and FINAL_OBJECT_ID if it's final. The meta for such types is written separately instead of inlining here is to reduce meta space cost if object of this type is serialized in current object graph multiple times, and the field value may be null too. Field name: If type id is set, type id will be used instead. Otherwise meta string encoding length and data will be written instead.  Field order are left as implementation details, which is not exposed to specification, the deserialization need to resort fields based on Fory field comparator. In this way, fory can compute statistics for field names or types and using a more compact encoding.  ","version":"0.13","tagName":"h3"},{"title":"Other layers class meta‚Äã","type":1,"pageTitle":"Java Serialization Format","url":"/zh-CN/docs/0.13/specification/java_serialization_spec#other-layers-class-meta","content":" Same encoding algorithm as the previous layer except:  header + package name: Header: If package name has been written before: varint index + sharing flag(set) will be writtenIf package name hasn't been written before: If meta string encoding is LOWER_SPECIAL and the length of encoded string &lt;= 64, then header will be6 bits size + encoding flag(set) + sharing flag(unset).Otherwise, header will be 3 bits unset + 3 bits encoding flags + encoding flag(unset) + sharing flag(unset)  ","version":"0.13","tagName":"h3"},{"title":"Meta String‚Äã","type":1,"pageTitle":"Java Serialization Format","url":"/zh-CN/docs/0.13/specification/java_serialization_spec#meta-string","content":" Meta string is mainly used to encode meta strings such as class name and field names.  ","version":"0.13","tagName":"h2"},{"title":"Encoding Algorithms‚Äã","type":1,"pageTitle":"Java Serialization Format","url":"/zh-CN/docs/0.13/specification/java_serialization_spec#encoding-algorithms","content":" String binary encoding algorithm:  Algorithm\tPattern\tDescriptionLOWER_SPECIAL\ta-z._$|\tevery char is written using 5 bits, a-z: 0b00000~0b11001, ._$|: 0b11010~0b11101, prepend one bit at the start to indicate whether strip last char since last byte may have 7 redundant bits(1 indicates strip last char) LOWER_UPPER_DIGIT_SPECIAL\ta-zA-Z0~9._\tevery char is written using 6 bits, a-z: 0b00000~0b11001, A-Z: 0b11010~0b110011, 0~9: 0b110100~0b111101, ._: 0b111110~0b111111, prepend one bit at the start to indicate whether strip last char since last byte may have 7 redundant bits(1 indicates strip last char) UTF-8\tany chars\tUTF-8 encoding  Encoding flags:  Encoding Flag\tPattern\tEncoding AlgorithmLOWER_SPECIAL\tevery char is in a-z._$|\tLOWER_SPECIAL FIRST_TO_LOWER_SPECIAL\tevery char is in a-z[c1,c2] except first char is upper case\treplace first upper case char to lower case, then use LOWER_SPECIAL ALL_TO_LOWER_SPECIAL\tevery char is in a-zA-Z[c1,c2]\treplace every upper case char by | + lower case, then use LOWER_SPECIAL, use this encoding if it's smaller than Encoding LOWER_UPPER_DIGIT_SPECIAL LOWER_UPPER_DIGIT_SPECIAL\tevery char is in a-zA-Z[c1,c2]\tuse LOWER_UPPER_DIGIT_SPECIAL encoding if it's smaller than Encoding FIRST_TO_LOWER_SPECIAL UTF8\tany utf-8 char\tuse UTF-8 encoding Compression\tany utf-8 char\tlossless compression  Notes:  For package name encoding, c1,c2 should be ._; For field/type name encoding, c1,c2 should be _$;Depending on cases, one can choose encoding flags + data jointly, uses 3 bits of first byte for flags and other bytes for data.  ","version":"0.13","tagName":"h3"},{"title":"Shared meta string‚Äã","type":1,"pageTitle":"Java Serialization Format","url":"/zh-CN/docs/0.13/specification/java_serialization_spec#shared-meta-string","content":" The shared meta string format consists of header and encoded string binary. Header of encoded string binary will be inlined in shared meta header.  Header is written using little endian order, Fory can read this flag first to determine how to deserialize the data.  Write by data‚Äã  If string hasn't been written before, the data will be written as follows:  | unsigned varint: string binary size + 1 bit: not written before | 56 bits: unique hash | 3 bits encoding flags + string binary |   If string binary size is less than 16 bytes, the hash will be omitted to save spaces. Unique hash can be omitted too if caller pass a flag to disable it. In such cases, the format will be:  | unsigned varint: string binary size + 1 bit: not written before | 3 bits encoding flags + string binary |   Write by ref‚Äã  If string has been written before, the data will be written as follows:  | unsigned varint: written string id + 1 bit: written before |   ","version":"0.13","tagName":"h3"},{"title":"Value Format‚Äã","type":1,"pageTitle":"Java Serialization Format","url":"/zh-CN/docs/0.13/specification/java_serialization_spec#value-format","content":" ","version":"0.13","tagName":"h2"},{"title":"Basic types‚Äã","type":1,"pageTitle":"Java Serialization Format","url":"/zh-CN/docs/0.13/specification/java_serialization_spec#basic-types","content":" Bool‚Äã  size: 1 byteformat: 0 for false, 1 for true  Byte‚Äã  size: 1 byteformat: write as pure byte.  Short‚Äã  size: 2 bytebyte order: little endian order  Char‚Äã  size: 2 bytebyte order: little endian order  Unsigned int‚Äã  size: 1~5 byteFormat: The most significant bit (MSB) in every byte indicates whether to have the next byte. If first bit is set i.e. b &amp; 0x80 == 0x80, then the next byte should be read until the first bit of the next byte is unset.  Signed int‚Äã  size: 1~5 byteFormat: First convert the number into positive unsigned int by (v &lt;&lt; 1) ^ (v &gt;&gt; 31) ZigZag algorithm, then encoding it as an unsigned int.  Unsigned long‚Äã  size: 1~9 byteFory PVL(Progressive Variable-length Long) Encoding: positive long format: first bit in every byte indicates whether to have the next byte. If first bit is set i.e. b &amp; 0x80 == 0x80, then the next byte should be read until the first bit is unset.  Signed long‚Äã  size: 1~9 byteFory SLI(Small long as int) Encoding: If long is in [-1073741824, 1073741823], encode as 4 bytes int: | little-endian: ((int) value) &lt;&lt; 1 |Otherwise write as 9 bytes: | 0b1 | little-endian 8 bytes long | Fory PVL(Progressive Variable-length Long) Encoding: First convert the number into positive unsigned long by (v &lt;&lt; 1) ^ (v &gt;&gt; 63) ZigZag algorithm to reduce cost of small negative numbers, then encoding it as an unsigned long.  Float‚Äã  size: 4 byteformat: convert float to 4 bytes int by Float.floatToRawIntBits, then write as binary by little endian order.  Double‚Äã  size: 8 byteformat: convert double to 8 bytes int by Double.doubleToRawLongBits, then write as binary by little endian order.  ","version":"0.13","tagName":"h3"},{"title":"String‚Äã","type":1,"pageTitle":"Java Serialization Format","url":"/zh-CN/docs/0.13/specification/java_serialization_spec#string","content":" Format:  | header: size &lt;&lt; 2 | 2 bits encoding flags | binary data |   size + encoding will be concat as a long and encoded as an unsigned var long. The little 2 bits is used for encoding: 0 for latin, 1 for utf-16, 2 for utf-8.encoded string binary data based on encoding: latin/utf-16/utf-8.  Which encoding to choose:  For JDK8: fory detect latin at runtime, if string is latin string, then use latin encoding, otherwise use utf-16.For JDK9+: fory use coder in String object for encoding, latin/utf-16 will be used for encoding.If the string is encoded by utf-8, then fory will use utf-8 to decode the data. But currently fory doesn't enable utf-8 encoding by default for java. Cross-language string serialization of fory uses utf-8 by default.  ","version":"0.13","tagName":"h3"},{"title":"Collection‚Äã","type":1,"pageTitle":"Java Serialization Format","url":"/zh-CN/docs/0.13/specification/java_serialization_spec#collection","content":" All collection serializers must extend CollectionLikeSerializer.  Format:  length(unsigned varint) | collection header | elements header | elements data   Collection header‚Äã  For ArrayList/LinkedArrayList/HashSet/LinkedHashSet, this will be empty.For TreeSet, this will be ComparatorFor subclass of ArrayList, this may be extra object field info.  Elements header‚Äã  In most cases, all collection elements are same type and not null, elements header will encode those homogeneous information to avoid the cost of writing it for every element. Specifically, there are four kinds of information which will be encoded by elements header, each use one bit:  If track elements ref, use the first bit 0b1 of the header to flag it.If the collection has null, use the second bit 0b10 of the header to flag it. If ref tracking is enabled for this element type, this flag is invalid.If the collection element types are the declared type, use the 3rd bit 0b100 of the header to flag it.If the collection element types are same, use the 4th bit 0b1000 header to flag it.  By default, all bits are unset, which means all elements won't track ref, all elements are same type, not null and the actual element is the declared type in the custom class field.  The implementation can generate different deserialization code based read header, and look up the generated code from a linear map/list.  Elements data‚Äã  Based on the elements header, the serialization of elements data may skip ref flag/null flag/element class info.  CollectionSerializer#write/read can be taken as an example.  ","version":"0.13","tagName":"h3"},{"title":"Array‚Äã","type":1,"pageTitle":"Java Serialization Format","url":"/zh-CN/docs/0.13/specification/java_serialization_spec#array","content":" Primitive array‚Äã  Primitive array are taken as a binary buffer, serialization will just write the length of array size as an unsigned int, then copy the whole buffer into the stream.  Such serialization won't compress the array. If users want to compress primitive array, users need to register custom serializers for such types.  Object array‚Äã  Object array is serialized using the collection format. Object component type will be taken as collection element generic type.  ","version":"0.13","tagName":"h3"},{"title":"Map‚Äã","type":1,"pageTitle":"Java Serialization Format","url":"/zh-CN/docs/0.13/specification/java_serialization_spec#map","content":" All Map serializers must extend MapLikeSerializer.  Format:  | length(unsigned varint) | map header | key value pairs data |   Map header‚Äã  For HashMap/LinkedHashMap, this will be empty.For TreeMap, this will be ComparatorFor other Map, this may be extra object field info.  Map Key-Value data‚Äã  Map iteration is too expensive, Fory won't compute the header like for collection before since it introduceconsiderable overhead. Users can use MapFieldInfo annotation to provide header in advance. Otherwise Fory will use first key-value pair to predict header optimistically, and update the chunk header if the prediction failed at some pair.  Fory will serialize map chunk by chunk, every chunk has 127 pairs at most.  | 1 byte | 1 byte | variable bytes | +----------------+----------------+-----------------+ | KV header | chunk size: N | N*2 objects |   KV header:  If track key ref, use the first bit 0b1 of the header to flag it.If the key has null, use the second bit 0b10 of the header to flag it. If ref tracking is enabled for this key type, this flag is invalid.If the actual key type of map is the declared key type, use the 3rd bit 0b100 of the header to flag it.If track value ref, use the 4th bit 0b1000 of the header to flag it.If the value has null, use the 5th bit 0b10000 of the header to flag it. If ref tracking is enabled for this value type, this flag is invalid.If the value type of map is the declared value type, use the 6rd bit 0b100000 of the header to flag it.If key or value is null, that key and value will be written as a separate chunk, and chunk size writing will be skipped too.  If streaming write is enabled, which means Fory can't update written chunk size. In such cases, map key-value data format will be:  | 1 byte | variable bytes | +----------------+-----------------+ | KV header | N*2 objects |   KV header will be a header marked by MapFieldInfo in java. The implementation can generate different deserialization code based read header, and look up the generated code from a linear map/list.  ","version":"0.13","tagName":"h3"},{"title":"Enum‚Äã","type":1,"pageTitle":"Java Serialization Format","url":"/zh-CN/docs/0.13/specification/java_serialization_spec#enum","content":" Enums are serialized as an unsigned var int. If the order of enum values change, the deserialized enum value may not be the value users expect. In such cases, users must register enum serializer by make it write enum value as an enumerated string with unique hash disabled.  ","version":"0.13","tagName":"h3"},{"title":"Object‚Äã","type":1,"pageTitle":"Java Serialization Format","url":"/zh-CN/docs/0.13/specification/java_serialization_spec#object","content":" Object means object of pojo/struct/bean/record type. Object will be serialized by writing its fields data in fory order.  Depending on schema compatibility, objects will have different formats.  Field order‚Äã  Field will be ordered as following, every group of fields will have its own order:  primitive fields: larger size type first, smaller later, variable size type last.boxed primitive fields: same order as primitive fieldsfinal fields: same type together, then sorted by field name lexicographically.collection fields: same order as final fieldsmap fields: same order as final fieldsother fields: same order as final fields  Schema consistent‚Äã  Object fields will be serialized one by one using following format:  Primitive field value: | var bytes | +----------------+ | value data | +----------------+ Boxed field value: | one byte | var bytes | +-----------+---------------+ | null flag | field value | +-----------+---------------+ field value of final type with ref tracking: | var bytes | var objects | +-----------+-------------+ | ref meta | value data | +-----------+-------------+ field value of final type without ref tracking: | one byte | var objects | +-----------+-------------+ | null flag | field value | +-----------+-------------+ field value of non-final type with ref tracking: | one byte | var bytes | var objects | +-----------+-------------+-------------+ | ref meta | class meta | value data | +-----------+-------------+-------------+ field value of non-final type without ref tracking: | one byte | var bytes | var objects | +-----------+------------+------------+ | null flag | class meta | value data | +-----------+------------+------------+   Schema evolution‚Äã  Schema evolution have similar format as schema consistent mode for object except:  For this object type itself, schema consistent mode will write class by id/name, but schema evolution mode will write class field names, types and other meta too, see Class meta.Class meta of final custom type needs to be written too, because peers may not have this class defined.  ","version":"0.13","tagName":"h3"},{"title":"Class‚Äã","type":1,"pageTitle":"Java Serialization Format","url":"/zh-CN/docs/0.13/specification/java_serialization_spec#class","content":" Class will be serialized using class meta format.  ","version":"0.13","tagName":"h3"},{"title":"Implementation guidelines‚Äã","type":1,"pageTitle":"Java Serialization Format","url":"/zh-CN/docs/0.13/specification/java_serialization_spec#implementation-guidelines","content":" Try to merge multiple bytes into an int/long write before writing to reduce memory IO and bound check cost.Read multiple bytes as an int/long, then split into multiple bytes to reduce memory IO and bound check cost.Try to use one varint/long to write flags and length together to save one byte cost and reduce memory io.Condition branches are less expensive compared to memory IO cost unless there are too many branches. ","version":"0.13","tagName":"h2"},{"title":"Row Format","type":0,"sectionRef":"#","url":"/zh-CN/docs/0.13/specification/row_format_spec","content":"","keywords":"","version":"0.13"},{"title":"Row Format‚Äã","type":1,"pageTitle":"Row Format","url":"/zh-CN/docs/0.13/specification/row_format_spec#row-format","content":" Coming soon ","version":"0.13","tagName":"h2"},{"title":"Xlang Type Mapping","type":0,"sectionRef":"#","url":"/zh-CN/docs/0.13/specification/xlang_type_mapping","content":"","keywords":"","version":"0.13"},{"title":"Type Mapping‚Äã","type":1,"pageTitle":"Xlang Type Mapping","url":"/zh-CN/docs/0.13/specification/xlang_type_mapping#type-mapping","content":" Fory Type\tFory Type ID\tJava\tPython\tJavascript\tC++\tGolang\tRustbool\t1\tbool/Boolean\tbool\tBoolean\tbool\tbool\tbool int8\t2\tbyte/Byte\tint/pyfory.Int8\tType.int8()\tint8_t\tint8\ti8 int16\t3\tshort/Short\tint/pyfory.Int16\tType.int16()\tint16_t\tint16\ti6 int32\t4\tint/Integer\tint/pyfory.Int32\tType.int32()\tint32_t\tint32\ti32 var_int32\t5\tint/Integer\tint/pyfory.VarInt32\tType.varint32()\tfory::varint32_t\tfory.varint32\tfory::varint32 int64\t6\tlong/Long\tint/pyfory.Int64\tType.int64()\tint64_t\tint64\ti64 var_int64\t7\tlong/Long\tint/pyfory.VarInt64\tType.varint64()\tfory::varint64_t\tfory.varint64\tfory::varint64 sli_int64\t8\tlong/Long\tint/pyfory.SliInt64\tType.sliint64()\tfory::sliint64_t\tfory.sliint64\tfory::sliint64 float16\t9\tfloat/Float\tfloat/pyfory.Float16\tType.float16()\tfory::float16_t\tfory.float16\tfory::f16 float32\t10\tfloat/Float\tfloat/pyfory.Float32\tType.float32()\tfloat\tfloat32\tf32 float64\t11\tdouble/Double\tfloat/pyfory.Float64\tType.float64()\tdouble\tfloat64\tf64 string\t12\tString\tstr\tString\tstring\tstring\tString/str enum\t13\tEnum subclasses\tenum subclasses\t/\tenum\t/\tenum named_enum\t14\tEnum subclasses\tenum subclasses\t/\tenum\t/\tenum struct\t15\tpojo/record\tdata class / type with type hints\tobject\tstruct/class\tstruct\tstruct compatible_struct\t16\tpojo/record\tdata class / type with type hints\tobject\tstruct/class\tstruct\tstruct named_struct\t17\tpojo/record\tdata class / type with type hints\tobject\tstruct/class\tstruct\tstruct named_compatible_struct\t18\tpojo/record\tdata class / type with type hints\tobject\tstruct/class\tstruct\tstruct ext\t19\tpojo/record\tdata class / type with type hints\tobject\tstruct/class\tstruct\tstruct named_ext\t20\tpojo/record\tdata class / type with type hints\tobject\tstruct/class\tstruct\tstruct list\t21\tList/Collection\tlist/tuple\tarray\tvector\tslice\tVec set\t22\tSet\tset\t/\tset\tfory.Set\tSet map\t23\tMap\tdict\tMap\tunordered_map\tmap\tHashMap duration\t24\tDuration\ttimedelta\tNumber\tduration\tDuration\tDuration timestamp\t25\tInstant\tdatetime\tNumber\tstd::chrono::nanoseconds\tTime\tDateTime local_date\t26\tDate\tdatetime\tNumber\tstd::chrono::nanoseconds\tTime\tDateTime decimal\t27\tBigDecimal\tDecimal\tbigint\t/\t/\t/ binary\t28\tbyte[]\tbytes\t/\tuint8_t[n]/vector&lt;T&gt;\t[n]uint8/[]T\tVec&lt;uint8_t&gt; array\t29\tarray\tnp.ndarray\t/\t/\tarray/slice\tVec bool_array\t30\tbool[]\tndarray(np.bool_)\t/\tbool[n]\t[n]bool/[]T\tVec&lt;bool&gt; int8_array\t31\tbyte[]\tndarray(int8)\t/\tint8_t[n]/vector&lt;T&gt;\t[n]int8/[]T\tVec&lt;i18&gt; int16_array\t32\tshort[]\tndarray(int16)\t/\tint16_t[n]/vector&lt;T&gt;\t[n]int16/[]T\tVec&lt;i16&gt; int32_array\t33\tint[]\tndarray(int32)\t/\tint32_t[n]/vector&lt;T&gt;\t[n]int32/[]T\tVec&lt;i32&gt; int64_array\t34\tlong[]\tndarray(int64)\t/\tint64_t[n]/vector&lt;T&gt;\t[n]int64/[]T\tVec&lt;i64&gt; float16_array\t35\tfloat[]\tndarray(float16)\t/\tfory::float16_t[n]/vector&lt;T&gt;\t[n]float16/[]T\tVec&lt;fory::f16&gt; float32_array\t36\tfloat[]\tndarray(float32)\t/\tfloat[n]/vector&lt;T&gt;\t[n]float32/[]T\tVec&lt;f32&gt; float64_array\t37\tdouble[]\tndarray(float64)\t/\tdouble[n]/vector&lt;T&gt;\t[n]float64/[]T\tVec&lt;f64&gt; arrow record batch\t38\t/\t/\t/\t/\t/\t/ arrow table\t39\t/\t/\t/\t/\t/\t/  ","version":"0.13","tagName":"h2"},{"title":"Type info(not implemented currently)‚Äã","type":1,"pageTitle":"Xlang Type Mapping","url":"/zh-CN/docs/0.13/specification/xlang_type_mapping#type-infonot-implemented-currently","content":" Due to differences between type systems of languages, those types can't be mapped one-to-one between languages.  If the user notices that one type on a language corresponds to multiple types in Fory type systems, for example, longin java has type int64/varint64/sliint64, it means the language lacks some types, and the user must provide extra type info when using Fory.  ","version":"0.13","tagName":"h2"},{"title":"Type annotation‚Äã","type":1,"pageTitle":"Xlang Type Mapping","url":"/zh-CN/docs/0.13/specification/xlang_type_mapping#type-annotation","content":" If the type is a field of another class, users can provide meta hints for fields of a type, or for the whole type. Such information can be provided in other languages too:  java: use annotation.cpp: use macro and template.golang: use struct tag.python: use typehint.rust: use macro.  Here is en example:  Java: class Foo { @Int32Type(varint = true) int f1; List&lt;@Int32Type(varint = true) Integer&gt; f2; } Python: class Foo: f1: Int32Type(varint=True) f2: List[Int32Type(varint=True)]   ","version":"0.13","tagName":"h2"},{"title":"Type wrapper‚Äã","type":1,"pageTitle":"Xlang Type Mapping","url":"/zh-CN/docs/0.13/specification/xlang_type_mapping#type-wrapper","content":" If the type is not a field of a class, the user must wrap this type with a Fory type to pass the extra type info.  For example, suppose Fory Java provide a VarInt64 type, when a user invoke fory.serialize(long_value), he need to invoke like fory.serialize(new VarInt64(long_value)). ","version":"0.13","tagName":"h2"},{"title":"Â§öËØ≠Ë®ÄÂ∫èÂàóÂåñ","type":0,"sectionRef":"#","url":"/zh-CN/docs/0.13/guide/xlang_serialization","content":"","keywords":"","version":"0.13"},{"title":"Ë∑®ËØ≠Ë®ÄÂØπË±°ÂõæÂ∫èÂàóÂåñ‚Äã","type":1,"pageTitle":"Â§öËØ≠Ë®ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/0.13/guide/xlang_serialization#Ë∑®ËØ≠Ë®ÄÂØπË±°ÂõæÂ∫èÂàóÂåñ","content":" ","version":"0.13","tagName":"h2"},{"title":"Â∫èÂàóÂåñÂÜÖÁΩÆÁ±ªÂûã‚Äã","type":1,"pageTitle":"Â§öËØ≠Ë®ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/0.13/guide/xlang_serialization#Â∫èÂàóÂåñÂÜÖÁΩÆÁ±ªÂûã","content":" Apache Fory‚Ñ¢ ÂèØ‰ª•Ëá™Âä®Â∫èÂàóÂåñÁºñÁ®ãËØ≠Ë®ÄÁöÑÂ∏∏ËßÅÊï∞ÊçÆÁ±ªÂûãÔºöprimitive numeric types, string, binary, array, list, map Á≠â„ÄÇ  Java  import org.apache.fory.*; import org.apache.fory.config.*; import java.util.*; public class Example1 { public static void main(String[] args) { Fory fory = Fory.builder().withLanguage(Language.XLANG).build(); List&lt;Object&gt; list = ofArrayList(true, false, &quot;str&quot;, -1.1, 1, new int[100], new double[20]); byte[] bytes = fory.serialize(list); // bytes can be data serialized by other languages. fory.deserialize(bytes); Map&lt;Object, Object&gt; map = new HashMap&lt;&gt;(); map.put(&quot;k1&quot;, &quot;v1&quot;); map.put(&quot;k2&quot;, list); map.put(&quot;k3&quot;, -1); bytes = fory.serialize(map); // bytes can be data serialized by other languages. fory.deserialize(bytes); } }   Python  import pyfory import numpy as np fory = pyfory.Fory() object_list = [True, False, &quot;str&quot;, -1.1, 1, np.full(100, 0, dtype=np.int32), np.full(20, 0.0, dtype=np.double)] data = fory.serialize(object_list) # bytes can be data serialized by other languages. new_list = fory.deserialize(data) object_map = {&quot;k1&quot;: &quot;v1&quot;, &quot;k2&quot;: object_list, &quot;k3&quot;: -1} data = fory.serialize(object_map) # bytes can be data serialized by other languages. new_map = fory.deserialize(data) print(new_map)   Golang  package main import forygo &quot;github.com/apache/fory/fory/go/fory&quot; import &quot;fmt&quot; func main() { list := []interface{}{true, false, &quot;str&quot;, -1.1, 1, make([]int32, 10), make([]float64, 20)} fory := forygo.NewFory() bytes, err := fory.Marshal(list) if err != nil { panic(err) } var newValue interface{} // bytes can be data serialized by other languages. if err := fory.Unmarshal(bytes, &amp;newValue); err != nil { panic(err) } fmt.Println(newValue) dict := map[string]interface{}{ &quot;k1&quot;: &quot;v1&quot;, &quot;k2&quot;: list, &quot;k3&quot;: -1, } bytes, err = fory.Marshal(dict) if err != nil { panic(err) } // bytes can be data serialized by other languages. if err := fory.Unmarshal(bytes, &amp;newValue); err != nil { panic(err) } fmt.Println(newValue) }   JavaScript  import Fory from &quot;@apache-fory/fory&quot;; /** * @apache-fory/hps use v8's fast-calls-api that can be called directly by jit, ensure that the version of Node is 20 or above. * Experimental feature, installation success cannot be guaranteed at this moment * If you are unable to install the module, replace it with `const hps = null;` **/ import hps from &quot;@apache-fory/hps&quot;; const fory = new Fory({ hps }); const input = fory.serialize(&quot;hello fory&quot;); const result = fory.deserialize(input); console.log(result);   Rust  use chrono::{NaiveDate, NaiveDateTime}; use fory::{from_buffer, to_buffer, Fory}; use std::collections::HashMap; fn run() { let bin: Vec&lt;u8&gt; = to_buffer(&amp;&quot;hello&quot;.to_string()); let obj: String = from_buffer(&amp;bin).expect(&quot;should success&quot;); assert_eq!(&quot;hello&quot;.to_string(), obj); }   ","version":"0.13","tagName":"h3"},{"title":"Â∫èÂàóÂåñËá™ÂÆö‰πâÁ±ªÂûã‚Äã","type":1,"pageTitle":"Â§öËØ≠Ë®ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/0.13/guide/xlang_serialization#Â∫èÂàóÂåñËá™ÂÆö‰πâÁ±ªÂûã","content":" Â∫èÂàóÂåñÁî®Êà∑ÂÆö‰πâÁöÑÁ±ªÂûãÈúÄË¶Å‰ΩøÁî®Ê≥®ÂÜå API Ê≥®ÂÜåËá™ÂÆö‰πâÁ±ªÂûãÔºå‰ª•‰æøÂú®‰∏çÂêåËØ≠Ë®Ä‰∏≠Âª∫Á´ãÁ±ªÂûã‰πãÈó¥ÁöÑÊò†Â∞ÑÂÖ≥Á≥ª„ÄÇ  Java  import org.apache.fory.*; import org.apache.fory.config.*; import java.util.*; public class Example2 { public static class SomeClass1 { Object f1; Map&lt;Byte, Integer&gt; f2; } public static class SomeClass2 { Object f1; String f2; List&lt;Object&gt; f3; Map&lt;Byte, Integer&gt; f4; Byte f5; Short f6; Integer f7; Long f8; Float f9; Double f10; short[] f11; List&lt;Short&gt; f12; } public static Object createObject() { SomeClass1 obj1 = new SomeClass1(); obj1.f1 = true; obj1.f2 = ofHashMap((byte) -1, 2); SomeClass2 obj = new SomeClass2(); obj.f1 = obj1; obj.f2 = &quot;abc&quot;; obj.f3 = ofArrayList(&quot;abc&quot;, &quot;abc&quot;); obj.f4 = ofHashMap((byte) 1, 2); obj.f5 = Byte.MAX_VALUE; obj.f6 = Short.MAX_VALUE; obj.f7 = Integer.MAX_VALUE; obj.f8 = Long.MAX_VALUE; obj.f9 = 1.0f / 2; obj.f10 = 1 / 3.0; obj.f11 = new short[]{(short) 1, (short) 2}; obj.f12 = ofArrayList((short) -1, (short) 4); return obj; } // mvn exec:java -Dexec.mainClass=&quot;org.apache.fory.examples.Example2&quot; public static void main(String[] args) { Fory fory = Fory.builder().withLanguage(Language.XLANG).build(); fory.register(SomeClass1.class, &quot;example.SomeClass1&quot;); fory.register(SomeClass2.class, &quot;example.SomeClass2&quot;); byte[] bytes = fory.serialize(createObject()); // bytes can be data serialized by other languages. System.out.println(fory.deserialize(bytes)); } }   Python  from dataclasses import dataclass from typing import List, Dict, Any import pyfory, array @dataclass class SomeClass1: f1: Any f2: Dict[pyfory.Int8Type, pyfory.Int32Type] @dataclass class SomeClass2: f1: Any = None f2: str = None f3: List[str] = None f4: Dict[pyfory.Int8Type, pyfory.Int32Type] = None f5: pyfory.Int8Type = None f6: pyfory.Int16Type = None f7: pyfory.Int32Type = None # int type will be taken as `pyfory.Int64Type`. # use `pyfory.Int32Type` for type hint if peer # are more narrow type. f8: int = None f9: pyfory.Float32Type = None # float type will be taken as `pyfory.Float64Type` f10: float = None f11: pyfory.Int16ArrayType = None f12: List[pyfory.Int16Type] = None if __name__ == &quot;__main__&quot;: f = pyfory.Fory() f.register_class(SomeClass1, type_tag=&quot;example.SomeClass1&quot;) f.register_class(SomeClass2, type_tag=&quot;example.SomeClass2&quot;) obj1 = SomeClass1(f1=True, f2={-1: 2}) obj = SomeClass2( f1=obj1, f2=&quot;abc&quot;, f3=[&quot;abc&quot;, &quot;abc&quot;], f4={1: 2}, f5=2 ** 7 - 1, f6=2 ** 15 - 1, f7=2 ** 31 - 1, f8=2 ** 63 - 1, f9=1.0 / 2, f10=1 / 3.0, f11=array.array(&quot;h&quot;, [1, 2]), f12=[-1, 4], ) data = f.serialize(obj) # bytes can be data serialized by other languages. print(f.deserialize(data))   Golang  package main import forygo &quot;github.com/apache/fory/fory/go/fory&quot; import &quot;fmt&quot; func main() { type SomeClass1 struct { F1 interface{} F2 string F3 []interface{} F4 map[int8]int32 F5 int8 F6 int16 F7 int32 F8 int64 F9 float32 F10 float64 F11 []int16 F12 fory.Int16Slice } type SomeClas2 struct { F1 interface{} F2 map[int8]int32 } fory := forygo.NewFory() if err := fory.RegisterTagType(&quot;example.SomeClass1&quot;, SomeClass1{}); err != nil { panic(err) } if err := fory.RegisterTagType(&quot;example.SomeClass2&quot;, SomeClass2{}); err != nil { panic(err) } obj1 := &amp;SomeClass1{} obj1.F1 = true obj1.F2 = map[int8]int32{-1: 2} obj := &amp;SomeClass1{} obj.F1 = obj1 obj.F2 = &quot;abc&quot; obj.F3 = []interface{}{&quot;abc&quot;, &quot;abc&quot;} f4 := map[int8]int32{1: 2} obj.F4 = f4 obj.F5 = fory.MaxInt8 obj.F6 = fory.MaxInt16 obj.F7 = fory.MaxInt32 obj.F8 = fory.MaxInt64 obj.F9 = 1.0 / 2 obj.F10 = 1 / 3.0 obj.F11 = []int16{1, 2} obj.F12 = []int16{-1, 4} bytes, err := fory.Marshal(obj); if err != nil { panic(err) } var newValue interface{} // bytes can be data serialized by other languages. if err := fory.Unmarshal(bytes, &amp;newValue); err != nil { panic(err) } fmt.Println(newValue) }   JavaScript  import Fory, { Type, InternalSerializerType } from &quot;@apache-fory/fory&quot;; /** * @apache-fory/hps use v8's fast-calls-api that can be called directly by jit, ensure that the version of Node is 20 or above. * Experimental feature, installation success cannot be guaranteed at this moment * If you are unable to install the module, replace it with `const hps = null;` **/ import hps from &quot;@apache-fory/hps&quot;; // Now we describe data structures using JSON, but in the future, we will use more ways. const description = Type.object(&quot;example.foo&quot;, { foo: Type.string(), }); const fory = new Fory({ hps }); const { serialize, deserialize } = fory.registerSerializer(description); const input = serialize({ foo: &quot;hello fory&quot; }); const result = deserialize(input); console.log(result);   Rust  use chrono::{NaiveDate, NaiveDateTime}; use fory::{from_buffer, to_buffer, Fory}; use std::collections::HashMap; #[test] fn complex_struct() { #[derive(Fory, Debug, PartialEq)] #[tag(&quot;example.foo2&quot;)] struct Animal { category: String, } #[derive(Fory, Debug, PartialEq)] #[tag(&quot;example.foo&quot;)] struct Person { c1: Vec&lt;u8&gt;, // binary c2: Vec&lt;i16&gt;, // primitive array animal: Vec&lt;Animal&gt;, c3: Vec&lt;Vec&lt;u8&gt;&gt;, name: String, c4: HashMap&lt;String, String&gt;, age: u16, op: Option&lt;String&gt;, op2: Option&lt;String&gt;, date: NaiveDate, time: NaiveDateTime, c5: f32, c6: f64, } let person: Person = Person { c1: vec![1, 2, 3], c2: vec![5, 6, 7], c3: vec![vec![1, 2], vec![1, 3]], animal: vec![Animal { category: &quot;Dog&quot;.to_string(), }], c4: HashMap::from([ (&quot;hello1&quot;.to_string(), &quot;hello2&quot;.to_string()), (&quot;hello2&quot;.to_string(), &quot;hello3&quot;.to_string()), ]), age: 12, name: &quot;helo&quot;.to_string(), op: Some(&quot;option&quot;.to_string()), op2: None, date: NaiveDate::from_ymd_opt(2025, 12, 12).unwrap(), time: NaiveDateTime::from_timestamp_opt(1689912359, 0).unwrap(), c5: 2.0, c6: 4.0, }; let bin: Vec&lt;u8&gt; = to_buffer(&amp;person); let obj: Person = from_buffer(&amp;bin).expect(&quot;should success&quot;); assert_eq!(person, obj); }   ","version":"0.13","tagName":"h3"},{"title":"Â∫èÂàóÂåñÂÖ±‰∫´ÂºïÁî®ÂíåÂæ™ÁéØÂºïÁî®‚Äã","type":1,"pageTitle":"Â§öËØ≠Ë®ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/0.13/guide/xlang_serialization#Â∫èÂàóÂåñÂÖ±‰∫´ÂºïÁî®ÂíåÂæ™ÁéØÂºïÁî®","content":" ÂÖ±‰∫´ÂºïÁî®ÂíåÂæ™ÁéØÂºïÁî®ÂèØ‰ª•Ë¢´Ëá™Âä®Â∫èÂàóÂåñÔºå‰∏ç‰ºö‰∫ßÁîüÈáçÂ§çÊï∞ÊçÆÊàñÈÄíÂΩíÈîôËØØ„ÄÇ  Java  import org.apache.fory.*; import org.apache.fory.config.*; import java.util.*; public class ReferenceExample { public static class SomeClass { SomeClass f1; Map&lt;String, String&gt; f2; Map&lt;String, String&gt; f3; } public static Object createObject() { SomeClass obj = new SomeClass(); obj.f1 = obj; obj.f2 = ofHashMap(&quot;k1&quot;, &quot;v1&quot;, &quot;k2&quot;, &quot;v2&quot;); obj.f3 = obj.f2; return obj; } // mvn exec:java -Dexec.mainClass=&quot;org.apache.fory.examples.ReferenceExample&quot; public static void main(String[] args) { Fory fory = Fory.builder().withLanguage(Language.XLANG) .withRefTracking(true).build(); fory.register(SomeClass.class, &quot;example.SomeClass&quot;); byte[] bytes = fory.serialize(createObject()); // bytes can be data serialized by other languages. System.out.println(fory.deserialize(bytes)); } }   Python  from typing import Dict import pyfory class SomeClass: f1: &quot;SomeClass&quot; f2: Dict[str, str] f3: Dict[str, str] fory = pyfory.Fory(ref_tracking=True) fory.register_type(SomeClass, typename=&quot;example.SomeClass&quot;) obj = SomeClass() obj.f2 = {&quot;k1&quot;: &quot;v1&quot;, &quot;k2&quot;: &quot;v2&quot;} obj.f1, obj.f3 = obj, obj.f2 data = fory.serialize(obj) # bytes can be data serialized by other languages. print(fory.deserialize(data))   Golang  package main import forygo &quot;github.com/apache/fory/fory/go/fory&quot; import &quot;fmt&quot; func main() { type SomeClass struct { F1 *SomeClass F2 map[string]string F3 map[string]string } fory := forygo.NewFory(true) if err := fory.RegisterTagType(&quot;example.SomeClass&quot;, SomeClass{}); err != nil { panic(err) } value := &amp;SomeClass{F2: map[string]string{&quot;k1&quot;: &quot;v1&quot;, &quot;k2&quot;: &quot;v2&quot;}} value.F3 = value.F2 value.F1 = value bytes, err := fory.Marshal(value) if err != nil { panic(err) } var newValue interface{} // bytes can be data serialized by other languages. if err := fory.Unmarshal(bytes, &amp;newValue); err != nil { panic(err) } fmt.Println(newValue) }   JavaScript  import Fory, { Type } from &quot;@apache-fory/fory&quot;; /** * @apache-fory/hps use v8's fast-calls-api that can be called directly by jit, ensure that the version of Node is 20 or above. * Experimental feature, installation success cannot be guaranteed at this moment * If you are unable to install the module, replace it with `const hps = null;` **/ import hps from &quot;@apache-fory/hps&quot;; const description = Type.object(&quot;example.foo&quot;, { foo: Type.string(), bar: Type.object(&quot;example.foo&quot;), }); const fory = new Fory({ hps }); const { serialize, deserialize } = fory.registerSerializer(description); const data = { foo: &quot;hello fory&quot;, }; data.bar = data; const input = serialize(data); const result = deserialize(input); console.log(result.bar.foo === result.foo);   Rust  Áî±‰∫é Rust ÊâÄÊúâÊùÉÈôêÂà∂ÔºåÊöÇ‰∏çÊîØÊåÅÂºïÁî®Á±ªÂûãÁöÑÂ∫èÂàóÂåñ  ","version":"0.13","tagName":"h3"},{"title":"Zero-Copy Serialization‚Äã","type":1,"pageTitle":"Â§öËØ≠Ë®ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/0.13/guide/xlang_serialization#zero-copy-serialization","content":" Java  import org.apache.fory.*; import org.apache.fory.config.*; import org.apache.fory.serializers.BufferObject; import org.apache.fory.memory.MemoryBuffer; import java.util.*; import java.util.stream.Collectors; public class ZeroCopyExample { // mvn exec:java -Dexec.mainClass=&quot;io.ray.fory.examples.ZeroCopyExample&quot; public static void main(String[] args) { Fory fory = Fory.builder().withLanguage(Language.XLANG).build(); List&lt;Object&gt; list = ofArrayList(&quot;str&quot;, new byte[1000], new int[100], new double[100]); Collection&lt;BufferObject&gt; bufferObjects = new ArrayList&lt;&gt;(); byte[] bytes = fory.serialize(list, e -&gt; !bufferObjects.add(e)); // bytes can be data serialized by other languages. List&lt;MemoryBuffer&gt; buffers = bufferObjects.stream() .map(BufferObject::toBuffer).collect(Collectors.toList()); System.out.println(fory.deserialize(bytes, buffers)); } }   Python  import array import pyfory import numpy as np fory = pyfory.Fory() list_ = [&quot;str&quot;, bytes(bytearray(1000)), array.array(&quot;i&quot;, range(100)), np.full(100, 0.0, dtype=np.double)] serialized_objects = [] data = fory.serialize(list_, buffer_callback=serialized_objects.append) buffers = [o.to_buffer() for o in serialized_objects] # bytes can be data serialized by other languages. print(fory.deserialize(data, buffers=buffers))   Golang  package main import forygo &quot;github.com/apache/fory/fory/go/fory&quot; import &quot;fmt&quot; func main() { fory := forygo.NewFory() list := []interface{}{&quot;str&quot;, make([]byte, 1000)} buf := fory.NewByteBuffer(nil) var bufferObjects []fory.BufferObject fory.Serialize(buf, list, func(o fory.BufferObject) bool { bufferObjects = append(bufferObjects, o) return false }) var newList []interface{} var buffers []*fory.ByteBuffer for _, o := range bufferObjects { buffers = append(buffers, o.ToBuffer()) } if err := fory.Deserialize(buf, &amp;newList, buffers); err != nil { panic(err) } fmt.Println(newList) }   JavaScript  // Coming soon  ","version":"0.13","tagName":"h3"},{"title":"ÂÆâË£Ö Apache Fory‚Ñ¢","type":0,"sectionRef":"#","url":"/zh-CN/docs/0.13/start/install","content":"","keywords":"","version":"0.13"},{"title":"ÂÆâË£Ö Apache Fory‚Ñ¢ Java‚Äã","type":1,"pageTitle":"ÂÆâË£Ö Apache Fory‚Ñ¢","url":"/zh-CN/docs/0.13/start/install#ÂÆâË£Ö-apache-fory-java","content":" Ë¶Å‰ΩøÁî® Maven Ê∑ªÂä†ÂØπ Apache Fory‚Ñ¢ ÁöÑ‰æùËµñÔºåËØ∑‰ΩøÁî®‰ª•‰∏ãÈÖçÁΩÆÔºö  &lt;dependency&gt; &lt;groupId&gt;org.apache.fory&lt;/groupId&gt; &lt;artifactId&gt;fory-core&lt;/artifactId&gt; &lt;version&gt;0.13.2&lt;/version&gt; &lt;/dependency&gt; &lt;!-- Optional row format support --&gt; &lt;!-- &lt;dependency&gt; &lt;groupId&gt;org.apache.fory&lt;/groupId&gt; &lt;artifactId&gt;fory-format&lt;/artifactId&gt; &lt;version&gt;0.13.1&lt;/version&gt; &lt;/dependency&gt; --&gt; &lt;!-- SIMD acceleration for array compression (Java 16+) --&gt; &lt;!-- &lt;dependency&gt; &lt;groupId&gt;org.apache.fory&lt;/groupId&gt; &lt;artifactId&gt;fory-simd&lt;/artifactId&gt; &lt;version&gt;0.13.1&lt;/version&gt; &lt;/dependency&gt; --&gt;   ","version":"0.13","tagName":"h2"},{"title":"ÂÆâË£Ö Apache Fory‚Ñ¢ Scala‚Äã","type":1,"pageTitle":"ÂÆâË£Ö Apache Fory‚Ñ¢","url":"/zh-CN/docs/0.13/start/install#ÂÆâË£Ö-apache-fory-scala","content":" Ë¶Å‰ΩøÁî® Maven Ê∑ªÂä† scala 2.13 ÁöÑ Fory scala ‰æùËµñÔºåËØ∑‰ΩøÁî®‰ª•‰∏ãÈÖçÁΩÆÔºö  &lt;dependency&gt; &lt;groupId&gt;org.apache.fory&lt;/groupId&gt; &lt;artifactId&gt;fory-scala_2.13&lt;/artifactId&gt; &lt;version&gt;0.13.2&lt;/version&gt; &lt;/dependency&gt;   Ë¶Å‰ΩøÁî® Maven Ê∑ªÂä† scala 3 ÁöÑ Fory scala ‰æùËµñÔºåËØ∑‰ΩøÁî®‰ª•‰∏ãÈÖçÁΩÆÔºö  &lt;dependency&gt; &lt;groupId&gt;org.apache.fory&lt;/groupId&gt; &lt;artifactId&gt;fory-scala_3&lt;/artifactId&gt; &lt;version&gt;0.13.2&lt;/version&gt; &lt;/dependency&gt;   Ë¶Å‰ΩøÁî® sbt Ê∑ªÂä† scala 2.13 ÁöÑ Fory scala ‰æùËµñÔºåËØ∑‰ΩøÁî®‰ª•‰∏ãÈÖçÁΩÆÔºö  libraryDependencies += &quot;org.apache.fory&quot; % &quot;fory-scala_2.13&quot; % &quot;0.13.2&quot;   Ë¶Å‰ΩøÁî® sbt Ê∑ªÂä† scala 3 ÁöÑ Fory scala ‰æùËµñÔºåËØ∑‰ΩøÁî®‰ª•‰∏ãÈÖçÁΩÆÔºö  libraryDependencies += &quot;org.apache.fory&quot; % &quot;fory-scala_3&quot; % &quot;0.13.2&quot;   ","version":"0.13","tagName":"h2"},{"title":"ÂÆâË£Ö Apache Fory‚Ñ¢ Kotlin‚Äã","type":1,"pageTitle":"ÂÆâË£Ö Apache Fory‚Ñ¢","url":"/zh-CN/docs/0.13/start/install#ÂÆâË£Ö-apache-fory-kotlin","content":" To add a dependency on Apache Fory‚Ñ¢kotlin with maven, use the following:  &lt;dependency&gt; &lt;groupId&gt;org.apache.fory&lt;/groupId&gt; &lt;artifactId&gt;fory-kotlin&lt;/artifactId&gt; &lt;version&gt;0.13.2&lt;/version&gt; &lt;/dependency&gt;   ","version":"0.13","tagName":"h2"},{"title":"ÂÆâË£Ö Apache Fory‚Ñ¢ Python‚Äã","type":1,"pageTitle":"ÂÆâË£Ö Apache Fory‚Ñ¢","url":"/zh-CN/docs/0.13/start/install#ÂÆâË£Ö-apache-fory-python","content":" python -m pip install --upgrade pip pip install pyfory==0.13.2   ","version":"0.13","tagName":"h2"},{"title":"ÂÆâË£Ö Apache Fory‚Ñ¢ Rust‚Äã","type":1,"pageTitle":"ÂÆâË£Ö Apache Fory‚Ñ¢","url":"/zh-CN/docs/0.13/start/install#ÂÆâË£Ö-apache-fory-rust","content":" [dependencies] fory = &quot;0.14&quot;   ÊàñËÄÖÁõ¥Êé•ÊâßË°å‰ª•‰∏ãÂëΩ‰ª§Ôºö  cargo add fory@0.13.2  ","version":"0.13","tagName":"h2"},{"title":"Java Â∫èÂàóÂåñ","type":0,"sectionRef":"#","url":"/zh-CN/docs/0.13/guide/serialization","content":"","keywords":"","version":"0.13"},{"title":"Âø´ÈÄüÂºÄÂßã‚Äã","type":1,"pageTitle":"Java Â∫èÂàóÂåñ","url":"/zh-CN/docs/0.13/guide/serialization#Âø´ÈÄüÂºÄÂßã","content":" Ê≥®ÊÑèÔºåFory ÂÆû‰æãÁöÑÂàõÂª∫ÂºÄÈîÄËæÉÂ§ßÔºåFory ÂÆû‰æãÂ∫îÂú®Â§öÊ¨°Â∫èÂàóÂåñÈó¥Â§çÁî®ÔºåËÄå‰∏çÊòØÊØèÊ¨°ÈÉΩÊñ∞Âª∫„ÄÇ Âª∫ËÆÆÂ∞Ü Fory ‰øùÂ≠òÂú®ÈùôÊÄÅÂÖ®Â±ÄÂèòÈáè„ÄÅÂçï‰æãÂØπË±°ÊàñÊúâÈôêÊï∞ÈáèÁöÑÂÆû‰æãÂèòÈáè‰∏≠„ÄÇ  ÂçïÁ∫øÁ®ãÂú∫ÊôØ‰∏ã Fory ÁöÑÁî®Ê≥ïÔºö  import java.util.List; import java.util.Arrays; import org.apache.fory.*; import org.apache.fory.config.*; public class Example { public static void main(String[] args) { SomeClass object = new SomeClass(); // Ê≥®ÊÑèÔºöFory ÂÆû‰æãÂ∫îÂú®Â§öÊ¨°Â∫èÂàóÂåñÈó¥Â§çÁî® Fory fory = Fory.builder().withLanguage(Language.JAVA) .requireClassRegistration(true) .build(); // Ê≥®ÂÜåÁ±ªÂûãÂèØÂáèÂ∞ëÁ±ªÂêçÂ∫èÂàóÂåñÂºÄÈîÄÔºå‰ΩÜ‰∏çÊòØÂº∫Âà∂ÁöÑ„ÄÇ // ÂêØÁî®Á±ªÊ≥®ÂÜåÂêéÔºåÊâÄÊúâËá™ÂÆö‰πâÁ±ªÂûãÈÉΩÂøÖÈ°ªÊ≥®ÂÜå„ÄÇ fory.register(SomeClass.class); byte[] bytes = fory.serialize(object); System.out.println(fory.deserialize(bytes)); } }   Â§öÁ∫øÁ®ãÂú∫ÊôØ‰∏ã Fory ÁöÑÁî®Ê≥ïÔºö  import java.util.List; import java.util.Arrays; import org.apache.fory.*; import org.apache.fory.config.*; public class Example { public static void main(String[] args) { SomeClass object = new SomeClass(); // Ê≥®ÊÑèÔºöFory ÂÆû‰æãÂ∫îÂú®Â§öÊ¨°Â∫èÂàóÂåñÈó¥Â§çÁî® ThreadSafeFory fory = new ThreadLocalFory(classLoader -&gt; { Fory f = Fory.builder().withLanguage(Language.JAVA) .withClassLoader(classLoader).build(); f.register(SomeClass.class); return f; }); byte[] bytes = fory.serialize(object); System.out.println(fory.deserialize(bytes)); } }   Fory ÂÆû‰æãÂ§çÁî®Á§∫‰æãÔºö  import java.util.List; import java.util.Arrays; import org.apache.fory.*; import org.apache.fory.config.*; public class Example { // Â§çÁî® fory ÂÆû‰æã private static final ThreadSafeFory fory = new ThreadLocalFory(classLoader -&gt; { Fory f = Fory.builder().withLanguage(Language.JAVA) .withClassLoader(classLoader).build(); f.register(SomeClass.class); return f; }); public static void main(String[] args) { SomeClass object = new SomeClass(); byte[] bytes = fory.serialize(object); System.out.println(fory.deserialize(bytes)); } }   ","version":"0.13","tagName":"h2"},{"title":"ForyBuilder ÈÖçÁΩÆÈÄâÈ°π‚Äã","type":1,"pageTitle":"Java Â∫èÂàóÂåñ","url":"/zh-CN/docs/0.13/guide/serialization#forybuilder-ÈÖçÁΩÆÈÄâÈ°π","content":" ÈÄâÈ°πÂêç\tËØ¥Êòé\tÈªòËÆ§ÂÄºtimeRefIgnored\tÊòØÂê¶ÂøΩÁï•ÊâÄÊúâÂú® TimeSerializers Ê≥®ÂÜåÁöÑÊó∂Èó¥Á±ªÂûãÂèäÂÖ∂Â≠êÁ±ªÁöÑÂºïÁî®Ë∑üË∏™ÔºàÂΩìÂºïÁî®Ë∑üË∏™ÂºÄÂêØÊó∂Ôºâ„ÄÇÂ¶ÇÈúÄÂØπÊó∂Èó¥Á±ªÂûãÂêØÁî®ÂºïÁî®Ë∑üË∏™ÔºåÂèØÈÄöËøá Fory#registerSerializer(Class, Serializer) Ê≥®ÂÜå„ÄÇ‰æãÂ¶ÇÔºöfory.registerSerializer(Date.class, new DateSerializer(fory, true))„ÄÇÊ≥®ÊÑèÔºåÂêØÁî®ÂºïÁî®Ë∑üË∏™ÈúÄÂú®ÂåÖÂê´Êó∂Èó¥Â≠óÊÆµÁöÑÁ±ªÂûã‰ª£Á†ÅÁîüÊàêÂâçÂÆåÊàêÔºåÂê¶ÂàôËøô‰∫õÂ≠óÊÆµ‰ªç‰ºöË∑≥ËøáÂºïÁî®Ë∑üË∏™„ÄÇ\ttrue compressInt\tÊòØÂê¶ÂêØÁî® int ÂéãÁº©‰ª•ÂáèÂ∞èÂ∫èÂàóÂåñ‰ΩìÁßØ„ÄÇ\ttrue compressLong\tÊòØÂê¶ÂêØÁî® long ÂéãÁº©‰ª•ÂáèÂ∞èÂ∫èÂàóÂåñ‰ΩìÁßØ„ÄÇ\ttrue compressString\tÊòØÂê¶ÂêØÁî®Â≠óÁ¨¶‰∏≤ÂéãÁº©‰ª•ÂáèÂ∞èÂ∫èÂàóÂåñ‰ΩìÁßØ„ÄÇ\tfalse classLoader\tÁ±ªÂä†ËΩΩÂô®‰∏çÂª∫ËÆÆÂä®ÊÄÅÂèòÊõ¥ÔºåFory ‰ºöÁºìÂ≠òÁ±ªÂÖÉÊï∞ÊçÆ„ÄÇÂ¶ÇÈúÄÂèòÊõ¥Á±ªÂä†ËΩΩÂô®ÔºåËØ∑‰ΩøÁî® LoaderBinding Êàñ ThreadSafeFory„ÄÇ\tThread.currentThread().getContextClassLoader() compatibleMode\tÁ±ªÂûãÂâçÂêë/ÂêéÂêëÂÖºÂÆπÊÄßÈÖçÁΩÆ„ÄÇ‰∏é checkClassVersion ÈÖçÁΩÆÁõ∏ÂÖ≥„ÄÇSCHEMA_CONSISTENTÔºöÂ∫èÂàóÂåñÁ´Ø‰∏éÂèçÂ∫èÂàóÂåñÁ´ØÁ±ªÁªìÊûÑÈúÄ‰∏ÄËá¥„ÄÇCOMPATIBLEÔºöÂ∫èÂàóÂåñÁ´Ø‰∏éÂèçÂ∫èÂàóÂåñÁ´ØÁ±ªÁªìÊûÑÂèØ‰∏çÂêåÔºåÂèØÁã¨Á´ãÂ¢ûÂà†Â≠óÊÆµ„ÄÇËØ¶ËßÅ„ÄÇ\tCompatibleMode.SCHEMA_CONSISTENT checkClassVersion\tÊòØÂê¶Ê†°È™åÁ±ªÁªìÊûÑ‰∏ÄËá¥ÊÄß„ÄÇÂêØÁî®ÂêéÔºåFory ‰ºöÂÜôÂÖ•Âπ∂Ê†°È™å classVersionHash„ÄÇËã•ÂêØÁî® CompatibleMode#COMPATIBLEÔºåÊ≠§È°π‰ºöËá™Âä®ÂÖ≥Èó≠„ÄÇÈô§ÈùûËÉΩÁ°Æ‰øùÁ±ª‰∏ç‰ºöÊºîÂåñÔºåÂê¶Âàô‰∏çÂª∫ËÆÆÂÖ≥Èó≠„ÄÇ\tfalse checkJdkClassSerializable\tÊòØÂê¶Ê†°È™å java.* ‰∏ãÁöÑÁ±ªÂÆûÁé∞‰∫Ü Serializable Êé•Âè£„ÄÇËã•Êú™ÂÆûÁé∞ÔºåFory ‰ºöÊäõÂá∫ UnsupportedOperationException„ÄÇ\ttrue registerGuavaTypes\tÊòØÂê¶È¢ÑÊ≥®ÂÜå Guava Á±ªÂûãÔºàÂ¶Ç RegularImmutableMap/RegularImmutableListÔºâ„ÄÇËøô‰∫õÁ±ªÂûãËôΩÈùûÂÖ¨ÂºÄ APIÔºå‰ΩÜËæÉ‰∏∫Á®≥ÂÆö„ÄÇ\ttrue requireClassRegistration\tÂÖ≥Èó≠ÂêéÂèØÂèçÂ∫èÂàóÂåñÊú™Áü•Á±ªÂûãÔºåÁÅµÊ¥ªÊÄßÊõ¥È´òÔºå‰ΩÜÂ≠òÂú®ÂÆâÂÖ®È£éÈô©„ÄÇ\ttrue suppressClassRegistrationWarnings\tÊòØÂê¶Â±èËîΩÁ±ªÊ≥®ÂÜåË≠¶Âëä„ÄÇË≠¶ÂëäÂèØÁî®‰∫éÂÆâÂÖ®ÂÆ°ËÆ°Ôºå‰ΩÜÂèØËÉΩÂΩ±Âìç‰ΩìÈ™åÔºåÈªòËÆ§ÂºÄÂêØÂ±èËîΩ„ÄÇ\ttrue metaShareEnabled\tÊòØÂê¶ÂêØÁî®ÂÖÉÊï∞ÊçÆÂÖ±‰∫´Ê®°Âºè„ÄÇ\ttrueÔºàËã•ËÆæÁΩÆ‰∫Ü CompatibleMode.CompatibleÔºåÂê¶Âàô‰∏∫ falseÔºâ scopedMetaShareEnabled\tÊòØÂê¶ÂêØÁî®ÂçïÊ¨°Â∫èÂàóÂåñËåÉÂõ¥ÂÜÖÁöÑÂÖÉÊï∞ÊçÆÁã¨‰∫´„ÄÇËØ•ÂÖÉÊï∞ÊçÆ‰ªÖÂú®Êú¨Ê¨°Â∫èÂàóÂåñ‰∏≠ÊúâÊïàÔºå‰∏ç‰∏éÂÖ∂‰ªñÂ∫èÂàóÂåñÂÖ±‰∫´„ÄÇ\ttrueÔºàËã•ËÆæÁΩÆ‰∫Ü CompatibleMode.CompatibleÔºåÂê¶Âàô‰∏∫ falseÔºâ metaCompressor\tËÆæÁΩÆÂÖÉÊï∞ÊçÆÂéãÁº©Âô®„ÄÇÈªòËÆ§‰ΩøÁî®Âü∫‰∫é Deflater ÁöÑ DeflaterMetaCompressorÔºåÂèØËá™ÂÆö‰πâÂ¶Ç zstd Á≠âÊõ¥È´òÂéãÁº©ÊØîÁöÑÂéãÁº©Âô®„ÄÇÈúÄ‰øùËØÅÁ∫øÁ®ãÂÆâÂÖ®„ÄÇ\tDeflaterMetaCompressor deserializeNonexistentClass\tÊòØÂê¶ÂÖÅËÆ∏ÂèçÂ∫èÂàóÂåñ/Ë∑≥Ëøá‰∏çÂ≠òÂú®ÁöÑÁ±ªÁöÑÊï∞ÊçÆ„ÄÇ\ttrueÔºàËã•ËÆæÁΩÆ‰∫Ü CompatibleMode.CompatibleÔºåÂê¶Âàô‰∏∫ falseÔºâ codeGenEnabled\tÊòØÂê¶ÂêØÁî®‰ª£Á†ÅÁîüÊàê„ÄÇÂÖ≥Èó≠ÂêéÈ¶ñÊ¨°Â∫èÂàóÂåñÊõ¥Âø´Ôºå‰ΩÜÂêéÁª≠Â∫èÂàóÂåñÊÄßËÉΩËæÉ‰Ωé„ÄÇ\ttrue asyncCompilationEnabled\tÊòØÂê¶ÂêØÁî®ÂºÇÊ≠•ÁºñËØë„ÄÇÂêØÁî®ÂêéÔºåÂ∫èÂàóÂåñÂÖàÁî®Ëß£ÈáäÊ®°ÂºèÔºåJIT ÂÆåÊàêÂêéÂàáÊç¢‰∏∫ JIT Ê®°Âºè„ÄÇ\tfalse scalaOptimizationEnabled\tÊòØÂê¶ÂêØÁî® Scala ÁâπÂÆö‰ºòÂåñ„ÄÇ\tfalse copyRef\tÂÖ≥Èó≠ÂêéÔºåÊ∑±Êã∑Ë¥ùÊÄßËÉΩÊõ¥Â•ΩÔºå‰ΩÜ‰ºöÂøΩÁï•Âæ™ÁéØÂíåÂÖ±‰∫´ÂºïÁî®„ÄÇÂØπË±°Âõæ‰∏≠ÁöÑÂêå‰∏ÄÂºïÁî®‰ºöË¢´Êã∑Ë¥ù‰∏∫‰∏çÂêåÂØπË±°„ÄÇ\ttrue serializeEnumByName\tÂêØÁî®ÂêéÔºåÊûö‰∏æÊåâÂêçÁß∞Â∫èÂàóÂåñÔºåÂê¶ÂàôÊåâ ordinal„ÄÇ\tfalse  ","version":"0.13","tagName":"h2"},{"title":"È´òÁ∫ßÁî®Ê≥ï‚Äã","type":1,"pageTitle":"Java Â∫èÂàóÂåñ","url":"/zh-CN/docs/0.13/guide/serialization#È´òÁ∫ßÁî®Ê≥ï","content":" ","version":"0.13","tagName":"h2"},{"title":"Apache Fory‚Ñ¢ ÂàõÂª∫‚Äã","type":1,"pageTitle":"Java Â∫èÂàóÂåñ","url":"/zh-CN/docs/0.13/guide/serialization#apache-fory-ÂàõÂª∫","content":" ÂçïÁ∫øÁ®ã Fory Á§∫‰æãÔºö  Fory fory = Fory.builder() .withLanguage(Language.JAVA) // ÂêØÁî®ÂÖ±‰∫´/Âæ™ÁéØÂºïÁî®Ë∑üË∏™„ÄÇËã•Êó†ÈáçÂ§çÂºïÁî®ÂèØÂÖ≥Èó≠‰ª•ÊèêÂçáÊÄßËÉΩ„ÄÇ .withRefTracking(false) .withCompatibleMode(CompatibleMode.SCHEMA_CONSISTENT) // ÂêØÁî®Á±ªÂûãÂâçÂêë/ÂêéÂêëÂÖºÂÆπ // Ëã•ËøΩÊ±ÇÊõ¥Â∞è‰ΩìÁßØÂíåÊõ¥È´òÊÄßËÉΩÂèØÂÖ≥Èó≠ // .withCompatibleMode(CompatibleMode.COMPATIBLE) // ÂêØÁî®ÂºÇÊ≠•Â§öÁ∫øÁ®ãÁºñËØë .withAsyncCompilation(true) .build(); byte[] bytes = fory.serialize(object); System.out.println(fory.deserialize(bytes));   Á∫øÁ®ãÂÆâÂÖ® Fory Á§∫‰æãÔºö  ThreadSafeFory fory = Fory.builder() .withLanguage(Language.JAVA) // ÂêØÁî®ÂÖ±‰∫´/Âæ™ÁéØÂºïÁî®Ë∑üË∏™„ÄÇËã•Êó†ÈáçÂ§çÂºïÁî®ÂèØÂÖ≥Èó≠‰ª•ÊèêÂçáÊÄßËÉΩ„ÄÇ .withRefTracking(false) // ÂêØÁî® int ÂéãÁº© // .withIntCompressed(true) // ÂêØÁî® long ÂéãÁº© // .withLongCompressed(true) .withCompatibleMode(CompatibleMode.SCHEMA_CONSISTENT) // ÂêØÁî®Á±ªÂûãÂâçÂêë/ÂêéÂêëÂÖºÂÆπ // Ëã•ËøΩÊ±ÇÊõ¥Â∞è‰ΩìÁßØÂíåÊõ¥È´òÊÄßËÉΩÂèØÂÖ≥Èó≠ // .withCompatibleMode(CompatibleMode.COMPATIBLE) // ÂêØÁî®ÂºÇÊ≠•Â§öÁ∫øÁ®ãÁºñËØë .withAsyncCompilation(true) .buildThreadSafeFory(); byte[] bytes = fory.serialize(object); System.out.println(fory.deserialize(bytes));   ","version":"0.13","tagName":"h3"},{"title":"Â∫èÂàóÂåñ‰∏≠ÁöÑÁ±ªÁªìÊûÑÊºîÂåñ‚Äã","type":1,"pageTitle":"Java Â∫èÂàóÂåñ","url":"/zh-CN/docs/0.13/guide/serialization#Â∫èÂàóÂåñ‰∏≠ÁöÑÁ±ªÁªìÊûÑÊºîÂåñ","content":" Âú®ÂÆûÈôÖÁ≥ªÁªü‰∏≠ÔºåÂ∫èÂàóÂåñÁî®Âà∞ÁöÑÁ±ªÁªìÊûÑÂèØËÉΩ‰ºöÈöèÊó∂Èó¥ÂèòÂåñÔºåÊØîÂ¶ÇÂ≠óÊÆµÁöÑÂ¢ûÂà†„ÄÇÂΩìÂ∫èÂàóÂåñÂíåÂèçÂ∫èÂàóÂåñÁ´Ø‰ΩøÁî®‰∏çÂêåÁâàÊú¨ÁöÑ jar Êó∂ÔºåÁ±ªÁªìÊûÑÂèØËÉΩ‰∏ç‰∏ÄËá¥„ÄÇ  Fory ÈªòËÆ§ÈááÁî® CompatibleMode.SCHEMA_CONSISTENTÔºåÂç≥Ë¶ÅÊ±ÇÂ∫èÂàóÂåñÂíåÂèçÂ∫èÂàóÂåñÁ´ØÁ±ªÁªìÊûÑ‰∏ÄËá¥Ôºå‰ª•Ëé∑ÂæóÊúÄÂ∞èÁöÑÂ∫èÂàóÂåñ‰ΩìÁßØÂíåÊúÄÈ´òÊÄßËÉΩ„ÄÇÂ¶ÇÊûúÁªìÊûÑ‰∏ç‰∏ÄËá¥ÔºåÂèçÂ∫èÂàóÂåñ‰ºöÂ§±Ë¥•„ÄÇ  Â¶ÇÈúÄÊîØÊåÅÁ±ªÁªìÊûÑÊºîÂåñÔºàÂâçÂêë/ÂêéÂêëÂÖºÂÆπÔºâÔºåÈúÄÂ∞Ü Fory ÈÖçÁΩÆ‰∏∫ CompatibleMode.COMPATIBLEÔºåÂÖÅËÆ∏Â≠óÊÆµÂ¢ûÂà†ÔºåÂèçÂ∫èÂàóÂåñÁ´ØÂèØËá™Âä®ÈÄÇÈÖç‰∏çÂêåÁªìÊûÑ„ÄÇ  Á§∫‰æãÔºö  Fory fory = Fory.builder() .withCompatibleMode(CompatibleMode.COMPATIBLE) .build(); byte[] bytes = fory.serialize(object); System.out.println(fory.deserialize(bytes));   ÂÖºÂÆπÊ®°Âºè‰∏ãÔºåÁ±ªÂÖÉÊï∞ÊçÆ‰ºöÂÜôÂÖ•Â∫èÂàóÂåñÁªìÊûú„ÄÇApache Fory‚Ñ¢ ÈááÁî®È´òÊïàÂéãÁº©ÁÆóÊ≥ïÈôç‰ΩéÂÖÉÊï∞ÊçÆÂºÄÈîÄÔºå‰ΩÜ‰ªç‰ºöÊúâ‰∏ÄÂÆö‰ΩìÁßØÂ¢ûÂä†„ÄÇ‰∏∫Ëøõ‰∏ÄÊ≠•Èôç‰ΩéÂÖÉÊï∞ÊçÆÊàêÊú¨ÔºåApache Fory‚Ñ¢ ÊîØÊåÅÂÖÉÊï∞ÊçÆÂÖ±‰∫´Êú∫Âà∂ÔºåËØ¶ÊÉÖËßÅMeta Sharing„ÄÇ  ","version":"0.13","tagName":"h3"},{"title":"ÂéãÁº©‚Äã","type":1,"pageTitle":"Java Â∫èÂàóÂåñ","url":"/zh-CN/docs/0.13/guide/serialization#ÂéãÁº©","content":" ForyBuilder#withIntCompressed/ForyBuilder#withLongCompressed ÂèØÁî®‰∫éÂéãÁº© int/long Á±ªÂûã‰ª•ÂáèÂ∞è‰ΩìÁßØ„ÄÇÈªòËÆ§Âùá‰∏∫ÂºÄÂêØ„ÄÇ  Â¶ÇÊûúÂ∫èÂàóÂåñ‰ΩìÁßØ‰∏çÊïèÊÑüÔºàÂ¶Ç‰πãÂâçÁî® flatbuffers Á≠âÊó†ÂéãÁº©Ê†ºÂºèÔºâÔºåÂª∫ËÆÆÂÖ≥Èó≠ÂéãÁº©‰ª•ÊèêÂçáÊÄßËÉΩ„ÄÇÂØπ‰∫éÂÖ®‰∏∫Êï∞Â≠óÁöÑÊï∞ÊçÆÔºåÂéãÁº©ÂèØËÉΩÂ∏¶Êù• 80% ÁöÑÊÄßËÉΩÊçüÂ§±„ÄÇ  int ÂéãÁº©ÈááÁî® 1~5 Â≠óËäÇÂèòÈïøÁºñÁ†ÅÔºålong ÂéãÁº©ÊîØÊåÅ‰∏§ÁßçÊñπÂºèÔºö  SLIÔºàSmall long as intÔºåÈªòËÆ§ÔºâÔºölong Âú® [-1073741824, 1073741823] ËåÉÂõ¥ÂÜÖÁî® 4 Â≠óËäÇÁºñÁ†ÅÔºåÂê¶ÂàôÁî® 9 Â≠óËäÇ„ÄÇPVLÔºàProgressive Variable-length LongÔºâÔºöÈááÁî®ÂèòÈïøÁºñÁ†ÅÔºåË¥üÊï∞ÈÄöËøá (v &lt;&lt; 1) ^ (v &gt;&gt; 63) ËΩ¨Êç¢„ÄÇ  Â¶Ç long Á±ªÂûãÊï∞ÊçÆÊó†Ê≥ïÊúâÊïàÂéãÁº©ÔºåÂª∫ËÆÆÂÖ≥Èó≠ long ÂéãÁº©‰ª•ÊèêÂçáÊÄßËÉΩ„ÄÇ  ","version":"0.13","tagName":"h3"},{"title":"ÂØπË±°Ê∑±Êã∑Ë¥ù‚Äã","type":1,"pageTitle":"Java Â∫èÂàóÂåñ","url":"/zh-CN/docs/0.13/guide/serialization#ÂØπË±°Ê∑±Êã∑Ë¥ù","content":" Ê∑±Êã∑Ë¥ùÁ§∫‰æãÔºö  Fory fory = Fory.builder().withRefCopy(true).build(); SomeClass a = xxx; SomeClass copied = fory.copy(a);   Â¶ÇÈúÄÂøΩÁï•Âæ™ÁéØÂíåÂÖ±‰∫´ÂºïÁî®ÔºàÂç≥ÂØπË±°Âõæ‰∏≠Âêå‰∏ÄÂºïÁî®‰ºöË¢´Êã∑Ë¥ù‰∏∫‰∏çÂêåÂØπË±°ÔºâÔºåÂèØÂÖ≥Èó≠ refCopyÔºö  Fory fory = Fory.builder().withRefCopy(false).build(); SomeClass a = xxx; SomeClass copied = fory.copy(a);   ","version":"0.13","tagName":"h3"},{"title":"Ëá™ÂÆö‰πâÂ∫èÂàóÂåñÂô®‚Äã","type":1,"pageTitle":"Java Â∫èÂàóÂåñ","url":"/zh-CN/docs/0.13/guide/serialization#Ëá™ÂÆö‰πâÂ∫èÂàóÂåñÂô®","content":" Êüê‰∫õÂú∫ÊôØ‰∏ãÈúÄ‰∏∫ÁâπÂÆöÁ±ªÂûãÂÆûÁé∞Ëá™ÂÆö‰πâÂ∫èÂàóÂåñÂô®ÔºåÂ∞§ÂÖ∂ÊòØ JDK writeObject/writeReplace/readObject/readResolve ÊñπÂºèÊïàÁéáËæÉ‰ΩéÊó∂„ÄÇÂ¶Ç‰∏ã‰æãÔºåÈÅøÂÖç Foo#writeObject Ë¢´Ë∞ÉÁî®Ôºö  class Foo { public long f1; private void writeObject(ObjectOutputStream s) throws IOException { System.out.println(f1); s.defaultWriteObject(); } } class FooSerializer extends Serializer&lt;Foo&gt; { public FooSerializer(Fory fory) { super(fory, Foo.class); } @Override public void write(MemoryBuffer buffer, Foo value) { buffer.writeInt64(value.f1); } @Override public Foo read(MemoryBuffer buffer) { Foo foo = new Foo(); foo.f1 = buffer.readInt64(); return foo; } }   Ê≥®ÂÜåËá™ÂÆö‰πâÂ∫èÂàóÂåñÂô®Ôºö  Fory fory = getFory(); fory.registerSerializer(Foo.class, new FooSerializer(fory));   ","version":"0.13","tagName":"h3"},{"title":"ÂÆûÁé∞ÈõÜÂêàÁ±ªÂ∫èÂàóÂåñÂô®‚Äã","type":1,"pageTitle":"Java Â∫èÂàóÂåñ","url":"/zh-CN/docs/0.13/guide/serialization#ÂÆûÁé∞ÈõÜÂêàÁ±ªÂ∫èÂàóÂåñÂô®","content":" ‰∏é Map Á±ª‰ººÔºåÂÆûÁé∞Ëá™ÂÆö‰πâ Collection Á±ªÂûãÁöÑÂ∫èÂàóÂåñÂô®Êó∂ÔºåÈúÄÁªßÊâø CollectionSerializer Êàñ AbstractCollectionSerializer„ÄÇ‰∫åËÄÖÂå∫Âà´Âú®‰∫éÔºåAbstractCollectionSerializer ÂèØÁî®‰∫éÂ∫èÂàóÂåñÁ±ª‰ººÈõÜÂêàÁªìÊûÑ‰ΩÜ‰∏çÊòØ Java Collection Â≠êÁ±ªÁöÑÁ±ªÂûã„ÄÇ  ÂØπ‰∫éÈõÜÂêàÂ∫èÂàóÂåñÂô®ÔºåÊúâ‰∏Ä‰∏™ÁâπÊÆäÂèÇÊï∞ supportCodegenHook ÈúÄË¶ÅÈÖçÁΩÆÔºö  ËÆæ‰∏∫ true Êó∂Ôºö ÂêØÁî®ÈõÜÂêàÂÖÉÁ¥†ÁöÑÈ´òÊïàËÆøÈóÆÂíå JIT ÁºñËØëÔºåÊèêÂçáÊÄßËÉΩÁõ¥Êé•Â∫èÂàóÂåñË∞ÉÁî®ÔºåÂÜÖËÅî map ÁöÑ key-valueÔºåÊó†Âä®ÊÄÅÂàÜÂèëÂºÄÈîÄÊé®ËçêÁî®‰∫éÊ†áÂáÜÈõÜÂêàÁ±ªÂûã ËÆæ‰∏∫ false Êó∂Ôºö ÈááÁî®Êé•Âè£ÊñπÂºèËÆøÈóÆÂÖÉÁ¥†ÔºåÂä®ÊÄÅÂàÜÂèëÔºåÁÅµÊ¥ªÊÄßÊõ¥È´òÈÄÇÂêàÊúâÁâπÊÆäÂ∫èÂàóÂåñÈúÄÊ±ÇÁöÑËá™ÂÆö‰πâÈõÜÂêàÂèØÂ§ÑÁêÜÂ§çÊùÇÈõÜÂêàÂÆûÁé∞  ÊîØÊåÅ JIT ÁöÑÈõÜÂêàÂ∫èÂàóÂåñÂô®ÂÆûÁé∞‚Äã  ÂÆûÁé∞ÊîØÊåÅ JIT ÁöÑÈõÜÂêàÂ∫èÂàóÂåñÂô®Êó∂ÔºåÂèØÂà©Áî® Fory Áé∞ÊúâÁöÑ‰∫åËøõÂà∂Ê†ºÂºèÂíåÈõÜÂêàÂ∫èÂàóÂåñÂü∫Á°ÄËÆæÊñΩ„ÄÇÂÖ≥ÈîÆÂú®‰∫éÊ≠£Á°ÆÂÆûÁé∞ onCollectionWrite Âíå newCollection ÊñπÊ≥ï‰ª•Â§ÑÁêÜÂÖÉÊï∞ÊçÆÔºåÂÖ∂‰ΩôÂÖÉÁ¥†Â∫èÂàóÂåñÁî± Fory Ëá™Âä®ÂÆåÊàê„ÄÇ  Á§∫‰æãÔºö  public class CustomCollectionSerializer&lt;T extends Collection&gt; extends CollectionSerializer&lt;T&gt; { public CustomCollectionSerializer(Fory fory, Class&lt;T&gt; cls) { // supportCodegenHook ÊéßÂà∂ÊòØÂê¶ÂêØÁî® JIT ÁºñËØë super(fory, cls, true); } @Override public Collection onCollectionWrite(MemoryBuffer buffer, T value) { // ÂÜôÂÖ•ÈõÜÂêàÂ§ßÂ∞è buffer.writeVarUint32Small7(value.size()); // ÂèØÂÜôÂÖ•È¢ùÂ§ñÈõÜÂêàÂÖÉÊï∞ÊçÆ return value; } @Override public Collection newCollection(MemoryBuffer buffer) { // ÂàõÂª∫Êñ∞ÈõÜÂêàÂÆû‰æã Collection collection = super.newCollection(buffer); // ËØªÂèñÂπ∂ËÆæÁΩÆÈõÜÂêàÂ§ßÂ∞è int numElements = getAndClearNumElements(); setNumElements(numElements); return collection; } }   Ê≥®ÊÑèÔºöÂÆûÁé∞ newCollection Êó∂ÈúÄË∞ÉÁî® setNumElementsÔºå‰ª•ÂëäÁü• Fory ÂèçÂ∫èÂàóÂåñÂ§öÂ∞ëÂÖÉÁ¥†„ÄÇ  ‰∏çÊîØÊåÅ JIT ÁöÑËá™ÂÆö‰πâÈõÜÂêàÂ∫èÂàóÂåñÂô®‚Äã  ÊúâÊó∂ÈúÄÂ∫èÂàóÂåñÂ∫ïÂ±Ç‰∏∫ÂéüÂßãÊï∞ÁªÑÊàñÊúâÁâπÊÆäÈúÄÊ±ÇÁöÑÈõÜÂêàÁ±ªÂûãÔºåÊ≠§Êó∂ÂèØÁ¶ÅÁî® JITÔºåÁõ¥Êé•ÈáçÂÜô write Âíå read ÊñπÊ≥ï„ÄÇ  ËøôÁßçÊñπÂºèÔºö  ÂÆåÂÖ®ÊéßÂà∂Â∫èÂàóÂåñÊ†ºÂºèÈÄÇÂêàÂéüÂßãÊï∞ÁªÑË∑≥ËøáÈõÜÂêàËø≠‰ª£ÂºÄÈîÄÂèØÁõ¥Êé•ÂÜÖÂ≠òËÆøÈóÆ  Á§∫‰æãÔºàÂéüÂßã int Êï∞ÁªÑÔºâÔºö  class IntList extends AbstractCollection&lt;Integer&gt; { private final int[] elements; private final int size; public IntList(int size) { this.elements = new int[size]; this.size = size; } public IntList(int[] elements, int size) { this.elements = elements; this.size = size; } @Override public Iterator&lt;Integer&gt; iterator() { return new Iterator&lt;Integer&gt;() { private int index = 0; @Override public boolean hasNext() { return index &lt; size; } @Override public Integer next() { if (!hasNext()) throw new NoSuchElementException(); return elements[index++]; } }; } @Override public int size() { return size; } public int get(int index) { if (index &gt;= size) throw new IndexOutOfBoundsException(); return elements[index]; } public void set(int index, int value) { if (index &gt;= size) throw new IndexOutOfBoundsException(); elements[index] = value; } public int[] getElements() { return elements; } } class IntListSerializer extends AbstractCollectionSerializer&lt;IntList&gt; { public IntListSerializer(Fory fory) { // Á¶ÅÁî® JITÔºåÂÆåÂÖ®Ëá™ÂÆö‰πâÂ∫èÂàóÂåñ super(fory, IntList.class, false); } @Override public void write(MemoryBuffer buffer, IntList value) { buffer.writeVarUint32Small7(value.size()); int[] elements = value.getElements(); for (int i = 0; i &lt; value.size(); i++) { buffer.writeVarInt32(elements[i]); } } @Override public IntList read(MemoryBuffer buffer) { int size = buffer.readVarUint32Small7(); int[] elements = new int[size]; for (int i = 0; i &lt; size; i++) { elements[i] = buffer.readVarInt32(); } return new IntList(elements, size); } // JIT Á¶ÅÁî®Êó∂‰ª•‰∏ãÊñπÊ≥ï‰∏ç‰ΩøÁî® @Override public Collection onCollectionWrite(MemoryBuffer buffer, IntList value) { throw new UnsupportedOperationException(); } @Override public Collection newCollection(MemoryBuffer buffer) { throw new UnsupportedOperationException(); } @Override public IntList onCollectionRead(Collection collection) { throw new UnsupportedOperationException(); } }   ÂÖ≥ÈîÆÁÇπËØ¥ÊòéÔºö  ÂéüÂßãÊï∞ÁªÑÂ≠òÂÇ®ÔºöÁõ¥Êé•Áî® int[]ÔºåÈÅøÂÖçË£ÖÁÆ±/ÊãÜÁÆ±ÔºåÂÜÖÂ≠òÂ∏ÉÂ±ÄÈ´òÊïà„ÄÇÁõ¥Êé•Â∫èÂàóÂåñÔºöÂÖàÂÜô sizeÔºåÂÜçÂÜôÂéüÂßãÂÄºÔºåÊó†ÈúÄËø≠‰ª£ÔºåÊó†Ë£ÖÁÆ±/ÊãÜÁÆ±„ÄÇÁõ¥Êé•ÂèçÂ∫èÂàóÂåñÔºöÂÖàËØª sizeÔºåÂÜçËØªÂéüÂßãÂÄºÂ°´ÂÖÖÊï∞ÁªÑÔºåÊúÄÂêéÊûÑÈÄ†ÂØπË±°„ÄÇÁ¶ÅÁî® JITÔºösupportCodegenHook=falseÔºåÈáçÂÜô write/readÔºåÂÆåÂÖ®Ëá™ÂÆö‰πâÊ†ºÂºè„ÄÇ  ÈÄÇÁî®Âú∫ÊôØÔºö  Âè™Â§ÑÁêÜÂéüÂßãÁ±ªÂûãÊÄßËÉΩÊûÅËá¥Ë¶ÅÊ±ÇÈúÄÊúÄÂ∞èÂÜÖÂ≠òÂºÄÈîÄÊúâÁâπÊÆäÂ∫èÂàóÂåñÈúÄÊ±Ç  ‰ΩøÁî®Á§∫‰æãÔºö  IntList list = new IntList(3); list.set(0, 1); list.set(1, 2); list.set(2, 3); byte[] bytes = fory.serialize(list); IntList newList = (IntList) fory.deserialize(bytes);   ËôΩÁÑ∂ÊîæÂºÉ‰∫Ü Fory ÁöÑÈÉ®ÂàÜ‰ºòÂåñÔºå‰ΩÜÂØπÂéüÂßãÁ±ªÂûãÂíåÁõ¥Êé•Êï∞ÁªÑËÆøÈóÆÂú∫ÊôØÊÄßËÉΩÊûÅÈ´ò„ÄÇ  ÂÆûÁé∞ collection-like Á±ªÂûãÂ∫èÂàóÂåñÂô®‚Äã  ÊúâÊó∂ÈúÄ‰∏∫Á±ª‰ººÈõÜÂêà‰ΩÜÈùûÊ†áÂáÜ Java Collection ÁöÑÁ±ªÂûãÂÆûÁé∞Â∫èÂàóÂåñÂô®„ÄÇÂéüÂàôÂ¶Ç‰∏ãÔºö  ÁªßÊâø AbstractCollectionSerializerÂêØÁî® JIT ‰ºòÂåñÔºàsupportCodegenHook=trueÔºâÈÄöËøáËßÜÂõæÁ±ªÈ´òÊïàËÆøÈóÆÂÖÉÁ¥†Ê≠£Á°ÆÁÆ°ÁêÜ size  Á§∫‰æãÔºö  class CustomCollectionLike { private final Object[] elements; private final int size; public CustomCollectionLike(int size) { this.elements = new Object[size]; this.size = size; } public CustomCollectionLike(Object[] elements, int size) { this.elements = elements; this.size = size; } public Object get(int index) { if (index &gt;= size) throw new IndexOutOfBoundsException(); return elements[index]; } public int size() { return size; } public Object[] getElements() { return elements; } } class CollectionView extends AbstractCollection&lt;Object&gt; { private final Object[] elements; private final int size; private int writeIndex; public CollectionView(CustomCollectionLike collection) { this.elements = collection.getElements(); this.size = collection.size(); } public CollectionView(int size) { this.size = size; this.elements = new Object[size]; } @Override public Iterator&lt;Object&gt; iterator() { return new Iterator&lt;Object&gt;() { private int index = 0; @Override public boolean hasNext() { return index &lt; size; } @Override public Object next() { if (!hasNext()) throw new NoSuchElementException(); return elements[index++]; } }; } @Override public boolean add(Object element) { if (writeIndex &gt;= size) throw new IllegalStateException(&quot;Collection is full&quot;); elements[writeIndex++] = element; return true; } @Override public int size() { return size; } public Object[] getElements() { return elements; } } class CustomCollectionSerializer extends AbstractCollectionSerializer&lt;CustomCollectionLike&gt; { public CustomCollectionSerializer(Fory fory) { super(fory, CustomCollectionLike.class, true); } @Override public Collection onCollectionWrite(MemoryBuffer buffer, CustomCollectionLike value) { buffer.writeVarUint32Small7(value.size()); return new CollectionView(value); } @Override public Collection newCollection(MemoryBuffer buffer) { int numElements = buffer.readVarUint32Small7(); setNumElements(numElements); return new CollectionView(numElements); } @Override public CustomCollectionLike onCollectionRead(Collection collection) { CollectionView view = (CollectionView) collection; return new CustomCollectionLike(view.getElements(), view.size()); } }   ÂÖ≥ÈîÆÁÇπËØ¥ÊòéÔºö  Êï∞ÁªÑÂ≠òÂÇ®ÔºåÂÆöÈïøÔºåÁõ¥Êé•ËÆøÈóÆËßÜÂõæÁ±ªÁªßÊâø AbstractCollectionÔºåÂÆûÁé∞Ëø≠‰ª£Âíå addÊîØÊåÅ JIT ‰ºòÂåñÔºåÊï∞ÁªÑÈõ∂Êã∑Ë¥ùÊÄßËÉΩ‰ºòÂÖàÔºåÁÅµÊ¥ªÊÄßÁï•‰Ωé    Â¶ÇÈúÄÁªßÁª≠Ë°•ÂÖÖ map-like Á±ªÂûã„ÄÅÊ≥®ÂÜåËá™ÂÆö‰πâÂ∫èÂàóÂåñÂô®„ÄÅExternalizable ÊîØÊåÅÁ≠âÂÜÖÂÆπÔºåËØ∑ÂõûÂ§ç&quot;ÁªßÁª≠&quot;ÔºÅ  ","version":"0.13","tagName":"h3"},{"title":"Ëá™ÂÆö‰πâ Map Â∫èÂàóÂåñÂô®‚Äã","type":1,"pageTitle":"Java Â∫èÂàóÂåñ","url":"/zh-CN/docs/0.13/guide/serialization#Ëá™ÂÆö‰πâ-map-Â∫èÂàóÂåñÂô®","content":" Ëá™ÂÆö‰πâ Map Á±ªÂûãÂ∫èÂàóÂåñÂô®ÈúÄÁªßÊâø MapSerializer Êàñ AbstractMapSerializer„ÄÇ‰∫åËÄÖÂå∫Âà´Á±ª‰ººÈõÜÂêàÂ∫èÂàóÂåñÂô®„ÄÇ  supportCodegenHook=trueÔºöÊé®ËçêÁî®‰∫éÊ†áÂáÜ MapÔºåÊîØÊåÅ JIT ‰ºòÂåñsupportCodegenHook=falseÔºöÈÄÇÂêàÁâπÊÆäÈúÄÊ±ÇÔºåÈúÄÊâãÂä®ÂÆûÁé∞Â∫èÂàóÂåñÈÄªËæë  ÊîØÊåÅ JIT ÁöÑ Map Â∫èÂàóÂåñÂô®Á§∫‰æã‚Äã  public class CustomMapSerializer&lt;T extends Map&gt; extends MapSerializer&lt;T&gt; { public CustomMapSerializer(Fory fory, Class&lt;T&gt; cls) { super(fory, cls, true); } @Override public Map onMapWrite(MemoryBuffer buffer, T value) { buffer.writeVarUint32Small7(value.size()); return value; } @Override public Map newMap(MemoryBuffer buffer) { int numElements = buffer.readVarUint32Small7(); setNumElements(numElements); return new HashMap(numElements); } }   ‰∏çÊîØÊåÅ JIT ÁöÑËá™ÂÆö‰πâ Map Â∫èÂàóÂåñÂô®‚Äã  ÈÄÇÁî®‰∫éÊúâÁâπÊÆäÂ≠óÊÆµÊàñËá™ÂÆö‰πâ‰∫åËøõÂà∂Ê†ºÂºèÁöÑ Map Á±ªÂûã„ÄÇ  class FixedValueMap extends AbstractMap&lt;String, Integer&gt; { // ... ÁúÅÁï•ÂÆûÁé∞ ... } class FixedValueMapSerializer extends AbstractMapSerializer&lt;FixedValueMap&gt; { public FixedValueMapSerializer(Fory fory) { super(fory, FixedValueMap.class, false); } @Override public void write(MemoryBuffer buffer, FixedValueMap value) { buffer.writeInt32(value.getFixedValue()); buffer.writeVarUint32Small7(value.getKeys().size()); for (String key : value.getKeys()) { buffer.writeString(key); } } @Override public FixedValueMap read(MemoryBuffer buffer) { int fixedValue = buffer.readInt32(); int size = buffer.readVarUint32Small7(); Set&lt;String&gt; keys = new HashSet&lt;&gt;(size); for (int i = 0; i &lt; size; i++) { keys.add(buffer.readString()); } return new FixedValueMap(keys, fixedValue); } @Override public Map onMapWrite(MemoryBuffer buffer, FixedValueMap value) { throw new UnsupportedOperationException(); } @Override public FixedValueMap onMapRead(Map map) { throw new UnsupportedOperationException(); } @Override public FixedValueMap onMapCopy(Map map) { throw new UnsupportedOperationException(); } }   ","version":"0.13","tagName":"h3"},{"title":"Ê≥®ÂÜåËá™ÂÆö‰πâÂ∫èÂàóÂåñÂô®‚Äã","type":1,"pageTitle":"Java Â∫èÂàóÂåñ","url":"/zh-CN/docs/0.13/guide/serialization#Ê≥®ÂÜåËá™ÂÆö‰πâÂ∫èÂàóÂåñÂô®","content":" ÂÆûÁé∞Ëá™ÂÆö‰πâÂ∫èÂàóÂåñÂô®ÂêéÔºåÈúÄÈÄöËøáÂ¶Ç‰∏ãÊñπÂºèÊ≥®ÂÜåÔºö  Fory fory = Fory.builder() .withLanguage(Language.JAVA) .build(); // Ê≥®ÂÜå Map Â∫èÂàóÂåñÂô® fory.registerSerializer(CustomMap.class, new CustomMapSerializer&lt;&gt;(fory, CustomMap.class)); // Ê≥®ÂÜåÈõÜÂêàÂ∫èÂàóÂåñÂô® fory.registerSerializer(CustomCollection.class, new CustomCollectionSerializer&lt;&gt;(fory, CustomCollection.class));   Ê≥®ÊÑè‰∫ãÈ°πÔºö ÂßãÁªàÁªßÊâøÂêàÈÄÇÁöÑÂü∫Á±ªÔºàMap Áî® MapSerializer/AbstractMapSerializerÔºåÈõÜÂêàÁî® CollectionSerializer/AbstractCollectionSerializerÔºâÊ†πÊçÆ supportCodegenHook ÈÄâÊã©ÊÄßËÉΩ‰∏éÁÅµÊ¥ªÊÄßÂ¶ÇÈúÄÂºïÁî®Ë∑üË∏™ÔºåÈúÄÊ≠£Á°ÆÂ§ÑÁêÜsupportCodegenHook=true Êó∂ÔºåÈúÄÁî® setNumElements/getAndClearNumElements ÁÆ°ÁêÜÂÖÉÁ¥†Êï∞Èáè  ","version":"0.13","tagName":"h3"},{"title":"ÂÆâÂÖ®‰∏éÁ±ªÊ≥®ÂÜå‚Äã","type":1,"pageTitle":"Java Â∫èÂàóÂåñ","url":"/zh-CN/docs/0.13/guide/serialization#ÂÆâÂÖ®‰∏éÁ±ªÊ≥®ÂÜå","content":" ForyBuilder#requireClassRegistration ÂèØÂÖ≥Èó≠Á±ªÊ≥®ÂÜåÊ†°È™åÔºåÂÖÅËÆ∏ÂèçÂ∫èÂàóÂåñÊú™Áü•Á±ªÂûãÔºåÁÅµÊ¥ª‰ΩÜÊúâÂÆâÂÖ®È£éÈô©„ÄÇ  Â¶ÇÊó†Ê≥ïÁ°Æ‰øùÁéØÂ¢ÉÂÆâÂÖ®ÔºåÂàáÂãøÂÖ≥Èó≠Á±ªÊ≥®ÂÜå„ÄÇ ÂèçÂ∫èÂàóÂåñÊú™Áü•/‰∏çÂèó‰ø°‰ªªÁ±ªÂûãÊó∂ÔºåÊÅ∂ÊÑè‰ª£Á†ÅÂèØËÉΩÂú® init/equals/hashCode Á≠âÊñπÊ≥ï‰∏≠Ë¢´ÊâßË°å„ÄÇ  Á±ªÊ≥®ÂÜå‰∏ç‰ªÖÊèêÂçáÂÆâÂÖ®ÊÄßÔºåËøòÂèØÂáèÂ∞ëÁ±ªÂêçÂ∫èÂàóÂåñÂºÄÈîÄ„ÄÇÊ≥®ÂÜåÈ°∫Â∫èÈúÄ‰øùÊåÅÂ∫èÂàóÂåñÁ´Ø‰∏éÂèçÂ∫èÂàóÂåñÁ´Ø‰∏ÄËá¥„ÄÇ  Fory fory = xxx; fory.register(SomeClass.class); fory.register(SomeClass1.class, 200);   Â¶ÇÈúÄÂÖ≥Èó≠Ê≥®ÂÜåÊ†°È™åÔºåÂèØÈÄöËøá ClassResolver#setClassChecker Ëá™ÂÆö‰πâÂÖÅËÆ∏ÁöÑÁ±ªÂêçÔºö  Fory fory = xxx; fory.getClassResolver().setClassChecker( (classResolver, className) -&gt; className.startsWith(&quot;org.example.&quot;));   Êàñ‰ΩøÁî® AllowListCheckerÔºö  AllowListChecker checker = new AllowListChecker(AllowListChecker.CheckLevel.STRICT); ThreadSafeFory fory = new ThreadLocalFory(classLoader -&gt; { Fory f = Fory.builder().requireClassRegistration(true).withClassLoader(classLoader).build(); f.getClassResolver().setClassChecker(checker); checker.addListener(f.getClassResolver()); return f; }); checker.allowClass(&quot;org.example.*&quot;);   Fory Êèê‰æõ‰∫Ü org.apache.fory.resolver.AllowListCheckerÔºå‰πüÂèØËá™Ë°åÂÆûÁé∞Êõ¥Â§çÊùÇÁöÑÊ†°È™åÈÄªËæë„ÄÇ  ","version":"0.13","tagName":"h3"},{"title":"ÊåâÂêçÁß∞Ê≥®ÂÜåÁ±ª‚Äã","type":1,"pageTitle":"Java Â∫èÂàóÂåñ","url":"/zh-CN/docs/0.13/guide/serialization#ÊåâÂêçÁß∞Ê≥®ÂÜåÁ±ª","content":" Êåâ id Ê≥®ÂÜåÁ±ªÊÄßËÉΩÂíå‰ΩìÁßØÊõ¥‰ºòÔºå‰ΩÜÂ¶ÇÈúÄÁÆ°ÁêÜÂ§ßÈáèÁ±ªÂûã idÔºåÂèØÁî® register(Class&lt;?&gt; cls, String namespace, String typeName) ÊåâÂêçÁß∞Ê≥®ÂÜåÔºö  fory.register(Foo.class, &quot;demo&quot;, &quot;Foo&quot;);   Â¶ÇÊó†ÈáçÂêçÔºånamespace ÂèØ‰∏∫Á©∫‰ª•ÂáèÂ∞ë‰ΩìÁßØ„ÄÇ  ‰∏çÂª∫ËÆÆÁî®ÂêçÁß∞Ê≥®ÂÜåÔºåÂõ†Â∫èÂàóÂåñ‰ΩìÁßØ‰ºöÊòæËëóÂ¢ûÂä†„ÄÇ  ","version":"0.13","tagName":"h3"},{"title":"Èõ∂Êã∑Ë¥ùÂ∫èÂàóÂåñ‚Äã","type":1,"pageTitle":"Java Â∫èÂàóÂåñ","url":"/zh-CN/docs/0.13/guide/serialization#Èõ∂Êã∑Ë¥ùÂ∫èÂàóÂåñ","content":" Apache Fory‚Ñ¢ ÊîØÊåÅÈõ∂Êã∑Ë¥ùÂ∫èÂàóÂåñÔºåÂèØÈ´òÊïàÂ§ÑÁêÜÂ§ßÂØπË±°ÊàñÁõ¥Êé•ÂÜÖÂ≠òÁºìÂÜ≤Âå∫„ÄÇÁ§∫‰æãÔºö  import org.apache.fory.*; import org.apache.fory.config.*; import org.apache.fory.serializer.BufferObject; import org.apache.fory.memory.MemoryBuffer; import java.util.*; import java.util.stream.Collectors; public class ZeroCopyExample { // Ê≥®ÊÑèÔºöFory ÂÆû‰æãÂ∫îÂ§çÁî®Ôºå‰∏çË¶ÅÊØèÊ¨°Êñ∞Âª∫ static Fory fory = Fory.builder() .withLanguage(Language.JAVA) .build(); // mvn exec:java -Dexec.mainClass=&quot;io.ray.fory.examples.ZeroCopyExample&quot; public static void main(String[] args) { List&lt;Object&gt; list = Arrays.asList(&quot;str&quot;, new byte[1000], new int[100], new double[100]); Collection&lt;BufferObject&gt; bufferObjects = new ArrayList&lt;&gt;(); byte[] bytes = fory.serialize(list, e -&gt; !bufferObjects.add(e)); List&lt;MemoryBuffer&gt; buffers = bufferObjects.stream() .map(BufferObject::toBuffer).collect(Collectors.toList()); System.out.println(fory.deserialize(bytes, buffers)); } }   ","version":"0.13","tagName":"h3"},{"title":"ÂÖÉÊï∞ÊçÆÂÖ±‰∫´ÔºàMeta SharingÔºâ‚Äã","type":1,"pageTitle":"Java Â∫èÂàóÂåñ","url":"/zh-CN/docs/0.13/guide/serialization#ÂÖÉÊï∞ÊçÆÂÖ±‰∫´meta-sharing","content":" Apache Fory‚Ñ¢ ÊîØÊåÅÂú®Âêå‰∏Ä‰∏ä‰∏ãÊñáÔºàÂ¶Ç TCP ËøûÊé•ÔºâÂÜÖÂÖ±‰∫´Á±ªÂûãÂÖÉÊï∞ÊçÆÔºàÁ±ªÂêç„ÄÅÂ≠óÊÆµÂêç„ÄÅÊúÄÁªàÂ≠óÊÆµÁ±ªÂûãÁ≠âÔºâ„ÄÇÈ¶ñÊ¨°Â∫èÂàóÂåñÊó∂ÂÖÉÊï∞ÊçÆ‰ºöÂèëÈÄÅÂà∞ÂØπÁ´ØÔºåÂØπÁ´ØÂèØÂü∫‰∫éÂÖÉÊï∞ÊçÆÈáçÂª∫ÂèçÂ∫èÂàóÂåñÂô®ÔºåÂêéÁª≠Â∫èÂàóÂåñÊó†ÈúÄÈáçÂ§ç‰º†ËæìÂÖÉÊï∞ÊçÆÔºå‰ªéËÄåÂáèÂ∞ëÁΩëÁªúÊµÅÈáèÂπ∂Ëá™Âä®ÊîØÊåÅÁ±ªÂûãÂâçÂêë/ÂêéÂêëÂÖºÂÆπ„ÄÇ  // Fory.builder() // .withLanguage(Language.JAVA) // .withRefTracking(false) // // Ë∑®Â∫èÂàóÂåñÂÖ±‰∫´ÂÖÉÊï∞ÊçÆ // .withMetaContextShare(true) // ÈùûÁ∫øÁ®ãÂÆâÂÖ® Fory MetaContext context = xxx; fory.getSerializationContext().setMetaContext(context); byte[] bytes = fory.serialize(o); // ÈùûÁ∫øÁ®ãÂÆâÂÖ® Fory MetaContext context = xxx; fory.getSerializationContext().setMetaContext(context); fory.deserialize(bytes); // Á∫øÁ®ãÂÆâÂÖ® Fory fory.setClassLoader(beanA.getClass().getClassLoader()); byte[] serialized = fory.execute( f -&gt; { f.getSerializationContext().setMetaContext(context); return f.serialize(beanA); } ); // Á∫øÁ®ãÂÆâÂÖ® Fory fory.setClassLoader(beanA.getClass().getClassLoader()); Object newObj = fory.execute( f -&gt; { f.getSerializationContext().setMetaContext(context); return f.deserialize(serialized); } );   ","version":"0.13","tagName":"h3"},{"title":"ÂèçÂ∫èÂàóÂåñ‰∏çÂ≠òÂú®ÁöÑÁ±ª‚Äã","type":1,"pageTitle":"Java Â∫èÂàóÂåñ","url":"/zh-CN/docs/0.13/guide/serialization#ÂèçÂ∫èÂàóÂåñ‰∏çÂ≠òÂú®ÁöÑÁ±ª","content":" Apache Fory‚Ñ¢ ÊîØÊåÅÂèçÂ∫èÂàóÂåñ‰∏çÂ≠òÂú®ÁöÑÁ±ª„ÄÇÈÄöËøá ForyBuilder#deserializeNonexistentClass(true) ÂêØÁî®„ÄÇÂΩìÂêØÁî®‰∏îÂÖÉÊï∞ÊçÆÂÖ±‰∫´ÂºÄÂêØÊó∂ÔºåFory ‰ºöÂ∞ÜËØ•Á±ªÂûãÁöÑÊï∞ÊçÆÂ≠òÂÇ®‰∏∫ Map ÁöÑÊÉ∞ÊÄßÂ≠êÁ±ªÔºåÈÅøÂÖçÂèçÂ∫èÂàóÂåñÊó∂Â°´ÂÖÖ Map ÁöÑÈáçÊéíÂºÄÈîÄÔºåÊèêÂçáÊÄßËÉΩ„ÄÇÂ¶ÇÊûúÊï∞ÊçÆË¢´ÂèëÈÄÅÂà∞Âè¶‰∏Ä‰∏™ËøõÁ®ã‰∏îËØ•Á±ªÂ≠òÂú®ÔºåÂàôÂèØÊó†ÊçüËøòÂéü‰∏∫ÂéüÁ±ªÂûãÂØπË±°„ÄÇ  Ëã•Êú™ÂêØÁî®ÂÖÉÊï∞ÊçÆÂÖ±‰∫´ÔºåÂàôÊñ∞Á±ªÊï∞ÊçÆ‰ºöË¢´Ë∑≥ËøáÔºåËøîÂõû NonexistentSkipClass Âç†‰ΩçÂØπË±°„ÄÇ  ","version":"0.13","tagName":"h3"},{"title":"Á±ªÂûãÊò†Â∞ÑÔºàË∑®Á±ªÂûãÊ∑±Êã∑Ë¥ù/Êò†Â∞ÑÔºâ‚Äã","type":1,"pageTitle":"Java Â∫èÂàóÂåñ","url":"/zh-CN/docs/0.13/guide/serialization#Á±ªÂûãÊò†Â∞ÑË∑®Á±ªÂûãÊ∑±Êã∑Ë¥ùÊò†Â∞Ñ","content":" Apache Fory‚Ñ¢ ÊîØÊåÅÂ∞Ü‰∏Ä‰∏™Á±ªÂûãÁöÑÂØπË±°Ê∑±Êã∑Ë¥ù/Êò†Â∞Ñ‰∏∫Âè¶‰∏Ä‰∏™Á±ªÂûã„ÄÇÊ≥®ÊÑè‰∫ãÈ°πÔºö  ËØ•Êò†Â∞Ñ‰ºöÊâßË°åÊ∑±Êã∑Ë¥ùÔºåÊâÄÊúâÊò†Â∞ÑÂ≠óÊÆµ‰ºöÂÖàÂ∫èÂàóÂåñ‰∏∫‰∫åËøõÂà∂ÔºåÂÜçÂèçÂ∫èÂàóÂåñ‰∏∫ÁõÆÊ†áÁ±ªÂûã„ÄÇÊâÄÊúâÁªìÊûÑ‰ΩìÁ±ªÂûãÂøÖÈ°ªÁî®Áõ∏Âêå ID Ê≥®ÂÜåÔºåÂê¶ÂàôÊó†Ê≥ïÊ≠£Á°ÆÊò†Â∞Ñ„ÄÇÂä°ÂøÖ‰øùËØÅÂ∫èÂàóÂåñÂíåÂèçÂ∫èÂàóÂåñÁ´ØÊ≥®ÂÜåÈ°∫Â∫è‰∏ÄËá¥„ÄÇ  Á§∫‰æãÔºö  public class StructMappingExample { static class Struct1 { int f1; String f2; public Struct1(int f1, String f2) { this.f1 = f1; this.f2 = f2; } } static class Struct2 { int f1; String f2; double f3; } static ThreadSafeFory fory1 = Fory.builder() .withCompatibleMode(CompatibleMode.COMPATIBLE).buildThreadSafeFory(); static ThreadSafeFory fory2 = Fory.builder() .withCompatibleMode(CompatibleMode.COMPATIBLE).buildThreadSafeFory(); static { fory1.register(Struct1.class); fory2.register(Struct2.class); } public static void main(String[] args) { Struct1 struct1 = new Struct1(10, &quot;abc&quot;); Struct2 struct2 = (Struct2) fory2.deserialize(fory1.serialize(struct1)); Assert.assertEquals(struct2.f1, struct1.f1); Assert.assertEquals(struct2.f2, struct1.f2); struct1 = (Struct1) fory1.deserialize(fory2.serialize(struct2)); Assert.assertEquals(struct1.f1, struct2.f1); Assert.assertEquals(struct1.f2, struct2.f2); } }   ","version":"0.13","tagName":"h3"},{"title":"ËøÅÁßª‚Äã","type":1,"pageTitle":"Java Â∫èÂàóÂåñ","url":"/zh-CN/docs/0.13/guide/serialization#ËøÅÁßª","content":" ","version":"0.13","tagName":"h2"},{"title":"JDK Â∫èÂàóÂåñËøÅÁßª‚Äã","type":1,"pageTitle":"Java Â∫èÂàóÂåñ","url":"/zh-CN/docs/0.13/guide/serialization#jdk-Â∫èÂàóÂåñËøÅÁßª","content":" Â¶ÇÊûú‰πãÂâç‰ΩøÁî® JDK Â∫èÂàóÂåñÔºå‰∏îÊó†Ê≥ïÂêåÊó∂ÂçáÁ∫ßÂÆ¢Êà∑Á´ØÂíåÊúçÂä°Á´ØÔºàÂ¶ÇÁ∫ø‰∏äÂ∫îÁî®Â∏∏ËßÅÂú∫ÊôØÔºâÔºåFory Êèê‰æõ org.apache.fory.serializer.JavaSerializer.serializedByJDK Â∑•ÂÖ∑ÊñπÊ≥ïÂà§Êñ≠‰∫åËøõÂà∂Êï∞ÊçÆÊòØÂê¶‰∏∫ JDK Â∫èÂàóÂåñÁîüÊàê„ÄÇÂèØÁî®Â¶Ç‰∏ãÊ®°ÂºèÂÆûÁé∞ÂçèËÆÆÂÖºÂÆπÔºåÊîØÊåÅÂºÇÊ≠•ÊªöÂä®ÂçáÁ∫ßÔºö  if (JavaSerializer.serializedByJDK(bytes)) { ObjectInputStream objectInputStream=xxx; return objectInputStream.readObject(); } else { return fory.deserialize(bytes); }   ","version":"0.13","tagName":"h3"},{"title":"Apache Fory‚Ñ¢ ÁâàÊú¨ÂçáÁ∫ß‚Äã","type":1,"pageTitle":"Java Â∫èÂàóÂåñ","url":"/zh-CN/docs/0.13/guide/serialization#apache-fory-ÁâàÊú¨ÂçáÁ∫ß","content":" ÁõÆÂâç‰ªÖ‰øùËØÅÂ∞èÁâàÊú¨Èó¥ÁöÑ‰∫åËøõÂà∂ÂÖºÂÆπÊÄß„ÄÇ‰æãÂ¶ÇÔºåfory v0.11.1 ÂçáÁ∫ßÂà∞ v0.11.2 ÂèØÁõ¥Êé•ÂÖºÂÆπÔºåÂçáÁ∫ßÂà∞ v0.12.0 Âàô‰∏ç‰øùËØÅÂÖºÂÆπ„ÄÇÂ§ßÂ§öÊï∞Âú∫ÊôØÊó†ÈúÄÈ¢ëÁπÅÂçáÁ∫ß‰∏ªÁâàÊú¨ÔºåÂΩìÂâçÁâàÊú¨Â∑≤Ë∂≥Â§üÈ´òÊïàÁ¥ßÂáëÔºåËÄÅÁâàÊú¨‰πü‰ºöÊåÅÁª≠Áª¥Êä§ bugfix„ÄÇ  ","version":"0.13","tagName":"h3"},{"title":"ÊïÖÈöúÊéíÊü•‚Äã","type":1,"pageTitle":"Java Â∫èÂàóÂåñ","url":"/zh-CN/docs/0.13/guide/serialization#ÊïÖÈöúÊéíÊü•","content":" ","version":"0.13","tagName":"h2"},{"title":"Á±ªÁªìÊûÑ‰∏ç‰∏ÄËá¥‰∏éÁâàÊú¨Ê†°È™å‚Äã","type":1,"pageTitle":"Java Â∫èÂàóÂåñ","url":"/zh-CN/docs/0.13/guide/serialization#Á±ªÁªìÊûÑ‰∏ç‰∏ÄËá¥‰∏éÁâàÊú¨Ê†°È™å","content":" Ëã•Êú™ËÆæÁΩÆ CompatibleMode ‰∏∫ org.apache.fory.config.CompatibleMode.COMPATIBLEÔºåÂá∫Áé∞Â∫èÂàóÂåñÂºÇÂ∏∏ÔºåÂèØËÉΩÊòØÂ∫èÂàóÂåñÁ´ØÂíåÂèçÂ∫èÂàóÂåñÁ´ØÁ±ªÁªìÊûÑ‰∏ç‰∏ÄËá¥„ÄÇ  Ê≠§Êó∂ÂèØÁî® ForyBuilder#withClassVersionCheck ÂàõÂª∫ Fory ËøõË°åÊ†°È™åÔºåËã•ÂèçÂ∫èÂàóÂåñÊäõÂá∫ org.apache.fory.exception.ClassNotCompatibleExceptionÔºåËØ¥ÊòéÁ±ªÁªìÊûÑ‰∏ç‰∏ÄËá¥ÔºåÂ∫îÊîπÁî® ForyBuilder#withCompaibleMode(CompatibleMode.COMPATIBLE)„ÄÇ  CompatibleMode.COMPATIBLE ‰ºöÂ∏¶Êù•‰∏ÄÂÆöÊÄßËÉΩÂíå‰ΩìÁßØÂºÄÈîÄÔºåËã•Á±ªÁªìÊûÑÂßãÁªà‰∏ÄËá¥Ôºå‰∏çÂª∫ËÆÆÈªòËÆ§ÂºÄÂêØ„ÄÇ  ","version":"0.13","tagName":"h3"},{"title":"POJO Ë∑®Á±ªÂûãÂèçÂ∫èÂàóÂåñ‚Äã","type":1,"pageTitle":"Java Â∫èÂàóÂåñ","url":"/zh-CN/docs/0.13/guide/serialization#pojo-Ë∑®Á±ªÂûãÂèçÂ∫èÂàóÂåñ","content":" Apache Fory‚Ñ¢ ÊîØÊåÅÂ∞Ü‰∏Ä‰∏™ POJO Â∫èÂàóÂåñÂêéÂèçÂ∫èÂàóÂåñ‰∏∫‰∏çÂêåÁªìÊûÑÁöÑ POJO„ÄÇÊ≠§Êó∂ÈúÄÂ∞Ü CompatibleMode ËÆæ‰∏∫ org.apache.fory.config.CompatibleMode.COMPATIBLE„ÄÇ  public class DeserializeIntoType { static class Struct1 { int f1; String f2; public Struct1(int f1, String f2) { this.f1 = f1; this.f2 = f2; } } static class Struct2 { int f1; String f2; double f3; } static ThreadSafeFory fory = Fory.builder() .withCompatibleMode(CompatibleMode.COMPATIBLE).buildThreadSafeFory(); public static void main(String[] args) { Struct1 struct1 = new Struct1(10, &quot;abc&quot;); byte[] data = fory.serializeJavaObject(struct1); Struct2 struct2 = (Struct2) fory.deserializeJavaObject(bytes, Struct2.class); } }   ","version":"0.13","tagName":"h3"},{"title":"ÂèçÂ∫èÂàóÂåñ API ‰ΩøÁî®ÈîôËØØ‚Äã","type":1,"pageTitle":"Java Â∫èÂàóÂåñ","url":"/zh-CN/docs/0.13/guide/serialization#ÂèçÂ∫èÂàóÂåñ-api-‰ΩøÁî®ÈîôËØØ","content":" Áî® Fory#serialize Â∫èÂàóÂåñÁöÑÂØπË±°ÔºåÈúÄÁî® Fory#deserialize ÂèçÂ∫èÂàóÂåñÔºå‰∏çËÉΩÁî® Fory#deserializeJavaObject„ÄÇÁî® Fory#serializeJavaObject Â∫èÂàóÂåñÁöÑÂØπË±°ÔºåÈúÄÁî® Fory#deserializeJavaObject ÂèçÂ∫èÂàóÂåñÔºå‰∏çËÉΩÁî® Fory#deserializeJavaObjectAndClass Êàñ Fory#deserialize„ÄÇÁî® Fory#serializeJavaObjectAndClass Â∫èÂàóÂåñÁöÑÂØπË±°ÔºåÈúÄÁî® Fory#deserializeJavaObjectAndClass ÂèçÂ∫èÂàóÂåñÔºå‰∏çËÉΩÁî®ÂÖ∂‰ªñ API„ÄÇ ","version":"0.13","tagName":"h3"},{"title":"Á§æÂå∫","type":0,"sectionRef":"#","url":"/zh-CN/docs/0.14/community/","content":"","keywords":"","version":"0.14"},{"title":"ÈÇÆ‰ª∂ÂàóË°®‚Äã","type":1,"pageTitle":"Á§æÂå∫","url":"/zh-CN/docs/0.14/community/#ÈÇÆ‰ª∂ÂàóË°®","content":" ÈÇÆ‰ª∂ÂàóË°®\tÊèèËø∞\tËÆ¢ÈòÖ\tÂèñÊ∂àËÆ¢ÈòÖ\tÂèëÈÄÅÈÇÆ‰ª∂\tÊ¥ªÂä®dev@fory.apache.org\tÂºÄÂèëÁõ∏ÂÖ≥ËÆ®ËÆ∫\tËÆ¢ÈòÖ\tÂèñÊ∂àËÆ¢ÈòÖ\tÂèëÈÄÅÈÇÆ‰ª∂\tÈÇÆ‰ª∂ÂàóË°®Ê¥ªÂä® commits@fory.apache.org\t‰ªìÂ∫ìÁöÑÊâÄÊúâ commits\tËÆ¢ÈòÖ\tÂèñÊ∂àËÆ¢ÈòÖ\tÂè™ËØªÁöÑÈÇÆ‰ª∂ÂàóË°®\tÈÇÆ‰ª∂ÂàóË°®Ê¥ªÂä®  Âú®Â∞ùËØïÂèëÈÄÅÈÇÆ‰ª∂‰πãÂâçÔºåËØ∑Á°Æ‰øùËÆ¢ÈòÖ‰∏äËø∞ÁöÑÈÇÆ‰ª∂ÂàóË°®„ÄÇ  Â¶ÇÊûúÊÇ®Ê≤°ÊúâËÆ¢ÈòÖÈÇÆ‰ª∂ÂàóË°®ÔºåÊÇ®ÁöÑÈÇÆ‰ª∂Â∞ÜË¢´ÊãíÁªùÊàñ‰∏ç‰ºöÊî∂Âà∞ÂõûÂ§ç„ÄÇ  ","version":"0.14","tagName":"h2"},{"title":"Â¶Ç‰ΩïËÆ¢ÈòÖÈÇÆ‰ª∂ÂàóË°®‚Äã","type":1,"pageTitle":"Á§æÂå∫","url":"/zh-CN/docs/0.14/community/#Â¶Ç‰ΩïËÆ¢ÈòÖÈÇÆ‰ª∂ÂàóË°®","content":" Ë¶ÅÂèëÈÄÅÈÇÆ‰ª∂Ëá≥ÈÇÆ‰ª∂ÂàóË°®ÔºåËØ∑ÂÖàÈÄöËøá‰ª•‰∏ãÊñπÂºèËÆ¢ÈòÖÔºö  ÂèëÈÄÅÁîµÂ≠êÈÇÆ‰ª∂Ëá≥ listname-subscribe@fory.apache.orgÔºåÂπ∂Áõ∏Â∫îÊõøÊç¢ listnameÔºõÂõûÂ§çÊÇ®Â∞ÜÊî∂Âà∞ÁöÑÁ°ÆËÆ§ÁîµÂ≠êÈÇÆ‰ª∂Ôºå‰øùÊåÅÈÇÆ‰ª∂‰∏ªÈ¢òË°åÂÆåÊï¥ÔºõÁÑ∂ÂêéÊÇ®Â∞ÜÊî∂Âà∞‰∏ÄÂ∞ÅÊ¨¢ËøéÁöÑÁîµÂ≠êÈÇÆ‰ª∂ÔºåËÆ¢ÈòÖÊàêÂäü„ÄÇ  Âú®ËÆ®ËÆ∫ÁîµÂ≠êÈÇÆ‰ª∂‰∏≠ÁöÑ‰ª£Á†ÅÁâáÊÆµÊó∂ÔºåËØ∑Á°Æ‰øùÔºö  ÊÇ®‰∏çË¶ÅÈìæÊé•Âà∞Â§ñÈÉ®ÊúçÂä°‰∏≠ÁöÑÊñá‰ª∂ÔºåÂõ†‰∏∫Ê≠§Á±ªÊñá‰ª∂ÂèØËÉΩ‰ºöÊõ¥Êîπ„ÄÅË¢´Âà†Èô§ÊàñÈìæÊé•ÂèØËÉΩ‰ºö‰∏≠Êñ≠Ôºå‰ªéËÄå‰ΩøÂ≠òÊ°£ÁöÑÁîµÂ≠êÈÇÆ‰ª∂Á∫øÁ®ãÂèòÂæóÊó†Áî®ÔºõÊÇ®Á≤òË¥¥ÊñáÊú¨ËÄå‰∏çÊòØÊñáÊú¨Â±èÂπïÊà™ÂõæÔºõÁ≤òË¥¥‰ª£Á†ÅÊó∂‰øùÊåÅÊ†ºÂºèÔºå‰ª•‰øùÊåÅ‰ª£Á†ÅÂèØËØªÔºõÊúâË∂≥Â§üÁöÑÂØºÂÖ•ËØ≠Âè•‰ª•ÈÅøÂÖç‰∫ßÁîü‰ª£Á†ÅÊ≠ß‰πâ„ÄÇ  ","version":"0.14","tagName":"h3"},{"title":"Slack‚Äã","type":1,"pageTitle":"Á§æÂå∫","url":"/zh-CN/docs/0.14/community/#slack","content":" ÊÇ®ÂèØ‰ª•Âä†ÂÖ•Slack ‰∏äÁöÑ Apache Fory‚Ñ¢ Á§æÂå∫„ÄÇ  ËøôÈáåÊúâ‰∏Ä‰∫õÁ§æÂå∫ËßÑÂàôÔºö  ‰øùÊåÅÂ∞äÈáçÂíåÂèãÂñÑÔºõÊâÄÊúâÈáçË¶ÅÁöÑÂÜ≥ÂÆöÂíåÁªìËÆ∫ÈÉΩÂøÖÈ°ªÂèçÊò†Âà∞ÈÇÆ‰ª∂ÂàóË°®‰∏≠„ÄÇ ‚ÄúÂ¶ÇÊûúËøôÊ≤°ÊúâÂú®ÈÇÆ‰ª∂ÂàóË°®‰∏≠ÊúâÁõ∏ÂÖ≥ÁöÑËÆ®ËÆ∫ËÆ∞ÂΩïÔºåÂàô‰ª£Ë°®ÂÆÉ‰∏çÁîüÊïà‚Äù ÔºõThe Apache WayÔºõ‰ΩøÁî® Slack Á∫øÁ®ãÊù•Èò≤Ê≠¢Âπ∂Ë°åÂØπËØùÊ∑πÊ≤°ÂΩìÂâçÁöÑÂØπËØùÈ¢ëÈÅìÔºõËØ∑‰∏çË¶ÅÁõ¥Êé•ÂêëÈÇÆ‰ª∂ÂàóË°®ÂèëÈÄÅ Bug fix„ÄÅIssue ÂàÜÈÖçÂíå Code Review Ê∂àÊÅØ„ÄÇËøô‰∫õÂÜÖÂÆπÂ∫îËØ•Ë¢´Á§æÂå∫Ë¥°ÁåÆËÄÖËá™ÊÑøÂ§ÑÁêÜÂπ∂ÂàÜÈÖç„ÄÇ  ","version":"0.14","tagName":"h2"},{"title":"Issue Ë∑üË∏™‚Äã","type":1,"pageTitle":"Á§æÂå∫","url":"/zh-CN/docs/0.14/community/#issue-Ë∑üË∏™","content":" Êàë‰ª¨‰ΩøÁî® GitHub Issues Êù•Ë∑üË∏™ÊâÄÊúâ IssuesÔºö  ‰ª£Á†ÅÁõ∏ÂÖ≥ÈóÆÈ¢òÔºöhttps://github.com/apache/fory/issuesÁΩëÁ´ôÁõ∏ÂÖ≥ÈóÆÈ¢òÔºöhttps://github.com/apache/fory-site/issues  ÊÇ®ÈúÄË¶ÅÊúâ‰∏Ä‰∏™ GitHub Â∏êÂè∑ ÊâçËÉΩÂàõÂª∫ÈóÆÈ¢ò„ÄÇ Â¶ÇÊûúÊÇ®Ê≤°Êúâ GitHub Â∏êÂè∑ÔºåÊÇ®ÂèØ‰ª•ÂèëÈÄÅÁîµÂ≠êÈÇÆ‰ª∂Ëá≥ dev@fory.apache.org„ÄÇ  ","version":"0.14","tagName":"h2"},{"title":"Êä•Âëä Bug‚Äã","type":1,"pageTitle":"Á§æÂå∫","url":"/zh-CN/docs/0.14/community/#Êä•Âëä-bug","content":" ÊÇ®Âú®Êä•Âëä Bug ‰πãÂâçÔºåÂ∫îËØ•Ôºö  È™åËØÅËØ• Bug Á°ÆÂÆûÂ≠òÂú®ÔºõÊêúÁ¥¢ Issue List ‰ª•Á°Æ‰øù‰∏çÂ≠òÂú®Áõ∏ÂÖ≥ Bug„ÄÇÂú® Issue List ‰∏≠ÂàõÂª∫ bug Êä•Âëä„ÄÇÂ¶ÇÊûúÂèØËÉΩÁöÑËØùÔºåÊ∑±ÂÖ•Á†îÁ©∂ Apache Fory‚Ñ¢ ÁöÑÊ∫ê‰ª£Á†ÅÔºåÂπ∂ÈíàÂØπÊÇ®Êä•ÂëäÁöÑ Bug Êèê‰∫§Ë°•‰∏ÅÔºåËøôÊúâÂä©‰∫éÂø´ÈÄü‰øÆÂ§ç Bug„ÄÇ  ","version":"0.14","tagName":"h3"},{"title":"Êä•ÂëäÂÆâÂÖ®ÊºèÊ¥û‚Äã","type":1,"pageTitle":"Á§æÂå∫","url":"/zh-CN/docs/0.14/community/#Êä•ÂëäÂÆâÂÖ®ÊºèÊ¥û","content":" Apache Fory‚Ñ¢ ÊòØ Apache ËΩØ‰ª∂Âü∫Èáë‰ºö ÁöÑ‰∏Ä‰∏™È°πÁõÆÔºåÈÅµÂæ™ ASF ÊºèÊ¥ûÂ§ÑÁêÜÊµÅÁ®ã„ÄÇ  Ë¶ÅÊä•ÂëäÊÇ®ÂèëÁé∞ÁöÑÊñ∞ÁöÑÂÆâÂÖ®ÊºèÊ¥ûÔºåËØ∑ÈÅµÂæ™ ASF ÊºèÊ¥ûÊä•ÂëäÊµÅÁ®ãÔºåËØ•ÊµÅÁ®ãËß£Èáä‰∫ÜÂ¶Ç‰ΩïÁßÅ‰∏ãÂêëÁ§æÂå∫Áª¥Êä§ËÄÖÂèëÈÄÅËØ¶ÁªÜÁöÑÊºèÊ¥û‰ø°ÊÅØ„ÄÇ  ","version":"0.14","tagName":"h3"},{"title":"New Feature‚Äã","type":1,"pageTitle":"Á§æÂå∫","url":"/zh-CN/docs/0.14/community/#new-feature","content":" Ê¨¢ËøéÊÇ®Â¢ûÂº∫ÂäüËÉΩÊàñÊñ∞ÂäüËÉΩÂª∫ËÆÆ„ÄÇÊèêÊ°àË∂äÂÖ∑‰Ωì„ÄÅË∂äÂêàÁêÜÔºåÊÇ®Âú® Apache Fory‚Ñ¢ Á§æÂå∫ÁöÑÂΩ±ÂìçÂäõÂ∞±Ë∂äÂ§ß„ÄÇÂÆÉÊúâÂèØËÉΩÂú®‰πãÂêéÁâàÊú¨ÂèëÂ∏É„ÄÇ  ","version":"0.14","tagName":"h3"},{"title":"È°πÁõÆÊ∫ê‰ª£Á†Å‚Äã","type":1,"pageTitle":"Á§æÂå∫","url":"/zh-CN/docs/0.14/community/#È°πÁõÆÊ∫ê‰ª£Á†Å","content":" Apache Fory‚Ñ¢ Core Â≠òÂÇ®Â∫ìÔºöhttps://github.com/apache/foryApache Fory‚Ñ¢ ÁΩëÁ´ôÂ≠òÂÇ®Â∫ìÔºöhttps://github.com/apache/fory-site ","version":"0.14","tagName":"h3"},{"title":"Xlang Serialization Format","type":0,"sectionRef":"#","url":"/zh-CN/docs/0.13/specification/xlang_serialization_spec","content":"","keywords":"","version":"0.13"},{"title":"Cross-language Serialization Specification‚Äã","type":1,"pageTitle":"Xlang Serialization Format","url":"/zh-CN/docs/0.13/specification/xlang_serialization_spec#cross-language-serialization-specification","content":" Format Version History: Version 0.1 - serialization spec formalized  Apache Fory‚Ñ¢ xlang serialization is an automatic object serialization framework that supports reference and polymorphism. Apache Fory‚Ñ¢ will convert an object from/to fory xlang serialization binary format. Apache Fory‚Ñ¢ has two core concepts for xlang serialization:  Apache Fory‚Ñ¢ xlang binary formatFramework implemented in different languages to convert object to/from Apache Fory‚Ñ¢ xlang binary format  The serialization format is a dynamic binary format. The dynamics and reference/polymorphism support make Apache Fory‚Ñ¢ flexible, much more easy to use, but also introduce more complexities compared to static serialization frameworks. So the format will be more complex.  ","version":"0.13","tagName":"h2"},{"title":"Type Systems‚Äã","type":1,"pageTitle":"Xlang Serialization Format","url":"/zh-CN/docs/0.13/specification/xlang_serialization_spec#type-systems","content":" ","version":"0.13","tagName":"h2"},{"title":"Data Types‚Äã","type":1,"pageTitle":"Xlang Serialization Format","url":"/zh-CN/docs/0.13/specification/xlang_serialization_spec#data-types","content":" bool: a boolean value (true or false).int8: a 8-bit signed integer.int16: a 16-bit signed integer.int32: a 32-bit signed integer.var_int32: a 32-bit signed integer which use fory var_int32 encoding.int64: a 64-bit signed integer.var_int64: a 64-bit signed integer which use fory PVL encoding.sli_int64: a 64-bit signed integer which use fory SLI encoding.float16: a 16-bit floating point number.float32: a 32-bit floating point number.float64: a 64-bit floating point number including NaN and Infinity.string: a text string encoded using Latin1/UTF16/UTF-8 encoding.enum: a data type consisting of a set of named values. Rust enum with non-predefined field values are not supported as an enum.named_enum: an enum whose value will be serialized as the registered name.struct: a morphic(final) type serialized by Fory Struct serializer. i.e. it doesn't have subclasses. Suppose we're deserializing List&lt;SomeClass&gt;, we can save dynamic serializer dispatch since SomeClass is morphic(final).compatible_struct: a morphic(final) type serialized by Fory compatible Struct serializer.named_struct: a struct whose type mapping will be encoded as a name.named_compatible_struct: a compatible_struct whose type mapping will be encoded as a name.ext: a type which will be serialized by a customized serializer.named_ext: an ext type whose type mapping will be encoded as a name.list: a sequence of objects.set: an unordered set of unique elements.map: a map of key-value pairs. Mutable types such as list/map/set/array/tensor/arrow are not allowed as key of map.duration: an absolute length of time, independent of any calendar/timezone, as a count of nanoseconds.timestamp: a point in time, independent of any calendar/timezone, as a count of nanoseconds. The count is relative to an epoch at UTC midnight on January 1, 1970.local_date: a naive date without timezone. The count is days relative to an epoch at UTC midnight on Jan 1, 1970.decimal: exact decimal value represented as an integer value in two's complement.binary: an variable-length array of bytes.array: only allow 1d numeric components. Other arrays will be taken as List. The implementation should support the interoperability between array and list. bool_array: one dimensional bool array.int8_array: one dimensional int8 array.int16_array: one dimensional int16 array.int32_array: one dimensional int32 array.int64_array: one dimensional int64 array.float16_array: one dimensional half_float_16 array.float32_array: one dimensional float32 array.float64_array: one dimensional float64 array. tensor: multidimensional array which every sub-array have same size and type.arrow record batch: an arrow record batch object.arrow table: an arrow table object.  Note:  Unsigned int/long are not added here, since not every language support those types.  ","version":"0.13","tagName":"h3"},{"title":"Polymorphisms‚Äã","type":1,"pageTitle":"Xlang Serialization Format","url":"/zh-CN/docs/0.13/specification/xlang_serialization_spec#polymorphisms","content":" For polymorphism, if one non-final class is registered, and only one subclass is registered, then we can take all elements in List/Map have same type, thus reduce runtime check cost.  Collection/Array polymorphism are not fully supported, since some languages such as golang have only one collection type. If users want to get exactly the type he passed, he must pass that type when deserializing or annotate that type to the field of struct.  ","version":"0.13","tagName":"h3"},{"title":"Type disambiguation‚Äã","type":1,"pageTitle":"Xlang Serialization Format","url":"/zh-CN/docs/0.13/specification/xlang_serialization_spec#type-disambiguation","content":" Due to differences between type systems of languages, those types can't be mapped one-to-one between languages. When deserializing, Fory use the target data structure type and the data type in the data jointly to determine how to deserialize and populate the target data structure. For example:  class Foo { int[] intArray; Object[] objects; List&lt;Object&gt; objectList; } class Foo2 { int[] intArray; List&lt;Object&gt; objects; List&lt;Object&gt; objectList; }   intArray has an int32_array type. But both objects and objectList fields in the serialize data have list data type. When deserializing, the implementation will create an Object array for objects, but create a ArrayListfor objectList to populate its elements. And the serialized data of Foo can be deserialized into Foo2 too.  Users can also provide meta hints for fields of a type, or the type whole. Here is an example in java which use annotation to provide such information.  @ForyObject(fieldsNullable = false, trackingRef = false) class Foo { @ForyField(trackingRef = false) int[] intArray; @ForyField(polymorphic = true) Object object; @ForyField(tagId = 1, nullable = true) List&lt;Object&gt; objectList; }   Such information can be provided in other languages too:  cpp: use macro and template.golang: use struct tag.python: use typehint.rust: use macro.  ","version":"0.13","tagName":"h3"},{"title":"Type ID‚Äã","type":1,"pageTitle":"Xlang Serialization Format","url":"/zh-CN/docs/0.13/specification/xlang_serialization_spec#type-id","content":" All internal data types are expressed using an ID in range 0~64. Users can use 0~4096 for representing their types.  ","version":"0.13","tagName":"h3"},{"title":"Spec overview‚Äã","type":1,"pageTitle":"Xlang Serialization Format","url":"/zh-CN/docs/0.13/specification/xlang_serialization_spec#spec-overview","content":" Here is the overall format:  | fory header | object ref meta | object type meta | object value data |   The data are serialized using little endian byte order overall. If bytes swap is costly for some object, Fory will write the byte order for that object into the data instead of converting it to little endian.  ","version":"0.13","tagName":"h2"},{"title":"Fory header‚Äã","type":1,"pageTitle":"Xlang Serialization Format","url":"/zh-CN/docs/0.13/specification/xlang_serialization_spec#fory-header","content":" Fory header consists starts one byte:  | 2 bytes | 4 bits | 1 bit | 1 bit | 1 bit | 1 bit | 1 byte | optional 4 bytes | +--------------+---------------+-------+-------+--------+-------+------------+------------------------------------+ | magic number | reserved bits | oob | xlang | endian | null | language | unsigned int for meta start offset |   magic number: used to identify fory serialization protocol, current version use 0x62d4.null flag: 1 when object is null, 0 otherwise. If an object is null, other bits won't be set.endian flag: 1 when data is encoded by little endian, 0 for big endian.xlang flag: 1 when serialization uses xlang format, 0 when serialization uses Fory java format.oob flag: 1 when passed BufferCallback is not null, 0 otherwise.language: the language when serializing objects, such as JAVA, PYTHON, GO, etc. Fory can use this flag to determine whether spend more time on serialization to make the deserialization faster for dynamic languages.  If meta share mode is enabled, an uncompressed unsigned int is appended to indicate the start offset of metadata.  ","version":"0.13","tagName":"h2"},{"title":"Reference Meta‚Äã","type":1,"pageTitle":"Xlang Serialization Format","url":"/zh-CN/docs/0.13/specification/xlang_serialization_spec#reference-meta","content":" Reference tracking handles whether the object is null, and whether to track reference for the object by writing corresponding flags and maintaining internal state.  Reference flags:  Flag\tByte Value\tDescriptionNULL FLAG\t-3\tThis flag indicates the object is a null value. We don't use another byte to indicate REF, so that we can save one byte. REF FLAG\t-2\tThis flag indicates the object is already serialized previously, and fory will write a ref id with unsigned varint format instead of serialize it again NOT_NULL VALUE FLAG\t-1\tThis flag indicates the object is a non-null value and fory doesn't track ref for this type of object. REF VALUE FLAG\t0\tThis flag indicates the object is referencable and the first time to serialize.  When reference tracking is disabled globally or for specific types, or for certain types within a particular context(e.g., a field of a type), only the NULL and NOT_NULL VALUE flags will be used for reference meta.  For languages which doesn't support reference such as rust, reference tracking must be disabled for correct deserialization by fory rust implementation.  For languages whose object values are not null by default:  In rust, Fory takes Option:None as a null valueIn c++, Fory takes std::nullopt as a null valueIn golang, Fory takes null interface/pointer as a null value  If one want to deserialize in languages like Java/Python/JavaScript, he should mark the type with all fields not-null by default, or using schema-evolution mode to carry the not-null fields info in the data.  ","version":"0.13","tagName":"h2"},{"title":"Type Meta‚Äã","type":1,"pageTitle":"Xlang Serialization Format","url":"/zh-CN/docs/0.13/specification/xlang_serialization_spec#type-meta","content":" For every type to be serialized, it have a type id to indicate its type.  basic types: the type idenum: Type.ENUM + registered idType.NAMED_ENUM + registered namespace+typename list: Type.Listset: Type.SETmap: Type.MAPext: Type.EXT + registered idType.NAMED_EXT + registered namespace+typename struct: Type.STRUCT + struct metaType.NAMED_STRUCT + struct meta  Every type must be registered with an ID or name first. The registration can be used for security check and type identification.  Struct is a special type, depending whether schema compatibility is enabled, Fory will write struct meta differently.  ","version":"0.13","tagName":"h2"},{"title":"Struct Schema consistent‚Äã","type":1,"pageTitle":"Xlang Serialization Format","url":"/zh-CN/docs/0.13/specification/xlang_serialization_spec#struct-schema-consistent","content":" If schema consistent mode is enabled globally when creating fory, type meta will be written as a fory unsigned varint of type_id. Schema evolution related meta will be ignored.If schema evolution mode is enabled globally when creating fory, and current class is configured to use schema consistent mode like struct vs table in flatbuffers: Type meta will be add to captured_type_defs: captured_type_defs[type def stub] = map size ahead when registering type.Get index of the meta in captured_type_defs, write that index as | unsigned varint: index |.  ","version":"0.13","tagName":"h3"},{"title":"Struct Schema evolution‚Äã","type":1,"pageTitle":"Xlang Serialization Format","url":"/zh-CN/docs/0.13/specification/xlang_serialization_spec#struct-schema-evolution","content":" If schema evolution mode is enabled globally when creating fory, and enabled for current type, type meta will be written using one of the following mode. Which mode to use is configured when creating fory.  Normal mode(meta share not enabled): If type meta hasn't been written before, add type defto captured_type_defs: captured_type_defs[type def] = map size.Get index of the meta in captured_type_defs, write that index as | unsigned varint: index |.After finished the serialization of the object graph, fory will start to write captured_type_defs: Firstly, set current to meta start offset of fory header Then write captured_type_defs one by one: buffer.write_var_uint32(len(writting_type_defs) - len(schema_consistent_type_def_stubs)) for type_meta in writting_type_defs: if not type_meta.is_stub(): type_meta.write_type_def(buffer) writing_type_defs = copy(schema_consistent_type_def_stubs) Meta share mode: the writing steps are same as the normal mode, but captured_type_defs will be shared across multiple serializations of different objects. For example, suppose we have a batch to serialize: captured_type_defs = {} stream = ... # add `Type1` to `captured_type_defs` and write `Type1` fory.serialize(stream, [Type1()]) # add `Type2` to `captured_type_defs` and write `Type2`, `Type1` is written before. fory.serialize(stream, [Type1(), Type2()]) # `Type1` and `Type2` are written before, no need to write meta. fory.serialize(stream, [Type1(), Type2()]) Streaming mode(streaming mode doesn't support meta share): If type meta hasn't been written before, the data will be written as: | unsigned varint: 0b11111111 | type def | If type meta has been written before, the data will be written as: | unsigned varint: written index &lt;&lt; 1 | written index is the id in captured_type_defs. With this mode, meta start offset can be omitted.  The normal mode and meta share mode will forbid streaming writing since it needs to look back for update the start offset after the whole object graph writing and meta collecting is finished. Only in this way we can ensure deserialization failure in meta share mode doesn't lost shared meta.  Type Def‚Äã  Here we mainly describe the meta layout for schema evolution mode:  | 8 bytes header | variable bytes | variable bytes | +----------------------+--------------------+-------------------+ | global binary header | meta header | fields meta |   For languages which support inheritance, if parent class and subclass has fields with same name, using field in subclass.  Global binary header‚Äã  50 bits hash + 1bit compress flag + write fields meta + 12 bits meta size. Right is the lower bits.  lower 12 bits are used to encode meta size. If meta size &gt;= 0b1111_1111_1111, then writemeta_ size - 0b1111_1111_1111 next.13rd bit is used to indicate whether to write fields meta. When this class is schema-consistent or use registered serializer, fields meta will be skipped. Class Meta will be used for share namespace + type name only.14rd bit is used to indicate whether meta is compressed.Other 50 bits is used to store the unique hash of flags + all layers class meta.  Meta header‚Äã  Meta header is a 8 bits number value.  Lowest 5 digits 0b00000~0b11110 are used to record num fields. 0b11111 is preserved to indicate that Fory need to read more bytes for length using Fory unsigned int encoding. Note that num_fields is the number of compatible fields. Users can use tag id to mark some fields as compatible fields in schema consistent context. In such cases, schema consistent fields will be serialized first, then compatible fields will be serialized next. At deserialization, Fory will use fields info of those fields which aren't annotated by tag id for deserializing schema consistent fields, then use fields info in meta for deserializing compatible fields.The 6th bit: 0 for registered by id, 1 for registered by name.Remaining 2 bits are reserved for future extension.  Fields meta‚Äã  Format:  | field info: variable bytes | variable bytes | ... | +---------------------------------+-----------------+-----+ | header + type info + field name | next field info | ... |   Field Header‚Äã  Field Header is 8 bits, annotation can be used to provide more specific info. If annotation not exists, fory will infer those info automatically.  The format for field header is:  2 bits field name encoding + 4 bits size + nullability flag + ref tracking flag   Detailed spec:  2 bits field name encoding: encoding: UTF8/ALL_TO_LOWER_SPECIAL/LOWER_UPPER_DIGIT_SPECIAL/TAG_IDIf tag id is used, field name will be written by an unsigned varint tag id, and 2 bits encoding will be 11. size of field name: The 4 bits size: 0~14 will be used to indicate length 1~15, the value 15 indicates to read more bytes, the encoding will encode size - 15 as a varint next.If encoding is TAG_ID, then num_bytes of field name will be used to store tag id. ref tracking: when set to 1, ref tracking will be enabled for this field.nullability: when set to 1, this field can be null.  Field Type Info‚Äã  Field type info is written as unsigned int8. Detailed id spec is:  For struct registered by id, it will be Type.STRUCT.For struct registered by name, it will be Type.NAMED_STRUCT.For enum registered by id, it will be Type.ENUM.For enum registered by name, it will be Type.NAMED_ENUM.For ext type registered by id, it will be Type.EXT.For ext type registered by name, it will be Type.NAMED_EXT.For list/set type, it will be written as Type.LIST/SET, then write element type recursively.For 1D primitive array type, it will be written as Type.XXX_ARRAY.For multi-dimensional primitive array type with same size on each dim, it will be written as Type.TENSOR.For other array type, it will be written as Type.LIST, then write element type recursively.For map type, it will be written as Type.MAP, then write key and value type recursively.For other types supported by fory directly, it will be fory type id for that type.For other types not determined at compile time, write Type.UNKNOWN instead. For such types, actual type will be written when serializing such field values.  Polymorphism spec:  struct/named_struct/ext/named_ext are taken as polymorphic, the meta for those types are written separately instead of inlining here to reduce meta space cost if object of this type is serialized in current object graph multiple times, and the field value may be null too.enum is taken as morphic, if deserialization doesn't have this field, or the type is not enum, enum value will be skipped.list/map/set are taken as morphic, when serializing values of those type, the concrete types won't be written again.Other types that fory supported are taken as morphic too.  List/Set/Map nested type spec:  list: | list type id | nested type id &lt;&lt; 2 + nullability flag + ref tracking flag | ... multi-layer type info |set: | set type id | nested type id &lt;&lt; 2 + nullability flag + ref tracking flag | ... multi-layer type info |map: | set type id | key type info | value type info | Key type format: | nested type id &lt;&lt; 2 + nullability flag + ref tracking flag | ... multi-layer type info |Value type format: | nested type id &lt;&lt; 2 + nullability flag + ref tracking flag | ... multi-layer type info |  Field Name‚Äã  If tag id is set, tag id will be used instead. Otherwise meta string of field name will be written instead.  Field order‚Äã  Field order are left as implementation details, which is not exposed to specification, the deserialization need to resort fields based on Fory fields sort algorithms. In this way, fory can compute statistics for field names or types and using a more compact encoding.  ","version":"0.13","tagName":"h3"},{"title":"Extended Type Meta with Inheritance support‚Äã","type":1,"pageTitle":"Xlang Serialization Format","url":"/zh-CN/docs/0.13/specification/xlang_serialization_spec#extended-type-meta-with-inheritance-support","content":" If one want to support inheritance for struct, one can implement following spec.  ","version":"0.13","tagName":"h2"},{"title":"Schema consistent‚Äã","type":1,"pageTitle":"Xlang Serialization Format","url":"/zh-CN/docs/0.13/specification/xlang_serialization_spec#schema-consistent","content":" Fields are serialized from parent type to leaf type. Fields are sorted using fory struct fields sort algorithms.  ","version":"0.13","tagName":"h3"},{"title":"Schema Evolution‚Äã","type":1,"pageTitle":"Xlang Serialization Format","url":"/zh-CN/docs/0.13/specification/xlang_serialization_spec#schema-evolution","content":" Meta layout for schema evolution mode:  | 8 bytes header | variable bytes | variable bytes | variable bytes | variable bytes | +----------------------+----------------+----------------+--------------------+--------------------+ | global binary header | meta header | fields meta | parent meta header | parent fields meta |   Meta header‚Äã  Meta header is a 64 bits number value encoded in little endian order.  Lowest 4 digits 0b0000~0b1110 are used to record num classes. 0b1111 is preserved to indicate that Fory need to read more bytes for length using Fory unsigned int encoding. If current type doesn't has parent type, or parent type doesn't have fields to serialize, or we're in a context which serialize fields of current type only, num classes will be 1.The 5th bit is used to indicate whether this type needs schema evolution.Other 56 bits are used to store the unique hash of flags + all layers type meta.  Single layer type meta‚Äã  | unsigned varint | var uint | field info: variable bytes | variable bytes | ... | +-----------------+----------+-------------------------------+-----------------+-----+ | num_fields | type id | header + type id + field name | next field info | ... |   Other layers type meta‚Äã  Same encoding algorithm as the previous layer.  ","version":"0.13","tagName":"h3"},{"title":"Meta String‚Äã","type":1,"pageTitle":"Xlang Serialization Format","url":"/zh-CN/docs/0.13/specification/xlang_serialization_spec#meta-string","content":" Meta string is mainly used to encode meta strings such as field names.  ","version":"0.13","tagName":"h2"},{"title":"Encoding Algorithms‚Äã","type":1,"pageTitle":"Xlang Serialization Format","url":"/zh-CN/docs/0.13/specification/xlang_serialization_spec#encoding-algorithms","content":" String binary encoding algorithm:  Algorithm\tPattern\tDescriptionLOWER_SPECIAL\ta-z._$|\tevery char is written using 5 bits, a-z: 0b00000~0b11001, ._$|: 0b11010~0b11101, prepend one bit at the start to indicate whether strip last char since last byte may have 7 redundant bits(1 indicates strip last char) LOWER_UPPER_DIGIT_SPECIAL\ta-zA-Z0~9._\tevery char is written using 6 bits, a-z: 0b00000~0b11001, A-Z: 0b11010~0b110011, 0~9: 0b110100~0b111101, ._: 0b111110~0b111111, prepend one bit at the start to indicate whether strip last char since last byte may have 7 redundant bits(1 indicates strip last char) UTF-8\tany chars\tUTF-8 encoding  Encoding flags:  Encoding Flag\tPattern\tEncoding AlgorithmLOWER_SPECIAL\tevery char is in a-z._|\tLOWER_SPECIAL FIRST_TO_LOWER_SPECIAL\tevery char is in a-z._ except first char is upper case\treplace first upper case char to lower case, then use LOWER_SPECIAL ALL_TO_LOWER_SPECIAL\tevery char is in a-zA-Z._\treplace every upper case char by | + lower case, then use LOWER_SPECIAL, use this encoding if it's smaller than Encoding LOWER_UPPER_DIGIT_SPECIAL LOWER_UPPER_DIGIT_SPECIAL\tevery char is in a-zA-Z._\tuse LOWER_UPPER_DIGIT_SPECIAL encoding if it's smaller than Encoding FIRST_TO_LOWER_SPECIAL UTF8\tany utf-8 char\tuse UTF-8 encoding Compression\tany utf-8 char\tlossless compression  Notes:  Depending on cases, one can choose encoding flags + data jointly, uses 3 bits of first byte for flags and other bytes for data.  ","version":"0.13","tagName":"h3"},{"title":"Value Format‚Äã","type":1,"pageTitle":"Xlang Serialization Format","url":"/zh-CN/docs/0.13/specification/xlang_serialization_spec#value-format","content":" ","version":"0.13","tagName":"h2"},{"title":"Basic types‚Äã","type":1,"pageTitle":"Xlang Serialization Format","url":"/zh-CN/docs/0.13/specification/xlang_serialization_spec#basic-types","content":" bool‚Äã  size: 1 byteformat: 0 for false, 1 for true  int8‚Äã  size: 1 byteformat: write as pure byte.  int16‚Äã  size: 2 bytebyte order: raw bytes of little endian order  unsigned int32‚Äã  size: 4 bytebyte order: raw bytes of little endian order  unsigned varint32‚Äã  size: 1~5 byteFormat: The most significant bit (MSB) in every byte indicates whether to have the next byte. If first bit is set i.e. b &amp; 0x80 == 0x80, then the next byte should be read until the first bit of the next byte is unset.  signed int32‚Äã  size: 4 bytebyte order: raw bytes of little endian order  signed varint32‚Äã  size: 1~5 byteFormat: First convert the number into positive unsigned int by (v &lt;&lt; 1) ^ (v &gt;&gt; 31) ZigZag algorithm, then encode it as an unsigned varint.  unsigned int64‚Äã  size: 8 bytebyte order: raw bytes of little endian order  unsigned varint64‚Äã  size: 1~9 byteFory SLI(Small long as int) Encoding: If long is in [0, 2147483647], encode as 4 bytes int: | little-endian: ((int) value) &lt;&lt; 1 |Otherwise write as 9 bytes: | 0b1 | little-endian 8 bytes long | Fory PVL(Progressive Variable-length Long) Encoding: positive long format: first bit in every byte indicates whether to have the next byte. If first bit is set i.e. b &amp; 0x80 == 0x80, then the next byte should be read until the first bit is unset.  signed int64‚Äã  size: 8 bytebyte order: raw bytes of little endian order  signed varint64‚Äã  size: 1~9 byteFory SLI(Small long as int) Encoding: If long is in [-1073741824, 1073741823], encode as 4 bytes int: | little-endian: ((int) value) &lt;&lt; 1 |Otherwise write as 9 bytes: | 0b1 | little-endian 8 bytes long | Fory PVL(Progressive Variable-length Long) Encoding: First convert the number into positive unsigned long by (v &lt;&lt; 1) ^ (v &gt;&gt; 63) ZigZag algorithm to reduce cost of small negative numbers, then encoding it as an unsigned long.  float32‚Äã  size: 4 byteformat: encode the specified floating-point value according to the IEEE 754 floating-point &quot;single format&quot; bit layout, preserving Not-a-Number (NaN) values, then write as binary by little endian order.  float64‚Äã  size: 8 byteformat: encode the specified floating-point value according to the IEEE 754 floating-point &quot;double format&quot; bit layout, preserving Not-a-Number (NaN) values. then write as binary by little endian order.  ","version":"0.13","tagName":"h3"},{"title":"string‚Äã","type":1,"pageTitle":"Xlang Serialization Format","url":"/zh-CN/docs/0.13/specification/xlang_serialization_spec#string","content":" Format:  | unsigned varint64: size &lt;&lt; 2 `bitor` 2 bits encoding flags | binary data |   size + encoding will be concat as a long and encoded as an unsigned varint64. The little 2 bits is used for encoding: 0 for latin1(ISO-8859-1), 1 for utf-16, 2 for utf-8.encoded string binary data based on encoding: latin/utf-16/utf-8.  Which encoding to choose:  For JDK8: fory detect latin at runtime, if string is latin string, then use latin encoding, otherwise use utf-16.For JDK9+: fory use coder in String object for encoding, latin/utf-16 will be used for encoding.If the string is encoded by utf-8, then fory will use utf-8 to decode the data. Cross-language string serialization of fory uses utf-8 by default.  ","version":"0.13","tagName":"h3"},{"title":"collection/list‚Äã","type":1,"pageTitle":"Xlang Serialization Format","url":"/zh-CN/docs/0.13/specification/xlang_serialization_spec#collectionlist","content":" Format:  | unsigned varint64: length | 1 byte elements header | elements data |   elements header‚Äã  In most cases, all elements are same type and not null, elements header will encode those homogeneous information to avoid the cost of writing it for every element. Specifically, there are four kinds of information which will be encoded by elements header, each use one bit:  If track elements ref, use the first bit 0b1 of the header to flag it.If the elements have null, use the second bit 0b10 of the header to flag it. If ref tracking is enabled for this element type, this flag is invalid.If the element types are the declared type, use the 3rd bit 0b100 of the header to flag it.If the element types are smae, use the 4th bit 0b1000 header to flag it.  By default, all bits are unset, which means all elements won't track ref, all elements are same type, not null and the actual element is the declared type in the custom type field.  The implementation can generate different deserialization code based read header, and look up the generated code from a linear map/list.  elements data‚Äã  Based on the elements header, the serialization of elements data may skip ref flag/null flag/element type info.  fory = ... buffer = ... elems = ... if element_type_is_same: if not is_declared_type: fory.write_type(buffer, elem_type) elem_serializer = get_serializer(...) if track_ref: for elem in elems: if not ref_resolver.write_ref_or_null(buffer, elem): elem_serializer.write(buffer, elem) elif has_null: for elem in elems: if elem is None: buffer.write_byte(null_flag) else: buffer.write_byte(not_null_flag) elem_serializer.write(buffer, elem) else: for elem in elems: elem_serializer.write(buffer, elem) else: if track_ref: for elem in elems: fory.write_ref(buffer, elem) elif has_null: for elem in elems: fory.write_nullable(buffer, elem) else: for elem in elems: fory.write_value(buffer, elem)   CollectionSerializer#writeElementscan be taken as an example.  ","version":"0.13","tagName":"h3"},{"title":"array‚Äã","type":1,"pageTitle":"Xlang Serialization Format","url":"/zh-CN/docs/0.13/specification/xlang_serialization_spec#array","content":" primitive array‚Äã  Primitive array are taken as a binary buffer, serialization will just write the length of array size as an unsigned int, then copy the whole buffer into the stream.  Such serialization won't compress the array. If users want to compress primitive array, users need to register custom serializers for such types or mark it as list type.  Tensor‚Äã  Tensor is a special primitive multi-dimensional array which all dimensions have same size and type. The serialization format is:  | num_dims(unsigned varint) | shape[0](unsigned varint) | shape[...] | shape[N] | element type | data |   The data is continuous to reduce copy and may zero-copy in some cases.  object array‚Äã  Object array is serialized using the list format. Object component type will be taken as list element generic type.  ","version":"0.13","tagName":"h3"},{"title":"map‚Äã","type":1,"pageTitle":"Xlang Serialization Format","url":"/zh-CN/docs/0.13/specification/xlang_serialization_spec#map","content":" Map uses a chunk by chunk based Format:  | length(unsigned varint) | key value chunk data | ... | key value chunk data |   map key-value chunk data‚Äã  Map iteration is too expensive, Fory won't compute the header like for list since it introduceconsiderable overhead. Users can use MapFieldInfo annotation to provide the header in advance. Otherwise Fory will use first key-value pair to predict header optimistically, and update the chunk header if the prediction failed at some pair.  Fory will serialize the map chunk by chunk, every chunk has 255 pairs at most.  | 1 byte | 1 byte | variable bytes | +----------------+----------------+-----------------+ | KV header | chunk size: N | N*2 objects |   KV header:  If track key ref, use the first bit 0b1 of the header to flag it.If the key has null, use the second bit 0b10 of the header to flag it. If ref tracking is enabled for this key type, this flag is invalid.If the actual key type of map is the declared key type, use the 3rd bit 0b100 of the header to flag it.If track value ref, use the 4th bit 0b1000 of the header to flag it.If the value has null, use the 5th bit 0b10000 of the header to flag it. If ref tracking is enabled for this value type, this flag is invalid.If the value type of map is the declared value type, use the 6rd bit 0b100000 of the header to flag it.If key or value is null, that key and value will be written as a separate chunk, and chunk size writing will be skipped too.  If streaming write is enabled, which means Fory can't update written chunk size. In such cases, map key-value data format will be:  | 1 byte | variable bytes | +----------------+-----------------+ | KV header | N*2 objects |   KV header will be a header marked by MapFieldInfo in java. For languages such as golang, this can be computed in advance for non-interface types most times. The implementation can generate different deserialization code based read header, and look up the generated code from a linear map/list.  Why serialize chunk by chunk?‚Äã  When fory will use first key-value pair to predict header optimistically, it can't know how many pairs have same meta(tracking kef ref, key has null and so on). If we don't write chunk by chunk with max chunk size, we must write at least X bytes to take up a place for later to update the number which has same elements, X is the num_bytes for encoding varint encoding of map size.  And most map size are smaller than 255, if all pairs have same data, the chunk will be 1. This is common in golang/rust, which object are not reference by default.  Also, if only one or two keys have different meta, we can make it into a different chunk, so that most pairs can share meta.  The implementation can accumulate read count with map size to decide whether to read more chunks.  ","version":"0.13","tagName":"h3"},{"title":"enum‚Äã","type":1,"pageTitle":"Xlang Serialization Format","url":"/zh-CN/docs/0.13/specification/xlang_serialization_spec#enum","content":" Enums are serialized as an unsigned var int. If the order of enum values change, the deserialized enum value may not be the value users expect. In such cases, users must register enum serializer by make it write enum value as an enumerated string with unique hash disabled.  ","version":"0.13","tagName":"h3"},{"title":"decimal‚Äã","type":1,"pageTitle":"Xlang Serialization Format","url":"/zh-CN/docs/0.13/specification/xlang_serialization_spec#decimal","content":" Not supported for now.  ","version":"0.13","tagName":"h3"},{"title":"struct‚Äã","type":1,"pageTitle":"Xlang Serialization Format","url":"/zh-CN/docs/0.13/specification/xlang_serialization_spec#struct","content":" Struct means object of class/pojo/struct/bean/record type. Struct will be serialized by writing its fields data in fory order.  Depending on schema compatibility, structs will have different formats.  field order‚Äã  Field will be ordered as following, every group of fields will have its own order:  primitive fields: larger size type first, smaller later, variable size type last.when same size, sort by type idwhen same size and type id, sort by snake case field nametypes: bool/int8/int16/int32/varint32/int64/varint64/sliint64/float16/float32/float64 nullable primitive fields: same order as primitive fieldsother internal type fields: sort by type id then snake case field namelist fields: sort by snake case field nameset fields: sort by snake case field namemap fields: sort by snake case field nameother fields: sort by snake case field name  If two fields have same type, then sort by snake_case styled field name.  schema consistent‚Äã  Object will be written as:  | 4 byte | variable bytes | +---------------+------------------+ | type hash | field values |   Type hash is used to check the type schema consistency across languages. Type hash will be the first 32 bits of 56 bits value of the type meta.  Object fields will be serialized one by one using following format:  not null primitive field value: | var bytes | +----------------+ | value data | +----------------+ nullable primitive field value: | one byte | var bytes | +-----------+---------------+ | null flag | field value | +-----------+---------------+ other interal types supported by fory | var bytes | var objects | +-----------+-------------+ | null flag | value data | +-----------+-------------+ list field type: | one byte | var objects | +-----------+-------------+ | ref meta | value data | set field type: | one byte | var objects | +-----------+-------------+ | ref meta | value data | map field type: | one byte | var objects | +-----------+-------------+ | ref meta | value data | +-----------+-------------+-------------+ other types such as enum/struct/ext | one byte | var bytes | var objects | +-----------+------------+------------+ | ref flag | type meta | value data | +-----------+------------+------------+   Type hash algorithm:  Sort fields by fields sort algorithmStart with string &quot;&quot;Iterate every field, append string by: snow_case(field_name),. For camelcase name, convert it to snow_case first.$type_id,, for other fields, use type id TypeId::UNKNOWN instead.$nullable;, 1 if nullable, 0 otherwise. Then convert string to utf8 bytesCompute murmurhash3_x64_128, and use first 32 bits  Schema evolution‚Äã  Schema evolution have similar format as schema consistent mode for object except:  For the object type, schema consistent mode will write type by id only, but schema evolution mode will write type consisting of field names, types and other meta too, see Type meta.Type meta of final custom type needs to be written too, because peers may not have this type defined.  ","version":"0.13","tagName":"h3"},{"title":"Type‚Äã","type":1,"pageTitle":"Xlang Serialization Format","url":"/zh-CN/docs/0.13/specification/xlang_serialization_spec#type","content":" Type will be serialized using type meta format.  ","version":"0.13","tagName":"h3"},{"title":"Implementation guidelines‚Äã","type":1,"pageTitle":"Xlang Serialization Format","url":"/zh-CN/docs/0.13/specification/xlang_serialization_spec#implementation-guidelines","content":" ","version":"0.13","tagName":"h2"},{"title":"How to reduce memory read/write code‚Äã","type":1,"pageTitle":"Xlang Serialization Format","url":"/zh-CN/docs/0.13/specification/xlang_serialization_spec#how-to-reduce-memory-readwrite-code","content":" Try to merge multiple bytes into an int/long write before writing to reduce memory IO and bound check cost.Read multiple bytes as an int/long, then split into multiple bytes to reduce memory IO and bound check cost.Try to use one varint/long to write flags and length together to save one byte cost and reduce memory io.Condition branches are less expensive compared to memory IO cost unless there are too many branches.  ","version":"0.13","tagName":"h3"},{"title":"Fast deserialization for static languages without runtime codegen support‚Äã","type":1,"pageTitle":"Xlang Serialization Format","url":"/zh-CN/docs/0.13/specification/xlang_serialization_spec#fast-deserialization-for-static-languages-without-runtime-codegen-support","content":" For type evolution, the serializer will encode the type meta into the serialized data. The deserializer will compare this meta with class meta in the current process, and use the diff to determine how to deserialize the data.  For java/javascript/python, we can use the diff to generate serializer code at runtime and load it as class/function for deserialization. In this way, the type evolution will be as fast as type consist mode.  For C++/Rust, we can't generate the serializer code at runtime. So we need to generate the code at compile-time using meta programming. But at that time, we don't know the type schema in other processes, so we can't generate the serializer code for such inconsistent types. We may need to generate the code which has a loop and compare field name one by one to decide whether to deserialize and assign the field or skip the field value.  One fast way is that we can optimize the string comparison into jump instructions:  Assume the current type has n fields, and the peer type has n1 fields.Generate an auto growing field id from 0 for every sorted field in the current type at the compile time.Compare the received type meta with current type, generate same id if the field name is same, otherwise generate an auto growing id starting from n, cache this meta at runtime.Iterate the fields of received type meta, use a switch to compare the field id to deserialize data and assign/skip field value. Continuous field id will be optimized into jump in switch block, so it will very fast.  Here is an example, suppose process A has a class Foo with version 1 defined as Foo1, process B has a class Foowith version 2 defined as Foo2:  // class Foo with version 1 class Foo1 { int32_t v1; // id 0 std::string v2; // id 1 }; // class Foo with version 2 class Foo2 { // id 0, but will have id 2 in process A bool v0; // id 1, but will have id 0 in process A int32_t v1; // id 2, but will have id 3 in process A int64_t long_value; // id 3, but will have id 1 in process A std::string v2; // id 4, but will have id 4 in process A std::vector&lt;std::string&gt; list; };   When process A received serialized Foo2 from process B, here is how it deserialize the data:  Foo1 foo1 = ...; const std::vector&lt;fory::FieldInfo&gt; &amp;field_infos = type_meta.field_infos; for (const auto &amp;field_info : field_infos) { switch (field_info.field_id) { case 0: foo1.v1 = buffer.read_varint32(); break; case 1: foo1.v2 = fory.read_string(); break; default: fory.skip_data(field_info); } }  ","version":"0.13","tagName":"h3"},{"title":"Â¶Ç‰ΩïÂä†ÂÖ• Apache Fory‚Ñ¢ Á§æÂå∫","type":0,"sectionRef":"#","url":"/zh-CN/docs/0.14/community/how_to_join_community","content":"","keywords":"","version":"0.14"},{"title":"Apache Fory‚Ñ¢ Ë¥°ÁåÆÊåáÂçó‚Äã","type":1,"pageTitle":"Â¶Ç‰ΩïÂä†ÂÖ• Apache Fory‚Ñ¢ Á§æÂå∫","url":"/zh-CN/docs/0.14/community/how_to_join_community#apache-fory-Ë¥°ÁåÆÊåáÂçó","content":" Apache Fory‚Ñ¢ Âõ¢ÈòüÈÄöÂ∏∏Âú® github ‰∏äËøõË°åÂºÄÂèëÂíå issue Áª¥Êä§ÔºåËØ∑ÊâìÂºÄ¬†Github ÁΩëÁ´ôÔºåÁÇπÂáªÂè≥‰∏äËßí¬†Sign up¬†ÊåâÈíÆÔºåÊ≥®ÂÜå‰∏Ä‰∏™Ëá™Â∑±ÁöÑË¥¶Âè∑ÔºåÂºÄÂêØ‰Ω†ÂºÄÊ∫ê‰πãÊóÖÁöÑÁ¨¨‰∏ÄÊ≠•„ÄÇ  Âú®¬†Apache Fory‚Ñ¢ ‰ªìÂ∫ì‰∏≠ÔºåÊàë‰ª¨Êúâ‰∏Ä‰ªΩÈù¢ÂêëÊâÄÊúâÂºÄÊ∫êË¥°ÁåÆËÄÖÁöÑÊåáÂçóÔºå‰ªãÁªç‰∫ÜÊúâÂÖ≥ÁâàÊú¨ÁÆ°ÁêÜ„ÄÅÂàÜÊîØÁÆ°ÁêÜÁ≠âÂÜÖÂÆπÔºåËØ∑Ëä±Âá†ÂàÜÈíüÊó∂Èó¥ÈòÖËØª‰∫ÜËß£‰∏Ä‰∏ã„ÄÇ  ","version":"0.14","tagName":"h2"},{"title":"‰Ω†ÁöÑÁ¨¨‰∏Ä‰∏™ Pull Request‚Äã","type":1,"pageTitle":"Â¶Ç‰ΩïÂä†ÂÖ• Apache Fory‚Ñ¢ Á§æÂå∫","url":"/zh-CN/docs/0.14/community/how_to_join_community#‰Ω†ÁöÑÁ¨¨‰∏Ä‰∏™-pull-request","content":" ","version":"0.14","tagName":"h2"},{"title":"Step0ÔºöÂÆâË£Ö Git‚Äã","type":1,"pageTitle":"Â¶Ç‰ΩïÂä†ÂÖ• Apache Fory‚Ñ¢ Á§æÂå∫","url":"/zh-CN/docs/0.14/community/how_to_join_community#step0ÂÆâË£Ö-git","content":" Git ÊòØ‰∏ÄÁßçÁâàÊú¨ÊéßÂà∂Á≥ªÁªüÔºåÁî®‰∫éË∑üË∏™ÂíåÁÆ°ÁêÜËΩØ‰ª∂ÂºÄÂèëÈ°πÁõÆ‰∏≠ÁöÑ‰ª£Á†ÅÂèòÊõ¥„ÄÇÂÆÉÂ∏ÆÂä©ÂºÄÂèëËÄÖËÆ∞ÂΩïÂíåÁÆ°ÁêÜ‰ª£Á†ÅÁöÑÂéÜÂè≤ËÆ∞ÂΩïÔºåÊñπ‰æøÂõ¢ÈòüÂçè‰Ωú„ÄÅ‰ª£Á†ÅÁâàÊú¨ÊéßÂà∂„ÄÅÂêàÂπ∂‰ª£Á†ÅÁ≠âÊìç‰Ωú„ÄÇÈÄöËøá GitÔºåÊÇ®ÂèØ‰ª•ËøΩË∏™ÊØè‰∏™Êñá‰ª∂ÁöÑÊØè‰∏™ÁâàÊú¨ÔºåÂπ∂ËΩªÊùæÂú∞Âú®‰∏çÂêåÁâàÊú¨‰πãÈó¥ËøõË°åÂàáÊç¢ÂíåÊØîËæÉ„ÄÇGit ËøòÊèê‰æõ‰∫ÜÂàÜÊîØÁÆ°ÁêÜÂäüËÉΩÔºå‰ΩøÂæóÂèØ‰ª•ÂêåÊó∂ËøõË°åÂ§ö‰∏™Âπ∂Ë°åÂºÄÂèë‰ªªÂä°„ÄÇ  ËÆøÈóÆ Git ÂÆòÊñπÁΩëÁ´ôÔºöhttps://git-scm.com‰∏ãËΩΩÊúÄÊñ∞ÁâàÊú¨ÁöÑ Git ÂÆâË£ÖÁ®ãÂ∫è„ÄÇËøêË°å‰∏ãËΩΩÁöÑÂÆâË£ÖÁ®ãÂ∫èÔºåÊåâÁÖßÂÆâË£ÖÂêëÂØºÁöÑÊèêÁ§∫ËøõË°åÂÆâË£Ö„ÄÇÂÆâË£ÖÂÆåÊàêÂêéÔºå‰Ω†ÂèØ‰ª•ÈÄöËøáÂëΩ‰ª§Ë°å‰ΩøÁî®¬†git version¬†ÂëΩ‰ª§Á°ÆËÆ§ÂÆâË£ÖÊàêÂäü„ÄÇ  ","version":"0.14","tagName":"h3"},{"title":"Step1ÔºöFork È°πÁõÆ‚Äã","type":1,"pageTitle":"Â¶Ç‰ΩïÂä†ÂÖ• Apache Fory‚Ñ¢ Á§æÂå∫","url":"/zh-CN/docs/0.14/community/how_to_join_community#step1fork-È°πÁõÆ","content":" È¶ñÂÖàÈúÄË¶Å fork Ëøô‰∏™È°πÁõÆÔºåËøõÂÖ•Apache Fory‚Ñ¢ È°πÁõÆÈ°µÈù¢ÔºåÁÇπÂáªÂè≥‰∏äËßíÁöÑ Fork ÊåâÈíÆ‰Ω†ÁöÑ github Â∏êÂè∑‰∏≠‰ºöÂá∫Áé∞ xxxx(‰Ω†ÁöÑ github Áî®Êà∑Âêç)/fory Ëøô‰∏™È°πÁõÆÂú®Êú¨Âú∞ÁîµËÑë‰∏ä‰ΩøÁî®‰ª•‰∏ãÂëΩ‰ª§: ÂæóÂà∞‰∏Ä‰∏™ fory Êñá‰ª∂Â§π  // ssh git clone git@github.com:xxxx(‰Ω†ÁöÑgithubÁî®Êà∑Âêç)/fory.git // https git clone https://github.com/xxxx(‰Ω†ÁöÑgithubÁî®Êà∑Âêç)/fory.git   ","version":"0.14","tagName":"h3"},{"title":"Step2ÔºöËé∑ÂèñÈ°πÁõÆ‰ª£Á†Å‚Äã","type":1,"pageTitle":"Â¶Ç‰ΩïÂä†ÂÖ• Apache Fory‚Ñ¢ Á§æÂå∫","url":"/zh-CN/docs/0.14/community/how_to_join_community#step2Ëé∑ÂèñÈ°πÁõÆ‰ª£Á†Å","content":" ËøõÂÖ• fory Êñá‰ª∂Â§πÔºåÊ∑ªÂä† fory ÁöÑËøúÁ®ãÂú∞ÂùÄ  git remote add upstream https://github.com/apache/fory.git   ","version":"0.14","tagName":"h3"},{"title":"Step3ÔºöÂàõÂª∫ÂàÜÊîØ‚Äã","type":1,"pageTitle":"Â¶Ç‰ΩïÂä†ÂÖ• Apache Fory‚Ñ¢ Á§æÂå∫","url":"/zh-CN/docs/0.14/community/how_to_join_community#step3ÂàõÂª∫ÂàÜÊîØ","content":" Â•Ω‰∫ÜÔºåÁé∞Âú®ÂèØ‰ª•ÂºÄÂßãË¥°ÁåÆÊàë‰ª¨ÁöÑ‰ª£Á†Å‰∫Ü„ÄÇfory ÈªòËÆ§ÂàÜÊîØ‰∏∫ main ÂàÜÊîØ„ÄÇÊó†ËÆ∫ÊòØÂäüËÉΩÂºÄÂèë„ÄÅbug ‰øÆÂ§ç„ÄÅÊñáÊ°£ÁºñÂÜôÔºåÈÉΩËØ∑Êñ∞Âª∫Á´ã‰∏Ä‰∏™ÂàÜÊîØÔºåÂÜçÂêàÂπ∂Âà∞ main ÂàÜÊîØ‰∏ä„ÄÇ‰ΩøÁî®‰ª•‰∏ã‰ª£Á†ÅÂàõÂª∫ÂàÜÊîØÔºö  // ÂàõÂª∫ÂäüËÉΩÂºÄÂèëÂàÜÊîØ git checkout -b feat/xxxx // ÂàõÂª∫ÈóÆÈ¢ò‰øÆÂ§çÂºÄÂèëÂàÜÊîØ git checkout -b fix/xxxx // ÂàõÂª∫ÊñáÊ°£„ÄÅdemoÂàÜÊîØ git checkout -b docs/add-java-demo   ÂÅáËÆæÊàë‰ª¨ÂàõÂª∫‰∫ÜÊñáÊ°£‰øÆÊîπÂàÜÊîØ¬†docs/add-java-demo  ÂÅáËÆæÊàë‰ª¨Â∑≤ÁªèÊ∑ªÂä†‰∫Ü‰∏Ä‰∫õ‰ª£Á†ÅÔºåÊèê‰∫§Âà∞‰ª£Á†ÅÂ∫ì git add . git commit -a -m &quot;docs: add java demo and related docs&quot; „ÄÇ  ","version":"0.14","tagName":"h3"},{"title":"Step4ÔºöÂêàÂπ∂‰øÆÊîπ‚Äã","type":1,"pageTitle":"Â¶Ç‰ΩïÂä†ÂÖ• Apache Fory‚Ñ¢ Á§æÂå∫","url":"/zh-CN/docs/0.14/community/how_to_join_community#step4ÂêàÂπ∂‰øÆÊîπ","content":" ÂàáÊç¢ÂõûËá™Â∑±ÁöÑÂºÄÂèëÂàÜÊîØ:  git checkout docs/add-java-demo   ÊääÊõ¥Êñ∞‰ª£Á†ÅÊèê‰∫§Âà∞Ëá™Â∑±ÁöÑÂàÜÊîØ‰∏≠:  git push origin docs/add-java-demo   ","version":"0.14","tagName":"h3"},{"title":"Step5ÔºöÊèê‰∫§ Pull Request‚Äã","type":1,"pageTitle":"Â¶Ç‰ΩïÂä†ÂÖ• Apache Fory‚Ñ¢ Á§æÂå∫","url":"/zh-CN/docs/0.14/community/how_to_join_community#step5Êèê‰∫§-pull-request","content":" ‰Ω†ÂèØ‰ª•Âú®‰Ω†ÁöÑ github ‰ª£Á†Å‰ªìÂ∫ìÈ°µÈù¢ÁÇπÂáª¬†Compare &amp; pull request¬†ÊåâÈíÆ„ÄÇÊàñÈÄöËøá¬†contribute¬†ÊåâÈíÆÂàõÂª∫„ÄÇ  Â°´ÂÜôËøôÊòØ‰ªÄ‰πàÁ±ªÂûãÁöÑ‰øÆÊîπÂ°´ÂÜôÂÖ≥ËÅîÁöÑ issueËã•ÊúâÂ§çÊùÇÂèòÊõ¥ÔºåËØ∑ËØ¥ÊòéËÉåÊôØÂíåËß£ÂÜ≥ÊñπÊ°à  Áõ∏ÂÖ≥‰ø°ÊÅØÂ°´ÂÜôÂÆåÊàêÂêéÔºåÁÇπÂáª Create pull request Êèê‰∫§„ÄÇ  ","version":"0.14","tagName":"h3"},{"title":"ËΩªÊùæÊ≠•ÂÖ• Apache Fory‚Ñ¢ ÂºÄÊ∫êË¥°ÁåÆ‰πãÊóÖ‚Äã","type":1,"pageTitle":"Â¶Ç‰ΩïÂä†ÂÖ• Apache Fory‚Ñ¢ Á§æÂå∫","url":"/zh-CN/docs/0.14/community/how_to_join_community#ËΩªÊùæÊ≠•ÂÖ•-apache-fory-ÂºÄÊ∫êË¥°ÁåÆ‰πãÊóÖ","content":" &quot;good first issue&quot; ÊòØ‰∏Ä‰∏™Âú®ÂºÄÊ∫êÁ§æÂå∫Â∏∏ËßÅÁöÑÊ†áÁ≠æÔºåËøô‰∏™Ê†áÁ≠æÁöÑÁõÆÁöÑÊòØÂ∏ÆÂä©Êñ∞Ë¥°ÁåÆËÄÖÊâæÂà∞ÈÄÇÂêàÂÖ•Èó®ÁöÑÈóÆÈ¢ò„ÄÇ  Apache Fory‚Ñ¢ ÁöÑÂÖ•Èó®ÈóÆÈ¢òÔºå‰Ω†ÂèØ‰ª•ÈÄöËøá¬†issue ÂàóË°®Êü•Áúã„ÄÇ  Â¶ÇÊûú‰Ω†ÂΩìÂâçÊúâÊó∂Èó¥ÂíåÊÑèÊÑøÂèÇ‰∏éÂà∞Á§æÂå∫Ë¥°ÁåÆÔºåÂèØ‰ª•Âú® issue ÈáåÁúã‰∏ÄÁúã¬†good first issueÔºåÈÄâÊã©‰∏Ä‰∏™ÊÑüÂÖ¥Ë∂£„ÄÅÈÄÇÂêàËá™Â∑±ÁöÑËÆ§È¢Ü„ÄÇ  ","version":"0.14","tagName":"h2"},{"title":"Êã•Êä± Apache Fory‚Ñ¢ Á§æÂå∫‚Äã","type":1,"pageTitle":"Â¶Ç‰ΩïÂä†ÂÖ• Apache Fory‚Ñ¢ Á§æÂå∫","url":"/zh-CN/docs/0.14/community/how_to_join_community#Êã•Êä±-apache-fory-Á§æÂå∫","content":" Âú®‰Ω†‰∏∫ Apache Fory‚Ñ¢ Ë¥°ÁåÆ‰ª£Á†Å‰πã‰ΩôÔºåÊàë‰ª¨ÈºìÂä±‰Ω†ÂèÇ‰∏éÂÖ∂‰ªñËÆ©Á§æÂå∫Êõ¥Âä†ÁπÅËç£ÁöÑ‰∫ãÊÉÖÔºåÊØîÂ¶ÇÔºö  ‰∏∫È°πÁõÆÁöÑÂèëÂ±ï„ÄÅÂäüËÉΩËßÑÂàí Á≠âÊèêÂª∫ËÆÆ„ÄÇÂàõ‰ΩúÊñáÁ´†„ÄÅËßÜÈ¢ëÔºåÂºÄÂäûËÆ≤Â∫ßÊù•ÂÆ£‰º† Apache Fory‚Ñ¢Êí∞ÂÜôÊé®ÂπøËÆ°ÂàíÔºåÂêåÂõ¢Èòü‰∏ÄÂêåÊâßË°å„ÄÇ ","version":"0.14","tagName":"h2"},{"title":"Apache Fory‚Ñ¢ ‰ΩøÁî®","type":0,"sectionRef":"#","url":"/zh-CN/docs/0.13/start/usage","content":"","keywords":"","version":"0.13"},{"title":"Java Â∫èÂàóÂåñ‚Äã","type":1,"pageTitle":"Apache Fory‚Ñ¢ ‰ΩøÁî®","url":"/zh-CN/docs/0.13/start/usage#java-Â∫èÂàóÂåñ","content":" import java.util.List; import java.util.Arrays; import io.fory.*; public class Example { public static void main(String[] args) { SomeClass object = new SomeClass(); // Note that Fory instances should be reused between // multiple serializations of different objects. Fory fory = Fory.builder().withLanguage(Language.JAVA) // Allow to deserialize objects unknown types, // more flexible but less secure. // .requireClassRegistration(false) .build(); // Registering types can reduce class name serialization overhead, but not mandatory. // If secure mode enabled, all custom types must be registered. fory.register(SomeClass.class); byte[] bytes = fory.serialize(object); System.out.println(fory.deserialize(bytes)); } }   ","version":"0.13","tagName":"h2"},{"title":"ScalaÂ∫èÂàóÂåñ‚Äã","type":1,"pageTitle":"Apache Fory‚Ñ¢ ‰ΩøÁî®","url":"/zh-CN/docs/0.13/start/usage#scalaÂ∫èÂàóÂåñ","content":" import org.apache.fory.Fory import org.apache.fory.serializer.scala.ScalaSerializers case class Person(name: String, id: Long, github: String) case class Point(x : Int, y : Int, z : Int) object ScalaExample { val fory: Fory = Fory.builder().withScalaOptimizationEnabled(true).build() // Register optimized fory serializers for scala ScalaSerializers.registerSerializers(fory) fory.register(classOf[Person]) fory.register(classOf[Point]) def main(args: Array[String]): Unit = { val p = Person(&quot;Shawn Yang&quot;, 1, &quot;https://github.com/chaokunyang&quot;) println(fory.deserialize(fory.serialize(p))) println(fory.deserialize(fory.serialize(Point(1, 2, 3)))) } } ## KotlinÂ∫èÂàóÂåñ ```kotlin import org.apache.fory.Fory import org.apache.fory.ThreadSafeFory import org.apache.fory.serializer.kotlin.KotlinSerializers data class Person(val name: String, val id: Long, val github: String) data class Point(val x : Int, val y : Int, val z : Int) fun main(args: Array&lt;String&gt;) { // Ê≥®ÊÑè: ‰∏ãÈù¢ÁöÑForyÂàùÂßãÂåñ‰ª£Á†ÅÂ∫îËØ•Âè™ÊâßË°å‰∏ÄÊ¨°ÔºåËÄå‰∏çÊòØÂú®ÊØèÊ¨°Â∫èÂàóÂåñÂâçÈÉΩËøêË°å val fory: ThreadSafeFory = Fory.builder().requireClassRegistration(true).buildThreadSafeFory() KotlinSerializers.registerSerializers(fory) fory.register(Person::class.java) fory.register(Point::class.java) val p = Person(&quot;Shawn Yang&quot;, 1, &quot;https://github.com/chaokunyang&quot;) println(fory.deserialize(fory.serialize(p))) println(fory.deserialize(fory.serialize(Point(1, 2, 3)))) }   ","version":"0.13","tagName":"h2"},{"title":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ‚Äã","type":1,"pageTitle":"Apache Fory‚Ñ¢ ‰ΩøÁî®","url":"/zh-CN/docs/0.13/start/usage#Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ","content":" ","version":"0.13","tagName":"h2"},{"title":"Java‚Äã","type":1,"pageTitle":"Apache Fory‚Ñ¢ ‰ΩøÁî®","url":"/zh-CN/docs/0.13/start/usage#java","content":" import com.google.common.collect.ImmutableMap; import io.fory.*; import java.util.Map; public class ReferenceExample { public static class SomeClass { SomeClass f1; Map&lt;String, String&gt; f2; Map&lt;String, String&gt; f3; } public static Object createObject() { SomeClass obj = new SomeClass(); obj.f1 = obj; obj.f2 = ImmutableMap.of(&quot;k1&quot;, &quot;v1&quot;, &quot;k2&quot;, &quot;v2&quot;); obj.f3 = obj.f2; return obj; } // mvn exec:java -Dexec.mainClass=&quot;io.fory.examples.ReferenceExample&quot; public static void main(String[] args) { Fory fory = Fory.builder().withLanguage(Language.XLANG) .withRefTracking(true).build(); fory.register(SomeClass.class, &quot;example.SomeClass&quot;); byte[] bytes = fory.serialize(createObject()); // bytes can be data serialized by other languages. System.out.println(fory.deserialize(bytes)); ; } }   ","version":"0.13","tagName":"h3"},{"title":"Python‚Äã","type":1,"pageTitle":"Apache Fory‚Ñ¢ ‰ΩøÁî®","url":"/zh-CN/docs/0.13/start/usage#python","content":" from typing import Dict import pyfory class SomeClass: f1: &quot;SomeClass&quot; f2: Dict[str, str] f3: Dict[str, str] fory = pyfory.Fory(ref_tracking=True) fory.register_class(SomeClass, &quot;example.SomeClass&quot;) obj = SomeClass() obj.f2 = {&quot;k1&quot;: &quot;v1&quot;, &quot;k2&quot;: &quot;v2&quot;} obj.f1, obj.f3 = obj, obj.f2 data = fory.serialize(obj) # bytes can be data serialized by other languages. print(fory.deserialize(data))   ","version":"0.13","tagName":"h3"},{"title":"Golangs‚Äã","type":1,"pageTitle":"Apache Fory‚Ñ¢ ‰ΩøÁî®","url":"/zh-CN/docs/0.13/start/usage#golangs","content":" package main import ( &quot;fmt&quot; forygo &quot;github.com/apache/fory/go/fory&quot; ) func main() { type SomeClass struct { F1 *SomeClass F2 map[string]string F3 map[string]string } fory := forygo.NewFory(true) if err := fory.RegisterTagType(&quot;example.SomeClass&quot;, SomeClass{}); err != nil { panic(err) } value := &amp;SomeClass{F2: map[string]string{&quot;k1&quot;: &quot;v1&quot;, &quot;k2&quot;: &quot;v2&quot;}} value.F3 = value.F2 value.F1 = value bytes, err := fory.Marshal(value) if err != nil { } var newValue interface{} // bytes can be data serialized by other languages. if err := fory.Unmarshal(bytes, &amp;newValue); err != nil { panic(err) } fmt.Println(newValue) }   ","version":"0.13","tagName":"h3"},{"title":"JavaScript‚Äã","type":1,"pageTitle":"Apache Fory‚Ñ¢ ‰ΩøÁî®","url":"/zh-CN/docs/0.13/start/usage#javascript","content":" import Fory, { Type } from &quot;@apache-fory/fory&quot;; /** * @apache-fory/hps use v8's fast-calls-api that can be called directly by jit, ensure that the version of Node is 20 or above. * Experimental feature, installation success cannot be guaranteed at this moment * If you are unable to install the module, replace it with `const hps = null;` **/ import hps from &quot;@apache-fory/hps&quot;; // Now we describe data structures using JSON, but in the future, we will use more ways. const description = Type.object(&quot;example.foo&quot;, { foo: Type.string(), }); const fory = new Fory({ hps }); const { serialize, deserialize } = fory.registerSerializer(description); const input = serialize({ foo: &quot;hello fory&quot; }); const result = deserialize(input); console.log(result);   ","version":"0.13","tagName":"h3"},{"title":"Rust‚Äã","type":1,"pageTitle":"Apache Fory‚Ñ¢ ‰ΩøÁî®","url":"/zh-CN/docs/0.13/start/usage#rust","content":" use fory::{from_buffer, to_buffer, Fory}; #[derive(Fory, Debug, PartialEq)] #[tag(&quot;example.foo&quot;)] struct Animal { name: String, category: String, } #[derive(Fory, Debug, PartialEq)] #[tag(&quot;example.bar&quot;)] struct Person { name: String, age: u32, pets: Vec&lt;Animal&gt;, } fn main() { let penson = Person { name: &quot;hello&quot;.to_string(), age: 12, pets: vec![ Animal { name: &quot;world1&quot;.to_string(), category: &quot;cat&quot;.to_string(), }, Animal { name: &quot;world2&quot;.to_string(), category: &quot;dog&quot;.to_string(), }, ], }; let bin = to_buffer(&amp;penson); let obj: Person = from_buffer(&amp;bin).expect(&quot;should success&quot;); assert_eq!(obj, penson); }  ","version":"0.13","tagName":"h3"},{"title":"Â¶Ç‰ΩïÂèëÂ∏É","type":0,"sectionRef":"#","url":"/zh-CN/docs/0.14/community/how_to_release","content":"","keywords":"","version":"0.14"},{"title":"‰ªãÁªç‚Äã","type":1,"pageTitle":"Â¶Ç‰ΩïÂèëÂ∏É","url":"/zh-CN/docs/0.14/community/how_to_release#‰ªãÁªç","content":" Ê∫ê‰ª£Á†ÅÂèëÂ∏ÉÊòØ Apache ÊúÄÈáçËßÜ‰ª•ÂèäÊúÄÈáçË¶ÅÁöÑÈÉ®ÂàÜ„ÄÇ  ËØ∑Ê≥®ÊÑèËÆ∏ÂèØËØÅÂíåÂèëÂ∏ÉÁöÑËΩØ‰ª∂Á≠æÂêçÈóÆÈ¢ò„ÄÇÂèëÂ∏ÉËΩØ‰ª∂ÊòØ‰∏Ä‰ª∂‰∏•ËÇÉÁöÑ‰∫ãÊÉÖÔºåÂπ∂‰ºö‰∫ßÁîüÁõ∏Â∫îÁöÑÊ≥ïÂæãÂêéÊûú„ÄÇ  ","version":"0.14","tagName":"h2"},{"title":"release manager Á¨¨‰∏ÄÊ¨°ÂèëÂ∏É‚Äã","type":1,"pageTitle":"Â¶Ç‰ΩïÂèëÂ∏É","url":"/zh-CN/docs/0.14/community/how_to_release#release-manager-Á¨¨‰∏ÄÊ¨°ÂèëÂ∏É","content":" ","version":"0.14","tagName":"h2"},{"title":"ÁéØÂ¢ÉË¶ÅÊ±Ç‚Äã","type":1,"pageTitle":"Â¶Ç‰ΩïÂèëÂ∏É","url":"/zh-CN/docs/0.14/community/how_to_release#ÁéØÂ¢ÉË¶ÅÊ±Ç","content":" Ê≠§ÂèëÂ∏ÉËøáÁ®ãÂú® Ubuntu Á≥ªÁªü‰∏≠ËøêË°åÔºåÈúÄË¶Å‰ª•‰∏ãÂá†‰∏™ÁéØÂ¢É‰æùËµñÔºö  JDK 1.8+Apache Maven 3.x+Python 3.8GnuPG 2.xGitSVNÔºàApache Âü∫Èáë‰ºö‰ΩøÁî® svn Êù•ÊâòÁÆ°È°πÁõÆÂèëÂ∏ÉÔºâËÆæÁΩÆÁéØÂ¢ÉÂèòÈáèÔºöÂ¶ÇÊûúÊÇ®Âú®‰∏çÂêåÁöÑÁõÆÂΩï‰∏ãÈÖçÁΩÆ‰∫Ü gpg ÂØÜÈí•ÔºåËØ∑ÊâßË°å export GNUPGHOME=$(xxx) ÂØºÂá∫ÁéØÂ¢ÉÂèòÈáè„ÄÇ  ","version":"0.14","tagName":"h3"},{"title":"ÂáÜÂ§á GPG ÂØÜÈí•‚Äã","type":1,"pageTitle":"Â¶Ç‰ΩïÂèëÂ∏É","url":"/zh-CN/docs/0.14/community/how_to_release#ÂáÜÂ§á-gpg-ÂØÜÈí•","content":" Â¶ÇÊûúÊÇ®ÊòØÁ¨¨‰∏ÄÊ¨°‰Ωú‰∏∫ËΩØ‰ª∂ÂèëÂ∏ÉËÄÖÔºåÊÇ®ÈúÄË¶ÅÂáÜÂ§á‰∏Ä‰∏™ GPG ÂØÜÈí•„ÄÇ  ÊÇ®ÂèØ‰ª•ÂèÇËÄÉËøôÈáåÁöÑÂø´ÈÄüÂºÄÂßãËé∑Âèñ‰∏Ä‰∏™ GPG ÂØÜÈí•ÊàñËÄÖËé∑ÂèñÊõ¥Â§öÁõ∏ÂÖ≥‰ø°ÊÅØ„ÄÇ  ÂÆâË£Ö GPG‚Äã  sudo apt install gnupg2   ÁîüÊàê GPG ÂØÜÈí•‚Äã  ËØ∑‰ΩøÁî®ÊÇ®ÁöÑ Apache ÂêçÂ≠óÂíåÁîµÂ≠êÈÇÆ‰ª∂Âú∞ÂùÄÁîüÊàê GPG ÂØÜÈí•Ôºö  $ gpg --full-gen-key gpg (GnuPG) 2.2.20; Copyright (C) 2020 Free Software Foundation, Inc. This is free software: you are free to change and redistribute it. There is NO WARRANTY, to the extent permitted by law. Please select what kind of key you want: (1) RSA and RSA (default) (2) DSA and Elgamal (3) DSA (sign only) (4) RSA (sign only) (14) Existing key from card Your selection? 1 # input 1 RSA keys may be between 1024 and 4096 bits long. What keysize do you want? (2048) 4096 # input 4096 Requested keysize is 4096 bits Please specify how long the key should be valid. 0 = key does not expire &lt;n&gt; = key expires in n days &lt;n&gt;w = key expires in n weeks &lt;n&gt;m = key expires in n months &lt;n&gt;y = key expires in n years Key is valid for? (0) 0 # input 0 Key does not expire at all Is this correct? (y/N) y # input y GnuPG needs to construct a user ID to identify your key. Real name: Chaokun Yang # input your name Email address: chaokunyang@apache.org # input your email Comment: CODE SIGNING KEY # input some annotations, optional You selected this USER-ID: &quot;Chaokun &lt;chaokunyang@apache.org&gt;&quot; Change (N)ame, (C)omment, (E)mail or (O)kay/(Q)uit? O # input O We need to generate a lot of random bytes. It is a good idea to perform some other action (type on the keyboard, move the mouse, utilize the disks) during the prime generation; this gives the random number generator a better chance to gain enough entropy. We need to generate a lot of random bytes. It is a good idea to perform some other action (type on the keyboard, move the mouse, utilize the disks) during the prime generation; this gives the random number generator a better chance to gain enough entropy. # Input the security key ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îÇ Please enter this passphrase ‚îÇ ‚îÇ ‚îÇ ‚îÇ Passphrase: _______________________________ ‚îÇ ‚îÇ ‚îÇ ‚îÇ &lt;OK&gt; &lt;Cancel&gt; ‚îÇ ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò # key generation will be done after your inputting the key with the following output gpg: key E49B00F626B marked as ultimately trusted gpg: revocation certificate stored as '/Users/chaokunyang/.gnupg/openpgp-revocs.d/1E2CDAE4C08AD7D694D1CB139D7BE8E45E580BA4.rev' public and secret key created and signed. pub rsa4096 2022-07-12 [SC] 1E2CDAE4C08AD7D694D1CB139D7BE8E45E580BA4 uid [ultimate] Chaokun &lt;chaokunyang@apache.org&gt; sub rsa4096 2022-07-12 [E]   ‰∏ä‰º†ÂÖ¨Èí•Ëá≥ GPG ÂØÜÈí•ÊúçÂä°Âô®‚Äã  È¶ñÂÖàÔºåÂàóÂá∫ÊÇ®ÊâÄÂàõÂª∫ÁöÑ GPG ÂØÜÈí•Ôºö  gpg --list-keys   ÊâßË°åÁõ∏ÂÖ≥ÂëΩ‰ª§‰πãÂêéÔºåÊÇ®Â∞ÜÁúãÂà∞Â¶Ç‰∏ãËæìÂá∫Ôºö  -------------------------------------------------- pub rsa4096 2024-03-27 [SC] 1E2CDAE4C08AD7D694D1CB139D7BE8E45E580BA4 uid [ultimate] chaokunyang (CODE SIGNING KEY) &lt;chaokunyang@apache.org&gt; sub rsa4096 2024-03-27 [E]   ÁÑ∂ÂêéÔºåÂ∞ÜÊÇ®ÁöÑÂØÜÈí• ID ÂèëÈÄÅÂà∞ÂØÜÈí•ÊúçÂä°Âô®Ôºö  gpg --keyserver keys.openpgp.org --send-key &lt;key-id&gt; # e.g., 1E2CDAE4C08AD7D694D1CB139D7BE8E45E580BA4   ÂÖ∂‰∏≠Ôºåkeys.openpgp.org ÊòØ‰∏Ä‰∏™ÈöèÊú∫ÈÄâÊã©ÁöÑÂØÜÈí•ÊúçÂä°Âô®ÔºåÂèØ‰ª•‰ΩøÁî® keyserver.ubuntu.com Êàñ‰ªª‰ΩïÂÖ∂‰ªñÂäüËÉΩÂÆåÂ§áÁöÑÂØÜÈí•ÊúçÂä°Âô®„ÄÇ  Ê£ÄÊü•ÂØÜÈí•ÊòØÂê¶ÂàõÂª∫ÊàêÂäü‚Äã  ‰∏ä‰º†Â§ßÁ∫¶ÈúÄË¶Å‰∏ÄÂàÜÈíüÔºõ‰πãÂêéÔºåÊÇ®ÂèØ‰ª•ÈÄöËøáÁîµÂ≠êÈÇÆ‰ª∂Âú®Áõ∏Â∫îÁöÑÂØÜÈí•ÊúçÂä°Âô®‰∏äÊ£ÄÊü•„ÄÇ  Â∞ÜÂØÜÈí•‰∏ä‰º†Âà∞ÂØÜÈí•ÊúçÂä°Âô®ÁöÑ‰∏ªË¶ÅÁõÆÁöÑÊòØ‰∏∫‰∫ÜÂä†ÂÖ•‰∏Ä‰∏™ÂèØ‰ø°ÁöÑ‰ø°‰ªªÁΩëÁªú„ÄÇ  Â∞Ü GPG ÂÖ¨Èí•Ê∑ªÂä†Âà∞È°πÁõÆ KEYS Êñá‰ª∂‰∏≠‚Äã  ÂèëÂ∏ÉÂàÜÊîØÁöÑ svn ‰ªìÂ∫ìÊòØÔºöhttps://dist.apache.org/repos/dist/release/fory  ËØ∑Âú®ÂèëÂ∏ÉÂàÜÊîØÁöÑ KEYS ‰∏≠Ê∑ªÂä†ÂÖ¨Èí•Ôºö  svn co https://dist.apache.org/repos/dist/release/fory fory-dist # As this step will copy all the versions, it will take some time. If the network is broken, please use svn cleanup to delete the lock before re-execute it. cd fory-dist (gpg --list-sigs YOUR_NAME@apache.org &amp;&amp; gpg --export --armor YOUR_NAME@apache.org) &gt;&gt; KEYS # Append your key to the KEYS file svn add . # It is not needed if the KEYS document exists before. svn ci -m &quot;add gpg key for YOUR_NAME&quot; # Later on, if you are asked to enter a username and password, just use your apache username and password.   Â∞Ü GPG ÂÖ¨Èí•‰∏ä‰º†Âà∞ÊÇ®ÁöÑ GitHub Â∏êÊà∑‚Äã  ËæìÂÖ• https://github.com/settings/keys ‰ª•Ê∑ªÂä†ÊÇ®ÁöÑ GPG ÂØÜÈí•„ÄÇÂ¶ÇÊûúÊ∑ªÂä†ÂêéÂèëÁé∞‚ÄúÊú™È™åËØÅ‚ÄùÂ≠óÊ†∑ÔºåËØ∑Â∞Ü GPG ÂØÜÈí•‰∏≠‰ΩøÁî®ÁöÑÁîµÂ≠êÈÇÆ‰ª∂Âú∞ÂùÄÁªëÂÆöÂà∞ÊÇ®ÁöÑ GitHub Â∏êÊà∑Ôºàhttps://github.com/settings/emailsÔºâ„ÄÇ  ","version":"0.14","tagName":"h3"},{"title":"Âª∂‰º∏ÈòÖËØª‚Äã","type":1,"pageTitle":"Â¶Ç‰ΩïÂèëÂ∏É","url":"/zh-CN/docs/0.14/community/how_to_release#Âª∂‰º∏ÈòÖËØª","content":" Âª∫ËÆÆÊÇ®Âú®ÂèëÂ∏É‰πãÂâçÈòÖËØª‰ª•‰∏ãÊñáÊ°£Ôºå‰∫ÜËß£ÊúâÂÖ≥ Apache Âü∫Èáë‰ºöÂèëÂ∏ÉËΩØ‰ª∂ÁöÑÊõ¥Â§öËØ¶ÁªÜ‰ø°ÊÅØÔºå‰ΩÜËøô‰∏çÊòØÂøÖÈ°ªÁöÑÔºö  ÂèëÂ∏ÉÊîøÁ≠ñÔºöhttps://www.apache.org/legal/release-policy.htmlTLP ÁâàÊú¨Ôºöhttps://infra.apache.org/release-distributionÂèëÂ∏ÉÊ†áÂøóÔºöhttps://infra.apache.org/release-signing.htmlÂèëÂ∏ÉÂèëÂ∏ÉÔºöhttps://infra.apache.org/release-publishing.htmlÂèëÂ∏É‰∏ãËΩΩÈ°µÈù¢Ôºöhttps://infra.apache.org/release-download-pages.htmlÂèëÂ∏É maven artifactsÔºöhttps://infra.apache.org/publishing-maven-artifacts.html  ","version":"0.14","tagName":"h3"},{"title":"ÂºÄÂßãÊúâÂÖ≥ÂèëÂ∏ÉÁöÑËÆ®ËÆ∫‚Äã","type":1,"pageTitle":"Â¶Ç‰ΩïÂèëÂ∏É","url":"/zh-CN/docs/0.14/community/how_to_release#ÂºÄÂßãÊúâÂÖ≥ÂèëÂ∏ÉÁöÑËÆ®ËÆ∫","content":" ÈÄöËøáÂèëÈÄÅÁîµÂ≠êÈÇÆ‰ª∂Ëá≥‰ª•‰∏ãÂú∞ÂùÄÂèëËµ∑ÊúâÂÖ≥‰∏ã‰∏Ä‰∏™ÁâàÊú¨ÁöÑËÆ®ËÆ∫Ôºödev@fory.apache.orgÔºö  Ê†áÈ¢òÔºö  [DISCUSS] Release Apache Fory ${release_version}   ÂÜÖÂÆπÔºö  Hello, Apache Fory Community, This is a call for a discussion to release Apache Fory version ${release_version}. The change lists about this release: https://github.com/apache/fory/compare/v0.11.2...v0.12.0 Please leave your comments here about this release plan. We will bump the version in repo and start the release process after the discussion. Thanks, ${name}   ","version":"0.14","tagName":"h2"},{"title":"ÂáÜÂ§áÂèëÂ∏É‚Äã","type":1,"pageTitle":"Â¶Ç‰ΩïÂèëÂ∏É","url":"/zh-CN/docs/0.14/community/how_to_release#ÂáÜÂ§áÂèëÂ∏É","content":" Â¶ÇÊûúËÆ®ËÆ∫ÁªìÊûú‰∏≠Ê≤°ÊúâÂá∫Áé∞ÂèçÂØπÂ£∞Èü≥ÔºåÊÇ®ÈúÄË¶ÅÂÅö‰∏Ä‰∫õÂèëÂ∏ÉÁâàÊú¨ÁöÑÂáÜÂ§áÂ∑•‰Ωú„ÄÇ  ","version":"0.14","tagName":"h2"},{"title":"Github ÂàÜÊîØÂíåÊ†áÁ≠æ‚Äã","type":1,"pageTitle":"Â¶Ç‰ΩïÂèëÂ∏É","url":"/zh-CN/docs/0.14/community/how_to_release#github-ÂàÜÊîØÂíåÊ†áÁ≠æ","content":" ÂàõÂª∫‰∏Ä‰∏™Âêç‰∏∫ releases-0.12.0ÈÄöËøáÊâßË°åÂëΩ‰ª§Â∞ÜÁâàÊú¨ $version ÂçáÁ∫ßÂà∞ python ci/release.py bump_version -l all -version $versionÊâßË°å git commit Âπ∂Â∞ÜÂàÜÊîØÊé®ÈÄÅÂà∞ git@github.com:apache/fory.gitÈÄöËøá git tag v0.12.0-rc1 ÂàõÂª∫‰∏Ä‰∏™Êñ∞Ê†áÁ≠æÔºåÁÑ∂ÂêéÂ∞ÜÂÖ∂Êé®ÈÄÅÂà∞ git@github.com:apache/fory.git  ","version":"0.14","tagName":"h3"},{"title":"ÊûÑÂª∫ artifacts Âπ∂‰∏ä‰º†Âà∞ SVN dist/dev ‰ªìÂ∫ì‚Äã","type":1,"pageTitle":"Â¶Ç‰ΩïÂèëÂ∏É","url":"/zh-CN/docs/0.14/community/how_to_release#ÊûÑÂª∫-artifacts-Âπ∂‰∏ä‰º†Âà∞-svn-distdev-‰ªìÂ∫ì","content":" È¶ñÂÖàÔºåÊÇ®ÈúÄË¶ÅÈÄöËøá python ci/release.py build -v $version ÊûÑÂª∫È¢ÑÂèëÂ∏É artifacts„ÄÇ  ÁÑ∂ÂêéÊÇ®ÈúÄË¶ÅÊääÂÆÉ‰∏ä‰º†Âà∞ svn dist repo„ÄÇdev ÂàÜÊîØÁöÑ dist ‰ªìÂ∫ìÂú∞ÂùÄÊòØÔºöhttps://dist.apache.org/repos/dist/dev/fory  # As this step will copy all the versions, it will take some time. If the network is broken, please use svn cleanup to delete the lock before re-execute it. svn co https://dist.apache.org/repos/dist/dev/fory fory-dist-dev   ÁÑ∂ÂêéÔºå‰∏ä‰º†È°πÁõÆÔºö  cd fory-dist-dev # create a directory named by version mkdir ${release_version}-${rc_version} # copy source code and signature package to the versioned directory cp ${repo_dir}/dist/* ${release_version}-${rc_version} # check svn status svn status # add to svn svn add ${release_version}-${rc_version} # check svn status svn status # commit to SVN remote server svn commit -m &quot;Prepare for fory ${release_version}-${rc_version}&quot;   ËÆøÈóÆ https://dist.apache.org/repos/dist/dev/fory/ ‰ª•Ê£ÄÊü• artifacts ÊòØÂê¶Ê≠£Á°Æ‰∏ä‰º†„ÄÇ  ","version":"0.14","tagName":"h3"},{"title":"Â¶ÇÊûúÂá∫Áé∞ÈóÆÈ¢òËØ•ÊÄé‰πàÂäû‚Äã","type":1,"pageTitle":"Â¶Ç‰ΩïÂèëÂ∏É","url":"/zh-CN/docs/0.14/community/how_to_release#Â¶ÇÊûúÂá∫Áé∞ÈóÆÈ¢òËØ•ÊÄé‰πàÂäû","content":" Â¶ÇÊûúÊüê‰∫õÊñá‰ª∂ÊòØÊÑèÂ§ñÂá∫Áé∞ÊàñËÄÖÂèëÁîüÊüê‰∫õÈîôËØØÔºåÂàôÈúÄË¶ÅÂà†Èô§Áõ∏ÂÖ≥ÂÜÖÂÆπÂπ∂ÊâßË°å svn deleteÔºåÁÑ∂ÂêéÈáçÂ§ç‰∏äËø∞‰∏ä‰º†ËøáÁ®ã„ÄÇ  ","version":"0.14","tagName":"h3"},{"title":"ÊäïÁ•®‚Äã","type":1,"pageTitle":"Â¶Ç‰ΩïÂèëÂ∏É","url":"/zh-CN/docs/0.14/community/how_to_release#ÊäïÁ•®","content":" Êñ∞ÁâàÊú¨ÂèëÂ∏ÉÈúÄË¶Å Apache Fory Á§æÂå∫ÁöÑÊäïÁ•®„ÄÇ  release_versionÔºöFory ÁöÑÁâàÊú¨ÔºåÂ¶Ç 0.12.0„ÄÇrelease_candidate_versionÔºöÊäïÁ•®ÁöÑÁâàÊú¨ÔºåÂ¶Ç 0.12.0-rc1„ÄÇmaven_artifact_numberÔºöMaven ÊöÇÂ≠ò artifacts ÁöÑÊï∞Èáè„ÄÇÂ¶Ç 1001. ÂÖ∑‰ΩìÊù•ËØ¥ÔºåÂèØ‰ª•ÈÄöËøáÊêúÁ¥¢ ‚Äúfory‚Äù Êù•ÊâæÂà∞ maven_artifact_number https://repository.apache.org/#stagingRepositories.  ","version":"0.14","tagName":"h2"},{"title":"Fory Á§æÂå∫ÊäïÁ•®‚Äã","type":1,"pageTitle":"Â¶Ç‰ΩïÂèëÂ∏É","url":"/zh-CN/docs/0.14/community/how_to_release#fory-Á§æÂå∫ÊäïÁ•®","content":" ÂèëÈÄÅÁîµÂ≠êÈÇÆ‰ª∂Ëá≥ Fory CommunityÔºödev@fory.apache.orgÔºö  Ê†áÈ¢òÔºö  [VOTE] Release Apache Fory v${release_version}-${rc_version}   ÂÜÖÂÆπÔºö  Hello, Apache Fory Community: This is a call for vote to release Apache Fory version release-0.12.0-rc1. Apache Fory - A blazingly fast multi-language serialization framework powered by JIT and zero-copy. The change lists about this release: https://github.com/apache/fory/compare/v0.12.0...v0.12.0-rc1 The release candidates: https://dist.apache.org/repos/dist/dev/fory/0.12.0-rc1/ The maven staging for this release: https://repository.apache.org/content/repositories/orgapachefory-1003 Git tag for the release: https://github.com/apache/fory/releases/tag/v0.12.0-rc1 Git commit for the release: https://github.com/apache/fory/commit/fae06330edd049bb960536e978a45b97bca66faf The artifacts signed with PGP key [5E580BA4], corresponding to [chaokunyang@apache.org], that can be found in keys file: https://downloads.apache.org/fory/KEYS The vote will be open for at least 72 hours until the necessary number of votes are reached. Please vote accordingly: [ ] +1 approve [ ] +0 no opinion [ ] -1 disapprove with the reason To learn more about Fory, please see https://fory.apache.org/ *Valid check is a requirement for a vote. *Checklist for reference: [ ] Download Fory is valid. [ ] Checksums and PGP signatures are valid. [ ] Source code distributions have correct names matching the current release. [ ] LICENSE and NOTICE files are correct. [ ] All files have license headers if necessary. [ ] No compiled archives bundled in source archive. [ ] Can compile from source. How to Build and Test, please refer to: https://github.com/apache/fory/blob/main/docs/guide/DEVELOPMENT.md Thanks, Chaokun Yang   Âú®Ëá≥Â∞ëËé∑Âæó 3 + 1 ‰∏îÂÖ∑ÊúâÁ∫¶ÊùüÂäõÁöÑÊäïÁ•®ÔºàÊù•Ëá™ Fory Podling PMC ÊàêÂëòÂíåÊèê‰∫§ËÄÖÔºâÂπ∂Ê≤°ÊúâÊî∂Âà∞Âê¶ÂÜ≥Á•®‰πãÂêéÔºåÂèëÂ∏ÉÊäïÁ•®ÁªìÊûúÔºö  Ê†áÈ¢òÔºö  [RESULT][VOTE] Release Apache Fory v${release_version}-${rc_version}   ÂÜÖÂÆπÔºö  Hello, Apache Fory Community, The vote to release Apache Fory v${release_version}-${rc_version} has passed. The vote PASSED with 3 binding +1 and 0 -1 vote: Binding votes: - xxx - yyy - zzz Vote thread: ${vote_thread_url} Thanks, ${name}   ","version":"0.14","tagName":"h3"},{"title":"Â¶ÇÊûúÊäïÁ•®Â§±Ë¥•ÊÄé‰πàÂäû‚Äã","type":1,"pageTitle":"Â¶Ç‰ΩïÂèëÂ∏É","url":"/zh-CN/docs/0.14/community/how_to_release#Â¶ÇÊûúÊäïÁ•®Â§±Ë¥•ÊÄé‰πàÂäû","content":" Â¶ÇÊûúÊäïÁ•®Â§±Ë¥•ÔºåËØ∑ÂçïÂáª‚ÄúÂà†Èô§‚Äù‰ª•Âà†Èô§ÊöÇÂ≠òÁöÑ Maven artifacts„ÄÇ  Ëß£ÂÜ≥ÊèêÂá∫ÁöÑÈóÆÈ¢òÔºåÁÑ∂ÂêéÂÜçÊ¨°ÊèêÂá∫ rc_version ÁöÑÊñ∞ÊäïÁ•®„ÄÇ  ","version":"0.14","tagName":"h3"},{"title":"ÂÆòÊñπÂèëÂ∏É‚Äã","type":1,"pageTitle":"Â¶Ç‰ΩïÂèëÂ∏É","url":"/zh-CN/docs/0.14/community/how_to_release#ÂÆòÊñπÂèëÂ∏É","content":" ","version":"0.14","tagName":"h2"},{"title":"Â∞Ü artifacts ÂèëÂ∏ÉÂà∞ SVN ÂèëÂ∏ÉÁõÆÂΩï‚Äã","type":1,"pageTitle":"Â¶Ç‰ΩïÂèëÂ∏É","url":"/zh-CN/docs/0.14/community/how_to_release#Â∞Ü-artifacts-ÂèëÂ∏ÉÂà∞-svn-ÂèëÂ∏ÉÁõÆÂΩï","content":" release_versionÔºöFory ÁöÑÂèëÂ∏ÉÁâàÊú¨ÔºåÂ¶Ç 0.12.0release_candidate_versionÔºöÊäïÁ•®ÁâàÊú¨ÔºåÂ¶Ç 0.12.0-rc1  svn mv https://dist.apache.org/repos/dist/dev/fory/${release_version}-${rc_version} https://dist.apache.org/repos/dist/release/fory/${release_version} -m &quot;Release fory ${release_version}&quot;   ","version":"0.14","tagName":"h3"},{"title":"Êõ¥Êîπ Fory ÁΩëÁ´ô‰∏ãËΩΩÈìæÊé•‚Äã","type":1,"pageTitle":"Â¶Ç‰ΩïÂèëÂ∏É","url":"/zh-CN/docs/0.14/community/how_to_release#Êõ¥Êîπ-fory-ÁΩëÁ´ô‰∏ãËΩΩÈìæÊé•","content":" Êèê‰∫§ PR Âà∞ https://github.com/apache/fory-site ‰ªìÂ∫ìÊõ¥Êñ∞ Fory ÁâàÊú¨Ôºå‰∏ãËΩΩÈ°µÈù¢  ","version":"0.14","tagName":"h3"},{"title":"ÂèëÂ∏É Maven artifacts‚Äã","type":1,"pageTitle":"Â¶Ç‰ΩïÂèëÂ∏É","url":"/zh-CN/docs/0.14/community/how_to_release#ÂèëÂ∏É-maven-artifacts","content":" maven_artifact_numberÔºöMaven ÊöÇÂ≠ò artifacts ÁöÑÊï∞Èáè„ÄÇÂ¶Ç 1001„ÄÇÊâìÂºÄhttps://repository.apache.org/#stagingRepositories.ÊâæÂà∞ artifacts orgapachefory-${maven_artifact_number}ÔºåÁÇπÂáª‚ÄúÂèëÂ∏É‚Äù„ÄÇ  ","version":"0.14","tagName":"h3"},{"title":"ÂèëÈÄÅÂÖ¨Âëä‚Äã","type":1,"pageTitle":"Â¶Ç‰ΩïÂèëÂ∏É","url":"/zh-CN/docs/0.14/community/how_to_release#ÂèëÈÄÅÂÖ¨Âëä","content":" Â∞ÜÂèëÂ∏ÉÂÖ¨ÂëäÂèëÈÄÅÁªô dev@fory.apache.org Âπ∂‰∏îÊäÑÈÄÅÁªô announce@apache.org„ÄÇ  Ê†áÈ¢òÔºö  [ANNOUNCE] Apache Fory ${release_version} released   ÂÜÖÂÆπÔºö  Hi all, The Apache Fory community is pleased to announce that Apache Fory {release_version} has been released! Apache Fory - A blazingly fast multi-language serialization framework powered by JIT and zero-copy. The release notes are available here: https://github.com/apache/fory/releases/tag/v${release_version} For the complete list of changes: https://github.com/apache/fory/compare/v0.12.0...v${release_version} Apache Fory website: https://fory.apache.org/ Download Links: https://fory.apache.org/download Fory Resources: - Fory github repo: https://github.com/apache/fory - Issue: https://github.com/apache/fory/issues - Mailing list: dev@fory.apache.org We are looking to grow our community and welcome new contributors. If you are interested in contributing to Fory, please contact us on the mailing list or on GitHub. We will be happy to help you get started. ------------------ Best Regards, ${your_name}   Ëá≥Ê≠§ÔºåÊï¥‰∏™ÂèëÂ∏ÉÊµÅÁ®ãÁªìÊùü„ÄÇ ","version":"0.14","tagName":"h3"},{"title":"Â¶Ç‰ΩïÈ™åËØÅ Apache Fory‚Ñ¢","type":0,"sectionRef":"#","url":"/zh-CN/docs/0.14/community/how_to_verify","content":"","keywords":"","version":"0.14"},{"title":"‰∏ãËΩΩ Apache Fory‚Ñ¢‚Äã","type":1,"pageTitle":"Â¶Ç‰ΩïÈ™åËØÅ Apache Fory‚Ñ¢","url":"/zh-CN/docs/0.14/community/how_to_verify#‰∏ãËΩΩ-apache-fory","content":" # If there is svn locally, you can clone to the local svn co https://dist.apache.org/repos/dist/dev/incubator/fory/${release_version}-${rc_version}/ # You can download the material file directly wget https://dist.apache.org/repos/dist/dev/incubator/fory/${release_version}-${rc_version}/xxx.xxx   ","version":"0.14","tagName":"h2"},{"title":"È™åËØÅ checksums Âíå signatures‚Äã","type":1,"pageTitle":"Â¶Ç‰ΩïÈ™åËØÅ Apache Fory‚Ñ¢","url":"/zh-CN/docs/0.14/community/how_to_verify#È™åËØÅ-checksums-Âíå-signatures","content":" È¶ñÂÖàÔºåÊÇ®ÈúÄË¶ÅÂÆâË£Ö gpgÔºö  apt-get install gnupg # or yum install gnupg # or brew install gnupg   ‰πãÂêéÔºåÂØºÂÖ• Apache Fory release manager ÁöÑÂÖ¨Èí•Ôºö  curl https://downloads.apache.org/incubator/fory/KEYS &gt; KEYS # Download KEYS gpg --import KEYS # Import KEYS to local # Then, trust the public key: gpg --edit-key &lt;KEY-used-in-this-version&gt; # Edit the key(mentioned in vote email) # It will enter the interactive mode, use the following command to trust the key: gpg (GnuPG) 2.0.22; Copyright (C) 2013 Free Software Foundation, Inc. This is free software: you are free to change and redistribute it. There is NO WARRANTY, to the extent permitted by law. pub 4096R/5E580BA4 created: 2024-03-27 expires: never usage: SC trust: unknown validity: unknown sub 4096R/A31EF728 created: 2024-03-27 expires: never usage: E [ unknown] (1). chaokunyang (CODE SIGNING KEY) &lt;chaokunyang@apache.org&gt; gpg&gt; trust pub 4096R/5E580BA4 created: 2024-03-27 expires: never usage: SC trust: unknown validity: unknown sub 4096R/A31EF728 created: 2024-03-27 expires: never usage: E [ unknown] (1). chaokunyang (CODE SIGNING KEY) &lt;chaokunyang@apache.org&gt; Please decide how far you trust this user to correctly verify other users' keys (by looking at passports, checking fingerprints from different sources, etc.) 1 = I don't know or won't say 2 = I do NOT trust 3 = I trust marginally 4 = I trust fully 5 = I trust ultimately m = back to the main menu Your decision? 5 Do you really want to set this key to ultimate trust? (y/N) y pub 4096R/5E580BA4 created: 2024-03-27 expires: never usage: SC trust: ultimate validity: unknown sub 4096R/A31EF728 created: 2024-03-27 expires: never usage: E [ unknown] (1). chaokunyang (CODE SIGNING KEY) &lt;chaokunyang@apache.org&gt; Please note that the shown key validity is not necessarily correct unless you restart the program.   Êé•‰∏ãÊù•È™åËØÅÁ≠æÂêçÔºö  for i in *.tar.gz; do echo $i; gpg --verify $i.asc $i; done   Â¶ÇÊûúÂá∫Áé∞Â¶Ç‰∏ãÂÜÖÂÆπÔºåÂàôË°®Á§∫Á≠æÂêçÊ≠£Á°ÆÔºö  apache-fory-0.5.0-src.tar.gz gpg: Signature made Wed 17 Apr 2024 11:49:45 PM CST using RSA key ID 5E580BA4 gpg: checking the trustdb gpg: 3 marginal(s) needed, 1 complete(s) needed, PGP trust model gpg: depth: 0 valid: 1 signed: 0 trust: 0-, 0q, 0n, 0m, 0f, 1u gpg: Good signature from &quot;chaokunyang (CODE SIGNING KEY) &lt;chaokunyang@apache.org&gt;&quot;   ÁÑ∂ÂêéÈ™åËØÅ checksumÔºö  for i in *.tar.gz; do echo $i; sha512sum --check $i.sha512; done   ÂÆÉÂ∫îËØ•ËæìÂá∫Â¶Ç‰∏ãÂÜÖÂÆπÔºö  apache-fory-0.12.0-src.tar.gz apache-fory-0.12.0-src.tar.gz: OK   ","version":"0.14","tagName":"h2"},{"title":"Ê£ÄÊü•Ê∫êÁ†ÅÂåÖ‰∏≠ÁöÑÊñá‰ª∂‚Äã","type":1,"pageTitle":"Â¶Ç‰ΩïÈ™åËØÅ Apache Fory‚Ñ¢","url":"/zh-CN/docs/0.14/community/how_to_verify#Ê£ÄÊü•Ê∫êÁ†ÅÂåÖ‰∏≠ÁöÑÊñá‰ª∂","content":" Ëß£ÂéãÁº© apache-fory-${release_version}-${rc_version}-src.tar.gz Âπ∂Ê£ÄÊü•‰ª•‰∏ãÂÜÖÂÆπÔºö  Ê≠§Â≠òÂÇ®Â∫ì LICENSE Âíå NOTICE Êñá‰ª∂ÊòØÊ≠£Á°ÆÁöÑÔºõÂ¶ÇÊúâÂøÖË¶ÅÔºåÊâÄÊúâÊñá‰ª∂ÈÉΩÊúâ ASF ËÆ∏ÂèØËØÅÊ†áÂ§¥ÔºõÈ°πÁõÆÊûÑÂª∫ÈÄöËøá„ÄÇ  ","version":"0.14","tagName":"h2"},{"title":"Ê£ÄÊü• fory-java ÁöÑ Maven artifacts‚Äã","type":1,"pageTitle":"Â¶Ç‰ΩïÈ™åËØÅ Apache Fory‚Ñ¢","url":"/zh-CN/docs/0.14/community/how_to_verify#Ê£ÄÊü•-fory-java-ÁöÑ-maven-artifacts","content":" ‰∏ãËΩΩ Apache Fory‚Ñ¢Ôºöhttps://repository.apache.org/content/repositories/orgapachefory-${maven_artifact_number}/.  ÊÇ®ÂèØ‰ª•Ê£ÄÊü•‰ª•‰∏ãÂÜÖÂÆπÔºö  JAR ÁöÑ Checksum ‰∏éÈ°πÁõÆÁªëÂÆöÁöÑ checksum Êñá‰ª∂‰∏ÄËá¥„ÄÇJAR ÁöÑ signature ‰∏éÈ°πÁõÆÁªëÂÆöÁöÑ signature Êñá‰ª∂‰∏ÄËá¥„ÄÇJAR Âú®Êú¨Âú∞ÊòØÂèØÈáçÂ§çÁöÑ„ÄÇËøôÊÑèÂë≥ÁùÄÊÇ®ÂèØ‰ª•Âú®ËÆ°ÁÆóÊú∫‰∏äÊûÑÂª∫ JARÔºåÂπ∂È™åËØÅ checksum Âíå‰∏éÈ°πÁõÆÁªëÂÆöÁöÑÁõ∏Âêå„ÄÇ ","version":"0.14","tagName":"h2"},{"title":"C++ Â∫èÂàóÂåñÊåáÂçó","type":0,"sectionRef":"#","url":"/zh-CN/docs/0.14/guide/cpp/","content":"","keywords":"","version":"0.14"},{"title":"‰∏∫‰ªÄ‰πàÈÄâÊã© Apache Fory‚Ñ¢ C++Ôºü‚Äã","type":1,"pageTitle":"C++ Â∫èÂàóÂåñÊåáÂçó","url":"/zh-CN/docs/0.14/guide/cpp/#‰∏∫‰ªÄ‰πàÈÄâÊã©-apache-fory-c","content":" üî• ÊûÅÈÄüÊÄßËÉΩÔºöÂø´ÈÄüÂ∫èÂàóÂåñÂíå‰ºòÂåñÁöÑ‰∫åËøõÂà∂ÂçèËÆÆüåç Ë∑®ËØ≠Ë®ÄÔºöÂú® Java„ÄÅPython„ÄÅC++„ÄÅGo„ÄÅJavaScript Âíå Rust ‰πãÈó¥Êó†ÁºùÂ∫èÂàóÂåñ/ÂèçÂ∫èÂàóÂåñÊï∞ÊçÆüéØ Á±ªÂûãÂÆâÂÖ®ÔºöÂü∫‰∫éÂÆèÁöÑÁªìÊûÑ‰ΩìÊ≥®ÂÜåÂÆûÁé∞ÁºñËØëÊó∂Á±ªÂûãÊ£ÄÊü•üîÑ ÂºïÁî®Ë∑üË∏™ÔºöËá™Âä®Ë∑üË∏™ÂÖ±‰∫´ÂºïÁî®ÂíåÂæ™ÁéØÂºïÁî®üì¶ Schema ÊºîÂåñÔºöÂÖºÂÆπÊ®°ÂºèÊîØÊåÅÁã¨Á´ãÁöÑ schema ÂèòÊõ¥‚ö° ÂèåÊ†ºÂºèÊîØÊåÅÔºöÂØπË±°ÂõæÂ∫èÂàóÂåñÂíåÈõ∂Êã∑Ë¥ùË°åÊ†ºÂºèüßµ Á∫øÁ®ãÂÆâÂÖ®ÔºöÂêåÊó∂Êèê‰æõÂçïÁ∫øÁ®ãÔºàÊúÄÂø´ÔºâÂíåÁ∫øÁ®ãÂÆâÂÖ®‰∏§ÁßçÂèò‰Ωì  ","version":"0.14","tagName":"h2"},{"title":"ÂÆâË£Ö‚Äã","type":1,"pageTitle":"C++ Â∫èÂàóÂåñÊåáÂçó","url":"/zh-CN/docs/0.14/guide/cpp/#ÂÆâË£Ö","content":" C++ ÂÆûÁé∞ÂêåÊó∂ÊîØÊåÅ CMake Âíå Bazel ÊûÑÂª∫Á≥ªÁªü„ÄÇ  ","version":"0.14","tagName":"h2"},{"title":"ÂâçÁΩÆÊù°‰ª∂‚Äã","type":1,"pageTitle":"C++ Â∫èÂàóÂåñÊåáÂçó","url":"/zh-CN/docs/0.14/guide/cpp/#ÂâçÁΩÆÊù°‰ª∂","content":" CMake 3.16+ÔºàÁî®‰∫é CMake ÊûÑÂª∫ÔºâÊàñ Bazel 8+ÔºàÁî®‰∫é Bazel ÊûÑÂª∫ÔºâC++17 ÂÖºÂÆπÁöÑÁºñËØëÂô®ÔºàGCC 7+„ÄÅClang 5+„ÄÅMSVC 2017+Ôºâ  ","version":"0.14","tagName":"h3"},{"title":"‰ΩøÁî® CMakeÔºàÊé®ËçêÔºâ‚Äã","type":1,"pageTitle":"C++ Â∫èÂàóÂåñÊåáÂçó","url":"/zh-CN/docs/0.14/guide/cpp/#‰ΩøÁî®-cmakeÊé®Ëçê","content":" ‰ΩøÁî® CMake ÁöÑ FetchContent Ê®°ÂùóÊòØÊúÄÁÆÄÂçïÁöÑÊñπÂºèÔºö  cmake_minimum_required(VERSION 3.16) project(my_project LANGUAGES CXX) set(CMAKE_CXX_STANDARD 17) set(CMAKE_CXX_STANDARD_REQUIRED ON) include(FetchContent) FetchContent_Declare( fory GIT_REPOSITORY https://github.com/apache/fory.git GIT_TAG v0.14.1 SOURCE_SUBDIR cpp ) FetchContent_MakeAvailable(fory) add_executable(my_app main.cc) target_link_libraries(my_app PRIVATE fory::serialization)   ÁÑ∂ÂêéÊûÑÂª∫Âπ∂ËøêË°åÔºö  mkdir build &amp;&amp; cd build cmake .. -DCMAKE_BUILD_TYPE=Release cmake --build . --parallel ./my_app   ","version":"0.14","tagName":"h3"},{"title":"‰ΩøÁî® Bazel‚Äã","type":1,"pageTitle":"C++ Â∫èÂàóÂåñÊåáÂçó","url":"/zh-CN/docs/0.14/guide/cpp/#‰ΩøÁî®-bazel","content":" Âú®È°πÁõÆÊ†πÁõÆÂΩïÂàõÂª∫ MODULE.bazel Êñá‰ª∂Ôºö  module( name = &quot;my_project&quot;, version = &quot;1.0.0&quot;, ) bazel_dep(name = &quot;rules_cc&quot;, version = &quot;0.1.1&quot;) bazel_dep(name = &quot;fory&quot;, version = &quot;0.14.1&quot;) git_override( module_name = &quot;fory&quot;, remote = &quot;https://github.com/apache/fory.git&quot;, commit = &quot;v0.14.1&quot;, # Êàñ‰ΩøÁî®ÁâπÂÆöÁöÑ commit hash ‰ª•Á°Æ‰øùÂèØÈáçÁé∞ÊÄß )   ‰∏∫Â∫îÁî®Á®ãÂ∫èÂàõÂª∫ BUILD Êñá‰ª∂Ôºö  cc_binary( name = &quot;my_app&quot;, srcs = [&quot;main.cc&quot;], deps = [&quot;@fory//cpp/fory/serialization:fory_serialization&quot;], )   ÁÑ∂ÂêéÊûÑÂª∫Âπ∂ËøêË°åÔºö  bazel build //:my_app bazel run //:my_app   ÂØπ‰∫éÊú¨Âú∞ÂºÄÂèëÔºåÂèØ‰ª•‰ΩøÁî® local_path_overrideÔºö  bazel_dep(name = &quot;fory&quot;, version = &quot;0.14.1&quot;) local_path_override( module_name = &quot;fory&quot;, path = &quot;/path/to/fory&quot;, )   ","version":"0.14","tagName":"h3"},{"title":"Á§∫‰æã‚Äã","type":1,"pageTitle":"C++ Â∫èÂàóÂåñÊåáÂçó","url":"/zh-CN/docs/0.14/guide/cpp/#Á§∫‰æã","content":" ËØ∑ÂèÇÈòÖ examples/cpp ÁõÆÂΩïËé∑ÂèñÂÆåÊï¥ÁöÑÂ∑•‰ΩúÁ§∫‰æãÔºö  hello_world - ÂØπË±°ÂõæÂ∫èÂàóÂåñhello_row - Ë°åÊ†ºÂºèÁºñÁ†Å  ","version":"0.14","tagName":"h3"},{"title":"Âø´ÈÄüÂºÄÂßã‚Äã","type":1,"pageTitle":"C++ Â∫èÂàóÂåñÊåáÂçó","url":"/zh-CN/docs/0.14/guide/cpp/#Âø´ÈÄüÂºÄÂßã","content":" ","version":"0.14","tagName":"h2"},{"title":"Âü∫Á°ÄÁ§∫‰æã‚Äã","type":1,"pageTitle":"C++ Â∫èÂàóÂåñÊåáÂçó","url":"/zh-CN/docs/0.14/guide/cpp/#Âü∫Á°ÄÁ§∫‰æã","content":" #include &quot;fory/serialization/fory.h&quot; using namespace fory::serialization; // ÂÆö‰πâÁªìÊûÑ‰Ωì struct Person { std::string name; int32_t age; std::vector&lt;std::string&gt; hobbies; bool operator==(const Person &amp;other) const { return name == other.name &amp;&amp; age == other.age &amp;&amp; hobbies == other.hobbies; } }; // ‰ΩøÁî® Fory Ê≥®ÂÜåÁªìÊûÑ‰ΩìÔºàÂøÖÈ°ªÂú®Âêå‰∏ÄÂëΩÂêçÁ©∫Èó¥‰∏≠Ôºâ FORY_STRUCT(Person, name, age, hobbies); int main() { // ÂàõÂª∫ Fory ÂÆû‰æã auto fory = Fory::builder() .xlang(true) // ÂêØÁî®Ë∑®ËØ≠Ë®ÄÊ®°Âºè .track_ref(false) // ÂØπÁÆÄÂçïÁ±ªÂûãÁ¶ÅÁî®ÂºïÁî®Ë∑üË∏™ .build(); // ‰ΩøÁî®ÂîØ‰∏Ä ID Ê≥®ÂÜåÁ±ªÂûã fory.register_struct&lt;Person&gt;(1); // ÂàõÂª∫ÂØπË±° Person person{&quot;Alice&quot;, 30, {&quot;reading&quot;, &quot;coding&quot;}}; // Â∫èÂàóÂåñ auto result = fory.serialize(person); if (!result.ok()) { // Â§ÑÁêÜÈîôËØØ return 1; } std::vector&lt;uint8_t&gt; bytes = std::move(result).value(); // ÂèçÂ∫èÂàóÂåñ auto deser_result = fory.deserialize&lt;Person&gt;(bytes); if (!deser_result.ok()) { // Â§ÑÁêÜÈîôËØØ return 1; } Person decoded = std::move(deser_result).value(); assert(person == decoded); return 0; }   ","version":"0.14","tagName":"h3"},{"title":"Á∫øÁ®ãÂÆâÂÖ®‚Äã","type":1,"pageTitle":"C++ Â∫èÂàóÂåñÊåáÂçó","url":"/zh-CN/docs/0.14/guide/cpp/#Á∫øÁ®ãÂÆâÂÖ®","content":" Apache Fory‚Ñ¢ C++ ‰∏∫‰∏çÂêåÁöÑÁ∫øÁ®ãÈúÄÊ±ÇÊèê‰æõ‰∏§ÁßçÂèò‰ΩìÔºö  ","version":"0.14","tagName":"h2"},{"title":"ÂçïÁ∫øÁ®ãÔºàÊúÄÂø´Ôºâ‚Äã","type":1,"pageTitle":"C++ Â∫èÂàóÂåñÊåáÂçó","url":"/zh-CN/docs/0.14/guide/cpp/#ÂçïÁ∫øÁ®ãÊúÄÂø´","content":" // ÂçïÁ∫øÁ®ã Fory - ÊúÄÂø´Ôºå‰ΩÜÈùûÁ∫øÁ®ãÂÆâÂÖ® auto fory = Fory::builder() .xlang(true) .build();   ","version":"0.14","tagName":"h3"},{"title":"Á∫øÁ®ãÂÆâÂÖ®‚Äã","type":1,"pageTitle":"C++ Â∫èÂàóÂåñÊåáÂçó","url":"/zh-CN/docs/0.14/guide/cpp/#Á∫øÁ®ãÂÆâÂÖ®-1","content":" // Á∫øÁ®ãÂÆâÂÖ® Fory - ‰ΩøÁî®‰∏ä‰∏ãÊñáÊ±† auto fory = Fory::builder() .xlang(true) .build_thread_safe(); // ÂèØ‰ª•‰ªéÂ§ö‰∏™Á∫øÁ®ãÂÆâÂÖ®‰ΩøÁî® std::thread t1([&amp;]() { auto result = fory.serialize(obj1); }); std::thread t2([&amp;]() { auto result = fory.serialize(obj2); });   ÊèêÁ§∫Ôºö Âú®ÁîüÊàêÁ∫øÁ®ã‰πãÂâçÂÆåÊàêÁ±ªÂûãÊ≥®ÂÜåÔºå‰ª•Á°Æ‰øùÊØè‰∏™Â∑•‰ΩúÁ∫øÁ®ãÁúãÂà∞Áõ∏ÂêåÁöÑÂÖÉÊï∞ÊçÆ„ÄÇ  ","version":"0.14","tagName":"h3"},{"title":"‰ΩøÁî®Âú∫ÊôØ‚Äã","type":1,"pageTitle":"C++ Â∫èÂàóÂåñÊåáÂçó","url":"/zh-CN/docs/0.14/guide/cpp/#‰ΩøÁî®Âú∫ÊôØ","content":" ","version":"0.14","tagName":"h2"},{"title":"ÂØπË±°Â∫èÂàóÂåñ‚Äã","type":1,"pageTitle":"C++ Â∫èÂàóÂåñÊåáÂçó","url":"/zh-CN/docs/0.14/guide/cpp/#ÂØπË±°Â∫èÂàóÂåñ","content":" ÂåÖÂê´ÂµåÂ•óÂØπË±°ÂíåÂºïÁî®ÁöÑÂ§çÊùÇÊï∞ÊçÆÁªìÊûÑÂæÆÊúçÂä°‰∏≠ÁöÑË∑®ËØ≠Ë®ÄÈÄö‰ø°ÂÖ∑ÊúâÂÆåÊï¥Á±ªÂûãÂÆâÂÖ®ÁöÑÈÄöÁî®Â∫èÂàóÂåñ‰ΩøÁî®ÂÖºÂÆπÊ®°ÂºèÁöÑ schema ÊºîÂåñ  ","version":"0.14","tagName":"h3"},{"title":"Ë°åÊ†ºÂºèÂ∫èÂàóÂåñ‚Äã","type":1,"pageTitle":"C++ Â∫èÂàóÂåñÊåáÂçó","url":"/zh-CN/docs/0.14/guide/cpp/#Ë°åÊ†ºÂºèÂ∫èÂàóÂåñ","content":" È´òÂêûÂêêÈáèÊï∞ÊçÆÂ§ÑÁêÜÈúÄË¶ÅÂø´ÈÄüÂ≠óÊÆµËÆøÈóÆÁöÑÂàÜÊûêÂ∑•‰ΩúË¥üËΩΩÂÜÖÂ≠òÂèóÈôêÁéØÂ¢ÉÈõ∂Êã∑Ë¥ùÂú∫ÊôØ  ","version":"0.14","tagName":"h3"},{"title":"ÂêéÁª≠Ê≠•È™§‚Äã","type":1,"pageTitle":"C++ Â∫èÂàóÂåñÊåáÂçó","url":"/zh-CN/docs/0.14/guide/cpp/#ÂêéÁª≠Ê≠•È™§","content":" ÈÖçÁΩÆ - ÊûÑÂª∫Âô®ÈÄâÈ°πÂíåÊ®°ÂºèÂü∫Á°ÄÂ∫èÂàóÂåñ - ÂØπË±°ÂõæÂ∫èÂàóÂåñSchema ÊºîÂåñ - ÂÖºÂÆπÊ®°ÂºèÂíå schema ÂèòÊõ¥Á±ªÂûãÊ≥®ÂÜå - Ê≥®ÂÜåÁ±ªÂûãÊîØÊåÅÁöÑÁ±ªÂûã - ÊâÄÊúâÊîØÊåÅÁöÑÁ±ªÂûãË∑®ËØ≠Ë®Ä - XLANG Ê®°ÂºèË°åÊ†ºÂºè - Èõ∂Êã∑Ë¥ùË°åÊ†ºÂºè ","version":"0.14","tagName":"h2"},{"title":"ÈÖçÁΩÆ","type":0,"sectionRef":"#","url":"/zh-CN/docs/0.14/guide/cpp/configuration","content":"","keywords":"","version":"0.14"},{"title":"Â∫èÂàóÂåñÊ®°Âºè‚Äã","type":1,"pageTitle":"ÈÖçÁΩÆ","url":"/zh-CN/docs/0.14/guide/cpp/configuration#Â∫èÂàóÂåñÊ®°Âºè","content":" Apache Fory‚Ñ¢ ÊîØÊåÅ‰∏§ÁßçÂ∫èÂàóÂåñÊ®°ÂºèÔºö  ","version":"0.14","tagName":"h2"},{"title":"SchemaConsistent Ê®°ÂºèÔºàÈªòËÆ§Ôºâ‚Äã","type":1,"pageTitle":"ÈÖçÁΩÆ","url":"/zh-CN/docs/0.14/guide/cpp/configuration#schemaconsistent-Ê®°ÂºèÈªòËÆ§","content":" Á±ªÂûãÂ£∞ÊòéÂøÖÈ°ªÂú®ÈÄö‰ø°ÂèåÊñπÂÆåÂÖ®ÂåπÈÖçÔºö  auto fory = Fory::builder().build(); // ÈªòËÆ§‰∏∫ SchemaConsistent   ","version":"0.14","tagName":"h3"},{"title":"Compatible Ê®°Âºè‚Äã","type":1,"pageTitle":"ÈÖçÁΩÆ","url":"/zh-CN/docs/0.14/guide/cpp/configuration#compatible-Ê®°Âºè","content":" ÂÖÅËÆ∏Áã¨Á´ãÁöÑ schema ÊºîÂåñÔºö  auto fory = Fory::builder().compatible(true).build();   ","version":"0.14","tagName":"h3"},{"title":"ÊûÑÂª∫Âô®Ê®°Âºè‚Äã","type":1,"pageTitle":"ÈÖçÁΩÆ","url":"/zh-CN/docs/0.14/guide/cpp/configuration#ÊûÑÂª∫Âô®Ê®°Âºè","content":" ‰ΩøÁî® ForyBuilder ÊûÑÈÄ†ÂÖ∑ÊúâËá™ÂÆö‰πâÈÖçÁΩÆÁöÑ Fory ÂÆû‰æãÔºö  #include &quot;fory/serialization/fory.h&quot; using namespace fory::serialization; // ÈªòËÆ§ÈÖçÁΩÆ auto fory = Fory::builder().build(); // Áî®‰∫é schema ÊºîÂåñÁöÑÂÖºÂÆπÊ®°Âºè auto fory = Fory::builder() .compatible(true) .build(); // Ë∑®ËØ≠Ë®ÄÊ®°Âºè auto fory = Fory::builder() .xlang(true) .build(); // ÂÆåÊï¥ÈÖçÁΩÆ auto fory = Fory::builder() .compatible(true) .xlang(true) .track_ref(true) .max_dyn_depth(10) .check_struct_version(true) .build();   ","version":"0.14","tagName":"h2"},{"title":"ÈÖçÁΩÆÈÄâÈ°π‚Äã","type":1,"pageTitle":"ÈÖçÁΩÆ","url":"/zh-CN/docs/0.14/guide/cpp/configuration#ÈÖçÁΩÆÈÄâÈ°π","content":" ","version":"0.14","tagName":"h2"},{"title":"xlang(bool)‚Äã","type":1,"pageTitle":"ÈÖçÁΩÆ","url":"/zh-CN/docs/0.14/guide/cpp/configuration#xlangbool","content":" ÂêØÁî®/Á¶ÅÁî®Ë∑®ËØ≠Ë®ÄÔºàxlangÔºâÂ∫èÂàóÂåñÊ®°Âºè„ÄÇ  auto fory = Fory::builder() .xlang(true) // ÂêØÁî®Ë∑®ËØ≠Ë®ÄÂÖºÂÆπÊÄß .build();   ÂêØÁî®ÂêéÔºåÂåÖÂê´Áî®‰∫é‰∏é Java„ÄÅPython„ÄÅGo„ÄÅRust Âíå JavaScript Ë∑®ËØ≠Ë®ÄÂÖºÂÆπÁöÑÂÖÉÊï∞ÊçÆ„ÄÇ  ÈªòËÆ§ÂÄºÔºö true  ","version":"0.14","tagName":"h3"},{"title":"compatible(bool)‚Äã","type":1,"pageTitle":"ÈÖçÁΩÆ","url":"/zh-CN/docs/0.14/guide/cpp/configuration#compatiblebool","content":" ÂêØÁî®/Á¶ÅÁî®Áî®‰∫é schema ÊºîÂåñÁöÑÂÖºÂÆπÊ®°Âºè„ÄÇ  auto fory = Fory::builder() .compatible(true) // ÂêØÁî® schema ÊºîÂåñ .build();   ÂêØÁî®ÂêéÔºåÊîØÊåÅËØªÂèñ‰ΩøÁî®‰∏çÂêå schema ÁâàÊú¨Â∫èÂàóÂåñÁöÑÊï∞ÊçÆ„ÄÇ  ÈªòËÆ§ÂÄºÔºö false  ","version":"0.14","tagName":"h3"},{"title":"track_ref(bool)‚Äã","type":1,"pageTitle":"ÈÖçÁΩÆ","url":"/zh-CN/docs/0.14/guide/cpp/configuration#track_refbool","content":" ÂêØÁî®/Á¶ÅÁî®ÂÖ±‰∫´ÂºïÁî®ÂíåÂæ™ÁéØÂºïÁî®ÁöÑÂºïÁî®Ë∑üË∏™„ÄÇ  auto fory = Fory::builder() .track_ref(true) // ÂêØÁî®ÂºïÁî®Ë∑üË∏™ .build();   ÂêØÁî®ÂêéÔºåÈÅøÂÖçÈáçÂ§çÂ∫èÂàóÂåñÂÖ±‰∫´ÂØπË±°Âπ∂Â§ÑÁêÜÂæ™ÁéØÂºïÁî®„ÄÇ  ÈªòËÆ§ÂÄºÔºö true  ","version":"0.14","tagName":"h3"},{"title":"max_dyn_depth(uint32_t)‚Äã","type":1,"pageTitle":"ÈÖçÁΩÆ","url":"/zh-CN/docs/0.14/guide/cpp/configuration#max_dyn_depthuint32_t","content":" ËÆæÁΩÆÂä®ÊÄÅÁ±ªÂûãÂØπË±°ÁöÑÊúÄÂ§ßÂÖÅËÆ∏ÂµåÂ•óÊ∑±Â∫¶„ÄÇ  auto fory = Fory::builder() .max_dyn_depth(10) // ÂÖÅËÆ∏ÊúÄÂ§ö 10 Â±Ç .build();   ËøôÈôêÂà∂‰∫ÜÂµåÂ•óÂ§öÊÄÅÂØπË±°Â∫èÂàóÂåñÁöÑÊúÄÂ§ßÊ∑±Â∫¶Ôºà‰æãÂ¶Ç shared_ptr&lt;Base&gt;„ÄÅunique_ptr&lt;Base&gt;Ôºâ„ÄÇÈò≤Ê≠¢Ê∑±Â∫¶ÂµåÂ•óÁªìÊûÑÂú®Âä®ÊÄÅÂ∫èÂàóÂåñÂú∫ÊôØ‰∏≠ÂØºËá¥Ê†àÊ∫¢Âá∫„ÄÇ  ÈªòËÆ§ÂÄºÔºö 5  ‰ΩïÊó∂Ë∞ÉÊï¥Ôºö  Â¢ûÂä†ÔºöÂØπ‰∫éÂêàÊ≥ïÁöÑÊ∑±Â∫¶ÂµåÂ•óÊï∞ÊçÆÁªìÊûÑÂáèÂ∞ëÔºöÂØπ‰∫éÊõ¥‰∏•Ê†ºÁöÑÂÆâÂÖ®Ë¶ÅÊ±ÇÊàñÊµÖÂ±ÇÊï∞ÊçÆÁªìÊûÑ  ","version":"0.14","tagName":"h3"},{"title":"check_struct_version(bool)‚Äã","type":1,"pageTitle":"ÈÖçÁΩÆ","url":"/zh-CN/docs/0.14/guide/cpp/configuration#check_struct_versionbool","content":" ÂêØÁî®/Á¶ÅÁî®ÁªìÊûÑ‰ΩìÁâàÊú¨Ê£ÄÊü•„ÄÇ  auto fory = Fory::builder() .check_struct_version(true) // ÂêØÁî®ÁâàÊú¨Ê£ÄÊü• .build();   ÂêØÁî®ÂêéÔºåÈ™åËØÅÁ±ªÂûãÂìàÂ∏å‰ª•Ê£ÄÊµã schema ‰∏çÂåπÈÖç„ÄÇ  ÈªòËÆ§ÂÄºÔºö false  ","version":"0.14","tagName":"h3"},{"title":"Á∫øÁ®ãÂÆâÂÖ® vs ÂçïÁ∫øÁ®ã‚Äã","type":1,"pageTitle":"ÈÖçÁΩÆ","url":"/zh-CN/docs/0.14/guide/cpp/configuration#Á∫øÁ®ãÂÆâÂÖ®-vs-ÂçïÁ∫øÁ®ã","content":" ","version":"0.14","tagName":"h2"},{"title":"ÂçïÁ∫øÁ®ãÔºàÊúÄÂø´Ôºâ‚Äã","type":1,"pageTitle":"ÈÖçÁΩÆ","url":"/zh-CN/docs/0.14/guide/cpp/configuration#ÂçïÁ∫øÁ®ãÊúÄÂø´","content":" auto fory = Fory::builder() .xlang(true) .build(); // ËøîÂõû Fory   ÂçïÁ∫øÁ®ã Fory ÊòØÊúÄÂø´ÁöÑÈÄâÈ°πÔºå‰ΩÜÈùûÁ∫øÁ®ãÂÆâÂÖ®„ÄÇÊØè‰∏™Á∫øÁ®ã‰ΩøÁî®‰∏Ä‰∏™ÂÆû‰æã„ÄÇ  ","version":"0.14","tagName":"h3"},{"title":"Á∫øÁ®ãÂÆâÂÖ®‚Äã","type":1,"pageTitle":"ÈÖçÁΩÆ","url":"/zh-CN/docs/0.14/guide/cpp/configuration#Á∫øÁ®ãÂÆâÂÖ®","content":" auto fory = Fory::builder() .xlang(true) .build_thread_safe(); // ËøîÂõû ThreadSafeFory   ThreadSafeFory ‰ΩøÁî® Fory ÂÆû‰æãÊ±†Êèê‰æõÁ∫øÁ®ãÂÆâÂÖ®ÁöÑÂ∫èÂàóÂåñ„ÄÇÁî±‰∫éÊ±†ÂºÄÈîÄÁï•ÊÖ¢Ôºå‰ΩÜÂèØ‰ª•‰ªéÂ§ö‰∏™Á∫øÁ®ãÂπ∂ÂèëÂÆâÂÖ®‰ΩøÁî®„ÄÇ  ","version":"0.14","tagName":"h3"},{"title":"ÈÖçÁΩÆÊëòË¶Å‚Äã","type":1,"pageTitle":"ÈÖçÁΩÆ","url":"/zh-CN/docs/0.14/guide/cpp/configuration#ÈÖçÁΩÆÊëòË¶Å","content":" ÈÄâÈ°π\tËØ¥Êòé\tÈªòËÆ§ÂÄºxlang(bool)\tÂêØÁî®Ë∑®ËØ≠Ë®ÄÊ®°Âºè\ttrue compatible(bool)\tÂêØÁî® schema ÊºîÂåñ\tfalse track_ref(bool)\tÂêØÁî®ÂºïÁî®Ë∑üË∏™\ttrue max_dyn_depth(uint32_t)\tÂä®ÊÄÅÁ±ªÂûãÁöÑÊúÄÂ§ßÂµåÂ•óÊ∑±Â∫¶\t5 check_struct_version(bool)\tÂêØÁî®ÁªìÊûÑ‰ΩìÁâàÊú¨Ê£ÄÊü•\tfalse  ","version":"0.14","tagName":"h2"},{"title":"Áõ∏ÂÖ≥‰∏ªÈ¢ò‚Äã","type":1,"pageTitle":"ÈÖçÁΩÆ","url":"/zh-CN/docs/0.14/guide/cpp/configuration#Áõ∏ÂÖ≥‰∏ªÈ¢ò","content":" Âü∫Á°ÄÂ∫èÂàóÂåñ - ‰ΩøÁî®ÈÖçÁΩÆÁöÑ ForyË∑®ËØ≠Ë®Ä - XLANG Ê®°ÂºèËØ¶ÊÉÖÁ±ªÂûãÊ≥®ÂÜå - Ê≥®ÂÜåÁ±ªÂûã ","version":"0.14","tagName":"h2"},{"title":"Âü∫Á°ÄÂ∫èÂàóÂåñ","type":0,"sectionRef":"#","url":"/zh-CN/docs/0.14/guide/cpp/basic_serialization","content":"","keywords":"","version":"0.14"},{"title":"ÂØπË±°ÂõæÂ∫èÂàóÂåñ‚Äã","type":1,"pageTitle":"Âü∫Á°ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/0.14/guide/cpp/basic_serialization#ÂØπË±°ÂõæÂ∫èÂàóÂåñ","content":" Apache Fory‚Ñ¢ Êèê‰æõÂ§çÊùÇÂØπË±°ÂõæÁöÑËá™Âä®Â∫èÂàóÂåñÔºå‰øùÁïôÂØπË±°‰πãÈó¥ÁöÑÁªìÊûÑÂíåÂÖ≥Á≥ª„ÄÇFORY_STRUCT ÂÆèÂú®ÁºñËØëÊó∂ÁîüÊàêÈ´òÊïàÁöÑÂ∫èÂàóÂåñ‰ª£Á†ÅÔºåÊ∂àÈô§ËøêË°åÊó∂ÂºÄÈîÄ„ÄÇ  Ê†∏ÂøÉÂäüËÉΩÔºö  ÊîØÊåÅ‰ªªÊÑèÊ∑±Â∫¶ÁöÑÂµåÂ•óÁªìÊûÑ‰ΩìÂ∫èÂàóÂåñÈõÜÂêàÁ±ªÂûãÔºàvector„ÄÅset„ÄÅmapÔºâ‰ΩøÁî® std::optional&lt;T&gt; ÁöÑÂèØÈÄâÂ≠óÊÆµÊô∫ËÉΩÊåáÈíàÔºàstd::shared_ptr„ÄÅstd::unique_ptrÔºâËá™Âä®Â§ÑÁêÜÂü∫Êú¨Á±ªÂûãÂíåÂ≠óÁ¨¶‰∏≤‰ΩøÁî®ÂèòÈïøÊï¥Êï∞ÁöÑÈ´òÊïà‰∫åËøõÂà∂ÁºñÁ†Å  #include &quot;fory/serialization/fory.h&quot; #include &lt;vector&gt; #include &lt;map&gt; using namespace fory::serialization; // ÂÆö‰πâÁªìÊûÑ‰Ωì struct Address { std::string street; std::string city; std::string country; bool operator==(const Address &amp;other) const { return street == other.street &amp;&amp; city == other.city &amp;&amp; country == other.country; } }; FORY_STRUCT(Address, street, city, country); struct Person { std::string name; int32_t age; Address address; std::vector&lt;std::string&gt; hobbies; std::map&lt;std::string, std::string&gt; metadata; bool operator==(const Person &amp;other) const { return name == other.name &amp;&amp; age == other.age &amp;&amp; address == other.address &amp;&amp; hobbies == other.hobbies &amp;&amp; metadata == other.metadata; } }; FORY_STRUCT(Person, name, age, address, hobbies, metadata); int main() { auto fory = Fory::builder().xlang(true).build(); fory.register_struct&lt;Address&gt;(100); fory.register_struct&lt;Person&gt;(200); Person person{ &quot;John Doe&quot;, 30, {&quot;123 Main St&quot;, &quot;New York&quot;, &quot;USA&quot;}, {&quot;reading&quot;, &quot;coding&quot;}, {{&quot;role&quot;, &quot;developer&quot;}} }; auto result = fory.serialize(person); auto decoded = fory.deserialize&lt;Person&gt;(result.value()); assert(person == decoded.value()); }   ","version":"0.14","tagName":"h2"},{"title":"Â∫èÂàóÂåñ API‚Äã","type":1,"pageTitle":"Âü∫Á°ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/0.14/guide/cpp/basic_serialization#Â∫èÂàóÂåñ-api","content":" ","version":"0.14","tagName":"h2"},{"title":"Â∫èÂàóÂåñÂà∞Êñ∞ Vector‚Äã","type":1,"pageTitle":"Âü∫Á°ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/0.14/guide/cpp/basic_serialization#Â∫èÂàóÂåñÂà∞Êñ∞-vector","content":" auto fory = Fory::builder().xlang(true).build(); fory.register_struct&lt;MyStruct&gt;(1); MyStruct obj{/* ... */}; // Â∫èÂàóÂåñ - ËøîÂõû Result&lt;std::vector&lt;uint8_t&gt;, Error&gt; auto result = fory.serialize(obj); if (result.ok()) { std::vector&lt;uint8_t&gt; bytes = std::move(result).value(); // ‰ΩøÁî® bytes... } else { // Â§ÑÁêÜÈîôËØØ std::cerr &lt;&lt; result.error().to_string() &lt;&lt; std::endl; }   ","version":"0.14","tagName":"h3"},{"title":"Â∫èÂàóÂåñÂà∞Áé∞ÊúâÁºìÂÜ≤Âå∫‚Äã","type":1,"pageTitle":"Âü∫Á°ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/0.14/guide/cpp/basic_serialization#Â∫èÂàóÂåñÂà∞Áé∞ÊúâÁºìÂÜ≤Âå∫","content":" // Â∫èÂàóÂåñÂà∞Áé∞Êúâ BufferÔºàÊúÄÂø´Ë∑ØÂæÑÔºâ Buffer buffer; auto result = fory.serialize_to(buffer, obj); if (result.ok()) { size_t bytes_written = result.value(); // buffer Áé∞Âú®ÂåÖÂê´Â∫èÂàóÂåñÊï∞ÊçÆ } // Â∫èÂàóÂåñÂà∞Áé∞Êúâ vectorÔºàÈõ∂Êã∑Ë¥ùÔºâ std::vector&lt;uint8_t&gt; output; auto result = fory.serialize_to(output, obj); if (result.ok()) { size_t bytes_written = result.value(); // output Áé∞Âú®ÂåÖÂê´Â∫èÂàóÂåñÊï∞ÊçÆ }   ","version":"0.14","tagName":"h3"},{"title":"‰ªéÂ≠óËäÇÊï∞ÁªÑÂèçÂ∫èÂàóÂåñ‚Äã","type":1,"pageTitle":"Âü∫Á°ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/0.14/guide/cpp/basic_serialization#‰ªéÂ≠óËäÇÊï∞ÁªÑÂèçÂ∫èÂàóÂåñ","content":" // ‰ªéÂéüÂßãÊåáÈíàÂèçÂ∫èÂàóÂåñ auto result = fory.deserialize&lt;MyStruct&gt;(data_ptr, data_size); if (result.ok()) { MyStruct obj = std::move(result).value(); } // ‰ªé vector ÂèçÂ∫èÂàóÂåñ std::vector&lt;uint8_t&gt; data = /* ... */; auto result = fory.deserialize&lt;MyStruct&gt;(data); // ‰ªé Buffer ÂèçÂ∫èÂàóÂåñÔºàÊõ¥Êñ∞ reader_indexÔºâ Buffer buffer(data); auto result = fory.deserialize&lt;MyStruct&gt;(buffer);   ","version":"0.14","tagName":"h3"},{"title":"ÈîôËØØÂ§ÑÁêÜ‚Äã","type":1,"pageTitle":"Âü∫Á°ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/0.14/guide/cpp/basic_serialization#ÈîôËØØÂ§ÑÁêÜ","content":" Fory ‰ΩøÁî® Result&lt;T, Error&gt; Á±ªÂûãËøõË°åÈîôËØØÂ§ÑÁêÜÔºö  auto result = fory.serialize(obj); // Ê£ÄÊü•Êìç‰ΩúÊòØÂê¶ÊàêÂäü if (result.ok()) { auto value = std::move(result).value(); // ‰ΩøÁî® value... } else { Error error = result.error(); std::cerr &lt;&lt; &quot;Error: &quot; &lt;&lt; error.to_string() &lt;&lt; std::endl; } // Êàñ‰ΩøÁî® FORY_TRY ÂÆèËøõË°åÊèêÂâçËøîÂõû FORY_TRY(bytes, fory.serialize(obj)); // Áõ¥Êé•‰ΩøÁî® bytes...   Â∏∏ËßÅÈîôËØØÁ±ªÂûãÔºö  Error::type_mismatch - ÂèçÂ∫èÂàóÂåñÊó∂Á±ªÂûã ID ‰∏çÂåπÈÖçError::invalid_data - Êó†ÊïàÊàñÊçüÂùèÁöÑÊï∞ÊçÆError::buffer_out_of_bound - ÁºìÂÜ≤Âå∫Ê∫¢Âá∫/‰∏ãÊ∫¢Error::type_error - Á±ªÂûãÊ≥®ÂÜåÈîôËØØ  ","version":"0.14","tagName":"h2"},{"title":"FORY_STRUCT ÂÆè‚Äã","type":1,"pageTitle":"Âü∫Á°ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/0.14/guide/cpp/basic_serialization#fory_struct-ÂÆè","content":" FORY_STRUCT ÂÆèÁî®‰∫éÊ≥®ÂÜåÁªìÊûÑ‰Ωì‰ª•ËøõË°åÂ∫èÂàóÂåñÔºö  struct MyStruct { int32_t x; std::string y; std::vector&lt;int32_t&gt; z; }; // ÂøÖÈ°ª‰∏éÁªìÊûÑ‰ΩìÂú®Âêå‰∏ÄÂëΩÂêçÁ©∫Èó¥‰∏≠ FORY_STRUCT(MyStruct, x, y, z);   ËØ•ÂÆèÔºö  ÁîüÊàêÁºñËØëÊó∂Â≠óÊÆµÂÖÉÊï∞ÊçÆÂêØÁî® ADLÔºàÂèÇÊï∞‰æùËµñÊü•ÊâæÔºâËøõË°åÂ∫èÂàóÂåñÈÄöËøáÊ®°ÊùøÁâπÂåñÂàõÂª∫È´òÊïàÁöÑÂ∫èÂàóÂåñ‰ª£Á†Å  Ë¶ÅÊ±ÇÔºö  ÂøÖÈ°ªÊîæÂú®‰∏éÁªìÊûÑ‰ΩìÁõ∏ÂêåÁöÑÂëΩÂêçÁ©∫Èó¥‰∏≠ÔºàÁî®‰∫é ADLÔºâÊâÄÊúâÂàóÂá∫ÁöÑÂ≠óÊÆµÂøÖÈ°ªÊòØÂèØÂ∫èÂàóÂåñÁ±ªÂûãÂÆè‰∏≠ÁöÑÂ≠óÊÆµÈ°∫Â∫èÂÜ≥ÂÆöÂ∫èÂàóÂåñÈ°∫Â∫è  ","version":"0.14","tagName":"h2"},{"title":"ÂµåÂ•óÁªìÊûÑ‰Ωì‚Äã","type":1,"pageTitle":"Âü∫Á°ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/0.14/guide/cpp/basic_serialization#ÂµåÂ•óÁªìÊûÑ‰Ωì","content":" ÂÆåÂÖ®ÊîØÊåÅÂµåÂ•óÁªìÊûÑ‰ΩìÔºö  struct Inner { int32_t value; }; FORY_STRUCT(Inner, value); struct Outer { Inner inner; std::string label; }; FORY_STRUCT(Outer, inner, label); // ‰∏§ËÄÖÈÉΩÂøÖÈ°ªÊ≥®ÂÜå fory.register_struct&lt;Inner&gt;(1); fory.register_struct&lt;Outer&gt;(2);   ","version":"0.14","tagName":"h2"},{"title":"ÊÄßËÉΩÊèêÁ§∫‚Äã","type":1,"pageTitle":"Âü∫Á°ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/0.14/guide/cpp/basic_serialization#ÊÄßËÉΩÊèêÁ§∫","content":" ÁºìÂÜ≤Âå∫Â§çÁî®Ôºö‰ΩøÁî® serialize_to(buffer, obj) ÈÖçÂêàÈ¢ÑÂàÜÈÖçÁöÑÁºìÂÜ≤Âå∫È¢ÑÊ≥®ÂÜåÔºöÂú®Â∫èÂàóÂåñÂºÄÂßãÂâçÊ≥®ÂÜåÊâÄÊúâÁ±ªÂûãÂçïÁ∫øÁ®ãÔºöÂ∞ΩÂèØËÉΩ‰ΩøÁî® build() ËÄå‰∏çÊòØ build_thread_safe()Á¶ÅÁî®Ë∑üË∏™ÔºöÂΩì‰∏çÈúÄË¶ÅÂºïÁî®Ë∑üË∏™Êó∂‰ΩøÁî® track_ref(false)Á¥ßÂáëÁºñÁ†ÅÔºö‰ΩøÁî®ÂèòÈïøÁºñÁ†ÅÊèêÈ´òÁ©∫Èó¥ÊïàÁéá  ","version":"0.14","tagName":"h2"},{"title":"Áõ∏ÂÖ≥‰∏ªÈ¢ò‚Äã","type":1,"pageTitle":"Âü∫Á°ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/0.14/guide/cpp/basic_serialization#Áõ∏ÂÖ≥‰∏ªÈ¢ò","content":" ÈÖçÁΩÆ - ÊûÑÂª∫Âô®ÈÄâÈ°πÁ±ªÂûãÊ≥®ÂÜå - Ê≥®ÂÜåÁ±ªÂûãÊîØÊåÅÁöÑÁ±ªÂûã - ÊâÄÊúâÊîØÊåÅÁöÑÁ±ªÂûã ","version":"0.14","tagName":"h2"},{"title":"ÊîØÊåÅÁöÑÁ±ªÂûã","type":0,"sectionRef":"#","url":"/zh-CN/docs/0.14/guide/cpp/supported_types","content":"","keywords":"","version":"0.14"},{"title":"Âü∫Êú¨Á±ªÂûã‚Äã","type":1,"pageTitle":"ÊîØÊåÅÁöÑÁ±ªÂûã","url":"/zh-CN/docs/0.14/guide/cpp/supported_types#Âü∫Êú¨Á±ªÂûã","content":" ÊâÄÊúâ C++ Âü∫Êú¨Á±ªÂûãÈÉΩÊîØÊåÅÈ´òÊïàÁöÑ‰∫åËøõÂà∂ÁºñÁ†ÅÔºö  Á±ªÂûã\tÂ§ßÂ∞è\tFory TypeId\tËØ¥Êòébool\t1 Â≠óËäÇ\tBOOL\tTrue/false int8_t\t1 Â≠óËäÇ\tINT8\tÊúâÁ¨¶Âè∑Â≠óËäÇ uint8_t\t1 Â≠óËäÇ\tINT8\tÊó†Á¨¶Âè∑Â≠óËäÇ int16_t\t2 Â≠óËäÇ\tINT16\tÊúâÁ¨¶Âè∑Áü≠Êï¥Âûã uint16_t\t2 Â≠óËäÇ\tINT16\tÊó†Á¨¶Âè∑Áü≠Êï¥Âûã int32_t\t4 Â≠óËäÇ\tINT32\tÊúâÁ¨¶Âè∑Êï¥Âûã uint32_t\t4 Â≠óËäÇ\tINT32\tÊó†Á¨¶Âè∑Êï¥Âûã int64_t\t8 Â≠óËäÇ\tINT64\tÊúâÁ¨¶Âè∑ÈïøÊï¥Âûã uint64_t\t8 Â≠óËäÇ\tINT64\tÊó†Á¨¶Âè∑ÈïøÊï¥Âûã float\t4 Â≠óËäÇ\tFLOAT32\tIEEE 754 ÂçïÁ≤æÂ∫¶ double\t8 Â≠óËäÇ\tFLOAT64\tIEEE 754 ÂèåÁ≤æÂ∫¶ char\t1 Â≠óËäÇ\tINT8\tÂ≠óÁ¨¶Ôºà‰Ωú‰∏∫ÊúâÁ¨¶Âè∑Ôºâ char16_t\t2 Â≠óËäÇ\tINT16\t16 ‰ΩçÂ≠óÁ¨¶ char32_t\t4 Â≠óËäÇ\tINT32\t32 ‰ΩçÂ≠óÁ¨¶  int32_t value = 42; auto bytes = fory.serialize(value).value(); auto decoded = fory.deserialize&lt;int32_t&gt;(bytes).value(); assert(value == decoded);   ","version":"0.14","tagName":"h2"},{"title":"Â≠óÁ¨¶‰∏≤Á±ªÂûã‚Äã","type":1,"pageTitle":"ÊîØÊåÅÁöÑÁ±ªÂûã","url":"/zh-CN/docs/0.14/guide/cpp/supported_types#Â≠óÁ¨¶‰∏≤Á±ªÂûã","content":" Á±ªÂûã\tFory TypeId\tËØ¥Êòéstd::string\tSTRING\tUTF-8 ÁºñÁ†Å std::string_view\tSTRING\tÈõ∂Êã∑Ë¥ùËßÜÂõæÔºàËØªÂèñÔºâ std::u16string\tSTRING\tUTF-16ÔºàËΩ¨Êç¢Ôºâ binary\tBINARY\tÊó†ÈïøÂ∫¶ÁöÑÂéüÂßãÂ≠óËäÇ  std::string text = &quot;Hello, World!&quot;; auto bytes = fory.serialize(text).value(); auto decoded = fory.deserialize&lt;std::string&gt;(bytes).value(); assert(text == decoded);   ","version":"0.14","tagName":"h2"},{"title":"ÈõÜÂêàÁ±ªÂûã‚Äã","type":1,"pageTitle":"ÊîØÊåÅÁöÑÁ±ªÂûã","url":"/zh-CN/docs/0.14/guide/cpp/supported_types#ÈõÜÂêàÁ±ªÂûã","content":" ","version":"0.14","tagName":"h2"},{"title":"Vector / List‚Äã","type":1,"pageTitle":"ÊîØÊåÅÁöÑÁ±ªÂûã","url":"/zh-CN/docs/0.14/guide/cpp/supported_types#vector--list","content":" std::vector&lt;T&gt; ÊîØÊåÅ‰ªª‰ΩïÂèØÂ∫èÂàóÂåñÁöÑÂÖÉÁ¥†Á±ªÂûãÔºö  std::vector&lt;int32_t&gt; numbers{1, 2, 3, 4, 5}; auto bytes = fory.serialize(numbers).value(); auto decoded = fory.deserialize&lt;std::vector&lt;int32_t&gt;&gt;(bytes).value(); // ÂµåÂ•ó vector std::vector&lt;std::vector&lt;std::string&gt;&gt; nested{ {&quot;a&quot;, &quot;b&quot;}, {&quot;c&quot;, &quot;d&quot;, &quot;e&quot;} };   ","version":"0.14","tagName":"h3"},{"title":"Set‚Äã","type":1,"pageTitle":"ÊîØÊåÅÁöÑÁ±ªÂûã","url":"/zh-CN/docs/0.14/guide/cpp/supported_types#set","content":" std::set&lt;T&gt; Âíå std::unordered_set&lt;T&gt;Ôºö  std::set&lt;std::string&gt; tags{&quot;cpp&quot;, &quot;serialization&quot;, &quot;fory&quot;}; auto bytes = fory.serialize(tags).value(); auto decoded = fory.deserialize&lt;std::set&lt;std::string&gt;&gt;(bytes).value(); std::unordered_set&lt;int32_t&gt; ids{1, 2, 3};   ","version":"0.14","tagName":"h3"},{"title":"Map‚Äã","type":1,"pageTitle":"ÊîØÊåÅÁöÑÁ±ªÂûã","url":"/zh-CN/docs/0.14/guide/cpp/supported_types#map","content":" std::map&lt;K, V&gt; Âíå std::unordered_map&lt;K, V&gt;Ôºö  std::map&lt;std::string, int32_t&gt; scores{ {&quot;Alice&quot;, 100}, {&quot;Bob&quot;, 95} }; auto bytes = fory.serialize(scores).value(); auto decoded = fory.deserialize&lt;std::map&lt;std::string, int32_t&gt;&gt;(bytes).value(); // Êó†Â∫è map std::unordered_map&lt;int32_t, std::string&gt; lookup{ {1, &quot;one&quot;}, {2, &quot;two&quot;} };   ","version":"0.14","tagName":"h3"},{"title":"Êô∫ËÉΩÊåáÈíà‚Äã","type":1,"pageTitle":"ÊîØÊåÅÁöÑÁ±ªÂûã","url":"/zh-CN/docs/0.14/guide/cpp/supported_types#Êô∫ËÉΩÊåáÈíà","content":" ","version":"0.14","tagName":"h2"},{"title":"std::optional‚Äã","type":1,"pageTitle":"ÊîØÊåÅÁöÑÁ±ªÂûã","url":"/zh-CN/docs/0.14/guide/cpp/supported_types#stdoptional","content":" ‰ªª‰ΩïÁ±ªÂûãÁöÑÂèØÁ©∫ÂåÖË£ÖÔºö  std::optional&lt;int32_t&gt; maybe_value = 42; std::optional&lt;int32_t&gt; empty_value = std::nullopt; auto bytes = fory.serialize(maybe_value).value(); auto decoded = fory.deserialize&lt;std::optional&lt;int32_t&gt;&gt;(bytes).value(); assert(decoded.has_value() &amp;&amp; *decoded == 42);   ","version":"0.14","tagName":"h3"},{"title":"std::shared_ptr‚Äã","type":1,"pageTitle":"ÊîØÊåÅÁöÑÁ±ªÂûã","url":"/zh-CN/docs/0.14/guide/cpp/supported_types#stdshared_ptr","content":" Â∏¶ÂºïÁî®Ë∑üË∏™ÁöÑÂÖ±‰∫´ÊâÄÊúâÊùÉÔºö  auto shared = std::make_shared&lt;Person&gt;(&quot;Alice&quot;, 30); auto bytes = fory.serialize(shared).value(); auto decoded = fory.deserialize&lt;std::shared_ptr&lt;Person&gt;&gt;(bytes).value();   ÂêØÁî®ÂºïÁî®Ë∑üË∏™Ôºàtrack_ref(true)ÔºâÊó∂Ôºö  ÂÖ±‰∫´ÂØπË±°Âè™Â∫èÂàóÂåñ‰∏ÄÊ¨°ÂØπÂêå‰∏ÄÂØπË±°ÁöÑÂºïÁî®Ë¢´‰øùÁïôÂæ™ÁéØÂºïÁî®Ëá™Âä®Â§ÑÁêÜ  ","version":"0.14","tagName":"h3"},{"title":"std::unique_ptr‚Äã","type":1,"pageTitle":"ÊîØÊåÅÁöÑÁ±ªÂûã","url":"/zh-CN/docs/0.14/guide/cpp/supported_types#stdunique_ptr","content":" Áã¨Âç†ÊâÄÊúâÊùÉÔºö  auto unique = std::make_unique&lt;Person&gt;(&quot;Bob&quot;, 25); auto bytes = fory.serialize(unique).value(); auto decoded = fory.deserialize&lt;std::unique_ptr&lt;Person&gt;&gt;(bytes).value();   ","version":"0.14","tagName":"h3"},{"title":"Variant Á±ªÂûã‚Äã","type":1,"pageTitle":"ÊîØÊåÅÁöÑÁ±ªÂûã","url":"/zh-CN/docs/0.14/guide/cpp/supported_types#variant-Á±ªÂûã","content":" std::variant&lt;Ts...&gt; Áî®‰∫éÁ±ªÂûãÂÆâÂÖ®ÁöÑËÅîÂêàÔºö  using MyVariant = std::variant&lt;int32_t, std::string, double&gt;; MyVariant v1 = 42; MyVariant v2 = std::string(&quot;hello&quot;); MyVariant v3 = 3.14; auto bytes = fory.serialize(v1).value(); auto decoded = fory.deserialize&lt;MyVariant&gt;(bytes).value(); assert(std::get&lt;int32_t&gt;(decoded) == 42);   ","version":"0.14","tagName":"h2"},{"title":"std::monostate‚Äã","type":1,"pageTitle":"ÊîØÊåÅÁöÑÁ±ªÂûã","url":"/zh-CN/docs/0.14/guide/cpp/supported_types#stdmonostate","content":" Á©∫ variant Êõø‰ª£Ôºö  using OptionalInt = std::variant&lt;std::monostate, int32_t&gt;; OptionalInt empty = std::monostate{}; OptionalInt value = 42;   ","version":"0.14","tagName":"h3"},{"title":"Êó∂Èó¥Á±ªÂûã‚Äã","type":1,"pageTitle":"ÊîØÊåÅÁöÑÁ±ªÂûã","url":"/zh-CN/docs/0.14/guide/cpp/supported_types#Êó∂Èó¥Á±ªÂûã","content":" ","version":"0.14","tagName":"h2"},{"title":"Duration‚Äã","type":1,"pageTitle":"ÊîØÊåÅÁöÑÁ±ªÂûã","url":"/zh-CN/docs/0.14/guide/cpp/supported_types#duration","content":" std::chrono::nanosecondsÔºö  using Duration = std::chrono::nanoseconds; Duration d = std::chrono::seconds(30); auto bytes = fory.serialize(d).value(); auto decoded = fory.deserialize&lt;Duration&gt;(bytes).value();   ","version":"0.14","tagName":"h3"},{"title":"Timestamp‚Äã","type":1,"pageTitle":"ÊîØÊåÅÁöÑÁ±ªÂûã","url":"/zh-CN/docs/0.14/guide/cpp/supported_types#timestamp","content":" Ëá™ Unix Á∫™ÂÖÉ‰ª•Êù•ÁöÑÊó∂Èó¥ÁÇπÔºö  using Timestamp = std::chrono::time_point&lt;std::chrono::system_clock, std::chrono::nanoseconds&gt;; Timestamp now = std::chrono::system_clock::now(); auto bytes = fory.serialize(now).value(); auto decoded = fory.deserialize&lt;Timestamp&gt;(bytes).value();   ","version":"0.14","tagName":"h3"},{"title":"LocalDate‚Äã","type":1,"pageTitle":"ÊîØÊåÅÁöÑÁ±ªÂûã","url":"/zh-CN/docs/0.14/guide/cpp/supported_types#localdate","content":" Ëá™ Unix Á∫™ÂÖÉ‰ª•Êù•ÁöÑÂ§©Êï∞Ôºö  LocalDate date{18628}; // Ëá™ 1970-01-01 ‰ª•Êù•ÁöÑÂ§©Êï∞ auto bytes = fory.serialize(date).value(); auto decoded = fory.deserialize&lt;LocalDate&gt;(bytes).value();   ","version":"0.14","tagName":"h3"},{"title":"Áî®Êà∑ÂÆö‰πâÁªìÊûÑ‰Ωì‚Äã","type":1,"pageTitle":"ÊîØÊåÅÁöÑÁ±ªÂûã","url":"/zh-CN/docs/0.14/guide/cpp/supported_types#Áî®Êà∑ÂÆö‰πâÁªìÊûÑ‰Ωì","content":" ‰ªª‰ΩïÁªìÊûÑ‰ΩìÈÉΩÂèØ‰ª•‰ΩøÁî® FORY_STRUCT ËøõË°åÂ∫èÂàóÂåñÔºö  struct Point { double x; double y; double z; }; FORY_STRUCT(Point, x, y, z); struct Line { Point start; Point end; std::string label; }; FORY_STRUCT(Line, start, end, label);   ","version":"0.14","tagName":"h2"},{"title":"Êûö‰∏æÁ±ªÂûã‚Äã","type":1,"pageTitle":"ÊîØÊåÅÁöÑÁ±ªÂûã","url":"/zh-CN/docs/0.14/guide/cpp/supported_types#Êûö‰∏æÁ±ªÂûã","content":" ‰ΩøÁî® FORY_ENUM ÊîØÊåÅ‰ΩúÁî®ÂüüÂíåÈùû‰ΩúÁî®ÂüüÊûö‰∏æÔºö  // ‰ΩúÁî®ÂüüÊûö‰∏æÔºàC++11 enum classÔºâ enum class Color { RED = 0, GREEN = 1, BLUE = 2 }; // ÈùûËøûÁª≠ÂÄºÁöÑÈùû‰ΩúÁî®ÂüüÊûö‰∏æ enum Priority : int32_t { LOW = -10, NORMAL = 0, HIGH = 10 }; FORY_ENUM(Priority, LOW, NORMAL, HIGH); // ‰ΩøÁî® Color c = Color::GREEN; auto bytes = fory.serialize(c).value(); auto decoded = fory.deserialize&lt;Color&gt;(bytes).value();   ","version":"0.14","tagName":"h2"},{"title":"‰∏çÊîØÊåÅÁöÑÁ±ªÂûã‚Äã","type":1,"pageTitle":"ÊîØÊåÅÁöÑÁ±ªÂûã","url":"/zh-CN/docs/0.14/guide/cpp/supported_types#‰∏çÊîØÊåÅÁöÑÁ±ªÂûã","content":" ÂΩìÂâç‰∏çÊîØÊåÅÔºö  ÂéüÂßãÊåáÈíàÔºàT*Ôºâ- ‰ΩøÁî®Êô∫ËÉΩÊåáÈíà‰ª£Êõøstd::tuple&lt;Ts...&gt; - ‰ΩøÁî®ÁªìÊûÑ‰Ωì‰ª£Êõøstd::array&lt;T, N&gt; - ‰ΩøÁî® std::vector&lt;T&gt; ‰ª£ÊõøÂáΩÊï∞ÊåáÈíàÂºïÁî®ÔºàT&amp;„ÄÅconst T&amp;Ôºâ- ‰ªÖÊîØÊåÅÊåâÂÄº‰º†ÈÄí  ","version":"0.14","tagName":"h2"},{"title":"Áõ∏ÂÖ≥‰∏ªÈ¢ò‚Äã","type":1,"pageTitle":"ÊîØÊåÅÁöÑÁ±ªÂûã","url":"/zh-CN/docs/0.14/guide/cpp/supported_types#Áõ∏ÂÖ≥‰∏ªÈ¢ò","content":" Âü∫Á°ÄÂ∫èÂàóÂåñ - ‰ΩøÁî®Ëøô‰∫õÁ±ªÂûãÁ±ªÂûãÊ≥®ÂÜå - Ê≥®ÂÜåÁ±ªÂûãË∑®ËØ≠Ë®Ä - Ë∑®ËØ≠Ë®ÄÂÖºÂÆπÊÄß ","version":"0.14","tagName":"h2"},{"title":"Schema ÊºîÂåñ","type":0,"sectionRef":"#","url":"/zh-CN/docs/0.14/guide/cpp/schema_evolution","content":"","keywords":"","version":"0.14"},{"title":"Compatible Ê®°Âºè‚Äã","type":1,"pageTitle":"Schema ÊºîÂåñ","url":"/zh-CN/docs/0.14/guide/cpp/schema_evolution#compatible-Ê®°Âºè","content":" ‰ΩøÁî® compatible(true) ÂêØÁî® schema ÊºîÂåñÔºö  #include &quot;fory/serialization/fory.h&quot; using namespace fory::serialization; // ÁâàÊú¨ 1ÔºöÂéüÂßã schema struct PersonV1 { std::string name; int32_t age; }; FORY_STRUCT(PersonV1, name, age); // ÁâàÊú¨ 2ÔºöÊ∑ªÂä† email Â≠óÊÆµ struct PersonV2 { std::string name; int32_t age; std::string email; // Êñ∞Â≠óÊÆµ }; FORY_STRUCT(PersonV2, name, age, email); int main() { // ‰∏∫ÊØè‰∏™ schema ÁâàÊú¨ÂàõÂª∫ÂçïÁã¨ÁöÑ Fory ÂÆû‰æã auto fory_v1 = Fory::builder() .compatible(true) // ÂêØÁî® schema ÊºîÂåñ .xlang(true) .build(); auto fory_v2 = Fory::builder() .compatible(true) .xlang(true) .build(); // ‰ΩøÁî®Áõ∏ÂêåÁöÑÁ±ªÂûã ID ËøõË°å schema ÊºîÂåñ constexpr uint32_t PERSON_TYPE_ID = 100; fory_v1.register_struct&lt;PersonV1&gt;(PERSON_TYPE_ID); fory_v2.register_struct&lt;PersonV2&gt;(PERSON_TYPE_ID); // ‰ΩøÁî® V1 Â∫èÂàóÂåñ PersonV1 v1{&quot;Alice&quot;, 30}; auto bytes = fory_v1.serialize(v1).value(); // ÂèçÂ∫èÂàóÂåñ‰∏∫ V2 - email Ëé∑ÂæóÈªòËÆ§ÂÄºÔºàÁ©∫Â≠óÁ¨¶‰∏≤Ôºâ auto v2 = fory_v2.deserialize&lt;PersonV2&gt;(bytes).value(); assert(v2.name == &quot;Alice&quot;); assert(v2.age == 30); assert(v2.email == &quot;&quot;); // Áº∫Â§±Â≠óÊÆµÁöÑÈªòËÆ§ÂÄº return 0; }   ","version":"0.14","tagName":"h2"},{"title":"Schema ÊºîÂåñÁâπÊÄß‚Äã","type":1,"pageTitle":"Schema ÊºîÂåñ","url":"/zh-CN/docs/0.14/guide/cpp/schema_evolution#schema-ÊºîÂåñÁâπÊÄß","content":" Compatible Ê®°ÂºèÊîØÊåÅ‰ª•‰∏ã schema ÂèòÊõ¥Ôºö  ÂèòÊõ¥Á±ªÂûã\tÊîØÊåÅ\tË°å‰∏∫Ê∑ªÂä†Êñ∞Â≠óÊÆµ\t‚úÖ\tÁº∫Â§±Â≠óÊÆµ‰ΩøÁî®ÈªòËÆ§ÂÄº Âà†Èô§Â≠óÊÆµ\t‚úÖ\tÈ¢ùÂ§ñÂ≠óÊÆµË¢´Ë∑≥Ëøá ÈáçÊéíÂ≠óÊÆµÈ°∫Â∫è\t‚úÖ\tÊåâÂêçÁß∞ÂåπÈÖçÂ≠óÊÆµÔºåËÄåÈùû‰ΩçÁΩÆ Êõ¥ÊîπÂèØÁ©∫ÊÄß\t‚úÖ\tT ‚Üî std::optional&lt;T&gt; Êõ¥ÊîπÂ≠óÊÆµÁ±ªÂûã\t‚ùå\tÁ±ªÂûãÂøÖÈ°ªÂÖºÂÆπ ÈáçÂëΩÂêçÂ≠óÊÆµ\t‚ùå\tÂ≠óÊÆµÂêçÂøÖÈ°ªÂåπÈÖçÔºàÂå∫ÂàÜÂ§ßÂ∞èÂÜôÔºâ  ","version":"0.14","tagName":"h2"},{"title":"Ê∑ªÂä†Â≠óÊÆµÔºàÂêëÂêéÂÖºÂÆπÔºâ‚Äã","type":1,"pageTitle":"Schema ÊºîÂåñ","url":"/zh-CN/docs/0.14/guide/cpp/schema_evolution#Ê∑ªÂä†Â≠óÊÆµÂêëÂêéÂÖºÂÆπ","content":" ÂΩì‰ΩøÁî®ÂÖ∑ÊúâÈ¢ùÂ§ñÂ≠óÊÆµÁöÑÊñ∞ schema ÂèçÂ∫èÂàóÂåñÊóßÊï∞ÊçÆÊó∂Ôºö  // Êóß schema (V1) struct ProductV1 { std::string name; double price; }; FORY_STRUCT(ProductV1, name, price); // Êñ∞ schema (V2) Â∏¶ÊúâÈ¢ùÂ§ñÂ≠óÊÆµ struct ProductV2 { std::string name; double price; std::vector&lt;std::string&gt; tags; // Êñ∞Â≠óÊÆµ std::map&lt;std::string, std::string&gt; attributes; // Êñ∞Â≠óÊÆµ }; FORY_STRUCT(ProductV2, name, price, tags, attributes); // Â∫èÂàóÂåñ V1 ProductV1 v1{&quot;Laptop&quot;, 999.99}; auto bytes = fory_v1.serialize(v1).value(); // ÂèçÂ∫èÂàóÂåñ‰∏∫ V2 auto v2 = fory_v2.deserialize&lt;ProductV2&gt;(bytes).value(); assert(v2.name == &quot;Laptop&quot;); assert(v2.price == 999.99); assert(v2.tags.empty()); // ÈªòËÆ§ÔºöÁ©∫ vector assert(v2.attributes.empty()); // ÈªòËÆ§ÔºöÁ©∫ map   ","version":"0.14","tagName":"h2"},{"title":"Âà†Èô§Â≠óÊÆµÔºàÂêëÂâçÂÖºÂÆπÔºâ‚Äã","type":1,"pageTitle":"Schema ÊºîÂåñ","url":"/zh-CN/docs/0.14/guide/cpp/schema_evolution#Âà†Èô§Â≠óÊÆµÂêëÂâçÂÖºÂÆπ","content":" ÂΩì‰ΩøÁî®ÂÖ∑ÊúâËæÉÂ∞ëÂ≠óÊÆµÁöÑÊóß schema ÂèçÂ∫èÂàóÂåñÊñ∞Êï∞ÊçÆÊó∂Ôºö  // ÂÆåÊï¥ schema struct UserFull { int64_t id; std::string username; std::string email; std::string password_hash; int32_t login_count; }; FORY_STRUCT(UserFull, id, username, email, password_hash, login_count); // Á≤æÁÆÄ schemaÔºàÂà†Èô§‰∫Ü 3 ‰∏™Â≠óÊÆµÔºâ struct UserMinimal { int64_t id; std::string username; }; FORY_STRUCT(UserMinimal, id, username); // Â∫èÂàóÂåñÂÆåÊï¥ÁâàÊú¨ UserFull full{12345, &quot;johndoe&quot;, &quot;john@example.com&quot;, &quot;hash123&quot;, 42}; auto bytes = fory_full.serialize(full).value(); // ÂèçÂ∫èÂàóÂåñ‰∏∫Á≤æÁÆÄÁâàÊú¨ - È¢ùÂ§ñÂ≠óÊÆµË¢´Ë∑≥Ëøá auto minimal = fory_minimal.deserialize&lt;UserMinimal&gt;(bytes).value(); assert(minimal.id == 12345); assert(minimal.username == &quot;johndoe&quot;); // email„ÄÅpassword_hash„ÄÅlogin_count Ë¢´Ë∑≥Ëøá   ","version":"0.14","tagName":"h2"},{"title":"Â≠óÊÆµÈáçÊéí‚Äã","type":1,"pageTitle":"Schema ÊºîÂåñ","url":"/zh-CN/docs/0.14/guide/cpp/schema_evolution#Â≠óÊÆµÈáçÊéí","content":" Âú® compatible Ê®°Âºè‰∏ãÔºåÂ≠óÊÆµÊåâÂêçÁß∞ÂåπÈÖçÔºåËÄåÈùû‰ΩçÁΩÆÔºö  // ÂéüÂßãÂ≠óÊÆµÈ°∫Â∫è struct ConfigOriginal { std::string host; int32_t port; bool enable_ssl; std::string protocol; }; FORY_STRUCT(ConfigOriginal, host, port, enable_ssl, protocol); // ÈáçÊéíÂêéÁöÑÂ≠óÊÆµ struct ConfigReordered { bool enable_ssl; // ÁßªÂà∞Á¨¨‰∏Ä‰Ωç std::string protocol; // ÁßªÂà∞Á¨¨‰∫å‰Ωç std::string host; // ÁßªÂà∞Á¨¨‰∏â‰Ωç int32_t port; // ÁßªÂà∞ÊúÄÂêé }; FORY_STRUCT(ConfigReordered, enable_ssl, protocol, host, port); // ‰ΩøÁî®ÂéüÂßãÈ°∫Â∫èÂ∫èÂàóÂåñ ConfigOriginal orig{&quot;localhost&quot;, 8080, true, &quot;https&quot;}; auto bytes = fory_orig.serialize(orig).value(); // ‰ΩøÁî®‰∏çÂêåÂ≠óÊÆµÈ°∫Â∫èÂèçÂ∫èÂàóÂåñ - Ê≠£Â∏∏Â∑•‰Ωú auto reordered = fory_reord.deserialize&lt;ConfigReordered&gt;(bytes).value(); assert(reordered.host == &quot;localhost&quot;); assert(reordered.port == 8080); assert(reordered.enable_ssl == true); assert(reordered.protocol == &quot;https&quot;);   ","version":"0.14","tagName":"h2"},{"title":"ÂµåÂ•óÁªìÊûÑ‰ΩìÊºîÂåñ‚Äã","type":1,"pageTitle":"Schema ÊºîÂåñ","url":"/zh-CN/docs/0.14/guide/cpp/schema_evolution#ÂµåÂ•óÁªìÊûÑ‰ΩìÊºîÂåñ","content":" Schema ÊºîÂåñÈÄíÂΩíÊîØÊåÅÂµåÂ•óÁªìÊûÑ‰ΩìÔºö  // V1 Address struct AddressV1 { std::string street; std::string city; }; FORY_STRUCT(AddressV1, street, city); // V2 Address Â∏¶ÊúâÊñ∞Â≠óÊÆµ struct AddressV2 { std::string street; std::string city; std::string country; // Êñ∞Â≠óÊÆµ std::string zipcode; // Êñ∞Â≠óÊÆµ }; FORY_STRUCT(AddressV2, street, city, country, zipcode); // V1 Employee ‰ΩøÁî® V1 Address struct EmployeeV1 { std::string name; AddressV1 home_address; }; FORY_STRUCT(EmployeeV1, name, home_address); // V2 Employee ‰ΩøÁî® V2 Address ÂíåÊñ∞Â≠óÊÆµ struct EmployeeV2 { std::string name; AddressV2 home_address; // ÂµåÂ•óÁªìÊûÑ‰ΩìÂ∑≤ÊºîÂåñ std::string employee_id; // Êñ∞Â≠óÊÆµ }; FORY_STRUCT(EmployeeV2, name, home_address, employee_id); // ‰ΩøÁî®Áõ∏Âêå ID Ê≥®ÂÜåÁ±ªÂûã constexpr uint32_t ADDRESS_TYPE_ID = 100; constexpr uint32_t EMPLOYEE_TYPE_ID = 101; fory_v1.register_struct&lt;AddressV1&gt;(ADDRESS_TYPE_ID); fory_v1.register_struct&lt;EmployeeV1&gt;(EMPLOYEE_TYPE_ID); fory_v2.register_struct&lt;AddressV2&gt;(ADDRESS_TYPE_ID); fory_v2.register_struct&lt;EmployeeV2&gt;(EMPLOYEE_TYPE_ID); // Â∫èÂàóÂåñ V1 EmployeeV1 emp_v1{&quot;Jane Doe&quot;, {&quot;123 Main St&quot;, &quot;NYC&quot;}}; auto bytes = fory_v1.serialize(emp_v1).value(); // ÂèçÂ∫èÂàóÂåñ‰∏∫ V2 auto emp_v2 = fory_v2.deserialize&lt;EmployeeV2&gt;(bytes).value(); assert(emp_v2.name == &quot;Jane Doe&quot;); assert(emp_v2.home_address.street == &quot;123 Main St&quot;); assert(emp_v2.home_address.city == &quot;NYC&quot;); assert(emp_v2.home_address.country == &quot;&quot;); // ÈªòËÆ§ÂÄº assert(emp_v2.home_address.zipcode == &quot;&quot;); // ÈªòËÆ§ÂÄº assert(emp_v2.employee_id == &quot;&quot;); // ÈªòËÆ§ÂÄº   ","version":"0.14","tagName":"h2"},{"title":"ÂèåÂêëÊºîÂåñ‚Äã","type":1,"pageTitle":"Schema ÊºîÂåñ","url":"/zh-CN/docs/0.14/guide/cpp/schema_evolution#ÂèåÂêëÊºîÂåñ","content":" Schema ÊºîÂåñÂèåÂêëÂ∑•‰ΩúÔºö  // V2 -&gt; V1ÔºàÈôçÁ∫ßÔºâ PersonV2 v2{&quot;Charlie&quot;, 35, &quot;charlie@example.com&quot;}; auto bytes = fory_v2.serialize(v2).value(); auto v1 = fory_v1.deserialize&lt;PersonV1&gt;(bytes).value(); assert(v1.name == &quot;Charlie&quot;); assert(v1.age == 35); // email Â≠óÊÆµÂú®ÂèçÂ∫èÂàóÂåñÊó∂Ë¢´‰∏¢ÂºÉ   ","version":"0.14","tagName":"h2"},{"title":"ÈªòËÆ§ÂÄº‚Äã","type":1,"pageTitle":"Schema ÊºîÂåñ","url":"/zh-CN/docs/0.14/guide/cpp/schema_evolution#ÈªòËÆ§ÂÄº","content":" ÂΩìÂ≠óÊÆµÁº∫Â§±Êó∂Ôºå‰ΩøÁî® C++ ÈªòËÆ§ÂàùÂßãÂåñÔºö  Á±ªÂûã\tÈªòËÆ§ÂÄºint8_t„ÄÅint16_t...\t0 float„ÄÅdouble\t0.0 bool\tfalse std::string\t&quot;&quot; std::vector&lt;T&gt;\tÁ©∫ vector std::map&lt;K,V&gt;\tÁ©∫ map std::set&lt;T&gt;\tÁ©∫ set std::optional&lt;T&gt;\tstd::nullopt ÁªìÊûÑ‰ΩìÁ±ªÂûã\tÈªòËÆ§ÊûÑÈÄ†  ","version":"0.14","tagName":"h2"},{"title":"SchemaConsistent Ê®°ÂºèÔºàÈªòËÆ§Ôºâ‚Äã","type":1,"pageTitle":"Schema ÊºîÂåñ","url":"/zh-CN/docs/0.14/guide/cpp/schema_evolution#schemaconsistent-Ê®°ÂºèÈªòËÆ§","content":" ‰∏ç‰ΩøÁî® compatible Ê®°ÂºèÊó∂Ôºåschema ÂøÖÈ°ªÂÆåÂÖ®ÂåπÈÖçÔºö  // ‰∏•Ê†ºÊ®°ÂºèÔºàÈªòËÆ§Ôºâ auto fory = Fory::builder() .compatible(false) // ÈªòËÆ§Ôºöschema ÂøÖÈ°ªÂåπÈÖç .xlang(true) .build(); // Â∫èÂàóÂåñ/ÂèçÂ∫èÂàóÂåñË¶ÅÊ±ÇÁõ∏ÂêåÁöÑ schema // Schema ‰∏çÂåπÈÖçÂèØËÉΩÂØºËá¥ÈîôËØØÊàñÊú™ÂÆö‰πâË°å‰∏∫   ‰ΩïÊó∂‰ΩøÁî® SchemaConsistent Ê®°ÂºèÔºö  Schema ‰øùËØÅÂåπÈÖçÔºàÁõ∏ÂêåÁöÑ‰∫åËøõÂà∂ÁâàÊú¨ÔºâÈúÄË¶ÅÊúÄÈ´òÊÄßËÉΩÔºàÊõ¥Â∞ëÁöÑÂÖÉÊï∞ÊçÆÂºÄÈîÄÔºâÊÇ®ÂêåÊó∂ÊéßÂà∂Â∫èÂàóÂåñÂíåÂèçÂ∫èÂàóÂåñ  ‰ΩïÊó∂‰ΩøÁî® Compatible Ê®°ÂºèÔºö  Schema ÂèØËÉΩÁã¨Á´ãÊºîÂåñÈúÄË¶ÅË∑®ÁâàÊú¨ÂÖºÂÆπÊÄß‰∏çÂêåÊúçÂä°ÂèØËÉΩÊúâ‰∏çÂêåÁöÑ schema ÁâàÊú¨  ","version":"0.14","tagName":"h2"},{"title":"Á±ªÂûã ID Ë¶ÅÊ±Ç‚Äã","type":1,"pageTitle":"Schema ÊºîÂåñ","url":"/zh-CN/docs/0.14/guide/cpp/schema_evolution#Á±ªÂûã-id-Ë¶ÅÊ±Ç","content":" Ë¶Å‰Ωø schema ÊºîÂåñÊ≠£Â∏∏Â∑•‰ΩúÔºö  Áõ∏ÂêåÁ±ªÂûã IDÔºöÂêå‰∏ÄÁªìÊûÑ‰ΩìÁöÑ‰∏çÂêåÁâàÊú¨ÂøÖÈ°ª‰ΩøÁî®Áõ∏ÂêåÁöÑÁ±ªÂûã ID‰∏ÄËá¥ÁöÑ IDÔºöÁ±ªÂûã ID ÂøÖÈ°ªÂú®ÊâÄÊúâ Fory ÂÆû‰æã‰∏≠‰øùÊåÅ‰∏ÄËá¥Ê≥®ÂÜåÊâÄÊúâÁâàÊú¨ÔºöÊØè‰∏™ Fory ÂÆû‰æãÊ≥®ÂÜåËá™Â∑±ÁöÑÁªìÊûÑ‰ΩìÁâàÊú¨  constexpr uint32_t PERSON_TYPE_ID = 100; // ÂÆû‰æã 1 ‰ΩøÁî® PersonV1 fory_v1.register_struct&lt;PersonV1&gt;(PERSON_TYPE_ID); // ÂÆû‰æã 2 ‰ΩøÁî® PersonV2 fory_v2.register_struct&lt;PersonV2&gt;(PERSON_TYPE_ID); // Áõ∏ÂêåÁöÑÁ±ªÂûã ID ÂêØÁî® schema ÊºîÂåñ   ","version":"0.14","tagName":"h2"},{"title":"ÊúÄ‰Ω≥ÂÆûË∑µ‚Äã","type":1,"pageTitle":"Schema ÊºîÂåñ","url":"/zh-CN/docs/0.14/guide/cpp/schema_evolution#ÊúÄ‰Ω≥ÂÆûË∑µ","content":" ","version":"0.14","tagName":"h2"},{"title":"1. ‰∏∫ÊºîÂåñÂÅöËßÑÂàí‚Äã","type":1,"pageTitle":"Schema ÊºîÂåñ","url":"/zh-CN/docs/0.14/guide/cpp/schema_evolution#1-‰∏∫ÊºîÂåñÂÅöËßÑÂàí","content":" ËÆæËÆ° schema Êó∂ËÄÉËôëÊú™Êù•ÁöÑÂèòÊõ¥Ôºö  // Â•ΩÁöÑÂÅöÊ≥ïÔºöÂØπÂèØËÉΩÂà†Èô§ÁöÑÂ≠óÊÆµ‰ΩøÁî® optional struct Config { std::string host; int32_t port; std::optional&lt;std::string&gt; deprecated_field; // ‰ª•ÂêéÂèØ‰ª•Âà†Èô§ };   ","version":"0.14","tagName":"h3"},{"title":"2. ‰ΩøÁî®ÊúâÊÑè‰πâÁöÑÈªòËÆ§ÂÄº‚Äã","type":1,"pageTitle":"Schema ÊºîÂåñ","url":"/zh-CN/docs/0.14/guide/cpp/schema_evolution#2-‰ΩøÁî®ÊúâÊÑè‰πâÁöÑÈªòËÆ§ÂÄº","content":" ËÄÉËôëÊñ∞Â≠óÊÆµ‰ΩøÁî®‰ªÄ‰πàÈªòËÆ§ÂÄºÊâçÊúâÊÑè‰πâÔºö  struct Settings { int32_t timeout_ms; // ÈªòËÆ§Ôºö0ÔºàÂèØËÉΩÈúÄË¶Å‰∏Ä‰∏™ÂêàÁêÜÁöÑÈªòËÆ§ÂÄºÔºâ bool enabled; // ÈªòËÆ§Ôºöfalse std::string mode; // ÈªòËÆ§Ôºö&quot;&quot;ÔºàÂèØËÉΩÈúÄË¶Å &quot;default&quot;Ôºâ };   ","version":"0.14","tagName":"h3"},{"title":"3. ËÆ∞ÂΩï Schema ÁâàÊú¨‚Äã","type":1,"pageTitle":"Schema ÊºîÂåñ","url":"/zh-CN/docs/0.14/guide/cpp/schema_evolution#3-ËÆ∞ÂΩï-schema-ÁâàÊú¨","content":" Ë∑üË∏™ schema ÂèòÊõ¥‰ª•‰æøË∞ÉËØïÔºö  // V1ÔºöÂàùÂßã schemaÔºà2024-01-01Ôºâ // V2ÔºöÊ∑ªÂä† email Â≠óÊÆµÔºà2024-02-01Ôºâ // V3ÔºöÊ∑ªÂä† phone„ÄÅaddress Â≠óÊÆµÔºà2024-03-01Ôºâ   ","version":"0.14","tagName":"h3"},{"title":"4. ÊµãËØïÊºîÂåñË∑ØÂæÑ‚Äã","type":1,"pageTitle":"Schema ÊºîÂåñ","url":"/zh-CN/docs/0.14/guide/cpp/schema_evolution#4-ÊµãËØïÊºîÂåñË∑ØÂæÑ","content":" ÊµãËØïÂçáÁ∫ßÂíåÈôçÁ∫ßÂú∫ÊôØÔºö  // ÊµãËØï V1 -&gt; V2 // ÊµãËØï V2 -&gt; V1 // ÊµãËØï V1 -&gt; V3 // ÊµãËØï V3 -&gt; V1   ","version":"0.14","tagName":"h3"},{"title":"Ë∑®ËØ≠Ë®Ä Schema ÊºîÂåñ‚Äã","type":1,"pageTitle":"Schema ÊºîÂåñ","url":"/zh-CN/docs/0.14/guide/cpp/schema_evolution#Ë∑®ËØ≠Ë®Ä-schema-ÊºîÂåñ","content":" ‰ΩøÁî® xlang Ê®°ÂºèÊó∂Ôºåschema ÊºîÂåñË∑®ËØ≠Ë®ÄÂ∑•‰ΩúÔºö  // ‰ΩøÁî® compatible Ê®°ÂºèÁöÑ C++ auto fory = Fory::builder() .compatible(true) .xlang(true) .build();   // ‰ΩøÁî® compatible Ê®°ÂºèÁöÑ Java Fory fory = Fory.builder() .withCompatibleMode(CompatibleMode.COMPATIBLE) .withLanguage(Language.XLANG) .build();   Âç≥‰Ωø schema ÁâàÊú¨‰∏çÂêåÔºå‰∏§‰∏™ÂÆû‰æã‰πüÂèØ‰ª•‰∫§Êç¢Êï∞ÊçÆ„ÄÇ  ","version":"0.14","tagName":"h2"},{"title":"Áõ∏ÂÖ≥‰∏ªÈ¢ò‚Äã","type":1,"pageTitle":"Schema ÊºîÂåñ","url":"/zh-CN/docs/0.14/guide/cpp/schema_evolution#Áõ∏ÂÖ≥‰∏ªÈ¢ò","content":" ÈÖçÁΩÆ - ÂêØÁî® compatible Ê®°ÂºèÁ±ªÂûãÊ≥®ÂÜå - Á±ªÂûã ID ÁÆ°ÁêÜË∑®ËØ≠Ë®Ä - Ë∑®ËØ≠Ë®ÄÊ≥®ÊÑè‰∫ãÈ°π ","version":"0.14","tagName":"h2"},{"title":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ","type":0,"sectionRef":"#","url":"/zh-CN/docs/0.14/guide/cpp/cross_language","content":"","keywords":"","version":"0.14"},{"title":"Ê¶ÇËø∞‚Äã","type":1,"pageTitle":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/0.14/guide/cpp/cross_language#Ê¶ÇËø∞","content":" Apache Fory‚Ñ¢ ÊîØÊåÅÂú® C++„ÄÅJava„ÄÅPython„ÄÅGo„ÄÅRust Âíå JavaScript ‰πãÈó¥Êó†Áºù‰∫§Êç¢Êï∞ÊçÆ„ÄÇxlangÔºàË∑®ËØ≠Ë®ÄÔºâÊ®°ÂºèÁ°Æ‰øùÊâÄÊúâÊîØÊåÅËØ≠Ë®Ä‰πãÈó¥ÁöÑ‰∫åËøõÂà∂ÂÖºÂÆπÊÄß„ÄÇ  ","version":"0.14","tagName":"h2"},{"title":"ÂêØÁî®Ë∑®ËØ≠Ë®ÄÊ®°Âºè‚Äã","type":1,"pageTitle":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/0.14/guide/cpp/cross_language#ÂêØÁî®Ë∑®ËØ≠Ë®ÄÊ®°Âºè","content":" #include &quot;fory/serialization/fory.h&quot; using namespace fory::serialization; auto fory = Fory::builder() .xlang(true) // ÂêØÁî®Ë∑®ËØ≠Ë®ÄÊ®°Âºè .build();   ","version":"0.14","tagName":"h2"},{"title":"Ë∑®ËØ≠Ë®ÄÁ§∫‰æã‚Äã","type":1,"pageTitle":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/0.14/guide/cpp/cross_language#Ë∑®ËØ≠Ë®ÄÁ§∫‰æã","content":" ","version":"0.14","tagName":"h2"},{"title":"C++ Áîü‰∫ßËÄÖ‚Äã","type":1,"pageTitle":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/0.14/guide/cpp/cross_language#c-Áîü‰∫ßËÄÖ","content":" #include &quot;fory/serialization/fory.h&quot; #include &lt;fstream&gt; using namespace fory::serialization; struct Message { std::string topic; int64_t timestamp; std::map&lt;std::string, std::string&gt; headers; std::vector&lt;uint8_t&gt; payload; bool operator==(const Message &amp;other) const { return topic == other.topic &amp;&amp; timestamp == other.timestamp &amp;&amp; headers == other.headers &amp;&amp; payload == other.payload; } }; FORY_STRUCT(Message, topic, timestamp, headers, payload); int main() { auto fory = Fory::builder().xlang(true).build(); fory.register_struct&lt;Message&gt;(100); Message msg{ &quot;events.user&quot;, 1699999999000, {{&quot;content-type&quot;, &quot;application/json&quot;}}, {'h', 'e', 'l', 'l', 'o'} }; auto result = fory.serialize(msg); if (result.ok()) { auto bytes = std::move(result).value(); // ÂÜôÂÖ•Êñá‰ª∂„ÄÅÈÄöËøáÁΩëÁªúÂèëÈÄÅÁ≠â std::ofstream file(&quot;message.bin&quot;, std::ios::binary); file.write(reinterpret_cast&lt;const char*&gt;(bytes.data()), bytes.size()); } return 0; }   ","version":"0.14","tagName":"h3"},{"title":"Java Ê∂àË¥πËÄÖ‚Äã","type":1,"pageTitle":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/0.14/guide/cpp/cross_language#java-Ê∂àË¥πËÄÖ","content":" import org.apache.fory.Fory; import org.apache.fory.config.Language; public class Message { public String topic; public long timestamp; public Map&lt;String, String&gt; headers; public byte[] payload; } public class Consumer { public static void main(String[] args) throws Exception { Fory fory = Fory.builder() .withLanguage(Language.XLANG) .build(); fory.register(Message.class, 100); // ‰∏é C++ Áõ∏ÂêåÁöÑ ID byte[] bytes = Files.readAllBytes(Path.of(&quot;message.bin&quot;)); Message msg = (Message) fory.deserialize(bytes); System.out.println(&quot;Topic: &quot; + msg.topic); System.out.println(&quot;Timestamp: &quot; + msg.timestamp); } }   ","version":"0.14","tagName":"h3"},{"title":"Python Ê∂àË¥πËÄÖ‚Äã","type":1,"pageTitle":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/0.14/guide/cpp/cross_language#python-Ê∂àË¥πËÄÖ","content":" import pyfory class Message: topic: str timestamp: int headers: dict[str, str] payload: bytes fory = pyfory.Fory() fory.register(Message, type_id=100) # ‰∏é C++ Áõ∏ÂêåÁöÑ ID with open(&quot;message.bin&quot;, &quot;rb&quot;) as f: data = f.read() msg = fory.deserialize(data) print(f&quot;Topic: {msg.topic}&quot;) print(f&quot;Timestamp: {msg.timestamp}&quot;)   ","version":"0.14","tagName":"h3"},{"title":"Á±ªÂûãÊò†Â∞Ñ‚Äã","type":1,"pageTitle":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/0.14/guide/cpp/cross_language#Á±ªÂûãÊò†Â∞Ñ","content":" ","version":"0.14","tagName":"h2"},{"title":"Âü∫Êú¨Á±ªÂûã‚Äã","type":1,"pageTitle":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/0.14/guide/cpp/cross_language#Âü∫Êú¨Á±ªÂûã","content":" C++ Á±ªÂûã\tJava Á±ªÂûã\tPython Á±ªÂûã\tGo Á±ªÂûã\tRust Á±ªÂûãbool\tboolean\tbool\tbool\tbool int8_t\tbyte\tint\tint8\ti8 int16_t\tshort\tint\tint16\ti16 int32_t\tint\tint\tint32\ti32 int64_t\tlong\tint\tint64\ti64 float\tfloat\tfloat\tfloat32\tf32 double\tdouble\tfloat\tfloat64\tf64  ","version":"0.14","tagName":"h3"},{"title":"Â≠óÁ¨¶‰∏≤Á±ªÂûã‚Äã","type":1,"pageTitle":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/0.14/guide/cpp/cross_language#Â≠óÁ¨¶‰∏≤Á±ªÂûã","content":" C++ Á±ªÂûã\tJava Á±ªÂûã\tPython Á±ªÂûã\tGo Á±ªÂûã\tRust Á±ªÂûãstd::string\tString\tstr\tstring\tString  ","version":"0.14","tagName":"h3"},{"title":"ÈõÜÂêàÁ±ªÂûã‚Äã","type":1,"pageTitle":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/0.14/guide/cpp/cross_language#ÈõÜÂêàÁ±ªÂûã","content":" C++ Á±ªÂûã\tJava Á±ªÂûã\tPython Á±ªÂûã\tGo Á±ªÂûãstd::vector&lt;T&gt;\tList&lt;T&gt;\tlist\t[]T std::set&lt;T&gt;\tSet&lt;T&gt;\tset\tmap[T]struct{} std::map&lt;K,V&gt;\tMap&lt;K,V&gt;\tdict\tmap[K]V  ","version":"0.14","tagName":"h3"},{"title":"Êó∂Èó¥Á±ªÂûã‚Äã","type":1,"pageTitle":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/0.14/guide/cpp/cross_language#Êó∂Èó¥Á±ªÂûã","content":" C++ Á±ªÂûã\tJava Á±ªÂûã\tPython Á±ªÂûã\tGo Á±ªÂûãTimestamp\tInstant\tdatetime\ttime.Time Duration\tDuration\ttimedelta\ttime.Duration LocalDate\tLocalDate\tdatetime.date\ttime.Time  ","version":"0.14","tagName":"h3"},{"title":"Â≠óÊÆµÈ°∫Â∫èË¶ÅÊ±Ç‚Äã","type":1,"pageTitle":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/0.14/guide/cpp/cross_language#Â≠óÊÆµÈ°∫Â∫èË¶ÅÊ±Ç","content":" ÂÖ≥ÈîÆÔºö Â≠óÊÆµÂ∞ÜÊåâÁÖßÂÖ∂ snake_cased Â≠óÊÆµÂêçÊéíÂ∫èÔºåËΩ¨Êç¢ÂêéÁöÑÂêçÁß∞ÂøÖÈ°ªÂú®ÂêÑËØ≠Ë®Ä‰πãÈó¥‰øùÊåÅ‰∏ÄËá¥  ","version":"0.14","tagName":"h2"},{"title":"C++‚Äã","type":1,"pageTitle":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/0.14/guide/cpp/cross_language#c","content":" struct Person { std::string name; // Â≠óÊÆµ 0 int32_t age; // Â≠óÊÆµ 1 std::string email; // Â≠óÊÆµ 2 }; FORY_STRUCT(Person, name, age, email); // È°∫Â∫èÂæàÈáçË¶ÅÔºÅ   ","version":"0.14","tagName":"h3"},{"title":"Java‚Äã","type":1,"pageTitle":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/0.14/guide/cpp/cross_language#java","content":" public class Person { public String name; // Â≠óÊÆµ 0 public int age; // Â≠óÊÆµ 1 public String email; // Â≠óÊÆµ 2 }   ","version":"0.14","tagName":"h3"},{"title":"Python‚Äã","type":1,"pageTitle":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/0.14/guide/cpp/cross_language#python","content":" class Person: name: str # Â≠óÊÆµ 0 age: int # Â≠óÊÆµ 1 email: str # Â≠óÊÆµ 2   ","version":"0.14","tagName":"h3"},{"title":"Á±ªÂûã ID ‰∏ÄËá¥ÊÄß‚Äã","type":1,"pageTitle":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/0.14/guide/cpp/cross_language#Á±ªÂûã-id-‰∏ÄËá¥ÊÄß","content":" ÊâÄÊúâËØ≠Ë®ÄÂøÖÈ°ª‰ΩøÁî®Áõ∏ÂêåÁöÑÁ±ªÂûã IDÔºö  // C++ fory.register_struct&lt;Person&gt;(100); fory.register_struct&lt;Address&gt;(101); fory.register_struct&lt;Order&gt;(102);   // Java fory.register(Person.class, 100); fory.register(Address.class, 101); fory.register(Order.class, 102);   # Python fory.register(Person, type_id=100) fory.register(Address, type_id=101) fory.register(Order, type_id=102)   ","version":"0.14","tagName":"h2"},{"title":"Compatible Ê®°Âºè‚Äã","type":1,"pageTitle":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/0.14/guide/cpp/cross_language#compatible-Ê®°Âºè","content":" Áî®‰∫éË∑®ËØ≠Ë®ÄËæπÁïåÁöÑ schema ÊºîÂåñÔºö  // ‰ΩøÁî® compatible Ê®°ÂºèÁöÑ C++ auto fory = Fory::builder() .xlang(true) .compatible(true) // ÂêØÁî® schema ÊºîÂåñ .build();   Compatible Ê®°ÂºèÂÖÅËÆ∏Ôºö  Ê∑ªÂä†Êñ∞Â≠óÊÆµÔºàÂ∏¶ÈªòËÆ§ÂÄºÔºâÂà†Èô§Êú™‰ΩøÁî®ÁöÑÂ≠óÊÆµÈáçÊéíÂ≠óÊÆµÈ°∫Â∫è  ","version":"0.14","tagName":"h2"},{"title":"ÊïÖÈöúÊéíÊü•‚Äã","type":1,"pageTitle":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/0.14/guide/cpp/cross_language#ÊïÖÈöúÊéíÊü•","content":" ","version":"0.14","tagName":"h2"},{"title":"Á±ªÂûã‰∏çÂåπÈÖçÈîôËØØ‚Äã","type":1,"pageTitle":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/0.14/guide/cpp/cross_language#Á±ªÂûã‰∏çÂåπÈÖçÈîôËØØ","content":" Error: Type mismatch: expected 100, got 101   Ëß£ÂÜ≥ÊñπÊ°àÔºö Á°Æ‰øùÁ±ªÂûã ID Âú®ÊâÄÊúâËØ≠Ë®Ä‰∏≠ÂåπÈÖç„ÄÇ  ","version":"0.14","tagName":"h3"},{"title":"ÁºñÁ†ÅÈîôËØØ‚Äã","type":1,"pageTitle":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/0.14/guide/cpp/cross_language#ÁºñÁ†ÅÈîôËØØ","content":" Error: Invalid UTF-8 sequence   Ëß£ÂÜ≥ÊñπÊ°àÔºö Á°Æ‰øùÊâÄÊúâËØ≠Ë®Ä‰∏≠ÁöÑÂ≠óÁ¨¶‰∏≤ÈÉΩÊòØÊúâÊïàÁöÑ UTF-8„ÄÇ  ","version":"0.14","tagName":"h3"},{"title":"Áõ∏ÂÖ≥‰∏ªÈ¢ò‚Äã","type":1,"pageTitle":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/0.14/guide/cpp/cross_language#Áõ∏ÂÖ≥‰∏ªÈ¢ò","content":" ÈÖçÁΩÆ - ÊûÑÂª∫Âô®ÈÄâÈ°πÁ±ªÂûãÊ≥®ÂÜå - Ê≥®ÂÜåÁ±ªÂûãÊîØÊåÅÁöÑÁ±ªÂûã - Á±ªÂûãÂÖºÂÆπÊÄß ","version":"0.14","tagName":"h2"},{"title":"Ë°åÊ†ºÂºè","type":0,"sectionRef":"#","url":"/zh-CN/docs/0.14/guide/cpp/row_format","content":"","keywords":"","version":"0.14"},{"title":"Ê¶ÇËø∞‚Äã","type":1,"pageTitle":"Ë°åÊ†ºÂºè","url":"/zh-CN/docs/0.14/guide/cpp/row_format#Ê¶ÇËø∞","content":" Apache Fory‚Ñ¢ Ë°åÊ†ºÂºèÊòØ‰∏ÄÁßçÈíàÂØπ‰ª•‰∏ãÂú∫ÊôØ‰ºòÂåñÁöÑ‰∫åËøõÂà∂Ê†ºÂºèÔºö  ÈöèÊú∫ËÆøÈóÆÔºöÊó†ÈúÄÂèçÂ∫èÂàóÂåñÊï¥‰∏™ÂØπË±°Âç≥ÂèØËØªÂèñ‰ªªÊÑèÂ≠óÊÆµÈõ∂Êã∑Ë¥ùÔºöÊó†Êï∞ÊçÆÂ§çÂà∂ÁöÑÁõ¥Êé•ÂÜÖÂ≠òËÆøÈóÆÁºìÂ≠òÂèãÂ•ΩÔºöËøûÁª≠ÂÜÖÂ≠òÂ∏ÉÂ±ÄÊèêÈ´ò CPU ÁºìÂ≠òÊïàÁéáÂàóÂºèËΩ¨Êç¢ÔºöÊòì‰∫éËΩ¨Êç¢‰∏∫ Apache Arrow Ê†ºÂºèÈÉ®ÂàÜÂ∫èÂàóÂåñÔºöÂè™Â∫èÂàóÂåñÈúÄË¶ÅÁöÑÂ≠óÊÆµ  ","version":"0.14","tagName":"h2"},{"title":"‰ΩïÊó∂‰ΩøÁî®Ë°åÊ†ºÂºè‚Äã","type":1,"pageTitle":"Ë°åÊ†ºÂºè","url":"/zh-CN/docs/0.14/guide/cpp/row_format#‰ΩïÊó∂‰ΩøÁî®Ë°åÊ†ºÂºè","content":" ‰ΩøÁî®Âú∫ÊôØ\tË°åÊ†ºÂºè\tÂØπË±°ÂõæÂàÜÊûê/OLAP\t‚úÖ\t‚ùå ÈöèÊú∫Â≠óÊÆµËÆøÈóÆ\t‚úÖ\t‚ùå ÂÆåÊï¥ÂØπË±°Â∫èÂàóÂåñ\t‚ùå\t‚úÖ Â§çÊùÇÂØπË±°Âõæ\t‚ùå\t‚úÖ ÂºïÁî®Ë∑üË∏™\t‚ùå\t‚úÖ Ë∑®ËØ≠Ë®ÄÔºàÁÆÄÂçïÁ±ªÂûãÔºâ\t‚úÖ\t‚úÖ  ","version":"0.14","tagName":"h2"},{"title":"Âø´ÈÄüÂºÄÂßã‚Äã","type":1,"pageTitle":"Ë°åÊ†ºÂºè","url":"/zh-CN/docs/0.14/guide/cpp/row_format#Âø´ÈÄüÂºÄÂßã","content":" #include &quot;fory/encoder/row_encoder.h&quot; #include &quot;fory/row/writer.h&quot; using namespace fory::row; using namespace fory::row::encoder; // ÂÆö‰πâÁªìÊûÑ‰Ωì struct Person { int32_t id; std::string name; float score; }; // Ê≥®ÂÜåÂ≠óÊÆµÂÖÉÊï∞ÊçÆÔºàË°åÁºñÁ†ÅÂøÖÈúÄÔºâ FORY_FIELD_INFO(Person, id, name, score); int main() { // ÂàõÂª∫ÁºñÁ†ÅÂô® RowEncoder&lt;Person&gt; encoder; // ÁºñÁ†Å‰∏Ä‰∏™ person Person person{1, &quot;Alice&quot;, 95.5f}; encoder.Encode(person); // Ëé∑ÂèñÁºñÁ†ÅÂêéÁöÑË°å auto row = encoder.GetWriter().ToRow(); // ÈöèÊú∫ËÆøÈóÆÂ≠óÊÆµ int32_t id = row-&gt;GetInt32(0); std::string name = row-&gt;GetString(1); float score = row-&gt;GetFloat(2); assert(id == 1); assert(name == &quot;Alice&quot;); assert(score == 95.5f); return 0; }   ","version":"0.14","tagName":"h2"},{"title":"Ë°åÁºñÁ†ÅÂô®‚Äã","type":1,"pageTitle":"Ë°åÊ†ºÂºè","url":"/zh-CN/docs/0.14/guide/cpp/row_format#Ë°åÁºñÁ†ÅÂô®","content":" ","version":"0.14","tagName":"h2"},{"title":"Âü∫Êú¨Áî®Ê≥ï‚Äã","type":1,"pageTitle":"Ë°åÊ†ºÂºè","url":"/zh-CN/docs/0.14/guide/cpp/row_format#Âü∫Êú¨Áî®Ê≥ï","content":" RowEncoder&lt;T&gt; Ê®°ÊùøÁ±ªÊèê‰æõÁ±ªÂûãÂÆâÂÖ®ÁöÑÁºñÁ†ÅÔºö  #include &quot;fory/encoder/row_encoder.h&quot; // ‰ΩøÁî® FORY_FIELD_INFO ÂÆö‰πâÁªìÊûÑ‰Ωì struct Point { double x; double y; }; FORY_FIELD_INFO(Point, x, y); // ÂàõÂª∫ÁºñÁ†ÅÂô® RowEncoder&lt;Point&gt; encoder; // ËÆøÈóÆ schemaÔºàÁî®‰∫éÊ£ÄÊü•Ôºâ const Schema&amp; schema = encoder.GetSchema(); std::cout &lt;&lt; &quot;Fields: &quot; &lt;&lt; schema.field_names().size() &lt;&lt; std::endl; // ÁºñÁ†ÅÂÄº Point p{1.0, 2.0}; encoder.Encode(p); // Ëé∑ÂèñÁªìÊûú‰Ωú‰∏∫ Row auto row = encoder.GetWriter().ToRow();   ","version":"0.14","tagName":"h3"},{"title":"ÂµåÂ•óÁªìÊûÑ‰Ωì‚Äã","type":1,"pageTitle":"Ë°åÊ†ºÂºè","url":"/zh-CN/docs/0.14/guide/cpp/row_format#ÂµåÂ•óÁªìÊûÑ‰Ωì","content":" struct Address { std::string city; std::string country; }; FORY_FIELD_INFO(Address, city, country); struct Person { std::string name; Address address; }; FORY_FIELD_INFO(Person, name, address); // ÁºñÁ†ÅÂµåÂ•óÁªìÊûÑ‰Ωì RowEncoder&lt;Person&gt; encoder; Person person{&quot;Alice&quot;, {&quot;New York&quot;, &quot;USA&quot;}}; encoder.Encode(person); auto row = encoder.GetWriter().ToRow(); std::string name = row-&gt;GetString(0); // ËÆøÈóÆÂµåÂ•óÁªìÊûÑ‰Ωì auto address_row = row-&gt;GetStruct(1); std::string city = address_row-&gt;GetString(0); std::string country = address_row-&gt;GetString(1);   ","version":"0.14","tagName":"h3"},{"title":"Êï∞ÁªÑ / ÂàóË°®‚Äã","type":1,"pageTitle":"Ë°åÊ†ºÂºè","url":"/zh-CN/docs/0.14/guide/cpp/row_format#Êï∞ÁªÑ--ÂàóË°®","content":" struct Record { std::vector&lt;int32_t&gt; values; std::string label; }; FORY_FIELD_INFO(Record, values, label); RowEncoder&lt;Record&gt; encoder; Record record{{1, 2, 3, 4, 5}, &quot;test&quot;}; encoder.Encode(record); auto row = encoder.GetWriter().ToRow(); auto array = row-&gt;GetArray(0); int count = array-&gt;num_elements(); for (int i = 0; i &lt; count; i++) { int32_t value = array-&gt;GetInt32(i); }   ","version":"0.14","tagName":"h3"},{"title":"Áõ¥Êé•ÁºñÁ†ÅÊï∞ÁªÑ‚Äã","type":1,"pageTitle":"Ë°åÊ†ºÂºè","url":"/zh-CN/docs/0.14/guide/cpp/row_format#Áõ¥Êé•ÁºñÁ†ÅÊï∞ÁªÑ","content":" // Áõ¥Êé•ÁºñÁ†Å vectorÔºà‰∏çÂú®ÁªìÊûÑ‰ΩìÂÜÖÔºâ std::vector&lt;Person&gt; people{ {&quot;Alice&quot;, {&quot;NYC&quot;, &quot;USA&quot;}}, {&quot;Bob&quot;, {&quot;London&quot;, &quot;UK&quot;}} }; RowEncoder&lt;decltype(people)&gt; encoder; encoder.Encode(people); // Ëé∑ÂèñÊï∞ÁªÑÊï∞ÊçÆ auto array = encoder.GetWriter().CopyToArrayData(); auto first_person = array-&gt;GetStruct(0); std::string first_name = first_person-&gt;GetString(0);   ","version":"0.14","tagName":"h3"},{"title":"Ë°åÊï∞ÊçÆËÆøÈóÆ‚Äã","type":1,"pageTitle":"Ë°åÊ†ºÂºè","url":"/zh-CN/docs/0.14/guide/cpp/row_format#Ë°åÊï∞ÊçÆËÆøÈóÆ","content":" ","version":"0.14","tagName":"h2"},{"title":"Row Á±ª‚Äã","type":1,"pageTitle":"Ë°åÊ†ºÂºè","url":"/zh-CN/docs/0.14/guide/cpp/row_format#row-Á±ª","content":" Row Á±ªÊèê‰æõÂØπÁªìÊûÑ‰ΩìÂ≠óÊÆµÁöÑÈöèÊú∫ËÆøÈóÆÔºö  class Row { public: // Á©∫ÂÄºÊ£ÄÊü• bool IsNullAt(int i) const; // Âü∫Êú¨Á±ªÂûã getter bool GetBoolean(int i) const; int8_t GetInt8(int i) const; int16_t GetInt16(int i) const; int32_t GetInt32(int i) const; int64_t GetInt64(int i) const; float GetFloat(int i) const; double GetDouble(int i) const; // Â≠óÁ¨¶‰∏≤/‰∫åËøõÂà∂ getter std::string GetString(int i) const; std::vector&lt;uint8_t&gt; GetBinary(int i) const; // ÂµåÂ•óÁ±ªÂûã std::shared_ptr&lt;Row&gt; GetStruct(int i) const; std::shared_ptr&lt;ArrayData&gt; GetArray(int i) const; std::shared_ptr&lt;MapData&gt; GetMap(int i) const; // ÂÖÉÊï∞ÊçÆ int num_fields() const; SchemaPtr schema() const; // Ë∞ÉËØï std::string ToString() const; };   ","version":"0.14","tagName":"h3"},{"title":"ArrayData Á±ª‚Äã","type":1,"pageTitle":"Ë°åÊ†ºÂºè","url":"/zh-CN/docs/0.14/guide/cpp/row_format#arraydata-Á±ª","content":" ArrayData Á±ªÊèê‰æõÂØπÂàóË°®/Êï∞ÁªÑÂÖÉÁ¥†ÁöÑËÆøÈóÆÔºö  class ArrayData { public: // Á©∫ÂÄºÊ£ÄÊü• bool IsNullAt(int i) const; // ÂÖÉÁ¥†Êï∞Èáè int num_elements() const; // Âü∫Êú¨Á±ªÂûã getterÔºà‰∏é Row Áõ∏ÂêåÔºâ int32_t GetInt32(int i) const; // ... ÂÖ∂‰ªñÂü∫Êú¨Á±ªÂûã // Â≠óÁ¨¶‰∏≤ getter std::string GetString(int i) const; // ÂµåÂ•óÁ±ªÂûã std::shared_ptr&lt;Row&gt; GetStruct(int i) const; std::shared_ptr&lt;ArrayData&gt; GetArray(int i) const; std::shared_ptr&lt;MapData&gt; GetMap(int i) const; // Á±ªÂûã‰ø°ÊÅØ ListTypePtr type() const; };   ","version":"0.14","tagName":"h3"},{"title":"MapData Á±ª‚Äã","type":1,"pageTitle":"Ë°åÊ†ºÂºè","url":"/zh-CN/docs/0.14/guide/cpp/row_format#mapdata-Á±ª","content":" MapData Á±ªÊèê‰æõÂØπ map ÈîÆÂÄºÂØπÁöÑËÆøÈóÆÔºö  class MapData { public: // ÂÖÉÁ¥†Êï∞Èáè int num_elements(); // ‰ª•Êï∞ÁªÑÂΩ¢ÂºèËÆøÈóÆÈîÆÂíåÂÄº std::shared_ptr&lt;ArrayData&gt; keys_array(); std::shared_ptr&lt;ArrayData&gt; values_array(); // Á±ªÂûã‰ø°ÊÅØ MapTypePtr type(); };   ","version":"0.14","tagName":"h3"},{"title":"Schema ÂíåÁ±ªÂûã‚Äã","type":1,"pageTitle":"Ë°åÊ†ºÂºè","url":"/zh-CN/docs/0.14/guide/cpp/row_format#schema-ÂíåÁ±ªÂûã","content":" ","version":"0.14","tagName":"h2"},{"title":"Schema ÂÆö‰πâ‚Äã","type":1,"pageTitle":"Ë°åÊ†ºÂºè","url":"/zh-CN/docs/0.14/guide/cpp/row_format#schema-ÂÆö‰πâ","content":" Schema ÂÆö‰πâË°åÊï∞ÊçÆÁöÑÁªìÊûÑÔºö  #include &quot;fory/row/schema.h&quot; using namespace fory::row; // ‰ª•ÁºñÁ®ãÊñπÂºèÂàõÂª∫ schema auto person_schema = schema({ field(&quot;id&quot;, int32()), field(&quot;name&quot;, utf8()), field(&quot;score&quot;, float32()), field(&quot;active&quot;, boolean()) }); // ËÆøÈóÆ schema ‰ø°ÊÅØ for (const auto&amp; f : person_schema-&gt;fields()) { std::cout &lt;&lt; f-&gt;name() &lt;&lt; &quot;: &quot; &lt;&lt; f-&gt;type()-&gt;name() &lt;&lt; std::endl; }   ","version":"0.14","tagName":"h3"},{"title":"Á±ªÂûãÁ≥ªÁªü‚Äã","type":1,"pageTitle":"Ë°åÊ†ºÂºè","url":"/zh-CN/docs/0.14/guide/cpp/row_format#Á±ªÂûãÁ≥ªÁªü","content":" Ë°åÊ†ºÂºèÂèØÁî®ÁöÑÁ±ªÂûãÔºö  // Âü∫Êú¨Á±ªÂûã DataTypePtr boolean(); // bool DataTypePtr int8(); // int8_t DataTypePtr int16(); // int16_t DataTypePtr int32(); // int32_t DataTypePtr int64(); // int64_t DataTypePtr float32(); // float DataTypePtr float64(); // double // Â≠óÁ¨¶‰∏≤Âíå‰∫åËøõÂà∂ DataTypePtr utf8(); // std::string DataTypePtr binary(); // std::vector&lt;uint8_t&gt; // Â§çÊùÇÁ±ªÂûã DataTypePtr list(DataTypePtr element_type); DataTypePtr map(DataTypePtr key_type, DataTypePtr value_type); DataTypePtr struct_(std::vector&lt;FieldPtr&gt; fields);   ","version":"0.14","tagName":"h3"},{"title":"Á±ªÂûãÊé®Êñ≠‚Äã","type":1,"pageTitle":"Ë°åÊ†ºÂºè","url":"/zh-CN/docs/0.14/guide/cpp/row_format#Á±ªÂûãÊé®Êñ≠","content":" RowEncodeTrait Ê®°ÊùøËá™Âä®Êé®Êñ≠Á±ªÂûãÔºö  // Âü∫Êú¨Á±ªÂûãÁöÑÁ±ªÂûãÊé®Êñ≠ RowEncodeTrait&lt;int32_t&gt;::Type(); // ËøîÂõû int32() RowEncodeTrait&lt;float&gt;::Type(); // ËøîÂõû float32() RowEncodeTrait&lt;std::string&gt;::Type(); // ËøîÂõû utf8() // ÈõÜÂêàÁöÑÁ±ªÂûãÊé®Êñ≠ RowEncodeTrait&lt;std::vector&lt;int32_t&gt;&gt;::Type(); // ËøîÂõû list(int32()) // map ÁöÑÁ±ªÂûãÊé®Êñ≠ RowEncodeTrait&lt;std::map&lt;std::string, int32_t&gt;&gt;::Type(); // ËøîÂõû map(utf8(), int32()) // ÁªìÊûÑ‰ΩìÁöÑÁ±ªÂûãÊé®Êñ≠ÔºàÈúÄË¶Å FORY_FIELD_INFOÔºâ RowEncodeTrait&lt;Person&gt;::Type(); // ËøîÂõû struct_({...}) RowEncodeTrait&lt;Person&gt;::Schema(); // ËøîÂõû schema({...})   ","version":"0.14","tagName":"h3"},{"title":"Ë°åÂÜôÂÖ•Âô®‚Äã","type":1,"pageTitle":"Ë°åÊ†ºÂºè","url":"/zh-CN/docs/0.14/guide/cpp/row_format#Ë°åÂÜôÂÖ•Âô®","content":" ","version":"0.14","tagName":"h2"},{"title":"RowWriter‚Äã","type":1,"pageTitle":"Ë°åÊ†ºÂºè","url":"/zh-CN/docs/0.14/guide/cpp/row_format#rowwriter","content":" Áî®‰∫éÊâãÂä®ÊûÑÈÄ†Ë°åÔºö  #include &quot;fory/row/writer.h&quot; // ÂàõÂª∫ schema auto my_schema = schema({ field(&quot;x&quot;, int32()), field(&quot;y&quot;, float64()), field(&quot;name&quot;, utf8()) }); // ÂàõÂª∫ÂÜôÂÖ•Âô® RowWriter writer(my_schema); writer.Reset(); // ÂÜôÂÖ•Â≠óÊÆµ writer.Write(0, 42); // x = 42 writer.Write(1, 3.14); // y = 3.14 writer.WriteString(2, &quot;test&quot;); // name = &quot;test&quot; // Ëé∑ÂèñÁªìÊûú auto row = writer.ToRow();   ","version":"0.14","tagName":"h3"},{"title":"ArrayWriter‚Äã","type":1,"pageTitle":"Ë°åÊ†ºÂºè","url":"/zh-CN/docs/0.14/guide/cpp/row_format#arraywriter","content":" Áî®‰∫éÊâãÂä®ÊûÑÈÄ†Êï∞ÁªÑÔºö  // ÂàõÂª∫Êï∞ÁªÑÁ±ªÂûã auto array_type = list(int32()); // ÂàõÂª∫ÂÜôÂÖ•Âô® ArrayWriter writer(array_type); writer.Reset(5); // 5 ‰∏™ÂÖÉÁ¥† // ÂÜôÂÖ•ÂÖÉÁ¥† for (int i = 0; i &lt; 5; i++) { writer.Write(i, i * 10); } // Ëé∑ÂèñÁªìÊûú auto array = writer.CopyToArrayData();   ","version":"0.14","tagName":"h3"},{"title":"Á©∫ÂÄº‚Äã","type":1,"pageTitle":"Ë°åÊ†ºÂºè","url":"/zh-CN/docs/0.14/guide/cpp/row_format#Á©∫ÂÄº","content":" // Âú®ÁâπÂÆöÁ¥¢ÂºïÂ§ÑËÆæÁΩÆÁ©∫ÂÄº writer.SetNullAt(2); // Â≠óÊÆµ 2 ‰∏∫Á©∫ // ËØªÂèñÊó∂Ê£ÄÊü•Á©∫ÂÄº if (!row-&gt;IsNullAt(2)) { std::string value = row-&gt;GetString(2); }   ","version":"0.14","tagName":"h3"},{"title":"ÂÜÖÂ≠òÂ∏ÉÂ±Ä‚Äã","type":1,"pageTitle":"Ë°åÊ†ºÂºè","url":"/zh-CN/docs/0.14/guide/cpp/row_format#ÂÜÖÂ≠òÂ∏ÉÂ±Ä","content":" ","version":"0.14","tagName":"h2"},{"title":"Ë°åÂ∏ÉÂ±Ä‚Äã","type":1,"pageTitle":"Ë°åÊ†ºÂºè","url":"/zh-CN/docs/0.14/guide/cpp/row_format#Ë°åÂ∏ÉÂ±Ä","content":" +------------------+--------------------+--------------------+ | Á©∫ÂÄº‰ΩçÂõæ | Âõ∫ÂÆöÂ§ßÂ∞èÊï∞ÊçÆ | ÂèòÈïøÊï∞ÊçÆ | +------------------+--------------------+--------------------+ | ceil(n/8) B | 8 * n Â≠óËäÇ | ÂèØÂèò | +------------------+--------------------+--------------------+   Á©∫ÂÄº‰ΩçÂõæÔºöÊØèÂ≠óÊÆµ‰∏Ä‰ΩçÔºåÊåáÁ§∫Á©∫ÂÄºÂõ∫ÂÆöÂ§ßÂ∞èÊï∞ÊçÆÔºöÊØèÂ≠óÊÆµ 8 Â≠óËäÇÔºàÂü∫Êú¨Á±ªÂûãÁõ¥Êé•Â≠òÂÇ®ÔºåÂèòÈïøÁ±ªÂûãÂ≠òÂÇ®ÂÅèÁßªÈáè+Â§ßÂ∞èÔºâÂèòÈïøÊï∞ÊçÆÔºöÂ≠óÁ¨¶‰∏≤„ÄÅÊï∞ÁªÑ„ÄÅÂµåÂ•óÁªìÊûÑ‰Ωì  ","version":"0.14","tagName":"h3"},{"title":"Êï∞ÁªÑÂ∏ÉÂ±Ä‚Äã","type":1,"pageTitle":"Ë°åÊ†ºÂºè","url":"/zh-CN/docs/0.14/guide/cpp/row_format#Êï∞ÁªÑÂ∏ÉÂ±Ä","content":" +------------+------------------+--------------------+--------------------+ | ÂÖÉÁ¥†Êï∞Èáè | Á©∫ÂÄº‰ΩçÂõæ | Âõ∫ÂÆöÂ§ßÂ∞èÊï∞ÊçÆ | ÂèòÈïøÊï∞ÊçÆ | +------------+------------------+--------------------+--------------------+ | 8 Â≠óËäÇ | ceil(n/8) Â≠óËäÇ | elem_size * n | ÂèØÂèò | +------------+------------------+--------------------+--------------------+   ","version":"0.14","tagName":"h3"},{"title":"Map Â∏ÉÂ±Ä‚Äã","type":1,"pageTitle":"Ë°åÊ†ºÂºè","url":"/zh-CN/docs/0.14/guide/cpp/row_format#map-Â∏ÉÂ±Ä","content":" +------------------+------------------+ | ÈîÆÊï∞ÁªÑ | ÂÄºÊï∞ÁªÑ | +------------------+------------------+   ","version":"0.14","tagName":"h3"},{"title":"ÊÄßËÉΩÊèêÁ§∫‚Äã","type":1,"pageTitle":"Ë°åÊ†ºÂºè","url":"/zh-CN/docs/0.14/guide/cpp/row_format#ÊÄßËÉΩÊèêÁ§∫","content":" ","version":"0.14","tagName":"h2"},{"title":"1. Â§çÁî®ÁºñÁ†ÅÂô®‚Äã","type":1,"pageTitle":"Ë°åÊ†ºÂºè","url":"/zh-CN/docs/0.14/guide/cpp/row_format#1-Â§çÁî®ÁºñÁ†ÅÂô®","content":" RowEncoder&lt;Person&gt; encoder; // ÁºñÁ†ÅÂ§öÊù°ËÆ∞ÂΩï for (const auto&amp; person : people) { encoder.Encode(person); auto row = encoder.GetWriter().ToRow(); // Â§ÑÁêÜ row... }   ","version":"0.14","tagName":"h3"},{"title":"2. È¢ÑÂàÜÈÖçÁºìÂÜ≤Âå∫‚Äã","type":1,"pageTitle":"Ë°åÊ†ºÂºè","url":"/zh-CN/docs/0.14/guide/cpp/row_format#2-È¢ÑÂàÜÈÖçÁºìÂÜ≤Âå∫","content":" // Ëé∑ÂèñÁºìÂÜ≤Âå∫ÂºïÁî®ËøõË°åÈ¢ÑÂàÜÈÖç auto&amp; buffer = encoder.GetWriter().buffer(); buffer-&gt;Reserve(expected_size);   ","version":"0.14","tagName":"h3"},{"title":"3. ÊâπÈáèÂ§ÑÁêÜ‚Äã","type":1,"pageTitle":"Ë°åÊ†ºÂºè","url":"/zh-CN/docs/0.14/guide/cpp/row_format#3-ÊâπÈáèÂ§ÑÁêÜ","content":" // ÊâπÈáèÂ§ÑÁêÜ‰ª•ÊèêÈ´òÁºìÂ≠òÂà©Áî®Áéá std::vector&lt;Person&gt; batch; batch.reserve(BATCH_SIZE); while (hasMore()) { batch.clear(); fillBatch(batch); for (const auto&amp; person : batch) { encoder.Encode(person); process(encoder.GetWriter().ToRow()); } }   ","version":"0.14","tagName":"h3"},{"title":"4. Èõ∂Êã∑Ë¥ùËØªÂèñ‚Äã","type":1,"pageTitle":"Ë°åÊ†ºÂºè","url":"/zh-CN/docs/0.14/guide/cpp/row_format#4-Èõ∂Êã∑Ë¥ùËØªÂèñ","content":" // ÊåáÂêëÁé∞ÊúâÁºìÂÜ≤Âå∫ÔºàÈõ∂Êã∑Ë¥ùÔºâ Row row(schema); row.PointTo(buffer, offset, size); // Áõ¥Êé•‰ªéÁºìÂÜ≤Âå∫ËÆøÈóÆÂ≠óÊÆµ int32_t id = row.GetInt32(0);   ","version":"0.14","tagName":"h3"},{"title":"ÊîØÊåÅÁ±ªÂûãÊ±áÊÄª‚Äã","type":1,"pageTitle":"Ë°åÊ†ºÂºè","url":"/zh-CN/docs/0.14/guide/cpp/row_format#ÊîØÊåÅÁ±ªÂûãÊ±áÊÄª","content":" C++ Á±ªÂûã\tË°åÁ±ªÂûã\tÂõ∫ÂÆöÂ§ßÂ∞èbool\tboolean()\t1 Â≠óËäÇ int8_t\tint8()\t1 Â≠óËäÇ int16_t\tint16()\t2 Â≠óËäÇ int32_t\tint32()\t4 Â≠óËäÇ int64_t\tint64()\t8 Â≠óËäÇ float\tfloat32()\t4 Â≠óËäÇ double\tfloat64()\t8 Â≠óËäÇ std::string\tutf8()\tÂèØÂèò std::vector&lt;T&gt;\tlist(T)\tÂèØÂèò std::map&lt;K,V&gt;\tmap(K,V)\tÂèØÂèò std::optional&lt;T&gt;\tÂÜÖÈÉ®Á±ªÂûã\tÂèØÁ©∫ ÁªìÊûÑ‰Ωì (FORY_FIELD_INFO)\tstruct_({...})\tÂèØÂèò  ","version":"0.14","tagName":"h2"},{"title":"Áõ∏ÂÖ≥‰∏ªÈ¢ò‚Äã","type":1,"pageTitle":"Ë°åÊ†ºÂºè","url":"/zh-CN/docs/0.14/guide/cpp/row_format#Áõ∏ÂÖ≥‰∏ªÈ¢ò","content":" Âü∫Á°ÄÂ∫èÂàóÂåñ - ÂØπË±°ÂõæÂ∫èÂàóÂåñÈÖçÁΩÆ - ÊûÑÂª∫Âô®ÈÄâÈ°πÊîØÊåÅÁöÑÁ±ªÂûã - ÊâÄÊúâÊîØÊåÅÁöÑÁ±ªÂûã ","version":"0.14","tagName":"h2"},{"title":"ÂºÄÂèëÊåáÂçó","type":0,"sectionRef":"#","url":"/zh-CN/docs/0.14/guide/development","content":"","keywords":"","version":"0.14"},{"title":"Â¶Ç‰ΩïÊûÑÂª∫ Apache Fory‚Ñ¢‚Äã","type":1,"pageTitle":"ÂºÄÂèëÊåáÂçó","url":"/zh-CN/docs/0.14/guide/development#Â¶Ç‰ΩïÊûÑÂª∫-apache-fory","content":" ËØ∑‰ªé https://github.com/apache/fory Ê£ÄÂá∫Ê∫ê‰ª£Á†ÅÊ†ë„ÄÇ  ","version":"0.14","tagName":"h2"},{"title":"ÊûÑÂª∫ Apache Fory‚Ñ¢ Java‚Äã","type":1,"pageTitle":"ÂºÄÂèëÊåáÂçó","url":"/zh-CN/docs/0.14/guide/development#ÊûÑÂª∫-apache-fory-java","content":" cd java mvn clean compile -DskipTests   ÁéØÂ¢ÉË¶ÅÊ±Ç‚Äã  java 1.8+maven 3.6.3+  ","version":"0.14","tagName":"h3"},{"title":"ÊûÑÂª∫ Apache Fory‚Ñ¢ Python‚Äã","type":1,"pageTitle":"ÂºÄÂèëÊåáÂçó","url":"/zh-CN/docs/0.14/guide/development#ÊûÑÂª∫-apache-fory-python","content":" cd python # È¶ñÂÖàÂç∏ËΩΩ numpyÔºå‰ª•‰æøÂú®ÂÆâË£Ö pyarrow Êó∂Ëá™Âä®ÂÆâË£ÖÊ≠£Á°ÆÁöÑ numpy ÁâàÊú¨„ÄÇ # ÂØπ‰∫é Python ÁâàÊú¨‰Ωé‰∫é 3.13ÔºåÁõÆÂâç‰∏çÊîØÊåÅ numpy 2„ÄÇ pip uninstall -y numpy # ‰∏∫ Python &lt; 3.13 ÂÆâË£ÖÂøÖË¶ÅÁöÑÁéØÂ¢É„ÄÇ pip install pyarrow Cython wheel pytest # pip install pyarrow Cython wheel pytest pip install -v -e .   ÁéØÂ¢ÉË¶ÅÊ±Ç‚Äã  python 3.6+  ","version":"0.14","tagName":"h3"},{"title":"ÊûÑÂª∫ Apache Fory‚Ñ¢ C++‚Äã","type":1,"pageTitle":"ÂºÄÂèëÊåáÂçó","url":"/zh-CN/docs/0.14/guide/development#ÊûÑÂª∫-apache-fory-c","content":" ÊûÑÂª∫ fory Ë°åÊ†ºÂºèÔºö  bazel build //cpp/fory/row:fory_row_format   ÊûÑÂª∫ fory Ë°åÊ†ºÂºèÁºñÁ†ÅÂô®Ôºö  bazel build //cpp/fory/encoder:fory_encoder   ÁéØÂ¢ÉË¶ÅÊ±Ç‚Äã  ÊîØÊåÅ C++17 ÁöÑÁºñËØëÂô®bazel 6.3.2  ","version":"0.14","tagName":"h3"},{"title":"ÊûÑÂª∫ Apache Fory‚Ñ¢ GoLang‚Äã","type":1,"pageTitle":"ÂºÄÂèëÊåáÂçó","url":"/zh-CN/docs/0.14/guide/development#ÊûÑÂª∫-apache-fory-golang","content":" cd go/fory # ËøêË°åÊµãËØï go test -v ./... # ËøêË°åË∑®ËØ≠Ë®ÄÊµãËØï go test -v fory_xlang_test.go   ÁéØÂ¢ÉË¶ÅÊ±Ç‚Äã  go 1.13+  ","version":"0.14","tagName":"h3"},{"title":"ÊûÑÂª∫ Apache Fory‚Ñ¢ Rust‚Äã","type":1,"pageTitle":"ÂºÄÂèëÊåáÂçó","url":"/zh-CN/docs/0.14/guide/development#ÊûÑÂª∫-apache-fory-rust","content":" cd rust # ÊûÑÂª∫ cargo build # ËøêË°åÊµãËØï cargo test # ËøêË°åÁâπÂÆöÊµãËØï cargo test -p tests --test $test_file $test_method # ËøêË°åÂ≠êÁõÆÂΩï‰∏ãÁöÑÁâπÂÆöÊµãËØï cargo test --test mod $dir$::$test_file::$test_method # Ë∞ÉËØïÂ≠êÁõÆÂΩï‰∏ãÁöÑÁâπÂÆöÊµãËØïÂπ∂Ëé∑ÂèñÂõûÊ∫Ø‰ø°ÊÅØ RUST_BACKTRACE=1 FORY_PANIC_ON_ERROR=1 cargo test --test mod $dir$::$test_file::$test_method # Ê£ÄÊü• fory derive ÂÆèÁîüÊàêÁöÑ‰ª£Á†Å cargo expand --test mod $mod$::$file$ &gt; expanded.rs   ÁéØÂ¢ÉË¶ÅÊ±Ç‚Äã  curl --proto '=https' --tlsv1.2 -sSf https://sh.rustup.rs | sh   ","version":"0.14","tagName":"h3"},{"title":"ÊûÑÂª∫ Apache Fory‚Ñ¢ JavaScript‚Äã","type":1,"pageTitle":"ÂºÄÂèëÊåáÂçó","url":"/zh-CN/docs/0.14/guide/development#ÊûÑÂª∫-apache-fory-javascript","content":" cd javascript npm install # ËøêË°åÊûÑÂª∫ npm run build # ËøêË°åÊµãËØï npm run test   ÁéØÂ¢ÉË¶ÅÊ±Ç‚Äã  node 14+npm 8+  ","version":"0.14","tagName":"h3"},{"title":"Lint Markdown ÊñáÊ°£‚Äã","type":1,"pageTitle":"ÂºÄÂèëÊåáÂçó","url":"/zh-CN/docs/0.14/guide/development#lint-markdown-ÊñáÊ°£","content":" # ÂÖ®Â±ÄÂÆâË£Ö prettier npm install -g prettier # Ê†ºÂºèÂåñ markdown Êñá‰ª∂ prettier --write &quot;**/*.md&quot;   ÁéØÂ¢ÉË¶ÅÊ±Ç‚Äã  node 14+npm 8+  ","version":"0.14","tagName":"h3"},{"title":"Ë¥°ÁåÆ‚Äã","type":1,"pageTitle":"ÂºÄÂèëÊåáÂçó","url":"/zh-CN/docs/0.14/guide/development#Ë¥°ÁåÆ","content":" Êõ¥Â§ö‰ø°ÊÅØÔºåËØ∑ÂèÇËÄÉÂ¶Ç‰ΩïË¥°ÁåÆÂà∞ Apache Fory‚Ñ¢„ÄÇ ","version":"0.14","tagName":"h2"},{"title":"Á±ªÂûãÊ≥®ÂÜå","type":0,"sectionRef":"#","url":"/zh-CN/docs/0.14/guide/cpp/type_registration","content":"","keywords":"","version":"0.14"},{"title":"Ê¶ÇËø∞‚Äã","type":1,"pageTitle":"Á±ªÂûãÊ≥®ÂÜå","url":"/zh-CN/docs/0.14/guide/cpp/type_registration#Ê¶ÇËø∞","content":" Apache Fory‚Ñ¢ Ë¶ÅÊ±ÇÊòæÂºèÊ≥®ÂÜåÁªìÊûÑ‰ΩìÁ±ªÂûã„ÄÇËøôÁßçËÆæËÆ°‰ΩøÂæóÔºö  Ë∑®ËØ≠Ë®ÄÂÖºÂÆπÊÄßÔºöÊ≥®ÂÜåÁöÑÁ±ªÂûã ID Ë∑®ËØ≠Ë®ÄËæπÁïå‰ΩøÁî®Á±ªÂûãÂÆâÂÖ®ÔºöÂú®ÂèçÂ∫èÂàóÂåñÊó∂Ê£ÄÊµãÁ±ªÂûã‰∏çÂåπÈÖçÂ§öÊÄÅÂ∫èÂàóÂåñÔºöÈÄöËøáÊô∫ËÉΩÊåáÈíàÂêØÁî®Â§öÊÄÅÂØπË±°ÁöÑÂ∫èÂàóÂåñ  ","version":"0.14","tagName":"h2"},{"title":"Ê≥®ÂÜåÁªìÊûÑ‰Ωì‚Äã","type":1,"pageTitle":"Á±ªÂûãÊ≥®ÂÜå","url":"/zh-CN/docs/0.14/guide/cpp/type_registration#Ê≥®ÂÜåÁªìÊûÑ‰Ωì","content":" ‰ΩøÁî® register_struct&lt;T&gt;(type_id) Ê≥®ÂÜåÁªìÊûÑ‰ΩìÁ±ªÂûãÔºö  #include &quot;fory/serialization/fory.h&quot; using namespace fory::serialization; struct Person { std::string name; int32_t age; }; FORY_STRUCT(Person, name, age); int main() { auto fory = Fory::builder().xlang(true).build(); // ‰ΩøÁî®ÂîØ‰∏ÄÁöÑÁ±ªÂûã ID Ê≥®ÂÜå fory.register_struct&lt;Person&gt;(100); Person person{&quot;Alice&quot;, 30}; auto bytes = fory.serialize(person).value(); auto decoded = fory.deserialize&lt;Person&gt;(bytes).value(); }   ","version":"0.14","tagName":"h2"},{"title":"Á±ªÂûã ID ÊåáÂçó‚Äã","type":1,"pageTitle":"Á±ªÂûãÊ≥®ÂÜå","url":"/zh-CN/docs/0.14/guide/cpp/type_registration#Á±ªÂûã-id-ÊåáÂçó","content":" Á±ªÂûã ID ÂøÖÈ°ªÔºö  ÂîØ‰∏ÄÔºöÊØè‰∏™Á±ªÂûãÂú® Fory ÂÆû‰æã‰∏≠ÂøÖÈ°ªÊúâÂîØ‰∏ÄÁöÑ ID‰∏ÄËá¥ÔºöÂøÖÈ°ªÂú®ÊâÄÊúâËØ≠Ë®ÄÂíåÁâàÊú¨‰∏≠‰ΩøÁî®Áõ∏ÂêåÁöÑ ID  Áî®Êà∑Ê≥®ÂÜåÁöÑÁ±ªÂûã ID ‰∏éÂÜÖÁΩÆÁ±ªÂûã ID Âú®‰∏çÂêåÁöÑÂëΩÂêçÁ©∫Èó¥‰∏≠ÔºåÂõ†Ê≠§ÂèØ‰ª•‰ªé 0 ÂºÄÂßãÔºö  // Áî®Êà∑Á±ªÂûã ID ÂèØ‰ª•‰ªé 0 ÂºÄÂßã fory.register_struct&lt;Address&gt;(0); fory.register_struct&lt;Person&gt;(1); fory.register_struct&lt;Order&gt;(2);   ","version":"0.14","tagName":"h2"},{"title":"Ê≥®ÂÜåÊûö‰∏æ‚Äã","type":1,"pageTitle":"Á±ªÂûãÊ≥®ÂÜå","url":"/zh-CN/docs/0.14/guide/cpp/type_registration#Ê≥®ÂÜåÊûö‰∏æ","content":" ‰ΩøÁî® register_enum&lt;T&gt;(type_id) Ê≥®ÂÜåÊûö‰∏æÁ±ªÂûã„ÄÇÂØπ‰∫é‰ªé 0 ÂºÄÂßãËøûÁª≠ÂÄºÁöÑÁÆÄÂçïÊûö‰∏æÔºå‰∏çÈúÄË¶ÅÂÆèÔºö  // ÁÆÄÂçïËøûÁª≠Êûö‰∏æ - ‰∏çÈúÄË¶Å FORY_ENUM enum class Color { RED, GREEN, BLUE }; // ÂÄºÔºö0„ÄÅ1„ÄÅ2 // ‰ΩøÁî® register_enum Ê≥®ÂÜå fory.register_enum&lt;Color&gt;(0);   ÂØπ‰∫éÂÖ∑ÊúâÈùûËøûÁª≠ÂÄºÁöÑÊûö‰∏æÔºå‰ΩøÁî® FORY_ENUM ÂÆèÂ∞ÜÂÄºÊò†Â∞ÑÂà∞Â∫èÂè∑Ôºö  // ÈùûËøûÁª≠Êûö‰∏æÂÄº - ÈúÄË¶Å FORY_ENUM enum class Priority { LOW = 10, MEDIUM = 50, HIGH = 100 }; FORY_ENUM(Priority, LOW, MEDIUM, HIGH); // ÂÖ®Â±ÄÂëΩÂêçÁ©∫Èó¥Êûö‰∏æÔºàÂâçÁºÄ ::Ôºâ enum LegacyStatus { UNKNOWN = -1, OK = 0, ERROR = 1 }; FORY_ENUM(::LegacyStatus, UNKNOWN, OK, ERROR); // FORY_ENUM ÂêéÊ≥®ÂÜå fory.register_enum&lt;Priority&gt;(1); fory.register_enum&lt;LegacyStatus&gt;(2);   ‰ΩïÊó∂‰ΩøÁî® FORY_ENUMÔºö  Êûö‰∏æÂÄº‰∏ç‰ªé 0 ÂºÄÂßãÊûö‰∏æÂÄº‰∏çËøûÁª≠Ôºà‰æãÂ¶Ç 10„ÄÅ50„ÄÅ100ÔºâÈúÄË¶ÅÂú®ÁºñËØëÊó∂ËøõË°åÂêçÁß∞Âà∞ÂÄºÁöÑÊò†Â∞Ñ  ","version":"0.14","tagName":"h2"},{"title":"Á∫øÁ®ãÂÆâÂÖ®Ê≥®ÂÜå‚Äã","type":1,"pageTitle":"Á±ªÂûãÊ≥®ÂÜå","url":"/zh-CN/docs/0.14/guide/cpp/type_registration#Á∫øÁ®ãÂÆâÂÖ®Ê≥®ÂÜå","content":" ÂØπ‰∫é ThreadSafeForyÔºåÂú®ÁîüÊàêÁ∫øÁ®ã‰πãÂâçÊ≥®ÂÜåÁ±ªÂûãÔºö  auto fory = Fory::builder().xlang(true).build_thread_safe(); // È¶ñÂÖàÊ≥®ÂÜåÊâÄÊúâÁ±ªÂûã fory.register_struct&lt;TypeA&gt;(100); fory.register_struct&lt;TypeB&gt;(101); // Áé∞Âú®ÂèØ‰ª•‰ªéÂ§ö‰∏™Á∫øÁ®ãÂÆâÂÖ®‰ΩøÁî® std::thread t1([&amp;]() { auto result = fory.serialize(obj_a); }); std::thread t2([&amp;]() { auto result = fory.serialize(obj_b); });   ","version":"0.14","tagName":"h2"},{"title":"Ë∑®ËØ≠Ë®ÄÊ≥®ÂÜå‚Äã","type":1,"pageTitle":"Á±ªÂûãÊ≥®ÂÜå","url":"/zh-CN/docs/0.14/guide/cpp/type_registration#Ë∑®ËØ≠Ë®ÄÊ≥®ÂÜå","content":" ‰∏∫‰∫ÜË∑®ËØ≠Ë®ÄÂÖºÂÆπÊÄßÔºåÁ°Æ‰øùÔºö  Áõ∏ÂêåÁ±ªÂûã IDÔºöÂú®ÊâÄÊúâËØ≠Ë®Ä‰∏≠‰ΩøÁî®Áõ∏ÂêåÁöÑ IDÂÖºÂÆπÁ±ªÂûãÔºöË∑®ËØ≠Ë®Ä‰ΩøÁî®Á≠âÊïàÁ±ªÂûã  ","version":"0.14","tagName":"h2"},{"title":"Java‚Äã","type":1,"pageTitle":"Á±ªÂûãÊ≥®ÂÜå","url":"/zh-CN/docs/0.14/guide/cpp/type_registration#java","content":" Fory fory = Fory.builder().build(); fory.register(Person.class, 100); fory.register(Address.class, 101);   ","version":"0.14","tagName":"h3"},{"title":"Python‚Äã","type":1,"pageTitle":"Á±ªÂûãÊ≥®ÂÜå","url":"/zh-CN/docs/0.14/guide/cpp/type_registration#python","content":" import pyfory fory = pyfory.Fory() fory.register(Person, 100) fory.register(Address, 101)   ","version":"0.14","tagName":"h3"},{"title":"C++‚Äã","type":1,"pageTitle":"Á±ªÂûãÊ≥®ÂÜå","url":"/zh-CN/docs/0.14/guide/cpp/type_registration#c","content":" auto fory = Fory::builder().xlang(true).build(); fory.register_struct&lt;Person&gt;(100); fory.register_struct&lt;Address&gt;(101);   ","version":"0.14","tagName":"h3"},{"title":"ÂÜÖÁΩÆÁ±ªÂûã ID‚Äã","type":1,"pageTitle":"Á±ªÂûãÊ≥®ÂÜå","url":"/zh-CN/docs/0.14/guide/cpp/type_registration#ÂÜÖÁΩÆÁ±ªÂûã-id","content":" ÂÜÖÁΩÆÁ±ªÂûãÊúâÈ¢ÑÂàÜÈÖçÁöÑÁ±ªÂûã IDÔºå‰∏çÈúÄË¶ÅÊ≥®ÂÜåÔºö  Á±ªÂûã ID\tÁ±ªÂûã0\tNONE 1\tBOOL 2\tINT8 3\tINT16 4\tINT32 5\tVAR_INT32 6\tINT64 7\tVAR_INT64 8\tSLI_INT64 9\tFLOAT16 10\tFLOAT32 11\tFLOAT64 12\tSTRING 13\tLIST 14\tMAP 15\tSET 16\tTIMESTAMP 17\tDURATION 18\tLOCAL_DATE 19\tDECIMAL 20\tBINARY 21\tARRAY 22\tBOOL_ARRAY 23-28\tINT_ARRAY Âèò‰Ωì 29-31\tFLOAT_ARRAY Âèò‰Ωì 32\tSTRUCT 33\tCOMPATIBLE_STRUCT 34\tNAMED_STRUCT 35\tNAMEDCOMPATIBLE... 36\tEXT 37\tNAMED_EXT 63\tUNKNOWN  ","version":"0.14","tagName":"h2"},{"title":"ÈîôËØØÂ§ÑÁêÜ‚Äã","type":1,"pageTitle":"Á±ªÂûãÊ≥®ÂÜå","url":"/zh-CN/docs/0.14/guide/cpp/type_registration#ÈîôËØØÂ§ÑÁêÜ","content":" Ê≥®ÂÜåÈîôËØØÂú®Â∫èÂàóÂåñ/ÂèçÂ∫èÂàóÂåñÊó∂Ê£ÄÊü•Ôºö  // Â∞ùËØïÂ∫èÂàóÂåñÊú™Ê≥®ÂÜåÁöÑÁ±ªÂûã auto result = fory.serialize(unregistered_obj); if (!result.ok()) { // ÈîôËØØÔºö&quot;Type not registered: ...&quot; std::cerr &lt;&lt; result.error().to_string() &lt;&lt; std::endl; } // ÂèçÂ∫èÂàóÂåñÊó∂Á±ªÂûã ID ‰∏çÂåπÈÖç auto result = fory.deserialize&lt;WrongType&gt;(bytes); if (!result.ok()) { // ÈîôËØØÔºö&quot;Type mismatch: expected X, got Y&quot; std::cerr &lt;&lt; result.error().to_string() &lt;&lt; std::endl; }   ","version":"0.14","tagName":"h2"},{"title":"Áõ∏ÂÖ≥‰∏ªÈ¢ò‚Äã","type":1,"pageTitle":"Á±ªÂûãÊ≥®ÂÜå","url":"/zh-CN/docs/0.14/guide/cpp/type_registration#Áõ∏ÂÖ≥‰∏ªÈ¢ò","content":" Âü∫Á°ÄÂ∫èÂàóÂåñ - ‰ΩøÁî®Â∑≤Ê≥®ÂÜåÁöÑÁ±ªÂûãË∑®ËØ≠Ë®Ä - Ë∑®ËØ≠Ë®ÄÊ≥®ÊÑè‰∫ãÈ°πÊîØÊåÅÁöÑÁ±ªÂûã - ÊâÄÊúâÊîØÊåÅÁöÑÁ±ªÂûã ","version":"0.14","tagName":"h2"},{"title":"GraalVM ÊåáÂçó","type":0,"sectionRef":"#","url":"/zh-CN/docs/0.14/guide/graalvm_serialization","content":"","keywords":"","version":"0.14"},{"title":"GraalVM Native Image‚Äã","type":1,"pageTitle":"GraalVM ÊåáÂçó","url":"/zh-CN/docs/0.14/guide/graalvm_serialization#graalvm-native-image","content":" GraalVM native image ÊèêÂâçÂ∞Ü Java ‰ª£Á†ÅÁºñËØë‰∏∫Êú¨Âú∞ÂèØÊâßË°åÊñá‰ª∂Ôºå‰ªéËÄåÂÆûÁé∞Êõ¥Âø´ÁöÑÂêØÂä®ÈÄüÂ∫¶ÂíåÊõ¥‰ΩéÁöÑÂÜÖÂ≠ò‰ΩøÁî®„ÄÇ‰ΩÜÊòØÔºåÊú¨Âú∞ÈïúÂÉè‰∏çÊîØÊåÅËøêË°åÊó∂ JIT ÁºñËØëÊàñÂèçÂ∞ÑÔºåÈô§ÈùûËøõË°åÊòæÂºèÈÖçÁΩÆ„ÄÇ  Apache Fory‚Ñ¢ ÈÄöËøá‰ΩøÁî®‰ª£Á†ÅÁîüÊàêËÄåÈùûÂèçÂ∞ÑÔºåÂèØ‰ª•ÂÆåÁæéÂú∞‰∏é GraalVM native image ÈÖçÂêà‰ΩøÁî®„ÄÇÊâÄÊúâÂ∫èÂàóÂåñÂô®‰ª£Á†ÅÈÉΩÂú®ÊûÑÂª∫Êó∂ÁîüÊàêÔºåÂú®Â§ßÂ§öÊï∞ÊÉÖÂÜµ‰∏ãÊó†ÈúÄÂèçÂ∞ÑÈÖçÁΩÆÊñá‰ª∂„ÄÇ  ","version":"0.14","tagName":"h2"},{"title":"Â∑•‰ΩúÂéüÁêÜ‚Äã","type":1,"pageTitle":"GraalVM ÊåáÂçó","url":"/zh-CN/docs/0.14/guide/graalvm_serialization#Â∑•‰ΩúÂéüÁêÜ","content":" ÂΩìÊÇ®ÊâßË°å‰ª•‰∏ãÊìç‰ΩúÊó∂ÔºåFory ‰ºöÂú® GraalVM ÊûÑÂª∫Êó∂ÁîüÊàêÂ∫èÂàóÂåñ‰ª£Á†ÅÔºö  Â∞Ü Fory ÂàõÂª∫‰∏∫ÈùôÊÄÅÂ≠óÊÆµÂú®ÈùôÊÄÅÂàùÂßãÂåñÂô®‰∏≠Ê≥®ÂÜåÊâÄÊúâÁ±ªË∞ÉÁî® fory.ensureSerializersCompiled() Êù•ÁºñËØëÂ∫èÂàóÂåñÂô®ÈÄöËøá native-image.properties ÈÖçÁΩÆËØ•Á±ªÂú®ÊûÑÂª∫Êó∂ÂàùÂßãÂåñ  ‰∏ªË¶Å‰ºòÂäøÔºöÂØπ‰∫éÂ§ßÂ§öÊï∞ÂèØÂ∫èÂàóÂåñÁöÑÁ±ªÔºåÊÇ®Êó†ÈúÄÈÖçÁΩÆÂèçÂ∞Ñ json ÊàñÂ∫èÂàóÂåñ json„ÄÇ  Ê≥®ÊÑèÔºöFory ÁöÑ asyncCompilationEnabled ÈÄâÈ°πÂú® GraalVM native image ‰∏≠‰ºöËá™Âä®Á¶ÅÁî®ÔºåÂõ†‰∏∫‰∏çÊîØÊåÅËøêË°åÊó∂ JIT„ÄÇ  ","version":"0.14","tagName":"h2"},{"title":"Âü∫Á°ÄÁî®Ê≥ï‚Äã","type":1,"pageTitle":"GraalVM ÊåáÂçó","url":"/zh-CN/docs/0.14/guide/graalvm_serialization#Âü∫Á°ÄÁî®Ê≥ï","content":" ","version":"0.14","tagName":"h2"},{"title":"Ê≠•È™§ 1ÔºöÂàõÂª∫ Fory Âπ∂Ê≥®ÂÜåÁ±ª‚Äã","type":1,"pageTitle":"GraalVM ÊåáÂçó","url":"/zh-CN/docs/0.14/guide/graalvm_serialization#Ê≠•È™§-1ÂàõÂª∫-fory-Âπ∂Ê≥®ÂÜåÁ±ª","content":" import org.apache.fory.Fory; public class Example { // ÂøÖÈ°ªÊòØÈùôÊÄÅÂ≠óÊÆµ static Fory fory; static { fory = Fory.builder().build(); fory.register(MyClass.class); fory.register(AnotherClass.class); // Âú®ÊûÑÂª∫Êó∂ÁºñËØëÊâÄÊúâÂ∫èÂàóÂåñÂô® fory.ensureSerializersCompiled(); } public static void main(String[] args) { byte[] bytes = fory.serialize(new MyClass()); MyClass obj = (MyClass) fory.deserialize(bytes); } }   ","version":"0.14","tagName":"h3"},{"title":"Ê≠•È™§ 2ÔºöÈÖçÁΩÆÊûÑÂª∫Êó∂ÂàùÂßãÂåñ‚Äã","type":1,"pageTitle":"GraalVM ÊåáÂçó","url":"/zh-CN/docs/0.14/guide/graalvm_serialization#Ê≠•È™§-2ÈÖçÁΩÆÊûÑÂª∫Êó∂ÂàùÂßãÂåñ","content":" ÂàõÂª∫ resources/META-INF/native-image/your-group/your-artifact/native-image.propertiesÔºö  Args = --initialize-at-build-time=com.example.Example   ","version":"0.14","tagName":"h3"},{"title":"ForyGraalVMFeatureÔºàÂèØÈÄâÔºâ‚Äã","type":1,"pageTitle":"GraalVM ÊåáÂçó","url":"/zh-CN/docs/0.14/guide/graalvm_serialization#forygraalvmfeatureÂèØÈÄâ","content":" ÂØπ‰∫éÂ§ßÂ§öÊï∞ÂÖ∑ÊúâÂÖ¨ÂÖ±ÊûÑÈÄ†ÂáΩÊï∞ÁöÑÁ±ªÂûãÔºå‰∏äËø∞Âü∫Êú¨ËÆæÁΩÆÂ∞±Ë∂≥Â§ü‰∫Ü„ÄÇ‰ΩÜÊòØÔºå‰∏Ä‰∫õÈ´òÁ∫ßÊÉÖÂÜµÈúÄË¶ÅÂèçÂ∞ÑÊ≥®ÂÜåÔºö  ÁßÅÊúâÊûÑÈÄ†ÂáΩÊï∞ÔºàÊ≤°ÊúâÂèØËÆøÈóÆÁöÑÊó†ÂèÇÊûÑÈÄ†ÂáΩÊï∞ÁöÑÁ±ªÔºâÁßÅÊúâÂÜÖÈÉ®Á±ª/ËÆ∞ÂΩïÂä®ÊÄÅ‰ª£ÁêÜÂ∫èÂàóÂåñ  fory-graalvm-feature Ê®°Âùó‰ºöËá™Âä®Â§ÑÁêÜËøô‰∫õÊÉÖÂÜµÔºåÊó†ÈúÄÊâãÂä®ÈÖçÁΩÆ reflect-config.json„ÄÇ  ","version":"0.14","tagName":"h2"},{"title":"Ê∑ªÂä†‰æùËµñ‚Äã","type":1,"pageTitle":"GraalVM ÊåáÂçó","url":"/zh-CN/docs/0.14/guide/graalvm_serialization#Ê∑ªÂä†‰æùËµñ","content":" &lt;dependency&gt; &lt;groupId&gt;org.apache.fory&lt;/groupId&gt; &lt;artifactId&gt;fory-graalvm-feature&lt;/artifactId&gt; &lt;version&gt;${fory.version}&lt;/version&gt; &lt;/dependency&gt;   ","version":"0.14","tagName":"h3"},{"title":"ÂêØÁî®ÂäüËÉΩ‚Äã","type":1,"pageTitle":"GraalVM ÊåáÂçó","url":"/zh-CN/docs/0.14/guide/graalvm_serialization#ÂêØÁî®ÂäüËÉΩ","content":" Â∞Ü‰ª•‰∏ãÂÜÖÂÆπÊ∑ªÂä†Âà∞ÊÇ®ÁöÑ native-image.propertiesÔºö  Args = --initialize-at-build-time=com.example.Example \\ --features=org.apache.fory.graalvm.feature.ForyGraalVMFeature   ","version":"0.14","tagName":"h3"},{"title":"ForyGraalVMFeature Â§ÑÁêÜÁöÑÂÜÖÂÆπ‚Äã","type":1,"pageTitle":"GraalVM ÊåáÂçó","url":"/zh-CN/docs/0.14/guide/graalvm_serialization#forygraalvmfeature-Â§ÑÁêÜÁöÑÂÜÖÂÆπ","content":" Âú∫ÊôØ\t‰∏ç‰ΩøÁî® Feature\t‰ΩøÁî® FeatureÂÖ∑ÊúâÊó†ÂèÇÊûÑÈÄ†ÂáΩÊï∞ÁöÑÂÖ¨ÂÖ±Á±ª\t‚úÖ ÂèØÂ∑•‰Ωú\t‚úÖ ÂèØÂ∑•‰Ωú ÁßÅÊúâÊûÑÈÄ†ÂáΩÊï∞\t‚ùå ÈúÄË¶Å reflect-config.json\t‚úÖ Ëá™Âä®Ê≥®ÂÜå ÁßÅÊúâÂÜÖÈÉ®ËÆ∞ÂΩï\t‚ùå ÈúÄË¶Å reflect-config.json\t‚úÖ Ëá™Âä®Ê≥®ÂÜå Âä®ÊÄÅ‰ª£ÁêÜ\t‚ùå ÈúÄË¶ÅÊâãÂä®ÈÖçÁΩÆ\t‚úÖ Ëá™Âä®Ê≥®ÂÜå  ","version":"0.14","tagName":"h3"},{"title":"ÁßÅÊúâËÆ∞ÂΩïÁ§∫‰æã‚Äã","type":1,"pageTitle":"GraalVM ÊåáÂçó","url":"/zh-CN/docs/0.14/guide/graalvm_serialization#ÁßÅÊúâËÆ∞ÂΩïÁ§∫‰æã","content":" public class Example { // ÁßÅÊúâÂÜÖÈÉ®ËÆ∞ÂΩï - ÈúÄË¶Å ForyGraalVMFeature private record PrivateRecord(int id, String name) {} static Fory fory; static { fory = Fory.builder().build(); fory.register(PrivateRecord.class); fory.ensureSerializersCompiled(); } }   ","version":"0.14","tagName":"h3"},{"title":"Âä®ÊÄÅ‰ª£ÁêÜÁ§∫‰æã‚Äã","type":1,"pageTitle":"GraalVM ÊåáÂçó","url":"/zh-CN/docs/0.14/guide/graalvm_serialization#Âä®ÊÄÅ‰ª£ÁêÜÁ§∫‰æã","content":" import org.apache.fory.util.GraalvmSupport; public class ProxyExample { public interface MyService { String execute(); } static Fory fory; static { fory = Fory.builder().build(); // ‰∏∫Â∫èÂàóÂåñÊ≥®ÂÜå‰ª£ÁêÜÊé•Âè£ GraalvmSupport.registerProxySupport(MyService.class); fory.ensureSerializersCompiled(); } }   ","version":"0.14","tagName":"h3"},{"title":"Á∫øÁ®ãÂÆâÂÖ®ÁöÑ Fory‚Äã","type":1,"pageTitle":"GraalVM ÊåáÂçó","url":"/zh-CN/docs/0.14/guide/graalvm_serialization#Á∫øÁ®ãÂÆâÂÖ®ÁöÑ-fory","content":" ÂØπ‰∫éÂ§öÁ∫øÁ®ãÂ∫îÁî®Á®ãÂ∫èÔºå‰ΩøÁî® ThreadLocalForyÔºö  import org.apache.fory.Fory; import org.apache.fory.ThreadLocalFory; import org.apache.fory.ThreadSafeFory; public class ThreadSafeExample { public record Foo(int f1, String f2, List&lt;String&gt; f3) {} static ThreadSafeFory fory; static { fory = new ThreadLocalFory(classLoader -&gt; { Fory f = Fory.builder().build(); f.register(Foo.class); f.ensureSerializersCompiled(); return f; }); } public static void main(String[] args) { Foo foo = new Foo(10, &quot;abc&quot;, List.of(&quot;str1&quot;, &quot;str2&quot;)); byte[] bytes = fory.serialize(foo); Foo result = (Foo) fory.deserialize(bytes); } }   ","version":"0.14","tagName":"h2"},{"title":"ÊïÖÈöúÊéíÈô§‚Äã","type":1,"pageTitle":"GraalVM ÊåáÂçó","url":"/zh-CN/docs/0.14/guide/graalvm_serialization#ÊïÖÈöúÊéíÈô§","content":" ","version":"0.14","tagName":"h2"},{"title":"\"Type is instantiated reflectively but was never registered\"‚Äã","type":1,"pageTitle":"GraalVM ÊåáÂçó","url":"/zh-CN/docs/0.14/guide/graalvm_serialization#type-is-instantiated-reflectively-but-was-never-registered","content":" Â¶ÇÊûúÊÇ®ÁúãÂà∞Ê≠§ÈîôËØØÔºö  Type com.example.MyClass is instantiated reflectively but was never registered   Ëß£ÂÜ≥ÊñπÊ°àÔºö‰ΩøÁî® Fory Ê≥®ÂÜåËØ•Á±ªÔºà‰∏çË¶ÅÊ∑ªÂä†Âà∞ reflect-config.jsonÔºâÔºö  fory.register(MyClass.class); fory.ensureSerializersCompiled();   Â¶ÇÊûúËØ•Á±ªÂÖ∑ÊúâÁßÅÊúâÊûÑÈÄ†ÂáΩÊï∞ÔºåÂèØ‰ª•Ôºö  Ê∑ªÂä† fory-graalvm-feature ‰æùËµñÔºåÊàñ‰∏∫ËØ•ÁâπÂÆöÁ±ªÂàõÂª∫ reflect-config.json  ","version":"0.14","tagName":"h3"},{"title":"Ê°ÜÊû∂ÈõÜÊàê‚Äã","type":1,"pageTitle":"GraalVM ÊåáÂçó","url":"/zh-CN/docs/0.14/guide/graalvm_serialization#Ê°ÜÊû∂ÈõÜÊàê","content":" ÂØπ‰∫éÈõÜÊàê Fory ÁöÑÊ°ÜÊû∂ÂºÄÂèëËÄÖÔºö  ‰∏∫Áî®Êà∑Êèê‰æõÈÖçÁΩÆÊñá‰ª∂‰ª•ÂàóÂá∫ÂèØÂ∫èÂàóÂåñÁöÑÁ±ªÂä†ËΩΩËøô‰∫õÁ±ªÂπ∂‰∏∫ÊØè‰∏™Á±ªË∞ÉÁî® fory.register(Class&lt;?&gt;)ÂÆåÊàêÊâÄÊúâÊ≥®ÂÜåÂêéË∞ÉÁî® fory.ensureSerializersCompiled()ÈÖçÁΩÆÊÇ®ÁöÑÈõÜÊàêÁ±ª‰ª•Âú®ÊûÑÂª∫Êó∂ÂàùÂßãÂåñ  ","version":"0.14","tagName":"h2"},{"title":"Âü∫ÂáÜÊµãËØï‚Äã","type":1,"pageTitle":"GraalVM ÊåáÂçó","url":"/zh-CN/docs/0.14/guide/graalvm_serialization#Âü∫ÂáÜÊµãËØï","content":" Fory ‰∏é GraalVM JDK Â∫èÂàóÂåñÁöÑÊÄßËÉΩÊØîËæÉÔºö  Á±ªÂûã\tÂéãÁº©\tÈÄüÂ∫¶\tÂ§ßÂ∞èStruct\tÂÖ≥Èó≠\t46 ÂÄçÊõ¥Âø´\t43% Struct\tÂºÄÂêØ\t24 ÂÄçÊõ¥Âø´\t31% Pojo\tÂÖ≥Èó≠\t12 ÂÄçÊõ¥Âø´\t56% Pojo\tÂºÄÂêØ\t12 ÂÄçÊõ¥Âø´\t48%  Êü•Áúã Benchmark.java Ëé∑ÂèñÂü∫ÂáÜÊµãËØï‰ª£Á†Å„ÄÇ  ","version":"0.14","tagName":"h2"},{"title":"Struct Âü∫ÂáÜÊµãËØï‚Äã","type":1,"pageTitle":"GraalVM ÊåáÂçó","url":"/zh-CN/docs/0.14/guide/graalvm_serialization#struct-Âü∫ÂáÜÊµãËØï","content":" Á±ªÂ≠óÊÆµ‚Äã  public class Struct implements Serializable { public int f1; public long f2; public float f3; public double f4; public int f5; public long f6; public float f7; public double f8; public int f9; public long f10; public float f11; public double f12; }   Âü∫ÂáÜÊµãËØïÁªìÊûú‚Äã  Êó†ÂéãÁº©Ôºö  Benchmark repeat number: 400000 Object type: class org.apache.fory.graalvm.Struct Compress number: false Fory size: 76.0 JDK size: 178.0 Fory serialization took mills: 49 JDK serialization took mills: 2254 Compare speed: Fory is 45.70x speed of JDK Compare size: Fory is 0.43x size of JDK   Êï∞Â≠óÂéãÁº©Ôºö  Benchmark repeat number: 400000 Object type: class org.apache.fory.graalvm.Struct Compress number: true Fory size: 55.0 JDK size: 178.0 Fory serialization took mills: 130 JDK serialization took mills: 3161 Compare speed: Fory is 24.16x speed of JDK Compare size: Fory is 0.31x size of JDK   ","version":"0.14","tagName":"h3"},{"title":"Pojo Âü∫ÂáÜÊµãËØï‚Äã","type":1,"pageTitle":"GraalVM ÊåáÂçó","url":"/zh-CN/docs/0.14/guide/graalvm_serialization#pojo-Âü∫ÂáÜÊµãËØï","content":" Á±ªÂ≠óÊÆµ‚Äã  public class Foo implements Serializable { int f1; String f2; List&lt;String&gt; f3; Map&lt;String, Long&gt; f4; }   Âü∫ÂáÜÊµãËØïÁªìÊûú‚Äã  Êó†ÂéãÁº©Ôºö  Benchmark repeat number: 400000 Object type: class org.apache.fory.graalvm.Foo Compress number: false Fory size: 541.0 JDK size: 964.0 Fory serialization took mills: 1663 JDK serialization took mills: 16266 Compare speed: Fory is 12.19x speed of JDK Compare size: Fory is 0.56x size of JDK   Êï∞Â≠óÂéãÁº©Ôºö  Benchmark repeat number: 400000 Object type: class org.apache.fory.graalvm.Foo Compress number: true Fory size: 459.0 JDK size: 964.0 Fory serialization took mills: 1289 JDK serialization took mills: 15069 Compare speed: Fory is 12.11x speed of JDK Compare size: Fory is 0.48x size of JDK  ","version":"0.14","tagName":"h3"},{"title":"Java Â∫èÂàóÂåñÊåáÂçó","type":0,"sectionRef":"#","url":"/zh-CN/docs/0.14/guide/java/","content":"","keywords":"","version":"0.14"},{"title":"ÁâπÊÄß‚Äã","type":1,"pageTitle":"Java Â∫èÂàóÂåñÊåáÂçó","url":"/zh-CN/docs/0.14/guide/java/#ÔøΩÁâπÊÄß","content":" ","version":"0.14","tagName":"h2"},{"title":"È´òÊÄßËÉΩ‚Äã","type":1,"pageTitle":"Java Â∫èÂàóÂåñÊåáÂçó","url":"/zh-CN/docs/0.14/guide/java/#È´òÊÄßËÉΩ","content":" JIT ‰ª£Á†ÅÁîüÊàêÔºöÈ´òÂ∫¶ÂèØÊâ©Â±ïÁöÑ JIT Ê°ÜÊû∂Âú®ËøêË°åÊó∂‰ΩøÁî®ÂºÇÊ≠•Â§öÁ∫øÁ®ãÁºñËØëÁîüÊàêÂ∫èÂàóÂåñÂô®‰ª£Á†ÅÔºåÈÄöËøá‰ª•‰∏ãÊñπÂºèÊèê‰æõ 20-170 ÂÄçÁöÑÂä†ÈÄüÔºö ÂÜÖËÅîÂèòÈáè‰ª•ÂáèÂ∞ëÂÜÖÂ≠òËÆøÈóÆÂÜÖËÅîÊñπÊ≥ïË∞ÉÁî®‰ª•Ê∂àÈô§ËôöÊãüÂàÜÊ¥æÂºÄÈîÄÊúÄÂ∞èÂåñÊù°‰ª∂ÂàÜÊîØÊ∂àÈô§ÂìàÂ∏åÊü•Êâæ Èõ∂Êã∑Ë¥ùÔºöÁõ¥Êé•ÂÜÖÂ≠òËÆøÈóÆÔºåÊó†‰∏≠Èó¥ÁºìÂÜ≤Âå∫Êã∑Ë¥ùÔºõË°åÊ†ºÂºèÊîØÊåÅÈöèÊú∫ËÆøÈóÆÂíåÈÉ®ÂàÜÂ∫èÂàóÂåñÂèòÈïøÁºñÁ†ÅÔºöÂØπÊï¥Êï∞ÂíåÈïøÊï¥ÂûãËøõË°å‰ºòÂåñÂéãÁº©ÂÖÉÊï∞ÊçÆÂÖ±‰∫´ÔºöÁºìÂ≠òÁöÑÁ±ªÂÖÉÊï∞ÊçÆÂáèÂ∞ëÂÜó‰ΩôÁ±ªÂûã‰ø°ÊÅØSIMD Âä†ÈÄüÔºöÊîØÊåÅ Java Vector API Áî®‰∫éÊï∞ÁªÑÊìç‰ΩúÔºàJava 16+Ôºâ  ","version":"0.14","tagName":"h3"},{"title":"Âç≥ÊèíÂç≥Áî®Êõø‰ª£‚Äã","type":1,"pageTitle":"Java Â∫èÂàóÂåñÊåáÂçó","url":"/zh-CN/docs/0.14/guide/java/#Âç≥ÊèíÂç≥Áî®Êõø‰ª£","content":" 100% JDK Â∫èÂàóÂåñÂÖºÂÆπÔºöÊîØÊåÅ writeObject/readObject/writeReplace/readResolve/readObjectNoData/ExternalizableJava 8-24 ÊîØÊåÅÔºöÈÄÇÁî®‰∫éÊâÄÊúâÁé∞‰ª£ Java ÁâàÊú¨ÔºåÂåÖÊã¨ Java 17+ ÁöÑ recordGraalVM Native ImageÔºöÊîØÊåÅ AOT ÁºñËØëÔºåÊó†ÈúÄÂèçÂ∞ÑÈÖçÁΩÆ  ","version":"0.14","tagName":"h3"},{"title":"È´òÁ∫ßÁâπÊÄß‚Äã","type":1,"pageTitle":"Java Â∫èÂàóÂåñÊåáÂçó","url":"/zh-CN/docs/0.14/guide/java/#È´òÁ∫ßÁâπÊÄß","content":" ÂºïÁî®Ë∑üË∏™ÔºöËá™Âä®Â§ÑÁêÜÂÖ±‰∫´ÂºïÁî®ÂíåÂæ™ÁéØÂºïÁî®Schema ÊºîÂåñÔºöÁ±ª schema ÂèòÊõ¥ÁöÑÂâçÂêë/ÂêéÂêëÂÖºÂÆπÊÄßÂ§öÊÄÅÊÄßÔºöÂÆåÂÖ®ÊîØÊåÅÁªßÊâøÂ±ÇÊ¨°ÁªìÊûÑÂíåÊé•Âè£Ê∑±Êã∑Ë¥ùÔºöÈ´òÊïàÊ∑±Â∫¶ÂÖãÈöÜÂ§çÊùÇÂØπË±°ÂõæÂπ∂‰øùÁïôÂºïÁî®ÂÆâÂÖ®ÊÄßÔºöÁ±ªÊ≥®ÂÜåÂíåÂèØÈÖçÁΩÆÁöÑÂèçÂ∫èÂàóÂåñÁ≠ñÁï•  ","version":"0.14","tagName":"h3"},{"title":"Âø´ÈÄüÂºÄÂßã‚Äã","type":1,"pageTitle":"Java Â∫èÂàóÂåñÊåáÂçó","url":"/zh-CN/docs/0.14/guide/java/#Âø´ÈÄüÂºÄÂßã","content":" Ê≥®ÊÑèÔºåFory ÁöÑÂàõÂª∫ÊàêÊú¨‰∏ç‰ΩéÔºåÂ∫îËØ•Âú®Â§öÊ¨°Â∫èÂàóÂåñ‰πãÈó¥Â§çÁî® Fory ÂÆû‰æãÔºåËÄå‰∏çÊòØÊØèÊ¨°ÈÉΩÂàõÂª∫„ÄÇ‰Ω†Â∫îËØ•Â∞Ü Fory ‰Ωú‰∏∫ÈùôÊÄÅÂÖ®Â±ÄÂèòÈáèÔºåÊàñËÄÖÊüê‰∏™Âçï‰æãÂØπË±°ÊàñÊúâÈôêÂØπË±°ÁöÑÂÆû‰æãÂèòÈáè„ÄÇ  ","version":"0.14","tagName":"h2"},{"title":"ÂçïÁ∫øÁ®ã‰ΩøÁî®‚Äã","type":1,"pageTitle":"Java Â∫èÂàóÂåñÊåáÂçó","url":"/zh-CN/docs/0.14/guide/java/#ÂçïÁ∫øÁ®ã‰ΩøÁî®","content":" import java.util.List; import java.util.Arrays; import org.apache.fory.*; import org.apache.fory.config.*; public class Example { public static void main(String[] args) { SomeClass object = new SomeClass(); // Ê≥®ÊÑè Fory ÂÆû‰æãÂ∫îËØ•Âú®Â§öÊ¨°‰∏çÂêåÂØπË±°ÁöÑÂ∫èÂàóÂåñ‰πãÈó¥Â§çÁî®„ÄÇ Fory fory = Fory.builder().withLanguage(Language.JAVA) .requireClassRegistration(true) .build(); // Ê≥®ÂÜåÁ±ªÂûãÂèØ‰ª•ÂáèÂ∞ëÁ±ªÂêçÂ∫èÂàóÂåñÂºÄÈîÄÔºå‰ΩÜ‰∏çÊòØÂøÖÈ°ªÁöÑ„ÄÇ // Â¶ÇÊûúÂêØÁî®‰∫ÜÁ±ªÊ≥®ÂÜåÔºåÊâÄÊúâËá™ÂÆö‰πâÁ±ªÂûãÈÉΩÂøÖÈ°ªÊ≥®ÂÜå„ÄÇ // Â¶ÇÊûúÊú™ÊåáÂÆö idÔºåÊ≥®ÂÜåÈ°∫Â∫èÂøÖÈ°ª‰∏ÄËá¥ fory.register(SomeClass.class); byte[] bytes = fory.serialize(object); System.out.println(fory.deserialize(bytes)); } }   ","version":"0.14","tagName":"h3"},{"title":"Â§öÁ∫øÁ®ã‰ΩøÁî®‚Äã","type":1,"pageTitle":"Java Â∫èÂàóÂåñÊåáÂçó","url":"/zh-CN/docs/0.14/guide/java/#Â§öÁ∫øÁ®ã‰ΩøÁî®","content":" import java.util.List; import java.util.Arrays; import org.apache.fory.*; import org.apache.fory.config.*; public class Example { public static void main(String[] args) { SomeClass object = new SomeClass(); // Ê≥®ÊÑè Fory ÂÆû‰æãÂ∫îËØ•Âú®Â§öÊ¨°‰∏çÂêåÂØπË±°ÁöÑÂ∫èÂàóÂåñ‰πãÈó¥Â§çÁî®„ÄÇ ThreadSafeFory fory = new ThreadLocalFory(classLoader -&gt; { Fory f = Fory.builder().withLanguage(Language.JAVA) .withClassLoader(classLoader).build(); f.register(SomeClass.class, 1); return f; }); byte[] bytes = fory.serialize(object); System.out.println(fory.deserialize(bytes)); } }   ","version":"0.14","tagName":"h3"},{"title":"Fory ÂÆû‰æãÂ§çÁî®Ê®°Âºè‚Äã","type":1,"pageTitle":"Java Â∫èÂàóÂåñÊåáÂçó","url":"/zh-CN/docs/0.14/guide/java/#fory-ÂÆû‰æãÂ§çÁî®Ê®°Âºè","content":" import java.util.List; import java.util.Arrays; import org.apache.fory.*; import org.apache.fory.config.*; public class Example { // Â§çÁî® fory„ÄÇ private static final ThreadSafeFory fory = new ThreadLocalFory(classLoader -&gt; { Fory f = Fory.builder().withLanguage(Language.JAVA) .withClassLoader(classLoader).build(); f.register(SomeClass.class, 1); return f; }); public static void main(String[] args) { SomeClass object = new SomeClass(); byte[] bytes = fory.serialize(object); System.out.println(fory.deserialize(bytes)); } }   ","version":"0.14","tagName":"h3"},{"title":"Á∫øÁ®ãÂÆâÂÖ®‚Äã","type":1,"pageTitle":"Java Â∫èÂàóÂåñÊåáÂçó","url":"/zh-CN/docs/0.14/guide/java/#Á∫øÁ®ãÂÆâÂÖ®","content":" Fory Êèê‰æõÂ§öÁßçÁ∫øÁ®ãÂÆâÂÖ®Â∫èÂàóÂåñÈÄâÈ°πÔºö  ","version":"0.14","tagName":"h2"},{"title":"ThreadLocalFory‚Äã","type":1,"pageTitle":"Java Â∫èÂàóÂåñÊåáÂçó","url":"/zh-CN/docs/0.14/guide/java/#threadlocalfory","content":" ‰ΩøÁî®Á∫øÁ®ãÊú¨Âú∞Â≠òÂÇ®‰∏∫ÊØè‰∏™Á∫øÁ®ãÁª¥Êä§Áã¨Á´ãÁöÑ Fory ÂÆû‰æãÔºö  ThreadSafeFory fory = new ThreadLocalFory(classLoader -&gt; { Fory f = Fory.builder().withLanguage(Language.JAVA) .withClassLoader(classLoader).build(); f.register(SomeClass.class, 1); return f; }); byte[] bytes = fory.serialize(object); System.out.println(fory.deserialize(bytes));   ","version":"0.14","tagName":"h3"},{"title":"ThreadSafeForyPool‚Äã","type":1,"pageTitle":"Java Â∫èÂàóÂåñÊåáÂçó","url":"/zh-CN/docs/0.14/guide/java/#threadsafeforypool","content":" ÂØπ‰∫éËôöÊãüÁ∫øÁ®ãÊàñ‰∏çÈÄÇÂêà‰ΩøÁî®Á∫øÁ®ãÊú¨Âú∞Â≠òÂÇ®ÁöÑÁéØÂ¢ÉÔºå‰ΩøÁî® buildThreadSafeForyPoolÔºö  ThreadSafeFory fory = Fory.builder() .withLanguage(Language.JAVA) .withRefTracking(false) .withCompatibleMode(CompatibleMode.SCHEMA_CONSISTENT) .withAsyncCompilation(true) .buildThreadSafeForyPool(minPoolSize, maxPoolSize);   Ê≥®ÊÑèÔºåÂú® ForyBuilder ‰∏äË∞ÉÁî® buildThreadSafeFory() Â∞ÜÂàõÂª∫ ThreadLocalFory ÂÆû‰æã„ÄÇËøôÂú®‰ΩøÁî®ËôöÊãüÁ∫øÁ®ãÁöÑÁéØÂ¢É‰∏≠ÂèØËÉΩ‰∏çÂêàÈÄÇÔºåÂõ†‰∏∫ÊØè‰∏™Á∫øÁ®ãÈÉΩ‰ºöÂàõÂª∫Ëá™Â∑±ÁöÑ Fory ÂÆû‰æãÔºåËøôÊòØ‰∏Ä‰∏™Áõ∏ÂØπÊòÇË¥µÁöÑÊìç‰Ωú„ÄÇÂØπ‰∫éËôöÊãüÁ∫øÁ®ãÔºåÂè¶‰∏ÄÁßçÈÄâÊã©ÊòØ‰ΩøÁî® buildThreadSafeForyPool„ÄÇ  ","version":"0.14","tagName":"h3"},{"title":"Builder ÊñπÊ≥ï‚Äã","type":1,"pageTitle":"Java Â∫èÂàóÂåñÊåáÂçó","url":"/zh-CN/docs/0.14/guide/java/#builder-ÊñπÊ≥ï","content":" // ÂçïÁ∫øÁ®ã Fory Fory fory = Fory.builder() .withLanguage(Language.JAVA) .withRefTracking(false) .withCompatibleMode(CompatibleMode.SCHEMA_CONSISTENT) .withAsyncCompilation(true) .build(); // Á∫øÁ®ãÂÆâÂÖ® Fory (ThreadLocalFory) ThreadSafeFory fory = Fory.builder() .withLanguage(Language.JAVA) .withRefTracking(false) .withCompatibleMode(CompatibleMode.SCHEMA_CONSISTENT) .withAsyncCompilation(true) .buildThreadSafeFory();   ","version":"0.14","tagName":"h3"},{"title":"ÂêéÁª≠Ê≠•È™§‚Äã","type":1,"pageTitle":"Java Â∫èÂàóÂåñÊåáÂçó","url":"/zh-CN/docs/0.14/guide/java/#ÂêéÁª≠Ê≠•È™§","content":" ÈÖçÁΩÆÈÄâÈ°π - ‰∫ÜËß£ ForyBuilder ÈÄâÈ°πÂü∫Á°ÄÂ∫èÂàóÂåñ - ËØ¶ÁªÜÁöÑÂ∫èÂàóÂåñÊ®°ÂºèÁ±ªÂûãÊ≥®ÂÜå - Á±ªÊ≥®ÂÜåÂíåÂÆâÂÖ®ÊÄßËá™ÂÆö‰πâÂ∫èÂàóÂåñÂô® - ÂÆûÁé∞Ëá™ÂÆö‰πâÂ∫èÂàóÂåñÂô®Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ - ‰∏∫ÂÖ∂‰ªñËØ≠Ë®ÄÂ∫èÂàóÂåñÊï∞ÊçÆ ","version":"0.14","tagName":"h2"},{"title":"Âü∫Á°ÄÂ∫èÂàóÂåñ","type":0,"sectionRef":"#","url":"/zh-CN/docs/0.14/guide/java/basic_serialization","content":"","keywords":"","version":"0.14"},{"title":"ÂàõÂª∫ Fory ÂÆû‰æã‚Äã","type":1,"pageTitle":"Âü∫Á°ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/0.14/guide/java/basic_serialization#ÂàõÂª∫-fory-ÂÆû‰æã","content":" ","version":"0.14","tagName":"h2"},{"title":"ÂçïÁ∫øÁ®ã Fory‚Äã","type":1,"pageTitle":"Âü∫Á°ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/0.14/guide/java/basic_serialization#ÂçïÁ∫øÁ®ã-fory","content":" ÂØπ‰∫éÂçïÁ∫øÁ®ãÂ∫îÁî®Á®ãÂ∫èÔºö  Fory fory = Fory.builder() .withLanguage(Language.JAVA) // ÂêØÁî®ÂºïÁî®Ë∑üË∏™‰ª•ÊîØÊåÅÂÖ±‰∫´/Âæ™ÁéØÂºïÁî®„ÄÇ // Â¶ÇÊûúÊ≤°ÊúâÈáçÂ§çÂºïÁî®ÔºåÁ¶ÅÁî®ÂÆÉ‰ºöÊúâÊõ¥Â•ΩÁöÑÊÄßËÉΩ„ÄÇ .withRefTracking(false) .withCompatibleMode(CompatibleMode.SCHEMA_CONSISTENT) // ÂêØÁî®Á±ªÂûãÂâçÂêë/ÂêéÂêëÂÖºÂÆπÊÄß // Á¶ÅÁî®ÂÆÉ‰ª•Ëé∑ÂæóÊõ¥Â∞èÁöÑÂ§ßÂ∞èÂíåÊõ¥Â•ΩÁöÑÊÄßËÉΩ„ÄÇ // .withCompatibleMode(CompatibleMode.COMPATIBLE) // ÂêØÁî®ÂºÇÊ≠•Â§öÁ∫øÁ®ãÁºñËØë„ÄÇ .withAsyncCompilation(true) .build(); byte[] bytes = fory.serialize(object); System.out.println(fory.deserialize(bytes));   ","version":"0.14","tagName":"h3"},{"title":"Á∫øÁ®ãÂÆâÂÖ® Fory‚Äã","type":1,"pageTitle":"Âü∫Á°ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/0.14/guide/java/basic_serialization#Á∫øÁ®ãÂÆâÂÖ®-fory","content":" ÂØπ‰∫éÂ§öÁ∫øÁ®ãÂ∫îÁî®Á®ãÂ∫èÔºö  ThreadSafeFory fory = Fory.builder() .withLanguage(Language.JAVA) // ÂêØÁî®ÂºïÁî®Ë∑üË∏™‰ª•ÊîØÊåÅÂÖ±‰∫´/Âæ™ÁéØÂºïÁî®„ÄÇ // Â¶ÇÊûúÊ≤°ÊúâÈáçÂ§çÂºïÁî®ÔºåÁ¶ÅÁî®ÂÆÉ‰ºöÊúâÊõ¥Â•ΩÁöÑÊÄßËÉΩ„ÄÇ .withRefTracking(false) // ÂéãÁº© int ‰ª•Ëé∑ÂæóÊõ¥Â∞èÁöÑÂ§ßÂ∞è // .withIntCompressed(true) // ÂéãÁº© long ‰ª•Ëé∑ÂæóÊõ¥Â∞èÁöÑÂ§ßÂ∞è // .withLongCompressed(true) .withCompatibleMode(CompatibleMode.SCHEMA_CONSISTENT) // ÂêØÁî®Á±ªÂûãÂâçÂêë/ÂêéÂêëÂÖºÂÆπÊÄß // Á¶ÅÁî®ÂÆÉ‰ª•Ëé∑ÂæóÊõ¥Â∞èÁöÑÂ§ßÂ∞èÂíåÊõ¥Â•ΩÁöÑÊÄßËÉΩ„ÄÇ // .withCompatibleMode(CompatibleMode.COMPATIBLE) // ÂêØÁî®ÂºÇÊ≠•Â§öÁ∫øÁ®ãÁºñËØë„ÄÇ .withAsyncCompilation(true) .buildThreadSafeFory(); byte[] bytes = fory.serialize(object); System.out.println(fory.deserialize(bytes));   ","version":"0.14","tagName":"h3"},{"title":"ÂØπË±°Ê∑±Êã∑Ë¥ù‚Äã","type":1,"pageTitle":"Âü∫Á°ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/0.14/guide/java/basic_serialization#ÂØπË±°Ê∑±Êã∑Ë¥ù","content":" Fory Êèê‰æõÈ´òÊïàÁöÑÊ∑±Êã∑Ë¥ùÂäüËÉΩÔºö  ","version":"0.14","tagName":"h2"},{"title":"ÂêØÁî®ÂºïÁî®Ë∑üË∏™‚Äã","type":1,"pageTitle":"Âü∫Á°ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/0.14/guide/java/basic_serialization#ÂêØÁî®ÂºïÁî®Ë∑üË∏™","content":" Fory fory = Fory.builder().withRefCopy(true).build(); SomeClass a = xxx; SomeClass copied = fory.copy(a);   ","version":"0.14","tagName":"h3"},{"title":"Á¶ÅÁî®ÂºïÁî®Ë∑üË∏™ÔºàÊõ¥Â•ΩÁöÑÊÄßËÉΩÔºâ‚Äã","type":1,"pageTitle":"Âü∫Á°ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/0.14/guide/java/basic_serialization#Á¶ÅÁî®ÂºïÁî®Ë∑üË∏™Êõ¥Â•ΩÁöÑÊÄßËÉΩ","content":" Á¶ÅÁî®Êó∂ÔºåÊ∑±Êã∑Ë¥ùÂ∞ÜÂøΩÁï•Âæ™ÁéØÂºïÁî®ÂíåÂÖ±‰∫´ÂºïÁî®„ÄÇÂØπË±°ÂõæÁöÑÁõ∏ÂêåÂºïÁî®Â∞ÜÂú®‰∏ÄÊ¨° Fory#copy ‰∏≠Ë¢´Â§çÂà∂‰∏∫‰∏çÂêåÁöÑÂØπË±°Ôºö  Fory fory = Fory.builder().withRefCopy(false).build(); SomeClass a = xxx; SomeClass copied = fory.copy(a);   ","version":"0.14","tagName":"h3"},{"title":"Â∫èÂàóÂåñ API‚Äã","type":1,"pageTitle":"Âü∫Á°ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/0.14/guide/java/basic_serialization#Â∫èÂàóÂåñ-api","content":" ","version":"0.14","tagName":"h2"},{"title":"Âü∫Êú¨Â∫èÂàóÂåñ/ÂèçÂ∫èÂàóÂåñ‚Äã","type":1,"pageTitle":"Âü∫Á°ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/0.14/guide/java/basic_serialization#Âü∫Êú¨Â∫èÂàóÂåñÂèçÂ∫èÂàóÂåñ","content":" // Â∞ÜÂØπË±°Â∫èÂàóÂåñ‰∏∫Â≠óËäÇÊï∞ÁªÑ byte[] bytes = fory.serialize(object); // Â∞ÜÂ≠óËäÇÊï∞ÁªÑÂèçÂ∫èÂàóÂåñ‰∏∫ÂØπË±° Object obj = fory.deserialize(bytes);   ","version":"0.14","tagName":"h3"},{"title":"Â∏¶Á±ªÂûãÁöÑÂ∫èÂàóÂåñ/ÂèçÂ∫èÂàóÂåñ‚Äã","type":1,"pageTitle":"Âü∫Á°ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/0.14/guide/java/basic_serialization#Â∏¶Á±ªÂûãÁöÑÂ∫èÂàóÂåñÂèçÂ∫èÂàóÂåñ","content":" // ‰ΩøÁî®ÊòæÂºèÁ±ªÂûãÂ∫èÂàóÂåñ byte[] bytes = fory.serializeJavaObject(object); // ‰ΩøÁî®È¢ÑÊúüÁ±ªÂûãÂèçÂ∫èÂàóÂåñ MyClass obj = fory.deserializeJavaObject(bytes, MyClass.class);   ","version":"0.14","tagName":"h3"},{"title":"Â∏¶Á±ªÂûã‰ø°ÊÅØÁöÑÂ∫èÂàóÂåñ/ÂèçÂ∫èÂàóÂåñ‚Äã","type":1,"pageTitle":"Âü∫Á°ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/0.14/guide/java/basic_serialization#Â∏¶Á±ªÂûã‰ø°ÊÅØÁöÑÂ∫èÂàóÂåñÂèçÂ∫èÂàóÂåñ","content":" // Â∏¶Á±ªÂûã‰ø°ÊÅØÂ∫èÂàóÂåñ byte[] bytes = fory.serializeJavaObjectAndClass(object); // ‰ΩøÁî®ÂµåÂÖ•ÁöÑÁ±ªÂûã‰ø°ÊÅØÂèçÂ∫èÂàóÂåñ Object obj = fory.deserializeJavaObjectAndClass(bytes);   ","version":"0.14","tagName":"h3"},{"title":"ÊúÄ‰Ω≥ÂÆûË∑µ‚Äã","type":1,"pageTitle":"Âü∫Á°ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/0.14/guide/java/basic_serialization#ÊúÄ‰Ω≥ÂÆûË∑µ","content":" Â§çÁî® Fory ÂÆû‰æãÔºöÂàõÂª∫ Fory ÊàêÊú¨ÂæàÈ´òÔºåÂßãÁªàÂ§çÁî®ÂÆû‰æã‰ΩøÁî®ÈÄÇÂΩìÁöÑÁ∫øÁ®ãÂÆâÂÖ®ÊÄßÔºöÊ†πÊçÆÈúÄË¶ÅÂú®ÂçïÁ∫øÁ®ãÂíåÁ∫øÁ®ãÂÆâÂÖ®‰πãÈó¥ÈÄâÊã©Ê≥®ÂÜåÁ±ªÔºöÊ≥®ÂÜåÂ∏∏Áî®Á±ª‰ª•Ëé∑ÂæóÊõ¥Â•ΩÁöÑÊÄßËÉΩÈÖçÁΩÆÂºïÁî®Ë∑üË∏™ÔºöÂ¶ÇÊûúÊ≤°ÊúâÂæ™ÁéØ/ÂÖ±‰∫´ÂºïÁî®ÔºåËØ∑Á¶ÅÁî®ÂÆÉ  ","version":"0.14","tagName":"h2"},{"title":"Áõ∏ÂÖ≥‰∏ªÈ¢ò‚Äã","type":1,"pageTitle":"Âü∫Á°ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/0.14/guide/java/basic_serialization#Áõ∏ÂÖ≥‰∏ªÈ¢ò","content":" ÈÖçÁΩÆÈÄâÈ°π - ÊâÄÊúâ ForyBuilder ÈÄâÈ°πÁ±ªÂûãÊ≥®ÂÜå - Á±ªÊ≥®ÂÜåÊïÖÈöúÊéíÈô§ - Â∏∏ËßÅ API ‰ΩøÁî®ÈóÆÈ¢ò ","version":"0.14","tagName":"h2"},{"title":"È´òÁ∫ßÁâπÊÄß","type":0,"sectionRef":"#","url":"/zh-CN/docs/0.14/guide/java/advanced_features","content":"","keywords":"","version":"0.14"},{"title":"Èõ∂Êã∑Ë¥ùÂ∫èÂàóÂåñ‚Äã","type":1,"pageTitle":"È´òÁ∫ßÁâπÊÄß","url":"/zh-CN/docs/0.14/guide/java/advanced_features#Èõ∂Êã∑Ë¥ùÂ∫èÂàóÂåñ","content":" Fory ÊîØÊåÅÈõ∂Êã∑Ë¥ùÂ∫èÂàóÂåñÔºå‰ª•È´òÊïàÂ§ÑÁêÜÂ§ßÂûã‰∫åËøõÂà∂Êï∞ÊçÆÔºö  import org.apache.fory.*; import org.apache.fory.config.*; import org.apache.fory.serializer.BufferObject; import org.apache.fory.memory.MemoryBuffer; import java.util.*; import java.util.stream.Collectors; public class ZeroCopyExample { // Ê≥®ÊÑè fory ÂÆû‰æãÂ∫îËØ•Â§çÁî®ÔºåËÄå‰∏çÊòØÊØèÊ¨°ÈÉΩÂàõÂª∫„ÄÇ static Fory fory = Fory.builder() .withLanguage(Language.JAVA) .build(); public static void main(String[] args) { List&lt;Object&gt; list = Arrays.asList(&quot;str&quot;, new byte[1000], new int[100], new double[100]); Collection&lt;BufferObject&gt; bufferObjects = new ArrayList&lt;&gt;(); byte[] bytes = fory.serialize(list, e -&gt; !bufferObjects.add(e)); List&lt;MemoryBuffer&gt; buffers = bufferObjects.stream() .map(BufferObject::toBuffer).collect(Collectors.toList()); System.out.println(fory.deserialize(bytes, buffers)); } }   ","version":"0.14","tagName":"h2"},{"title":"ÂØπË±°Ê∑±Êã∑Ë¥ù‚Äã","type":1,"pageTitle":"È´òÁ∫ßÁâπÊÄß","url":"/zh-CN/docs/0.14/guide/java/advanced_features#ÂØπË±°Ê∑±Êã∑Ë¥ù","content":" Fory Êèê‰æõÈ´òÊïàÁöÑÊ∑±Êã∑Ë¥ùÂäüËÉΩÔºö  ","version":"0.14","tagName":"h2"},{"title":"ÂêØÁî®ÂºïÁî®Ë∑üË∏™‚Äã","type":1,"pageTitle":"È´òÁ∫ßÁâπÊÄß","url":"/zh-CN/docs/0.14/guide/java/advanced_features#ÂêØÁî®ÂºïÁî®Ë∑üË∏™","content":" Fory fory = Fory.builder().withRefCopy(true).build(); SomeClass a = xxx; SomeClass copied = fory.copy(a);   ","version":"0.14","tagName":"h3"},{"title":"Á¶ÅÁî®ÂºïÁî®Ë∑üË∏™ÔºàÊõ¥Â•ΩÁöÑÊÄßËÉΩÔºâ‚Äã","type":1,"pageTitle":"È´òÁ∫ßÁâπÊÄß","url":"/zh-CN/docs/0.14/guide/java/advanced_features#Á¶ÅÁî®ÂºïÁî®Ë∑üË∏™Êõ¥Â•ΩÁöÑÊÄßËÉΩ","content":" Á¶ÅÁî®Êó∂ÔºåÊ∑±Êã∑Ë¥ùÂ∞ÜÂøΩÁï•Âæ™ÁéØÂºïÁî®ÂíåÂÖ±‰∫´ÂºïÁî®„ÄÇÂØπË±°ÂõæÁöÑÁõ∏ÂêåÂºïÁî®Â∞ÜÂú®‰∏ÄÊ¨° Fory#copy ‰∏≠Ë¢´Â§çÂà∂‰∏∫‰∏çÂêåÁöÑÂØπË±°Ôºö  Fory fory = Fory.builder().withRefCopy(false).build(); SomeClass a = xxx; SomeClass copied = fory.copy(a);   ","version":"0.14","tagName":"h3"},{"title":"ÂÜÖÂ≠òÂàÜÈÖçËá™ÂÆö‰πâ‚Äã","type":1,"pageTitle":"È´òÁ∫ßÁâπÊÄß","url":"/zh-CN/docs/0.14/guide/java/advanced_features#ÂÜÖÂ≠òÂàÜÈÖçËá™ÂÆö‰πâ","content":" Fory Êèê‰æõ‰∫Ü MemoryAllocator Êé•Âè£ÔºåÂÖÅËÆ∏‰Ω†Ëá™ÂÆö‰πâÂú®Â∫èÂàóÂåñÊìç‰ΩúÊúüÈó¥Â¶Ç‰ΩïÂàÜÈÖçÂíåÂ¢ûÈïøÂÜÖÂ≠òÁºìÂÜ≤Âå∫„ÄÇËøôÂØπ‰∫éÊÄßËÉΩ‰ºòÂåñ„ÄÅÂÜÖÂ≠òÊ±†ÂåñÊàñË∞ÉËØïÂÜÖÂ≠ò‰ΩøÁî®ÂæàÊúâÁî®„ÄÇ  ","version":"0.14","tagName":"h2"},{"title":"MemoryAllocator Êé•Âè£‚Äã","type":1,"pageTitle":"È´òÁ∫ßÁâπÊÄß","url":"/zh-CN/docs/0.14/guide/java/advanced_features#memoryallocator-Êé•Âè£","content":" MemoryAllocator Êé•Âè£ÂÆö‰πâ‰∫Ü‰∏§‰∏™ÂÖ≥ÈîÆÊñπÊ≥ïÔºö  public interface MemoryAllocator { /** * ÂàÜÈÖçÂÖ∑ÊúâÊåáÂÆöÂàùÂßãÂÆπÈáèÁöÑÊñ∞ MemoryBuffer„ÄÇ */ MemoryBuffer allocate(int initialCapacity); /** * Â¢ûÈïøÁé∞ÊúâÁºìÂÜ≤Âå∫‰ª•ÂÆπÁ∫≥Êñ∞ÂÆπÈáè„ÄÇ * ÂÆûÁé∞ÂøÖÈ°ªÈÄöËøá‰øÆÊîπÁé∞ÊúâÁºìÂÜ≤Âå∫ÂÆû‰æãÊù•ÂéüÂú∞Â¢ûÈïøÁºìÂÜ≤Âå∫„ÄÇ */ MemoryBuffer grow(MemoryBuffer buffer, int newCapacity); }   ","version":"0.14","tagName":"h3"},{"title":"‰ΩøÁî®Ëá™ÂÆö‰πâÂÜÖÂ≠òÂàÜÈÖçÂô®‚Äã","type":1,"pageTitle":"È´òÁ∫ßÁâπÊÄß","url":"/zh-CN/docs/0.14/guide/java/advanced_features#‰ΩøÁî®Ëá™ÂÆö‰πâÂÜÖÂ≠òÂàÜÈÖçÂô®","content":" ‰Ω†ÂèØ‰ª•ËÆæÁΩÆ‰∏Ä‰∏™ÂÖ®Â±ÄÂÜÖÂ≠òÂàÜÈÖçÂô®ÔºåÊâÄÊúâ MemoryBuffer ÂÆû‰æãÈÉΩÂ∞Ü‰ΩøÁî®ÂÆÉÔºö  // ÂàõÂª∫Ëá™ÂÆö‰πâÂàÜÈÖçÂô® MemoryAllocator customAllocator = new MemoryAllocator() { @Override public MemoryBuffer allocate(int initialCapacity) { // ‰∏∫Ë∞ÉËØïÊàñÊ±†ÂåñÊ∑ªÂä†È¢ùÂ§ñÂÆπÈáè return MemoryBuffer.fromByteArray(new byte[initialCapacity + 100]); } @Override public MemoryBuffer grow(MemoryBuffer buffer, int newCapacity) { if (newCapacity &lt;= buffer.size()) { return buffer; } // Ëá™ÂÆö‰πâÂ¢ûÈïøÁ≠ñÁï• - Ê∑ªÂä† 100% È¢ùÂ§ñÂÆπÈáè int newSize = (int) (newCapacity * 2); byte[] data = new byte[newSize]; buffer.copyToUnsafe(0, data, Platform.BYTE_ARRAY_OFFSET, buffer.size()); buffer.initHeapBuffer(data, 0, data.length); return buffer; } }; // ÂÖ®Â±ÄËÆæÁΩÆËá™ÂÆö‰πâÂàÜÈÖçÂô® MemoryBuffer.setGlobalAllocator(customAllocator); // ÊâÄÊúâÂêéÁª≠ÁöÑ MemoryBuffer ÂàÜÈÖçÈÉΩÂ∞Ü‰ΩøÁî®‰Ω†ÁöÑËá™ÂÆö‰πâÂàÜÈÖçÂô® Fory fory = Fory.builder().withLanguage(Language.JAVA).build(); byte[] bytes = fory.serialize(someObject); // ‰ΩøÁî®Ëá™ÂÆö‰πâÂàÜÈÖçÂô®   ","version":"0.14","tagName":"h3"},{"title":"ÈªòËÆ§ÂÜÖÂ≠òÂàÜÈÖçÂô®Ë°å‰∏∫‚Äã","type":1,"pageTitle":"È´òÁ∫ßÁâπÊÄß","url":"/zh-CN/docs/0.14/guide/java/advanced_features#ÈªòËÆ§ÂÜÖÂ≠òÂàÜÈÖçÂô®Ë°å‰∏∫","content":" ÈªòËÆ§ÂàÜÈÖçÂô®‰ΩøÁî®‰ª•‰∏ãÂ¢ûÈïøÁ≠ñÁï•Ôºö  ÂØπ‰∫éÂ∞è‰∫é BUFFER_GROW_STEP_THRESHOLD (100MB) ÁöÑÁºìÂÜ≤Âå∫ÔºöÂ∞ÜÂÆπÈáè‰πò‰ª• 2ÂØπ‰∫éËæÉÂ§ßÁöÑÁºìÂÜ≤Âå∫ÔºöÂ∞ÜÂÆπÈáè‰πò‰ª• 1.5Ôºà‰∏äÈôê‰∏∫ Integer.MAX_VALUE - 8Ôºâ  ËøôÂú®ÈÅøÂÖçÈ¢ëÁπÅÈáçÊñ∞ÂàÜÈÖçÂíåÈò≤Ê≠¢ËøáÂ∫¶ÂÜÖÂ≠ò‰ΩøÁî®‰πãÈó¥Êèê‰æõ‰∫ÜÂπ≥Ë°°„ÄÇ  ","version":"0.14","tagName":"h3"},{"title":"‰ΩøÁî®Âú∫ÊôØ‚Äã","type":1,"pageTitle":"È´òÁ∫ßÁâπÊÄß","url":"/zh-CN/docs/0.14/guide/java/advanced_features#‰ΩøÁî®Âú∫ÊôØ","content":" Ëá™ÂÆö‰πâÂÜÖÂ≠òÂàÜÈÖçÂô®ÈÄÇÁî®‰∫éÔºö  ÂÜÖÂ≠òÊ±†ÂåñÔºöÈáçÁî®ÂàÜÈÖçÁöÑÁºìÂÜ≤Âå∫‰ª•ÂáèÂ∞ë GC ÂéãÂäõÊÄßËÉΩË∞É‰ºòÔºöÊ†πÊçÆ‰Ω†ÁöÑÂ∑•‰ΩúË¥üËΩΩ‰ΩøÁî®‰∏çÂêåÁöÑÂ¢ûÈïøÁ≠ñÁï•Ë∞ÉËØïÔºöÊ∑ªÂä†Êó•ÂøóËÆ∞ÂΩïÊàñË∑üË∏™‰ª•ÁõëÊéßÂÜÖÂ≠ò‰ΩøÁî®Â†ÜÂ§ñÂÜÖÂ≠òÔºö‰∏éÂ†ÜÂ§ñÂÜÖÂ≠òÁÆ°ÁêÜÁ≥ªÁªüÈõÜÊàê  ","version":"0.14","tagName":"h3"},{"title":"Êó•ÂøóËÆ∞ÂΩï‚Äã","type":1,"pageTitle":"È´òÁ∫ßÁâπÊÄß","url":"/zh-CN/docs/0.14/guide/java/advanced_features#Êó•ÂøóËÆ∞ÂΩï","content":" ","version":"0.14","tagName":"h2"},{"title":"ForyLogger‚Äã","type":1,"pageTitle":"È´òÁ∫ßÁâπÊÄß","url":"/zh-CN/docs/0.14/guide/java/advanced_features#forylogger","content":" ÈªòËÆ§ÊÉÖÂÜµ‰∏ãÔºåFory ‰ΩøÁî®Ëá™ÂÆö‰πâÊó•ÂøóËÆ∞ÂΩïÂô® ForyLogger Êù•Êª°Ë∂≥ÂÜÖÈÉ®ÈúÄÊ±Ç„ÄÇÂÆÉÂ∞ÜÁîüÊàêÁöÑÊó•ÂøóÊï∞ÊçÆÊûÑÂª∫‰∏∫Âçï‰∏™Â≠óÁ¨¶‰∏≤ÔºåÂπ∂Áõ¥Êé•ÂèëÈÄÅÂà∞ System.out„ÄÇÁªìÊûúË°åÂ∏ÉÂ±ÄÁ±ª‰ºº‰∫éÔºàLog4j Ë°®Á§∫Ê≥ïÔºâÔºö  %d{yyyy-MM-dd hh:mm:ss} %p %C:%L [%t] - %m%n   Â∏ÉÂ±ÄÊó†Ê≥ïÊõ¥Êîπ„ÄÇ  Á§∫‰æãËæìÂá∫Ôºö  2025-11-07 08:49:59 INFO CompileUnit:55 [main] - Generate code for org.apache.fory.builder.SerializedLambdaForyCodec_0 took 35 ms. 2025-11-07 08:50:00 INFO JaninoUtils:121 [main] - Compile [SerializedLambdaForyCodec_0] take 144 ms   ","version":"0.14","tagName":"h3"},{"title":"Slf4jLogger‚Äã","type":1,"pageTitle":"È´òÁ∫ßÁâπÊÄß","url":"/zh-CN/docs/0.14/guide/java/advanced_features#slf4jlogger","content":" Â¶ÇÊûúÈúÄË¶ÅÊõ¥Â§çÊùÇÁöÑÊó•ÂøóËÆ∞ÂΩïÂô®ÔºåÂèØ‰ª•ÈÄöËøá LoggerFactory.useSlf4jLogging() ÈÖçÁΩÆ Fory ‰ΩøÁî® Slf4j„ÄÇ‰æãÂ¶ÇÔºåÂú®ÂàõÂª∫ Fory ‰πãÂâçÂêØÁî® Slf4jÔºö  public static final ThreadSafeFory FORY; static { LoggerFactory.useSlf4jLogging(true); FORY = Fory.builder() .buildThreadSafeFory(); }   Ê≥®ÊÑèÔºöÂΩìÂ∫îÁî®Á®ãÂ∫èÂú® GraalVM native image ‰∏≠ËøêË°åÊó∂ÔºåÈÄöËøá useSlf4jLogging ÂêØÁî® Slf4j Â∞ÜË¢´ÂøΩÁï•„ÄÇ  ","version":"0.14","tagName":"h3"},{"title":"ÊäëÂà∂ Fory Êó•Âøó‚Äã","type":1,"pageTitle":"È´òÁ∫ßÁâπÊÄß","url":"/zh-CN/docs/0.14/guide/java/advanced_features#ÊäëÂà∂-fory-Êó•Âøó","content":" ForyLogger Âíå Slf4jLogger ÈÉΩÂÖÅËÆ∏ÊéßÂà∂Êó•ÂøóËæìÂá∫Á∫ßÂà´ÊàñÂÆåÂÖ®ÊäëÂà∂Êó•Âøó„ÄÇÈÄöËøá LoggerFactory.setLogLevel() ÈÖçÁΩÆÊó•ÂøóÁ∫ßÂà´Ôºö  static { // Âè™ËÆ∞ÂΩï WARN ÂèäÊõ¥È´òÁ∫ßÂà´ LoggerFactory.setLogLevel(LogLevel.WARN_LEVEL); // ÂÆåÂÖ®Á¶ÅÁî®Êó•ÂøóËÆ∞ÂΩï LoggerFactory.disableLogging(); }   Ê≥®ÊÑèÔºöÊâÄÈÄâÁöÑÊó•ÂøóÁ∫ßÂà´Âú® Slf4j ÂÆûÁé∞ÁöÑÊó•ÂøóÁ∫ßÂà´‰πãÂâçÂ∫îÁî®„ÄÇÂõ†Ê≠§ÔºåÂ¶ÇÊûú‰Ω†ËÆæÁΩÆ WARN_LEVELÔºàÂ¶Ç‰∏ä‰æãÔºâÔºåÂç≥‰ΩøÂú® Logback ‰∏≠ÂêØÁî®‰∫Ü INFOÔºå‰Ω†‰πü‰∏ç‰ºöÁúãÂà∞Êù•Ëá™ Fory ÁöÑ INFO Ê∂àÊÅØ„ÄÇ  ","version":"0.14","tagName":"h3"},{"title":"Áõ∏ÂÖ≥‰∏ªÈ¢ò‚Äã","type":1,"pageTitle":"È´òÁ∫ßÁâπÊÄß","url":"/zh-CN/docs/0.14/guide/java/advanced_features#Áõ∏ÂÖ≥‰∏ªÈ¢ò","content":" ÂéãÁº© - Êï∞ÊçÆÂéãÁº©ÈÄâÈ°πÈÖçÁΩÆÈÄâÈ°π - ÊâÄÊúâ ForyBuilder ÈÄâÈ°πË∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ - XLANG Ê®°Âºè ","version":"0.14","tagName":"h2"},{"title":"ÂéãÁº©","type":0,"sectionRef":"#","url":"/zh-CN/docs/0.14/guide/java/compression","content":"","keywords":"","version":"0.14"},{"title":"Êï¥Êï∞ÂéãÁº©‚Äã","type":1,"pageTitle":"ÂéãÁº©","url":"/zh-CN/docs/0.14/guide/java/compression#Êï¥Êï∞ÂéãÁº©","content":" ForyBuilder#withIntCompressed/ForyBuilder#withLongCompressed ÂèØÁî®‰∫éÂéãÁº© int/long ‰ª•Ëé∑ÂæóÊõ¥Â∞èÁöÑÂ§ßÂ∞è„ÄÇÈÄöÂ∏∏ÂéãÁº© int Â∞±Ë∂≥Â§ü‰∫Ü„ÄÇ  Ëøô‰∏§‰∏™ÂéãÁº©ÈÄâÈ°πÈªòËÆ§ÈÉΩÊòØÂêØÁî®ÁöÑ„ÄÇÂ¶ÇÊûúÂ∫èÂàóÂåñÂ§ßÂ∞è‰∏çÈáçË¶ÅÔºà‰æãÂ¶ÇÔºå‰Ω†‰πãÂâç‰ΩøÁî® FlatBuffers ËøõË°åÂ∫èÂàóÂåñÔºåÂÆÉ‰∏çÂéãÁº©‰ªª‰Ωï‰∏úË•øÔºâÔºåÈÇ£‰πà‰Ω†Â∫îËØ•Á¶ÅÁî®ÂéãÁº©„ÄÇÂ¶ÇÊûú‰Ω†ÁöÑÊï∞ÊçÆÂÖ®ÊòØÊï∞Â≠óÔºåÂéãÁº©ÂèØËÉΩ‰ºöÂ∏¶Êù• 80% ÁöÑÊÄßËÉΩÂõûÈÄÄ„ÄÇ  ","version":"0.14","tagName":"h2"},{"title":"Int ÂéãÁº©‚Äã","type":1,"pageTitle":"ÂéãÁº©","url":"/zh-CN/docs/0.14/guide/java/compression#int-ÂéãÁº©","content":" ÂØπ‰∫é int ÂéãÁº©ÔºåFory ‰ΩøÁî® 1~5 ‰∏™Â≠óËäÇËøõË°åÁºñÁ†Å„ÄÇÊØè‰∏™Â≠óËäÇ‰∏≠ÁöÑÁ¨¨‰∏Ä‰ΩçË°®Á§∫ÊòØÂê¶Êúâ‰∏ã‰∏Ä‰∏™Â≠óËäÇ„ÄÇÂ¶ÇÊûúËÆæÁΩÆ‰∫ÜÁ¨¨‰∏Ä‰ΩçÔºåÂàôÂ∞ÜËØªÂèñ‰∏ã‰∏Ä‰∏™Â≠óËäÇÔºåÁõ¥Âà∞‰∏ã‰∏Ä‰∏™Â≠óËäÇÁöÑÁ¨¨‰∏Ä‰ΩçÊú™ËÆæÁΩÆ„ÄÇ  ","version":"0.14","tagName":"h3"},{"title":"Long ÂéãÁº©‚Äã","type":1,"pageTitle":"ÂéãÁº©","url":"/zh-CN/docs/0.14/guide/java/compression#long-ÂéãÁº©","content":" ÂØπ‰∫é long ÂéãÁº©ÔºåFory ÊîØÊåÅ‰∏§ÁßçÁºñÁ†ÅÔºö  SLIÔºàSmall Long as IntÔºâÁºñÁ†ÅÔºàÈªòËÆ§Ôºâ‚Äã  Â¶ÇÊûú long Âú® [-1073741824, 1073741823] ËåÉÂõ¥ÂÜÖÔºåÁºñÁ†Å‰∏∫ 4 Â≠óËäÇ intÔºö| little-endian: ((int) value) &lt;&lt; 1 |Âê¶ÂàôÂÜô‰∏∫ 9 Â≠óËäÇÔºö| 0b1 | little-endian 8bytes long |  PVLÔºàProgressive Variable-length LongÔºâÁºñÁ†Å‚Äã  ÊØè‰∏™Â≠óËäÇ‰∏≠ÁöÑÁ¨¨‰∏Ä‰ΩçË°®Á§∫ÊòØÂê¶Êúâ‰∏ã‰∏Ä‰∏™Â≠óËäÇ„ÄÇÂ¶ÇÊûúËÆæÁΩÆ‰∫ÜÁ¨¨‰∏Ä‰ΩçÔºåÂàôÂ∞ÜËØªÂèñ‰∏ã‰∏Ä‰∏™Â≠óËäÇÔºåÁõ¥Âà∞‰∏ã‰∏Ä‰∏™Â≠óËäÇÁöÑÁ¨¨‰∏Ä‰ΩçÊú™ËÆæÁΩÆ„ÄÇË¥üÊï∞Â∞ÜÈÄöËøá (v &lt;&lt; 1) ^ (v &gt;&gt; 63) ËΩ¨Êç¢‰∏∫Ê≠£Êï∞Ôºå‰ª•ÂáèÂ∞ëÂ∞èË¥üÊï∞ÁöÑÊàêÊú¨„ÄÇ  Â¶ÇÊûúÊï∞Â≠óÊòØ long Á±ªÂûãÔºå‰ΩÜÂ§ßÂ§öÊï∞ÊÉÖÂÜµ‰∏ã‰∏çËÉΩÁî®ËæÉÂ∞èÁöÑÂ≠óËäÇË°®Á§∫ÔºåÂéãÁº©‰∏ç‰ºöÂæóÂà∞Ë∂≥Â§üÂ•ΩÁöÑÁªìÊûú‚Äî‚Äî‰∏éÊÄßËÉΩÊàêÊú¨Áõ∏ÊØî‰∏çÂÄºÂæó„ÄÇÂ¶ÇÊûú‰Ω†ÂèëÁé∞ÂÆÉÊ≤°ÊúâÂ∏¶Êù•Â§™Â§öÁ©∫Èó¥ËäÇÁúÅÔºå‰πüËÆ∏‰Ω†Â∫îËØ•Â∞ùËØïÁ¶ÅÁî® long ÂéãÁº©„ÄÇ  ","version":"0.14","tagName":"h3"},{"title":"Êï∞ÁªÑÂéãÁº©‚Äã","type":1,"pageTitle":"ÂéãÁº©","url":"/zh-CN/docs/0.14/guide/java/compression#Êï∞ÁªÑÂéãÁº©","content":" ÂΩìÊï∞ÁªÑÂÄºÂèØ‰ª•ÈÄÇÈÖçËæÉÂ∞èÁöÑÊï∞ÊçÆÁ±ªÂûãÊó∂ÔºåFory ÊîØÊåÅÂéüÂßãÊï∞ÁªÑÔºàint[] Âíå long[]ÔºâÁöÑ SIMD Âä†ÈÄüÂéãÁº©„ÄÇÊ≠§ÂäüËÉΩÂú® Java 16+ ‰∏äÂèØÁî®ÔºåÂπ∂‰ΩøÁî® Vector API ‰ª•Ëé∑ÂæóÊúÄ‰Ω≥ÊÄßËÉΩ„ÄÇ  ","version":"0.14","tagName":"h2"},{"title":"Êï∞ÁªÑÂéãÁº©Â∑•‰ΩúÂéüÁêÜ‚Äã","type":1,"pageTitle":"ÂéãÁº©","url":"/zh-CN/docs/0.14/guide/java/compression#Êï∞ÁªÑÂéãÁº©Â∑•‰ΩúÂéüÁêÜ","content":" Êï∞ÁªÑÂéãÁº©ÂàÜÊûêÊï∞ÁªÑ‰ª•Á°ÆÂÆöÂÄºÊòØÂê¶ÂèØ‰ª•‰ΩøÁî®Êõ¥Â∞ëÁöÑÂ≠óËäÇÂ≠òÂÇ®Ôºö  int[] ‚Üí byte[]ÔºöÂΩìÊâÄÊúâÂÄºÈÉΩÂú®ËåÉÂõ¥ [-128, 127] ÂÜÖÊó∂ÔºàÂáèÂ∞ë 75% Â§ßÂ∞èÔºâint[] ‚Üí short[]ÔºöÂΩìÊâÄÊúâÂÄºÈÉΩÂú®ËåÉÂõ¥ [-32768, 32767] ÂÜÖÊó∂ÔºàÂáèÂ∞ë 50% Â§ßÂ∞èÔºâlong[] ‚Üí int[]ÔºöÂΩìÊâÄÊúâÂÄºÈÉΩÈÄÇÂêàÊï¥Êï∞ËåÉÂõ¥Êó∂ÔºàÂáèÂ∞ë 50% Â§ßÂ∞èÔºâ  ","version":"0.14","tagName":"h3"},{"title":"ÈÖçÁΩÆÂíåÊ≥®ÂÜå‚Äã","type":1,"pageTitle":"ÂéãÁº©","url":"/zh-CN/docs/0.14/guide/java/compression#ÈÖçÁΩÆÂíåÊ≥®ÂÜå","content":" Ë¶ÅÂêØÁî®Êï∞ÁªÑÂéãÁº©Ôºå‰Ω†ÂøÖÈ°ªÊòæÂºèÊ≥®ÂÜåÂ∫èÂàóÂåñÂô®Ôºö  Fory fory = Fory.builder() .withLanguage(Language.JAVA) // ÂêØÁî® int Êï∞ÁªÑÂéãÁº© .withIntArrayCompressed(true) // ÂêØÁî® long Êï∞ÁªÑÂéãÁº© .withLongArrayCompressed(true) .build(); // ‰Ω†ÂøÖÈ°ªÊòæÂºèÊ≥®ÂÜåÂéãÁº©Êï∞ÁªÑÂ∫èÂàóÂåñÂô® CompressedArraySerializers.registerSerializers(fory);   Ê≥®ÊÑèÔºöÂøÖÈ°ªÂú®‰æùËµñÈ°π‰∏≠ÂåÖÂê´ fory-simd Ê®°ÂùóÔºåÂéãÁº©Êï∞ÁªÑÂ∫èÂàóÂåñÂô®ÊâçÂèØÁî®„ÄÇ  ","version":"0.14","tagName":"h3"},{"title":"Maven ‰æùËµñ‚Äã","type":1,"pageTitle":"ÂéãÁº©","url":"/zh-CN/docs/0.14/guide/java/compression#maven-‰æùËµñ","content":" &lt;dependency&gt; &lt;groupId&gt;org.apache.fory&lt;/groupId&gt; &lt;artifactId&gt;fory-simd&lt;/artifactId&gt; &lt;version&gt;0.14.1&lt;/version&gt; &lt;/dependency&gt;   ","version":"0.14","tagName":"h3"},{"title":"Â≠óÁ¨¶‰∏≤ÂéãÁº©‚Äã","type":1,"pageTitle":"ÂéãÁº©","url":"/zh-CN/docs/0.14/guide/java/compression#Â≠óÁ¨¶‰∏≤ÂéãÁº©","content":" Â≠óÁ¨¶‰∏≤ÂéãÁº©ÂèØ‰ª•ÈÄöËøá ForyBuilder#withStringCompressed(true) ÂêØÁî®„ÄÇËøôÈªòËÆ§ÊòØÁ¶ÅÁî®ÁöÑ„ÄÇ  ","version":"0.14","tagName":"h2"},{"title":"ÈÖçÁΩÆÊëòË¶Å‚Äã","type":1,"pageTitle":"ÂéãÁº©","url":"/zh-CN/docs/0.14/guide/java/compression#ÈÖçÁΩÆÊëòË¶Å","content":" ÈÄâÈ°π\tÊèèËø∞\tÈªòËÆ§ÂÄºcompressInt\tÂêØÁî® int ÂéãÁº©\ttrue compressLong\tÂêØÁî® long ÂéãÁº©\ttrue compressIntArray\tÂêØÁî® SIMD int Êï∞ÁªÑÂéãÁº©ÔºàJava 16+Ôºâ\ttrue compressLongArray\tÂêØÁî® SIMD long Êï∞ÁªÑÂéãÁº©ÔºàJava 16+Ôºâ\ttrue compressString\tÂêØÁî®Â≠óÁ¨¶‰∏≤ÂéãÁº©\tfalse  ","version":"0.14","tagName":"h2"},{"title":"ÊÄßËÉΩËÄÉËôë‚Äã","type":1,"pageTitle":"ÂéãÁº©","url":"/zh-CN/docs/0.14/guide/java/compression#ÊÄßËÉΩËÄÉËôë","content":" ÂØπÊï∞Â≠óÂØÜÈõÜÂûãÊï∞ÊçÆÁ¶ÅÁî®ÂéãÁº©ÔºöÂ¶ÇÊûú‰Ω†ÁöÑÊï∞ÊçÆ‰∏ªË¶ÅÊòØÊï∞Â≠óÔºåÂéãÁº©ÂºÄÈîÄÂèØËÉΩ‰∏çÂÄºÂæóÊï∞ÁªÑÂéãÁº©ÈúÄË¶Å Java 16+Ôºö‰ΩøÁî® Vector API ËøõË°å SIMD Âä†ÈÄüLong ÂéãÁº©ÂèØËÉΩÂØπÂ§ßÂÄºÊó†Áî®ÔºöÂ¶ÇÊûúÂ§ßÂ§öÊï∞ long ‰∏çËÉΩÈÄÇÈÖçËæÉÂ∞èÁöÑË°®Á§∫ÔºåËØ∑Á¶ÅÁî®ÂÆÉÂ≠óÁ¨¶‰∏≤ÂéãÁº©ÊúâÂºÄÈîÄÔºö‰ªÖÂú®Â≠óÁ¨¶‰∏≤È´òÂ∫¶ÂèØÂéãÁº©Êó∂ÂêØÁî®  ","version":"0.14","tagName":"h2"},{"title":"Á§∫‰æãÈÖçÁΩÆ‚Äã","type":1,"pageTitle":"ÂéãÁº©","url":"/zh-CN/docs/0.14/guide/java/compression#Á§∫‰æãÈÖçÁΩÆ","content":" // ÂØπ‰∫é‰∏ªË¶ÅÊòØÊï∞Â≠óÁöÑÊï∞ÊçÆ - Á¶ÅÁî®ÂéãÁº© Fory fory = Fory.builder() .withLanguage(Language.JAVA) .withIntCompressed(false) .withLongCompressed(false) .build(); // ÂØπ‰∫éÂåÖÂê´Êï∞ÁªÑÁöÑÊ∑∑ÂêàÊï∞ÊçÆ - ÂêØÁî®Êï∞ÁªÑÂéãÁº© Fory fory = Fory.builder() .withLanguage(Language.JAVA) .withIntCompressed(true) .withLongCompressed(true) .withIntArrayCompressed(true) .withLongArrayCompressed(true) .build(); CompressedArraySerializers.registerSerializers(fory);   ","version":"0.14","tagName":"h2"},{"title":"Áõ∏ÂÖ≥‰∏ªÈ¢ò‚Äã","type":1,"pageTitle":"ÂéãÁº©","url":"/zh-CN/docs/0.14/guide/java/compression#Áõ∏ÂÖ≥‰∏ªÈ¢ò","content":" ÈÖçÁΩÆÈÄâÈ°π - ÊâÄÊúâ ForyBuilder ÈÄâÈ°πÈ´òÁ∫ßÁâπÊÄß - ÂÜÖÂ≠òÁÆ°ÁêÜ ","version":"0.14","tagName":"h2"},{"title":"ÈÖçÁΩÆÈÄâÈ°π","type":0,"sectionRef":"#","url":"/zh-CN/docs/0.14/guide/java/configuration","content":"","keywords":"","version":"0.14"},{"title":"ForyBuilder ÈÄâÈ°π‚Äã","type":1,"pageTitle":"ÈÖçÁΩÆÈÄâÈ°π","url":"/zh-CN/docs/0.14/guide/java/configuration#forybuilder-ÈÄâÈ°π","content":" ÈÄâÈ°πÂêçÁß∞\tÊèèËø∞\tÈªòËÆ§ÂÄºtimeRefIgnored\tÂΩìÂêØÁî®ÂºïÁî®Ë∑üË∏™Êó∂ÔºåÊòØÂê¶ÂøΩÁï•Âú® TimeSerializers ‰∏≠Ê≥®ÂÜåÁöÑÊâÄÊúâÊó∂Èó¥Á±ªÂûãÂèäÂÖ∂Â≠êÁ±ªÁöÑÂºïÁî®Ë∑üË∏™„ÄÇÂ¶ÇÊûúÂøΩÁï•ÔºåÂèØ‰ª•ÈÄöËøáË∞ÉÁî® Fory#registerSerializer(Class, Serializer) ‰∏∫ÊØè‰∏™Êó∂Èó¥Á±ªÂûãÂêØÁî®ÂºïÁî®Ë∑üË∏™„ÄÇ‰æãÂ¶ÇÔºåfory.registerSerializer(Date.class, new DateSerializer(fory, true))„ÄÇÊ≥®ÊÑèÔºåÂêØÁî®ÂºïÁî®Ë∑üË∏™Â∫îËØ•Âú®ÂåÖÂê´Êó∂Èó¥Â≠óÊÆµÁöÑ‰ªª‰ΩïÁ±ªÂûãÁöÑÂ∫èÂàóÂåñÂô®‰ª£Á†ÅÁîüÊàê‰πãÂâçËøõË°å„ÄÇÂê¶ÂàôÔºåËøô‰∫õÂ≠óÊÆµ‰ªçÂ∞ÜË∑≥ËøáÂºïÁî®Ë∑üË∏™„ÄÇ\ttrue compressInt\tÂêØÁî®ÊàñÁ¶ÅÁî® int ÂéãÁº©‰ª•Ëé∑ÂæóÊõ¥Â∞èÁöÑÂ§ßÂ∞è„ÄÇ\ttrue compressLong\tÂêØÁî®ÊàñÁ¶ÅÁî® long ÂéãÁº©‰ª•Ëé∑ÂæóÊõ¥Â∞èÁöÑÂ§ßÂ∞è„ÄÇ\ttrue compressIntArray\tÂΩìÂÄºÂèØ‰ª•ÈÄÇÈÖçËæÉÂ∞èÊï∞ÊçÆÁ±ªÂûãÊó∂ÔºåÂêØÁî®ÊàñÁ¶ÅÁî® int Êï∞ÁªÑÁöÑ SIMD Âä†ÈÄüÂéãÁº©„ÄÇÈúÄË¶Å Java 16+„ÄÇ\ttrue compressLongArray\tÂΩìÂÄºÂèØ‰ª•ÈÄÇÈÖçËæÉÂ∞èÊï∞ÊçÆÁ±ªÂûãÊó∂ÔºåÂêØÁî®ÊàñÁ¶ÅÁî® long Êï∞ÁªÑÁöÑ SIMD Âä†ÈÄüÂéãÁº©„ÄÇÈúÄË¶Å Java 16+„ÄÇ\ttrue compressString\tÂêØÁî®ÊàñÁ¶ÅÁî®Â≠óÁ¨¶‰∏≤ÂéãÁº©‰ª•Ëé∑ÂæóÊõ¥Â∞èÁöÑÂ§ßÂ∞è„ÄÇ\tfalse classLoader\t‰∏çÂ∫îÊõ¥Êñ∞Á±ªÂä†ËΩΩÂô®ÔºõFory ÁºìÂ≠òÁ±ªÂÖÉÊï∞ÊçÆ„ÄÇÂØπ‰∫éÁ±ªÂä†ËΩΩÂô®Êõ¥Êñ∞ÔºåËØ∑‰ΩøÁî® LoaderBinding Êàñ ThreadSafeFory„ÄÇ\tThread.currentThread().getContextClassLoader() compatibleMode\tÁ±ªÂûãÂâçÂêë/ÂêéÂêëÂÖºÂÆπÊÄßÈÖçÁΩÆ„ÄÇ‰πü‰∏é checkClassVersion ÈÖçÁΩÆÁõ∏ÂÖ≥„ÄÇSCHEMA_CONSISTENTÔºöÂ∫èÂàóÂåñÁ´ØÂíåÂèçÂ∫èÂàóÂåñÁ´Ø‰πãÈó¥ÁöÑÁ±ª schema ÂøÖÈ°ª‰∏ÄËá¥„ÄÇCOMPATIBLEÔºöÂ∫èÂàóÂåñÁ´ØÂíåÂèçÂ∫èÂàóÂåñÁ´Ø‰πãÈó¥ÁöÑÁ±ª schema ÂèØ‰ª•‰∏çÂêå„ÄÇÂÆÉ‰ª¨ÂèØ‰ª•Áã¨Á´ãÊ∑ªÂä†/Âà†Èô§Â≠óÊÆµ„ÄÇÊü•ÁúãÊõ¥Â§ö„ÄÇ\tCompatibleMode.SCHEMA_CONSISTENT checkClassVersion\tÁ°ÆÂÆöÊòØÂê¶Ê£ÄÊü•Á±ª schema ÁöÑ‰∏ÄËá¥ÊÄß„ÄÇÂ¶ÇÊûúÂêØÁî®ÔºåFory ‰ºö‰ΩøÁî® classVersionHash Ê£ÄÊü•„ÄÅÂÜôÂÖ•ÂíåÊ£ÄÊü•‰∏ÄËá¥ÊÄß„ÄÇÂΩìÂêØÁî® CompatibleMode#COMPATIBLE Êó∂ÔºåÂÆÉÂ∞ÜËá™Âä®Á¶ÅÁî®„ÄÇÈô§Èùû‰Ω†ËÉΩÁ°Æ‰øùÁ±ª‰∏ç‰ºöÊºîÂåñÔºåÂê¶Âàô‰∏çÂª∫ËÆÆÁ¶ÅÁî®„ÄÇ\tfalse checkJdkClassSerializable\tÂêØÁî®ÊàñÁ¶ÅÁî®ÂØπ java.* ‰∏ãÁöÑÁ±ªÁöÑ Serializable Êé•Âè£Ê£ÄÊü•„ÄÇÂ¶ÇÊûú java.* ‰∏ãÁöÑÁ±ª‰∏çÊòØ SerializableÔºåFory Â∞ÜÊäõÂá∫ UnsupportedOperationException„ÄÇ\ttrue registerGuavaTypes\tÊòØÂê¶È¢ÑÊ≥®ÂÜå Guava Á±ªÂûãÔºåÂ¶Ç RegularImmutableMap/RegularImmutableList„ÄÇËøô‰∫õÁ±ªÂûã‰∏çÊòØÂÖ¨ÂÖ± APIÔºå‰ΩÜ‰ºº‰πéÁõ∏ÂΩìÁ®≥ÂÆö„ÄÇ\ttrue requireClassRegistration\tÁ¶ÅÁî®ÂèØËÉΩÂÖÅËÆ∏Êú™Áü•Á±ªË¢´ÂèçÂ∫èÂàóÂåñÔºåÂèØËÉΩÂØºËá¥ÂÆâÂÖ®È£éÈô©„ÄÇ\ttrue maxDepth\tËÆæÁΩÆÂèçÂ∫èÂàóÂåñÁöÑÊúÄÂ§ßÊ∑±Â∫¶ÔºåÂΩìÊ∑±Â∫¶Ë∂ÖËøáÊó∂ÔºåÂ∞ÜÊäõÂá∫ÂºÇÂ∏∏„ÄÇËøôÂèØÁî®‰∫éÊãíÁªùÂèçÂ∫èÂàóÂåñ DDOS ÊîªÂáª„ÄÇ\t50 suppressClassRegistrationWarnings\tÊòØÂê¶ÊäëÂà∂Á±ªÊ≥®ÂÜåË≠¶Âëä„ÄÇËøô‰∫õË≠¶ÂëäÂèØÁî®‰∫éÂÆâÂÖ®ÂÆ°ËÆ°Ôºå‰ΩÜÂèØËÉΩÂæàÁÉ¶‰∫∫ÔºåÈªòËÆ§ÊÉÖÂÜµ‰∏ãÂ∞ÜÂêØÁî®Ê≠§ÊäëÂà∂„ÄÇ\ttrue metaShareEnabled\tÂêØÁî®ÊàñÁ¶ÅÁî®ÂÖÉÊï∞ÊçÆÂÖ±‰∫´Ê®°Âºè„ÄÇ\tÂ¶ÇÊûúËÆæÁΩÆ‰∫Ü CompatibleMode.Compatible Âàô‰∏∫ trueÔºåÂê¶Âàô‰∏∫ false„ÄÇ scopedMetaShareEnabled\t‰ΩúÁî®ÂüüÂÖÉÊï∞ÊçÆÂÖ±‰∫´‰∏ìÊ≥®‰∫éÂçï‰∏™Â∫èÂàóÂåñËøáÁ®ã„ÄÇÂú®Ê≠§ËøáÁ®ã‰∏≠ÂàõÂª∫ÊàñËØÜÂà´ÁöÑÂÖÉÊï∞ÊçÆÊòØÂÆÉ‰∏ìÊúâÁöÑÔºå‰∏ç‰ºö‰∏éÂÖ∂‰ªñÂ∫èÂàóÂåñÂÖ±‰∫´„ÄÇ\tÂ¶ÇÊûúËÆæÁΩÆ‰∫Ü CompatibleMode.Compatible Âàô‰∏∫ trueÔºåÂê¶Âàô‰∏∫ false„ÄÇ metaCompressor\t‰∏∫ÂÖÉÊï∞ÊçÆÂéãÁº©ËÆæÁΩÆÂéãÁº©Âô®„ÄÇÊ≥®ÊÑè‰º†ÈÄíÁöÑ MetaCompressor Â∫îËØ•ÊòØÁ∫øÁ®ãÂÆâÂÖ®ÁöÑ„ÄÇÈªòËÆ§ÊÉÖÂÜµ‰∏ãÔºåÂ∞Ü‰ΩøÁî®Âü∫‰∫é Deflater ÁöÑÂéãÁº©Âô® DeflaterMetaCompressor„ÄÇÁî®Êà∑ÂèØ‰ª•‰º†ÈÄíÂÖ∂‰ªñÂéãÁº©Âô®ÔºåÂ¶Ç zstd ‰ª•Ëé∑ÂæóÊõ¥Â•ΩÁöÑÂéãÁº©Áéá„ÄÇ\tDeflaterMetaCompressor deserializeNonexistentClass\tÂêØÁî®ÊàñÁ¶ÅÁî®ÂØπ‰∏çÂ≠òÂú®Á±ªÁöÑÊï∞ÊçÆÁöÑÂèçÂ∫èÂàóÂåñ/Ë∑≥Ëøá„ÄÇ\tÂ¶ÇÊûúËÆæÁΩÆ‰∫Ü CompatibleMode.Compatible Âàô‰∏∫ trueÔºåÂê¶Âàô‰∏∫ false„ÄÇ codeGenEnabled\tÁ¶ÅÁî®ÂèØËÉΩÂØºËá¥Êõ¥Âø´ÁöÑÂàùÂßãÂ∫èÂàóÂåñÔºå‰ΩÜÂêéÁª≠Â∫èÂàóÂåñ‰ºöÊõ¥ÊÖ¢„ÄÇ\ttrue asyncCompilationEnabled\tÂ¶ÇÊûúÂêØÁî®ÔºåÂ∫èÂàóÂåñÈ¶ñÂÖà‰ΩøÁî®Ëß£ÈáäÂô®Ê®°ÂºèÔºåÂú®Á±ªÁöÑÂºÇÊ≠•Â∫èÂàóÂåñÂô® JIT ÂÆåÊàêÂêéÂàáÊç¢Âà∞ JIT Â∫èÂàóÂåñ„ÄÇ\tfalse scalaOptimizationEnabled\tÂêØÁî®ÊàñÁ¶ÅÁî® Scala ÁâπÂÆöÁöÑÂ∫èÂàóÂåñ‰ºòÂåñ„ÄÇ\tfalse copyRef\tÁ¶ÅÁî®Êó∂ÔºåÊã∑Ë¥ùÊÄßËÉΩ‰ºöÊõ¥Â•Ω„ÄÇ‰ΩÜ Fory Ê∑±Êã∑Ë¥ùÂ∞ÜÂøΩÁï•Âæ™ÁéØÂºïÁî®ÂíåÂÖ±‰∫´ÂºïÁî®„ÄÇÂØπË±°ÂõæÁöÑÁõ∏ÂêåÂºïÁî®Â∞ÜÂú®‰∏ÄÊ¨° Fory#copy ‰∏≠Ë¢´Â§çÂà∂‰∏∫‰∏çÂêåÁöÑÂØπË±°„ÄÇ\ttrue serializeEnumByName\tÂêØÁî®Êó∂ÔºåFory ÊåâÂêçÁß∞ËÄå‰∏çÊòØÂ∫èÊï∞Â∫èÂàóÂåñÊûö‰∏æ„ÄÇ\tfalse  ","version":"0.14","tagName":"h2"},{"title":"Á§∫‰æãÈÖçÁΩÆ‚Äã","type":1,"pageTitle":"ÈÖçÁΩÆÈÄâÈ°π","url":"/zh-CN/docs/0.14/guide/java/configuration#Á§∫‰æãÈÖçÁΩÆ","content":" Fory fory = Fory.builder() .withLanguage(Language.JAVA) // ÂêØÁî®ÂºïÁî®Ë∑üË∏™‰ª•ÊîØÊåÅÂÖ±‰∫´/Âæ™ÁéØÂºïÁî®„ÄÇ // Â¶ÇÊûúÊ≤°ÊúâÈáçÂ§çÂºïÁî®ÔºåÁ¶ÅÁî®ÂÆÉ‰ºöÊúâÊõ¥Â•ΩÁöÑÊÄßËÉΩ„ÄÇ .withRefTracking(false) // ÂéãÁº© int ‰ª•Ëé∑ÂæóÊõ¥Â∞èÁöÑÂ§ßÂ∞è .withIntCompressed(true) // ÂéãÁº© long ‰ª•Ëé∑ÂæóÊõ¥Â∞èÁöÑÂ§ßÂ∞è .withLongCompressed(true) .withCompatibleMode(CompatibleMode.SCHEMA_CONSISTENT) // ÂêØÁî®Á±ªÂûãÂâçÂêë/ÂêéÂêëÂÖºÂÆπÊÄß // Á¶ÅÁî®ÂÆÉ‰ª•Ëé∑ÂæóÊõ¥Â∞èÁöÑÂ§ßÂ∞èÂíåÊõ¥Â•ΩÁöÑÊÄßËÉΩ„ÄÇ // .withCompatibleMode(CompatibleMode.COMPATIBLE) // ÂêØÁî®ÂºÇÊ≠•Â§öÁ∫øÁ®ãÁºñËØë„ÄÇ .withAsyncCompilation(true) .build();   ","version":"0.14","tagName":"h2"},{"title":"Áõ∏ÂÖ≥‰∏ªÈ¢ò‚Äã","type":1,"pageTitle":"ÈÖçÁΩÆÈÄâÈ°π","url":"/zh-CN/docs/0.14/guide/java/configuration#Áõ∏ÂÖ≥‰∏ªÈ¢ò","content":" Schema ÊºîÂåñ - ÂÖºÂÆπÊ®°ÂºèÂíåÂÖÉÊï∞ÊçÆÂÖ±‰∫´ÂéãÁº© - Int„ÄÅlong ÂíåÊï∞ÁªÑÂéãÁº©ËØ¶ÊÉÖÁ±ªÂûãÊ≥®ÂÜå - Á±ªÊ≥®ÂÜåÈÄâÈ°π ","version":"0.14","tagName":"h2"},{"title":"ËøÅÁßªÊåáÂçó","type":0,"sectionRef":"#","url":"/zh-CN/docs/0.14/guide/java/migration","content":"","keywords":"","version":"0.14"},{"title":"JDK Â∫èÂàóÂåñËøÅÁßª‚Äã","type":1,"pageTitle":"ËøÅÁßªÊåáÂçó","url":"/zh-CN/docs/0.14/guide/java/migration#jdk-Â∫èÂàóÂåñËøÅÁßª","content":" Â¶ÇÊûú‰Ω†‰πãÂâç‰ΩøÁî® JDK Â∫èÂàóÂåñÔºåÂπ∂‰∏îÊó†Ê≥ïÂêåÊó∂ÂçáÁ∫ßÂÆ¢Êà∑Á´ØÂíåÊúçÂä°Âô®ÔºàËøôÂØπ‰∫éÂú®Á∫øÂ∫îÁî®Á®ãÂ∫èÂæàÂ∏∏ËßÅÔºâÔºåFory Êèê‰æõ‰∫Ü‰∏Ä‰∏™ÂÆûÁî®ÊñπÊ≥ï org.apache.fory.serializer.JavaSerializer.serializedByJDK Êù•Ê£ÄÊü•‰∫åËøõÂà∂ÊòØÂê¶Áî± JDK Â∫èÂàóÂåñÁîüÊàê„ÄÇ  ‰Ω†ÂèØ‰ª•‰ΩøÁî®‰ª•‰∏ãÊ®°Âºè‰ΩøÁé∞ÊúâÂ∫èÂàóÂåñÂçèËÆÆÊÑüÁü•ÔºåÁÑ∂Âêé‰ª•ÂºÇÊ≠•ÊªöÂä®ÊñπÂºèÂçáÁ∫ßÂ∫èÂàóÂåñÂà∞ ForyÔºö  if (JavaSerializer.serializedByJDK(bytes)) { ObjectInputStream objectInputStream = xxx; return objectInputStream.readObject(); } else { return fory.deserialize(bytes); }   ËøôÂÖÅËÆ∏‰Ω†Ôºö  ÈÉ®ÁΩ≤ÂèØ‰ª•ÂêåÊó∂ËØªÂèñ JDK Âíå Fory Â∫èÂàóÂåñÊï∞ÊçÆÁöÑÊñ∞‰ª£Á†ÅÈÄêÊ≠•Â∞ÜÂ∫èÂàóÂåñËøÅÁßªÂà∞ ForyÊúÄÁªàÁßªÈô§ JDK Â∫èÂàóÂåñÊîØÊåÅ  ","version":"0.14","tagName":"h2"},{"title":"ÂçáÁ∫ß Fory‚Äã","type":1,"pageTitle":"ËøÅÁßªÊåáÂçó","url":"/zh-CN/docs/0.14/guide/java/migration#ÂçáÁ∫ß-fory","content":" ","version":"0.14","tagName":"h2"},{"title":"Â∞èÁâàÊú¨ÂçáÁ∫ß‚Äã","type":1,"pageTitle":"ËøÅÁßªÊåáÂçó","url":"/zh-CN/docs/0.14/guide/java/migration#Â∞èÁâàÊú¨ÂçáÁ∫ß","content":" ÁõÆÂâçÔºå‰ªÖ‰∏∫Â∞èÁâàÊú¨Êèê‰æõ‰∫åËøõÂà∂ÂÖºÂÆπÊÄß„ÄÇ‰æãÂ¶ÇÔºåÂ¶ÇÊûú‰Ω†‰ΩøÁî® Fory v0.2.0ÔºåÂ¶ÇÊûúÂçáÁ∫ßÂà∞ Fory v0.2.1ÔºåÂ∞ÜÊèê‰æõ‰∫åËøõÂà∂ÂÖºÂÆπÊÄß„ÄÇ  Â¶ÇÊûú‰Ω†ÊåâÂ∞èÁâàÊú¨ÂçáÁ∫ßÔºåÊàñËÄÖ‰Ω†‰∏ç‰ºöÊúâÊóßÁâà Fory Â∫èÂàóÂåñÁöÑÊï∞ÊçÆÔºå‰Ω†ÂèØ‰ª•Áõ¥Êé•ÂçáÁ∫ß ForyÔºåÊó†ÈúÄ‰ªª‰ΩïÁâπÊÆäÂ§ÑÁêÜ„ÄÇ  ","version":"0.14","tagName":"h3"},{"title":"Â§ßÁâàÊú¨ÂçáÁ∫ß‚Äã","type":1,"pageTitle":"ËøÅÁßªÊåáÂçó","url":"/zh-CN/docs/0.14/guide/java/migration#Â§ßÁâàÊú¨ÂçáÁ∫ß","content":" Â¶ÇÊûú‰Ω†‰ªé v0.2.x ÂçáÁ∫ßÂà∞ Fory v0.4.1ÔºåÂàô‰∏ç‰øùËØÅ‰∫åËøõÂà∂ÂÖºÂÆπÊÄß„ÄÇ  Â§ßÂ§öÊï∞Êó∂ÂÄô‰∏çÈúÄË¶ÅÂçáÁ∫ß Fory Âà∞Êõ¥Êñ∞ÁöÑÂ§ßÁâàÊú¨‚Äî‚ÄîÂΩìÂâçÁâàÊú¨Â∑≤ÁªèË∂≥Â§üÂø´ÈÄüÂíåÁ¥ßÂáëÔºåÊàë‰ª¨‰∏∫ÊúÄËøëÁöÑÊóßÁâàÊú¨Êèê‰æõ‰∏Ä‰∫õÂ∞è‰øÆÂ§ç„ÄÇ  ","version":"0.14","tagName":"h3"},{"title":"‰∏∫Â∫èÂàóÂåñÊï∞ÊçÆÊ∑ªÂä†ÁâàÊú¨‚Äã","type":1,"pageTitle":"ËøÅÁßªÊåáÂçó","url":"/zh-CN/docs/0.14/guide/java/migration#‰∏∫Â∫èÂàóÂåñÊï∞ÊçÆÊ∑ªÂä†ÁâàÊú¨","content":" Â¶ÇÊûú‰Ω†Á°ÆÂÆûÊÉ≥ÂçáÁ∫ß Fory ‰ª•Ëé∑ÂæóÊõ¥Â•ΩÁöÑÊÄßËÉΩÂíåÊõ¥Â∞èÁöÑÂ§ßÂ∞èÔºå‰Ω†ÈúÄË¶ÅÂ∞Ü Fory ÁâàÊú¨‰Ωú‰∏∫Â§¥ÈÉ®ÂÜôÂÖ•Â∫èÂàóÂåñÊï∞ÊçÆÔºå‰ΩøÁî®Â¶Ç‰∏ã‰ª£Á†ÅÊù•‰øùÊåÅ‰∫åËøõÂà∂ÂÖºÂÆπÊÄßÔºö  Â∏¶ÁâàÊú¨Â§¥ÁöÑÂ∫èÂàóÂåñ‚Äã  MemoryBuffer buffer = xxx; buffer.writeVarInt32(2); // ÂÜôÂÖ• Fory ÁâàÊú¨ fory.serialize(buffer, obj);   Â∏¶ÁâàÊú¨Â§¥ÁöÑÂèçÂ∫èÂàóÂåñ‚Äã  MemoryBuffer buffer = xxx; int foryVersion = buffer.readVarInt32(); Fory fory = getFory(foryVersion); fory.deserialize(buffer);   getFory ÊòØ‰∏Ä‰∏™Âä†ËΩΩÁõ∏Â∫î Fory ÁâàÊú¨ÁöÑÊñπÊ≥ï„ÄÇ‰Ω†ÂèØ‰ª•Â∞Ü‰∏çÂêåÁâàÊú¨ÁöÑ Fory shade Âíå relocate Âà∞‰∏çÂêåÁöÑÂåÖÔºåÂπ∂ÊåâÁâàÊú¨Âä†ËΩΩ Fory„ÄÇ  ","version":"0.14","tagName":"h3"},{"title":"Shading Á§∫‰æã‚Äã","type":1,"pageTitle":"ËøÅÁßªÊåáÂçó","url":"/zh-CN/docs/0.14/guide/java/migration#shading-Á§∫‰æã","content":" &lt;!-- Maven Shade Plugin ÈÖçÁΩÆÁî®‰∫éÂ§ö‰∏™ Fory ÁâàÊú¨ --&gt; &lt;plugin&gt; &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt; &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt; &lt;executions&gt; &lt;execution&gt; &lt;id&gt;shade-fory-v1&lt;/id&gt; &lt;phase&gt;package&lt;/phase&gt; &lt;goals&gt; &lt;goal&gt;shade&lt;/goal&gt; &lt;/goals&gt; &lt;configuration&gt; &lt;relocations&gt; &lt;relocation&gt; &lt;pattern&gt;org.apache.fory&lt;/pattern&gt; &lt;shadedPattern&gt;com.myapp.fory.v1&lt;/shadedPattern&gt; &lt;/relocation&gt; &lt;/relocations&gt; &lt;/configuration&gt; &lt;/execution&gt; &lt;/executions&gt; &lt;/plugin&gt;   ","version":"0.14","tagName":"h3"},{"title":"ÊúÄ‰Ω≥ÂÆûË∑µ‚Äã","type":1,"pageTitle":"ËøÅÁßªÊåáÂçó","url":"/zh-CN/docs/0.14/guide/java/migration#ÊúÄ‰Ω≥ÂÆûË∑µ","content":" ÂçáÁ∫ßÂâçÂΩªÂ∫ïÊµãËØïÔºöÁ°Æ‰øù‰∏éÁé∞ÊúâÂ∫èÂàóÂåñÊï∞ÊçÆÁöÑÂÖºÂÆπÊÄßÂØπÈïøÊúüÂ≠òÂÇ®‰ΩøÁî®ÁâàÊú¨Â§¥ÔºöÂ¶ÇÊûúÊï∞ÊçÆÂú® Fory ÁâàÊú¨‰πãÈó¥ÊåÅ‰πÖÂåñ‰øùÊåÅÂêëÂêéÂÖºÂÆπÊÄßÔºö‰øùÁïôÊóßÁâàÊú¨ Fory ‰ª•ËØªÂèñÈÅóÁïôÊï∞ÊçÆÂçáÁ∫ßÂêéÁõëÊéßÔºöÂú®Áîü‰∫ßÁéØÂ¢É‰∏≠Ê≥®ÊÑèÂèçÂ∫èÂàóÂåñÈîôËØØ  ","version":"0.14","tagName":"h2"},{"title":"Áõ∏ÂÖ≥‰∏ªÈ¢ò‚Äã","type":1,"pageTitle":"ËøÅÁßªÊåáÂçó","url":"/zh-CN/docs/0.14/guide/java/migration#Áõ∏ÂÖ≥‰∏ªÈ¢ò","content":" ÈÖçÁΩÆÈÄâÈ°π - ForyBuilder ÈÄâÈ°πSchema ÊºîÂåñ - Â§ÑÁêÜÁ±ªÂèòÊõ¥ÊïÖÈöúÊéíÈô§ - Â∏∏ËßÅËøÅÁßªÈóÆÈ¢ò ","version":"0.14","tagName":"h2"},{"title":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ","type":0,"sectionRef":"#","url":"/zh-CN/docs/0.14/guide/java/cross_language","content":"","keywords":"","version":"0.14"},{"title":"ÂêØÁî®Ë∑®ËØ≠Ë®ÄÊ®°Âºè‚Äã","type":1,"pageTitle":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/0.14/guide/java/cross_language#ÂêØÁî®Ë∑®ËØ≠Ë®ÄÊ®°Âºè","content":" Ë¶ÅÂ∫èÂàóÂåñ‰æõÂÖ∂‰ªñËØ≠Ë®Ä‰ΩøÁî®ÁöÑÊï∞ÊçÆÔºå‰ΩøÁî® Language.XLANG Ê®°ÂºèÔºö  import org.apache.fory.*; import org.apache.fory.config.*; // ‰ΩøÁî® XLANG Ê®°ÂºèÂàõÂª∫ Fory ÂÆû‰æã Fory fory = Fory.builder() .withLanguage(Language.XLANG) .withRefTracking(true) // ‰∏∫Â§çÊùÇÂõæÂêØÁî®ÂºïÁî®Ë∑üË∏™ .build();   ","version":"0.14","tagName":"h2"},{"title":"‰∏∫Ë∑®ËØ≠Ë®ÄÂÖºÂÆπÊÄßÊ≥®ÂÜåÁ±ªÂûã‚Äã","type":1,"pageTitle":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/0.14/guide/java/cross_language#‰∏∫Ë∑®ËØ≠Ë®ÄÂÖºÂÆπÊÄßÊ≥®ÂÜåÁ±ªÂûã","content":" Á±ªÂûãÂøÖÈ°ª‰ΩøÁî®‰∏ÄËá¥ÁöÑ ID ÊàñÂêçÁß∞Âú®ÊâÄÊúâËØ≠Ë®Ä‰∏≠Ê≥®ÂÜå„ÄÇFory ÊîØÊåÅ‰∏§ÁßçÊ≥®ÂÜåÊñπÊ≥ïÔºö  ","version":"0.14","tagName":"h2"},{"title":"Êåâ ID Ê≥®ÂÜåÔºàÊé®ËçêÁî®‰∫éÊÄßËÉΩÔºâ‚Äã","type":1,"pageTitle":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/0.14/guide/java/cross_language#Êåâ-id-Ê≥®ÂÜåÊé®ËçêÁî®‰∫éÊÄßËÉΩ","content":" public record Person(String name, int age) {} // ‰ΩøÁî®Êï∞Â≠ó ID Ê≥®ÂÜå - Êõ¥Âø´Êõ¥Á¥ßÂáë fory.register(Person.class, 1); Person person = new Person(&quot;Alice&quot;, 30); byte[] bytes = fory.serialize(person); // bytes ÂèØ‰ª•Ë¢´ Python„ÄÅRust„ÄÅGo Á≠âÂèçÂ∫èÂàóÂåñ„ÄÇ   ‰ºòÁÇπÔºöÊõ¥Âø´ÁöÑÂ∫èÂàóÂåñÔºåÊõ¥Â∞èÁöÑ‰∫åËøõÂà∂Â§ßÂ∞èÊùÉË°°ÔºöÈúÄË¶ÅÂçèË∞É‰ª•ÈÅøÂÖçË∑®Âõ¢Èòü/ÊúçÂä°ÁöÑ ID ÂÜ≤Á™Å  ","version":"0.14","tagName":"h3"},{"title":"ÊåâÂêçÁß∞Ê≥®ÂÜåÔºàÊé®ËçêÁî®‰∫éÁÅµÊ¥ªÊÄßÔºâ‚Äã","type":1,"pageTitle":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/0.14/guide/java/cross_language#ÊåâÂêçÁß∞Ê≥®ÂÜåÊé®ËçêÁî®‰∫éÁÅµÊ¥ªÊÄß","content":" public record Person(String name, int age) {} // ‰ΩøÁî®Â≠óÁ¨¶‰∏≤ÂêçÁß∞Ê≥®ÂÜå - Êõ¥ÁÅµÊ¥ª fory.register(Person.class, &quot;example.Person&quot;); Person person = new Person(&quot;Alice&quot;, 30); byte[] bytes = fory.serialize(person); // bytes ÂèØ‰ª•Ë¢´ Python„ÄÅRust„ÄÅGo Á≠âÂèçÂ∫èÂàóÂåñ„ÄÇ   ‰ºòÁÇπÔºö‰∏çÂÆπÊòìÂÜ≤Á™ÅÔºåË∑®Âõ¢ÈòüÁÆ°ÁêÜÊõ¥ÂÆπÊòìÔºåÊó†ÈúÄÂçèË∞ÉÊùÉË°°ÔºöÁî±‰∫éÂ≠óÁ¨¶‰∏≤ÁºñÁ†ÅÔºå‰∫åËøõÂà∂Â§ßÂ∞èÁ®çÂ§ß  ","version":"0.14","tagName":"h3"},{"title":"Ë∑®ËØ≠Ë®ÄÁ§∫‰æãÔºöJava ‚Üî Python‚Äã","type":1,"pageTitle":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/0.14/guide/java/cross_language#Ë∑®ËØ≠Ë®ÄÁ§∫‰æãjava--python","content":" ","version":"0.14","tagName":"h2"},{"title":"JavaÔºàÂ∫èÂàóÂåñÂô®Ôºâ‚Äã","type":1,"pageTitle":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/0.14/guide/java/cross_language#javaÂ∫èÂàóÂåñÂô®","content":" import org.apache.fory.*; import org.apache.fory.config.*; public record Person(String name, int age) {} public class Example { public static void main(String[] args) { Fory fory = Fory.builder() .withLanguage(Language.XLANG) .withRefTracking(true) .build(); // ‰ΩøÁî®‰∏ÄËá¥ÁöÑÂêçÁß∞Ê≥®ÂÜå fory.register(Person.class, &quot;example.Person&quot;); Person person = new Person(&quot;Bob&quot;, 25); byte[] bytes = fory.serialize(person); // ÈÄöËøáÁΩëÁªú/Êñá‰ª∂/ÈòüÂàóÂ∞Ü bytes ÂèëÈÄÅÂà∞ Python ÊúçÂä° } }   ","version":"0.14","tagName":"h3"},{"title":"PythonÔºàÂèçÂ∫èÂàóÂåñÂô®Ôºâ‚Äã","type":1,"pageTitle":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/0.14/guide/java/cross_language#pythonÂèçÂ∫èÂàóÂåñÂô®","content":" import pyfory from dataclasses import dataclass @dataclass class Person: name: str age: pyfory.int32 # Âú® xlang Ê®°Âºè‰∏ãÂàõÂª∫ Fory fory = pyfory.Fory(ref_tracking=True) # ‰ΩøÁî®‰∏é Java Áõ∏ÂêåÁöÑÂêçÁß∞Ê≥®ÂÜå fory.register_type(Person, typename=&quot;example.Person&quot;) # ‰ªé Java ÂèçÂ∫èÂàóÂåñ bytes person = fory.deserialize(bytes_from_java) print(f&quot;{person.name}, {person.age}&quot;) # ËæìÂá∫ÔºöBob, 25   ","version":"0.14","tagName":"h3"},{"title":"Â§ÑÁêÜÂæ™ÁéØÂºïÁî®ÂíåÂÖ±‰∫´ÂºïÁî®‚Äã","type":1,"pageTitle":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/0.14/guide/java/cross_language#Â§ÑÁêÜÂæ™ÁéØÂºïÁî®ÂíåÂÖ±‰∫´ÂºïÁî®","content":" ÂêØÁî®ÂºïÁî®Ë∑üË∏™Êó∂ÔºåË∑®ËØ≠Ë®ÄÊ®°ÂºèÊîØÊåÅÂæ™ÁéØÂºïÁî®ÂíåÂÖ±‰∫´ÂºïÁî®Ôºö  public class Node { public String value; public Node next; public Node parent; } Fory fory = Fory.builder() .withLanguage(Language.XLANG) .withRefTracking(true) // Âæ™ÁéØÂºïÁî®ÈúÄË¶Å .build(); fory.register(Node.class, &quot;example.Node&quot;); // ÂàõÂª∫Âæ™ÁéØÂºïÁî® Node node1 = new Node(); node1.value = &quot;A&quot;; Node node2 = new Node(); node2.value = &quot;B&quot;; node1.next = node2; node2.parent = node1; // Âæ™ÁéØÂºïÁî® byte[] bytes = fory.serialize(node1); // Python/Rust/Go ÂèØ‰ª•Ê≠£Á°ÆÂèçÂ∫èÂàóÂåñËøô‰∏™ÔºåÂπ∂‰øùÁïôÂæ™ÁéØÂºïÁî®   ","version":"0.14","tagName":"h2"},{"title":"Á±ªÂûãÊò†Â∞ÑËÄÉËôë‚Äã","type":1,"pageTitle":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/0.14/guide/java/cross_language#Á±ªÂûãÊò†Â∞ÑËÄÉËôë","content":" Âπ∂ÈùûÊâÄÊúâ Java Á±ªÂûãÂú®ÂÖ∂‰ªñËØ≠Ë®Ä‰∏≠ÈÉΩÊúâÁ≠â‰ª∑Áâ©„ÄÇ‰ΩøÁî® xlang Ê®°ÂºèÊó∂Ôºö  ‰ΩøÁî®ÂéüÂßãÁ±ªÂûãÔºàint„ÄÅlong„ÄÅdouble„ÄÅStringÔºâ‰ª•Ëé∑ÂæóÊúÄÂ§ßÂÖºÂÆπÊÄß‰ΩøÁî®Ê†áÂáÜÈõÜÂêàÔºàList„ÄÅMap„ÄÅSetÔºâËÄå‰∏çÊòØÁâπÂÆö‰∫éËØ≠Ë®ÄÁöÑÈõÜÂêàÈÅøÂÖç Java ÁâπÂÆöÁ±ªÂûãÔºåÂ¶Ç Optional„ÄÅBigDecimalÔºàÈô§ÈùûÁõÆÊ†áËØ≠Ë®ÄÊîØÊåÅÂÆÉ‰ª¨ÔºâÊü•ÁúãÁ±ªÂûãÊò†Â∞ÑÊåáÂçóËé∑ÂèñÂÆåÊï¥ÁöÑÂÖºÂÆπÊÄßÁü©Èòµ  ","version":"0.14","tagName":"h2"},{"title":"ÂÖºÂÆπÁ±ªÂûã‚Äã","type":1,"pageTitle":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/0.14/guide/java/cross_language#ÂÖºÂÆπÁ±ªÂûã","content":" public record UserData( String name, // ‚úÖ ÂÖºÂÆπ int age, // ‚úÖ ÂÖºÂÆπ List&lt;String&gt; tags, // ‚úÖ ÂÖºÂÆπ Map&lt;String, Integer&gt; scores // ‚úÖ ÂÖºÂÆπ ) {}   ","version":"0.14","tagName":"h3"},{"title":"ÊúâÈóÆÈ¢òÁöÑÁ±ªÂûã‚Äã","type":1,"pageTitle":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/0.14/guide/java/cross_language#ÊúâÈóÆÈ¢òÁöÑÁ±ªÂûã","content":" public record UserData( Optional&lt;String&gt; name, // ‚ùå ‰∏çË∑®ËØ≠Ë®ÄÂÖºÂÆπ BigDecimal balance, // ‚ùå ÊîØÊåÅÊúâÈôê EnumSet&lt;Status&gt; statuses // ‚ùå Java ÁâπÂÆöÈõÜÂêà ) {}   ","version":"0.14","tagName":"h3"},{"title":"ÊÄßËÉΩËÄÉËôë‚Äã","type":1,"pageTitle":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/0.14/guide/java/cross_language#ÊÄßËÉΩËÄÉËôë","content":" Ë∑®ËØ≠Ë®ÄÊ®°ÂºèÁõ∏ÊØî‰ªÖ Java Ê®°ÂºèÊúâÈ¢ùÂ§ñÁöÑÂºÄÈîÄÔºö  Á±ªÂûãÂÖÉÊï∞ÊçÆÁºñÁ†ÅÔºöÊØè‰∏™Á±ªÂûãÊ∑ªÂä†È¢ùÂ§ñÂ≠óËäÇÁ±ªÂûãËß£ÊûêÔºöÂú®ÂèçÂ∫èÂàóÂåñÊúüÈó¥ÈúÄË¶ÅÂêçÁß∞/ID Êü•Êâæ  ‰∏∫‰∫ÜÊúÄ‰Ω≥ÊÄßËÉΩÔºö  Â∞ΩÂèØËÉΩ‰ΩøÁî®Âü∫‰∫é ID ÁöÑÊ≥®ÂÜåÔºàÊõ¥Â∞èÁöÑÁºñÁ†ÅÔºâÂ¶ÇÊûú‰∏çÈúÄË¶ÅÂæ™ÁéØÂºïÁî®ÔºåÁ¶ÅÁî®ÂºïÁî®Ë∑üË∏™ÔºàwithRefTracking(false)ÔºâÂΩìÂè™ÈúÄË¶Å Java Â∫èÂàóÂåñÊó∂‰ΩøÁî® Java Ê®°ÂºèÔºàLanguage.JAVAÔºâ  ","version":"0.14","tagName":"h2"},{"title":"Ë∑®ËØ≠Ë®ÄÊúÄ‰Ω≥ÂÆûË∑µ‚Äã","type":1,"pageTitle":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/0.14/guide/java/cross_language#Ë∑®ËØ≠Ë®ÄÊúÄ‰Ω≥ÂÆûË∑µ","content":" ‰∏ÄËá¥ÁöÑÊ≥®ÂÜåÔºöÁ°Æ‰øùÊâÄÊúâÊúçÂä°‰ΩøÁî®Áõ∏ÂêåÁöÑ ID/ÂêçÁß∞Ê≥®ÂÜåÁ±ªÂûãÁâàÊú¨ÂÖºÂÆπÊÄßÔºö‰ΩøÁî®ÂÖºÂÆπÊ®°ÂºèË∑®ÊúçÂä°ËøõË°å schema ÊºîÂåñ  ","version":"0.14","tagName":"h2"},{"title":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñÊïÖÈöúÊéíÈô§‚Äã","type":1,"pageTitle":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/0.14/guide/java/cross_language#Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñÊïÖÈöúÊéíÈô§","content":" ","version":"0.14","tagName":"h2"},{"title":"\"Type not registered\" ÈîôËØØ‚Äã","type":1,"pageTitle":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/0.14/guide/java/cross_language#type-not-registered-ÈîôËØØ","content":" È™åËØÅÁ±ªÂûãÂú®‰∏§Á´ØÈÉΩ‰ΩøÁî®Áõ∏ÂêåÁöÑ ID/ÂêçÁß∞Ê≥®ÂÜåÊ£ÄÊü•Á±ªÂûãÂêçÁß∞ÊòØÂê¶ÊúâÊãºÂÜôÈîôËØØÊàñÂ§ßÂ∞èÂÜôÂ∑ÆÂºÇ  ","version":"0.14","tagName":"h3"},{"title":"\"Type mismatch\" ÈîôËØØ‚Äã","type":1,"pageTitle":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/0.14/guide/java/cross_language#type-mismatch-ÈîôËØØ","content":" Á°Æ‰øùÂ≠óÊÆµÁ±ªÂûãÂú®ËØ≠Ë®Ä‰πãÈó¥ÂÖºÂÆπÊü•ÁúãÁ±ªÂûãÊò†Â∞ÑÊåáÂçó  ","version":"0.14","tagName":"h3"},{"title":"Êï∞ÊçÆÊçüÂùèÊàñÊÑèÂ§ñÂÄº‚Äã","type":1,"pageTitle":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/0.14/guide/java/cross_language#Êï∞ÊçÆÊçüÂùèÊàñÊÑèÂ§ñÂÄº","content":" È™åËØÅ‰∏§Á´ØÈÉΩ‰ΩøÁî® Language.XLANG Ê®°ÂºèÁ°Æ‰øù‰∏§Á´ØÂÖ∑ÊúâÂÖºÂÆπÁöÑ Fory ÁâàÊú¨  ","version":"0.14","tagName":"h3"},{"title":"Âè¶ËØ∑ÂèÇÈòÖ‚Äã","type":1,"pageTitle":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/0.14/guide/java/cross_language#Âè¶ËØ∑ÂèÇÈòÖ","content":" Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñËßÑËåÉÁ±ªÂûãÊò†Â∞ÑÂèÇËÄÉPython Ë∑®ËØ≠Ë®ÄÊåáÂçóRust Ë∑®ËØ≠Ë®ÄÊåáÂçó  ","version":"0.14","tagName":"h2"},{"title":"Áõ∏ÂÖ≥‰∏ªÈ¢ò‚Äã","type":1,"pageTitle":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/0.14/guide/java/cross_language#Áõ∏ÂÖ≥‰∏ªÈ¢ò","content":" Schema ÊºîÂåñ - ÂÖºÂÆπÊ®°ÂºèÁ±ªÂûãÊ≥®ÂÜå - Ê≥®ÂÜåÊñπÊ≥ïË°åÊ†ºÂºè - Ë∑®ËØ≠Ë®ÄË°åÊ†ºÂºè ","version":"0.14","tagName":"h2"},{"title":"Ë°åÊ†ºÂºè","type":0,"sectionRef":"#","url":"/zh-CN/docs/0.14/guide/java/row_format","content":"","keywords":"","version":"0.14"},{"title":"Ê¶ÇËø∞‚Äã","type":1,"pageTitle":"Ë°åÊ†ºÂºè","url":"/zh-CN/docs/0.14/guide/java/row_format#Ê¶ÇËø∞","content":" Ë°åÊ†ºÂºèÊòØ‰∏ÄÁßçÁºìÂ≠òÂèãÂ•ΩÁöÑ‰∫åËøõÂà∂ÈöèÊú∫ËÆøÈóÆÊ†ºÂºèÔºåÊîØÊåÅÔºö  Èõ∂Êã∑Ë¥ùËÆøÈóÆÔºöÁõ¥Êé•‰ªé‰∫åËøõÂà∂ËØªÂèñÂ≠óÊÆµÔºåÊó†ÈúÄÂàÜÈÖçÂØπË±°ÈÉ®ÂàÜÂèçÂ∫èÂàóÂåñÔºöÂè™ËÆøÈóÆ‰Ω†ÈúÄË¶ÅÁöÑÂ≠óÊÆµË∑≥ËøáÂ∫èÂàóÂåñÔºöË∑≥Ëøá‰∏çÈúÄË¶ÅÁöÑÂ≠óÊÆµÁöÑÂ∫èÂàóÂåñË∑®ËØ≠Ë®ÄÂÖºÂÆπÊÄßÔºöÂú® Python„ÄÅJava„ÄÅC++ ÂíåÂÖ∂‰ªñËØ≠Ë®Ä‰πãÈó¥Â∑•‰ΩúÂàóÊ†ºÂºèËΩ¨Êç¢ÔºöÂèØ‰ª•Ëá™Âä®ËΩ¨Êç¢‰∏∫ Apache Arrow ÂàóÊ†ºÂºè  ","version":"0.14","tagName":"h2"},{"title":"Âü∫Êú¨‰ΩøÁî®‚Äã","type":1,"pageTitle":"Ë°åÊ†ºÂºè","url":"/zh-CN/docs/0.14/guide/java/row_format#Âü∫Êú¨‰ΩøÁî®","content":" public class Bar { String f1; List&lt;Long&gt; f2; } public class Foo { int f1; List&lt;Integer&gt; f2; Map&lt;String, Integer&gt; f3; List&lt;Bar&gt; f4; } RowEncoder&lt;Foo&gt; encoder = Encoders.bean(Foo.class); // ÂàõÂª∫Â§ßÂûãÊï∞ÊçÆÈõÜ Foo foo = new Foo(); foo.f1 = 10; foo.f2 = IntStream.range(0, 1_000_000).boxed().collect(Collectors.toList()); foo.f3 = IntStream.range(0, 1_000_000).boxed().collect(Collectors.toMap(i -&gt; &quot;k&quot; + i, i -&gt; i)); List&lt;Bar&gt; bars = new ArrayList&lt;&gt;(1_000_000); for (int i = 0; i &lt; 1_000_000; i++) { Bar bar = new Bar(); bar.f1 = &quot;s&quot; + i; bar.f2 = LongStream.range(0, 10).boxed().collect(Collectors.toList()); bars.add(bar); } foo.f4 = bars; // ÁºñÁ†Å‰∏∫Ë°åÊ†ºÂºèÔºàË∑®ËØ≠Ë®ÄÂÖºÂÆπ Python/C++Ôºâ BinaryRow binaryRow = encoder.toRow(foo); // Èõ∂Êã∑Ë¥ùÈöèÊú∫ËÆøÈóÆÔºåÊó†ÈúÄÂÆåÂÖ®ÂèçÂ∫èÂàóÂåñ BinaryArray f2Array = binaryRow.getArray(1); // ËÆøÈóÆ f2 ÂàóË°® BinaryArray f4Array = binaryRow.getArray(3); // ËÆøÈóÆ f4 ÂàóË°® BinaryRow bar10 = f4Array.getStruct(10); // ËÆøÈóÆÁ¨¨ 11 ‰∏™ Bar long value = bar10.getArray(1).getInt64(5); // ËÆøÈóÆ bar.f2 ÁöÑÁ¨¨ 6 ‰∏™ÂÖÉÁ¥† // ÈÉ®ÂàÜÂèçÂ∫èÂàóÂåñ - Âè™ÂèçÂ∫èÂàóÂåñ‰Ω†ÈúÄË¶ÅÁöÑ RowEncoder&lt;Bar&gt; barEncoder = Encoders.bean(Bar.class); Bar bar1 = barEncoder.fromRow(f4Array.getStruct(10)); // Âè™ÂèçÂ∫èÂàóÂåñÁ¨¨ 11 ‰∏™ Bar Bar bar2 = barEncoder.fromRow(f4Array.getStruct(20)); // Âè™ÂèçÂ∫èÂàóÂåñÁ¨¨ 21 ‰∏™ Bar // ÈúÄË¶ÅÊó∂ÂÆåÂÖ®ÂèçÂ∫èÂàóÂåñ Foo newFoo = encoder.fromRow(binaryRow);   ","version":"0.14","tagName":"h2"},{"title":"‰∏ªË¶Å‰ºòÂäø‚Äã","type":1,"pageTitle":"Ë°åÊ†ºÂºè","url":"/zh-CN/docs/0.14/guide/java/row_format#‰∏ªË¶Å‰ºòÂäø","content":" ÁâπÊÄß\tÊèèËø∞Èõ∂Êã∑Ë¥ùËÆøÈóÆ\tËØªÂèñÂµåÂ•óÂ≠óÊÆµËÄåÊó†ÈúÄÂèçÂ∫èÂàóÂåñÊï¥‰∏™ÂØπË±° ÂÜÖÂ≠òÊïàÁéá\tÁõ¥Êé•‰ªéÁ£ÅÁõòÂÜÖÂ≠òÊò†Â∞ÑÂ§ßÊï∞ÊçÆÈõÜ Ë∑®ËØ≠Ë®Ä\tJava„ÄÅPython„ÄÅC++ ‰πãÈó¥ÁöÑ‰∫åËøõÂà∂Ê†ºÂºèÂÖºÂÆπ ÈÉ®ÂàÜÂèçÂ∫èÂàóÂåñ\tÂè™ÂèçÂ∫èÂàóÂåñ‰Ω†ÈúÄË¶ÅÁöÑÁâπÂÆöÂÖÉÁ¥† È´òÊÄßËÉΩ\tË∑≥Ëøá‰∏çÂøÖË¶ÅÁöÑÊï∞ÊçÆËß£ÊûêÁî®‰∫éÂàÜÊûêÂ∑•‰ΩúË¥üËΩΩ  ","version":"0.14","tagName":"h2"},{"title":"‰ΩïÊó∂‰ΩøÁî®Ë°åÊ†ºÂºè‚Äã","type":1,"pageTitle":"Ë°åÊ†ºÂºè","url":"/zh-CN/docs/0.14/guide/java/row_format#‰ΩïÊó∂‰ΩøÁî®Ë°åÊ†ºÂºè","content":" Ë°åÊ†ºÂºèÈÄÇÁî®‰∫éÔºö  ÂàÜÊûêÂ∑•‰ΩúË¥üËΩΩÔºöÂΩì‰Ω†Âè™ÈúÄË¶ÅËÆøÈóÆÁâπÂÆöÂ≠óÊÆµÊó∂Â§ßÊï∞ÊçÆÈõÜÔºöÂΩìÂÆåÂÖ®ÂèçÂ∫èÂàóÂåñÊàêÊú¨Â§™È´òÊó∂ÂÜÖÂ≠òÊò†Â∞ÑÊñá‰ª∂ÔºöÂ§ÑÁêÜÂ§ß‰∫é RAM ÁöÑÊï∞ÊçÆÊï∞ÊçÆÁÆ°ÈÅìÔºöÊó†ÈúÄÂÆåÊï¥ÂØπË±°ÈáçÂª∫Âç≥ÂèØÂ§ÑÁêÜÊï∞ÊçÆË∑®ËØ≠Ë®ÄÊï∞ÊçÆÂÖ±‰∫´ÔºöÂΩìÊï∞ÊçÆÈúÄË¶Å‰ªéÂ§öÁßçËØ≠Ë®ÄËÆøÈóÆÊó∂  ","version":"0.14","tagName":"h2"},{"title":"Ë∑®ËØ≠Ë®ÄÂÖºÂÆπÊÄß‚Äã","type":1,"pageTitle":"Ë°åÊ†ºÂºè","url":"/zh-CN/docs/0.14/guide/java/row_format#Ë∑®ËØ≠Ë®ÄÂÖºÂÆπÊÄß","content":" Ë°åÊ†ºÂºèÂú®ËØ≠Ë®Ä‰πãÈó¥Êó†ÁºùÂ∑•‰Ωú„ÄÇÁõ∏ÂêåÁöÑ‰∫åËøõÂà∂Êï∞ÊçÆÂèØ‰ª•‰ªé‰ª•‰∏ãËØ≠Ë®ÄËÆøÈóÆÔºö  ","version":"0.14","tagName":"h2"},{"title":"Python‚Äã","type":1,"pageTitle":"Ë°åÊ†ºÂºè","url":"/zh-CN/docs/0.14/guide/java/row_format#python","content":" import pyfory import pyarrow as pa from dataclasses import dataclass from typing import List, Dict @dataclass class Bar: f1: str f2: List[pa.int64] @dataclass class Foo: f1: pa.int32 f2: List[pa.int32] f3: Dict[str, pa.int32] f4: List[Bar] encoder = pyfory.encoder(Foo) binary: bytes = encoder.to_row(foo).to_bytes() # Èõ∂Êã∑Ë¥ùËÆøÈóÆ foo_row = pyfory.RowData(encoder.schema, binary) print(foo_row.f2[100000]) print(foo_row.f4[100000].f1)   ","version":"0.14","tagName":"h3"},{"title":"C++‚Äã","type":1,"pageTitle":"Ë°åÊ†ºÂºè","url":"/zh-CN/docs/0.14/guide/java/row_format#c","content":" #include &quot;fory/encoder/row_encoder.h&quot; #include &quot;fory/row/writer.h&quot; struct Bar { std::string f1; std::vector&lt;int64_t&gt; f2; }; FORY_FIELD_INFO(Bar, f1, f2); struct Foo { int32_t f1; std::vector&lt;int32_t&gt; f2; std::map&lt;std::string, int32_t&gt; f3; std::vector&lt;Bar&gt; f4; }; FORY_FIELD_INFO(Foo, f1, f2, f3, f4); fory::encoder::RowEncoder&lt;Foo&gt; encoder; encoder.Encode(foo); auto row = encoder.GetWriter().ToRow(); // Èõ∂Êã∑Ë¥ùÈöèÊú∫ËÆøÈóÆ auto f2_array = row-&gt;GetArray(1); auto f4_array = row-&gt;GetArray(3); auto bar10 = f4_array-&gt;GetStruct(10); int64_t value = bar10-&gt;GetArray(1)-&gt;GetInt64(5); std::string str = bar10-&gt;GetString(0);   ","version":"0.14","tagName":"h3"},{"title":"ÊÄßËÉΩÊØîËæÉ‚Äã","type":1,"pageTitle":"Ë°åÊ†ºÂºè","url":"/zh-CN/docs/0.14/guide/java/row_format#ÊÄßËÉΩÊØîËæÉ","content":" Êìç‰Ωú\tÂØπË±°Ê†ºÂºè\tË°åÊ†ºÂºèÂÆåÂÖ®ÂèçÂ∫èÂàóÂåñ\tÂàÜÈÖçÊâÄÊúâÂØπË±°\tÈõ∂ÂàÜÈÖç ÂçïÂ≠óÊÆµËÆøÈóÆ\tÈúÄË¶ÅÂÆåÂÖ®ÂèçÂ∫èÂàóÂåñ\tÁõ¥Êé•ÂÅèÁßªËØªÂèñ ÂÜÖÂ≠ò‰ΩøÁî®\tÂÆåÊï¥ÂØπË±°ÂõæÂú®ÂÜÖÂ≠ò‰∏≠\t‰ªÖËÆøÈóÆÁöÑÂ≠óÊÆµ ÈÄÇÁî®‰∫é\tÂ∞èÂØπË±°ÔºåÂÆåÂÖ®ËÆøÈóÆ\tÂ§ßÂØπË±°ÔºåÈÄâÊã©ÊÄßËÆøÈóÆ  ","version":"0.14","tagName":"h2"},{"title":"Áõ∏ÂÖ≥‰∏ªÈ¢ò‚Äã","type":1,"pageTitle":"Ë°åÊ†ºÂºè","url":"/zh-CN/docs/0.14/guide/java/row_format#Áõ∏ÂÖ≥‰∏ªÈ¢ò","content":" Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ - XLANG Ê®°ÂºèÈ´òÁ∫ßÁâπÊÄß - Èõ∂Êã∑Ë¥ùÂ∫èÂàóÂåñË°åÊ†ºÂºèËßÑËåÉ - ÂçèËÆÆËØ¶ÊÉÖ ","version":"0.14","tagName":"h2"},{"title":"Schema ÊºîÂåñ","type":0,"sectionRef":"#","url":"/zh-CN/docs/0.14/guide/java/schema_evolution","content":"","keywords":"","version":"0.14"},{"title":"Â§ÑÁêÜÁ±ª Schema ÊºîÂåñ‚Äã","type":1,"pageTitle":"Schema ÊºîÂåñ","url":"/zh-CN/docs/0.14/guide/java/schema_evolution#Â§ÑÁêÜÁ±ª-schema-ÊºîÂåñ","content":" Âú®ËÆ∏Â§öÁ≥ªÁªü‰∏≠ÔºåÁî®‰∫éÂ∫èÂàóÂåñÁöÑÁ±ªÁöÑ schema ÂèØËÉΩ‰ºöÈöèÊó∂Èó¥ËÄåÊîπÂèò„ÄÇ‰æãÂ¶ÇÔºåÁ±ª‰∏≠ÁöÑÂ≠óÊÆµÂèØËÉΩ‰ºöË¢´Ê∑ªÂä†ÊàñÂà†Èô§„ÄÇÂΩìÂ∫èÂàóÂåñÂíåÂèçÂ∫èÂàóÂåñËøáÁ®ã‰ΩøÁî®‰∏çÂêåÁâàÊú¨ÁöÑ jar Êó∂ÔºåË¢´ÂèçÂ∫èÂàóÂåñÁöÑÁ±ªÁöÑ schema ÂèØËÉΩ‰∏éÂ∫èÂàóÂåñÊúüÈó¥‰ΩøÁî®ÁöÑ‰∏çÂêå„ÄÇ  ","version":"0.14","tagName":"h2"},{"title":"ÈªòËÆ§Ê®°ÂºèÔºöSCHEMA_CONSISTENT‚Äã","type":1,"pageTitle":"Schema ÊºîÂåñ","url":"/zh-CN/docs/0.14/guide/java/schema_evolution#ÈªòËÆ§Ê®°Âºèschema_consistent","content":" ÈªòËÆ§ÊÉÖÂÜµ‰∏ãÔºåFory ‰ΩøÁî® CompatibleMode.SCHEMA_CONSISTENT Ê®°ÂºèÂ∫èÂàóÂåñÂØπË±°„ÄÇÊ≠§Ê®°ÂºèÂÅáËÆæÂèçÂ∫èÂàóÂåñËøáÁ®ã‰ΩøÁî®‰∏éÂ∫èÂàóÂåñËøáÁ®ãÁõ∏ÂêåÁöÑÁ±ª schemaÔºå‰ªéËÄåÊúÄÂ∞èÂåñÊúâÊïàË¥üËΩΩÂºÄÈîÄ„ÄÇ‰ΩÜÊòØÔºåÂ¶ÇÊûúÂ≠òÂú® schema ‰∏ç‰∏ÄËá¥ÔºåÂèçÂ∫èÂàóÂåñÂ∞ÜÂ§±Ë¥•„ÄÇ  ","version":"0.14","tagName":"h3"},{"title":"ÂÖºÂÆπÊ®°Âºè‚Äã","type":1,"pageTitle":"Schema ÊºîÂåñ","url":"/zh-CN/docs/0.14/guide/java/schema_evolution#ÂÖºÂÆπÊ®°Âºè","content":" Â¶ÇÊûúÈ¢ÑÊúü schema ‰ºöÂèëÁîüÂèòÂåñÔºå‰∏∫‰∫Ü‰ΩøÂèçÂ∫èÂàóÂåñÊàêÂäüÔºàÂç≥ schema ÂâçÂêë/ÂêéÂêëÂÖºÂÆπÊÄßÔºâÔºåÁî®Êà∑ÂøÖÈ°ªÈÖçÁΩÆ Fory ‰ΩøÁî® CompatibleMode.COMPATIBLE„ÄÇËøôÂèØ‰ª•‰ΩøÁî® ForyBuilder#withCompatibleMode(CompatibleMode.COMPATIBLE) ÊñπÊ≥ïÂÆåÊàê„ÄÇ  Âú®Ê≠§ÂÖºÂÆπÊ®°Âºè‰∏ãÔºåÂèçÂ∫èÂàóÂåñÂèØ‰ª•Â§ÑÁêÜ schema ÂèòÊõ¥ÔºåÂ¶ÇÁº∫Â§±ÊàñÈ¢ùÂ§ñÁöÑÂ≠óÊÆµÔºåÂÖÅËÆ∏Âú®Â∫èÂàóÂåñÂíåÂèçÂ∫èÂàóÂåñËøáÁ®ãÂÖ∑Êúâ‰∏çÂêåÁ±ª schema Êó∂‰πüËÉΩÊàêÂäü„ÄÇ  Fory fory = Fory.builder() .withCompatibleMode(CompatibleMode.COMPATIBLE) .build(); byte[] bytes = fory.serialize(object); System.out.println(fory.deserialize(bytes));   Ê≠§ÂÖºÂÆπÊ®°ÂºèÊ∂âÂèäÂ∞ÜÁ±ªÂÖÉÊï∞ÊçÆÂ∫èÂàóÂåñÂà∞Â∫èÂàóÂåñËæìÂá∫‰∏≠„ÄÇÂ∞ΩÁÆ° Fory ‰ΩøÁî®Â§çÊùÇÁöÑÂéãÁº©ÊäÄÊúØÊù•ÊúÄÂ∞èÂåñÂºÄÈîÄÔºå‰ΩÜ‰∏éÁ±ªÂÖÉÊï∞ÊçÆÁõ∏ÂÖ≥ËÅîÁöÑ‰ªçÊúâ‰∏Ä‰∫õÈ¢ùÂ§ñÁöÑÁ©∫Èó¥ÊàêÊú¨„ÄÇ  ","version":"0.14","tagName":"h3"},{"title":"ÂÖÉÊï∞ÊçÆÂÖ±‰∫´‚Äã","type":1,"pageTitle":"Schema ÊºîÂåñ","url":"/zh-CN/docs/0.14/guide/java/schema_evolution#ÂÖÉÊï∞ÊçÆÂÖ±‰∫´","content":" ‰∏∫‰∫ÜËøõ‰∏ÄÊ≠•Èôç‰ΩéÂÖÉÊï∞ÊçÆÊàêÊú¨ÔºåFory ÂºïÂÖ•‰∫ÜÁ±ªÂÖÉÊï∞ÊçÆÂÖ±‰∫´Êú∫Âà∂ÔºåÂÖÅËÆ∏ÂÖÉÊï∞ÊçÆÂè™ÂèëÈÄÅÂà∞ÂèçÂ∫èÂàóÂåñËøáÁ®ã‰∏ÄÊ¨°„ÄÇ  Fory ÊîØÊåÅÂú®‰∏ä‰∏ãÊñáÔºà‰æãÂ¶Ç TCP ËøûÊé•Ôºâ‰∏≠ÁöÑÂ§öÊ¨°Â∫èÂàóÂåñ‰πãÈó¥ÂÖ±‰∫´Á±ªÂûãÂÖÉÊï∞ÊçÆÔºàÁ±ªÂêç„ÄÅÂ≠óÊÆµÂêç„ÄÅÊúÄÁªàÂ≠óÊÆµÁ±ªÂûã‰ø°ÊÅØÁ≠âÔºâ„ÄÇÊ≠§‰ø°ÊÅØÂ∞ÜÂú®‰∏ä‰∏ãÊñá‰∏≠ÁöÑÁ¨¨‰∏ÄÊ¨°Â∫èÂàóÂåñÊúüÈó¥ÂèëÈÄÅÂà∞ÂØπÁ≠âÁ´Ø„ÄÇÂü∫‰∫éÊ≠§ÂÖÉÊï∞ÊçÆÔºåÂØπÁ≠âÁ´ØÂèØ‰ª•ÈáçÂª∫Áõ∏ÂêåÁöÑÂèçÂ∫èÂàóÂåñÂô®ÔºåËøôÈÅøÂÖç‰∫Ü‰∏∫ÂêéÁª≠Â∫èÂàóÂåñ‰º†ËæìÂÖÉÊï∞ÊçÆÔºåÂπ∂Èôç‰ΩéÁΩëÁªúÊµÅÈáèÂéãÂäõÔºåÂêåÊó∂Ëá™Âä®ÊîØÊåÅÁ±ªÂûãÂâçÂêë/ÂêéÂêëÂÖºÂÆπÊÄß„ÄÇ  ","version":"0.14","tagName":"h2"},{"title":"‰ΩøÁî®ÂÖÉÊï∞ÊçÆÂÖ±‰∫´‚Äã","type":1,"pageTitle":"Schema ÊºîÂåñ","url":"/zh-CN/docs/0.14/guide/java/schema_evolution#‰ΩøÁî®ÂÖÉÊï∞ÊçÆÂÖ±‰∫´","content":" // Fory.builder() // .withLanguage(Language.JAVA) // .withRefTracking(false) // // Âú®Â§öÊ¨°Â∫èÂàóÂåñ‰πãÈó¥ÂÖ±‰∫´ÂÖÉÊï∞ÊçÆ„ÄÇ // .withMetaContextShare(true) // ÈùûÁ∫øÁ®ãÂÆâÂÖ® fory„ÄÇ MetaContext context = xxx; fory.getSerializationContext().setMetaContext(context); byte[] bytes = fory.serialize(o); // ÈùûÁ∫øÁ®ãÂÆâÂÖ® fory„ÄÇ MetaContext context = xxx; fory.getSerializationContext().setMetaContext(context); fory.deserialize(bytes);   ","version":"0.14","tagName":"h3"},{"title":"Á∫øÁ®ãÂÆâÂÖ®ÂÖÉÊï∞ÊçÆÂÖ±‰∫´‚Äã","type":1,"pageTitle":"Schema ÊºîÂåñ","url":"/zh-CN/docs/0.14/guide/java/schema_evolution#Á∫øÁ®ãÂÆâÂÖ®ÂÖÉÊï∞ÊçÆÂÖ±‰∫´","content":" // Á∫øÁ®ãÂÆâÂÖ® fory fory.setClassLoader(beanA.getClass().getClassLoader()); byte[] serialized = fory.execute( f -&gt; { f.getSerializationContext().setMetaContext(context); return f.serialize(beanA); } ); // Á∫øÁ®ãÂÆâÂÖ® fory fory.setClassLoader(beanA.getClass().getClassLoader()); Object newObj = fory.execute( f -&gt; { f.getSerializationContext().setMetaContext(context); return f.deserialize(serialized); } );   Ê≥®ÊÑèÔºöMetaContext ‰∏çÊòØÁ∫øÁ®ãÂÆâÂÖ®ÁöÑÔºå‰∏çËÉΩÂú® Fory ÂÆû‰æãÊàñÂ§ö‰∏™Á∫øÁ®ã‰πãÈó¥ÈáçÁî®„ÄÇÂú®Â§öÁ∫øÁ®ãÊÉÖÂÜµ‰∏ãÔºåÂøÖÈ°ª‰∏∫ÊØè‰∏™ Fory ÂÆû‰æãÂàõÂª∫ÂçïÁã¨ÁöÑ MetaContext„ÄÇ  ÊúâÂÖ≥Êõ¥Â§öËØ¶ÁªÜ‰ø°ÊÅØÔºåËØ∑ÂèÇÈòÖ ÂÖÉÊï∞ÊçÆÂÖ±‰∫´ËßÑËåÉ„ÄÇ  ","version":"0.14","tagName":"h3"},{"title":"ÂèçÂ∫èÂàóÂåñ‰∏çÂ≠òÂú®ÁöÑÁ±ª‚Äã","type":1,"pageTitle":"Schema ÊºîÂåñ","url":"/zh-CN/docs/0.14/guide/java/schema_evolution#ÂèçÂ∫èÂàóÂåñ‰∏çÂ≠òÂú®ÁöÑÁ±ª","content":" Fory ÊîØÊåÅÂèçÂ∫èÂàóÂåñ‰∏çÂ≠òÂú®ÁöÑÁ±ª„ÄÇÊ≠§ÂäüËÉΩÂèØ‰ª•ÈÄöËøá ForyBuilder#deserializeNonexistentClass(true) ÂêØÁî®„ÄÇ  ÂêØÁî®Êó∂ÔºåÂ¶ÇÊûúÂêØÁî®‰∫ÜÂÖÉÊï∞ÊçÆÂÖ±‰∫´ÔºåFory Â∞ÜÊääÊ≠§Á±ªÂûãÁöÑÂèçÂ∫èÂàóÂåñÊï∞ÊçÆÂ≠òÂÇ®Âú® Map ÁöÑÂª∂ËøüÂ≠êÁ±ª‰∏≠„ÄÇÈÄöËøá‰ΩøÁî® Fory ÂÆûÁé∞ÁöÑÂª∂ËøüÊò†Â∞ÑÔºåÂèØ‰ª•ÈÅøÂÖçÂèçÂ∫èÂàóÂåñÊúüÈó¥Â°´ÂÖÖÊò†Â∞ÑÁöÑÈáçÊñ∞Âπ≥Ë°°ÊàêÊú¨Ôºå‰ªéËÄåËøõ‰∏ÄÊ≠•ÊèêÈ´òÊÄßËÉΩ„ÄÇ  Â¶ÇÊûúÊ≠§Êï∞ÊçÆË¢´ÂèëÈÄÅÂà∞Âè¶‰∏Ä‰∏™ËøõÁ®ãÔºåÂπ∂‰∏îËØ•Á±ªÂú®Ê≠§ËøáÁ®ã‰∏≠Â≠òÂú®ÔºåÂàôÊï∞ÊçÆÂ∞ÜË¢´ÂèçÂ∫èÂàóÂåñ‰∏∫Ê≠§Á±ªÂûãÁöÑÂØπË±°ÔºåËÄå‰∏ç‰ºö‰∏¢Â§±‰ªª‰Ωï‰ø°ÊÅØ„ÄÇ  Â¶ÇÊûúÊú™ÂêØÁî®ÂÖÉÊï∞ÊçÆÂÖ±‰∫´ÔºåÊñ∞Á±ªÊï∞ÊçÆÂ∞ÜË¢´Ë∑≥ËøáÔºåÂπ∂ËøîÂõû NonexistentSkipClass Â≠òÊ†πÂØπË±°„ÄÇ  ","version":"0.14","tagName":"h2"},{"title":"Â∞ÜÂØπË±°‰ªé‰∏ÄÁßçÁ±ªÂûãÂ§çÂà∂/Êò†Â∞ÑÂà∞Âè¶‰∏ÄÁßçÁ±ªÂûã‚Äã","type":1,"pageTitle":"Schema ÊºîÂåñ","url":"/zh-CN/docs/0.14/guide/java/schema_evolution#Â∞ÜÂØπË±°‰ªé‰∏ÄÁßçÁ±ªÂûãÂ§çÂà∂Êò†Â∞ÑÂà∞Âè¶‰∏ÄÁßçÁ±ªÂûã","content":" Fory ÊîØÊåÅÂ∞ÜÂØπË±°‰ªé‰∏ÄÁßçÁ±ªÂûãÊò†Â∞ÑÂà∞Âè¶‰∏ÄÁßçÁ±ªÂûã„ÄÇ  Ê≥®ÊÑèÔºö  Ê≠§Êò†Â∞ÑÂ∞ÜÊâßË°åÊ∑±Êã∑Ë¥ù„ÄÇÊâÄÊúâÊò†Â∞ÑÁöÑÂ≠óÊÆµÈÉΩË¢´Â∫èÂàóÂåñ‰∏∫‰∫åËøõÂà∂ÔºåÂπ∂‰ªéËØ•‰∫åËøõÂà∂ÂèçÂ∫èÂàóÂåñ‰ª•Êò†Â∞ÑÂà∞Âè¶‰∏ÄÁßçÁ±ªÂûã„ÄÇÊâÄÊúâÁªìÊûÑ‰ΩìÁ±ªÂûãÂøÖÈ°ª‰ΩøÁî®Áõ∏ÂêåÁöÑ ID Ê≥®ÂÜåÔºåÂê¶Âàô Fory Êó†Ê≥ïÊò†Â∞ÑÂà∞Ê≠£Á°ÆÁöÑÁªìÊûÑ‰ΩìÁ±ªÂûã„ÄÇ‰ΩøÁî® Fory#register(Class) Êó∂Ë¶ÅÂ∞èÂøÉÔºåÂõ†‰∏∫ Fory ‰ºöÂàÜÈÖç‰∏Ä‰∏™Ëá™Âä®Â¢ûÈïøÁöÑ IDÔºåÂ¶ÇÊûú‰Ω†Âú® Fory ÂÆû‰æã‰πãÈó¥‰ª•‰∏çÂêåÁöÑÈ°∫Â∫èÊ≥®ÂÜåÁ±ªÔºåËøôÂèØËÉΩ‰ºö‰∏ç‰∏ÄËá¥„ÄÇ  public class StructMappingExample { static class Struct1 { int f1; String f2; public Struct1(int f1, String f2) { this.f1 = f1; this.f2 = f2; } } static class Struct2 { int f1; String f2; double f3; } static ThreadSafeFory fory1 = Fory.builder() .withCompatibleMode(CompatibleMode.COMPATIBLE).buildThreadSafeFory(); static ThreadSafeFory fory2 = Fory.builder() .withCompatibleMode(CompatibleMode.COMPATIBLE).buildThreadSafeFory(); static { fory1.register(Struct1.class); fory2.register(Struct2.class); } public static void main(String[] args) { Struct1 struct1 = new Struct1(10, &quot;abc&quot;); Struct2 struct2 = (Struct2) fory2.deserialize(fory1.serialize(struct1)); Assert.assertEquals(struct2.f1, struct1.f1); Assert.assertEquals(struct2.f2, struct1.f2); struct1 = (Struct1) fory1.deserialize(fory2.serialize(struct2)); Assert.assertEquals(struct1.f1, struct2.f1); Assert.assertEquals(struct1.f2, struct2.f2); } }   ","version":"0.14","tagName":"h2"},{"title":"Â∞Ü POJO ÂèçÂ∫èÂàóÂåñ‰∏∫Âè¶‰∏ÄÁßçÁ±ªÂûã‚Äã","type":1,"pageTitle":"Schema ÊºîÂåñ","url":"/zh-CN/docs/0.14/guide/java/schema_evolution#Â∞Ü-pojo-ÂèçÂ∫èÂàóÂåñ‰∏∫Âè¶‰∏ÄÁßçÁ±ªÂûã","content":" Fory ÂÖÅËÆ∏‰Ω†Â∫èÂàóÂåñ‰∏Ä‰∏™ POJO Âπ∂Â∞ÜÂÖ∂ÂèçÂ∫èÂàóÂåñ‰∏∫Âè¶‰∏Ä‰∏™ POJO„ÄÇ‰∏çÂêåÁöÑ POJO ÊÑèÂë≥ÁùÄ schema ‰∏ç‰∏ÄËá¥„ÄÇÁî®Êà∑ÂøÖÈ°ªÂ∞Ü Fory ÈÖçÁΩÆ‰∏∫ CompatibleMode ËÆæÁΩÆ‰∏∫ org.apache.fory.config.CompatibleMode.COMPATIBLE„ÄÇ  public class DeserializeIntoType { static class Struct1 { int f1; String f2; public Struct1(int f1, String f2) { this.f1 = f1; this.f2 = f2; } } static class Struct2 { int f1; String f2; double f3; } static ThreadSafeFory fory = Fory.builder() .withCompatibleMode(CompatibleMode.COMPATIBLE).buildThreadSafeFory(); public static void main(String[] args) { Struct1 struct1 = new Struct1(10, &quot;abc&quot;); byte[] data = fory.serializeJavaObject(struct1); Struct2 struct2 = (Struct2) fory.deserializeJavaObject(bytes, Struct2.class); } }   ","version":"0.14","tagName":"h2"},{"title":"ÈÖçÁΩÆÈÄâÈ°π‚Äã","type":1,"pageTitle":"Schema ÊºîÂåñ","url":"/zh-CN/docs/0.14/guide/java/schema_evolution#ÈÖçÁΩÆÈÄâÈ°π","content":" ÈÄâÈ°π\tÊèèËø∞\tÈªòËÆ§ÂÄºcompatibleMode\tSCHEMA_CONSISTENT Êàñ COMPATIBLE\tSCHEMA_CONSISTENT checkClassVersion\tÊ£ÄÊü•Á±ª schema ‰∏ÄËá¥ÊÄß\tfalse metaShareEnabled\tÂêØÁî®ÂÖÉÊï∞ÊçÆÂÖ±‰∫´\tÂ¶ÇÊûúÊòØÂÖºÂÆπÊ®°ÂºèÂàô‰∏∫ true scopedMetaShareEnabled\tÊØèÊ¨°Â∫èÂàóÂåñÁöÑ‰ΩúÁî®ÂüüÂÖÉÊï∞ÊçÆÂÖ±‰∫´\tÂ¶ÇÊûúÊòØÂÖºÂÆπÊ®°ÂºèÂàô‰∏∫ true deserializeNonexistentClass\tÂ§ÑÁêÜ‰∏çÂ≠òÂú®ÁöÑÁ±ª\tÂ¶ÇÊûúÊòØÂÖºÂÆπÊ®°ÂºèÂàô‰∏∫ true metaCompressor\tÂÖÉÊï∞ÊçÆÂéãÁº©ÁöÑÂéãÁº©Âô®\tDeflaterMetaCompressor  ","version":"0.14","tagName":"h2"},{"title":"ÊúÄ‰Ω≥ÂÆûË∑µ‚Äã","type":1,"pageTitle":"Schema ÊºîÂåñ","url":"/zh-CN/docs/0.14/guide/java/schema_evolution#ÊúÄ‰Ω≥ÂÆûË∑µ","content":" ÂØπÊºîÂåñÁöÑ schema ‰ΩøÁî® COMPATIBLE Ê®°ÂºèÔºöÂΩìÁ±ªÂèØËÉΩÂú®ÁâàÊú¨‰πãÈó¥Êõ¥ÊîπÊó∂‰∏∫ÁΩëÁªúÈÄö‰ø°ÂêØÁî®ÂÖÉÊï∞ÊçÆÂÖ±‰∫´ÔºöÂáèÂ∞ëÈáçÂ§çÂ∫èÂàóÂåñÁöÑÂ∏¶ÂÆΩÂØπÁªìÊûÑ‰ΩìÊò†Â∞Ñ‰ΩøÁî®‰∏ÄËá¥ÁöÑÁ±ªÂûã IDÔºöÁ°Æ‰øùÁõ∏ÂêåÁöÑÊ≥®ÂÜåÈ°∫Â∫èÊàñÊòæÂºè IDËÄÉËôëÁ©∫Èó¥ÂºÄÈîÄÔºöÂÖºÂÆπÊ®°Âºè‰ºöÊ∑ªÂä†ÂÖÉÊï∞ÊçÆÔºåÊ†πÊçÆÈúÄÊ±ÇÂπ≥Ë°°  ","version":"0.14","tagName":"h2"},{"title":"Áõ∏ÂÖ≥‰∏ªÈ¢ò‚Äã","type":1,"pageTitle":"Schema ÊºîÂåñ","url":"/zh-CN/docs/0.14/guide/java/schema_evolution#Áõ∏ÂÖ≥‰∏ªÈ¢ò","content":" ÈÖçÁΩÆÈÄâÈ°π - ÊâÄÊúâ ForyBuilder ÈÄâÈ°πË∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ - XLANG Ê®°ÂºèÊïÖÈöúÊéíÈô§ - Â∏∏ËßÅ schema ÈóÆÈ¢ò ","version":"0.14","tagName":"h2"},{"title":"Á±ªÂûãÊ≥®ÂÜå‰∏éÂÆâÂÖ®","type":0,"sectionRef":"#","url":"/zh-CN/docs/0.14/guide/java/type_registration","content":"","keywords":"","version":"0.14"},{"title":"Á±ªÊ≥®ÂÜå‚Äã","type":1,"pageTitle":"Á±ªÂûãÊ≥®ÂÜå‰∏éÂÆâÂÖ®","url":"/zh-CN/docs/0.14/guide/java/type_registration#Á±ªÊ≥®ÂÜå","content":" ForyBuilder#requireClassRegistration ÂèØÁî®‰∫éÁ¶ÅÁî®Á±ªÊ≥®ÂÜå„ÄÇËøôÂ∞ÜÂÖÅËÆ∏ÂèçÂ∫èÂàóÂåñÊú™Áü•Á±ªÂûãÁöÑÂØπË±°ÔºåËøôÊõ¥ÁÅµÊ¥ª‰ΩÜÂ¶ÇÊûúÁ±ªÂåÖÂê´ÊÅ∂ÊÑè‰ª£Á†ÅÂèØËÉΩ‰∏çÂÆâÂÖ®„ÄÇ  Èô§Èùû‰Ω†ËÉΩÁ°Æ‰øùÁéØÂ¢ÉÊòØÂÆâÂÖ®ÁöÑÔºåÂê¶Âàô‰∏çË¶ÅÁ¶ÅÁî®Á±ªÊ≥®ÂÜå„ÄÇÂΩìÁ¶ÅÁî®Ê≠§ÈÄâÈ°πÊó∂ÔºåÂèçÂ∫èÂàóÂåñÊú™Áü•/‰∏çÂèó‰ø°‰ªªÁöÑÁ±ªÂûãÊó∂Ôºåinit/equals/hashCode ‰∏≠ÁöÑÊÅ∂ÊÑè‰ª£Á†ÅÂèØËÉΩ‰ºöË¢´ÊâßË°å„ÄÇ  Á±ªÊ≥®ÂÜå‰∏ç‰ªÖÂèØ‰ª•Èôç‰ΩéÂÆâÂÖ®È£éÈô©ÔºåËøòÂèØ‰ª•ÈÅøÂÖçÁ±ªÂêçÂ∫èÂàóÂåñÊàêÊú¨„ÄÇ  ","version":"0.14","tagName":"h2"},{"title":"Êåâ ID Ê≥®ÂÜå‚Äã","type":1,"pageTitle":"Á±ªÂûãÊ≥®ÂÜå‰∏éÂÆâÂÖ®","url":"/zh-CN/docs/0.14/guide/java/type_registration#Êåâ-id-Ê≥®ÂÜå","content":" ‰Ω†ÂèØ‰ª•‰ΩøÁî® API Fory#register Ê≥®ÂÜåÁ±ªÔºö  Fory fory = xxx; fory.register(SomeClass.class); fory.register(SomeClass1.class, 1);   Ê≥®ÊÑèÔºåÁ±ªÊ≥®ÂÜåÈ°∫Â∫èÂæàÈáçË¶Å„ÄÇÂ∫èÂàóÂåñÂíåÂèçÂ∫èÂàóÂåñÁ´ØÂ∫îËØ•ÂÖ∑ÊúâÁõ∏ÂêåÁöÑÊ≥®ÂÜåÈ°∫Â∫è„ÄÇ  ","version":"0.14","tagName":"h3"},{"title":"ÊåâÂêçÁß∞Ê≥®ÂÜå‚Äã","type":1,"pageTitle":"Á±ªÂûãÊ≥®ÂÜå‰∏éÂÆâÂÖ®","url":"/zh-CN/docs/0.14/guide/java/type_registration#ÊåâÂêçÁß∞Ê≥®ÂÜå","content":" Êåâ ID Ê≥®ÂÜåÁ±ª‰ºöÊúâÊõ¥Â•ΩÁöÑÊÄßËÉΩÂíåÊõ¥Â∞èÁöÑÁ©∫Èó¥ÂºÄÈîÄ„ÄÇ‰ΩÜÂú®Êüê‰∫õÊÉÖÂÜµ‰∏ãÔºåÁÆ°ÁêÜ‰∏ÄÂ†ÜÁ±ªÂûã ID ÂæàÂ§çÊùÇ„ÄÇÂú®ËøôÁßçÊÉÖÂÜµ‰∏ãÔºåÂª∫ËÆÆ‰ΩøÁî® API register(Class&lt;?&gt; cls, String namespace, String typeName) ÊåâÂêçÁß∞Ê≥®ÂÜåÁ±ªÔºö  fory.register(Foo.class, &quot;demo&quot;, &quot;Foo&quot;);   Â¶ÇÊûúÁ±ªÂûãÊ≤°ÊúâÈáçÂ§çÁöÑÂêçÁß∞Ôºånamespace ÂèØ‰ª•ÁïôÁ©∫‰ª•ÂáèÂ∞ëÂ∫èÂàóÂåñÂ§ßÂ∞è„ÄÇ  ‰∏çË¶Å‰ΩøÁî®Ê≠§ API Ê≥®ÂÜåÁ±ªÔºåÂõ†‰∏∫‰∏éÊåâ ID Ê≥®ÂÜåÁ±ªÁõ∏ÊØîÔºåÂÆÉ‰ºöÂ§ßÂ§ßÂ¢ûÂä†Â∫èÂàóÂåñÂ§ßÂ∞è„ÄÇ  ","version":"0.14","tagName":"h3"},{"title":"ÂÆâÂÖ®ÈÖçÁΩÆ‚Äã","type":1,"pageTitle":"Á±ªÂûãÊ≥®ÂÜå‰∏éÂÆâÂÖ®","url":"/zh-CN/docs/0.14/guide/java/type_registration#ÂÆâÂÖ®ÈÖçÁΩÆ","content":" ","version":"0.14","tagName":"h2"},{"title":"Á±ªÊ£ÄÊü•Âô®‚Äã","type":1,"pageTitle":"Á±ªÂûãÊ≥®ÂÜå‰∏éÂÆâÂÖ®","url":"/zh-CN/docs/0.14/guide/java/type_registration#Á±ªÊ£ÄÊü•Âô®","content":" Â¶ÇÊûú‰Ω†Ë∞ÉÁî® ForyBuilder#requireClassRegistration(false) Êù•Á¶ÅÁî®Á±ªÊ≥®ÂÜåÊ£ÄÊü•Ôºå‰Ω†ÂèØ‰ª•ÈÄöËøá ClassResolver#setClassChecker ËÆæÁΩÆ org.apache.fory.resolver.ClassChecker Êù•ÊéßÂà∂Âì™‰∫õÁ±ªÂÖÅËÆ∏Â∫èÂàóÂåñ„ÄÇ  ‰æãÂ¶ÇÔºå‰Ω†ÂèØ‰ª•ÂÖÅËÆ∏‰ª• org.example.* ÂºÄÂ§¥ÁöÑÁ±ªÔºö  Fory fory = xxx; fory.getClassResolver().setClassChecker( (classResolver, className) -&gt; className.startsWith(&quot;org.example.&quot;));   ","version":"0.14","tagName":"h3"},{"title":"AllowListChecker‚Äã","type":1,"pageTitle":"Á±ªÂûãÊ≥®ÂÜå‰∏éÂÆâÂÖ®","url":"/zh-CN/docs/0.14/guide/java/type_registration#allowlistchecker","content":" Fory Êèê‰æõ‰∫Ü org.apache.fory.resolver.AllowListCheckerÔºåËøôÊòØ‰∏Ä‰∏™Âü∫‰∫éÂÖÅËÆ∏/Á¶ÅÊ≠¢ÂàóË°®ÁöÑÊ£ÄÊü•Âô®ÔºåÁî®‰∫éÁÆÄÂåñÁ±ªÊ£ÄÊü•Êú∫Âà∂ÁöÑËá™ÂÆö‰πâÔºö  AllowListChecker checker = new AllowListChecker(AllowListChecker.CheckLevel.STRICT); ThreadSafeFory fory = new ThreadLocalFory(classLoader -&gt; { Fory f = Fory.builder().requireClassRegistration(true).withClassLoader(classLoader).build(); f.getClassResolver().setClassChecker(checker); checker.addListener(f.getClassResolver()); return f; }); checker.allowClass(&quot;org.example.*&quot;);   ‰Ω†ÂèØ‰ª•‰ΩøÁî®Ê≠§Ê£ÄÊü•Âô®ÊàñËá™Â∑±ÂÆûÁé∞Êõ¥Â§çÊùÇÁöÑÊ£ÄÊü•Âô®„ÄÇ  ","version":"0.14","tagName":"h3"},{"title":"ÈôêÂà∂ÊúÄÂ§ßÂèçÂ∫èÂàóÂåñÊ∑±Â∫¶‚Äã","type":1,"pageTitle":"Á±ªÂûãÊ≥®ÂÜå‰∏éÂÆâÂÖ®","url":"/zh-CN/docs/0.14/guide/java/type_registration#ÈôêÂà∂ÊúÄÂ§ßÂèçÂ∫èÂàóÂåñÊ∑±Â∫¶","content":" Fory Êèê‰æõ ForyBuilder#withMaxDepth Êù•ÈôêÂà∂ÊúÄÂ§ßÂèçÂ∫èÂàóÂåñÊ∑±Â∫¶„ÄÇÈªòËÆ§ÊúÄÂ§ßÊ∑±Â∫¶‰∏∫ 50„ÄÇ  Â¶ÇÊûúËææÂà∞ÊúÄÂ§ßÊ∑±Â∫¶ÔºåFory Â∞ÜÊäõÂá∫ ForyException„ÄÇËøôÂèØÁî®‰∫éÈò≤Ê≠¢ÊÅ∂ÊÑèÊï∞ÊçÆÂØºËá¥Â†ÜÊ†àÊ∫¢Âá∫ÊàñÂÖ∂‰ªñÈóÆÈ¢ò„ÄÇ  Fory fory = Fory.builder() .withLanguage(Language.JAVA) .withMaxDepth(100) // ËÆæÁΩÆËá™ÂÆö‰πâÊúÄÂ§ßÊ∑±Â∫¶ .build();   ","version":"0.14","tagName":"h2"},{"title":"ÊúÄ‰Ω≥ÂÆûË∑µ‚Äã","type":1,"pageTitle":"Á±ªÂûãÊ≥®ÂÜå‰∏éÂÆâÂÖ®","url":"/zh-CN/docs/0.14/guide/java/type_registration#ÊúÄ‰Ω≥ÂÆûË∑µ","content":" Âú®Áîü‰∫ßÁéØÂ¢É‰∏≠ÂßãÁªàÂêØÁî®Á±ªÊ≥®ÂÜåÔºö‰ΩøÁî® requireClassRegistration(true)‰ΩøÁî®Âü∫‰∫é ID ÁöÑÊ≥®ÂÜå‰ª•Ëé∑ÂæóÊÄßËÉΩÔºöÊï∞Â≠ó ID ÊØîÂ≠óÁ¨¶‰∏≤ÂêçÁß∞Êõ¥Âø´‰øùÊåÅ‰∏ÄËá¥ÁöÑÊ≥®ÂÜåÈ°∫Â∫èÔºöÂ∫èÂàóÂåñÂíåÂèçÂ∫èÂàóÂåñÁ´ØÁöÑÈ°∫Â∫èÁõ∏ÂêåËÆæÁΩÆÈÄÇÂΩìÁöÑÊúÄÂ§ßÊ∑±Â∫¶ÔºöÈò≤Ê≠¢Â†ÜÊ†àÊ∫¢Âá∫ÊîªÂáª‰ΩøÁî® AllowListChecker ËøõË°åÁªÜÁ≤íÂ∫¶ÊéßÂà∂ÔºöÂΩì‰Ω†ÈúÄË¶ÅÁÅµÊ¥ªÁöÑÁ±ªËøáÊª§Êó∂  ","version":"0.14","tagName":"h2"},{"title":"Áõ∏ÂÖ≥‰∏ªÈ¢ò‚Äã","type":1,"pageTitle":"Á±ªÂûãÊ≥®ÂÜå‰∏éÂÆâÂÖ®","url":"/zh-CN/docs/0.14/guide/java/type_registration#Áõ∏ÂÖ≥‰∏ªÈ¢ò","content":" ÈÖçÁΩÆÈÄâÈ°π - ForyBuilder ÂÆâÂÖ®ÈÄâÈ°πËá™ÂÆö‰πâÂ∫èÂàóÂåñÂô® - Ê≥®ÂÜåËá™ÂÆö‰πâÂ∫èÂàóÂåñÂô®ÊïÖÈöúÊéíÈô§ - Â∏∏ËßÅÊ≥®ÂÜåÈóÆÈ¢ò ","version":"0.14","tagName":"h2"},{"title":"ÊïÖÈöúÊéíÈô§","type":0,"sectionRef":"#","url":"/zh-CN/docs/0.14/guide/java/troubleshooting","content":"","keywords":"","version":"0.14"},{"title":"Á±ª‰∏ç‰∏ÄËá¥ÂíåÁ±ªÁâàÊú¨Ê£ÄÊü•‚Äã","type":1,"pageTitle":"ÊïÖÈöúÊéíÈô§","url":"/zh-CN/docs/0.14/guide/java/troubleshooting#Á±ª‰∏ç‰∏ÄËá¥ÂíåÁ±ªÁâàÊú¨Ê£ÄÊü•","content":" Â¶ÇÊûú‰Ω†ÂàõÂª∫ Fory Êó∂Ê≤°ÊúâÂ∞Ü CompatibleMode ËÆæÁΩÆ‰∏∫ org.apache.fory.config.CompatibleMode.COMPATIBLEÔºåÂπ∂‰∏îÈÅáÂà∞Â•áÊÄ™ÁöÑÂ∫èÂàóÂåñÈîôËØØÔºåËøôÂèØËÉΩÊòØÁî±‰∫éÂ∫èÂàóÂåñÁ´ØÂíåÂèçÂ∫èÂàóÂåñÁ´Ø‰πãÈó¥ÁöÑÁ±ª‰∏ç‰∏ÄËá¥ÈÄ†ÊàêÁöÑ„ÄÇ  Âú®ËøôÁßçÊÉÖÂÜµ‰∏ãÔºå‰Ω†ÂèØ‰ª•Ë∞ÉÁî® ForyBuilder#withClassVersionCheck Êù•ÂàõÂª∫ Fory ‰ª•È™åËØÅÂÆÉ„ÄÇÂ¶ÇÊûúÂèçÂ∫èÂàóÂåñÊäõÂá∫ org.apache.fory.exception.ClassNotCompatibleExceptionÔºåÂàôË°®Á§∫Á±ª‰∏ç‰∏ÄËá¥Ôºå‰Ω†Â∫îËØ•‰ΩøÁî® ForyBuilder#withCompatibleMode(CompatibleMode.COMPATIBLE) ÂàõÂª∫ Fory„ÄÇ  // ÂêØÁî®Á±ªÁâàÊú¨Ê£ÄÊü•‰ª•ËØäÊñ≠ÈóÆÈ¢ò Fory fory = Fory.builder() .withLanguage(Language.JAVA) .withClassVersionCheck(true) .build(); // Â¶ÇÊûúÊäõÂá∫ ClassNotCompatibleExceptionÔºå‰ΩøÁî®ÂÖºÂÆπÊ®°Âºè Fory fory = Fory.builder() .withLanguage(Language.JAVA) .withCompatibleMode(CompatibleMode.COMPATIBLE) .build();   Ê≥®ÊÑèÔºöCompatibleMode.COMPATIBLE ÊúâÊõ¥Â§öÁöÑÊÄßËÉΩÂíåÁ©∫Èó¥ÊàêÊú¨„ÄÇÂ¶ÇÊûú‰Ω†ÁöÑÁ±ªÂú®Â∫èÂàóÂåñÂíåÂèçÂ∫èÂàóÂåñ‰πãÈó¥ÂßãÁªà‰∏ÄËá¥ÔºåËØ∑‰∏çË¶ÅÈªòËÆ§ËÆæÁΩÆÂÆÉ„ÄÇ  ","version":"0.14","tagName":"h2"},{"title":"‰ΩøÁî®ÈîôËØØÁöÑÂèçÂ∫èÂàóÂåñ API‚Äã","type":1,"pageTitle":"ÊïÖÈöúÊéíÈô§","url":"/zh-CN/docs/0.14/guide/java/troubleshooting#‰ΩøÁî®ÈîôËØØÁöÑÂèçÂ∫èÂàóÂåñ-api","content":" Á°Æ‰øù‰ΩøÁî®ÂåπÈÖçÁöÑ API ÂØπÔºö  Â∫èÂàóÂåñ API\tÂèçÂ∫èÂàóÂåñ APIFory#serialize\tFory#deserialize Fory#serializeJavaObject\tFory#deserializeJavaObject Fory#serializeJavaObjectAndClass\tFory#deserializeJavaObjectAndClass  ÈîôËØØ‰ΩøÁî®Á§∫‰æãÔºö  // ‚ùå ÈîôËØØÔºö‰ΩøÁî® serialize Â∫èÂàóÂåñÔºå‰ΩøÁî® deserializeJavaObject ÂèçÂ∫èÂàóÂåñ byte[] bytes = fory.serialize(object); Object result = fory.deserializeJavaObject(bytes, MyClass.class); // ÈîôËØØÔºÅ // ‚ùå ÈîôËØØÔºö‰ΩøÁî® serializeJavaObject Â∫èÂàóÂåñÔºå‰ΩøÁî® deserialize ÂèçÂ∫èÂàóÂåñ byte[] bytes = fory.serializeJavaObject(object); Object result = fory.deserialize(bytes); // ÈîôËØØÔºÅ   Ê≠£Á°Æ‰ΩøÁî®Ôºö  // ‚úÖ Ê≠£Á°ÆÔºöÂåπÈÖçÁöÑ API ÂØπ byte[] bytes = fory.serialize(object); Object result = fory.deserialize(bytes); byte[] bytes = fory.serializeJavaObject(object); MyClass result = fory.deserializeJavaObject(bytes, MyClass.class); byte[] bytes = fory.serializeJavaObjectAndClass(object); Object result = fory.deserializeJavaObjectAndClass(bytes);   ","version":"0.14","tagName":"h2"},{"title":"Â∞Ü POJO ÂèçÂ∫èÂàóÂåñ‰∏∫Âè¶‰∏ÄÁßçÁ±ªÂûã‚Äã","type":1,"pageTitle":"ÊïÖÈöúÊéíÈô§","url":"/zh-CN/docs/0.14/guide/java/troubleshooting#Â∞Ü-pojo-ÂèçÂ∫èÂàóÂåñ‰∏∫Âè¶‰∏ÄÁßçÁ±ªÂûã","content":" Â¶ÇÊûú‰Ω†ÊÉ≥Â∫èÂàóÂåñ‰∏Ä‰∏™ POJO Âπ∂Â∞ÜÂÖ∂ÂèçÂ∫èÂàóÂåñ‰∏∫Âè¶‰∏Ä‰∏™ POJO Á±ªÂûãÔºå‰Ω†ÂøÖÈ°ª‰ΩøÁî® CompatibleMode.COMPATIBLEÔºö  public class DeserializeIntoType { static class Struct1 { int f1; String f2; public Struct1(int f1, String f2) { this.f1 = f1; this.f2 = f2; } } static class Struct2 { int f1; String f2; double f3; } static ThreadSafeFory fory = Fory.builder() .withCompatibleMode(CompatibleMode.COMPATIBLE).buildThreadSafeFory(); public static void main(String[] args) { Struct1 struct1 = new Struct1(10, &quot;abc&quot;); byte[] data = fory.serializeJavaObject(struct1); Struct2 struct2 = (Struct2) fory.deserializeJavaObject(data, Struct2.class); } }   ","version":"0.14","tagName":"h2"},{"title":"Â∏∏ËßÅÈîôËØØÊ∂àÊÅØ‚Äã","type":1,"pageTitle":"ÊïÖÈöúÊéíÈô§","url":"/zh-CN/docs/0.14/guide/java/troubleshooting#Â∏∏ËßÅÈîôËØØÊ∂àÊÅØ","content":" ","version":"0.14","tagName":"h2"},{"title":"\"Class not registered\"‚Äã","type":1,"pageTitle":"ÊïÖÈöúÊéíÈô§","url":"/zh-CN/docs/0.14/guide/java/troubleshooting#class-not-registered","content":" ÂéüÂõ†ÔºöÈúÄË¶ÅÁ±ªÊ≥®ÂÜåÔºå‰ΩÜÁ±ªÊú™Ê≥®ÂÜå„ÄÇ  Ëß£ÂÜ≥ÊñπÊ°àÔºöÂú®Â∫èÂàóÂåñ‰πãÂâçÊ≥®ÂÜåÁ±ªÔºö  fory.register(MyClass.class); // Êàñ‰ΩøÁî®ÊòæÂºè ID fory.register(MyClass.class, 100);   ","version":"0.14","tagName":"h3"},{"title":"\"ClassNotCompatibleException\"‚Äã","type":1,"pageTitle":"ÊïÖÈöúÊéíÈô§","url":"/zh-CN/docs/0.14/guide/java/troubleshooting#classnotcompatibleexception","content":" ÂéüÂõ†ÔºöÂ∫èÂàóÂåñÂíåÂèçÂ∫èÂàóÂåñ‰πãÈó¥ÁöÑÁ±ª schema ‰∏çÂêå„ÄÇ  Ëß£ÂÜ≥ÊñπÊ°àÔºö‰ΩøÁî®ÂÖºÂÆπÊ®°ÂºèÔºö  Fory fory = Fory.builder() .withCompatibleMode(CompatibleMode.COMPATIBLE) .build();   ","version":"0.14","tagName":"h3"},{"title":"\"Max depth exceeded\"‚Äã","type":1,"pageTitle":"ÊïÖÈöúÊéíÈô§","url":"/zh-CN/docs/0.14/guide/java/troubleshooting#max-depth-exceeded","content":" ÂéüÂõ†ÔºöÂØπË±°ÂõæÂ§™Ê∑±ÔºåÂèØËÉΩË°®Á§∫Âæ™ÁéØÂºïÁî®ÊîªÂáª„ÄÇ  Ëß£ÂÜ≥ÊñπÊ°àÔºöÂ¶ÇÊûúÊòØÂêàÊ≥ïÁöÑÔºåÂ¢ûÂä†ÊúÄÂ§ßÊ∑±Â∫¶ÔºåÊàñÊ£ÄÊü•ÊÅ∂ÊÑèÊï∞ÊçÆÔºö  Fory fory = Fory.builder() .withMaxDepth(100) // ‰ªéÈªòËÆ§ÁöÑ 50 Â¢ûÂä† .build();   ","version":"0.14","tagName":"h3"},{"title":"\"Serializer not found\"‚Äã","type":1,"pageTitle":"ÊïÖÈöúÊéíÈô§","url":"/zh-CN/docs/0.14/guide/java/troubleshooting#serializer-not-found","content":" ÂéüÂõ†ÔºöÊú™‰∏∫ËØ•Á±ªÂûãÊ≥®ÂÜåÂ∫èÂàóÂåñÂô®„ÄÇ  Ëß£ÂÜ≥ÊñπÊ°àÔºöÊ≥®ÂÜåËá™ÂÆö‰πâÂ∫èÂàóÂåñÂô®Ôºö  fory.registerSerializer(MyClass.class, new MyClassSerializer(fory));   ","version":"0.14","tagName":"h3"},{"title":"ÊÄßËÉΩÈóÆÈ¢ò‚Äã","type":1,"pageTitle":"ÊïÖÈöúÊéíÈô§","url":"/zh-CN/docs/0.14/guide/java/troubleshooting#ÊÄßËÉΩÈóÆÈ¢ò","content":" ","version":"0.14","tagName":"h2"},{"title":"ÂàùÂßãÂ∫èÂàóÂåñÊÖ¢‚Äã","type":1,"pageTitle":"ÊïÖÈöúÊéíÈô§","url":"/zh-CN/docs/0.14/guide/java/troubleshooting#ÂàùÂßãÂ∫èÂàóÂåñÊÖ¢","content":" ÂéüÂõ†ÔºöJIT ÁºñËØëÂú®Á¨¨‰∏ÄÊ¨°Â∫èÂàóÂåñÊó∂ÂèëÁîü„ÄÇ  Ëß£ÂÜ≥ÊñπÊ°àÔºöÂêØÁî®ÂºÇÊ≠•ÁºñËØëÔºö  Fory fory = Fory.builder() .withAsyncCompilation(true) .build();   ","version":"0.14","tagName":"h3"},{"title":"ÂÜÖÂ≠ò‰ΩøÁî®È´ò‚Äã","type":1,"pageTitle":"ÊïÖÈöúÊéíÈô§","url":"/zh-CN/docs/0.14/guide/java/troubleshooting#ÂÜÖÂ≠ò‰ΩøÁî®È´ò","content":" ÂéüÂõ†ÔºöÂ§ßÂØπË±°ÂõæÊàñÂºïÁî®Ë∑üË∏™ÂºÄÈîÄ„ÄÇ  Ëß£ÂÜ≥ÊñπÊ°àÔºö  Â¶ÇÊûú‰∏çÈúÄË¶ÅÔºåÁ¶ÅÁî®ÂºïÁî®Ë∑üË∏™Ôºö.withRefTracking(false)‰ΩøÁî®Ëá™ÂÆö‰πâÂÜÖÂ≠òÂàÜÈÖçÂô®ËøõË°åÊ±†ÂåñËÄÉËôëÂØπÂ§ßÊï∞ÊçÆÈõÜ‰ΩøÁî®Ë°åÊ†ºÂºè  ","version":"0.14","tagName":"h3"},{"title":"Â∫èÂàóÂåñÂ§ßÂ∞èÂ§ß‚Äã","type":1,"pageTitle":"ÊïÖÈöúÊéíÈô§","url":"/zh-CN/docs/0.14/guide/java/troubleshooting#Â∫èÂàóÂåñÂ§ßÂ∞èÂ§ß","content":" ÂéüÂõ†ÔºöÂÖÉÊï∞ÊçÆÂºÄÈîÄÊàñÊú™ÂéãÁº©ÁöÑÊï∞ÊçÆ„ÄÇ  Ëß£ÂÜ≥ÊñπÊ°àÔºö  ÂêØÁî®ÂéãÁº©Ôºö.withIntCompressed(true)„ÄÅ.withLongCompressed(true)‰ªÖÂú®ÈúÄË¶ÅÊó∂‰ΩøÁî®ÂÖºÂÆπÊ®°ÂºèÊ≥®ÂÜåÁ±ª‰ª•ÈÅøÂÖçÁ±ªÂêçÂ∫èÂàóÂåñ  ","version":"0.14","tagName":"h3"},{"title":"Ë∞ÉËØïÊäÄÂ∑ß‚Äã","type":1,"pageTitle":"ÊïÖÈöúÊéíÈô§","url":"/zh-CN/docs/0.14/guide/java/troubleshooting#Ë∞ÉËØïÊäÄÂ∑ß","content":" ÂêØÁî®Á±ªÁâàÊú¨Ê£ÄÊü•‰ª•ËØäÊñ≠ schema ÈóÆÈ¢òÊ£ÄÊü• API ÈÖçÂØπ - Á°Æ‰øùÂ∫èÂàóÂåñ/ÂèçÂ∫èÂàóÂåñ API ÂåπÈÖçÈ™åËØÅÊ≥®ÂÜåÈ°∫Â∫è - ÂøÖÈ°ªÂú®ÂêÑÁ´Ø‰πãÈó¥‰øùÊåÅ‰∏ÄËá¥ÂêØÁî®Êó•ÂøóËÆ∞ÂΩï‰ª•Êü•ÁúãÂÜÖÈÉ®Êìç‰ΩúÔºö  LoggerFactory.setLogLevel(LogLevel.DEBUG_LEVEL);   ","version":"0.14","tagName":"h2"},{"title":"Áõ∏ÂÖ≥‰∏ªÈ¢ò‚Äã","type":1,"pageTitle":"ÊïÖÈöúÊéíÈô§","url":"/zh-CN/docs/0.14/guide/java/troubleshooting#Áõ∏ÂÖ≥‰∏ªÈ¢ò","content":" ÈÖçÁΩÆÈÄâÈ°π - ÊâÄÊúâ ForyBuilder ÈÄâÈ°πSchema ÊºîÂåñ - ÂÖºÂÆπÊ®°ÂºèËØ¶ÊÉÖÁ±ªÂûãÊ≥®ÂÜå - Ê≥®ÂÜåÊúÄ‰Ω≥ÂÆûË∑µËøÅÁßªÊåáÂçó - ÂçáÁ∫ß Fory ÁâàÊú¨ ","version":"0.14","tagName":"h2"},{"title":"Kotlin Â∫èÂàóÂåñÊåáÂçó","type":0,"sectionRef":"#","url":"/zh-CN/docs/0.14/guide/kotlin/","content":"","keywords":"","version":"0.14"},{"title":"ÁâπÊÄß‚Äã","type":1,"pageTitle":"Kotlin Â∫èÂàóÂåñÊåáÂçó","url":"/zh-CN/docs/0.14/guide/kotlin/#ÁâπÊÄß","content":" Fory Kotlin ÁªßÊâø‰∫Ü Fory Java ÁöÑÊâÄÊúâÁâπÊÄßÔºåÂπ∂Â¢ûÂä†‰∫Ü Kotlin ÁâπÂÆöÁöÑ‰ºòÂåñÔºö  È´òÊÄßËÉΩÔºöJIT ‰ª£Á†ÅÁîüÊàê„ÄÅÈõ∂Êã∑Ë¥ùÔºåÊØî‰º†ÁªüÂ∫èÂàóÂåñÂø´ 20-170 ÂÄçKotlin Á±ªÂûãÊîØÊåÅÔºö‰∏∫Êï∞ÊçÆÁ±ª„ÄÅÊó†Á¨¶Âè∑Á±ªÂûã„ÄÅËåÉÂõ¥ÂíåÊ†áÂáÜÂ∫ìÁ±ªÂûãÊèê‰æõ‰ºòÂåñÁöÑÂ∫èÂàóÂåñÂô®ÈªòËÆ§ÂÄºÊîØÊåÅÔºöÂú® schema ÊºîÂåñÊúüÈó¥Ëá™Âä®Â§ÑÁêÜ Kotlin Êï∞ÊçÆÁ±ªÁöÑÈªòËÆ§ÂèÇÊï∞Schema ÊºîÂåñÔºöÊîØÊåÅÁ±ª schema ÂèòÊõ¥ÁöÑÂâçÂêë/ÂêéÂêëÂÖºÂÆπÊÄß  ÂÆåÊï¥ÁâπÊÄßÂàóË°®ËØ∑ÂèÇÈòÖ Java ÁâπÊÄß„ÄÇ  ","version":"0.14","tagName":"h2"},{"title":"ÂÆâË£Ö‚Äã","type":1,"pageTitle":"Kotlin Â∫èÂàóÂåñÊåáÂçó","url":"/zh-CN/docs/0.14/guide/kotlin/#ÂÆâË£Ö","content":" ","version":"0.14","tagName":"h2"},{"title":"Maven‚Äã","type":1,"pageTitle":"Kotlin Â∫èÂàóÂåñÊåáÂçó","url":"/zh-CN/docs/0.14/guide/kotlin/#maven","content":" &lt;dependency&gt; &lt;groupId&gt;org.apache.fory&lt;/groupId&gt; &lt;artifactId&gt;fory-kotlin&lt;/artifactId&gt; &lt;version&gt;0.14.1&lt;/version&gt; &lt;/dependency&gt;   ","version":"0.14","tagName":"h3"},{"title":"Gradle‚Äã","type":1,"pageTitle":"Kotlin Â∫èÂàóÂåñÊåáÂçó","url":"/zh-CN/docs/0.14/guide/kotlin/#gradle","content":" implementation(&quot;org.apache.fory:fory-kotlin:0.14.1&quot;)   ","version":"0.14","tagName":"h3"},{"title":"Âø´ÈÄüÂºÄÂßã‚Äã","type":1,"pageTitle":"Kotlin Â∫èÂàóÂåñÊåáÂçó","url":"/zh-CN/docs/0.14/guide/kotlin/#Âø´ÈÄüÂºÄÂßã","content":" import org.apache.fory.Fory import org.apache.fory.ThreadSafeFory import org.apache.fory.serializer.kotlin.KotlinSerializers data class Person(val name: String, val id: Long, val github: String) data class Point(val x: Int, val y: Int, val z: Int) fun main() { // ÂàõÂª∫ Fory ÂÆû‰æãÔºàÂ∫îËØ•ÈáçÁî®Ôºâ val fory: ThreadSafeFory = Fory.builder() .requireClassRegistration(true) .buildThreadSafeFory() // Ê≥®ÂÜå Kotlin Â∫èÂàóÂåñÂô® KotlinSerializers.registerSerializers(fory) // Ê≥®ÂÜå‰Ω†ÁöÑÁ±ª fory.register(Person::class.java) fory.register(Point::class.java) val p = Person(&quot;Shawn Yang&quot;, 1, &quot;https://github.com/chaokunyang&quot;) println(fory.deserialize(fory.serialize(p))) println(fory.deserialize(fory.serialize(Point(1, 2, 3)))) }   ","version":"0.14","tagName":"h2"},{"title":"Âü∫‰∫é Fory Java ÊûÑÂª∫‚Äã","type":1,"pageTitle":"Kotlin Â∫èÂàóÂåñÊåáÂçó","url":"/zh-CN/docs/0.14/guide/kotlin/#Âü∫‰∫é-fory-java-ÊûÑÂª∫","content":" Fory Kotlin Âü∫‰∫é Fory Java ÊûÑÂª∫„ÄÇFory Java ÁöÑÂ§ßÂ§öÊï∞ÈÖçÁΩÆÈÄâÈ°π„ÄÅÁâπÊÄßÂíåÊ¶ÇÂøµÁõ¥Êé•ÈÄÇÁî®‰∫é Kotlin„ÄÇËØ∑ÂèÇÈòÖ Java ÊñáÊ°£‰∫ÜËß£Ôºö  ÈÖçÁΩÆÈÄâÈ°π - ÊâÄÊúâ ForyBuilder ÈÄâÈ°πÂü∫Á°ÄÂ∫èÂàóÂåñ - Â∫èÂàóÂåñÊ®°ÂºèÂíå APIÁ±ªÂûãÊ≥®ÂÜå - Á±ªÊ≥®ÂÜåÂíåÂÆâÂÖ®ÊÄßSchema ÊºîÂåñ - ÂâçÂêë/ÂêéÂêëÂÖºÂÆπÊÄßËá™ÂÆö‰πâÂ∫èÂàóÂåñÂô® - ÂÆûÁé∞Ëá™ÂÆö‰πâÂ∫èÂàóÂåñÂô®ÂéãÁº© - Int„ÄÅlong ÂíåÂ≠óÁ¨¶‰∏≤ÂéãÁº©ÊïÖÈöúÊéíÈô§ - Â∏∏ËßÅÈóÆÈ¢òÂíåËß£ÂÜ≥ÊñπÊ°à  ","version":"0.14","tagName":"h2"},{"title":"Kotlin ÁâπÂÆöÊñáÊ°£‚Äã","type":1,"pageTitle":"Kotlin Â∫èÂàóÂåñÊåáÂçó","url":"/zh-CN/docs/0.14/guide/kotlin/#kotlin-ÁâπÂÆöÊñáÊ°£","content":" Fory ÂàõÂª∫ - Kotlin ÁâπÂÆöÁöÑ Fory ËÆæÁΩÆË¶ÅÊ±ÇÁ±ªÂûãÂ∫èÂàóÂåñ - Â∫èÂàóÂåñ Kotlin Á±ªÂûãÈªòËÆ§ÂÄº - Kotlin Êï∞ÊçÆÁ±ªÈªòËÆ§ÂÄºÊîØÊåÅ ","version":"0.14","tagName":"h2"},{"title":"ÈªòËÆ§ÂÄº","type":0,"sectionRef":"#","url":"/zh-CN/docs/0.14/guide/kotlin/default_values","content":"","keywords":"","version":"0.14"},{"title":"Ê¶ÇËø∞‚Äã","type":1,"pageTitle":"ÈªòËÆ§ÂÄº","url":"/zh-CN/docs/0.14/guide/kotlin/default_values#Ê¶ÇËø∞","content":" ÂΩì Kotlin Êï∞ÊçÆÁ±ªÂÖ∑ÊúâÂ∏¶ÈªòËÆ§ÂÄºÁöÑÂèÇÊï∞Êó∂ÔºåFory ÂèØ‰ª•Ôºö  Ê£ÄÊµãÈªòËÆ§ÂÄºÔºö‰ΩøÁî® Kotlin ÂèçÂ∞ÑÂ∫îÁî®ÈªòËÆ§ÂÄºÔºöÂΩìÂ∫èÂàóÂåñÊï∞ÊçÆ‰∏≠Áº∫Â∞ëÂ≠óÊÆµÊó∂ÔºåÂú®ÂèçÂ∫èÂàóÂåñÊúüÈó¥Â∫îÁî®ÈªòËÆ§ÂÄºÊîØÊåÅ schema ÊºîÂåñÔºöÂÖÅËÆ∏Ê∑ªÂä†Â∏¶ÈªòËÆ§ÂÄºÁöÑÊñ∞Â≠óÊÆµÔºåËÄå‰∏ç‰ºöÁ†¥ÂùèÁé∞ÊúâÁöÑÂ∫èÂàóÂåñÊï∞ÊçÆ  ","version":"0.14","tagName":"h2"},{"title":"Áî®Ê≥ï‚Äã","type":1,"pageTitle":"ÈªòËÆ§ÂÄº","url":"/zh-CN/docs/0.14/guide/kotlin/default_values#Áî®Ê≥ï","content":" Âú®‰ª•‰∏ãÊÉÖÂÜµ‰∏ãÔºåÊ≠§ÁâπÊÄß‰ºöËá™Âä®ÂêØÁî®Ôºö  ÂêØÁî®‰∫ÜÂÖºÂÆπÊ®°ÂºèÔºàwithCompatibleMode(CompatibleMode.COMPATIBLE)ÔºâÂ∑≤Ê≥®ÂÜå Kotlin Â∫èÂàóÂåñÂô®ÔºàKotlinSerializers.registerSerializers(fory)ÔºâÂ∫èÂàóÂåñÊï∞ÊçÆ‰∏≠Áº∫Â∞ëÊüê‰∏™Â≠óÊÆµÔºå‰ΩÜÁõÆÊ†áÁ±ª‰∏≠ËØ•Â≠óÊÆµÂ≠òÂú®Âπ∂ÂÖ∑ÊúâÈªòËÆ§ÂÄº  ","version":"0.14","tagName":"h2"},{"title":"Á§∫‰æã‚Äã","type":1,"pageTitle":"ÈªòËÆ§ÂÄº","url":"/zh-CN/docs/0.14/guide/kotlin/default_values#Á§∫‰æã","content":" import org.apache.fory.Fory import org.apache.fory.config.CompatibleMode import org.apache.fory.serializer.kotlin.KotlinSerializers // ÂéüÂßãÊï∞ÊçÆÁ±ª data class User(val name: String, val age: Int) // ÊºîÂåñÂêéÁöÑÊï∞ÊçÆÁ±ªÔºåÂ∏¶ÊúâÊñ∞Â≠óÊÆµÂíåÈªòËÆ§ÂÄº data class UserV2(val name: String, val age: Int, val email: String = &quot;default@example.com&quot;) fun main() { val fory = Fory.builder() .withCompatibleMode(CompatibleMode.COMPATIBLE) .build() KotlinSerializers.registerSerializers(fory) fory.register(User::class.java) fory.register(UserV2::class.java) // ‰ΩøÁî®Êóß schema Â∫èÂàóÂåñ val oldUser = User(&quot;John&quot;, 30) val serialized = fory.serialize(oldUser) // ‰ΩøÁî®Êñ∞ schema ÂèçÂ∫èÂàóÂåñ - Áº∫Â§±ÁöÑÂ≠óÊÆµËé∑ÂæóÈªòËÆ§ÂÄº val newUser = fory.deserialize(serialized) as UserV2 println(newUser) // UserV2(name=John, age=30, email=default@example.com) }   ","version":"0.14","tagName":"h2"},{"title":"ÊîØÊåÅÁöÑÈªòËÆ§ÂÄºÁ±ªÂûã‚Äã","type":1,"pageTitle":"ÈªòËÆ§ÂÄº","url":"/zh-CN/docs/0.14/guide/kotlin/default_values#ÊîØÊåÅÁöÑÈªòËÆ§ÂÄºÁ±ªÂûã","content":" ‰ª•‰∏ãÁ±ªÂûãÊîØÊåÅÈªòËÆ§ÂÄºÔºö  ÂéüÂßãÁ±ªÂûãÔºöInt„ÄÅLong„ÄÅDouble„ÄÅFloat„ÄÅBoolean„ÄÅByte„ÄÅShort„ÄÅCharÊó†Á¨¶Âè∑Á±ªÂûãÔºöUInt„ÄÅULong„ÄÅUByte„ÄÅUShortÂ≠óÁ¨¶‰∏≤ÔºöStringÈõÜÂêàÔºöList„ÄÅSet„ÄÅMapÔºàÂ∏¶ÈªòËÆ§ÂÆû‰æãÔºâËá™ÂÆö‰πâÂØπË±°Ôºö‰ªª‰ΩïÂèØ‰ª•ÈÄöËøáÂèçÂ∞ÑÂÆû‰æãÂåñÁöÑÂØπË±°  ","version":"0.14","tagName":"h2"},{"title":"Â§çÊùÇÁöÑÈªòËÆ§ÂÄº‚Äã","type":1,"pageTitle":"ÈªòËÆ§ÂÄº","url":"/zh-CN/docs/0.14/guide/kotlin/default_values#Â§çÊùÇÁöÑÈªòËÆ§ÂÄº","content":" ÈªòËÆ§ÂÄºÂèØ‰ª•ÊòØÂ§çÊùÇÁöÑË°®ËææÂºèÔºö  data class ConfigV1(val name: String) data class ConfigV2( val name: String, val settings: Map&lt;String, String&gt; = mapOf(&quot;default&quot; to &quot;value&quot;), val tags: List&lt;String&gt; = listOf(&quot;default&quot;), val enabled: Boolean = true, val retryCount: Int = 3 ) val fory = Fory.builder() .withCompatibleMode(CompatibleMode.COMPATIBLE) .build() KotlinSerializers.registerSerializers(fory) val original = ConfigV1(&quot;myConfig&quot;) val serialized = fory.serialize(original) val deserialized = fory.deserialize(serialized) as ConfigV2 // deserialized.name == &quot;myConfig&quot; // deserialized.settings == mapOf(&quot;default&quot; to &quot;value&quot;) // deserialized.tags == listOf(&quot;default&quot;) // deserialized.enabled == true // deserialized.retryCount == 3   ","version":"0.14","tagName":"h2"},{"title":"ÂèØÁ©∫Â≠óÊÆµ‰∏éÈªòËÆ§ÂÄº‚Äã","type":1,"pageTitle":"ÈªòËÆ§ÂÄº","url":"/zh-CN/docs/0.14/guide/kotlin/default_values#ÂèØÁ©∫Â≠óÊÆµ‰∏éÈªòËÆ§ÂÄº","content":" ‰πüÊîØÊåÅÂ∏¶ÈªòËÆ§ÂÄºÁöÑÂèØÁ©∫Â≠óÊÆµÔºö  data class PersonV1(val name: String) data class PersonV2( val name: String, val nickname: String? = null, val age: Int? = null ) val original = PersonV1(&quot;John&quot;) val serialized = fory.serialize(original) val deserialized = fory.deserialize(serialized) as PersonV2 // deserialized.name == &quot;John&quot; // deserialized.nickname == null (ÈªòËÆ§ÂÄº) // deserialized.age == null (ÈªòËÆ§ÂÄº)   ","version":"0.14","tagName":"h2"},{"title":"Áõ∏ÂÖ≥‰∏ªÈ¢ò‚Äã","type":1,"pageTitle":"ÈªòËÆ§ÂÄº","url":"/zh-CN/docs/0.14/guide/kotlin/default_values#Áõ∏ÂÖ≥‰∏ªÈ¢ò","content":" Schema ÊºîÂåñ - Java ‰∏≠ÁöÑÂâçÂêë/ÂêéÂêëÂÖºÂÆπÊÄßFory ÂàõÂª∫ - ‰ΩøÁî®ÂÖºÂÆπÊ®°ÂºèËÆæÁΩÆ Fory ","version":"0.14","tagName":"h2"},{"title":"Fory ÂàõÂª∫","type":0,"sectionRef":"#","url":"/zh-CN/docs/0.14/guide/kotlin/fory_creation","content":"","keywords":"","version":"0.14"},{"title":"Âü∫Êú¨ËÆæÁΩÆ‚Äã","type":1,"pageTitle":"Fory ÂàõÂª∫","url":"/zh-CN/docs/0.14/guide/kotlin/fory_creation#Âü∫Êú¨ËÆæÁΩÆ","content":" Âú®‰ΩøÁî® Fory ËøõË°å Kotlin Â∫èÂàóÂåñÊó∂ÔºåÈÄöËøá KotlinSerializers.registerSerializers(fory) Ê≥®ÂÜå Kotlin Â∫èÂàóÂåñÂô®Ôºö  import org.apache.fory.Fory import org.apache.fory.serializer.kotlin.KotlinSerializers val fory = Fory.builder() .requireClassRegistration(true) .build() // Ê≥®ÂÜå Kotlin Â∫èÂàóÂåñÂô® KotlinSerializers.registerSerializers(fory)   ","version":"0.14","tagName":"h2"},{"title":"Á∫øÁ®ãÂÆâÂÖ®‚Äã","type":1,"pageTitle":"Fory ÂàõÂª∫","url":"/zh-CN/docs/0.14/guide/kotlin/fory_creation#Á∫øÁ®ãÂÆâÂÖ®","content":" Fory ÂÆû‰æãÁöÑÂàõÂª∫ÊàêÊú¨‰∏ç‰Ωé„ÄÇÂÆû‰æãÂ∫îËØ•Âú®Â§öÊ¨°Â∫èÂàóÂåñ‰πãÈó¥ÂÖ±‰∫´„ÄÇ  ","version":"0.14","tagName":"h2"},{"title":"ÂçïÁ∫øÁ®ã‰ΩøÁî®‚Äã","type":1,"pageTitle":"Fory ÂàõÂª∫","url":"/zh-CN/docs/0.14/guide/kotlin/fory_creation#ÂçïÁ∫øÁ®ã‰ΩøÁî®","content":" import org.apache.fory.Fory import org.apache.fory.serializer.kotlin.KotlinSerializers object ForyHolder { val fory: Fory = Fory.builder() .requireClassRegistration(true) .build().also { KotlinSerializers.registerSerializers(it) } }   ","version":"0.14","tagName":"h3"},{"title":"Â§öÁ∫øÁ®ã‰ΩøÁî®‚Äã","type":1,"pageTitle":"Fory ÂàõÂª∫","url":"/zh-CN/docs/0.14/guide/kotlin/fory_creation#Â§öÁ∫øÁ®ã‰ΩøÁî®","content":" ÂØπ‰∫éÂ§öÁ∫øÁ®ãÂ∫îÁî®Á®ãÂ∫èÔºå‰ΩøÁî® ThreadSafeForyÔºö  import org.apache.fory.Fory import org.apache.fory.ThreadSafeFory import org.apache.fory.ThreadLocalFory import org.apache.fory.serializer.kotlin.KotlinSerializers object ForyHolder { val fory: ThreadSafeFory = ThreadLocalFory { classLoader -&gt; Fory.builder() .withClassLoader(classLoader) .requireClassRegistration(true) .build().also { KotlinSerializers.registerSerializers(it) } } }   ","version":"0.14","tagName":"h3"},{"title":"‰ΩøÁî®ÊûÑÂª∫Âô®ÊñπÊ≥ï‚Äã","type":1,"pageTitle":"Fory ÂàõÂª∫","url":"/zh-CN/docs/0.14/guide/kotlin/fory_creation#‰ΩøÁî®ÊûÑÂª∫Âô®ÊñπÊ≥ï","content":" // Á∫øÁ®ãÂÆâÂÖ®ÁöÑ Fory val fory: ThreadSafeFory = Fory.builder() .requireClassRegistration(true) .buildThreadSafeFory() KotlinSerializers.registerSerializers(fory)   ","version":"0.14","tagName":"h3"},{"title":"ÈÖçÁΩÆÈÄâÈ°π‚Äã","type":1,"pageTitle":"Fory ÂàõÂª∫","url":"/zh-CN/docs/0.14/guide/kotlin/fory_creation#ÈÖçÁΩÆÈÄâÈ°π","content":" Fory Java ÁöÑÊâÄÊúâÈÖçÁΩÆÈÄâÈ°πÈÉΩÂèØÁî®„ÄÇÂÆåÊï¥ÂàóË°®ËØ∑ÂèÇÈòÖ Java ÈÖçÁΩÆÈÄâÈ°π„ÄÇ  Kotlin ÁöÑÂ∏∏Áî®ÈÄâÈ°πÔºö  import org.apache.fory.Fory import org.apache.fory.config.CompatibleMode import org.apache.fory.serializer.kotlin.KotlinSerializers val fory = Fory.builder() // ÂêØÁî®Âæ™ÁéØÂºïÁî®ÁöÑÂºïÁî®Ë∑üË∏™ .withRefTracking(true) // ÂêØÁî® schema ÊºîÂåñÊîØÊåÅ .withCompatibleMode(CompatibleMode.COMPATIBLE) // ÂêØÁî®ÂºÇÊ≠•ÁºñËØë‰ª•Ëé∑ÂæóÊõ¥Â•ΩÁöÑÂêØÂä®ÊÄßËÉΩ .withAsyncCompilation(true) // ÂéãÁº©ÈÄâÈ°π .withIntCompressed(true) .withLongCompressed(true) .build() KotlinSerializers.registerSerializers(fory)  ","version":"0.14","tagName":"h2"},{"title":"Ëá™ÂÆö‰πâÂ∫èÂàóÂåñÂô®","type":0,"sectionRef":"#","url":"/zh-CN/docs/0.14/guide/java/custom_serializers","content":"","keywords":"","version":"0.14"},{"title":"Âü∫Êú¨Ëá™ÂÆö‰πâÂ∫èÂàóÂåñÂô®‚Äã","type":1,"pageTitle":"Ëá™ÂÆö‰πâÂ∫èÂàóÂåñÂô®","url":"/zh-CN/docs/0.14/guide/java/custom_serializers#Âü∫Êú¨Ëá™ÂÆö‰πâÂ∫èÂàóÂåñÂô®","content":" Âú®Êüê‰∫õÊÉÖÂÜµ‰∏ãÔºå‰Ω†ÂèØËÉΩÊÉ≥‰∏∫‰Ω†ÁöÑÁ±ªÂûãÂÆûÁé∞Â∫èÂàóÂåñÂô®ÔºåÁâπÂà´ÊòØÂØπ‰∫é‰ΩøÁî® JDK writeObject/writeReplace/readObject/readResolve Ëá™ÂÆö‰πâÂ∫èÂàóÂåñÁöÑÁ±ªÔºåËøôÈùûÂ∏∏‰ΩéÊïà„ÄÇ  ‰æãÂ¶ÇÔºåÂ¶ÇÊûú‰Ω†‰∏çÊÉ≥Ë∞ÉÁî®‰ª•‰∏ã Foo#writeObjectÔºå‰Ω†ÂèØ‰ª•ÂÆûÁé∞Ëá™ÂÆö‰πâÂ∫èÂàóÂåñÂô®Ôºö  class Foo { public long f1; private void writeObject(ObjectOutputStream s) throws IOException { System.out.println(f1); s.defaultWriteObject(); } } class FooSerializer extends Serializer&lt;Foo&gt; { public FooSerializer(Fory fory) { super(fory, Foo.class); } @Override public void write(MemoryBuffer buffer, Foo value) { buffer.writeInt64(value.f1); } @Override public Foo read(MemoryBuffer buffer) { Foo foo = new Foo(); foo.f1 = buffer.readInt64(); return foo; } }   ","version":"0.14","tagName":"h2"},{"title":"Ê≥®ÂÜåÂ∫èÂàóÂåñÂô®‚Äã","type":1,"pageTitle":"Ëá™ÂÆö‰πâÂ∫èÂàóÂåñÂô®","url":"/zh-CN/docs/0.14/guide/java/custom_serializers#Ê≥®ÂÜåÂ∫èÂàóÂåñÂô®","content":" Fory fory = getFory(); fory.registerSerializer(Foo.class, new FooSerializer(fory));   Èô§‰∫ÜÊ≥®ÂÜåÂ∫èÂàóÂåñÂô®Ôºå‰Ω†ËøòÂèØ‰ª•‰∏∫Á±ªÂÆûÁé∞ java.io.Externalizable Êù•Ëá™ÂÆö‰πâÂ∫èÂàóÂåñÈÄªËæë„ÄÇËøôÁßçÁ±ªÂûãÂ∞ÜÁî± Fory ÁöÑ ExternalizableSerializer Â∫èÂàóÂåñ„ÄÇ  ","version":"0.14","tagName":"h3"},{"title":"ÈõÜÂêàÂ∫èÂàóÂåñÂô®‚Äã","type":1,"pageTitle":"Ëá™ÂÆö‰πâÂ∫èÂàóÂåñÂô®","url":"/zh-CN/docs/0.14/guide/java/custom_serializers#ÈõÜÂêàÂ∫èÂàóÂåñÂô®","content":" Âú®‰∏∫Ëá™ÂÆö‰πâÈõÜÂêàÁ±ªÂûãÂÆûÁé∞Â∫èÂàóÂåñÂô®Êó∂Ôºå‰Ω†ÂøÖÈ°ªÊâ©Â±ï CollectionSerializer Êàñ CollectionLikeSerializer„ÄÇ‰∏ªË¶ÅÂå∫Âà´ÊòØ CollectionLikeSerializer ÂèØ‰ª•Â∫èÂàóÂåñÂÖ∑ÊúâÁ±ª‰ººÈõÜÂêàÁªìÊûÑ‰ΩÜ‰∏çÊòØ Java Collection Â≠êÁ±ªÂûãÁöÑÁ±ª„ÄÇ  ","version":"0.14","tagName":"h2"},{"title":"supportCodegenHook ÂèÇÊï∞‚Äã","type":1,"pageTitle":"Ëá™ÂÆö‰πâÂ∫èÂàóÂåñÂô®","url":"/zh-CN/docs/0.14/guide/java/custom_serializers#supportcodegenhook-ÂèÇÊï∞","content":" Ëøô‰∏™ÁâπÊÆäÂèÇÊï∞ÊéßÂà∂Â∫èÂàóÂåñË°å‰∏∫Ôºö  ÂΩì‰∏∫ true Êó∂Ôºö  ÂêØÁî®ÂØπÈõÜÂêàÂÖÉÁ¥†ÁöÑ‰ºòÂåñËÆøÈóÆÂíå JIT ÁºñËØë‰ª•Ëé∑ÂæóÊõ¥Â•ΩÁöÑÊÄßËÉΩÁõ¥Êé•Â∫èÂàóÂåñË∞ÉÁî®ÂíåÂÜÖËÅîÈõÜÂêàÈ°πÔºåÊó†ÈúÄÂä®ÊÄÅÂ∫èÂàóÂåñÂô®ÂàÜÊ¥æÊàêÊú¨ÂØπÊ†áÂáÜÈõÜÂêàÁ±ªÂûãÊúâÊõ¥Â•ΩÁöÑÊÄßËÉΩÂØπÂ§ßÂ§öÊï∞ÈõÜÂêàÊé®Ëçê  ÂΩì‰∏∫ false Êó∂Ôºö  ‰ΩøÁî®Âü∫‰∫éÊé•Âè£ÁöÑÂÖÉÁ¥†ËÆøÈóÆÂíåÂÖÉÁ¥†ÁöÑÂä®ÊÄÅÂ∫èÂàóÂåñÂô®ÂàÜÊ¥æÔºàÊàêÊú¨Êõ¥È´òÔºâÂØπËá™ÂÆö‰πâÈõÜÂêàÁ±ªÂûãÊõ¥ÁÅµÊ¥ªÂΩìÈõÜÂêàÊúâÁâπÊÆäÂ∫èÂàóÂåñÈúÄÊ±ÇÊó∂ÈúÄË¶ÅÂ§ÑÁêÜÂ§çÊùÇÁöÑÈõÜÂêàÂÆûÁé∞  ","version":"0.14","tagName":"h3"},{"title":"Â∏¶ JIT ÊîØÊåÅÁöÑÈõÜÂêàÂ∫èÂàóÂåñÂô®‚Äã","type":1,"pageTitle":"Ëá™ÂÆö‰πâÂ∫èÂàóÂåñÂô®","url":"/zh-CN/docs/0.14/guide/java/custom_serializers#Â∏¶-jit-ÊîØÊåÅÁöÑÈõÜÂêàÂ∫èÂàóÂåñÂô®","content":" Âú®ÂÆûÁé∞Â∏¶ JIT ÊîØÊåÅÁöÑÈõÜÂêàÂ∫èÂàóÂåñÂô®Êó∂ÔºåÂà©Áî® Fory Áé∞ÊúâÁöÑ‰∫åËøõÂà∂Ê†ºÂºèÂíåÈõÜÂêàÂ∫èÂàóÂåñÂü∫Á°ÄËÆæÊñΩÔºö  public class CustomCollectionSerializer&lt;T extends Collection&gt; extends CollectionSerializer&lt;T&gt; { public CustomCollectionSerializer(Fory fory, Class&lt;T&gt; cls) { // supportCodegenHook ÊéßÂà∂ÊòØÂê¶‰ΩøÁî® JIT ÁºñËØë super(fory, cls, true); } @Override public Collection onCollectionWrite(MemoryBuffer buffer, T value) { // ÂÜôÂÖ•ÈõÜÂêàÂ§ßÂ∞è buffer.writeVarUint32Small7(value.size()); // ÂÜôÂÖ•‰ªª‰ΩïÈ¢ùÂ§ñÁöÑÈõÜÂêàÂÖÉÊï∞ÊçÆ return value; } @Override public Collection newCollection(MemoryBuffer buffer) { // ÂàõÂª∫Êñ∞ÁöÑÈõÜÂêàÂÆû‰æã Collection collection = super.newCollection(buffer); // ËØªÂèñÂπ∂ËÆæÁΩÆÈõÜÂêàÂ§ßÂ∞è int numElements = getAndClearNumElements(); setNumElements(numElements); return collection; } }   Ê≥®ÊÑèÔºöÂú®ÂÆûÁé∞ newCollection Êó∂Ë∞ÉÁî® setNumElementsÔºåËÆ© Fory Áü•ÈÅìË¶ÅÂèçÂ∫èÂàóÂåñÂ§öÂ∞ëÂÖÉÁ¥†„ÄÇ  ","version":"0.14","tagName":"h3"},{"title":"‰∏çÂ∏¶ JIT ÁöÑËá™ÂÆö‰πâÈõÜÂêàÂ∫èÂàóÂåñÂô®‚Äã","type":1,"pageTitle":"Ëá™ÂÆö‰πâÂ∫èÂàóÂåñÂô®","url":"/zh-CN/docs/0.14/guide/java/custom_serializers#‰∏çÂ∏¶-jit-ÁöÑËá™ÂÆö‰πâÈõÜÂêàÂ∫èÂàóÂåñÂô®","content":" ÂØπ‰∫é‰ΩøÁî®ÂéüÂßãÊï∞ÁªÑÊàñÊúâÁâπÊÆäË¶ÅÊ±ÇÁöÑÈõÜÂêàÔºåÂÆûÁé∞Á¶ÅÁî® JIT ÁöÑÂ∫èÂàóÂåñÂô®Ôºö  class IntList extends AbstractCollection&lt;Integer&gt; { private final int[] elements; private final int size; public IntList(int size) { this.elements = new int[size]; this.size = size; } public IntList(int[] elements, int size) { this.elements = elements; this.size = size; } @Override public Iterator&lt;Integer&gt; iterator() { return new Iterator&lt;Integer&gt;() { private int index = 0; @Override public boolean hasNext() { return index &lt; size; } @Override public Integer next() { if (!hasNext()) { throw new NoSuchElementException(); } return elements[index++]; } }; } @Override public int size() { return size; } public int get(int index) { if (index &gt;= size) { throw new IndexOutOfBoundsException(); } return elements[index]; } public void set(int index, int value) { if (index &gt;= size) { throw new IndexOutOfBoundsException(); } elements[index] = value; } public int[] getElements() { return elements; } } class IntListSerializer extends CollectionLikeSerializer&lt;IntList&gt; { public IntListSerializer(Fory fory) { // Á¶ÅÁî® JITÔºåÂõ†‰∏∫Êàë‰ª¨Áõ¥Êé•Â§ÑÁêÜÂ∫èÂàóÂåñ super(fory, IntList.class, false); } @Override public void write(MemoryBuffer buffer, IntList value) { // ÂÜôÂÖ•Â§ßÂ∞è buffer.writeVarUint32Small7(value.size()); // Áõ¥Êé•Â∞ÜÂÖÉÁ¥†ÂÜô‰∏∫ÂéüÂßã int int[] elements = value.getElements(); for (int i = 0; i &lt; value.size(); i++) { buffer.writeVarInt32(elements[i]); } } @Override public IntList read(MemoryBuffer buffer) { // ËØªÂèñÂ§ßÂ∞è int size = buffer.readVarUint32Small7(); // ÂàõÂª∫Êï∞ÁªÑÂπ∂ËØªÂèñÂÖÉÁ¥† int[] elements = new int[size]; for (int i = 0; i &lt; size; i++) { elements[i] = buffer.readVarInt32(); } return new IntList(elements, size); } // ÂΩìÁ¶ÅÁî® JIT Êó∂‰∏ç‰ΩøÁî®Ëøô‰∫õÊñπÊ≥ï @Override public Collection onCollectionWrite(MemoryBuffer buffer, IntList value) { throw new UnsupportedOperationException(); } @Override public Collection newCollection(MemoryBuffer buffer) { throw new UnsupportedOperationException(); } @Override public IntList onCollectionRead(Collection collection) { throw new UnsupportedOperationException(); } }   ‰ΩïÊó∂‰ΩøÁî®Ê≠§ÊñπÊ≥ïÔºö  Â§ÑÁêÜÂéüÂßãÁ±ªÂûãÈúÄË¶ÅÊúÄÂ§ßÊÄßËÉΩÊÉ≥Ë¶ÅÊúÄÂ∞èÂåñÂÜÖÂ≠òÂºÄÈîÄÊúâÁâπÊÆäÁöÑÂ∫èÂàóÂåñÈúÄÊ±Ç  ","version":"0.14","tagName":"h3"},{"title":"Á±ªÈõÜÂêàÁ±ªÂûãÂ∫èÂàóÂåñÂô®‚Äã","type":1,"pageTitle":"Ëá™ÂÆö‰πâÂ∫èÂàóÂåñÂô®","url":"/zh-CN/docs/0.14/guide/java/custom_serializers#Á±ªÈõÜÂêàÁ±ªÂûãÂ∫èÂàóÂåñÂô®","content":" ÂØπ‰∫éË°å‰∏∫Á±ª‰ººÈõÜÂêà‰ΩÜ‰∏çÊòØÊ†áÂáÜ Java ÈõÜÂêàÁöÑÁ±ªÂûãÔºö  class CustomCollectionLike { private final Object[] elements; private final int size; public CustomCollectionLike(int size) { this.elements = new Object[size]; this.size = 0; } public CustomCollectionLike(Object[] elements, int size) { this.elements = elements; this.size = size; } public Object get(int index) { if (index &gt;= size) { throw new IndexOutOfBoundsException(); } return elements[index]; } public int size() { return size; } public Object[] getElements() { return elements; } } class CollectionView extends AbstractCollection&lt;Object&gt; { private final Object[] elements; private final int size; private int writeIndex; public CollectionView(CustomCollectionLike collection) { this.elements = collection.getElements(); this.size = collection.size(); } public CollectionView(int size) { this.size = size; this.elements = new Object[size]; } @Override public Iterator&lt;Object&gt; iterator() { return new Iterator&lt;Object&gt;() { private int index = 0; @Override public boolean hasNext() { return index &lt; size; } @Override public Object next() { if (!hasNext()) { throw new NoSuchElementException(); } return elements[index++]; } }; } @Override public boolean add(Object element) { if (writeIndex &gt;= size) { throw new IllegalStateException(&quot;Collection is full&quot;); } elements[writeIndex++] = element; return true; } @Override public int size() { return size; } public Object[] getElements() { return elements; } } class CustomCollectionSerializer extends CollectionLikeSerializer&lt;CustomCollectionLike&gt; { public CustomCollectionSerializer(Fory fory) { super(fory, CustomCollectionLike.class, true); } @Override public Collection onCollectionWrite(MemoryBuffer buffer, CustomCollectionLike value) { buffer.writeVarUint32Small7(value.size()); return new CollectionView(value); } @Override public Collection newCollection(MemoryBuffer buffer) { int numElements = buffer.readVarUint32Small7(); setNumElements(numElements); return new CollectionView(numElements); } @Override public CustomCollectionLike onCollectionRead(Collection collection) { CollectionView view = (CollectionView) collection; return new CustomCollectionLike(view.getElements(), view.size()); } }   ","version":"0.14","tagName":"h3"},{"title":"Map Â∫èÂàóÂåñÂô®‚Äã","type":1,"pageTitle":"Ëá™ÂÆö‰πâÂ∫èÂàóÂåñÂô®","url":"/zh-CN/docs/0.14/guide/java/custom_serializers#map-Â∫èÂàóÂåñÂô®","content":" Âú®‰∏∫Ëá™ÂÆö‰πâ Map Á±ªÂûãÂÆûÁé∞Â∫èÂàóÂåñÂô®Êó∂ÔºåÊâ©Â±ï MapSerializer Êàñ MapLikeSerializer„ÄÇ‰∏ªË¶ÅÂå∫Âà´ÊòØ MapLikeSerializer ÂèØ‰ª•Â∫èÂàóÂåñÂÖ∑ÊúâÁ±ª‰ºº map ÁªìÊûÑ‰ΩÜ‰∏çÊòØ Java Map Â≠êÁ±ªÂûãÁöÑÁ±ª„ÄÇ  ","version":"0.14","tagName":"h2"},{"title":"Â∏¶ JIT ÊîØÊåÅÁöÑ Map Â∫èÂàóÂåñÂô®‚Äã","type":1,"pageTitle":"Ëá™ÂÆö‰πâÂ∫èÂàóÂåñÂô®","url":"/zh-CN/docs/0.14/guide/java/custom_serializers#Â∏¶-jit-ÊîØÊåÅÁöÑ-map-Â∫èÂàóÂåñÂô®","content":" public class CustomMapSerializer&lt;T extends Map&gt; extends MapSerializer&lt;T&gt; { public CustomMapSerializer(Fory fory, Class&lt;T&gt; cls) { // supportCodegenHook ÊòØÂÜ≥ÂÆöÂ∫èÂàóÂåñË°å‰∏∫ÁöÑÂÖ≥ÈîÆÂèÇÊï∞ super(fory, cls, true); } @Override public Map onMapWrite(MemoryBuffer buffer, T value) { // ÂÜôÂÖ• map Â§ßÂ∞è buffer.writeVarUint32Small7(value.size()); // Âú®ËøôÈáåÂÜôÂÖ•‰ªª‰ΩïÈ¢ùÂ§ñÁöÑ map ÂÖÉÊï∞ÊçÆ return value; } @Override public Map newMap(MemoryBuffer buffer) { // ËØªÂèñ map Â§ßÂ∞è int numElements = buffer.readVarUint32Small7(); setNumElements(numElements); // ÂàõÂª∫Âπ∂ËøîÂõûÊñ∞ÁöÑ map ÂÆû‰æã T map = (T) new HashMap(numElements); fory.getRefResolver().reference(map); return map; } }   Ê≥®ÊÑèÔºöÂú®ÂÆûÁé∞ newMap Êó∂Ë∞ÉÁî® setNumElementsÔºåËÆ© Fory Áü•ÈÅìË¶ÅÂèçÂ∫èÂàóÂåñÂ§öÂ∞ëÂÖÉÁ¥†„ÄÇ  ","version":"0.14","tagName":"h3"},{"title":"‰∏çÂ∏¶ JIT ÁöÑËá™ÂÆö‰πâ Map Â∫èÂàóÂåñÂô®‚Äã","type":1,"pageTitle":"Ëá™ÂÆö‰πâÂ∫èÂàóÂåñÂô®","url":"/zh-CN/docs/0.14/guide/java/custom_serializers#‰∏çÂ∏¶-jit-ÁöÑËá™ÂÆö‰πâ-map-Â∫èÂàóÂåñÂô®","content":" ÂØπ‰∫éÂÆåÂÖ®ÊéßÂà∂Â∫èÂàóÂåñËøáÁ®ãÔºö  class FixedValueMap extends AbstractMap&lt;String, Integer&gt; { private final Set&lt;String&gt; keys; private final int fixedValue; public FixedValueMap(Set&lt;String&gt; keys, int fixedValue) { this.keys = keys; this.fixedValue = fixedValue; } @Override public Set&lt;Entry&lt;String, Integer&gt;&gt; entrySet() { Set&lt;Entry&lt;String, Integer&gt;&gt; entries = new HashSet&lt;&gt;(); for (String key : keys) { entries.add(new SimpleEntry&lt;&gt;(key, fixedValue)); } return entries; } @Override public Integer get(Object key) { return keys.contains(key) ? fixedValue : null; } public Set&lt;String&gt; getKeys() { return keys; } public int getFixedValue() { return fixedValue; } } class FixedValueMapSerializer extends MapLikeSerializer&lt;FixedValueMap&gt; { public FixedValueMapSerializer(Fory fory) { // Á¶ÅÁî® codegenÔºåÂõ†‰∏∫Êàë‰ª¨Áõ¥Êé•Â§ÑÁêÜÂ∫èÂàóÂåñ super(fory, FixedValueMap.class, false); } @Override public void write(MemoryBuffer buffer, FixedValueMap value) { // ÂÜôÂÖ•Âõ∫ÂÆöÂÄº buffer.writeInt32(value.getFixedValue()); // ÂÜôÂÖ•ÈîÆÁöÑÊï∞Èáè buffer.writeVarUint32Small7(value.getKeys().size()); // ÂÜôÂÖ•ÊØè‰∏™ÈîÆ for (String key : value.getKeys()) { buffer.writeString(key); } } @Override public FixedValueMap read(MemoryBuffer buffer) { // ËØªÂèñÂõ∫ÂÆöÂÄº int fixedValue = buffer.readInt32(); // ËØªÂèñÈîÆÁöÑÊï∞Èáè int size = buffer.readVarUint32Small7(); Set&lt;String&gt; keys = new HashSet&lt;&gt;(size); for (int i = 0; i &lt; size; i++) { keys.add(buffer.readString()); } return new FixedValueMap(keys, fixedValue); } // ÂΩì supportCodegenHook ‰∏∫ false Êó∂‰∏ç‰ΩøÁî®Ëøô‰∫õÊñπÊ≥ï @Override public Map onMapWrite(MemoryBuffer buffer, FixedValueMap value) { throw new UnsupportedOperationException(); } @Override public FixedValueMap onMapRead(Map map) { throw new UnsupportedOperationException(); } @Override public FixedValueMap onMapCopy(Map map) { throw new UnsupportedOperationException(); } }   ","version":"0.14","tagName":"h3"},{"title":"Á±ª Map Á±ªÂûãÂ∫èÂàóÂåñÂô®‚Äã","type":1,"pageTitle":"Ëá™ÂÆö‰πâÂ∫èÂàóÂåñÂô®","url":"/zh-CN/docs/0.14/guide/java/custom_serializers#Á±ª-map-Á±ªÂûãÂ∫èÂàóÂåñÂô®","content":" ÂØπ‰∫éË°å‰∏∫Á±ª‰ºº map ‰ΩÜ‰∏çÊòØÊ†áÂáÜ Java Map ÁöÑÁ±ªÂûãÔºö  class CustomMapLike { private final Object[] keyArray; private final Object[] valueArray; private final int size; public CustomMapLike(int initialCapacity) { this.keyArray = new Object[initialCapacity]; this.valueArray = new Object[initialCapacity]; this.size = 0; } public CustomMapLike(Object[] keyArray, Object[] valueArray, int size) { this.keyArray = keyArray; this.valueArray = valueArray; this.size = size; } public Integer get(String key) { for (int i = 0; i &lt; size; i++) { if (key.equals(keyArray[i])) { return (Integer) valueArray[i]; } } return null; } public int size() { return size; } public Object[] getKeyArray() { return keyArray; } public Object[] getValueArray() { return valueArray; } } class MapView extends AbstractMap&lt;Object, Object&gt; { private final Object[] keyArray; private final Object[] valueArray; private final int size; private int writeIndex; public MapView(CustomMapLike mapLike) { this.size = mapLike.size(); this.keyArray = mapLike.getKeyArray(); this.valueArray = mapLike.getValueArray(); } public MapView(int size) { this.size = size; this.keyArray = new Object[size]; this.valueArray = new Object[size]; } @Override public Set&lt;Entry&lt;Object, Object&gt;&gt; entrySet() { return new AbstractSet&lt;Entry&lt;Object, Object&gt;&gt;() { @Override public Iterator&lt;Entry&lt;Object, Object&gt;&gt; iterator() { return new Iterator&lt;Entry&lt;Object, Object&gt;&gt;() { private int index = 0; @Override public boolean hasNext() { return index &lt; size; } @Override public Entry&lt;Object, Object&gt; next() { if (!hasNext()) { throw new NoSuchElementException(); } final int currentIndex = index++; return new SimpleEntry&lt;&gt;( keyArray[currentIndex], valueArray[currentIndex] ); } }; } @Override public int size() { return size; } }; } @Override public Object put(Object key, Object value) { if (writeIndex &gt;= size) { throw new IllegalStateException(&quot;Map is full&quot;); } keyArray[writeIndex] = key; valueArray[writeIndex] = value; writeIndex++; return null; } public Object[] getKeyArray() { return keyArray; } public Object[] getValueArray() { return valueArray; } public int size() { return size; } } class CustomMapLikeSerializer extends MapLikeSerializer&lt;CustomMapLike&gt; { public CustomMapLikeSerializer(Fory fory) { super(fory, CustomMapLike.class, true); } @Override public Map onMapWrite(MemoryBuffer buffer, CustomMapLike value) { buffer.writeVarUint32Small7(value.size()); return new MapView(value); } @Override public Map newMap(MemoryBuffer buffer) { int numElements = buffer.readVarUint32Small7(); setNumElements(numElements); return new MapView(numElements); } @Override public CustomMapLike onMapRead(Map map) { MapView view = (MapView) map; return new CustomMapLike(view.getKeyArray(), view.getValueArray(), view.size()); } @Override public CustomMapLike onMapCopy(Map map) { MapView view = (MapView) map; return new CustomMapLike(view.getKeyArray(), view.getValueArray(), view.size()); } }   ","version":"0.14","tagName":"h3"},{"title":"Ê≥®ÂÜåËá™ÂÆö‰πâÂ∫èÂàóÂåñÂô®‚Äã","type":1,"pageTitle":"Ëá™ÂÆö‰πâÂ∫èÂàóÂåñÂô®","url":"/zh-CN/docs/0.14/guide/java/custom_serializers#Ê≥®ÂÜåËá™ÂÆö‰πâÂ∫èÂàóÂåñÂô®","content":" Fory fory = Fory.builder() .withLanguage(Language.JAVA) .build(); // Ê≥®ÂÜå map Â∫èÂàóÂåñÂô® fory.registerSerializer(CustomMap.class, new CustomMapSerializer&lt;&gt;(fory, CustomMap.class)); // Ê≥®ÂÜåÈõÜÂêàÂ∫èÂàóÂåñÂô® fory.registerSerializer(CustomCollection.class, new CustomCollectionSerializer&lt;&gt;(fory, CustomCollection.class));   ","version":"0.14","tagName":"h2"},{"title":"ÂÖ≥ÈîÆÁÇπ‚Äã","type":1,"pageTitle":"Ëá™ÂÆö‰πâÂ∫èÂàóÂåñÂô®","url":"/zh-CN/docs/0.14/guide/java/custom_serializers#ÂÖ≥ÈîÆÁÇπ","content":" ÂÆûÁé∞Ëá™ÂÆö‰πâ map ÊàñÈõÜÂêàÂ∫èÂàóÂåñÂô®Êó∂Ôºö  ÂßãÁªàÊâ©Â±ïÈÄÇÂΩìÁöÑÂü∫Á±ªÔºàmap ‰ΩøÁî® MapSerializer/MapLikeSerializerÔºåÈõÜÂêà‰ΩøÁî® CollectionSerializer/CollectionLikeSerializerÔºâËÄÉËôë supportCodegenHook ÂØπÊÄßËÉΩÂíåÂäüËÉΩÁöÑÂΩ±ÂìçÂ¶ÇÊûúÈúÄË¶ÅÔºåÈÄÇÂΩìÂ§ÑÁêÜÂºïÁî®Ë∑üË∏™ÂΩì supportCodegenHook ‰∏∫ true Êó∂Ôºå‰ΩøÁî® setNumElements Âíå getAndClearNumElements ÂÆûÁé∞ÈÄÇÂΩìÁöÑÂ§ßÂ∞èÁÆ°ÁêÜ  ","version":"0.14","tagName":"h2"},{"title":"Áõ∏ÂÖ≥‰∏ªÈ¢ò‚Äã","type":1,"pageTitle":"Ëá™ÂÆö‰πâÂ∫èÂàóÂåñÂô®","url":"/zh-CN/docs/0.14/guide/java/custom_serializers#Áõ∏ÂÖ≥‰∏ªÈ¢ò","content":" Á±ªÂûãÊ≥®ÂÜå - Ê≥®ÂÜåÂ∫èÂàóÂåñÂô®Schema ÊºîÂåñ - ÂÖºÂÆπÊ®°ÂºèËÄÉËôëÈÖçÁΩÆÈÄâÈ°π - Â∫èÂàóÂåñÈÄâÈ°π ","version":"0.14","tagName":"h2"},{"title":"Python Â∫èÂàóÂåñÊåáÂçó","type":0,"sectionRef":"#","url":"/zh-CN/docs/0.14/guide/python/","content":"","keywords":"","version":"0.14"},{"title":"Ê†∏ÂøÉÁâπÊÄß‚Äã","type":1,"pageTitle":"Python Â∫èÂàóÂåñÊåáÂçó","url":"/zh-CN/docs/0.14/guide/python/#Ê†∏ÂøÉÁâπÊÄß","content":" ","version":"0.14","tagName":"h2"},{"title":"ÁÅµÊ¥ªÁöÑÂ∫èÂàóÂåñÊ®°Âºè‚Äã","type":1,"pageTitle":"Python Â∫èÂàóÂåñÊåáÂçó","url":"/zh-CN/docs/0.14/guide/python/#ÁÅµÊ¥ªÁöÑÂ∫èÂàóÂåñÊ®°Âºè","content":" Python ÂéüÁîüÊ®°ÂºèÔºöÂÆåÂÖ® Python ÂÖºÂÆπÔºåÂèØÊõø‰ª£ pickle/cloudpickleË∑®ËØ≠Ë®ÄÊ®°ÂºèÔºöÈíàÂØπÂ§öËØ≠Ë®ÄÊï∞ÊçÆ‰∫§Êç¢‰ºòÂåñË°åÊ†ºÂºèÔºöÁî®‰∫éÂàÜÊûêÂ∑•‰ΩúË¥üËΩΩÁöÑÈõ∂Êã∑Ë¥ùË°åÊ†ºÂºè  ","version":"0.14","tagName":"h3"},{"title":"Â§öÂäüËÉΩÂ∫èÂàóÂåñÁâπÊÄß‚Äã","type":1,"pageTitle":"Python Â∫èÂàóÂåñÊåáÂçó","url":"/zh-CN/docs/0.14/guide/python/#Â§öÂäüËÉΩÂ∫èÂàóÂåñÁâπÊÄß","content":" ÂÖ±‰∫´/Âæ™ÁéØÂºïÁî®ÊîØÊåÅÔºöÂú® Python ÂéüÁîüÂíåË∑®ËØ≠Ë®ÄÊ®°Âºè‰∏≠ÊîØÊåÅÂ§çÊùÇÂØπË±°ÂõæÂ§öÊÄÅÊîØÊåÅÔºöËá™ÂÆö‰πâÁ±ªÂûãÁöÑËá™Âä®Á±ªÂûãÂàÜÂèëSchema ÊºîÂåñÊîØÊåÅÔºöÂú®Ë∑®ËØ≠Ë®ÄÊ®°Âºè‰∏ã‰ΩøÁî® dataclass Êó∂ÁöÑÂêëÂêé/ÂêëÂâçÂÖºÂÆπÊÄßÂ∏¶Â§ñÁºìÂÜ≤Âå∫ÊîØÊåÅÔºöÈõ∂Êã∑Ë¥ùÂ∫èÂàóÂåñÂ§ßÂûãÊï∞ÊçÆÁªìÊûÑÔºàÂ¶Ç NumPy Êï∞ÁªÑÂíå Pandas DataFrameÔºâÔºåÂÖºÂÆπ pickle ÂçèËÆÆ 5  ","version":"0.14","tagName":"h3"},{"title":"ÊûÅÈÄüÊÄßËÉΩ‚Äã","type":1,"pageTitle":"Python Â∫èÂàóÂåñÊåáÂçó","url":"/zh-CN/docs/0.14/guide/python/#ÊûÅÈÄüÊÄßËÉΩ","content":" Ë∂ÖÂø´ÊÄßËÉΩÔºöÁõ∏ÊØîÂÖ∂‰ªñÂ∫èÂàóÂåñÊ°ÜÊû∂ËøêË°åÊó∂‰ª£Á†ÅÁîüÊàêÂíå Cython Âä†ÈÄüÁöÑÊ†∏ÂøÉÂÆûÁé∞ÔºåÂÆûÁé∞ÊúÄ‰ºòÊÄßËÉΩ  ","version":"0.14","tagName":"h3"},{"title":"Á¥ßÂáëÊï∞ÊçÆÂ§ßÂ∞è‚Äã","type":1,"pageTitle":"Python Â∫èÂàóÂåñÊåáÂçó","url":"/zh-CN/docs/0.14/guide/python/#Á¥ßÂáëÊï∞ÊçÆÂ§ßÂ∞è","content":" Á¥ßÂáëÁöÑÂØπË±°ÂõæÂçèËÆÆÔºöÊúÄÂ∞èÁ©∫Èó¥ÂºÄÈîÄ‚Äî‚ÄîÁõ∏ÊØî pickle/cloudpickle ÂáèÂ∞ëÈ´òËææ 3 ÂÄçÂ§ßÂ∞èÂÖÉÊï∞ÊçÆÊâìÂåÖ‰∏éÂÖ±‰∫´ÔºöÊúÄÂ∞èÂåñÁ±ªÂûãÂêëÂâç/ÂêëÂêéÂÖºÂÆπÊÄßÁöÑÁ©∫Èó¥ÂºÄÈîÄ  ","version":"0.14","tagName":"h3"},{"title":"ÂÆâÂÖ®ÊÄß‰∏éÂÆâÂÖ®‚Äã","type":1,"pageTitle":"Python Â∫èÂàóÂåñÊåáÂçó","url":"/zh-CN/docs/0.14/guide/python/#ÂÆâÂÖ®ÊÄß‰∏éÂÆâÂÖ®","content":" ‰∏•Ê†ºÊ®°ÂºèÔºöÈÄöËøáÁ±ªÂûãÊ≥®ÂÜåÂíåÊ£ÄÊü•Èò≤Ê≠¢ÂèçÂ∫èÂàóÂåñ‰∏çÂèó‰ø°‰ªªÁöÑÁ±ªÂûãÂºïÁî®Ë∑üË∏™ÔºöÂÆâÂÖ®Â§ÑÁêÜÂæ™ÁéØÂºïÁî®  ","version":"0.14","tagName":"h3"},{"title":"ÂÆâË£Ö‚Äã","type":1,"pageTitle":"Python Â∫èÂàóÂåñÊåáÂçó","url":"/zh-CN/docs/0.14/guide/python/#ÂÆâË£Ö","content":" ","version":"0.14","tagName":"h2"},{"title":"Âü∫Á°ÄÂÆâË£Ö‚Äã","type":1,"pageTitle":"Python Â∫èÂàóÂåñÊåáÂçó","url":"/zh-CN/docs/0.14/guide/python/#Âü∫Á°ÄÂÆâË£Ö","content":" pip install pyfory   ","version":"0.14","tagName":"h3"},{"title":"ÂèØÈÄâ‰æùËµñ‚Äã","type":1,"pageTitle":"Python Â∫èÂàóÂåñÊåáÂçó","url":"/zh-CN/docs/0.14/guide/python/#ÂèØÈÄâ‰æùËµñ","content":" # ÂÆâË£ÖË°åÊ†ºÂºèÊîØÊåÅÔºàÈúÄË¶Å Apache ArrowÔºâ pip install pyfory[format] # ‰ªéÊ∫êÁ†ÅÂÆâË£ÖÁî®‰∫éÂºÄÂèë git clone https://github.com/apache/fory.git cd fory/python pip install -e &quot;.[dev,format]&quot;   ","version":"0.14","tagName":"h3"},{"title":"Á≥ªÁªüË¶ÅÊ±Ç‚Äã","type":1,"pageTitle":"Python Â∫èÂàóÂåñÊåáÂçó","url":"/zh-CN/docs/0.14/guide/python/#Á≥ªÁªüË¶ÅÊ±Ç","content":" PythonÔºö3.8 ÊàñÊõ¥È´òÁâàÊú¨Êìç‰ΩúÁ≥ªÁªüÔºöLinux„ÄÅmacOS„ÄÅWindows  ","version":"0.14","tagName":"h3"},{"title":"Á∫øÁ®ãÂÆâÂÖ®‚Äã","type":1,"pageTitle":"Python Â∫èÂàóÂåñÊåáÂçó","url":"/zh-CN/docs/0.14/guide/python/#Á∫øÁ®ãÔøΩÂÆâÂÖ®","content":" pyfory Êèê‰æõ ThreadSafeFory Áî®‰∫éÁ∫øÁ®ãÂÆâÂÖ®Â∫èÂàóÂåñÔºå‰ΩøÁî®Á∫øÁ®ãÊú¨Âú∞Â≠òÂÇ®Ôºö  import pyfory import threading from dataclasses import dataclass @dataclass class Person: name: str age: int # ÂàõÂª∫Á∫øÁ®ãÂÆâÂÖ®ÁöÑ Fory ÂÆû‰æã fory = pyfory.ThreadSafeFory(xlang=False, ref=True) fory.register(Person) # Âú®Â§öÁ∫øÁ®ã‰∏≠ÂÆâÂÖ®‰ΩøÁî® def serialize_in_thread(thread_id): person = Person(name=f&quot;User{thread_id}&quot;, age=25 + thread_id) data = fory.serialize(person) result = fory.deserialize(data) print(f&quot;Thread {thread_id}: {result}&quot;) threads = [threading.Thread(target=serialize_in_thread, args=(i,)) for i in range(10)] for t in threads: t.start() for t in threads: t.join()   Ê†∏ÂøÉÁâπÊÄßÔºö  ÂÆû‰æãÊ±†ÔºöÁª¥Êä§‰∏Ä‰∏™ÂèóÈîÅ‰øùÊä§ÁöÑ Fory ÂÆû‰æãÊ±†ÔºåÁ°Æ‰øùÁ∫øÁ®ãÂÆâÂÖ®ÂÖ±‰∫´ÈÖçÁΩÆÔºöÊâÄÊúâÊ≥®ÂÜåÂøÖÈ°ªÈ¢ÑÂÖàÂÆåÊàêÔºåÂπ∂Â∫îÁî®‰∫éÊâÄÊúâÂÆû‰æãÁõ∏Âêå APIÔºö‰∏é Fory Á±ªÁõ∏ÂêåÁöÑÊñπÊ≥ïÔºåÂèØÁõ¥Êé•ÊõøÊç¢Ê≥®ÂÜåÂÆâÂÖ®ÔºöÈò≤Ê≠¢È¶ñÊ¨°‰ΩøÁî®ÂêéÊ≥®ÂÜåÔºåÁ°Æ‰øù‰∏ÄËá¥ÊÄß  ÈÄÇÁî®Âú∫ÊôØÔºö  Â§öÁ∫øÁ®ãÂ∫îÁî®Á®ãÂ∫èÔºöWeb ÊúçÂä°Âô®„ÄÅÂπ∂ÂèëÂ∑•‰ΩúÁ∫øÁ®ã„ÄÅÂπ∂Ë°åÂ§ÑÁêÜÂÖ±‰∫´ Fory ÂÆû‰æãÔºöÂΩìÂ§ö‰∏™Á∫øÁ®ãÈúÄË¶ÅÂ∫èÂàóÂåñ/ÂèçÂ∫èÂàóÂåñÊï∞ÊçÆÊó∂Á∫øÁ®ãÊ±†Ôºö‰ΩøÁî®Á∫øÁ®ãÊ±†Êàñ concurrent.futures ÁöÑÂ∫îÁî®Á®ãÂ∫è  ","version":"0.14","tagName":"h2"},{"title":"Âø´ÈÄüÂºÄÂßã‚Äã","type":1,"pageTitle":"Python Â∫èÂàóÂåñÊåáÂçó","url":"/zh-CN/docs/0.14/guide/python/#Âø´ÈÄüÂºÄÂßã","content":" import pyfory from dataclasses import dataclass @dataclass class Person: name: str age: int # ÂàõÂª∫ Fory ÂÆû‰æã fory = pyfory.Fory(xlang=False, ref=True) fory.register(Person) person = Person(&quot;Alice&quot;, 30) data = fory.serialize(person) result = fory.deserialize(data) print(result) # Person(name='Alice', age=30)   ","version":"0.14","tagName":"h2"},{"title":"ÂêéÁª≠Ê≠•È™§‚Äã","type":1,"pageTitle":"Python Â∫èÂàóÂåñÊåáÂçó","url":"/zh-CN/docs/0.14/guide/python/#ÂêéÁª≠Ê≠•È™§","content":" ÈÖçÁΩÆ - Fory ÂèÇÊï∞ÂíåÊ®°ÂºèÂü∫Á°ÄÂ∫èÂàóÂåñ - Âü∫Á°Ä‰ΩøÁî®Ê®°ÂºèPython ÂéüÁîüÊ®°Âºè - ÂáΩÊï∞„ÄÅlambda„ÄÅÁ±ªË∑®ËØ≠Ë®Ä - XLANG Ê®°ÂºèË°åÊ†ºÂºè - Èõ∂Êã∑Ë¥ùË°åÊ†ºÂºèÂÆâÂÖ®ÊÄß - ÂÆâÂÖ®ÊúÄ‰Ω≥ÂÆûË∑µ  ","version":"0.14","tagName":"h2"},{"title":"ÈìæÊé•‚Äã","type":1,"pageTitle":"Python Â∫èÂàóÂåñÊåáÂçó","url":"/zh-CN/docs/0.14/guide/python/#ÈìæÊé•","content":" ÊñáÊ°£Ôºöhttps://fory.apache.org/docs/latest/python_guide/GitHubÔºöhttps://github.com/apache/foryPyPIÔºöhttps://pypi.org/project/pyfory/ÈóÆÈ¢òÂèçÈ¶àÔºöhttps://github.com/apache/fory/issuesSlackÔºöhttps://join.slack.com/t/fory-project/shared_invite/zt-36g0qouzm-kcQSvV_dtfbtBKHRwT5gsw ","version":"0.14","tagName":"h2"},{"title":"Âü∫Á°ÄÂ∫èÂàóÂåñ","type":0,"sectionRef":"#","url":"/zh-CN/docs/0.14/guide/python/basic_serialization","content":"","keywords":"","version":"0.14"},{"title":"Âü∫Á°ÄÂØπË±°Â∫èÂàóÂåñ‚Äã","type":1,"pageTitle":"Âü∫Á°ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/0.14/guide/python/basic_serialization#Âü∫Á°ÄÂØπË±°Â∫èÂàóÂåñ","content":" ‰ΩøÁî®ÁÆÄÂçïÁöÑ API Â∫èÂàóÂåñÂíåÂèçÂ∫èÂàóÂåñ Python ÂØπË±°Ôºö  import pyfory # ÂàõÂª∫ Fory ÂÆû‰æã fory = pyfory.Fory(xlang=True) # Â∫èÂàóÂåñ‰ªª‰Ωï Python ÂØπË±° data = fory.dumps({&quot;name&quot;: &quot;Alice&quot;, &quot;age&quot;: 30, &quot;scores&quot;: [95, 87, 92]}) # ÂèçÂ∫èÂàóÂåñÂõû Python ÂØπË±° obj = fory.loads(data) print(obj) # {'name': 'Alice', 'age': 30, 'scores': [95, 87, 92]}   Ê≥®ÊÑèÔºödumps()/loads() ÊòØ serialize()/deserialize() ÁöÑÂà´Âêç„ÄÇ‰∏§‰∏™ API ÂÆåÂÖ®Áõ∏ÂêåÔºå‰ΩøÁî®‰ªª‰Ωï‰∏Ä‰∏™ÈÉΩÂèØ‰ª•„ÄÇ  ","version":"0.14","tagName":"h2"},{"title":"Ëá™ÂÆö‰πâÁ±ªÂ∫èÂàóÂåñ‚Äã","type":1,"pageTitle":"Âü∫Á°ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/0.14/guide/python/basic_serialization#Ëá™ÂÆö‰πâÁ±ªÂ∫èÂàóÂåñ","content":" Fory Ëá™Âä®Â§ÑÁêÜ dataclass ÂíåËá™ÂÆö‰πâÁ±ªÂûãÔºö  import pyfory from dataclasses import dataclass from typing import List, Dict @dataclass class Person: name: str age: int scores: List[int] metadata: Dict[str, str] # Python Ê®°Âºè - ÊîØÊåÅÊâÄÊúâ Python Á±ªÂûãÔºåÂåÖÊã¨ dataclass fory = pyfory.Fory(xlang=False, ref=True) fory.register(Person) person = Person(&quot;Bob&quot;, 25, [88, 92, 85], {&quot;team&quot;: &quot;engineering&quot;}) data = fory.serialize(person) result = fory.deserialize(data) print(result) # Person(name='Bob', age=25, ...)   ","version":"0.14","tagName":"h2"},{"title":"ÂºïÁî®Ë∑üË∏™ÂíåÂæ™ÁéØÂºïÁî®‚Äã","type":1,"pageTitle":"Âü∫Á°ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/0.14/guide/python/basic_serialization#ÂºïÁî®Ë∑üË∏™ÂíåÂæ™ÁéØÂºïÁî®","content":" ÂÆâÂÖ®Â§ÑÁêÜÂÖ±‰∫´ÂºïÁî®ÂíåÂæ™ÁéØ‰æùËµñÔºö  import pyfory f = pyfory.Fory(ref=True) # ÂêØÁî®ÂºïÁî®Ë∑üË∏™ # ÂÆâÂÖ®Â§ÑÁêÜÂæ™ÁéØÂºïÁî® class Node: def __init__(self, value): self.value = value self.children = [] self.parent = None root = Node(&quot;root&quot;) child = Node(&quot;child&quot;) child.parent = root # Âæ™ÁéØÂºïÁî® root.children.append(child) # Â∫èÂàóÂåñ‰∏ç‰ºöÂØºËá¥Êó†ÈôêÈÄíÂΩí data = f.serialize(root) result = f.deserialize(data) assert result.children[0].parent is result # ÂºïÁî®Ë¢´‰øùÁïô   ","version":"0.14","tagName":"h2"},{"title":"API ÂèÇËÄÉ‚Äã","type":1,"pageTitle":"Âü∫Á°ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/0.14/guide/python/basic_serialization#api-ÂèÇËÄÉ","content":" ","version":"0.14","tagName":"h2"},{"title":"Â∫èÂàóÂåñÊñπÊ≥ï‚Äã","type":1,"pageTitle":"Âü∫Á°ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/0.14/guide/python/basic_serialization#Â∫èÂàóÂåñÊñπÊ≥ï","content":" # Â∫èÂàóÂåñ‰∏∫Â≠óËäÇ data: bytes = fory.serialize(obj) data: bytes = fory.dumps(obj) # Âà´Âêç # ‰ªéÂ≠óËäÇÂèçÂ∫èÂàóÂåñ obj = fory.deserialize(data) obj = fory.loads(data) # Âà´Âêç   ","version":"0.14","tagName":"h3"},{"title":"‰ΩøÁî®Â∏¶Â§ñÁºìÂÜ≤Âå∫‚Äã","type":1,"pageTitle":"Âü∫Á°ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/0.14/guide/python/basic_serialization#‰ΩøÁî®Â∏¶Â§ñÁºìÂÜ≤Âå∫","content":" # ‰ΩøÁî®ÁºìÂÜ≤Âå∫ÂõûË∞ÉÂ∫èÂàóÂåñ buffer_objects = [] data = fory.serialize(obj, buffer_callback=buffer_objects.append) # ‰ΩøÁî®ÁºìÂÜ≤Âå∫ÂèçÂ∫èÂàóÂåñ buffers = [obj.getbuffer() for obj in buffer_objects] obj = fory.deserialize(data, buffers=buffers)   ","version":"0.14","tagName":"h3"},{"title":"ÊÄßËÉΩÊèêÁ§∫‚Äã","type":1,"pageTitle":"Âü∫Á°ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/0.14/guide/python/basic_serialization#ÊÄßËÉΩÊèêÁ§∫","content":" Â¶ÇÊûú‰∏çÈúÄË¶ÅÂàôÁ¶ÅÁî® ref=TrueÔºöÂºïÁî®Ë∑üË∏™ÊúâÂºÄÈîÄ‰ΩøÁî® type_id ËÄå‰∏çÊòØ typenameÔºöÊï¥Êï∞ ID ÊØîÂ≠óÁ¨¶‰∏≤ÂêçÁß∞Êõ¥Âø´ÈáçÁî® Fory ÂÆû‰æãÔºöÂàõÂª∫‰∏ÄÊ¨°ÔºåÂ§öÊ¨°‰ΩøÁî®ÂêØÁî® CythonÔºöÁ°Æ‰øù ENABLE_FORY_CYTHON_SERIALIZATION=1  # Â•ΩÔºöÈáçÁî®ÂÆû‰æã fory = pyfory.Fory() for obj in objects: data = fory.dumps(obj) # ÂùèÔºöÊØèÊ¨°ÂàõÂª∫Êñ∞ÂÆû‰æã for obj in objects: fory = pyfory.Fory() # Êµ™Ë¥πÔºÅ data = fory.dumps(obj)   ","version":"0.14","tagName":"h2"},{"title":"Áõ∏ÂÖ≥‰∏ªÈ¢ò‚Äã","type":1,"pageTitle":"Âü∫Á°ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/0.14/guide/python/basic_serialization#Áõ∏ÂÖ≥‰∏ªÈ¢ò","content":" ÈÖçÁΩÆ - Fory ÂèÇÊï∞Á±ªÂûãÊ≥®ÂÜå - Ê≥®ÂÜåÊ®°ÂºèPython ÂéüÁîüÊ®°Âºè - ÂáΩÊï∞Âíå lambda ","version":"0.14","tagName":"h2"},{"title":"Á±ªÂûãÂ∫èÂàóÂåñ","type":0,"sectionRef":"#","url":"/zh-CN/docs/0.14/guide/kotlin/type_serialization","content":"","keywords":"","version":"0.14"},{"title":"ËÆæÁΩÆ‚Äã","type":1,"pageTitle":"Á±ªÂûãÂ∫èÂàóÂåñ","url":"/zh-CN/docs/0.14/guide/kotlin/type_serialization#ËÆæÁΩÆ","content":" ÊâÄÊúâÁ§∫‰æãÈÉΩÂÅáÂÆö‰ª•‰∏ãËÆæÁΩÆÔºö  import org.apache.fory.Fory import org.apache.fory.serializer.kotlin.KotlinSerializers val fory = Fory.builder() .requireClassRegistration(false) .build() KotlinSerializers.registerSerializers(fory)   ","version":"0.14","tagName":"h2"},{"title":"Êï∞ÊçÆÁ±ª‚Äã","type":1,"pageTitle":"Á±ªÂûãÂ∫èÂàóÂåñ","url":"/zh-CN/docs/0.14/guide/kotlin/type_serialization#Êï∞ÊçÆÁ±ª","content":" data class Person(val name: String, val age: Int, val id: Long) fory.register(Person::class.java) val p = Person(&quot;John&quot;, 30, 1L) println(fory.deserialize(fory.serialize(p)))   ","version":"0.14","tagName":"h2"},{"title":"Êó†Á¨¶Âè∑ÂéüÂßãÁ±ªÂûã‚Äã","type":1,"pageTitle":"Á±ªÂûãÂ∫èÂàóÂåñ","url":"/zh-CN/docs/0.14/guide/kotlin/type_serialization#Êó†Á¨¶Âè∑ÂéüÂßãÁ±ªÂûã","content":" ÂÆåÂÖ®ÊîØÊåÅ Kotlin Êó†Á¨¶Âè∑Á±ªÂûãÔºö  val uByte: UByte = 255u val uShort: UShort = 65535u val uInt: UInt = 4294967295u val uLong: ULong = 18446744073709551615u println(fory.deserialize(fory.serialize(uByte))) println(fory.deserialize(fory.serialize(uShort))) println(fory.deserialize(fory.serialize(uInt))) println(fory.deserialize(fory.serialize(uLong)))   ","version":"0.14","tagName":"h2"},{"title":"Êó†Á¨¶Âè∑Êï∞ÁªÑ‚Äã","type":1,"pageTitle":"Á±ªÂûãÂ∫èÂàóÂåñ","url":"/zh-CN/docs/0.14/guide/kotlin/type_serialization#Êó†Á¨¶Âè∑Êï∞ÁªÑ","content":" val uByteArray = ubyteArrayOf(1u, 2u, 255u) val uShortArray = ushortArrayOf(1u, 2u, 65535u) val uIntArray = uintArrayOf(1u, 2u, 4294967295u) val uLongArray = ulongArrayOf(1u, 2u, 18446744073709551615u) println(fory.deserialize(fory.serialize(uByteArray)).contentToString()) println(fory.deserialize(fory.serialize(uShortArray)).contentToString()) println(fory.deserialize(fory.serialize(uIntArray)).contentToString()) println(fory.deserialize(fory.serialize(uLongArray)).contentToString())   ","version":"0.14","tagName":"h2"},{"title":"Ê†áÂáÜÂ∫ìÁ±ªÂûã‚Äã","type":1,"pageTitle":"Á±ªÂûãÂ∫èÂàóÂåñ","url":"/zh-CN/docs/0.14/guide/kotlin/type_serialization#Ê†áÂáÜÂ∫ìÁ±ªÂûã","content":" ","version":"0.14","tagName":"h2"},{"title":"Pair Âíå Triple‚Äã","type":1,"pageTitle":"Á±ªÂûãÂ∫èÂàóÂåñ","url":"/zh-CN/docs/0.14/guide/kotlin/type_serialization#pair-Âíå-triple","content":" val pair = Pair(&quot;key&quot;, 42) val triple = Triple(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;) println(fory.deserialize(fory.serialize(pair))) println(fory.deserialize(fory.serialize(triple)))   ","version":"0.14","tagName":"h3"},{"title":"Result‚Äã","type":1,"pageTitle":"Á±ªÂûãÂ∫èÂàóÂåñ","url":"/zh-CN/docs/0.14/guide/kotlin/type_serialization#result","content":" val success: Result&lt;Int&gt; = Result.success(42) val failure: Result&lt;Int&gt; = Result.failure(Exception(&quot;error&quot;)) println(fory.deserialize(fory.serialize(success))) println(fory.deserialize(fory.serialize(failure)))   ","version":"0.14","tagName":"h3"},{"title":"ËåÉÂõ¥ÂíåÁ≠âÂ∑ÆÊï∞Âàó‚Äã","type":1,"pageTitle":"Á±ªÂûãÂ∫èÂàóÂåñ","url":"/zh-CN/docs/0.14/guide/kotlin/type_serialization#ËåÉÂõ¥ÂíåÁ≠âÂ∑ÆÊï∞Âàó","content":" val intRange = 1..10 val longRange = 1L..100L val charRange = 'a'..'z' println(fory.deserialize(fory.serialize(intRange))) println(fory.deserialize(fory.serialize(longRange))) println(fory.deserialize(fory.serialize(charRange))) // Á≠âÂ∑ÆÊï∞Âàó val intProgression = 1..10 step 2 val longProgression = 1L..100L step 10 println(fory.deserialize(fory.serialize(intProgression))) println(fory.deserialize(fory.serialize(longProgression)))   ","version":"0.14","tagName":"h2"},{"title":"ÈõÜÂêà‚Äã","type":1,"pageTitle":"Á±ªÂûãÂ∫èÂàóÂåñ","url":"/zh-CN/docs/0.14/guide/kotlin/type_serialization#ÈõÜÂêà","content":" ","version":"0.14","tagName":"h2"},{"title":"ArrayDeque‚Äã","type":1,"pageTitle":"Á±ªÂûãÂ∫èÂàóÂåñ","url":"/zh-CN/docs/0.14/guide/kotlin/type_serialization#arraydeque","content":" val deque = ArrayDeque&lt;String&gt;() deque.addFirst(&quot;first&quot;) deque.addLast(&quot;last&quot;) println(fory.deserialize(fory.serialize(deque)))   ","version":"0.14","tagName":"h3"},{"title":"Á©∫ÈõÜÂêà‚Äã","type":1,"pageTitle":"Á±ªÂûãÂ∫èÂàóÂåñ","url":"/zh-CN/docs/0.14/guide/kotlin/type_serialization#Á©∫ÈõÜÂêà","content":" val emptyList = emptyList&lt;String&gt;() val emptySet = emptySet&lt;Int&gt;() val emptyMap = emptyMap&lt;String, Int&gt;() println(fory.deserialize(fory.serialize(emptyList))) println(fory.deserialize(fory.serialize(emptySet))) println(fory.deserialize(fory.serialize(emptyMap)))   ","version":"0.14","tagName":"h3"},{"title":"Duration‚Äã","type":1,"pageTitle":"Á±ªÂûãÂ∫èÂàóÂåñ","url":"/zh-CN/docs/0.14/guide/kotlin/type_serialization#duration","content":" import kotlin.time.Duration import kotlin.time.Duration.Companion.hours import kotlin.time.Duration.Companion.minutes val duration: Duration = 2.hours + 30.minutes println(fory.deserialize(fory.serialize(duration)))   ","version":"0.14","tagName":"h2"},{"title":"Regex‚Äã","type":1,"pageTitle":"Á±ªÂûãÂ∫èÂàóÂåñ","url":"/zh-CN/docs/0.14/guide/kotlin/type_serialization#regex","content":" val regex = Regex(&quot;[a-zA-Z]+&quot;) println(fory.deserialize(fory.serialize(regex)))   ","version":"0.14","tagName":"h2"},{"title":"UUIDÔºàKotlin 2.0+Ôºâ‚Äã","type":1,"pageTitle":"Á±ªÂûãÂ∫èÂàóÂåñ","url":"/zh-CN/docs/0.14/guide/kotlin/type_serialization#uuidkotlin-20","content":" import kotlin.uuid.Uuid val uuid = Uuid.random() println(fory.deserialize(fory.serialize(uuid)))   ","version":"0.14","tagName":"h2"},{"title":"ÂºÄÁÆ±Âç≥Áî®ÁöÑÁ±ªÂûã‚Äã","type":1,"pageTitle":"Á±ªÂûãÂ∫èÂàóÂåñ","url":"/zh-CN/docs/0.14/guide/kotlin/type_serialization#ÂºÄÁÆ±Âç≥Áî®ÁöÑÁ±ªÂûã","content":" ‰ª•‰∏ãÁ±ªÂûãÂèØ‰ª•‰ΩøÁî®ÈªòËÆ§ÁöÑ Fory Java ÂÆûÁé∞ÔºåÊó†ÈúÄ‰ΩøÁî® KotlinSerializersÔºö  ÂéüÂßãÁ±ªÂûãÔºöByte„ÄÅBoolean„ÄÅInt„ÄÅShort„ÄÅLong„ÄÅChar„ÄÅFloat„ÄÅDoubleÂ≠óÁ¨¶‰∏≤ÔºöStringÈõÜÂêàÔºöArrayList„ÄÅHashMap„ÄÅHashSet„ÄÅLinkedHashSet„ÄÅLinkedHashMapÊï∞ÁªÑÔºöArray„ÄÅBooleanArray„ÄÅByteArray„ÄÅCharArray„ÄÅDoubleArray„ÄÅFloatArray„ÄÅIntArray„ÄÅLongArray„ÄÅShortArray  ‰ΩÜÊòØÔºåÂª∫ËÆÆÂßãÁªàË∞ÉÁî® KotlinSerializers.registerSerializers(fory) ‰ª•Á°Æ‰øùÊ≠£Á°ÆÊîØÊåÅÊâÄÊúâ Kotlin Á±ªÂûã„ÄÇ ","version":"0.14","tagName":"h2"},{"title":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ","type":0,"sectionRef":"#","url":"/zh-CN/docs/0.14/guide/python/cross_language","content":"","keywords":"","version":"0.14"},{"title":"ÂêØÁî®Ë∑®ËØ≠Ë®ÄÊ®°Âºè‚Äã","type":1,"pageTitle":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/0.14/guide/python/cross_language#ÂêØÁî®Ë∑®ËØ≠Ë®ÄÊ®°Âºè","content":" Ë¶Å‰ΩøÁî® xlang Ê®°ÂºèÔºåÂàõÂª∫ Fory Êó∂ËÆæÁΩÆ xlang=TrueÔºö  import pyfory fory = pyfory.Fory(xlang=True, ref=False, strict=True)   ","version":"0.14","tagName":"h2"},{"title":"Ë∑®ËØ≠Ë®ÄÁ§∫‰æã‚Äã","type":1,"pageTitle":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/0.14/guide/python/cross_language#Ë∑®ËØ≠Ë®ÄÁ§∫‰æã","content":" ","version":"0.14","tagName":"h2"},{"title":"PythonÔºàÂ∫èÂàóÂåñÂô®Ôºâ‚Äã","type":1,"pageTitle":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/0.14/guide/python/cross_language#pythonÂ∫èÂàóÂåñÂô®","content":" import pyfory from dataclasses import dataclass # Ë∑®ËØ≠Ë®ÄÊ®°ÂºèÂÆûÁé∞‰∫íÊìç‰ΩúÊÄß f = pyfory.Fory(xlang=True, ref=True) # Ê≥®ÂÜåÁ±ªÂûã‰ª•ÂÆûÁé∞Ë∑®ËØ≠Ë®ÄÂÖºÂÆπÊÄß @dataclass class Person: name: str age: pyfory.int32 f.register(Person, typename=&quot;example.Person&quot;) person = Person(&quot;Charlie&quot;, 35) binary_data = f.serialize(person) # binary_data Áé∞Âú®ÂèØ‰ª•ÂèëÈÄÅÂà∞ Java„ÄÅGo Á≠â   ","version":"0.14","tagName":"h3"},{"title":"JavaÔºàÂèçÂ∫èÂàóÂåñÂô®Ôºâ‚Äã","type":1,"pageTitle":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/0.14/guide/python/cross_language#javaÂèçÂ∫èÂàóÂåñÂô®","content":" import org.apache.fory.*; public class Person { public String name; public int age; } Fory fory = Fory.builder() .withLanguage(Language.XLANG) .withRefTracking(true) .build(); fory.register(Person.class, &quot;example.Person&quot;); Person person = (Person) fory.deserialize(binaryData);   ","version":"0.14","tagName":"h3"},{"title":"RustÔºàÂèçÂ∫èÂàóÂåñÂô®Ôºâ‚Äã","type":1,"pageTitle":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/0.14/guide/python/cross_language#rustÂèçÂ∫èÂàóÂåñÂô®","content":" use fory::Fory; use fory::ForyObject; #[derive(ForyObject)] struct Person { name: String, age: i32, } let mut fory = Fory::default() .compatible(true) .xlang(true); fory.register_by_namespace::&lt;Person&gt;(&quot;example&quot;, &quot;Person&quot;); let person: Person = fory.deserialize(&amp;binary_data)?;   ","version":"0.14","tagName":"h3"},{"title":"Ë∑®ËØ≠Ë®ÄÁöÑÁ±ªÂûãÊ≥®Ëß£‚Äã","type":1,"pageTitle":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/0.14/guide/python/cross_language#Ë∑®ËØ≠Ë®ÄÁöÑÁ±ªÂûãÊ≥®Ëß£","content":" ‰ΩøÁî® pyfory Á±ªÂûãÊ≥®Ëß£ËøõË°åÊòæÂºèË∑®ËØ≠Ë®ÄÁ±ªÂûãÊò†Â∞ÑÔºö  from dataclasses import dataclass import pyfory @dataclass class TypedData: int_value: pyfory.int32 # 32 ‰ΩçÊï¥Êï∞ long_value: pyfory.int64 # 64 ‰ΩçÊï¥Êï∞ float_value: pyfory.float32 # 32 ‰ΩçÊµÆÁÇπÊï∞ double_value: pyfory.float64 # 64 ‰ΩçÊµÆÁÇπÊï∞   ","version":"0.14","tagName":"h2"},{"title":"Á±ªÂûãÊò†Â∞Ñ‚Äã","type":1,"pageTitle":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/0.14/guide/python/cross_language#Á±ªÂûãÊò†Â∞Ñ","content":" Python\tJava\tRust\tGostr\tString\tString\tstring int\tlong\ti64\tint64 pyfory.int32\tint\ti32\tint32 pyfory.int64\tlong\ti64\tint64 float\tdouble\tf64\tfloat64 pyfory.float32\tfloat\tf32\tfloat32 list\tList\tVec\t[]T dict\tMap\tHashMap\tmap[K]V  ","version":"0.14","tagName":"h2"},{"title":"‰∏é Python ÂéüÁîüÊ®°ÂºèÁöÑÂå∫Âà´‚Äã","type":1,"pageTitle":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/0.14/guide/python/cross_language#‰∏é-python-ÂéüÁîüÊ®°ÂºèÁöÑÂå∫Âà´","content":" ‰∫åËøõÂà∂ÂçèËÆÆÂíå API ‰∏é pyfory ÁöÑ Python ÂéüÁîüÊ®°ÂºèÁ±ª‰ººÔºå‰ΩÜ Python ÂéüÁîüÊ®°ÂºèÂèØ‰ª•Â∫èÂàóÂåñ‰ªª‰Ωï Python ÂØπË±°‚Äî‚ÄîÂåÖÊã¨ÂÖ®Â±ÄÂáΩÊï∞„ÄÅÂ±ÄÈÉ®ÂáΩÊï∞„ÄÅlambda„ÄÅÂ±ÄÈÉ®Á±ª‰ª•Âèä‰ΩøÁî® __getstate__/__reduce__/__reduce_ex__ Ëá™ÂÆö‰πâÂ∫èÂàóÂåñÁöÑÁ±ªÂûãÔºåËøô‰∫õÂú® xlang Ê®°Âºè‰∏≠‰∏çÂÖÅËÆ∏„ÄÇ  ","version":"0.14","tagName":"h2"},{"title":"Âè¶ËØ∑ÂèÇÈòÖ‚Äã","type":1,"pageTitle":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/0.14/guide/python/cross_language#Âè¶ËØ∑ÂèÇÈòÖ","content":" Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñËßÑËåÉÁ±ªÂûãÊò†Â∞ÑÂèÇËÄÉJava Ë∑®ËØ≠Ë®ÄÊåáÂçóRust Ë∑®ËØ≠Ë®ÄÊåáÂçó  ","version":"0.14","tagName":"h2"},{"title":"Áõ∏ÂÖ≥‰∏ªÈ¢ò‚Äã","type":1,"pageTitle":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/0.14/guide/python/cross_language#Áõ∏ÂÖ≥‰∏ªÈ¢ò","content":" ÈÖçÁΩÆ - XLANG Ê®°ÂºèËÆæÁΩÆSchema ÊºîÂåñ - ÂÖºÂÆπÊ®°ÂºèÁ±ªÂûãÊ≥®ÂÜå - Ê≥®ÂÜåÊ®°Âºè ","version":"0.14","tagName":"h2"},{"title":"ÈÖçÁΩÆ","type":0,"sectionRef":"#","url":"/zh-CN/docs/0.14/guide/python/configuration","content":"","keywords":"","version":"0.14"},{"title":"Fory Á±ª‚Äã","type":1,"pageTitle":"ÈÖçÁΩÆ","url":"/zh-CN/docs/0.14/guide/python/configuration#fory-Á±ª","content":" ‰∏ªË¶ÅÂ∫èÂàóÂåñÊé•Âè£Ôºö  class Fory: def __init__( self, xlang: bool = False, ref: bool = False, strict: bool = True, compatible: bool = False, max_depth: int = 50 )   ","version":"0.14","tagName":"h2"},{"title":"ThreadSafeFory Á±ª‚Äã","type":1,"pageTitle":"ÈÖçÁΩÆ","url":"/zh-CN/docs/0.14/guide/python/configuration#threadsafefory-Á±ª","content":" ‰ΩøÁî®Á∫øÁ®ãÊú¨Âú∞Â≠òÂÇ®ÁöÑÁ∫øÁ®ãÂÆâÂÖ®Â∫èÂàóÂåñÊé•Âè£Ôºö  class ThreadSafeFory: def __init__( self, xlang: bool = False, ref: bool = False, strict: bool = True, compatible: bool = False, max_depth: int = 50 )   ","version":"0.14","tagName":"h2"},{"title":"ÂèÇÊï∞‚Äã","type":1,"pageTitle":"ÈÖçÁΩÆ","url":"/zh-CN/docs/0.14/guide/python/configuration#ÂèÇÊï∞","content":" ÂèÇÊï∞\tÁ±ªÂûã\tÈªòËÆ§ÂÄº\tÊèèËø∞xlang\tbool\tFalse\tÂêØÁî®Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ„ÄÇÂΩì‰∏∫ False Êó∂ÔºåÂêØÁî® Python ÂéüÁîüÊ®°ÂºèÔºåÊîØÊåÅÊâÄÊúâ Python ÂØπË±°„ÄÇÂΩì‰∏∫ True Êó∂ÔºåÂêØÁî®Ë∑®ËØ≠Ë®ÄÊ®°ÂºèÔºåÂÖºÂÆπ Java„ÄÅGo„ÄÅRust Á≠â„ÄÇ ref\tbool\tFalse\tÂêØÁî®ÂºïÁî®Ë∑üË∏™‰ª•ÊîØÊåÅÂÖ±‰∫´/Âæ™ÁéØÂºïÁî®„ÄÇÂ¶ÇÊûúÊï∞ÊçÆÊ≤°ÊúâÂÖ±‰∫´ÂºïÁî®ÔºåÁ¶ÅÁî®Ê≠§ÈÄâÈ°πÂèØËé∑ÂæóÊõ¥Â•ΩÊÄßËÉΩ„ÄÇ strict\tbool\tTrue\tÂá∫‰∫éÂÆâÂÖ®ËÄÉËôëÈúÄË¶ÅÁ±ªÂûãÊ≥®ÂÜå„ÄÇÁîü‰∫ßÁéØÂ¢ÉÂº∫ÁÉàÊé®Ëçê„ÄÇ‰ªÖÂú®Âèó‰ø°‰ªªÁöÑÁéØÂ¢É‰∏≠Á¶ÅÁî®„ÄÇ compatible\tbool\tFalse\tÂú®Ë∑®ËØ≠Ë®ÄÊ®°Âºè‰∏≠ÂêØÁî® schema ÊºîÂåñÔºåÂÖÅËÆ∏Âú®‰øùÊåÅÂÖºÂÆπÊÄßÁöÑÂêåÊó∂Ê∑ªÂä†/Âà†Èô§Â≠óÊÆµ„ÄÇ max_depth\tint\t50\tÂèçÂ∫èÂàóÂåñÁöÑÊúÄÂ§ßÊ∑±Â∫¶ÔºåÁî®‰∫éÂÆâÂÖ®Èò≤Êä§ÔºåÈò≤Ê≠¢Ê†àÊ∫¢Âá∫ÊîªÂáª„ÄÇ  ","version":"0.14","tagName":"h2"},{"title":"Ê†∏ÂøÉÊñπÊ≥ï‚Äã","type":1,"pageTitle":"ÈÖçÁΩÆ","url":"/zh-CN/docs/0.14/guide/python/configuration#Ê†∏ÂøÉÊñπÊ≥ï","content":" # Â∫èÂàóÂåñÔºàserialize/deserialize ‰∏é dumps/loads ÂÆåÂÖ®Áõ∏ÂêåÔºâ data: bytes = fory.serialize(obj) obj = fory.deserialize(data) # Êõø‰ª£ APIÔºàÂà´ÂêçÔºâ data: bytes = fory.dumps(obj) obj = fory.loads(data) # Êåâ ID Ê≥®ÂÜåÁ±ªÂûãÔºàÁî®‰∫é Python Ê®°ÂºèÔºâ fory.register(MyClass, type_id=123) fory.register(MyClass, type_id=123, serializer=custom_serializer) # ÊåâÂêçÁß∞Ê≥®ÂÜåÁ±ªÂûãÔºàÁî®‰∫éË∑®ËØ≠Ë®ÄÊ®°ÂºèÔºâ fory.register(MyClass, typename=&quot;my.package.MyClass&quot;) fory.register(MyClass, typename=&quot;my.package.MyClass&quot;, serializer=custom_serializer)   ","version":"0.14","tagName":"h2"},{"title":"ËØ≠Ë®ÄÊ®°ÂºèÊØîËæÉ‚Äã","type":1,"pageTitle":"ÈÖçÁΩÆ","url":"/zh-CN/docs/0.14/guide/python/configuration#ËØ≠Ë®ÄÊ®°ÂºèÊØîËæÉ","content":" ÁâπÊÄß\tPython Ê®°Âºè (xlang=False)\tË∑®ËØ≠Ë®ÄÊ®°Âºè (xlang=True)‰ΩøÁî®Âú∫ÊôØ\tÁ∫Ø Python Â∫îÁî®\tÂ§öËØ≠Ë®ÄÁ≥ªÁªü ÂÖºÂÆπÊÄß\t‰ªÖÈôê Python\tJava„ÄÅGo„ÄÅRust„ÄÅC++„ÄÅJavaScript Á≠â ÊîØÊåÅÁöÑÁ±ªÂûã\tÊâÄÊúâ Python Á±ªÂûã\t‰ªÖÈôêË∑®ËØ≠Ë®ÄÂÖºÂÆπÁ±ªÂûã ÂáΩÊï∞/Lambda\t‚úì ÊîØÊåÅ\t‚úó ‰∏çÂÖÅËÆ∏ Êú¨Âú∞Á±ª\t‚úì ÊîØÊåÅ\t‚úó ‰∏çÂÖÅËÆ∏ Âä®ÊÄÅÁ±ª\t‚úì ÊîØÊåÅ\t‚úó ‰∏çÂÖÅËÆ∏ Schema ÊºîÂåñ\t‚úì ÊîØÊåÅÔºàÈúÄË¶Å compatible=TrueÔºâ\t‚úì ÊîØÊåÅÔºàÈúÄË¶Å compatible=TrueÔºâ ÊÄßËÉΩ\tÊûÅÂø´\tÈùûÂ∏∏Âø´ Êï∞ÊçÆÂ§ßÂ∞è\tÁ¥ßÂáë\tÁ¥ßÂáëÔºàÂ∏¶Á±ªÂûãÂÖÉÊï∞ÊçÆÔºâ  ","version":"0.14","tagName":"h2"},{"title":"Python Ê®°Âºè (xlang=False)‚Äã","type":1,"pageTitle":"ÈÖçÁΩÆ","url":"/zh-CN/docs/0.14/guide/python/configuration#python-Ê®°Âºè-xlangfalse","content":" Python Ê®°ÂºèÊîØÊåÅÊâÄÊúâ Python Á±ªÂûãÔºåÂåÖÊã¨ÂáΩÊï∞„ÄÅÁ±ªÂíåÈó≠ÂåÖÔºö  import pyfory # ÂÆåÂÖ® Python ÂÖºÂÆπÊ®°Âºè fory = pyfory.Fory(xlang=False, ref=True, strict=False) # ÊîØÊåÅÊâÄÊúâ Python ÂØπË±°Ôºö data = fory.dumps({ 'function': lambda x: x * 2, # ÂáΩÊï∞Âíå lambda 'class': type('Dynamic', (), {}), # Âä®ÊÄÅÁ±ª 'method': str.upper, # ÊñπÊ≥ï 'nested': {'circular_ref': None} # Âæ™ÁéØÂºïÁî®ÔºàÂΩì ref=True Êó∂Ôºâ }) # ÂèØÁõ¥Êé•Êõø‰ª£ pickle/cloudpickle import pickle obj = [1, 2, {&quot;nested&quot;: [3, 4]}] assert fory.loads(fory.dumps(obj)) == pickle.loads(pickle.dumps(obj))   ","version":"0.14","tagName":"h2"},{"title":"Ë∑®ËØ≠Ë®ÄÊ®°Âºè (xlang=True)‚Äã","type":1,"pageTitle":"ÈÖçÁΩÆ","url":"/zh-CN/docs/0.14/guide/python/configuration#Ë∑®ËØ≠Ë®ÄÊ®°Âºè-xlangtrue","content":" Ë∑®ËØ≠Ë®ÄÊ®°ÂºèÂ∞ÜÁ±ªÂûãÈôêÂà∂‰∏∫ÊâÄÊúâ Fory ÂÆûÁé∞Èó¥ÂÖºÂÆπÁöÑÁ±ªÂûãÔºö  import pyfory # Ë∑®ËØ≠Ë®ÄÂÖºÂÆπÊ®°Âºè f = pyfory.Fory(xlang=True, ref=True) # ‰ªÖÊîØÊåÅË∑®ËØ≠Ë®ÄÂÖºÂÆπÁ±ªÂûã f.register(MyDataClass, typename=&quot;com.example.MyDataClass&quot;) # Êï∞ÊçÆÂèØ‰ª•Ë¢´ Java„ÄÅGo„ÄÅRust Á≠âËØªÂèñ data = f.serialize(MyDataClass(field1=&quot;value&quot;, field2=42))   ","version":"0.14","tagName":"h2"},{"title":"Á§∫‰æãÈÖçÁΩÆ‚Äã","type":1,"pageTitle":"ÈÖçÁΩÆ","url":"/zh-CN/docs/0.14/guide/python/configuration#Á§∫‰æãÈÖçÁΩÆ","content":" ","version":"0.14","tagName":"h2"},{"title":"Áîü‰∫ßÁéØÂ¢ÉÈÖçÁΩÆ‚Äã","type":1,"pageTitle":"ÈÖçÁΩÆ","url":"/zh-CN/docs/0.14/guide/python/configuration#Áîü‰∫ßÁéØÂ¢ÉÈÖçÁΩÆ","content":" import pyfory # Áîü‰∫ßÁéØÂ¢ÉÊé®ËçêËÆæÁΩÆ fory = pyfory.Fory( xlang=False, # Â¶ÇÊûúÈúÄË¶ÅË∑®ËØ≠Ë®ÄÊîØÊåÅÂàô‰ΩøÁî® True ref=False, # Â¶ÇÊûúÊúâÂÖ±‰∫´/Âæ™ÁéØÂºïÁî®ÂàôÂêØÁî® strict=True, # ÂÖ≥ÈîÆÔºöÁîü‰∫ßÁéØÂ¢ÉÂßãÁªà‰∏∫ True compatible=False, # ‰ªÖÂú®ÈúÄË¶Å schema ÊºîÂåñÊó∂ÂêØÁî® max_depth=20 # Ê†πÊçÆÊï∞ÊçÆÁªìÊûÑÊ∑±Â∫¶Ë∞ÉÊï¥ ) # È¢ÑÂÖàÊ≥®ÂÜåÊâÄÊúâÁ±ªÂûã fory.register(UserModel, type_id=100) fory.register(OrderModel, type_id=101) fory.register(ProductModel, type_id=102)   ","version":"0.14","tagName":"h3"},{"title":"ÂºÄÂèëÁéØÂ¢ÉÈÖçÁΩÆ‚Äã","type":1,"pageTitle":"ÈÖçÁΩÆ","url":"/zh-CN/docs/0.14/guide/python/configuration#ÂºÄÂèëÁéØÂ¢ÉÈÖçÁΩÆ","content":" import pyfory # ÂºÄÂèëËÆæÁΩÆÔºàÊõ¥ÂÆΩÊùæÔºâ fory = pyfory.Fory( xlang=False, ref=True, strict=False, # ÂºÄÂèëÊó∂ÂÖÅËÆ∏‰ªª‰ΩïÁ±ªÂûã max_depth=1000 # ÂºÄÂèëÊó∂Êõ¥È´òÁöÑÈôêÂà∂ )   ","version":"0.14","tagName":"h3"},{"title":"Áõ∏ÂÖ≥‰∏ªÈ¢ò‚Äã","type":1,"pageTitle":"ÈÖçÁΩÆ","url":"/zh-CN/docs/0.14/guide/python/configuration#Áõ∏ÂÖ≥‰∏ªÈ¢ò","content":" Âü∫Á°ÄÂ∫èÂàóÂåñ - ‰ΩøÁî®Â∑≤ÈÖçÁΩÆÁöÑ ForyÁ±ªÂûãÊ≥®ÂÜå - Ê≥®ÂÜåÊ®°ÂºèÂÆâÂÖ®ÊÄß - ÂÆâÂÖ®ÊúÄ‰Ω≥ÂÆûË∑µ ","version":"0.14","tagName":"h2"},{"title":"ËøÅÁßªÊåáÂçó","type":0,"sectionRef":"#","url":"/zh-CN/docs/0.14/guide/python/migration","content":"","keywords":"","version":"0.14"},{"title":"‰ªé Pickle ËøÅÁßª‚Äã","type":1,"pageTitle":"ËøÅÁßªÊåáÂçó","url":"/zh-CN/docs/0.14/guide/python/migration#‰ªé-pickle-ËøÅÁßª","content":" Áî® Fory ÊõøÊç¢ pickleÔºåÂú®‰øùÊåÅÁõ∏Âêå API ÁöÑÂêåÊó∂Ëé∑ÂæóÊõ¥Â•ΩÁöÑÊÄßËÉΩÔºö  # ‰πãÂâçÔºàpickleÔºâ import pickle data = pickle.dumps(obj) result = pickle.loads(data) # ‰πãÂêéÔºàFory - Áõ¥Êé•ÊõøÊç¢ÔºåÊÄßËÉΩÊõ¥Â•ΩÔºâ import pyfory f = pyfory.Fory(xlang=False, ref=True, strict=False) data = f.dumps(obj) # Êõ¥Âø´‰∏îÊõ¥Á¥ßÂáë result = f.loads(data) # Êõ¥Âø´ÁöÑÂèçÂ∫èÂàóÂåñ # ‰ºòÂäøÔºö # - Â∫èÂàóÂåñÂø´ 2-10 ÂÄç # - ÂèçÂ∫èÂàóÂåñÂø´ 2-5 ÂÄç # - Êï∞ÊçÆÂ§ßÂ∞èÂáèÂ∞ëÈ´òËææ 3 ÂÄç # - Áõ∏ÂêåÁöÑ APIÔºåÊõ¥Â•ΩÁöÑÊÄßËÉΩ   ","version":"0.14","tagName":"h2"},{"title":"‰ªé JSON ËøÅÁßª‚Äã","type":1,"pageTitle":"ËøÅÁßªÊåáÂçó","url":"/zh-CN/docs/0.14/guide/python/migration#‰ªé-json-ËøÅÁßª","content":" ‰∏é JSON ‰∏çÂêåÔºåFory ÊîØÊåÅÂåÖÊã¨ÂáΩÊï∞Âú®ÂÜÖÁöÑ‰ªªÊÑè Python Á±ªÂûãÔºö  # ‰πãÂâçÔºàJSON - Á±ªÂûãÂèóÈôêÔºâ import json data = json.dumps({&quot;name&quot;: &quot;Alice&quot;, &quot;age&quot;: 30}) result = json.loads(data) # ‰πãÂêéÔºàFory - ÊâÄÊúâ Python Á±ªÂûãÔºâ import pyfory f = pyfory.Fory() data = f.dumps({&quot;name&quot;: &quot;Alice&quot;, &quot;age&quot;: 30, &quot;func&quot;: lambda x: x}) result = f.loads(data)   ","version":"0.14","tagName":"h2"},{"title":"‰∏ªË¶ÅÂå∫Âà´‚Äã","type":1,"pageTitle":"ËøÅÁßªÊåáÂçó","url":"/zh-CN/docs/0.14/guide/python/migration#‰∏ªË¶ÅÂå∫Âà´","content":" ÁâπÊÄß\tpickle\tJSON\tpyforyÊÄßËÉΩ\t‰∏≠Á≠â\tÊÖ¢\tÂø´ Êï∞ÊçÆÂ§ßÂ∞è\tÂ§ß\tÂ§ß\tÁ¥ßÂáë Á±ªÂûãÊîØÊåÅ\tÊâÄÊúâ Python\tÂèóÈôê\tÊâÄÊúâ Python Ë∑®ËØ≠Ë®Ä\tÂê¶\tÊòØ\tÊòØÔºàxlang Ê®°ÂºèÔºâ ÂÆâÂÖ®ÊÄß\t‰Ωé\tÈ´ò\tÂèØÈÖçÁΩÆ  ","version":"0.14","tagName":"h2"},{"title":"ËøÅÁßªÊèêÁ§∫‚Äã","type":1,"pageTitle":"ËøÅÁßªÊåáÂçó","url":"/zh-CN/docs/0.14/guide/python/migration#ËøÅÁßªÊèêÁ§∫","content":" ‰ªé strict=False ÂºÄÂßã ‰ª•Á°Æ‰øùÂÖºÂÆπÊÄßÊ∑ªÂä†Á±ªÂûãÊ≥®ÂÜå ‰ª•ÊèêÈ´òÊÄßËÉΩÂíåÂÆâÂÖ®ÊÄßÂú®ÈÉ®ÁΩ≤ÂâçÂΩªÂ∫ïÊµãËØïÁõëÊéßÊÄßËÉΩ ÊîπËøõ  ","version":"0.14","tagName":"h2"},{"title":"Áõ∏ÂÖ≥‰∏ªÈ¢ò‚Äã","type":1,"pageTitle":"ËøÅÁßªÊåáÂçó","url":"/zh-CN/docs/0.14/guide/python/migration#Áõ∏ÂÖ≥‰∏ªÈ¢ò","content":" ÈÖçÁΩÆ - Fory ÂèÇÊï∞Python ÂéüÁîüÊ®°Âºè - Pickle ÊõøÊç¢ÂäüËÉΩÂÆâÂÖ®ÊÄß - ÂÆâÂÖ®ÊúÄ‰Ω≥ÂÆûË∑µ ","version":"0.14","tagName":"h2"},{"title":"Ëá™ÂÆö‰πâÂ∫èÂàóÂåñÂô®","type":0,"sectionRef":"#","url":"/zh-CN/docs/0.14/guide/python/custom_serializers","content":"","keywords":"","version":"0.14"},{"title":"ÂÆûÁé∞Ëá™ÂÆö‰πâÂ∫èÂàóÂåñÂô®‚Äã","type":1,"pageTitle":"Ëá™ÂÆö‰πâÂ∫èÂàóÂåñÂô®","url":"/zh-CN/docs/0.14/guide/python/custom_serializers#ÂÆûÁé∞Ëá™ÂÆö‰πâÂ∫èÂàóÂåñÂô®","content":" ‰∏∫ Python Ê®°ÂºèË¶ÜÁõñ write/readÔºå‰∏∫Ë∑®ËØ≠Ë®ÄÊ®°ÂºèË¶ÜÁõñ xwrite/xreadÔºö  import pyfory from pyfory.serializer import Serializer from dataclasses import dataclass @dataclass class Foo: f1: int f2: str class FooSerializer(Serializer): def __init__(self, fory, cls): super().__init__(fory, cls) def write(self, buffer, obj: Foo): # Ëá™ÂÆö‰πâÂ∫èÂàóÂåñÈÄªËæë buffer.write_varint32(obj.f1) buffer.write_string(obj.f2) def read(self, buffer): # Ëá™ÂÆö‰πâÂèçÂ∫èÂàóÂåñÈÄªËæë f1 = buffer.read_varint32() f2 = buffer.read_string() return Foo(f1, f2) # Áî®‰∫éË∑®ËØ≠Ë®ÄÊ®°Âºè def xwrite(self, buffer, obj: Foo): buffer.write_int32(obj.f1) buffer.write_string(obj.f2) def xread(self, buffer): return Foo(buffer.read_int32(), buffer.read_string()) f = pyfory.Fory() f.register(Foo, type_id=100, serializer=FooSerializer(f, Foo)) # Áé∞Âú® Foo ‰ΩøÁî®Ëá™ÂÆö‰πâÂ∫èÂàóÂåñÂô® data = f.dumps(Foo(42, &quot;hello&quot;)) result = f.loads(data) print(result) # Foo(f1=42, f2='hello')   ","version":"0.14","tagName":"h2"},{"title":"Buffer API‚Äã","type":1,"pageTitle":"Ëá™ÂÆö‰πâÂ∫èÂàóÂåñÂô®","url":"/zh-CN/docs/0.14/guide/python/custom_serializers#buffer-api","content":" ","version":"0.14","tagName":"h2"},{"title":"ÂÜôÂÖ•ÊñπÊ≥ï‚Äã","type":1,"pageTitle":"Ëá™ÂÆö‰πâÂ∫èÂàóÂåñÂô®","url":"/zh-CN/docs/0.14/guide/python/custom_serializers#ÂÜôÂÖ•ÊñπÊ≥ï","content":" # Êï¥Êï∞ buffer.write_int8(value) buffer.write_int16(value) buffer.write_int32(value) buffer.write_int64(value) # ÂèòÈïøÊï¥Êï∞ buffer.write_varint32(value) buffer.write_varint64(value) # ÊµÆÁÇπÊï∞ buffer.write_float32(value) buffer.write_float64(value) # Â≠óÁ¨¶‰∏≤ÂíåÂ≠óËäÇ buffer.write_string(value) buffer.write_bytes(value) # Â∏ÉÂ∞îÂÄº buffer.write_bool(value)   ","version":"0.14","tagName":"h3"},{"title":"ËØªÂèñÊñπÊ≥ï‚Äã","type":1,"pageTitle":"Ëá™ÂÆö‰πâÂ∫èÂàóÂåñÂô®","url":"/zh-CN/docs/0.14/guide/python/custom_serializers#ËØªÂèñÊñπÊ≥ï","content":" # Êï¥Êï∞ value = buffer.read_int8() value = buffer.read_int16() value = buffer.read_int32() value = buffer.read_int64() # ÂèòÈïøÊï¥Êï∞ value = buffer.read_varint32() value = buffer.read_varint64() # ÊµÆÁÇπÊï∞ value = buffer.read_float32() value = buffer.read_float64() # Â≠óÁ¨¶‰∏≤ÂíåÂ≠óËäÇ value = buffer.read_string() value = buffer.read_bytes(length) # Â∏ÉÂ∞îÂÄº value = buffer.read_bool()   ","version":"0.14","tagName":"h3"},{"title":"‰ΩïÊó∂‰ΩøÁî®Ëá™ÂÆö‰πâÂ∫èÂàóÂåñÂô®‚Äã","type":1,"pageTitle":"Ëá™ÂÆö‰πâÂ∫èÂàóÂåñÂô®","url":"/zh-CN/docs/0.14/guide/python/custom_serializers#‰ΩïÊó∂‰ΩøÁî®Ëá™ÂÆö‰πâÂ∫èÂàóÂåñÂô®","content":" Êù•Ëá™ÂÖ∂‰ªñÂåÖÁöÑÂ§ñÈÉ®Á±ªÂûãÂÖ∑ÊúâÁâπÊÆäÂ∫èÂàóÂåñÈúÄÊ±ÇÁöÑÁ±ªÂûãÊóßÊï∞ÊçÆÊ†ºÂºèÂÖºÂÆπÊÄßÊÄßËÉΩÂÖ≥ÈîÆÁöÑËá™ÂÆö‰πâÁºñÁ†ÅËá™Âä®Â∫èÂàóÂåñÊïàÊûú‰∏çÂ•ΩÁöÑÁ±ªÂûã  ","version":"0.14","tagName":"h2"},{"title":"Ê≥®ÂÜåËá™ÂÆö‰πâÂ∫èÂàóÂåñÂô®‚Äã","type":1,"pageTitle":"Ëá™ÂÆö‰πâÂ∫èÂàóÂåñÂô®","url":"/zh-CN/docs/0.14/guide/python/custom_serializers#Ê≥®ÔøΩÂÜåËá™ÂÆö‰πâÂ∫èÂàóÂåñÂô®","content":" fory = pyfory.Fory() # ‰ΩøÁî® type_id Ê≥®ÂÜå fory.register(MyClass, type_id=100, serializer=MySerializer(fory, MyClass)) # ‰ΩøÁî® typename Ê≥®ÂÜåÔºàÁî®‰∫é xlangÔºâ fory.register(MyClass, typename=&quot;com.example.MyClass&quot;, serializer=MySerializer(fory, MyClass))   ","version":"0.14","tagName":"h2"},{"title":"Áõ∏ÂÖ≥‰∏ªÈ¢ò‚Äã","type":1,"pageTitle":"Ëá™ÂÆö‰πâÂ∫èÂàóÂåñÂô®","url":"/zh-CN/docs/0.14/guide/python/custom_serializers#Áõ∏ÂÖ≥‰∏ªÈ¢ò","content":" Á±ªÂûãÊ≥®ÂÜå - Ê≥®ÂÜåÊ®°ÂºèÈÖçÁΩÆ - Fory ÂèÇÊï∞Ë∑®ËØ≠Ë®Ä - xlang ÁöÑ xwrite/xread ","version":"0.14","tagName":"h2"},{"title":"NumPy ‰∏éÁßëÂ≠¶ËÆ°ÁÆó","type":0,"sectionRef":"#","url":"/zh-CN/docs/0.14/guide/python/numpy_integration","content":"","keywords":"","version":"0.14"},{"title":"NumPy Êï∞ÁªÑÂ∫èÂàóÂåñ‚Äã","type":1,"pageTitle":"NumPy ‰∏éÁßëÂ≠¶ËÆ°ÁÆó","url":"/zh-CN/docs/0.14/guide/python/numpy_integration#numpy-Êï∞ÁªÑÂ∫èÂàóÂåñ","content":" Â§ßÂûãÊï∞ÁªÑÂú®ÂèØËÉΩÁöÑÊÉÖÂÜµ‰∏ã‰ΩøÁî®Èõ∂Êã∑Ë¥ùÔºö  import pyfory import numpy as np f = pyfory.Fory() # ÂéüÁîüÊîØÊåÅ Numpy Êï∞ÁªÑ arrays = { 'matrix': np.random.rand(1000, 1000), 'vector': np.arange(10000), 'bool_mask': np.random.choice([True, False], size=5000) } data = f.serialize(arrays) result = f.deserialize(data) # ÂØπ‰∫éÂÖºÂÆπÁöÑÊï∞ÁªÑÁ±ªÂûã‰ΩøÁî®Èõ∂Êã∑Ë¥ù assert np.array_equal(arrays['matrix'], result['matrix'])   ","version":"0.14","tagName":"h2"},{"title":"Pandas DataFrame‚Äã","type":1,"pageTitle":"NumPy ‰∏éÁßëÂ≠¶ËÆ°ÁÆó","url":"/zh-CN/docs/0.14/guide/python/numpy_integration#pandas-dataframe","content":" Fory ÂèØ‰ª•È´òÊïàÂ∫èÂàóÂåñ Pandas DataFrameÔºö  import pyfory import pandas as pd import numpy as np f = pyfory.Fory(xlang=False, ref=False, strict=False) df = pd.DataFrame({ 'a': np.arange(1000, dtype=np.float64), 'b': np.arange(1000, dtype=np.int64), 'c': ['text'] * 1000 }) data = f.serialize(df) result = f.deserialize(data) assert df.equals(result)   ","version":"0.14","tagName":"h2"},{"title":"‰ΩøÁî®Â∏¶Â§ñÁºìÂÜ≤Âå∫ÁöÑÈõ∂Êã∑Ë¥ù‚Äã","type":1,"pageTitle":"NumPy ‰∏éÁßëÂ≠¶ËÆ°ÁÆó","url":"/zh-CN/docs/0.14/guide/python/numpy_integration#‰ΩøÁî®Â∏¶Â§ñÁºìÂÜ≤Âå∫ÁöÑÈõ∂Êã∑Ë¥ù","content":" ÂØπ‰∫éÂ§ßÂûãÊï∞ÁªÑÁöÑÊúÄÂ§ßÊÄßËÉΩÔºå‰ΩøÁî®Â∏¶Â§ñÂ∫èÂàóÂåñÔºö  import pyfory import numpy as np f = pyfory.Fory(xlang=False, ref=False, strict=False) # Â§ßÂûãÊï∞ÁªÑ array = np.random.rand(10000, 1000) # Â∏¶Â§ñÈõ∂Êã∑Ë¥ù buffer_objects = [] data = f.serialize(array, buffer_callback=buffer_objects.append) buffers = [obj.getbuffer() for obj in buffer_objects] result = f.deserialize(data, buffers=buffers) assert np.array_equal(array, result)   ","version":"0.14","tagName":"h2"},{"title":"ÊîØÊåÅÁöÑÊï∞ÁªÑÁ±ªÂûã‚Äã","type":1,"pageTitle":"NumPy ‰∏éÁßëÂ≠¶ËÆ°ÁÆó","url":"/zh-CN/docs/0.14/guide/python/numpy_integration#ÊîØÊåÅÁöÑÊï∞ÁªÑÁ±ªÂûã","content":" np.ndarrayÔºàÊâÄÊúâ dtypeÔºânp.matrixÁªìÊûÑÂåñÊï∞ÁªÑËÆ∞ÂΩïÊï∞ÁªÑ  ","version":"0.14","tagName":"h2"},{"title":"Áõ∏ÂÖ≥‰∏ªÈ¢ò‚Äã","type":1,"pageTitle":"NumPy ‰∏éÁßëÂ≠¶ËÆ°ÁÆó","url":"/zh-CN/docs/0.14/guide/python/numpy_integration#Áõ∏ÂÖ≥‰∏ªÈ¢ò","content":" Â∏¶Â§ñÂ∫èÂàóÂåñ - Èõ∂Êã∑Ë¥ùÁºìÂÜ≤Âå∫Âü∫Á°ÄÂ∫èÂàóÂåñ - Ê†áÂáÜÁî®Ê≥ï ","version":"0.14","tagName":"h2"},{"title":"Schema ÊºîÂåñ","type":0,"sectionRef":"#","url":"/zh-CN/docs/0.14/guide/python/schema_evolution","content":"","keywords":"","version":"0.14"},{"title":"ÂêØÁî®ÂÖºÂÆπÊ®°Âºè‚Äã","type":1,"pageTitle":"Schema ÊºîÂåñ","url":"/zh-CN/docs/0.14/guide/python/schema_evolution#ÂêØÁî®ÂÖºÂÆπÊ®°Âºè","content":" import pyfory f = pyfory.Fory(xlang=True, compatible=True)   ","version":"0.14","tagName":"h2"},{"title":"Schema ÊºîÂåñÁ§∫‰æã‚Äã","type":1,"pageTitle":"Schema ÊºîÂåñ","url":"/zh-CN/docs/0.14/guide/python/schema_evolution#schema-ÊºîÂåñÁ§∫‰æã","content":" import pyfory from dataclasses import dataclass # ÁâàÊú¨ 1ÔºöÂéüÂßãÁ±ª @dataclass class User: name: str age: int f = pyfory.Fory(xlang=True, compatible=True) f.register(User, typename=&quot;User&quot;) data = f.dumps(User(&quot;Alice&quot;, 30)) # ÁâàÊú¨ 2ÔºöÊ∑ªÂä†Êñ∞Â≠óÊÆµÔºàÂêëÂêéÂÖºÂÆπÔºâ @dataclass class User: name: str age: int email: str = &quot;unknown@example.com&quot; # Â∏¶ÈªòËÆ§ÂÄºÁöÑÊñ∞Â≠óÊÆµ # ‰ªçÁÑ∂ÂèØ‰ª•ÂèçÂ∫èÂàóÂåñÊóßÊï∞ÊçÆ user = f.loads(data) print(user.email) # &quot;unknown@example.com&quot;   ","version":"0.14","tagName":"h2"},{"title":"ÊîØÊåÅÁöÑÂèòÊõ¥‚Äã","type":1,"pageTitle":"Schema ÊºîÂåñ","url":"/zh-CN/docs/0.14/guide/python/schema_evolution#ÊîØÊåÅÁöÑÂèòÊõ¥","content":" Ê∑ªÂä†Êñ∞Â≠óÊÆµÔºöÂ∏¶ÈªòËÆ§ÂÄºÂà†Èô§Â≠óÊÆµÔºöÂÖ∑ÊúâÈ¢ùÂ§ñÂ≠óÊÆµÁöÑÊóßÊï∞ÊçÆÂ∞ÜË¢´Ë∑≥ËøáÈáçÊñ∞ÊéíÂ∫èÂ≠óÊÆµÔºöÂ≠óÊÆµÊåâÂêçÁß∞ÂåπÈÖçÔºåËÄå‰∏çÊòØ‰ΩçÁΩÆ  ","version":"0.14","tagName":"h2"},{"title":"ÊúÄ‰Ω≥ÂÆûË∑µ‚Äã","type":1,"pageTitle":"Schema ÊºîÂåñ","url":"/zh-CN/docs/0.14/guide/python/schema_evolution#ÔøΩÊúÄ‰Ω≥ÂÆûË∑µ","content":" ÂßãÁªà‰∏∫Êñ∞Â≠óÊÆµÊèê‰æõÈªòËÆ§ÂÄº‰ΩøÁî® typename ÂÆûÁé∞Ë∑®ËØ≠Ë®ÄÂÖºÂÆπÊÄßÂú®ÈÉ®ÁΩ≤ÂâçÊµãËØï schema ÂèòÊõ¥‰∏∫Âõ¢ÈòüËÆ∞ÂΩï schema ÁâàÊú¨  ","version":"0.14","tagName":"h2"},{"title":"Áõ∏ÂÖ≥‰∏ªÈ¢ò‚Äã","type":1,"pageTitle":"Schema ÊºîÂåñ","url":"/zh-CN/docs/0.14/guide/python/schema_evolution#Áõ∏ÂÖ≥‰∏ªÈ¢ò","content":" ÈÖçÁΩÆ - ÂÖºÂÆπÊ®°ÂºèËÆæÁΩÆË∑®ËØ≠Ë®Ä - Ë∑®ËØ≠Ë®ÄÁöÑ schema ÊºîÂåñÁ±ªÂûãÊ≥®ÂÜå - Ê≥®ÂÜåÊ®°Âºè ","version":"0.14","tagName":"h2"},{"title":"Ë°åÊ†ºÂºè","type":0,"sectionRef":"#","url":"/zh-CN/docs/0.14/guide/python/row_format","content":"","keywords":"","version":"0.14"},{"title":"Ê¶ÇËø∞‚Äã","type":1,"pageTitle":"Ë°åÊ†ºÂºè","url":"/zh-CN/docs/0.14/guide/python/row_format#Ê¶ÇËø∞","content":" ÂΩìÂè™ÈúÄË¶ÅÈÉ®ÂàÜÊï∞ÊçÆËÆøÈóÆÊó∂ÔºåË°åÊ†ºÂºèÂèØ‰ª•Â§ßÂπÖÂáèÂ∞ëÂ§ÑÁêÜÂ§ßÂûãÂØπË±°ÁöÑÂºÄÈîÄ„ÄÇÂÆÉËøòÊîØÊåÅÂÜÖÂ≠òÊò†Â∞ÑÊñá‰ª∂ÔºåÂÆûÁé∞Ë∂Ö‰ΩéÂÜÖÂ≠òÂç†Áî®„ÄÇ  Ê†∏ÂøÉ‰ºòÂäøÔºö  ÁâπÊÄß\tÊèèËø∞Èõ∂Êã∑Ë¥ùËÆøÈóÆ\tÊó†ÈúÄÂèçÂ∫èÂàóÂåñÊï¥‰∏™ÂØπË±°Âç≥ÂèØËØªÂèñÂµåÂ•óÂ≠óÊÆµ ÂÜÖÂ≠òÊïàÁéá\tÁõ¥Êé•‰ªéÁ£ÅÁõòÂÜÖÂ≠òÊò†Â∞ÑÂ§ßÂûãÊï∞ÊçÆÈõÜ Ë∑®ËØ≠Ë®Ä\tPython„ÄÅJava„ÄÅC++ ‰πãÈó¥ÁöÑ‰∫åËøõÂà∂Ê†ºÂºèÂÖºÂÆπ ÈÉ®ÂàÜÂèçÂ∫èÂàóÂåñ\t‰ªÖÂèçÂ∫èÂàóÂåñÊâÄÈúÄÁöÑÁâπÂÆöÂÖÉÁ¥† È´òÊÄßËÉΩ\tË∑≥Ëøá‰∏çÂøÖË¶ÅÁöÑÊï∞ÊçÆËß£ÊûêÔºåÈÄÇÁî®‰∫éÂàÜÊûêÂ∑•‰ΩúË¥üËΩΩ  ","version":"0.14","tagName":"h2"},{"title":"Âü∫Á°ÄÁî®Ê≥ï‚Äã","type":1,"pageTitle":"Ë°åÊ†ºÂºè","url":"/zh-CN/docs/0.14/guide/python/row_format#Âü∫Á°ÄÁî®Ê≥ï","content":" import pyfory import pyarrow as pa from dataclasses import dataclass from typing import List, Dict @dataclass class Bar: f1: str f2: List[pa.int64] @dataclass class Foo: f1: pa.int32 f2: List[pa.int32] f3: Dict[str, pa.int32] f4: List[Bar] # ‰∏∫Ë°åÊ†ºÂºèÂàõÂª∫ÁºñÁ†ÅÂô® encoder = pyfory.encoder(Foo) # ÂàõÂª∫Â§ßÂûãÊï∞ÊçÆÈõÜ foo = Foo( f1=10, f2=list(range(1_000_000)), f3={f&quot;k{i}&quot;: i for i in range(1_000_000)}, f4=[Bar(f1=f&quot;s{i}&quot;, f2=list(range(10))) for i in range(1_000_000)] ) # ÁºñÁ†Å‰∏∫Ë°åÊ†ºÂºè binary: bytes = encoder.to_row(foo).to_bytes() # Èõ∂Êã∑Ë¥ùËÆøÈóÆ - Êó†ÈúÄÂÆåÂÖ®ÂèçÂ∫èÂàóÂåñÔºÅ foo_row = pyfory.RowData(encoder.schema, binary) print(foo_row.f2[100000]) # Áõ¥Êé•ËÆøÈóÆÁ¨¨ 100,000 ‰∏™ÂÖÉÁ¥† print(foo_row.f4[100000].f1) # Áõ¥Êé•ËÆøÈóÆÂµåÂ•óÂ≠óÊÆµ print(foo_row.f4[200000].f2[5]) # Áõ¥Êé•ËÆøÈóÆÊ∑±Â±ÇÂµåÂ•óÂ≠óÊÆµ   ","version":"0.14","tagName":"h2"},{"title":"Ë∑®ËØ≠Ë®ÄÂÖºÂÆπÊÄß‚Äã","type":1,"pageTitle":"Ë°åÊ†ºÂºè","url":"/zh-CN/docs/0.14/guide/python/row_format#Ë∑®ËØ≠Ë®ÄÂÖºÂÆπÊÄß","content":" Ë°åÊ†ºÂºèÂèØ‰ª•Ë∑®ËØ≠Ë®ÄÊó†ÁºùÂ∑•‰Ωú„ÄÇÁõ∏ÂêåÁöÑ‰∫åËøõÂà∂Êï∞ÊçÆÂèØ‰ª•‰ªé Java Âíå C++ ËÆøÈóÆ„ÄÇ  ","version":"0.14","tagName":"h2"},{"title":"Java‚Äã","type":1,"pageTitle":"Ë°åÊ†ºÂºè","url":"/zh-CN/docs/0.14/guide/python/row_format#java","content":" public class Bar { String f1; List&lt;Long&gt; f2; } public class Foo { int f1; List&lt;Integer&gt; f2; Map&lt;String, Integer&gt; f3; List&lt;Bar&gt; f4; } RowEncoder&lt;Foo&gt; encoder = Encoders.bean(Foo.class); // ÁºñÁ†Å‰∏∫Ë°åÊ†ºÂºèÔºà‰∏é Python Ë∑®ËØ≠Ë®ÄÂÖºÂÆπÔºâ BinaryRow binaryRow = encoder.toRow(foo); // Èõ∂Êã∑Ë¥ùÈöèÊú∫ËÆøÈóÆÔºåÊó†ÈúÄÂÆåÂÖ®ÂèçÂ∫èÂàóÂåñ BinaryArray f2Array = binaryRow.getArray(1); // ËÆøÈóÆ f2 ÂàóË°® BinaryArray f4Array = binaryRow.getArray(3); // ËÆøÈóÆ f4 ÂàóË°® BinaryRow bar10 = f4Array.getStruct(10); // ËÆøÈóÆÁ¨¨ 11 ‰∏™ Bar long value = bar10.getArray(1).getInt64(5); // ËÆøÈóÆ bar.f2 ÁöÑÁ¨¨ 6 ‰∏™ÂÖÉÁ¥† // ÈÉ®ÂàÜÂèçÂ∫èÂàóÂåñ - ‰ªÖÂèçÂ∫èÂàóÂåñÊâÄÈúÄÂÜÖÂÆπ RowEncoder&lt;Bar&gt; barEncoder = Encoders.bean(Bar.class); Bar bar1 = barEncoder.fromRow(f4Array.getStruct(10)); // ‰ªÖÂèçÂ∫èÂàóÂåñÁ¨¨ 11 ‰∏™ Bar Bar bar2 = barEncoder.fromRow(f4Array.getStruct(20)); // ‰ªÖÂèçÂ∫èÂàóÂåñÁ¨¨ 21 ‰∏™ Bar   ","version":"0.14","tagName":"h3"},{"title":"C++‚Äã","type":1,"pageTitle":"Ë°åÊ†ºÂºè","url":"/zh-CN/docs/0.14/guide/python/row_format#c","content":" #include &quot;fory/encoder/row_encoder.h&quot; #include &quot;fory/row/writer.h&quot; struct Bar { std::string f1; std::vector&lt;int64_t&gt; f2; }; FORY_FIELD_INFO(Bar, f1, f2); struct Foo { int32_t f1; std::vector&lt;int32_t&gt; f2; std::map&lt;std::string, int32_t&gt; f3; std::vector&lt;Bar&gt; f4; }; FORY_FIELD_INFO(Foo, f1, f2, f3, f4); fory::encoder::RowEncoder&lt;Foo&gt; encoder; encoder.Encode(foo); auto row = encoder.GetWriter().ToRow(); // Èõ∂Êã∑Ë¥ùÈöèÊú∫ËÆøÈóÆÔºåÊó†ÈúÄÂÆåÂÖ®ÂèçÂ∫èÂàóÂåñ auto f2_array = row-&gt;GetArray(1); // ËÆøÈóÆ f2 ÂàóË°® auto f4_array = row-&gt;GetArray(3); // ËÆøÈóÆ f4 ÂàóË°® auto bar10 = f4_array-&gt;GetStruct(10); // ËÆøÈóÆÁ¨¨ 11 ‰∏™ Bar int64_t value = bar10-&gt;GetArray(1)-&gt;GetInt64(5); // ËÆøÈóÆ bar.f2 ÁöÑÁ¨¨ 6 ‰∏™ÂÖÉÁ¥† std::string str = bar10-&gt;GetString(0); // ËÆøÈóÆ bar.f1   ","version":"0.14","tagName":"h3"},{"title":"ÂÆâË£Ö‚Äã","type":1,"pageTitle":"Ë°åÊ†ºÂºè","url":"/zh-CN/docs/0.14/guide/python/row_format#ÂÆâË£Ö","content":" Ë°åÊ†ºÂºèÈúÄË¶Å Apache ArrowÔºö  pip install pyfory[format]   ","version":"0.14","tagName":"h2"},{"title":"‰ΩïÊó∂‰ΩøÁî®Ë°åÊ†ºÂºè‚Äã","type":1,"pageTitle":"Ë°åÊ†ºÂºè","url":"/zh-CN/docs/0.14/guide/python/row_format#‰ΩïÊó∂‰ΩøÁî®Ë°åÊ†ºÂºè","content":" ÂàÜÊûêÂ∑•‰ΩúË¥üËΩΩÔºöÂΩìÊÇ®Âè™ÈúÄË¶ÅËÆøÈóÆÁâπÂÆöÂ≠óÊÆµÊó∂Â§ßÂûãÊï∞ÊçÆÈõÜÔºöÂΩìÂÆåÂÖ®ÂèçÂ∫èÂàóÂåñÊàêÊú¨Â§™È´òÊó∂ÂÜÖÂ≠òÊò†Â∞ÑÊñá‰ª∂ÔºöÂ§ÑÁêÜÂ§ß‰∫é RAM ÁöÑÊï∞ÊçÆÊï∞ÊçÆÁÆ°ÈÅìÔºöÂú®‰∏çÂÆåÂÖ®ÂØπË±°ÈáçÂª∫ÁöÑÊÉÖÂÜµ‰∏ãÂ§ÑÁêÜÊï∞ÊçÆË∑®ËØ≠Ë®ÄÊï∞ÊçÆÂÖ±‰∫´ÔºöÂΩìÊï∞ÊçÆÈúÄË¶Å‰ªéÂ§öÁßçËØ≠Ë®ÄËÆøÈóÆÊó∂  ","version":"0.14","tagName":"h2"},{"title":"Áõ∏ÂÖ≥‰∏ªÈ¢ò‚Äã","type":1,"pageTitle":"Ë°åÊ†ºÂºè","url":"/zh-CN/docs/0.14/guide/python/row_format#Áõ∏ÂÖ≥‰∏ªÈ¢ò","content":" Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ - XLANG Ê®°ÂºèÂü∫Á°ÄÂ∫èÂàóÂåñ - ÂØπË±°Â∫èÂàóÂåñË°åÊ†ºÂºèËßÑËåÉ - ÂçèËÆÆËØ¶ÊÉÖ ","version":"0.14","tagName":"h2"},{"title":"Python ÂéüÁîüÊ®°Âºè","type":0,"sectionRef":"#","url":"/zh-CN/docs/0.14/guide/python/native_mode","content":"","keywords":"","version":"0.14"},{"title":"Ê¶ÇËø∞‚Äã","type":1,"pageTitle":"Python ÂéüÁîüÊ®°Âºè","url":"/zh-CN/docs/0.14/guide/python/native_mode#Ê¶ÇËø∞","content":" ‰∫åËøõÂà∂ÂçèËÆÆÂíå API ‰∏é Fory ÁöÑ xlang Ê®°ÂºèÁ±ª‰ººÔºå‰ΩÜ Python ÂéüÁîüÊ®°ÂºèÂèØ‰ª•Â∫èÂàóÂåñ‰ªª‰Ωï Python ÂØπË±°‚Äî‚ÄîÂåÖÊã¨ÂÖ®Â±ÄÂáΩÊï∞„ÄÅÂ±ÄÈÉ®ÂáΩÊï∞„ÄÅlambda„ÄÅÂ±ÄÈÉ®Á±ª‰ª•Âèä‰ΩøÁî® __getstate__/__reduce__/__reduce_ex__ Ëá™ÂÆö‰πâÂ∫èÂàóÂåñÁöÑÁ±ªÂûãÔºåËøô‰∫õÂú® xlang Ê®°Âºè‰∏≠ÊòØ‰∏çÂÖÅËÆ∏ÁöÑ„ÄÇ  Ë¶Å‰ΩøÁî® Python ÂéüÁîüÊ®°ÂºèÔºåÂàõÂª∫ Fory Êó∂ËÆæÁΩÆ xlang=FalseÔºö  import pyfory fory = pyfory.Fory(xlang=False, ref=False, strict=True)   ","version":"0.14","tagName":"h2"},{"title":"ÂèØÁõ¥Êé•Êõø‰ª£ Pickle/Cloudpickle‚Äã","type":1,"pageTitle":"Python ÂéüÁîüÊ®°Âºè","url":"/zh-CN/docs/0.14/guide/python/native_mode#ÂèØÁõ¥Êé•Êõø‰ª£-picklecloudpickle","content":" pyfory ÂèØ‰ª•‰ΩøÁî®‰ª•‰∏ãÈÖçÁΩÆÂ∫èÂàóÂåñ‰ªª‰Ωï Python ÂØπË±°Ôºö  ÂØπ‰∫éÂæ™ÁéØÂºïÁî®ÔºöËÆæÁΩÆ ref=True ÂêØÁî®ÂºïÁî®Ë∑üË∏™ÂØπ‰∫éÂáΩÊï∞/Á±ªÔºöËÆæÁΩÆ strict=False ÂÖÅËÆ∏ÂèçÂ∫èÂàóÂåñÂä®ÊÄÅÁ±ªÂûã  ‚ö†Ô∏è ÂÆâÂÖ®Ë≠¶ÂëäÔºöÂΩì strict=False Êó∂ÔºåFory Â∞ÜÂèçÂ∫èÂàóÂåñ‰ªªÊÑèÁ±ªÂûãÔºåÂ¶ÇÊûúÊï∞ÊçÆÊù•Ëá™‰∏çÂèó‰ø°‰ªªÁöÑÊ∫êÔºåËøôÂèØËÉΩÂ∏¶Êù•ÂÆâÂÖ®È£éÈô©„ÄÇ‰ªÖÂú®ÂÆåÂÖ®‰ø°‰ªªÊï∞ÊçÆÊ∫êÁöÑÂèóÊéßÁéØÂ¢É‰∏≠‰ΩøÁî® strict=False„ÄÇ  ","version":"0.14","tagName":"h2"},{"title":"Â∏∏ËßÅÁî®Ê≥ï‚Äã","type":1,"pageTitle":"Python ÂéüÁîüÊ®°Âºè","url":"/zh-CN/docs/0.14/guide/python/native_mode#Â∏∏ËßÅÁî®Ê≥ï","content":" import pyfory # ÂàõÂª∫ Fory ÂÆû‰æã fory = pyfory.Fory(xlang=False, ref=True, strict=False) # Â∫èÂàóÂåñÂ∏∏ËßÅ Python ÂØπË±° data = fory.dumps({&quot;name&quot;: &quot;Alice&quot;, &quot;age&quot;: 30, &quot;scores&quot;: [95, 87, 92]}) print(fory.loads(data)) # Â∫èÂàóÂåñËá™ÂÆö‰πâÂØπË±° from dataclasses import dataclass @dataclass class Person: name: str age: int person = Person(&quot;Bob&quot;, 25) data = fory.dumps(person) print(fory.loads(data)) # Person(name='Bob', age=25)   ","version":"0.14","tagName":"h3"},{"title":"Â∫èÂàóÂåñÂÖ®Â±ÄÂáΩÊï∞‚Äã","type":1,"pageTitle":"Python ÂéüÁîüÊ®°Âºè","url":"/zh-CN/docs/0.14/guide/python/native_mode#Â∫èÂàóÂåñÂÖ®Â±ÄÂáΩÊï∞","content":" ÊçïËé∑Âπ∂Â∫èÂàóÂåñÂú®Ê®°ÂùóÁ∫ßÂà´ÂÆö‰πâÁöÑÂáΩÊï∞„ÄÇFory ÂèçÂ∫èÂàóÂåñÂπ∂ËøîÂõûÁõ∏ÂêåÁöÑÂáΩÊï∞ÂØπË±°Ôºö  import pyfory fory = pyfory.Fory(xlang=False, ref=True, strict=False) def my_global_function(x): return 10 * x data = fory.dumps(my_global_function) print(fory.loads(data)(10)) # 100   ","version":"0.14","tagName":"h2"},{"title":"Â∫èÂàóÂåñÂ±ÄÈÉ®ÂáΩÊï∞/Lambda‚Äã","type":1,"pageTitle":"Python ÂéüÁîüÊ®°Âºè","url":"/zh-CN/docs/0.14/guide/python/native_mode#Â∫èÂàóÂåñÂ±ÄÈÉ®ÂáΩÊï∞lambda","content":" Â∫èÂàóÂåñÂ∏¶Èó≠ÂåÖÁöÑÂáΩÊï∞Âíå lambda Ë°®ËææÂºè„ÄÇFory Ëá™Âä®ÊçïËé∑Èó≠ÂåÖÂèòÈáèÔºö  import pyfory fory = pyfory.Fory(xlang=False, ref=True, strict=False) # Â∏¶Èó≠ÂåÖÁöÑÂ±ÄÈÉ®ÂáΩÊï∞ def my_function(): local_var = 10 def local_func(x): return x * local_var return local_func data = fory.dumps(my_function()) print(fory.loads(data)(10)) # 100 # Lambda data = fory.dumps(lambda x: 10 * x) print(fory.loads(data)(10)) # 100   ","version":"0.14","tagName":"h2"},{"title":"Â∫èÂàóÂåñÂÖ®Â±ÄÁ±ª/ÊñπÊ≥ï‚Äã","type":1,"pageTitle":"Python ÂéüÁîüÊ®°Âºè","url":"/zh-CN/docs/0.14/guide/python/native_mode#Â∫èÂàóÂåñÂÖ®Â±ÄÁ±ªÊñπÊ≥ï","content":" Â∫èÂàóÂåñÁ±ªÂØπË±°„ÄÅÂÆû‰æãÊñπÊ≥ï„ÄÅÁ±ªÊñπÊ≥ïÂíåÈùôÊÄÅÊñπÊ≥ïÔºö  from dataclasses import dataclass import pyfory fory = pyfory.Fory(xlang=False, ref=True, strict=False) @dataclass class Person: name: str age: int def f(self, x): return self.age * x @classmethod def g(cls, x): return 10 * x @staticmethod def h(x): return 10 * x # Â∫èÂàóÂåñÂÖ®Â±ÄÁ±ª print(fory.loads(fory.dumps(Person))(&quot;Bob&quot;, 25)) # Person(name='Bob', age=25) # Â∫èÂàóÂåñÂÆû‰æãÊñπÊ≥ï print(fory.loads(fory.dumps(Person(&quot;Bob&quot;, 20).f))(10)) # 200 # Â∫èÂàóÂåñÁ±ªÊñπÊ≥ï print(fory.loads(fory.dumps(Person.g))(10)) # 100 # Â∫èÂàóÂåñÈùôÊÄÅÊñπÊ≥ï print(fory.loads(fory.dumps(Person.h))(10)) # 100   ","version":"0.14","tagName":"h2"},{"title":"Â∫èÂàóÂåñÂ±ÄÈÉ®Á±ª/ÊñπÊ≥ï‚Äã","type":1,"pageTitle":"Python ÂéüÁîüÊ®°Âºè","url":"/zh-CN/docs/0.14/guide/python/native_mode#Â∫èÂàóÂåñÂ±ÄÈÉ®Á±ªÊñπÊ≥ï","content":" Â∫èÂàóÂåñÂú®ÂáΩÊï∞ÂÜÖÂÆö‰πâÁöÑÁ±ªÂèäÂÖ∂ÊñπÊ≥ïÔºö  from dataclasses import dataclass import pyfory fory = pyfory.Fory(xlang=False, ref=True, strict=False) def create_local_class(): class LocalClass: def f(self, x): return 10 * x @classmethod def g(cls, x): return 10 * x @staticmethod def h(x): return 10 * x return LocalClass # Â∫èÂàóÂåñÂ±ÄÈÉ®Á±ª data = fory.dumps(create_local_class()) print(fory.loads(data)().f(10)) # 100 # Â∫èÂàóÂåñÂ±ÄÈÉ®Á±ªÂÆû‰æãÊñπÊ≥ï data = fory.dumps(create_local_class()().f) print(fory.loads(data)(10)) # 100 # Â∫èÂàóÂåñÂ±ÄÈÉ®Á±ªÊñπÊ≥ï data = fory.dumps(create_local_class().g) print(fory.loads(data)(10)) # 100 # Â∫èÂàóÂåñÂ±ÄÈÉ®Á±ªÈùôÊÄÅÊñπÊ≥ï data = fory.dumps(create_local_class().h) print(fory.loads(data)(10)) # 100   ","version":"0.14","tagName":"h2"},{"title":"ÊÄßËÉΩÊØîËæÉ‚Äã","type":1,"pageTitle":"Python ÂéüÁîüÊ®°Âºè","url":"/zh-CN/docs/0.14/guide/python/native_mode#ÊÄßËÉΩÊØîËæÉ","content":" import pyfory import pickle import timeit fory = pyfory.Fory(xlang=False, ref=True, strict=False) obj = {f&quot;key{i}&quot;: f&quot;value{i}&quot; for i in range(10000)} print(f&quot;Fory: {timeit.timeit(lambda: fory.dumps(obj), number=1000):.3f}s&quot;) print(f&quot;Pickle: {timeit.timeit(lambda: pickle.dumps(obj), number=1000):.3f}s&quot;)   ","version":"0.14","tagName":"h2"},{"title":"Áõ∏ÂÖ≥‰∏ªÈ¢ò‚Äã","type":1,"pageTitle":"Python ÂéüÁîüÊ®°Âºè","url":"/zh-CN/docs/0.14/guide/python/native_mode#Áõ∏ÂÖ≥‰∏ªÈ¢ò","content":" ÈÖçÁΩÆ - Python Ê®°ÂºèÈÖçÁΩÆÂ∏¶Â§ñÂ∫èÂàóÂåñ - Èõ∂Êã∑Ë¥ùÁºìÂÜ≤Âå∫ÂÆâÂÖ®ÊÄß - DeserializationPolicy ","version":"0.14","tagName":"h2"},{"title":"Â∏¶Â§ñÂ∫èÂàóÂåñ","type":0,"sectionRef":"#","url":"/zh-CN/docs/0.14/guide/python/out_of_band","content":"","keywords":"","version":"0.14"},{"title":"Ê¶ÇËø∞‚Äã","type":1,"pageTitle":"Â∏¶Â§ñÂ∫èÂàóÂåñ","url":"/zh-CN/docs/0.14/guide/python/out_of_band#Ê¶ÇËø∞","content":" Â∏¶Â§ñÂ∫èÂàóÂåñÂ∞ÜÂÖÉÊï∞ÊçÆ‰∏éÂÆûÈôÖÊï∞ÊçÆÁºìÂÜ≤Âå∫ÂàÜÁ¶ªÔºåÂÖÅËÆ∏Ôºö  Èõ∂Êã∑Ë¥ù‰º†ËæìÔºö‰ΩøÁî® memoryview ÈÄöËøáÁΩëÁªúÊàñ IPC ÂèëÈÄÅÊï∞ÊçÆÊó∂ÊèêÈ´òÊÄßËÉΩÔºöÁî®‰∫éÂ§ßÂûãÊï∞ÊçÆÈõÜPickle5 ÂÖºÂÆπÊÄßÔºö‰ΩøÁî® pickle.PickleBufferÁÅµÊ¥ªÁöÑÊµÅÊîØÊåÅÔºöÂÜôÂÖ•‰ªª‰ΩïÂèØÂÜôÂØπË±°ÔºàÊñá‰ª∂„ÄÅBytesIO„ÄÅÂ•óÊé•Â≠óÁ≠âÔºâ  ","version":"0.14","tagName":"h2"},{"title":"Âü∫Á°ÄÂ∏¶Â§ñÂ∫èÂàóÂåñ‚Äã","type":1,"pageTitle":"Â∏¶Â§ñÂ∫èÂàóÂåñ","url":"/zh-CN/docs/0.14/guide/python/out_of_band#Âü∫Á°ÄÂ∏¶Â§ñÂ∫èÂàóÂåñ","content":" import pyfory import numpy as np fory = pyfory.Fory(xlang=False, ref=False, strict=False) # Â§ßÂûã numpy Êï∞ÁªÑ array = np.arange(10000, dtype=np.float64) # ‰ΩøÁî®Â∏¶Â§ñÁºìÂÜ≤Âå∫Â∫èÂàóÂåñ buffer_objects = [] serialized_data = fory.serialize(array, buffer_callback=buffer_objects.append) # Â∞ÜÁºìÂÜ≤Âå∫ÂØπË±°ËΩ¨Êç¢‰∏∫ memoryview ‰ª•ËøõË°åÈõ∂Êã∑Ë¥ù‰º†Ëæì # ÂØπ‰∫éËøûÁª≠ÁºìÂÜ≤Âå∫Ôºàbytes„ÄÅnumpy Êï∞ÁªÑÔºâÔºåËøôÊòØÈõ∂Êã∑Ë¥ù # ÂØπ‰∫éÈùûËøûÁª≠Êï∞ÊçÆÔºåÂèØËÉΩ‰ºöÂàõÂª∫ÂâØÊú¨‰ª•Á°Æ‰øùËøûÁª≠ÊÄß buffers = [obj.getbuffer() for obj in buffer_objects] # ‰ΩøÁî®Â∏¶Â§ñÁºìÂÜ≤Âå∫ÂèçÂ∫èÂàóÂåñÔºàÊé•Âèó memoryview„ÄÅbytes Êàñ BufferÔºâ deserialized_array = fory.deserialize(serialized_data, buffers=buffers) assert np.array_equal(array, deserialized_array)   ","version":"0.14","tagName":"h2"},{"title":"‰ΩøÁî® Pandas DataFrame ÁöÑÂ∏¶Â§ñÂ∫èÂàóÂåñ‚Äã","type":1,"pageTitle":"Â∏¶Â§ñÂ∫èÂàóÂåñ","url":"/zh-CN/docs/0.14/guide/python/out_of_band#‰ΩøÁî®-pandas-dataframe-ÁöÑÂ∏¶Â§ñÂ∫èÂàóÂåñ","content":" import pyfory import pandas as pd import numpy as np fory = pyfory.Fory(xlang=False, ref=False, strict=False) # ÂàõÂª∫Â∏¶Êï∞ÂÄºÂàóÁöÑ DataFrame df = pd.DataFrame({ 'a': np.arange(1000, dtype=np.float64), 'b': np.arange(1000, dtype=np.int64), 'c': ['text'] * 1000 }) # ‰ΩøÁî®Â∏¶Â§ñÁºìÂÜ≤Âå∫Â∫èÂàóÂåñ buffer_objects = [] serialized_data = fory.serialize(df, buffer_callback=buffer_objects.append) buffers = [obj.getbuffer() for obj in buffer_objects] # ÂèçÂ∫èÂàóÂåñ deserialized_df = fory.deserialize(serialized_data, buffers=buffers) assert df.equals(deserialized_df)   ","version":"0.14","tagName":"h2"},{"title":"ÈÄâÊã©ÊÄßÂ∏¶Â§ñÂ∫èÂàóÂåñ‚Äã","type":1,"pageTitle":"Â∏¶Â§ñÂ∫èÂàóÂåñ","url":"/zh-CN/docs/0.14/guide/python/out_of_band#ÈÄâÊã©ÊÄßÂ∏¶Â§ñÂ∫èÂàóÂåñ","content":" ÈÄöËøáÊèê‰æõÂõûË∞ÉÊù•ÊéßÂà∂Âì™‰∫õÁºìÂÜ≤Âå∫Â∏¶Â§ñ‰º†ËæìÔºåËØ•ÂõûË∞ÉËøîÂõû True ‰øùÊåÅÊï∞ÊçÆÂÜÖËÅîÊàñËøîÂõû False Â∏¶Â§ñÂèëÈÄÅÔºö  import pyfory import numpy as np fory = pyfory.Fory(xlang=False, ref=True, strict=False) arr1 = np.arange(1000, dtype=np.float64) arr2 = np.arange(2000, dtype=np.float64) data = [arr1, arr2] buffer_objects = [] counter = 0 def selective_callback(buffer_object): global counter counter += 1 # Âè™ÊúâÂÅ∂Êï∞ÁºñÂè∑ÁöÑÁºìÂÜ≤Âå∫Â∏¶Â§ñÂèëÈÄÅ if counter % 2 == 0: buffer_objects.append(buffer_object) return False # Â∏¶Â§ñ return True # ÂÜÖËÅî serialized = fory.serialize(data, buffer_callback=selective_callback) buffers = [obj.getbuffer() for obj in buffer_objects] deserialized = fory.deserialize(serialized, buffers=buffers)   ","version":"0.14","tagName":"h2"},{"title":"Pickle5 ÂÖºÂÆπÊÄß‚Äã","type":1,"pageTitle":"Â∏¶Â§ñÂ∫èÂàóÂåñ","url":"/zh-CN/docs/0.14/guide/python/out_of_band#pickle5-ÂÖºÂÆπÊÄß","content":" Fory ÁöÑÂ∏¶Â§ñÂ∫èÂàóÂåñÂÆåÂÖ®ÂÖºÂÆπ pickle ÂçèËÆÆ 5Ôºö  import pyfory import pickle fory = pyfory.Fory(xlang=False, ref=False, strict=False) # Ëá™Âä®ÊîØÊåÅ PickleBuffer ÂØπË±° data = b&quot;Large binary data&quot; pickle_buffer = pickle.PickleBuffer(data) # ‰ΩøÁî®ÁºìÂÜ≤Âå∫ÂõûË∞ÉÂ∫èÂàóÂåñ‰ª•ËøõË°åÂ∏¶Â§ñÂ§ÑÁêÜ buffer_objects = [] serialized = fory.serialize(pickle_buffer, buffer_callback=buffer_objects.append) buffers = [obj.getbuffer() for obj in buffer_objects] # ‰ΩøÁî®ÁºìÂÜ≤Âå∫ÂèçÂ∫èÂàóÂåñ deserialized = fory.deserialize(serialized, buffers=buffers) assert bytes(deserialized.raw()) == data   ","version":"0.14","tagName":"h2"},{"title":"Â∞ÜÁºìÂÜ≤Âå∫ÂÜôÂÖ•‰∏çÂêåÁöÑÊµÅ‚Äã","type":1,"pageTitle":"Â∏¶Â§ñÂ∫èÂàóÂåñ","url":"/zh-CN/docs/0.14/guide/python/out_of_band#Â∞ÜÁºìÂÜ≤Âå∫ÂÜôÂÖ•‰∏çÂêåÁöÑÊµÅ","content":" BufferObject.write_to() ÊñπÊ≥ïÊé•Âèó‰ªª‰ΩïÂèØÂÜôÊµÅÂØπË±°Ôºö  import pyfory import numpy as np import io fory = pyfory.Fory(xlang=False, ref=False, strict=False) array = np.arange(1000, dtype=np.float64) # Êî∂ÈõÜÂ∏¶Â§ñÁºìÂÜ≤Âå∫ buffer_objects = [] serialized = fory.serialize(array, buffer_callback=buffer_objects.append) # ÂÜôÂÖ•‰∏çÂêåÁöÑÊµÅÁ±ªÂûã for buffer_obj in buffer_objects: # ÂÜôÂÖ• BytesIOÔºàÂÜÖÂ≠òÊµÅÔºâ bytes_stream = io.BytesIO() buffer_obj.write_to(bytes_stream) # ÂÜôÂÖ•Êñá‰ª∂ with open('/tmp/buffer_data.bin', 'wb') as f: buffer_obj.write_to(f) # Ëé∑ÂèñÈõ∂Êã∑Ë¥ù memoryviewÔºàÁî®‰∫éËøûÁª≠ÁºìÂÜ≤Âå∫Ôºâ mv = buffer_obj.getbuffer() assert isinstance(mv, memoryview)   Ê≥®ÊÑèÔºöÂØπ‰∫éËøûÁª≠ÂÜÖÂ≠òÁºìÂÜ≤Âå∫ÔºàÂ¶Ç bytes„ÄÅnumpy Êï∞ÁªÑÔºâÔºågetbuffer() ËøîÂõûÈõ∂Êã∑Ë¥ù memoryview„ÄÇÂØπ‰∫éÈùûËøûÁª≠Êï∞ÊçÆÔºåÂèØËÉΩ‰ºöÂàõÂª∫ÂâØÊú¨‰ª•Á°Æ‰øùËøûÁª≠ÊÄß„ÄÇ  ","version":"0.14","tagName":"h2"},{"title":"Áõ∏ÂÖ≥‰∏ªÈ¢ò‚Äã","type":1,"pageTitle":"Â∏¶Â§ñÂ∫èÂàóÂåñ","url":"/zh-CN/docs/0.14/guide/python/out_of_band#Áõ∏ÂÖ≥‰∏ªÈ¢ò","content":" NumPy ÈõÜÊàê - NumPy Êï∞ÁªÑÂ∫èÂàóÂåñÂü∫Á°ÄÂ∫èÂàóÂåñ - Ê†áÂáÜÂ∫èÂàóÂåñÈÖçÁΩÆ - Fory ÂèÇÊï∞ ","version":"0.14","tagName":"h2"},{"title":"ÂÆâÂÖ®ÊúÄ‰Ω≥ÂÆûË∑µ","type":0,"sectionRef":"#","url":"/zh-CN/docs/0.14/guide/python/security","content":"","keywords":"","version":"0.14"},{"title":"Áîü‰∫ßÁéØÂ¢ÉÈÖçÁΩÆ‚Äã","type":1,"pageTitle":"ÂÆâÂÖ®ÊúÄ‰Ω≥ÂÆûË∑µ","url":"/zh-CN/docs/0.14/guide/python/security#Áîü‰∫ßÁéØÂ¢ÉÈÖçÁΩÆ","content":" Èô§ÈùûÁéØÂ¢ÉÂÆåÂÖ®ÂèØ‰ø°ÔºåÂê¶Âàô‰∏çË¶ÅÂú®Áîü‰∫ßÁéØÂ¢É‰∏≠Á¶ÅÁî® strict=TrueÔºö  import pyfory # Áîü‰∫ßÁéØÂ¢ÉÊé®ËçêËÆæÁΩÆ f = pyfory.Fory( xlang=False, # Â¶ÇÊûúÈúÄË¶ÅË∑®ËØ≠Ë®ÄÊîØÊåÅÂàô‰∏∫ True ref=True, # Â§ÑÁêÜÂæ™ÁéØÂºïÁî® strict=True, # ÈáçË¶ÅÔºöÈò≤Ê≠¢ÊÅ∂ÊÑèÊï∞ÊçÆ max_depth=100 # Èò≤Ê≠¢Ê∑±Â∫¶ÈÄíÂΩíÊîªÂáª ) # ÊòæÂºèÊ≥®ÂÜåÂÖÅËÆ∏ÁöÑÁ±ªÂûã f.register(UserModel, type_id=100) f.register(OrderModel, type_id=101) # Ê∞∏Ëøú‰∏çË¶ÅÂú®Áîü‰∫ßÁéØÂ¢É‰∏≠ÂØπ‰∏çÂèó‰ø°‰ªªÁöÑÊï∞ÊçÆËÆæÁΩÆ strict=FalseÔºÅ   ","version":"0.14","tagName":"h2"},{"title":"ÂºÄÂèëÁéØÂ¢É vs Áîü‰∫ßÁéØÂ¢É‚Äã","type":1,"pageTitle":"ÂÆâÂÖ®ÊúÄ‰Ω≥ÂÆûË∑µ","url":"/zh-CN/docs/0.14/guide/python/security#ÂºÄÂèëÁéØÂ¢É-vs-Áîü‰∫ßÁéØÂ¢É","content":" ‰ΩøÁî®ÁéØÂ¢ÉÂèòÈáèÂú®ÈÖçÁΩÆ‰πãÈó¥ÂàáÊç¢Ôºö  import pyfory import os # ÂºÄÂèëÁéØÂ¢ÉÈÖçÁΩÆ if os.getenv('ENV') == 'development': fory = pyfory.Fory( xlang=False, ref=True, strict=False, # ÂºÄÂèëÊó∂ÂÖÅËÆ∏‰ªª‰ΩïÁ±ªÂûã max_depth=1000 # ÂºÄÂèëÊó∂Êõ¥È´òÁöÑÈôêÂà∂ ) else: # Áîü‰∫ßÁéØÂ¢ÉÈÖçÁΩÆÔºàÂÆâÂÖ®Âä†Âõ∫Ôºâ fory = pyfory.Fory( xlang=False, ref=True, strict=True, # ÂÖ≥ÈîÆÔºöÈúÄË¶ÅÊ≥®ÂÜå max_depth=100 # ÂêàÁêÜÁöÑÈôêÂà∂ ) # Âè™Ê≥®ÂÜåÂ∑≤Áü•ÁöÑÂÆâÂÖ®Á±ªÂûã for idx, model_class in enumerate([UserModel, ProductModel, OrderModel]): fory.register(model_class, type_id=100 + idx)   ","version":"0.14","tagName":"h2"},{"title":"DeserializationPolicy‚Äã","type":1,"pageTitle":"ÂÆâÂÖ®ÊúÄ‰Ω≥ÂÆûË∑µ","url":"/zh-CN/docs/0.14/guide/python/security#deserializationpolicy","content":" ÂΩìÈúÄË¶Å strict=False Êó∂Ôºà‰æãÂ¶ÇÔºåÂèçÂ∫èÂàóÂåñÂáΩÊï∞/lambdaÔºâÔºå‰ΩøÁî® DeserializationPolicy Âú®ÂèçÂ∫èÂàóÂåñÊúüÈó¥ÂÆûÁé∞ÁªÜÁ≤íÂ∫¶ÁöÑÂÆâÂÖ®ÊéßÂà∂„ÄÇ  ‰∏∫‰ªÄ‰πà‰ΩøÁî® DeserializationPolicyÔºü  ÈòªÊ≠¢Âç±Èô©ÁöÑÁ±ª/Ê®°ÂùóÔºà‰æãÂ¶ÇÔºåsubprocess.PopenÔºâÂú®Ë∞ÉÁî®ÂâçÊã¶Êà™ÂíåÈ™åËØÅ __reduce__ ÂèØË∞ÉÁî®ÂØπË±°Âú® __setstate__ ÊúüÈó¥Ê∏ÖÁêÜÊïèÊÑüÊï∞ÊçÆÊ†πÊçÆËá™ÂÆö‰πâËßÑÂàôÊõøÊç¢ÊàñÊãíÁªùÂèçÂ∫èÂàóÂåñÁöÑÂØπË±°  ","version":"0.14","tagName":"h2"},{"title":"ÈòªÊ≠¢Âç±Èô©Á±ª‚Äã","type":1,"pageTitle":"ÂÆâÂÖ®ÊúÄ‰Ω≥ÂÆûË∑µ","url":"/zh-CN/docs/0.14/guide/python/security#ÈòªÊ≠¢Âç±Èô©Á±ª","content":" import pyfory from pyfory import DeserializationPolicy dangerous_modules = {'subprocess', 'os', '__builtin__'} class SafeDeserializationPolicy(DeserializationPolicy): &quot;&quot;&quot;Âú®ÂèçÂ∫èÂàóÂåñÊúüÈó¥ÈòªÊ≠¢ÊΩúÂú®Âç±Èô©ÁöÑÁ±ª„ÄÇ&quot;&quot;&quot; def validate_class(self, cls, is_local, **kwargs): # ÈòªÊ≠¢Âç±Èô©Ê®°Âùó if cls.__module__ in dangerous_modules: raise ValueError(f&quot;Â∑≤ÈòªÊ≠¢Âç±Èô©Á±ªÔºö{cls.__module__}.{cls.__name__}&quot;) return None def intercept_reduce_call(self, callable_obj, args, **kwargs): # Âú® __reduce__ ÊúüÈó¥ÈòªÊ≠¢ÁâπÂÆöÁöÑÂèØË∞ÉÁî®ÂØπË±°Ë∞ÉÁî® if getattr(callable_obj, '__name__', &quot;&quot;) == 'Popen': raise ValueError(&quot;Â∑≤ÈòªÊ≠¢Â∞ùËØïË∞ÉÁî® subprocess.Popen&quot;) return None def intercept_setstate(self, obj, state, **kwargs): # Ê∏ÖÁêÜÊïèÊÑüÊï∞ÊçÆ if isinstance(state, dict) and 'password' in state: state['password'] = '***REDACTED***' return None # ‰ΩøÁî®Ëá™ÂÆö‰πâÂÆâÂÖ®Á≠ñÁï•ÂàõÂª∫ Fory policy = SafeDeserializationPolicy() fory = pyfory.Fory(xlang=False, ref=True, strict=False, policy=policy) # Áé∞Âú®ÂèçÂ∫èÂàóÂåñÂèóÂà∞Ëá™ÂÆö‰πâÁ≠ñÁï•ÁöÑ‰øùÊä§ data = fory.serialize(my_object) result = fory.deserialize(data) # Â∞ÜË∞ÉÁî®Á≠ñÁï•Èí©Â≠ê   ","version":"0.14","tagName":"h3"},{"title":"ÂèØÁî®ÁöÑÁ≠ñÁï•Èí©Â≠ê‚Äã","type":1,"pageTitle":"ÂÆâÂÖ®ÊúÄ‰Ω≥ÂÆûË∑µ","url":"/zh-CN/docs/0.14/guide/python/security#ÂèØÁî®ÁöÑÁ≠ñÁï•Èí©Â≠ê","content":" Èí©Â≠ê\tÊèèËø∞validate_class(cls, is_local)\tÂú®ÂèçÂ∫èÂàóÂåñÊúüÈó¥È™åËØÅ/ÈòªÊ≠¢Á±ªÁ±ªÂûã validate_module(module, is_local)\tÈ™åËØÅ/ÈòªÊ≠¢Ê®°ÂùóÂØºÂÖ• validate_function(func, is_local)\tÈ™åËØÅ/ÈòªÊ≠¢ÂáΩÊï∞ÂºïÁî® intercept_reduce_call(callable_obj, args)\tÊã¶Êà™ __reduce__ Ë∞ÉÁî® inspect_reduced_object(obj)\tÊ£ÄÊü•/ÊõøÊç¢ÈÄöËøá __reduce__ ÂàõÂª∫ÁöÑÂØπË±° intercept_setstate(obj, state)\tÂú® __setstate__ ‰πãÂâçÊ∏ÖÁêÜÁä∂ÊÄÅ authorize_instantiation(cls, args, kwargs)\tÊéßÂà∂Á±ªÂÆû‰æãÂåñ  Âè¶ËØ∑ÂèÇÈòÖÔºö pyfory/policy.py ÂåÖÂê´ÊØè‰∏™Èí©Â≠êÁöÑËØ¶ÁªÜÊñáÊ°£ÂíåÁ§∫‰æã„ÄÇ  ","version":"0.14","tagName":"h2"},{"title":"ÊúÄ‰Ω≥ÂÆûË∑µ‚Äã","type":1,"pageTitle":"ÂÆâÂÖ®ÊúÄ‰Ω≥ÂÆûË∑µ","url":"/zh-CN/docs/0.14/guide/python/security#ÊúÄ‰Ω≥ÂÆûË∑µ","content":" Áîü‰∫ßÁéØÂ¢ÉÂßãÁªà‰ΩøÁî® strict=TrueÂøÖË¶ÅÊó∂‰ΩøÁî® DeserializationPolicy ÂΩìÈúÄË¶Å strict=False Êó∂ÈòªÊ≠¢Âç±Èô©Ê®°ÂùóÔºàsubprocess„ÄÅos Á≠âÔºâËÆæÁΩÆÈÄÇÂΩìÁöÑ max_depth ‰ª•Èò≤Ê≠¢Ê†àÊ∫¢Âá∫Âú®ÂèçÂ∫èÂàóÂåñÂâçÈ™åËØÅÊï∞ÊçÆÊ∫êËÆ∞ÂΩïÂÆâÂÖ®‰∫ã‰ª∂ Áî®‰∫éÂÆ°ËÆ°  ","version":"0.14","tagName":"h2"},{"title":"Áõ∏ÂÖ≥‰∏ªÈ¢ò‚Äã","type":1,"pageTitle":"ÂÆâÂÖ®ÊúÄ‰Ω≥ÂÆûË∑µ","url":"/zh-CN/docs/0.14/guide/python/security#Áõ∏ÂÖ≥‰∏ªÈ¢ò","content":" Á±ªÂûãÊ≥®ÂÜå - Ê≥®ÂÜåÂíå‰∏•Ê†ºÊ®°ÂºèÈÖçÁΩÆ - Fory ÂèÇÊï∞Python ÂéüÁîüÊ®°Âºè - ÂáΩÊï∞Âíå lambda ","version":"0.14","tagName":"h2"},{"title":"ÊïÖÈöúÊéíÈô§","type":0,"sectionRef":"#","url":"/zh-CN/docs/0.14/guide/python/troubleshooting","content":"","keywords":"","version":"0.14"},{"title":"Â∏∏ËßÅÈóÆÈ¢ò‚Äã","type":1,"pageTitle":"ÊïÖÈöúÊéíÈô§","url":"/zh-CN/docs/0.14/guide/python/troubleshooting#Â∏∏ËßÅÈóÆÈ¢ò","content":" ","version":"0.14","tagName":"h2"},{"title":"Ê†ºÂºèÂäüËÉΩÁöÑ ImportError‚Äã","type":1,"pageTitle":"ÊïÖÈöúÊéíÈô§","url":"/zh-CN/docs/0.14/guide/python/troubleshooting#Ê†ºÂºèÂäüËÉΩÁöÑ-importerror","content":" # Ëß£ÂÜ≥ÊñπÊ°àÔºöÂÆâË£ÖË°åÊ†ºÂºèÊîØÊåÅ pip install pyfory[format] # Êàñ‰ªéÊ∫êÁ†ÅÂÆâË£ÖÊ†ºÂºèÊîØÊåÅ pip install -e &quot;.[format]&quot;   ","version":"0.14","tagName":"h3"},{"title":"Â∫èÂàóÂåñÊÄßËÉΩÊÖ¢‚Äã","type":1,"pageTitle":"ÊïÖÈöúÊéíÈô§","url":"/zh-CN/docs/0.14/guide/python/troubleshooting#Â∫èÂàóÂåñÊÄßËÉΩÊÖ¢","content":" # Ê£ÄÊü•ÊòØÂê¶ÂêØÁî®‰∫Ü Cython Âä†ÈÄü import pyfory print(pyfory.ENABLE_FORY_CYTHON_SERIALIZATION) # Â∫îËØ•‰∏∫ True # Â¶ÇÊûú‰∏∫ FalseÔºåCython Êâ©Â±ïÂèØËÉΩÊú™Ê≠£Á°ÆÁºñËØë # ÈáçÊñ∞ÂÆâË£ÖÔºöpip install --force-reinstall --no-cache-dir pyfory   ","version":"0.14","tagName":"h3"},{"title":"Ë∑®ËØ≠Ë®ÄÂÖºÂÆπÊÄßÈóÆÈ¢ò‚Äã","type":1,"pageTitle":"ÊïÖÈöúÊéíÈô§","url":"/zh-CN/docs/0.14/guide/python/troubleshooting#Ë∑®ËØ≠Ë®ÄÂÖºÂÆπÊÄßÈóÆÈ¢ò","content":" # ‰ΩøÁî®‰∏ÄËá¥ÁöÑÂëΩÂêçËøõË°åÊòæÂºèÁ±ªÂûãÊ≥®ÂÜå f = pyfory.Fory(xlang=True) f.register(MyClass, typename=&quot;com.package.MyClass&quot;) # Âú®ÊâÄÊúâËØ≠Ë®Ä‰∏≠‰ΩøÁî®Áõ∏ÂêåÁöÑÂêçÁß∞   ","version":"0.14","tagName":"h3"},{"title":"Âæ™ÁéØÂºïÁî®ÈîôËØØÊàñÈáçÂ§çÊï∞ÊçÆ‚Äã","type":1,"pageTitle":"ÊïÖÈöúÊéíÈô§","url":"/zh-CN/docs/0.14/guide/python/troubleshooting#Âæ™ÁéØÂºïÁî®ÈîôËØØÊàñÈáçÂ§çÊï∞ÊçÆ","content":" # ÂêØÁî®ÂºïÁî®Ë∑üË∏™ f = pyfory.Fory(ref=True) # Âæ™ÁéØÂºïÁî®ÊâÄÈúÄ # Âæ™ÁéØÂºïÁî®Á§∫‰æã class Node: def __init__(self, value): self.value = value self.next = None node1 = Node(1) node2 = Node(2) node1.next = node2 node2.next = node1 # Âæ™ÁéØÂºïÁî® data = f.dumps(node1) result = f.loads(data) assert result.next.next is result # Âæ™ÁéØÂºïÁî®Ë¢´‰øùÁïô   ","version":"0.14","tagName":"h3"},{"title":"Schema ÊºîÂåñ‰∏çÂ∑•‰Ωú‚Äã","type":1,"pageTitle":"ÊïÖÈöúÊéíÈô§","url":"/zh-CN/docs/0.14/guide/python/troubleshooting#schema-ÊºîÂåñ‰∏çÂ∑•‰Ωú","content":" # ÂêØÁî®ÂÖºÂÆπÊ®°ÂºèÁî®‰∫é schema ÊºîÂåñ f = pyfory.Fory(xlang=True, compatible=True) # ÁâàÊú¨ 1ÔºöÂéüÂßãÁ±ª @dataclass class User: name: str age: int f.register(User, typename=&quot;User&quot;) data = f.dumps(User(&quot;Alice&quot;, 30)) # ÁâàÊú¨ 2ÔºöÊ∑ªÂä†Êñ∞Â≠óÊÆµÔºàÂêëÂêéÂÖºÂÆπÔºâ @dataclass class User: name: str age: int email: str = &quot;unknown@example.com&quot; # Â∏¶ÈªòËÆ§ÂÄºÁöÑÊñ∞Â≠óÊÆµ # ‰ªçÁÑ∂ÂèØ‰ª•ÂèçÂ∫èÂàóÂåñÊóßÊï∞ÊçÆ user = f.loads(data) print(user.email) # &quot;unknown@example.com&quot;   ","version":"0.14","tagName":"h3"},{"title":"‰∏•Ê†ºÊ®°Âºè‰∏ãÁöÑÁ±ªÂûãÊ≥®ÂÜåÈîôËØØ‚Äã","type":1,"pageTitle":"ÊïÖÈöúÊéíÈô§","url":"/zh-CN/docs/0.14/guide/python/troubleshooting#‰∏•Ê†ºÊ®°Âºè‰∏ãÁöÑÁ±ªÂûãÊ≥®ÂÜåÈîôËØØ","content":" # Âú®Â∫èÂàóÂåñ‰πãÂâçÊ≥®ÂÜåÊâÄÊúâËá™ÂÆö‰πâÁ±ªÂûã f = pyfory.Fory(strict=True) # ‰ΩøÁî®ÂâçÂøÖÈ°ªÊ≥®ÂÜå f.register(MyClass, type_id=100) f.register(AnotherClass, type_id=101) # ÊàñÁ¶ÅÁî®‰∏•Ê†ºÊ®°ÂºèÔºàÁîü‰∫ßÁéØÂ¢É‰∏çÊé®ËçêÔºâ f = pyfory.Fory(strict=False) # ‰ªÖÂú®Âèó‰ø°‰ªªÁöÑÁéØÂ¢É‰∏≠‰ΩøÁî®   ","version":"0.14","tagName":"h3"},{"title":"Ë∞ÉËØïÊ®°Âºè‚Äã","type":1,"pageTitle":"ÊïÖÈöúÊéíÈô§","url":"/zh-CN/docs/0.14/guide/python/troubleshooting#Ë∞ÉËØïÊ®°Âºè","content":" Âú®ÂØºÂÖ• pyfory ‰πãÂâçËÆæÁΩÆÁéØÂ¢ÉÂèòÈáè‰ª•Á¶ÅÁî® Cython ËøõË°åË∞ÉËØïÔºö  import os os.environ['ENABLE_FORY_CYTHON_SERIALIZATION'] = '0' import pyfory # Áé∞Âú®‰ΩøÁî®Á∫Ø Python ÂÆûÁé∞ # ËøôÂØπ‰ª•‰∏ãÊÉÖÂÜµÂæàÊúâÁî®Ôºö # 1. Ë∞ÉËØïÂçèËÆÆÈóÆÈ¢ò # 2. ÁêÜËß£Â∫èÂàóÂåñË°å‰∏∫ # 3. Êó†ÈúÄÈáçÊñ∞ÁºñËØë Cython ÁöÑÂºÄÂèë   ","version":"0.14","tagName":"h2"},{"title":"ÈîôËØØÂ§ÑÁêÜ‚Äã","type":1,"pageTitle":"ÊïÖÈöúÊéíÈô§","url":"/zh-CN/docs/0.14/guide/python/troubleshooting#ÈîôËØØÂ§ÑÁêÜ","content":" ‰ºòÈõÖÂú∞Â§ÑÁêÜÂ∏∏ËßÅÁöÑÂ∫èÂàóÂåñÈîôËØØÔºö  import pyfory from pyfory.error import TypeUnregisteredError, TypeNotCompatibleError fory = pyfory.Fory(strict=True) try: data = fory.dumps(my_object) except TypeUnregisteredError as e: print(f&quot;Á±ªÂûãÊú™Ê≥®ÂÜåÔºö{e}&quot;) # Ê≥®ÂÜåÁ±ªÂûãÂπ∂ÈáçËØï fory.register(type(my_object), type_id=100) data = fory.dumps(my_object) except Exception as e: print(f&quot;Â∫èÂàóÂåñÂ§±Ë¥•Ôºö{e}&quot;) try: obj = fory.loads(data) except TypeNotCompatibleError as e: print(f&quot;Schema ‰∏çÂåπÈÖçÔºö{e}&quot;) # Â§ÑÁêÜÁâàÊú¨‰∏çÂåπÈÖç except Exception as e: print(f&quot;ÂèçÂ∫èÂàóÂåñÂ§±Ë¥•Ôºö{e}&quot;)   ","version":"0.14","tagName":"h2"},{"title":"ÂºÄÂèëÁéØÂ¢ÉËÆæÁΩÆ‚Äã","type":1,"pageTitle":"ÊïÖÈöúÊéíÈô§","url":"/zh-CN/docs/0.14/guide/python/troubleshooting#ÂºÄÂèëÁéØÂ¢ÉËÆæÁΩÆ","content":" git clone https://github.com/apache/fory.git cd fory/python # ÂÆâË£Ö‰æùËµñ pip install -e &quot;.[dev,format]&quot; # ËøêË°åÊµãËØï pytest -v -s . # ËøêË°åÁâπÂÆöÊµãËØï pytest -v -s pyfory/tests/test_serializer.py # Ê†ºÂºèÂåñ‰ª£Á†Å ruff format . ruff check --fix .   ","version":"0.14","tagName":"h2"},{"title":"Áõ∏ÂÖ≥‰∏ªÈ¢ò‚Äã","type":1,"pageTitle":"ÊïÖÈöúÊéíÈô§","url":"/zh-CN/docs/0.14/guide/python/troubleshooting#Áõ∏ÂÖ≥‰∏ªÈ¢ò","content":" ÈÖçÁΩÆ - Fory ÂèÇÊï∞Á±ªÂûãÊ≥®ÂÜå - Ê≥®ÂÜåÊúÄ‰Ω≥ÂÆûË∑µÂÆâÂÖ®ÊÄß - ÂÆâÂÖ®ÈÖçÁΩÆ ","version":"0.14","tagName":"h2"},{"title":"Á±ªÂûãÊ≥®ÂÜå‰∏éÂÆâÂÖ®ÊÄß","type":0,"sectionRef":"#","url":"/zh-CN/docs/0.14/guide/python/type_registration","content":"","keywords":"","version":"0.14"},{"title":"Á±ªÂûãÊ≥®ÂÜå‚Äã","type":1,"pageTitle":"Á±ªÂûãÊ≥®ÂÜå‰∏éÂÆâÂÖ®ÊÄß","url":"/zh-CN/docs/0.14/guide/python/type_registration#Á±ªÂûãÊ≥®ÂÜå","content":" Âú®‰∏•Ê†ºÊ®°Âºè‰∏ãÔºåÂè™ÊúâÂ∑≤Ê≥®ÂÜåÁöÑÁ±ªÂûãÊâçËÉΩË¢´ÂèçÂ∫èÂàóÂåñ„ÄÇËøôÂèØ‰ª•Èò≤Ê≠¢‰ªªÊÑè‰ª£Á†ÅÊâßË°åÔºö  import pyfory # ‰∏•Ê†ºÊ®°ÂºèÔºàÁîü‰∫ßÁéØÂ¢ÉÊé®ËçêÔºâ f = pyfory.Fory(strict=True) class SafeClass: def __init__(self, data): self.data = data # Âú®‰∏•Ê†ºÊ®°Âºè‰∏ãÂøÖÈ°ªÊ≥®ÂÜåÁ±ªÂûã f.register(SafeClass, typename=&quot;com.example.SafeClass&quot;) # Áé∞Âú®Â∫èÂàóÂåñÂèØ‰ª•Ê≠£Â∏∏Â∑•‰Ωú obj = SafeClass(&quot;safe data&quot;) data = f.serialize(obj) result = f.deserialize(data) # Êú™Ê≥®ÂÜåÁöÑÁ±ªÂûãÂ∞ÜÂºïÂèëÂºÇÂ∏∏ class UnsafeClass: pass # Âú®‰∏•Ê†ºÊ®°Âºè‰∏ãËøôÂ∞ÜÂ§±Ë¥• try: f.serialize(UnsafeClass()) except Exception as e: print(&quot;ÂÆâÂÖ®‰øùÊä§Â∑≤ÊøÄÊ¥ªÔºÅ&quot;)   ","version":"0.14","tagName":"h2"},{"title":"Ê≥®ÂÜåÊ®°Âºè‚Äã","type":1,"pageTitle":"Á±ªÂûãÊ≥®ÂÜå‰∏éÂÆâÂÖ®ÊÄß","url":"/zh-CN/docs/0.14/guide/python/type_registration#Ê≥®ÂÜåÊ®°Âºè","content":" ","version":"0.14","tagName":"h2"},{"title":"Ê®°Âºè 1ÔºöÁÆÄÂçïÊ≥®ÂÜå‚Äã","type":1,"pageTitle":"Á±ªÂûãÊ≥®ÂÜå‰∏éÂÆâÂÖ®ÊÄß","url":"/zh-CN/docs/0.14/guide/python/type_registration#Ê®°Âºè-1ÁÆÄÂçïÊ≥®ÂÜå","content":" fory.register(MyClass, type_id=100)   ","version":"0.14","tagName":"h3"},{"title":"Ê®°Âºè 2Ôºö‰ΩøÁî®Á±ªÂûãÂêçÁß∞ÁöÑË∑®ËØ≠Ë®ÄÊ≥®ÂÜå‚Äã","type":1,"pageTitle":"Á±ªÂûãÊ≥®ÂÜå‰∏éÂÆâÂÖ®ÊÄß","url":"/zh-CN/docs/0.14/guide/python/type_registration#Ê®°Âºè-2‰ΩøÁî®Á±ªÂûãÂêçÁß∞ÁöÑË∑®ËØ≠Ë®ÄÊ≥®ÂÜå","content":" fory.register(MyClass, typename=&quot;com.example.MyClass&quot;)   ","version":"0.14","tagName":"h3"},{"title":"Ê®°Âºè 3Ôºö‰ΩøÁî®Ëá™ÂÆö‰πâÂ∫èÂàóÂåñÂô®‚Äã","type":1,"pageTitle":"Á±ªÂûãÊ≥®ÂÜå‰∏éÂÆâÂÖ®ÊÄß","url":"/zh-CN/docs/0.14/guide/python/type_registration#Ê®°Âºè-3‰ΩøÁî®Ëá™ÂÆö‰πâÂ∫èÂàóÂåñÂô®","content":" fory.register(MyClass, type_id=100, serializer=MySerializer(fory, MyClass))   ","version":"0.14","tagName":"h3"},{"title":"Ê®°Âºè 4ÔºöÊâπÈáèÊ≥®ÂÜå‚Äã","type":1,"pageTitle":"Á±ªÂûãÊ≥®ÂÜå‰∏éÂÆâÂÖ®ÊÄß","url":"/zh-CN/docs/0.14/guide/python/type_registration#Ê®°Âºè-4ÊâπÈáèÊ≥®ÂÜå","content":" type_id = 100 for model_class in [User, Order, Product, Invoice]: fory.register(model_class, type_id=type_id) type_id += 1   ","version":"0.14","tagName":"h3"},{"title":"ÂÆâÂÖ®Ê®°Âºè‚Äã","type":1,"pageTitle":"Á±ªÂûãÊ≥®ÂÜå‰∏éÂÆâÂÖ®ÊÄß","url":"/zh-CN/docs/0.14/guide/python/type_registration#ÂÆâÂÖ®Ê®°Âºè","content":" ","version":"0.14","tagName":"h2"},{"title":"‰∏•Ê†ºÊ®°ÂºèÔºàÊé®ËçêÔºâ‚Äã","type":1,"pageTitle":"Á±ªÂûãÊ≥®ÂÜå‰∏éÂÆâÂÖ®ÊÄß","url":"/zh-CN/docs/0.14/guide/python/type_registration#‰∏•Ê†ºÊ®°ÂºèÊé®Ëçê","content":" # Áîü‰∫ßÁéØÂ¢ÉÂßãÁªà‰ΩøÁî® strict=True fory = pyfory.Fory(strict=True) # ÊòæÂºèÊ≥®ÂÜåÂÖÅËÆ∏ÁöÑÁ±ªÂûã fory.register(UserModel, type_id=100) fory.register(OrderModel, type_id=101)   ","version":"0.14","tagName":"h3"},{"title":"Èùû‰∏•Ê†ºÊ®°Âºè‚Äã","type":1,"pageTitle":"Á±ªÂûãÊ≥®ÂÜå‰∏éÂÆâÂÖ®ÊÄß","url":"/zh-CN/docs/0.14/guide/python/type_registration#Èùû‰∏•Ê†ºÊ®°Âºè","content":" ‚ö†Ô∏è ÂÆâÂÖ®Ë≠¶ÂëäÔºöÂΩì strict=False Êó∂ÔºåFory Â∞ÜÂèçÂ∫èÂàóÂåñ‰ªªÊÑèÁ±ªÂûãÔºåÂ¶ÇÊûúÊï∞ÊçÆÊù•Ëá™‰∏çÂèó‰ø°‰ªªÁöÑÊ∫êÔºåËøôÂèØËÉΩÂ∏¶Êù•ÂÆâÂÖ®È£éÈô©„ÄÇ‰ªÖÂú®ÂÆåÂÖ®‰ø°‰ªªÊï∞ÊçÆÊ∫êÁöÑÂèóÊéßÁéØÂ¢É‰∏≠‰ΩøÁî® strict=False„ÄÇ  # ‰ªÖÂú®Âèó‰ø°‰ªªÁöÑÁéØÂ¢É‰∏≠ fory = pyfory.Fory(xlang=False, ref=True, strict=False)   Â¶ÇÊûúÁ°ÆÂÆûÈúÄË¶Å‰ΩøÁî® strict=FalseÔºåËØ∑ÈÖçÁΩÆ DeserializationPolicyÔºö  from pyfory import DeserializationPolicy class SafePolicy(DeserializationPolicy): def validate_class(self, cls, is_local, **kwargs): # ÈòªÊ≠¢Âç±Èô©Ê®°Âùó if cls.__module__ in {'subprocess', 'os', '__builtin__'}: raise ValueError(f&quot;Â∑≤ÈòªÊ≠¢Ôºö{cls}&quot;) return None fory = pyfory.Fory(xlang=False, strict=False, policy=SafePolicy())   ","version":"0.14","tagName":"h3"},{"title":"ÊúÄÂ§ßÊ∑±Â∫¶‰øùÊä§‚Äã","type":1,"pageTitle":"Á±ªÂûãÊ≥®ÂÜå‰∏éÂÆâÂÖ®ÊÄß","url":"/zh-CN/docs/0.14/guide/python/type_registration#ÊúÄÂ§ßÊ∑±Â∫¶‰øùÊä§","content":" ÈôêÂà∂ÂèçÂ∫èÂàóÂåñÊ∑±Â∫¶‰ª•Èò≤Ê≠¢Ê†àÊ∫¢Âá∫ÊîªÂáªÔºö  fory = pyfory.Fory( strict=True, max_depth=100 # Ê†πÊçÆÊï∞ÊçÆÁªìÊûÑÊ∑±Â∫¶Ë∞ÉÊï¥ )   ","version":"0.14","tagName":"h2"},{"title":"ÊúÄ‰Ω≥ÂÆûË∑µ‚Äã","type":1,"pageTitle":"Á±ªÂûãÊ≥®ÂÜå‰∏éÂÆâÂÖ®ÊÄß","url":"/zh-CN/docs/0.14/guide/python/type_registration#ÊúÄ‰Ω≥ÂÆûË∑µ","content":" Áîü‰∫ßÁéØÂ¢ÉÂßãÁªà‰ΩøÁî® strict=True‰ΩøÁî® type_id ÊèêÈ´òÊÄßËÉΩÔºå‰ΩøÁî® typename ÊèêÈ´òÁÅµÊ¥ªÊÄßÂú®‰ªª‰ΩïÂ∫èÂàóÂåñ‰πãÂâçÈ¢ÑÂÖàÊ≥®ÂÜåÊâÄÊúâÁ±ªÂûãÊ†πÊçÆÊï∞ÊçÆÁªìÊûÑËÆæÁΩÆÈÄÇÂΩìÁöÑ max_depthÂøÖË¶ÅÊó∂‰ΩøÁî® DeserializationPolicy ÂΩìÈúÄË¶Å strict=False Êó∂  ","version":"0.14","tagName":"h2"},{"title":"Áõ∏ÂÖ≥‰∏ªÈ¢ò‚Äã","type":1,"pageTitle":"Á±ªÂûãÊ≥®ÂÜå‰∏éÂÆâÂÖ®ÊÄß","url":"/zh-CN/docs/0.14/guide/python/type_registration#Áõ∏ÂÖ≥‰∏ªÈ¢ò","content":" ÈÖçÁΩÆ - Fory ÂèÇÊï∞ÂÆâÂÖ®ÊÄß - DeserializationPolicy ËØ¶ÊÉÖËá™ÂÆö‰πâÂ∫èÂàóÂåñÂô® - Ëá™ÂÆö‰πâÂ∫èÂàóÂåñ ","version":"0.14","tagName":"h2"},{"title":"Rust Â∫èÂàóÂåñÊåáÂçó","type":0,"sectionRef":"#","url":"/zh-CN/docs/0.14/guide/rust/","content":"","keywords":"","version":"0.14"},{"title":"‰∏∫‰ªÄ‰πàÈÄâÊã© Apache Fory‚Ñ¢ RustÔºü‚Äã","type":1,"pageTitle":"Rust Â∫èÂàóÂåñÊåáÂçó","url":"/zh-CN/docs/0.14/guide/rust/#‰∏∫‰ªÄ‰πàÈÄâÊã©-apache-fory-rust","content":" üî• ÊûÅÈÄüÊÄßËÉΩÔºöÈõ∂Êã∑Ë¥ùÂèçÂ∫èÂàóÂåñÂíå‰ºòÂåñÁöÑ‰∫åËøõÂà∂ÂçèËÆÆüåç Ë∑®ËØ≠Ë®ÄÔºöÂú® Java„ÄÅPython„ÄÅC++„ÄÅGo„ÄÅJavaScript Âíå Rust ‰πãÈó¥Êó†ÁºùÂ∫èÂàóÂåñ/ÂèçÂ∫èÂàóÂåñÊï∞ÊçÆüéØ Á±ªÂûãÂÆâÂÖ®Ôºö‰ΩøÁî® derive macro ÂÆûÁé∞ÁºñËØëÊó∂Á±ªÂûãÊ£ÄÊü•üîÑ Âæ™ÁéØÂºïÁî®Ôºö‰ΩøÁî® Rc/Arc ÂíåÂº±ÊåáÈíàËá™Âä®Ë∑üË∏™ÂÖ±‰∫´ÂºïÁî®ÂíåÂæ™ÁéØÂºïÁî®üß¨ Â§öÊÄÅÊîØÊåÅÔºö‰ΩøÁî® Box&lt;dyn Trait&gt;„ÄÅRc&lt;dyn Trait&gt; Âíå Arc&lt;dyn Trait&gt; Â∫èÂàóÂåñ trait ÂØπË±°üì¶ Schema ÊºîÂåñÔºöÂÖºÂÆπÊ®°ÂºèÊîØÊåÅÁã¨Á´ãÁöÑ schema ÂèòÊõ¥‚ö° ÂèåÊ†ºÂºèÊîØÊåÅÔºöÂØπË±°ÂõæÂ∫èÂàóÂåñÂíåÈõ∂Êã∑Ë¥ùË°åÊ†ºÂºè  ","version":"0.14","tagName":"h2"},{"title":"Crate ÂàóË°®‚Äã","type":1,"pageTitle":"Rust Â∫èÂàóÂåñÊåáÂçó","url":"/zh-CN/docs/0.14/guide/rust/#crate-ÂàóË°®","content":" Crate\tÊèèËø∞\tÁâàÊú¨fory\tÂ∏¶Êúâ derive macro ÁöÑÈ´òÁ∫ß API fory-core\tÊ†∏ÂøÉÂ∫èÂàóÂåñÂºïÊìé fory-derive\tËøáÁ®ãÂÆè\t  ","version":"0.14","tagName":"h2"},{"title":"Âø´ÈÄüÂºÄÂßã‚Äã","type":1,"pageTitle":"Rust Â∫èÂàóÂåñÊåáÂçó","url":"/zh-CN/docs/0.14/guide/rust/#Âø´ÈÄüÂºÄÂßã","content":" Âú®‰Ω†ÁöÑ Cargo.toml ‰∏≠Ê∑ªÂä† Apache Fory‚Ñ¢Ôºö  [dependencies] fory = &quot;0.14&quot;   ","version":"0.14","tagName":"h2"},{"title":"Âü∫Á°ÄÁ§∫‰æã‚Äã","type":1,"pageTitle":"Rust Â∫èÂàóÂåñÊåáÂçó","url":"/zh-CN/docs/0.14/guide/rust/#Âü∫Á°ÄÁ§∫‰æã","content":" use fory::{Fory, Error, Reader}; use fory::ForyObject; #[derive(ForyObject, Debug, PartialEq)] struct User { name: String, age: i32, email: String, } fn main() -&gt; Result&lt;(), Error&gt; { let mut fory = Fory::default(); fory.register::&lt;User&gt;(1)?; let user = User { name: &quot;Alice&quot;.to_string(), age: 30, email: &quot;alice@example.com&quot;.to_string(), }; // Â∫èÂàóÂåñ let bytes = fory.serialize(&amp;user)?; // ÂèçÂ∫èÂàóÂåñ let decoded: User = fory.deserialize(&amp;bytes)?; assert_eq!(user, decoded); // Â∫èÂàóÂåñÂà∞ÊåáÂÆöÁºìÂÜ≤Âå∫ let mut buf: Vec&lt;u8&gt; = vec![]; fory.serialize_to(&amp;mut buf, &amp;user)?; // ‰ªéÊåáÂÆöÁºìÂÜ≤Âå∫ÂèçÂ∫èÂàóÂåñ let mut reader = Reader::new(&amp;buf); let decoded: User = fory.deserialize_from(&amp;mut reader)?; assert_eq!(user, decoded); Ok(()) }   ","version":"0.14","tagName":"h3"},{"title":"Á∫øÁ®ãÂÆâÂÖ®‚Äã","type":1,"pageTitle":"Rust Â∫èÂàóÂåñÊåáÂçó","url":"/zh-CN/docs/0.14/guide/rust/#Á∫øÁ®ãÂÆâÂÖ®","content":" Apache Fory‚Ñ¢ Rust ÊòØÂÆåÂÖ®Á∫øÁ®ãÂÆâÂÖ®ÁöÑÔºöFory ÂêåÊó∂ÂÆûÁé∞‰∫Ü Send Âíå SyncÔºåÂõ†Ê≠§‰∏Ä‰∏™ÈÖçÁΩÆÂ•ΩÁöÑÂÆû‰æãÂèØ‰ª•Âú®Â§ö‰∏™Á∫øÁ®ã‰πãÈó¥ÂÖ±‰∫´‰ª•ËøõË°åÂπ∂ÂèëÂ∑•‰Ωú„ÄÇÂÜÖÈÉ®ÁöÑËØª/ÂÜô‰∏ä‰∏ãÊñáÊ±†ÊòØ‰ΩøÁî®Á∫øÁ®ãÂÆâÂÖ®ÂéüËØ≠Âª∂ËøüÂàùÂßãÂåñÁöÑÔºåËÆ©Â∑•‰ΩúÁ∫øÁ®ãÂèØ‰ª•ÈáçÁî®ÁºìÂÜ≤Âå∫ËÄåÊó†ÈúÄÂçèË∞É„ÄÇ  use fory::{Fory, Error}; use fory::ForyObject; use std::sync::Arc; use std::thread; #[derive(ForyObject, Clone, Copy, Debug, PartialEq)] struct Item { value: i32, } fn main() -&gt; Result&lt;(), Error&gt; { let mut fory = Fory::default(); fory.register::&lt;Item&gt;(1000)?; let fory = Arc::new(fory); let handles: Vec&lt;_&gt; = (0..8) .map(|i| { let shared = Arc::clone(&amp;fory); thread::spawn(move || { let item = Item { value: i }; shared.serialize(&amp;item) }) }) .collect(); for handle in handles { let bytes = handle.join().unwrap()?; let item: Item = fory.deserialize(&amp;bytes)?; assert!(item.value &gt;= 0); } Ok(()) }   ÊèêÁ§∫Ôºö Âú®ÁîüÊàêÁ∫øÁ®ã‰πãÂâçÊâßË°åÊ≥®ÂÜåÊìç‰ΩúÔºà‰æãÂ¶Ç fory.register::&lt;T&gt;(id)ÔºâÔºå‰ª•‰æøÊØè‰∏™Â∑•‰ΩúÁ∫øÁ®ãÁúãÂà∞Áõ∏ÂêåÁöÑÂÖÉÊï∞ÊçÆ„ÄÇÈÖçÁΩÆÂÆåÊàêÂêéÔºåÂ∞ÜÂÆû‰æãÂåÖË£ÖÂú® Arc ‰∏≠Â∞±Ë∂≥‰ª•ÂÆâÂÖ®Âú∞ÂàÜÂèëÂ∫èÂàóÂåñÂíåÂèçÂ∫èÂàóÂåñ‰ªªÂä°„ÄÇ  ","version":"0.14","tagName":"h2"},{"title":"Êû∂ÊûÑ‚Äã","type":1,"pageTitle":"Rust Â∫èÂàóÂåñÊåáÂçó","url":"/zh-CN/docs/0.14/guide/rust/#Êû∂ÊûÑ","content":" Rust ÂÆûÁé∞Áî±‰∏â‰∏™‰∏ªË¶Å crate ÁªÑÊàêÔºö  fory/ # È´òÁ∫ß API ‚îú‚îÄ‚îÄ src/lib.rs # ÂÖ¨ÂÖ± API ÂØºÂá∫ fory-core/ # Ê†∏ÂøÉÂ∫èÂàóÂåñÂºïÊìé ‚îú‚îÄ‚îÄ src/ ‚îÇ ‚îú‚îÄ‚îÄ fory.rs # ‰∏ªÂ∫èÂàóÂåñÂÖ•Âè£ÁÇπ ‚îÇ ‚îú‚îÄ‚îÄ buffer.rs # ‰∫åËøõÂà∂ÁºìÂÜ≤Âå∫ÁÆ°ÁêÜ ‚îÇ ‚îú‚îÄ‚îÄ serializer/ # Á±ªÂûãÁâπÂÆöÂ∫èÂàóÂåñÂô® ‚îÇ ‚îú‚îÄ‚îÄ resolver/ # Á±ªÂûãËß£ÊûêÂíåÂÖÉÊï∞ÊçÆ ‚îÇ ‚îú‚îÄ‚îÄ meta/ # ÂÖÉÂ≠óÁ¨¶‰∏≤ÂéãÁº© ‚îÇ ‚îú‚îÄ‚îÄ row/ # Ë°åÊ†ºÂºèÂÆûÁé∞ ‚îÇ ‚îî‚îÄ‚îÄ types.rs # Á±ªÂûãÂÆö‰πâ fory-derive/ # ËøáÁ®ãÂÆè ‚îú‚îÄ‚îÄ src/ ‚îÇ ‚îú‚îÄ‚îÄ object/ # ForyObject ÂÆè ‚îÇ ‚îî‚îÄ‚îÄ fory_row.rs # ForyRow ÂÆè   ","version":"0.14","tagName":"h2"},{"title":"‰ΩøÁî®Âú∫ÊôØ‚Äã","type":1,"pageTitle":"Rust Â∫èÂàóÂåñÊåáÂçó","url":"/zh-CN/docs/0.14/guide/rust/#‰ΩøÁî®Âú∫ÊôØ","content":" ","version":"0.14","tagName":"h2"},{"title":"ÂØπË±°Â∫èÂàóÂåñ‚Äã","type":1,"pageTitle":"Rust Â∫èÂàóÂåñÊåáÂçó","url":"/zh-CN/docs/0.14/guide/rust/#ÂØπË±°Â∫èÂàóÂåñ","content":" ÂåÖÂê´ÂµåÂ•óÂØπË±°ÂíåÂºïÁî®ÁöÑÂ§çÊùÇÊï∞ÊçÆÁªìÊûÑÂæÆÊúçÂä°‰∏≠ÁöÑË∑®ËØ≠Ë®ÄÈÄö‰ø°ÂÖ∑ÊúâÂÆåÊï¥Á±ªÂûãÂÆâÂÖ®ÁöÑÈÄöÁî®Â∫èÂàóÂåñ‰ΩøÁî®ÂÖºÂÆπÊ®°ÂºèÁöÑ schema ÊºîÂåñÂÖ∑ÊúâÂæ™ÁéØÂºïÁî®ÁöÑÂõæÂΩ¢Êï∞ÊçÆÁªìÊûÑ  ","version":"0.14","tagName":"h3"},{"title":"Ë°åÊ†ºÂºèÂ∫èÂàóÂåñ‚Äã","type":1,"pageTitle":"Rust Â∫èÂàóÂåñÊåáÂçó","url":"/zh-CN/docs/0.14/guide/rust/#Ë°åÊ†ºÂºèÂ∫èÂàóÂåñ","content":" È´òÂêûÂêêÈáèÊï∞ÊçÆÂ§ÑÁêÜÈúÄË¶ÅÂø´ÈÄüÂ≠óÊÆµËÆøÈóÆÁöÑÂàÜÊûêÂ∑•‰ΩúË¥üËΩΩÂÜÖÂ≠òÂèóÈôêÁéØÂ¢ÉÂÆûÊó∂Êï∞ÊçÆÊµÅÂ∫îÁî®Èõ∂Êã∑Ë¥ùÂú∫ÊôØ  ","version":"0.14","tagName":"h3"},{"title":"ÂêéÁª≠Ê≠•È™§‚Äã","type":1,"pageTitle":"Rust Â∫èÂàóÂåñÊåáÂçó","url":"/zh-CN/docs/0.14/guide/rust/#ÂêéÁª≠Ê≠•È™§","content":" ÈÖçÁΩÆ - Fory ÊûÑÂª∫Âô®ÈÄâÈ°πÂíåÊ®°ÂºèÂü∫Á°ÄÂ∫èÂàóÂåñ - ÂØπË±°ÂõæÂ∫èÂàóÂåñÂºïÁî® - ÂÖ±‰∫´ÂºïÁî®ÂíåÂæ™ÁéØÂºïÁî®Â§öÊÄÅ - Trait ÂØπË±°Â∫èÂàóÂåñË∑®ËØ≠Ë®Ä - XLANG Ê®°ÂºèË°åÊ†ºÂºè - Èõ∂Êã∑Ë¥ùË°åÊ†ºÂºè ","version":"0.14","tagName":"h2"},{"title":"ÈÖçÁΩÆ","type":0,"sectionRef":"#","url":"/zh-CN/docs/0.14/guide/rust/configuration","content":"","keywords":"","version":"0.14"},{"title":"Â∫èÂàóÂåñÊ®°Âºè‚Äã","type":1,"pageTitle":"ÈÖçÁΩÆ","url":"/zh-CN/docs/0.14/guide/rust/configuration#Â∫èÂàóÂåñÊ®°Âºè","content":" Apache Fory‚Ñ¢ ÊîØÊåÅ‰∏§ÁßçÂ∫èÂàóÂåñÊ®°ÂºèÔºö  ","version":"0.14","tagName":"h2"},{"title":"SchemaConsistent Ê®°ÂºèÔºàÈªòËÆ§Ôºâ‚Äã","type":1,"pageTitle":"ÈÖçÁΩÆ","url":"/zh-CN/docs/0.14/guide/rust/configuration#schemaconsistent-Ê®°ÂºèÈªòËÆ§","content":" Á±ªÂûãÂ£∞ÊòéÂøÖÈ°ªÂú®ÂØπÁ≠âÊñπ‰πãÈó¥ÂÆåÂÖ®ÂåπÈÖçÔºö  let fory = Fory::default(); // ÈªòËÆ§‰∏∫ SchemaConsistent   ","version":"0.14","tagName":"h3"},{"title":"Compatible Ê®°Âºè‚Äã","type":1,"pageTitle":"ÈÖçÁΩÆ","url":"/zh-CN/docs/0.14/guide/rust/configuration#compatible-Ê®°Âºè","content":" ÂÖÅËÆ∏Áã¨Á´ãÁöÑ schema ÊºîÂåñÔºö  let fory = Fory::default().compatible(true);   ","version":"0.14","tagName":"h3"},{"title":"ÈÖçÁΩÆÈÄâÈ°π‚Äã","type":1,"pageTitle":"ÈÖçÁΩÆ","url":"/zh-CN/docs/0.14/guide/rust/configuration#ÈÖçÁΩÆÈÄâÈ°π","content":" ","version":"0.14","tagName":"h2"},{"title":"ÊúÄÂ§ßÂä®ÊÄÅÂØπË±°ÂµåÂ•óÊ∑±Â∫¶‚Äã","type":1,"pageTitle":"ÈÖçÁΩÆ","url":"/zh-CN/docs/0.14/guide/rust/configuration#ÊúÄÂ§ßÂä®ÊÄÅÂØπË±°ÂµåÂ•óÊ∑±Â∫¶","content":" Apache Fory‚Ñ¢ Êèê‰æõÈíàÂØπÂèçÂ∫èÂàóÂåñÊúüÈó¥Ê∑±Â∫¶ÂµåÂ•óÂä®ÊÄÅÂØπË±°ÂØºËá¥ÁöÑÊ†àÊ∫¢Âá∫‰øùÊä§„ÄÇÈªòËÆ§ÊÉÖÂÜµ‰∏ãÔºåtrait ÂØπË±°ÂíåÂÆπÂô®ÁöÑÊúÄÂ§ßÂµåÂ•óÊ∑±Â∫¶ËÆæÁΩÆ‰∏∫ 5 Â±Ç„ÄÇ  ÈªòËÆ§ÈÖçÁΩÆÔºö  let fory = Fory::default(); // max_dyn_depth = 5   Ëá™ÂÆö‰πâÊ∑±Â∫¶ÈôêÂà∂Ôºö  let fory = Fory::default().max_dyn_depth(10); // ÂÖÅËÆ∏ÊúÄÂ§ö 10 Â±Ç   ‰ΩïÊó∂Ë∞ÉÊï¥Ôºö  Â¢ûÂä†ÔºöÁî®‰∫éÂêàÊ≥ïÁöÑÊ∑±Â∫¶ÂµåÂ•óÊï∞ÊçÆÁªìÊûÑÂáèÂ∞ëÔºöÁî®‰∫éÊõ¥‰∏•Ê†ºÁöÑÂÆâÂÖ®Ë¶ÅÊ±ÇÊàñÊµÖÂ±ÇÊï∞ÊçÆÁªìÊûÑ  Âèó‰øùÊä§ÁöÑÁ±ªÂûãÔºö  Box&lt;dyn Any&gt;„ÄÅRc&lt;dyn Any&gt;„ÄÅArc&lt;dyn Any&gt;Box&lt;dyn Trait&gt;„ÄÅRc&lt;dyn Trait&gt;„ÄÅArc&lt;dyn Trait&gt;Ôºàtrait ÂØπË±°ÔºâRcWeak&lt;T&gt;„ÄÅArcWeak&lt;T&gt;ÈõÜÂêàÁ±ªÂûãÔºàVec„ÄÅHashMap„ÄÅHashSetÔºâCompatible Ê®°Âºè‰∏ãÁöÑÂµåÂ•óÁªìÊûÑ‰ΩìÁ±ªÂûã  Ê≥®ÊÑèÔºöÈùôÊÄÅÊï∞ÊçÆÁ±ªÂûãÔºàÈùûÂä®ÊÄÅÁ±ªÂûãÔºâÊú¨Ë¥®‰∏äÊòØÂÆâÂÖ®ÁöÑÔºå‰∏çÂèóÊ∑±Â∫¶ÈôêÂà∂Á∫¶ÊùüÔºåÂõ†‰∏∫ÂÆÉ‰ª¨ÁöÑÁªìÊûÑÂú®ÁºñËØëÊó∂Â∞±Â∑≤Áü•„ÄÇ  ","version":"0.14","tagName":"h3"},{"title":"Ë∑®ËØ≠Ë®ÄÊ®°Âºè‚Äã","type":1,"pageTitle":"ÈÖçÁΩÆ","url":"/zh-CN/docs/0.14/guide/rust/configuration#Ë∑®ËØ≠Ë®ÄÊ®°Âºè","content":" ÂêØÁî®Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñÔºö  let fory = Fory::default() .compatible(true) .xlang(true);   ","version":"0.14","tagName":"h3"},{"title":"ÊûÑÂª∫Âô®Ê®°Âºè‚Äã","type":1,"pageTitle":"ÈÖçÁΩÆ","url":"/zh-CN/docs/0.14/guide/rust/configuration#ÊûÑÂª∫Âô®Ê®°Âºè","content":" use fory::Fory; // ÈªòËÆ§ÈÖçÁΩÆ let fory = Fory::default(); // Áî®‰∫é schema ÊºîÂåñÁöÑÂÖºÂÆπÊ®°Âºè let fory = Fory::default().compatible(true); // Ë∑®ËØ≠Ë®ÄÊ®°Âºè let fory = Fory::default() .compatible(true) .xlang(true); // Ëá™ÂÆö‰πâÊ∑±Â∫¶ÈôêÂà∂ let fory = Fory::default().max_dyn_depth(10); // ÁªÑÂêàÈÖçÁΩÆ let fory = Fory::default() .compatible(true) .xlang(true) .max_dyn_depth(10);   ","version":"0.14","tagName":"h2"},{"title":"ÈÖçÁΩÆÊëòË¶Å‚Äã","type":1,"pageTitle":"ÈÖçÁΩÆ","url":"/zh-CN/docs/0.14/guide/rust/configuration#ÈÖçÁΩÆÊëòË¶Å","content":" ÈÄâÈ°π\tÊèèËø∞\tÈªòËÆ§ÂÄºcompatible(bool)\tÂêØÁî® schema ÊºîÂåñ\tfalse xlang(bool)\tÂêØÁî®Ë∑®ËØ≠Ë®ÄÊ®°Âºè\tfalse max_dyn_depth(u32)\tÂä®ÊÄÅÁ±ªÂûãÁöÑÊúÄÂ§ßÂµåÂ•óÊ∑±Â∫¶\t5  ","version":"0.14","tagName":"h2"},{"title":"Áõ∏ÂÖ≥‰∏ªÈ¢ò‚Äã","type":1,"pageTitle":"ÈÖçÁΩÆ","url":"/zh-CN/docs/0.14/guide/rust/configuration#Áõ∏ÂÖ≥‰∏ªÈ¢ò","content":" Âü∫Á°ÄÂ∫èÂàóÂåñ - ‰ΩøÁî®Â∑≤ÈÖçÁΩÆÁöÑ ForySchema ÊºîÂåñ - Compatible Ê®°ÂºèËØ¶ÊÉÖË∑®ËØ≠Ë®Ä - XLANG Ê®°Âºè ","version":"0.14","tagName":"h2"},{"title":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ","type":0,"sectionRef":"#","url":"/zh-CN/docs/0.14/guide/rust/cross_language","content":"","keywords":"","version":"0.14"},{"title":"ÂêØÁî®Ë∑®ËØ≠Ë®ÄÊ®°Âºè‚Äã","type":1,"pageTitle":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/0.14/guide/rust/cross_language#ÂêØÁî®Ë∑®ËØ≠Ë®ÄÊ®°Âºè","content":" use fory::Fory; // ÂêØÁî®Ë∑®ËØ≠Ë®ÄÊ®°Âºè let mut fory = Fory::default() .compatible(true) .xlang(true); // ‰ΩøÁî®Ë∑®ËØ≠Ë®Ä‰∏ÄËá¥ÁöÑ ID Ê≥®ÂÜåÁ±ªÂûã fory.register::&lt;MyStruct&gt;(100); // Êàñ‰ΩøÁî®Âü∫‰∫éÂëΩÂêçÁ©∫Èó¥ÁöÑÊ≥®ÂÜå fory.register_by_namespace::&lt;MyStruct&gt;(&quot;com.example&quot;, &quot;MyStruct&quot;);   ","version":"0.14","tagName":"h2"},{"title":"Ë∑®ËØ≠Ë®ÄÁ±ªÂûãÊ≥®ÂÜå‚Äã","type":1,"pageTitle":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/0.14/guide/rust/cross_language#Ë∑®ËØ≠Ë®ÄÁ±ªÂûãÊ≥®ÂÜå","content":" ","version":"0.14","tagName":"h2"},{"title":"Êåâ ID Ê≥®ÂÜå‚Äã","type":1,"pageTitle":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/0.14/guide/rust/cross_language#Êåâ-id-Ê≥®ÂÜå","content":" ÂØπ‰∫é‰ΩøÁî®Ë∑®ËØ≠Ë®Ä‰∏ÄËá¥ ID ÁöÑÂø´ÈÄü„ÄÅÁ¥ßÂáëÂ∫èÂàóÂåñÔºö  let mut fory = Fory::default() .compatible(true) .xlang(true); fory.register::&lt;User&gt;(100); // Âú® Java„ÄÅPython Á≠â‰∏≠‰ΩøÁî®Áõ∏ÂêåÁöÑ ID   ","version":"0.14","tagName":"h3"},{"title":"ÊåâÂëΩÂêçÁ©∫Èó¥Ê≥®ÂÜå‚Äã","type":1,"pageTitle":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/0.14/guide/rust/cross_language#ÊåâÂëΩÂêçÁ©∫Èó¥Ê≥®ÂÜå","content":" ÂØπ‰∫éÊõ¥ÁÅµÊ¥ªÁöÑÁ±ªÂûãÂëΩÂêçÔºö  fory.register_by_namespace::&lt;User&gt;(&quot;com.example&quot;, &quot;User&quot;);   ","version":"0.14","tagName":"h3"},{"title":"Ë∑®ËØ≠Ë®ÄÁ§∫‰æã‚Äã","type":1,"pageTitle":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/0.14/guide/rust/cross_language#Ë∑®ËØ≠Ë®ÄÁ§∫‰æã","content":" ","version":"0.14","tagName":"h2"},{"title":"RustÔºàÂ∫èÂàóÂåñÂô®Ôºâ‚Äã","type":1,"pageTitle":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/0.14/guide/rust/cross_language#rustÂ∫èÂàóÂåñÂô®","content":" use fory::Fory; use fory::ForyObject; #[derive(ForyObject)] struct Person { name: String, age: i32, } let mut fory = Fory::default() .compatible(true) .xlang(true); fory.register::&lt;Person&gt;(100); let person = Person { name: &quot;Alice&quot;.to_string(), age: 30, }; let bytes = fory.serialize(&amp;person)?; // bytes ÂèØ‰ª•Ë¢´ Java„ÄÅPython Á≠âÂèçÂ∫èÂàóÂåñ   ","version":"0.14","tagName":"h3"},{"title":"JavaÔºàÂèçÂ∫èÂàóÂåñÂô®Ôºâ‚Äã","type":1,"pageTitle":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/0.14/guide/rust/cross_language#javaÂèçÂ∫èÂàóÂåñÂô®","content":" import org.apache.fory.*; import org.apache.fory.config.*; public class Person { public String name; public int age; } Fory fory = Fory.builder() .withLanguage(Language.XLANG) .withRefTracking(true) .build(); fory.register(Person.class, 100); // ‰∏é Rust ‰ΩøÁî®Áõ∏ÂêåÁöÑ ID Person person = (Person) fory.deserialize(bytesFromRust);   ","version":"0.14","tagName":"h3"},{"title":"PythonÔºàÂèçÂ∫èÂàóÂåñÂô®Ôºâ‚Äã","type":1,"pageTitle":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/0.14/guide/rust/cross_language#pythonÂèçÂ∫èÂàóÂåñÂô®","content":" import pyfory from dataclasses import dataclass @dataclass class Person: name: str age: pyfory.int32 fory = pyfory.Fory(ref_tracking=True) fory.register_type(Person, type_id=100) # ‰∏é Rust ‰ΩøÁî®Áõ∏ÂêåÁöÑ ID person = fory.deserialize(bytes_from_rust)   ","version":"0.14","tagName":"h3"},{"title":"Á±ªÂûãÊò†Â∞Ñ‚Äã","type":1,"pageTitle":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/0.14/guide/rust/cross_language#Á±ªÂûãÊò†Â∞Ñ","content":" ÊúâÂÖ≥Ë∑®ËØ≠Ë®ÄÂÆåÊï¥Á±ªÂûãÊò†Â∞ÑÔºåËØ∑ÂèÇÈòÖ xlang_type_mapping.md„ÄÇ  ","version":"0.14","tagName":"h2"},{"title":"Â∏∏ËßÅÁ±ªÂûãÊò†Â∞Ñ‚Äã","type":1,"pageTitle":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/0.14/guide/rust/cross_language#Â∏∏ËßÅÁ±ªÂûãÊò†Â∞Ñ","content":" Rust\tJava\tPythoni32\tint\tint32 i64\tlong\tint64 f32\tfloat\tfloat32 f64\tdouble\tfloat64 String\tString\tstr Vec&lt;T&gt;\tList&lt;T&gt;\tList[T] HashMap&lt;K,V&gt;\tMap&lt;K,V&gt;\tDict[K,V] Option&lt;T&gt;\tÂèØÁ©∫ T\tOptional[T]  ","version":"0.14","tagName":"h3"},{"title":"ÊúÄ‰Ω≥ÂÆûË∑µ‚Äã","type":1,"pageTitle":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/0.14/guide/rust/cross_language#ÊúÄ‰Ω≥ÂÆûË∑µ","content":" ‰ΩøÁî®‰∏ÄËá¥ÁöÑÁ±ªÂûã IDÔºöÂú®ÊâÄÊúâËØ≠Ë®Ä‰∏≠‰ΩøÁî®Áõ∏ÂêåÁöÑ IDÂêØÁî® compatible Ê®°ÂºèÔºöÁî®‰∫é schema ÊºîÂåñÊ≥®ÂÜåÊâÄÊúâÁ±ªÂûãÔºöÂú®Â∫èÂàóÂåñ‰πãÂâçÊµãËØïË∑®ËØ≠Ë®ÄÔºöÂú®ÂºÄÂèëÊúüÈó¥ÊµãËØïÂÖºÂÆπÊÄß  ","version":"0.14","tagName":"h2"},{"title":"Âè¶ËØ∑ÂèÇÈòÖ‚Äã","type":1,"pageTitle":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/0.14/guide/rust/cross_language#Âè¶ËØ∑ÂèÇÈòÖ","content":" Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñËßÑËåÉÁ±ªÂûãÊò†Â∞ÑÂèÇËÄÉJava Ë∑®ËØ≠Ë®ÄÊåáÂçóPython Ë∑®ËØ≠Ë®ÄÊåáÂçó  ","version":"0.14","tagName":"h2"},{"title":"Áõ∏ÂÖ≥‰∏ªÈ¢ò‚Äã","type":1,"pageTitle":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/0.14/guide/rust/cross_language#Áõ∏ÂÖ≥‰∏ªÈ¢ò","content":" ÈÖçÁΩÆ - XLANG Ê®°ÂºèÈÖçÁΩÆSchema ÊºîÂåñ - Compatible Ê®°ÂºèÁ±ªÂûãÊ≥®ÂÜå - Ê≥®ÂÜåÊñπÊ≥ï ","version":"0.14","tagName":"h2"},{"title":"Ëá™ÂÆö‰πâÂ∫èÂàóÂåñÂô®","type":0,"sectionRef":"#","url":"/zh-CN/docs/0.14/guide/rust/custom_serializers","content":"","keywords":"","version":"0.14"},{"title":"‰ΩïÊó∂‰ΩøÁî®Ëá™ÂÆö‰πâÂ∫èÂàóÂåñÂô®‚Äã","type":1,"pageTitle":"Ëá™ÂÆö‰πâÂ∫èÂàóÂåñÂô®","url":"/zh-CN/docs/0.14/guide/rust/custom_serializers#‰ΩïÊó∂‰ΩøÁî®Ëá™ÂÆö‰πâÂ∫èÂàóÂåñÂô®","content":" Êù•Ëá™ÂÖ∂‰ªñ crate ÁöÑÂ§ñÈÉ®Á±ªÂûãÂÖ∑ÊúâÁâπÊÆäÂ∫èÂàóÂåñË¶ÅÊ±ÇÁöÑÁ±ªÂûãÊóßÊï∞ÊçÆÊ†ºÂºèÂÖºÂÆπÊÄßÊÄßËÉΩÂÖ≥ÈîÆÁöÑËá™ÂÆö‰πâÁºñÁ†Å  ","version":"0.14","tagName":"h2"},{"title":"ÂÆûÁé∞ Serializer Trait‚Äã","type":1,"pageTitle":"Ëá™ÂÆö‰πâÂ∫èÂàóÂåñÂô®","url":"/zh-CN/docs/0.14/guide/rust/custom_serializers#ÂÆûÁé∞-serializer-trait","content":" use fory::{Fory, ReadContext, WriteContext, Serializer, ForyDefault, Error}; use std::any::Any; #[derive(Debug, PartialEq)] struct CustomType { value: i32, name: String, } impl Serializer for CustomType { fn fory_write_data(&amp;self, context: &amp;mut WriteContext, is_field: bool) { context.writer.write_i32(self.value); context.writer.write_varuint32(self.name.len() as u32); context.writer.write_utf8_string(&amp;self.name); } fn fory_read_data(context: &amp;mut ReadContext, is_field: bool) -&gt; Result&lt;Self, Error&gt; { let value = context.reader.read_i32(); let len = context.reader.read_varuint32() as usize; let name = context.reader.read_utf8_string(len); Ok(Self { value, name }) } fn fory_type_id_dyn(&amp;self, type_resolver: &amp;TypeResolver) -&gt; u32 { Self::fory_get_type_id(type_resolver) } fn as_any(&amp;self) -&gt; &amp;dyn Any { self } } impl ForyDefault for CustomType { fn fory_default() -&gt; Self { Self::default() } }   ","version":"0.14","tagName":"h2"},{"title":"Ê≥®ÂÜåËá™ÂÆö‰πâÂ∫èÂàóÂåñÂô®‚Äã","type":1,"pageTitle":"Ëá™ÂÆö‰πâÂ∫èÂàóÂåñÂô®","url":"/zh-CN/docs/0.14/guide/rust/custom_serializers#Ê≥®ÂÜåËá™ÂÆö‰πâÂ∫èÂàóÂåñÂô®","content":" let mut fory = Fory::default(); fory.register_serializer::&lt;CustomType&gt;(100); let custom = CustomType { value: 42, name: &quot;test&quot;.to_string(), }; let bytes = fory.serialize(&amp;custom); let decoded: CustomType = fory.deserialize(&amp;bytes)?; assert_eq!(custom, decoded);   ","version":"0.14","tagName":"h2"},{"title":"WriteContext Âíå ReadContext‚Äã","type":1,"pageTitle":"Ëá™ÂÆö‰πâÂ∫èÂàóÂåñÂô®","url":"/zh-CN/docs/0.14/guide/rust/custom_serializers#writecontext-Âíå-readcontext","content":" WriteContext Âíå ReadContext Êèê‰æõÂØπ‰ª•‰∏ãÂÜÖÂÆπÁöÑËÆøÈóÆÔºö  writer/readerÔºö‰∫åËøõÂà∂ÁºìÂÜ≤Âå∫Êìç‰Ωútype_resolverÔºöÁ±ªÂûãÊ≥®ÂÜå‰ø°ÊÅØref_resolverÔºöÂºïÁî®Ë∑üË∏™ÔºàÁî®‰∫éÂÖ±‰∫´/Âæ™ÁéØÂºïÁî®Ôºâ  ","version":"0.14","tagName":"h2"},{"title":"Â∏∏Áî® Writer ÊñπÊ≥ï‚Äã","type":1,"pageTitle":"Ëá™ÂÆö‰πâÂ∫èÂàóÂåñÂô®","url":"/zh-CN/docs/0.14/guide/rust/custom_serializers#Â∏∏Áî®-writer-ÊñπÊ≥ï","content":" // ÂéüÂßãÁ±ªÂûã context.writer.write_i8(value); context.writer.write_i16(value); context.writer.write_i32(value); context.writer.write_i64(value); context.writer.write_f32(value); context.writer.write_f64(value); context.writer.write_bool(value); // ÂèòÈïøÊï¥Êï∞ context.writer.write_varint32(value); context.writer.write_varuint32(value); // Â≠óÁ¨¶‰∏≤ context.writer.write_utf8_string(&amp;string);   ","version":"0.14","tagName":"h3"},{"title":"Â∏∏Áî® Reader ÊñπÊ≥ï‚Äã","type":1,"pageTitle":"Ëá™ÂÆö‰πâÂ∫èÂàóÂåñÂô®","url":"/zh-CN/docs/0.14/guide/rust/custom_serializers#Â∏∏Áî®-reader-ÊñπÊ≥ï","content":" // ÂéüÂßãÁ±ªÂûã let value = context.reader.read_i8(); let value = context.reader.read_i16(); let value = context.reader.read_i32(); let value = context.reader.read_i64(); let value = context.reader.read_f32(); let value = context.reader.read_f64(); let value = context.reader.read_bool(); // ÂèòÈïøÊï¥Êï∞ let value = context.reader.read_varint32(); let value = context.reader.read_varuint32(); // Â≠óÁ¨¶‰∏≤ let string = context.reader.read_utf8_string(len);   ","version":"0.14","tagName":"h3"},{"title":"ÊúÄ‰Ω≥ÂÆûË∑µ‚Äã","type":1,"pageTitle":"Ëá™ÂÆö‰πâÂ∫èÂàóÂåñÂô®","url":"/zh-CN/docs/0.14/guide/rust/custom_serializers#ÊúÄ‰Ω≥ÂÆûË∑µ","content":" ‰ΩøÁî®ÂèòÈïøÁºñÁ†ÅÔºöÂØπÂèØËÉΩËæÉÂ∞èÁöÑÊï¥Êï∞‰ΩøÁî®ÂèòÈïøÁºñÁ†ÅÈ¶ñÂÖàÂÜôÂÖ•ÈïøÂ∫¶ÔºöÂØπÂèòÈïøÊï∞ÊçÆÂÖàÂÜôÂÖ•ÈïøÂ∫¶Ê≠£Á°ÆÂ§ÑÁêÜÈîôËØØÔºöÂú® read ÊñπÊ≥ï‰∏≠Ê≠£Á°ÆÂ§ÑÁêÜÈîôËØØÂÆûÁé∞ ForyDefaultÔºö‰ª•ÊîØÊåÅ schema ÊºîÂåñ  ","version":"0.14","tagName":"h2"},{"title":"Áõ∏ÂÖ≥‰∏ªÈ¢ò‚Äã","type":1,"pageTitle":"Ëá™ÂÆö‰πâÂ∫èÂàóÂåñÂô®","url":"/zh-CN/docs/0.14/guide/rust/custom_serializers#Áõ∏ÂÖ≥‰∏ªÈ¢ò","content":" Á±ªÂûãÊ≥®ÂÜå - Ê≥®ÂÜåÂ∫èÂàóÂåñÂô®Âü∫Á°ÄÂ∫èÂàóÂåñ - ‰ΩøÁî® ForyObject deriveSchema ÊºîÂåñ - Compatible Ê®°Âºè ","version":"0.14","tagName":"h2"},{"title":"Âü∫Á°ÄÂ∫èÂàóÂåñ","type":0,"sectionRef":"#","url":"/zh-CN/docs/0.14/guide/rust/basic_serialization","content":"","keywords":"","version":"0.14"},{"title":"ÂØπË±°ÂõæÂ∫èÂàóÂåñ‚Äã","type":1,"pageTitle":"Âü∫Á°ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/0.14/guide/rust/basic_serialization#ÂØπË±°ÂõæÂ∫èÂàóÂåñ","content":" Apache Fory‚Ñ¢ Êèê‰æõÂ§çÊùÇÂØπË±°ÂõæÁöÑËá™Âä®Â∫èÂàóÂåñÔºå‰øùÁïôÂØπË±°‰πãÈó¥ÁöÑÁªìÊûÑÂíåÂÖ≥Á≥ª„ÄÇ#[derive(ForyObject)] ÂÆèÂú®ÁºñËØëÊó∂ÁîüÊàêÈ´òÊïàÁöÑÂ∫èÂàóÂåñ‰ª£Á†ÅÔºåÊ∂àÈô§ËøêË°åÊó∂ÂºÄÈîÄ„ÄÇ  Ê†∏ÂøÉÂäüËÉΩÔºö  ‰ªªÊÑèÊ∑±Â∫¶ÁöÑÂµåÂ•óÁªìÊûÑ‰ΩìÂ∫èÂàóÂåñÈõÜÂêàÁ±ªÂûãÔºàVec„ÄÅHashMap„ÄÅHashSet„ÄÅBTreeMapÔºâ‰ΩøÁî® Option&lt;T&gt; ÁöÑÂèØÈÄâÂ≠óÊÆµÂéüÂßãÁ±ªÂûãÂíåÂ≠óÁ¨¶‰∏≤ÁöÑËá™Âä®Â§ÑÁêÜ‰ΩøÁî®ÂèòÈïøÊï¥Êï∞ÁöÑÈ´òÊïà‰∫åËøõÂà∂ÁºñÁ†Å  use fory::{Fory, Error}; use fory::ForyObject; use std::collections::HashMap; #[derive(ForyObject, Debug, PartialEq)] struct Person { name: String, age: i32, address: Address, hobbies: Vec&lt;String&gt;, metadata: HashMap&lt;String, String&gt;, } #[derive(ForyObject, Debug, PartialEq)] struct Address { street: String, city: String, country: String, } let mut fory = Fory::default(); fory.register::&lt;Address&gt;(100); fory.register::&lt;Person&gt;(200); let person = Person { name: &quot;John Doe&quot;.to_string(), age: 30, address: Address { street: &quot;123 Main St&quot;.to_string(), city: &quot;New York&quot;.to_string(), country: &quot;USA&quot;.to_string(), }, hobbies: vec![&quot;reading&quot;.to_string(), &quot;coding&quot;.to_string()], metadata: HashMap::from([ (&quot;role&quot;.to_string(), &quot;developer&quot;.to_string()), ]), }; let bytes = fory.serialize(&amp;person); let decoded: Person = fory.deserialize(&amp;bytes)?; assert_eq!(person, decoded);   ","version":"0.14","tagName":"h2"},{"title":"ÊîØÊåÅÁöÑÁ±ªÂûã‚Äã","type":1,"pageTitle":"Âü∫Á°ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/0.14/guide/rust/basic_serialization#ÊîØÊåÅÁöÑÁ±ªÂûã","content":" ","version":"0.14","tagName":"h2"},{"title":"ÂéüÂßãÁ±ªÂûã‚Äã","type":1,"pageTitle":"Âü∫Á°ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/0.14/guide/rust/basic_serialization#ÂéüÂßãÁ±ªÂûã","content":" Rust Á±ªÂûã\tÊèèËø∞bool\tÂ∏ÉÂ∞îÂÄº i8, i16, i32, i64\tÊúâÁ¨¶Âè∑Êï¥Êï∞ f32, f64\tÊµÆÁÇπÊï∞ String\tUTF-8 Â≠óÁ¨¶‰∏≤  ","version":"0.14","tagName":"h3"},{"title":"ÈõÜÂêàÁ±ªÂûã‚Äã","type":1,"pageTitle":"Âü∫Á°ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/0.14/guide/rust/basic_serialization#ÈõÜÂêàÁ±ªÂûã","content":" Rust Á±ªÂûã\tÊèèËø∞Vec&lt;T&gt;\tÂä®ÊÄÅÊï∞ÁªÑ VecDeque&lt;T&gt;\tÂèåÁ´ØÈòüÂàó LinkedList&lt;T&gt;\tÂèåÂêëÈìæË°® HashMap&lt;K, V&gt;\tÂìàÂ∏åÊò†Â∞Ñ BTreeMap&lt;K, V&gt;\tÊúâÂ∫èÊò†Â∞Ñ HashSet&lt;T&gt;\tÂìàÂ∏åÈõÜÂêà BTreeSet&lt;T&gt;\tÊúâÂ∫èÈõÜÂêà BinaryHeap&lt;T&gt;\t‰∫åÂèâÂ†Ü Option&lt;T&gt;\tÂèØÈÄâÂÄº  ","version":"0.14","tagName":"h3"},{"title":"Êô∫ËÉΩÊåáÈíà‚Äã","type":1,"pageTitle":"Âü∫Á°ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/0.14/guide/rust/basic_serialization#Êô∫ËÉΩÊåáÈíà","content":" Rust Á±ªÂûã\tÊèèËø∞Box&lt;T&gt;\tÂ†ÜÂàÜÈÖç Rc&lt;T&gt;\tÂºïÁî®ËÆ°Êï∞ÔºàË∑üË∏™ÂÖ±‰∫´ÂºïÁî®Ôºâ Arc&lt;T&gt;\tÁ∫øÁ®ãÂÆâÂÖ®ÂºïÁî®ËÆ°Êï∞ÔºàË∑üË∏™ÂÖ±‰∫´ÂºïÁî®Ôºâ RcWeak&lt;T&gt;\tÊåáÂêë Rc&lt;T&gt; ÁöÑÂº±ÂºïÁî®ÔºàÊâìÁ†¥Âæ™ÁéØÂºïÁî®Ôºâ ArcWeak&lt;T&gt;\tÊåáÂêë Arc&lt;T&gt; ÁöÑÂº±ÂºïÁî®ÔºàÊâìÁ†¥Âæ™ÁéØÂºïÁî®Ôºâ RefCell&lt;T&gt;\tÂÜÖÈÉ®ÂèØÂèòÊÄßÔºàËøêË°åÊó∂ÂÄüÁî®Ê£ÄÊü•Ôºâ Mutex&lt;T&gt;\tÁ∫øÁ®ãÂÆâÂÖ®ÂÜÖÈÉ®ÂèØÂèòÊÄß  ","version":"0.14","tagName":"h3"},{"title":"Êó•ÊúüÂíåÊó∂Èó¥‚Äã","type":1,"pageTitle":"Âü∫Á°ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/0.14/guide/rust/basic_serialization#Êó•ÊúüÂíåÊó∂Èó¥","content":" Rust Á±ªÂûã\tÊèèËø∞chrono::NaiveDate\t‰∏çÂ∏¶Êó∂Âå∫ÁöÑÊó•Êúü chrono::NaiveDateTime\t‰∏çÂ∏¶Êó∂Âå∫ÁöÑÊó∂Èó¥Êà≥  ","version":"0.14","tagName":"h3"},{"title":"Ëá™ÂÆö‰πâÁ±ªÂûã‚Äã","type":1,"pageTitle":"Âü∫Á°ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/0.14/guide/rust/basic_serialization#Ëá™ÂÆö‰πâÁ±ªÂûã","content":" ÂÆè\tÊèèËø∞#[derive(ForyObject)]\tÂØπË±°ÂõæÂ∫èÂàóÂåñ #[derive(ForyRow)]\tË°åÊ†ºÂºèÂ∫èÂàóÂåñ  ","version":"0.14","tagName":"h3"},{"title":"Â∫èÂàóÂåñ API‚Äã","type":1,"pageTitle":"Âü∫Á°ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/0.14/guide/rust/basic_serialization#Â∫èÂàóÂåñ-api","content":" use fory::{Fory, Reader}; let mut fory = Fory::default(); fory.register::&lt;MyStruct&gt;(1)?; let obj = MyStruct { /* ... */ }; // Âü∫Á°ÄÂ∫èÂàóÂåñ/ÂèçÂ∫èÂàóÂåñ let bytes = fory.serialize(&amp;obj)?; let decoded: MyStruct = fory.deserialize(&amp;bytes)?; // Â∫èÂàóÂåñÂà∞Áé∞ÊúâÁºìÂÜ≤Âå∫ let mut buf: Vec&lt;u8&gt; = vec![]; fory.serialize_to(&amp;mut buf, &amp;obj)?; // ‰ªé reader ÂèçÂ∫èÂàóÂåñ let mut reader = Reader::new(&amp;buf); let decoded: MyStruct = fory.deserialize_from(&amp;mut reader)?;   ","version":"0.14","tagName":"h2"},{"title":"ÊÄßËÉΩ‰ºòÂåñÂª∫ËÆÆ‚Äã","type":1,"pageTitle":"Âü∫Á°ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/0.14/guide/rust/basic_serialization#ÊÄßËÉΩ‰ºòÂåñÂª∫ËÆÆ","content":" Èõ∂Êã∑Ë¥ùÂèçÂ∫èÂàóÂåñÔºöË°åÊ†ºÂºèÊîØÊåÅÁõ¥Êé•ÂÜÖÂ≠òËÆøÈóÆËÄåÊó†ÈúÄÂ§çÂà∂ÁºìÂÜ≤Âå∫È¢ÑÂàÜÈÖçÔºöÂú®Â∫èÂàóÂåñÊúüÈó¥ÊúÄÂ∞èÂåñÂÜÖÂ≠òÂàÜÈÖçÁ¥ßÂáëÁºñÁ†ÅÔºöÂèòÈïøÁºñÁ†Å‰ª•ÊèêÈ´òÁ©∫Èó¥ÊïàÁéáÂ∞èÁ´ØÂ∫èÔºö‰∏∫Áé∞‰ª£ CPU Êû∂ÊûÑ‰ºòÂåñÂºïÁî®ÂéªÈáçÔºöÂÖ±‰∫´ÂØπË±°‰ªÖÂ∫èÂàóÂåñ‰∏ÄÊ¨°  ","version":"0.14","tagName":"h2"},{"title":"Áõ∏ÂÖ≥‰∏ªÈ¢ò‚Äã","type":1,"pageTitle":"Âü∫Á°ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/0.14/guide/rust/basic_serialization#Áõ∏ÂÖ≥‰∏ªÈ¢ò","content":" Á±ªÂûãÊ≥®ÂÜå - Ê≥®ÂÜåÁ±ªÂûãÂºïÁî® - ÂÖ±‰∫´ÂºïÁî®ÂíåÂæ™ÁéØÂºïÁî®Ëá™ÂÆö‰πâÂ∫èÂàóÂåñÂô® - ÊâãÂä®Â∫èÂàóÂåñ ","version":"0.14","tagName":"h2"},{"title":"Ë°åÊ†ºÂºè","type":0,"sectionRef":"#","url":"/zh-CN/docs/0.14/guide/rust/row_format","content":"","keywords":"","version":"0.14"},{"title":"Ê¶ÇËø∞‚Äã","type":1,"pageTitle":"Ë°åÊ†ºÂºè","url":"/zh-CN/docs/0.14/guide/rust/row_format#Ê¶ÇËø∞","content":" ‰∏éÂú®ÂÜÖÂ≠ò‰∏≠ÈáçÊûÑÂÆåÊï¥ÂØπË±°ÁöÑ‰º†ÁªüÂØπË±°Â∫èÂàóÂåñ‰∏çÂêåÔºåË°åÊ†ºÂºèÊîØÊåÅÁõ¥Êé•‰ªé‰∫åËøõÂà∂Êï∞ÊçÆÈöèÊú∫ËÆøÈóÆÂ≠óÊÆµÔºåÊó†ÈúÄÂÆåÊï¥ÂèçÂ∫èÂàóÂåñ„ÄÇ  ‰∏ªË¶Å‰ºòÂäøÔºö  Èõ∂Êã∑Ë¥ùËÆøÈóÆÔºöÊó†ÈúÄÂàÜÈÖçÊàñÂ§çÂà∂Êï∞ÊçÆÂç≥ÂèØËØªÂèñÂ≠óÊÆµÈÉ®ÂàÜÂèçÂ∫èÂàóÂåñÔºö‰ªÖËÆøÈóÆÊâÄÈúÄÁöÑÂ≠óÊÆµÂÜÖÂ≠òÊò†Â∞ÑÊñá‰ª∂ÔºöÂ§ÑÁêÜÂ§ß‰∫é RAM ÁöÑÊï∞ÊçÆÁºìÂ≠òÂèãÂ•ΩÔºöÈ°∫Â∫èÂÜÖÂ≠òÂ∏ÉÂ±Ä‰ª•ÊèêÈ´ò CPU ÁºìÂ≠òÂà©Áî®ÁéáÂª∂ËøüËÆ°ÁÆóÔºöÂ∞ÜÊòÇË¥µÁöÑÊìç‰ΩúÂª∂ËøüÂà∞Â≠óÊÆµËÆøÈóÆÊó∂  ","version":"0.14","tagName":"h2"},{"title":"‰ΩïÊó∂‰ΩøÁî®Ë°åÊ†ºÂºè‚Äã","type":1,"pageTitle":"Ë°åÊ†ºÂºè","url":"/zh-CN/docs/0.14/guide/rust/row_format#‰ΩïÊó∂‰ΩøÁî®Ë°åÊ†ºÂºè","content":" ÂÖ∑ÊúâÈÄâÊã©ÊÄßÂ≠óÊÆµËÆøÈóÆÁöÑÂàÜÊûêÂ∑•‰ΩúË¥üËΩΩ‰ªÖÈúÄË¶ÅÂ≠óÊÆµÂ≠êÈõÜÁöÑÂ§ßÂûãÊï∞ÊçÆÈõÜÂÜÖÂ≠òÂèóÈôêÁéØÂ¢ÉÈ´òÂêûÂêêÈáèÊï∞ÊçÆÁÆ°ÈÅì‰ªéÂÜÖÂ≠òÊò†Â∞ÑÊñá‰ª∂ÊàñÂÖ±‰∫´ÂÜÖÂ≠òËØªÂèñ  ","version":"0.14","tagName":"h2"},{"title":"Âü∫Á°ÄÁî®Ê≥ï‚Äã","type":1,"pageTitle":"Ë°åÊ†ºÂºè","url":"/zh-CN/docs/0.14/guide/rust/row_format#Âü∫Á°ÄÁî®Ê≥ï","content":" use fory::{to_row, from_row}; use fory::ForyRow; use std::collections::BTreeMap; #[derive(ForyRow)] struct UserProfile { id: i64, username: String, email: String, scores: Vec&lt;i32&gt;, preferences: BTreeMap&lt;String, String&gt;, is_active: bool, } let profile = UserProfile { id: 12345, username: &quot;alice&quot;.to_string(), email: &quot;alice@example.com&quot;.to_string(), scores: vec![95, 87, 92, 88], preferences: BTreeMap::from([ (&quot;theme&quot;.to_string(), &quot;dark&quot;.to_string()), (&quot;language&quot;.to_string(), &quot;en&quot;.to_string()), ]), is_active: true, }; // Â∫èÂàóÂåñ‰∏∫Ë°åÊ†ºÂºè let row_data = to_row(&amp;profile); // Èõ∂Êã∑Ë¥ùÂèçÂ∫èÂàóÂåñ - Êó†ÂØπË±°ÂàÜÈÖçÔºÅ let row = from_row::&lt;UserProfile&gt;(&amp;row_data); // Áõ¥Êé•‰ªé‰∫åËøõÂà∂Êï∞ÊçÆËÆøÈóÆÂ≠óÊÆµ assert_eq!(row.id(), 12345); assert_eq!(row.username(), &quot;alice&quot;); assert_eq!(row.email(), &quot;alice@example.com&quot;); assert_eq!(row.is_active(), true); // È´òÊïàËÆøÈóÆÈõÜÂêà let scores = row.scores(); assert_eq!(scores.size(), 4); assert_eq!(scores.get(0), 95); assert_eq!(scores.get(1), 87); let prefs = row.preferences(); assert_eq!(prefs.keys().size(), 2); assert_eq!(prefs.keys().get(0), &quot;language&quot;); assert_eq!(prefs.values().get(0), &quot;en&quot;);   ","version":"0.14","tagName":"h2"},{"title":"Â∑•‰ΩúÂéüÁêÜ‚Äã","type":1,"pageTitle":"Ë°åÊ†ºÂºè","url":"/zh-CN/docs/0.14/guide/rust/row_format#Â∑•‰ΩúÂéüÁêÜ","content":" Â≠óÊÆµÂú®‰∫åËøõÂà∂Ë°å‰∏≠ÁºñÁ†ÅÔºåÂéüÂßãÁ±ªÂûã‰ΩøÁî®Âõ∫ÂÆöÂÅèÁßªÈáèÂèòÈïøÊï∞ÊçÆÔºàÂ≠óÁ¨¶‰∏≤„ÄÅÈõÜÂêàÔºâ‰ΩøÁî®ÂÅèÁßªÊåáÈíàÂ≠òÂÇ®Null ‰ΩçÂõæË∑üË∏™Âì™‰∫õÂ≠óÊÆµÂ≠òÂú®ÈÄöËøáÈÄíÂΩíË°åÁºñÁ†ÅÊîØÊåÅÂµåÂ•óÁªìÊûÑ  ","version":"0.14","tagName":"h2"},{"title":"ÊÄßËÉΩÊØîËæÉ‚Äã","type":1,"pageTitle":"Ë°åÊ†ºÂºè","url":"/zh-CN/docs/0.14/guide/rust/row_format#ÊÄßËÉΩÊØîËæÉ","content":" Êìç‰Ωú\tÂØπË±°Ê†ºÂºè\tË°åÊ†ºÂºèÂÆåÊï¥ÂèçÂ∫èÂàóÂåñ\tÂàÜÈÖçÊâÄÊúâÂØπË±°\tÈõ∂ÂàÜÈÖç ÂçïÂ≠óÊÆµËÆøÈóÆ\tÈúÄË¶ÅÂÆåÊï¥ÂèçÂ∫èÂàóÂåñ\tÁõ¥Êé•ÂÅèÁßªËØªÂèñ ÂÜÖÂ≠ò‰ΩøÁî®\tÂÜÖÂ≠ò‰∏≠ÁöÑÂÆåÊï¥ÂØπË±°Âõæ\t‰ªÖÂ∑≤ËÆøÈóÆÂ≠óÊÆµÂú®ÂÜÖÂ≠ò‰∏≠ ÈÄÇÁî®‰∫é\tÂ∞èÂØπË±°ÔºåÂÆåÊï¥ËÆøÈóÆ\tÂ§ßÂØπË±°ÔºåÈÄâÊã©ÊÄßËÆøÈóÆ  ","version":"0.14","tagName":"h2"},{"title":"ForyRow vs ForyObject‚Äã","type":1,"pageTitle":"Ë°åÊ†ºÂºè","url":"/zh-CN/docs/0.14/guide/rust/row_format#foryrow-vs-foryobject","content":" ÂäüËÉΩ\t#[derive(ForyRow)]\t#[derive(ForyObject)]ÂèçÂ∫èÂàóÂåñ\tÈõ∂Êã∑Ë¥ùÔºåÂª∂Ëøü\tÂÆåÊï¥ÂØπË±°ÈáçÊûÑ Â≠óÊÆµËÆøÈóÆ\tÁõ¥Êé•‰ªé‰∫åËøõÂà∂\tÊ≠£Â∏∏ÁªìÊûÑ‰ΩìËÆøÈóÆ ÂÜÖÂ≠ò‰ΩøÁî®\tÊúÄÂ∞è\tÂÆåÊï¥ÂØπË±° ÊúÄÈÄÇÂêà\tÂàÜÊûêÔºåÂ§ßÊï∞ÊçÆ\tÈÄöÁî®Â∫èÂàóÂåñ  ","version":"0.14","tagName":"h2"},{"title":"Áõ∏ÂÖ≥‰∏ªÈ¢ò‚Äã","type":1,"pageTitle":"Ë°åÊ†ºÂºè","url":"/zh-CN/docs/0.14/guide/rust/row_format#Áõ∏ÂÖ≥‰∏ªÈ¢ò","content":" Âü∫Á°ÄÂ∫èÂàóÂåñ - ÂØπË±°ÂõæÂ∫èÂàóÂåñË∑®ËØ≠Ë®Ä - Ë∑®ËØ≠Ë®ÄÁöÑË°åÊ†ºÂºèË°åÊ†ºÂºèËßÑËåÉ - ÂçèËÆÆÁªÜËäÇ ","version":"0.14","tagName":"h2"},{"title":"Trait ÂØπË±°Â∫èÂàóÂåñ","type":0,"sectionRef":"#","url":"/zh-CN/docs/0.14/guide/rust/polymorphism","content":"","keywords":"","version":"0.14"},{"title":"ÊîØÊåÅÁöÑ Trait ÂØπË±°Á±ªÂûã‚Äã","type":1,"pageTitle":"Trait ÂØπË±°Â∫èÂàóÂåñ","url":"/zh-CN/docs/0.14/guide/rust/polymorphism#ÊîØÊåÅÁöÑ-trait-ÂØπË±°Á±ªÂûã","content":" Box&lt;dyn Trait&gt; - Êã•ÊúâÊâÄÊúâÊùÉÁöÑ trait ÂØπË±°Rc&lt;dyn Trait&gt; - ÂºïÁî®ËÆ°Êï∞ trait ÂØπË±°Arc&lt;dyn Trait&gt; - Á∫øÁ®ãÂÆâÂÖ®ÂºïÁî®ËÆ°Êï∞ trait ÂØπË±°Vec&lt;Box&lt;dyn Trait&gt;&gt;„ÄÅHashMap&lt;K, Box&lt;dyn Trait&gt;&gt; - trait ÂØπË±°ÈõÜÂêà  ","version":"0.14","tagName":"h2"},{"title":"Âü∫Á°Ä Trait ÂØπË±°Â∫èÂàóÂåñ‚Äã","type":1,"pageTitle":"Trait ÂØπË±°Â∫èÂàóÂåñ","url":"/zh-CN/docs/0.14/guide/rust/polymorphism#Âü∫Á°Ä-trait-ÂØπË±°Â∫èÂàóÂåñ","content":" use fory::{Fory, register_trait_type}; use fory::Serializer; use fory::ForyObject; trait Animal: Serializer { fn speak(&amp;self) -&gt; String; fn name(&amp;self) -&gt; &amp;str; } #[derive(ForyObject)] struct Dog { name: String, breed: String } impl Animal for Dog { fn speak(&amp;self) -&gt; String { &quot;Woof!&quot;.to_string() } fn name(&amp;self) -&gt; &amp;str { &amp;self.name } } #[derive(ForyObject)] struct Cat { name: String, color: String } impl Animal for Cat { fn speak(&amp;self) -&gt; String { &quot;Meow!&quot;.to_string() } fn name(&amp;self) -&gt; &amp;str { &amp;self.name } } // Ê≥®ÂÜå trait ÂÆûÁé∞ register_trait_type!(Animal, Dog, Cat); #[derive(ForyObject)] struct Zoo { star_animal: Box&lt;dyn Animal&gt;, } let mut fory = Fory::default().compatible(true); fory.register::&lt;Dog&gt;(100); fory.register::&lt;Cat&gt;(101); fory.register::&lt;Zoo&gt;(102); let zoo = Zoo { star_animal: Box::new(Dog { name: &quot;Buddy&quot;.to_string(), breed: &quot;Labrador&quot;.to_string(), }), }; let bytes = fory.serialize(&amp;zoo); let decoded: Zoo = fory.deserialize(&amp;bytes)?; assert_eq!(decoded.star_animal.name(), &quot;Buddy&quot;); assert_eq!(decoded.star_animal.speak(), &quot;Woof!&quot;);   ","version":"0.14","tagName":"h2"},{"title":"Â∫èÂàóÂåñ dyn Any Trait ÂØπË±°‚Äã","type":1,"pageTitle":"Trait ÂØπË±°Â∫èÂàóÂåñ","url":"/zh-CN/docs/0.14/guide/rust/polymorphism#Â∫èÂàóÂåñ-dyn-any-trait-ÂØπË±°","content":" Apache Fory‚Ñ¢ ÊîØÊåÅÂ∫èÂàóÂåñ Rc&lt;dyn Any&gt; Âíå Arc&lt;dyn Any&gt; ‰ª•ÂÆûÁé∞ËøêË°åÊó∂Á±ªÂûãÂàÜÂèëÔºö  Ë¶ÅÁÇπÔºö  ÈÄÇÁî®‰∫é‰ªª‰ΩïÂÆûÁé∞ Serializer ÁöÑÁ±ªÂûãÂèçÂ∫èÂàóÂåñÂêéÈúÄË¶ÅÂêë‰∏ãËΩ¨Âûã‰ª•ËÆøÈóÆÂÖ∑‰ΩìÁ±ªÂûãÂ∫èÂàóÂåñÊúüÈó¥‰øùÁïôÁ±ªÂûã‰ø°ÊÅØÂØπÊèí‰ª∂Á≥ªÁªüÂíåÂä®ÊÄÅÁ±ªÂûãÂ§ÑÁêÜÂæàÊúâÁî®  use std::rc::Rc; use std::any::Any; let dog_rc: Rc&lt;dyn Animal&gt; = Rc::new(Dog { name: &quot;Rex&quot;.to_string(), breed: &quot;Golden&quot;.to_string() }); // ËΩ¨Êç¢‰∏∫ Rc&lt;dyn Any&gt; ‰ª•ËøõË°åÂ∫èÂàóÂåñ let dog_any: Rc&lt;dyn Any&gt; = dog_rc.clone(); // Â∫èÂàóÂåñ Any ÂåÖË£ÖÂô® let bytes = fory.serialize(&amp;dog_any); let decoded: Rc&lt;dyn Any&gt; = fory.deserialize(&amp;bytes)?; // Âêë‰∏ãËΩ¨ÂûãÂõûÂÖ∑‰ΩìÁ±ªÂûã let unwrapped = decoded.downcast_ref::&lt;Dog&gt;().unwrap(); assert_eq!(unwrapped.name, &quot;Rex&quot;);   ÂØπ‰∫éÁ∫øÁ®ãÂÆâÂÖ®Âú∫ÊôØÔºå‰ΩøÁî® Arc&lt;dyn Any&gt;Ôºö  use std::sync::Arc; use std::any::Any; let dog_arc: Arc&lt;dyn Animal&gt; = Arc::new(Dog { name: &quot;Buddy&quot;.to_string(), breed: &quot;Labrador&quot;.to_string() }); // ËΩ¨Êç¢‰∏∫ Arc&lt;dyn Any&gt; let dog_any: Arc&lt;dyn Any&gt; = dog_arc.clone(); let bytes = fory.serialize(&amp;dog_any); let decoded: Arc&lt;dyn Any&gt; = fory.deserialize(&amp;bytes)?; // Âêë‰∏ãËΩ¨Âûã‰∏∫ÂÖ∑‰ΩìÁ±ªÂûã let unwrapped = decoded.downcast_ref::&lt;Dog&gt;().unwrap(); assert_eq!(unwrapped.name, &quot;Buddy&quot;);   ","version":"0.14","tagName":"h2"},{"title":"ÁªìÊûÑ‰Ωì‰∏≠Âü∫‰∫é Rc/Arc ÁöÑ Trait ÂØπË±°‚Äã","type":1,"pageTitle":"Trait ÂØπË±°Â∫èÂàóÂåñ","url":"/zh-CN/docs/0.14/guide/rust/polymorphism#ÁªìÊûÑ‰Ωì‰∏≠Âü∫‰∫é-rcarc-ÁöÑ-trait-ÂØπË±°","content":" ÂØπ‰∫éÂÖ∑Êúâ Rc&lt;dyn Trait&gt; Êàñ Arc&lt;dyn Trait&gt; ÁöÑÂ≠óÊÆµÔºåFory Ëá™Âä®Â§ÑÁêÜËΩ¨Êç¢Ôºö  use std::sync::Arc; use std::rc::Rc; use std::collections::HashMap; #[derive(ForyObject)] struct AnimalShelter { animals_rc: Vec&lt;Rc&lt;dyn Animal&gt;&gt;, animals_arc: Vec&lt;Arc&lt;dyn Animal&gt;&gt;, registry: HashMap&lt;String, Arc&lt;dyn Animal&gt;&gt;, } let mut fory = Fory::default().compatible(true); fory.register::&lt;Dog&gt;(100); fory.register::&lt;Cat&gt;(101); fory.register::&lt;AnimalShelter&gt;(102); let shelter = AnimalShelter { animals_rc: vec![ Rc::new(Dog { name: &quot;Rex&quot;.to_string(), breed: &quot;Golden&quot;.to_string() }), Rc::new(Cat { name: &quot;Mittens&quot;.to_string(), color: &quot;Gray&quot;.to_string() }), ], animals_arc: vec![ Arc::new(Dog { name: &quot;Buddy&quot;.to_string(), breed: &quot;Labrador&quot;.to_string() }), ], registry: HashMap::from([ (&quot;pet1&quot;.to_string(), Arc::new(Dog { name: &quot;Max&quot;.to_string(), breed: &quot;Shepherd&quot;.to_string() }) as Arc&lt;dyn Animal&gt;), ]), }; let bytes = fory.serialize(&amp;shelter); let decoded: AnimalShelter = fory.deserialize(&amp;bytes)?; assert_eq!(decoded.animals_rc[0].name(), &quot;Rex&quot;); assert_eq!(decoded.animals_arc[0].speak(), &quot;Woof!&quot;);   ","version":"0.14","tagName":"h2"},{"title":"Áã¨Á´ã Trait ÂØπË±°Â∫èÂàóÂåñ‚Äã","type":1,"pageTitle":"Trait ÂØπË±°Â∫èÂàóÂåñ","url":"/zh-CN/docs/0.14/guide/rust/polymorphism#Áã¨Á´ã-trait-ÂØπË±°Â∫èÂàóÂåñ","content":" Áî±‰∫é Rust ÁöÑÂ≠§ÂÑøËßÑÂàôÔºåRc&lt;dyn Trait&gt; Âíå Arc&lt;dyn Trait&gt; ‰∏çËÉΩÁõ¥Êé•ÂÆûÁé∞ Serializer„ÄÇÂØπ‰∫éÁã¨Á´ãÂ∫èÂàóÂåñÔºà‰∏çÂú®ÁªìÊûÑ‰ΩìÂ≠óÊÆµÂÜÖÔºâÔºåregister_trait_type! ÂÆèÁîüÊàêÂåÖË£ÖÁ±ªÂûã„ÄÇ  Ê≥®ÊÑèÔºö Â¶ÇÊûú‰∏çÊÉ≥‰ΩøÁî®ÂåÖË£ÖÁ±ªÂûãÔºåÂèØ‰ª•Êîπ‰∏∫Â∫èÂàóÂåñ‰∏∫ Rc&lt;dyn Any&gt; Êàñ Arc&lt;dyn Any&gt;ÔºàÂèÇËßÅ‰∏äÈù¢ÁöÑ dyn Any ÈÉ®ÂàÜÔºâ„ÄÇ  register_trait_type! ÂÆèÁîüÊàê AnimalRc Âíå AnimalArc ÂåÖË£ÖÁ±ªÂûãÔºö  // ÂØπ‰∫é Rc&lt;dyn Trait&gt; let dog_rc: Rc&lt;dyn Animal&gt; = Rc::new(Dog { name: &quot;Rex&quot;.to_string(), breed: &quot;Golden&quot;.to_string() }); let wrapper = AnimalRc::from(dog_rc); let bytes = fory.serialize(&amp;wrapper); let decoded: AnimalRc = fory.deserialize(&amp;bytes)?; // Ëß£ÂåÖÂõû Rc&lt;dyn Animal&gt; let unwrapped: Rc&lt;dyn Animal&gt; = decoded.unwrap(); assert_eq!(unwrapped.name(), &quot;Rex&quot;); // ÂØπ‰∫é Arc&lt;dyn Trait&gt; let dog_arc: Arc&lt;dyn Animal&gt; = Arc::new(Dog { name: &quot;Buddy&quot;.to_string(), breed: &quot;Labrador&quot;.to_string() }); let wrapper = AnimalArc::from(dog_arc); let bytes = fory.serialize(&amp;wrapper); let decoded: AnimalArc = fory.deserialize(&amp;bytes)?; let unwrapped: Arc&lt;dyn Animal&gt; = decoded.unwrap(); assert_eq!(unwrapped.name(), &quot;Buddy&quot;);   ","version":"0.14","tagName":"h2"},{"title":"ÊúÄ‰Ω≥ÂÆûË∑µ‚Äã","type":1,"pageTitle":"Trait ÂØπË±°Â∫èÂàóÂåñ","url":"/zh-CN/docs/0.14/guide/rust/polymorphism#ÊúÄ‰Ω≥ÂÆûË∑µ","content":" ‰ΩøÁî® register_trait_type! Ê≥®ÂÜåÊâÄÊúâ trait ÂÆûÁé∞ÂêØÁî® compatible Ê®°ÂºèÔºöÂØπ trait ÂØπË±°‰ΩøÁî® .compatible(true)Ê≥®ÂÜåÊâÄÊúâÂÖ∑‰ΩìÁ±ªÂûãÔºöÂú®Â∫èÂàóÂåñ‰πãÂâç‰ºòÂÖà‰ΩøÁî® dyn AnyÔºöÂØπ‰∫éÊõ¥ÁÆÄÂçïÁöÑÁã¨Á´ãÂ∫èÂàóÂåñ  ","version":"0.14","tagName":"h2"},{"title":"Áõ∏ÂÖ≥‰∏ªÈ¢ò‚Äã","type":1,"pageTitle":"Trait ÂØπË±°Â∫èÂàóÂåñ","url":"/zh-CN/docs/0.14/guide/rust/polymorphism#Áõ∏ÂÖ≥‰∏ªÈ¢ò","content":" ÂºïÁî® - Rc/Arc ÂÖ±‰∫´ÂºïÁî®Schema ÊºîÂåñ - Compatible Ê®°ÂºèÁ±ªÂûãÊ≥®ÂÜå - Ê≥®ÂÜåÁ±ªÂûã ","version":"0.14","tagName":"h2"},{"title":"ÂÖ±‰∫´ÂíåÂæ™ÁéØÂºïÁî®","type":0,"sectionRef":"#","url":"/zh-CN/docs/0.14/guide/rust/references","content":"","keywords":"","version":"0.14"},{"title":"ÂÖ±‰∫´ÂºïÁî®‚Äã","type":1,"pageTitle":"ÂÖ±‰∫´ÂíåÂæ™ÁéØÂºïÁî®","url":"/zh-CN/docs/0.14/guide/rust/references#ÂÖ±‰∫´ÂºïÁî®","content":" ÂΩìÂêå‰∏ÄÂØπË±°Ë¢´Â§öÊ¨°ÂºïÁî®Êó∂ÔºåFory ‰ªÖÂ∫èÂàóÂåñ‰∏ÄÊ¨°ÔºåÂπ∂ÂØπÂêéÁª≠Âá∫Áé∞‰ΩøÁî®ÂºïÁî® ID„ÄÇËøôÁ°Æ‰øù‰∫ÜÔºö  Á©∫Èó¥ÊïàÁéáÔºöÂ∫èÂàóÂåñËæìÂá∫‰∏≠Êó†Êï∞ÊçÆÈáçÂ§çÂºïÁî®Ë∫´‰ªΩ‰øùÁïôÔºöÂèçÂ∫èÂàóÂåñÁöÑÂØπË±°‰øùÊåÅÁõ∏ÂêåÁöÑÂÖ±‰∫´ÂÖ≥Á≥ªÂæ™ÁéØÂºïÁî®ÊîØÊåÅÔºö‰ΩøÁî® RcWeak&lt;T&gt; Âíå ArcWeak&lt;T&gt; ÊâìÁ†¥Âæ™ÁéØ  ","version":"0.14","tagName":"h2"},{"title":"‰ΩøÁî® Rc ÁöÑÂÖ±‰∫´ÂºïÁî®‚Äã","type":1,"pageTitle":"ÂÖ±‰∫´ÂíåÂæ™ÁéØÂºïÁî®","url":"/zh-CN/docs/0.14/guide/rust/references#‰ΩøÁî®-rc-ÁöÑÂÖ±‰∫´ÂºïÁî®","content":" use fory::Fory; use std::rc::Rc; let fory = Fory::default(); // ÂàõÂª∫ÂÖ±‰∫´ÂÄº let shared = Rc::new(String::from(&quot;shared_value&quot;)); // Â§öÊ¨°ÂºïÁî®ÂÆÉ let data = vec![shared.clone(), shared.clone(), shared.clone()]; // ÂÖ±‰∫´ÂÄº‰ªÖÂ∫èÂàóÂåñ‰∏ÄÊ¨° let bytes = fory.serialize(&amp;data); let decoded: Vec&lt;Rc&lt;String&gt;&gt; = fory.deserialize(&amp;bytes)?; // È™åËØÅÂºïÁî®Ë∫´‰ªΩË¢´‰øùÁïô assert_eq!(decoded.len(), 3); assert_eq!(*decoded[0], &quot;shared_value&quot;); // ÊâÄÊúâ‰∏â‰∏™ Rc ÊåáÈíàÊåáÂêëÂêå‰∏ÄÂØπË±° assert!(Rc::ptr_eq(&amp;decoded[0], &amp;decoded[1])); assert!(Rc::ptr_eq(&amp;decoded[1], &amp;decoded[2]));   ","version":"0.14","tagName":"h3"},{"title":"‰ΩøÁî® Arc ÁöÑÂÖ±‰∫´ÂºïÁî®‚Äã","type":1,"pageTitle":"ÂÖ±‰∫´ÂíåÂæ™ÁéØÂºïÁî®","url":"/zh-CN/docs/0.14/guide/rust/references#‰ΩøÁî®-arc-ÁöÑÂÖ±‰∫´ÂºïÁî®","content":" ÂØπ‰∫éÁ∫øÁ®ãÂÆâÂÖ®ÁöÑÂÖ±‰∫´ÂºïÁî®Ôºå‰ΩøÁî® Arc&lt;T&gt;Ôºö  use fory::Fory; use std::sync::Arc; let fory = Fory::default(); let shared = Arc::new(String::from(&quot;shared_value&quot;)); let data = vec![shared.clone(), shared.clone()]; let bytes = fory.serialize(&amp;data); let decoded: Vec&lt;Arc&lt;String&gt;&gt; = fory.deserialize(&amp;bytes)?; assert!(Arc::ptr_eq(&amp;decoded[0], &amp;decoded[1]));   ","version":"0.14","tagName":"h3"},{"title":"‰ΩøÁî®Âº±ÊåáÈíàÁöÑÂæ™ÁéØÂºïÁî®‚Äã","type":1,"pageTitle":"ÂÖ±‰∫´ÂíåÂæ™ÁéØÂºïÁî®","url":"/zh-CN/docs/0.14/guide/rust/references#‰ΩøÁî®Âº±ÊåáÈíàÁöÑÂæ™ÁéØÂºïÁî®","content":" Ë¶ÅÂ∫èÂàóÂåñÁ±ª‰ººÁà∂Â≠êÂÖ≥Á≥ªÊàñÂèåÂêëÈìæË°®ÁªìÊûÑÁöÑÂæ™ÁéØÂºïÁî®Ôºå‰ΩøÁî® RcWeak&lt;T&gt; Êàñ ArcWeak&lt;T&gt; Êù•ÊâìÁ†¥Âæ™ÁéØ„ÄÇ  Â∑•‰ΩúÂéüÁêÜÔºö  Âº±ÊåáÈíàÂ∫èÂàóÂåñ‰∏∫ÂØπÂÖ∂ÁõÆÊ†áÂØπË±°ÁöÑÂºïÁî®Â¶ÇÊûúÂº∫ÊåáÈíàÂ∑≤Ë¢´‰∏¢ÂºÉÔºåÂº±ÊåáÈíàÂ∫èÂàóÂåñ‰∏∫ NullÂâçÂêëÂºïÁî®ÔºàÂº±ÊåáÈíàÂá∫Áé∞Âú®ÁõÆÊ†á‰πãÂâçÔºâÈÄöËøáÂõûË∞ÉËß£ÊûêÂº±ÊåáÈíàÁöÑÊâÄÊúâÂÖãÈöÜÂÖ±‰∫´Áõ∏ÂêåÁöÑÂÜÖÈÉ®ÂçïÂÖÉ‰ª•ËøõË°åËá™Âä®Êõ¥Êñ∞  ","version":"0.14","tagName":"h2"},{"title":"‰ΩøÁî® RcWeak ÁöÑÂæ™ÁéØÂºïÁî®‚Äã","type":1,"pageTitle":"ÂÖ±‰∫´ÂíåÂæ™ÁéØÂºïÁî®","url":"/zh-CN/docs/0.14/guide/rust/references#‰ΩøÁî®-rcweak-ÁöÑÂæ™ÁéØÂºïÁî®","content":" use fory::{Fory, Error}; use fory::ForyObject; use fory::RcWeak; use std::rc::Rc; use std::cell::RefCell; #[derive(ForyObject, Debug)] struct Node { value: i32, parent: RcWeak&lt;RefCell&lt;Node&gt;&gt;, children: Vec&lt;Rc&lt;RefCell&lt;Node&gt;&gt;&gt;, } let mut fory = Fory::default(); fory.register::&lt;Node&gt;(2000); // ÊûÑÂª∫Áà∂Â≠êÊ†ë let parent = Rc::new(RefCell::new(Node { value: 1, parent: RcWeak::new(), children: vec![], })); let child1 = Rc::new(RefCell::new(Node { value: 2, parent: RcWeak::from(&amp;parent), children: vec![], })); let child2 = Rc::new(RefCell::new(Node { value: 3, parent: RcWeak::from(&amp;parent), children: vec![], })); parent.borrow_mut().children.push(child1.clone()); parent.borrow_mut().children.push(child2.clone()); // Â∫èÂàóÂåñÂíåÂèçÂ∫èÂàóÂåñÂæ™ÁéØÁªìÊûÑ let bytes = fory.serialize(&amp;parent); let decoded: Rc&lt;RefCell&lt;Node&gt;&gt; = fory.deserialize(&amp;bytes)?; // È™åËØÅÂæ™ÁéØÂÖ≥Á≥ª assert_eq!(decoded.borrow().children.len(), 2); for child in &amp;decoded.borrow().children { let upgraded_parent = child.borrow().parent.upgrade().unwrap(); assert!(Rc::ptr_eq(&amp;decoded, &amp;upgraded_parent)); }   ","version":"0.14","tagName":"h3"},{"title":"‰ΩøÁî® Arc ÁöÑÁ∫øÁ®ãÂÆâÂÖ®Âæ™ÁéØÂõæ‚Äã","type":1,"pageTitle":"ÂÖ±‰∫´ÂíåÂæ™ÁéØÂºïÁî®","url":"/zh-CN/docs/0.14/guide/rust/references#‰ΩøÁî®-arc-ÁöÑÁ∫øÁ®ãÂÆâÂÖ®Âæ™ÁéØÂõæ","content":" use fory::{Fory, Error}; use fory::ForyObject; use fory::ArcWeak; use std::sync::{Arc, Mutex}; #[derive(ForyObject)] struct Node { val: i32, parent: ArcWeak&lt;Mutex&lt;Node&gt;&gt;, children: Vec&lt;Arc&lt;Mutex&lt;Node&gt;&gt;&gt;, } let mut fory = Fory::default(); fory.register::&lt;Node&gt;(6000); let parent = Arc::new(Mutex::new(Node { val: 10, parent: ArcWeak::new(), children: vec![], })); let child1 = Arc::new(Mutex::new(Node { val: 20, parent: ArcWeak::from(&amp;parent), children: vec![], })); let child2 = Arc::new(Mutex::new(Node { val: 30, parent: ArcWeak::from(&amp;parent), children: vec![], })); parent.lock().unwrap().children.push(child1.clone()); parent.lock().unwrap().children.push(child2.clone()); let bytes = fory.serialize(&amp;parent); let decoded: Arc&lt;Mutex&lt;Node&gt;&gt; = fory.deserialize(&amp;bytes)?; assert_eq!(decoded.lock().unwrap().children.len(), 2); for child in &amp;decoded.lock().unwrap().children { let upgraded_parent = child.lock().unwrap().parent.upgrade().unwrap(); assert!(Arc::ptr_eq(&amp;decoded, &amp;upgraded_parent)); }   ","version":"0.14","tagName":"h3"},{"title":"ÊîØÊåÅÁöÑÊô∫ËÉΩÊåáÈíàÁ±ªÂûã‚Äã","type":1,"pageTitle":"ÂÖ±‰∫´ÂíåÂæ™ÁéØÂºïÁî®","url":"/zh-CN/docs/0.14/guide/rust/references#ÊîØÊåÅÁöÑÊô∫ËÉΩÊåáÈíàÁ±ªÂûã","content":" Á±ªÂûã\tÊèèËø∞Rc&lt;T&gt;\tÂºïÁî®ËÆ°Êï∞ÔºåË∑üË∏™ÂÖ±‰∫´ÂºïÁî® Arc&lt;T&gt;\tÁ∫øÁ®ãÂÆâÂÖ®ÂºïÁî®ËÆ°Êï∞ÔºåË∑üË∏™ÂÖ±‰∫´ÂºïÁî® RcWeak&lt;T&gt;\tÊåáÂêë Rc&lt;T&gt; ÁöÑÂº±ÂºïÁî®ÔºåÊâìÁ†¥Âæ™ÁéØÂºïÁî® ArcWeak&lt;T&gt;\tÊåáÂêë Arc&lt;T&gt; ÁöÑÂº±ÂºïÁî®ÔºåÊâìÁ†¥Âæ™ÁéØÂºïÁî® RefCell&lt;T&gt;\tÂÜÖÈÉ®ÂèØÂèòÊÄßÔºåËøêË°åÊó∂ÂÄüÁî®Ê£ÄÊü• Mutex&lt;T&gt;\tÁ∫øÁ®ãÂÆâÂÖ®ÂÜÖÈÉ®ÂèØÂèòÊÄß  ","version":"0.14","tagName":"h2"},{"title":"ÊúÄ‰Ω≥ÂÆûË∑µ‚Äã","type":1,"pageTitle":"ÂÖ±‰∫´ÂíåÂæ™ÁéØÂºïÁî®","url":"/zh-CN/docs/0.14/guide/rust/references#ÊúÄ‰Ω≥ÂÆûË∑µ","content":" ‰ΩøÁî® Rc/Arc ÂÖ±‰∫´Êï∞ÊçÆÔºöËÆ© Fory Â§ÑÁêÜÂéªÈáç‰ΩøÁî®Âº±ÊåáÈíàÂ§ÑÁêÜÂæ™ÁéØÔºöÈò≤Ê≠¢Êó†ÈôêÈÄíÂΩíÂØπÁ∫øÁ®ãÂÆâÂÖ®Âú∫ÊôØ‰ºòÂÖà‰ΩøÁî® ArcÔºöÂΩìÊï∞ÊçÆË∑®Ë∂äÁ∫øÁ®ãËæπÁïåÊó∂‰∏é RefCell/Mutex ÁªìÂêà‰ΩøÁî®ÔºöÁî®‰∫éÂÜÖÈÉ®ÂèØÂèòÊÄß  ","version":"0.14","tagName":"h2"},{"title":"Áõ∏ÂÖ≥‰∏ªÈ¢ò‚Äã","type":1,"pageTitle":"ÂÖ±‰∫´ÂíåÂæ™ÁéØÂºïÁî®","url":"/zh-CN/docs/0.14/guide/rust/references#Áõ∏ÂÖ≥‰∏ªÈ¢ò","content":" Âü∫Á°ÄÂ∫èÂàóÂåñ - ÊîØÊåÅÁöÑÁ±ªÂûãÂ§öÊÄÅ - ‰ΩøÁî® Rc/Arc ÁöÑ Trait ÂØπË±°ÈÖçÁΩÆ - ÂºïÁî®Ë∑üË∏™ÈÄâÈ°π ","version":"0.14","tagName":"h2"},{"title":"Schema ÊºîÂåñ","type":0,"sectionRef":"#","url":"/zh-CN/docs/0.14/guide/rust/schema_evolution","content":"","keywords":"","version":"0.14"},{"title":"Compatible Ê®°Âºè‚Äã","type":1,"pageTitle":"Schema ÊºîÂåñ","url":"/zh-CN/docs/0.14/guide/rust/schema_evolution#compatible-Ê®°Âºè","content":" ‰ΩøÁî® compatible(true) ÂêØÁî® schema ÊºîÂåñÔºö  use fory::Fory; use fory::ForyObject; use std::collections::HashMap; #[derive(ForyObject, Debug)] struct PersonV1 { name: String, age: i32, address: String, } #[derive(ForyObject, Debug)] struct PersonV2 { name: String, age: i32, // address Â∑≤ÁßªÈô§ // phone Â∑≤Ê∑ªÂä† phone: Option&lt;String&gt;, metadata: HashMap&lt;String, String&gt;, } let mut fory1 = Fory::default().compatible(true); fory1.register::&lt;PersonV1&gt;(1); let mut fory2 = Fory::default().compatible(true); fory2.register::&lt;PersonV2&gt;(1); let person_v1 = PersonV1 { name: &quot;Alice&quot;.to_string(), age: 30, address: &quot;123 Main St&quot;.to_string(), }; // ‰ΩøÁî® V1 Â∫èÂàóÂåñ let bytes = fory1.serialize(&amp;person_v1); // ‰ΩøÁî® V2 ÂèçÂ∫èÂàóÂåñ - Áº∫Â§±ÁöÑÂ≠óÊÆµËé∑ÂæóÈªòËÆ§ÂÄº let person_v2: PersonV2 = fory2.deserialize(&amp;bytes)?; assert_eq!(person_v2.name, &quot;Alice&quot;); assert_eq!(person_v2.age, 30); assert_eq!(person_v2.phone, None);   ","version":"0.14","tagName":"h2"},{"title":"Schema ÊºîÂåñÂäüËÉΩ‚Äã","type":1,"pageTitle":"Schema ÊºîÂåñ","url":"/zh-CN/docs/0.14/guide/rust/schema_evolution#schema-ÊºîÂåñÂäüËÉΩ","content":" Ê∑ªÂä†ÂÖ∑ÊúâÈªòËÆ§ÂÄºÁöÑÊñ∞Â≠óÊÆµÁßªÈô§ËøáÊó∂Â≠óÊÆµÔºàÂú®ÂèçÂ∫èÂàóÂåñÊúüÈó¥Ë∑≥ËøáÔºâÊõ¥ÊîπÂ≠óÊÆµÂèØÁ©∫ÊÄßÔºàT ‚Üî Option&lt;T&gt;ÔºâÈáçÊñ∞ÊéíÂ∫èÂ≠óÊÆµÔºàÊåâÂêçÁß∞ÂåπÈÖçÔºåËÄåÈùû‰ΩçÁΩÆÔºâÂØπÁº∫Â§±Â≠óÊÆµÁöÑÁ±ªÂûãÂÆâÂÖ®ÂõûÈÄÄÂà∞ÈªòËÆ§ÂÄº  ","version":"0.14","tagName":"h2"},{"title":"ÂÖºÂÆπÊÄßËßÑÂàô‚Äã","type":1,"pageTitle":"Schema ÊºîÂåñ","url":"/zh-CN/docs/0.14/guide/rust/schema_evolution#ÂÖºÂÆπÊÄßËßÑÂàô","content":" Â≠óÊÆµÂêçÁß∞ÂøÖÈ°ªÂåπÈÖçÔºàÂå∫ÂàÜÂ§ßÂ∞èÂÜôÔºâ‰∏çÊîØÊåÅÁ±ªÂûãÊõ¥ÊîπÔºàÂèØÁ©∫/ÈùûÂèØÁ©∫Èô§Â§ñÔºâÂµåÂ•óÁªìÊûÑ‰ΩìÁ±ªÂûãÂøÖÈ°ªÂú®‰∏§Á´ØÈÉΩÊ≥®ÂÜå  ","version":"0.14","tagName":"h2"},{"title":"Êûö‰∏æÊîØÊåÅ‚Äã","type":1,"pageTitle":"Schema ÊºîÂåñ","url":"/zh-CN/docs/0.14/guide/rust/schema_evolution#Êûö‰∏æÊîØÊåÅ","content":" Apache Fory‚Ñ¢ ÊîØÊåÅ‰∏âÁßçÁ±ªÂûãÁöÑÊûö‰∏æÂèò‰ΩìÔºåÂú® Compatible Ê®°Âºè‰∏ãÂÖ∑ÊúâÂÆåÊï¥ÁöÑ schema ÊºîÂåñÊîØÊåÅÔºö  Âèò‰ΩìÁ±ªÂûãÔºö  UnitÔºöC È£éÊ†ºÊûö‰∏æÔºàStatus::ActiveÔºâUnnamedÔºöÂÖÉÁªÑÈ£éÊ†ºÂèò‰ΩìÔºàMessage::Pair(String, i32)ÔºâNamedÔºöÁªìÊûÑ‰ΩìÈ£éÊ†ºÂèò‰ΩìÔºàEvent::Click { x: i32, y: i32 }Ôºâ  use fory::{Fory, ForyObject}; #[derive(Default, ForyObject, Debug, PartialEq)] enum Value { #[default] Null, Bool(bool), Number(f64), Text(String), Object { name: String, value: i32 }, } let mut fory = Fory::default(); fory.register::&lt;Value&gt;(1)?; let value = Value::Object { name: &quot;score&quot;.to_string(), value: 100 }; let bytes = fory.serialize(&amp;value)?; let decoded: Value = fory.deserialize(&amp;bytes)?; assert_eq!(value, decoded);   ","version":"0.14","tagName":"h2"},{"title":"Êûö‰∏æ Schema ÊºîÂåñ‚Äã","type":1,"pageTitle":"Schema ÊºîÂåñ","url":"/zh-CN/docs/0.14/guide/rust/schema_evolution#Êûö‰∏æ-schema-ÊºîÂåñ","content":" Compatible Ê®°ÂºèÈÄöËøáÂèò‰ΩìÁ±ªÂûãÁºñÁ†ÅÔºà2 ‰ΩçÔºâÂÆûÁé∞Âº∫Â§ßÁöÑ schema ÊºîÂåñÔºö  0b0 = UnitÔºå0b1 = UnnamedÔºå0b10 = Named  use fory::{Fory, ForyObject}; // ÊóßÁâàÊú¨ #[derive(ForyObject)] enum OldEvent { Click { x: i32, y: i32 }, Scroll { delta: f64 }, } // Êñ∞ÁâàÊú¨ - Ê∑ªÂä†‰∫ÜÂ≠óÊÆµÂíåÂèò‰Ωì #[derive(Default, ForyObject)] enum NewEvent { #[default] Unknown, Click { x: i32, y: i32, timestamp: u64 }, // Ê∑ªÂä†‰∫ÜÂ≠óÊÆµ Scroll { delta: f64 }, KeyPress(String), // Êñ∞Âèò‰Ωì } let mut fory = Fory::builder().compatible().build(); // ‰ΩøÁî®Êóß schema Â∫èÂàóÂåñ let old_bytes = fory.serialize(&amp;OldEvent::Click { x: 100, y: 200 })?; // ‰ΩøÁî®Êñ∞ schema ÂèçÂ∫èÂàóÂåñ - timestamp Ëé∑ÂæóÈªòËÆ§ÂÄº (0) let new_event: NewEvent = fory.deserialize(&amp;old_bytes)?; assert!(matches!(new_event, NewEvent::Click { x: 100, y: 200, timestamp: 0 }));   ÊºîÂåñËÉΩÂäõÔºö  Êú™Áü•Âèò‰Ωì ‚Üí ÂõûÈÄÄÂà∞ÈªòËÆ§Âèò‰ΩìNamed Âèò‰ΩìÂ≠óÊÆµ ‚Üí Ê∑ªÂä†/ÁßªÈô§Â≠óÊÆµÔºàÁº∫Â§±Â≠óÊÆµ‰ΩøÁî®ÈªòËÆ§ÂÄºÔºâUnnamed Âèò‰ΩìÂÖÉÁ¥† ‚Üí Ê∑ªÂä†/ÁßªÈô§ÂÖÉÁ¥†ÔºàÈ¢ùÂ§ñÁöÑË∑≥ËøáÔºåÁº∫Â§±ÁöÑ‰ΩøÁî®ÈªòËÆ§ÂÄºÔºâÂèò‰ΩìÁ±ªÂûã‰∏çÂåπÈÖç ‚Üí Ëá™Âä®‰ΩøÁî®ÂΩìÂâçÂèò‰ΩìÁöÑÈªòËÆ§ÂÄº  ÊúÄ‰Ω≥ÂÆûË∑µÔºö  ÂßãÁªà‰ΩøÁî® #[default] Ê†áËÆ∞ÈªòËÆ§Âèò‰ΩìNamed Âèò‰ΩìÊØî unnamed Âèò‰ΩìÊèê‰æõÊõ¥Â•ΩÁöÑÊºîÂåñËÉΩÂäõÂØπË∑®ÁâàÊú¨ÈÄö‰ø°‰ΩøÁî® compatible Ê®°Âºè  ","version":"0.14","tagName":"h3"},{"title":"ÂÖÉÁªÑÊîØÊåÅ‚Äã","type":1,"pageTitle":"Schema ÊºîÂåñ","url":"/zh-CN/docs/0.14/guide/rust/schema_evolution#ÂÖÉÁªÑÊîØÊåÅ","content":" Apache Fory‚Ñ¢ Âú®ÂÖºÂÆπÂíåÈùûÂÖºÂÆπÊ®°Âºè‰∏ãÂùáÊîØÊåÅÊúÄÂ§ö 22 ‰∏™ÂÖÉÁ¥†ÁöÑÂÖÉÁªÑÔºåÂπ∂ÂÖ∑ÊúâÈ´òÊïàÁöÑÂ∫èÂàóÂåñ„ÄÇ  ÂäüËÉΩÔºö  ÂØπ 1 Âà∞ 22 ‰∏™ÂÖÉÁ¥†ÁöÑÂÖÉÁªÑËá™Âä®Â∫èÂàóÂåñÂºÇÊûÑÁ±ªÂûãÊîØÊåÅÔºàÊØè‰∏™ÂÖÉÁ¥†ÂèØ‰ª•ÊòØ‰∏çÂêåÁöÑÁ±ªÂûãÔºâCompatible Ê®°Âºè‰∏ãÁöÑ schema ÊºîÂåñÔºàÂ§ÑÁêÜÁº∫Â§±/È¢ùÂ§ñÂÖÉÁ¥†Ôºâ  Â∫èÂàóÂåñÊ®°ÂºèÔºö  ÈùûÂÖºÂÆπÊ®°ÂºèÔºöÊåâÈ°∫Â∫èÂ∫èÂàóÂåñÂÖÉÁ¥†Ôºå‰∏ç‰ΩøÁî®ÈõÜÂêàÂ§¥ÈÉ®Ôºå‰ª•ÂÆûÁé∞ÊúÄÂ∞èÂºÄÈîÄCompatible Ê®°ÂºèÔºö‰ΩøÁî®Â∏¶ÊúâÁ±ªÂûãÂÖÉÊï∞ÊçÆÁöÑÈõÜÂêàÂçèËÆÆ‰ª•ÊîØÊåÅ schema ÊºîÂåñ  use fory::{Fory, Error}; let mut fory = Fory::default(); // ÂÖ∑ÊúâÂºÇÊûÑÁ±ªÂûãÁöÑÂÖÉÁªÑ let data: (i32, String, bool, Vec&lt;i32&gt;) = ( 42, &quot;hello&quot;.to_string(), true, vec![1, 2, 3], ); let bytes = fory.serialize(&amp;data)?; let decoded: (i32, String, bool, Vec&lt;i32&gt;) = fory.deserialize(&amp;bytes)?; assert_eq!(data, decoded);   ","version":"0.14","tagName":"h2"},{"title":"Áõ∏ÂÖ≥‰∏ªÈ¢ò‚Äã","type":1,"pageTitle":"Schema ÊºîÂåñ","url":"/zh-CN/docs/0.14/guide/rust/schema_evolution#Áõ∏ÂÖ≥‰∏ªÈ¢ò","content":" ÈÖçÁΩÆ - ÂêØÁî® compatible Ê®°ÂºèÂ§öÊÄÅ - ÂÖ∑Êúâ schema ÊºîÂåñÁöÑ Trait ÂØπË±°Ë∑®ËØ≠Ë®Ä - Ë∑®ËØ≠Ë®ÄÁöÑ schema ÊºîÂåñ ","version":"0.14","tagName":"h2"},{"title":"ÊïÖÈöúÊéíÈô§","type":0,"sectionRef":"#","url":"/zh-CN/docs/0.14/guide/rust/troubleshooting","content":"","keywords":"","version":"0.14"},{"title":"Â∏∏ËßÅÈóÆÈ¢ò‚Äã","type":1,"pageTitle":"ÊïÖÈöúÊéíÈô§","url":"/zh-CN/docs/0.14/guide/rust/troubleshooting#Â∏∏ËßÅÈóÆÈ¢ò","content":" ","version":"0.14","tagName":"h2"},{"title":"Á±ªÂûãÊ≥®ÂÜåË°®ÈîôËØØ‚Äã","type":1,"pageTitle":"ÊïÖÈöúÊéíÈô§","url":"/zh-CN/docs/0.14/guide/rust/troubleshooting#Á±ªÂûãÊ≥®ÂÜåË°®ÈîôËØØ","content":" ÈîôËØØÔºöTypeId ... not found in type_info registry  ÂéüÂõ†ÔºöËØ•Á±ªÂûã‰ªéÊú™Âú®ÂΩìÂâç Fory ÂÆû‰æã‰∏≠Ê≥®ÂÜå„ÄÇ  Ëß£ÂÜ≥ÊñπÊ°àÔºöÂú®Â∫èÂàóÂåñ‰πãÂâçÊ≥®ÂÜåÁ±ªÂûãÔºö  let mut fory = Fory::default(); fory.register::&lt;MyStruct&gt;(100)?; // ‰ΩøÁî®ÂâçÊ≥®ÂÜå   Á°ÆËÆ§Ôºö  ÊØè‰∏™ÂèØÂ∫èÂàóÂåñÁöÑÁªìÊûÑ‰ΩìÊàñ trait ÂÆûÁé∞ÈÉΩË∞ÉÁî® fory.register::&lt;T&gt;(type_id)Âú®ÂèçÂ∫èÂàóÂåñÁ´ØÈáçÁî®Áõ∏ÂêåÁöÑ ID  ","version":"0.14","tagName":"h3"},{"title":"Á±ªÂûã‰∏çÂåπÈÖçÈîôËØØ‚Äã","type":1,"pageTitle":"ÊïÖÈöúÊéíÈô§","url":"/zh-CN/docs/0.14/guide/rust/troubleshooting#Á±ªÂûã‰∏çÂåπÈÖçÈîôËØØ","content":" ÂéüÂõ†ÔºöÂ≠óÊÆµÁ±ªÂûã‰∏çÂÖºÂÆπÊàñ schema Â∑≤Êõ¥Êîπ„ÄÇ  Ëß£ÂÜ≥ÊñπÊ°àÔºö  ÂêØÁî® compatible Ê®°Âºè‰ª•ÊîØÊåÅ schema ÊºîÂåñÁ°Æ‰øùË∑®ÁâàÊú¨Â≠óÊÆµÁ±ªÂûãÂåπÈÖç  let fory = Fory::default().compatible(true);   ","version":"0.14","tagName":"h3"},{"title":"Ë∞ÉËØïÊäÄÊúØ‚Äã","type":1,"pageTitle":"ÊïÖÈöúÊéíÈô§","url":"/zh-CN/docs/0.14/guide/rust/troubleshooting#Ë∞ÉËØïÊäÄÊúØ","content":" ","version":"0.14","tagName":"h2"},{"title":"ÂêØÁî®ÈîôËØØÊó∂ Panic ‰ª•Ëé∑ÂèñÂõûÊ∫Ø‚Äã","type":1,"pageTitle":"ÊïÖÈöúÊéíÈô§","url":"/zh-CN/docs/0.14/guide/rust/troubleshooting#ÂêØÁî®ÈîôËØØÊó∂-panic-‰ª•Ëé∑ÂèñÂõûÊ∫Ø","content":" Âú® RUST_BACKTRACE=1 ÊóÅËæπÂàáÊç¢ FORY_PANIC_ON_ERROR=1ÔºåÂú®ÊûÑÈÄ†ÈîôËØØÁöÑÁ°ÆÂàá‰ΩçÁΩÆ panicÔºö  RUST_BACKTRACE=1 FORY_PANIC_ON_ERROR=1 cargo test --features tests   ‰πãÂêéÈáçÁΩÆËØ•ÂèòÈáè‰ª•ÈÅøÂÖç‰∏≠Ê≠¢Èù¢ÂêëÁî®Êà∑ÁöÑ‰ª£Á†ÅË∑ØÂæÑ„ÄÇ  ","version":"0.14","tagName":"h3"},{"title":"ÁªìÊûÑ‰ΩìÂ≠óÊÆµË∑üË∏™‚Äã","type":1,"pageTitle":"ÊïÖÈöúÊéíÈô§","url":"/zh-CN/docs/0.14/guide/rust/troubleshooting#ÁªìÊûÑ‰ΩìÂ≠óÊÆµË∑üË∏™","content":" Âú® #[derive(ForyObject)] ÊóÅËæπÊ∑ªÂä† #[fory(debug)] Â±ûÊÄß‰ª•ÂèëÂá∫Èí©Â≠êË∞ÉÁî®Ôºö  #[derive(ForyObject)] #[fory(debug)] struct MyStruct { field1: i32, field2: String, }   ‰ΩøÁî®Ë∞ÉËØïÈí©Â≠êÁºñËØëÂêéÔºåË∞ÉÁî®Ëøô‰∫õÂáΩÊï∞‰ª•ÊèíÂÖ•Ëá™ÂÆö‰πâÂõûË∞ÉÔºö  set_before_write_field_funcset_after_write_field_funcset_before_read_field_funcset_after_read_field_func  ÂΩì‰Ω†ÊÉ≥Ë¶ÅÊÅ¢Â§çÈªòËÆ§ÂÄºÊó∂Ôºå‰ΩøÁî® reset_struct_debug_hooks()„ÄÇ  ","version":"0.14","tagName":"h3"},{"title":"ËΩªÈáèÁ∫ßÊó•Âøó‚Äã","type":1,"pageTitle":"ÊïÖÈöúÊéíÈô§","url":"/zh-CN/docs/0.14/guide/rust/troubleshooting#ËΩªÈáèÁ∫ßÊó•Âøó","content":" Âú®Ê≤°ÊúâËá™ÂÆö‰πâÈí©Â≠êÁöÑÊÉÖÂÜµ‰∏ãÔºåÂêØÁî® ENABLE_FORY_DEBUG_OUTPUT=1 ‰ª•ÊâìÂç∞Â≠óÊÆµÁ∫ßËØª/ÂÜô‰∫ã‰ª∂Ôºö  ENABLE_FORY_DEBUG_OUTPUT=1 cargo test --features tests   ËøôÂú®Ë∞ÉÊü•ÂØπÈΩêÊàñÊ∏∏Ê†á‰∏çÂåπÈÖçÊó∂ÁâπÂà´ÊúâÁî®„ÄÇ  ","version":"0.14","tagName":"h3"},{"title":"Ê£ÄÊü•ÁîüÊàêÁöÑ‰ª£Á†Å‚Äã","type":1,"pageTitle":"ÊïÖÈöúÊéíÈô§","url":"/zh-CN/docs/0.14/guide/rust/troubleshooting#Ê£ÄÊü•ÁîüÊàêÁöÑ‰ª£Á†Å","content":" ‰ΩøÁî® cargo expand Ê£ÄÊü• Fory derive ÂÆèÁîüÊàêÁöÑ‰ª£Á†ÅÔºö  cargo expand --test mod $mod$::$file$ &gt; expanded.rs   ","version":"0.14","tagName":"h3"},{"title":"ËøêË°åÊµãËØï‚Äã","type":1,"pageTitle":"ÊïÖÈöúÊéíÈô§","url":"/zh-CN/docs/0.14/guide/rust/troubleshooting#ËøêË°åÊµãËØï","content":" ","version":"0.14","tagName":"h2"},{"title":"ËøêË°åÊâÄÊúâÊµãËØï‚Äã","type":1,"pageTitle":"ÊïÖÈöúÊéíÈô§","url":"/zh-CN/docs/0.14/guide/rust/troubleshooting#ËøêË°åÊâÄÊúâÊµãËØï","content":" cargo test --features tests   ","version":"0.14","tagName":"h3"},{"title":"ËøêË°åÁâπÂÆöÊµãËØï‚Äã","type":1,"pageTitle":"ÊïÖÈöúÊéíÈô§","url":"/zh-CN/docs/0.14/guide/rust/troubleshooting#ËøêË°åÁâπÂÆöÊµãËØï","content":" cargo test -p tests --test $test_file $test_method   ","version":"0.14","tagName":"h3"},{"title":"‰ΩøÁî®Ë∞ÉËØïËøêË°åÊµãËØï‚Äã","type":1,"pageTitle":"ÊïÖÈöúÊéíÈô§","url":"/zh-CN/docs/0.14/guide/rust/troubleshooting#‰ΩøÁî®Ë∞ÉËØïËøêË°åÊµãËØï","content":" RUST_BACKTRACE=1 FORY_PANIC_ON_ERROR=1 ENABLE_FORY_DEBUG_OUTPUT=1 \\ cargo test --test mod $dir$::$test_file::$test_method -- --nocapture   ","version":"0.14","tagName":"h3"},{"title":"ÊµãËØïÊó∂ÁöÑÂç´Áîü‚Äã","type":1,"pageTitle":"ÊïÖÈöúÊéíÈô§","url":"/zh-CN/docs/0.14/guide/rust/troubleshooting#ÊµãËØïÊó∂ÁöÑÂç´Áîü","content":" ‰∏Ä‰∫õÈõÜÊàêÊµãËØïÊúüÊúõ FORY_PANIC_ON_ERROR ‰øùÊåÅÊú™ËÆæÁΩÆÁä∂ÊÄÅ„ÄÇ‰ªÖÂú®ÈõÜ‰∏≠Ë∞ÉËØï‰ºöËØùÊó∂ÂØºÂá∫ÂÆÉÔºö  # ‰ªÖÁî®‰∫éÁâπÂÆöË∞ÉËØï FORY_PANIC_ON_ERROR=1 cargo test -p tests --test specific_test -- --nocapture # Ê≠£Â∏∏ÊµãËØïËøêË°åÔºà‰∏çÂú®ÈîôËØØÊó∂ panicÔºâ cargo test --features tests   ","version":"0.14","tagName":"h2"},{"title":"ÈîôËØØÂ§ÑÁêÜÊúÄ‰Ω≥ÂÆûË∑µ‚Äã","type":1,"pageTitle":"ÊïÖÈöúÊéíÈô§","url":"/zh-CN/docs/0.14/guide/rust/troubleshooting#ÈîôËØØÂ§ÑÁêÜÊúÄ‰Ω≥ÂÆûË∑µ","content":" ‰ºòÂÖà‰ΩøÁî® fory_core::error::Error ‰∏äÁöÑÈùôÊÄÅÊûÑÈÄ†ÂáΩÊï∞Ôºö  Error::type_mismatchError::invalid_dataError::unknown  ËøôÊ†∑ÂèØ‰ª•‰øùÊåÅËØäÊñ≠ÁöÑ‰∏ÄËá¥ÊÄßÔºåÂπ∂‰ΩøÈÄâÊã©ÊÄß panic Ê≠£Á°ÆÂ∑•‰Ωú„ÄÇ  ","version":"0.14","tagName":"h2"},{"title":"Âø´ÈÄüÂèÇËÄÉ‚Äã","type":1,"pageTitle":"ÊïÖÈöúÊéíÈô§","url":"/zh-CN/docs/0.14/guide/rust/troubleshooting#Âø´ÈÄüÂèÇËÄÉ","content":" ÁéØÂ¢ÉÂèòÈáè\tÁõÆÁöÑRUST_BACKTRACE=1\tÂêØÁî®Â†ÜÊ†àË∑üË∏™ FORY_PANIC_ON_ERROR=1\tÂú®ÈîôËØØ‰ΩçÁΩÆ panic ‰ª•Ë∞ÉËØï ENABLE_FORY_DEBUG_OUTPUT=1\tÊâìÂç∞Â≠óÊÆµÁ∫ßËØª/ÂÜô‰∫ã‰ª∂  ","version":"0.14","tagName":"h2"},{"title":"Áõ∏ÂÖ≥‰∏ªÈ¢ò‚Äã","type":1,"pageTitle":"ÊïÖÈöúÊéíÈô§","url":"/zh-CN/docs/0.14/guide/rust/troubleshooting#Áõ∏ÂÖ≥‰∏ªÈ¢ò","content":" ÈÖçÁΩÆ - Fory ÈÄâÈ°πÁ±ªÂûãÊ≥®ÂÜå - Ê≥®ÂÜåÊúÄ‰Ω≥ÂÆûË∑µSchema ÊºîÂåñ - Compatible Ê®°Âºè ","version":"0.14","tagName":"h2"},{"title":"Scala Â∫èÂàóÂåñÊåáÂçó","type":0,"sectionRef":"#","url":"/zh-CN/docs/0.14/guide/scala/","content":"","keywords":"","version":"0.14"},{"title":"ÁâπÊÄß‚Äã","type":1,"pageTitle":"Scala Â∫èÂàóÂåñÊåáÂçó","url":"/zh-CN/docs/0.14/guide/scala/#ÁâπÊÄß","content":" Fory Scala ÁªßÊâø‰∫Ü Fory Java ÁöÑÊâÄÊúâÁâπÊÄßÔºåÂπ∂Â¢ûÂä†‰∫Ü Scala ÁâπÂÆöÁöÑ‰ºòÂåñÔºö  È´òÊÄßËÉΩÔºöJIT ‰ª£Á†ÅÁîüÊàê„ÄÅÈõ∂Êã∑Ë¥ù„ÄÅÊØî‰º†ÁªüÂ∫èÂàóÂåñÂø´ 20-170 ÂÄçScala Á±ªÂûãÊîØÊåÅÔºö‰∏∫ case Á±ª„ÄÅÂçï‰æã„ÄÅÈõÜÂêà„ÄÅÂÖÉÁªÑ„ÄÅOption„ÄÅEither Êèê‰æõ‰ºòÂåñÁöÑÂ∫èÂàóÂåñÂô®ÈªòËÆ§ÂÄºÊîØÊåÅÔºöÂú® schema ÊºîÂåñÊúüÈó¥Ëá™Âä®Â§ÑÁêÜ Scala Á±ªÁöÑÈªòËÆ§ÂèÇÊï∞Âçï‰æã‰øùÊåÅÔºöobject Âçï‰æãÂú®ÂèçÂ∫èÂàóÂåñÂêé‰øùÊåÅÂºïÁî®Áõ∏Á≠âÊÄßSchema ÊºîÂåñÔºöÊîØÊåÅÁ±ª schema ÂèòÊõ¥ÁöÑÂâçÂêë/ÂêéÂêëÂÖºÂÆπÊÄß  Êü•Áúã Java ÁâπÊÄßËé∑ÂèñÂÆåÊï¥ÁâπÊÄßÂàóË°®„ÄÇ  ","version":"0.14","tagName":"h2"},{"title":"ÂÆâË£Ö‚Äã","type":1,"pageTitle":"Scala Â∫èÂàóÂåñÊåáÂçó","url":"/zh-CN/docs/0.14/guide/scala/#ÂÆâË£Ö","content":" ‰ΩøÁî® sbt Ê∑ªÂä†‰æùËµñÔºö  libraryDependencies += &quot;org.apache.fory&quot; %% &quot;fory-scala&quot; % &quot;0.14.1&quot;   ","version":"0.14","tagName":"h2"},{"title":"Âø´ÈÄüÂºÄÂßã‚Äã","type":1,"pageTitle":"Scala Â∫èÂàóÂåñÊåáÂçó","url":"/zh-CN/docs/0.14/guide/scala/#Âø´ÈÄüÂºÄÂßã","content":" import org.apache.fory.Fory import org.apache.fory.serializer.scala.ScalaSerializers case class Person(name: String, id: Long, github: String) case class Point(x: Int, y: Int, z: Int) object ScalaExample { // ÂàõÂª∫ÂêØÁî® Scala ‰ºòÂåñÁöÑ Fory val fory: Fory = Fory.builder() .withScalaOptimizationEnabled(true) .build() // ‰∏∫ Scala Ê≥®ÂÜå‰ºòÂåñÁöÑ Fory Â∫èÂàóÂåñÂô® ScalaSerializers.registerSerializers(fory) // Ê≥®ÂÜå‰Ω†ÁöÑÁ±ª fory.register(classOf[Person]) fory.register(classOf[Point]) def main(args: Array[String]): Unit = { val p = Person(&quot;Shawn Yang&quot;, 1, &quot;https://github.com/chaokunyang&quot;) println(fory.deserialize(fory.serialize(p))) println(fory.deserialize(fory.serialize(Point(1, 2, 3)))) } }   ","version":"0.14","tagName":"h2"},{"title":"ÊûÑÂª∫‰∫é Fory Java ‰πã‰∏ä‚Äã","type":1,"pageTitle":"Scala Â∫èÂàóÂåñÊåáÂçó","url":"/zh-CN/docs/0.14/guide/scala/#ÊûÑÂª∫‰∫é-fory-java-‰πã‰∏ä","content":" Fory Scala ÊûÑÂª∫Âú® Fory Java ‰πã‰∏ä„ÄÇÂ§ßÂ§öÊï∞ÈÖçÁΩÆÈÄâÈ°π„ÄÅÁâπÊÄßÂíåÊ¶ÇÂøµÈÉΩÁõ¥Êé•ÈÄÇÁî®‰∫é Scala„ÄÇËØ∑ÂèÇËÄÉ Java ÊñáÊ°£Ôºö  ÈÖçÁΩÆÈÄâÈ°π - ÊâÄÊúâ ForyBuilder ÈÄâÈ°πÂü∫Á°ÄÂ∫èÂàóÂåñ - Â∫èÂàóÂåñÊ®°ÂºèÂíå APIÁ±ªÂûãÊ≥®ÂÜå - Á±ªÊ≥®ÂÜåÂíåÂÆâÂÖ®ÊÄßSchema ÊºîÂåñ - ÂâçÂêë/ÂêéÂêëÂÖºÂÆπÊÄßËá™ÂÆö‰πâÂ∫èÂàóÂåñÂô® - ÂÆûÁé∞Ëá™ÂÆö‰πâÂ∫èÂàóÂåñÂô®ÂéãÁº© - Int„ÄÅlong Âíå string ÂéãÁº©ÊïÖÈöúÊéíÊü• - Â∏∏ËßÅÈóÆÈ¢òÂíåËß£ÂÜ≥ÊñπÊ°à  ","version":"0.14","tagName":"h2"},{"title":"Scala ÁâπÂÆöÊñáÊ°£‚Äã","type":1,"pageTitle":"Scala Â∫èÂàóÂåñÊåáÂçó","url":"/zh-CN/docs/0.14/guide/scala/#scala-ÁâπÂÆöÊñáÊ°£","content":" Fory ÂàõÂª∫ - Scala ÁâπÂÆöÁöÑ Fory ËÆæÁΩÆË¶ÅÊ±ÇÁ±ªÂûãÂ∫èÂàóÂåñ - Â∫èÂàóÂåñ Scala Á±ªÂûãÈªòËÆ§ÂÄº - Scala Á±ªÈªòËÆ§ÂÄºÊîØÊåÅ ","version":"0.14","tagName":"h2"},{"title":"Á±ªÂûãÊ≥®ÂÜå","type":0,"sectionRef":"#","url":"/zh-CN/docs/0.14/guide/rust/type_registration","content":"","keywords":"","version":"0.14"},{"title":"Êåâ ID Ê≥®ÂÜå‚Äã","type":1,"pageTitle":"Á±ªÂûãÊ≥®ÂÜå","url":"/zh-CN/docs/0.14/guide/rust/type_registration#Êåâ-id-Ê≥®ÂÜå","content":" ‰ΩøÁî®Êï∞Â≠ó ID Ê≥®ÂÜåÁ±ªÂûã‰ª•ÂÆûÁé∞Âø´ÈÄü„ÄÅÁ¥ßÂáëÁöÑÂ∫èÂàóÂåñÔºö  use fory::Fory; use fory::ForyObject; #[derive(ForyObject)] struct User { name: String, age: i32, } let mut fory = Fory::default(); fory.register::&lt;User&gt;(1)?; let user = User { name: &quot;Alice&quot;.to_string(), age: 30, }; let bytes = fory.serialize(&amp;user)?; let decoded: User = fory.deserialize(&amp;bytes)?;   ","version":"0.14","tagName":"h2"},{"title":"ÊåâÂëΩÂêçÁ©∫Èó¥Ê≥®ÂÜå‚Äã","type":1,"pageTitle":"Á±ªÂûãÊ≥®ÂÜå","url":"/zh-CN/docs/0.14/guide/rust/type_registration#ÊåâÂëΩÂêçÁ©∫Èó¥Ê≥®ÂÜå","content":" ‰∏∫‰∫ÜË∑®ËØ≠Ë®ÄÂÖºÂÆπÊÄßÔºå‰ΩøÁî®ÂëΩÂêçÁ©∫Èó¥ÂíåÁ±ªÂûãÂêçÁß∞Ê≥®ÂÜåÔºö  let mut fory = Fory::default() .compatible(true) .xlang(true); // ‰ΩøÁî®Âü∫‰∫éÂëΩÂêçÁ©∫Èó¥ÁöÑÂëΩÂêçÊ≥®ÂÜå fory.register_by_namespace::&lt;MyStruct&gt;(&quot;com.example&quot;, &quot;MyStruct&quot;);   ","version":"0.14","tagName":"h2"},{"title":"Ê≥®ÂÜåËá™ÂÆö‰πâÂ∫èÂàóÂåñÂô®‚Äã","type":1,"pageTitle":"Á±ªÂûãÊ≥®ÂÜå","url":"/zh-CN/docs/0.14/guide/rust/type_registration#Ê≥®ÂÜåËá™ÂÆö‰πâÂ∫èÂàóÂåñÂô®","content":" ÂØπ‰∫éÈúÄË¶ÅËá™ÂÆö‰πâÂ∫èÂàóÂåñÈÄªËæëÁöÑÁ±ªÂûãÔºö  let mut fory = Fory::default(); fory.register_serializer::&lt;CustomType&gt;(100);   ","version":"0.14","tagName":"h2"},{"title":"Ê≥®ÂÜåÈ°∫Â∫è‚Äã","type":1,"pageTitle":"Á±ªÂûãÊ≥®ÂÜå","url":"/zh-CN/docs/0.14/guide/rust/type_registration#Ê≥®ÂÜåÈ°∫Â∫è","content":" ÂΩì‰ΩøÁî®Ê≤°ÊúâÊòæÂºè ID ÁöÑÂü∫‰∫é ID ÁöÑÊ≥®ÂÜåÊó∂ÔºåÊ≥®ÂÜåÈ°∫Â∫èÂæàÈáçË¶Å„ÄÇÁ°Æ‰øùÂ∫èÂàóÂåñÂíåÂèçÂ∫èÂàóÂåñ‰πãÈó¥ÁöÑÊ≥®ÂÜåÈ°∫Â∫è‰∏ÄËá¥Ôºö  // Â∫èÂàóÂåñÂô®Á´Ø let mut fory = Fory::default(); fory.register::&lt;TypeA&gt;(1)?; fory.register::&lt;TypeB&gt;(2)?; fory.register::&lt;TypeC&gt;(3)?; // ÂèçÂ∫èÂàóÂåñÂô®Á´Ø - ÂøÖÈ°ª‰ΩøÁî®Áõ∏ÂêåÈ°∫Â∫è let mut fory = Fory::default(); fory.register::&lt;TypeA&gt;(1)?; fory.register::&lt;TypeB&gt;(2)?; fory.register::&lt;TypeC&gt;(3)?;   ","version":"0.14","tagName":"h2"},{"title":"Á∫øÁ®ãÂÆâÂÖ®Ê≥®ÂÜå‚Äã","type":1,"pageTitle":"Á±ªÂûãÊ≥®ÂÜå","url":"/zh-CN/docs/0.14/guide/rust/type_registration#Á∫øÁ®ãÂÆâÂÖ®Ê≥®ÂÜå","content":" Âú®ÁîüÊàêÁ∫øÁ®ã‰πãÂâçÊâßË°åÊâÄÊúâÊ≥®ÂÜåÔºö  use std::sync::Arc; use std::thread; let mut fory = Fory::default(); fory.register::&lt;User&gt;(1)?; fory.register::&lt;Order&gt;(2)?; // Áé∞Âú®ÂèØ‰ª•Âú®Á∫øÁ®ãÈó¥ÂÖ±‰∫´ let fory = Arc::new(fory); let handles: Vec&lt;_&gt; = (0..4) .map(|_| { let shared = Arc::clone(&amp;fory); thread::spawn(move || { // ‰ΩøÁî® fory ËøõË°åÂ∫èÂàóÂåñ }) }) .collect();   ","version":"0.14","tagName":"h2"},{"title":"ÊúÄ‰Ω≥ÂÆûË∑µ‚Äã","type":1,"pageTitle":"Á±ªÂûãÊ≥®ÂÜå","url":"/zh-CN/docs/0.14/guide/rust/type_registration#ÊúÄ‰Ω≥ÂÆûË∑µ","content":" ‰ΩøÁî®‰∏ÄËá¥ÁöÑ IDÔºöÂú®ÊâÄÊúâËØ≠Ë®Ä‰∏≠‰∏∫Áõ∏ÂêåÁ±ªÂûã‰ΩøÁî®Áõ∏ÂêåÁöÑÁ±ªÂûã ID ‰ª•ÂÆûÁé∞Ë∑®ËØ≠Ë®ÄÂÖºÂÆπÊÄßÂú®Á∫øÁ®ãÂåñ‰πãÂâçÊ≥®ÂÜåÔºöÂú®ÁîüÊàêÁ∫øÁ®ã‰πãÂâçÂÆåÊàêÊâÄÊúâÊ≥®ÂÜåÂØπ xlang ‰ΩøÁî®ÂëΩÂêçÁ©∫Èó¥Ôºö‰ΩøÁ±ªÂûãÂêçÁß∞Âú®ÂêÑËØ≠Ë®Ä‰πãÈó¥‰øùÊåÅ‰∏ÄËá¥ÊòæÂºè ID ‰ª•‰øùÊåÅÁ®≥ÂÆöÊÄßÔºöÂú®Áîü‰∫ßÁéØÂ¢É‰∏≠ÈÅøÂÖçËá™Âä®ÁîüÊàêÁöÑ ID  ","version":"0.14","tagName":"h2"},{"title":"Áõ∏ÂÖ≥‰∏ªÈ¢ò‚Äã","type":1,"pageTitle":"Á±ªÂûãÊ≥®ÂÜå","url":"/zh-CN/docs/0.14/guide/rust/type_registration#Áõ∏ÂÖ≥‰∏ªÈ¢ò","content":" ÈÖçÁΩÆ - Fory ÊûÑÂª∫Âô®ÈÄâÈ°πË∑®ËØ≠Ë®Ä - XLANG Ê®°ÂºèÊ≥®ÂÜåËá™ÂÆö‰πâÂ∫èÂàóÂåñÂô® - Ëá™ÂÆö‰πâÂ∫èÂàóÂåñ ","version":"0.14","tagName":"h2"},{"title":"Fory ÂàõÂª∫","type":0,"sectionRef":"#","url":"/zh-CN/docs/0.14/guide/scala/fory_creation","content":"","keywords":"","version":"0.14"},{"title":"Âü∫Á°ÄËÆæÁΩÆ‚Äã","type":1,"pageTitle":"Fory ÂàõÂª∫","url":"/zh-CN/docs/0.14/guide/scala/fory_creation#Âü∫Á°ÄËÆæÁΩÆ","content":" ‰ΩøÁî® Fory ËøõË°å Scala Â∫èÂàóÂåñÊó∂ÔºåÂøÖÈ°ªÔºö  ÈÄöËøá withScalaOptimizationEnabled(true) ÂêØÁî® Scala ‰ºòÂåñÈÄöËøá ScalaSerializers.registerSerializers(fory) Ê≥®ÂÜå Scala Â∫èÂàóÂåñÂô®  import org.apache.fory.Fory import org.apache.fory.serializer.scala.ScalaSerializers val fory = Fory.builder() .withScalaOptimizationEnabled(true) .build() // ‰∏∫ Scala Ê≥®ÂÜå‰ºòÂåñÁöÑ Fory Â∫èÂàóÂåñÂô® ScalaSerializers.registerSerializers(fory)   ","version":"0.14","tagName":"h2"},{"title":"Ê≥®ÂÜå Scala ÂÜÖÈÉ®Á±ªÂûã‚Äã","type":1,"pageTitle":"Fory ÂàõÂª∫","url":"/zh-CN/docs/0.14/guide/scala/fory_creation#Ê≥®ÂÜå-scala-ÂÜÖÈÉ®Á±ªÂûã","content":" Ê†πÊçÆÂ∫èÂàóÂåñÁöÑÂØπË±°Á±ªÂûãÔºåÂèØËÉΩÈúÄË¶ÅÊ≥®ÂÜå‰∏Ä‰∫õ Scala ÂÜÖÈÉ®Á±ªÂûãÔºö  fory.register(Class.forName(&quot;scala.Enumeration.Val&quot;))   ‰∏∫ÈÅøÂÖçËøôÁßçÊ≥®ÂÜåÔºåÂèØ‰ª•Á¶ÅÁî®Á±ªÊ≥®ÂÜåÔºö  val fory = Fory.builder() .withScalaOptimizationEnabled(true) .requireClassRegistration(false) .build()   Ê≥®ÊÑèÔºöÁ¶ÅÁî®Á±ªÊ≥®ÂÜåÂÖÅËÆ∏ÂèçÂ∫èÂàóÂåñÊú™Áü•Á±ªÂûã„ÄÇËøôÊõ¥Âä†ÁÅµÊ¥ªÔºå‰ΩÜÂ¶ÇÊûúÁ±ªÂåÖÂê´ÊÅ∂ÊÑè‰ª£Á†ÅÂèØËÉΩ‰∏çÂÆâÂÖ®„ÄÇ  ","version":"0.14","tagName":"h2"},{"title":"ÂºïÁî®Ë∑üË∏™‚Äã","type":1,"pageTitle":"Fory ÂàõÂª∫","url":"/zh-CN/docs/0.14/guide/scala/fory_creation#ÂºïÁî®Ë∑üË∏™","content":" Âæ™ÁéØÂºïÁî®Âú® Scala ‰∏≠ÂæàÂ∏∏ËßÅ„ÄÇÂ∫îËØ•‰ΩøÁî® withRefTracking(true) ÂêØÁî®ÂºïÁî®Ë∑üË∏™Ôºö  val fory = Fory.builder() .withScalaOptimizationEnabled(true) .withRefTracking(true) .build()   Ê≥®ÊÑèÔºöÂ¶ÇÊûú‰∏çÂêØÁî®ÂºïÁî®Ë∑üË∏™ÔºåÂú®Êüê‰∫õ Scala ÁâàÊú¨‰∏≠Â∫èÂàóÂåñ Scala Enumeration Êó∂ÂèØËÉΩ‰ºöÂá∫Áé∞ StackOverflowError„ÄÇ  ","version":"0.14","tagName":"h2"},{"title":"Á∫øÁ®ãÂÆâÂÖ®‚Äã","type":1,"pageTitle":"Fory ÂàõÂª∫","url":"/zh-CN/docs/0.14/guide/scala/fory_creation#Á∫øÁ®ãÂÆâÂÖ®","content":" Fory ÂÆû‰æãÁöÑÂàõÂª∫ÊàêÊú¨‰∏ç‰Ωé„ÄÇÂÆû‰æãÂ∫îËØ•Âú®Â§öÊ¨°Â∫èÂàóÂåñ‰πãÈó¥ÂÖ±‰∫´„ÄÇ  ","version":"0.14","tagName":"h2"},{"title":"ÂçïÁ∫øÁ®ã‰ΩøÁî®‚Äã","type":1,"pageTitle":"Fory ÂàõÂª∫","url":"/zh-CN/docs/0.14/guide/scala/fory_creation#ÂçïÁ∫øÁ®ã‰ΩøÁî®","content":" import org.apache.fory.Fory import org.apache.fory.serializer.scala.ScalaSerializers object ForyHolder { val fory: Fory = { val f = Fory.builder() .withScalaOptimizationEnabled(true) .build() ScalaSerializers.registerSerializers(f) f } }   ","version":"0.14","tagName":"h3"},{"title":"Â§öÁ∫øÁ®ã‰ΩøÁî®‚Äã","type":1,"pageTitle":"Fory ÂàõÂª∫","url":"/zh-CN/docs/0.14/guide/scala/fory_creation#Â§öÁ∫øÁ®ã‰ΩøÁî®","content":" ÂØπ‰∫éÂ§öÁ∫øÁ®ãÂ∫îÁî®Á®ãÂ∫èÔºå‰ΩøÁî® ThreadSafeForyÔºö  import org.apache.fory.ThreadSafeFory import org.apache.fory.ThreadLocalFory import org.apache.fory.serializer.scala.ScalaSerializers object ForyHolder { val fory: ThreadSafeFory = new ThreadLocalFory(classLoader =&gt; { val f = Fory.builder() .withScalaOptimizationEnabled(true) .withClassLoader(classLoader) .build() ScalaSerializers.registerSerializers(f) f }) }   ","version":"0.14","tagName":"h3"},{"title":"ÈÖçÁΩÆÈÄâÈ°π‚Äã","type":1,"pageTitle":"Fory ÂàõÂª∫","url":"/zh-CN/docs/0.14/guide/scala/fory_creation#ÈÖçÁΩÆÈÄâÈ°π","content":" Fory Java ÁöÑÊâÄÊúâÈÖçÁΩÆÈÄâÈ°πÈÉΩÂèØÁî®„ÄÇÊü•Áúã Java ÈÖçÁΩÆÈÄâÈ°πËé∑ÂèñÂÆåÊï¥ÂàóË°®„ÄÇ  Scala ÁöÑÂ∏∏Áî®ÈÄâÈ°πÔºö  import org.apache.fory.Fory import org.apache.fory.config.CompatibleMode import org.apache.fory.serializer.scala.ScalaSerializers val fory = Fory.builder() .withScalaOptimizationEnabled(true) // ‰∏∫Âæ™ÁéØÂºïÁî®ÂêØÁî®ÂºïÁî®Ë∑üË∏™ .withRefTracking(true) // ÂêØÁî® schema ÊºîÂåñÊîØÊåÅ .withCompatibleMode(CompatibleMode.COMPATIBLE) // ÂêØÁî®ÂºÇÊ≠•ÁºñËØë‰ª•Ëé∑ÂæóÊõ¥Â•ΩÁöÑÂêØÂä®ÊÄßËÉΩ .withAsyncCompilation(true) .build() ScalaSerializers.registerSerializers(fory)  ","version":"0.14","tagName":"h2"},{"title":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñÊåáÂçó","type":0,"sectionRef":"#","url":"/zh-CN/docs/0.14/guide/xlang/","content":"","keywords":"","version":"0.14"},{"title":"ÁâπÊÄß‚Äã","type":1,"pageTitle":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñÊåáÂçó","url":"/zh-CN/docs/0.14/guide/xlang/#ÁâπÊÄß","content":" Êó†ÈúÄ IDLÔºöËá™Âä®Â∫èÂàóÂåñ‰ªª‰ΩïÂØπË±°ÔºåÊó†ÈúÄ Protocol Buffers„ÄÅThrift ÊàñÂÖ∂‰ªñ IDL ÂÆö‰πâÂ§öËØ≠Ë®ÄÊîØÊåÅÔºöJava„ÄÅPython„ÄÅC++„ÄÅGo„ÄÅRust„ÄÅJavaScript ‰πãÈó¥Êó†Áºù‰∫íÊìç‰ΩúÂºïÁî®ÊîØÊåÅÔºöË∑®ËØ≠Ë®ÄËæπÁïåÊîØÊåÅÂÖ±‰∫´ÂºïÁî®ÂíåÂæ™ÁéØÂºïÁî®Schema ÊºîÂåñÔºöÁ±ªÂÆö‰πâÂèòÊõ¥Êó∂ÁöÑÂâçÂêë/ÂêéÂêëÂÖºÂÆπÊÄßÈõ∂Êã∑Ë¥ùÔºöÂ§ßÂûã‰∫åËøõÂà∂Êï∞ÊçÆÁöÑÂ∏¶Â§ñÂ∫èÂàóÂåñÈ´òÊÄßËÉΩÔºöJIT ÁºñËØëÂíå‰ºòÂåñÁöÑ‰∫åËøõÂà∂ÂçèËÆÆ  ","version":"0.14","tagName":"h2"},{"title":"ÊîØÊåÅÁöÑËØ≠Ë®Ä‚Äã","type":1,"pageTitle":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñÊåáÂçó","url":"/zh-CN/docs/0.14/guide/xlang/#ÊîØÊåÅÁöÑËØ≠Ë®Ä","content":" ËØ≠Ë®Ä\tÁä∂ÊÄÅ\tÂåÖJava\t‚úÖ\torg.apache.fory:fory-core Python\t‚úÖ\tpyfory C++\t‚úÖ\tBazel/CMake ÊûÑÂª∫ Go\t‚úÖ\tgithub.com/apache/fory/go/fory Rust\t‚úÖ\tfory crate JavaScript\t‚úÖ\t@apache-fory/fory  ","version":"0.14","tagName":"h2"},{"title":"‰ΩïÊó∂‰ΩøÁî® Xlang Ê®°Âºè‚Äã","type":1,"pageTitle":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñÊåáÂçó","url":"/zh-CN/docs/0.14/guide/xlang/#‰ΩïÊó∂‰ΩøÁî®-xlang-Ê®°Âºè","content":" ‰ΩøÁî® xlang Ê®°ÂºèÁöÑÂú∫ÊôØÔºö  ÊûÑÂª∫Â§öËØ≠Ë®ÄÂæÆÊúçÂä°ÂàõÂª∫Â§öËØ≠Ë®ÄÊï∞ÊçÆÁÆ°ÈÅìÂú®ÂâçÁ´ØÔºàJavaScriptÔºâÂíåÂêéÁ´ØÔºàJava/Python/GoÔºâ‰πãÈó¥ÂÖ±‰∫´Êï∞ÊçÆ  ‰ΩøÁî®ËØ≠Ë®ÄÂéüÁîüÊ®°ÂºèÁöÑÂú∫ÊôØÔºö  ÊâÄÊúâÂ∫èÂàóÂåñ/ÂèçÂ∫èÂàóÂåñÈÉΩÂú®Âêå‰∏ÄËØ≠Ë®Ä‰∏≠ËøõË°åÈúÄË¶ÅÊúÄÂ§ßÊÄßËÉΩÔºàÂéüÁîüÊ®°ÂºèÊõ¥Âø´ÔºâÈúÄË¶ÅÁâπÂÆöËØ≠Ë®ÄÂäüËÉΩÔºàPython pickle ÂÖºÂÆπÊÄß„ÄÅJava Â∫èÂàóÂåñÈí©Â≠êÔºâ  ","version":"0.14","tagName":"h2"},{"title":"Âø´ÈÄüÁ§∫‰æã‚Äã","type":1,"pageTitle":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñÊåáÂçó","url":"/zh-CN/docs/0.14/guide/xlang/#Âø´ÈÄüÁ§∫‰æã","content":" ","version":"0.14","tagName":"h2"},{"title":"JavaÔºàÁîü‰∫ßËÄÖÔºâ‚Äã","type":1,"pageTitle":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñÊåáÂçó","url":"/zh-CN/docs/0.14/guide/xlang/#javaÁîü‰∫ßËÄÖ","content":" import org.apache.fory.*; import org.apache.fory.config.*; public class Person { public String name; public int age; } Fory fory = Fory.builder() .withLanguage(Language.XLANG) .build(); fory.register(Person.class, &quot;example.Person&quot;); Person person = new Person(); person.name = &quot;Alice&quot;; person.age = 30; byte[] bytes = fory.serialize(person); // Â∞Ü bytes ÂèëÈÄÅÂà∞ Python„ÄÅGo„ÄÅRust Á≠â   ","version":"0.14","tagName":"h3"},{"title":"PythonÔºàÊ∂àË¥πËÄÖÔºâ‚Äã","type":1,"pageTitle":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñÊåáÂçó","url":"/zh-CN/docs/0.14/guide/xlang/#pythonÊ∂àË¥πËÄÖ","content":" import pyfory from dataclasses import dataclass @dataclass class Person: name: str age: pyfory.Int32Type fory = pyfory.Fory() fory.register_type(Person, typename=&quot;example.Person&quot;) # ‰ªé Java Êé•Êî∂ bytes person = fory.deserialize(bytes_from_java) print(f&quot;{person.name}, {person.age}&quot;) # Alice, 30   ","version":"0.14","tagName":"h3"},{"title":"ÊñáÊ°£‚Äã","type":1,"pageTitle":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñÊåáÂçó","url":"/zh-CN/docs/0.14/guide/xlang/#ÊñáÊ°£","content":" ‰∏ªÈ¢ò\tÊèèËø∞ÂÖ•Èó®ÊåáÂçó\tÊâÄÊúâËØ≠Ë®ÄÁöÑÂÆâË£ÖÂíåÂü∫Êú¨ËÆæÁΩÆ Á±ªÂûãÊò†Â∞Ñ\tË∑®ËØ≠Ë®ÄÁ±ªÂûãÊò†Â∞ÑÂèÇËÄÉ Â∫èÂàóÂåñ\tÂÜÖÁΩÆÁ±ªÂûã„ÄÅËá™ÂÆö‰πâÁ±ªÂûã„ÄÅÂºïÁî®Â§ÑÁêÜ Èõ∂Êã∑Ë¥ù\tÂ§ßÂûãÊï∞ÊçÆÁöÑÂ∏¶Â§ñÂ∫èÂàóÂåñ Ë°åÊ†ºÂºè\tÂÖ∑ÊúâÈöèÊú∫ËÆøÈóÆÁöÑÁºìÂ≠òÂèãÂ•Ω‰∫åËøõÂà∂Ê†ºÂºè ÊïÖÈöúÊéíÊü•\tÂ∏∏ËßÅÈóÆÈ¢òÂèäËß£ÂÜ≥ÊñπÊ°à  ","version":"0.14","tagName":"h2"},{"title":"ÁâπÂÆöËØ≠Ë®ÄÊåáÂçó‚Äã","type":1,"pageTitle":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñÊåáÂçó","url":"/zh-CN/docs/0.14/guide/xlang/#ÁâπÂÆöËØ≠Ë®ÄÊåáÂçó","content":" ÊúâÂÖ≥ÁâπÂÆöËØ≠Ë®ÄÁöÑËØ¶ÁªÜ‰ø°ÊÅØÂíå API ÂèÇËÄÉÔºö  Java Ë∑®ËØ≠Ë®ÄÊåáÂçóPython Ë∑®ËØ≠Ë®ÄÊåáÂçóC++ Ë∑®ËØ≠Ë®ÄÊåáÂçóRust Ë∑®ËØ≠Ë®ÄÊåáÂçó  ","version":"0.14","tagName":"h2"},{"title":"ËßÑËåÉ‚Äã","type":1,"pageTitle":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñÊåáÂçó","url":"/zh-CN/docs/0.14/guide/xlang/#ËßÑËåÉ","content":" Xlang Â∫èÂàóÂåñËßÑËåÉ - ‰∫åËøõÂà∂ÂçèËÆÆËØ¶ÊÉÖÁ±ªÂûãÊò†Â∞ÑËßÑËåÉ - ÂÆåÊï¥ÁöÑÁ±ªÂûãÊò†Â∞ÑÂèÇËÄÉ ","version":"0.14","tagName":"h2"},{"title":"ÈªòËÆ§ÂÄº","type":0,"sectionRef":"#","url":"/zh-CN/docs/0.14/guide/scala/default_values","content":"","keywords":"","version":"0.14"},{"title":"Ê¶ÇËø∞‚Äã","type":1,"pageTitle":"ÈªòËÆ§ÂÄº","url":"/zh-CN/docs/0.14/guide/scala/default_values#Ê¶ÇËø∞","content":" ÂΩì Scala Á±ªÂÖ∑ÊúâÈªòËÆ§ÂèÇÊï∞Êó∂ÔºåScala ÁºñËØëÂô®‰ºöÂú®‰º¥ÁîüÂØπË±°‰∏≠ÔºàÂØπ‰∫é case Á±ªÔºâÊàñÂú®Á±ªÊú¨Ë∫´‰∏≠ÔºàÂØπ‰∫éÂ∏∏ËßÑ Scala Á±ªÔºâÁîüÊàêËØ∏Â¶Ç apply$default$1„ÄÅapply$default$2 Á≠âÊñπÊ≥ïÊù•ËøîÂõûÈªòËÆ§ÂÄº„ÄÇFory ÂèØ‰ª•Ê£ÄÊµãËøô‰∫õÊñπÊ≥ïÔºåÂπ∂Âú®ÂèçÂ∫èÂàóÂåñÂØπË±°Êó∂ÔºåÂΩìÊüê‰∫õÂ≠óÊÆµÂú®Â∫èÂàóÂåñÊï∞ÊçÆ‰∏≠Áº∫Â§±Êó∂‰ΩøÁî®ÂÆÉ‰ª¨„ÄÇ  ","version":"0.14","tagName":"h2"},{"title":"ÊîØÊåÅÁöÑÁ±ªÁ±ªÂûã‚Äã","type":1,"pageTitle":"ÈªòËÆ§ÂÄº","url":"/zh-CN/docs/0.14/guide/scala/default_values#ÊîØÊåÅÁöÑÁ±ªÁ±ªÂûã","content":" Fory ÊîØÊåÅ‰ª•‰∏ãÁ±ªÂûãÁöÑÈªòËÆ§ÂÄºÔºö  ÂÖ∑ÊúâÈªòËÆ§ÂèÇÊï∞ÁöÑ Case Á±ªÂú®‰∏ªÊûÑÈÄ†ÂáΩÊï∞‰∏≠ÂÖ∑ÊúâÈªòËÆ§ÂèÇÊï∞ÁöÑÂ∏∏ËßÑ Scala Á±ªÂÖ∑ÊúâÈªòËÆ§ÂèÇÊï∞ÁöÑÂµåÂ•ó case Á±ª  ","version":"0.14","tagName":"h2"},{"title":"Â∑•‰ΩúÂéüÁêÜ‚Äã","type":1,"pageTitle":"ÈªòËÆ§ÂÄº","url":"/zh-CN/docs/0.14/guide/scala/default_values#Â∑•‰ΩúÂéüÁêÜ","content":" Ê£ÄÊµãÔºöFory ÈÄöËøáÊ£ÄÊü•ÊòØÂê¶Â≠òÂú®ÈªòËÆ§ÂÄºÊñπÊ≥ïÔºàapply$default$N Êàñ $default$NÔºâÊù•Ê£ÄÊµãÁ±ªÊòØÂê¶‰∏∫ Scala Á±ª„ÄÇ ÈªòËÆ§ÂÄºÂèëÁé∞Ôºö ÂØπ‰∫é case Á±ªÔºöFory Êâ´Êèè‰º¥ÁîüÂØπË±°‰∏≠Âêç‰∏∫ apply$default$1„ÄÅapply$default$2 Á≠âÁöÑÊñπÊ≥ï„ÄÇÂØπ‰∫éÂ∏∏ËßÑ Scala Á±ªÔºöFory Êâ´ÊèèÁ±ªÊú¨Ë∫´‰∏≠Âêç‰∏∫ $default$1„ÄÅ$default$2 Á≠âÁöÑÊñπÊ≥ï„ÄÇ Â≠óÊÆµÊò†Â∞ÑÔºöÂú®ÂèçÂ∫èÂàóÂåñÊúüÈó¥ÔºåFory ËØÜÂà´ÁõÆÊ†áÁ±ª‰∏≠Â≠òÂú®‰ΩÜÂ∫èÂàóÂåñÊï∞ÊçÆ‰∏≠Áº∫Â§±ÁöÑÂ≠óÊÆµ„ÄÇ ÂÄºÂ∫îÁî®Ôºö‰ªéÂ∫èÂàóÂåñÊï∞ÊçÆ‰∏≠ËØªÂèñÊâÄÊúâÂèØÁî®Â≠óÊÆµÂêéÔºåFory Â∞ÜÈªòËÆ§ÂÄºÂ∫îÁî®‰∫é‰ªª‰ΩïÁº∫Â§±ÁöÑÂ≠óÊÆµ„ÄÇ  ","version":"0.14","tagName":"h2"},{"title":"‰ΩøÁî®ÊñπÊ≥ï‚Äã","type":1,"pageTitle":"ÈªòËÆ§ÂÄº","url":"/zh-CN/docs/0.14/guide/scala/default_values#‰ΩøÁî®ÊñπÊ≥ï","content":" ÂΩìÊª°Ë∂≥‰ª•‰∏ãÊù°‰ª∂Êó∂ÔºåÊ≠§ÁâπÊÄß‰ºöËá™Âä®ÂêØÁî®Ôºö  ÂêØÁî®ÂÖºÂÆπÊ®°ÂºèÔºàwithCompatibleMode(CompatibleMode.COMPATIBLE)ÔºâÁõÆÊ†áÁ±ªË¢´Ê£ÄÊµã‰∏∫ÂÖ∑ÊúâÈªòËÆ§ÂÄºÁöÑ Scala Á±ªÂ∫èÂàóÂåñÊï∞ÊçÆ‰∏≠Áº∫Â∞ëÊüê‰∏™Â≠óÊÆµÔºå‰ΩÜËØ•Â≠óÊÆµÂ≠òÂú®‰∫éÁõÆÊ†áÁ±ª‰∏≠  Êó†ÈúÄÈ¢ùÂ§ñÈÖçÁΩÆ„ÄÇ  ","version":"0.14","tagName":"h2"},{"title":"Á§∫‰æã‚Äã","type":1,"pageTitle":"ÈªòËÆ§ÂÄº","url":"/zh-CN/docs/0.14/guide/scala/default_values#Á§∫‰æã","content":" ","version":"0.14","tagName":"h2"},{"title":"ÂÖ∑ÊúâÈªòËÆ§ÂÄºÁöÑ Case Á±ª‚Äã","type":1,"pageTitle":"ÈªòËÆ§ÂÄº","url":"/zh-CN/docs/0.14/guide/scala/default_values#ÂÖ∑ÊúâÈªòËÆ§ÂÄºÁöÑ-case-Á±ª","content":" import org.apache.fory.Fory import org.apache.fory.config.CompatibleMode import org.apache.fory.serializer.scala.ScalaSerializers // Ê≤°ÊúâÈªòËÆ§ÂÄºÁöÑÁ±ªÔºàÁî®‰∫éÂ∫èÂàóÂåñÔºâ case class PersonV1(name: String) // ÊúâÈªòËÆ§ÂÄºÁöÑÁ±ªÔºàÁî®‰∫éÂèçÂ∫èÂàóÂåñÔºâ case class PersonV2(name: String, age: Int = 25, city: String = &quot;Unknown&quot;) val fory = Fory.builder() .withCompatibleMode(CompatibleMode.COMPATIBLE) .withScalaOptimizationEnabled(true) .build() ScalaSerializers.registerSerializers(fory) // ‰ΩøÁî®Ê≤°ÊúâÈªòËÆ§ÂÄºÁöÑÁ±ªËøõË°åÂ∫èÂàóÂåñ val original = PersonV1(&quot;John&quot;) val serialized = fory.serialize(original) // ÂèçÂ∫èÂàóÂåñÂà∞ÊúâÈªòËÆ§ÂÄºÁöÑÁ±ª // Áº∫Â§±ÁöÑÂ≠óÊÆµÂ∞Ü‰ΩøÁî®ÈªòËÆ§ÂÄº val deserialized = fory.deserialize(serialized).asInstanceOf[PersonV2] // deserialized.name == &quot;John&quot; // deserialized.age == 25ÔºàÈªòËÆ§ÂÄºÔºâ // deserialized.city == &quot;Unknown&quot;ÔºàÈªòËÆ§ÂÄºÔºâ   ","version":"0.14","tagName":"h3"},{"title":"ÂÖ∑ÊúâÈªòËÆ§ÂÄºÁöÑÂ∏∏ËßÑ Scala Á±ª‚Äã","type":1,"pageTitle":"ÈªòËÆ§ÂÄº","url":"/zh-CN/docs/0.14/guide/scala/default_values#ÂÖ∑ÊúâÈªòËÆ§ÂÄºÁöÑÂ∏∏ËßÑ-scala-Á±ª","content":" // Ê≤°ÊúâÈªòËÆ§ÂÄºÁöÑÁ±ªÔºàÁî®‰∫éÂ∫èÂàóÂåñÔºâ class EmployeeV1(val name: String) // ÊúâÈªòËÆ§ÂÄºÁöÑÁ±ªÔºàÁî®‰∫éÂèçÂ∫èÂàóÂåñÔºâ class EmployeeV2( val name: String, val age: Int = 30, val department: String = &quot;Engineering&quot; ) val fory = Fory.builder() .withCompatibleMode(CompatibleMode.COMPATIBLE) .withScalaOptimizationEnabled(true) .build() ScalaSerializers.registerSerializers(fory) // ‰ΩøÁî®Ê≤°ÊúâÈªòËÆ§ÂÄºÁöÑÁ±ªËøõË°åÂ∫èÂàóÂåñ val original = new EmployeeV1(&quot;Jane&quot;) val serialized = fory.serialize(original) // ÂèçÂ∫èÂàóÂåñÂà∞ÊúâÈªòËÆ§ÂÄºÁöÑÁ±ª val deserialized = fory.deserialize(serialized).asInstanceOf[EmployeeV2] // deserialized.name == &quot;Jane&quot; // deserialized.age == 30ÔºàÈªòËÆ§ÂÄºÔºâ // deserialized.department == &quot;Engineering&quot;ÔºàÈªòËÆ§ÂÄºÔºâ   ","version":"0.14","tagName":"h3"},{"title":"Â§çÊùÇÈªòËÆ§ÂÄº‚Äã","type":1,"pageTitle":"ÈªòËÆ§ÂÄº","url":"/zh-CN/docs/0.14/guide/scala/default_values#Â§çÊùÇÈªòËÆ§ÂÄº","content":" ÈªòËÆ§ÂÄºÂèØ‰ª•ÊòØÂ§çÊùÇË°®ËææÂºèÔºö  // Ê≤°ÊúâÈªòËÆ§ÂÄºÁöÑÁ±ªÔºàÁî®‰∫éÂ∫èÂàóÂåñÔºâ case class ConfigV1(name: String) // ÊúâÈªòËÆ§ÂÄºÁöÑÁ±ªÔºàÁî®‰∫éÂèçÂ∫èÂàóÂåñÔºâ case class ConfigV2( name: String, settings: Map[String, String] = Map(&quot;default&quot; -&gt; &quot;value&quot;), tags: List[String] = List(&quot;default&quot;), enabled: Boolean = true ) val fory = Fory.builder() .withCompatibleMode(CompatibleMode.COMPATIBLE) .withScalaOptimizationEnabled(true) .build() ScalaSerializers.registerSerializers(fory) val original = ConfigV1(&quot;myConfig&quot;) val serialized = fory.serialize(original) val deserialized = fory.deserialize(serialized).asInstanceOf[ConfigV2] // deserialized.name == &quot;myConfig&quot; // deserialized.settings == Map(&quot;default&quot; -&gt; &quot;value&quot;) // deserialized.tags == List(&quot;default&quot;) // deserialized.enabled == true   ","version":"0.14","tagName":"h3"},{"title":"ÂµåÂ•ó Case Á±ª‚Äã","type":1,"pageTitle":"ÈªòËÆ§ÂÄº","url":"/zh-CN/docs/0.14/guide/scala/default_values#ÂµåÂ•ó-case-Á±ª","content":" object Models { // Ê≤°ÊúâÈªòËÆ§ÂÄºÁöÑÁ±ªÔºàÁî®‰∫éÂ∫èÂàóÂåñÔºâ case class PersonV1(name: String) // ÊúâÈªòËÆ§ÂÄºÁöÑÁ±ªÔºàÁî®‰∫éÂèçÂ∫èÂàóÂåñÔºâ case class Address(street: String, city: String = &quot;DefaultCity&quot;) case class PersonV2(name: String, address: Address = Address(&quot;DefaultStreet&quot;)) } val fory = Fory.builder() .withCompatibleMode(CompatibleMode.COMPATIBLE) .withScalaOptimizationEnabled(true) .build() ScalaSerializers.registerSerializers(fory) val original = Models.PersonV1(&quot;Alice&quot;) val serialized = fory.serialize(original) val deserialized = fory.deserialize(serialized).asInstanceOf[Models.PersonV2] // deserialized.name == &quot;Alice&quot; // deserialized.address == Address(&quot;DefaultStreet&quot;, &quot;DefaultCity&quot;)   ","version":"0.14","tagName":"h3"},{"title":"Áõ∏ÂÖ≥‰∏ªÈ¢ò‚Äã","type":1,"pageTitle":"ÈªòËÆ§ÂÄº","url":"/zh-CN/docs/0.14/guide/scala/default_values#Áõ∏ÂÖ≥‰∏ªÈ¢ò","content":" Schema ÊºîÂåñ - Java ‰∏≠ÁöÑÂâçÂêë/ÂêéÂêëÂÖºÂÆπÊÄßFory ÂàõÂª∫ - ‰ΩøÁî®ÂÖºÂÆπÊ®°ÂºèËÆæÁΩÆ Fory ","version":"0.14","tagName":"h2"},{"title":"Á±ªÂûãÂ∫èÂàóÂåñ","type":0,"sectionRef":"#","url":"/zh-CN/docs/0.14/guide/scala/type_serialization","content":"","keywords":"","version":"0.14"},{"title":"ËÆæÁΩÆ‚Äã","type":1,"pageTitle":"Á±ªÂûãÂ∫èÂàóÂåñ","url":"/zh-CN/docs/0.14/guide/scala/type_serialization#ËÆæÁΩÆ","content":" ÊâÄÊúâÁ§∫‰æãÂÅáËÆæ‰ª•‰∏ãËÆæÁΩÆÔºö  import org.apache.fory.Fory import org.apache.fory.serializer.scala.ScalaSerializers val fory = Fory.builder() .withScalaOptimizationEnabled(true) .build() ScalaSerializers.registerSerializers(fory)   ","version":"0.14","tagName":"h2"},{"title":"Case Á±ª‚Äã","type":1,"pageTitle":"Á±ªÂûãÂ∫èÂàóÂåñ","url":"/zh-CN/docs/0.14/guide/scala/type_serialization#case-Á±ª","content":" case class Person(github: String, age: Int, id: Long) fory.register(classOf[Person]) val p = Person(&quot;https://github.com/chaokunyang&quot;, 18, 1) println(fory.deserialize(fory.serialize(p)))   ","version":"0.14","tagName":"h2"},{"title":"POJO Á±ª‚Äã","type":1,"pageTitle":"Á±ªÂûãÂ∫èÂàóÂåñ","url":"/zh-CN/docs/0.14/guide/scala/type_serialization#pojo-Á±ª","content":" class Foo(f1: Int, f2: String) { override def toString: String = s&quot;Foo($f1, $f2)&quot; } fory.register(classOf[Foo]) println(fory.deserialize(fory.serialize(new Foo(1, &quot;chaokunyang&quot;))))   ","version":"0.14","tagName":"h2"},{"title":"Object Âçï‰æã‚Äã","type":1,"pageTitle":"Á±ªÂûãÂ∫èÂàóÂåñ","url":"/zh-CN/docs/0.14/guide/scala/type_serialization#object-Âçï‰æã","content":" Scala object Âçï‰æãË¢´Â∫èÂàóÂåñÂíåÂèçÂ∫èÂàóÂåñ‰∏∫Âêå‰∏Ä‰∏™ÂÆû‰æãÔºö  object MySingleton { val value = 42 } fory.register(MySingleton.getClass) val o1 = fory.deserialize(fory.serialize(MySingleton)) val o2 = fory.deserialize(fory.serialize(MySingleton)) println(o1 == o2) // true   ","version":"0.14","tagName":"h2"},{"title":"ÈõÜÂêà‚Äã","type":1,"pageTitle":"Á±ªÂûãÂ∫èÂàóÂåñ","url":"/zh-CN/docs/0.14/guide/scala/type_serialization#ÈõÜÂêà","content":" ÂÆåÂÖ®ÊîØÊåÅ Scala ÈõÜÂêàÔºö  val seq = Seq(1, 2) val list = List(&quot;a&quot;, &quot;b&quot;) val map = Map(&quot;a&quot; -&gt; 1, &quot;b&quot; -&gt; 2) println(fory.deserialize(fory.serialize(seq))) println(fory.deserialize(fory.serialize(list))) println(fory.deserialize(fory.serialize(map)))   ","version":"0.14","tagName":"h2"},{"title":"ÂÖÉÁªÑ‚Äã","type":1,"pageTitle":"Á±ªÂûãÂ∫èÂàóÂåñ","url":"/zh-CN/docs/0.14/guide/scala/type_serialization#ÂÖÉÁªÑ","content":" ÊîØÊåÅÊâÄÊúâ Scala ÂÖÉÁªÑÁ±ªÂûãÔºàTuple1 Âà∞ Tuple22ÔºâÔºö  val tuple2 = (100, 10000L) println(fory.deserialize(fory.serialize(tuple2))) val tuple4 = (100, 10000L, 10000L, &quot;str&quot;) println(fory.deserialize(fory.serialize(tuple4)))   ","version":"0.14","tagName":"h2"},{"title":"Êûö‰∏æ‚Äã","type":1,"pageTitle":"Á±ªÂûãÂ∫èÂàóÂåñ","url":"/zh-CN/docs/0.14/guide/scala/type_serialization#Êûö‰∏æ","content":" ","version":"0.14","tagName":"h2"},{"title":"Scala 3 Êûö‰∏æ‚Äã","type":1,"pageTitle":"Á±ªÂûãÂ∫èÂàóÂåñ","url":"/zh-CN/docs/0.14/guide/scala/type_serialization#scala-3-Êûö‰∏æ","content":" enum Color { case Red, Green, Blue } fory.register(classOf[Color]) println(fory.deserialize(fory.serialize(Color.Green)))   ","version":"0.14","tagName":"h3"},{"title":"Scala 2 Enumeration‚Äã","type":1,"pageTitle":"Á±ªÂûãÂ∫èÂàóÂåñ","url":"/zh-CN/docs/0.14/guide/scala/type_serialization#scala-2-enumeration","content":" object ColorEnum extends Enumeration { type ColorEnum = Value val Red, Green, Blue = Value } fory.register(Class.forName(&quot;scala.Enumeration.Val&quot;)) println(fory.deserialize(fory.serialize(ColorEnum.Green)))   Ê≥®ÊÑèÔºöÂØπ‰∫é Scala 2 EnumerationÔºåÂèØËÉΩÈúÄË¶ÅÊ≥®ÂÜå scala.Enumeration.Val ÊàñÂêØÁî®ÂºïÁî®Ë∑üË∏™‰ª•ÈÅøÂÖç StackOverflowError„ÄÇ  ","version":"0.14","tagName":"h3"},{"title":"Option‚Äã","type":1,"pageTitle":"Á±ªÂûãÂ∫èÂàóÂåñ","url":"/zh-CN/docs/0.14/guide/scala/type_serialization#option","content":" val some: Option[Long] = Some(100) println(fory.deserialize(fory.serialize(some))) val none: Option[Long] = None println(fory.deserialize(fory.serialize(none)))   ","version":"0.14","tagName":"h2"},{"title":"Either‚Äã","type":1,"pageTitle":"Á±ªÂûãÂ∫èÂàóÂåñ","url":"/zh-CN/docs/0.14/guide/scala/type_serialization#either","content":" val right: Either[String, Int] = Right(42) println(fory.deserialize(fory.serialize(right))) val left: Either[String, Int] = Left(&quot;error&quot;) println(fory.deserialize(fory.serialize(left)))   ","version":"0.14","tagName":"h2"},{"title":"ÂµåÂ•óÁ±ªÂûã‚Äã","type":1,"pageTitle":"Á±ªÂûãÂ∫èÂàóÂåñ","url":"/zh-CN/docs/0.14/guide/scala/type_serialization#ÂµåÂ•óÁ±ªÂûã","content":" ÂÆåÂÖ®ÊîØÊåÅÂ§çÊùÇÁöÑÂµåÂ•óÁªìÊûÑÔºö  case class Address(street: String, city: String) case class Company(name: String, address: Address) case class Employee(name: String, company: Company, tags: List[String]) fory.register(classOf[Address]) fory.register(classOf[Company]) fory.register(classOf[Employee]) val employee = Employee( &quot;John&quot;, Company(&quot;Acme&quot;, Address(&quot;123 Main St&quot;, &quot;Springfield&quot;)), List(&quot;developer&quot;, &quot;scala&quot;) ) println(fory.deserialize(fory.serialize(employee)))  ","version":"0.14","tagName":"h2"},{"title":"ÂÖ•Èó®ÊåáÂçó","type":0,"sectionRef":"#","url":"/zh-CN/docs/0.14/guide/xlang/xlang_getting_started","content":"","keywords":"","version":"0.14"},{"title":"ÂÆâË£Ö‚Äã","type":1,"pageTitle":"ÂÖ•Èó®ÊåáÂçó","url":"/zh-CN/docs/0.14/guide/xlang/xlang_getting_started#ÂÆâË£Ö","content":" ","version":"0.14","tagName":"h2"},{"title":"Java‚Äã","type":1,"pageTitle":"ÂÖ•Èó®ÊåáÂçó","url":"/zh-CN/docs/0.14/guide/xlang/xlang_getting_started#java","content":" MavenÔºö  &lt;dependency&gt; &lt;groupId&gt;org.apache.fory&lt;/groupId&gt; &lt;artifactId&gt;fory-core&lt;/artifactId&gt; &lt;version&gt;0.14.1&lt;/version&gt; &lt;/dependency&gt;   GradleÔºö  implementation 'org.apache.fory:fory-core:0.14.1'   ","version":"0.14","tagName":"h3"},{"title":"Python‚Äã","type":1,"pageTitle":"ÂÖ•Èó®ÊåáÂçó","url":"/zh-CN/docs/0.14/guide/xlang/xlang_getting_started#python","content":" pip install pyfory   ","version":"0.14","tagName":"h3"},{"title":"Go‚Äã","type":1,"pageTitle":"ÂÖ•Èó®ÊåáÂçó","url":"/zh-CN/docs/0.14/guide/xlang/xlang_getting_started#go","content":" go get github.com/apache/fory/go/fory   ","version":"0.14","tagName":"h3"},{"title":"Rust‚Äã","type":1,"pageTitle":"ÂÖ•Èó®ÊåáÂçó","url":"/zh-CN/docs/0.14/guide/xlang/xlang_getting_started#rust","content":" [dependencies] fory = &quot;0.14&quot;   ","version":"0.14","tagName":"h3"},{"title":"JavaScript‚Äã","type":1,"pageTitle":"ÂÖ•Èó®ÊåáÂçó","url":"/zh-CN/docs/0.14/guide/xlang/xlang_getting_started#javascript","content":" npm install @apache-fory/fory   ","version":"0.14","tagName":"h3"},{"title":"C++‚Äã","type":1,"pageTitle":"ÂÖ•Èó®ÊåáÂçó","url":"/zh-CN/docs/0.14/guide/xlang/xlang_getting_started#c","content":" ‰ΩøÁî® Bazel Êàñ CMake ‰ªéÊ∫ê‰ª£Á†ÅÊûÑÂª∫„ÄÇÊúâÂÖ≥ËØ¶ÁªÜ‰ø°ÊÅØÔºåËØ∑ÂèÇÈòÖ C++ ÊåáÂçó„ÄÇ  ","version":"0.14","tagName":"h3"},{"title":"ÂêØÁî®Ë∑®ËØ≠Ë®ÄÊ®°Âºè‚Äã","type":1,"pageTitle":"ÂÖ•Èó®ÊåáÂçó","url":"/zh-CN/docs/0.14/guide/xlang/xlang_getting_started#ÂêØÁî®Ë∑®ËØ≠Ë®ÄÊ®°Âºè","content":" ÊØèÁßçËØ≠Ë®ÄÈÉΩÈúÄË¶ÅÂêØÁî® xlang Ê®°Âºè‰ª•Á°Æ‰øùË∑®ËØ≠Ë®ÄÁöÑ‰∫åËøõÂà∂ÂÖºÂÆπÊÄß„ÄÇ  ","version":"0.14","tagName":"h2"},{"title":"Java‚Äã","type":1,"pageTitle":"ÂÖ•Èó®ÊåáÂçó","url":"/zh-CN/docs/0.14/guide/xlang/xlang_getting_started#java-1","content":" import org.apache.fory.*; import org.apache.fory.config.*; Fory fory = Fory.builder() .withLanguage(Language.XLANG) // ÂêØÁî®Ë∑®ËØ≠Ë®ÄÊ®°Âºè .withRefTracking(true) // ÂèØÈÄâÔºöÁî®‰∫éÂæ™ÁéØÂºïÁî® .build();   ","version":"0.14","tagName":"h3"},{"title":"Python‚Äã","type":1,"pageTitle":"ÂÖ•Èó®ÊåáÂçó","url":"/zh-CN/docs/0.14/guide/xlang/xlang_getting_started#python-1","content":" import pyfory # xlang Ê®°ÂºèÈªòËÆ§ÂêØÁî® fory = pyfory.Fory() # ÊòæÂºèÈÖçÁΩÆ fory = pyfory.Fory(ref_tracking=True)   ","version":"0.14","tagName":"h3"},{"title":"Go‚Äã","type":1,"pageTitle":"ÂÖ•Èó®ÊåáÂçó","url":"/zh-CN/docs/0.14/guide/xlang/xlang_getting_started#go-1","content":" import forygo &quot;github.com/apache/fory/go/fory&quot; fory := forygo.NewFory() // ÊàñÂêØÁî®ÂºïÁî®Ë∑üË∏™ fory := forygo.NewFory(true)   ","version":"0.14","tagName":"h3"},{"title":"Rust‚Äã","type":1,"pageTitle":"ÂÖ•Èó®ÊåáÂçó","url":"/zh-CN/docs/0.14/guide/xlang/xlang_getting_started#rust-1","content":" use fory::Fory; let fory = Fory::default();   ","version":"0.14","tagName":"h3"},{"title":"JavaScript‚Äã","type":1,"pageTitle":"ÂÖ•Èó®ÊåáÂçó","url":"/zh-CN/docs/0.14/guide/xlang/xlang_getting_started#javascript-1","content":" import Fory from &quot;@apache-fory/fory&quot;; const fory = new Fory();   ","version":"0.14","tagName":"h3"},{"title":"C++‚Äã","type":1,"pageTitle":"ÂÖ•Èó®ÊåáÂçó","url":"/zh-CN/docs/0.14/guide/xlang/xlang_getting_started#c-1","content":" #include &quot;fory/serialization/fory.h&quot; using namespace fory::serialization; auto fory = Fory::builder() .xlang(true) .build();   ","version":"0.14","tagName":"h3"},{"title":"Á±ªÂûãÊ≥®ÂÜå‚Äã","type":1,"pageTitle":"ÂÖ•Èó®ÊåáÂçó","url":"/zh-CN/docs/0.14/guide/xlang/xlang_getting_started#Á±ªÂûãÊ≥®ÂÜå","content":" Ëá™ÂÆö‰πâÁ±ªÂûãÂøÖÈ°ªÂú®ÊâÄÊúâËØ≠Ë®Ä‰∏≠‰ΩøÁî®‰∏ÄËá¥ÁöÑÂêçÁß∞Êàñ ID ËøõË°åÊ≥®ÂÜå„ÄÇ  ","version":"0.14","tagName":"h2"},{"title":"ÊåâÂêçÁß∞Ê≥®ÂÜåÔºàÊé®ËçêÔºâ‚Äã","type":1,"pageTitle":"ÂÖ•Èó®ÊåáÂçó","url":"/zh-CN/docs/0.14/guide/xlang/xlang_getting_started#ÊåâÂêçÁß∞Ê≥®ÂÜåÊé®Ëçê","content":" ‰ΩøÁî®Â≠óÁ¨¶‰∏≤ÂêçÁß∞Êõ¥ÁÅµÊ¥ªÔºå‰∏çÊòì‰∫ßÁîüÂÜ≤Á™ÅÔºö  JavaÔºö  fory.register(Person.class, &quot;example.Person&quot;);   PythonÔºö  fory.register_type(Person, typename=&quot;example.Person&quot;)   GoÔºö  fory.RegisterNamedType(Person{}, &quot;example.Person&quot;)   RustÔºö  #[derive(Fory)] #[tag(&quot;example.Person&quot;)] struct Person { name: String, age: i32, }   JavaScriptÔºö  const description = Type.object(&quot;example.Person&quot;, { name: Type.string(), age: Type.int32(), }); fory.registerSerializer(description);   C++Ôºö  fory.register_struct&lt;Person&gt;(&quot;example.Person&quot;); // ÂØπ‰∫éÊûö‰∏æÔºå‰ΩøÁî® register_enumÔºö // fory.register_enum&lt;Color&gt;(&quot;example.Color&quot;);   ","version":"0.14","tagName":"h3"},{"title":"Êåâ ID Ê≥®ÂÜå‚Äã","type":1,"pageTitle":"ÂÖ•Èó®ÊåáÂçó","url":"/zh-CN/docs/0.14/guide/xlang/xlang_getting_started#Êåâ-id-Ê≥®ÂÜå","content":" ‰ΩøÁî®Êï∞Â≠ó ID Êõ¥Âø´ÔºåÁîüÊàêÁöÑ‰∫åËøõÂà∂ËæìÂá∫Êõ¥Â∞èÔºö  JavaÔºö  fory.register(Person.class, 100);   PythonÔºö  fory.register_type(Person, type_id=100)   GoÔºö  fory.Register(Person{}, 100)   C++Ôºö  fory.register_struct&lt;Person&gt;(100); // ÂØπ‰∫éÊûö‰∏æÔºå‰ΩøÁî® register_enumÔºö // fory.register_enum&lt;Color&gt;(101);   ","version":"0.14","tagName":"h3"},{"title":"Hello World Á§∫‰æã‚Äã","type":1,"pageTitle":"ÂÖ•Èó®ÊåáÂçó","url":"/zh-CN/docs/0.14/guide/xlang/xlang_getting_started#hello-world-Á§∫‰æã","content":" ‰∏Ä‰∏™ÂÆåÊï¥ÁöÑÁ§∫‰æãÔºåÂ±ïÁ§∫‰∫ÜÂú® Java ‰∏≠Â∫èÂàóÂåñÂπ∂Âú® Python ‰∏≠ÂèçÂ∫èÂàóÂåñÔºö  ","version":"0.14","tagName":"h2"},{"title":"JavaÔºàÂ∫èÂàóÂåñÂô®Ôºâ‚Äã","type":1,"pageTitle":"ÂÖ•Èó®ÊåáÂçó","url":"/zh-CN/docs/0.14/guide/xlang/xlang_getting_started#javaÂ∫èÂàóÂåñÂô®","content":" import org.apache.fory.*; import org.apache.fory.config.*; import java.nio.file.*; public class Person { public String name; public int age; } public class HelloWorld { public static void main(String[] args) throws Exception { Fory fory = Fory.builder() .withLanguage(Language.XLANG) .build(); fory.register(Person.class, &quot;example.Person&quot;); Person person = new Person(); person.name = &quot;Alice&quot;; person.age = 30; byte[] bytes = fory.serialize(person); Files.write(Path.of(&quot;person.bin&quot;), bytes); System.out.println(&quot;Serialized to person.bin&quot;); } }   ","version":"0.14","tagName":"h3"},{"title":"PythonÔºàÂèçÂ∫èÂàóÂåñÂô®Ôºâ‚Äã","type":1,"pageTitle":"ÂÖ•Èó®ÊåáÂçó","url":"/zh-CN/docs/0.14/guide/xlang/xlang_getting_started#pythonÂèçÂ∫èÂàóÂåñÂô®","content":" import pyfory from dataclasses import dataclass @dataclass class Person: name: str age: pyfory.Int32Type fory = pyfory.Fory() fory.register_type(Person, typename=&quot;example.Person&quot;) with open(&quot;person.bin&quot;, &quot;rb&quot;) as f: data = f.read() person = fory.deserialize(data) print(f&quot;Name: {person.name}, Age: {person.age}&quot;) # ËæìÂá∫: Name: Alice, Age: 30   ","version":"0.14","tagName":"h3"},{"title":"ÊúÄ‰Ω≥ÂÆûË∑µ‚Äã","type":1,"pageTitle":"ÂÖ•Èó®ÊåáÂçó","url":"/zh-CN/docs/0.14/guide/xlang/xlang_getting_started#ÊúÄ‰Ω≥ÂÆûË∑µ","content":" ‰ΩøÁî®‰∏ÄËá¥ÁöÑÁ±ªÂûãÂêçÁß∞ÔºöÁ°Æ‰øùÊâÄÊúâËØ≠Ë®Ä‰ΩøÁî®Áõ∏ÂêåÁöÑÁ±ªÂûãÂêçÁß∞Êàñ IDÂêØÁî®ÂºïÁî®Ë∑üË∏™ÔºöÂ¶ÇÊûúÊï∞ÊçÆÂåÖÂê´Âæ™ÁéØÂºïÁî®ÊàñÂÖ±‰∫´ÂºïÁî®ÈáçÁî® Fory ÂÆû‰æãÔºöÂàõÂª∫ Fory ÁöÑÊàêÊú¨ËæÉÈ´òÔºõÂ∫îÈáçÁî®ÂÆû‰æã‰ΩøÁî®Á±ªÂûãÊ≥®Ëß£ÔºöÂú® Python ‰∏≠Ôºå‰ΩøÁî® pyfory.Int32Type Á≠âËøõË°åÁ≤æÁ°ÆÁ±ªÂûãÊò†Â∞ÑÊµãËØïË∑®ËØ≠Ë®ÄÔºöÈ™åËØÅÂ∫èÂàóÂåñÂú®ÊâÄÊúâÁõÆÊ†áËØ≠Ë®Ä‰∏≠ÈÉΩËÉΩÊ≠£Â∏∏Â∑•‰Ωú  ","version":"0.14","tagName":"h2"},{"title":"ÂêéÁª≠Ê≠•È™§‚Äã","type":1,"pageTitle":"ÂÖ•Èó®ÊåáÂçó","url":"/zh-CN/docs/0.14/guide/xlang/xlang_getting_started#ÂêéÁª≠Ê≠•È™§","content":" Á±ªÂûãÊò†Â∞Ñ - Ë∑®ËØ≠Ë®ÄÁ±ªÂûãÊò†Â∞ÑÂèÇËÄÉÂ∫èÂàóÂåñ - ËØ¶ÁªÜÁöÑÂ∫èÂàóÂåñÁ§∫‰æãÊïÖÈöúÊéíÊü• - Â∏∏ËßÅÈóÆÈ¢òÂèäËß£ÂÜ≥ÊñπÊ°à ","version":"0.14","tagName":"h2"},{"title":"Ë°åÊ†ºÂºè","type":0,"sectionRef":"#","url":"/zh-CN/docs/0.14/guide/xlang/row_format","content":"","keywords":"","version":"0.14"},{"title":"ÁâπÊÄß‚Äã","type":1,"pageTitle":"Ë°åÊ†ºÂºè","url":"/zh-CN/docs/0.14/guide/xlang/row_format#ÁâπÊÄß","content":" Èõ∂Êã∑Ë¥ùÈöèÊú∫ËÆøÈóÆÔºöÁõ¥Êé•‰ªé‰∫åËøõÂà∂Êï∞ÊçÆ‰∏≠ËØªÂèñÁâπÂÆöÂ≠óÊÆµÈÉ®ÂàÜÂ∫èÂàóÂåñÔºöÂú®Â∫èÂàóÂåñÊúüÈó¥Ë∑≥Ëøá‰∏çÂøÖË¶ÅÁöÑÂ≠óÊÆµË∑®ËØ≠Ë®ÄÂÖºÂÆπÔºöË°åÊ†ºÂºèÊï∞ÊçÆÂèØ‰ª•Âú® Java„ÄÅPython Âíå C++ ‰πãÈó¥ÂÖ±‰∫´Apache Arrow ÈõÜÊàêÔºöÂ∞ÜË°åÊ†ºÂºè‰∏é Arrow RecordBatch Áõ∏‰∫íËΩ¨Êç¢‰ª•ËøõË°åÂàÜÊûêÔºàJava/PythonÔºâ  ","version":"0.14","tagName":"h2"},{"title":"Java‚Äã","type":1,"pageTitle":"Ë°åÊ†ºÂºè","url":"/zh-CN/docs/0.14/guide/xlang/row_format#java","content":" public class Bar { String f1; List&lt;Long&gt; f2; } public class Foo { int f1; List&lt;Integer&gt; f2; Map&lt;String, Integer&gt; f3; List&lt;Bar&gt; f4; } RowEncoder&lt;Foo&gt; encoder = Encoders.bean(Foo.class); Foo foo = new Foo(); foo.f1 = 10; foo.f2 = IntStream.range(0, 1000000).boxed().collect(Collectors.toList()); foo.f3 = IntStream.range(0, 1000000).boxed().collect(Collectors.toMap(i -&gt; &quot;k&quot;+i, i-&gt;i)); List&lt;Bar&gt; bars = new ArrayList&lt;&gt;(1000000); for (int i = 0; i &lt; 1000000; i++) { Bar bar = new Bar(); bar.f1 = &quot;s&quot;+i; bar.f2 = LongStream.range(0, 10).boxed().collect(Collectors.toList()); bars.add(bar); } foo.f4 = bars; // ÂèØ‰ª•Ë¢´ Python Èõ∂Êã∑Ë¥ùËØªÂèñ BinaryRow binaryRow = encoder.toRow(foo); // ÂèØ‰ª•ÊòØÊù•Ëá™ Python ÁöÑÊï∞ÊçÆ Foo newFoo = encoder.fromRow(binaryRow); // Èõ∂Êã∑Ë¥ùËØªÂèñ List&lt;Integer&gt; f2 BinaryArray binaryArray2 = binaryRow.getArray(1); // Èõ∂Êã∑Ë¥ùËØªÂèñ List&lt;Bar&gt; f4 BinaryArray binaryArray4 = binaryRow.getArray(3); // Èõ∂Êã∑Ë¥ùËØªÂèñ List&lt;Bar&gt; f4 ÁöÑÁ¨¨ 11 ‰∏™ÂÖÉÁ¥† BinaryRow barStruct = binaryArray4.getStruct(10); // Èõ∂Êã∑Ë¥ùËØªÂèñ List&lt;Bar&gt; f4 ÁöÑÁ¨¨ 11 ‰∏™ÂÖÉÁ¥†ÁöÑ f2 ÁöÑÁ¨¨ 6 ‰∏™ÂÖÉÁ¥† barStruct.getArray(1).getInt64(5); RowEncoder&lt;Bar&gt; barEncoder = Encoders.bean(Bar.class); // ÂèçÂ∫èÂàóÂåñÈÉ®ÂàÜÊï∞ÊçÆ Bar newBar = barEncoder.fromRow(barStruct); Bar newBar2 = barEncoder.fromRow(binaryArray4.getStruct(20));   ","version":"0.14","tagName":"h2"},{"title":"Python‚Äã","type":1,"pageTitle":"Ë°åÊ†ºÂºè","url":"/zh-CN/docs/0.14/guide/xlang/row_format#python","content":" @dataclass class Bar: f1: str f2: List[pa.int64] @dataclass class Foo: f1: pa.int32 f2: List[pa.int32] f3: Dict[str, pa.int32] f4: List[Bar] encoder = pyfory.encoder(Foo) foo = Foo(f1=10, f2=list(range(1000_000)), f3={f&quot;k{i}&quot;: i for i in range(1000_000)}, f4=[Bar(f1=f&quot;s{i}&quot;, f2=list(range(10))) for i in range(1000_000)]) binary: bytes = encoder.to_row(foo).to_bytes() print(f&quot;start: {datetime.datetime.now()}&quot;) foo_row = pyfory.RowData(encoder.schema, binary) print(foo_row.f2[100000], foo_row.f4[100000].f1, foo_row.f4[200000].f2[5]) print(f&quot;end: {datetime.datetime.now()}&quot;) binary = pickle.dumps(foo) print(f&quot;pickle start: {datetime.datetime.now()}&quot;) new_foo = pickle.loads(binary) print(new_foo.f2[100000], new_foo.f4[100000].f1, new_foo.f4[200000].f2[5]) print(f&quot;pickle end: {datetime.datetime.now()}&quot;)   ","version":"0.14","tagName":"h2"},{"title":"Apache Arrow ÊîØÊåÅ‚Äã","type":1,"pageTitle":"Ë°åÊ†ºÂºè","url":"/zh-CN/docs/0.14/guide/xlang/row_format#apache-arrow-ÊîØÊåÅ","content":" Fory Ë°åÊ†ºÂºèÊîØÊåÅ‰ªé/Âà∞ Arrow Table/RecordBatch ÁöÑËá™Âä®ËΩ¨Êç¢Ôºå‰ª•Áî®‰∫éÂàÜÊûêÂ∑•‰ΩúË¥üËΩΩ„ÄÇ  ","version":"0.14","tagName":"h2"},{"title":"Java‚Äã","type":1,"pageTitle":"Ë°åÊ†ºÂºè","url":"/zh-CN/docs/0.14/guide/xlang/row_format#java-1","content":" Schema schema = TypeInference.inferSchema(BeanA.class); ArrowWriter arrowWriter = ArrowUtils.createArrowWriter(schema); Encoder&lt;BeanA&gt; encoder = Encoders.rowEncoder(BeanA.class); for (int i = 0; i &lt; 10; i++) { BeanA beanA = BeanA.createBeanA(2); arrowWriter.write(encoder.toRow(beanA)); } return arrowWriter.finishAsRecordBatch();   ","version":"0.14","tagName":"h3"},{"title":"Python‚Äã","type":1,"pageTitle":"Ë°åÊ†ºÂºè","url":"/zh-CN/docs/0.14/guide/xlang/row_format#python-1","content":" import pyfory encoder = pyfory.encoder(Foo) encoder.to_arrow_record_batch([foo] * 10000) encoder.to_arrow_table([foo] * 10000)   ","version":"0.14","tagName":"h3"},{"title":"Êé•Âè£ÂíåÊâ©Â±ïÁ±ªÂûãÁöÑÊîØÊåÅ‚Äã","type":1,"pageTitle":"Ë°åÊ†ºÂºè","url":"/zh-CN/docs/0.14/guide/xlang/row_format#Êé•Âè£ÂíåÊâ©Â±ïÁ±ªÂûãÁöÑÊîØÊåÅ","content":" Fory ÊîØÊåÅ Java interface Á±ªÂûãÂíåÂ≠êÁ±ªÔºàextendsÔºâÁ±ªÂûãÁöÑË°åÊ†ºÂºèÊò†Â∞ÑÔºåÂÆûÁé∞Êõ¥Âä®ÊÄÅÂíåÁÅµÊ¥ªÁöÑÊï∞ÊçÆ schema„ÄÇ  Ëøô‰∫õÂ¢ûÂº∫ÂäüËÉΩÂú® #2243„ÄÅ#2250 Âíå #2256 ‰∏≠ÂºïÂÖ•„ÄÇ  ","version":"0.14","tagName":"h2"},{"title":"Á§∫‰æãÔºö‰ΩøÁî® RowEncoder ÁöÑÊé•Âè£Êò†Â∞Ñ‚Äã","type":1,"pageTitle":"Ë°åÊ†ºÂºè","url":"/zh-CN/docs/0.14/guide/xlang/row_format#Á§∫‰æã‰ΩøÁî®-rowencoder-ÁöÑÊé•Âè£Êò†Â∞Ñ","content":" public interface Animal { String speak(); } public class Dog implements Animal { public String name; @Override public String speak() { return &quot;Woof&quot;; } } // ‰ΩøÁî®Êé•Âè£Á±ªÂûãÁöÑ RowEncoder ËøõË°åÁºñÁ†ÅÂíåËß£Á†Å RowEncoder&lt;Animal&gt; encoder = Encoders.bean(Animal.class); Dog dog = new Dog(); dog.name = &quot;Bingo&quot;; BinaryRow row = encoder.toRow(dog); Animal decoded = encoder.fromRow(row); System.out.println(decoded.speak()); // Woof   ","version":"0.14","tagName":"h3"},{"title":"Á§∫‰æãÔºö‰ΩøÁî® RowEncoder ÁöÑÊâ©Â±ïÁ±ªÂûã‚Äã","type":1,"pageTitle":"Ë°åÊ†ºÂºè","url":"/zh-CN/docs/0.14/guide/xlang/row_format#Á§∫‰æã‰ΩøÁî®-rowencoder-ÁöÑÊâ©Â±ïÁ±ªÂûã","content":" public class Parent { public String parentField; } public class Child extends Parent { public String childField; } // ‰ΩøÁî®Áà∂Á±ªÁ±ªÂûãÁöÑ RowEncoder ËøõË°åÁºñÁ†ÅÂíåËß£Á†Å RowEncoder&lt;Parent&gt; encoder = Encoders.bean(Parent.class); Child child = new Child(); child.parentField = &quot;Hello&quot;; child.childField = &quot;World&quot;; BinaryRow row = encoder.toRow(child); Parent decoded = encoder.fromRow(row);   ","version":"0.14","tagName":"h3"},{"title":"Âè¶ËØ∑ÂèÇÈòÖ‚Äã","type":1,"pageTitle":"Ë°åÊ†ºÂºè","url":"/zh-CN/docs/0.14/guide/xlang/row_format#Âè¶ËØ∑ÂèÇÈòÖ","content":" Ë°åÊ†ºÂºèËßÑËåÉ - ‰∫åËøõÂà∂Ê†ºÂºèËØ¶ÊÉÖJava Ë°åÊ†ºÂºèÊåáÂçó - Java ÁâπÂÆöÁöÑË°åÊ†ºÂºèÊñáÊ°£Python Ë°åÊ†ºÂºèÊåáÂçó - Python ÁâπÂÆöÁöÑË°åÊ†ºÂºèÊñáÊ°£ ","version":"0.14","tagName":"h2"},{"title":"ÊïÖÈöúÊéíÊü•","type":0,"sectionRef":"#","url":"/zh-CN/docs/0.14/guide/xlang/xlang_troubleshooting","content":"","keywords":"","version":"0.14"},{"title":"Á±ªÂûãÊ≥®ÂÜåÈîôËØØ‚Äã","type":1,"pageTitle":"ÊïÖÈöúÊéíÊü•","url":"/zh-CN/docs/0.14/guide/xlang/xlang_troubleshooting#Á±ªÂûãÊ≥®ÂÜåÈîôËØØ","content":" ","version":"0.14","tagName":"h2"},{"title":"\"Á±ªÂûãÊú™Ê≥®ÂÜå\"ÈîôËØØ‚Äã","type":1,"pageTitle":"ÊïÖÈöúÊéíÊü•","url":"/zh-CN/docs/0.14/guide/xlang/xlang_troubleshooting#Á±ªÂûãÊú™Ê≥®ÂÜåÈîôËØØ","content":" ÁóáÁä∂Ôºö  Error: Type 'example.Person' is not registered   ÂéüÂõ†Ôºö Âú®ÂèçÂ∫èÂàóÂåñ‰πãÂâçÊú™Ê≥®ÂÜåÁ±ªÂûãÔºåÊàñÁ±ªÂûãÂêçÁß∞‰∏çÂåπÈÖç„ÄÇ  Ëß£ÂÜ≥ÊñπÊ°àÔºö  Á°Æ‰øùÁ±ªÂûãÂú®ÂèåÊñπ‰ΩøÁî®Áõ∏ÂêåÁöÑÂêçÁß∞Ê≥®ÂÜåÔºö // Java fory.register(Person.class, &quot;example.Person&quot;); # Python fory.register_type(Person, typename=&quot;example.Person&quot;) Ê£ÄÊü•Á±ªÂûãÂêçÁß∞‰∏≠ÁöÑÊãºÂÜôÈîôËØØÊàñÂ§ßÂ∞èÂÜôÂ∑ÆÂºÇ Âú®‰ªª‰ΩïÂ∫èÂàóÂåñ/ÂèçÂ∫èÂàóÂåñË∞ÉÁî®‰πãÂâçÊ≥®ÂÜåÁ±ªÂûã  ","version":"0.14","tagName":"h3"},{"title":"\"Á±ªÂûã ID ‰∏çÂåπÈÖç\"ÈîôËØØ‚Äã","type":1,"pageTitle":"ÊïÖÈöúÊéíÊü•","url":"/zh-CN/docs/0.14/guide/xlang/xlang_troubleshooting#Á±ªÂûã-id-‰∏çÂåπÈÖçÈîôËØØ","content":" ÁóáÁä∂Ôºö  Error: Expected type ID 100, got 101   ÂéüÂõ†Ôºö Ë∑®ËØ≠Ë®Ä‰ΩøÁî®‰∫Ü‰∏çÂêåÁöÑÁ±ªÂûã ID„ÄÇ  Ëß£ÂÜ≥ÊñπÊ°àÔºö ‰ΩøÁî®‰∏ÄËá¥ÁöÑÁ±ªÂûã IDÔºö  // Java fory.register(Person.class, 100); fory.register(Address.class, 101);   # Python fory.register_type(Person, type_id=100) fory.register_type(Address, type_id=101)   ","version":"0.14","tagName":"h3"},{"title":"Á±ªÂûãÊò†Â∞ÑÈóÆÈ¢ò‚Äã","type":1,"pageTitle":"ÊïÖÈöúÊéíÊü•","url":"/zh-CN/docs/0.14/guide/xlang/xlang_troubleshooting#Á±ªÂûãÊò†Â∞ÑÈóÆÈ¢ò","content":" ","version":"0.14","tagName":"h2"},{"title":"Êï¥Êï∞Ê∫¢Âá∫‚Äã","type":1,"pageTitle":"ÊïÖÈöúÊéíÊü•","url":"/zh-CN/docs/0.14/guide/xlang/xlang_troubleshooting#Êï¥Êï∞Ê∫¢Âá∫","content":" ÁóáÁä∂Ôºö ÂÄºË¢´Êà™Êñ≠ÊàñÊÑèÂ§ñÂåÖË£Ö„ÄÇ  ÂéüÂõ†Ôºö Ë∑®ËØ≠Ë®Ä‰ΩøÁî®‰∫Ü‰∏çÂêåÁöÑÊï¥Êï∞Â§ßÂ∞è„ÄÇ  Ëß£ÂÜ≥ÊñπÊ°àÔºö  Âú® Python ‰∏≠Ôºå‰ΩøÁî®ÊòæÂºèÁ±ªÂûãÊ≥®Ëß£Ôºö @dataclass class Data: value: pyfory.Int32Type # ËÄå‰∏ç‰ªÖ‰ªÖÊòØ 'int' Á°Æ‰øùÊï¥Êï∞ËåÉÂõ¥ÂÖºÂÆπÔºö int8Ôºö-128 Âà∞ 127int16Ôºö-32,768 Âà∞ 32,767int32Ôºö-2,147,483,648 Âà∞ 2,147,483,647  ","version":"0.14","tagName":"h3"},{"title":"ÊµÆÁÇπÁ≤æÂ∫¶ÊçüÂ§±‚Äã","type":1,"pageTitle":"ÊïÖÈöúÊéíÊü•","url":"/zh-CN/docs/0.14/guide/xlang/xlang_troubleshooting#ÊµÆÁÇπÁ≤æÂ∫¶ÊçüÂ§±","content":" ÁóáÁä∂Ôºö ÊµÆÁÇπÂÄºÁöÑÁ≤æÂ∫¶Âá∫‰πéÊÑèÊñô„ÄÇ  ÂéüÂõ†Ôºö Ê∑∑Âêà‰ΩøÁî® float32 Âíå float64 Á±ªÂûã„ÄÇ  Ëß£ÂÜ≥ÊñπÊ°àÔºö  ‰ΩøÁî®‰∏ÄËá¥ÁöÑÊµÆÁÇπÁ±ªÂûãÔºö @dataclass class Data: value: pyfory.Float32Type # ÊòæÂºè 32 ‰ΩçÊµÆÁÇπÊï∞ ËØ∑Ê≥®ÊÑèÔºåPython ÁöÑ float ÈªòËÆ§Êò†Â∞ÑÂà∞ float64  ","version":"0.14","tagName":"h3"},{"title":"Â≠óÁ¨¶‰∏≤ÁºñÁ†ÅÈîôËØØ‚Äã","type":1,"pageTitle":"ÊïÖÈöúÊéíÊü•","url":"/zh-CN/docs/0.14/guide/xlang/xlang_troubleshooting#Â≠óÁ¨¶‰∏≤ÁºñÁ†ÅÈîôËØØ","content":" ÁóáÁä∂Ôºö  Error: Invalid UTF-8 sequence   ÂéüÂõ†Ôºö Èùû UTF-8 ÁºñÁ†ÅÁöÑÂ≠óÁ¨¶‰∏≤„ÄÇ  Ëß£ÂÜ≥ÊñπÊ°àÔºö  Á°Æ‰øùÊâÄÊúâÂ≠óÁ¨¶‰∏≤ÈÉΩÊòØÊúâÊïàÁöÑ UTF-8 Âú® Python ‰∏≠ÔºåÂú®Â∫èÂàóÂåñ‰πãÂâçËß£Á†ÅÂ≠óËäÇÔºö text = raw_bytes.decode('utf-8')   ","version":"0.14","tagName":"h3"},{"title":"Â≠óÊÆµÈ°∫Â∫èÈóÆÈ¢ò‚Äã","type":1,"pageTitle":"ÊïÖÈöúÊéíÊü•","url":"/zh-CN/docs/0.14/guide/xlang/xlang_troubleshooting#Â≠óÊÆµÈ°∫Â∫èÈóÆÈ¢ò","content":" ","version":"0.14","tagName":"h2"},{"title":"\"Â≠óÊÆµ‰∏çÂåπÈÖç\"ÈîôËØØ‚Äã","type":1,"pageTitle":"ÊïÖÈöúÊéíÊü•","url":"/zh-CN/docs/0.14/guide/xlang/xlang_troubleshooting#Â≠óÊÆµ‰∏çÂåπÈÖçÈîôËØØ","content":" ÁóáÁä∂Ôºö ÂèçÂ∫èÂàóÂåñÁöÑÂØπË±°ÂÖ∑ÊúâÈîôËØØÁöÑÂ≠óÊÆµÂÄº„ÄÇ  ÂéüÂõ†Ôºö ËØ≠Ë®Ä‰πãÈó¥ÁöÑÂ≠óÊÆµÈ°∫Â∫è‰∏çÂêå„ÄÇ  Ëß£ÂÜ≥ÊñπÊ°àÔºö Fory ÊåâÂ≠óÊÆµÁöÑ snake_cased ÂêçÁß∞ÂØπÂ≠óÊÆµËøõË°åÊéíÂ∫è„ÄÇÁ°Æ‰øùÂ≠óÊÆµÂêçÁß∞‰∏ÄËá¥Ôºö  // Java - Â≠óÊÆµÂ∞ÜÊåâ‰ª•‰∏ãÈ°∫Â∫èÊéíÂ∫èÔºöage„ÄÅemail„ÄÅname public class Person { public String name; public int age; public String email; }   # Python - Áõ∏ÂêåÁöÑÂ≠óÊÆµÈ°∫Â∫è @dataclass class Person: name: str age: pyfory.Int32Type email: str   ","version":"0.14","tagName":"h3"},{"title":"ÂºïÁî®Ë∑üË∏™ÈóÆÈ¢ò‚Äã","type":1,"pageTitle":"ÊïÖÈöúÊéíÊü•","url":"/zh-CN/docs/0.14/guide/xlang/xlang_troubleshooting#ÂºïÁî®Ë∑üË∏™ÈóÆÈ¢ò","content":" ","version":"0.14","tagName":"h2"},{"title":"Âæ™ÁéØÂºïÁî®ÂØºËá¥Ê†àÊ∫¢Âá∫‚Äã","type":1,"pageTitle":"ÊïÖÈöúÊéíÊü•","url":"/zh-CN/docs/0.14/guide/xlang/xlang_troubleshooting#Âæ™ÁéØÂºïÁî®ÂØºËá¥Ê†àÊ∫¢Âá∫","content":" ÁóáÁä∂Ôºö  StackOverflowError Êàñ RecursionError   ÂéüÂõ†Ôºö ÂºïÁî®Ë∑üË∏™Ë¢´Á¶ÅÁî®Ôºå‰ΩÜÊï∞ÊçÆÂÖ∑ÊúâÂæ™ÁéØÂºïÁî®„ÄÇ  Ëß£ÂÜ≥ÊñπÊ°àÔºö ÂêØÁî®ÂºïÁî®Ë∑üË∏™Ôºö  // Java Fory fory = Fory.builder() .withLanguage(Language.XLANG) .withRefTracking(true) .build();   # Python fory = pyfory.Fory(ref_tracking=True)   ","version":"0.14","tagName":"h3"},{"title":"ÈáçÂ§çÂØπË±°‚Äã","type":1,"pageTitle":"ÊïÖÈöúÊéíÊü•","url":"/zh-CN/docs/0.14/guide/xlang/xlang_troubleshooting#ÈáçÂ§çÂØπË±°","content":" ÁóáÁä∂Ôºö ÂÖ±‰∫´ÂØπË±°Âú®ÂèçÂ∫èÂàóÂåñÂêéË¢´ÈáçÂ§ç„ÄÇ  ÂéüÂõ†Ôºö ÂºïÁî®Ë∑üË∏™Ë¢´Á¶ÅÁî®„ÄÇ  Ëß£ÂÜ≥ÊñπÊ°àÔºö Â¶ÇÊûúÂØπË±°Âú®Âõæ‰∏≠ÂÖ±‰∫´ÔºåËØ∑ÂêØÁî®ÂºïÁî®Ë∑üË∏™„ÄÇ  ","version":"0.14","tagName":"h3"},{"title":"ËØ≠Ë®ÄÊ®°ÂºèÈóÆÈ¢ò‚Äã","type":1,"pageTitle":"ÊïÖÈöúÊéíÊü•","url":"/zh-CN/docs/0.14/guide/xlang/xlang_troubleshooting#ËØ≠Ë®ÄÊ®°ÂºèÈóÆÈ¢ò","content":" ","version":"0.14","tagName":"h2"},{"title":"\"Êó†ÊïàÁöÑÈ≠îÊúØÊï∞Â≠ó\"ÈîôËØØ‚Äã","type":1,"pageTitle":"ÊïÖÈöúÊéíÊü•","url":"/zh-CN/docs/0.14/guide/xlang/xlang_troubleshooting#Êó†ÊïàÁöÑÈ≠îÊúØÊï∞Â≠óÈîôËØØ","content":" ÁóáÁä∂Ôºö  Error: Invalid magic number in header   ÂéüÂõ†Ôºö ‰∏ÄÊñπ‰ΩøÁî® Java ÂéüÁîüÊ®°ÂºèËÄå‰∏çÊòØ xlang Ê®°Âºè„ÄÇ  Ëß£ÂÜ≥ÊñπÊ°àÔºö Á°Æ‰øùÂèåÊñπÈÉΩ‰ΩøÁî® xlang Ê®°ÂºèÔºö  // Java - ÂøÖÈ°ª‰ΩøÁî® Language.XLANG Fory fory = Fory.builder() .withLanguage(Language.XLANG) .build();   ","version":"0.14","tagName":"h3"},{"title":"Xlang Ê®°Âºè‰∏≠ÁöÑ‰∏çÂÖºÂÆπÁ±ªÂûã‚Äã","type":1,"pageTitle":"ÊïÖÈöúÊéíÊü•","url":"/zh-CN/docs/0.14/guide/xlang/xlang_troubleshooting#xlang-Ê®°Âºè‰∏≠ÁöÑ‰∏çÂÖºÂÆπÁ±ªÂûã","content":" ÁóáÁä∂Ôºö  Error: Type 'Optional' is not supported in xlang mode   ÂéüÂõ†Ôºö ‰ΩøÁî®‰∫ÜÊ≤°ÊúâË∑®ËØ≠Ë®ÄÁ≠âÊïàÈ°πÁöÑ Java ÁâπÂÆöÁ±ªÂûã„ÄÇ  Ëß£ÂÜ≥ÊñπÊ°àÔºö ‰ΩøÁî®ÂÖºÂÆπÁöÑÁ±ªÂûãÔºö  // ËÄå‰∏çÊòØ Optional&lt;String&gt; public String email; // nullable // ËÄå‰∏çÊòØ BigDecimal public double amount; // ËÄå‰∏çÊòØ EnumSet&lt;Status&gt; public Set&lt;Status&gt; statuses;   ","version":"0.14","tagName":"h3"},{"title":"ÁâàÊú¨ÂÖºÂÆπÊÄß‚Äã","type":1,"pageTitle":"ÊïÖÈöúÊéíÊü•","url":"/zh-CN/docs/0.14/guide/xlang/xlang_troubleshooting#ÁâàÊú¨ÂÖºÂÆπÊÄß","content":" ","version":"0.14","tagName":"h2"},{"title":"Â∫èÂàóÂåñÊ†ºÂºèÂ∑≤Êõ¥Êîπ‚Äã","type":1,"pageTitle":"ÊïÖÈöúÊéíÊü•","url":"/zh-CN/docs/0.14/guide/xlang/xlang_troubleshooting#Â∫èÂàóÂåñÊ†ºÂºèÂ∑≤Êõ¥Êîπ","content":" ÁóáÁä∂Ôºö ÂçáÁ∫ß Fory ÂêéÂèçÂ∫èÂàóÂåñÂ§±Ë¥•„ÄÇ  ÂéüÂõ†Ôºö Â∫èÂàóÂåñÊ†ºÂºè‰∏≠ÁöÑÁ†¥ÂùèÊÄßÊõ¥Êîπ„ÄÇ  Ëß£ÂÜ≥ÊñπÊ°àÔºö  Á°Æ‰øùÊâÄÊúâÊúçÂä°‰ΩøÁî®ÂÖºÂÆπÁöÑ Fory ÁâàÊú¨Ê£ÄÊü•ÂèëÂ∏ÉËØ¥Êòé‰∏≠ÁöÑÁ†¥ÂùèÊÄßÊõ¥ÊîπËÄÉËôë‰ΩøÁî® schema ÊºîÂåñÔºàcompatible Ê®°ÂºèÔºâËøõË°åÊ∏êËøõÂºèÂçáÁ∫ß  ","version":"0.14","tagName":"h3"},{"title":"Ë∞ÉËØïÊäÄÂ∑ß‚Äã","type":1,"pageTitle":"ÊïÖÈöúÊéíÊü•","url":"/zh-CN/docs/0.14/guide/xlang/xlang_troubleshooting#Ë∞ÉËØïÊäÄÂ∑ß","content":" ","version":"0.14","tagName":"h2"},{"title":"ÂêØÁî®Ë∞ÉËØïÊó•Âøó‚Äã","type":1,"pageTitle":"ÊïÖÈöúÊéíÊü•","url":"/zh-CN/docs/0.14/guide/xlang/xlang_troubleshooting#ÂêØÁî®Ë∞ÉËØïÊó•Âøó","content":" JavaÔºö  // Ê∑ªÂä†Âà∞ JVM ÈÄâÈ°π -Dfory.debug=true   PythonÔºö  import logging logging.getLogger('pyfory').setLevel(logging.DEBUG)   ","version":"0.14","tagName":"h3"},{"title":"Ê£ÄÊü•Â∫èÂàóÂåñÊï∞ÊçÆ‚Äã","type":1,"pageTitle":"ÊïÖÈöúÊéíÊü•","url":"/zh-CN/docs/0.14/guide/xlang/xlang_troubleshooting#Ê£ÄÊü•Â∫èÂàóÂåñÊï∞ÊçÆ","content":" ‰ΩøÁî®ÂçÅÂÖ≠ËøõÂà∂ËΩ¨ÂÇ®Ê£ÄÊü•‰∫åËøõÂà∂Ê†ºÂºèÔºö  data = fory.serialize(obj) print(data.hex())   ","version":"0.14","tagName":"h3"},{"title":"ÊµãËØïÂæÄËøî‚Äã","type":1,"pageTitle":"ÊïÖÈöúÊéíÊü•","url":"/zh-CN/docs/0.14/guide/xlang/xlang_troubleshooting#ÊµãËØïÂæÄËøî","content":" ÂßãÁªàÂú®ÊØèÁßçËØ≠Ë®Ä‰∏≠ÊµãËØïÂæÄËøîÂ∫èÂàóÂåñÔºö  byte[] bytes = fory.serialize(obj); Object result = fory.deserialize(bytes); assert obj.equals(result);   ","version":"0.14","tagName":"h3"},{"title":"Ë∑®ËØ≠Ë®ÄÊµãËØï‚Äã","type":1,"pageTitle":"ÊïÖÈöúÊéíÊü•","url":"/zh-CN/docs/0.14/guide/xlang/xlang_troubleshooting#Ë∑®ËØ≠Ë®ÄÊµãËØï","content":" Âú®ÈÉ®ÁΩ≤‰πãÂâçÊµãËØïÊâÄÊúâÁõÆÊ†áËØ≠Ë®ÄÁöÑÂ∫èÂàóÂåñÔºö  # Âú® Java ‰∏≠Â∫èÂàóÂåñ java -jar serializer.jar &gt; data.bin # Âú® Python ‰∏≠ÂèçÂ∫èÂàóÂåñ python deserializer.py data.bin   ","version":"0.14","tagName":"h3"},{"title":"Â∏∏ËßÅÈîôËØØ‚Äã","type":1,"pageTitle":"ÊïÖÈöúÊéíÊü•","url":"/zh-CN/docs/0.14/guide/xlang/xlang_troubleshooting#Â∏∏ËßÅÈîôËØØ","content":" Êú™Ê≥®ÂÜåÁ±ªÂûãÔºöÂßãÁªàÂú®‰ΩøÁî®ÂâçÊ≥®ÂÜåËá™ÂÆö‰πâÁ±ªÂûãÁ±ªÂûãÂêçÁß∞/ID ‰∏ç‰∏ÄËá¥ÔºöÂú®ÊâÄÊúâËØ≠Ë®Ä‰∏≠‰ΩøÁî®Áõ∏ÂêåÁöÑÂêçÁß∞/IDÂøòËÆ∞ xlang Ê®°ÂºèÔºöÂú® Java ‰∏≠‰ΩøÁî® Language.XLANGÈîôËØØÁöÑÁ±ªÂûãÊ≥®Ëß£ÔºöÂú® Python ‰∏≠‰ΩøÁî® pyfory.Int32Type Á≠âÂøΩÁï•ÂºïÁî®Ë∑üË∏™Ôºö‰∏∫Âæ™ÁéØ/ÂÖ±‰∫´ÂºïÁî®ÂêØÁî®  ","version":"0.14","tagName":"h2"},{"title":"Âè¶ËØ∑ÂèÇÈòÖ‚Äã","type":1,"pageTitle":"ÊïÖÈöúÊéíÊü•","url":"/zh-CN/docs/0.14/guide/xlang/xlang_troubleshooting#Âè¶ËØ∑ÂèÇÈòÖ","content":" Á±ªÂûãÊò†Â∞Ñ - Ë∑®ËØ≠Ë®ÄÁ±ªÂûãÊò†Â∞ÑÂèÇËÄÉÂÖ•Èó®ÊåáÂçó - ËÆæÁΩÆÊåáÂçóJava ÊïÖÈöúÊéíÊü• - Java ÁâπÂÆöÈóÆÈ¢òPython ÊïÖÈöúÊéíÊü• - Python ÁâπÂÆöÈóÆÈ¢ò ","version":"0.14","tagName":"h2"},{"title":"ÊÄßËÉΩÊµãËØï","type":0,"sectionRef":"#","url":"/zh-CN/docs/0.14/introduction/benchmark","content":"","keywords":"","version":"0.14"},{"title":"Java ÊÄßËÉΩÊµãËØï‚Äã","type":1,"pageTitle":"ÊÄßËÉΩÊµãËØï","url":"/zh-CN/docs/0.14/introduction/benchmark#java-ÊÄßËÉΩÊµãËØï","content":" ","version":"0.14","tagName":"h2"},{"title":"Java Â∫èÂàóÂåñ‚Äã","type":1,"pageTitle":"ÊÄßËÉΩÊµãËØï","url":"/zh-CN/docs/0.14/introduction/benchmark#java-Â∫èÂàóÂåñ","content":"         ","version":"0.14","tagName":"h3"},{"title":"Java ÂèçÂ∫èÂàóÂåñ‚Äã","type":1,"pageTitle":"ÊÄßËÉΩÊµãËØï","url":"/zh-CN/docs/0.14/introduction/benchmark#java-ÂèçÂ∫èÂàóÂåñ","content":"         Êõ¥Â§öÂÖ≥‰∫éÁ±ªÂûãÂâçÂêë/ÂêéÂêëÂÖºÂÆπÊÄß„ÄÅÂ†ÜÂ§ñÊîØÊåÅ„ÄÅÈõ∂Êã∑Ë¥ùÂ∫èÂàóÂåñÁöÑÊÄßËÉΩÊµãËØïÔºåËØ∑ÂèÇËßÅ benchmarks„ÄÇ  ","version":"0.14","tagName":"h3"},{"title":"Rust ÊÄßËÉΩÊµãËØï‚Äã","type":1,"pageTitle":"ÊÄßËÉΩÊµãËØï","url":"/zh-CN/docs/0.14/introduction/benchmark#rust-ÊÄßËÉΩÊµãËØï","content":"       Ê≥®ÊÑèÔºöÁªìÊûúÂèñÂÜ≥‰∫éÁ°¨‰ª∂„ÄÅÊï∞ÊçÆÈõÜÂíåÂÆûÁé∞ÁâàÊú¨„ÄÇÊúâÂÖ≥Â¶Ç‰ΩïËá™Ë°åËøêË°åÊÄßËÉΩÊµãËØïÁöÑ‰ø°ÊÅØÔºåËØ∑ÂèÇÈòÖ Fory Rust Benchmark ÊåáÂçóÔºöhttps://github.com/apache/fory/blob/main/benchmarks/rust_benchmark/README.md  ","version":"0.14","tagName":"h2"},{"title":"JavaScript ÊÄßËÉΩÊµãËØï‚Äã","type":1,"pageTitle":"ÊÄßËÉΩÊµãËØï","url":"/zh-CN/docs/0.14/introduction/benchmark#javascript-ÊÄßËÉΩÊµãËØï","content":"   Ê≠§Êü±Áä∂Âõæ‰ΩøÁî®ÁöÑÊï∞ÊçÆÂåÖÂê´‰∏Ä‰∏™ÂÖ∑ÊúâÂ§öÁßçÂ≠óÊÆµÁ±ªÂûãÁöÑÂ§çÊùÇÂØπË±°ÔºåJSON Êï∞ÊçÆÂ§ßÂ∞è‰∏∫ 3KB„ÄÇ  ÊÄßËÉΩÊµãËØï‰ª£Á†ÅËØ∑ÂèÇËßÅ benchmarks„ÄÇ ","version":"0.14","tagName":"h2"},{"title":"Features","type":0,"sectionRef":"#","url":"/zh-CN/docs/0.14/introduction/features","content":"Features Â§öÁßçËØ≠Ë®ÄÔºöJava/Python/C++/Golang/Javascript/Rust„ÄÇÈõ∂Êã∑Ë¥ùÔºöÁ±ª‰ººpickle5ÔºåÊîØÊåÅÂ†ÜÂ§ñËØª/ÂÜôÁöÑË∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ„ÄÇÈ´òÊÄßËÉΩÔºöÈ´òÂ∫¶ÂèØÊâ©Â±ïÁöÑ JIT Ê°ÜÊû∂ÔºåÂèØÂú®ËøêË°åÊó∂‰ª•ÂºÇÊ≠•Â§öÁ∫øÁ®ãÊñπÂºèÁîüÊàêÂ∫èÂàóÂåñÁ®ãÂ∫è‰ª£Á†ÅÔºå‰ª•Âä†Âø´Â∫èÂàóÂåñÈÄüÂ∫¶ÔºåÈÄöËøá‰ª•‰∏ãÊñπÂºèÊèêÂçá 20-170 ÂÄçÁöÑÈÄüÂ∫¶Ôºö ÂáèÂ∞ëÂú®ÁîüÊàê‰ª£Á†Å‰∏≠ÂÜÖËÅîÂèòÈáèÂáèÂ∞ëÂÜÖÂ≠òËÆøÈóÆÔºõÈÄöËøáÂú®ÁîüÊàêÁöÑ‰ª£Á†Å‰∏≠ÂÜÖËÅîË∞ÉÁî®Êù•ÂáèÂ∞ëËôöÊãüÊñπÊ≥ïË∞ÉÁî®ÔºõÂáèÂ∞ëÊù°‰ª∂ÂàÜÊîØÔºõÂáèÂ∞ëÂìàÂ∏åÊü•ÊâæÔºõ ‰∫åËøõÂà∂ÂçèËÆÆÔºöÂØπË±°Âõæ„ÄÅË°åÊ†ºÂºèÁ≠â„ÄÇ Èô§‰∫ÜË∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ‰πãÂ§ñÔºåApache Fory‚Ñ¢ ËøòÊîØÊåÅ‰ª•‰∏ãÂäüËÉΩÔºö Áõ¥Êé•ÊõøÊç¢ Java Â∫èÂàóÂåñÊ°ÜÊû∂ÔºåÂ¶Ç JDK/Kryo/HessianÔºåÊó†ÈúÄ‰øÆÊîπ‰ªª‰Ωï‰ª£Á†ÅÔºå‰ΩÜÈÄüÂ∫¶ÊèêÈ´ò 100 ÂÄç„ÄÇÂÆÉÂèØ‰ª•Â§ßÂ§ßÊèêÈ´ò RPC Ë∞ÉÁî®ÊÄßËÉΩ„ÄÅÊï∞ÊçÆ‰º†ËæìÂíåÂØπË±°ÊåÅ‰πÖÂåñÁöÑÊïàÁéáÔºõJDK Â∫èÂàóÂåñ 100% ÂÖºÂÆπÔºåÂéüÁîüÊîØÊåÅ java Ëá™ÂÆö‰πâÂ∫èÂàóÂåñ writeObject/readObject/writeReplace/readResolve/readObjectNoDataÔºõÊîØÊåÅ golang ÁöÑÂÖ±‰∫´ÂíåÂæ™ÁéØÂºïÁî®ÂØπË±°Â∫èÂàóÂåñÔºõÊîØÊåÅ golang ÁöÑËá™Âä®ÂØπË±°Â∫èÂàóÂåñ„ÄÇ","keywords":"","version":"0.14"},{"title":"Èõ∂Êã∑Ë¥ùÂ∫èÂàóÂåñ","type":0,"sectionRef":"#","url":"/zh-CN/docs/0.14/guide/xlang/xlang_zero_copy","content":"","keywords":"","version":"0.14"},{"title":"‰ΩïÊó∂‰ΩøÁî®Èõ∂Êã∑Ë¥ù‚Äã","type":1,"pageTitle":"Èõ∂Êã∑Ë¥ùÂ∫èÂàóÂåñ","url":"/zh-CN/docs/0.14/guide/xlang/xlang_zero_copy#‰ΩïÊó∂‰ΩøÁî®Èõ∂Êã∑Ë¥ù","content":" Âú®‰ª•‰∏ãÊÉÖÂÜµ‰∏ã‰ΩøÁî®Èõ∂Êã∑Ë¥ùÂ∫èÂàóÂåñÔºö  Â∫èÂàóÂåñÂ§ßÂûãÂ≠óËäÇÊï∞ÁªÑÊàñ‰∫åËøõÂà∂Êï∞ÊçÆÂùóÂ§ÑÁêÜÊï∞ÂÄºÊï∞ÁªÑÔºàint[]„ÄÅdouble[] Á≠âÔºâÈÄöËøáÈ´òÊÄßËÉΩÁΩëÁªú‰º†ËæìÊï∞ÊçÆÂÜÖÂ≠òÊïàÁéáËá≥ÂÖ≥ÈáçË¶Å  ","version":"0.14","tagName":"h2"},{"title":"Â∑•‰ΩúÂéüÁêÜ‚Äã","type":1,"pageTitle":"Èõ∂Êã∑Ë¥ùÂ∫èÂàóÂåñ","url":"/zh-CN/docs/0.14/guide/xlang/xlang_zero_copy#Â∑•‰ΩúÂéüÁêÜ","content":" Â∫èÂàóÂåñÔºöÂ§ßÂûãÁºìÂÜ≤Âå∫Ë¢´ÊèêÂèñÂá∫Êù•ÔºåÂπ∂ÈÄöËøáÂõûË∞ÉÂçïÁã¨ËøîÂõû‰º†ËæìÔºö‰∏ªÂ∫èÂàóÂåñÊï∞ÊçÆÂíåÁºìÂÜ≤Âå∫ÂØπË±°ÂàÜÂà´‰º†ËæìÂèçÂ∫èÂàóÂåñÔºöÊèê‰æõÁºìÂÜ≤Âå∫‰ª•ÈáçÂª∫ÂéüÂßãÂØπË±°  ËøôÈÅøÂÖç‰∫ÜÂ∞ÜÂ§ßÂûãÊï∞ÊçÆÂ§çÂà∂Âà∞‰∏ªÂ∫èÂàóÂåñÁºìÂÜ≤Âå∫‰∏≠„ÄÇ  ","version":"0.14","tagName":"h2"},{"title":"Java‚Äã","type":1,"pageTitle":"Èõ∂Êã∑Ë¥ùÂ∫èÂàóÂåñ","url":"/zh-CN/docs/0.14/guide/xlang/xlang_zero_copy#java","content":" import org.apache.fory.*; import org.apache.fory.config.*; import org.apache.fory.serializer.BufferObject; import org.apache.fory.memory.MemoryBuffer; import java.util.*; import java.util.stream.Collectors; public class ZeroCopyExample { public static void main(String[] args) { Fory fory = Fory.builder().withLanguage(Language.XLANG).build(); // ÂåÖÂê´Â§ßÂûãÊï∞ÁªÑÁöÑÊï∞ÊçÆ List&lt;Object&gt; list = List.of( &quot;str&quot;, new byte[1000], // Â§ßÂûãÂ≠óËäÇÊï∞ÁªÑ new int[100], // Â§ßÂûã int Êï∞ÁªÑ new double[100] // Â§ßÂûã double Êï∞ÁªÑ ); // Âú®Â∫èÂàóÂåñÊúüÈó¥Êî∂ÈõÜÁºìÂÜ≤Âå∫ÂØπË±° Collection&lt;BufferObject&gt; bufferObjects = new ArrayList&lt;&gt;(); byte[] bytes = fory.serialize(list, e -&gt; !bufferObjects.add(e)); // ËΩ¨Êç¢‰∏∫ÁºìÂÜ≤Âå∫‰ª•‰æø‰º†Ëæì List&lt;MemoryBuffer&gt; buffers = bufferObjects.stream() .map(BufferObject::toBuffer) .collect(Collectors.toList()); // ‰ΩøÁî®ÁºìÂÜ≤Âå∫ÂèçÂ∫èÂàóÂåñ Object result = fory.deserialize(bytes, buffers); System.out.println(result); } }   ","version":"0.14","tagName":"h2"},{"title":"Python‚Äã","type":1,"pageTitle":"Èõ∂Êã∑Ë¥ùÂ∫èÂàóÂåñ","url":"/zh-CN/docs/0.14/guide/xlang/xlang_zero_copy#python","content":" import array import pyfory import numpy as np fory = pyfory.Fory() # ÂåÖÂê´Â§ßÂûãÊï∞ÁªÑÁöÑÊï∞ÊçÆ data = [ &quot;str&quot;, bytes(bytearray(1000)), # Â§ßÂûãÂ≠óËäÇÊï∞ÁªÑ array.array(&quot;i&quot;, range(100)), # Â§ßÂûã int Êï∞ÁªÑ np.full(100, 0.0, dtype=np.double) # Â§ßÂûã numpy Êï∞ÁªÑ ] # Âú®Â∫èÂàóÂåñÊúüÈó¥Êî∂ÈõÜÁºìÂÜ≤Âå∫ÂØπË±° serialized_objects = [] serialized_data = fory.serialize(data, buffer_callback=serialized_objects.append) # ËΩ¨Êç¢‰∏∫ÁºìÂÜ≤Âå∫‰ª•‰æø‰º†Ëæì buffers = [obj.to_buffer() for obj in serialized_objects] # ‰ΩøÁî®ÁºìÂÜ≤Âå∫ÂèçÂ∫èÂàóÂåñ result = fory.deserialize(serialized_data, buffers=buffers) print(result)   ","version":"0.14","tagName":"h2"},{"title":"Go‚Äã","type":1,"pageTitle":"Èõ∂Êã∑Ë¥ùÂ∫èÂàóÂåñ","url":"/zh-CN/docs/0.14/guide/xlang/xlang_zero_copy#go","content":" package main import forygo &quot;github.com/apache/fory/go/fory&quot; import &quot;fmt&quot; func main() { fory := forygo.NewFory() // ÂåÖÂê´Â§ßÂûãÊï∞ÁªÑÁöÑÊï∞ÊçÆ list := []interface{}{ &quot;str&quot;, make([]byte, 1000), // Â§ßÂûãÂ≠óËäÇÊï∞ÁªÑ } buf := fory.NewByteBuffer(nil) var bufferObjects []fory.BufferObject // Âú®Â∫èÂàóÂåñÊúüÈó¥Êî∂ÈõÜÁºìÂÜ≤Âå∫ÂØπË±° fory.Serialize(buf, list, func(o fory.BufferObject) bool { bufferObjects = append(bufferObjects, o) return false }) // ËΩ¨Êç¢‰∏∫ÁºìÂÜ≤Âå∫‰ª•‰æø‰º†Ëæì var buffers []*fory.ByteBuffer for _, o := range bufferObjects { buffers = append(buffers, o.ToBuffer()) } // ‰ΩøÁî®ÁºìÂÜ≤Âå∫ÂèçÂ∫èÂàóÂåñ var newList []interface{} if err := fory.Deserialize(buf, &amp;newList, buffers); err != nil { panic(err) } fmt.Println(newList) }   ","version":"0.14","tagName":"h2"},{"title":"JavaScript‚Äã","type":1,"pageTitle":"Èõ∂Êã∑Ë¥ùÂ∫èÂàóÂåñ","url":"/zh-CN/docs/0.14/guide/xlang/xlang_zero_copy#javascript","content":" // Èõ∂Êã∑Ë¥ùÊîØÊåÅÂç≥Â∞ÜÊé®Âá∫   ","version":"0.14","tagName":"h2"},{"title":"‰ΩøÁî®Âú∫ÊôØ‚Äã","type":1,"pageTitle":"Èõ∂Êã∑Ë¥ùÂ∫èÂàóÂåñ","url":"/zh-CN/docs/0.14/guide/xlang/xlang_zero_copy#‰ΩøÁî®Âú∫ÊôØ","content":" ","version":"0.14","tagName":"h2"},{"title":"È´òÊÄßËÉΩÊï∞ÊçÆ‰º†Ëæì‚Äã","type":1,"pageTitle":"Èõ∂Êã∑Ë¥ùÂ∫èÂàóÂåñ","url":"/zh-CN/docs/0.14/guide/xlang/xlang_zero_copy#È´òÊÄßËÉΩÊï∞ÊçÆ‰º†Ëæì","content":" Âú®ÈÄöËøáÁΩëÁªúÂèëÈÄÅÂ§ßÂûãÊï∞ÊçÆÈõÜÊó∂Ôºö  // ÂèëÈÄÅÊñπ Collection&lt;BufferObject&gt; buffers = new ArrayList&lt;&gt;(); byte[] metadata = fory.serialize(dataObject, e -&gt; !buffers.add(e)); // ÂàÜÂà´ÂèëÈÄÅÂÖÉÊï∞ÊçÆÂíåÁºìÂÜ≤Âå∫ network.sendMetadata(metadata); for (BufferObject buf : buffers) { network.sendBuffer(buf.toBuffer()); } // Êé•Êî∂Êñπ byte[] metadata = network.receiveMetadata(); List&lt;MemoryBuffer&gt; buffers = network.receiveBuffers(); Object data = fory.deserialize(metadata, buffers);   ","version":"0.14","tagName":"h3"},{"title":"ÂÜÖÂ≠òÊò†Â∞ÑÊñá‰ª∂‚Äã","type":1,"pageTitle":"Èõ∂Êã∑Ë¥ùÂ∫èÂàóÂåñ","url":"/zh-CN/docs/0.14/guide/xlang/xlang_zero_copy#ÂÜÖÂ≠òÊò†Â∞ÑÊñá‰ª∂","content":" Èõ∂Êã∑Ë¥ù‰∏éÂÜÖÂ≠òÊò†Â∞ÑÊñá‰ª∂ÈÖçÂêàËâØÂ•ΩÔºö  // ÂÜôÂÖ• Collection&lt;BufferObject&gt; buffers = new ArrayList&lt;&gt;(); byte[] data = fory.serialize(largeObject, e -&gt; !buffers.add(e)); writeToFile(&quot;data.bin&quot;, data); for (int i = 0; i &lt; buffers.size(); i++) { writeToFile(&quot;buffer&quot; + i + &quot;.bin&quot;, buffers.get(i).toBuffer()); } // ËØªÂèñ byte[] data = readFromFile(&quot;data.bin&quot;); List&lt;MemoryBuffer&gt; buffers = readBufferFiles(); Object result = fory.deserialize(data, buffers);   ","version":"0.14","tagName":"h3"},{"title":"ÊÄßËÉΩËÄÉËôë‚Äã","type":1,"pageTitle":"Èõ∂Êã∑Ë¥ùÂ∫èÂàóÂåñ","url":"/zh-CN/docs/0.14/guide/xlang/xlang_zero_copy#ÊÄßËÉΩËÄÉËôë","content":" ÈòàÂÄºÔºöÁî±‰∫éÂõûË∞ÉÂºÄÈîÄÔºåÂ∞èÊï∞ÁªÑÂèØËÉΩ‰∏ç‰ºö‰ªéÈõ∂Êã∑Ë¥ù‰∏≠ÂèóÁõäÁΩëÁªúÔºöÂΩìÁºìÂÜ≤Âå∫ÂèØ‰ª•Âú®‰∏çÂ§çÂà∂ÁöÑÊÉÖÂÜµ‰∏ãÂèëÈÄÅÊó∂ÔºåÈõ∂Êã∑Ë¥ùÊúÄÊúâÁõäÂÜÖÂ≠òÔºöÈÄöËøáÈÅøÂÖçÁºìÂÜ≤Âå∫Â§çÂà∂Êù•ÂáèÂ∞ëÂ≥∞ÂÄºÂÜÖÂ≠ò‰ΩøÁî®  ","version":"0.14","tagName":"h2"},{"title":"Âè¶ËØ∑ÂèÇÈòÖ‚Äã","type":1,"pageTitle":"Èõ∂Êã∑Ë¥ùÂ∫èÂàóÂåñ","url":"/zh-CN/docs/0.14/guide/xlang/xlang_zero_copy#Âè¶ËØ∑ÂèÇÈòÖ","content":" Â∫èÂàóÂåñ - Ê†áÂáÜÂ∫èÂàóÂåñÁ§∫‰æãPython Â∏¶Â§ñÊåáÂçó - Python ÁâπÂÆöÁöÑÈõ∂Êã∑Ë¥ùËØ¶ÊÉÖ ","version":"0.14","tagName":"h2"},{"title":"Ê¶ÇËø∞","type":0,"sectionRef":"#","url":"/zh-CN/docs/0.14/introduction/overview","content":"","keywords":"","version":"0.14"},{"title":"Âø´ÈÄüÁ§∫‰æã‚Äã","type":1,"pageTitle":"Ê¶ÇËø∞","url":"/zh-CN/docs/0.14/introduction/overview#Âø´ÈÄüÁ§∫‰æã","content":" Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ - Âú® Rust ‰∏≠Â∫èÂàóÂåñÔºåÂú® Python ‰∏≠ÂèçÂ∫èÂàóÂåñÔºö  Rust  use fory::{Fory, ForyObject}; #[derive(ForyObject, Debug, PartialEq)] struct User { name: String, age: i32, } fn main() { let mut fory = Fory::default().xlang(true); fory.register::&lt;User&gt;(1); let user = User { name: &quot;Alice&quot;.to_string(), age: 30 }; let bytes = fory.serialize(&amp;user).unwrap(); let decoded: User = fory.deserialize(&amp;bytes).unwrap(); println!(&quot;{:?}&quot;, decoded); // User { name: &quot;Alice&quot;, age: 30 } }   Python  import pyfory from dataclasses import dataclass @dataclass class User: name: str age: pyfory.int32 fory = pyfory.Fory(xlang=True) fory.register(User, type_id=1) user = User(name=&quot;Alice&quot;, age=30) data = fory.serialize(user) decoded = fory.deserialize(data) print(decoded) # User(name='Alice', age=30)   ","version":"0.14","tagName":"h2"},{"title":"Ê†∏ÂøÉÁâπÊÄß‚Äã","type":1,"pageTitle":"Ê¶ÇËø∞","url":"/zh-CN/docs/0.14/introduction/overview#Ê†∏ÂøÉÁâπÊÄß","content":" ","version":"0.14","tagName":"h2"},{"title":"üöÄ È´òÊÄßËÉΩÂ∫èÂàóÂåñ‚Äã","type":1,"pageTitle":"Ê¶ÇËø∞","url":"/zh-CN/docs/0.14/introduction/overview#-È´òÊÄßËÉΩÂ∫èÂàóÂåñ","content":" Apache Fory‚Ñ¢ ÈÄöËøáÂÖàËøõÁöÑ‰ºòÂåñÊäÄÊúØÊèê‰æõÂçìË∂äÊÄßËÉΩÔºö  JIT ÁºñËØëÔºöJava ËøêË°åÊó∂‰ª£Á†ÅÁîüÊàêÊ∂àÈô§ËôöÊñπÊ≥ïË∞ÉÁî®Âπ∂ÂÜÖËÅîÁÉ≠Ë∑ØÂæÑÈùôÊÄÅ‰ª£Á†ÅÁîüÊàêÔºöRust„ÄÅC++ Âíå Go ÁöÑÁºñËØëÊó∂‰ª£Á†ÅÁîüÊàêÔºåÊó†ËøêË°åÊó∂ÂºÄÈîÄÂç≥ÂèØËææÂà∞Â≥∞ÂÄºÊÄßËÉΩÈõ∂Êã∑Ë¥ùÊìç‰ΩúÔºöÊó†ÈúÄ‰∏≠Èó¥ÁºìÂÜ≤Âå∫Â§çÂà∂ÁöÑÁõ¥Êé•ÂÜÖÂ≠òËÆøÈóÆÔºõË°åÊ†ºÂºèÊîØÊåÅÈöèÊú∫ËÆøÈóÆÂíåÈÉ®ÂàÜÂ∫èÂàóÂåñÊô∫ËÉΩÁºñÁ†ÅÔºöÊï¥Êï∞ÂíåÂ≠óÁ¨¶‰∏≤ÁöÑÂèòÈïøÂéãÁº©ÔºõÊï∞ÁªÑÁöÑ SIMD Âä†ÈÄüÔºàJava 16+ÔºâÂÖÉÊï∞ÊçÆÂÖ±‰∫´ÔºöÁ±ªÂÖÉÊï∞ÊçÆÊâìÂåÖÂáèÂ∞ëË∑®Â∫èÂàóÂåñÁöÑÂÜó‰ΩôÁ±ªÂûã‰ø°ÊÅØ  ","version":"0.14","tagName":"h3"},{"title":"üîÑ Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ‚Äã","type":1,"pageTitle":"Ê¶ÇËø∞","url":"/zh-CN/docs/0.14/introduction/overview#-Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ","content":" xlang Â∫èÂàóÂåñÊ†ºÂºè ÊîØÊåÅË∑®ÁºñÁ®ãËØ≠Ë®ÄÁöÑÊó†ÁºùÊï∞ÊçÆ‰∫§Êç¢Ôºö  Ëá™Âä®Á±ªÂûãÊò†Â∞ÑÔºöËØ≠Ë®ÄÁâπÂÆöÁ±ªÂûã‰πãÈó¥ÁöÑÊô∫ËÉΩËΩ¨Êç¢ÔºàÁ±ªÂûãÊò†Â∞ÑÔºâÂºïÁî®‰øùÊåÅÔºöÂÖ±‰∫´ÂíåÂæ™ÁéØÂºïÁî®Âú®Ë∑®ËØ≠Ë®ÄÊó∂Ê≠£Á°ÆÂ∑•‰ΩúÂ§öÊÄÅÊîØÊåÅÔºöÂØπË±°‰ª•ÂÖ∂ÂÆûÈôÖËøêË°åÊó∂Á±ªÂûãËøõË°åÂ∫èÂàóÂåñ/ÂèçÂ∫èÂàóÂåñSchema ÊºîËøõÔºöÂèØÈÄâÁöÑÂêëÂâç/ÂêëÂêéÂÖºÂÆπÊÄßÊîØÊåÅ Schema ÊºîËøõËá™Âä®Â∫èÂàóÂåñÔºöÊó†ÈúÄ IDL Êàñ Schema ÂÆö‰πâÔºõÁõ¥Êé•Â∫èÂàóÂåñ‰ªª‰ΩïÂØπË±°ÔºåÊó†ÈúÄ‰ª£Á†ÅÁîüÊàê  ","version":"0.14","tagName":"h3"},{"title":"üìä Ë°åÊ†ºÂºè‚Äã","type":1,"pageTitle":"Ê¶ÇËø∞","url":"/zh-CN/docs/0.14/introduction/overview#-Ë°åÊ†ºÂºè","content":" ÈíàÂØπÂàÜÊûêÂ∑•‰ΩúË¥üËΩΩ‰ºòÂåñÁöÑÁºìÂ≠òÂèãÂ•ΩÂûã Ë°åÊ†ºÂºèÔºö  Èõ∂Êã∑Ë¥ùÈöèÊú∫ËÆøÈóÆÔºöÊó†ÈúÄÂèçÂ∫èÂàóÂåñÊï¥‰∏™ÂØπË±°Âç≥ÂèØËØªÂèñÂçï‰∏™Â≠óÊÆµÈÉ®ÂàÜÊìç‰ΩúÔºöÈÄâÊã©ÊÄßÂ≠óÊÆµÂ∫èÂàóÂåñÂíåÂèçÂ∫èÂàóÂåñ‰ª•ÊèêÈ´òÊïàÁéáApache Arrow ÈõÜÊàêÔºöÊó†ÁºùËΩ¨Êç¢‰∏∫ÂàóÊ†ºÂºè‰ª•Áî®‰∫éÂàÜÊûêÊµÅÊ∞¥Á∫øÂ§öËØ≠Ë®ÄÊîØÊåÅÔºöÂèØÁî®‰∫é Java„ÄÅPython„ÄÅRust Âíå C++  ","version":"0.14","tagName":"h3"},{"title":"üîí ÂÆâÂÖ®ÊÄß‰∏éÁîü‰∫ßÂ∞±Áª™‚Äã","type":1,"pageTitle":"Ê¶ÇËø∞","url":"/zh-CN/docs/0.14/introduction/overview#-ÂÆâÂÖ®ÊÄß‰∏éÁîü‰∫ßÂ∞±Áª™","content":" ‰ºÅ‰∏öÁ∫ßÂÆâÂÖ®ÊÄßÂíåÂÖºÂÆπÊÄßÔºö  Á±ªÊ≥®ÂÜåÔºöÂü∫‰∫éÁôΩÂêçÂçïÁöÑÂèçÂ∫èÂàóÂåñÊéßÂà∂ÔºàÈªòËÆ§ÂêØÁî®ÔºâÊ∑±Â∫¶ÈôêÂà∂ÔºöÈò≤Ê≠¢ÈÄíÂΩíÂØπË±°ÂõæÊîªÂáªÂèØÈÖçÁΩÆÁ≠ñÁï•ÔºöËá™ÂÆö‰πâÁ±ªÊ£ÄÊü•Âô®ÂíåÂèçÂ∫èÂàóÂåñÁ≠ñÁï•Âπ≥Âè∞ÊîØÊåÅÔºöJava 8-24„ÄÅGraalVM ÂéüÁîüÈïúÂÉè„ÄÅÂ§öÊìç‰ΩúÁ≥ªÁªüÂπ≥Âè∞  ","version":"0.14","tagName":"h3"},{"title":"ÂçèËÆÆ‚Äã","type":1,"pageTitle":"Ê¶ÇËø∞","url":"/zh-CN/docs/0.14/introduction/overview#ÂçèËÆÆ","content":" Apache Fory‚Ñ¢ ÂÆûÁé∞‰∫ÜÈíàÂØπ‰∏çÂêåÂú∫ÊôØ‰ºòÂåñÁöÑÂ§ö‰∏™‰∫åËøõÂà∂ÂçèËÆÆÔºö  ÂçèËÆÆ\t‰ΩøÁî®Âú∫ÊôØ\tÊ†∏ÂøÉÁâπÊÄßË∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ\tË∑®ËØ≠Ë®ÄÂØπË±°‰∫§Êç¢\tËá™Âä®Â∫èÂàóÂåñ„ÄÅÂºïÁî®„ÄÅÂ§öÊÄÅ Java Â∫èÂàóÂåñ\tÈ´òÊÄßËÉΩ Java ‰∏ìÁî®\tJDK Â∫èÂàóÂåñÁöÑÁõ¥Êé•Êõø‰ª£ÔºåÂø´ 100 ÂÄç Ë°åÊ†ºÂºè\tÂàÜÊûêÂíåÊï∞ÊçÆÂ§ÑÁêÜ\tÈõ∂Êã∑Ë¥ùÈöèÊú∫ËÆøÈóÆ„ÄÅArrow ÂÖºÂÆπ Python ÂéüÁîü\tPython ‰∏ìÁî®Â∫èÂàóÂåñ\tPickle/cloudpickle Êõø‰ª£ÔºåÊÄßËÉΩÊõ¥Â•Ω  ÊâÄÊúâÂçèËÆÆÂÖ±‰∫´Áõ∏ÂêåÁöÑ‰ºòÂåñ‰ª£Á†ÅÂ∫ìÔºå‰∏Ä‰∏™ÂçèËÆÆÁöÑÊîπËøõÂèØ‰ª•ÊÉ†ÂèäÂÖ∂‰ªñÂçèËÆÆ„ÄÇ  ","version":"0.14","tagName":"h2"},{"title":"ÊñáÊ°£‚Äã","type":1,"pageTitle":"Ê¶ÇËø∞","url":"/zh-CN/docs/0.14/introduction/overview#ÊñáÊ°£","content":" ","version":"0.14","tagName":"h2"},{"title":"Áî®Êà∑ÊåáÂçó‚Äã","type":1,"pageTitle":"Ê¶ÇËø∞","url":"/zh-CN/docs/0.14/introduction/overview#Áî®Êà∑ÊåáÂçó","content":" ÊåáÂçó\tÊèèËø∞\tÊ∫êÊñá‰ª∂\tÁΩëÁ´ôJava Â∫èÂàóÂåñ\tJava Â∫èÂàóÂåñÁªºÂêàÊåáÂçó\tJava ÊåáÂçó\tüìñ Êü•Áúã Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ\tÂ§öËØ≠Ë®ÄÂØπË±°‰∫§Êç¢\tXlang ÊåáÂçó\tüìñ Êü•Áúã Ë°åÊ†ºÂºè\tÈõ∂Êã∑Ë¥ùÈöèÊú∫ËÆøÈóÆÊ†ºÂºè\tJava Ë°åÊ†ºÂºè\tüìñ Êü•Áúã Python\tPython ÁâπÂÆöÂäüËÉΩÂíåÁî®Ê≥ï\tPython ÊåáÂçó\tüìñ Êü•Áúã Rust\tRust ÂÆûÁé∞ÂíåÊ®°Âºè\tRust ÊåáÂçó\tüìñ Êü•Áúã Scala\tScala ÈõÜÊàêÂíåÊúÄ‰Ω≥ÂÆûË∑µ\tScala ÊåáÂçó\tüìñ Êü•Áúã GraalVM\tÂéüÁîüÈïúÂÉèÊîØÊåÅÂíå AOT ÁºñËØë\tGraalVM ÊåáÂçó\tüìñ Êü•Áúã ÂºÄÂèë\tÊûÑÂª∫ÂíåË¥°ÁåÆ Fory\tÂºÄÂèëÊåáÂçó\tüìñ Êü•Áúã  ","version":"0.14","tagName":"h3"},{"title":"ÂçèËÆÆËßÑËåÉ‚Äã","type":1,"pageTitle":"Ê¶ÇËø∞","url":"/zh-CN/docs/0.14/introduction/overview#ÂçèËÆÆËßÑËåÉ","content":" ËßÑËåÉ\tÊèèËø∞\tÊ∫êÊñá‰ª∂\tÁΩëÁ´ôË∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ\tË∑®ËØ≠Ë®Ä‰∫åËøõÂà∂ÂçèËÆÆ\txlang_serialization_spec.md\tüìñ Êü•Áúã Java Â∫èÂàóÂåñ\tJava ‰ºòÂåñÂçèËÆÆ\tjava_serialization_spec.md\tüìñ Êü•Áúã Ë°åÊ†ºÂºè\tÂü∫‰∫éË°åÁöÑ‰∫åËøõÂà∂Ê†ºÂºè\trow_format_spec.md\tüìñ Êü•Áúã Á±ªÂûãÊò†Â∞Ñ\tË∑®ËØ≠Ë®ÄÁ±ªÂûãËΩ¨Êç¢\txlang_type_mapping.md\tüìñ Êü•Áúã  ","version":"0.14","tagName":"h3"},{"title":"ÂÖºÂÆπÊÄß‚Äã","type":1,"pageTitle":"Ê¶ÇËø∞","url":"/zh-CN/docs/0.14/introduction/overview#ÂÖºÂÆπÊÄß","content":" ","version":"0.14","tagName":"h2"},{"title":"Schema ÂÖºÂÆπÊÄß‚Äã","type":1,"pageTitle":"Ê¶ÇËø∞","url":"/zh-CN/docs/0.14/introduction/overview#schema-ÂÖºÂÆπÊÄß","content":" Apache Fory‚Ñ¢ ÊîØÊåÅ Java„ÄÅPython„ÄÅRust Âíå Golang ÁöÑÁ±ª Schema ÂêëÂâç/ÂêëÂêéÂÖºÂÆπÔºåÊîØÊåÅÁîü‰∫ßÁ≥ªÁªü‰∏≠ÁöÑÊó†Áºù Schema ÊºîËøõÔºåÊó†ÈúÄË∑®ÊâÄÊúâÊúçÂä°ÂçèË∞ÉÂçáÁ∫ß„ÄÇFory Êèê‰æõ‰∏§Áßç Schema ÂÖºÂÆπÊÄßÊ®°ÂºèÔºö  Schema ‰∏ÄËá¥Ê®°ÂºèÔºàÈªòËÆ§ÔºâÔºöÂÅáËÆæÂ∫èÂàóÂåñÂíåÂèçÂ∫èÂàóÂåñÁ´Ø‰πãÈó¥ÁöÑÁ±ª Schema Áõ∏Âêå„ÄÇÊ≠§Ê®°ÂºèÊèê‰æõÊúÄÂ∞èÁöÑÂ∫èÂàóÂåñÂºÄÈîÄ„ÄÅÊúÄÂ∞èÁöÑÊï∞ÊçÆÂ§ßÂ∞èÂíåÊúÄÂø´ÁöÑÊÄßËÉΩÔºöÈÄÇÁî®‰∫éÁ®≥ÂÆöÁöÑ Schema ÊàñÂèóÊéßÁéØÂ¢É„ÄÇ ÂÖºÂÆπÊ®°ÂºèÔºöÊîØÊåÅÁã¨Á´ãÁöÑ Schema ÊºîËøõÔºåÂÖ∑ÊúâÂêëÂâçÂíåÂêëÂêéÂÖºÂÆπÊÄß„ÄÇÊ≠§Ê®°ÂºèÊîØÊåÅÂ≠óÊÆµÊ∑ªÂä†/Âà†Èô§„ÄÅÊúâÈôêÁöÑÁ±ªÂûãÊºîËøõÂíå‰ºòÈõÖÂ§ÑÁêÜ Schema ‰∏çÂåπÈÖç„ÄÇÂú® Java ‰∏≠‰ΩøÁî® withCompatibleMode(CompatibleMode.COMPATIBLE) ÂêØÁî®ÔºåÂú® Python ‰∏≠‰ΩøÁî® compatible=TrueÔºåÂú® Rust ‰∏≠‰ΩøÁî® compatible_mode(true)ÔºåÂú® Go ‰∏≠‰ΩøÁî® NewFory(true)„ÄÇ  ","version":"0.14","tagName":"h3"},{"title":"‰∫åËøõÂà∂ÂÖºÂÆπÊÄß‚Äã","type":1,"pageTitle":"Ê¶ÇËø∞","url":"/zh-CN/docs/0.14/introduction/overview#‰∫åËøõÂà∂ÂÖºÂÆπÊÄß","content":" ÂΩìÂâçÁä∂ÊÄÅÔºöÁî±‰∫éÂçèËÆÆÊåÅÁª≠ÊºîËøõÔºåFory ‰∏ªË¶ÅÁâàÊú¨‰πãÈó¥‰∏ç‰øùËØÅ‰∫åËøõÂà∂ÂÖºÂÆπÊÄß„ÄÇ‰ΩÜÊòØÔºåÊ¨°Ë¶ÅÁâàÊú¨‰πãÈó¥Ôºà‰æãÂ¶Ç 0.13.xÔºâ‰øùËØÅÂÖºÂÆπÊÄß„ÄÇ  Âª∫ËÆÆÔºö  Êåâ Fory ‰∏ªË¶ÅÁâàÊú¨ÂØπÂ∫èÂàóÂåñÊï∞ÊçÆËøõË°åÁâàÊú¨ÊéßÂà∂ÂçáÁ∫ß‰∏ªË¶ÅÁâàÊú¨Êó∂ËßÑÂàíËøÅÁßªÁ≠ñÁï•ËØ¶ËßÅÂçáÁ∫ßÊåáÂçó  Êú™Êù•Ôºö‰ªé Fory 1.0 ÁâàÊú¨ÂºÄÂßãÂ∞Ü‰øùËØÅ‰∫åËøõÂà∂ÂÖºÂÆπÊÄß„ÄÇ  ","version":"0.14","tagName":"h3"},{"title":"ÂÆâÂÖ®‚Äã","type":1,"pageTitle":"Ê¶ÇËø∞","url":"/zh-CN/docs/0.14/introduction/overview#ÂÆâÂÖ®","content":" ","version":"0.14","tagName":"h2"},{"title":"Ê¶ÇËø∞‚Äã","type":1,"pageTitle":"Ê¶ÇËø∞","url":"/zh-CN/docs/0.14/introduction/overview#Ê¶ÇËø∞","content":" Â∫èÂàóÂåñÂÆâÂÖ®ÊÄßÂõ†ÂçèËÆÆËÄåÂºÇÔºö  Ë°åÊ†ºÂºèÔºö‰ΩøÁî®È¢ÑÂÆö‰πâ SchemaÔºåÊú¨Ë¥®‰∏äÂÆâÂÖ®ÂØπË±°ÂõæÂ∫èÂàóÂåñÔºàJava/Python ÂéüÁîüÔºâÔºöÊõ¥ÁÅµÊ¥ª‰ΩÜÈúÄË¶Å‰ªîÁªÜÁöÑÂÆâÂÖ®ÈÖçÁΩÆ  Âä®ÊÄÅÂ∫èÂàóÂåñÂèØ‰ª•ÂèçÂ∫èÂàóÂåñ‰ªªÊÑèÁ±ªÂûãÔºåËøôÂèØËÉΩ‰ºöÂ∏¶Êù•È£éÈô©„ÄÇ‰æãÂ¶ÇÔºåÂèçÂ∫èÂàóÂåñÂèØËÉΩ‰ºöË∞ÉÁî® init ÊûÑÈÄ†ÂáΩÊï∞Êàñ equals/hashCode ÊñπÊ≥ïÔºåÂ¶ÇÊûúÊñπÊ≥ï‰ΩìÂåÖÂê´ÊÅ∂ÊÑè‰ª£Á†ÅÔºåÁ≥ªÁªüÂ∞ÜÈù¢‰∏¥È£éÈô©„ÄÇ  Fory ÈªòËÆ§ÂêØÁî®Âä®ÊÄÅÂçèËÆÆÁöÑÁ±ªÊ≥®ÂÜåÔºåÂè™ÂÖÅËÆ∏Âèó‰ø°‰ªªÁöÑÂ∑≤Ê≥®ÂÜåÁ±ªÂûãÊàñÂÜÖÁΩÆÁ±ªÂûã„ÄÇÈô§ÈùûÊÇ®ËÉΩÁ°Æ‰øùÁéØÂ¢ÉÂÆâÂÖ®ÔºåÂê¶Âàô‰∏çË¶ÅÁ¶ÅÁî®Á±ªÊ≥®ÂÜå„ÄÇ  Â¶ÇÊûúÁ¶ÅÁî®Ê≠§ÈÄâÈ°πÔºåÊÇ®ÈúÄË¶ÅÂØπÂ∫èÂàóÂåñÂÆâÂÖ®Ë¥üË¥£„ÄÇÊÇ®Â∫îËØ•ÂÆûÁé∞Âπ∂ÈÖçÁΩÆËá™ÂÆö‰πâÁöÑ ClassChecker Êàñ DeserializationPolicy ‰ª•ËøõË°åÁªÜÁ≤íÂ∫¶ÁöÑÂÆâÂÖ®ÊéßÂà∂„ÄÇ  Ë¶ÅÊä•Âëä Apache Fory‚Ñ¢ ‰∏≠ÁöÑÂÆâÂÖ®ÊºèÊ¥ûÔºåËØ∑ÈÅµÂæ™ ASF ÊºèÊ¥ûÊä•ÂëäÊµÅÁ®ã„ÄÇ  ","version":"0.14","tagName":"h3"},{"title":"Á§æÂå∫‰∏éÊîØÊåÅ‚Äã","type":1,"pageTitle":"Ê¶ÇËø∞","url":"/zh-CN/docs/0.14/introduction/overview#Á§æÂå∫‰∏éÊîØÊåÅ","content":" ","version":"0.14","tagName":"h2"},{"title":"Ëé∑ÂèñÂ∏ÆÂä©‚Äã","type":1,"pageTitle":"Ê¶ÇËø∞","url":"/zh-CN/docs/0.14/introduction/overview#Ëé∑ÂèñÂ∏ÆÂä©","content":" SlackÔºöÂä†ÂÖ•Êàë‰ª¨ÁöÑ Slack Â∑•‰ΩúÂå∫ÂèÇ‰∏éÁ§æÂå∫ËÆ®ËÆ∫Twitter/XÔºöÂÖ≥Ê≥® @ApacheFory Ëé∑ÂèñÊõ¥Êñ∞ÂíåÂÖ¨ÂëäGitHub IssuesÔºöÂú® apache/fory Êä•ÂëäÈîôËØØÂíåËØ∑Ê±ÇÂäüËÉΩÈÇÆ‰ª∂ÂàóË°®ÔºöËÆ¢ÈòÖ Apache Fory ÈÇÆ‰ª∂ÂàóË°®ÂèÇ‰∏éÂºÄÂèëËÆ®ËÆ∫  ","version":"0.14","tagName":"h3"},{"title":"Ë¥°ÁåÆ‚Äã","type":1,"pageTitle":"Ê¶ÇËø∞","url":"/zh-CN/docs/0.14/introduction/overview#Ë¥°ÁåÆ","content":" Êàë‰ª¨Ê¨¢ËøéË¥°ÁåÆÔºÅËØ∑ÈòÖËØªÊàë‰ª¨ÁöÑË¥°ÁåÆÊåáÂçóÂºÄÂßã„ÄÇ  Ë¥°ÁåÆÊñπÂºèÔºö  üêõ Êä•ÂëäÈîôËØØÂíåÈóÆÈ¢òüí° ÊèêÂá∫Êñ∞ÂäüËÉΩüìù ÊîπËøõÊñáÊ°£üîß Êèê‰∫§ Pull Requestüß™ Ê∑ªÂä†ÊµãËØïÁî®‰æãüìä ÂàÜ‰∫´Âü∫ÂáÜÊµãËØï  ËØ¶ËßÅÂºÄÂèëÊåáÂçó‰∫ÜËß£ÊûÑÂª∫ËØ¥ÊòéÂíåÂºÄÂèëÂ∑•‰ΩúÊµÅÁ®ã„ÄÇ ","version":"0.14","tagName":"h3"},{"title":"Java Serialization Format","type":0,"sectionRef":"#","url":"/zh-CN/docs/0.14/specification/java_serialization_spec","content":"","keywords":"","version":"0.14"},{"title":"Spec overview‚Äã","type":1,"pageTitle":"Java Serialization Format","url":"/zh-CN/docs/0.14/specification/java_serialization_spec#spec-overview","content":" Apache Fory‚Ñ¢ Java Serialization is an automatic object serialization framework that supports reference and polymorphism. Apache Fory‚Ñ¢ will convert an object from/to fory java serialization binary format. Apache Fory‚Ñ¢ has two core concepts for java serialization:  Apache Fory‚Ñ¢ Java Binary formatFramework to convert object to/from Apache Fory‚Ñ¢ Java Binary format  The serialization format is a dynamic binary format. The dynamics and reference/polymorphism support make Apache Fory‚Ñ¢ flexible, much more easy to use, but also introduce more complexities compared to static serialization frameworks. So the format will be more complex.  Here is the overall format:  | fory header | object ref meta | object class meta | object value data |   The data are serialized using little endian byte order overall. If bytes swap is costly for some object, Fory will write the byte order for that object into the data instead of converting it to little endian.  ","version":"0.14","tagName":"h2"},{"title":"Fory header‚Äã","type":1,"pageTitle":"Java Serialization Format","url":"/zh-CN/docs/0.14/specification/java_serialization_spec#fory-header","content":" Fory header consists starts one byte:  | 4 bits | 1 bit | 1 bit | 1 bit | 1 bit | optional 4 bytes | +---------------+-------+-------+--------+-------+------------------------------------+ | reserved bits | oob | xlang | endian | null | unsigned int for meta start offset |   null flag: 1 when object is null, 0 otherwise. If an object is null, other bits won't be set.endian flag: 1 when data is encoded by little endian, 0 for big endian.xlang flag: 1 when serialization uses xlang format, 0 when serialization uses Fory java format.oob flag: 1 when passed BufferCallback is not null, 0 otherwise.  If meta share mode is enabled, an uncompressed unsigned int is appended to indicate the start offset of metadata.  ","version":"0.14","tagName":"h2"},{"title":"Reference Meta‚Äã","type":1,"pageTitle":"Java Serialization Format","url":"/zh-CN/docs/0.14/specification/java_serialization_spec#reference-meta","content":" Reference tracking handles whether the object is null, and whether to track reference for the object by writing corresponding flags and maintaining internal state.  Reference flags:  Flag\tByte Value\tDescriptionNULL FLAG\t-3\tThis flag indicates the object is a null value. We don't use another byte to indicate REF, so that we can save one byte. REF FLAG\t-2\tThis flag indicates the object is already serialized previously, and fory will write a ref id with unsigned varint format instead of serialize it again NOT_NULL VALUE FLAG\t-1\tThis flag indicates the object is a non-null value and fory doesn't track ref for this type of object. REF VALUE FLAG\t0\tThis flag indicates the object is referencable and the first time to serialize.  When reference tracking is disabled globally or for specific types, or for certain types within a particular context(e.g., a field of a class), only the NULL and NOT_NULL VALUE flags will be used for reference meta.  ","version":"0.14","tagName":"h2"},{"title":"Class Meta‚Äã","type":1,"pageTitle":"Java Serialization Format","url":"/zh-CN/docs/0.14/specification/java_serialization_spec#class-meta","content":" Fory supports to register class by an optional id, the registration can be used for security check and class identification. If a class is registered, it will have a user-provided or an auto-growing unsigned int i.e. class_id.  Depending on whether meta share mode and registration is enabled for current class, Fory will write class meta differently.  ","version":"0.14","tagName":"h2"},{"title":"Schema consistent‚Äã","type":1,"pageTitle":"Java Serialization Format","url":"/zh-CN/docs/0.14/specification/java_serialization_spec#schema-consistent","content":" If schema consistent mode is enabled globally or enabled for current class, class meta will be written as follows:  If class is registered, it will be written as a fory unsigned varint: class_id &lt;&lt; 1.If class is not registered: If class is not an array, fory will write one byte 0bxxxxxxx1 first, then write class name. The first little bit is 1, which is different from first bit 0 of encoded class id. Fory can use this information to determine whether to read class by class id for deserialization. If class is not registered and class is an array, fory will write one byte dimensions &lt;&lt; 1 | 1 first, then write component class subsequently. This can reduce array class name cost if component class is or will be serialized.Class will be written as two enumerated fory unsigned by default: package name and class name. If meta share mode is enabled, class will be written as an unsigned varint which points to index in MetaContext.  ","version":"0.14","tagName":"h3"},{"title":"Schema evolution‚Äã","type":1,"pageTitle":"Java Serialization Format","url":"/zh-CN/docs/0.14/specification/java_serialization_spec#schema-evolution","content":" If schema evolution mode is enabled globally or enabled for current class, class meta will be written as follows:  If meta share mode is not enabled, class meta will be written as schema consistent mode. Additionally, field meta such as field type and name will be written with the field value using a key-value like layout.If meta share mode is enabled, class meta will be written as a meta-share encoded binary if class hasn't been written before, otherwise an unsigned varint id which references to previous written class meta will be written.  ","version":"0.14","tagName":"h3"},{"title":"Meta share‚Äã","type":1,"pageTitle":"Java Serialization Format","url":"/zh-CN/docs/0.14/specification/java_serialization_spec#meta-share","content":" This mode will forbid streaming writing since it needs to look back for update the start offset after the whole object graph writing and meta collecting is finished. Only in this way we can ensure deserialization failure doesn't lost shared meta. Meta streamline will be supported in the future for enclosed meta sharing which doesn't cross multiple serializations of different objects.  For Schema consistent mode, class will be encoded as an enumerated string by full class name. Here we mainly describe the meta layout for schema evolution mode:  | 8 bytes global meta header | 1~2 bytes | variable bytes | variable bytes | variable bytes | +-------------------------------+-------------|--------------------+-------------------+----------------+ | 50 bits hash + 14 bits header | type header | current class meta | parent class meta | ... |   Class meta are encoded from parent class to leaf class, only class with serializable fields will be encoded.  ","version":"0.14","tagName":"h2"},{"title":"Global meta header‚Äã","type":1,"pageTitle":"Java Serialization Format","url":"/zh-CN/docs/0.14/specification/java_serialization_spec#global-meta-header","content":" Meta header is a 64 bits number value encoded in little endian order.  lower 12 bits are used to encode meta size. If meta size &gt;= 0b1111_1111_1111, then writemeta_ size - 0b1111_1111_1111 next.13rd bit is used to indicate whether to write fields meta. When this class is schema-consistent or use registered serializer, fields meta will be skipped. Class Meta will be used for share namespace + type name only.14rd bit is used to indicate whether meta is compressed.Other 50 bits is used to store the unique hash of flags + all layers class meta.  ","version":"0.14","tagName":"h3"},{"title":"Type header‚Äã","type":1,"pageTitle":"Java Serialization Format","url":"/zh-CN/docs/0.14/specification/java_serialization_spec#type-header","content":" Lowest 4 digits 0b0000~0b1110 are used to record num classes. 0b1111 is preserved to indicate that Fory need to read more bytes for length using Fory unsigned int encoding. If current class doesn't has parent class, or parent class doesn't have fields to serialize, or we're in a context which serialize fields of current class only(ObjectStreamSerializer#SlotInfo is an example), num classes will be 1.Other 4 bits are preserved to future extensions.If num classes are greater than or equal to 0b1111, write num_classes - 0b1111 as varuint next.  ","version":"0.14","tagName":"h3"},{"title":"Single layer class meta‚Äã","type":1,"pageTitle":"Java Serialization Format","url":"/zh-CN/docs/0.14/specification/java_serialization_spec#single-layer-class-meta","content":" | unsigned varint | meta string | meta string | field info: variable bytes | variable bytes | ... | +----------------------------+-----------------------+---------------------+-------------------------------+-----------------+-----+ | num fields + register flag | header + package name | header + class name | header + type id + field name | next field info | ... |   num fields: encode num fields &lt;&lt; 1 | register flag(1 when class registered) as unsigned varint. If class is registered, then an unsigned varint class id will be written next, package and class name will be omitted.If current class is schema consistent, then num field will be 0 to flag it.If current class isn't schema consistent, then num field will be the number of compatible fields. For example, users can use tag id to mark some field as compatible field in schema consistent context. In such cases, schema consistent fields will be serialized first, then compatible fields will be serialized next. At deserialization, Fory will use fields info of those fields which aren't annotated by tag id for deserializing schema consistent fields, then use fields info in meta for deserializing compatible fields. Package name encoding(omitted when class is registered): encoding algorithm: UTF8/ALL_TO_LOWER_SPECIAL/LOWER_UPPER_DIGIT_SPECIALHeader: 6 bits size | 2 bits encoding flags. The 6 bits size: 0~63 will be used to indicate size 0~63, the value 63 the size need more byte to read, the encoding will encode size - 63 as a varint next. Class name encoding(omitted when class is registered): encoding algorithm: UTF8/LOWER_UPPER_DIGIT_SPECIAL/FIRST_TO_LOWER_SPECIAL/ALL_TO_LOWER_SPECIALheader: 6 bits size | 2 bits encoding flags. The 6 bits size: 0~63 will be used to indicate size 0~63, the value 63 the size need more byte to read, the encoding will encode size - 63 as a varint next. Field info: header(8 bits): 3 bits size + 2 bits field name encoding + polymorphism flag + nullability flag + ref tracking flag. Users can use annotation to provide those info. 2 bits field name encoding: encoding: UTF8/ALL_TO_LOWER_SPECIAL/LOWER_UPPER_DIGIT_SPECIAL/TAG_IDIf tag id is used, i.e. field name is written by an unsigned varint tag id. 2 bits encoding will be 11. size of field name: The 3 bits size: 0~7 will be used to indicate length 1~7, the value 6 the size read more bytes, the encoding will encode size - 7 as a varint next.If encoding is TAG_ID, then num_bytes of field name will be used to store tag id. ref tracking: when set to 1, ref tracking will be enabled for this field.nullability: when set to 1, this field can be null.polymorphism: when set to 1, the actual type of field will be the declared field type even the type if not final. type id: For registered type-consistent classes, it will be the registered class id.Otherwise it will be encoded as OBJECT_ID if it isn't final and FINAL_OBJECT_ID if it's final. The meta for such types is written separately instead of inlining here is to reduce meta space cost if object of this type is serialized in current object graph multiple times, and the field value may be null too. Field name: If type id is set, type id will be used instead. Otherwise meta string encoding length and data will be written instead.  Field order are left as implementation details, which is not exposed to specification, the deserialization need to resort fields based on Fory field comparator. In this way, fory can compute statistics for field names or types and using a more compact encoding.  ","version":"0.14","tagName":"h3"},{"title":"Other layers class meta‚Äã","type":1,"pageTitle":"Java Serialization Format","url":"/zh-CN/docs/0.14/specification/java_serialization_spec#other-layers-class-meta","content":" Same encoding algorithm as the previous layer except:  header + package name: Header: If package name has been written before: varint index + sharing flag(set) will be writtenIf package name hasn't been written before: If meta string encoding is LOWER_SPECIAL and the length of encoded string &lt;= 64, then header will be6 bits size + encoding flag(set) + sharing flag(unset).Otherwise, header will be 3 bits unset + 3 bits encoding flags + encoding flag(unset) + sharing flag(unset)  ","version":"0.14","tagName":"h3"},{"title":"Meta String‚Äã","type":1,"pageTitle":"Java Serialization Format","url":"/zh-CN/docs/0.14/specification/java_serialization_spec#meta-string","content":" Meta string is mainly used to encode meta strings such as class name and field names.  ","version":"0.14","tagName":"h2"},{"title":"Encoding Algorithms‚Äã","type":1,"pageTitle":"Java Serialization Format","url":"/zh-CN/docs/0.14/specification/java_serialization_spec#encoding-algorithms","content":" String binary encoding algorithm:  Algorithm\tPattern\tDescriptionLOWER_SPECIAL\ta-z._$|\tevery char is written using 5 bits, a-z: 0b00000~0b11001, ._$|: 0b11010~0b11101, prepend one bit at the start to indicate whether strip last char since last byte may have 7 redundant bits(1 indicates strip last char) LOWER_UPPER_DIGIT_SPECIAL\ta-zA-Z0~9._\tevery char is written using 6 bits, a-z: 0b00000~0b11001, A-Z: 0b11010~0b110011, 0~9: 0b110100~0b111101, ._: 0b111110~0b111111, prepend one bit at the start to indicate whether strip last char since last byte may have 7 redundant bits(1 indicates strip last char) UTF-8\tany chars\tUTF-8 encoding  Encoding flags:  Encoding Flag\tPattern\tEncoding AlgorithmLOWER_SPECIAL\tevery char is in a-z._$|\tLOWER_SPECIAL FIRST_TO_LOWER_SPECIAL\tevery char is in a-z[c1,c2] except first char is upper case\treplace first upper case char to lower case, then use LOWER_SPECIAL ALL_TO_LOWER_SPECIAL\tevery char is in a-zA-Z[c1,c2]\treplace every upper case char by | + lower case, then use LOWER_SPECIAL, use this encoding if it's smaller than Encoding LOWER_UPPER_DIGIT_SPECIAL LOWER_UPPER_DIGIT_SPECIAL\tevery char is in a-zA-Z[c1,c2]\tuse LOWER_UPPER_DIGIT_SPECIAL encoding if it's smaller than Encoding FIRST_TO_LOWER_SPECIAL UTF8\tany utf-8 char\tuse UTF-8 encoding Compression\tany utf-8 char\tlossless compression  Notes:  For package name encoding, c1,c2 should be ._; For field/type name encoding, c1,c2 should be _$;Depending on cases, one can choose encoding flags + data jointly, uses 3 bits of first byte for flags and other bytes for data.  ","version":"0.14","tagName":"h3"},{"title":"Shared meta string‚Äã","type":1,"pageTitle":"Java Serialization Format","url":"/zh-CN/docs/0.14/specification/java_serialization_spec#shared-meta-string","content":" The shared meta string format consists of header and encoded string binary. Header of encoded string binary will be inlined in shared meta header.  Header is written using little endian order, Fory can read this flag first to determine how to deserialize the data.  Write by data‚Äã  If string hasn't been written before, the data will be written as follows:  | unsigned varint: string binary size + 1 bit: not written before | 56 bits: unique hash | 3 bits encoding flags + string binary |   If string binary size is less than 16 bytes, the hash will be omitted to save spaces. Unique hash can be omitted too if caller pass a flag to disable it. In such cases, the format will be:  | unsigned varint: string binary size + 1 bit: not written before | 3 bits encoding flags + string binary |   Write by ref‚Äã  If string has been written before, the data will be written as follows:  | unsigned varint: written string id + 1 bit: written before |   ","version":"0.14","tagName":"h3"},{"title":"Value Format‚Äã","type":1,"pageTitle":"Java Serialization Format","url":"/zh-CN/docs/0.14/specification/java_serialization_spec#value-format","content":" ","version":"0.14","tagName":"h2"},{"title":"Basic types‚Äã","type":1,"pageTitle":"Java Serialization Format","url":"/zh-CN/docs/0.14/specification/java_serialization_spec#basic-types","content":" Bool‚Äã  size: 1 byteformat: 0 for false, 1 for true  Byte‚Äã  size: 1 byteformat: write as pure byte.  Short‚Äã  size: 2 bytebyte order: little endian order  Char‚Äã  size: 2 bytebyte order: little endian order  Unsigned int‚Äã  size: 1~5 byteFormat: The most significant bit (MSB) in every byte indicates whether to have the next byte. If first bit is set i.e. b &amp; 0x80 == 0x80, then the next byte should be read until the first bit of the next byte is unset.  Signed int‚Äã  size: 1~5 byteFormat: First convert the number into positive unsigned int by (v &lt;&lt; 1) ^ (v &gt;&gt; 31) ZigZag algorithm, then encoding it as an unsigned int.  Unsigned long‚Äã  size: 1~9 byteFory PVL(Progressive Variable-length Long) Encoding: positive long format: first bit in every byte indicates whether to have the next byte. If first bit is set i.e. b &amp; 0x80 == 0x80, then the next byte should be read until the first bit is unset.  Signed long‚Äã  size: 1~9 byteFory SLI(Small long as int) Encoding: If long is in [-1073741824, 1073741823], encode as 4 bytes int: | little-endian: ((int) value) &lt;&lt; 1 |Otherwise write as 9 bytes: | 0b1 | little-endian 8 bytes long | Fory PVL(Progressive Variable-length Long) Encoding: First convert the number into positive unsigned long by (v &lt;&lt; 1) ^ (v &gt;&gt; 63) ZigZag algorithm to reduce cost of small negative numbers, then encoding it as an unsigned long.  Float‚Äã  size: 4 byteformat: convert float to 4 bytes int by Float.floatToRawIntBits, then write as binary by little endian order.  Double‚Äã  size: 8 byteformat: convert double to 8 bytes int by Double.doubleToRawLongBits, then write as binary by little endian order.  ","version":"0.14","tagName":"h3"},{"title":"String‚Äã","type":1,"pageTitle":"Java Serialization Format","url":"/zh-CN/docs/0.14/specification/java_serialization_spec#string","content":" Format:  | header: size &lt;&lt; 2 | 2 bits encoding flags | binary data |   size + encoding will be concat as a long and encoded as an unsigned var long. The little 2 bits is used for encoding: 0 for latin, 1 for utf-16, 2 for utf-8.encoded string binary data based on encoding: latin/utf-16/utf-8.  Which encoding to choose:  For JDK8: fory detect latin at runtime, if string is latin string, then use latin encoding, otherwise use utf-16.For JDK9+: fory use coder in String object for encoding, latin/utf-16 will be used for encoding.If the string is encoded by utf-8, then fory will use utf-8 to decode the data. But currently fory doesn't enable utf-8 encoding by default for java. Cross-language string serialization of fory uses utf-8 by default.  ","version":"0.14","tagName":"h3"},{"title":"Collection‚Äã","type":1,"pageTitle":"Java Serialization Format","url":"/zh-CN/docs/0.14/specification/java_serialization_spec#collection","content":" All collection serializers must extend CollectionLikeSerializer.  Format:  length(unsigned varint) | collection header | elements header | elements data   Collection header‚Äã  For ArrayList/LinkedArrayList/HashSet/LinkedHashSet, this will be empty.For TreeSet, this will be ComparatorFor subclass of ArrayList, this may be extra object field info.  Elements header‚Äã  In most cases, all collection elements are same type and not null, elements header will encode those homogeneous information to avoid the cost of writing it for every element. Specifically, there are four kinds of information which will be encoded by elements header, each use one bit:  If track elements ref, use the first bit 0b1 of the header to flag it.If the collection has null, use the second bit 0b10 of the header to flag it. If ref tracking is enabled for this element type, this flag is invalid.If the collection element types are the declared type, use the 3rd bit 0b100 of the header to flag it.If the collection element types are same, use the 4th bit 0b1000 header to flag it.  By default, all bits are unset, which means all elements won't track ref, all elements are same type, not null and the actual element is the declared type in the custom class field.  The implementation can generate different deserialization code based read header, and look up the generated code from a linear map/list.  Elements data‚Äã  Based on the elements header, the serialization of elements data may skip ref flag/null flag/element class info.  CollectionSerializer#write/read can be taken as an example.  ","version":"0.14","tagName":"h3"},{"title":"Array‚Äã","type":1,"pageTitle":"Java Serialization Format","url":"/zh-CN/docs/0.14/specification/java_serialization_spec#array","content":" Primitive array‚Äã  Primitive array are taken as a binary buffer, serialization will just write the length of array size as an unsigned int, then copy the whole buffer into the stream.  Such serialization won't compress the array. If users want to compress primitive array, users need to register custom serializers for such types.  Object array‚Äã  Object array is serialized using the collection format. Object component type will be taken as collection element generic type.  ","version":"0.14","tagName":"h3"},{"title":"Map‚Äã","type":1,"pageTitle":"Java Serialization Format","url":"/zh-CN/docs/0.14/specification/java_serialization_spec#map","content":" All Map serializers must extend MapLikeSerializer.  Format:  | length(unsigned varint) | map header | key value pairs data |   Map header‚Äã  For HashMap/LinkedHashMap, this will be empty.For TreeMap, this will be ComparatorFor other Map, this may be extra object field info.  Map Key-Value data‚Äã  Map iteration is too expensive, Fory won't compute the header like for collection before since it introduceconsiderable overhead. Users can use MapFieldInfo annotation to provide header in advance. Otherwise Fory will use first key-value pair to predict header optimistically, and update the chunk header if the prediction failed at some pair.  Fory will serialize map chunk by chunk, every chunk has 127 pairs at most.  | 1 byte | 1 byte | variable bytes | +----------------+----------------+-----------------+ | KV header | chunk size: N | N*2 objects |   KV header:  If track key ref, use the first bit 0b1 of the header to flag it.If the key has null, use the second bit 0b10 of the header to flag it. If ref tracking is enabled for this key type, this flag is invalid.If the actual key type of map is the declared key type, use the 3rd bit 0b100 of the header to flag it.If track value ref, use the 4th bit 0b1000 of the header to flag it.If the value has null, use the 5th bit 0b10000 of the header to flag it. If ref tracking is enabled for this value type, this flag is invalid.If the value type of map is the declared value type, use the 6rd bit 0b100000 of the header to flag it.If key or value is null, that key and value will be written as a separate chunk, and chunk size writing will be skipped too.  If streaming write is enabled, which means Fory can't update written chunk size. In such cases, map key-value data format will be:  | 1 byte | variable bytes | +----------------+-----------------+ | KV header | N*2 objects |   KV header will be a header marked by MapFieldInfo in java. The implementation can generate different deserialization code based read header, and look up the generated code from a linear map/list.  ","version":"0.14","tagName":"h3"},{"title":"Enum‚Äã","type":1,"pageTitle":"Java Serialization Format","url":"/zh-CN/docs/0.14/specification/java_serialization_spec#enum","content":" Enums are serialized as an unsigned var int. If the order of enum values change, the deserialized enum value may not be the value users expect. In such cases, users must register enum serializer by make it write enum value as an enumerated string with unique hash disabled.  ","version":"0.14","tagName":"h3"},{"title":"Object‚Äã","type":1,"pageTitle":"Java Serialization Format","url":"/zh-CN/docs/0.14/specification/java_serialization_spec#object","content":" Object means object of pojo/struct/bean/record type. Object will be serialized by writing its fields data in fory order.  Depending on schema compatibility, objects will have different formats.  Field order‚Äã  Field will be ordered as following, every group of fields will have its own order:  primitive fields: larger size type first, smaller later, variable size type last.boxed primitive fields: same order as primitive fieldsfinal fields: same type together, then sorted by field name lexicographically.collection fields: same order as final fieldsmap fields: same order as final fieldsother fields: same order as final fields  Schema consistent‚Äã  Object fields will be serialized one by one using following format:  Primitive field value: | var bytes | +----------------+ | value data | +----------------+ Boxed field value: | one byte | var bytes | +-----------+---------------+ | null flag | field value | +-----------+---------------+ field value of final type with ref tracking: | var bytes | var objects | +-----------+-------------+ | ref meta | value data | +-----------+-------------+ field value of final type without ref tracking: | one byte | var objects | +-----------+-------------+ | null flag | field value | +-----------+-------------+ field value of non-final type with ref tracking: | one byte | var bytes | var objects | +-----------+-------------+-------------+ | ref meta | class meta | value data | +-----------+-------------+-------------+ field value of non-final type without ref tracking: | one byte | var bytes | var objects | +-----------+------------+------------+ | null flag | class meta | value data | +-----------+------------+------------+   Schema evolution‚Äã  Schema evolution have similar format as schema consistent mode for object except:  For this object type itself, schema consistent mode will write class by id/name, but schema evolution mode will write class field names, types and other meta too, see Class meta.Class meta of final custom type needs to be written too, because peers may not have this class defined.  ","version":"0.14","tagName":"h3"},{"title":"Class‚Äã","type":1,"pageTitle":"Java Serialization Format","url":"/zh-CN/docs/0.14/specification/java_serialization_spec#class","content":" Class will be serialized using class meta format.  ","version":"0.14","tagName":"h3"},{"title":"Implementation guidelines‚Äã","type":1,"pageTitle":"Java Serialization Format","url":"/zh-CN/docs/0.14/specification/java_serialization_spec#implementation-guidelines","content":" Try to merge multiple bytes into an int/long write before writing to reduce memory IO and bound check cost.Read multiple bytes as an int/long, then split into multiple bytes to reduce memory IO and bound check cost.Try to use one varint/long to write flags and length together to save one byte cost and reduce memory io.Condition branches are less expensive compared to memory IO cost unless there are too many branches. ","version":"0.14","tagName":"h2"},{"title":"Row Format","type":0,"sectionRef":"#","url":"/zh-CN/docs/0.14/specification/row_format_spec","content":"","keywords":"","version":"0.14"},{"title":"Overview‚Äã","type":1,"pageTitle":"Row Format","url":"/zh-CN/docs/0.14/specification/row_format_spec#overview","content":" Apache Fory Row Format is a cache-friendly, random-access binary format designed for high-performance data processing. Unlike traditional serialization formats that require full deserialization, the row format enables:  Random Field Access: Read individual fields without deserializing the entire rowZero-Copy Operations: Direct memory access without data transformationCache-Friendly Layout: Optimized memory layout for CPU cache efficiencyCross-Language Support: Consistent binary format across Java, C++, and Python  Fory provides two row format variants:  Format\tLanguages\tUse CaseStandard Format\tJava, C++, Python\tCross-language compatibility Compact Format\tJava only\tSpace efficiency, smaller rows  ","version":"0.14","tagName":"h2"},{"title":"Format Comparison‚Äã","type":1,"pageTitle":"Row Format","url":"/zh-CN/docs/0.14/specification/row_format_spec#format-comparison","content":" Feature\tStandard Format\tCompact FormatField Slot Size\tFixed 8 bytes\tNatural width (1, 2, 4, or 8 bytes) Null Bitmap Size\t8-byte aligned\tByte-aligned, can borrow padding Null Bitmap Position\tBefore field slots\tAfter field slots (at end) Fixed-Size Structs\tVariable region (offset+size)\tInline in fixed region Field Ordering\tSchema-defined order\tSorted by alignment All Non-Nullable\tBitmap still present\tBitmap skipped entirely Alignment\tStrict 8-byte\tRelaxed (2, 4, or 8-byte)    ","version":"0.14","tagName":"h2"},{"title":"Standard Row Format‚Äã","type":1,"pageTitle":"Row Format","url":"/zh-CN/docs/0.14/specification/row_format_spec#standard-row-format","content":" The standard format prioritizes cross-language compatibility and simplicity with uniform 8-byte field slots.  ","version":"0.14","tagName":"h2"},{"title":"Design Principles‚Äã","type":1,"pageTitle":"Row Format","url":"/zh-CN/docs/0.14/specification/row_format_spec#design-principles","content":" 8-Byte Alignment: All major structures are aligned to 8-byte boundaries for optimal memory accessFixed-Width Field Slots: Every field uses an 8-byte slot for uniform offset calculationNull Bitmap: Compact null tracking using bit vectorsRelative Offsets: Variable-length data uses relative offsets for sub-buffer navigation  ","version":"0.14","tagName":"h3"},{"title":"Row Binary Layout‚Äã","type":1,"pageTitle":"Row Format","url":"/zh-CN/docs/0.14/specification/row_format_spec#row-binary-layout","content":" A row stores structured data with the following layout:  +----------------+------------------+------------------+-----+------------------+------------------+ | Null Bitmap | Field 0 Slot | Field 1 Slot | ... | Field N-1 Slot | Variable Data | +----------------+------------------+------------------+-----+------------------+------------------+ | B bytes | 8 bytes | 8 bytes | | 8 bytes | Variable size |   Null Bitmap‚Äã  The null bitmap tracks which fields contain null values:  Size: ((num_fields + 63) / 64) * 8 bytes (rounded up to nearest 8-byte word)Encoding: Each bit corresponds to a field index Bit value 1 = field is nullBit value 0 = field is not null Bit Order: Bit 0 of the first byte corresponds to field 0  Example: For 10 fields, bitmap size = ((10 + 63) / 64) * 8 = 8 bytes  Field Slots‚Äã  Each field occupies a fixed 8-byte slot regardless of its actual data type:  Slot Offset: bitmap_size + field_index * 8Total Fixed Region: bitmap_size + num_fields * 8 bytes  Field Slot Contents by Type:  Type Category\tSlot ContentsFixed-width\tValue stored directly (zero-padded) Variable-width\tOffset + Size encoding (see below)  Variable-Width Data Encoding‚Äã  Variable-length fields (strings, arrays, maps, nested structs) store an offset-size pair in their slot:  +---------------------------+---------------------------+ | Relative Offset | Size | | (32 bits) | (32 bits) | +---------------------------+---------------------------+ |&lt;-------------- 64-bit field slot value --------------&gt;|   Relative Offset (upper 32 bits): Offset from the row's base addressSize (lower 32 bits): Size of the variable-width data in bytes  Encoding:  offset_and_size = (relative_offset &lt;&lt; 32) | size   Decoding:  relative_offset = (offset_and_size &gt;&gt; 32) &amp; 0xFFFFFFFF size = offset_and_size &amp; 0xFFFFFFFF   Variable Data Region‚Äã  Variable-length data is stored after the fixed region:  Data is written sequentially as fields are setEach variable-length value is padded to 8-byte alignmentPadding bytes are zeroed for deterministic output  ","version":"0.14","tagName":"h3"},{"title":"Array Binary Layout‚Äã","type":1,"pageTitle":"Row Format","url":"/zh-CN/docs/0.14/specification/row_format_spec#array-binary-layout","content":" Arrays store homogeneous sequences of elements:  +------------------+------------------+------------------+ | Element Count | Null Bitmap | Element Data | +------------------+------------------+------------------+ | 8 bytes | B bytes | Variable size |   Array Header‚Äã  Field\tSize\tDescriptionElement Count\t8 bytes\tNumber of elements (uint64) Null Bitmap\t((count + 63) / 64) * 8 bytes\tPer-element null flags  Header Size: 8 + ((num_elements + 63) / 64) * 8 bytes  Array Element Data‚Äã  Elements are stored contiguously after the header:  Fixed-width elements: Stored with their natural width (1, 2, 4, or 8 bytes)Variable-width elements: Stored as 8-byte offset+size pairs  Element Offset: header_size + element_index * element_size  Data Region Size: Rounded up to nearest 8-byte boundary  Array Element Sizes‚Äã  Element Type\tElement Sizebool\t1 byte int8\t1 byte int16\t2 bytes int32\t4 bytes int64\t8 bytes float32\t4 bytes float64\t8 bytes string/binary\t8 bytes (offset+size) array/map/struct\t8 bytes (offset+size)  ","version":"0.14","tagName":"h3"},{"title":"Map Binary Layout‚Äã","type":1,"pageTitle":"Row Format","url":"/zh-CN/docs/0.14/specification/row_format_spec#map-binary-layout","content":" Maps store key-value pairs as two separate arrays:  +------------------+------------------+------------------+ | Keys Array Size | Keys Array | Values Array | +------------------+------------------+------------------+ | 8 bytes | Variable size | Variable size |   Map Structure‚Äã  Field\tSize\tDescriptionKeys Array Size\t8 bytes\tTotal size of keys array in bytes Keys Array\tVariable\tFull array structure for keys Values Array\tVariable\tFull array structure for values  Keys Array Offset: base_offset + 8Values Array Offset: base_offset + 8 + keys_array_size  Both keys and values arrays follow the standard array binary layout.  ","version":"0.14","tagName":"h3"},{"title":"Nested Struct Layout‚Äã","type":1,"pageTitle":"Row Format","url":"/zh-CN/docs/0.14/specification/row_format_spec#nested-struct-layout","content":" Nested structs are stored as complete row structures within the variable data region:  Parent field slot contains offset+size pointing to nested rowNested row has its own null bitmap and field slotsSupports arbitrary nesting depth  Parent Row: +----------------+------------------+------------------+ | Null Bitmap | ... Slots ... | Nested Row Data | +----------------+------------------+------------------+ | ^ | offset+size | +-------------------&gt;+ Nested Row: +----------------+------------------+------------------+ | Null Bitmap | Field Slots | Variable Data | +----------------+------------------+------------------+     ","version":"0.14","tagName":"h3"},{"title":"Compact Row Format (Java Only)‚Äã","type":1,"pageTitle":"Row Format","url":"/zh-CN/docs/0.14/specification/row_format_spec#compact-row-format-java-only","content":" The compact format provides space-efficient encoding with additional optimizations. It is currently implemented in Java only.  Note: The compact format is still under development and may not be stable yet.  ","version":"0.14","tagName":"h2"},{"title":"Design Principles‚Äã","type":1,"pageTitle":"Row Format","url":"/zh-CN/docs/0.14/specification/row_format_spec#design-principles-1","content":" Natural Width Storage: Fixed-size fields use their natural byte width instead of 8 bytesAlignment-Based Field Sorting: Fields are sorted by alignment requirements to minimize paddingConditional Null Bitmap: Null bitmap is omitted when all fields are non-nullableInline Fixed-Size Structs: Nested structs with all fixed-size fields are stored inline  ","version":"0.14","tagName":"h3"},{"title":"Compact Row Binary Layout‚Äã","type":1,"pageTitle":"Row Format","url":"/zh-CN/docs/0.14/specification/row_format_spec#compact-row-binary-layout","content":" +------------------+------------------+-----+------------------+----------------+------------------+ | Field 0 Value | Field 1 Value | ... | Field N-1 Value | Null Bitmap | Variable Data | +------------------+------------------+-----+------------------+----------------+------------------+ | W0 bytes | W1 bytes | | WN-1 bytes | B bytes (opt) | Variable size |   Key Differences from Standard Format‚Äã  Field Slot Sizes: Each field uses its natural width (Wi = type width or 8 for variable)Null Bitmap Position: Placed after field slots, can borrow alignment paddingField Order: Fields are sorted by alignment (8-byte ‚Üí 4-byte ‚Üí 2-byte ‚Üí 1-byte ‚Üí variable)Conditional Bitmap: Skipped entirely if all fields are non-nullable  Null Bitmap (Compact)‚Äã  Size: (num_nullable_fields + 7) / 8 bytes (byte-aligned, not 8-byte aligned)Skipped: When all fields are primitive/non-nullablePosition: After all fixed-size field slots, can use alignment padding space  Field Sorting Algorithm‚Äã  Fields are sorted to minimize padding and optimize alignment:  Priority order (highest to lowest): 1. Fields with 8-byte alignment (int64, float64, variable-width) 2. Fields with 4-byte alignment (int32, float32) 3. Fields with 2-byte alignment (int16) 4. Fields with 1-byte alignment (int8, bool)   Within each alignment group, larger fields come first.  Fixed-Size Struct Inlining‚Äã  Nested structs with all fixed-size fields are stored inline in the parent row:  Standard Format (nested struct with 2 int32 fields):  Parent slot: [offset (4 bytes) | size (4 bytes)] ‚Üí Points to nested row (8+ bytes elsewhere)   Compact Format (same nested struct):  Parent slot: [int32 field 0 | int32 field 1] ‚Üí 8 bytes total, inline   This eliminates the offset+size indirection for fixed-size nested structures.  Fixed-Width Calculation‚Äã  A field's fixed width is determined recursively:  Primitive types: Natural byte width (1, 2, 4, or 8)Struct types: Sum of all child fixed widths (if all children are fixed-width)Variable types (string, array, map): Returns -1 (uses 8-byte offset+size slot)  fixed_width(field) = if primitive: type_width if struct and all_children_fixed: header_bytes + sum(fixed_width(child) for each child) else: -1 (variable, uses 8-byte slot)   ","version":"0.14","tagName":"h3"},{"title":"Compact Array Binary Layout‚Äã","type":1,"pageTitle":"Row Format","url":"/zh-CN/docs/0.14/specification/row_format_spec#compact-array-binary-layout","content":" +------------------+------------------+------------------+ | Element Count | Null Bitmap | Element Data | +------------------+------------------+------------------+ | 4 bytes | B bytes (opt) | Variable size |   Compact Array Header‚Äã  Field\tSize\tDescriptionElement Count\t4 bytes\tNumber of elements (int32) Null Bitmap\t(count + 7) / 8 bytes (opt)\tPer-element null flags  Header Size Calculation:  header_size = 4 + (element_nullable ? (num_elements + 7) / 8 : 0) // Round to 8-byte boundary only if element width is 8-byte aligned if (fixed_width % 8 == 0): header_size = round_to_8_bytes(header_size)   Key Differences from Standard Array‚Äã  Element Count: 4 bytes instead of 8 bytesNull Bitmap: Byte-aligned, skipped if elements are non-nullableFixed-Size Structs: Inline storage for fixed-width struct elements    ","version":"0.14","tagName":"h3"},{"title":"Common Specifications‚Äã","type":1,"pageTitle":"Row Format","url":"/zh-CN/docs/0.14/specification/row_format_spec#common-specifications","content":" The following specifications apply to both standard and compact formats.  ","version":"0.14","tagName":"h2"},{"title":"Type Encoding‚Äã","type":1,"pageTitle":"Row Format","url":"/zh-CN/docs/0.14/specification/row_format_spec#type-encoding","content":" Primitive Types‚Äã  Type\tWidth\tEncodingbool\t1 byte\t0x00 (false) or 0x01 (true) int8\t1 byte\tTwo's complement int16\t2 bytes\tTwo's complement, little-endian int32\t4 bytes\tTwo's complement, little-endian int64\t8 bytes\tTwo's complement, little-endian float32\t4 bytes\tIEEE 754 single precision float64\t8 bytes\tIEEE 754 double precision  Temporal Types‚Äã  Type\tWidth\tEncodingtimestamp\t8 bytes\tMicroseconds since Unix epoch (int64) date32\t4 bytes\tDays since Unix epoch (int32) duration\t8 bytes\tDuration in microseconds (int64)  String and Binary‚Äã  Encoding: UTF-8 for strings, raw bytes for binaryStorage: Offset+size pair in field slot, data in variable regionPadding: Data padded to 8-byte alignment (standard) or natural alignment (compact)  ","version":"0.14","tagName":"h3"},{"title":"Null Handling‚Äã","type":1,"pageTitle":"Row Format","url":"/zh-CN/docs/0.14/specification/row_format_spec#null-handling","content":" Row Null Handling‚Äã  Null fields have their corresponding bit set to 1 in the null bitmapField slot contents are undefined for null fields (standard) or zeroed (compact)Reading a null field returns a null/empty value indicator  Array Null Handling‚Äã  Null elements have their corresponding bit set to 1 in the array's null bitmapElement data is undefined for null elementsCompact format: Bitmap skipped if elements are non-nullable  Variable-Width Null Semantics‚Äã  When reading variable-width data from a null field:  Returns size of -1 or equivalent null indicatorNo data access is performed  ","version":"0.14","tagName":"h3"},{"title":"Alignment and Padding‚Äã","type":1,"pageTitle":"Row Format","url":"/zh-CN/docs/0.14/specification/row_format_spec#alignment-and-padding","content":" Standard Format Alignment‚Äã  Null Bitmap: Size rounded to 8-byte boundaryField Slots: Always 8 bytes eachVariable Data: Each value padded to 8-byte boundaryArray Data: Total data region padded to 8-byte boundary  Compact Format Alignment‚Äã  Field Slots: Natural width (1, 2, 4, or 8 bytes)Null Bitmap: Byte-aligned, placed after fieldsVariable Data: Padded to 8-byte boundary only when neededHeader: May use relaxed alignment for smaller overhead  Padding Bytes‚Äã  All padding bytes must be set to zeroEnsures deterministic serialization outputPrevents information leakage from uninitialized memory  ","version":"0.14","tagName":"h3"},{"title":"Size Calculations‚Äã","type":1,"pageTitle":"Row Format","url":"/zh-CN/docs/0.14/specification/row_format_spec#size-calculations","content":" ","version":"0.14","tagName":"h2"},{"title":"Standard Row Size‚Äã","type":1,"pageTitle":"Row Format","url":"/zh-CN/docs/0.14/specification/row_format_spec#standard-row-size","content":" row_size = bitmap_size + num_fields * 8 + variable_data_size where: bitmap_size = ((num_fields + 63) / 64) * 8 variable_data_size = sum of (padded_size for each variable field) padded_size = ((size + 7) / 8) * 8   ","version":"0.14","tagName":"h3"},{"title":"Compact Row Size‚Äã","type":1,"pageTitle":"Row Format","url":"/zh-CN/docs/0.14/specification/row_format_spec#compact-row-size","content":" row_size = fixed_region_size + bitmap_size + variable_data_size where: fixed_region_size = sum of (fixed_width(field) or 8 for each field) bitmap_size = all_non_nullable ? 0 : (num_nullable_fields + 7) / 8 // May be rounded to 8-byte boundary if has variable fields   ","version":"0.14","tagName":"h3"},{"title":"Standard Array Size‚Äã","type":1,"pageTitle":"Row Format","url":"/zh-CN/docs/0.14/specification/row_format_spec#standard-array-size","content":" array_size = header_size + data_size where: header_size = 8 + ((num_elements + 63) / 64) * 8 data_size = ((num_elements * element_size + 7) / 8) * 8   ","version":"0.14","tagName":"h3"},{"title":"Compact Array Size‚Äã","type":1,"pageTitle":"Row Format","url":"/zh-CN/docs/0.14/specification/row_format_spec#compact-array-size","content":" array_size = header_size + data_size where: header_size = 4 + (element_nullable ? (num_elements + 7) / 8 : 0) // header_size rounded to 8 if element_width % 8 == 0 data_size = num_elements * element_width   ","version":"0.14","tagName":"h3"},{"title":"Map Size‚Äã","type":1,"pageTitle":"Row Format","url":"/zh-CN/docs/0.14/specification/row_format_spec#map-size","content":" map_size = 8 + keys_array_size + values_array_size   ","version":"0.14","tagName":"h3"},{"title":"Summary Tables‚Äã","type":1,"pageTitle":"Row Format","url":"/zh-CN/docs/0.14/specification/row_format_spec#summary-tables","content":" ","version":"0.14","tagName":"h2"},{"title":"Layout Summary‚Äã","type":1,"pageTitle":"Row Format","url":"/zh-CN/docs/0.14/specification/row_format_spec#layout-summary","content":" Component\tStandard Format\tCompact FormatRow Header\t((N + 63) / 64) * 8 bytes\t0 or (N + 7) / 8 bytes (at end) Row Field Slots\tN * 8 bytes\tsum(field_widths) bytes Array Header\t8 + ((E + 63) / 64) * 8 bytes\t4 + (E + 7) / 8 bytes (if nullable) Array Elements\tE * element_size (8-aligned)\tE * element_width Map Header\t8 bytes\t8 bytes Offset+Size Pair\t8 bytes (32-bit offset + size)\t8 bytes (same)  Where N = number of fields, E = number of elements  ","version":"0.14","tagName":"h3"},{"title":"Type Width Summary‚Äã","type":1,"pageTitle":"Row Format","url":"/zh-CN/docs/0.14/specification/row_format_spec#type-width-summary","content":" Category\tStorage Width\tStandard Slot\tCompact Slotbool\t1 byte\t8 bytes\t1 byte int8\t1 byte\t8 bytes\t1 byte int16\t2 bytes\t8 bytes\t2 bytes int32\t4 bytes\t8 bytes\t4 bytes int64\t8 bytes\t8 bytes\t8 bytes float32\t4 bytes\t8 bytes\t4 bytes float64\t8 bytes\t8 bytes\t8 bytes string/binary\tVariable\t8 bytes\t8 bytes array\tVariable\t8 bytes\t8 bytes map\tVariable\t8 bytes\t8 bytes struct\tVariable\t8 bytes\tinline or 8  ","version":"0.14","tagName":"h3"},{"title":"Implementation Notes‚Äã","type":1,"pageTitle":"Row Format","url":"/zh-CN/docs/0.14/specification/row_format_spec#implementation-notes","content":" ","version":"0.14","tagName":"h2"},{"title":"Endianness‚Äã","type":1,"pageTitle":"Row Format","url":"/zh-CN/docs/0.14/specification/row_format_spec#endianness","content":" All multi-byte integers are stored in little-endian formatFloating-point values use native IEEE 754 representation  ","version":"0.14","tagName":"h3"},{"title":"Memory Safety‚Äã","type":1,"pageTitle":"Row Format","url":"/zh-CN/docs/0.14/specification/row_format_spec#memory-safety","content":" Writers must zero padding bytes to prevent information leakageReaders must validate offsets and sizes before accessing dataBuffer bounds checking is required for untrusted input  ","version":"0.14","tagName":"h3"},{"title":"Performance Considerations‚Äã","type":1,"pageTitle":"Row Format","url":"/zh-CN/docs/0.14/specification/row_format_spec#performance-considerations","content":" Standard Format:  Fixed 8-byte slots enable O(1) field access with simple arithmetic8-byte alignment optimizes CPU cache line usageBest for cross-language interoperability  Compact Format:  Smaller row sizes reduce memory bandwidthField sorting minimizes padding wasteInline structs eliminate pointer chasingRelaxed alignment may have slight CPU overhead on some architectures  ","version":"0.14","tagName":"h3"},{"title":"When to Use Each Format‚Äã","type":1,"pageTitle":"Row Format","url":"/zh-CN/docs/0.14/specification/row_format_spec#when-to-use-each-format","content":" Scenario\tRecommended FormatCross-language data exchange\tStandard Java-only, memory-constrained\tCompact Many small primitive fields\tCompact Many nested fixed-size structs\tCompact Maximum read performance\tStandard Interoperability with C++/Python\tStandard ","version":"0.14","tagName":"h3"},{"title":"Â∫èÂàóÂåñ","type":0,"sectionRef":"#","url":"/zh-CN/docs/0.14/guide/xlang/xlang_serialization","content":"","keywords":"","version":"0.14"},{"title":"Â∫èÂàóÂåñÂÜÖÁΩÆÁ±ªÂûã‚Äã","type":1,"pageTitle":"Â∫èÂàóÂåñ","url":"/zh-CN/docs/0.14/guide/xlang/xlang_serialization#Â∫èÂàóÂåñÂÜÖÁΩÆÁ±ªÂûã","content":" Â∏∏ËßÅÁ±ªÂûãÂèØ‰ª•Ëá™Âä®Â∫èÂàóÂåñÔºåÊó†ÈúÄÊ≥®ÂÜåÔºöÂéüÂßãÊï∞ÂÄºÁ±ªÂûã„ÄÅÂ≠óÁ¨¶‰∏≤„ÄÅ‰∫åËøõÂà∂„ÄÅÊï∞ÁªÑ„ÄÅÂàóË°®„ÄÅÊò†Â∞ÑÁ≠â„ÄÇ  ","version":"0.14","tagName":"h2"},{"title":"Java‚Äã","type":1,"pageTitle":"Â∫èÂàóÂåñ","url":"/zh-CN/docs/0.14/guide/xlang/xlang_serialization#java","content":" import org.apache.fory.*; import org.apache.fory.config.*; import java.util.*; public class Example1 { public static void main(String[] args) { Fory fory = Fory.builder().withLanguage(Language.XLANG).build(); List&lt;Object&gt; list = ofArrayList(true, false, &quot;str&quot;, -1.1, 1, new int[100], new double[20]); byte[] bytes = fory.serialize(list); // bytes ÂèØ‰ª•Ë¢´ÂÖ∂‰ªñËØ≠Ë®ÄÂèçÂ∫èÂàóÂåñ fory.deserialize(bytes); Map&lt;Object, Object&gt; map = new HashMap&lt;&gt;(); map.put(&quot;k1&quot;, &quot;v1&quot;); map.put(&quot;k2&quot;, list); map.put(&quot;k3&quot;, -1); bytes = fory.serialize(map); // bytes ÂèØ‰ª•Ë¢´ÂÖ∂‰ªñËØ≠Ë®ÄÂèçÂ∫èÂàóÂåñ fory.deserialize(bytes); } }   ","version":"0.14","tagName":"h3"},{"title":"Python‚Äã","type":1,"pageTitle":"Â∫èÂàóÂåñ","url":"/zh-CN/docs/0.14/guide/xlang/xlang_serialization#python","content":" import pyfory import numpy as np fory = pyfory.Fory() object_list = [True, False, &quot;str&quot;, -1.1, 1, np.full(100, 0, dtype=np.int32), np.full(20, 0.0, dtype=np.double)] data = fory.serialize(object_list) # bytes ÂèØ‰ª•Ë¢´ÂÖ∂‰ªñËØ≠Ë®ÄÂèçÂ∫èÂàóÂåñ new_list = fory.deserialize(data) object_map = {&quot;k1&quot;: &quot;v1&quot;, &quot;k2&quot;: object_list, &quot;k3&quot;: -1} data = fory.serialize(object_map) # bytes ÂèØ‰ª•Ë¢´ÂÖ∂‰ªñËØ≠Ë®ÄÂèçÂ∫èÂàóÂåñ new_map = fory.deserialize(data) print(new_map)   ","version":"0.14","tagName":"h3"},{"title":"Go‚Äã","type":1,"pageTitle":"Â∫èÂàóÂåñ","url":"/zh-CN/docs/0.14/guide/xlang/xlang_serialization#go","content":" package main import forygo &quot;github.com/apache/fory/go/fory&quot; import &quot;fmt&quot; func main() { list := []interface{}{true, false, &quot;str&quot;, -1.1, 1, make([]int32, 10), make([]float64, 20)} fory := forygo.NewFory() bytes, err := fory.Marshal(list) if err != nil { panic(err) } var newValue interface{} // bytes ÂèØ‰ª•Ë¢´ÂÖ∂‰ªñËØ≠Ë®ÄÂèçÂ∫èÂàóÂåñ if err := fory.Unmarshal(bytes, &amp;newValue); err != nil { panic(err) } fmt.Println(newValue) dict := map[string]interface{}{ &quot;k1&quot;: &quot;v1&quot;, &quot;k2&quot;: list, &quot;k3&quot;: -1, } bytes, err = fory.Marshal(dict) if err != nil { panic(err) } // bytes ÂèØ‰ª•Ë¢´ÂÖ∂‰ªñËØ≠Ë®ÄÂèçÂ∫èÂàóÂåñ if err := fory.Unmarshal(bytes, &amp;newValue); err != nil { panic(err) } fmt.Println(newValue) }   ","version":"0.14","tagName":"h3"},{"title":"JavaScript‚Äã","type":1,"pageTitle":"Â∫èÂàóÂåñ","url":"/zh-CN/docs/0.14/guide/xlang/xlang_serialization#javascript","content":" import Fory from &quot;@apache-fory/fory&quot;; /** * @apache-fory/hps ‰ΩøÁî® v8 ÁöÑ fast-calls-apiÔºåÂèØ‰ª•Áõ¥Êé•Ë¢´ jit Ë∞ÉÁî®Ôºå * Á°Æ‰øù Node ÁâàÊú¨‰∏∫ 20 ÊàñÊõ¥È´ò„ÄÇ * ÂÆûÈ™åÊÄßÂäüËÉΩÔºåÁõÆÂâçÊó†Ê≥ï‰øùËØÅÂÆâË£ÖÊàêÂäü„ÄÇ * Â¶ÇÊûúÊó†Ê≥ïÂÆâË£ÖËØ•Ê®°ÂùóÔºåËØ∑Â∞ÜÂÖ∂ÊõøÊç¢‰∏∫ `const hps = null;` **/ import hps from &quot;@apache-fory/hps&quot;; const fory = new Fory({ hps }); const input = fory.serialize(&quot;hello fory&quot;); const result = fory.deserialize(input); console.log(result);   ","version":"0.14","tagName":"h3"},{"title":"Rust‚Äã","type":1,"pageTitle":"Â∫èÂàóÂåñ","url":"/zh-CN/docs/0.14/guide/xlang/xlang_serialization#rust","content":" use fory::{from_buffer, to_buffer, Fory}; use std::collections::HashMap; fn run() { let bin: Vec&lt;u8&gt; = to_buffer(&amp;&quot;hello&quot;.to_string()); let obj: String = from_buffer(&amp;bin).expect(&quot;should success&quot;); assert_eq!(&quot;hello&quot;.to_string(), obj); }   ","version":"0.14","tagName":"h3"},{"title":"Â∫èÂàóÂåñËá™ÂÆö‰πâÁ±ªÂûã‚Äã","type":1,"pageTitle":"Â∫èÂàóÂåñ","url":"/zh-CN/docs/0.14/guide/xlang/xlang_serialization#Â∫èÂàóÂåñËá™ÂÆö‰πâÁ±ªÂûã","content":" Áî®Êà∑ÂÆö‰πâÁöÑÁ±ªÂûãÂøÖÈ°ª‰ΩøÁî® register API ËøõË°åÊ≥®ÂÜåÔºå‰ª•Âª∫Á´ã‰∏çÂêåËØ≠Ë®Ä‰∏≠Á±ªÂûã‰πãÈó¥ÁöÑÊò†Â∞ÑÂÖ≥Á≥ª„ÄÇËØ∑Âú®ÊâÄÊúâËØ≠Ë®Ä‰∏≠‰ΩøÁî®‰∏ÄËá¥ÁöÑÁ±ªÂûãÂêçÁß∞„ÄÇ  ","version":"0.14","tagName":"h2"},{"title":"Java‚Äã","type":1,"pageTitle":"Â∫èÂàóÂåñ","url":"/zh-CN/docs/0.14/guide/xlang/xlang_serialization#java-1","content":" import org.apache.fory.*; import org.apache.fory.config.*; import java.util.*; public class Example2 { public static class SomeClass1 { Object f1; Map&lt;Byte, Integer&gt; f2; } public static class SomeClass2 { Object f1; String f2; List&lt;Object&gt; f3; Map&lt;Byte, Integer&gt; f4; Byte f5; Short f6; Integer f7; Long f8; Float f9; Double f10; short[] f11; List&lt;Short&gt; f12; } public static Object createObject() { SomeClass1 obj1 = new SomeClass1(); obj1.f1 = true; obj1.f2 = ofHashMap((byte) -1, 2); SomeClass2 obj = new SomeClass2(); obj.f1 = obj1; obj.f2 = &quot;abc&quot;; obj.f3 = ofArrayList(&quot;abc&quot;, &quot;abc&quot;); obj.f4 = ofHashMap((byte) 1, 2); obj.f5 = Byte.MAX_VALUE; obj.f6 = Short.MAX_VALUE; obj.f7 = Integer.MAX_VALUE; obj.f8 = Long.MAX_VALUE; obj.f9 = 1.0f / 2; obj.f10 = 1 / 3.0; obj.f11 = new short[]{(short) 1, (short) 2}; obj.f12 = ofArrayList((short) -1, (short) 4); return obj; } // mvn exec:java -Dexec.mainClass=&quot;org.apache.fory.examples.Example2&quot; public static void main(String[] args) { Fory fory = Fory.builder().withLanguage(Language.XLANG).build(); fory.register(SomeClass1.class, &quot;example.SomeClass1&quot;); fory.register(SomeClass2.class, &quot;example.SomeClass2&quot;); byte[] bytes = fory.serialize(createObject()); // bytes ÂèØ‰ª•Ë¢´ÂÖ∂‰ªñËØ≠Ë®ÄÂèçÂ∫èÂàóÂåñ System.out.println(fory.deserialize(bytes)); } }   ","version":"0.14","tagName":"h3"},{"title":"Python‚Äã","type":1,"pageTitle":"Â∫èÂàóÂåñ","url":"/zh-CN/docs/0.14/guide/xlang/xlang_serialization#python-1","content":" from dataclasses import dataclass from typing import List, Dict, Any import pyfory, array @dataclass class SomeClass1: f1: Any f2: Dict[pyfory.Int8Type, pyfory.Int32Type] @dataclass class SomeClass2: f1: Any = None f2: str = None f3: List[str] = None f4: Dict[pyfory.Int8Type, pyfory.Int32Type] = None f5: pyfory.Int8Type = None f6: pyfory.Int16Type = None f7: pyfory.Int32Type = None # int Á±ªÂûãÂ∞ÜË¢´ËßÜ‰∏∫ `pyfory.Int64Type`„ÄÇ # Â¶ÇÊûúÂØπÁ≠âÊñπ‰ΩøÁî®Êõ¥Á™ÑÁöÑÁ±ªÂûãÔºåËØ∑‰ΩøÁî® `pyfory.Int32Type` ËøõË°åÁ±ªÂûãÊèêÁ§∫„ÄÇ f8: int = None f9: pyfory.Float32Type = None # float Á±ªÂûãÂ∞ÜË¢´ËßÜ‰∏∫ `pyfory.Float64Type` f10: float = None f11: pyfory.Int16ArrayType = None f12: List[pyfory.Int16Type] = None if __name__ == &quot;__main__&quot;: f = pyfory.Fory() f.register_type(SomeClass1, typename=&quot;example.SomeClass1&quot;) f.register_type(SomeClass2, typename=&quot;example.SomeClass2&quot;) obj1 = SomeClass1(f1=True, f2={-1: 2}) obj = SomeClass2( f1=obj1, f2=&quot;abc&quot;, f3=[&quot;abc&quot;, &quot;abc&quot;], f4={1: 2}, f5=2 ** 7 - 1, f6=2 ** 15 - 1, f7=2 ** 31 - 1, f8=2 ** 63 - 1, f9=1.0 / 2, f10=1 / 3.0, f11=array.array(&quot;h&quot;, [1, 2]), f12=[-1, 4], ) data = f.serialize(obj) # bytes ÂèØ‰ª•Ë¢´ÂÖ∂‰ªñËØ≠Ë®ÄÂèçÂ∫èÂàóÂåñ print(f.deserialize(data))   ","version":"0.14","tagName":"h3"},{"title":"Go‚Äã","type":1,"pageTitle":"Â∫èÂàóÂåñ","url":"/zh-CN/docs/0.14/guide/xlang/xlang_serialization#go-1","content":" package main import forygo &quot;github.com/apache/fory/go/fory&quot; import &quot;fmt&quot; func main() { type SomeClass1 struct { F1 interface{} F2 string F3 []interface{} F4 map[int8]int32 F5 int8 F6 int16 F7 int32 F8 int64 F9 float32 F10 float64 F11 []int16 F12 fory.Int16Slice } type SomeClass2 struct { F1 interface{} F2 map[int8]int32 } fory := forygo.NewFory() if err := fory.RegisterTagType(&quot;example.SomeClass1&quot;, SomeClass1{}); err != nil { panic(err) } if err := fory.RegisterTagType(&quot;example.SomeClass2&quot;, SomeClass2{}); err != nil { panic(err) } obj1 := &amp;SomeClass1{} obj1.F1 = true obj1.F2 = map[int8]int32{-1: 2} obj := &amp;SomeClass1{} obj.F1 = obj1 obj.F2 = &quot;abc&quot; obj.F3 = []interface{}{&quot;abc&quot;, &quot;abc&quot;} f4 := map[int8]int32{1: 2} obj.F4 = f4 obj.F5 = fory.MaxInt8 obj.F6 = fory.MaxInt16 obj.F7 = fory.MaxInt32 obj.F8 = fory.MaxInt64 obj.F9 = 1.0 / 2 obj.F10 = 1 / 3.0 obj.F11 = []int16{1, 2} obj.F12 = []int16{-1, 4} bytes, err := fory.Marshal(obj); if err != nil { panic(err) } var newValue interface{} // bytes ÂèØ‰ª•Ë¢´ÂÖ∂‰ªñËØ≠Ë®ÄÂèçÂ∫èÂàóÂåñ if err := fory.Unmarshal(bytes, &amp;newValue); err != nil { panic(err) } fmt.Println(newValue) }   ","version":"0.14","tagName":"h3"},{"title":"JavaScript‚Äã","type":1,"pageTitle":"Â∫èÂàóÂåñ","url":"/zh-CN/docs/0.14/guide/xlang/xlang_serialization#javascript-1","content":" import Fory, { Type, InternalSerializerType } from &quot;@apache-fory/fory&quot;; /** * @apache-fory/hps ‰ΩøÁî® v8 ÁöÑ fast-calls-apiÔºåÂèØ‰ª•Áõ¥Êé•Ë¢´ jit Ë∞ÉÁî®Ôºå * Á°Æ‰øù Node ÁâàÊú¨‰∏∫ 20 ÊàñÊõ¥È´ò„ÄÇ * ÂÆûÈ™åÊÄßÂäüËÉΩÔºåÁõÆÂâçÊó†Ê≥ï‰øùËØÅÂÆâË£ÖÊàêÂäü„ÄÇ * Â¶ÇÊûúÊó†Ê≥ïÂÆâË£ÖËØ•Ê®°ÂùóÔºåËØ∑Â∞ÜÂÖ∂ÊõøÊç¢‰∏∫ `const hps = null;` **/ import hps from &quot;@apache-fory/hps&quot;; // ‰ΩøÁî® JSON schema ÊèèËø∞Êï∞ÊçÆÁªìÊûÑ const description = Type.object(&quot;example.foo&quot;, { foo: Type.string(), }); const fory = new Fory({ hps }); const { serialize, deserialize } = fory.registerSerializer(description); const input = serialize({ foo: &quot;hello fory&quot; }); const result = deserialize(input); console.log(result);   ","version":"0.14","tagName":"h3"},{"title":"Rust‚Äã","type":1,"pageTitle":"Â∫èÂàóÂåñ","url":"/zh-CN/docs/0.14/guide/xlang/xlang_serialization#rust-1","content":" use chrono::{NaiveDate, NaiveDateTime}; use fory::{from_buffer, to_buffer, Fory}; use std::collections::HashMap; #[test] fn complex_struct() { #[derive(Fory, Debug, PartialEq)] #[tag(&quot;example.foo2&quot;)] struct Animal { category: String, } #[derive(Fory, Debug, PartialEq)] #[tag(&quot;example.foo&quot;)] struct Person { c1: Vec&lt;u8&gt;, // binary c2: Vec&lt;i16&gt;, // primitive array animal: Vec&lt;Animal&gt;, c3: Vec&lt;Vec&lt;u8&gt;&gt;, name: String, c4: HashMap&lt;String, String&gt;, age: u16, op: Option&lt;String&gt;, op2: Option&lt;String&gt;, date: NaiveDate, time: NaiveDateTime, c5: f32, c6: f64, } let person: Person = Person { c1: vec![1, 2, 3], c2: vec![5, 6, 7], c3: vec![vec![1, 2], vec![1, 3]], animal: vec![Animal { category: &quot;Dog&quot;.to_string(), }], c4: HashMap::from([ (&quot;hello1&quot;.to_string(), &quot;hello2&quot;.to_string()), (&quot;hello2&quot;.to_string(), &quot;hello3&quot;.to_string()), ]), age: 12, name: &quot;helo&quot;.to_string(), op: Some(&quot;option&quot;.to_string()), op2: None, date: NaiveDate::from_ymd_opt(2025, 12, 12).unwrap(), time: NaiveDateTime::from_timestamp_opt(1689912359, 0).unwrap(), c5: 2.0, c6: 4.0, }; let bin: Vec&lt;u8&gt; = to_buffer(&amp;person); let obj: Person = from_buffer(&amp;bin).expect(&quot;should success&quot;); assert_eq!(person, obj); }   ","version":"0.14","tagName":"h3"},{"title":"Â∫èÂàóÂåñÂÖ±‰∫´ÂºïÁî®ÂíåÂæ™ÁéØÂºïÁî®‚Äã","type":1,"pageTitle":"Â∫èÂàóÂåñ","url":"/zh-CN/docs/0.14/guide/xlang/xlang_serialization#Â∫èÂàóÂåñÂÖ±‰∫´ÂºïÁî®ÂíåÂæ™ÁéØÂºïÁî®","content":" ÂÖ±‰∫´ÂºïÁî®ÂíåÂæ™ÁéØÂºïÁî®ÂèØ‰ª•Ëá™Âä®Â∫èÂàóÂåñÔºå‰∏ç‰ºöÊúâÈáçÂ§çÊï∞ÊçÆÊàñÈÄíÂΩíÈîôËØØ„ÄÇÂêØÁî®ÂºïÁî®Ë∑üË∏™Âç≥ÂèØ‰ΩøÁî®Ê≠§ÂäüËÉΩ„ÄÇ  ","version":"0.14","tagName":"h2"},{"title":"Java‚Äã","type":1,"pageTitle":"Â∫èÂàóÂåñ","url":"/zh-CN/docs/0.14/guide/xlang/xlang_serialization#java-2","content":" import org.apache.fory.*; import org.apache.fory.config.*; import java.util.*; public class ReferenceExample { public static class SomeClass { SomeClass f1; Map&lt;String, String&gt; f2; Map&lt;String, String&gt; f3; } public static Object createObject() { SomeClass obj = new SomeClass(); obj.f1 = obj; obj.f2 = ofHashMap(&quot;k1&quot;, &quot;v1&quot;, &quot;k2&quot;, &quot;v2&quot;); obj.f3 = obj.f2; return obj; } // mvn exec:java -Dexec.mainClass=&quot;org.apache.fory.examples.ReferenceExample&quot; public static void main(String[] args) { Fory fory = Fory.builder().withLanguage(Language.XLANG) .withRefTracking(true).build(); fory.register(SomeClass.class, &quot;example.SomeClass&quot;); byte[] bytes = fory.serialize(createObject()); // bytes ÂèØ‰ª•Ë¢´ÂÖ∂‰ªñËØ≠Ë®ÄÂèçÂ∫èÂàóÂåñ System.out.println(fory.deserialize(bytes)); } }   ","version":"0.14","tagName":"h3"},{"title":"Python‚Äã","type":1,"pageTitle":"Â∫èÂàóÂåñ","url":"/zh-CN/docs/0.14/guide/xlang/xlang_serialization#python-2","content":" from typing import Dict import pyfory class SomeClass: f1: &quot;SomeClass&quot; f2: Dict[str, str] f3: Dict[str, str] fory = pyfory.Fory(ref_tracking=True) fory.register_type(SomeClass, typename=&quot;example.SomeClass&quot;) obj = SomeClass() obj.f2 = {&quot;k1&quot;: &quot;v1&quot;, &quot;k2&quot;: &quot;v2&quot;} obj.f1, obj.f3 = obj, obj.f2 data = fory.serialize(obj) # bytes ÂèØ‰ª•Ë¢´ÂÖ∂‰ªñËØ≠Ë®ÄÂèçÂ∫èÂàóÂåñ print(fory.deserialize(data))   ","version":"0.14","tagName":"h3"},{"title":"Go‚Äã","type":1,"pageTitle":"Â∫èÂàóÂåñ","url":"/zh-CN/docs/0.14/guide/xlang/xlang_serialization#go-2","content":" package main import forygo &quot;github.com/apache/fory/go/fory&quot; import &quot;fmt&quot; func main() { type SomeClass struct { F1 *SomeClass F2 map[string]string F3 map[string]string } fory := forygo.NewFory(true) if err := fory.Register(SomeClass{}, 65); err != nil { panic(err) } value := &amp;SomeClass{F2: map[string]string{&quot;k1&quot;: &quot;v1&quot;, &quot;k2&quot;: &quot;v2&quot;}} value.F3 = value.F2 value.F1 = value bytes, err := fory.Marshal(value) if err != nil { panic(err) } var newValue interface{} // bytes ÂèØ‰ª•Ë¢´ÂÖ∂‰ªñËØ≠Ë®ÄÂèçÂ∫èÂàóÂåñ if err := fory.Unmarshal(bytes, &amp;newValue); err != nil { panic(err) } fmt.Println(newValue) }   ","version":"0.14","tagName":"h3"},{"title":"JavaScript‚Äã","type":1,"pageTitle":"Â∫èÂàóÂåñ","url":"/zh-CN/docs/0.14/guide/xlang/xlang_serialization#javascript-2","content":" import Fory, { Type } from &quot;@apache-fory/fory&quot;; /** * @apache-fory/hps ‰ΩøÁî® v8 ÁöÑ fast-calls-apiÔºåÂèØ‰ª•Áõ¥Êé•Ë¢´ jit Ë∞ÉÁî®Ôºå * Á°Æ‰øù Node ÁâàÊú¨‰∏∫ 20 ÊàñÊõ¥È´ò„ÄÇ * ÂÆûÈ™åÊÄßÂäüËÉΩÔºåÁõÆÂâçÊó†Ê≥ï‰øùËØÅÂÆâË£ÖÊàêÂäü„ÄÇ * Â¶ÇÊûúÊó†Ê≥ïÂÆâË£ÖËØ•Ê®°ÂùóÔºåËØ∑Â∞ÜÂÖ∂ÊõøÊç¢‰∏∫ `const hps = null;` **/ import hps from &quot;@apache-fory/hps&quot;; const description = Type.object(&quot;example.foo&quot;, { foo: Type.string(), bar: Type.object(&quot;example.foo&quot;), }); const fory = new Fory({ hps }); const { serialize, deserialize } = fory.registerSerializer(description); const data: any = { foo: &quot;hello fory&quot;, }; data.bar = data; const input = serialize(data); const result = deserialize(input); console.log(result.bar.foo === result.foo);   ","version":"0.14","tagName":"h3"},{"title":"Rust‚Äã","type":1,"pageTitle":"Â∫èÂàóÂåñ","url":"/zh-CN/docs/0.14/guide/xlang/xlang_serialization#rust-2","content":" Áî±‰∫éÊâÄÊúâÊùÉÈôêÂà∂ÔºåRust ‰∏≠Êó†Ê≥ïÂÆûÁé∞Âæ™ÁéØÂºïÁî®„ÄÇ  ","version":"0.14","tagName":"h3"},{"title":"Âè¶ËØ∑ÂèÇÈòÖ‚Äã","type":1,"pageTitle":"Â∫èÂàóÂåñ","url":"/zh-CN/docs/0.14/guide/xlang/xlang_serialization#Âè¶ËØ∑ÂèÇÈòÖ","content":" Èõ∂Êã∑Ë¥ùÂ∫èÂàóÂåñ - Â§ßÂûãÊï∞ÊçÆÁöÑÂ∏¶Â§ñÂ∫èÂàóÂåñÁ±ªÂûãÊò†Â∞Ñ - Ë∑®ËØ≠Ë®ÄÁ±ªÂûãÊò†Â∞ÑÂèÇËÄÉÂÖ•Èó®ÊåáÂçó - ÂÆâË£ÖÂíåËÆæÁΩÆXlang Â∫èÂàóÂåñËßÑËåÉ - ‰∫åËøõÂà∂ÂçèËÆÆËØ¶ÊÉÖ ","version":"0.14","tagName":"h2"},{"title":"Xlang Type Mapping","type":0,"sectionRef":"#","url":"/zh-CN/docs/0.14/specification/xlang_type_mapping","content":"","keywords":"","version":"0.14"},{"title":"Type Mapping‚Äã","type":1,"pageTitle":"Xlang Type Mapping","url":"/zh-CN/docs/0.14/specification/xlang_type_mapping#type-mapping","content":" Fory Type\tFory Type ID\tJava\tPython\tJavascript\tC++\tGolang\tRustbool\t1\tbool/Boolean\tbool\tBoolean\tbool\tbool\tbool int8\t2\tbyte/Byte\tint/pyfory.Int8\tType.int8()\tint8_t\tint8\ti8 int16\t3\tshort/Short\tint/pyfory.Int16\tType.int16()\tint16_t\tint16\ti6 int32\t4\tint/Integer\tint/pyfory.Int32\tType.int32()\tint32_t\tint32\ti32 var_int32\t5\tint/Integer\tint/pyfory.VarInt32\tType.varint32()\tfory::varint32_t\tfory.varint32\tfory::varint32 int64\t6\tlong/Long\tint/pyfory.Int64\tType.int64()\tint64_t\tint64\ti64 var_int64\t7\tlong/Long\tint/pyfory.VarInt64\tType.varint64()\tfory::varint64_t\tfory.varint64\tfory::varint64 sli_int64\t8\tlong/Long\tint/pyfory.SliInt64\tType.sliint64()\tfory::sliint64_t\tfory.sliint64\tfory::sliint64 float16\t9\tfloat/Float\tfloat/pyfory.Float16\tType.float16()\tfory::float16_t\tfory.float16\tfory::f16 float32\t10\tfloat/Float\tfloat/pyfory.Float32\tType.float32()\tfloat\tfloat32\tf32 float64\t11\tdouble/Double\tfloat/pyfory.Float64\tType.float64()\tdouble\tfloat64\tf64 string\t12\tString\tstr\tString\tstring\tstring\tString/str enum\t13\tEnum subclasses\tenum subclasses\t/\tenum\t/\tenum named_enum\t14\tEnum subclasses\tenum subclasses\t/\tenum\t/\tenum struct\t15\tpojo/record\tdata class / type with type hints\tobject\tstruct/class\tstruct\tstruct compatible_struct\t16\tpojo/record\tdata class / type with type hints\tobject\tstruct/class\tstruct\tstruct named_struct\t17\tpojo/record\tdata class / type with type hints\tobject\tstruct/class\tstruct\tstruct named_compatible_struct\t18\tpojo/record\tdata class / type with type hints\tobject\tstruct/class\tstruct\tstruct ext\t19\tpojo/record\tdata class / type with type hints\tobject\tstruct/class\tstruct\tstruct named_ext\t20\tpojo/record\tdata class / type with type hints\tobject\tstruct/class\tstruct\tstruct list\t21\tList/Collection\tlist/tuple\tarray\tvector\tslice\tVec set\t22\tSet\tset\t/\tset\tfory.Set\tSet map\t23\tMap\tdict\tMap\tunordered_map\tmap\tHashMap duration\t24\tDuration\ttimedelta\tNumber\tduration\tDuration\tDuration timestamp\t25\tInstant\tdatetime\tNumber\tstd::chrono::nanoseconds\tTime\tDateTime local_date\t26\tDate\tdatetime\tNumber\tstd::chrono::nanoseconds\tTime\tDateTime decimal\t27\tBigDecimal\tDecimal\tbigint\t/\t/\t/ binary\t28\tbyte[]\tbytes\t/\tuint8_t[n]/vector&lt;T&gt;\t[n]uint8/[]T\tVec&lt;uint8_t&gt; array\t29\tarray\tnp.ndarray\t/\t/\tarray/slice\tVec bool_array\t30\tbool[]\tndarray(np.bool_)\t/\tbool[n]\t[n]bool/[]T\tVec&lt;bool&gt; int8_array\t31\tbyte[]\tndarray(int8)\t/\tint8_t[n]/vector&lt;T&gt;\t[n]int8/[]T\tVec&lt;i18&gt; int16_array\t32\tshort[]\tndarray(int16)\t/\tint16_t[n]/vector&lt;T&gt;\t[n]int16/[]T\tVec&lt;i16&gt; int32_array\t33\tint[]\tndarray(int32)\t/\tint32_t[n]/vector&lt;T&gt;\t[n]int32/[]T\tVec&lt;i32&gt; int64_array\t34\tlong[]\tndarray(int64)\t/\tint64_t[n]/vector&lt;T&gt;\t[n]int64/[]T\tVec&lt;i64&gt; float16_array\t35\tfloat[]\tndarray(float16)\t/\tfory::float16_t[n]/vector&lt;T&gt;\t[n]float16/[]T\tVec&lt;fory::f16&gt; float32_array\t36\tfloat[]\tndarray(float32)\t/\tfloat[n]/vector&lt;T&gt;\t[n]float32/[]T\tVec&lt;f32&gt; float64_array\t37\tdouble[]\tndarray(float64)\t/\tdouble[n]/vector&lt;T&gt;\t[n]float64/[]T\tVec&lt;f64&gt; union\t38\t/\t/\t/\tstd::variant&lt;Ts...&gt;\t/\ttagged union enum none\t39\tnull\tNone\tnull\tstd::monostate\tnil\t()  ","version":"0.14","tagName":"h2"},{"title":"Type info(not implemented currently)‚Äã","type":1,"pageTitle":"Xlang Type Mapping","url":"/zh-CN/docs/0.14/specification/xlang_type_mapping#type-infonot-implemented-currently","content":" Due to differences between type systems of languages, those types can't be mapped one-to-one between languages.  If the user notices that one type on a language corresponds to multiple types in Fory type systems, for example, longin java has type int64/varint64/sliint64, it means the language lacks some types, and the user must provide extra type info when using Fory.  ","version":"0.14","tagName":"h2"},{"title":"Type annotation‚Äã","type":1,"pageTitle":"Xlang Type Mapping","url":"/zh-CN/docs/0.14/specification/xlang_type_mapping#type-annotation","content":" If the type is a field of another class, users can provide meta hints for fields of a type, or for the whole type. Such information can be provided in other languages too:  java: use annotation.cpp: use macro and template.golang: use struct tag.python: use typehint.rust: use macro.  Here is en example:  Java: class Foo { @Int32Type(varint = true) int f1; List&lt;@Int32Type(varint = true) Integer&gt; f2; } Python: class Foo: f1: Int32Type(varint=True) f2: List[Int32Type(varint=True)]   ","version":"0.14","tagName":"h2"},{"title":"Type wrapper‚Äã","type":1,"pageTitle":"Xlang Type Mapping","url":"/zh-CN/docs/0.14/specification/xlang_type_mapping#type-wrapper","content":" If the type is not a field of a class, the user must wrap this type with a Fory type to pass the extra type info.  For example, suppose Fory Java provide a VarInt64 type, when a user invoke fory.serialize(long_value), he need to invoke like fory.serialize(new VarInt64(long_value)). ","version":"0.14","tagName":"h2"},{"title":"ÂÆâË£Ö Apache Fory‚Ñ¢","type":0,"sectionRef":"#","url":"/zh-CN/docs/0.14/start/install","content":"","keywords":"","version":"0.14"},{"title":"ÂÆâË£Ö Apache Fory‚Ñ¢ Java‚Äã","type":1,"pageTitle":"ÂÆâË£Ö Apache Fory‚Ñ¢","url":"/zh-CN/docs/0.14/start/install#ÂÆâË£Ö-apache-fory-java","content":" Ë¶Å‰ΩøÁî® Maven Ê∑ªÂä†ÂØπ Apache Fory‚Ñ¢ ÁöÑ‰æùËµñÔºåËØ∑‰ΩøÁî®‰ª•‰∏ãÈÖçÁΩÆÔºö  &lt;dependency&gt; &lt;groupId&gt;org.apache.fory&lt;/groupId&gt; &lt;artifactId&gt;fory-core&lt;/artifactId&gt; &lt;version&gt;0.14.1&lt;/version&gt; &lt;/dependency&gt; &lt;!-- Optional row format support --&gt; &lt;!-- &lt;dependency&gt; &lt;groupId&gt;org.apache.fory&lt;/groupId&gt; &lt;artifactId&gt;fory-format&lt;/artifactId&gt; &lt;version&gt;0.13.1&lt;/version&gt; &lt;/dependency&gt; --&gt; &lt;!-- SIMD acceleration for array compression (Java 16+) --&gt; &lt;!-- &lt;dependency&gt; &lt;groupId&gt;org.apache.fory&lt;/groupId&gt; &lt;artifactId&gt;fory-simd&lt;/artifactId&gt; &lt;version&gt;0.13.1&lt;/version&gt; &lt;/dependency&gt; --&gt;   ","version":"0.14","tagName":"h2"},{"title":"ÂÆâË£Ö Apache Fory‚Ñ¢ Scala‚Äã","type":1,"pageTitle":"ÂÆâË£Ö Apache Fory‚Ñ¢","url":"/zh-CN/docs/0.14/start/install#ÂÆâË£Ö-apache-fory-scala","content":" Ë¶Å‰ΩøÁî® Maven Ê∑ªÂä† scala 2.13 ÁöÑ Fory scala ‰æùËµñÔºåËØ∑‰ΩøÁî®‰ª•‰∏ãÈÖçÁΩÆÔºö  &lt;dependency&gt; &lt;groupId&gt;org.apache.fory&lt;/groupId&gt; &lt;artifactId&gt;fory-scala_2.13&lt;/artifactId&gt; &lt;version&gt;0.14.1&lt;/version&gt; &lt;/dependency&gt;   Ë¶Å‰ΩøÁî® Maven Ê∑ªÂä† scala 3 ÁöÑ Fory scala ‰æùËµñÔºåËØ∑‰ΩøÁî®‰ª•‰∏ãÈÖçÁΩÆÔºö  &lt;dependency&gt; &lt;groupId&gt;org.apache.fory&lt;/groupId&gt; &lt;artifactId&gt;fory-scala_3&lt;/artifactId&gt; &lt;version&gt;0.14.1&lt;/version&gt; &lt;/dependency&gt;   Ë¶Å‰ΩøÁî® sbt Ê∑ªÂä† scala 2.13 ÁöÑ Fory scala ‰æùËµñÔºåËØ∑‰ΩøÁî®‰ª•‰∏ãÈÖçÁΩÆÔºö  libraryDependencies += &quot;org.apache.fory&quot; % &quot;fory-scala_2.13&quot; % &quot;0.14.1&quot;   Ë¶Å‰ΩøÁî® sbt Ê∑ªÂä† scala 3 ÁöÑ Fory scala ‰æùËµñÔºåËØ∑‰ΩøÁî®‰ª•‰∏ãÈÖçÁΩÆÔºö  libraryDependencies += &quot;org.apache.fory&quot; % &quot;fory-scala_3&quot; % &quot;0.14.1&quot;   ","version":"0.14","tagName":"h2"},{"title":"ÂÆâË£Ö Apache Fory‚Ñ¢ Kotlin‚Äã","type":1,"pageTitle":"ÂÆâË£Ö Apache Fory‚Ñ¢","url":"/zh-CN/docs/0.14/start/install#ÂÆâË£Ö-apache-fory-kotlin","content":" To add a dependency on Apache Fory‚Ñ¢kotlin with maven, use the following:  &lt;dependency&gt; &lt;groupId&gt;org.apache.fory&lt;/groupId&gt; &lt;artifactId&gt;fory-kotlin&lt;/artifactId&gt; &lt;version&gt;0.14.1&lt;/version&gt; &lt;/dependency&gt;   ","version":"0.14","tagName":"h2"},{"title":"ÂÆâË£Ö Apache Fory‚Ñ¢ Python‚Äã","type":1,"pageTitle":"ÂÆâË£Ö Apache Fory‚Ñ¢","url":"/zh-CN/docs/0.14/start/install#ÂÆâË£Ö-apache-fory-python","content":" python -m pip install --upgrade pip pip install pyfory==0.14.1   ","version":"0.14","tagName":"h2"},{"title":"ÂÆâË£Ö Apache Fory‚Ñ¢ Rust‚Äã","type":1,"pageTitle":"ÂÆâË£Ö Apache Fory‚Ñ¢","url":"/zh-CN/docs/0.14/start/install#ÂÆâË£Ö-apache-fory-rust","content":" [dependencies] fory = &quot;0.14&quot;   ÊàñËÄÖÁõ¥Êé•ÊâßË°å‰ª•‰∏ãÂëΩ‰ª§Ôºö  cargo add fory@0.14.1  ","version":"0.14","tagName":"h2"},{"title":"C++ Âü∫ÂáÜÊÄßËÉΩÊä•Âëä","type":0,"sectionRef":"#","url":"/zh-CN/docs/next/benchmarks/cpp/","content":"","keywords":"","version":"dev"},{"title":"Â¶Ç‰ΩïÁîüÊàêÊú¨Êä•Âëä‚Äã","type":1,"pageTitle":"C++ Âü∫ÂáÜÊÄßËÉΩÊä•Âëä","url":"/zh-CN/docs/next/benchmarks/cpp/#Â¶Ç‰ΩïÁîüÊàêÊú¨Êä•Âëä","content":" cd benchmarks/cpp_benchmark/build ./fory_benchmark --benchmark_format=json --benchmark_out=benchmark_results.json cd .. python benchmark_report.py --json-file build/benchmark_results.json --output-dir report   ","version":"dev","tagName":"h2"},{"title":"Á°¨‰ª∂‰∏éÁ≥ªÁªü‰ø°ÊÅØ‚Äã","type":1,"pageTitle":"C++ Âü∫ÂáÜÊÄßËÉΩÊä•Âëä","url":"/zh-CN/docs/next/benchmarks/cpp/#Á°¨‰ª∂‰∏éÁ≥ªÁªü‰ø°ÊÅØ","content":" Key\tValueOS\tDarwin 24.6.0 Machine\tarm64 Processor\tarm CPU Cores (Physical)\t12 CPU Cores (Logical)\t12 Total RAM (GB)\t48.0 Benchmark Date\t2025-12-15T23:02:49+08:00 CPU Cores (from benchmark)\t12  ","version":"dev","tagName":"h2"},{"title":"Âü∫ÂáÜÂõæË°®‚Äã","type":1,"pageTitle":"C++ Âü∫ÂáÜÊÄßËÉΩÊä•Âëä","url":"/zh-CN/docs/next/benchmarks/cpp/#Âü∫ÂáÜÂõæË°®","content":"   ","version":"dev","tagName":"h2"},{"title":"Âü∫ÂáÜÁªìÊûú‚Äã","type":1,"pageTitle":"C++ Âü∫ÂáÜÊÄßËÉΩÊä•Âëä","url":"/zh-CN/docs/next/benchmarks/cpp/#Âü∫ÂáÜÁªìÊûú","content":" ","version":"dev","tagName":"h2"},{"title":"ËÄóÊó∂ÁªìÊûúÔºàÁ∫≥ÁßíÔºâ‚Äã","type":1,"pageTitle":"C++ Âü∫ÂáÜÊÄßËÉΩÊä•Âëä","url":"/zh-CN/docs/next/benchmarks/cpp/#ËÄóÊó∂ÁªìÊûúÁ∫≥Áßí","content":" Datatype\tOperation\tFory (ns)\tProtobuf (ns)\tFasterMediacontent\tSerialize\t443.5\t1982.5\tFory (4.5x) Mediacontent\tDeserialize\t1349.0\t2525.2\tFory (1.9x) Sample\tSerialize\t235.4\t309.7\tFory (1.3x) Sample\tDeserialize\t1068.7\t1397.0\tFory (1.3x) Struct\tSerialize\t109.4\t170.0\tFory (1.6x) Struct\tDeserialize\t129.1\t161.2\tFory (1.2x)  ","version":"dev","tagName":"h3"},{"title":"ÂêûÂêêÁªìÊûúÔºàops/secÔºâ‚Äã","type":1,"pageTitle":"C++ Âü∫ÂáÜÊÄßËÉΩÊä•Âëä","url":"/zh-CN/docs/next/benchmarks/cpp/#ÂêûÂêêÁªìÊûúopssec","content":" Datatype\tOperation\tFory TPS\tProtobuf TPS\tFasterMediacontent\tSerialize\t2,254,915\t504,410\tFory (4.5x) Mediacontent\tDeserialize\t741,303\t396,013\tFory (1.9x) Sample\tSerialize\t4,248,973\t3,229,102\tFory (1.3x) Sample\tDeserialize\t935,709\t715,837\tFory (1.3x) Struct\tSerialize\t9,143,618\t5,881,005\tFory (1.6x) Struct\tDeserialize\t7,746,787\t6,202,164\tFory (1.2x)  ","version":"dev","tagName":"h3"},{"title":"Â∫èÂàóÂåñÊï∞ÊçÆÂ§ßÂ∞èÔºàÂ≠óËäÇÔºâ‚Äã","type":1,"pageTitle":"C++ Âü∫ÂáÜÊÄßËÉΩÊä•Âëä","url":"/zh-CN/docs/next/benchmarks/cpp/#Â∫èÂàóÂåñÊï∞ÊçÆÂ§ßÂ∞èÂ≠óËäÇ","content":" Datatype\tFory\tProtobufStruct\t32\t61 Sample\t384\t375 ","version":"dev","tagName":"h3"},{"title":"C++ Âü∫ÂáÜÊÄßËÉΩÊä•Âëä","type":0,"sectionRef":"#","url":"/zh-CN/docs/next/benchmarks/cpp/REPORT","content":"","keywords":"","version":"dev"},{"title":"Â¶Ç‰ΩïÁîüÊàêÊú¨Êä•Âëä‚Äã","type":1,"pageTitle":"C++ Âü∫ÂáÜÊÄßËÉΩÊä•Âëä","url":"/zh-CN/docs/next/benchmarks/cpp/REPORT#Â¶Ç‰ΩïÁîüÊàêÊú¨Êä•Âëä","content":" cd benchmarks/cpp_benchmark/build ./fory_benchmark --benchmark_format=json --benchmark_out=benchmark_results.json cd .. python benchmark_report.py --json-file build/benchmark_results.json --output-dir report   ","version":"dev","tagName":"h2"},{"title":"Á°¨‰ª∂‰∏éÁ≥ªÁªü‰ø°ÊÅØ‚Äã","type":1,"pageTitle":"C++ Âü∫ÂáÜÊÄßËÉΩÊä•Âëä","url":"/zh-CN/docs/next/benchmarks/cpp/REPORT#Á°¨‰ª∂‰∏éÁ≥ªÁªü‰ø°ÊÅØ","content":" Key\tValueOS\tDarwin 24.6.0 Machine\tarm64 Processor\tarm CPU Cores (Physical)\t12 CPU Cores (Logical)\t12 Total RAM (GB)\t48.0 Benchmark Date\t2026-02-06T20:00:20+08:00 CPU Cores (from benchmark)\t12  ","version":"dev","tagName":"h2"},{"title":"Âü∫ÂáÜÂõæË°®‚Äã","type":1,"pageTitle":"C++ Âü∫ÂáÜÊÄßËÉΩÊä•Âëä","url":"/zh-CN/docs/next/benchmarks/cpp/REPORT#Âü∫ÂáÜÂõæË°®","content":" ","version":"dev","tagName":"h2"},{"title":"Mediacontent‚Äã","type":1,"pageTitle":"C++ Âü∫ÂáÜÊÄßËÉΩÊä•Âëä","url":"/zh-CN/docs/next/benchmarks/cpp/REPORT#mediacontent","content":"   ","version":"dev","tagName":"h3"},{"title":"Mediacontentlist‚Äã","type":1,"pageTitle":"C++ Âü∫ÂáÜÊÄßËÉΩÊä•Âëä","url":"/zh-CN/docs/next/benchmarks/cpp/REPORT#mediacontentlist","content":"   ","version":"dev","tagName":"h3"},{"title":"Sample‚Äã","type":1,"pageTitle":"C++ Âü∫ÂáÜÊÄßËÉΩÊä•Âëä","url":"/zh-CN/docs/next/benchmarks/cpp/REPORT#sample","content":"   ","version":"dev","tagName":"h3"},{"title":"Samplelist‚Äã","type":1,"pageTitle":"C++ Âü∫ÂáÜÊÄßËÉΩÊä•Âëä","url":"/zh-CN/docs/next/benchmarks/cpp/REPORT#samplelist","content":"   ","version":"dev","tagName":"h3"},{"title":"Struct‚Äã","type":1,"pageTitle":"C++ Âü∫ÂáÜÊÄßËÉΩÊä•Âëä","url":"/zh-CN/docs/next/benchmarks/cpp/REPORT#struct","content":"   ","version":"dev","tagName":"h3"},{"title":"Structlist‚Äã","type":1,"pageTitle":"C++ Âü∫ÂáÜÊÄßËÉΩÊä•Âëä","url":"/zh-CN/docs/next/benchmarks/cpp/REPORT#structlist","content":"   ","version":"dev","tagName":"h3"},{"title":"Throughput‚Äã","type":1,"pageTitle":"C++ Âü∫ÂáÜÊÄßËÉΩÊä•Âëä","url":"/zh-CN/docs/next/benchmarks/cpp/REPORT#throughput","content":"   ","version":"dev","tagName":"h3"},{"title":"Âü∫ÂáÜÁªìÊûú‚Äã","type":1,"pageTitle":"C++ Âü∫ÂáÜÊÄßËÉΩÊä•Âëä","url":"/zh-CN/docs/next/benchmarks/cpp/REPORT#Âü∫ÂáÜÁªìÊûú","content":" ","version":"dev","tagName":"h2"},{"title":"ËÄóÊó∂ÁªìÊûúÔºàÁ∫≥ÁßíÔºâ‚Äã","type":1,"pageTitle":"C++ Âü∫ÂáÜÊÄßËÉΩÊä•Âëä","url":"/zh-CN/docs/next/benchmarks/cpp/REPORT#ËÄóÊó∂ÁªìÊûúÁ∫≥Áßí","content":" Datatype\tOperation\tFory (ns)\tProtobuf (ns)\tFasterMediacontent\tSerialize\t512.0\t1990.9\tFory (3.9x) Mediacontent\tDeserialize\t1674.1\t2516.6\tFory (1.5x) Mediacontentlist\tSerialize\t2261.0\t10804.2\tFory (4.8x) Mediacontentlist\tDeserialize\t6943.5\t13375.9\tFory (1.9x) Sample\tSerialize\t241.7\t309.4\tFory (1.3x) Sample\tDeserialize\t1055.8\t1361.5\tFory (1.3x) Samplelist\tSerialize\t963.2\t11716.7\tFory (12.2x) Samplelist\tDeserialize\t5295.9\t12162.2\tFory (2.3x) Struct\tSerialize\t117.1\t169.6\tFory (1.4x) Struct\tDeserialize\t138.6\t156.2\tFory (1.1x) Structlist\tSerialize\t308.4\t1299.4\tFory (4.2x) Structlist\tDeserialize\t706.2\t1188.0\tFory (1.7x)  ","version":"dev","tagName":"h3"},{"title":"ÂêûÂêêÁªìÊûúÔºàops/secÔºâ‚Äã","type":1,"pageTitle":"C++ Âü∫ÂáÜÊÄßËÉΩÊä•Âëä","url":"/zh-CN/docs/next/benchmarks/cpp/REPORT#ÂêûÂêêÁªìÊûúopssec","content":" Datatype\tOperation\tFory TPS\tProtobuf TPS\tFasterMediacontent\tSerialize\t1,952,940\t502,295\tFory (3.9x) Mediacontent\tDeserialize\t597,343\t397,356\tFory (1.5x) Mediacontentlist\tSerialize\t442,277\t92,557\tFory (4.8x) Mediacontentlist\tDeserialize\t144,020\t74,761\tFory (1.9x) Sample\tSerialize\t4,138,037\t3,232,073\tFory (1.3x) Sample\tDeserialize\t947,188\t734,472\tFory (1.3x) Samplelist\tSerialize\t1,038,236\t85,348\tFory (12.2x) Samplelist\tDeserialize\t188,825\t82,222\tFory (2.3x) Struct\tSerialize\t8,542,313\t5,896,325\tFory (1.4x) Struct\tDeserialize\t7,217,541\t6,403,969\tFory (1.1x) Structlist\tSerialize\t3,242,105\t769,562\tFory (4.2x) Structlist\tDeserialize\t1,416,005\t841,739\tFory (1.7x)  ","version":"dev","tagName":"h3"},{"title":"Â∫èÂàóÂåñÊï∞ÊçÆÂ§ßÂ∞èÔºàÂ≠óËäÇÔºâ‚Äã","type":1,"pageTitle":"C++ Âü∫ÂáÜÊÄßËÉΩÊä•Âëä","url":"/zh-CN/docs/next/benchmarks/cpp/REPORT#Â∫èÂàóÂåñÊï∞ÊçÆÂ§ßÂ∞èÂ≠óËäÇ","content":" Datatype\tFory\tProtobufStruct\t58\t61 Sample\t446\t375 MediaContent\t365\t301 StructList\t184\t315 SampleList\t1980\t1890 MediaContentList\t1535\t1520 ","version":"dev","tagName":"h3"},{"title":"Go Â∫èÂàóÂåñÂü∫ÂáÜÊä•Âëä","type":0,"sectionRef":"#","url":"/zh-CN/docs/next/benchmarks/go/","content":"","keywords":"","version":"dev"},{"title":"Á≥ªÁªü‰ø°ÊÅØ‚Äã","type":1,"pageTitle":"Go Â∫èÂàóÂåñÂü∫ÂáÜÊä•Âëä","url":"/zh-CN/docs/next/benchmarks/go/#Á≥ªÁªü‰ø°ÊÅØ","content":" OS: Darwin 24.6.0Architecture: arm64Python: 3.10.8  ","version":"dev","tagName":"h2"},{"title":"ÊÄßËÉΩÂõæË°®‚Äã","type":1,"pageTitle":"Go Â∫èÂàóÂåñÂü∫ÂáÜÊä•Âëä","url":"/zh-CN/docs/next/benchmarks/go/#ÊÄßËÉΩÂõæË°®","content":"   ","version":"dev","tagName":"h2"},{"title":"ÊÄßËÉΩÊ±áÊÄª‚Äã","type":1,"pageTitle":"Go Â∫èÂàóÂåñÂü∫ÂáÜÊä•Âëä","url":"/zh-CN/docs/next/benchmarks/go/#ÊÄßËÉΩÊ±áÊÄª","content":" Data Type\tOperation\tFory (ops/s)\tProtobuf (ops/s)\tMsgpack (ops/s)\tFory vs PB\tFory vs MPStruct\tSerialize\t15.16M\t10.23M\t5.41M\t1.48x\t2.80x Struct\tDeserialize\t12.10M\t11.01M\t3.23M\t1.10x\t3.75x Structlist\tSerialize\t1.58M\t561K\t299K\t2.82x\t5.28x Structlist\tDeserialize\t1.10M\t529K\t175K\t2.09x\t6.30x Sample\tSerialize\t7.28M\t2.72M\t670K\t2.68x\t10.87x Sample\tDeserialize\t3.79M\t2.37M\t376K\t1.60x\t10.09x Samplelist\tSerialize\t510K\t141K\t38K\t3.61x\t13.34x Samplelist\tDeserialize\t236K\t107K\t19K\t2.20x\t12.66x Mediacontent\tSerialize\t3.72M\t2.12M\t1.29M\t1.75x\t2.88x Mediacontent\tDeserialize\t2.34M\t1.81M\t698K\t1.30x\t3.35x Mediacontentlist\tSerialize\t268K\t110K\t72K\t2.44x\t3.72x Mediacontentlist\tDeserialize\t138K\t87K\t36K\t1.58x\t3.86x  ","version":"dev","tagName":"h2"},{"title":"ËØ¶ÁªÜËÄóÊó∂Ôºàns/opÔºâ‚Äã","type":1,"pageTitle":"Go Â∫èÂàóÂåñÂü∫ÂáÜÊä•Âëä","url":"/zh-CN/docs/next/benchmarks/go/#ËØ¶ÁªÜËÄóÊó∂nsop","content":" Data Type\tOperation\tFory\tProtobuf\tMsgpackStruct\tSerialize\t66.0\t97.8\t184.9 Struct\tDeserialize\t82.7\t90.9\t309.6 Structlist\tSerialize\t632.8\t1783.0\t3340.0 Structlist\tDeserialize\t906.4\t1891.0\t5709.0 Sample\tSerialize\t137.3\t367.3\t1492.0 Sample\tDeserialize\t263.6\t422.2\t2661.0 Samplelist\tSerialize\t1962.0\t7087.0\t26169.0 Samplelist\tDeserialize\t4234.0\t9321.0\t53615.0 Mediacontent\tSerialize\t268.8\t471.1\t773.7 Mediacontent\tDeserialize\t426.9\t553.1\t1432.0 Mediacontentlist\tSerialize\t3736.0\t9107.0\t13911.0 Mediacontentlist\tDeserialize\t7247.0\t11435.0\t27975.0  ","version":"dev","tagName":"h2"},{"title":"Â∫èÂàóÂåñÊï∞ÊçÆÂ§ßÂ∞èÔºàÂ≠óËäÇÔºâ‚Äã","type":1,"pageTitle":"Go Â∫èÂàóÂåñÂü∫ÂáÜÊä•Âëä","url":"/zh-CN/docs/next/benchmarks/go/#Â∫èÂàóÂåñÊï∞ÊçÆÂ§ßÂ∞èÂ≠óËäÇ","content":" Data Type\tFory\tProtobuf\tMsgpackStruct\t58\t61\t57 Sample\t446\t375\t524 MediaContent\t342\t301\t400 StructList\t560\t1260\t1146 SampleList\t7600\t7560\t10486 MediaContentList\t5776\t6080\t8006 ","version":"dev","tagName":"h3"},{"title":"Java Âü∫ÂáÜÊµãËØï","type":0,"sectionRef":"#","url":"/zh-CN/docs/next/benchmarks/java/","content":"","keywords":"","version":"dev"},{"title":"Á≥ªÁªüÁéØÂ¢É‚Äã","type":1,"pageTitle":"Java Âü∫ÂáÜÊµãËØï","url":"/zh-CN/docs/next/benchmarks/java/#Á≥ªÁªüÁéØÂ¢É","content":" Operation SystemÔºö4.9.151-015.x86_64CPUÔºöIntel(R) Xeon(R) Platinum 8163 CPU @ 2.50GHzByte OrderÔºöLittle EndianL1d cacheÔºö 32KL1i cacheÔºö32KL2 cacheÔºö 1024KL3 cacheÔºö 33792K  ","version":"dev","tagName":"h2"},{"title":"JMH ÂèÇÊï∞‚Äã","type":1,"pageTitle":"Java Âü∫ÂáÜÊµãËØï","url":"/zh-CN/docs/next/benchmarks/java/#jmh-ÂèÇÊï∞","content":" ‰∏çË¶ÅË∑≥Ëøá warm upÔºåÂê¶ÂàôÁªìÊûú‰∏çÂáÜÁ°Æ„ÄÇ   -f 1 -wi 3 -i 3 -t 1 -w 2s -r 2s -rf cs   ","version":"dev","tagName":"h2"},{"title":"Âü∫ÂáÜÊï∞ÊçÆ‚Äã","type":1,"pageTitle":"Java Âü∫ÂáÜÊµãËØï","url":"/zh-CN/docs/next/benchmarks/java/#Âü∫ÂáÜÊï∞ÊçÆ","content":" ","version":"dev","tagName":"h2"},{"title":"Struct‚Äã","type":1,"pageTitle":"Java Âü∫ÂáÜÊµãËØï","url":"/zh-CN/docs/next/benchmarks/java/#struct","content":" Struct ÊòØ‰∏Ä‰∏™ÂåÖÂê´ 100 ‰∏™Âü∫Á°ÄÁ±ªÂûãÂ≠óÊÆµÁöÑÁ±ªÔºö  public class Struct { public int f1; public long f2; public float f3; public double f4; // ... public double f99; }   ","version":"dev","tagName":"h3"},{"title":"Struct2‚Äã","type":1,"pageTitle":"Java Âü∫ÂáÜÊµãËØï","url":"/zh-CN/docs/next/benchmarks/java/#struct2","content":" Struct2 ÊòØ‰∏Ä‰∏™ÂåÖÂê´ 100 ‰∏™Ë£ÖÁÆ±Á±ªÂûãÂ≠óÊÆµÁöÑÁ±ªÔºö  public class Struct { public Integer f1; public Long f2; public Float f3; public Double f4; // ... public Double f99; }   ","version":"dev","tagName":"h3"},{"title":"MediaContent‚Äã","type":1,"pageTitle":"Java Âü∫ÂáÜÊµãËØï","url":"/zh-CN/docs/next/benchmarks/java/#mediacontent","content":" MEDIA_CONTENT Êù•Ëá™ jvm-serializers.  ","version":"dev","tagName":"h3"},{"title":"Sample‚Äã","type":1,"pageTitle":"Java Âü∫ÂáÜÊµãËØï","url":"/zh-CN/docs/next/benchmarks/java/#sample","content":" SAMPLE Êù•Ëá™ kryo benchmark  ","version":"dev","tagName":"h3"},{"title":"Âü∫ÂáÜÂõæË°®‚Äã","type":1,"pageTitle":"Java Âü∫ÂáÜÊµãËØï","url":"/zh-CN/docs/next/benchmarks/java/#Âü∫ÂáÜÂõæË°®","content":" ","version":"dev","tagName":"h2"},{"title":"Â∫èÂàóÂåñÂà∞Â†ÜÂÜÖÁºìÂÜ≤Âå∫‚Äã","type":1,"pageTitle":"Java Âü∫ÂáÜÊµãËØï","url":"/zh-CN/docs/next/benchmarks/java/#Â∫èÂàóÂåñÂà∞Â†ÜÂÜÖÁºìÂÜ≤Âå∫","content":" Â∞ÜÊï∞ÊçÆÂ∫èÂàóÂåñÂà∞ Java Â≠óËäÇÊï∞ÁªÑ„ÄÇ  Java schema ‰∏ÄËá¥ÊÄßÂ∫èÂàóÂåñ‚Äã  ÂèçÂ∫èÂàóÂåñÁ´ØÂøÖÈ°ª‰∏éÂ∫èÂàóÂåñÁ´Ø‰ΩøÁî®Áõ∏ÂêåÁöÑÁ±ªÂÆö‰πâ„ÄÇ ËØ•Ê®°Âºè‰∏çÊîØÊåÅÁ±ªÁöÑÂâçÂêë/ÂêéÂêëÂÖºÂÆπ„ÄÇ    Java schema ÂÖºÂÆπÊ®°ÂºèÂ∫èÂàóÂåñ‚Äã  ÂèçÂ∫èÂàóÂåñÁ´ØÂèØ‰ª•‰∏éÂ∫èÂàóÂåñÁ´Ø‰ΩøÁî®‰∏çÂêåÁöÑÁ±ªÂÆö‰πâ„ÄÇ ËØ•Ê®°ÂºèÊîØÊåÅÁ±ªÁöÑÂâçÂêë/ÂêéÂêëÂÖºÂÆπ„ÄÇ    Java schema ‰∏ÄËá¥ÊÄßÂèçÂ∫èÂàóÂåñ‚Äã  ÂèçÂ∫èÂàóÂåñÁ´ØÂøÖÈ°ª‰∏éÂ∫èÂàóÂåñÁ´Ø‰ΩøÁî®Áõ∏ÂêåÁöÑÁ±ªÂÆö‰πâ„ÄÇ ËØ•Ê®°Âºè‰∏çÊîØÊåÅÁ±ªÁöÑÂâçÂêë/ÂêéÂêëÂÖºÂÆπ„ÄÇ    Java schema ÂÖºÂÆπÊ®°ÂºèÂèçÂ∫èÂàóÂåñ‚Äã  ÂèçÂ∫èÂàóÂåñÁ´ØÂèØ‰ª•‰∏éÂ∫èÂàóÂåñÁ´Ø‰ΩøÁî®‰∏çÂêåÁöÑÁ±ªÂÆö‰πâ„ÄÇ ËØ•Ê®°ÂºèÊîØÊåÅÁ±ªÁöÑÂâçÂêë/ÂêéÂêëÂÖºÂÆπ„ÄÇ    ","version":"dev","tagName":"h3"},{"title":"Â†ÜÂ§ñÂ∫èÂàóÂåñ‚Äã","type":1,"pageTitle":"Java Âü∫ÂáÜÊµãËØï","url":"/zh-CN/docs/next/benchmarks/java/#Â†ÜÂ§ñÂ∫èÂàóÂåñ","content":" Â∞ÜÊï∞ÊçÆÂ∫èÂàóÂåñÂà∞Â†ÜÂ§ñÂÜÖÂ≠ò„ÄÇ  Java schema ‰∏ÄËá¥ÊÄßÂ∫èÂàóÂåñ‚Äã  ÂèçÂ∫èÂàóÂåñÁ´ØÂøÖÈ°ª‰∏éÂ∫èÂàóÂåñÁ´Ø‰ΩøÁî®Áõ∏ÂêåÁöÑÁ±ªÂÆö‰πâ„ÄÇ ËØ•Ê®°Âºè‰∏çÊîØÊåÅÁ±ªÁöÑÂâçÂêë/ÂêéÂêëÂÖºÂÆπ„ÄÇ    Java schema ÂÖºÂÆπÊ®°ÂºèÂ∫èÂàóÂåñ‚Äã  ÂèçÂ∫èÂàóÂåñÁ´ØÂèØ‰ª•‰∏éÂ∫èÂàóÂåñÁ´Ø‰ΩøÁî®‰∏çÂêåÁöÑÁ±ªÂÆö‰πâ„ÄÇ ËØ•Ê®°ÂºèÊîØÊåÅÁ±ªÁöÑÂâçÂêë/ÂêéÂêëÂÖºÂÆπ„ÄÇ    Java schema ‰∏ÄËá¥ÊÄßÂèçÂ∫èÂàóÂåñ‚Äã  ÂèçÂ∫èÂàóÂåñÁ´ØÂøÖÈ°ª‰∏éÂ∫èÂàóÂåñÁ´Ø‰ΩøÁî®Áõ∏ÂêåÁöÑÁ±ªÂÆö‰πâ„ÄÇ ËØ•Ê®°Âºè‰∏çÊîØÊåÅÁ±ªÁöÑÂâçÂêë/ÂêéÂêëÂÖºÂÆπ„ÄÇ    Java schema ÂÖºÂÆπÊ®°ÂºèÂèçÂ∫èÂàóÂåñ‚Äã  ÂèçÂ∫èÂàóÂåñÁ´ØÂèØ‰ª•‰∏éÂ∫èÂàóÂåñÁ´Ø‰ΩøÁî®‰∏çÂêåÁöÑÁ±ªÂÆö‰πâ„ÄÇ ËØ•Ê®°ÂºèÊîØÊåÅÁ±ªÁöÑÂâçÂêë/ÂêéÂêëÂÖºÂÆπ„ÄÇ    ","version":"dev","tagName":"h3"},{"title":"Èõ∂Êã∑Ë¥ùÂ∫èÂàóÂåñ‚Äã","type":1,"pageTitle":"Java Âü∫ÂáÜÊµãËØï","url":"/zh-CN/docs/next/benchmarks/java/#Èõ∂Êã∑Ë¥ùÂ∫èÂàóÂåñ","content":" Ê≥®ÊÑèÔºöÈõ∂Êã∑Ë¥ùÂ∫èÂàóÂåñÂè™ÊòØÂú®Â∫èÂàóÂåñÈò∂ÊÆµÈÅøÂÖçÊã∑Ë¥ùÔºõÂ¶ÇÊûúÂ∞ÜÊï∞ÊçÆÂèëÈÄÅÂà∞ÂÖ∂‰ªñÊú∫Âô®Ôºå‰ªçÂèØËÉΩÂèëÁîüÊã∑Ë¥ù„ÄÇ  ‰ΩÜÂ¶ÇÊûúÂú®Âêå‰∏ÄËäÇÁÇπËøõÁ®ãÈó¥Â∫èÂàóÂåñÂπ∂‰ΩøÁî®ÂÖ±‰∫´ÂÜÖÂ≠òÔºå‰∏îÊï∞ÊçÆÂú®Â∫èÂàóÂåñÂâçÂ∑≤‰Ωç‰∫éÂ†ÜÂ§ñÔºåÈÇ£‰πàÂÖ∂‰ªñËøõÁ®ãÂèØÊó†Êã∑Ë¥ùËØªÂèñËØ•ÁºìÂÜ≤Âå∫„ÄÇ  Java Èõ∂Êã∑Ë¥ùÂ∫èÂàóÂåñÂà∞Â†ÜÂÜÖÁºìÂÜ≤Âå∫‚Äã    Java Èõ∂Êã∑Ë¥ùÂ∫èÂàóÂåñÂà∞Áõ¥Êé•ÁºìÂÜ≤Âå∫‚Äã    ","version":"dev","tagName":"h3"},{"title":"Âü∫ÂáÜÊï∞ÊçÆ‚Äã","type":1,"pageTitle":"Java Âü∫ÂáÜÊµãËØï","url":"/zh-CN/docs/next/benchmarks/java/#Âü∫ÂáÜÊï∞ÊçÆ-1","content":" ","version":"dev","tagName":"h2"},{"title":"Java Serialization‚Äã","type":1,"pageTitle":"Java Âü∫ÂáÜÊµãËØï","url":"/zh-CN/docs/next/benchmarks/java/#java-serialization","content":" Benchmark\tobjectType\tbufferType\treferences\tFory\tForyMetaShared\tKryo\tFst\tHession\tJdk\tProtostuffserialize\tSTRUCT\tarray\tFalse\t7501415.567260 558194.100861\t882178.995727\t258233.998931\t155908.244240\t330975.350403 serialize\tSTRUCT\tarray\tTrue\t6264439.154428 557542.628765\t757753.756691\t260845.209485\t151258.539369 serialize\tSTRUCT\tdirectBuffer\tFalse\t9834223.243204 1078046.011115\t807847.663261\t266481.009225\t154875.908438\t340262.650047 serialize\tSTRUCT\tdirectBuffer\tTrue\t7551780.823133 853350.408656\t762088.935404\t261762.594966\t156404.686214 serialize\tSTRUCT2\tarray\tFalse\t3586126.623874 325172.969175\t371762.982661\t56056.080075\t36846.049162\t322563.440433 serialize\tSTRUCT2\tarray\tTrue\t3306474.506382 259863.332448\t380638.700267\t60038.879790\t38183.705811 serialize\tSTRUCT2\tdirectBuffer\tFalse\t2643155.135327 355688.882786\t365317.705376\t55924.319442\t37444.967981\t325093.716261 serialize\tSTRUCT2\tdirectBuffer\tTrue\t2391110.083108 338960.426033\t370851.880711\t56674.065604\t35798.679246 serialize\tMEDIA_CONTENT\tarray\tFalse\t3031642.924542 730792.521676\t751892.023189\t367782.358049\t137989.198821\t780618.761219 serialize\tMEDIA_CONTENT\tarray\tTrue\t2250384.600246 445251.084327\t583859.907758\t329427.470680\t140260.668888 serialize\tMEDIA_CONTENT\tdirectBuffer\tFalse\t2479862.129632 608972.517580\t728001.080250\t372477.138150\t138567.623369\t805941.345157 serialize\tMEDIA_CONTENT\tdirectBuffer\tTrue\t1938527.588331 359875.473951\t595679.580108\t353376.085025\t140158.673910 serialize\tSAMPLE\tarray\tFalse\t3570966.469087 1105365.931217\t915907.574306\t220386.502846\t118374.836631\t663272.710783 serialize\tSAMPLE\tarray\tTrue\t1767693.835090 734215.482291\t731869.156376\t192414.014211\t119858.140625 serialize\tSAMPLE\tdirectBuffer\tFalse\t3684487.760591 1376560.302168\t902302.261168\t220981.308085\t118273.584257\t693641.589806 serialize\tSAMPLE\tdirectBuffer\tTrue\t1826456.709478 932887.968348\t723614.066770\t211949.960255\t108263.040839 serialize_compatible\tSTRUCT\tarray\tFalse\t3530406.108869\t9204444.777172\t145964.199559 258650.663523 serialize_compatible\tSTRUCT\tarray\tTrue\t3293059.098127\t7064625.291374\t136180.832879 263564.913879 serialize_compatible\tSTRUCT\tdirectBuffer\tFalse\t2653169.568374\t11650229.648715\t106695.800225 249221.452137 serialize_compatible\tSTRUCT\tdirectBuffer\tTrue\t2393817.762938\t8702412.752357\t106458.212005 263623.143601 serialize_compatible\tSTRUCT2\tarray\tFalse\t2773368.997680\t2575824.143864\t125807.748004 58509.125342 serialize_compatible\tSTRUCT2\tarray\tTrue\t2564174.550276\t3543082.528217\t114983.546343 55552.977735 serialize_compatible\tSTRUCT2\tdirectBuffer\tFalse\t1912402.937879\t2714748.572248\t92130.672361 58908.567439 serialize_compatible\tSTRUCT2\tdirectBuffer\tTrue\t1848338.968058\t1866073.031851\t88989.724768 55524.373547 serialize_compatible\tMEDIA_CONTENT\tarray\tFalse\t1679272.036223\t2992288.235281\t188911.259146 377195.903772 serialize_compatible\tMEDIA_CONTENT\tarray\tTrue\t1406736.538716\t2058738.716953\t145782.916427 351657.879556 serialize_compatible\tMEDIA_CONTENT\tdirectBuffer\tFalse\t1710680.937387\t2291443.556971\t185363.714829 371729.727192 serialize_compatible\tMEDIA_CONTENT\tdirectBuffer\tTrue\t1149999.473994\t1804349.244125\t142836.961878 343834.954942 serialize_compatible\tSAMPLE\tarray\tFalse\t3604596.465625\t4409055.687063\t378907.663184 234454.975158 serialize_compatible\tSAMPLE\tarray\tTrue\t1619648.337293\t1840705.439334\t320815.567701 206174.173039 serialize_compatible\tSAMPLE\tdirectBuffer\tFalse\t3484533.218305\t5043538.364886\t296102.615094 194761.224263 serialize_compatible\tSAMPLE\tdirectBuffer\tTrue\t1730822.630648\t1859289.705838\t276757.392449 212840.483308 deserialize\tSTRUCT\tarray\tFalse\t4595230.434552 607750.343557\t357887.235311\t84709.108821\t29603.066599\t517381.168594 deserialize\tSTRUCT\tarray\tTrue\t4634753.596131 552802.227807\t353480.554035\t91050.370224\t29727.744196 deserialize\tSTRUCT\tdirectBuffer\tFalse\t5012002.859236 910534.169114\t352441.597147\t91151.633583\t28717.004518\t538922.947147 deserialize\tSTRUCT\tdirectBuffer\tTrue\t4864329.316938 914404.107564\t334574.303484\t91037.205901\t29549.998286 deserialize\tSTRUCT2\tarray\tFalse\t1126298.359550 275984.042401\t280131.091068\t69758.767783\t14888.805111\t416212.973861 deserialize\tSTRUCT2\tarray\tTrue\t1046649.083082 222710.554833\t260649.308016\t68616.029248\t14034.100664 deserialize\tSTRUCT2\tdirectBuffer\tFalse\t1117586.457565 319247.256793\t262519.858810\t66866.108653\t14652.043788\t425523.315814 deserialize\tSTRUCT2\tdirectBuffer\tTrue\t1018277.848128 249105.828416\t234973.637096\t65338.345185\t14425.886048 deserialize\tMEDIA_CONTENT\tarray\tFalse\t2054066.903469 577631.234369\t363455.785182\t118156.072284\t38536.250402\t951662.019963 deserialize\tMEDIA_CONTENT\tarray\tTrue\t1507767.206603 365530.417232\t304371.728638\t120016.594171\t38957.191090 deserialize\tMEDIA_CONTENT\tdirectBuffer\tFalse\t1502746.028159 389473.174523\t311691.658687\t111067.942626\t40512.632076\t964664.641598 deserialize\tMEDIA_CONTENT\tdirectBuffer\tTrue\t1290593.975753 306995.220799\t251820.171513\t121820.821260\t37030.594632 deserialize\tSAMPLE\tarray\tFalse\t2069988.624415 979173.981159\t473409.796491\t119471.518388\t29309.573998\t619338.385412 deserialize\tSAMPLE\tarray\tTrue\t1797942.442313 716438.884369\t428315.502365\t121106.002978\t27466.003923 deserialize\tSAMPLE\tdirectBuffer\tFalse\t2229791.078395 983538.936801\t441027.550809\t117806.916589\t28128.457935\t624804.978534 deserialize\tSAMPLE\tdirectBuffer\tTrue\t1958815.397807 762889.302732\t420523.770904\t121940.783597\t28221.014735 deserialize_compatible\tSTRUCT\tarray\tFalse\t2110335.039275\t4978833.206806\t78771.635309 88617.486795 deserialize_compatible\tSTRUCT\tarray\tTrue\t2135681.982674\t4807963.882520\t72805.937649 90206.654212 deserialize_compatible\tSTRUCT\tdirectBuffer\tFalse\t1596464.248141\t5149070.657830\t58574.904225 89580.561575 deserialize_compatible\tSTRUCT\tdirectBuffer\tTrue\t1684681.074242\t5137500.621288\t60685.320299 84407.472531 deserialize_compatible\tSTRUCT2\tarray\tFalse\t849507.176263\t1201998.142474\t60602.285743 63703.763814 deserialize_compatible\tSTRUCT2\tarray\tTrue\t815120.319155\t1058423.614156\t62729.908347 69521.573119 deserialize_compatible\tSTRUCT2\tdirectBuffer\tFalse\t784036.589363\t1131212.586953\t54637.329134 69342.030965 deserialize_compatible\tSTRUCT2\tdirectBuffer\tTrue\t782679.662083\t1089162.408165\t51761.569591 68542.055543 deserialize_compatible\tMEDIA_CONTENT\tarray\tFalse\t1441671.706320\t2279742.810882\t180882.860363 121619.090797 deserialize_compatible\tMEDIA_CONTENT\tarray\tTrue\t1121136.039627\t1623938.202345\t154311.211540 119994.104050 deserialize_compatible\tMEDIA_CONTENT\tdirectBuffer\tFalse\t1256034.732514\t1718098.363961\t134485.160300 107594.474890 deserialize_compatible\tMEDIA_CONTENT\tdirectBuffer\tTrue\t1054942.751816\t1333345.536684\t119311.787329 116531.023438 deserialize_compatible\tSAMPLE\tarray\tFalse\t2296046.895861\t2485564.396196\t255086.928308 121898.105768 deserialize_compatible\tSAMPLE\tarray\tTrue\t1834139.395757\t2002938.794909\t238811.995510 121297.485903 deserialize_compatible\tSAMPLE\tdirectBuffer\tFalse\t2308111.633661\t2289261.533644\t201993.787890 124044.417439 deserialize_compatible\tSAMPLE\tdirectBuffer\tTrue\t1820490.585648\t1927548.827586\t174534.710870 120276.449497   ","version":"dev","tagName":"h3"},{"title":"Java Èõ∂Êã∑Ë¥ù‚Äã","type":1,"pageTitle":"Java Âü∫ÂáÜÊµãËØï","url":"/zh-CN/docs/next/benchmarks/java/#java-Èõ∂Êã∑Ë¥ù","content":" Benchmark\tarray_size\tbufferType\tdataType\tFory\tKryo\tFstserialize\t200\tarray\tBUFFER\t5123572.914045\t1985187.977633\t2400193.220466 serialize\t200\tarray\tPRIMITIVE_ARRAY\t8297232.942927\t147342.606262\t313986.053417 serialize\t200\tdirectBuffer\tBUFFER\t5400346.890126\t1739454.519770\t2282550.111756 serialize\t200\tdirectBuffer\tPRIMITIVE_ARRAY\t8335248.350301\t972683.763633\t294132.218623 serialize\t1000\tarray\tBUFFER\t4979590.929127\t1616159.671230\t1805557.477810 serialize\t1000\tarray\tPRIMITIVE_ARRAY\t8772856.921028\t31395.721514\t67209.107012 serialize\t1000\tdirectBuffer\tBUFFER\t5376191.775007\t1377272.568510\t1644789.427010 serialize\t1000\tdirectBuffer\tPRIMITIVE_ARRAY\t8207563.785251\t209183.090868\t66108.014322 serialize\t5000\tarray\tBUFFER\t5018916.322770\t711287.533377\t811029.402136 serialize\t5000\tarray\tPRIMITIVE_ARRAY\t8027439.580226\t6248.006967\t14997.400124 serialize\t5000\tdirectBuffer\tBUFFER\t5330897.682960\t707092.956534\t477148.540850 serialize\t5000\tdirectBuffer\tPRIMITIVE_ARRAY\t7695981.988316\t43565.678616\t15000.378818 deserialize\t200\tarray\tBUFFER\t3302149.383135\t1296284.787720\t657754.887247 deserialize\t200\tarray\tPRIMITIVE_ARRAY\t986136.067809\t146675.360652\t219333.990504 deserialize\t200\tdirectBuffer\tBUFFER\t3113115.471758\t1004844.498712\t598421.278941 deserialize\t200\tdirectBuffer\tPRIMITIVE_ARRAY\t991807.969328\t518713.299422\t179604.045774 deserialize\t1000\tarray\tBUFFER\t2831942.848999\t721266.541130\t422147.154601 deserialize\t1000\tarray\tPRIMITIVE_ARRAY\t205671.992736\t30409.835023\t53100.903684 deserialize\t1000\tdirectBuffer\tBUFFER\t3397690.327371\t592972.713203\t298929.116572 deserialize\t1000\tdirectBuffer\tPRIMITIVE_ARRAY\t202275.242341\t112132.004609\t38572.001768 deserialize\t5000\tarray\tBUFFER\t3296658.120035\t147251.846111\t136934.604328 deserialize\t5000\tarray\tPRIMITIVE_ARRAY\t40312.590172\t6122.351228\t10672.872798 deserialize\t5000\tdirectBuffer\tBUFFER\t3284441.570594\t148614.476829\t77950.612503 deserialize\t5000\tdirectBuffer\tPRIMITIVE_ARRAY\t40413.743717\t21826.040410\t8561.694533 ","version":"dev","tagName":"h3"},{"title":"README","type":0,"sectionRef":"#","url":"/zh-CN/docs/next/benchmarks/rust/","content":"","keywords":"","version":"dev"},{"title":"ÊÄßËÉΩÂØπÊØîÊä•Âëä‚Äã","type":1,"pageTitle":"README","url":"/zh-CN/docs/next/benchmarks/rust/#ÊÄßËÉΩÂØπÊØîÊä•Âëä","content":" ÁîüÊàêÊó∂Èó¥Ôºö2025-10-26 18:36:41  Â¶Ç‰ΩïÁîüÊàêÊÄßËÉΩÊä•ÂëäÔºö  cd benchmarks/rust_benchmark cargo bench 2&gt;&amp;1 | tee cargo_bench.log python benchmark_report.py --log-file cargo_bench.log --output-dir=report_output   ","version":"dev","tagName":"h2"},{"title":"Á°¨‰ª∂‰∏éÁ≥ªÁªü‰ø°ÊÅØ‚Äã","type":1,"pageTitle":"README","url":"/zh-CN/docs/next/benchmarks/rust/#Á°¨‰ª∂‰∏éÁ≥ªÁªü‰ø°ÊÅØ","content":" Key\tValueOS\tDarwin 24.5.0 Machine\tarm64 Processor\tarm CPU Cores (Physical)\t12 CPU Cores (Logical)\t12 Total RAM (GB)\t48.0  ","version":"dev","tagName":"h3"},{"title":"Âü∫ÂáÜÂõæË°®‚Äã","type":1,"pageTitle":"README","url":"/zh-CN/docs/next/benchmarks/rust/#Âü∫ÂáÜÂõæË°®","content":" company    ecommerce_data    person    simple_list    simple_map    simple_struct    system_data    ","version":"dev","tagName":"h3"},{"title":"Â∫èÂàóÂåñÁªìÊûú‚Äã","type":1,"pageTitle":"README","url":"/zh-CN/docs/next/benchmarks/rust/#Â∫èÂàóÂåñÁªìÊûú","content":" Datatype\tSize\tOperation\tFory TPS\tJSON TPS\tProtobuf TPS\tFastestcompany\tsmall\tserialize\t10,063,906\t761,673\t896,620\tfory company\tmedium\tserialize\t412,507\t33,835\t37,590\tfory company\tlarge\tserialize\t9,183\t793\t880\tfory ecommerce_data\tsmall\tserialize\t2,350,729\t206,262\t256,970\tfory ecommerce_data\tmedium\tserialize\t59,977\t4,699\t5,242\tfory ecommerce_data\tlarge\tserialize\t3,727\t266\t295\tfory person\tsmall\tserialize\t13,632,522\t1,345,189\t1,475,035\tfory person\tmedium\tserialize\t3,839,656\t337,610\t369,031\tfory person\tlarge\tserialize\t907,853\t79,631\t91,408\tfory simple_list\tsmall\tserialize\t27,726,945\t4,874,957\t4,643,172\tfory simple_list\tmedium\tserialize\t4,770,765\t401,558\t397,551\tfory simple_list\tlarge\tserialize\t606,061\t41,061\t44,565\tfory simple_map\tsmall\tserialize\t22,862,369\t3,888,025\t2,695,999\tfory simple_map\tmedium\tserialize\t2,128,973\t204,319\t193,132\tfory simple_map\tlarge\tserialize\t177,847\t18,419\t18,668\tfory simple_struct\tsmall\tserialize\t35,729,598\t10,167,045\t8,633,342\tfory simple_struct\tmedium\tserialize\t34,988,279\t9,737,098\t6,433,350\tfory simple_struct\tlarge\tserialize\t31,801,558\t4,545,041\t7,420,049\tfory system_data\tsmall\tserialize\t5,382,131\t468,033\t569,930\tfory system_data\tmedium\tserialize\t174,240\t11,896\t14,753\tfory system_data\tlarge\tserialize\t10,671\t876\t1,040\tfory  ","version":"dev","tagName":"h3"},{"title":"ÂèçÂ∫èÂàóÂåñÁªìÊûú‚Äã","type":1,"pageTitle":"README","url":"/zh-CN/docs/next/benchmarks/rust/#ÂèçÂ∫èÂàóÂåñÁªìÊûú","content":" Datatype\tSize\tOperation\tFory TPS\tJSON TPS\tProtobuf TPS\tFastestcompany\tsmall\tdeserialize\t1,145,593\t718,597\t917,431\tfory company\tmedium\tdeserialize\t35,195\t24,474\t25,057\tfory company\tlarge\tdeserialize\t836\t623\t623\tfory ecommerce_data\tsmall\tdeserialize\t278,427\t183,237\t241,109\tfory ecommerce_data\tmedium\tdeserialize\t5,622\t3,820\t4,249\tfory ecommerce_data\tlarge\tdeserialize\t298\t204\t217\tfory person\tsmall\tdeserialize\t1,924,372\t1,214,388\t1,675,631\tfory person\tmedium\tdeserialize\t371,016\t265,280\t266,333\tfory person\tlarge\tdeserialize\t84,839\t63,975\t61,820\tfory simple_list\tsmall\tdeserialize\t6,129,329\t3,599,582\t4,429,286\tfory simple_list\tmedium\tdeserialize\t460,745\t305,409\t337,336\tfory simple_list\tlarge\tdeserialize\t54,348\t33,962\t38,776\tfory simple_map\tsmall\tdeserialize\t3,686,364\t3,090,426\t3,477,051\tfory simple_map\tmedium\tdeserialize\t171,774\t126,638\t119,323\tfory simple_map\tlarge\tdeserialize\t16,501\t10,920\t10,853\tfory simple_struct\tsmall\tdeserialize\t31,476,235\t12,948,168\t28,280,543\tfory simple_struct\tmedium\tdeserialize\t30,077,902\t10,431,118\t23,012,841\tfory simple_struct\tlarge\tdeserialize\t28,201,585\t8,955,759\t23,528,858\tfory system_data\tsmall\tdeserialize\t644,870\t421,106\t549,209\tfory system_data\tmedium\tdeserialize\t14,322\t9,205\t10,565\tfory system_data\tlarge\tdeserialize\t961\t634\t706\tfory ","version":"dev","tagName":"h3"},{"title":"Á§æÂå∫","type":0,"sectionRef":"#","url":"/zh-CN/docs/next/community/","content":"","keywords":"","version":"dev"},{"title":"ÈÇÆ‰ª∂ÂàóË°®‚Äã","type":1,"pageTitle":"Á§æÂå∫","url":"/zh-CN/docs/next/community/#ÈÇÆ‰ª∂ÂàóË°®","content":" ÈÇÆ‰ª∂ÂàóË°®\tÊèèËø∞\tËÆ¢ÈòÖ\tÂèñÊ∂àËÆ¢ÈòÖ\tÂèëÈÄÅÈÇÆ‰ª∂\tÊ¥ªÂä®dev@fory.apache.org\tÂºÄÂèëÁõ∏ÂÖ≥ËÆ®ËÆ∫\tËÆ¢ÈòÖ\tÂèñÊ∂àËÆ¢ÈòÖ\tÂèëÈÄÅÈÇÆ‰ª∂\tÈÇÆ‰ª∂ÂàóË°®Ê¥ªÂä® commits@fory.apache.org\t‰ªìÂ∫ìÁöÑÊâÄÊúâ commits\tËÆ¢ÈòÖ\tÂèñÊ∂àËÆ¢ÈòÖ\tÂè™ËØªÁöÑÈÇÆ‰ª∂ÂàóË°®\tÈÇÆ‰ª∂ÂàóË°®Ê¥ªÂä®  Âú®Â∞ùËØïÂèëÈÄÅÈÇÆ‰ª∂‰πãÂâçÔºåËØ∑Á°Æ‰øùËÆ¢ÈòÖ‰∏äËø∞ÁöÑÈÇÆ‰ª∂ÂàóË°®„ÄÇ  Â¶ÇÊûúÊÇ®Ê≤°ÊúâËÆ¢ÈòÖÈÇÆ‰ª∂ÂàóË°®ÔºåÊÇ®ÁöÑÈÇÆ‰ª∂Â∞ÜË¢´ÊãíÁªùÊàñ‰∏ç‰ºöÊî∂Âà∞ÂõûÂ§ç„ÄÇ  ","version":"dev","tagName":"h2"},{"title":"Â¶Ç‰ΩïËÆ¢ÈòÖÈÇÆ‰ª∂ÂàóË°®‚Äã","type":1,"pageTitle":"Á§æÂå∫","url":"/zh-CN/docs/next/community/#Â¶Ç‰ΩïËÆ¢ÈòÖÈÇÆ‰ª∂ÂàóË°®","content":" Ë¶ÅÂèëÈÄÅÈÇÆ‰ª∂Ëá≥ÈÇÆ‰ª∂ÂàóË°®ÔºåËØ∑ÂÖàÈÄöËøá‰ª•‰∏ãÊñπÂºèËÆ¢ÈòÖÔºö  ÂèëÈÄÅÁîµÂ≠êÈÇÆ‰ª∂Ëá≥ listname-subscribe@fory.apache.orgÔºåÂπ∂Áõ∏Â∫îÊõøÊç¢ listnameÔºõÂõûÂ§çÊÇ®Â∞ÜÊî∂Âà∞ÁöÑÁ°ÆËÆ§ÁîµÂ≠êÈÇÆ‰ª∂Ôºå‰øùÊåÅÈÇÆ‰ª∂‰∏ªÈ¢òË°åÂÆåÊï¥ÔºõÁÑ∂ÂêéÊÇ®Â∞ÜÊî∂Âà∞‰∏ÄÂ∞ÅÊ¨¢ËøéÁöÑÁîµÂ≠êÈÇÆ‰ª∂ÔºåËÆ¢ÈòÖÊàêÂäü„ÄÇ  Âú®ËÆ®ËÆ∫ÁîµÂ≠êÈÇÆ‰ª∂‰∏≠ÁöÑ‰ª£Á†ÅÁâáÊÆµÊó∂ÔºåËØ∑Á°Æ‰øùÔºö  ÊÇ®‰∏çË¶ÅÈìæÊé•Âà∞Â§ñÈÉ®ÊúçÂä°‰∏≠ÁöÑÊñá‰ª∂ÔºåÂõ†‰∏∫Ê≠§Á±ªÊñá‰ª∂ÂèØËÉΩ‰ºöÊõ¥Êîπ„ÄÅË¢´Âà†Èô§ÊàñÈìæÊé•ÂèØËÉΩ‰ºö‰∏≠Êñ≠Ôºå‰ªéËÄå‰ΩøÂ≠òÊ°£ÁöÑÁîµÂ≠êÈÇÆ‰ª∂Á∫øÁ®ãÂèòÂæóÊó†Áî®ÔºõÊÇ®Á≤òË¥¥ÊñáÊú¨ËÄå‰∏çÊòØÊñáÊú¨Â±èÂπïÊà™ÂõæÔºõÁ≤òË¥¥‰ª£Á†ÅÊó∂‰øùÊåÅÊ†ºÂºèÔºå‰ª•‰øùÊåÅ‰ª£Á†ÅÂèØËØªÔºõÊúâË∂≥Â§üÁöÑÂØºÂÖ•ËØ≠Âè•‰ª•ÈÅøÂÖç‰∫ßÁîü‰ª£Á†ÅÊ≠ß‰πâ„ÄÇ  ","version":"dev","tagName":"h3"},{"title":"Slack‚Äã","type":1,"pageTitle":"Á§æÂå∫","url":"/zh-CN/docs/next/community/#slack","content":" ÊÇ®ÂèØ‰ª•Âä†ÂÖ•Slack ‰∏äÁöÑ Apache Fory‚Ñ¢ Á§æÂå∫„ÄÇ  ËøôÈáåÊúâ‰∏Ä‰∫õÁ§æÂå∫ËßÑÂàôÔºö  ‰øùÊåÅÂ∞äÈáçÂíåÂèãÂñÑÔºõÊâÄÊúâÈáçË¶ÅÁöÑÂÜ≥ÂÆöÂíåÁªìËÆ∫ÈÉΩÂøÖÈ°ªÂèçÊò†Âà∞ÈÇÆ‰ª∂ÂàóË°®‰∏≠„ÄÇ ‚ÄúÂ¶ÇÊûúËøôÊ≤°ÊúâÂú®ÈÇÆ‰ª∂ÂàóË°®‰∏≠ÊúâÁõ∏ÂÖ≥ÁöÑËÆ®ËÆ∫ËÆ∞ÂΩïÔºåÂàô‰ª£Ë°®ÂÆÉ‰∏çÁîüÊïà‚Äù ÔºõThe Apache WayÔºõ‰ΩøÁî® Slack Á∫øÁ®ãÊù•Èò≤Ê≠¢Âπ∂Ë°åÂØπËØùÊ∑πÊ≤°ÂΩìÂâçÁöÑÂØπËØùÈ¢ëÈÅìÔºõËØ∑‰∏çË¶ÅÁõ¥Êé•ÂêëÈÇÆ‰ª∂ÂàóË°®ÂèëÈÄÅ Bug fix„ÄÅIssue ÂàÜÈÖçÂíå Code Review Ê∂àÊÅØ„ÄÇËøô‰∫õÂÜÖÂÆπÂ∫îËØ•Ë¢´Á§æÂå∫Ë¥°ÁåÆËÄÖËá™ÊÑøÂ§ÑÁêÜÂπ∂ÂàÜÈÖç„ÄÇ  ","version":"dev","tagName":"h2"},{"title":"Issue Ë∑üË∏™‚Äã","type":1,"pageTitle":"Á§æÂå∫","url":"/zh-CN/docs/next/community/#issue-Ë∑üË∏™","content":" Êàë‰ª¨‰ΩøÁî® GitHub Issues Êù•Ë∑üË∏™ÊâÄÊúâ IssuesÔºö  ‰ª£Á†ÅÁõ∏ÂÖ≥ÈóÆÈ¢òÔºöhttps://github.com/apache/fory/issuesÁΩëÁ´ôÁõ∏ÂÖ≥ÈóÆÈ¢òÔºöhttps://github.com/apache/fory-site/issues  ÊÇ®ÈúÄË¶ÅÊúâ‰∏Ä‰∏™ GitHub Â∏êÂè∑ ÊâçËÉΩÂàõÂª∫ÈóÆÈ¢ò„ÄÇ Â¶ÇÊûúÊÇ®Ê≤°Êúâ GitHub Â∏êÂè∑ÔºåÊÇ®ÂèØ‰ª•ÂèëÈÄÅÁîµÂ≠êÈÇÆ‰ª∂Ëá≥ dev@fory.apache.org„ÄÇ  ","version":"dev","tagName":"h2"},{"title":"Êä•Âëä Bug‚Äã","type":1,"pageTitle":"Á§æÂå∫","url":"/zh-CN/docs/next/community/#Êä•Âëä-bug","content":" ÊÇ®Âú®Êä•Âëä Bug ‰πãÂâçÔºåÂ∫îËØ•Ôºö  È™åËØÅËØ• Bug Á°ÆÂÆûÂ≠òÂú®ÔºõÊêúÁ¥¢ Issue List ‰ª•Á°Æ‰øù‰∏çÂ≠òÂú®Áõ∏ÂÖ≥ Bug„ÄÇÂú® Issue List ‰∏≠ÂàõÂª∫ bug Êä•Âëä„ÄÇÂ¶ÇÊûúÂèØËÉΩÁöÑËØùÔºåÊ∑±ÂÖ•Á†îÁ©∂ Apache Fory‚Ñ¢ ÁöÑÊ∫ê‰ª£Á†ÅÔºåÂπ∂ÈíàÂØπÊÇ®Êä•ÂëäÁöÑ Bug Êèê‰∫§Ë°•‰∏ÅÔºåËøôÊúâÂä©‰∫éÂø´ÈÄü‰øÆÂ§ç Bug„ÄÇ  ","version":"dev","tagName":"h3"},{"title":"Êä•ÂëäÂÆâÂÖ®ÊºèÊ¥û‚Äã","type":1,"pageTitle":"Á§æÂå∫","url":"/zh-CN/docs/next/community/#Êä•ÂëäÂÆâÂÖ®ÊºèÊ¥û","content":" Apache Fory‚Ñ¢ ÊòØ Apache ËΩØ‰ª∂Âü∫Èáë‰ºö ÁöÑ‰∏Ä‰∏™È°πÁõÆÔºåÈÅµÂæ™ ASF ÊºèÊ¥ûÂ§ÑÁêÜÊµÅÁ®ã„ÄÇ  Ë¶ÅÊä•ÂëäÊÇ®ÂèëÁé∞ÁöÑÊñ∞ÁöÑÂÆâÂÖ®ÊºèÊ¥ûÔºåËØ∑ÈÅµÂæ™ ASF ÊºèÊ¥ûÊä•ÂëäÊµÅÁ®ãÔºåËØ•ÊµÅÁ®ãËß£Èáä‰∫ÜÂ¶Ç‰ΩïÁßÅ‰∏ãÂêëÁ§æÂå∫Áª¥Êä§ËÄÖÂèëÈÄÅËØ¶ÁªÜÁöÑÊºèÊ¥û‰ø°ÊÅØ„ÄÇ  ","version":"dev","tagName":"h3"},{"title":"New Feature‚Äã","type":1,"pageTitle":"Á§æÂå∫","url":"/zh-CN/docs/next/community/#new-feature","content":" Ê¨¢ËøéÊÇ®Â¢ûÂº∫ÂäüËÉΩÊàñÊñ∞ÂäüËÉΩÂª∫ËÆÆ„ÄÇÊèêÊ°àË∂äÂÖ∑‰Ωì„ÄÅË∂äÂêàÁêÜÔºåÊÇ®Âú® Apache Fory‚Ñ¢ Á§æÂå∫ÁöÑÂΩ±ÂìçÂäõÂ∞±Ë∂äÂ§ß„ÄÇÂÆÉÊúâÂèØËÉΩÂú®‰πãÂêéÁâàÊú¨ÂèëÂ∏É„ÄÇ  ","version":"dev","tagName":"h3"},{"title":"È°πÁõÆÊ∫ê‰ª£Á†Å‚Äã","type":1,"pageTitle":"Á§æÂå∫","url":"/zh-CN/docs/next/community/#È°πÁõÆÊ∫ê‰ª£Á†Å","content":" Apache Fory‚Ñ¢ Core Â≠òÂÇ®Â∫ìÔºöhttps://github.com/apache/foryApache Fory‚Ñ¢ ÁΩëÁ´ôÂ≠òÂÇ®Â∫ìÔºöhttps://github.com/apache/fory-site ","version":"dev","tagName":"h3"},{"title":"Apache Fory‚Ñ¢ ‰ΩøÁî®","type":0,"sectionRef":"#","url":"/zh-CN/docs/0.14/start/usage","content":"","keywords":"","version":"0.14"},{"title":"Java Â∫èÂàóÂåñ‚Äã","type":1,"pageTitle":"Apache Fory‚Ñ¢ ‰ΩøÁî®","url":"/zh-CN/docs/0.14/start/usage#java-Â∫èÂàóÂåñ","content":" import java.util.List; import java.util.Arrays; import io.fory.*; public class Example { public static void main(String[] args) { SomeClass object = new SomeClass(); // Note that Fory instances should be reused between // multiple serializations of different objects. Fory fory = Fory.builder().withLanguage(Language.JAVA) // Allow to deserialize objects unknown types, // more flexible but less secure. // .requireClassRegistration(false) .build(); // Registering types can reduce class name serialization overhead, but not mandatory. // If secure mode enabled, all custom types must be registered. fory.register(SomeClass.class); byte[] bytes = fory.serialize(object); System.out.println(fory.deserialize(bytes)); } }   ","version":"0.14","tagName":"h2"},{"title":"ScalaÂ∫èÂàóÂåñ‚Äã","type":1,"pageTitle":"Apache Fory‚Ñ¢ ‰ΩøÁî®","url":"/zh-CN/docs/0.14/start/usage#scalaÂ∫èÂàóÂåñ","content":" import org.apache.fory.Fory import org.apache.fory.serializer.scala.ScalaSerializers case class Person(name: String, id: Long, github: String) case class Point(x : Int, y : Int, z : Int) object ScalaExample { val fory: Fory = Fory.builder().withScalaOptimizationEnabled(true).build() // Register optimized fory serializers for scala ScalaSerializers.registerSerializers(fory) fory.register(classOf[Person]) fory.register(classOf[Point]) def main(args: Array[String]): Unit = { val p = Person(&quot;Shawn Yang&quot;, 1, &quot;https://github.com/chaokunyang&quot;) println(fory.deserialize(fory.serialize(p))) println(fory.deserialize(fory.serialize(Point(1, 2, 3)))) } } ## KotlinÂ∫èÂàóÂåñ ```kotlin import org.apache.fory.Fory import org.apache.fory.ThreadSafeFory import org.apache.fory.serializer.kotlin.KotlinSerializers data class Person(val name: String, val id: Long, val github: String) data class Point(val x : Int, val y : Int, val z : Int) fun main(args: Array&lt;String&gt;) { // Ê≥®ÊÑè: ‰∏ãÈù¢ÁöÑForyÂàùÂßãÂåñ‰ª£Á†ÅÂ∫îËØ•Âè™ÊâßË°å‰∏ÄÊ¨°ÔºåËÄå‰∏çÊòØÂú®ÊØèÊ¨°Â∫èÂàóÂåñÂâçÈÉΩËøêË°å val fory: ThreadSafeFory = Fory.builder().requireClassRegistration(true).buildThreadSafeFory() KotlinSerializers.registerSerializers(fory) fory.register(Person::class.java) fory.register(Point::class.java) val p = Person(&quot;Shawn Yang&quot;, 1, &quot;https://github.com/chaokunyang&quot;) println(fory.deserialize(fory.serialize(p))) println(fory.deserialize(fory.serialize(Point(1, 2, 3)))) }   ","version":"0.14","tagName":"h2"},{"title":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ‚Äã","type":1,"pageTitle":"Apache Fory‚Ñ¢ ‰ΩøÁî®","url":"/zh-CN/docs/0.14/start/usage#Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ","content":" ","version":"0.14","tagName":"h2"},{"title":"Java‚Äã","type":1,"pageTitle":"Apache Fory‚Ñ¢ ‰ΩøÁî®","url":"/zh-CN/docs/0.14/start/usage#java","content":" import com.google.common.collect.ImmutableMap; import io.fory.*; import java.util.Map; public class ReferenceExample { public static class SomeClass { SomeClass f1; Map&lt;String, String&gt; f2; Map&lt;String, String&gt; f3; } public static Object createObject() { SomeClass obj = new SomeClass(); obj.f1 = obj; obj.f2 = ImmutableMap.of(&quot;k1&quot;, &quot;v1&quot;, &quot;k2&quot;, &quot;v2&quot;); obj.f3 = obj.f2; return obj; } // mvn exec:java -Dexec.mainClass=&quot;io.fory.examples.ReferenceExample&quot; public static void main(String[] args) { Fory fory = Fory.builder().withLanguage(Language.XLANG) .withRefTracking(true).build(); fory.register(SomeClass.class, &quot;example.SomeClass&quot;); byte[] bytes = fory.serialize(createObject()); // bytes can be data serialized by other languages. System.out.println(fory.deserialize(bytes)); ; } }   ","version":"0.14","tagName":"h3"},{"title":"Python‚Äã","type":1,"pageTitle":"Apache Fory‚Ñ¢ ‰ΩøÁî®","url":"/zh-CN/docs/0.14/start/usage#python","content":" from typing import Dict import pyfory class SomeClass: f1: &quot;SomeClass&quot; f2: Dict[str, str] f3: Dict[str, str] fory = pyfory.Fory(ref_tracking=True) fory.register_class(SomeClass, &quot;example.SomeClass&quot;) obj = SomeClass() obj.f2 = {&quot;k1&quot;: &quot;v1&quot;, &quot;k2&quot;: &quot;v2&quot;} obj.f1, obj.f3 = obj, obj.f2 data = fory.serialize(obj) # bytes can be data serialized by other languages. print(fory.deserialize(data))   ","version":"0.14","tagName":"h3"},{"title":"Golangs‚Äã","type":1,"pageTitle":"Apache Fory‚Ñ¢ ‰ΩøÁî®","url":"/zh-CN/docs/0.14/start/usage#golangs","content":" package main import ( &quot;fmt&quot; forygo &quot;github.com/apache/fory/go/fory&quot; ) func main() { type SomeClass struct { F1 *SomeClass F2 map[string]string F3 map[string]string } fory := forygo.NewFory(true) if err := fory.RegisterTagType(&quot;example.SomeClass&quot;, SomeClass{}); err != nil { panic(err) } value := &amp;SomeClass{F2: map[string]string{&quot;k1&quot;: &quot;v1&quot;, &quot;k2&quot;: &quot;v2&quot;}} value.F3 = value.F2 value.F1 = value bytes, err := fory.Marshal(value) if err != nil { } var newValue interface{} // bytes can be data serialized by other languages. if err := fory.Unmarshal(bytes, &amp;newValue); err != nil { panic(err) } fmt.Println(newValue) }   ","version":"0.14","tagName":"h3"},{"title":"JavaScript‚Äã","type":1,"pageTitle":"Apache Fory‚Ñ¢ ‰ΩøÁî®","url":"/zh-CN/docs/0.14/start/usage#javascript","content":" import Fory, { Type } from &quot;@apache-fory/fory&quot;; /** * @apache-fory/hps use v8's fast-calls-api that can be called directly by jit, ensure that the version of Node is 20 or above. * Experimental feature, installation success cannot be guaranteed at this moment * If you are unable to install the module, replace it with `const hps = null;` **/ import hps from &quot;@apache-fory/hps&quot;; // Now we describe data structures using JSON, but in the future, we will use more ways. const description = Type.object(&quot;example.foo&quot;, { foo: Type.string(), }); const fory = new Fory({ hps }); const { serialize, deserialize } = fory.registerSerializer(description); const input = serialize({ foo: &quot;hello fory&quot; }); const result = deserialize(input); console.log(result);   ","version":"0.14","tagName":"h3"},{"title":"Rust‚Äã","type":1,"pageTitle":"Apache Fory‚Ñ¢ ‰ΩøÁî®","url":"/zh-CN/docs/0.14/start/usage#rust","content":" use fory::{from_buffer, to_buffer, Fory}; #[derive(Fory, Debug, PartialEq)] #[tag(&quot;example.foo&quot;)] struct Animal { name: String, category: String, } #[derive(Fory, Debug, PartialEq)] #[tag(&quot;example.bar&quot;)] struct Person { name: String, age: u32, pets: Vec&lt;Animal&gt;, } fn main() { let penson = Person { name: &quot;hello&quot;.to_string(), age: 12, pets: vec![ Animal { name: &quot;world1&quot;.to_string(), category: &quot;cat&quot;.to_string(), }, Animal { name: &quot;world2&quot;.to_string(), category: &quot;dog&quot;.to_string(), }, ], }; let bin = to_buffer(&amp;penson); let obj: Person = from_buffer(&amp;bin).expect(&quot;should success&quot;); assert_eq!(obj, penson); }  ","version":"0.14","tagName":"h3"},{"title":"Â¶Ç‰ΩïÂä†ÂÖ• Apache Fory‚Ñ¢ Á§æÂå∫","type":0,"sectionRef":"#","url":"/zh-CN/docs/next/community/how_to_join_community","content":"","keywords":"","version":"dev"},{"title":"Apache Fory‚Ñ¢ Ë¥°ÁåÆÊåáÂçó‚Äã","type":1,"pageTitle":"Â¶Ç‰ΩïÂä†ÂÖ• Apache Fory‚Ñ¢ Á§æÂå∫","url":"/zh-CN/docs/next/community/how_to_join_community#apache-fory-Ë¥°ÁåÆÊåáÂçó","content":" Apache Fory‚Ñ¢ Âõ¢ÈòüÈÄöÂ∏∏Âú® github ‰∏äËøõË°åÂºÄÂèëÂíå issue Áª¥Êä§ÔºåËØ∑ÊâìÂºÄ¬†Github ÁΩëÁ´ôÔºåÁÇπÂáªÂè≥‰∏äËßí¬†Sign up¬†ÊåâÈíÆÔºåÊ≥®ÂÜå‰∏Ä‰∏™Ëá™Â∑±ÁöÑË¥¶Âè∑ÔºåÂºÄÂêØ‰Ω†ÂºÄÊ∫ê‰πãÊóÖÁöÑÁ¨¨‰∏ÄÊ≠•„ÄÇ  Âú®¬†Apache Fory‚Ñ¢ ‰ªìÂ∫ì‰∏≠ÔºåÊàë‰ª¨Êúâ‰∏Ä‰ªΩÈù¢ÂêëÊâÄÊúâÂºÄÊ∫êË¥°ÁåÆËÄÖÁöÑÊåáÂçóÔºå‰ªãÁªç‰∫ÜÊúâÂÖ≥ÁâàÊú¨ÁÆ°ÁêÜ„ÄÅÂàÜÊîØÁÆ°ÁêÜÁ≠âÂÜÖÂÆπÔºåËØ∑Ëä±Âá†ÂàÜÈíüÊó∂Èó¥ÈòÖËØª‰∫ÜËß£‰∏Ä‰∏ã„ÄÇ  ","version":"dev","tagName":"h2"},{"title":"‰Ω†ÁöÑÁ¨¨‰∏Ä‰∏™ Pull Request‚Äã","type":1,"pageTitle":"Â¶Ç‰ΩïÂä†ÂÖ• Apache Fory‚Ñ¢ Á§æÂå∫","url":"/zh-CN/docs/next/community/how_to_join_community#‰Ω†ÁöÑÁ¨¨‰∏Ä‰∏™-pull-request","content":" ","version":"dev","tagName":"h2"},{"title":"Step0ÔºöÂÆâË£Ö Git‚Äã","type":1,"pageTitle":"Â¶Ç‰ΩïÂä†ÂÖ• Apache Fory‚Ñ¢ Á§æÂå∫","url":"/zh-CN/docs/next/community/how_to_join_community#step0ÂÆâË£Ö-git","content":" Git ÊòØ‰∏ÄÁßçÁâàÊú¨ÊéßÂà∂Á≥ªÁªüÔºåÁî®‰∫éË∑üË∏™ÂíåÁÆ°ÁêÜËΩØ‰ª∂ÂºÄÂèëÈ°πÁõÆ‰∏≠ÁöÑ‰ª£Á†ÅÂèòÊõ¥„ÄÇÂÆÉÂ∏ÆÂä©ÂºÄÂèëËÄÖËÆ∞ÂΩïÂíåÁÆ°ÁêÜ‰ª£Á†ÅÁöÑÂéÜÂè≤ËÆ∞ÂΩïÔºåÊñπ‰æøÂõ¢ÈòüÂçè‰Ωú„ÄÅ‰ª£Á†ÅÁâàÊú¨ÊéßÂà∂„ÄÅÂêàÂπ∂‰ª£Á†ÅÁ≠âÊìç‰Ωú„ÄÇÈÄöËøá GitÔºåÊÇ®ÂèØ‰ª•ËøΩË∏™ÊØè‰∏™Êñá‰ª∂ÁöÑÊØè‰∏™ÁâàÊú¨ÔºåÂπ∂ËΩªÊùæÂú∞Âú®‰∏çÂêåÁâàÊú¨‰πãÈó¥ËøõË°åÂàáÊç¢ÂíåÊØîËæÉ„ÄÇGit ËøòÊèê‰æõ‰∫ÜÂàÜÊîØÁÆ°ÁêÜÂäüËÉΩÔºå‰ΩøÂæóÂèØ‰ª•ÂêåÊó∂ËøõË°åÂ§ö‰∏™Âπ∂Ë°åÂºÄÂèë‰ªªÂä°„ÄÇ  ËÆøÈóÆ Git ÂÆòÊñπÁΩëÁ´ôÔºöhttps://git-scm.com‰∏ãËΩΩÊúÄÊñ∞ÁâàÊú¨ÁöÑ Git ÂÆâË£ÖÁ®ãÂ∫è„ÄÇËøêË°å‰∏ãËΩΩÁöÑÂÆâË£ÖÁ®ãÂ∫èÔºåÊåâÁÖßÂÆâË£ÖÂêëÂØºÁöÑÊèêÁ§∫ËøõË°åÂÆâË£Ö„ÄÇÂÆâË£ÖÂÆåÊàêÂêéÔºå‰Ω†ÂèØ‰ª•ÈÄöËøáÂëΩ‰ª§Ë°å‰ΩøÁî®¬†git version¬†ÂëΩ‰ª§Á°ÆËÆ§ÂÆâË£ÖÊàêÂäü„ÄÇ  ","version":"dev","tagName":"h3"},{"title":"Step1ÔºöFork È°πÁõÆ‚Äã","type":1,"pageTitle":"Â¶Ç‰ΩïÂä†ÂÖ• Apache Fory‚Ñ¢ Á§æÂå∫","url":"/zh-CN/docs/next/community/how_to_join_community#step1fork-È°πÁõÆ","content":" È¶ñÂÖàÈúÄË¶Å fork Ëøô‰∏™È°πÁõÆÔºåËøõÂÖ•Apache Fory‚Ñ¢ È°πÁõÆÈ°µÈù¢ÔºåÁÇπÂáªÂè≥‰∏äËßíÁöÑ Fork ÊåâÈíÆ‰Ω†ÁöÑ github Â∏êÂè∑‰∏≠‰ºöÂá∫Áé∞ xxxx(‰Ω†ÁöÑ github Áî®Êà∑Âêç)/fory Ëøô‰∏™È°πÁõÆÂú®Êú¨Âú∞ÁîµËÑë‰∏ä‰ΩøÁî®‰ª•‰∏ãÂëΩ‰ª§: ÂæóÂà∞‰∏Ä‰∏™ fory Êñá‰ª∂Â§π  // ssh git clone git@github.com:xxxx(‰Ω†ÁöÑgithubÁî®Êà∑Âêç)/fory.git // https git clone https://github.com/xxxx(‰Ω†ÁöÑgithubÁî®Êà∑Âêç)/fory.git   ","version":"dev","tagName":"h3"},{"title":"Step2ÔºöËé∑ÂèñÈ°πÁõÆ‰ª£Á†Å‚Äã","type":1,"pageTitle":"Â¶Ç‰ΩïÂä†ÂÖ• Apache Fory‚Ñ¢ Á§æÂå∫","url":"/zh-CN/docs/next/community/how_to_join_community#step2Ëé∑ÂèñÈ°πÁõÆ‰ª£Á†Å","content":" ËøõÂÖ• fory Êñá‰ª∂Â§πÔºåÊ∑ªÂä† fory ÁöÑËøúÁ®ãÂú∞ÂùÄ  git remote add upstream https://github.com/apache/fory.git   ","version":"dev","tagName":"h3"},{"title":"Step3ÔºöÂàõÂª∫ÂàÜÊîØ‚Äã","type":1,"pageTitle":"Â¶Ç‰ΩïÂä†ÂÖ• Apache Fory‚Ñ¢ Á§æÂå∫","url":"/zh-CN/docs/next/community/how_to_join_community#step3ÂàõÂª∫ÂàÜÊîØ","content":" Â•Ω‰∫ÜÔºåÁé∞Âú®ÂèØ‰ª•ÂºÄÂßãË¥°ÁåÆÊàë‰ª¨ÁöÑ‰ª£Á†Å‰∫Ü„ÄÇfory ÈªòËÆ§ÂàÜÊîØ‰∏∫ main ÂàÜÊîØ„ÄÇÊó†ËÆ∫ÊòØÂäüËÉΩÂºÄÂèë„ÄÅbug ‰øÆÂ§ç„ÄÅÊñáÊ°£ÁºñÂÜôÔºåÈÉΩËØ∑Êñ∞Âª∫Á´ã‰∏Ä‰∏™ÂàÜÊîØÔºåÂÜçÂêàÂπ∂Âà∞ main ÂàÜÊîØ‰∏ä„ÄÇ‰ΩøÁî®‰ª•‰∏ã‰ª£Á†ÅÂàõÂª∫ÂàÜÊîØÔºö  // ÂàõÂª∫ÂäüËÉΩÂºÄÂèëÂàÜÊîØ git checkout -b feat/xxxx // ÂàõÂª∫ÈóÆÈ¢ò‰øÆÂ§çÂºÄÂèëÂàÜÊîØ git checkout -b fix/xxxx // ÂàõÂª∫ÊñáÊ°£„ÄÅdemoÂàÜÊîØ git checkout -b docs/add-java-demo   ÂÅáËÆæÊàë‰ª¨ÂàõÂª∫‰∫ÜÊñáÊ°£‰øÆÊîπÂàÜÊîØ¬†docs/add-java-demo  ÂÅáËÆæÊàë‰ª¨Â∑≤ÁªèÊ∑ªÂä†‰∫Ü‰∏Ä‰∫õ‰ª£Á†ÅÔºåÊèê‰∫§Âà∞‰ª£Á†ÅÂ∫ì git add . git commit -a -m &quot;docs: add java demo and related docs&quot; „ÄÇ  ","version":"dev","tagName":"h3"},{"title":"Step4ÔºöÂêàÂπ∂‰øÆÊîπ‚Äã","type":1,"pageTitle":"Â¶Ç‰ΩïÂä†ÂÖ• Apache Fory‚Ñ¢ Á§æÂå∫","url":"/zh-CN/docs/next/community/how_to_join_community#step4ÂêàÂπ∂‰øÆÊîπ","content":" ÂàáÊç¢ÂõûËá™Â∑±ÁöÑÂºÄÂèëÂàÜÊîØ:  git checkout docs/add-java-demo   ÊääÊõ¥Êñ∞‰ª£Á†ÅÊèê‰∫§Âà∞Ëá™Â∑±ÁöÑÂàÜÊîØ‰∏≠:  git push origin docs/add-java-demo   ","version":"dev","tagName":"h3"},{"title":"Step5ÔºöÊèê‰∫§ Pull Request‚Äã","type":1,"pageTitle":"Â¶Ç‰ΩïÂä†ÂÖ• Apache Fory‚Ñ¢ Á§æÂå∫","url":"/zh-CN/docs/next/community/how_to_join_community#step5Êèê‰∫§-pull-request","content":" ‰Ω†ÂèØ‰ª•Âú®‰Ω†ÁöÑ github ‰ª£Á†Å‰ªìÂ∫ìÈ°µÈù¢ÁÇπÂáª¬†Compare &amp; pull request¬†ÊåâÈíÆ„ÄÇÊàñÈÄöËøá¬†contribute¬†ÊåâÈíÆÂàõÂª∫„ÄÇ  Â°´ÂÜôËøôÊòØ‰ªÄ‰πàÁ±ªÂûãÁöÑ‰øÆÊîπÂ°´ÂÜôÂÖ≥ËÅîÁöÑ issueËã•ÊúâÂ§çÊùÇÂèòÊõ¥ÔºåËØ∑ËØ¥ÊòéËÉåÊôØÂíåËß£ÂÜ≥ÊñπÊ°à  Áõ∏ÂÖ≥‰ø°ÊÅØÂ°´ÂÜôÂÆåÊàêÂêéÔºåÁÇπÂáª Create pull request Êèê‰∫§„ÄÇ  ","version":"dev","tagName":"h3"},{"title":"ËΩªÊùæÊ≠•ÂÖ• Apache Fory‚Ñ¢ ÂºÄÊ∫êË¥°ÁåÆ‰πãÊóÖ‚Äã","type":1,"pageTitle":"Â¶Ç‰ΩïÂä†ÂÖ• Apache Fory‚Ñ¢ Á§æÂå∫","url":"/zh-CN/docs/next/community/how_to_join_community#ËΩªÊùæÊ≠•ÂÖ•-apache-fory-ÂºÄÊ∫êË¥°ÁåÆ‰πãÊóÖ","content":" &quot;good first issue&quot; ÊòØ‰∏Ä‰∏™Âú®ÂºÄÊ∫êÁ§æÂå∫Â∏∏ËßÅÁöÑÊ†áÁ≠æÔºåËøô‰∏™Ê†áÁ≠æÁöÑÁõÆÁöÑÊòØÂ∏ÆÂä©Êñ∞Ë¥°ÁåÆËÄÖÊâæÂà∞ÈÄÇÂêàÂÖ•Èó®ÁöÑÈóÆÈ¢ò„ÄÇ  Apache Fory‚Ñ¢ ÁöÑÂÖ•Èó®ÈóÆÈ¢òÔºå‰Ω†ÂèØ‰ª•ÈÄöËøá¬†issue ÂàóË°®Êü•Áúã„ÄÇ  Â¶ÇÊûú‰Ω†ÂΩìÂâçÊúâÊó∂Èó¥ÂíåÊÑèÊÑøÂèÇ‰∏éÂà∞Á§æÂå∫Ë¥°ÁåÆÔºåÂèØ‰ª•Âú® issue ÈáåÁúã‰∏ÄÁúã¬†good first issueÔºåÈÄâÊã©‰∏Ä‰∏™ÊÑüÂÖ¥Ë∂£„ÄÅÈÄÇÂêàËá™Â∑±ÁöÑËÆ§È¢Ü„ÄÇ  ","version":"dev","tagName":"h2"},{"title":"Êã•Êä± Apache Fory‚Ñ¢ Á§æÂå∫‚Äã","type":1,"pageTitle":"Â¶Ç‰ΩïÂä†ÂÖ• Apache Fory‚Ñ¢ Á§æÂå∫","url":"/zh-CN/docs/next/community/how_to_join_community#Êã•Êä±-apache-fory-Á§æÂå∫","content":" Âú®‰Ω†‰∏∫ Apache Fory‚Ñ¢ Ë¥°ÁåÆ‰ª£Á†Å‰πã‰ΩôÔºåÊàë‰ª¨ÈºìÂä±‰Ω†ÂèÇ‰∏éÂÖ∂‰ªñËÆ©Á§æÂå∫Êõ¥Âä†ÁπÅËç£ÁöÑ‰∫ãÊÉÖÔºåÊØîÂ¶ÇÔºö  ‰∏∫È°πÁõÆÁöÑÂèëÂ±ï„ÄÅÂäüËÉΩËßÑÂàí Á≠âÊèêÂª∫ËÆÆ„ÄÇÂàõ‰ΩúÊñáÁ´†„ÄÅËßÜÈ¢ëÔºåÂºÄÂäûËÆ≤Â∫ßÊù•ÂÆ£‰º† Apache Fory‚Ñ¢Êí∞ÂÜôÊé®ÂπøËÆ°ÂàíÔºåÂêåÂõ¢Èòü‰∏ÄÂêåÊâßË°å„ÄÇ ","version":"dev","tagName":"h2"},{"title":"Xlang Serialization Format","type":0,"sectionRef":"#","url":"/zh-CN/docs/0.14/specification/xlang_serialization_spec","content":"","keywords":"","version":"0.14"},{"title":"Cross-language Serialization Specification‚Äã","type":1,"pageTitle":"Xlang Serialization Format","url":"/zh-CN/docs/0.14/specification/xlang_serialization_spec#cross-language-serialization-specification","content":" Apache Fory‚Ñ¢ xlang serialization enables automatic cross-language object serialization with support for shared references, circular references, and polymorphism. Unlike traditional serialization frameworks that require IDL definitions and schema compilation, Fory serializes objects directly without any intermediate steps.  Key characteristics:  Automatic: No IDL definition, no schema compilation, no manual object-to-protocol conversionCross-language: Same binary format works seamlessly across Java, Python, C++, Rust, Go, JavaScript, and moreReference-aware: Handles shared references and circular references without duplication or infinite recursionPolymorphic: Supports object polymorphism with runtime type resolution  This specification defines the Fory xlang binary format. The format is dynamic rather than static, which enables flexibility and ease of use at the cost of additional complexity in the wire format.  ","version":"0.14","tagName":"h2"},{"title":"Type Systems‚Äã","type":1,"pageTitle":"Xlang Serialization Format","url":"/zh-CN/docs/0.14/specification/xlang_serialization_spec#type-systems","content":" ","version":"0.14","tagName":"h2"},{"title":"Data Types‚Äã","type":1,"pageTitle":"Xlang Serialization Format","url":"/zh-CN/docs/0.14/specification/xlang_serialization_spec#data-types","content":" bool: a boolean value (true or false).int8: a 8-bit signed integer.int16: a 16-bit signed integer.int32: a 32-bit signed integer.var_int32: a 32-bit signed integer which use fory var_int32 encoding.int64: a 64-bit signed integer.var_int64: a 64-bit signed integer which use fory PVL encoding.sli_int64: a 64-bit signed integer which use fory SLI encoding.float16: a 16-bit floating point number.float32: a 32-bit floating point number.float64: a 64-bit floating point number including NaN and Infinity.string: a text string encoded using Latin1/UTF16/UTF-8 encoding.enum: a data type consisting of a set of named values. Rust enum with non-predefined field values are not supported as an enum.named_enum: an enum whose value will be serialized as the registered name.struct: a morphic(final) type serialized by Fory Struct serializer. i.e. it doesn't have subclasses. Suppose we're deserializing List&lt;SomeClass&gt;, we can save dynamic serializer dispatch since SomeClass is morphic(final).compatible_struct: a morphic(final) type serialized by Fory compatible Struct serializer.named_struct: a struct whose type mapping will be encoded as a name.named_compatible_struct: a compatible_struct whose type mapping will be encoded as a name.ext: a type which will be serialized by a customized serializer.named_ext: an ext type whose type mapping will be encoded as a name.list: a sequence of objects.set: an unordered set of unique elements.map: a map of key-value pairs. Mutable types such as list/map/set/array are not allowed as key of map.duration: an absolute length of time, independent of any calendar/timezone, as a count of nanoseconds.timestamp: a point in time, independent of any calendar/timezone, as a count of nanoseconds. The count is relative to an epoch at UTC midnight on January 1, 1970.local_date: a naive date without timezone. The count is days relative to an epoch at UTC midnight on Jan 1, 1970.decimal: exact decimal value represented as an integer value in two's complement.binary: an variable-length array of bytes.array: only allow 1d numeric components. Other arrays will be taken as List. The implementation should support the interoperability between array and list. bool_array: one dimensional bool array.int8_array: one dimensional int8 array.int16_array: one dimensional int16 array.int32_array: one dimensional int32 array.int64_array: one dimensional int64 array.float16_array: one dimensional half_float_16 array.float32_array: one dimensional float32 array.float64_array: one dimensional float64 array. union: a tagged union type that can hold one of several alternative types. The active alternative is identified by an index.none: represents an empty/unit value with no data (e.g., for empty union alternatives).  Note:  Unsigned int/long are not added here, since not every language support those types.  ","version":"0.14","tagName":"h3"},{"title":"Polymorphisms‚Äã","type":1,"pageTitle":"Xlang Serialization Format","url":"/zh-CN/docs/0.14/specification/xlang_serialization_spec#polymorphisms","content":" For polymorphism, if one non-final class is registered, and only one subclass is registered, then we can take all elements in List/Map have same type, thus reduce runtime check cost.  Collection/Array polymorphism are not fully supported, since some languages such as golang have only one collection type. If users want to get exactly the type he passed, he must pass that type when deserializing or annotate that type to the field of struct.  ","version":"0.14","tagName":"h3"},{"title":"Type disambiguation‚Äã","type":1,"pageTitle":"Xlang Serialization Format","url":"/zh-CN/docs/0.14/specification/xlang_serialization_spec#type-disambiguation","content":" Due to differences between type systems of languages, those types can't be mapped one-to-one between languages. When deserializing, Fory use the target data structure type and the data type in the data jointly to determine how to deserialize and populate the target data structure. For example:  class Foo { int[] intArray; Object[] objects; List&lt;Object&gt; objectList; } class Foo2 { int[] intArray; List&lt;Object&gt; objects; List&lt;Object&gt; objectList; }   intArray has an int32_array type. But both objects and objectList fields in the serialize data have list data type. When deserializing, the implementation will create an Object array for objects, but create a ArrayListfor objectList to populate its elements. And the serialized data of Foo can be deserialized into Foo2 too.  Users can also provide meta hints for fields of a type, or the type whole. Here is an example in java which use annotation to provide such information.  @ForyObject(fieldsNullable = false, trackingRef = false) class Foo { @ForyField(trackingRef = false) int[] intArray; @ForyField(polymorphic = true) Object object; @ForyField(tagId = 1, nullable = true) List&lt;Object&gt; objectList; }   Such information can be provided in other languages too:  cpp: use macro and template.golang: use struct tag.python: use typehint.rust: use macro.  ","version":"0.14","tagName":"h3"},{"title":"Type ID‚Äã","type":1,"pageTitle":"Xlang Serialization Format","url":"/zh-CN/docs/0.14/specification/xlang_serialization_spec#type-id","content":" All internal data types are expressed using an ID in range 0~64. Users can use IDs in range 0~8192 for registering their custom types (struct/ext/enum). User type IDs are in a separate namespace and combined with internal type IDs via bit shifting:(user_type_id &lt;&lt; 8) | internal_type_id.  Internal Type ID Table‚Äã  Type ID\tName\tDescription0\tUNKNOWN\tUnknown type, used for dynamic typing 1\tBOOL\tBoolean value 2\tINT8\t8-bit signed integer 3\tINT16\t16-bit signed integer 4\tINT32\t32-bit signed integer 5\tVAR_INT32\tVariable-length encoded 32-bit signed integer 6\tINT64\t64-bit signed integer 7\tVAR_INT64\tVariable-length encoded 64-bit signed integer 8\tSLI_INT64\tSmall Long as Int encoded 64-bit signed integer 9\tFLOAT16\t16-bit floating point (half precision) 10\tFLOAT32\t32-bit floating point (single precision) 11\tFLOAT64\t64-bit floating point (double precision) 12\tSTRING\tUTF-8/UTF-16/Latin1 encoded string 13\tENUM\tEnum registered by numeric ID 14\tNAMED_ENUM\tEnum registered by namespace + type name 15\tSTRUCT\tStruct registered by numeric ID (schema consistent) 16\tCOMPATIBLE_STRUCT\tStruct with schema evolution support (by ID) 17\tNAMED_STRUCT\tStruct registered by namespace + type name 18\tNAMED_COMPATIBLE_STRUCT\tStruct with schema evolution (by name) 19\tEXT\tExtension type registered by numeric ID 20\tNAMED_EXT\tExtension type registered by namespace + type name 21\tLIST\tOrdered collection (List, Array, Vector) 22\tSET\tUnordered collection of unique elements 23\tMAP\tKey-value mapping 24\tDURATION\tTime duration (seconds + nanoseconds) 25\tTIMESTAMP\tPoint in time (nanoseconds since epoch) 26\tLOCAL_DATE\tDate without timezone (days since epoch) 27\tDECIMAL\tArbitrary precision decimal 28\tBINARY\tRaw binary data 29\tARRAY\tGeneric array type 30\tBOOL_ARRAY\t1D boolean array 31\tINT8_ARRAY\t1D int8 array 32\tINT16_ARRAY\t1D int16 array 33\tINT32_ARRAY\t1D int32 array 34\tINT64_ARRAY\t1D int64 array 35\tFLOAT16_ARRAY\t1D float16 array 36\tFLOAT32_ARRAY\t1D float32 array 37\tFLOAT64_ARRAY\t1D float64 array 38\tUNION\tTagged union type (one of several alternatives) 39\tNONE\tEmpty/unit type (no data)  Type ID Encoding for User Types‚Äã  When registering user types (struct/ext/enum), the full type ID combines user ID and internal type ID:  Full Type ID = (user_type_id &lt;&lt; 8) | internal_type_id   Examples:  User ID\tType\tInternal ID\tFull Type ID\tDecimal0\tSTRUCT\t15\t(0 &lt;&lt; 8) | 15\t15 0\tENUM\t13\t(0 &lt;&lt; 8) | 13\t13 1\tSTRUCT\t15\t(1 &lt;&lt; 8) | 15\t271 1\tCOMPATIBLE_STRUCT\t16\t(1 &lt;&lt; 8) | 16\t272 2\tNAMED_STRUCT\t17\t(2 &lt;&lt; 8) | 17\t529  When reading type IDs:  Extract internal type: internal_type_id = full_type_id &amp; 0xFFExtract user type ID: user_type_id = full_type_id &gt;&gt; 8  ","version":"0.14","tagName":"h3"},{"title":"Type mapping‚Äã","type":1,"pageTitle":"Xlang Serialization Format","url":"/zh-CN/docs/0.14/specification/xlang_serialization_spec#type-mapping","content":" See Type mapping  ","version":"0.14","tagName":"h3"},{"title":"Spec overview‚Äã","type":1,"pageTitle":"Xlang Serialization Format","url":"/zh-CN/docs/0.14/specification/xlang_serialization_spec#spec-overview","content":" Here is the overall format:  | fory header | object ref meta | object type meta | object value data |   The data are serialized using little endian byte order overall. If bytes swap is costly for some object, Fory will write the byte order for that object into the data instead of converting it to little endian.  ","version":"0.14","tagName":"h2"},{"title":"Fory header‚Äã","type":1,"pageTitle":"Xlang Serialization Format","url":"/zh-CN/docs/0.14/specification/xlang_serialization_spec#fory-header","content":" Fory header format for xlang serialization:  | 2 bytes | 1 byte bitmap | 1 byte | optional 4 bytes | +--------------+--------------------------------+------------+------------------------------------+ | magic number | 4 bits reserved | 4 bits meta | language | unsigned int for meta start offset |   Detailed byte layout:  Byte 0-1: Magic number (0x62d4) - little endian Byte 2: Bitmap flags - Bit 0: null flag (0x01) - Bit 1: endian flag (0x02) - Bit 2: xlang flag (0x04) - Bit 3: oob flag (0x08) - Bits 4-7: reserved Byte 3: Language ID (only present when xlang flag is set) Byte 4-7: Meta start offset (only present when meta share mode is enabled)   magic number: 0x62d4 (2 bytes, little endian) - used to identify fory xlang serialization protocol.null flag (bit 0): 1 when object is null, 0 otherwise. If an object is null, only this flag and endian flag are set.endian flag (bit 1): 1 when data is encoded by little endian, 0 for big endian. Modern implementations always use little endian.xlang flag (bit 2): 1 when serialization uses Fory xlang format, 0 when serialization uses Fory language-native format.oob flag (bit 3): 1 when out-of-band serialization is enabled (BufferCallback is not null), 0 otherwise.language: 1 byte indicating the source language. This allows deserializers to optimize for specific language characteristics.  ","version":"0.14","tagName":"h2"},{"title":"Language IDs‚Äã","type":1,"pageTitle":"Xlang Serialization Format","url":"/zh-CN/docs/0.14/specification/xlang_serialization_spec#language-ids","content":" Language\tIDXLANG\t0 JAVA\t1 PYTHON\t2 CPP\t3 GO\t4 JAVASCRIPT\t5 RUST\t6 DART\t7  ","version":"0.14","tagName":"h3"},{"title":"Meta Start Offset‚Äã","type":1,"pageTitle":"Xlang Serialization Format","url":"/zh-CN/docs/0.14/specification/xlang_serialization_spec#meta-start-offset","content":" If compatible mode is enabled, an uncompressed unsigned int32 (4 bytes, little endian) is appended to indicate the start offset of metadata. During serialization, this is initially written as a placeholder (e.g., -1 or 0), then updated after all objects are serialized and metadata is collected.  ","version":"0.14","tagName":"h3"},{"title":"Reference Meta‚Äã","type":1,"pageTitle":"Xlang Serialization Format","url":"/zh-CN/docs/0.14/specification/xlang_serialization_spec#reference-meta","content":" Reference tracking handles whether the object is null, and whether to track reference for the object by writing corresponding flags and maintaining internal state.  ","version":"0.14","tagName":"h2"},{"title":"Reference Flags‚Äã","type":1,"pageTitle":"Xlang Serialization Format","url":"/zh-CN/docs/0.14/specification/xlang_serialization_spec#reference-flags","content":" Flag\tByte Value (int8)\tHex\tDescriptionNULL FLAG\t-3\t0xFD\tObject is null. No further bytes are written for this object. REF FLAG\t-2\t0xFE\tObject was already serialized. Followed by unsigned varint32 reference ID. NOT_NULL VALUE FLAG\t-1\t0xFF\tObject is non-null but reference tracking is disabled for this type. Object data follows immediately. REF VALUE FLAG\t0\t0x00\tObject is referencable and this is its first occurrence. Object data follows. Assigns next reference ID.  ","version":"0.14","tagName":"h3"},{"title":"Reference Tracking Algorithm‚Äã","type":1,"pageTitle":"Xlang Serialization Format","url":"/zh-CN/docs/0.14/specification/xlang_serialization_spec#reference-tracking-algorithm","content":" Writing:  function write_ref_or_null(buffer, obj): if obj is null: buffer.write_int8(NULL_FLAG) // -3 return true // done, no more data to write if reference_tracking_enabled: ref_id = lookup_written_objects(obj) if ref_id exists: buffer.write_int8(REF_FLAG) // -2 buffer.write_varuint32(ref_id) return true // done, reference written else: buffer.write_int8(REF_VALUE_FLAG) // 0 add_to_written_objects(obj, next_ref_id++) return false // continue to serialize object data else: buffer.write_int8(NOT_NULL_VALUE_FLAG) // -1 return false // continue to serialize object data   Reading:  function read_ref_or_null(buffer): flag = buffer.read_int8() switch flag: case NULL_FLAG (-3): return (null, true) // null object, done case REF_FLAG (-2): ref_id = buffer.read_varuint32() obj = get_from_read_objects(ref_id) return (obj, true) // referenced object, done case NOT_NULL_VALUE_FLAG (-1): return (null, false) // non-null, continue reading case REF_VALUE_FLAG (0): reserve_ref_slot() // will be filled after reading return (null, false) // non-null, continue reading   ","version":"0.14","tagName":"h3"},{"title":"Reference ID Assignment‚Äã","type":1,"pageTitle":"Xlang Serialization Format","url":"/zh-CN/docs/0.14/specification/xlang_serialization_spec#reference-id-assignment","content":" Reference IDs are assigned sequentially starting from 0The ID is assigned when REF_VALUE_FLAG is written (first occurrence)Objects are stored in a list/map indexed by their reference IDFor reading, a placeholder slot is reserved before deserializing the object, then filled after  ","version":"0.14","tagName":"h3"},{"title":"When Reference Tracking is Disabled‚Äã","type":1,"pageTitle":"Xlang Serialization Format","url":"/zh-CN/docs/0.14/specification/xlang_serialization_spec#when-reference-tracking-is-disabled","content":" When reference tracking is disabled globally or for specific types, only the NULL and NOT_NULL VALUE flags will be used for reference meta. This reduces overhead for types that are known not to have references.  ","version":"0.14","tagName":"h3"},{"title":"Language-Specific Considerations‚Äã","type":1,"pageTitle":"Xlang Serialization Format","url":"/zh-CN/docs/0.14/specification/xlang_serialization_spec#language-specific-considerations","content":" Languages with nullable and reference types by default (Java, Python, JavaScript):  In xlang mode, for cross-language compatibility:  All fields are treated as not-null by defaultReference tracking is disabled by defaultUsers can explicitly mark fields as nullable or enable reference tracking via annotationsOptional types (e.g., java.util.Optional, typing.Optional) are treated as nullable  Annotation examples:  // Java: use @ForyField annotation public class MyClass { @ForyField(nullable = true, ref = true) private Object refField; @ForyField(nullable = false) private String requiredField; }   # Python: use typing with fory field descriptors from pyfory import Fory, ForyField class MyClass: ref_field: ForyField(SomeType, nullable=True, ref=True) required_field: ForyField(str, nullable=False)   Languages with non-nullable types by default:  Language\tNull Representation\tReference Tracking SupportRust\tOption::None\tVia Rc&lt;T&gt;, Arc&lt;T&gt;, Weak&lt;T&gt; C++\tstd::nullopt, nullptr\tVia std::shared_ptr&lt;T&gt;, weak_ptr&lt;T&gt; Go\tnil interface/pointer\tVia pointer/interface types  Important: For languages like Rust that don't have implicit reference semantics, reference tracking must use explicit smart pointers (Rc, Arc).  ","version":"0.14","tagName":"h3"},{"title":"Type Meta‚Äã","type":1,"pageTitle":"Xlang Serialization Format","url":"/zh-CN/docs/0.14/specification/xlang_serialization_spec#type-meta","content":" For every type to be serialized, it have a type id to indicate its type.  basic types: the type idenum: Type.ENUM + registered idType.NAMED_ENUM + registered namespace+typename list: Type.Listset: Type.SETmap: Type.MAPext: Type.EXT + registered idType.NAMED_EXT + registered namespace+typename struct: Type.STRUCT + struct metaType.NAMED_STRUCT + struct meta  Every type must be registered with an ID or name first. The registration can be used for security check and type identification.  Struct is a special type, depending whether schema compatibility is enabled, Fory will write struct meta differently.  ","version":"0.14","tagName":"h2"},{"title":"Struct Schema consistent‚Äã","type":1,"pageTitle":"Xlang Serialization Format","url":"/zh-CN/docs/0.14/specification/xlang_serialization_spec#struct-schema-consistent","content":" If schema consistent mode is enabled globally when creating fory, type meta will be written as a fory unsigned varint of type_id. Schema evolution related meta will be ignored.If schema evolution mode is enabled globally when creating fory, and current class is configured to use schema consistent mode like struct vs table in flatbuffers: Type meta will be add to captured_type_defs: captured_type_defs[type def stub] = map size ahead when registering type.Get index of the meta in captured_type_defs, write that index as | unsigned varint: index |.  ","version":"0.14","tagName":"h3"},{"title":"Struct Schema evolution‚Äã","type":1,"pageTitle":"Xlang Serialization Format","url":"/zh-CN/docs/0.14/specification/xlang_serialization_spec#struct-schema-evolution","content":" If schema evolution mode is enabled globally when creating fory, and enabled for current type, type meta will be written using one of the following mode. Which mode to use is configured when creating fory.  Normal mode(meta share not enabled): If type meta hasn't been written before, add type defto captured_type_defs: captured_type_defs[type def] = map size.Get index of the meta in captured_type_defs, write that index as | unsigned varint: index |.After finished the serialization of the object graph, fory will start to write captured_type_defs: Firstly, set current to meta start offset of fory header Then write captured_type_defs one by one: buffer.write_var_uint32(len(writting_type_defs) - len(schema_consistent_type_def_stubs)) for type_meta in writting_type_defs: if not type_meta.is_stub(): type_meta.write_type_def(buffer) writing_type_defs = copy(schema_consistent_type_def_stubs) Meta share mode: the writing steps are same as the normal mode, but captured_type_defs will be shared across multiple serializations of different objects. For example, suppose we have a batch to serialize: captured_type_defs = {} stream = ... # add `Type1` to `captured_type_defs` and write `Type1` fory.serialize(stream, [Type1()]) # add `Type2` to `captured_type_defs` and write `Type2`, `Type1` is written before. fory.serialize(stream, [Type1(), Type2()]) # `Type1` and `Type2` are written before, no need to write meta. fory.serialize(stream, [Type1(), Type2()]) Streaming mode(streaming mode doesn't support meta share): If type meta hasn't been written before, the data will be written as: | unsigned varint: 0b11111111 | type def | If type meta has been written before, the data will be written as: | unsigned varint: written index &lt;&lt; 1 | written index is the id in captured_type_defs. With this mode, meta start offset can be omitted.  The normal mode and meta share mode will forbid streaming writing since it needs to look back for update the start offset after the whole object graph writing and meta collecting is finished. Only in this way we can ensure deserialization failure in meta share mode doesn't lost shared meta.  Type Def‚Äã  Here we mainly describe the meta layout for schema evolution mode:  | 8 bytes header | variable bytes | variable bytes | +----------------------+--------------------+-------------------+ | global binary header | meta header | fields meta |   For languages which support inheritance, if parent class and subclass has fields with same name, using field in subclass.  Global binary header‚Äã  50 bits hash + 1bit compress flag + write fields meta + 12 bits meta size. Right is the lower bits.  lower 12 bits are used to encode meta size. If meta size &gt;= 0b1111_1111_1111, then writemeta_ size - 0b1111_1111_1111 next.13rd bit is used to indicate whether to write fields meta. When this class is schema-consistent or use registered serializer, fields meta will be skipped. Class Meta will be used for share namespace + type name only.14rd bit is used to indicate whether meta is compressed.Other 50 bits is used to store the unique hash of flags + all layers class meta.  Meta header‚Äã  Meta header is a 8 bits number value.  Lowest 5 digits 0b00000~0b11110 are used to record num fields. 0b11111 is preserved to indicate that Fory need to read more bytes for length using Fory unsigned int encoding. Note that num_fields is the number of compatible fields. Users can use tag id to mark some fields as compatible fields in schema consistent context. In such cases, schema consistent fields will be serialized first, then compatible fields will be serialized next. At deserialization, Fory will use fields info of those fields which aren't annotated by tag id for deserializing schema consistent fields, then use fields info in meta for deserializing compatible fields.The 6th bit: 0 for registered by id, 1 for registered by name.Remaining 2 bits are reserved for future extension.  Fields meta‚Äã  Format:  | field info: variable bytes | variable bytes | ... | +---------------------------------+-----------------+-----+ | header + type info + field name | next field info | ... |   Field Header‚Äã  Field Header is 8 bits, annotation can be used to provide more specific info. If annotation not exists, fory will infer those info automatically.  The format for field header is:  2 bits field name encoding + 4 bits size + nullability flag + ref tracking flag   Detailed spec:  2 bits field name encoding: encoding: UTF8/ALL_TO_LOWER_SPECIAL/LOWER_UPPER_DIGIT_SPECIAL/TAG_IDIf tag id is used, field name will be written by an unsigned varint tag id, and 2 bits encoding will be 11. size of field name: The 4 bits size: 0~14 will be used to indicate length 1~15, the value 15 indicates to read more bytes, the encoding will encode size - 15 as a varint next.If encoding is TAG_ID, then num_bytes of field name will be used to store tag id. ref tracking: when set to 1, ref tracking will be enabled for this field.nullability: when set to 1, this field can be null.  Field Type Info‚Äã  Field type info is written as unsigned int8. Detailed id spec is:  For struct registered by id, it will be Type.STRUCT.For struct registered by name, it will be Type.NAMED_STRUCT.For enum registered by id, it will be Type.ENUM.For enum registered by name, it will be Type.NAMED_ENUM.For ext type registered by id, it will be Type.EXT.For ext type registered by name, it will be Type.NAMED_EXT.For list/set type, it will be written as Type.LIST/SET, then write element type recursively.For 1D primitive array type, it will be written as Type.XXX_ARRAY.For multi-dimensional primitive array type with same size on each dim, it will be written as Type.TENSOR.For other array type, it will be written as Type.LIST, then write element type recursively.For map type, it will be written as Type.MAP, then write key and value type recursively.For other types supported by fory directly, it will be fory type id for that type.For other types not determined at compile time, write Type.UNKNOWN instead. For such types, actual type will be written when serializing such field values.  Polymorphism spec:  struct/named_struct/ext/named_ext are taken as polymorphic, the meta for those types are written separately instead of inlining here to reduce meta space cost if object of this type is serialized in current object graph multiple times, and the field value may be null too.enum is taken as morphic, if deserialization doesn't have this field, or the type is not enum, enum value will be skipped.list/map/set are taken as morphic, when serializing values of those type, the concrete types won't be written again.Other types that fory supported are taken as morphic too.  List/Set/Map nested type spec:  list: | list type id | nested type id &lt;&lt; 2 + nullability flag + ref tracking flag | ... multi-layer type info |set: | set type id | nested type id &lt;&lt; 2 + nullability flag + ref tracking flag | ... multi-layer type info |map: | set type id | key type info | value type info | Key type format: | nested type id &lt;&lt; 2 + nullability flag + ref tracking flag | ... multi-layer type info |Value type format: | nested type id &lt;&lt; 2 + nullability flag + ref tracking flag | ... multi-layer type info |  Field Name‚Äã  If tag id is set, tag id will be used instead. Otherwise meta string of field name will be written instead.  Field order‚Äã  Field order are left as implementation details, which is not exposed to specification, the deserialization need to resort fields based on Fory fields sort algorithms. In this way, fory can compute statistics for field names or types and using a more compact encoding.  ","version":"0.14","tagName":"h3"},{"title":"Extended Type Meta with Inheritance support‚Äã","type":1,"pageTitle":"Xlang Serialization Format","url":"/zh-CN/docs/0.14/specification/xlang_serialization_spec#extended-type-meta-with-inheritance-support","content":" If one want to support inheritance for struct, one can implement following spec.  ","version":"0.14","tagName":"h2"},{"title":"Schema consistent‚Äã","type":1,"pageTitle":"Xlang Serialization Format","url":"/zh-CN/docs/0.14/specification/xlang_serialization_spec#schema-consistent","content":" Fields are serialized from parent type to leaf type. Fields are sorted using fory struct fields sort algorithms.  ","version":"0.14","tagName":"h3"},{"title":"Schema Evolution‚Äã","type":1,"pageTitle":"Xlang Serialization Format","url":"/zh-CN/docs/0.14/specification/xlang_serialization_spec#schema-evolution","content":" Meta layout for schema evolution mode:  | 8 bytes header | variable bytes | variable bytes | variable bytes | variable bytes | +----------------------+----------------+----------------+--------------------+--------------------+ | global binary header | meta header | fields meta | parent meta header | parent fields meta |   Meta header‚Äã  Meta header is a 64 bits number value encoded in little endian order.  Lowest 4 digits 0b0000~0b1110 are used to record num classes. 0b1111 is preserved to indicate that Fory need to read more bytes for length using Fory unsigned int encoding. If current type doesn't has parent type, or parent type doesn't have fields to serialize, or we're in a context which serialize fields of current type only, num classes will be 1.The 5th bit is used to indicate whether this type needs schema evolution.Other 56 bits are used to store the unique hash of flags + all layers type meta.  Single layer type meta‚Äã  | unsigned varint | var uint | field info: variable bytes | variable bytes | ... | +-----------------+----------+-------------------------------+-----------------+-----+ | num_fields | type id | header + type id + field name | next field info | ... |   Other layers type meta‚Äã  Same encoding algorithm as the previous layer.  ","version":"0.14","tagName":"h3"},{"title":"Meta String‚Äã","type":1,"pageTitle":"Xlang Serialization Format","url":"/zh-CN/docs/0.14/specification/xlang_serialization_spec#meta-string","content":" Meta string is a compressed encoding for metadata strings such as field names, type names, and namespaces. This compression significantly reduces the size of type metadata in serialized data.  ","version":"0.14","tagName":"h2"},{"title":"Encoding Type IDs‚Äã","type":1,"pageTitle":"Xlang Serialization Format","url":"/zh-CN/docs/0.14/specification/xlang_serialization_spec#encoding-type-ids","content":" ID\tName\tBits/Char\tCharacter Set0\tUTF8\t8\tAny UTF-8 character 1\tLOWER_SPECIAL\t5\ta-z . _ $ | 2\tLOWER_UPPER_DIGIT_SPECIAL\t6\ta-z A-Z 0-9 . _ 3\tFIRST_TO_LOWER_SPECIAL\t5\tFirst char uppercase, rest a-z . _ 4\tALL_TO_LOWER_SPECIAL\t5\ta-z A-Z . _ (uppercase escaped)  ","version":"0.14","tagName":"h3"},{"title":"Character Mapping Tables‚Äã","type":1,"pageTitle":"Xlang Serialization Format","url":"/zh-CN/docs/0.14/specification/xlang_serialization_spec#character-mapping-tables","content":" LOWER_SPECIAL (5 bits per character)‚Äã  Character\tCode (binary)\tCode (decimal)a-z\t00000-11001\t0-25 .\t11010\t26 _\t11011\t27 $\t11100\t28 |\t11101\t29  Note: The | character is used as an escape sequence in ALL_TO_LOWER_SPECIAL encoding.  LOWER_UPPER_DIGIT_SPECIAL (6 bits per character)‚Äã  Character\tCode (binary)\tCode (decimal)a-z\t000000-011001\t0-25 A-Z\t011010-110011\t26-51 0-9\t110100-111101\t52-61 .\t111110\t62 _\t111111\t63  ","version":"0.14","tagName":"h3"},{"title":"Encoding Algorithms‚Äã","type":1,"pageTitle":"Xlang Serialization Format","url":"/zh-CN/docs/0.14/specification/xlang_serialization_spec#encoding-algorithms","content":" LOWER_SPECIAL Encoding‚Äã  For strings containing only a-z, ., _, $, |:  function encode_lower_special(str): bits = [] for char in str: bits.append(lookup_lower_special[char]) // 5 bits each // Pad to byte boundary total_bits = len(str) * 5 padding_bits = (8 - (total_bits % 8)) % 8 // First bit indicates if last char should be stripped (due to padding) strip_last = (padding_bits &gt;= 5) if strip_last: prepend bit 1 else: prepend bit 0 return pack_bits_to_bytes(bits)   FIRST_TO_LOWER_SPECIAL Encoding‚Äã  For strings like MyFieldName where only the first character is uppercase:  function encode_first_to_lower_special(str): // Convert first char to lowercase modified = str[0].lower() + str[1:] // Then use LOWER_SPECIAL encoding return encode_lower_special(modified)   ALL_TO_LOWER_SPECIAL Encoding‚Äã  For strings with multiple uppercase characters like MyTypeName:  function encode_all_to_lower_special(str): result = &quot;&quot; for char in str: if char.is_upper(): result += &quot;|&quot; + char.lower() // Escape uppercase with | else: result += char return encode_lower_special(result)   Example: MyType ‚Üí |my|type ‚Üí encoded with LOWER_SPECIAL  ","version":"0.14","tagName":"h3"},{"title":"Encoding Selection Algorithm‚Äã","type":1,"pageTitle":"Xlang Serialization Format","url":"/zh-CN/docs/0.14/specification/xlang_serialization_spec#encoding-selection-algorithm","content":" function choose_encoding(str): if all chars in str are in [a-z . _ $ |]: return LOWER_SPECIAL if first char is uppercase AND rest are in [a-z . _]: return FIRST_TO_LOWER_SPECIAL if all chars are in [a-z A-Z . _]: lower_special_size = encode_all_to_lower_special(str).size luds_size = encode_lower_upper_digit_special(str).size if lower_special_size &lt;= luds_size: return ALL_TO_LOWER_SPECIAL else: return LOWER_UPPER_DIGIT_SPECIAL if all chars are in [a-z A-Z 0-9 . _]: return LOWER_UPPER_DIGIT_SPECIAL return UTF8   ","version":"0.14","tagName":"h3"},{"title":"Meta String Header Format‚Äã","type":1,"pageTitle":"Xlang Serialization Format","url":"/zh-CN/docs/0.14/specification/xlang_serialization_spec#meta-string-header-format","content":" Meta strings are written with a header that includes the encoding type:  | 3 bits encoding | 5+ bits length | encoded bytes |   Or for larger strings:  | varuint: (length &lt;&lt; 3) | encoding | encoded bytes |   ","version":"0.14","tagName":"h3"},{"title":"Special Character Sets by Context‚Äã","type":1,"pageTitle":"Xlang Serialization Format","url":"/zh-CN/docs/0.14/specification/xlang_serialization_spec#special-character-sets-by-context","content":" Different contexts use different special characters:  Context\tSpecial Chars\tNotesField Name\t. _ $ |\t$ for inner classes, | for escape Namespace\t. _\tPackage/module separators Type Name\t$ _\t$ for inner classes in Java  ","version":"0.14","tagName":"h3"},{"title":"Deduplication‚Äã","type":1,"pageTitle":"Xlang Serialization Format","url":"/zh-CN/docs/0.14/specification/xlang_serialization_spec#deduplication","content":" Meta strings are deduplicated within a serialization session:  First occurrence: | (length &lt;&lt; 1) | [hash if large] | encoding | bytes | Reference: | ((id + 1) &lt;&lt; 1) | 1 |   Bit 0 of the header indicates: 0 = new string, 1 = reference to previousLarge strings (&gt; 16 bytes) include 64-bit hash for content-based deduplicationSmall strings use exact byte comparison  ","version":"0.14","tagName":"h3"},{"title":"Value Format‚Äã","type":1,"pageTitle":"Xlang Serialization Format","url":"/zh-CN/docs/0.14/specification/xlang_serialization_spec#value-format","content":" ","version":"0.14","tagName":"h2"},{"title":"Basic types‚Äã","type":1,"pageTitle":"Xlang Serialization Format","url":"/zh-CN/docs/0.14/specification/xlang_serialization_spec#basic-types","content":" bool‚Äã  size: 1 byteformat: 0 for false, 1 for true  int8‚Äã  size: 1 byteformat: write as pure byte.  int16‚Äã  size: 2 bytebyte order: raw bytes of little endian order  unsigned int32‚Äã  size: 4 bytebyte order: raw bytes of little endian order  unsigned varint32‚Äã  size: 1~5 bytesFormat: The most significant bit (MSB) in every byte indicates whether to have the next byte. If the continuation bit is set (i.e. b &amp; 0x80 == 0x80), then the next byte should be read until a byte with unset continuation bit.  Encoding Algorithm:  function write_varuint32(value): while value &gt;= 0x80: buffer.write_byte((value &amp; 0x7F) | 0x80) // 7 bits of data + continuation bit value = value &gt;&gt; 7 buffer.write_byte(value) // final byte without continuation bit   Decoding Algorithm:  function read_varuint32(): result = 0 shift = 0 while true: byte = buffer.read_byte() result = result | ((byte &amp; 0x7F) &lt;&lt; shift) if (byte &amp; 0x80) == 0: break shift = shift + 7 return result   Byte sizes by value range:  Value Range\tBytes0 ~ 127\t1 128 ~ 16383\t2 16384 ~ 2097151\t3 2097152 ~ 268435455\t4 268435456 ~ 4294967295\t5  signed int32‚Äã  size: 4 bytesbyte order: raw bytes of little endian order  signed varint32‚Äã  size: 1~5 bytesFormat: First convert the number into positive unsigned int using ZigZag encoding, then encode as unsigned varint.  ZigZag Encoding:  // Encode: convert signed to unsigned zigzag_value = (value &lt;&lt; 1) ^ (value &gt;&gt; 31) // Decode: convert unsigned back to signed original = (zigzag_value &gt;&gt; 1) ^ (-(zigzag_value &amp; 1)) // Or equivalently: original = (zigzag_value &gt;&gt; 1) ^ (~(zigzag_value &amp; 1) + 1)   ZigZag encoding maps signed integers to unsigned integers so that small absolute values (positive or negative) have small encoded values:  Original\tZigZag Encoded0\t0 -1\t1 1\t2 -2\t3 2\t4 ...\t...  unsigned int64‚Äã  size: 8 bytesbyte order: raw bytes of little endian order  unsigned varint64‚Äã  size: 1~9 bytes  Fory supports two encoding schemes for 64-bit integers:  Fory SLI (Small Long as Int) Encoding:  Optimized for values that fit in 31 bits (common case for IDs, timestamps, etc.):  if value in [0, 2147483647]: // fits in 31 bits write 4 bytes: ((int32) value) &lt;&lt; 1 // bit 0 is 0, indicating 4-byte encoding else: write 1 byte: 0x01 // bit 0 is 1, indicating 9-byte encoding write 8 bytes: value as little-endian int64   Reading:  first_int32 = read_int32_le() if (first_int32 &amp; 1) == 0: return first_int32 &gt;&gt; 1 // 4-byte encoding else: return read_int64_le() // read remaining 8 bytes   Fory PVL (Progressive Variable-Length) Encoding:  Standard varint encoding extended to 64 bits:  function write_varuint64(value): while value &gt;= 0x80: buffer.write_byte((value &amp; 0x7F) | 0x80) value = value &gt;&gt; 7 buffer.write_byte(value)   Value Range\tBytes0 ~ 127\t1 128 ~ 16383\t2 ...\t... 2^56 ~ 2^63-1\t9  VarUint36Small‚Äã  A specialized encoding used for string headers that combines size (up to 36 bits) with encoding flags:  // Write: encodes (size &lt;&lt; 2) | encoding_flags function write_varuint36_small(value): if value &lt; 0x80: buffer.write_byte(value) else: // Standard varint encoding for values &gt;= 128 write_varuint64(value)   This encoding is optimized for the common case where string length fits in 7 bits (strings &lt; 32 characters).  signed int64‚Äã  size: 8 bytesbyte order: raw bytes of little endian order  signed varint64‚Äã  size: 1~9 bytes  Fory SLI (Small Long as Int) Encoding for signed:  Optimized for small signed values:  if value in [-1073741824, 1073741823]: // fits in 31 bits signed write 4 bytes: ((int32) value) &lt;&lt; 1 // bit 0 is 0 else: write 1 byte: 0x01 // bit 0 is 1 write 8 bytes: value as little-endian int64   Fory PVL (Progressive Variable-Length) Encoding for signed:  Uses ZigZag encoding first, then varint:  // Encode zigzag_value = (value &lt;&lt; 1) ^ (value &gt;&gt; 63) write_varuint64(zigzag_value) // Decode zigzag_value = read_varuint64() value = (zigzag_value &gt;&gt; 1) ^ (-(zigzag_value &amp; 1))   float32‚Äã  size: 4 byteformat: encode the specified floating-point value according to the IEEE 754 floating-point &quot;single format&quot; bit layout, preserving Not-a-Number (NaN) values, then write as binary by little endian order.  float64‚Äã  size: 8 byteformat: encode the specified floating-point value according to the IEEE 754 floating-point &quot;double format&quot; bit layout, preserving Not-a-Number (NaN) values. then write as binary by little endian order.  ","version":"0.14","tagName":"h3"},{"title":"string‚Äã","type":1,"pageTitle":"Xlang Serialization Format","url":"/zh-CN/docs/0.14/specification/xlang_serialization_spec#string","content":" Format:  | varuint36_small: (size &lt;&lt; 2) | encoding | binary data |   String Header‚Äã  The header is encoded using varuint36_small format, which combines the byte length and encoding type:  header = (byte_length &lt;&lt; 2) | encoding_type   Encoding Type\tValue\tDescriptionLATIN1\t0\tISO-8859-1 single-byte encoding UTF16\t1\tUTF-16 encoding (2 bytes per code unit) UTF8\t2\tUTF-8 variable-length encoding Reserved\t3\tReserved for future use  Encoding Algorithm‚Äã  Writing:  function write_string(str): bytes = encode_to_bytes(str, chosen_encoding) header = (bytes.length &lt;&lt; 2) | encoding_type buffer.write_varuint36_small(header) buffer.write_bytes(bytes)   Reading:  function read_string(): header = buffer.read_varuint36_small() encoding = header &amp; 0x03 byte_length = header &gt;&gt; 2 bytes = buffer.read_bytes(byte_length) return decode_bytes(bytes, encoding)   Encoding Selection by Language‚Äã  Writing:  Language\tEncoding StrategyJava (JDK8)\tDetect at runtime: LATIN1 if all chars &lt; 256, else UTF16 Java (JDK9+)\tUse String's internal coder: LATIN1 or UTF16 Python\tCan write LATIN1, UTF16, or UTF8 based on string content C++\tUTF8 (std::string) or UTF16 (std::u16string) Rust\tUTF8 (String) Go\tUTF8 (string) JavaScript\tUTF8  Reading: All languages support decoding all three encodings (LATIN1, UTF16, UTF8).  Recommendation: Select encoding based on maximum performance - use the encoding that matches the language's native string representation to avoid conversion overhead.  Empty String‚Äã  Empty strings are encoded with header 0 (length 0, any encoding) followed by no data bytes.  ","version":"0.14","tagName":"h3"},{"title":"duration‚Äã","type":1,"pageTitle":"Xlang Serialization Format","url":"/zh-CN/docs/0.14/specification/xlang_serialization_spec#duration","content":" Duration is an absolute length of time, independent of any calendar/timezone, as a count of seconds and nanoseconds.  Format:  | signed varint64: seconds | signed int32: nanoseconds |   seconds: Number of seconds in the duration, encoded as a signed varint64. Can be positive or negative.nanoseconds: Nanosecond adjustment to the duration, encoded as a signed int32. Value range is [0, 999,999,999] for positive durations, and [-999,999,999, 0] for negative durations.  Notes:  The duration is stored as two separate fields to maintain precision and avoid overflow issues.Seconds are encoded using varint64 for compact representation of common duration values.Nanoseconds are stored as a fixed int32 since the range is limited.The sign of the duration is determined by the seconds field. When seconds is 0, the sign is determined by nanoseconds.  ","version":"0.14","tagName":"h3"},{"title":"collection/list‚Äã","type":1,"pageTitle":"Xlang Serialization Format","url":"/zh-CN/docs/0.14/specification/xlang_serialization_spec#collectionlist","content":" Format:  | varuint32: length | 1 byte elements header | [optional type info] | elements data |   Elements Header‚Äã  The elements header is a single byte that encodes metadata about the collection elements to optimize serialization:  | bit 7-4 (reserved) | bit 3 | bit 2 | bit 1 | bit 0 | +--------------------+-------------+------------------+----------+-----------+ | reserved | is_same_type| is_decl_elem_type| has_null | track_ref |   Bit\tName\tValue\tMeaning when SET (1)\tMeaning when UNSET (0)0\ttrack_ref\t0x01\tTrack references for elements\tDon't track element references 1\thas_null\t0x02\tCollection may contain null elements\tNo null elements (skip null checks) 2\tis_decl_elem_type\t0x04\tElements are the declared generic type\tElement types differ from declared type 3\tis_same_type\t0x08\tAll elements have the same runtime type\tElements have different runtime types  Common header values:  Header\tHex\tMeaning0x0C\t12\tDeclared type + same type, non-null, no ref tracking (optimal) 0x0D\t13\tDeclared type + same type, non-null, with ref tracking 0x0E\t14\tDeclared type + same type, may have nulls, no ref tracking 0x08\t8\tSame type but not declared type (type info written once) 0x00\t0\tDifferent types, non-null, no ref tracking (type per element)  Type Info After Header‚Äã  When is_decl_elem_type (bit 2) is NOT set, the element type info is written once after the header if is_same_type (bit 3) is set:  | header (0x08) | type_id (varuint32) | elements... |   When both is_decl_elem_type and is_same_type are NOT set, type info is written per element.  Element Serialization Based on Header‚Äã  The header determines how each element is serialized:  elements data‚Äã  Based on the elements header, the serialization of elements data may skip ref flag/null flag/element type info.  fory = ... buffer = ... elems = ... if element_type_is_same: if not is_declared_type: fory.write_type(buffer, elem_type) elem_serializer = get_serializer(...) if track_ref: for elem in elems: if not ref_resolver.write_ref_or_null(buffer, elem): elem_serializer.write(buffer, elem) elif has_null: for elem in elems: if elem is None: buffer.write_byte(null_flag) else: buffer.write_byte(not_null_flag) elem_serializer.write(buffer, elem) else: for elem in elems: elem_serializer.write(buffer, elem) else: if track_ref: for elem in elems: fory.write_ref(buffer, elem) elif has_null: for elem in elems: fory.write_nullable(buffer, elem) else: for elem in elems: fory.write_value(buffer, elem)   CollectionSerializer#writeElementscan be taken as an example.  ","version":"0.14","tagName":"h3"},{"title":"array‚Äã","type":1,"pageTitle":"Xlang Serialization Format","url":"/zh-CN/docs/0.14/specification/xlang_serialization_spec#array","content":" primitive array‚Äã  Primitive array are taken as a binary buffer, serialization will just write the length of array size as an unsigned int, then copy the whole buffer into the stream.  Such serialization won't compress the array. If users want to compress primitive array, users need to register custom serializers for such types or mark it as list type.  Tensor‚Äã  Tensor is a special primitive multi-dimensional array which all dimensions have same size and type. The serialization format is:  | num_dims(unsigned varint) | shape[0](unsigned varint) | shape[...] | shape[N] | element type | data |   The data is continuous to reduce copy and may zero-copy in some cases.  object array‚Äã  Object array is serialized using the list format. Object component type will be taken as list element generic type.  ","version":"0.14","tagName":"h3"},{"title":"map‚Äã","type":1,"pageTitle":"Xlang Serialization Format","url":"/zh-CN/docs/0.14/specification/xlang_serialization_spec#map","content":" Map uses a chunk-based format to handle heterogeneous key-value pairs efficiently:  | varuint32: total_size | chunk_1 | chunk_2 | ... | chunk_n |   Map Chunk Format‚Äã  Each chunk contains up to 255 key-value pairs with the same metadata characteristics:  | 1 byte | 1 byte | variable bytes | +--------------+----------------+------------------------------+ | KV header | chunk size N | N key-value pairs (N*2 obj) |   KV Header Bits‚Äã  The KV header is a single byte encoding metadata for both keys and values:  | bit 7-6 | bit 5 | bit 4 | bit 3 | bit 2 | bit 1 | bit 0 | +------------+---------------+--------------+---------------+---------------+--------------+---------------+ | reserved | val_decl_type | val_has_null | val_track_ref | key_decl_type | key_has_null | key_track_ref |   Bit\tName\tValue\tMeaning when SET (1)0\tkey_track_ref\t0x01\tTrack references for keys 1\tkey_has_null\t0x02\tKeys may be null (rare, usually invalid) 2\tkey_decl_type\t0x04\tKey is the declared generic type 3\tval_track_ref\t0x08\tTrack references for values 4\tval_has_null\t0x10\tValues may be null 5\tval_decl_type\t0x20\tValue is the declared generic type  Common KV header values:  Header\tHex\tMeaning0x24\t36\tKey + value are declared types, non-null, no ref tracking (optimal) 0x2C\t44\tKey + value declared types, value tracks refs 0x34\t52\tKey + value declared types, value may be null 0x00\t0\tKey + value not declared types, non-null, no ref tracking  Chunk Size‚Äã  Maximum chunk size: 255 pairs (fits in 1 byte)When key or value is null, that entry is serialized as a separate chunk with implicit size 1 (chunk size byte is skipped)Reader tracks accumulated count against total map size to know when to stop reading chunks  Why Chunk-Based Format?‚Äã  Map iteration is expensive. Computing a single header for all pairs would require two passes. The chunk-based approach allows:  Optimistic prediction: Use first key-value pair to predict headerAdaptive chunking: Start new chunk if prediction fails for a pairEfficient reading: Most maps fit in single chunk (&lt; 255 pairs)Memory efficiency: Minimal overhead for common homogeneous maps  Why serialize chunk by chunk?‚Äã  When fory will use first key-value pair to predict header optimistically, it can't know how many pairs have same meta(tracking kef ref, key has null and so on). If we don't write chunk by chunk with max chunk size, we must write at least X bytes to take up a place for later to update the number which has same elements, X is the num_bytes for encoding varint encoding of map size.  And most map size are smaller than 255, if all pairs have same data, the chunk will be 1. This is common in golang/rust, which object are not reference by default.  Also, if only one or two keys have different meta, we can make it into a different chunk, so that most pairs can share meta.  The implementation can accumulate read count with map size to decide whether to read more chunks.  ","version":"0.14","tagName":"h3"},{"title":"enum‚Äã","type":1,"pageTitle":"Xlang Serialization Format","url":"/zh-CN/docs/0.14/specification/xlang_serialization_spec#enum","content":" Enums are serialized as an unsigned var int. If the order of enum values change, the deserialized enum value may not be the value users expect. In such cases, users must register enum serializer by make it write enum value as an enumerated string with unique hash disabled.  ","version":"0.14","tagName":"h3"},{"title":"decimal‚Äã","type":1,"pageTitle":"Xlang Serialization Format","url":"/zh-CN/docs/0.14/specification/xlang_serialization_spec#decimal","content":" Not supported for now.  ","version":"0.14","tagName":"h3"},{"title":"struct‚Äã","type":1,"pageTitle":"Xlang Serialization Format","url":"/zh-CN/docs/0.14/specification/xlang_serialization_spec#struct","content":" Struct means object of class/pojo/struct/bean/record type. Struct will be serialized by writing its fields data in fory order.  Depending on schema compatibility, structs will have different formats.  field order‚Äã  Field will be ordered as following, every group of fields will have its own order:  primitive fields: larger size type first, smaller later, variable size type last.when same size, sort by type idwhen same size and type id, sort by snake case field nametypes: bool/int8/int16/int32/varint32/int64/varint64/sliint64/float16/float32/float64 nullable primitive fields: same order as primitive fieldsother internal type fields: sort by type id then snake case field namelist fields: sort by snake case field nameset fields: sort by snake case field namemap fields: sort by snake case field nameother fields: sort by snake case field name  If two fields have same type, then sort by snake_case styled field name.  schema consistent‚Äã  Object will be written as:  | 4 byte | variable bytes | +---------------+------------------+ | type hash | field values |   Type hash is used to check the type schema consistency across languages. Type hash will be the first 32 bits of 56 bits value of the type meta.  Object fields will be serialized one by one using following format:  not null primitive field value: | var bytes | +----------------+ | value data | +----------------+ nullable primitive field value: | one byte | var bytes | +-----------+---------------+ | null flag | field value | +-----------+---------------+ other interal types supported by fory | var bytes | var objects | +-----------+-------------+ | null flag | value data | +-----------+-------------+ list field type: | one byte | var objects | +-----------+-------------+ | ref meta | value data | set field type: | one byte | var objects | +-----------+-------------+ | ref meta | value data | map field type: | one byte | var objects | +-----------+-------------+ | ref meta | value data | +-----------+-------------+-------------+ other types such as enum/struct/ext | one byte | var bytes | var objects | +-----------+------------+------------+ | ref flag | type meta | value data | +-----------+------------+------------+   Type hash algorithm:  Sort fields by fields sort algorithmStart with string &quot;&quot;Iterate every field, append string by: snow_case(field_name),. For camelcase name, convert it to snow_case first.$type_id,, for other fields, use type id TypeId::UNKNOWN instead.$nullable;, 1 if nullable, 0 otherwise. Then convert string to utf8 bytesCompute murmurhash3_x64_128, and use first 32 bits  Schema evolution‚Äã  Schema evolution have similar format as schema consistent mode for object except:  For the object type, schema consistent mode will write type by id only, but schema evolution mode will write type consisting of field names, types and other meta too, see Type meta.Type meta of final custom type needs to be written too, because peers may not have this type defined.  ","version":"0.14","tagName":"h3"},{"title":"Type‚Äã","type":1,"pageTitle":"Xlang Serialization Format","url":"/zh-CN/docs/0.14/specification/xlang_serialization_spec#type","content":" Type will be serialized using type meta format.  ","version":"0.14","tagName":"h3"},{"title":"Implementation guidelines‚Äã","type":1,"pageTitle":"Xlang Serialization Format","url":"/zh-CN/docs/0.14/specification/xlang_serialization_spec#implementation-guidelines","content":" ","version":"0.14","tagName":"h2"},{"title":"How to reduce memory read/write code‚Äã","type":1,"pageTitle":"Xlang Serialization Format","url":"/zh-CN/docs/0.14/specification/xlang_serialization_spec#how-to-reduce-memory-readwrite-code","content":" Try to merge multiple bytes into an int/long write before writing to reduce memory IO and bound check cost.Read multiple bytes as an int/long, then split into multiple bytes to reduce memory IO and bound check cost.Try to use one varint/long to write flags and length together to save one byte cost and reduce memory io.Condition branches are less expensive compared to memory IO cost unless there are too many branches.  ","version":"0.14","tagName":"h3"},{"title":"Fast deserialization for static languages without runtime codegen support‚Äã","type":1,"pageTitle":"Xlang Serialization Format","url":"/zh-CN/docs/0.14/specification/xlang_serialization_spec#fast-deserialization-for-static-languages-without-runtime-codegen-support","content":" For type evolution, the serializer will encode the type meta into the serialized data. The deserializer will compare this meta with class meta in the current process, and use the diff to determine how to deserialize the data.  For java/javascript/python, we can use the diff to generate serializer code at runtime and load it as class/function for deserialization. In this way, the type evolution will be as fast as type consist mode.  For C++/Rust, we can't generate the serializer code at runtime. So we need to generate the code at compile-time using meta programming. But at that time, we don't know the type schema in other processes, so we can't generate the serializer code for such inconsistent types. We may need to generate the code which has a loop and compare field name one by one to decide whether to deserialize and assign the field or skip the field value.  One fast way is that we can optimize the string comparison into jump instructions:  Assume the current type has n fields, and the peer type has n1 fields.Generate an auto growing field id from 0 for every sorted field in the current type at the compile time.Compare the received type meta with current type, generate same id if the field name is same, otherwise generate an auto growing id starting from n, cache this meta at runtime.Iterate the fields of received type meta, use a switch to compare the field id to deserialize data and assign/skip field value. Continuous field id will be optimized into jump in switch block, so it will very fast.  Here is an example, suppose process A has a class Foo with version 1 defined as Foo1, process B has a class Foowith version 2 defined as Foo2:  // class Foo with version 1 class Foo1 { int32_t v1; // id 0 std::string v2; // id 1 }; // class Foo with version 2 class Foo2 { // id 0, but will have id 2 in process A bool v0; // id 1, but will have id 0 in process A int32_t v1; // id 2, but will have id 3 in process A int64_t long_value; // id 3, but will have id 1 in process A std::string v2; // id 4, but will have id 4 in process A std::vector&lt;std::string&gt; list; };   When process A received serialized Foo2 from process B, here is how it deserialize the data:  Foo1 foo1 = ...; const std::vector&lt;fory::FieldInfo&gt; &amp;field_infos = type_meta.field_infos; for (const auto &amp;field_info : field_infos) { switch (field_info.field_id) { case 0: foo1.v1 = buffer.read_varint32(); break; case 1: foo1.v2 = fory.read_string(); break; default: fory.skip_data(field_info); } }   ","version":"0.14","tagName":"h3"},{"title":"Implementation Checklist for New Languages‚Äã","type":1,"pageTitle":"Xlang Serialization Format","url":"/zh-CN/docs/0.14/specification/xlang_serialization_spec#implementation-checklist-for-new-languages","content":" This section provides a step-by-step guide for implementing Fory xlang serialization in a new language.  ","version":"0.14","tagName":"h2"},{"title":"Phase 1: Core Infrastructure‚Äã","type":1,"pageTitle":"Xlang Serialization Format","url":"/zh-CN/docs/0.14/specification/xlang_serialization_spec#phase-1-core-infrastructure","content":" Buffer Implementation Create a byte buffer with read/write cursor tracking Implement little-endian byte order for all multi-byte writes Implement write_int8, write_int16, write_int32, write_int64 Implement write_float32, write_float64 Implement read_* counterparts for all write methods Implement buffer growth strategy (e.g., doubling) Varint Encoding Implement write_varuint32 / read_varuint32 Implement write_varint32 / read_varint32 (with ZigZag) Implement write_varuint64 / read_varuint64 Implement write_varint64 / read_varint64 (with ZigZag) Implement write_varuint36_small / read_varuint36_small (for strings) Optionally implement SLI encoding for int64 Header Handling Write magic number 0x62d4 Write/read bitmap flags (null, endian, xlang, oob) Write/read language ID Handle meta start offset placeholder (for schema evolution)  ","version":"0.14","tagName":"h3"},{"title":"Phase 2: Basic Type Serializers‚Äã","type":1,"pageTitle":"Xlang Serialization Format","url":"/zh-CN/docs/0.14/specification/xlang_serialization_spec#phase-2-basic-type-serializers","content":" Primitive Types bool (1 byte: 0 or 1) int8, int16, int32, int64 (little endian) float32, float64 (IEEE 754, little endian) String Serialization Implement string header: (byte_length &lt;&lt; 2) | encoding Support UTF-8 encoding (required for xlang) Optionally support LATIN1 and UTF-16 Temporal Types Duration (seconds + nanoseconds) Timestamp (nanoseconds since epoch) LocalDate (days since epoch) Reference Tracking Implement write-side object tracking (object ‚Üí ref_id map) Implement read-side object tracking (ref_id ‚Üí object list) Handle all four reference flags: NULL(-3), REF(-2), NOT_NULL(-1), REF_VALUE(0) Support disabling reference tracking per-type or globally  ","version":"0.14","tagName":"h3"},{"title":"Phase 3: Collection Types‚Äã","type":1,"pageTitle":"Xlang Serialization Format","url":"/zh-CN/docs/0.14/specification/xlang_serialization_spec#phase-3-collection-types","content":" List/Array Serialization Write length as varuint32 Write elements header byte Handle homogeneous vs heterogeneous elements Handle null elements Map Serialization Write total size as varuint32 Implement chunk-based format (max 255 pairs per chunk) Write KV header byte per chunk Handle key and value type variations Set Serialization Same format as List (reuse implementation)  ","version":"0.14","tagName":"h3"},{"title":"Phase 4: Meta String Encoding‚Äã","type":1,"pageTitle":"Xlang Serialization Format","url":"/zh-CN/docs/0.14/specification/xlang_serialization_spec#phase-4-meta-string-encoding","content":" Meta strings are required for enum and struct serialization (encoding field names, type names, namespaces).  Meta String Compression Implement LOWER_SPECIAL encoding (5 bits/char) Implement LOWER_UPPER_DIGIT_SPECIAL encoding (6 bits/char) Implement FIRST_TO_LOWER_SPECIAL encoding Implement ALL_TO_LOWER_SPECIAL encoding Implement encoding selection algorithm Implement meta string deduplication  ","version":"0.14","tagName":"h3"},{"title":"Phase 5: Enum Serialization‚Äã","type":1,"pageTitle":"Xlang Serialization Format","url":"/zh-CN/docs/0.14/specification/xlang_serialization_spec#phase-5-enum-serialization","content":" Enum Serialization Write ordinal as varuint32 Support named enum (namespace + type name)  ","version":"0.14","tagName":"h3"},{"title":"Phase 6: Struct Serialization‚Äã","type":1,"pageTitle":"Xlang Serialization Format","url":"/zh-CN/docs/0.14/specification/xlang_serialization_spec#phase-6-struct-serialization","content":" Type Registration Support registration by numeric ID Support registration by namespace + type name Maintain type ‚Üí serializer mapping Generate type IDs: (user_id &lt;&lt; 8) | internal_type_id Field Ordering Implement Fory field ordering algorithm Sort primitives by size (larger first), then type ID, then name Handle nullable vs non-nullable fields Convert field names to snake_case for sorting Schema Consistent Mode Compute type hash (MurmurHash3 of field info string) Write 4-byte type hash before fields Serialize fields in Fory order Schema Evolution Mode (Optional) Implement type meta writing Support field addition/removal Handle unknown fields (skip during read)  ","version":"0.14","tagName":"h3"},{"title":"Phase 7: Other types‚Äã","type":1,"pageTitle":"Xlang Serialization Format","url":"/zh-CN/docs/0.14/specification/xlang_serialization_spec#phase-7-other-types","content":" Binary/Array Types Primitive arrays (direct buffer copy) Tensor (multi-dimensional arrays)  ","version":"0.14","tagName":"h3"},{"title":"Testing Strategy‚Äã","type":1,"pageTitle":"Xlang Serialization Format","url":"/zh-CN/docs/0.14/specification/xlang_serialization_spec#testing-strategy","content":" Cross-Language Compatibility Tests Serialize in new language, deserialize in Java/Python Serialize in Java/Python, deserialize in new language Test all primitive types Test strings with various encodings Test collections (empty, single, multiple elements) Test maps with various key/value types Test nested structs Test circular references (if supported)  ","version":"0.14","tagName":"h3"},{"title":"Language-Specific Implementation Notes‚Äã","type":1,"pageTitle":"Xlang Serialization Format","url":"/zh-CN/docs/0.14/specification/xlang_serialization_spec#language-specific-implementation-notes","content":" ","version":"0.14","tagName":"h2"},{"title":"Java‚Äã","type":1,"pageTitle":"Xlang Serialization Format","url":"/zh-CN/docs/0.14/specification/xlang_serialization_spec#java","content":" Uses runtime code generation (JIT) for maximum performanceSupports all reference tracking modesUses internal String coder for encoding selectionThread-safe via ThreadSafeFory wrapper  ","version":"0.14","tagName":"h3"},{"title":"Python‚Äã","type":1,"pageTitle":"Xlang Serialization Format","url":"/zh-CN/docs/0.14/specification/xlang_serialization_spec#python","content":" Two modes: Pure Python (debugging) and Cython (performance)Uses id(obj) for reference trackingLatin1/UTF-16/UTF-8 encoding for all strings in xlang modedataclass support via code generation  ","version":"0.14","tagName":"h3"},{"title":"C++‚Äã","type":1,"pageTitle":"Xlang Serialization Format","url":"/zh-CN/docs/0.14/specification/xlang_serialization_spec#c","content":" Compile-time reflection via macros (FORY_STRUCT, FORY_FIELD_INFO)Template meta programming for type dispatch and serializer selectionUses std::shared_ptr for reference trackingCompile-time field orderingNo runtime code generation  ","version":"0.14","tagName":"h3"},{"title":"Rust‚Äã","type":1,"pageTitle":"Xlang Serialization Format","url":"/zh-CN/docs/0.14/specification/xlang_serialization_spec#rust","content":" Derive macros for automatic serialization (#[derive(ForyObject)])Uses Rc&lt;T&gt; / Arc&lt;T&gt; for reference trackingThread-local context caching for performanceCompile-time field ordering  ","version":"0.14","tagName":"h3"},{"title":"Go‚Äã","type":1,"pageTitle":"Xlang Serialization Format","url":"/zh-CN/docs/0.14/specification/xlang_serialization_spec#go","content":" Reflection-based and codegen-based modesStruct tags for field annotationsInterface types for polymorphism  ","version":"0.14","tagName":"h3"},{"title":"Common Pitfalls‚Äã","type":1,"pageTitle":"Xlang Serialization Format","url":"/zh-CN/docs/0.14/specification/xlang_serialization_spec#common-pitfalls","content":" Byte Order: Always use little-endian for multi-byte valuesVarint Sign Extension: Ensure proper handling of signed vs unsigned varintsReference ID Ordering: IDs must be assigned in serialization orderField Order Consistency: Must match exactly across languages (schema consistent mode only; in evolution mode, deserialization follows serialization field order from type meta)String Encoding: Use best encoding for current languageNull Handling: Different languages represent null differentlyEmpty Collections: Still write length (0) and header byteType Hash Calculation: Must use exact same algorithm across languages ","version":"0.14","tagName":"h2"},{"title":"Ê¶ÇËßà","type":0,"sectionRef":"#","url":"/zh-CN/docs/next/compiler/","content":"","keywords":"","version":"dev"},{"title":"Á§∫‰æã Schema‚Äã","type":1,"pageTitle":"Ê¶ÇËßà","url":"/zh-CN/docs/next/compiler/#Á§∫‰æã-schema","content":" Fory IDL Êèê‰æõ‰∫ÜÁÆÄÂçïÁõ¥ËßÇÁöÑËØ≠Ê≥ïÊù•ÂÆö‰πâË∑®ËØ≠Ë®ÄÊï∞ÊçÆÁªìÊûÑÔºö  package example; enum Status { PENDING = 0; ACTIVE = 1; COMPLETED = 2; } message User { string name = 1; int32 age = 2; optional string email = 3; list&lt;string&gt; tags = 4; } message Item { string sku = 1; int32 quantity = 2; } message Order { ref User customer = 1; list&lt;Item&gt; items = 2; Status status = 3; map&lt;string, int32&gt; metadata = 4; } message Dog [id=104] { string name = 1; int32 bark_volume = 2; } message Cat [id=105] { string name = 1; int32 lives = 2; } union Animal [id=106] { Dog dog = 1; Cat cat = 2; }   ","version":"dev","tagName":"h2"},{"title":"‰∏∫‰ªÄ‰πàÈÄâÊã© Fory IDLÔºü‚Äã","type":1,"pageTitle":"Ê¶ÇËßà","url":"/zh-CN/docs/next/compiler/#‰∏∫‰ªÄ‰πàÈÄâÊã©-fory-idl","content":" ","version":"dev","tagName":"h2"},{"title":"Schema ‰ºòÂÖàÂºÄÂèë‚Äã","type":1,"pageTitle":"Ê¶ÇËßà","url":"/zh-CN/docs/next/compiler/#schema-‰ºòÂÖàÂºÄÂèë","content":" Âú® Fory IDL ‰∏≠‰∏ÄÊ¨°ÂÆö‰πâÊï∞ÊçÆÊ®°ÂûãÔºåÂç≥ÂèØÂú®ÊâÄÊúâËØ≠Ë®Ä‰∏≠ÁîüÊàê‰∏ÄËá¥‰∏îÁ±ªÂûãÂÆâÂÖ®ÁöÑ‰ª£Á†Å„ÄÇËøôÊ†∑ÂèØ‰ª•Á°Æ‰øùÔºö  Á±ªÂûãÂÆâÂÖ®ÔºöÂú®ÁºñËØëÊúüËÄå‰∏çÊòØËøêË°åÊúüÂèëÁé∞Á±ªÂûãÈîôËØØ‰∏ÄËá¥ÊÄßÔºöÂêÑËØ≠Ë®Ä‰ΩøÁî®Áõ∏ÂêåÂ≠óÊÆµÂêç„ÄÅÁ±ªÂûãÂíåÁªìÊûÑÊñáÊ°£ÊÄßÔºöSchema Êú¨Ë∫´Â∞±ÊòØÂèØÊåÅÁª≠ÊºîËøõÁöÑÊñáÊ°£ÂèØÊºîËøõÊÄßÔºöÂèØÂú®ÊâÄÊúâÂÆûÁé∞‰∏≠ÂèóÊéßÂú∞ËøõË°å Schema ÂèòÊõ¥  ","version":"dev","tagName":"h3"},{"title":"Fory ÂéüÁîüËÉΩÂäõ‚Äã","type":1,"pageTitle":"Ê¶ÇËßà","url":"/zh-CN/docs/next/compiler/#fory-ÂéüÁîüËÉΩÂäõ","content":" ‰∏éÈÄöÁî® IDL ‰∏çÂêåÔºåFory IDL ‰∏ìÈó®‰∏∫ Fory Â∫èÂàóÂåñËÆæËÆ°Ôºö  ÂºïÁî®Ë∑üË∏™ÔºöÈÄöËøá ref ‰∏ÄÁ≠âÊîØÊåÅÂÖ±‰∫´ÂºïÁî®ÂíåÂæ™ÁéØÂºïÁî®ÂèØÁ©∫Â≠óÊÆµÔºöÈÄöËøá optional ÊòæÂºèÂ£∞ÊòéÂèØÁ©∫Á±ªÂûãÁ±ªÂûãÊ≥®ÂÜåÔºöÂÜÖÁΩÆÊîØÊåÅÊï∞ÂÄº ID ‰∏éÂü∫‰∫éÂëΩÂêçÁ©∫Èó¥ÁöÑÊ≥®ÂÜåÂéüÁîü‰ª£Á†ÅÁîüÊàêÔºöÁîüÊàêÂ∏¶ Fory Ê≥®Ëß£/ÂÆèÁöÑËØ≠Ë®ÄÊÉØÁî®‰ª£Á†Å  ","version":"dev","tagName":"h3"},{"title":"ÈõÜÊàêÂºÄÈîÄ‰Ωé‚Äã","type":1,"pageTitle":"Ê¶ÇËßà","url":"/zh-CN/docs/next/compiler/#ÈõÜÊàêÂºÄÈîÄ‰Ωé","content":" ÁîüÊàê‰ª£Á†ÅÁõ¥Êé•‰ΩøÁî®ÂêÑËØ≠Ë®ÄÂéüÁîüÊûÑÈÄ†Ôºö  JavaÔºöÂ∏¶ @ForyField Ê≥®Ëß£ÁöÑÊôÆÈÄö POJOPythonÔºöÂ∏¶Á±ªÂûãÊèêÁ§∫ÁöÑ dataclassGoÔºöÂ∏¶ struct tag ÁöÑÁªìÊûÑ‰ΩìRustÔºöÂ∏¶ #[derive(ForyObject)] ÁöÑÁªìÊûÑ‰ΩìC++ÔºöÂ∏¶ FORY_STRUCT ÂÆèÁöÑÁªìÊûÑ‰Ωì  ","version":"dev","tagName":"h3"},{"title":"Âø´ÈÄüÂºÄÂßã‚Äã","type":1,"pageTitle":"Ê¶ÇËßà","url":"/zh-CN/docs/next/compiler/#Âø´ÈÄüÂºÄÂßã","content":" ","version":"dev","tagName":"h2"},{"title":"1. ÂÆâË£ÖÁºñËØëÂô®‚Äã","type":1,"pageTitle":"Ê¶ÇËßà","url":"/zh-CN/docs/next/compiler/#1-ÂÆâË£ÖÁºñËØëÂô®","content":" pip install fory-compiler   Êàñ‰ªéÊ∫êÁ†ÅÂÆâË£ÖÔºö  cd compiler pip install -e .   ","version":"dev","tagName":"h3"},{"title":"2. ÁºñÂÜô Schema‚Äã","type":1,"pageTitle":"Ê¶ÇËßà","url":"/zh-CN/docs/next/compiler/#2-ÁºñÂÜô-schema","content":" ÂàõÂª∫ example.fdlÔºö  package example; message Person { string name = 1; int32 age = 2; optional string email = 3; }   ","version":"dev","tagName":"h3"},{"title":"3. ÁîüÊàê‰ª£Á†Å‚Äã","type":1,"pageTitle":"Ê¶ÇËßà","url":"/zh-CN/docs/next/compiler/#3-ÁîüÊàê‰ª£Á†Å","content":" # ‰∏∫ÊâÄÊúâËØ≠Ë®ÄÁîüÊàê foryc example.fdl --output ./generated # ‰∏∫ÊåáÂÆöËØ≠Ë®ÄÁîüÊàê foryc example.fdl --lang java,python --output ./generated   ","version":"dev","tagName":"h3"},{"title":"4. ‰ΩøÁî®ÁîüÊàê‰ª£Á†Å‚Äã","type":1,"pageTitle":"Ê¶ÇËßà","url":"/zh-CN/docs/next/compiler/#4-‰ΩøÁî®ÁîüÊàê‰ª£Á†Å","content":" JavaÔºö  Person person = new Person(); person.setName(&quot;Alice&quot;); person.setAge(30); byte[] data = person.toBytes();   PythonÔºö  import pyfory from example import Person person = Person(name=&quot;Alice&quot;, age=30) data = bytes(person) # Êàñ `person.to_bytes()`   ","version":"dev","tagName":"h3"},{"title":"ÊñáÊ°£ÂØºËà™‚Äã","type":1,"pageTitle":"Ê¶ÇËßà","url":"/zh-CN/docs/next/compiler/#ÊñáÊ°£ÂØºËà™","content":" ÊñáÊ°£\tËØ¥ÊòéFory IDL ËØ≠Ê≥ï\tÂÆåÊï¥ËØ≠Ë®ÄËØ≠Ê≥ï‰∏éÊñáÊ≥ï Á±ªÂûãÁ≥ªÁªü\tÂü∫Á°ÄÁ±ªÂûã„ÄÅÈõÜÂêàÁ±ªÂûã‰∏éÁ±ªÂûãËßÑÂàô ÁºñËØëÂô®ÊåáÂçó\tCLI ÈÄâÈ°π‰∏éÊûÑÂª∫ÈõÜÊàê ÁîüÊàê‰ª£Á†Å\tÂêÑÁõÆÊ†áËØ≠Ë®ÄÁöÑËæìÂá∫Ê†ºÂºè Protocol Buffers IDL ÊîØÊåÅ\t‰∏é protobuf ÁöÑÂØπÊØîÂèäËøÅÁßªÊåáÂçó FlatBuffers IDL ÊîØÊåÅ\tFlatBuffers Êò†Â∞ÑËßÑÂàô‰∏é‰ª£Á†ÅÁîüÊàêÂ∑ÆÂºÇ  ","version":"dev","tagName":"h2"},{"title":"Ê†∏ÂøÉÊ¶ÇÂøµ‚Äã","type":1,"pageTitle":"Ê¶ÇËßà","url":"/zh-CN/docs/next/compiler/#Ê†∏ÂøÉÊ¶ÇÂøµ","content":" ","version":"dev","tagName":"h2"},{"title":"Â≠óÊÆµ‰øÆÈ•∞Á¨¶‚Äã","type":1,"pageTitle":"Ê¶ÇËßà","url":"/zh-CN/docs/next/compiler/#Â≠óÊÆµ‰øÆÈ•∞Á¨¶","content":" optionalÔºöÂ≠óÊÆµÂèØ‰∏∫ null/NonerefÔºö‰∏∫ÂÖ±‰∫´/Âæ™ÁéØÂºïÁî®ÂêØÁî®ÂºïÁî®Ë∑üË∏™listÔºöÂ≠óÊÆµ‰∏∫ÂàóË°®/Êï∞ÁªÑÔºàÂà´ÂêçÔºörepeatedÔºâ  message Example { optional string nullable = 1; ref Node parent = 2; list&lt;int32&gt; numbers = 3; }   ","version":"dev","tagName":"h3"},{"title":"Ë∑®ËØ≠Ë®ÄÂÖºÂÆπ‚Äã","type":1,"pageTitle":"Ê¶ÇËßà","url":"/zh-CN/docs/next/compiler/#Ë∑®ËØ≠Ë®ÄÂÖºÂÆπ","content":" Fory IDL Á±ªÂûã‰ºöÊò†Â∞Ñ‰∏∫ÂêÑËØ≠Ë®ÄÂéüÁîüÁ±ªÂûãÔºö  Fory IDL Á±ªÂûã\tJava\tPython\tGo\tRust\tC++int32\tint\tpyfory.int32\tint32\ti32\tint32_t string\tString\tstr\tstring\tString\tstd::string bool\tboolean\tbool\tbool\tbool\tbool  ÂÆåÊï¥Êò†Â∞ÑËØ∑ÂèÇËßÅ Á±ªÂûãÁ≥ªÁªü„ÄÇ  ","version":"dev","tagName":"h3"},{"title":"ÊúÄ‰Ω≥ÂÆûË∑µ‚Äã","type":1,"pageTitle":"Ê¶ÇËßà","url":"/zh-CN/docs/next/compiler/#ÊúÄ‰Ω≥ÂÆûË∑µ","content":" ‰ΩøÁî®ÊúâÊÑè‰πâÁöÑ package ÂêçÁß∞ÔºöÂ∞ÜÁõ∏ÂÖ≥Á±ªÂûãÂàÜÁªÑÁÆ°ÁêÜ‰∏∫ÊÄßËÉΩÂàÜÈÖçÁ±ªÂûã IDÔºöÊï∞ÂÄº ID ÊØîÂü∫‰∫éÂêçÁß∞ÁöÑÊ≥®ÂÜåÊõ¥È´òÊïàÈ¢ÑÁïô ID ËåÉÂõ¥Ôºö‰∏∫ÂêéÁª≠Êâ©Â±ï‰øùÁïôÁ©∫ÈöôÔºà‰æãÂ¶ÇÁî®Êà∑ 100-199ÔºåËÆ¢Âçï 200-299ÔºâÊòæÂºè‰ΩøÁî® optionalÔºöÊ∏ÖÊô∞Ë°®ËææÂèØÁ©∫ËØ≠‰πâÂÖ±‰∫´ÂØπË±°‰ΩøÁî® refÔºöÂØπË±°ÂèØËÉΩË¢´Â§öÂ§ÑÂºïÁî®Êó∂ÂºÄÂêØÂºïÁî®Ë∑üË∏™  ","version":"dev","tagName":"h2"},{"title":"Á§∫‰æã‚Äã","type":1,"pageTitle":"Ê¶ÇËßà","url":"/zh-CN/docs/next/compiler/#Á§∫‰æã","content":" ÂÆåÊï¥ÂèØËøêË°åÁ§∫‰æãËßÅ examples ÁõÆÂΩï„ÄÇ ","version":"dev","tagName":"h2"},{"title":"Â¶Ç‰ΩïÂèëÂ∏É","type":0,"sectionRef":"#","url":"/zh-CN/docs/next/community/how_to_release","content":"","keywords":"","version":"dev"},{"title":"‰ªãÁªç‚Äã","type":1,"pageTitle":"Â¶Ç‰ΩïÂèëÂ∏É","url":"/zh-CN/docs/next/community/how_to_release#‰ªãÁªç","content":" Ê∫ê‰ª£Á†ÅÂèëÂ∏ÉÊòØ Apache ÊúÄÈáçËßÜ‰ª•ÂèäÊúÄÈáçË¶ÅÁöÑÈÉ®ÂàÜ„ÄÇ  ËØ∑Ê≥®ÊÑèËÆ∏ÂèØËØÅÂíåÂèëÂ∏ÉÁöÑËΩØ‰ª∂Á≠æÂêçÈóÆÈ¢ò„ÄÇÂèëÂ∏ÉËΩØ‰ª∂ÊòØ‰∏Ä‰ª∂‰∏•ËÇÉÁöÑ‰∫ãÊÉÖÔºåÂπ∂‰ºö‰∫ßÁîüÁõ∏Â∫îÁöÑÊ≥ïÂæãÂêéÊûú„ÄÇ  ","version":"dev","tagName":"h2"},{"title":"release manager Á¨¨‰∏ÄÊ¨°ÂèëÂ∏É‚Äã","type":1,"pageTitle":"Â¶Ç‰ΩïÂèëÂ∏É","url":"/zh-CN/docs/next/community/how_to_release#release-manager-Á¨¨‰∏ÄÊ¨°ÂèëÂ∏É","content":" ","version":"dev","tagName":"h2"},{"title":"ÁéØÂ¢ÉË¶ÅÊ±Ç‚Äã","type":1,"pageTitle":"Â¶Ç‰ΩïÂèëÂ∏É","url":"/zh-CN/docs/next/community/how_to_release#ÁéØÂ¢ÉË¶ÅÊ±Ç","content":" Ê≠§ÂèëÂ∏ÉËøáÁ®ãÂú® Ubuntu Á≥ªÁªü‰∏≠ËøêË°åÔºåÈúÄË¶Å‰ª•‰∏ãÂá†‰∏™ÁéØÂ¢É‰æùËµñÔºö  JDK 1.8+Apache Maven 3.x+Python 3.8GnuPG 2.xGitSVNÔºàApache Âü∫Èáë‰ºö‰ΩøÁî® svn Êù•ÊâòÁÆ°È°πÁõÆÂèëÂ∏ÉÔºâËÆæÁΩÆÁéØÂ¢ÉÂèòÈáèÔºöÂ¶ÇÊûúÊÇ®Âú®‰∏çÂêåÁöÑÁõÆÂΩï‰∏ãÈÖçÁΩÆ‰∫Ü gpg ÂØÜÈí•ÔºåËØ∑ÊâßË°å export GNUPGHOME=$(xxx) ÂØºÂá∫ÁéØÂ¢ÉÂèòÈáè„ÄÇ  ","version":"dev","tagName":"h3"},{"title":"ÂáÜÂ§á GPG ÂØÜÈí•‚Äã","type":1,"pageTitle":"Â¶Ç‰ΩïÂèëÂ∏É","url":"/zh-CN/docs/next/community/how_to_release#ÂáÜÂ§á-gpg-ÂØÜÈí•","content":" Â¶ÇÊûúÊÇ®ÊòØÁ¨¨‰∏ÄÊ¨°‰Ωú‰∏∫ËΩØ‰ª∂ÂèëÂ∏ÉËÄÖÔºåÊÇ®ÈúÄË¶ÅÂáÜÂ§á‰∏Ä‰∏™ GPG ÂØÜÈí•„ÄÇ  ÊÇ®ÂèØ‰ª•ÂèÇËÄÉËøôÈáåÁöÑÂø´ÈÄüÂºÄÂßãËé∑Âèñ‰∏Ä‰∏™ GPG ÂØÜÈí•ÊàñËÄÖËé∑ÂèñÊõ¥Â§öÁõ∏ÂÖ≥‰ø°ÊÅØ„ÄÇ  ÂÆâË£Ö GPG‚Äã  sudo apt install gnupg2   ÁîüÊàê GPG ÂØÜÈí•‚Äã  ËØ∑‰ΩøÁî®ÊÇ®ÁöÑ Apache ÂêçÂ≠óÂíåÁîµÂ≠êÈÇÆ‰ª∂Âú∞ÂùÄÁîüÊàê GPG ÂØÜÈí•Ôºö  $ gpg --full-gen-key gpg (GnuPG) 2.2.20; Copyright (C) 2020 Free Software Foundation, Inc. This is free software: you are free to change and redistribute it. There is NO WARRANTY, to the extent permitted by law. Please select what kind of key you want: (1) RSA and RSA (default) (2) DSA and Elgamal (3) DSA (sign only) (4) RSA (sign only) (14) Existing key from card Your selection? 1 # input 1 RSA keys may be between 1024 and 4096 bits long. What keysize do you want? (2048) 4096 # input 4096 Requested keysize is 4096 bits Please specify how long the key should be valid. 0 = key does not expire &lt;n&gt; = key expires in n days &lt;n&gt;w = key expires in n weeks &lt;n&gt;m = key expires in n months &lt;n&gt;y = key expires in n years Key is valid for? (0) 0 # input 0 Key does not expire at all Is this correct? (y/N) y # input y GnuPG needs to construct a user ID to identify your key. Real name: Chaokun Yang # input your name Email address: chaokunyang@apache.org # input your email Comment: CODE SIGNING KEY # input some annotations, optional You selected this USER-ID: &quot;Chaokun &lt;chaokunyang@apache.org&gt;&quot; Change (N)ame, (C)omment, (E)mail or (O)kay/(Q)uit? O # input O We need to generate a lot of random bytes. It is a good idea to perform some other action (type on the keyboard, move the mouse, utilize the disks) during the prime generation; this gives the random number generator a better chance to gain enough entropy. We need to generate a lot of random bytes. It is a good idea to perform some other action (type on the keyboard, move the mouse, utilize the disks) during the prime generation; this gives the random number generator a better chance to gain enough entropy. # Input the security key ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îÇ Please enter this passphrase ‚îÇ ‚îÇ ‚îÇ ‚îÇ Passphrase: _______________________________ ‚îÇ ‚îÇ ‚îÇ ‚îÇ &lt;OK&gt; &lt;Cancel&gt; ‚îÇ ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò # key generation will be done after your inputting the key with the following output gpg: key E49B00F626B marked as ultimately trusted gpg: revocation certificate stored as '/Users/chaokunyang/.gnupg/openpgp-revocs.d/1E2CDAE4C08AD7D694D1CB139D7BE8E45E580BA4.rev' public and secret key created and signed. pub rsa4096 2022-07-12 [SC] 1E2CDAE4C08AD7D694D1CB139D7BE8E45E580BA4 uid [ultimate] Chaokun &lt;chaokunyang@apache.org&gt; sub rsa4096 2022-07-12 [E]   ‰∏ä‰º†ÂÖ¨Èí•Ëá≥ GPG ÂØÜÈí•ÊúçÂä°Âô®‚Äã  È¶ñÂÖàÔºåÂàóÂá∫ÊÇ®ÊâÄÂàõÂª∫ÁöÑ GPG ÂØÜÈí•Ôºö  gpg --list-keys   ÊâßË°åÁõ∏ÂÖ≥ÂëΩ‰ª§‰πãÂêéÔºåÊÇ®Â∞ÜÁúãÂà∞Â¶Ç‰∏ãËæìÂá∫Ôºö  -------------------------------------------------- pub rsa4096 2024-03-27 [SC] 1E2CDAE4C08AD7D694D1CB139D7BE8E45E580BA4 uid [ultimate] chaokunyang (CODE SIGNING KEY) &lt;chaokunyang@apache.org&gt; sub rsa4096 2024-03-27 [E]   ÁÑ∂ÂêéÔºåÂ∞ÜÊÇ®ÁöÑÂØÜÈí• ID ÂèëÈÄÅÂà∞ÂØÜÈí•ÊúçÂä°Âô®Ôºö  gpg --keyserver keys.openpgp.org --send-key &lt;key-id&gt; # e.g., 1E2CDAE4C08AD7D694D1CB139D7BE8E45E580BA4   ÂÖ∂‰∏≠Ôºåkeys.openpgp.org ÊòØ‰∏Ä‰∏™ÈöèÊú∫ÈÄâÊã©ÁöÑÂØÜÈí•ÊúçÂä°Âô®ÔºåÂèØ‰ª•‰ΩøÁî® keyserver.ubuntu.com Êàñ‰ªª‰ΩïÂÖ∂‰ªñÂäüËÉΩÂÆåÂ§áÁöÑÂØÜÈí•ÊúçÂä°Âô®„ÄÇ  Ê£ÄÊü•ÂØÜÈí•ÊòØÂê¶ÂàõÂª∫ÊàêÂäü‚Äã  ‰∏ä‰º†Â§ßÁ∫¶ÈúÄË¶Å‰∏ÄÂàÜÈíüÔºõ‰πãÂêéÔºåÊÇ®ÂèØ‰ª•ÈÄöËøáÁîµÂ≠êÈÇÆ‰ª∂Âú®Áõ∏Â∫îÁöÑÂØÜÈí•ÊúçÂä°Âô®‰∏äÊ£ÄÊü•„ÄÇ  Â∞ÜÂØÜÈí•‰∏ä‰º†Âà∞ÂØÜÈí•ÊúçÂä°Âô®ÁöÑ‰∏ªË¶ÅÁõÆÁöÑÊòØ‰∏∫‰∫ÜÂä†ÂÖ•‰∏Ä‰∏™ÂèØ‰ø°ÁöÑ‰ø°‰ªªÁΩëÁªú„ÄÇ  Â∞Ü GPG ÂÖ¨Èí•Ê∑ªÂä†Âà∞È°πÁõÆ KEYS Êñá‰ª∂‰∏≠‚Äã  ÂèëÂ∏ÉÂàÜÊîØÁöÑ svn ‰ªìÂ∫ìÊòØÔºöhttps://dist.apache.org/repos/dist/release/fory  ËØ∑Âú®ÂèëÂ∏ÉÂàÜÊîØÁöÑ KEYS ‰∏≠Ê∑ªÂä†ÂÖ¨Èí•Ôºö  svn co https://dist.apache.org/repos/dist/release/fory fory-dist # As this step will copy all the versions, it will take some time. If the network is broken, please use svn cleanup to delete the lock before re-execute it. cd fory-dist (gpg --list-sigs YOUR_NAME@apache.org &amp;&amp; gpg --export --armor YOUR_NAME@apache.org) &gt;&gt; KEYS # Append your key to the KEYS file svn add . # It is not needed if the KEYS document exists before. svn ci -m &quot;add gpg key for YOUR_NAME&quot; # Later on, if you are asked to enter a username and password, just use your apache username and password.   Â∞Ü GPG ÂÖ¨Èí•‰∏ä‰º†Âà∞ÊÇ®ÁöÑ GitHub Â∏êÊà∑‚Äã  ËæìÂÖ• https://github.com/settings/keys ‰ª•Ê∑ªÂä†ÊÇ®ÁöÑ GPG ÂØÜÈí•„ÄÇÂ¶ÇÊûúÊ∑ªÂä†ÂêéÂèëÁé∞‚ÄúÊú™È™åËØÅ‚ÄùÂ≠óÊ†∑ÔºåËØ∑Â∞Ü GPG ÂØÜÈí•‰∏≠‰ΩøÁî®ÁöÑÁîµÂ≠êÈÇÆ‰ª∂Âú∞ÂùÄÁªëÂÆöÂà∞ÊÇ®ÁöÑ GitHub Â∏êÊà∑Ôºàhttps://github.com/settings/emailsÔºâ„ÄÇ  ","version":"dev","tagName":"h3"},{"title":"Âª∂‰º∏ÈòÖËØª‚Äã","type":1,"pageTitle":"Â¶Ç‰ΩïÂèëÂ∏É","url":"/zh-CN/docs/next/community/how_to_release#Âª∂‰º∏ÈòÖËØª","content":" Âª∫ËÆÆÊÇ®Âú®ÂèëÂ∏É‰πãÂâçÈòÖËØª‰ª•‰∏ãÊñáÊ°£Ôºå‰∫ÜËß£ÊúâÂÖ≥ Apache Âü∫Èáë‰ºöÂèëÂ∏ÉËΩØ‰ª∂ÁöÑÊõ¥Â§öËØ¶ÁªÜ‰ø°ÊÅØÔºå‰ΩÜËøô‰∏çÊòØÂøÖÈ°ªÁöÑÔºö  ÂèëÂ∏ÉÊîøÁ≠ñÔºöhttps://www.apache.org/legal/release-policy.htmlTLP ÁâàÊú¨Ôºöhttps://infra.apache.org/release-distributionÂèëÂ∏ÉÊ†áÂøóÔºöhttps://infra.apache.org/release-signing.htmlÂèëÂ∏ÉÂèëÂ∏ÉÔºöhttps://infra.apache.org/release-publishing.htmlÂèëÂ∏É‰∏ãËΩΩÈ°µÈù¢Ôºöhttps://infra.apache.org/release-download-pages.htmlÂèëÂ∏É maven artifactsÔºöhttps://infra.apache.org/publishing-maven-artifacts.html  ","version":"dev","tagName":"h3"},{"title":"ÂºÄÂßãÊúâÂÖ≥ÂèëÂ∏ÉÁöÑËÆ®ËÆ∫‚Äã","type":1,"pageTitle":"Â¶Ç‰ΩïÂèëÂ∏É","url":"/zh-CN/docs/next/community/how_to_release#ÂºÄÂßãÊúâÂÖ≥ÂèëÂ∏ÉÁöÑËÆ®ËÆ∫","content":" ÈÄöËøáÂèëÈÄÅÁîµÂ≠êÈÇÆ‰ª∂Ëá≥‰ª•‰∏ãÂú∞ÂùÄÂèëËµ∑ÊúâÂÖ≥‰∏ã‰∏Ä‰∏™ÁâàÊú¨ÁöÑËÆ®ËÆ∫Ôºödev@fory.apache.orgÔºö  Ê†áÈ¢òÔºö  [DISCUSS] Release Apache Fory ${release_version}   ÂÜÖÂÆπÔºö  Hello, Apache Fory Community, This is a call for a discussion to release Apache Fory version ${release_version}. The change lists about this release: https://github.com/apache/fory/compare/v0.11.2...v0.12.0 Please leave your comments here about this release plan. We will bump the version in repo and start the release process after the discussion. Thanks, ${name}   ","version":"dev","tagName":"h2"},{"title":"ÂáÜÂ§áÂèëÂ∏É‚Äã","type":1,"pageTitle":"Â¶Ç‰ΩïÂèëÂ∏É","url":"/zh-CN/docs/next/community/how_to_release#ÂáÜÂ§áÂèëÂ∏É","content":" Â¶ÇÊûúËÆ®ËÆ∫ÁªìÊûú‰∏≠Ê≤°ÊúâÂá∫Áé∞ÂèçÂØπÂ£∞Èü≥ÔºåÊÇ®ÈúÄË¶ÅÂÅö‰∏Ä‰∫õÂèëÂ∏ÉÁâàÊú¨ÁöÑÂáÜÂ§áÂ∑•‰Ωú„ÄÇ  ","version":"dev","tagName":"h2"},{"title":"Github ÂàÜÊîØÂíåÊ†áÁ≠æ‚Äã","type":1,"pageTitle":"Â¶Ç‰ΩïÂèëÂ∏É","url":"/zh-CN/docs/next/community/how_to_release#github-ÂàÜÊîØÂíåÊ†áÁ≠æ","content":" ÂàõÂª∫‰∏Ä‰∏™Âêç‰∏∫ releases-0.12.0ÈÄöËøáÊâßË°åÂëΩ‰ª§Â∞ÜÁâàÊú¨ $version ÂçáÁ∫ßÂà∞ python ci/release.py bump_version -l all -version $versionÊâßË°å git commit Âπ∂Â∞ÜÂàÜÊîØÊé®ÈÄÅÂà∞ git@github.com:apache/fory.gitÈÄöËøá git tag v0.12.0-rc1 ÂàõÂª∫‰∏Ä‰∏™Êñ∞Ê†áÁ≠æÔºåÁÑ∂ÂêéÂ∞ÜÂÖ∂Êé®ÈÄÅÂà∞ git@github.com:apache/fory.git  ","version":"dev","tagName":"h3"},{"title":"ÊûÑÂª∫ artifacts Âπ∂‰∏ä‰º†Âà∞ SVN dist/dev ‰ªìÂ∫ì‚Äã","type":1,"pageTitle":"Â¶Ç‰ΩïÂèëÂ∏É","url":"/zh-CN/docs/next/community/how_to_release#ÊûÑÂª∫-artifacts-Âπ∂‰∏ä‰º†Âà∞-svn-distdev-‰ªìÂ∫ì","content":" È¶ñÂÖàÔºåÊÇ®ÈúÄË¶ÅÈÄöËøá python ci/release.py build -v $version ÊûÑÂª∫È¢ÑÂèëÂ∏É artifacts„ÄÇ  ÁÑ∂ÂêéÊÇ®ÈúÄË¶ÅÊääÂÆÉ‰∏ä‰º†Âà∞ svn dist repo„ÄÇdev ÂàÜÊîØÁöÑ dist ‰ªìÂ∫ìÂú∞ÂùÄÊòØÔºöhttps://dist.apache.org/repos/dist/dev/fory  # As this step will copy all the versions, it will take some time. If the network is broken, please use svn cleanup to delete the lock before re-execute it. svn co https://dist.apache.org/repos/dist/dev/fory fory-dist-dev   ÁÑ∂ÂêéÔºå‰∏ä‰º†È°πÁõÆÔºö  cd fory-dist-dev # create a directory named by version mkdir ${release_version}-${rc_version} # copy source code and signature package to the versioned directory cp ${repo_dir}/dist/* ${release_version}-${rc_version} # check svn status svn status # add to svn svn add ${release_version}-${rc_version} # check svn status svn status # commit to SVN remote server svn commit -m &quot;Prepare for fory ${release_version}-${rc_version}&quot;   ËÆøÈóÆ https://dist.apache.org/repos/dist/dev/fory/ ‰ª•Ê£ÄÊü• artifacts ÊòØÂê¶Ê≠£Á°Æ‰∏ä‰º†„ÄÇ  ","version":"dev","tagName":"h3"},{"title":"Â¶ÇÊûúÂá∫Áé∞ÈóÆÈ¢òËØ•ÊÄé‰πàÂäû‚Äã","type":1,"pageTitle":"Â¶Ç‰ΩïÂèëÂ∏É","url":"/zh-CN/docs/next/community/how_to_release#Â¶ÇÊûúÂá∫Áé∞ÈóÆÈ¢òËØ•ÊÄé‰πàÂäû","content":" Â¶ÇÊûúÊüê‰∫õÊñá‰ª∂ÊòØÊÑèÂ§ñÂá∫Áé∞ÊàñËÄÖÂèëÁîüÊüê‰∫õÈîôËØØÔºåÂàôÈúÄË¶ÅÂà†Èô§Áõ∏ÂÖ≥ÂÜÖÂÆπÂπ∂ÊâßË°å svn deleteÔºåÁÑ∂ÂêéÈáçÂ§ç‰∏äËø∞‰∏ä‰º†ËøáÁ®ã„ÄÇ  ","version":"dev","tagName":"h3"},{"title":"ÊäïÁ•®‚Äã","type":1,"pageTitle":"Â¶Ç‰ΩïÂèëÂ∏É","url":"/zh-CN/docs/next/community/how_to_release#ÊäïÁ•®","content":" Êñ∞ÁâàÊú¨ÂèëÂ∏ÉÈúÄË¶Å Apache Fory Á§æÂå∫ÁöÑÊäïÁ•®„ÄÇ  release_versionÔºöFory ÁöÑÁâàÊú¨ÔºåÂ¶Ç 0.12.0„ÄÇrelease_candidate_versionÔºöÊäïÁ•®ÁöÑÁâàÊú¨ÔºåÂ¶Ç 0.12.0-rc1„ÄÇmaven_artifact_numberÔºöMaven ÊöÇÂ≠ò artifacts ÁöÑÊï∞Èáè„ÄÇÂ¶Ç 1001. ÂÖ∑‰ΩìÊù•ËØ¥ÔºåÂèØ‰ª•ÈÄöËøáÊêúÁ¥¢ ‚Äúfory‚Äù Êù•ÊâæÂà∞ maven_artifact_number https://repository.apache.org/#stagingRepositories.  ","version":"dev","tagName":"h2"},{"title":"Fory Á§æÂå∫ÊäïÁ•®‚Äã","type":1,"pageTitle":"Â¶Ç‰ΩïÂèëÂ∏É","url":"/zh-CN/docs/next/community/how_to_release#fory-Á§æÂå∫ÊäïÁ•®","content":" ÂèëÈÄÅÁîµÂ≠êÈÇÆ‰ª∂Ëá≥ Fory CommunityÔºödev@fory.apache.orgÔºö  Ê†áÈ¢òÔºö  [VOTE] Release Apache Fory v${release_version}-${rc_version}   ÂÜÖÂÆπÔºö  Hello, Apache Fory Community: This is a call for vote to release Apache Fory version release-0.12.0-rc1. Apache Fory - A blazingly fast multi-language serialization framework powered by JIT and zero-copy. The change lists about this release: https://github.com/apache/fory/compare/v0.12.0...v0.12.0-rc1 The release candidates: https://dist.apache.org/repos/dist/dev/fory/0.12.0-rc1/ The maven staging for this release: https://repository.apache.org/content/repositories/orgapachefory-1003 Git tag for the release: https://github.com/apache/fory/releases/tag/v0.12.0-rc1 Git commit for the release: https://github.com/apache/fory/commit/fae06330edd049bb960536e978a45b97bca66faf The artifacts signed with PGP key [5E580BA4], corresponding to [chaokunyang@apache.org], that can be found in keys file: https://downloads.apache.org/fory/KEYS The vote will be open for at least 72 hours until the necessary number of votes are reached. Please vote accordingly: [ ] +1 approve [ ] +0 no opinion [ ] -1 disapprove with the reason To learn more about Fory, please see https://fory.apache.org/ *Valid check is a requirement for a vote. *Checklist for reference: [ ] Download Fory is valid. [ ] Checksums and PGP signatures are valid. [ ] Source code distributions have correct names matching the current release. [ ] LICENSE and NOTICE files are correct. [ ] All files have license headers if necessary. [ ] No compiled archives bundled in source archive. [ ] Can compile from source. How to Build and Test, please refer to: https://github.com/apache/fory/blob/main/docs/guide/DEVELOPMENT.md Thanks, Chaokun Yang   Âú®Ëá≥Â∞ëËé∑Âæó 3 + 1 ‰∏îÂÖ∑ÊúâÁ∫¶ÊùüÂäõÁöÑÊäïÁ•®ÔºàÊù•Ëá™ Fory Podling PMC ÊàêÂëòÂíåÊèê‰∫§ËÄÖÔºâÂπ∂Ê≤°ÊúâÊî∂Âà∞Âê¶ÂÜ≥Á•®‰πãÂêéÔºåÂèëÂ∏ÉÊäïÁ•®ÁªìÊûúÔºö  Ê†áÈ¢òÔºö  [RESULT][VOTE] Release Apache Fory v${release_version}-${rc_version}   ÂÜÖÂÆπÔºö  Hello, Apache Fory Community, The vote to release Apache Fory v${release_version}-${rc_version} has passed. The vote PASSED with 3 binding +1 and 0 -1 vote: Binding votes: - xxx - yyy - zzz Vote thread: ${vote_thread_url} Thanks, ${name}   ","version":"dev","tagName":"h3"},{"title":"Â¶ÇÊûúÊäïÁ•®Â§±Ë¥•ÊÄé‰πàÂäû‚Äã","type":1,"pageTitle":"Â¶Ç‰ΩïÂèëÂ∏É","url":"/zh-CN/docs/next/community/how_to_release#Â¶ÇÊûúÊäïÁ•®Â§±Ë¥•ÊÄé‰πàÂäû","content":" Â¶ÇÊûúÊäïÁ•®Â§±Ë¥•ÔºåËØ∑ÂçïÂáª‚ÄúÂà†Èô§‚Äù‰ª•Âà†Èô§ÊöÇÂ≠òÁöÑ Maven artifacts„ÄÇ  Ëß£ÂÜ≥ÊèêÂá∫ÁöÑÈóÆÈ¢òÔºåÁÑ∂ÂêéÂÜçÊ¨°ÊèêÂá∫ rc_version ÁöÑÊñ∞ÊäïÁ•®„ÄÇ  ","version":"dev","tagName":"h3"},{"title":"ÂÆòÊñπÂèëÂ∏É‚Äã","type":1,"pageTitle":"Â¶Ç‰ΩïÂèëÂ∏É","url":"/zh-CN/docs/next/community/how_to_release#ÂÆòÊñπÂèëÂ∏É","content":" ","version":"dev","tagName":"h2"},{"title":"Â∞Ü artifacts ÂèëÂ∏ÉÂà∞ SVN ÂèëÂ∏ÉÁõÆÂΩï‚Äã","type":1,"pageTitle":"Â¶Ç‰ΩïÂèëÂ∏É","url":"/zh-CN/docs/next/community/how_to_release#Â∞Ü-artifacts-ÂèëÂ∏ÉÂà∞-svn-ÂèëÂ∏ÉÁõÆÂΩï","content":" release_versionÔºöFory ÁöÑÂèëÂ∏ÉÁâàÊú¨ÔºåÂ¶Ç 0.12.0release_candidate_versionÔºöÊäïÁ•®ÁâàÊú¨ÔºåÂ¶Ç 0.12.0-rc1  svn mv https://dist.apache.org/repos/dist/dev/fory/${release_version}-${rc_version} https://dist.apache.org/repos/dist/release/fory/${release_version} -m &quot;Release fory ${release_version}&quot;   ","version":"dev","tagName":"h3"},{"title":"Êõ¥Êîπ Fory ÁΩëÁ´ô‰∏ãËΩΩÈìæÊé•‚Äã","type":1,"pageTitle":"Â¶Ç‰ΩïÂèëÂ∏É","url":"/zh-CN/docs/next/community/how_to_release#Êõ¥Êîπ-fory-ÁΩëÁ´ô‰∏ãËΩΩÈìæÊé•","content":" Êèê‰∫§ PR Âà∞ https://github.com/apache/fory-site ‰ªìÂ∫ìÊõ¥Êñ∞ Fory ÁâàÊú¨Ôºå‰∏ãËΩΩÈ°µÈù¢  ","version":"dev","tagName":"h3"},{"title":"ÂèëÂ∏É Maven artifacts‚Äã","type":1,"pageTitle":"Â¶Ç‰ΩïÂèëÂ∏É","url":"/zh-CN/docs/next/community/how_to_release#ÂèëÂ∏É-maven-artifacts","content":" maven_artifact_numberÔºöMaven ÊöÇÂ≠ò artifacts ÁöÑÊï∞Èáè„ÄÇÂ¶Ç 1001„ÄÇÊâìÂºÄhttps://repository.apache.org/#stagingRepositories.ÊâæÂà∞ artifacts orgapachefory-${maven_artifact_number}ÔºåÁÇπÂáª‚ÄúÂèëÂ∏É‚Äù„ÄÇ  ","version":"dev","tagName":"h3"},{"title":"ÂèëÈÄÅÂÖ¨Âëä‚Äã","type":1,"pageTitle":"Â¶Ç‰ΩïÂèëÂ∏É","url":"/zh-CN/docs/next/community/how_to_release#ÂèëÈÄÅÂÖ¨Âëä","content":" Â∞ÜÂèëÂ∏ÉÂÖ¨ÂëäÂèëÈÄÅÁªô dev@fory.apache.org Âπ∂‰∏îÊäÑÈÄÅÁªô announce@apache.org„ÄÇ  Ê†áÈ¢òÔºö  [ANNOUNCE] Apache Fory ${release_version} released   ÂÜÖÂÆπÔºö  Hi all, The Apache Fory community is pleased to announce that Apache Fory {release_version} has been released! Apache Fory - A blazingly fast multi-language serialization framework powered by JIT and zero-copy. The release notes are available here: https://github.com/apache/fory/releases/tag/v${release_version} For the complete list of changes: https://github.com/apache/fory/compare/v0.12.0...v${release_version} Apache Fory website: https://fory.apache.org/ Download Links: https://fory.apache.org/download Fory Resources: - Fory github repo: https://github.com/apache/fory - Issue: https://github.com/apache/fory/issues - Mailing list: dev@fory.apache.org We are looking to grow our community and welcome new contributors. If you are interested in contributing to Fory, please contact us on the mailing list or on GitHub. We will be happy to help you get started. ------------------ Best Regards, ${your_name}   Ëá≥Ê≠§ÔºåÊï¥‰∏™ÂèëÂ∏ÉÊµÅÁ®ãÁªìÊùü„ÄÇ ","version":"dev","tagName":"h3"},{"title":"Â¶Ç‰ΩïÈ™åËØÅ Apache Fory‚Ñ¢","type":0,"sectionRef":"#","url":"/zh-CN/docs/next/community/how_to_verify","content":"","keywords":"","version":"dev"},{"title":"‰∏ãËΩΩ Apache Fory‚Ñ¢‚Äã","type":1,"pageTitle":"Â¶Ç‰ΩïÈ™åËØÅ Apache Fory‚Ñ¢","url":"/zh-CN/docs/next/community/how_to_verify#‰∏ãËΩΩ-apache-fory","content":" # If there is svn locally, you can clone to the local svn co https://dist.apache.org/repos/dist/dev/incubator/fory/${release_version}-${rc_version}/ # You can download the material file directly wget https://dist.apache.org/repos/dist/dev/incubator/fory/${release_version}-${rc_version}/xxx.xxx   ","version":"dev","tagName":"h2"},{"title":"È™åËØÅ checksums Âíå signatures‚Äã","type":1,"pageTitle":"Â¶Ç‰ΩïÈ™åËØÅ Apache Fory‚Ñ¢","url":"/zh-CN/docs/next/community/how_to_verify#È™åËØÅ-checksums-Âíå-signatures","content":" È¶ñÂÖàÔºåÊÇ®ÈúÄË¶ÅÂÆâË£Ö gpgÔºö  apt-get install gnupg # or yum install gnupg # or brew install gnupg   ‰πãÂêéÔºåÂØºÂÖ• Apache Fory release manager ÁöÑÂÖ¨Èí•Ôºö  curl https://downloads.apache.org/incubator/fory/KEYS &gt; KEYS # Download KEYS gpg --import KEYS # Import KEYS to local # Then, trust the public key: gpg --edit-key &lt;KEY-used-in-this-version&gt; # Edit the key(mentioned in vote email) # It will enter the interactive mode, use the following command to trust the key: gpg (GnuPG) 2.0.22; Copyright (C) 2013 Free Software Foundation, Inc. This is free software: you are free to change and redistribute it. There is NO WARRANTY, to the extent permitted by law. pub 4096R/5E580BA4 created: 2024-03-27 expires: never usage: SC trust: unknown validity: unknown sub 4096R/A31EF728 created: 2024-03-27 expires: never usage: E [ unknown] (1). chaokunyang (CODE SIGNING KEY) &lt;chaokunyang@apache.org&gt; gpg&gt; trust pub 4096R/5E580BA4 created: 2024-03-27 expires: never usage: SC trust: unknown validity: unknown sub 4096R/A31EF728 created: 2024-03-27 expires: never usage: E [ unknown] (1). chaokunyang (CODE SIGNING KEY) &lt;chaokunyang@apache.org&gt; Please decide how far you trust this user to correctly verify other users' keys (by looking at passports, checking fingerprints from different sources, etc.) 1 = I don't know or won't say 2 = I do NOT trust 3 = I trust marginally 4 = I trust fully 5 = I trust ultimately m = back to the main menu Your decision? 5 Do you really want to set this key to ultimate trust? (y/N) y pub 4096R/5E580BA4 created: 2024-03-27 expires: never usage: SC trust: ultimate validity: unknown sub 4096R/A31EF728 created: 2024-03-27 expires: never usage: E [ unknown] (1). chaokunyang (CODE SIGNING KEY) &lt;chaokunyang@apache.org&gt; Please note that the shown key validity is not necessarily correct unless you restart the program.   Êé•‰∏ãÊù•È™åËØÅÁ≠æÂêçÔºö  for i in *.tar.gz; do echo $i; gpg --verify $i.asc $i; done   Â¶ÇÊûúÂá∫Áé∞Â¶Ç‰∏ãÂÜÖÂÆπÔºåÂàôË°®Á§∫Á≠æÂêçÊ≠£Á°ÆÔºö  apache-fory-0.5.0-src.tar.gz gpg: Signature made Wed 17 Apr 2024 11:49:45 PM CST using RSA key ID 5E580BA4 gpg: checking the trustdb gpg: 3 marginal(s) needed, 1 complete(s) needed, PGP trust model gpg: depth: 0 valid: 1 signed: 0 trust: 0-, 0q, 0n, 0m, 0f, 1u gpg: Good signature from &quot;chaokunyang (CODE SIGNING KEY) &lt;chaokunyang@apache.org&gt;&quot;   ÁÑ∂ÂêéÈ™åËØÅ checksumÔºö  for i in *.tar.gz; do echo $i; sha512sum --check $i.sha512; done   ÂÆÉÂ∫îËØ•ËæìÂá∫Â¶Ç‰∏ãÂÜÖÂÆπÔºö  apache-fory-0.12.0-src.tar.gz apache-fory-0.12.0-src.tar.gz: OK   ","version":"dev","tagName":"h2"},{"title":"Ê£ÄÊü•Ê∫êÁ†ÅÂåÖ‰∏≠ÁöÑÊñá‰ª∂‚Äã","type":1,"pageTitle":"Â¶Ç‰ΩïÈ™åËØÅ Apache Fory‚Ñ¢","url":"/zh-CN/docs/next/community/how_to_verify#Ê£ÄÊü•Ê∫êÁ†ÅÂåÖ‰∏≠ÁöÑÊñá‰ª∂","content":" Ëß£ÂéãÁº© apache-fory-${release_version}-${rc_version}-src.tar.gz Âπ∂Ê£ÄÊü•‰ª•‰∏ãÂÜÖÂÆπÔºö  Ê≠§Â≠òÂÇ®Â∫ì LICENSE Âíå NOTICE Êñá‰ª∂ÊòØÊ≠£Á°ÆÁöÑÔºõÂ¶ÇÊúâÂøÖË¶ÅÔºåÊâÄÊúâÊñá‰ª∂ÈÉΩÊúâ ASF ËÆ∏ÂèØËØÅÊ†áÂ§¥ÔºõÈ°πÁõÆÊûÑÂª∫ÈÄöËøá„ÄÇ  ","version":"dev","tagName":"h2"},{"title":"Ê£ÄÊü• fory-java ÁöÑ Maven artifacts‚Äã","type":1,"pageTitle":"Â¶Ç‰ΩïÈ™åËØÅ Apache Fory‚Ñ¢","url":"/zh-CN/docs/next/community/how_to_verify#Ê£ÄÊü•-fory-java-ÁöÑ-maven-artifacts","content":" ‰∏ãËΩΩ Apache Fory‚Ñ¢Ôºöhttps://repository.apache.org/content/repositories/orgapachefory-${maven_artifact_number}/.  ÊÇ®ÂèØ‰ª•Ê£ÄÊü•‰ª•‰∏ãÂÜÖÂÆπÔºö  JAR ÁöÑ Checksum ‰∏éÈ°πÁõÆÁªëÂÆöÁöÑ checksum Êñá‰ª∂‰∏ÄËá¥„ÄÇJAR ÁöÑ signature ‰∏éÈ°πÁõÆÁªëÂÆöÁöÑ signature Êñá‰ª∂‰∏ÄËá¥„ÄÇJAR Âú®Êú¨Âú∞ÊòØÂèØÈáçÂ§çÁöÑ„ÄÇËøôÊÑèÂë≥ÁùÄÊÇ®ÂèØ‰ª•Âú®ËÆ°ÁÆóÊú∫‰∏äÊûÑÂª∫ JARÔºåÂπ∂È™åËØÅ checksum Âíå‰∏éÈ°πÁõÆÁªëÂÆöÁöÑÁõ∏Âêå„ÄÇ ","version":"dev","tagName":"h2"},{"title":"FlatBuffers IDL ÊîØÊåÅ","type":0,"sectionRef":"#","url":"/zh-CN/docs/next/compiler/flatbuffers_idl","content":"","keywords":"","version":"dev"},{"title":"Êú¨È°µÂÜÖÂÆπ‚Äã","type":1,"pageTitle":"FlatBuffers IDL ÊîØÊåÅ","url":"/zh-CN/docs/next/compiler/flatbuffers_idl#Êú¨È°µÂÜÖÂÆπ","content":" ‰ΩïÊó∂Â∫îÂú® Fory ‰∏≠‰ΩøÁî® FlatBuffers ËæìÂÖ•FlatBuffers Âà∞ Fory ÁöÑÁ≤æÁ°ÆÊò†Â∞ÑË°å‰∏∫.fbs ‰∏≠ÊîØÊåÅÁöÑ Fory Êâ©Â±ïÂ±ûÊÄßËøÅÁßªÊ≥®ÊÑè‰∫ãÈ°π‰∏éÁîüÊàê‰ª£Á†ÅÂ∑ÆÂºÇ  ","version":"dev","tagName":"h2"},{"title":"‰∏∫‰ªÄ‰πà‰ΩøÁî® Apache Fory‚Äã","type":1,"pageTitle":"FlatBuffers IDL ÊîØÊåÅ","url":"/zh-CN/docs/next/compiler/flatbuffers_idl#‰∏∫‰ªÄ‰πà‰ΩøÁî®-apache-fory","content":" ÁîüÊàê‰ª£Á†ÅÊõ¥Á¨¶ÂêàËØ≠Ë®Ä‰π†ÊÉØÔºöFory ‰ºöÁîüÊàêÂêÑËØ≠Ë®ÄÂ∏∏Áî®È£éÊ†ºÁöÑÁ±ª/ÁªìÊûÑ‰ΩìÔºåÂèØÁõ¥Êé•‰Ωú‰∏∫È¢ÜÂüüÂØπË±°‰ΩøÁî®„ÄÇJava ÊÄßËÉΩÊõ¥‰ºòÔºöÂú® Fory ÁöÑ Java ÂØπË±°Â∫èÂàóÂåñÂü∫ÂáÜ‰∏≠ÔºåFory ÈÄöÂ∏∏Âø´‰∫é FlatBuffers„ÄÇÂÖ∂‰ªñËØ≠Ë®ÄÊÄßËÉΩÁõ∏ËøëÔºöÂ∫èÂàóÂåñÊÄßËÉΩÈÄöÂ∏∏Â§Ñ‰∫éÂêå‰∏ÄÈáèÁ∫ß„ÄÇÂÆûÈôÖÂèçÂ∫èÂàóÂåñÈìæË∑ØÊõ¥È´òÊïàÔºöFlatBuffers ÈªòËÆ§Âπ∂‰∏çÂÅöÂéüÁîüÂØπË±°ÂèçÂ∫èÂàóÂåñÔºåÂõ†Ê≠§ÁúãËµ∑Êù•Êõ¥Âø´Ôºõ‰ΩÜÂΩì‰∏öÂä°ÈúÄË¶ÅÂéüÁîüÂØπË±°Êó∂ÔºåËøòÈúÄÈ¢ùÂ§ñËΩ¨Êç¢ÔºåËøô‰∏ÄÊ≠•ÂæÄÂæÄÊàê‰∏∫‰∏ªË¶ÅÂºÄÈîÄ„ÄÇÂú®ËøôÁßçÂú∫ÊôØ‰∏ãÔºåFory Á´ØÂà∞Á´ØÂèçÂ∫èÂàóÂåñÈÄöÂ∏∏Êõ¥Âø´„ÄÇAPI Êõ¥ÁÆÄÂçïÔºöFory Áõ¥Êé•Êìç‰ΩúÂéüÁîüÂØπË±°ÔºåÊó†ÈúÄÂèçÂêëÊûÑÂª∫ table ÊàñÊâãÂä®ÁÆ°ÁêÜ offset„ÄÇÂØπË±°ÂõæÂª∫Ê®°ËÉΩÂäõÊõ¥Âº∫ÔºöFory ÂéüÁîüÊîØÊåÅÂÖ±‰∫´ÂºïÁî®ÂíåÂæ™ÁéØÂºïÁî®„ÄÇ  ","version":"dev","tagName":"h2"},{"title":"Âø´ÈÄüÂÜ≥Á≠ñÊåáÂçó‚Äã","type":1,"pageTitle":"FlatBuffers IDL ÊîØÊåÅ","url":"/zh-CN/docs/next/compiler/flatbuffers_idl#Âø´ÈÄüÂÜ≥Á≠ñÊåáÂçó","content":" Âú∫ÊôØ\tÂª∫ËÆÆË∑ØÂæÑÂ∑≤Êúâ .fbs schemaÔºåÊÉ≥Êé•ÂÖ• Fory ËøêË°åÊó∂/‰ª£Á†ÅÁîüÊàê\t‰ΩøÁî® FlatBuffers ËæìÂÖ• Êñ∞Âª∫ schemaÔºåÂ∏åÊúõÂÆåÊï¥‰ΩøÁî® Fory ËØ≠Ê≥ïËÉΩÂäõ\t‰ΩøÁî®ÂéüÁîü Fory IDL ËøêË°åÊó∂ÂøÖÈ°ª‰øùÊåÅ FlatBuffers Á∫øÊ†ºÂºèÂÖºÂÆπ\tÁªßÁª≠‰ΩøÁî® FlatBuffers Ê†à ÈúÄË¶Å Fory ÂØπË±°ÂõæËØ≠‰πâÔºàref„ÄÅÂº±ÂºïÁî®Á≠âÔºâ\t‰ΩøÁî® Fory  ","version":"dev","tagName":"h2"},{"title":"FlatBuffers Âà∞ Fory ÁöÑÊò†Â∞Ñ‚Äã","type":1,"pageTitle":"FlatBuffers IDL ÊîØÊåÅ","url":"/zh-CN/docs/next/compiler/flatbuffers_idl#flatbuffers-Âà∞-fory-ÁöÑÊò†Â∞Ñ","content":" ","version":"dev","tagName":"h2"},{"title":"Schema Á∫ßËßÑÂàô‚Äã","type":1,"pageTitle":"FlatBuffers IDL ÊîØÊåÅ","url":"/zh-CN/docs/next/compiler/flatbuffers_idl#schema-Á∫ßËßÑÂàô","content":" namespace Êò†Â∞Ñ‰∏∫ Fory package ÂëΩÂêçÁ©∫Èó¥„ÄÇinclude Êò†Â∞Ñ‰∏∫ Fory import„ÄÇtable ‰ºöË¢´ÁøªËØë‰∏∫ evolving=true„ÄÇstruct ‰ºöË¢´ÁøªËØë‰∏∫ evolving=false„ÄÇroot_type ‰ºöË¢´Ëß£ÊûêÔºå‰ΩÜ Fory ËøêË°åÊó∂/‰ª£Á†ÅÁîüÊàê‰∏ç‰ºö‰ΩøÁî®„ÄÇfile_identifier ‰∏é file_extension ‰ºöË¢´Ëß£ÊûêÔºå‰ΩÜ Fory ‰ª£Á†ÅÁîüÊàê‰∏ç‰ºö‰ΩøÁî®„ÄÇ  ","version":"dev","tagName":"h3"},{"title":"Â≠óÊÆµÁºñÂè∑‚Äã","type":1,"pageTitle":"FlatBuffers IDL ÊîØÊåÅ","url":"/zh-CN/docs/next/compiler/flatbuffers_idl#Â≠óÊÆµÁºñÂè∑","content":" FlatBuffers Â≠óÊÆµÊ≤°ÊúâÊòæÂºè field ID„ÄÇFory ‰ºöÊåâÊ∫êÁ†ÅÂ£∞ÊòéÈ°∫Â∫èÂàÜÈÖçÂ≠óÊÆµÂè∑Ôºå‰ªé 1 ÂºÄÂßã„ÄÇ  ","version":"dev","tagName":"h3"},{"title":"Ê†áÈáèÁ±ªÂûãÊò†Â∞Ñ‚Äã","type":1,"pageTitle":"FlatBuffers IDL ÊîØÊåÅ","url":"/zh-CN/docs/next/compiler/flatbuffers_idl#Ê†áÈáèÁ±ªÂûãÊò†Â∞Ñ","content":" FlatBuffers\tFory Typebyte\tint8 ubyte\tuint8 short\tint16 ushort\tuint16 int\tint32 uint\tuint32 long\tint64 ulong\tuint64 float\tfloat32 double\tfloat64 bool\tbool string\tstring  ÂêëÈáèÔºà[T]ÔºâÊò†Â∞Ñ‰∏∫ Fory ÂàóË°®Á±ªÂûã„ÄÇ  ","version":"dev","tagName":"h3"},{"title":"ËÅîÂêàÁ±ªÂûã‚Äã","type":1,"pageTitle":"FlatBuffers IDL ÊîØÊåÅ","url":"/zh-CN/docs/next/compiler/flatbuffers_idl#ËÅîÂêàÁ±ªÂûã","content":" FlatBuffers union Êò†Â∞Ñ‰∏∫ Fory union„ÄÇ  case ID ÊåâÂ£∞ÊòéÈ°∫Â∫èÂàÜÈÖçÔºå‰ªé 1 ÂºÄÂßã„ÄÇcase ÂêçÁß∞Áî±Á±ªÂûãÂêçËΩ¨Êç¢‰∏∫ snake_case Â≠óÊÆµÂêç„ÄÇ  FlatBuffers  union Payload { Note, Metric } table Container { payload: Payload; }   ËΩ¨Êç¢ÂêéÁöÑ Fory ÁªìÊûÑ  union Payload { Note note = 1; Metric metric = 2; } message Container { Payload payload = 1; }   ","version":"dev","tagName":"h3"},{"title":"ÈªòËÆ§ÂÄº‰∏éÂÖÉÊï∞ÊçÆ‚Äã","type":1,"pageTitle":"FlatBuffers IDL ÊîØÊåÅ","url":"/zh-CN/docs/next/compiler/flatbuffers_idl#ÈªòËÆ§ÂÄº‰∏éÂÖÉÊï∞ÊçÆ","content":" FlatBuffers ÈªòËÆ§ÂÄº‰ºöË¢´Ëß£ÊûêÔºå‰ΩÜ‰∏ç‰ºö‰Ωú‰∏∫ Fory ËøêË°åÊó∂ÈªòËÆ§ÂÄºÁîüÊïà„ÄÇÈùû Fory ÁöÑ metadata Â±ûÊÄß‰ºö‰Ωú‰∏∫ÈÄöÁî® option ‰øùÁïôÂú® IR ‰∏≠Ôºå‰æõ‰∏ãÊ∏∏Â∑•ÂÖ∑ÊåâÈúÄÊ∂àË¥π„ÄÇ  ","version":"dev","tagName":"h3"},{"title":"FlatBuffers ‰∏≠ÁöÑ Fory Êâ©Â±ïÂ±ûÊÄß‚Äã","type":1,"pageTitle":"FlatBuffers IDL ÊîØÊåÅ","url":"/zh-CN/docs/next/compiler/flatbuffers_idl#flatbuffers-‰∏≠ÁöÑ-fory-Êâ©Â±ïÂ±ûÊÄß","content":" FlatBuffers metadata Â±ûÊÄßÂÜôÊ≥ï‰∏∫ key:value„ÄÇÂØπ‰∫é Fory Êâ©Â±ïÈÄâÈ°πÔºåÂú® .fbs ‰∏≠‰ΩøÁî® fory_ÔºàÊàñ fory.ÔºâÂâçÁºÄÔºõËß£ÊûêÊó∂‰ºöÂéªÊéâËØ•ÂâçÁºÄ„ÄÇ  ","version":"dev","tagName":"h2"},{"title":"ÊîØÊåÅÁöÑÂ≠óÊÆµÂ±ûÊÄß‚Äã","type":1,"pageTitle":"FlatBuffers IDL ÊîØÊåÅ","url":"/zh-CN/docs/next/compiler/flatbuffers_idl#ÊîØÊåÅÁöÑÂ≠óÊÆµÂ±ûÊÄß","content":" FlatBuffers Attribute\tÂú® Fory ‰∏≠ÁöÑÊïàÊûúfory_ref:true\t‰∏∫Â≠óÊÆµÂêØÁî®ÂºïÁî®Ë∑üË∏™ fory_nullable:true\tÂ∞ÜÂ≠óÊÆµÊ†áËÆ∞‰∏∫ optional/nullable fory_weak_ref:true\tÂêØÁî®Âº±ÂºïÁî®ËØ≠‰πâÔºåÂπ∂ÈöêÂê´ÂºÄÂêØ ref fory_thread_safe_pointer:false\tÂØπ ref Â≠óÊÆµÈÄâÊã©ÈùûÁ∫øÁ®ãÂÆâÂÖ®ÊåáÈíàÁ±ªÂûã  ËØ≠‰πâËØ¥ÊòéÔºö  fory_weak_ref:true ÈöêÂê´ ref„ÄÇfory_thread_safe_pointer ‰ªÖÂú®Â≠óÊÆµÂêØÁî® ref Ë∑üË∏™Êó∂ÁîüÊïà„ÄÇÂØπÂàóË°®Â≠óÊÆµÔºåfory_ref:true ‰ΩúÁî®‰∫éÂàóË°®ÂÖÉÁ¥†„ÄÇ  Á§∫‰æãÔºö  table Node { parent: Node (fory_weak_ref: true); children: [Node] (fory_ref: true); cached: Node (fory_ref: true, fory_thread_safe_pointer: false); }   ","version":"dev","tagName":"h3"},{"title":"ÁîüÊàê‰ª£Á†ÅÂ∑ÆÂºÇ‚Äã","type":1,"pageTitle":"FlatBuffers IDL ÊîØÊåÅ","url":"/zh-CN/docs/next/compiler/flatbuffers_idl#ÁîüÊàê‰ª£Á†ÅÂ∑ÆÂºÇ","content":" Âç≥‰ΩøÁî® .fbs ‰Ωú‰∏∫ Fory ËæìÂÖ•ÔºåÁîüÊàêÁöÑ‰æùÁÑ∂ÊòØÊ†áÂáÜ Fory ‰ª£Á†ÅÔºåËÄå‰∏çÊòØ FlatBuffers ÁöÑ ByteBuffer È£éÊ†º API„ÄÇ  JavaÔºöÂ∏¶ Fory ÂÖÉÊï∞ÊçÆÁöÑ POJO/recordPythonÔºödataclass ‰∏éÊ≥®ÂÜåËæÖÂä©‰ª£Á†ÅGo/Rust/C++ÔºöÂéüÁîüÁªìÊûÑ‰Ωì‰∏é Fory ÂÖÉÊï∞ÊçÆ  ÊúÄÁªàÂ∫èÂàóÂåñÊ†ºÂºèÊòØ Fory ‰∫åËøõÂà∂ÂçèËÆÆÔºåËÄå‰∏çÊòØ FlatBuffers Á∫øÊ†ºÂºè„ÄÇ  ","version":"dev","tagName":"h2"},{"title":"Áî®Ê≥ï‚Äã","type":1,"pageTitle":"FlatBuffers IDL ÊîØÊåÅ","url":"/zh-CN/docs/next/compiler/flatbuffers_idl#Áî®Ê≥ï","content":" Áõ¥Êé•ÁºñËØë FlatBuffers schemaÔºö  foryc schema.fbs --lang java,python --output ./generated   ËæìÂá∫ËΩ¨Êç¢ÂêéÁöÑ Fory schema ËØ≠Ê≥ï‰ª•‰æøË∞ÉËØïÔºö  foryc schema.fbs --emit-fdl --emit-fdl-path ./translated   ","version":"dev","tagName":"h2"},{"title":"ËøÅÁßªÊ≥®ÊÑè‰∫ãÈ°π‚Äã","type":1,"pageTitle":"FlatBuffers IDL ÊîØÊåÅ","url":"/zh-CN/docs/next/compiler/flatbuffers_idl#ËøÅÁßªÊ≥®ÊÑè‰∫ãÈ°π","content":" ‰øùÊåÅÁé∞Êúâ namespace Á®≥ÂÆöÔºå‰ª•‰øùËØÅÁ±ªÂûãÊ≥®ÂÜåÁ®≥ÂÆö„ÄÇÊ£ÄÊü•‰æùËµñ FlatBuffers Â≠óÈù¢ÈáèÈªòËÆ§ÂÄºÁöÑÂ≠óÊÆµÔºåÂπ∂Âú®‰∏öÂä°‰ª£Á†Å‰∏≠Ë°•ÂÖÖÊòæÂºèÈªòËÆ§ÂÄº„ÄÇÂú®ÈúÄË¶ÅÂØπË±°ÂõæËØ≠‰πâÁöÑÂ≠óÊÆµ‰∏äÊ∑ªÂä† fory_ref/fory_weak_ref„ÄÇÊõøÊç¢Áé∞ÊúâÂ∫èÂàóÂåñË∑ØÂæÑÂâçÔºåÂÖàÁî® roundtrip ÊµãËØïÈ™åËØÅÁîüÊàêÊ®°ÂûãË°å‰∏∫„ÄÇ  ","version":"dev","tagName":"h2"},{"title":"ÊÄªÁªì‚Äã","type":1,"pageTitle":"FlatBuffers IDL ÊîØÊåÅ","url":"/zh-CN/docs/next/compiler/flatbuffers_idl#ÊÄªÁªì","content":" FlatBuffers ËæìÂÖ•Ê®°ÂºèÂèØËÆ©‰Ω†Â§çÁî®Áé∞Êúâ .fbs schemaÔºåÂêåÊó∂ËøÅÁßªÂà∞ Fory ËøêË°åÊó∂‰∏é‰ª£Á†ÅÁîüÊàêÊ®°Âûã„ÄÇÂÆÉÈÄÇÂêàÊ∏êËøõÂºèËøÅÁßªÂú∫ÊôØÔºöÊó¢‰øùÁïôÊó¢Êúâ schema ÊäïÂÖ•ÔºåÂèàËÉΩÈááÁî® Fory ÂéüÁîüÂØπË±° API„ÄÇ ","version":"dev","tagName":"h2"},{"title":"Protobuf IDL ÊîØÊåÅ","type":0,"sectionRef":"#","url":"/zh-CN/docs/next/compiler/protobuf_idl_support","content":"","keywords":"","version":"dev"},{"title":"Êú¨È°µÂÜÖÂÆπ‚Äã","type":1,"pageTitle":"Protobuf IDL ÊîØÊåÅ","url":"/zh-CN/docs/next/compiler/protobuf_idl_support#Êú¨È°µÂÜÖÂÆπ","content":" Â¶Ç‰ΩïÂú®ÂÖ∑‰ΩìÂú∫ÊôØ‰∏ãÈÄâÊã© protobuf Êàñ ForyËøÅÁßªÊó∂ÈúÄË¶ÅÂÖ≥Ê≥®ÁöÑËØ≠Ê≥ï‰∏éËØ≠‰πâÂ∑ÆÂºÇ.proto Êñá‰ª∂‰∏≠ÊîØÊåÅÁöÑ Fory Êâ©Â±ïÈÄâÈ°π‰ªé protobuf ËøÅÁßªÂà∞ Fory ÁöÑÂÆûË∑µË∑ØÂæÑ  ","version":"dev","tagName":"h2"},{"title":"Âø´ÈÄüÂÜ≥Á≠ñÊåáÂçó‚Äã","type":1,"pageTitle":"Protobuf IDL ÊîØÊåÅ","url":"/zh-CN/docs/next/compiler/protobuf_idl_support#Âø´ÈÄüÂÜ≥Á≠ñÊåáÂçó","content":" Âú∫ÊôØ\tÂª∫ËÆÆÊ†ºÂºè‰∏ªË¶ÅÊûÑÂª∫ gRPC APIÔºå‰æùËµñ protobuf Â∑•ÂÖ∑Èìæ\tProtocol Buffers ÈúÄË¶ÅÊûÅËá¥ÂØπË±°ÂõæÊÄßËÉΩ‰∏éÂºïÁî®Ë∑üË∏™\tFory ÈúÄË¶ÅÂú®Â∫èÂàóÂåñÊï∞ÊçÆ‰∏≠Ë°®ËææÂæ™ÁéØ/ÂÖ±‰∫´ÂºïÁî®\tFory ÈúÄË¶ÅÂº∫ unknown-field ËØ≠‰πâ‰øùËØÅÁ∫øÊ†ºÂºèÂÖºÂÆπ\tProtocol Buffers Â∏åÊúõÁõ¥Êé•‰ΩøÁî®ÂéüÁîü struct/classÔºåËÄåÈùû protobuf ÂåÖË£ÖÁ±ªÂûã\tFory  ","version":"dev","tagName":"h2"},{"title":"Protobuf ‰∏é Fory ÂØπÊØî‚Äã","type":1,"pageTitle":"Protobuf IDL ÊîØÊåÅ","url":"/zh-CN/docs/next/compiler/protobuf_idl_support#protobuf-‰∏é-fory-ÂØπÊØî","content":" Áª¥Â∫¶\tProtocol Buffers\tFory‰∏ªË¶ÅÁõÆÊ†á\tRPC/Ê∂àÊÅØÂ•ëÁ∫¶\tÈ´òÊÄßËÉΩÂØπË±°Â∫èÂàóÂåñ ÁºñÁ†ÅÊ®°Âûã\tTag-Length-Value\tFory ‰∫åËøõÂà∂ÂçèËÆÆ ÂºïÁî®Ë∑üË∏™\tÈùûÂÜÖÂª∫\t‰∏ÄÁ≠âÊîØÊåÅÔºàrefÔºâ Âæ™ÁéØÂºïÁî®\t‰∏çÊîØÊåÅ\tÊîØÊåÅ Êú™Áü•Â≠óÊÆµ\t‰øùÁïô\t‰∏ç‰øùÁïô ÁîüÊàêÁ±ªÂûã\tprotobuf ‰∏ìÁî®Ê®°ÂûãÁ±ªÂûã\tËØ≠Ë®ÄÂéüÁîüÊûÑÈÄ† gRPC ÁîüÊÄÅ\tÂéüÁîüÊàêÁÜü\tÊåÅÁª≠Âª∫ËÆæ‰∏≠ÔºàÊ¥ªË∑ÉÂºÄÂèëÔºâ  Fory ÁöÑ gRPC ÊîØÊåÅ‰ªçÂú®ÊåÅÁª≠ÂºÄÂèë‰∏≠„ÄÇÂΩìÂâçÁîü‰∫ßÁ∫ß gRPC Â∑•‰ΩúÊµÅÈáåÔºåprotobuf ‰ªçÊòØÊõ¥ÊàêÁÜüÁöÑÈªòËÆ§ÈÄâÊã©„ÄÇ  ","version":"dev","tagName":"h2"},{"title":"‰∏∫‰ªÄ‰πà‰ΩøÁî® Apache Fory‚Äã","type":1,"pageTitle":"Protobuf IDL ÊîØÊåÅ","url":"/zh-CN/docs/next/compiler/protobuf_idl_support#‰∏∫‰ªÄ‰πà‰ΩøÁî®-apache-fory","content":" ‰ª£Á†ÅÊõ¥Ë¥¥ËøëËØ≠Ë®Ä‰π†ÊÉØÔºöFory IDL ÁîüÊàêÁöÑÁ±ªÂíåÁªìÊûÑ‰ΩìÂèØÁõ¥Êé•‰Ωú‰∏∫‰∏öÂä°È¢ÜÂüüÂØπË±°‰ΩøÁî®„ÄÇÂ∫èÂàóÂåñÊÄßËÉΩÊõ¥È´òÔºöÂú® Fory Âü∫ÂáÜ‰∏≠ÔºåFory Âú®ÂØπË±°Â∫èÂàóÂåñÂú∫ÊôØ‰∏≠ÂèØÊòæËëóÂø´‰∫é protobuf„ÄÇÂØπË±°ÂõæË°®ËææÊõ¥Ëá™ÁÑ∂ÔºöÂÖ±‰∫´ÂºïÁî®ÂíåÂæ™ÁéØÂºïÁî®ÊòØÂÜÖÂª∫ËÉΩÂäõÔºåÊó†ÈúÄÈÄöËøá‰∏öÂä°Â±Ç ID ÂÖ≥ËÅîÁªïËøá„ÄÇ  ÊÄßËÉΩÁªÜËäÇËØ∑ÂèÇËßÅ ÊÄßËÉΩÂèÇËÄÉ„ÄÇ  ","version":"dev","tagName":"h2"},{"title":"ËØ≠Ê≥ï‰∏éËØ≠‰πâÊò†Â∞Ñ‚Äã","type":1,"pageTitle":"Protobuf IDL ÊîØÊåÅ","url":"/zh-CN/docs/next/compiler/protobuf_idl_support#ËØ≠Ê≥ï‰∏éËØ≠‰πâÊò†Â∞Ñ","content":" ","version":"dev","tagName":"h2"},{"title":"Package ‰∏éÊñá‰ª∂Á∫ßÈÄâÈ°π‚Äã","type":1,"pageTitle":"Protobuf IDL ÊîØÊåÅ","url":"/zh-CN/docs/next/compiler/protobuf_idl_support#package-‰∏éÊñá‰ª∂Á∫ßÈÄâÈ°π","content":" Protocol Buffers  syntax = &quot;proto3&quot;; package example.models; option java_package = &quot;com.example.models&quot;; option go_package = &quot;example.com/models&quot;;   Fory  package example.models;   Fory ‰ΩøÁî®Áªü‰∏Ä package ÂëΩÂêçÁ©∫Èó¥ÂÅöË∑®ËØ≠Ë®ÄÊ≥®ÂÜå„ÄÇËØ≠Ë®ÄÁâπÂÆöÁöÑÂåÖË∑ØÂæÑ‰ªçÂèØÂú®‰ª£Á†ÅÁîüÊàêÈò∂ÊÆµÂçïÁã¨ÈÖçÁΩÆ„ÄÇ  ","version":"dev","tagName":"h3"},{"title":"Message ‰∏é Enum ÂÆö‰πâ‚Äã","type":1,"pageTitle":"Protobuf IDL ÊîØÊåÅ","url":"/zh-CN/docs/next/compiler/protobuf_idl_support#message-‰∏é-enum-ÂÆö‰πâ","content":" Protocol Buffers  message User { string id = 1; string name = 2; optional string email = 3; int32 age = 4; repeated string tags = 5; map&lt;string, string&gt; metadata = 6; } enum Status { STATUS_UNSPECIFIED = 0; STATUS_ACTIVE = 1; }   Fory  message User [id=101] { string id = 1; string name = 2; optional string email = 3; int32 age = 4; list&lt;string&gt; tags = 5; map&lt;string, string&gt; metadata = 6; } enum Status [id=102] { UNKNOWN = 0; ACTIVE = 1; }   ÂÖ≥ÈîÆÂ∑ÆÂºÇÔºö  Fory ÂèØÁõ¥Êé•ÂàÜÈÖçÁ®≥ÂÆöÁ±ªÂûã IDÔºà[id=...]Ôºâ„ÄÇFory ‰ΩøÁî® list&lt;T&gt;Ôºàrepeated T ‰∏∫ÂÖºÂÆπÂà´ÂêçÔºâ„ÄÇÊûö‰∏æÂëΩÂêçÊõ¥ÂÅèÂêëËØ≠Ë®Ä‰π†ÊÉØÔºåËÄåÈùû protobuf ÂâçÁºÄÈ£éÊ†º„ÄÇ  ","version":"dev","tagName":"h3"},{"title":"oneof Âà∞ union‚Äã","type":1,"pageTitle":"Protobuf IDL ÊîØÊåÅ","url":"/zh-CN/docs/next/compiler/protobuf_idl_support#oneof-Âà∞-union","content":" protobuf ÁöÑ oneof ‰ºöË¢´ÁøªËØë‰∏∫ÂµåÂ•ó Fory unionÔºåÂπ∂Â¢ûÂä†‰∏Ä‰∏™ÂèØÈÄâÂ≠óÊÆµÊåáÂêëËØ• union„ÄÇ  Protocol Buffers  message Event { oneof payload { string text = 1; int32 number = 2; } }   ËΩ¨Êç¢ÂêéÁöÑ Fory ÁªìÊûÑ  message Event { union payload { string text = 1; int32 number = 2; } optional payload payload = 1; }   ËØ¥ÊòéÔºö  union case ID Êù•Ëá™Âéü oneof Â≠óÊÆµÂè∑„ÄÇËá™Âä®ÁîüÊàêÁöÑ union ÂºïÁî®Â≠óÊÆµ‰ΩøÁî® oneof ‰∏≠ÊúÄÂ∞èÂ≠óÊÆµÂè∑„ÄÇ  ","version":"dev","tagName":"h3"},{"title":"Import ‰∏é Well-Known Types‚Äã","type":1,"pageTitle":"Protobuf IDL ÊîØÊåÅ","url":"/zh-CN/docs/next/compiler/protobuf_idl_support#import-‰∏é-well-known-types","content":" ÊîØÊåÅ protobuf import„ÄÇÂ∏∏ËßÅ well-known types ‰ºöÁõ¥Êé•Êò†Â∞ÑÔºö  google.protobuf.Timestamp -&gt; timestampgoogle.protobuf.Duration -&gt; durationgoogle.protobuf.Any -&gt; any  ","version":"dev","tagName":"h3"},{"title":"Á±ªÂûãÊò†Â∞ÑË¶ÅÁÇπ‚Äã","type":1,"pageTitle":"Protobuf IDL ÊîØÊåÅ","url":"/zh-CN/docs/next/compiler/protobuf_idl_support#Á±ªÂûãÊò†Â∞ÑË¶ÅÁÇπ","content":" Protobuf Type\tFory Êò†Â∞Ñbool\tbool int32, uint32\tÂèØÂèòÈïø 32 ‰ΩçÊï¥ÂûãÂÆ∂Êóè sint32\tzigzag 32 ‰ΩçÊï¥Âûã int64, uint64\tÂèØÂèòÈïø 64 ‰ΩçÊï¥ÂûãÂÆ∂Êóè sint64\tzigzag 64 ‰ΩçÊï¥Âûã fixed32, fixed64\tÂÆöÈïøÊó†Á¨¶Âè∑Êï¥ÂûãÂÆ∂Êóè sfixed32, sfixed64\tÂÆöÈïøÊúâÁ¨¶Âè∑Êï¥ÂûãÂÆ∂Êóè float, double\tfloat32, float64 string, bytes\tstring, bytes repeated T\tlist&lt;T&gt; map&lt;K, V&gt;\tmap&lt;K, V&gt; optional T\toptional T oneof\tunion + ÂèØÈÄâ union ÂºïÁî®Â≠óÊÆµ int64 [(fory).type = &quot;tagged_int64&quot;]\ttagged_int64 ÁºñÁ†Å uint64 [(fory).type = &quot;tagged_uint64&quot;]\ttagged_uint64 ÁºñÁ†Å  ","version":"dev","tagName":"h2"},{"title":"Fory Êâ©Â±ïÈÄâÈ°πÔºàProtobufÔºâ‚Äã","type":1,"pageTitle":"Protobuf IDL ÊîØÊåÅ","url":"/zh-CN/docs/next/compiler/protobuf_idl_support#fory-Êâ©Â±ïÈÄâÈ°πprotobuf","content":" .proto Êñá‰ª∂‰∏≠ÁöÑ Fory ‰∏ìÁî®ÈÄâÈ°π‰ΩøÁî® (fory). ÂâçÁºÄ„ÄÇ  option (fory).enable_auto_type_id = true; message TreeNode { TreeNode parent = 1 [(fory).weak_ref = true]; repeated TreeNode children = 2 [(fory).ref = true]; }   ","version":"dev","tagName":"h2"},{"title":"Êñá‰ª∂Á∫ßÈÄâÈ°π‚Äã","type":1,"pageTitle":"Protobuf IDL ÊîØÊåÅ","url":"/zh-CN/docs/next/compiler/protobuf_idl_support#Êñá‰ª∂Á∫ßÈÄâÈ°π","content":" ÈÄâÈ°π\tÁ±ªÂûã\tËØ¥Êòé(fory).use_record_for_java_message\tbool\tÂØπËØ•Êñá‰ª∂ÊâÄÊúâ message ÁîüÊàê Java record (fory).polymorphism\tbool\tÈªòËÆ§ÂºÄÂêØÂ§öÊÄÅÂ∫èÂàóÂåñÂÖÉ‰ø°ÊÅØ (fory).enable_auto_type_id\tbool\tÁº∫Â§±Êó∂Ëá™Âä®ÁîüÊàêÁ±ªÂûã IDÔºàÁºñËØëÂô®ÈªòËÆ§ trueÔºâ (fory).evolving\tbool\tmessage ÁöÑÈªòËÆ§ schema ÊºîËøõË°å‰∏∫ (fory).go_nested_type_style\tstring\tGo ÂµåÂ•óÂëΩÂêçÈ£éÊ†ºÔºöunderscoreÔºàÈªòËÆ§ÔºâÊàñ camelcase  ","version":"dev","tagName":"h3"},{"title":"Message ‰∏é Enum Á∫ßÈÄâÈ°π‚Äã","type":1,"pageTitle":"Protobuf IDL ÊîØÊåÅ","url":"/zh-CN/docs/next/compiler/protobuf_idl_support#message-‰∏é-enum-Á∫ßÈÄâÈ°π","content":" ÈÄâÈ°π\t‰ΩúÁî®ÂØπË±°\tÁ±ªÂûã\tËØ¥Êòé(fory).id\tmessage, enum\tint\tÊòæÂºèÁ±ªÂûã IDÔºàÁî®‰∫éÊ≥®ÂÜåÔºâ (fory).alias\tmessage, enum\tstring\tËá™Âä® ID ÂìàÂ∏å‰ΩøÁî®ÁöÑÂà´Âêç (fory).evolving\tmessage\tbool\tË¶ÜÁõñÊñá‰ª∂Á∫ßÊºîËøõËÆæÁΩÆ (fory).use_record_for_java\tmessage\tbool\t‰∏∫ËØ• message ÁîüÊàê Java record (fory).deprecated\tmessage, enum\tbool\tÊ†áËÆ∞Á±ªÂûã‰∏∫ÂºÉÁî® (fory).namespace\tmessage\tstring\tË¶ÜÁõñÈªòËÆ§ package ÂëΩÂêçÁ©∫Èó¥  ","version":"dev","tagName":"h3"},{"title":"Â≠óÊÆµÁ∫ßÈÄâÈ°π‚Äã","type":1,"pageTitle":"Protobuf IDL ÊîØÊåÅ","url":"/zh-CN/docs/next/compiler/protobuf_idl_support#Â≠óÊÆµÁ∫ßÈÄâÈ°π","content":" ÈÄâÈ°π\tÁ±ªÂûã\tËØ¥Êòé(fory).ref\tbool\t‰∏∫ËØ•Â≠óÊÆµÂêØÁî®ÂºïÁî®Ë∑üË∏™ (fory).nullable\tbool\tÂ∞ÜÂ≠óÊÆµËßÜ‰∏∫ÂèØÁ©∫ÔºàoptionalÔºâ (fory).weak_ref\tbool\tÁîüÊàêÂº±ÊåáÈíàËØ≠‰πâÔºàC++/Rust ‰ª£Á†ÅÁîüÊàêÔºâ (fory).thread_safe_pointer\tbool\tref Â≠óÊÆµÂú® Rust ‰∏≠ÁöÑÊåáÈíàÁ±ªÂûãÔºàArc vs RcÔºâ (fory).deprecated\tbool\tÊ†áËÆ∞Â≠óÊÆµ‰∏∫ÂºÉÁî® (fory).type\tstring\tÂü∫Á°ÄÁ±ªÂûãË¶ÜÁõñÔºåÁõÆÂâçÊîØÊåÅ tagged_int64/tagged_uint64  ÂºïÁî®Áõ∏ÂÖ≥Ë°å‰∏∫Ôºö  weak_ref = true ÈöêÂê´ÂºÄÂêØ ref Ë∑üË∏™„ÄÇÂØπ repeated Â≠óÊÆµÔºå(fory).ref = true ‰ΩúÁî®‰∫éÂàóË°®ÂÖÉÁ¥†„ÄÇÂØπ map&lt;K, V&gt; Â≠óÊÆµÔºå(fory).ref = true ‰ΩúÁî®‰∫é map value„ÄÇweak_ref ‰∏é thread_safe_pointer ÊòØ C++/Rust ‰ª£Á†ÅÁîüÊàêÊèêÁ§∫„ÄÇ  ","version":"dev","tagName":"h3"},{"title":"ÂÖ∏ÂûãÈÄâÈ°πÁªÑÂêàÁ§∫‰æã‚Äã","type":1,"pageTitle":"Protobuf IDL ÊîØÊåÅ","url":"/zh-CN/docs/next/compiler/protobuf_idl_support#ÂÖ∏ÂûãÈÄâÈ°πÁªÑÂêàÁ§∫‰æã","content":" message Graph { Node root = 1 [(fory).ref = true, (fory).thread_safe_pointer = false]; repeated Node nodes = 2 [(fory).ref = true]; map&lt;string, Node&gt; cache = 3 [(fory).ref = true]; Node parent = 4 [(fory).weak_ref = true]; }   ","version":"dev","tagName":"h3"},{"title":"ÂºïÁî®Ë∑üË∏™ vs Protobuf ID ÂÖ≥ËÅî‚Äã","type":1,"pageTitle":"Protobuf IDL ÊîØÊåÅ","url":"/zh-CN/docs/next/compiler/protobuf_idl_support#ÂºïÁî®Ë∑üË∏™-vs-protobuf-id-ÂÖ≥ËÅî","content":" protobuf Êú¨Ë∫´‰∏ç‰øùÁïôÂÖ±‰∫´/Âæ™ÁéØÂØπË±°Âõæ„ÄÇÂÄüÂä© Fory protobuf Êâ©Â±ïÔºåÂèØ‰ª•ÊòæÂºèÂêØÁî®ÂØπË±°ÂõæËØ≠‰πâ„ÄÇ  ‰∏ç‰ΩøÁî® Fory ref ÈÄâÈ°πÔºàprotobuf È£éÊ†º ID ÂÖ≥ËÅîÔºâÔºö  message TreeNode { string id = 1; string parent_id = 2; repeated string child_ids = 3; }   ‰ΩøÁî® Fory ref ÈÄâÈ°πÔºàÂØπË±°ÂõæËØ≠‰πâÔºâÔºö  message TreeNode { TreeNode parent = 1 [(fory).weak_ref = true]; repeated TreeNode children = 2 [(fory).ref = true]; }   ","version":"dev","tagName":"h2"},{"title":"ËøÅÁßªÊåáÂçóÔºöProtobuf Âà∞ Fory‚Äã","type":1,"pageTitle":"Protobuf IDL ÊîØÊåÅ","url":"/zh-CN/docs/next/compiler/protobuf_idl_support#ËøÅÁßªÊåáÂçóprotobuf-Âà∞-fory","content":" ","version":"dev","tagName":"h2"},{"title":"Á¨¨ 1 Ê≠•ÔºöËΩ¨Êç¢ schema ËØ≠Ê≥ï‚Äã","type":1,"pageTitle":"Protobuf IDL ÊîØÊåÅ","url":"/zh-CN/docs/next/compiler/protobuf_idl_support#Á¨¨-1-Ê≠•ËΩ¨Êç¢-schema-ËØ≠Ê≥ï","content":" ‰øùÊåÅ package ÂêçÁß∞Á®≥ÂÆö„ÄÇÂ∞Ü repeated T Êîπ‰∏∫ list&lt;T&gt;ÔºàÊàñ‰øùÁïô repeated Âà´ÂêçÔºâ„ÄÇÂú®ÈúÄË¶ÅÁ®≥ÂÆöÊï∞ÂÄºÊ≥®ÂÜåÁöÑ‰ΩçÁΩÆÊ∑ªÂä†ÊòæÂºè [id=...]„ÄÇ  ","version":"dev","tagName":"h3"},{"title":"Á¨¨ 2 Ê≠•ÔºöÂ§ÑÁêÜ oneof ‰∏éÁâπÊÆäÁ±ªÂûã‚Äã","type":1,"pageTitle":"Protobuf IDL ÊîØÊåÅ","url":"/zh-CN/docs/next/compiler/protobuf_idl_support#Á¨¨-2-Ê≠•Â§ÑÁêÜ-oneof-‰∏éÁâπÊÆäÁ±ªÂûã","content":" oneof -&gt; union + ÂèØÈÄâ union Â≠óÊÆµ„ÄÇÂ∞Ü protobuf well-known types Êò†Â∞ÑÂà∞ Fory Âü∫Á°ÄÁ±ªÂûãÔºàtimestamp„ÄÅduration„ÄÅanyÔºâ„ÄÇ  ","version":"dev","tagName":"h3"},{"title":"Á¨¨ 3 Ê≠•ÔºöÁî® ref ÊõøÊç¢ protobuf ÁöÑÂØπË±°ÂõæÁªïËøáÊñπÊ°à‚Äã","type":1,"pageTitle":"Protobuf IDL ÊîØÊåÅ","url":"/zh-CN/docs/next/compiler/protobuf_idl_support#Á¨¨-3-Ê≠•Áî®-ref-ÊõøÊç¢-protobuf-ÁöÑÂØπË±°ÂõæÁªïËøáÊñπÊ°à","content":" Ëã• protobuf ÈáåÈÄöËøáÊâãÂ∑• ID ÂÖ≥ËÅîË°®ËææÂØπË±°ÂõæÔºåËøÅÁßªÂà∞ Fory ÂêéÂ∫îÊîπÁî® ref ‰øÆÈ•∞Á¨¶ÔºàÂøÖË¶ÅÊó∂‰ΩøÁî® ref(weak=true)Ôºâ„ÄÇ  ","version":"dev","tagName":"h3"},{"title":"Á¨¨ 4 Ê≠•ÔºöÊõ¥Êñ∞ÊûÑÂª∫‰∏é‰ª£Á†ÅÁîüÊàê‚Äã","type":1,"pageTitle":"Protobuf IDL ÊîØÊåÅ","url":"/zh-CN/docs/next/compiler/protobuf_idl_support#Á¨¨-4-Ê≠•Êõ¥Êñ∞ÊûÑÂª∫‰∏é‰ª£Á†ÅÁîüÊàê","content":" Â∞Ü protobuf ‰ª£Á†ÅÁîüÊàêÊ≠•È™§ÊõøÊç¢‰∏∫ Fory ÁºñËØëÂô®ÈíàÂØπÁõÆÊ†áËØ≠Ë®ÄÁöÑÁîüÊàêÂëΩ‰ª§„ÄÇ  ","version":"dev","tagName":"h3"},{"title":"Á¨¨ 5 Ê≠•ÔºöÊâßË°åÂÖºÂÆπÊÄßÈ™åËØÅ‚Äã","type":1,"pageTitle":"Protobuf IDL ÊîØÊåÅ","url":"/zh-CN/docs/next/compiler/protobuf_idl_support#Á¨¨-5-Ê≠•ÊâßË°åÂÖºÂÆπÊÄßÈ™åËØÅ","content":" ÂàÜÈò∂ÊÆµËøÅÁßªÊó∂ÔºåÂèØÂπ∂Ë°å‰øùÁïô‰∏§ÁßçÊ†ºÂºèÔºåÂπ∂ÈÄöËøáÈõÜÊàêÊµãËØïÈ™åËØÅ payload Á∫ß‰∏ÄËá¥ÊÄß„ÄÇ  ","version":"dev","tagName":"h3"},{"title":"ÂÖ±Â≠òÁ≠ñÁï•‚Äã","type":1,"pageTitle":"Protobuf IDL ÊîØÊåÅ","url":"/zh-CN/docs/next/compiler/protobuf_idl_support#ÂÖ±Â≠òÁ≠ñÁï•","content":" ËøÅÁßªÊúüÈó¥ÂèØ‰ª•Âπ∂Ë°åËøêË°å protobuf ‰∏é ForyÔºö  public byte[] serialize(Object obj, Format format) { if (format == Format.PROTOBUF) { return ((MessageLite) obj).toByteArray(); } return fory.serialize(obj); }   ÂèØÂú®ÊúçÂä°ËæπÁïåËÆæÁΩÆËΩ¨Êç¢Â±ÇÔºåÂπ∂‰ºòÂÖàËøÅÁßªÂÜÖÈÉ®ÂØπË±°ÂõæËæÉÈáçÁöÑÈìæË∑Ø„ÄÇ  ","version":"dev","tagName":"h2"},{"title":"ÊÄßËÉΩÂèÇËÄÉ‚Äã","type":1,"pageTitle":"Protobuf IDL ÊîØÊåÅ","url":"/zh-CN/docs/next/compiler/protobuf_idl_support#ÊÄßËÉΩÂèÇËÄÉ","content":" Benchmarks: https://fory.apache.org/docs/introduction/benchmarkBenchmark code: https://github.com/apache/fory/tree/main/benchmarks  ","version":"dev","tagName":"h2"},{"title":"ÊÄªÁªì‚Äã","type":1,"pageTitle":"Protobuf IDL ÊîØÊåÅ","url":"/zh-CN/docs/next/compiler/protobuf_idl_support#ÊÄªÁªì","content":" ÂΩì‰∏ªË¶ÅÂÖ≥Ê≥® API Â•ëÁ∫¶‰∏é gRPC ÁîüÊÄÅÊó∂ÔºåÂª∫ËÆÆ‰ΩøÁî® protobuf„ÄÇËã•‰∏ªË¶ÅÂÖ≥Ê≥®ÂØπË±°ÂõæÊÄßËÉΩ„ÄÅÂéüÁîüÊï∞ÊçÆÊ®°Âûã‰∏éÂºïÁî®ËØ≠‰πâÔºåÂª∫ËÆÆ‰ΩøÁî® Fory„ÄÇ ","version":"dev","tagName":"h2"},{"title":"ÁºñËØëÂô®ÊåáÂçó","type":0,"sectionRef":"#","url":"/zh-CN/docs/next/compiler/compiler_guide","content":"","keywords":"","version":"dev"},{"title":"ÂÆâË£Ö‚Äã","type":1,"pageTitle":"ÁºñËØëÂô®ÊåáÂçó","url":"/zh-CN/docs/next/compiler/compiler_guide#ÂÆâË£Ö","content":" ","version":"dev","tagName":"h2"},{"title":"‰ªéÊ∫êÁ†ÅÂÆâË£Ö‚Äã","type":1,"pageTitle":"ÁºñËØëÂô®ÊåáÂçó","url":"/zh-CN/docs/next/compiler/compiler_guide#‰ªéÊ∫êÁ†ÅÂÆâË£Ö","content":" cd compiler pip install -e .   ","version":"dev","tagName":"h3"},{"title":"È™åËØÅÂÆâË£Ö‚Äã","type":1,"pageTitle":"ÁºñËØëÂô®ÊåáÂçó","url":"/zh-CN/docs/next/compiler/compiler_guide#È™åËØÅÂÆâË£Ö","content":" foryc --help   ","version":"dev","tagName":"h3"},{"title":"ÂëΩ‰ª§Ë°åÊé•Âè£‚Äã","type":1,"pageTitle":"ÁºñËØëÂô®ÊåáÂçó","url":"/zh-CN/docs/next/compiler/compiler_guide#ÂëΩ‰ª§Ë°åÊé•Âè£","content":" ","version":"dev","tagName":"h2"},{"title":"Âü∫Êú¨Áî®Ê≥ï‚Äã","type":1,"pageTitle":"ÁºñËØëÂô®ÊåáÂçó","url":"/zh-CN/docs/next/compiler/compiler_guide#Âü∫Êú¨Áî®Ê≥ï","content":" foryc [OPTIONS] FILES...   foryc --scan-generated [OPTIONS]   ","version":"dev","tagName":"h3"},{"title":"ÈÄâÈ°π‚Äã","type":1,"pageTitle":"ÁºñËØëÂô®ÊåáÂçó","url":"/zh-CN/docs/next/compiler/compiler_guide#ÈÄâÈ°π","content":" ÁºñËØëÈÄâÈ°πÔºö  ÈÄâÈ°π\tËØ¥Êòé\tÈªòËÆ§ÂÄº--lang\tÁõÆÊ†áËØ≠Ë®ÄÂàóË°®ÔºàÈÄóÂè∑ÂàÜÈöîÔºâ\tall --output, -o\tËæìÂá∫ÁõÆÂΩï\t./generated --package\tË¶ÜÁõñ Fory IDL Êñá‰ª∂‰∏≠ÁöÑ package\tÔºàÊù•Ëá™Êñá‰ª∂Ôºâ -I, --proto_path, --import_path\tÊ∑ªÂä† import ÊêúÁ¥¢Ë∑ØÂæÑÔºàÂèØÈáçÂ§çÔºâ\tÔºàÊó†Ôºâ --java_out=DST_DIR\tÂ∞Ü Java ‰ª£Á†ÅËæìÂá∫Âà∞ DST_DIR\tÔºàÊó†Ôºâ --python_out=DST_DIR\tÂ∞Ü Python ‰ª£Á†ÅËæìÂá∫Âà∞ DST_DIR\tÔºàÊó†Ôºâ --cpp_out=DST_DIR\tÂ∞Ü C++ ‰ª£Á†ÅËæìÂá∫Âà∞ DST_DIR\tÔºàÊó†Ôºâ --go_out=DST_DIR\tÂ∞Ü Go ‰ª£Á†ÅËæìÂá∫Âà∞ DST_DIR\tÔºàÊó†Ôºâ --rust_out=DST_DIR\tÂ∞Ü Rust ‰ª£Á†ÅËæìÂá∫Âà∞ DST_DIR\tÔºàÊó†Ôºâ --go_nested_type_style\tGo ÂµåÂ•óÁ±ªÂûãÂëΩÂêçÈ£éÊ†ºÔºöcamelcase Êàñ underscore\tschema/ÈªòËÆ§ÂÄº --emit-fdl\tÂØπÈùû .fdl ËæìÂÖ•ÊâìÂç∞ËΩ¨Êç¢ÂêéÁöÑ Fory IDL\tfalse --emit-fdl-path\tÂ∞ÜËΩ¨Êç¢ÂêéÁöÑ Fory IDL ÂÜôÂÖ•Êñá‰ª∂ÊàñÁõÆÂΩï\tÔºàstdoutÔºâ  Êâ´ÊèèÈÄâÈ°πÔºàÈÖçÂêà --scan-generatedÔºâÔºö  ÈÄâÈ°π\tËØ¥Êòé\tÈªòËÆ§ÂÄº--root\tÊâ´ÊèèÊ†πÁõÆÂΩï\t. --relative\t‰ª•Áõ∏ÂØπË∑ØÂæÑËæìÂá∫\tfalse --delete\tÂà†Èô§ÂåπÈÖçÂà∞ÁöÑÁîüÊàêÊñá‰ª∂\tfalse --dry-run\t‰ªÖÊâ´ÊèèËæìÂá∫Ôºå‰∏çÊâßË°åÂà†Èô§\tfalse  ","version":"dev","tagName":"h3"},{"title":"Êâ´ÊèèÁîüÊàêÊñá‰ª∂‚Äã","type":1,"pageTitle":"ÁºñËØëÂô®ÊåáÂçó","url":"/zh-CN/docs/next/compiler/compiler_guide#Êâ´ÊèèÁîüÊàêÊñá‰ª∂","content":" ‰ΩøÁî® --scan-generated ÂèØ‰ª•ÂÆö‰Ωç foryc ÁîüÊàêÁöÑÊñá‰ª∂„ÄÇÊâ´ÊèèÂô®‰ºöÈÄíÂΩíÈÅçÂéÜÁõÆÂΩïÊ†ëÔºåË∑≥Ëøá build/„ÄÅtarget/ ÂíåÈöêËóèÁõÆÂΩïÔºåÂπ∂ËæìÂá∫ÊâæÂà∞ÁöÑÊØè‰∏™ÁîüÊàêÊñá‰ª∂„ÄÇ  # Êâ´ÊèèÂΩìÂâçÁõÆÂΩï foryc --scan-generated # Êâ´ÊèèÊåáÂÆöÊ†πÁõÆÂΩï foryc --scan-generated --root ./src # ËæìÂá∫Áõ∏ÂØπË∑ØÂæÑ foryc --scan-generated --root ./src --relative # Âà†Èô§Êâ´ÊèèÂà∞ÁöÑÁîüÊàêÊñá‰ª∂ foryc --scan-generated --root ./src --delete # Dry-runÔºà‰ªÖÊâ´Êèè‰∏éËæìÂá∫Ôºâ foryc --scan-generated --root ./src --dry-run   ","version":"dev","tagName":"h3"},{"title":"Á§∫‰æã‚Äã","type":1,"pageTitle":"ÁºñËØëÂô®ÊåáÂçó","url":"/zh-CN/docs/next/compiler/compiler_guide#Á§∫‰æã","content":" ‰∏∫ÊâÄÊúâËØ≠Ë®ÄÁºñËØëÔºö  foryc schema.fdl   ‰∏∫ÊåáÂÆöËØ≠Ë®ÄÁºñËØëÔºö  foryc schema.fdl --lang java,python   ÊåáÂÆöËæìÂá∫ÁõÆÂΩïÔºö  foryc schema.fdl --output ./src/generated   Ë¶ÜÁõñ packageÔºö  foryc schema.fdl --package com.myapp.models   ÁºñËØëÂ§ö‰∏™Êñá‰ª∂Ôºö  foryc user.fdl order.fdl product.fdl --output ./generated   ‰ΩøÁî® import ÊêúÁ¥¢Ë∑ØÂæÑÔºö  # Âçï‰∏™Ë∑ØÂæÑ foryc src/main.fdl -I libs/common # Â§ö‰∏™Ë∑ØÂæÑÔºàÈáçÂ§çÂèÇÊï∞Ôºâ foryc src/main.fdl -I libs/common -I libs/types # Â§ö‰∏™Ë∑ØÂæÑÔºàÈÄóÂè∑ÂàÜÈöîÔºâ foryc src/main.fdl -I libs/common,libs/types,third_party/ # --proto_pathÔºàprotoc ÂÖºÂÆπÂà´ÂêçÔºâ foryc src/main.fdl --proto_path=libs/common # Ê∑∑ÂêàÂÜôÊ≥ï foryc src/main.fdl -I libs/common,libs/types --proto_path third_party/   ËØ≠Ë®ÄÂÆöÂêëËæìÂá∫ÁõÆÂΩïÔºàprotoc È£éÊ†ºÔºâÔºö  # ‰ªÖÁîüÊàê Java foryc schema.fdl --java_out=./src/main/java # Â§öËØ≠Ë®ÄÂàÜÂà´ËæìÂá∫Âà∞‰∏çÂêåÁõÆÂΩï foryc schema.fdl --java_out=./java/gen --python_out=./python/src --go_out=./go/gen # ÁªìÂêà import Ë∑ØÂæÑ foryc schema.fdl --java_out=./gen/java -I proto/ -I common/   ‰ΩøÁî® --{lang}_out Êó∂Ôºö  Âè™ÁîüÊàêÊòæÂºèÊåáÂÆöÁöÑËØ≠Ë®ÄÔºà‰∏ç‰ºöÁîüÊàêÂÖ®ÈÉ®ËØ≠Ë®ÄÔºâËæìÂá∫ÂÜôÂÖ•ÊåáÂÆöÁõÆÂΩïÔºàËØ≠Ë®ÄÁîüÊàêÂô®ÂèØËÉΩÁªßÁª≠ÊåâÂåÖ/Ê®°ÂùóÂàÜÂ±ÇÔºâÂÖºÂÆπ protoc È£éÊ†ºÂ∑•‰ΩúÊµÅ  Êü•Áúã proto/fbs ËæìÂÖ•ËΩ¨Êç¢ÂêéÁöÑ Fory IDLÔºö  # ËæìÂá∫Âà∞ stdout foryc schema.proto --emit-fdl # ËæìÂá∫Âà∞ÁõÆÂΩï foryc schema.fbs --emit-fdl --emit-fdl-path ./translated   ","version":"dev","tagName":"h3"},{"title":"Import Ë∑ØÂæÑËß£Êûê‚Äã","type":1,"pageTitle":"ÁºñËØëÂô®ÊåáÂçó","url":"/zh-CN/docs/next/compiler/compiler_guide#import-Ë∑ØÂæÑËß£Êûê","content":" ÁºñËØëÂê´ import ÁöÑ Fory IDL Êñá‰ª∂Êó∂ÔºåÂØºÂÖ•Êñá‰ª∂Êåâ‰ª•‰∏ãÈ°∫Â∫èÊü•ÊâæÔºö  Áõ∏ÂØπ‰∫éÂØºÂÖ•ËÄÖÊñá‰ª∂ÁõÆÂΩïÔºàÈªòËÆ§ÔºâÔºöÂßãÁªà‰ºòÂÖàÊü•ÊâæÔºåÊó†ÈúÄ -IÊåâÈ°∫Â∫èÈÅçÂéÜÊØè‰∏™ -I Ë∑ØÂæÑ  ÂêåÁõÆÂΩï import ÂèØÁõ¥Êé•ÁîüÊïàÔºö  // main.fdl import &quot;common.fdl&quot;; // Ëã• common.fdl Âú®ÂêåÁõÆÂΩïÔºåÂ∞ÜËá™Âä®ÊâæÂà∞   # ÂêåÁõÆÂΩïÂØºÂÖ•Êó†ÈúÄ -I foryc main.fdl   Á§∫‰æãÁõÆÂΩïÁªìÊûÑÔºö  project/ ‚îú‚îÄ‚îÄ src/ ‚îÇ ‚îî‚îÄ‚îÄ main.fdl # import &quot;common.fdl&quot;; ‚îî‚îÄ‚îÄ libs/ ‚îî‚îÄ‚îÄ common.fdl   ‰∏çÂä† -IÔºàÂ§±Ë¥•ÔºâÔºö  $ foryc src/main.fdl Import error: Import not found: common.fdl Searched in: /project/src   Âä† -IÔºàÊàêÂäüÔºâÔºö  $ foryc src/main.fdl -I libs/ Compiling src/main.fdl... Resolved 1 import(s)   ","version":"dev","tagName":"h2"},{"title":"ÊîØÊåÅËØ≠Ë®Ä‚Äã","type":1,"pageTitle":"ÁºñËØëÂô®ÊåáÂçó","url":"/zh-CN/docs/next/compiler/compiler_guide#ÊîØÊåÅËØ≠Ë®Ä","content":" ËØ≠Ë®Ä\tÊ†áËÆ∞\tËæìÂá∫ÂêéÁºÄ\tËØ¥ÊòéJava\tjava\t.java\tÂ∏¶ Fory Ê≥®Ëß£ÁöÑ POJO Python\tpython\t.py\tÂ∏¶Á±ªÂûãÊèêÁ§∫ÁöÑ dataclass Go\tgo\t.go\tÂ∏¶ struct tag ÁöÑÁªìÊûÑ‰Ωì Rust\trust\t.rs\tÂ∏¶ derive ÂÆèÁöÑÁªìÊûÑ‰Ωì C++\tcpp\t.h\tÂ∏¶ FORY ÂÆèÁöÑÁªìÊûÑ‰Ωì  ","version":"dev","tagName":"h2"},{"title":"ËæìÂá∫ÁªìÊûÑ‚Äã","type":1,"pageTitle":"ÁºñËØëÂô®ÊåáÂçó","url":"/zh-CN/docs/next/compiler/compiler_guide#ËæìÂá∫ÁªìÊûÑ","content":" ","version":"dev","tagName":"h2"},{"title":"Java‚Äã","type":1,"pageTitle":"ÁºñËØëÂô®ÊåáÂçó","url":"/zh-CN/docs/next/compiler/compiler_guide#java","content":" generated/ ‚îî‚îÄ‚îÄ java/ ‚îî‚îÄ‚îÄ com/ ‚îî‚îÄ‚îÄ example/ ‚îú‚îÄ‚îÄ User.java ‚îú‚îÄ‚îÄ Order.java ‚îú‚îÄ‚îÄ Status.java ‚îî‚îÄ‚îÄ ExampleForyRegistration.java   ÊØè‰∏™Á±ªÂûãÔºàenum/messageÔºâÂçïÁã¨‰∏Ä‰∏™Êñá‰ª∂ÂåÖË∑ØÂæÑ‰∏é Fory IDL package ‰∏ÄËá¥‰ºöÁîüÊàêÊ≥®ÂÜåËæÖÂä©Á±ª  ","version":"dev","tagName":"h3"},{"title":"Python‚Äã","type":1,"pageTitle":"ÁºñËØëÂô®ÊåáÂçó","url":"/zh-CN/docs/next/compiler/compiler_guide#python","content":" generated/ ‚îî‚îÄ‚îÄ python/ ‚îî‚îÄ‚îÄ example.py   ÊâÄÊúâÁ±ªÂûã‰Ωç‰∫éÂçïÊ®°ÂùóÊ®°ÂùóÂêçÁî± package Ê¥æÁîüÂåÖÂê´Ê≥®ÂÜåÂáΩÊï∞  ","version":"dev","tagName":"h3"},{"title":"Go‚Äã","type":1,"pageTitle":"ÁºñËØëÂô®ÊåáÂçó","url":"/zh-CN/docs/next/compiler/compiler_guide#go","content":" generated/ ‚îî‚îÄ‚îÄ go/ ‚îî‚îÄ‚îÄ example/ ‚îî‚îÄ‚îÄ example.go   ÊâÄÊúâÁ±ªÂûãÂú®ÂçïÊñá‰ª∂‰∏≠ÁõÆÂΩïÂêç‰∏éÂåÖÂêçÊù•Ëá™ go_package Êàñ Fory IDL packageÂåÖÂê´Ê≥®ÂÜåÂáΩÊï∞  ","version":"dev","tagName":"h3"},{"title":"Rust‚Äã","type":1,"pageTitle":"ÁºñËØëÂô®ÊåáÂçó","url":"/zh-CN/docs/next/compiler/compiler_guide#rust","content":" generated/ ‚îî‚îÄ‚îÄ rust/ ‚îî‚îÄ‚îÄ example.rs   ÊâÄÊúâÁ±ªÂûã‰Ωç‰∫éÂçïÊ®°ÂùóÊ®°ÂùóÂêçÁî± package Ê¥æÁîüÂåÖÂê´Ê≥®ÂÜåÂáΩÊï∞  ","version":"dev","tagName":"h3"},{"title":"C++‚Äã","type":1,"pageTitle":"ÁºñËØëÂô®ÊåáÂçó","url":"/zh-CN/docs/next/compiler/compiler_guide#c","content":" generated/ ‚îî‚îÄ‚îÄ cpp/ ‚îî‚îÄ‚îÄ example.h   ÂçïÂ§¥Êñá‰ª∂ËæìÂá∫ÂëΩÂêçÁ©∫Èó¥‰∏é package ÂØπÈΩêÔºàÁÇπÂè∑ËΩ¨Êç¢‰∏∫ ::ÔºâËá™Âä®ÂåÖÂê´ header guard ‰∏éÂâçÂêëÂ£∞Êòé  ","version":"dev","tagName":"h3"},{"title":"ÊûÑÂª∫Á≥ªÁªüÈõÜÊàê‚Äã","type":1,"pageTitle":"ÁºñËØëÂô®ÊåáÂçó","url":"/zh-CN/docs/next/compiler/compiler_guide#ÊûÑÂª∫Á≥ªÁªüÈõÜÊàê","content":" ","version":"dev","tagName":"h2"},{"title":"Maven (Java)‚Äã","type":1,"pageTitle":"ÁºñËØëÂô®ÊåáÂçó","url":"/zh-CN/docs/next/compiler/compiler_guide#maven-java","content":" Âú® pom.xml ‰∏≠Ê∑ªÂä†Ôºö  &lt;build&gt; &lt;plugins&gt; &lt;plugin&gt; &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt; &lt;artifactId&gt;exec-maven-plugin&lt;/artifactId&gt; &lt;version&gt;3.1.0&lt;/version&gt; &lt;executions&gt; &lt;execution&gt; &lt;id&gt;generate-fory-types&lt;/id&gt; &lt;phase&gt;generate-sources&lt;/phase&gt; &lt;goals&gt; &lt;goal&gt;exec&lt;/goal&gt; &lt;/goals&gt; &lt;configuration&gt; &lt;executable&gt;foryc&lt;/executable&gt; &lt;arguments&gt; &lt;argument&gt;${project.basedir}/src/main/fdl/schema.fdl&lt;/argument&gt; &lt;argument&gt;--java_out&lt;/argument&gt; &lt;argument&gt;${project.build.directory}/generated-sources/fory&lt;/argument&gt; &lt;/arguments&gt; &lt;/configuration&gt; &lt;/execution&gt; &lt;/executions&gt; &lt;/plugin&gt; &lt;/plugins&gt; &lt;/build&gt;   Ê∑ªÂä†ÁîüÊàêÊ∫êÁ†ÅÁõÆÂΩïÔºö  &lt;build&gt; &lt;plugins&gt; &lt;plugin&gt; &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt; &lt;artifactId&gt;build-helper-maven-plugin&lt;/artifactId&gt; &lt;version&gt;3.4.0&lt;/version&gt; &lt;executions&gt; &lt;execution&gt; &lt;phase&gt;generate-sources&lt;/phase&gt; &lt;goals&gt; &lt;goal&gt;add-source&lt;/goal&gt; &lt;/goals&gt; &lt;configuration&gt; &lt;sources&gt; &lt;source&gt;${project.build.directory}/generated-sources/fory&lt;/source&gt; &lt;/sources&gt; &lt;/configuration&gt; &lt;/execution&gt; &lt;/executions&gt; &lt;/plugin&gt; &lt;/plugins&gt; &lt;/build&gt;   ","version":"dev","tagName":"h3"},{"title":"Gradle (Java/Kotlin)‚Äã","type":1,"pageTitle":"ÁºñËØëÂô®ÊåáÂçó","url":"/zh-CN/docs/next/compiler/compiler_guide#gradle-javakotlin","content":" Âú® build.gradle ‰∏≠Ê∑ªÂä†Ôºö  task generateForyTypes(type: Exec) { commandLine 'foryc', &quot;${projectDir}/src/main/fdl/schema.fdl&quot;, '--java_out', &quot;${buildDir}/generated/sources/fory&quot; } compileJava.dependsOn generateForyTypes sourceSets { main { java { srcDir &quot;${buildDir}/generated/sources/fory&quot; } } }   ","version":"dev","tagName":"h3"},{"title":"Python (setuptools)‚Äã","type":1,"pageTitle":"ÁºñËØëÂô®ÊåáÂçó","url":"/zh-CN/docs/next/compiler/compiler_guide#python-setuptools","content":" Âú® setup.py Êàñ pyproject.toml ‰∏≠Âä†ÂÖ•ÁîüÊàêÊ≠•È™§Ôºö  # setup.py from setuptools import setup from setuptools.command.build_py import build_py import subprocess class BuildWithForyIdl(build_py): def run(self): subprocess.run([ 'foryc', 'schema.fdl', '--python_out', 'src/generated' ], check=True) super().run() setup( cmdclass={'build_py': BuildWithForyIdl}, # ... )   ","version":"dev","tagName":"h3"},{"title":"Go (go generate)‚Äã","type":1,"pageTitle":"ÁºñËØëÂô®ÊåáÂçó","url":"/zh-CN/docs/next/compiler/compiler_guide#go-go-generate","content":" Âú® Go Êñá‰ª∂‰∏≠Ê∑ªÂä†Ôºö  //go:generate foryc ../schema.fdl --lang go --output . package models   ÊâßË°åÔºö  go generate ./...   ","version":"dev","tagName":"h3"},{"title":"Rust (build.rs)‚Äã","type":1,"pageTitle":"ÁºñËØëÂô®ÊåáÂçó","url":"/zh-CN/docs/next/compiler/compiler_guide#rust-buildrs","content":" Âú® build.rs ‰∏≠Ê∑ªÂä†Ôºö  use std::process::Command; fn main() { println!(&quot;cargo:rerun-if-changed=schema.fdl&quot;); let status = Command::new(&quot;foryc&quot;) .args(&amp;[&quot;schema.fdl&quot;, &quot;--rust_out&quot;, &quot;src/generated&quot;]) .status() .expect(&quot;Failed to run foryc&quot;); if !status.success() { panic!(&quot;Fory IDL compilation failed&quot;); } }   ","version":"dev","tagName":"h3"},{"title":"CMake (C++)‚Äã","type":1,"pageTitle":"ÁºñËØëÂô®ÊåáÂçó","url":"/zh-CN/docs/next/compiler/compiler_guide#cmake-c","content":" Âú® CMakeLists.txt ‰∏≠Ê∑ªÂä†Ôºö  find_program(FORY_COMPILER foryc) add_custom_command( OUTPUT ${CMAKE_CURRENT_SOURCE_DIR}/generated/example.h COMMAND ${FORY_COMPILER} ${CMAKE_CURRENT_SOURCE_DIR}/schema.fdl --cpp_out ${CMAKE_CURRENT_SOURCE_DIR}/generated DEPENDS ${CMAKE_CURRENT_SOURCE_DIR}/schema.fdl COMMENT &quot;Generating Fory IDL types&quot; ) add_custom_target(generate_fory_idl DEPENDS ${CMAKE_CURRENT_SOURCE_DIR}/generated/example.h) add_library(mylib ...) add_dependencies(mylib generate_fory_idl) target_include_directories(mylib PRIVATE ${CMAKE_CURRENT_SOURCE_DIR}/generated)   ","version":"dev","tagName":"h3"},{"title":"Bazel‚Äã","type":1,"pageTitle":"ÁºñËØëÂô®ÊåáÂçó","url":"/zh-CN/docs/next/compiler/compiler_guide#bazel","content":" Âú® BUILD ‰∏≠Ê∑ªÂä†ËßÑÂàôÔºö  genrule( name = &quot;generate_fdl&quot;, srcs = [&quot;schema.fdl&quot;], outs = [&quot;generated/example.h&quot;], cmd = &quot;$(location //:fory_compiler) $(SRCS) --cpp_out $(RULEDIR)/generated&quot;, tools = [&quot;//:fory_compiler&quot;], ) cc_library( name = &quot;models&quot;, hdrs = [&quot;:generate_fdl&quot;], # ... )   ","version":"dev","tagName":"h3"},{"title":"ÈîôËØØÂ§ÑÁêÜ‚Äã","type":1,"pageTitle":"ÁºñËØëÂô®ÊåáÂçó","url":"/zh-CN/docs/next/compiler/compiler_guide#ÈîôËØØÂ§ÑÁêÜ","content":" ","version":"dev","tagName":"h2"},{"title":"ËØ≠Ê≥ïÈîôËØØ‚Äã","type":1,"pageTitle":"ÁºñËØëÂô®ÊåáÂçó","url":"/zh-CN/docs/next/compiler/compiler_guide#ËØ≠Ê≥ïÈîôËØØ","content":" Error: Line 5, Column 12: Expected ';' after field declaration   ‰øÆÂ§çÊñπÂºèÔºöÊ£ÄÊü•ÂØπÂ∫îË°åÊòØÂê¶Áº∫Â∞ëÂàÜÂè∑ÊàñÂ≠òÂú®ËØ≠Ê≥ïÈóÆÈ¢ò„ÄÇ  ","version":"dev","tagName":"h3"},{"title":"Á±ªÂûãÂêçÈáçÂ§ç‚Äã","type":1,"pageTitle":"ÁºñËØëÂô®ÊåáÂçó","url":"/zh-CN/docs/next/compiler/compiler_guide#Á±ªÂûãÂêçÈáçÂ§ç","content":" Error: Duplicate type name: User   ‰øÆÂ§çÊñπÂºèÔºöÁ°Æ‰øùÂêå‰∏ÄÊñá‰ª∂ÂÜÖÊØè‰∏™ enum/message ÂêçÁß∞ÂîØ‰∏Ä„ÄÇ  ","version":"dev","tagName":"h3"},{"title":"Á±ªÂûã ID ÈáçÂ§ç‚Äã","type":1,"pageTitle":"ÁºñËØëÂô®ÊåáÂçó","url":"/zh-CN/docs/next/compiler/compiler_guide#Á±ªÂûã-id-ÈáçÂ§ç","content":" Error: Duplicate type ID 100: User and Order   ‰øÆÂ§çÊñπÂºèÔºö‰∏∫ÊØè‰∏™Á±ªÂûãÂàÜÈÖçÂîØ‰∏Ä ID„ÄÇ  ","version":"dev","tagName":"h3"},{"title":"Êú™Áü•Á±ªÂûãÂºïÁî®‚Äã","type":1,"pageTitle":"ÁºñËØëÂô®ÊåáÂçó","url":"/zh-CN/docs/next/compiler/compiler_guide#Êú™Áü•Á±ªÂûãÂºïÁî®","content":" Error: Unknown type 'Address' in Customer.address   ‰øÆÂ§çÊñπÂºèÔºöÂÖàÂÆö‰πâË¢´ÂºïÁî®Á±ªÂûãÔºåÊàñÊ£ÄÊü•Á±ªÂûãÂêçÊãºÂÜô„ÄÇ  ","version":"dev","tagName":"h3"},{"title":"Â≠óÊÆµÂè∑ÈáçÂ§ç‚Äã","type":1,"pageTitle":"ÁºñËØëÂô®ÊåáÂçó","url":"/zh-CN/docs/next/compiler/compiler_guide#Â≠óÊÆµÂè∑ÈáçÂ§ç","content":" Error: Duplicate field number 1 in User: name and id   ‰øÆÂ§çÊñπÂºèÔºöÁ°Æ‰øùÂêå‰∏Ä message ÂÜÖÂ≠óÊÆµÂè∑ÂîØ‰∏Ä„ÄÇ  ","version":"dev","tagName":"h3"},{"title":"ÊúÄ‰Ω≥ÂÆûË∑µ‚Äã","type":1,"pageTitle":"ÁºñËØëÂô®ÊåáÂçó","url":"/zh-CN/docs/next/compiler/compiler_guide#ÊúÄ‰Ω≥ÂÆûË∑µ","content":" ","version":"dev","tagName":"h2"},{"title":"È°πÁõÆÁªìÊûÑ‚Äã","type":1,"pageTitle":"ÁºñËØëÂô®ÊåáÂçó","url":"/zh-CN/docs/next/compiler/compiler_guide#È°πÁõÆÁªìÊûÑ","content":" project/ ‚îú‚îÄ‚îÄ fdl/ ‚îÇ ‚îú‚îÄ‚îÄ common.fdl # Shared types ‚îÇ ‚îú‚îÄ‚îÄ user.fdl # User domain ‚îÇ ‚îî‚îÄ‚îÄ order.fdl # Order domain ‚îú‚îÄ‚îÄ src/ ‚îÇ ‚îî‚îÄ‚îÄ generated/ # Generated code (git-ignored) ‚îî‚îÄ‚îÄ build.gradle   ","version":"dev","tagName":"h3"},{"title":"ÁâàÊú¨ÊéßÂà∂‚Äã","type":1,"pageTitle":"ÁºñËØëÂô®ÊåáÂçó","url":"/zh-CN/docs/next/compiler/compiler_guide#ÁâàÊú¨ÊéßÂà∂","content":" Á∫≥ÂÖ•ÁâàÊú¨ÊéßÂà∂ÔºöFory IDL schema Êñá‰ª∂ÂøΩÁï•ÁîüÊàê‰ª£Á†ÅÔºöÂèØÂú®ÊûÑÂª∫Êó∂ÂÜçÁîüÊàê  Âú® .gitignore ‰∏≠Âä†ÂÖ•Ôºö  # Generated Fory IDL code src/generated/ generated/   ","version":"dev","tagName":"h3"},{"title":"CI/CD ÈõÜÊàê‚Äã","type":1,"pageTitle":"ÁºñËØëÂô®ÊåáÂçó","url":"/zh-CN/docs/next/compiler/compiler_guide#cicd-ÈõÜÊàê","content":" Âú®ÊûÑÂª∫ÊµÅÁ®ã‰∏≠ÂßãÁªàÈáçÊñ∞ÁîüÊàê‰ª£Á†ÅÔºö  # GitHub Actions Á§∫‰æã steps: - name: Install Fory IDL Compiler run: pip install ./compiler - name: Generate Types run: foryc fdl/*.fdl --output src/generated - name: Build run: ./gradlew build   ","version":"dev","tagName":"h3"},{"title":"Schema ÊºîËøõ‚Äã","type":1,"pageTitle":"ÁºñËØëÂô®ÊåáÂçó","url":"/zh-CN/docs/next/compiler/compiler_guide#schema-ÊºîËøõ","content":" ‰øÆÊîπ schema Êó∂Âª∫ËÆÆÈÅµÂæ™Ôºö  ‰∏çË¶ÅÂ§çÁî®Â≠óÊÆµÂè∑ÔºöÂà†Èô§Â≠óÊÆµÂêéÂ∫î‰øùÁïô/È¢ÑÁïô‰∏çË¶ÅÊîπÂä®Á±ªÂûã IDÔºöÁ±ªÂûã ID Â±û‰∫é‰∫åËøõÂà∂ÂçèËÆÆÁöÑ‰∏ÄÈÉ®ÂàÜÊñ∞Â¢ûÂ≠óÊÆµ‰ΩøÁî®Êñ∞Â≠óÊÆµÂè∑‰ºòÂÖà‰ΩøÁî® optionalÔºö‰øùÊåÅÂêëÂêéÂÖºÂÆπ  message User [id=100] { string id = 1; string name = 2; // Field 3 was removed, don't reuse optional string email = 4; // New field }   ","version":"dev","tagName":"h3"},{"title":"ÊïÖÈöúÊéíÊü•‚Äã","type":1,"pageTitle":"ÁºñËØëÂô®ÊåáÂçó","url":"/zh-CN/docs/next/compiler/compiler_guide#ÊïÖÈöúÊéíÊü•","content":" ","version":"dev","tagName":"h2"},{"title":"Command Not Found‚Äã","type":1,"pageTitle":"ÁºñËØëÂô®ÊåáÂçó","url":"/zh-CN/docs/next/compiler/compiler_guide#command-not-found","content":" foryc: command not found   Ëß£ÂÜ≥Ôºö Á°ÆËÆ§ÁºñËØëÂô®Â∑≤ÂÆâË£Ö‰∏îÂú® PATH ‰∏≠Ôºö  pip install -e ./compiler # Or add to PATH export PATH=$PATH:~/.local/bin   ","version":"dev","tagName":"h3"},{"title":"Permission Denied‚Äã","type":1,"pageTitle":"ÁºñËØëÂô®ÊåáÂçó","url":"/zh-CN/docs/next/compiler/compiler_guide#permission-denied","content":" Permission denied: ./generated   Ëß£ÂÜ≥Ôºö Á°Æ‰øùËæìÂá∫ÁõÆÂΩïÂÖ∑Â§áÂÜôÊùÉÈôêÔºö  chmod -R u+w ./generated   ","version":"dev","tagName":"h3"},{"title":"ÁîüÊàê‰ª£Á†Å import ÈîôËØØ‚Äã","type":1,"pageTitle":"ÁºñËØëÂô®ÊåáÂçó","url":"/zh-CN/docs/next/compiler/compiler_guide#ÁîüÊàê‰ª£Á†Å-import-ÈîôËØØ","content":" JavaÔºö Á°Æ‰øùÈ°πÁõÆÂåÖÂê´ Fory ‰æùËµñÔºö  &lt;dependency&gt; &lt;groupId&gt;org.apache.fory&lt;/groupId&gt; &lt;artifactId&gt;fory-core&lt;/artifactId&gt; &lt;version&gt;${fory.version}&lt;/version&gt; &lt;/dependency&gt;   PythonÔºö Á°Æ‰øùÂÆâË£Ö pyforyÔºö  pip install pyfory   GoÔºö Á°Æ‰øùÂèØËé∑Âèñ fory Ê®°ÂùóÔºö  go get github.com/apache/fory/go/fory   RustÔºö Á°Æ‰øù Cargo.toml ‰∏≠ÂåÖÂê´ fory crateÔºö  [dependencies] fory = &quot;x.y.z&quot;   C++Ôºö Á°Æ‰øùÁºñËØëÂô® include Ë∑ØÂæÑÂèØÊâæÂà∞ Fory Â§¥Êñá‰ª∂„ÄÇ ","version":"dev","tagName":"h3"},{"title":"Development","type":0,"sectionRef":"#","url":"/zh-CN/docs/next/docs/guide/development","content":"","keywords":"","version":"dev"},{"title":"How to build Apache Fory‚Ñ¢‚Äã","type":1,"pageTitle":"Development","url":"/zh-CN/docs/next/docs/guide/development#how-to-build-apache-fory","content":" Clone the source tree from https://github.com/apache/fory.  ","version":"dev","tagName":"h2"},{"title":"Build Apache Fory‚Ñ¢ Java‚Äã","type":1,"pageTitle":"Development","url":"/zh-CN/docs/next/docs/guide/development#build-apache-fory-java","content":" cd java mvn -T16 package   Environment Requirements‚Äã  JDK 17+Maven 3.6.3+  ","version":"dev","tagName":"h3"},{"title":"Build Apache Fory‚Ñ¢ Python‚Äã","type":1,"pageTitle":"Development","url":"/zh-CN/docs/next/docs/guide/development#build-apache-fory-python","content":" cd python pip install -v -e . # Optional: build Cython extension (replace X.Y with your Python version) bazel build //:cp_fory_so --@rules_python//python/config_settings:python_version=X.Y   Environment Requirements‚Äã  CPython 3.8+Bazel 8+ (required when building Cython extensions)  ","version":"dev","tagName":"h3"},{"title":"Build Apache Fory‚Ñ¢ C++‚Äã","type":1,"pageTitle":"Development","url":"/zh-CN/docs/next/docs/guide/development#build-apache-fory-c","content":" cd cpp bazel build //cpp/...   Environment Requirements‚Äã  C++17 compilerBazel 8+  ","version":"dev","tagName":"h3"},{"title":"Build Apache Fory‚Ñ¢ Go‚Äã","type":1,"pageTitle":"Development","url":"/zh-CN/docs/next/docs/guide/development#build-apache-fory-go","content":" cd go/fory go test -v ./...   Run Go xlang tests from Java test module:  cd java mvn -T16 install -DskipTests cd fory-core FORY_GO_JAVA_CI=1 ENABLE_FORY_DEBUG_OUTPUT=1 mvn test -Dtest=org.apache.fory.xlang.GoXlangTest   Environment Requirements‚Äã  Go 1.24+  ","version":"dev","tagName":"h3"},{"title":"Build Apache Fory‚Ñ¢ Rust‚Äã","type":1,"pageTitle":"Development","url":"/zh-CN/docs/next/docs/guide/development#build-apache-fory-rust","content":" cd rust cargo build cargo test --features tests # Debug a specific test RUST_BACKTRACE=1 FORY_PANIC_ON_ERROR=1 ENABLE_FORY_DEBUG_OUTPUT=1 \\ cargo test --test mod $dir$::$test_file::$test_method -- --nocapture   Environment Requirements‚Äã  Rust toolchain via rustupcargo-expand (optional, for macro expansion debugging)  ","version":"dev","tagName":"h3"},{"title":"Build Apache Fory‚Ñ¢ JavaScript‚Äã","type":1,"pageTitle":"Development","url":"/zh-CN/docs/next/docs/guide/development#build-apache-fory-javascript","content":" cd javascript npm install npm run build node ./node_modules/.bin/jest --ci --reporters=default --reporters=jest-junit   Environment Requirements‚Äã  Node.js (LTS)npm  ","version":"dev","tagName":"h3"},{"title":"Lint Markdown Docs‚Äã","type":1,"pageTitle":"Development","url":"/zh-CN/docs/next/docs/guide/development#lint-markdown-docs","content":" cd docs npx prettier --write &quot;**/*.md&quot;   Environment Requirements‚Äã  Node.js (LTS)npm  ","version":"dev","tagName":"h3"},{"title":"Contributing‚Äã","type":1,"pageTitle":"Development","url":"/zh-CN/docs/next/docs/guide/development#contributing","content":" For contribution details, see How to contribute to Apache Fory‚Ñ¢. ","version":"dev","tagName":"h2"},{"title":"Schema IDL ËØ≠Ê≥ï","type":0,"sectionRef":"#","url":"/zh-CN/docs/next/compiler/syntax","content":"","keywords":"","version":"dev"},{"title":"Êñá‰ª∂ÁªìÊûÑ‚Äã","type":1,"pageTitle":"Schema IDL ËØ≠Ê≥ï","url":"/zh-CN/docs/next/compiler/syntax#Êñá‰ª∂ÁªìÊûÑ","content":" ‰∏Ä‰∏™ Fory IDL Êñá‰ª∂ÈÄöÂ∏∏ÂåÖÂê´Ôºö  ÂèØÈÄâ package Â£∞ÊòéÂèØÈÄâÊñá‰ª∂Á∫ß optionÂèØÈÄâ import ËØ≠Âè•Á±ªÂûãÂÆö‰πâÔºàenum„ÄÅmessage„ÄÅunionÔºâ  // Optional package declaration package com.example.models; // Optional file-level options option java_package = &quot;com.example.models&quot;; // Import statements import &quot;common/types.fdl&quot;; // Type definitions enum Color [id=100] { ... } message User [id=101] { ... } message Order [id=102] { ... } union Event [id=103] { ... }   ","version":"dev","tagName":"h2"},{"title":"Ê≥®Èáä‚Äã","type":1,"pageTitle":"Schema IDL ËØ≠Ê≥ï","url":"/zh-CN/docs/next/compiler/syntax#Ê≥®Èáä","content":" ÊîØÊåÅÂçïË°åÊ≥®Èáä‰∏éÂùóÊ≥®ÈáäÔºö  // This is a single-line comment /* * This is a block comment * that spans multiple lines */ message Example { string name = 1; // Inline comment }   ","version":"dev","tagName":"h2"},{"title":"Package Â£∞Êòé‚Äã","type":1,"pageTitle":"Schema IDL ËØ≠Ê≥ï","url":"/zh-CN/docs/next/compiler/syntax#package-Â£∞Êòé","content":" package ÂÆö‰πâÊñá‰ª∂‰∏≠ÊâÄÊúâÁ±ªÂûãÁöÑÂëΩÂêçÁ©∫Èó¥„ÄÇ  package com.example.models;   ‰πüÂèØ‰ª•ÈÖçÁΩÆ aliasÔºàÁî®‰∫éËá™Âä®Á±ªÂûã ID ËÆ°ÁÆóÔºâÔºö  package com.example.models alias models_v1;   ËßÑÂàôÔºö  ÂèØÈÄâ‰ΩÜÊé®ËçêÂøÖÈ°ª‰Ωç‰∫é‰ªª‰ΩïÁ±ªÂûãÂÆö‰πâ‰πãÂâçÊØè‰∏™Êñá‰ª∂ÊúÄÂ§ö‰∏Ä‰∏™ packageÁî®‰∫éÂëΩÂêçÁ©∫Èó¥Ê≥®ÂÜåalias ‰ºöÂèÇ‰∏é auto-ID ÂìàÂ∏å  ËØ≠Ë®ÄÊò†Â∞ÑÔºö  ËØ≠Ë®Ä\tpackage Áî®Ê≥ïJava\tJava package Python\tÊ®°ÂùóÂêçÔºà. ËΩ¨ _Ôºâ Go\tÂåÖÂêçÔºàÈÄöÂ∏∏ÂèñÊúÄÂêé‰∏ÄÊÆµÔºâ Rust\tÊ®°ÂùóÂêçÔºà. ËΩ¨ _Ôºâ C++\tÂëΩÂêçÁ©∫Èó¥Ôºà. ËΩ¨ ::Ôºâ  ","version":"dev","tagName":"h2"},{"title":"Êñá‰ª∂Á∫ßÈÄâÈ°π‚Äã","type":1,"pageTitle":"Schema IDL ËØ≠Ê≥ï","url":"/zh-CN/docs/next/compiler/syntax#Êñá‰ª∂Á∫ßÈÄâÈ°π","content":" Êñá‰ª∂Á∫ßÈÄâÈ°πÁî®‰∫éÊéßÂà∂ËØ≠Ë®ÄÂÆöÂà∂‰ª£Á†ÅÁîüÊàê„ÄÇ  ","version":"dev","tagName":"h2"},{"title":"ËØ≠Ê≥ï‚Äã","type":1,"pageTitle":"Schema IDL ËØ≠Ê≥ï","url":"/zh-CN/docs/next/compiler/syntax#ËØ≠Ê≥ï","content":" option option_name = value;   ","version":"dev","tagName":"h3"},{"title":"Java Package ÈÄâÈ°π‚Äã","type":1,"pageTitle":"Schema IDL ËØ≠Ê≥ï","url":"/zh-CN/docs/next/compiler/syntax#java-package-ÈÄâÈ°π","content":" ÈÄöËøá java_package Ë¶ÜÁõñ Java ËæìÂá∫ÂåÖÂêçÔºö  package payment; option java_package = &quot;com.mycorp.payment.v1&quot;; message Payment { string id = 1; }   ÊïàÊûúÔºö  Java Êñá‰ª∂ËæìÂá∫Âà∞ com/mycorp/payment/v1/Java package Â£∞Êòé‰ΩøÁî®ËØ•ÂÄºË∑®ËØ≠Ë®ÄÁ±ªÂûãÊ≥®ÂÜå‰ªç‰ª• Fory packageÔºàÂ¶Ç paymentÔºâ‰∏∫ÂáÜ  ","version":"dev","tagName":"h3"},{"title":"Go Package ÈÄâÈ°π‚Äã","type":1,"pageTitle":"Schema IDL ËØ≠Ê≥ï","url":"/zh-CN/docs/next/compiler/syntax#go-package-ÈÄâÈ°π","content":" ÈÄöËøá go_package ÊåáÂÆö Go import path ‰∏éÂåÖÂêçÔºö  package payment; option go_package = &quot;github.com/mycorp/apis/gen/payment/v1;paymentv1&quot;; message Payment { string id = 1; }   Ê†ºÂºèÔºö&quot;import/path;package_name&quot; Êàñ‰ªÖ &quot;import/path&quot;ÔºàÂåÖÂêçÂèñÊúÄÂêé‰∏ÄÊÆµÔºâ„ÄÇ  ","version":"dev","tagName":"h3"},{"title":"Java Outer Classname ÈÄâÈ°π‚Äã","type":1,"pageTitle":"Schema IDL ËØ≠Ê≥ï","url":"/zh-CN/docs/next/compiler/syntax#java-outer-classname-ÈÄâÈ°π","content":" Â∞ÜÂ§ö‰∏™Á±ªÂûãÂåÖË£ÖÂà∞‰∏Ä‰∏™Â§ñÂ±ÇÁ±ªÔºö  package payment; option java_outer_classname = &quot;DescriptorProtos&quot;; enum Status { UNKNOWN = 0; ACTIVE = 1; } message Payment { string id = 1; Status status = 2; }   ÈªòËÆ§‰ºöÁîüÊàêÂçïÊñá‰ª∂ÔºåÊûö‰∏æ‰∏éÊ∂àÊÅØ‰Ωú‰∏∫ÈùôÊÄÅÂÜÖÈÉ®Á±ªÂûã„ÄÇ  ","version":"dev","tagName":"h3"},{"title":"Java Multiple Files ÈÄâÈ°π‚Äã","type":1,"pageTitle":"Schema IDL ËØ≠Ê≥ï","url":"/zh-CN/docs/next/compiler/syntax#java-multiple-files-ÈÄâÈ°π","content":" ÊéßÂà∂ Java ÊòØÂê¶ÊãÜÂàÜÂ§öÊñá‰ª∂Ôºö  package payment; option java_outer_classname = &quot;PaymentProtos&quot;; option java_multiple_files = true; message Payment { string id = 1; } message Receipt { string id = 1; }   Ë°å‰∏∫Ôºö  java_outer_classname\tjava_multiple_files\tÁªìÊûúÊú™ËÆæÁΩÆ\t‰ªªÊÑè\tÊØè‰∏™Á±ªÂûã‰∏Ä‰∏™Êñá‰ª∂ Â∑≤ËÆæÁΩÆ\tfalseÔºàÈªòËÆ§Ôºâ\tÂçïÊñá‰ª∂ + ÂÜÖÈÉ®Á±ª Â∑≤ËÆæÁΩÆ\ttrue\tÂº∫Âà∂ÊãÜÂàÜ‰∏∫Â§öÊñá‰ª∂  ","version":"dev","tagName":"h3"},{"title":"Â§ö‰∏™ÈÄâÈ°πÁªÑÂêà‚Äã","type":1,"pageTitle":"Schema IDL ËØ≠Ê≥ï","url":"/zh-CN/docs/next/compiler/syntax#Â§ö‰∏™ÈÄâÈ°πÁªÑÂêà","content":" package payment; option java_package = &quot;com.mycorp.payment.v1&quot;; option go_package = &quot;github.com/mycorp/apis/gen/payment/v1;paymentv1&quot;; option deprecated = true;   ","version":"dev","tagName":"h3"},{"title":"Protobuf Êâ©Â±ïËØ≠Ê≥ïËØ¥Êòé‚Äã","type":1,"pageTitle":"Schema IDL ËØ≠Ê≥ï","url":"/zh-CN/docs/next/compiler/syntax#protobuf-Êâ©Â±ïËØ≠Ê≥ïËØ¥Êòé","content":" Âú® .fdl ‰∏≠ËØ∑‰ΩøÁî® Fory ÂéüÁîüËØ≠Ê≥ïÔºàÂ¶Ç [id=100]„ÄÅref„ÄÅoptional„ÄÅnullable=trueÔºâ„ÄÇ(fory).xxx ÂΩ¢Âºè‰ªÖÁî®‰∫é .protoÔºàprotobuf ÂâçÁ´ØÔºâ„ÄÇ  ","version":"dev","tagName":"h3"},{"title":"ÈÄâÈ°π‰ºòÂÖàÁ∫ß‚Äã","type":1,"pageTitle":"Schema IDL ËØ≠Ê≥ï","url":"/zh-CN/docs/next/compiler/syntax#ÈÄâÈ°π‰ºòÂÖàÁ∫ß","content":" ËØ≠Ë®ÄÂåÖË∑ØÂæÑ‰ºòÂÖàÁ∫ßÔºö  ÂëΩ‰ª§Ë°åË¶ÜÁõñÔºàÊúÄÈ´òÔºâËØ≠Ë®ÄÈÄâÈ°πÔºàjava_package„ÄÅgo_packageÔºâFory IDL packageÔºàÂÖúÂ∫ïÔºâ  ","version":"dev","tagName":"h3"},{"title":"Ë∑®ËØ≠Ë®ÄÁ±ªÂûãÊ≥®ÂÜå‚Äã","type":1,"pageTitle":"Schema IDL ËØ≠Ê≥ï","url":"/zh-CN/docs/next/compiler/syntax#Ë∑®ËØ≠Ë®ÄÁ±ªÂûãÊ≥®ÂÜå","content":" ÈªòËÆ§ÊÉÖÂÜµ‰∏ãÔºåÊ≥®ÂÜåÂêçÁî± package + type nameÔºàÊàñÁ±ªÂûã IDÔºâÁ°ÆÂÆö„ÄÇÂª∫ËÆÆÈïøÊúü‰øùÊåÅ package Á®≥ÂÆöÔºå‰ª•ÈÅøÂÖçË∑®ÁâàÊú¨Ê≥®ÂÜå‰∏ç‰∏ÄËá¥„ÄÇ  ","version":"dev","tagName":"h3"},{"title":"Import ËØ≠Âè•‚Äã","type":1,"pageTitle":"Schema IDL ËØ≠Ê≥ï","url":"/zh-CN/docs/next/compiler/syntax#import-ËØ≠Âè•","content":" ","version":"dev","tagName":"h2"},{"title":"Âü∫Êú¨ËØ≠Ê≥ï‚Äã","type":1,"pageTitle":"Schema IDL ËØ≠Ê≥ï","url":"/zh-CN/docs/next/compiler/syntax#Âü∫Êú¨ËØ≠Ê≥ï","content":" import &quot;common/types.fdl&quot;;   ","version":"dev","tagName":"h3"},{"title":"Â§ö‰∏™ÂØºÂÖ•‚Äã","type":1,"pageTitle":"Schema IDL ËØ≠Ê≥ï","url":"/zh-CN/docs/next/compiler/syntax#Â§ö‰∏™ÂØºÂÖ•","content":" import &quot;common/types.fdl&quot;; import &quot;domain/user.fdl&quot;; import &quot;domain/order.fdl&quot;;   ","version":"dev","tagName":"h3"},{"title":"Ë∑ØÂæÑËß£Êûê‚Äã","type":1,"pageTitle":"Schema IDL ËØ≠Ê≥ï","url":"/zh-CN/docs/next/compiler/syntax#Ë∑ØÂæÑËß£Êûê","content":" ÂØºÂÖ•Ëß£ÊûêÈ°∫Â∫èÔºö  ÂØºÂÖ•ËÄÖÊñá‰ª∂ÊâÄÂú®ÁõÆÂΩïÂëΩ‰ª§Ë°å -I/--proto_path/--import_path ÊåáÂÆöÁõÆÂΩïÔºàÊåâÁªôÂÆöÈ°∫Â∫èÔºâ  ","version":"dev","tagName":"h3"},{"title":"ÂÆåÊï¥Á§∫‰æã‚Äã","type":1,"pageTitle":"Schema IDL ËØ≠Ê≥ï","url":"/zh-CN/docs/next/compiler/syntax#ÂÆåÊï¥Á§∫‰æã","content":" // src/main.fdl package app; import &quot;common.fdl&quot;; import &quot;models/user.fdl&quot;; message Main { common.Meta meta = 1; models.User user = 2; }   ","version":"dev","tagName":"h3"},{"title":"‰∏çÊîØÊåÅÁöÑ import ÂÜôÊ≥ï‚Äã","type":1,"pageTitle":"Schema IDL ËØ≠Ê≥ï","url":"/zh-CN/docs/next/compiler/syntax#‰∏çÊîØÊåÅÁöÑ-import-ÂÜôÊ≥ï","content":" URL ÂΩ¢ÂºèÔºàÂ¶Ç https://...ÔºâÁªùÂØπË∑ØÂæÑ‰æùËµñÔºà‰∏çÊé®ËçêÔºå‰ºöÁ†¥ÂùèÂèØÁßªÊ§çÊÄßÔºâ  ","version":"dev","tagName":"h3"},{"title":"import ÈîôËØØ‚Äã","type":1,"pageTitle":"Schema IDL ËØ≠Ê≥ï","url":"/zh-CN/docs/next/compiler/syntax#import-ÈîôËØØ","content":" ÂÖ∏ÂûãÈîôËØØÔºö  Êñá‰ª∂‰∏çÂ≠òÂú®ÊêúÁ¥¢Ë∑ØÂæÑÊú™ÂåÖÂê´‰æùËµñÁõÆÂΩïÂêåÂêçÊñá‰ª∂ÂÜ≤Á™ÅÂØºËá¥Ëß£ÊûêÂà∞ÈîôËØØÁâàÊú¨  ","version":"dev","tagName":"h3"},{"title":"Enum ÂÆö‰πâ‚Äã","type":1,"pageTitle":"Schema IDL ËØ≠Ê≥ï","url":"/zh-CN/docs/next/compiler/syntax#enum-ÂÆö‰πâ","content":" ","version":"dev","tagName":"h2"},{"title":"Âü∫Êú¨ËØ≠Ê≥ï‚Äã","type":1,"pageTitle":"Schema IDL ËØ≠Ê≥ï","url":"/zh-CN/docs/next/compiler/syntax#Âü∫Êú¨ËØ≠Ê≥ï-1","content":" enum Status { UNKNOWN = 0; ACTIVE = 1; DISABLED = 2; }   ","version":"dev","tagName":"h3"},{"title":"ÊòæÂºèÁ±ªÂûã ID‚Äã","type":1,"pageTitle":"Schema IDL ËØ≠Ê≥ï","url":"/zh-CN/docs/next/compiler/syntax#ÊòæÂºèÁ±ªÂûã-id","content":" enum Status [id=101] { UNKNOWN = 0; ACTIVE = 1; DISABLED = 2; }   ","version":"dev","tagName":"h3"},{"title":"È¢ÑÁïôÂÄº‚Äã","type":1,"pageTitle":"Schema IDL ËØ≠Ê≥ï","url":"/zh-CN/docs/next/compiler/syntax#È¢ÑÁïôÂÄº","content":" enum Status { UNKNOWN = 0; ACTIVE = 1; reserved 2, 3; reserved 10 to 20; }   ","version":"dev","tagName":"h3"},{"title":"enum Á±ªÂûãÈÄâÈ°π‚Äã","type":1,"pageTitle":"Schema IDL ËØ≠Ê≥ï","url":"/zh-CN/docs/next/compiler/syntax#enum-Á±ªÂûãÈÄâÈ°π","content":" Â∏∏ËßÅÔºöid„ÄÅalias„ÄÅdeprecated„ÄÇ  ","version":"dev","tagName":"h3"},{"title":"ËØ≠Ë®ÄÊò†Â∞Ñ‚Äã","type":1,"pageTitle":"Schema IDL ËØ≠Ê≥ï","url":"/zh-CN/docs/next/compiler/syntax#ËØ≠Ë®ÄÊò†Â∞Ñ","content":" JavaÔºöenumPythonÔºöIntEnumGoÔºötype + constRustÔºörepr(i32) Êûö‰∏æC++Ôºöenum class  ","version":"dev","tagName":"h3"},{"title":"Êûö‰∏æÂâçÁºÄÂ§ÑÁêÜ‚Äã","type":1,"pageTitle":"Schema IDL ËØ≠Ê≥ï","url":"/zh-CN/docs/next/compiler/syntax#Êûö‰∏æÂâçÁºÄÂ§ÑÁêÜ","content":" ÈíàÂØπ protobuf È£éÊ†º TYPE_NAME_VALUEÔºåÁîüÊàêÂô®ÈÄöÂ∏∏‰ºöÊåâËØ≠Ë®Ä‰π†ÊÉØÂéªÈô§ÂÜó‰ΩôÂâçÁºÄÔºå‰Ωø API Êõ¥Ëá™ÁÑ∂„ÄÇ  ","version":"dev","tagName":"h3"},{"title":"Message ÂÆö‰πâ‚Äã","type":1,"pageTitle":"Schema IDL ËØ≠Ê≥ï","url":"/zh-CN/docs/next/compiler/syntax#message-ÂÆö‰πâ","content":" ","version":"dev","tagName":"h2"},{"title":"Âü∫Êú¨ËØ≠Ê≥ï‚Äã","type":1,"pageTitle":"Schema IDL ËØ≠Ê≥ï","url":"/zh-CN/docs/next/compiler/syntax#Âü∫Êú¨ËØ≠Ê≥ï-2","content":" message User { string name = 1; int32 age = 2; }   ","version":"dev","tagName":"h3"},{"title":"ÊòæÂºèÁ±ªÂûã ID‚Äã","type":1,"pageTitle":"Schema IDL ËØ≠Ê≥ï","url":"/zh-CN/docs/next/compiler/syntax#ÊòæÂºèÁ±ªÂûã-id-1","content":" message User [id=100] { string name = 1; int32 age = 2; }   ","version":"dev","tagName":"h3"},{"title":"Êó†ÊòæÂºèÁ±ªÂûã ID‚Äã","type":1,"pageTitle":"Schema IDL ËØ≠Ê≥ï","url":"/zh-CN/docs/next/compiler/syntax#Êó†ÊòæÂºèÁ±ªÂûã-id","content":" Êú™Â£∞Êòé [id=...] Êó∂ÔºåÁºñËØëÂô®ÂèØÊåâÈÖçÁΩÆËá™Âä®ÁîüÊàêÁ±ªÂûã IDÔºåÊàñ‰ΩøÁî® namespace/name Ê≥®ÂÜå„ÄÇ  ","version":"dev","tagName":"h3"},{"title":"ËØ≠Ë®ÄÊò†Â∞Ñ‚Äã","type":1,"pageTitle":"Schema IDL ËØ≠Ê≥ï","url":"/zh-CN/docs/next/compiler/syntax#ËØ≠Ë®ÄÊò†Â∞Ñ-1","content":" JavaÔºöÁ±ª / recordÔºàÊåâÈÄâÈ°πÔºâPythonÔºödataclassGoÔºöstructRustÔºöstructC++Ôºöclass/struct + ÂÆèÂÖÉ‰ø°ÊÅØ  ","version":"dev","tagName":"h3"},{"title":"È¢ÑÁïôÂ≠óÊÆµ‚Äã","type":1,"pageTitle":"Schema IDL ËØ≠Ê≥ï","url":"/zh-CN/docs/next/compiler/syntax#È¢ÑÁïôÂ≠óÊÆµ","content":" message User { string name = 1; reserved 2, 3; reserved 10 to 20; }   ","version":"dev","tagName":"h3"},{"title":"message Á±ªÂûãÈÄâÈ°π‚Äã","type":1,"pageTitle":"Schema IDL ËØ≠Ê≥ï","url":"/zh-CN/docs/next/compiler/syntax#message-Á±ªÂûãÈÄâÈ°π","content":" Â∏∏ËßÅÈÄâÈ°πÔºöid„ÄÅalias„ÄÅevolving„ÄÅdeprecated„ÄÅnamespace„ÄÅuse_record_for_java„ÄÇ  ","version":"dev","tagName":"h3"},{"title":"ÂµåÂ•óÁ±ªÂûã‚Äã","type":1,"pageTitle":"Schema IDL ËØ≠Ê≥ï","url":"/zh-CN/docs/next/compiler/syntax#ÂµåÔøΩÔøΩÂ•óÁ±ªÂûã","content":" ","version":"dev","tagName":"h2"},{"title":"ÂµåÂ•ó message‚Äã","type":1,"pageTitle":"Schema IDL ËØ≠Ê≥ï","url":"/zh-CN/docs/next/compiler/syntax#ÂµåÂ•ó-message","content":" message Person { message PhoneNumber { string number = 1; } PhoneNumber phone = 1; }   ","version":"dev","tagName":"h3"},{"title":"ÂµåÂ•ó enum‚Äã","type":1,"pageTitle":"Schema IDL ËØ≠Ê≥ï","url":"/zh-CN/docs/next/compiler/syntax#ÂµåÂ•ó-enum","content":" message Person { enum PhoneType { MOBILE = 0; HOME = 1; } PhoneType type = 1; }   ","version":"dev","tagName":"h3"},{"title":"ÈôêÂÆöÁ±ªÂûãÂêç‚Äã","type":1,"pageTitle":"Schema IDL ËØ≠Ê≥ï","url":"/zh-CN/docs/next/compiler/syntax#ÈôêÂÆöÁ±ªÂûãÂêç","content":" ÂèØ‰ΩøÁî®ÂÆåÊï¥ÈôêÂÆöÂêçÂºïÁî®ÂµåÂ•óÁ±ªÂûãÔºå‰æãÂ¶Ç Person.PhoneNumber„ÄÇ  ","version":"dev","tagName":"h3"},{"title":"Ê∑±Â±ÇÂµåÂ•óÁ±ªÂûã‚Äã","type":1,"pageTitle":"Schema IDL ËØ≠Ê≥ï","url":"/zh-CN/docs/next/compiler/syntax#Ê∑±Â±ÇÂµåÂ•óÁ±ªÂûã","content":" ÊîØÊåÅÂ§öÂ±ÇÂµåÂ•óÔºå‰ΩÜÂª∫ËÆÆÊéßÂà∂Â±ÇÁ∫ßÔºåÈÅøÂÖçÂèØËØªÊÄß‰∏ãÈôç„ÄÇ  ","version":"dev","tagName":"h3"},{"title":"ÂêÑËØ≠Ë®ÄÁîüÊàêÂΩ¢ÊÄÅ‚Äã","type":1,"pageTitle":"Schema IDL ËØ≠Ê≥ï","url":"/zh-CN/docs/next/compiler/syntax#ÂêÑËØ≠Ë®ÄÁîüÊàêÂΩ¢ÊÄÅ","content":" ËØ≠Ë®Ä\tÂµåÂ•óÁ±ªÂûãÂΩ¢ÊÄÅJava\tOuter.Inner Python\tOuter.Inner Rust\touter::Inner C++\tOuter::Inner Go\tOuter_InnerÔºàÈªòËÆ§Ôºâ  ","version":"dev","tagName":"h3"},{"title":"ÂµåÂ•óËßÑÂàô‚Äã","type":1,"pageTitle":"Schema IDL ËØ≠Ê≥ï","url":"/zh-CN/docs/next/compiler/syntax#ÂµåÂ•óËßÑÂàô","content":" ÂµåÂ•óÁ±ªÂûãÂêçÂú®ÂÖ∂Áà∂‰ΩúÁî®ÂüüÂÜÖÂøÖÈ°ªÂîØ‰∏ÄÂèØË¢´ÂêåÊñá‰ª∂ÂêéÁª≠Á±ªÂûãÂºïÁî®ÂèØÈÄöËøá import + ÈôêÂÆöÂêçË∑®Êñá‰ª∂ÂºïÁî®  ","version":"dev","tagName":"h3"},{"title":"Union ÂÆö‰πâ‚Äã","type":1,"pageTitle":"Schema IDL ËØ≠Ê≥ï","url":"/zh-CN/docs/next/compiler/syntax#union-ÂÆö‰πâ","content":" ","version":"dev","tagName":"h2"},{"title":"Âü∫Êú¨ËØ≠Ê≥ï‚Äã","type":1,"pageTitle":"Schema IDL ËØ≠Ê≥ï","url":"/zh-CN/docs/next/compiler/syntax#Âü∫Êú¨ËØ≠Ê≥ï-3","content":" union Animal { Dog dog = 1; Cat cat = 2; }   ","version":"dev","tagName":"h3"},{"title":"Âú® message ‰∏≠‰ΩøÁî® union‚Äã","type":1,"pageTitle":"Schema IDL ËØ≠Ê≥ï","url":"/zh-CN/docs/next/compiler/syntax#Âú®-message-‰∏≠‰ΩøÁî®-union","content":" message Person { Animal pet = 1; }   ","version":"dev","tagName":"h3"},{"title":"ËßÑÂàô‚Äã","type":1,"pageTitle":"Schema IDL ËØ≠Ê≥ï","url":"/zh-CN/docs/next/compiler/syntax#ËßÑÂàô","content":" case Â≠óÊÆµÂè∑ÂøÖÈ°ªÂîØ‰∏Äcase Á±ªÂûãÈÄöÂ∏∏‰∏∫Ê∂àÊÅØÁ±ªÂûãÊàñÂèØÂ∫èÂàóÂåñÂ§çÂêàÁ±ªÂûãÂêÑËØ≠Ë®Ä‰ºöÁîüÊàêÂ∏¶ case Âà§Âà´ÂíåËÆøÈóÆÂô®ÁöÑ union Ë°®Ëææ  ","version":"dev","tagName":"h3"},{"title":"Â≠óÊÆµÂÆö‰πâ‚Äã","type":1,"pageTitle":"Schema IDL ËØ≠Ê≥ï","url":"/zh-CN/docs/next/compiler/syntax#Â≠óÊÆµÂÆö‰πâ","content":" ","version":"dev","tagName":"h2"},{"title":"Âü∫Êú¨ËØ≠Ê≥ï‚Äã","type":1,"pageTitle":"Schema IDL ËØ≠Ê≥ï","url":"/zh-CN/docs/next/compiler/syntax#Âü∫Êú¨ËØ≠Ê≥ï-4","content":" string name = 1;   ","version":"dev","tagName":"h3"},{"title":"Â∏¶‰øÆÈ•∞Á¨¶ËØ≠Ê≥ï‚Äã","type":1,"pageTitle":"Schema IDL ËØ≠Ê≥ï","url":"/zh-CN/docs/next/compiler/syntax#Â∏¶‰øÆÈ•∞Á¨¶ËØ≠Ê≥ï","content":" optional string nickname = 2; ref Node parent = 3; list&lt;int32&gt; scores = 4;   ","version":"dev","tagName":"h3"},{"title":"Â≠óÊÆµ‰øÆÈ•∞Á¨¶‚Äã","type":1,"pageTitle":"Schema IDL ËØ≠Ê≥ï","url":"/zh-CN/docs/next/compiler/syntax#Â≠óÊÆµ‰øÆÈ•∞Á¨¶","content":" optional‚Äã  Â£∞ÊòéÂ≠óÊÆµÂèØ‰∏∫Á©∫Ôºànull/NoneÔºâÔºö  message User { optional string email = 1; }   Âª∫ËÆÆÂú®Ë∑®ËØ≠Ë®ÄÂú∫ÊôØÊòæÂºè‰ΩøÁî®Ôºå‰ª•ÈÅøÂÖçÈªòËÆ§ÂÄºÂ∑ÆÂºÇ„ÄÇ  ref‚Äã  ÂºÄÂêØÂºïÁî®Ë∑üË∏™ÔºåÁî®‰∫éÂÖ±‰∫´ÂØπË±°‰∏éÂæ™ÁéØÁªìÊûÑÔºö  message Node { string name = 1; ref Node parent = 2; list&lt;ref Node&gt; children = 3; }   ÂΩìËøêË°åÊó∂ÂÖ®Â±Ä ref tracking ÂºÄÂêØÊó∂ÔºåÂ≠óÊÆµÁ∫ß ref Êâç‰ºöÁîüÊïà„ÄÇ  list‚Äã  ÂàóË°®Â≠óÊÆµÔºàrepeated ‰∏∫Á≠â‰ª∑Âà´ÂêçÔºâÔºö  message Group { list&lt;string&gt; tags = 1; }   ","version":"dev","tagName":"h3"},{"title":"ÁªÑÂêà‰øÆÈ•∞Á¨¶‚Äã","type":1,"pageTitle":"Schema IDL ËØ≠Ê≥ï","url":"/zh-CN/docs/next/compiler/syntax#ÁªÑÂêà‰øÆÈ•∞Á¨¶","content":" ÂèØÁªÑÂêà‰ΩøÁî®Ôºö  message Graph { optional ref Node root = 1; list&lt;ref Node&gt; nodes = 2; }   ","version":"dev","tagName":"h3"},{"title":"Â≠óÊÆµÂè∑‚Äã","type":1,"pageTitle":"Schema IDL ËØ≠Ê≥ï","url":"/zh-CN/docs/next/compiler/syntax#Â≠óÊÆµÂè∑","content":" Â≠óÊÆµÂè∑ËßÑÂàôÔºö  Âêå‰∏Ä message ÂÜÖÂøÖÈ°ªÂîØ‰∏ÄÂøÖÈ°ª‰∏∫Ê≠£Êï¥Êï∞‰∏çÂ∫îÂ§çÁî®Â∑≤Âà†Èô§Â≠óÊÆµÂè∑ÔºàÂª∫ËÆÆ‰ΩøÁî® reservedÔºâÂª∫ËÆÆÈ¢ÑÁïôÁºñÂè∑Âå∫Èó¥‰ª•‰æøÊºîËøõ  ","version":"dev","tagName":"h2"},{"title":"Type System‚Äã","type":1,"pageTitle":"Schema IDL ËØ≠Ê≥ï","url":"/zh-CN/docs/next/compiler/syntax#type-system","content":" Fory IDL Á±ªÂûãÁ≥ªÁªüÂåÖÊã¨Âü∫Á°ÄÁ±ªÂûã„ÄÅÂëΩÂêçÁ±ªÂûãÂíåÈõÜÂêàÁ±ªÂûã„ÄÇ  ","version":"dev","tagName":"h2"},{"title":"Primitive Types‚Äã","type":1,"pageTitle":"Schema IDL ËØ≠Ê≥ï","url":"/zh-CN/docs/next/compiler/syntax#primitive-types","content":" Á±ªÂûãÊóè\tÁ§∫‰æãÂ∏ÉÂ∞î\tbool Êï¥Êï∞\tint8/int16/int32/int64„ÄÅuint* ÊµÆÁÇπ\tfloat32„ÄÅfloat64 Â≠óÁ¨¶‰∏≤\tstring Â≠óËäÇÊï∞ÁªÑ\tbytes Êó∂Èó¥\tdate„ÄÅtimestamp„ÄÅduration Âä®ÊÄÅÁ±ªÂûã\tany  Boolean‚Äã  bool Ë°®Á§∫Â∏ÉÂ∞îÂÄº„ÄÇ  Integer Types‚Äã  ÊîØÊåÅÊúâÁ¨¶Âè∑/Êó†Á¨¶Âè∑‰∏é‰∏çÂêå‰ΩçÂÆΩ„ÄÇË∑®ËØ≠Ë®ÄÂú∫ÊôØÂª∫ËÆÆÊòéÁ°ÆÁºñÁ†ÅÁ≠ñÁï•Âπ∂‰øùÊåÅÂ≠óÊÆµËØ≠‰πâÁ®≥ÂÆö„ÄÇ  Integer Encoding Variants‚Äã  Â∏∏ËßÅÁºñÁ†ÅÔºö  varintÔºöÂ∞èÂÄºÊõ¥ÁúÅÁ©∫Èó¥fixedÔºöÂõ∫ÂÆöÈïøÂ∫¶ÔºåÊÄßËÉΩÁ®≥ÂÆötaggedÔºöÊ∑∑ÂêàÁºñÁ†ÅÔºàÁâπÂÆöÁ±ªÂûãÂèØÁî®Ôºâ  Floating-Point Types‚Äã  float32float64  String Type‚Äã  string ‰ΩøÁî® UTF-8 ÊñáÊú¨ËØ≠‰πâ„ÄÇ  Bytes Type‚Äã  bytes Áî®‰∫éÂéüÂßã‰∫åËøõÂà∂ËΩΩËç∑„ÄÇ  Temporal Types‚Äã  Date‚Äã  date Ë°®Á§∫Êó•ÊúüÔºà‰∏çÂê´Êó∂Âå∫Êó∂Èó¥ÈÉ®ÂàÜÔºâ„ÄÇ  Timestamp‚Äã  timestamp Ë°®Á§∫Êó∂Èó¥ÁÇπÔºàË∑®ËØ≠Ë®ÄÂ∫îÁªü‰∏ÄÊó∂Èó¥ËØ≠‰πâ‰∏éÁ≤æÂ∫¶È¢ÑÊúüÔºâ„ÄÇ  Any‚Äã  any ÂÖÅËÆ∏Â≠òÂÇ®Âä®ÊÄÅÁ±ªÂûãÂÄº„ÄÇ‰ΩøÁî® any Êó∂Âª∫ËÆÆÈÖçÂêàÊ∏ÖÊô∞ÁöÑ‰∏öÂä°Á∫¶ÊùüÔºåÈÅøÂÖçÊª•Áî®ÂØºËá¥Ê®°Âûã‰∏çÁ®≥ÂÆö„ÄÇ  ","version":"dev","tagName":"h3"},{"title":"Named Types‚Äã","type":1,"pageTitle":"Schema IDL ËØ≠Ê≥ï","url":"/zh-CN/docs/next/compiler/syntax#named-types","content":" ÂëΩÂêçÁ±ªÂûãÂåÖÊã¨Ôºö  enummessageunion  ÊîØÊåÅË∑®Êñá‰ª∂ import ÂíåÈôêÂÆöÂêçÂºïÁî®„ÄÇ  ","version":"dev","tagName":"h3"},{"title":"Collection Types‚Äã","type":1,"pageTitle":"Schema IDL ËØ≠Ê≥ï","url":"/zh-CN/docs/next/compiler/syntax#collection-types","content":" List (list)‚Äã  list&lt;T&gt;   Á≠â‰ª∑Âà´ÂêçÔºörepeated T„ÄÇ  Map‚Äã  map&lt;K, V&gt;   Á∫¶ÊùüÔºö  K ‰∏ÄËà¨Â∫î‰∏∫ÂèØÁ®≥ÂÆöÊØîËæÉÁöÑÊ†áÈáèÁ±ªÂûãV ÂèØ‰∏∫‰ªªÊÑèÊîØÊåÅÁ±ªÂûã  ","version":"dev","tagName":"h3"},{"title":"Type Compatibility Matrix‚Äã","type":1,"pageTitle":"Schema IDL ËØ≠Ê≥ï","url":"/zh-CN/docs/next/compiler/syntax#type-compatibility-matrix","content":" Ë∑®ËØ≠Ë®ÄÂª∫ËÆÆÔºö  ‰ΩøÁî®ÂêÑËØ≠Ë®ÄÈÉΩÁ®≥ÂÆöÊîØÊåÅÁöÑÂÖ¨ÂÖ±Â≠êÈõÜÂ∞ΩÈáèÈÅøÂÖçÂπ≥Âè∞Áõ∏ÂÖ≥ÂÆΩÂ∫¶/ËØ≠‰πâÂ∑ÆÂºÇÂØπÊï¥Êï∞ÁºñÁ†Å‰∏éÂèØÁ©∫ËØ≠‰πâÊòæÂºèÂ£∞Êòé  ","version":"dev","tagName":"h3"},{"title":"Best Practices‚Äã","type":1,"pageTitle":"Schema IDL ËØ≠Ê≥ï","url":"/zh-CN/docs/next/compiler/syntax#best-practices","content":" ‰ºòÂÖà‰ΩøÁî®ÊòæÂºèÂ≠óÊÆµÂè∑‰∏éÁ®≥ÂÆöÂëΩÂêçÈúÄË¶ÅÂèØÁ©∫Â∞±ÊòæÂºè optionalÂ≠òÂú®ÂÖ±‰∫´/Âæ™ÁéØÂÖ≥Á≥ªÊó∂‰ΩøÁî® refÈôç‰Ωé any ‰ΩøÁî®ËåÉÂõ¥Ôºå‰ºòÂÖàÂº∫Á±ªÂûãÂª∫Ê®°È¢ÑÁïôÂ≠óÊÆµÂè∑‰∏éÊûö‰∏æÂÄºÂå∫Èó¥  ","version":"dev","tagName":"h3"},{"title":"Type IDs‚Äã","type":1,"pageTitle":"Schema IDL ËØ≠Ê≥ï","url":"/zh-CN/docs/next/compiler/syntax#type-ids","content":" Á±ªÂûã ID Áî®‰∫éË∑®ËØ≠Ë®ÄÂø´ÈÄüÊ≥®ÂÜå‰∏éËß£Á†ÅÂåπÈÖç„ÄÇ  ","version":"dev","tagName":"h2"},{"title":"ÊòæÂºèÁ±ªÂûã ID‚Äã","type":1,"pageTitle":"Schema IDL ËØ≠Ê≥ï","url":"/zh-CN/docs/next/compiler/syntax#ÊòæÂºèÁ±ªÂûã-id-2","content":" message User [id=100] { string name = 1; }   ","version":"dev","tagName":"h3"},{"title":"Êó†ÊòæÂºèÁ±ªÂûã ID‚Äã","type":1,"pageTitle":"Schema IDL ËØ≠Ê≥ï","url":"/zh-CN/docs/next/compiler/syntax#Êó†ÊòæÂºèÁ±ªÂûã-id-1","content":" Êú™ÊòæÂºèÂ£∞ÊòéÊó∂ÂèØÔºö  Ëá™Âä®ÁîüÊàêÊï∞ÂÄº IDÔºàÈªòËÆ§ÈÖçÁΩÆÔºâÁ¶ÅÁî®Ëá™Âä® IDÔºåÊîπÁî® namespace/type-name Ê≥®ÂÜå  ","version":"dev","tagName":"h3"},{"title":"ÂÆûË∑µËØ¥Êòé‚Äã","type":1,"pageTitle":"Schema IDL ËØ≠Ê≥ï","url":"/zh-CN/docs/next/compiler/syntax#ÂÆûË∑µËØ¥Êòé","content":" Á±ªÂûã ID Âú®ÂçèËÆÆÂ±ÇÈù¢Â∫îËßÜ‰∏∫Á®≥ÂÆöÊ†áËØÜ‰∏ÄÁªèÂèëÂ∏ÉÔºå‰∏çÂª∫ËÆÆÊõ¥ÊîπÂª∫ËÆÆÊåâÂüüËßÑÂàí ID ÊÆµÔºàÂ¶Ç 100-199 Áî®Êà∑ÂüüÔºâ  ","version":"dev","tagName":"h3"},{"title":"ID ÂàÜÈÖçÁ≠ñÁï•‚Äã","type":1,"pageTitle":"Schema IDL ËØ≠Ê≥ï","url":"/zh-CN/docs/next/compiler/syntax#id-ÂàÜÈÖçÁ≠ñÁï•","content":" Ê†∏ÂøÉÈ´òÈ¢ëÊ®°Âûã‰ºòÂÖàÂàÜÈÖçÂõ∫ÂÆö IDÂõ¢ÈòüÁªü‰∏ÄÁÆ°ÁêÜ ID Âå∫Èó¥‰∏éÂàÜÈÖçËßÑËåÉÂú® CI ‰∏≠Â¢ûÂä† ID ÂÜ≤Á™ÅÊ£ÄÊü•  ","version":"dev","tagName":"h3"},{"title":"ÂÆåÊï¥Á§∫‰æã‚Äã","type":1,"pageTitle":"Schema IDL ËØ≠Ê≥ï","url":"/zh-CN/docs/next/compiler/syntax#ÂÆåÊï¥Á§∫‰æã-1","content":" package demo.order; option java_package = &quot;com.example.demo.order&quot;; option go_package = &quot;github.com/example/demo/gen/order;order&quot;; import &quot;demo/common.fdl&quot;; enum Status [id=200] { UNKNOWN = 0; CREATED = 1; PAID = 2; SHIPPED = 3; } message Item [id=201] { string sku = 1; int32 quantity = 2; } message User [id=202] { string id = 1; string name = 2; optional string email = 3; } union Animal [id=203] { Dog dog = 1; Cat cat = 2; } message Dog [id=204] { string name = 1; } message Cat [id=205] { string name = 1; } message Order [id=206] { string id = 1; ref User buyer = 2; list&lt;Item&gt; items = 3; Status status = 4; map&lt;string, string&gt; metadata = 5; optional Animal pet = 6; }   ","version":"dev","tagName":"h2"},{"title":"ËØ≠Ê≥ïÊëòË¶Å‚Äã","type":1,"pageTitle":"Schema IDL ËØ≠Ê≥ï","url":"/zh-CN/docs/next/compiler/syntax#ËØ≠Ê≥ïÊëòË¶Å","content":" ‰ª•‰∏ã‰∏∫ÁÆÄÂåñÊñáÊ≥ïÔºà‰æø‰∫éÂø´ÈÄüÊü•ÈòÖÔºåÂÖ∑‰Ωì‰ª•ÁºñËØëÂô®ÂÆûÁé∞‰∏∫ÂáÜÔºâÔºö  file = [packageDecl] {optionDecl} {importDecl} {typeDecl} ; packageDecl = &quot;package&quot; qualifiedName [&quot;alias&quot; identifier] &quot;;&quot; ; optionDecl = &quot;option&quot; identifier &quot;=&quot; optionValue &quot;;&quot; ; importDecl = &quot;import&quot; stringLiteral &quot;;&quot; ; typeDecl = enumDecl | messageDecl | unionDecl ; enumDecl = &quot;enum&quot; identifier [typeOptions] &quot;{&quot; {enumField | reservedDecl} &quot;}&quot; ; enumField = identifier &quot;=&quot; intLiteral &quot;;&quot; ; messageDecl = &quot;message&quot; identifier [typeOptions] &quot;{&quot; {fieldDecl | nestedTypeDecl | reservedDecl} &quot;}&quot; ; unionDecl = &quot;union&quot; identifier [typeOptions] &quot;{&quot; {unionCaseDecl} &quot;}&quot; ; fieldDecl = [fieldModifier] typeRef identifier &quot;=&quot; intLiteral [fieldOptions] &quot;;&quot; ; unionCaseDecl = typeRef identifier &quot;=&quot; intLiteral [fieldOptions] &quot;;&quot; ; fieldModifier = &quot;optional&quot; | &quot;ref&quot; | &quot;list&quot; ; typeRef = primitiveType | qualifiedName | listType | mapType ; listType = &quot;list&quot; &quot;&lt;&quot; typeRef &quot;&gt;&quot; ; mapType = &quot;map&quot; &quot;&lt;&quot; typeRef &quot;,&quot; typeRef &quot;&gt;&quot; ; typeOptions = &quot;[&quot; optionPair {&quot;,&quot; optionPair} &quot;]&quot; ; fieldOptions = &quot;[&quot; optionPair {&quot;,&quot; optionPair} &quot;]&quot; ; optionPair = identifier &quot;=&quot; optionValue ; reservedDecl = &quot;reserved&quot; reservedItem {&quot;,&quot; reservedItem} &quot;;&quot; ; reservedItem = intLiteral | intLiteral &quot;to&quot; intLiteral | stringLiteral ;   ÂÆûÁé∞Âª∫ËÆÆÔºöÂ¶ÇÈúÄ‰∏•Ë∞®È™åËØÅÔºåËØ∑‰ª•ÁºñËØëÂô®ËØ≠Ê≥ïËß£ÊûêÂô®ÂíåÊµãËØïÁî®‰æã‰∏∫ÂáÜ„ÄÇ ","version":"dev","tagName":"h2"},{"title":"GraalVM Guide","type":0,"sectionRef":"#","url":"/zh-CN/docs/next/docs/guide/serialization","content":"","keywords":"","version":"dev"},{"title":"GraalVM Native Image‚Äã","type":1,"pageTitle":"GraalVM Guide","url":"/zh-CN/docs/next/docs/guide/serialization#graalvm-native-image","content":" GraalVM native image compiles Java code into native executables ahead-of-time, resulting in faster startup and lower memory usage. However, native images don't support runtime JIT compilation or reflection without explicit configuration.  Apache Fory‚Ñ¢ works excellently with GraalVM native image by using codegen instead of reflection. All serializer code is generated at build time, eliminating the need for reflection configuration files in most cases.  ","version":"dev","tagName":"h2"},{"title":"How It Works‚Äã","type":1,"pageTitle":"GraalVM Guide","url":"/zh-CN/docs/next/docs/guide/serialization#how-it-works","content":" Fory generates serialization code at GraalVM build time when you:  Create Fory as a static fieldRegister all classes in a static initializerCall fory.ensureSerializersCompiled() to compile serializersConfigure the class to initialize at build time via native-image.properties  The main benefit: You don't need to configure reflection json or serialization json for most serializable classes.  Note: Fory's asyncCompilationEnabled option is automatically disabled for GraalVM native image since runtime JIT is not supported.  ","version":"dev","tagName":"h2"},{"title":"Basic Usage‚Äã","type":1,"pageTitle":"GraalVM Guide","url":"/zh-CN/docs/next/docs/guide/serialization#basic-usage","content":" ","version":"dev","tagName":"h2"},{"title":"Step 1: Create Fory and Register Classes‚Äã","type":1,"pageTitle":"GraalVM Guide","url":"/zh-CN/docs/next/docs/guide/serialization#step-1-create-fory-and-register-classes","content":" import org.apache.fory.Fory; public class Example { // Must be static field static Fory fory; static { fory = Fory.builder().build(); fory.register(MyClass.class); fory.register(AnotherClass.class); // Compile all serializers at build time fory.ensureSerializersCompiled(); } public static void main(String[] args) { byte[] bytes = fory.serialize(new MyClass()); MyClass obj = (MyClass) fory.deserialize(bytes); } }   ","version":"dev","tagName":"h3"},{"title":"Step 2: Configure Build-Time Initialization‚Äã","type":1,"pageTitle":"GraalVM Guide","url":"/zh-CN/docs/next/docs/guide/serialization#step-2-configure-build-time-initialization","content":" Create resources/META-INF/native-image/your-group/your-artifact/native-image.properties:  Args = --initialize-at-build-time=com.example.Example   ","version":"dev","tagName":"h3"},{"title":"ForyGraalVMFeature (Optional)‚Äã","type":1,"pageTitle":"GraalVM Guide","url":"/zh-CN/docs/next/docs/guide/serialization#forygraalvmfeature-optional","content":" For most types with public constructors, the basic setup above is sufficient. However, some advanced cases require reflection registration:  Private constructors (classes without accessible no-arg constructor)Private inner classes/recordsDynamic proxy serialization  The fory-graalvm-feature module automatically handles these cases, eliminating the need for manual reflect-config.json configuration.  ","version":"dev","tagName":"h2"},{"title":"Adding the Dependency‚Äã","type":1,"pageTitle":"GraalVM Guide","url":"/zh-CN/docs/next/docs/guide/serialization#adding-the-dependency","content":" &lt;dependency&gt; &lt;groupId&gt;org.apache.fory&lt;/groupId&gt; &lt;artifactId&gt;fory-graalvm-feature&lt;/artifactId&gt; &lt;version&gt;${fory.version}&lt;/version&gt; &lt;/dependency&gt;   ","version":"dev","tagName":"h3"},{"title":"Enabling the Feature‚Äã","type":1,"pageTitle":"GraalVM Guide","url":"/zh-CN/docs/next/docs/guide/serialization#enabling-the-feature","content":" Add to your native-image.properties:  Args = --initialize-at-build-time=com.example.Example \\ --features=org.apache.fory.graalvm.feature.ForyGraalVMFeature   ","version":"dev","tagName":"h3"},{"title":"What ForyGraalVMFeature Handles‚Äã","type":1,"pageTitle":"GraalVM Guide","url":"/zh-CN/docs/next/docs/guide/serialization#what-forygraalvmfeature-handles","content":" Scenario\tWithout Feature\tWith FeaturePublic classes with no-arg ctor\t‚úÖ Works\t‚úÖ Works Private constructors\t‚ùå Needs reflect-config.json\t‚úÖ Auto-registered Private inner records\t‚ùå Needs reflect-config.json\t‚úÖ Auto-registered Dynamic proxies\t‚ùå Needs manual config\t‚úÖ Auto-registered  ","version":"dev","tagName":"h3"},{"title":"Example with Private Record‚Äã","type":1,"pageTitle":"GraalVM Guide","url":"/zh-CN/docs/next/docs/guide/serialization#example-with-private-record","content":" public class Example { // Private inner record - requires ForyGraalVMFeature private record PrivateRecord(int id, String name) {} static Fory fory; static { fory = Fory.builder().build(); fory.register(PrivateRecord.class); fory.ensureSerializersCompiled(); } }   ","version":"dev","tagName":"h3"},{"title":"Example with Dynamic Proxy‚Äã","type":1,"pageTitle":"GraalVM Guide","url":"/zh-CN/docs/next/docs/guide/serialization#example-with-dynamic-proxy","content":" import org.apache.fory.util.GraalvmSupport; public class ProxyExample { public interface MyService { String execute(); } static Fory fory; static { fory = Fory.builder().build(); // Register proxy interface for serialization GraalvmSupport.registerProxySupport(MyService.class); fory.ensureSerializersCompiled(); } }   ","version":"dev","tagName":"h3"},{"title":"Thread-Safe Fory‚Äã","type":1,"pageTitle":"GraalVM Guide","url":"/zh-CN/docs/next/docs/guide/serialization#thread-safe-fory","content":" For multi-threaded applications, use ThreadLocalFory:  import org.apache.fory.Fory; import org.apache.fory.ThreadLocalFory; import org.apache.fory.ThreadSafeFory; public class ThreadSafeExample { public record Foo(int f1, String f2, List&lt;String&gt; f3) {} static ThreadSafeFory fory; static { fory = new ThreadLocalFory(classLoader -&gt; { Fory f = Fory.builder().build(); f.register(Foo.class); f.ensureSerializersCompiled(); return f; }); } public static void main(String[] args) { Foo foo = new Foo(10, &quot;abc&quot;, List.of(&quot;str1&quot;, &quot;str2&quot;)); byte[] bytes = fory.serialize(foo); Foo result = (Foo) fory.deserialize(bytes); } }   ","version":"dev","tagName":"h2"},{"title":"Troubleshooting‚Äã","type":1,"pageTitle":"GraalVM Guide","url":"/zh-CN/docs/next/docs/guide/serialization#troubleshooting","content":" ","version":"dev","tagName":"h2"},{"title":"\"Type is instantiated reflectively but was never registered\"‚Äã","type":1,"pageTitle":"GraalVM Guide","url":"/zh-CN/docs/next/docs/guide/serialization#type-is-instantiated-reflectively-but-was-never-registered","content":" If you see this error:  Type com.example.MyClass is instantiated reflectively but was never registered   Solution: Register the class with Fory (don't add to reflect-config.json):  fory.register(MyClass.class); fory.ensureSerializersCompiled();   If the class has a private constructor, either:  Add fory-graalvm-feature dependency, orCreate a reflect-config.json for that specific class  ","version":"dev","tagName":"h3"},{"title":"Framework Integration‚Äã","type":1,"pageTitle":"GraalVM Guide","url":"/zh-CN/docs/next/docs/guide/serialization#framework-integration","content":" For framework developers integrating Fory:  Provide a configuration file for users to list serializable classesLoad those classes and call fory.register(Class&lt;?&gt;) for eachCall fory.ensureSerializersCompiled() after all registrationsConfigure your integration class for build-time initialization  ","version":"dev","tagName":"h2"},{"title":"Benchmark‚Äã","type":1,"pageTitle":"GraalVM Guide","url":"/zh-CN/docs/next/docs/guide/serialization#benchmark","content":" Performance comparison between Fory and GraalVM JDK Serialization:  Type\tCompression\tSpeed\tSizeStruct\tOff\t46x faster\t43% Struct\tOn\t24x faster\t31% Pojo\tOff\t12x faster\t56% Pojo\tOn\t12x faster\t48%  See Benchmark.java for benchmark code.  ","version":"dev","tagName":"h2"},{"title":"Struct Benchmark‚Äã","type":1,"pageTitle":"GraalVM Guide","url":"/zh-CN/docs/next/docs/guide/serialization#struct-benchmark","content":" Class Fields‚Äã  public class Struct implements Serializable { public int f1; public long f2; public float f3; public double f4; public int f5; public long f6; public float f7; public double f8; public int f9; public long f10; public float f11; public double f12; }   Benchmark Results‚Äã  No compression:  Benchmark repeat number: 400000 Object type: class org.apache.fory.graalvm.Struct Compress number: false Fory size: 76.0 JDK size: 178.0 Fory serialization took mills: 49 JDK serialization took mills: 2254 Compare speed: Fory is 45.70x speed of JDK Compare size: Fory is 0.43x size of JDK   Compress number:  Benchmark repeat number: 400000 Object type: class org.apache.fory.graalvm.Struct Compress number: true Fory size: 55.0 JDK size: 178.0 Fory serialization took mills: 130 JDK serialization took mills: 3161 Compare speed: Fory is 24.16x speed of JDK Compare size: Fory is 0.31x size of JDK   ","version":"dev","tagName":"h3"},{"title":"Pojo Benchmark‚Äã","type":1,"pageTitle":"GraalVM Guide","url":"/zh-CN/docs/next/docs/guide/serialization#pojo-benchmark","content":" Class Fields‚Äã  public class Foo implements Serializable { int f1; String f2; List&lt;String&gt; f3; Map&lt;String, Long&gt; f4; }   Benchmark Results‚Äã  No compression:  Benchmark repeat number: 400000 Object type: class org.apache.fory.graalvm.Foo Compress number: false Fory size: 541.0 JDK size: 964.0 Fory serialization took mills: 1663 JDK serialization took mills: 16266 Compare speed: Fory is 12.19x speed of JDK Compare size: Fory is 0.56x size of JDK   Compress number:  Benchmark repeat number: 400000 Object type: class org.apache.fory.graalvm.Foo Compress number: true Fory size: 459.0 JDK size: 964.0 Fory serialization took mills: 1289 JDK serialization took mills: 15069 Compare speed: Fory is 12.11x speed of JDK Compare size: Fory is 0.48x size of JDK  ","version":"dev","tagName":"h3"},{"title":"C++ Â∫èÂàóÂåñÊåáÂçó","type":0,"sectionRef":"#","url":"/zh-CN/docs/next/guide/cpp/","content":"","keywords":"","version":"dev"},{"title":"‰∏∫‰ªÄ‰πàÈÄâÊã© Apache Fory‚Ñ¢ C++Ôºü‚Äã","type":1,"pageTitle":"C++ Â∫èÂàóÂåñÊåáÂçó","url":"/zh-CN/docs/next/guide/cpp/#‰∏∫‰ªÄ‰πàÈÄâÊã©-apache-fory-c","content":" üî• ÊûÅÈÄüÊÄßËÉΩÔºöÂø´ÈÄüÂ∫èÂàóÂåñÂíå‰ºòÂåñÁöÑ‰∫åËøõÂà∂ÂçèËÆÆüåç Ë∑®ËØ≠Ë®ÄÔºöÂú® Java„ÄÅPython„ÄÅC++„ÄÅGo„ÄÅJavaScript Âíå Rust ‰πãÈó¥Êó†ÁºùÂ∫èÂàóÂåñ/ÂèçÂ∫èÂàóÂåñÊï∞ÊçÆüéØ Á±ªÂûãÂÆâÂÖ®ÔºöÂü∫‰∫éÂÆèÁöÑÁªìÊûÑ‰ΩìÊ≥®ÂÜåÂÆûÁé∞ÁºñËØëÊó∂Á±ªÂûãÊ£ÄÊü•üîÑ ÂºïÁî®Ë∑üË∏™ÔºöËá™Âä®Ë∑üË∏™ÂÖ±‰∫´ÂºïÁî®ÂíåÂæ™ÁéØÂºïÁî®üì¶ Schema ÊºîÂåñÔºöÂÖºÂÆπÊ®°ÂºèÊîØÊåÅÁã¨Á´ãÁöÑ schema ÂèòÊõ¥‚ö° ÂèåÊ†ºÂºèÊîØÊåÅÔºöÂØπË±°ÂõæÂ∫èÂàóÂåñÂíåÈõ∂Êã∑Ë¥ùË°åÊ†ºÂºèüßµ Á∫øÁ®ãÂÆâÂÖ®ÔºöÂêåÊó∂Êèê‰æõÂçïÁ∫øÁ®ãÔºàÊúÄÂø´ÔºâÂíåÁ∫øÁ®ãÂÆâÂÖ®‰∏§ÁßçÂèò‰Ωì  ","version":"dev","tagName":"h2"},{"title":"ÂÆâË£Ö‚Äã","type":1,"pageTitle":"C++ Â∫èÂàóÂåñÊåáÂçó","url":"/zh-CN/docs/next/guide/cpp/#ÂÆâË£Ö","content":" C++ ÂÆûÁé∞ÂêåÊó∂ÊîØÊåÅ CMake Âíå Bazel ÊûÑÂª∫Á≥ªÁªü„ÄÇ  ","version":"dev","tagName":"h2"},{"title":"ÂâçÁΩÆÊù°‰ª∂‚Äã","type":1,"pageTitle":"C++ Â∫èÂàóÂåñÊåáÂçó","url":"/zh-CN/docs/next/guide/cpp/#ÂâçÁΩÆÊù°‰ª∂","content":" CMake 3.16+ÔºàÁî®‰∫é CMake ÊûÑÂª∫ÔºâÊàñ Bazel 8+ÔºàÁî®‰∫é Bazel ÊûÑÂª∫ÔºâC++17 ÂÖºÂÆπÁöÑÁºñËØëÂô®ÔºàGCC 7+„ÄÅClang 5+„ÄÅMSVC 2017+Ôºâ  ","version":"dev","tagName":"h3"},{"title":"‰ΩøÁî® CMakeÔºàÊé®ËçêÔºâ‚Äã","type":1,"pageTitle":"C++ Â∫èÂàóÂåñÊåáÂçó","url":"/zh-CN/docs/next/guide/cpp/#‰ΩøÁî®-cmakeÊé®Ëçê","content":" ‰ΩøÁî® CMake ÁöÑ FetchContent Ê®°ÂùóÊòØÊúÄÁÆÄÂçïÁöÑÊñπÂºèÔºö  cmake_minimum_required(VERSION 3.16) project(my_project LANGUAGES CXX) set(CMAKE_CXX_STANDARD 17) set(CMAKE_CXX_STANDARD_REQUIRED ON) include(FetchContent) FetchContent_Declare( fory GIT_REPOSITORY https://github.com/apache/fory.git GIT_TAG v0.14.1 SOURCE_SUBDIR cpp ) FetchContent_MakeAvailable(fory) add_executable(my_app main.cc) target_link_libraries(my_app PRIVATE fory::serialization)   ÁÑ∂ÂêéÊûÑÂª∫Âπ∂ËøêË°åÔºö  mkdir build &amp;&amp; cd build cmake .. -DCMAKE_BUILD_TYPE=Release cmake --build . --parallel ./my_app   ","version":"dev","tagName":"h3"},{"title":"‰ΩøÁî® Bazel‚Äã","type":1,"pageTitle":"C++ Â∫èÂàóÂåñÊåáÂçó","url":"/zh-CN/docs/next/guide/cpp/#‰ΩøÁî®-bazel","content":" Âú®È°πÁõÆÊ†πÁõÆÂΩïÂàõÂª∫ MODULE.bazel Êñá‰ª∂Ôºö  module( name = &quot;my_project&quot;, version = &quot;1.0.0&quot;, ) bazel_dep(name = &quot;rules_cc&quot;, version = &quot;0.1.1&quot;) bazel_dep(name = &quot;fory&quot;, version = &quot;0.14.1&quot;) git_override( module_name = &quot;fory&quot;, remote = &quot;https://github.com/apache/fory.git&quot;, commit = &quot;v0.14.1&quot;, # Êàñ‰ΩøÁî®ÁâπÂÆöÁöÑ commit hash ‰ª•Á°Æ‰øùÂèØÈáçÁé∞ÊÄß )   ‰∏∫Â∫îÁî®Á®ãÂ∫èÂàõÂª∫ BUILD Êñá‰ª∂Ôºö  cc_binary( name = &quot;my_app&quot;, srcs = [&quot;main.cc&quot;], deps = [&quot;@fory//cpp/fory/serialization:fory_serialization&quot;], )   ÁÑ∂ÂêéÊûÑÂª∫Âπ∂ËøêË°åÔºö  bazel build //:my_app bazel run //:my_app   ÂØπ‰∫éÊú¨Âú∞ÂºÄÂèëÔºåÂèØ‰ª•‰ΩøÁî® local_path_overrideÔºö  bazel_dep(name = &quot;fory&quot;, version = &quot;0.14.1&quot;) local_path_override( module_name = &quot;fory&quot;, path = &quot;/path/to/fory&quot;, )   ","version":"dev","tagName":"h3"},{"title":"Á§∫‰æã‚Äã","type":1,"pageTitle":"C++ Â∫èÂàóÂåñÊåáÂçó","url":"/zh-CN/docs/next/guide/cpp/#Á§∫‰æã","content":" ËØ∑ÂèÇÈòÖ examples/cpp ÁõÆÂΩïËé∑ÂèñÂÆåÊï¥ÁöÑÂ∑•‰ΩúÁ§∫‰æãÔºö  hello_world - ÂØπË±°ÂõæÂ∫èÂàóÂåñhello_row - Ë°åÊ†ºÂºèÁºñÁ†Å  ","version":"dev","tagName":"h3"},{"title":"Âø´ÈÄüÂºÄÂßã‚Äã","type":1,"pageTitle":"C++ Â∫èÂàóÂåñÊåáÂçó","url":"/zh-CN/docs/next/guide/cpp/#Âø´ÈÄüÂºÄÂßã","content":" ","version":"dev","tagName":"h2"},{"title":"Âü∫Á°ÄÁ§∫‰æã‚Äã","type":1,"pageTitle":"C++ Â∫èÂàóÂåñÊåáÂçó","url":"/zh-CN/docs/next/guide/cpp/#Âü∫Á°ÄÁ§∫‰æã","content":" #include &quot;fory/serialization/fory.h&quot; using namespace fory::serialization; // ÂÆö‰πâÁªìÊûÑ‰Ωì struct Person { std::string name; int32_t age; std::vector&lt;std::string&gt; hobbies; bool operator==(const Person &amp;other) const { return name == other.name &amp;&amp; age == other.age &amp;&amp; hobbies == other.hobbies; } }; // ‰ΩøÁî® Fory Ê≥®ÂÜåÁªìÊûÑ‰ΩìÔºàÂøÖÈ°ªÂú®Âêå‰∏ÄÂëΩÂêçÁ©∫Èó¥‰∏≠Ôºâ FORY_STRUCT(Person, name, age, hobbies); int main() { // ÂàõÂª∫ Fory ÂÆû‰æã auto fory = Fory::builder() .xlang(true) // ÂêØÁî®Ë∑®ËØ≠Ë®ÄÊ®°Âºè .track_ref(false) // ÂØπÁÆÄÂçïÁ±ªÂûãÁ¶ÅÁî®ÂºïÁî®Ë∑üË∏™ .build(); // ‰ΩøÁî®ÂîØ‰∏Ä ID Ê≥®ÂÜåÁ±ªÂûã fory.register_struct&lt;Person&gt;(1); // ÂàõÂª∫ÂØπË±° Person person{&quot;Alice&quot;, 30, {&quot;reading&quot;, &quot;coding&quot;}}; // Â∫èÂàóÂåñ auto result = fory.serialize(person); if (!result.ok()) { // Â§ÑÁêÜÈîôËØØ return 1; } std::vector&lt;uint8_t&gt; bytes = std::move(result).value(); // ÂèçÂ∫èÂàóÂåñ auto deser_result = fory.deserialize&lt;Person&gt;(bytes); if (!deser_result.ok()) { // Â§ÑÁêÜÈîôËØØ return 1; } Person decoded = std::move(deser_result).value(); assert(person == decoded); return 0; }   ","version":"dev","tagName":"h3"},{"title":"Á∫øÁ®ãÂÆâÂÖ®‚Äã","type":1,"pageTitle":"C++ Â∫èÂàóÂåñÊåáÂçó","url":"/zh-CN/docs/next/guide/cpp/#Á∫øÁ®ãÂÆâÂÖ®","content":" Apache Fory‚Ñ¢ C++ ‰∏∫‰∏çÂêåÁöÑÁ∫øÁ®ãÈúÄÊ±ÇÊèê‰æõ‰∏§ÁßçÂèò‰ΩìÔºö  ","version":"dev","tagName":"h2"},{"title":"ÂçïÁ∫øÁ®ãÔºàÊúÄÂø´Ôºâ‚Äã","type":1,"pageTitle":"C++ Â∫èÂàóÂåñÊåáÂçó","url":"/zh-CN/docs/next/guide/cpp/#ÂçïÁ∫øÁ®ãÊúÄÂø´","content":" // ÂçïÁ∫øÁ®ã Fory - ÊúÄÂø´Ôºå‰ΩÜÈùûÁ∫øÁ®ãÂÆâÂÖ® auto fory = Fory::builder() .xlang(true) .build();   ","version":"dev","tagName":"h3"},{"title":"Á∫øÁ®ãÂÆâÂÖ®‚Äã","type":1,"pageTitle":"C++ Â∫èÂàóÂåñÊåáÂçó","url":"/zh-CN/docs/next/guide/cpp/#Á∫øÁ®ãÂÆâÂÖ®-1","content":" // Á∫øÁ®ãÂÆâÂÖ® Fory - ‰ΩøÁî®‰∏ä‰∏ãÊñáÊ±† auto fory = Fory::builder() .xlang(true) .build_thread_safe(); // ÂèØ‰ª•‰ªéÂ§ö‰∏™Á∫øÁ®ãÂÆâÂÖ®‰ΩøÁî® std::thread t1([&amp;]() { auto result = fory.serialize(obj1); }); std::thread t2([&amp;]() { auto result = fory.serialize(obj2); });   ÊèêÁ§∫Ôºö Âú®ÁîüÊàêÁ∫øÁ®ã‰πãÂâçÂÆåÊàêÁ±ªÂûãÊ≥®ÂÜåÔºå‰ª•Á°Æ‰øùÊØè‰∏™Â∑•‰ΩúÁ∫øÁ®ãÁúãÂà∞Áõ∏ÂêåÁöÑÂÖÉÊï∞ÊçÆ„ÄÇ  ","version":"dev","tagName":"h3"},{"title":"‰ΩøÁî®Âú∫ÊôØ‚Äã","type":1,"pageTitle":"C++ Â∫èÂàóÂåñÊåáÂçó","url":"/zh-CN/docs/next/guide/cpp/#‰ΩøÁî®Âú∫ÊôØ","content":" ","version":"dev","tagName":"h2"},{"title":"ÂØπË±°Â∫èÂàóÂåñ‚Äã","type":1,"pageTitle":"C++ Â∫èÂàóÂåñÊåáÂçó","url":"/zh-CN/docs/next/guide/cpp/#ÂØπË±°Â∫èÂàóÂåñ","content":" ÂåÖÂê´ÂµåÂ•óÂØπË±°ÂíåÂºïÁî®ÁöÑÂ§çÊùÇÊï∞ÊçÆÁªìÊûÑÂæÆÊúçÂä°‰∏≠ÁöÑË∑®ËØ≠Ë®ÄÈÄö‰ø°ÂÖ∑ÊúâÂÆåÊï¥Á±ªÂûãÂÆâÂÖ®ÁöÑÈÄöÁî®Â∫èÂàóÂåñ‰ΩøÁî®ÂÖºÂÆπÊ®°ÂºèÁöÑ schema ÊºîÂåñ  ","version":"dev","tagName":"h3"},{"title":"Ë°åÊ†ºÂºèÂ∫èÂàóÂåñ‚Äã","type":1,"pageTitle":"C++ Â∫èÂàóÂåñÊåáÂçó","url":"/zh-CN/docs/next/guide/cpp/#Ë°åÊ†ºÂºèÂ∫èÂàóÂåñ","content":" È´òÂêûÂêêÈáèÊï∞ÊçÆÂ§ÑÁêÜÈúÄË¶ÅÂø´ÈÄüÂ≠óÊÆµËÆøÈóÆÁöÑÂàÜÊûêÂ∑•‰ΩúË¥üËΩΩÂÜÖÂ≠òÂèóÈôêÁéØÂ¢ÉÈõ∂Êã∑Ë¥ùÂú∫ÊôØ  ","version":"dev","tagName":"h3"},{"title":"ÂêéÁª≠Ê≠•È™§‚Äã","type":1,"pageTitle":"C++ Â∫èÂàóÂåñÊåáÂçó","url":"/zh-CN/docs/next/guide/cpp/#ÂêéÁª≠Ê≠•È™§","content":" ÈÖçÁΩÆ - ÊûÑÂª∫Âô®ÈÄâÈ°πÂíåÊ®°ÂºèÂü∫Á°ÄÂ∫èÂàóÂåñ - ÂØπË±°ÂõæÂ∫èÂàóÂåñSchema ÊºîÂåñ - ÂÖºÂÆπÊ®°ÂºèÂíå schema ÂèòÊõ¥Á±ªÂûãÊ≥®ÂÜå - Ê≥®ÂÜåÁ±ªÂûãÊîØÊåÅÁöÑÁ±ªÂûã - ÊâÄÊúâÊîØÊåÅÁöÑÁ±ªÂûãË∑®ËØ≠Ë®Ä - XLANG Ê®°ÂºèË°åÊ†ºÂºè - Èõ∂Êã∑Ë¥ùË°åÊ†ºÂºè ","version":"dev","tagName":"h2"},{"title":"Âü∫Á°ÄÂ∫èÂàóÂåñ","type":0,"sectionRef":"#","url":"/zh-CN/docs/next/guide/cpp/basic_serialization","content":"","keywords":"","version":"dev"},{"title":"ÂØπË±°ÂõæÂ∫èÂàóÂåñ‚Äã","type":1,"pageTitle":"Âü∫Á°ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/next/guide/cpp/basic_serialization#ÂØπË±°ÂõæÂ∫èÂàóÂåñ","content":" Apache Fory‚Ñ¢ Êèê‰æõÂ§çÊùÇÂØπË±°ÂõæÁöÑËá™Âä®Â∫èÂàóÂåñÔºå‰øùÁïôÂØπË±°‰πãÈó¥ÁöÑÁªìÊûÑÂíåÂÖ≥Á≥ª„ÄÇFORY_STRUCT ÂÆèÂú®ÁºñËØëÊó∂ÁîüÊàêÈ´òÊïàÁöÑÂ∫èÂàóÂåñ‰ª£Á†ÅÔºåÊ∂àÈô§ËøêË°åÊó∂ÂºÄÈîÄ„ÄÇ  Ê†∏ÂøÉÂäüËÉΩÔºö  ÊîØÊåÅ‰ªªÊÑèÊ∑±Â∫¶ÁöÑÂµåÂ•óÁªìÊûÑ‰ΩìÂ∫èÂàóÂåñÈõÜÂêàÁ±ªÂûãÔºàvector„ÄÅset„ÄÅmapÔºâ‰ΩøÁî® std::optional&lt;T&gt; ÁöÑÂèØÈÄâÂ≠óÊÆµÊô∫ËÉΩÊåáÈíàÔºàstd::shared_ptr„ÄÅstd::unique_ptrÔºâËá™Âä®Â§ÑÁêÜÂü∫Êú¨Á±ªÂûãÂíåÂ≠óÁ¨¶‰∏≤‰ΩøÁî®ÂèòÈïøÊï¥Êï∞ÁöÑÈ´òÊïà‰∫åËøõÂà∂ÁºñÁ†Å  #include &quot;fory/serialization/fory.h&quot; #include &lt;vector&gt; #include &lt;map&gt; using namespace fory::serialization; // ÂÆö‰πâÁªìÊûÑ‰Ωì struct Address { std::string street; std::string city; std::string country; bool operator==(const Address &amp;other) const { return street == other.street &amp;&amp; city == other.city &amp;&amp; country == other.country; } }; FORY_STRUCT(Address, street, city, country); struct Person { std::string name; int32_t age; Address address; std::vector&lt;std::string&gt; hobbies; std::map&lt;std::string, std::string&gt; metadata; bool operator==(const Person &amp;other) const { return name == other.name &amp;&amp; age == other.age &amp;&amp; address == other.address &amp;&amp; hobbies == other.hobbies &amp;&amp; metadata == other.metadata; } }; FORY_STRUCT(Person, name, age, address, hobbies, metadata); int main() { auto fory = Fory::builder().xlang(true).build(); fory.register_struct&lt;Address&gt;(100); fory.register_struct&lt;Person&gt;(200); Person person{ &quot;John Doe&quot;, 30, {&quot;123 Main St&quot;, &quot;New York&quot;, &quot;USA&quot;}, {&quot;reading&quot;, &quot;coding&quot;}, {{&quot;role&quot;, &quot;developer&quot;}} }; auto result = fory.serialize(person); auto decoded = fory.deserialize&lt;Person&gt;(result.value()); assert(person == decoded.value()); }   ","version":"dev","tagName":"h2"},{"title":"Â∫èÂàóÂåñ API‚Äã","type":1,"pageTitle":"Âü∫Á°ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/next/guide/cpp/basic_serialization#Â∫èÂàóÂåñ-api","content":" ","version":"dev","tagName":"h2"},{"title":"Â∫èÂàóÂåñÂà∞Êñ∞ Vector‚Äã","type":1,"pageTitle":"Âü∫Á°ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/next/guide/cpp/basic_serialization#Â∫èÂàóÂåñÂà∞Êñ∞-vector","content":" auto fory = Fory::builder().xlang(true).build(); fory.register_struct&lt;MyStruct&gt;(1); MyStruct obj{/* ... */}; // Â∫èÂàóÂåñ - ËøîÂõû Result&lt;std::vector&lt;uint8_t&gt;, Error&gt; auto result = fory.serialize(obj); if (result.ok()) { std::vector&lt;uint8_t&gt; bytes = std::move(result).value(); // ‰ΩøÁî® bytes... } else { // Â§ÑÁêÜÈîôËØØ std::cerr &lt;&lt; result.error().to_string() &lt;&lt; std::endl; }   ","version":"dev","tagName":"h3"},{"title":"Â∫èÂàóÂåñÂà∞Áé∞ÊúâÁºìÂÜ≤Âå∫‚Äã","type":1,"pageTitle":"Âü∫Á°ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/next/guide/cpp/basic_serialization#Â∫èÂàóÂåñÂà∞Áé∞ÊúâÁºìÂÜ≤Âå∫","content":" // Â∫èÂàóÂåñÂà∞Áé∞Êúâ BufferÔºàÊúÄÂø´Ë∑ØÂæÑÔºâ Buffer buffer; auto result = fory.serialize_to(buffer, obj); if (result.ok()) { size_t bytes_written = result.value(); // buffer Áé∞Âú®ÂåÖÂê´Â∫èÂàóÂåñÊï∞ÊçÆ } // Â∫èÂàóÂåñÂà∞Áé∞Êúâ vectorÔºàÈõ∂Êã∑Ë¥ùÔºâ std::vector&lt;uint8_t&gt; output; auto result = fory.serialize_to(output, obj); if (result.ok()) { size_t bytes_written = result.value(); // output Áé∞Âú®ÂåÖÂê´Â∫èÂàóÂåñÊï∞ÊçÆ }   ","version":"dev","tagName":"h3"},{"title":"‰ªéÂ≠óËäÇÊï∞ÁªÑÂèçÂ∫èÂàóÂåñ‚Äã","type":1,"pageTitle":"Âü∫Á°ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/next/guide/cpp/basic_serialization#‰ªéÂ≠óËäÇÊï∞ÁªÑÂèçÂ∫èÂàóÂåñ","content":" // ‰ªéÂéüÂßãÊåáÈíàÂèçÂ∫èÂàóÂåñ auto result = fory.deserialize&lt;MyStruct&gt;(data_ptr, data_size); if (result.ok()) { MyStruct obj = std::move(result).value(); } // ‰ªé vector ÂèçÂ∫èÂàóÂåñ std::vector&lt;uint8_t&gt; data = /* ... */; auto result = fory.deserialize&lt;MyStruct&gt;(data); // ‰ªé Buffer ÂèçÂ∫èÂàóÂåñÔºàÊõ¥Êñ∞ reader_indexÔºâ Buffer buffer(data); auto result = fory.deserialize&lt;MyStruct&gt;(buffer);   ","version":"dev","tagName":"h3"},{"title":"ÈîôËØØÂ§ÑÁêÜ‚Äã","type":1,"pageTitle":"Âü∫Á°ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/next/guide/cpp/basic_serialization#ÈîôËØØÂ§ÑÁêÜ","content":" Fory ‰ΩøÁî® Result&lt;T, Error&gt; Á±ªÂûãËøõË°åÈîôËØØÂ§ÑÁêÜÔºö  auto result = fory.serialize(obj); // Ê£ÄÊü•Êìç‰ΩúÊòØÂê¶ÊàêÂäü if (result.ok()) { auto value = std::move(result).value(); // ‰ΩøÁî® value... } else { Error error = result.error(); std::cerr &lt;&lt; &quot;Error: &quot; &lt;&lt; error.to_string() &lt;&lt; std::endl; } // Êàñ‰ΩøÁî® FORY_TRY ÂÆèËøõË°åÊèêÂâçËøîÂõû FORY_TRY(bytes, fory.serialize(obj)); // Áõ¥Êé•‰ΩøÁî® bytes...   Â∏∏ËßÅÈîôËØØÁ±ªÂûãÔºö  Error::type_mismatch - ÂèçÂ∫èÂàóÂåñÊó∂Á±ªÂûã ID ‰∏çÂåπÈÖçError::invalid_data - Êó†ÊïàÊàñÊçüÂùèÁöÑÊï∞ÊçÆError::buffer_out_of_bound - ÁºìÂÜ≤Âå∫Ê∫¢Âá∫/‰∏ãÊ∫¢Error::type_error - Á±ªÂûãÊ≥®ÂÜåÈîôËØØ  ","version":"dev","tagName":"h2"},{"title":"FORY_STRUCT ÂÆè‚Äã","type":1,"pageTitle":"Âü∫Á°ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/next/guide/cpp/basic_serialization#fory_struct-ÂÆè","content":" FORY_STRUCT ÂÆèÁî®‰∫éÊ≥®ÂÜåÁªìÊûÑ‰Ωì‰ª•ËøõË°åÂ∫èÂàóÂåñÔºö  struct MyStruct { int32_t x; std::string y; std::vector&lt;int32_t&gt; z; }; // ÂøÖÈ°ª‰∏éÁªìÊûÑ‰ΩìÂú®Âêå‰∏ÄÂëΩÂêçÁ©∫Èó¥‰∏≠ FORY_STRUCT(MyStruct, x, y, z);   ËØ•ÂÆèÔºö  ÁîüÊàêÁºñËØëÊó∂Â≠óÊÆµÂÖÉÊï∞ÊçÆÂêØÁî® ADLÔºàÂèÇÊï∞‰æùËµñÊü•ÊâæÔºâËøõË°åÂ∫èÂàóÂåñÈÄöËøáÊ®°ÊùøÁâπÂåñÂàõÂª∫È´òÊïàÁöÑÂ∫èÂàóÂåñ‰ª£Á†Å  Ë¶ÅÊ±ÇÔºö  ÂøÖÈ°ªÊîæÂú®‰∏éÁªìÊûÑ‰ΩìÁõ∏ÂêåÁöÑÂëΩÂêçÁ©∫Èó¥‰∏≠ÔºàÁî®‰∫é ADLÔºâÊâÄÊúâÂàóÂá∫ÁöÑÂ≠óÊÆµÂøÖÈ°ªÊòØÂèØÂ∫èÂàóÂåñÁ±ªÂûãÂÆè‰∏≠ÁöÑÂ≠óÊÆµÈ°∫Â∫èÂÜ≥ÂÆöÂ∫èÂàóÂåñÈ°∫Â∫è  ","version":"dev","tagName":"h2"},{"title":"ÂµåÂ•óÁªìÊûÑ‰Ωì‚Äã","type":1,"pageTitle":"Âü∫Á°ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/next/guide/cpp/basic_serialization#ÂµåÂ•óÁªìÊûÑ‰Ωì","content":" ÂÆåÂÖ®ÊîØÊåÅÂµåÂ•óÁªìÊûÑ‰ΩìÔºö  struct Inner { int32_t value; }; FORY_STRUCT(Inner, value); struct Outer { Inner inner; std::string label; }; FORY_STRUCT(Outer, inner, label); // ‰∏§ËÄÖÈÉΩÂøÖÈ°ªÊ≥®ÂÜå fory.register_struct&lt;Inner&gt;(1); fory.register_struct&lt;Outer&gt;(2);   ","version":"dev","tagName":"h2"},{"title":"ÊÄßËÉΩÊèêÁ§∫‚Äã","type":1,"pageTitle":"Âü∫Á°ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/next/guide/cpp/basic_serialization#ÊÄßËÉΩÊèêÁ§∫","content":" ÁºìÂÜ≤Âå∫Â§çÁî®Ôºö‰ΩøÁî® serialize_to(buffer, obj) ÈÖçÂêàÈ¢ÑÂàÜÈÖçÁöÑÁºìÂÜ≤Âå∫È¢ÑÊ≥®ÂÜåÔºöÂú®Â∫èÂàóÂåñÂºÄÂßãÂâçÊ≥®ÂÜåÊâÄÊúâÁ±ªÂûãÂçïÁ∫øÁ®ãÔºöÂ∞ΩÂèØËÉΩ‰ΩøÁî® build() ËÄå‰∏çÊòØ build_thread_safe()Á¶ÅÁî®Ë∑üË∏™ÔºöÂΩì‰∏çÈúÄË¶ÅÂºïÁî®Ë∑üË∏™Êó∂‰ΩøÁî® track_ref(false)Á¥ßÂáëÁºñÁ†ÅÔºö‰ΩøÁî®ÂèòÈïøÁºñÁ†ÅÊèêÈ´òÁ©∫Èó¥ÊïàÁéá  ","version":"dev","tagName":"h2"},{"title":"Áõ∏ÂÖ≥‰∏ªÈ¢ò‚Äã","type":1,"pageTitle":"Âü∫Á°ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/next/guide/cpp/basic_serialization#Áõ∏ÂÖ≥‰∏ªÈ¢ò","content":" ÈÖçÁΩÆ - ÊûÑÂª∫Âô®ÈÄâÈ°πÁ±ªÂûãÊ≥®ÂÜå - Ê≥®ÂÜåÁ±ªÂûãÊîØÊåÅÁöÑÁ±ªÂûã - ÊâÄÊúâÊîØÊåÅÁöÑÁ±ªÂûã ","version":"dev","tagName":"h2"},{"title":"ÁîüÊàê‰ª£Á†Å","type":0,"sectionRef":"#","url":"/zh-CN/docs/next/compiler/generated_code","content":"","keywords":"","version":"dev"},{"title":"ÂèÇËÄÉ Schema‚Äã","type":1,"pageTitle":"ÁîüÊàê‰ª£Á†Å","url":"/zh-CN/docs/next/compiler/generated_code#ÂèÇËÄÉ-schema","content":" ‰∏ãÈù¢Á§∫‰æãÂü∫‰∫é‰∏§‰∏™ÁúüÂÆû schemaÔºö  addressbook.fdlÔºàÊòæÂºèÁ±ªÂûã IDÔºâauto_id.fdlÔºàÊú™ÊòæÂºèÂ£∞ÊòéÁ±ªÂûã IDÔºâ  ","version":"dev","tagName":"h2"},{"title":"addressbook.fdlÔºàËäÇÈÄâÔºâ‚Äã","type":1,"pageTitle":"ÁîüÊàê‰ª£Á†Å","url":"/zh-CN/docs/next/compiler/generated_code#addressbookfdlËäÇÈÄâ","content":" package addressbook; option go_package = &quot;github.com/myorg/myrepo/gen/addressbook;addressbook&quot;; message Person [id=100] { string name = 1; int32 id = 2; enum PhoneType [id=101] { PHONE_TYPE_MOBILE = 0; PHONE_TYPE_HOME = 1; PHONE_TYPE_WORK = 2; } message PhoneNumber [id=102] { string number = 1; PhoneType phone_type = 2; } list&lt;PhoneNumber&gt; phones = 7; Animal pet = 8; } message Dog [id=104] { string name = 1; int32 bark_volume = 2; } message Cat [id=105] { string name = 1; int32 lives = 2; } union Animal [id=106] { Dog dog = 1; Cat cat = 2; } message AddressBook [id=103] { list&lt;Person&gt; people = 1; map&lt;string, Person&gt; people_by_name = 2; }   ","version":"dev","tagName":"h3"},{"title":"auto_id.fdlÔºàËäÇÈÄâÔºâ‚Äã","type":1,"pageTitle":"ÁîüÊàê‰ª£Á†Å","url":"/zh-CN/docs/next/compiler/generated_code#auto_idfdlËäÇÈÄâ","content":" package auto_id; enum Status { UNKNOWN = 0; OK = 1; } message Envelope { string id = 1; message Payload { int32 value = 1; } union Detail { Payload payload = 1; string note = 2; } Payload payload = 2; Detail detail = 3; Status status = 4; } union Wrapper { Envelope envelope = 1; string raw = 2; }   ","version":"dev","tagName":"h3"},{"title":"Java‚Äã","type":1,"pageTitle":"ÁîüÊàê‰ª£Á†Å","url":"/zh-CN/docs/next/compiler/generated_code#java","content":" ","version":"dev","tagName":"h2"},{"title":"ËæìÂá∫Â∏ÉÂ±Ä‚Äã","type":1,"pageTitle":"ÁîüÊàê‰ª£Á†Å","url":"/zh-CN/docs/next/compiler/generated_code#ËæìÂá∫Â∏ÉÂ±Ä","content":" ÂØπ‰∫é package addressbookÔºåJava ËæìÂá∫ÈÄöÂ∏∏‰Ωç‰∫éÔºö  &lt;java_out&gt;/addressbook/Á±ªÂûãÊñá‰ª∂ÔºöAddressBook.java„ÄÅPerson.java„ÄÅDog.java„ÄÅCat.java„ÄÅAnimal.javaÊ≥®ÂÜåËæÖÂä©Á±ªÔºöAddressbookForyRegistration.java  ","version":"dev","tagName":"h3"},{"title":"Á±ªÂûãÁîüÊàê‚Äã","type":1,"pageTitle":"ÁîüÊàê‰ª£Á†Å","url":"/zh-CN/docs/next/compiler/generated_code#Á±ªÂûãÁîüÊàê","content":" message ‰ºöÁîüÊàêÂ∏¶ @ForyField„ÄÅÈªòËÆ§ÊûÑÈÄ†Âô®„ÄÅgetter/setter ‰ª•ÂèäÂ≠óËäÇËæÖÂä©ÊñπÊ≥ïÁöÑ Java Á±ªÔºö  public class Person { public static enum PhoneType { MOBILE, HOME, WORK; } public static class PhoneNumber { @ForyField(id = 1) private String number; @ForyField(id = 2) private PhoneType phoneType; public byte[] toBytes() { ... } public static PhoneNumber fromBytes(byte[] bytes) { ... } } @ForyField(id = 1) private String name; @ForyField(id = 8) private Animal pet; public byte[] toBytes() { ... } public static Person fromBytes(byte[] bytes) { ... } }   union ‰ºöÁîüÊàêÁªßÊâø org.apache.fory.type.union.Union ÁöÑÁ±ªÔºö  public final class Animal extends Union { public enum AnimalCase { DOG(1), CAT(2); public final int id; AnimalCase(int id) { this.id = id; } } public static Animal ofDog(Dog v) { ... } public AnimalCase getAnimalCase() { ... } public int getAnimalCaseId() { ... } public boolean hasDog() { ... } public Dog getDog() { ... } public void setDog(Dog v) { ... } }   ","version":"dev","tagName":"h3"},{"title":"Ê≥®ÂÜå‚Äã","type":1,"pageTitle":"ÁîüÊàê‰ª£Á†Å","url":"/zh-CN/docs/next/compiler/generated_code#Ê≥®ÂÜå","content":" ÁîüÊàêÁöÑÊ≥®ÂÜåËæÖÂä©ÊñπÊ≥ïÔºö  public static void register(Fory fory) { org.apache.fory.resolver.TypeResolver resolver = fory.getTypeResolver(); resolver.registerUnion(Animal.class, 106L, new org.apache.fory.serializer.UnionSerializer(fory, Animal.class)); resolver.register(Person.class, 100L); resolver.register(Person.PhoneType.class, 101L); resolver.register(Person.PhoneNumber.class, 102L); resolver.register(Dog.class, 104L); resolver.register(Cat.class, 105L); resolver.register(AddressBook.class, 103L); }   ÂØπ‰∫éÊú™ÊòæÂºè [id=...] ÁöÑ schemaÔºåÊ≥®ÂÜå‰ª£Á†Å‰ºö‰ΩøÁî®ËÆ°ÁÆóÂæóÂà∞ÁöÑÊï∞ÂÄº IDÔºà‰æãÂ¶Ç auto_id.fdlÔºâÔºö  resolver.register(Status.class, 1124725126L); resolver.registerUnion(Wrapper.class, 1471345060L, new org.apache.fory.serializer.UnionSerializer(fory, Wrapper.class)); resolver.register(Envelope.class, 3022445236L); resolver.registerUnion(Envelope.Detail.class, 1609214087L, new org.apache.fory.serializer.UnionSerializer(fory, Envelope.Detail.class)); resolver.register(Envelope.Payload.class, 2862577837L);   Ëã•ËÆæÁΩÆ option enable_auto_type_id = false;ÔºåÂàôÊåâÂëΩÂêçÁ©∫Èó¥‰∏éÁ±ªÂûãÂêçÊ≥®ÂÜåÔºö  resolver.register(Config.class, &quot;myapp.models&quot;, &quot;Config&quot;); resolver.registerUnion( Holder.class, &quot;myapp.models&quot;, &quot;Holder&quot;, new org.apache.fory.serializer.UnionSerializer(fory, Holder.class));   ","version":"dev","tagName":"h3"},{"title":"‰ΩøÁî®Á§∫‰æã‚Äã","type":1,"pageTitle":"ÁîüÊàê‰ª£Á†Å","url":"/zh-CN/docs/next/compiler/generated_code#‰ΩøÁî®Á§∫‰æã","content":" Person person = new Person(); person.setName(&quot;Alice&quot;); person.setPet(Animal.ofDog(new Dog())); byte[] data = person.toBytes(); Person restored = Person.fromBytes(data);   ","version":"dev","tagName":"h3"},{"title":"Python‚Äã","type":1,"pageTitle":"ÁîüÊàê‰ª£Á†Å","url":"/zh-CN/docs/next/compiler/generated_code#python","content":" ","version":"dev","tagName":"h2"},{"title":"ËæìÂá∫Â∏ÉÂ±Ä‚Äã","type":1,"pageTitle":"ÁîüÊàê‰ª£Á†Å","url":"/zh-CN/docs/next/compiler/generated_code#ËæìÂá∫Â∏ÉÂ±Ä-1","content":" Python ÊØè‰∏™ schema Êñá‰ª∂ÁîüÊàê‰∏Ä‰∏™Ê®°ÂùóÔºå‰æãÂ¶ÇÔºö  &lt;python_out&gt;/addressbook.py  ","version":"dev","tagName":"h3"},{"title":"Á±ªÂûãÁîüÊàê‚Äã","type":1,"pageTitle":"ÁîüÊàê‰ª£Á†Å","url":"/zh-CN/docs/next/compiler/generated_code#Á±ªÂûãÁîüÊàê-1","content":" union ÁîüÊàê case Êûö‰∏æ‰∏é Union Â≠êÁ±ªÔºåÂπ∂Êèê‰æõÁ±ªÂûãÂåñËæÖÂä©ÊñπÊ≥ïÔºö  class AnimalCase(Enum): DOG = 1 CAT = 2 class Animal(Union): @classmethod def dog(cls, v: Dog) -&gt; &quot;Animal&quot;: ... def case(self) -&gt; AnimalCase: ... def case_id(self) -&gt; int: ... def is_dog(self) -&gt; bool: ... def dog_value(self) -&gt; Dog: ... def set_dog(self, v: Dog) -&gt; None: ...   message ÁîüÊàê @pyfory.dataclass Á±ªÂûãÔºåÂµåÂ•óÁ±ªÂûã‰øùÊåÅÂµåÂ•óÔºö  @pyfory.dataclass class Person: class PhoneType(IntEnum): MOBILE = 0 HOME = 1 WORK = 2 @pyfory.dataclass class PhoneNumber: number: str = pyfory.field(id=1, default=&quot;&quot;) phone_type: Person.PhoneType = pyfory.field(id=2, default=None) name: str = pyfory.field(id=1, default=&quot;&quot;) phones: List[Person.PhoneNumber] = pyfory.field(id=7, default_factory=list) pet: Animal = pyfory.field(id=8, default=None) def to_bytes(self) -&gt; bytes: ... @classmethod def from_bytes(cls, data: bytes) -&gt; &quot;Person&quot;: ...   ","version":"dev","tagName":"h3"},{"title":"Ê≥®ÂÜå‚Äã","type":1,"pageTitle":"ÁîüÊàê‰ª£Á†Å","url":"/zh-CN/docs/next/compiler/generated_code#Ê≥®ÂÜå-1","content":" ÁîüÊàêÊ≥®ÂÜåÂáΩÊï∞Ôºö  def register_addressbook_types(fory: pyfory.Fory): fory.register_union(Animal, type_id=106, serializer=AnimalSerializer(fory)) fory.register_type(Person, type_id=100) fory.register_type(Person.PhoneType, type_id=101) fory.register_type(Person.PhoneNumber, type_id=102) fory.register_type(Dog, type_id=104) fory.register_type(Cat, type_id=105) fory.register_type(AddressBook, type_id=103)   Êú™ÊòæÂºè [id=...] Êó∂ÔºåÊ≥®ÂÜå‰ª£Á†Å‰ΩøÁî®ËÆ°ÁÆóÂæóÂà∞ÁöÑÊï∞ÂÄº IDÔºö  fory.register_type(Status, type_id=1124725126) fory.register_union(Wrapper, type_id=1471345060, serializer=WrapperSerializer(fory)) fory.register_type(Envelope, type_id=3022445236) fory.register_union(Envelope.Detail, type_id=1609214087, serializer=Envelope.DetailSerializer(fory)) fory.register_type(Envelope.Payload, type_id=2862577837)   Ëã•ËÆæÁΩÆ option enable_auto_type_id = false;Ôºö  fory.register_type(Config, namespace=&quot;myapp.models&quot;, typename=&quot;Config&quot;) fory.register_union( Holder, namespace=&quot;myapp.models&quot;, typename=&quot;Holder&quot;, serializer=HolderSerializer(fory), )   ","version":"dev","tagName":"h3"},{"title":"‰ΩøÁî®Á§∫‰æã‚Äã","type":1,"pageTitle":"ÁîüÊàê‰ª£Á†Å","url":"/zh-CN/docs/next/compiler/generated_code#‰ΩøÁî®Á§∫‰æã-1","content":" person = Person(name=&quot;Alice&quot;, pet=Animal.dog(Dog(name=&quot;Rex&quot;, bark_volume=10))) data = person.to_bytes() restored = Person.from_bytes(data)   ","version":"dev","tagName":"h3"},{"title":"Rust‚Äã","type":1,"pageTitle":"ÁîüÊàê‰ª£Á†Å","url":"/zh-CN/docs/next/compiler/generated_code#rust","content":" ","version":"dev","tagName":"h2"},{"title":"ËæìÂá∫Â∏ÉÂ±Ä‚Äã","type":1,"pageTitle":"ÁîüÊàê‰ª£Á†Å","url":"/zh-CN/docs/next/compiler/generated_code#ËæìÂá∫Â∏ÉÂ±Ä-2","content":" Rust ÊØè‰∏™ schema ÁîüÊàê‰∏Ä‰∏™Ê®°ÂùóÊñá‰ª∂Ôºå‰æãÂ¶ÇÔºö  &lt;rust_out&gt;/addressbook.rs  ","version":"dev","tagName":"h3"},{"title":"Á±ªÂûãÁîüÊàê‚Äã","type":1,"pageTitle":"ÁîüÊàê‰ª£Á†Å","url":"/zh-CN/docs/next/compiler/generated_code#Á±ªÂûãÁîüÊàê-2","content":" union Êò†Â∞Ñ‰∏∫ Rust enumÔºåÂπ∂Áî® #[fory(id = ...)] Â£∞Êòé case IDÔºö  #[derive(ForyObject, Debug, Clone, PartialEq)] pub enum Animal { #[fory(id = 1)] Dog(Dog), #[fory(id = 2)] Cat(Cat), }   ÂµåÂ•óÁ±ªÂûãÁîüÊàêÂµåÂ•ó moduleÔºö  pub mod person { #[derive(ForyObject, Debug, Clone, PartialEq, Default)] #[repr(i32)] pub enum PhoneType { #[default] Mobile = 0, Home = 1, Work = 2, } #[derive(ForyObject, Debug, Clone, PartialEq, Default)] pub struct PhoneNumber { #[fory(id = 1)] pub number: String, #[fory(id = 2)] pub phone_type: PhoneType, } }   message ‰ºö derive(ForyObject) Âπ∂ÁîüÊàê to_bytes/from_bytesÔºö  #[derive(ForyObject, Debug, Clone, PartialEq, Default)] pub struct Person { #[fory(id = 1)] pub name: String, #[fory(id = 7)] pub phones: Vec&lt;person::PhoneNumber&gt;, #[fory(id = 8, type_id = &quot;union&quot;)] pub pet: Animal, }   ","version":"dev","tagName":"h3"},{"title":"Ê≥®ÂÜå‚Äã","type":1,"pageTitle":"ÁîüÊàê‰ª£Á†Å","url":"/zh-CN/docs/next/compiler/generated_code#Ê≥®ÂÜå-2","content":" ÁîüÊàêÊ≥®ÂÜåÂáΩÊï∞Ôºö  pub fn register_types(fory: &amp;mut Fory) -&gt; Result&lt;(), fory::Error&gt; { fory.register_union::&lt;Animal&gt;(106)?; fory.register::&lt;person::PhoneType&gt;(101)?; fory.register::&lt;person::PhoneNumber&gt;(102)?; fory.register::&lt;Person&gt;(100)?; fory.register::&lt;Dog&gt;(104)?; fory.register::&lt;Cat&gt;(105)?; fory.register::&lt;AddressBook&gt;(103)?; Ok(()) }   Êú™ÊòæÂºè [id=...] Êó∂ÔºåÊ≥®ÂÜå‰ª£Á†Å‰ΩøÁî®ËÆ°ÁÆóÂæóÂà∞ÁöÑÊï∞ÂÄº IDÔºö  fory.register::&lt;Status&gt;(1124725126)?; fory.register_union::&lt;Wrapper&gt;(1471345060)?; fory.register::&lt;Envelope&gt;(3022445236)?; fory.register_union::&lt;envelope::Detail&gt;(1609214087)?; fory.register::&lt;envelope::Payload&gt;(2862577837)?;   Ëã•ËÆæÁΩÆ option enable_auto_type_id = false;Ôºö  fory.register_by_namespace::&lt;Config&gt;(&quot;myapp.models&quot;, &quot;Config&quot;)?; fory.register_union_by_namespace::&lt;Holder&gt;(&quot;myapp.models&quot;, &quot;Holder&quot;)?;   ","version":"dev","tagName":"h3"},{"title":"‰ΩøÁî®Á§∫‰æã‚Äã","type":1,"pageTitle":"ÁîüÊàê‰ª£Á†Å","url":"/zh-CN/docs/next/compiler/generated_code#‰ΩøÁî®Á§∫‰æã-2","content":" let person = Person { name: &quot;Alice&quot;.into(), pet: Animal::Dog(Dog::default()), ..Default::default() }; let bytes = person.to_bytes()?; let restored = Person::from_bytes(&amp;bytes)?;   ","version":"dev","tagName":"h3"},{"title":"C++‚Äã","type":1,"pageTitle":"ÁîüÊàê‰ª£Á†Å","url":"/zh-CN/docs/next/compiler/generated_code#c","content":" ","version":"dev","tagName":"h2"},{"title":"ËæìÂá∫Â∏ÉÂ±Ä‚Äã","type":1,"pageTitle":"ÁîüÊàê‰ª£Á†Å","url":"/zh-CN/docs/next/compiler/generated_code#ËæìÂá∫Â∏ÉÂ±Ä-3","content":" C++ ÊØè‰∏™ schema Êñá‰ª∂ÁîüÊàê‰∏Ä‰∏™Â§¥Êñá‰ª∂Ôºå‰æãÂ¶ÇÔºö  &lt;cpp_out&gt;/addressbook.h  ","version":"dev","tagName":"h3"},{"title":"Á±ªÂûãÁîüÊàê‚Äã","type":1,"pageTitle":"ÁîüÊàê‰ª£Á†Å","url":"/zh-CN/docs/next/compiler/generated_code#Á±ªÂûãÁîüÊàê-3","content":" message ‰ºöÁîüÊàê final Á±ªÔºåÂπ∂ÂåÖÂê´Á±ªÂûãÂåñËÆøÈóÆÂô®‰∏éÂ≠óËäÇËæÖÂä©ÊñπÊ≥ïÔºö  class Person final { public: class PhoneNumber final { public: const std::string&amp; number() const; std::string* mutable_number(); template &lt;class Arg, class... Args&gt; void set_number(Arg&amp;&amp; arg, Args&amp;&amp;... args); fory::Result&lt;std::vector&lt;uint8_t&gt;, fory::Error&gt; to_bytes() const; static fory::Result&lt;PhoneNumber, fory::Error&gt; from_bytes(const std::vector&lt;uint8_t&gt;&amp; data); }; const std::string&amp; name() const; std::string* mutable_name(); template &lt;class Arg, class... Args&gt; void set_name(Arg&amp;&amp; arg, Args&amp;&amp;... args); const Animal&amp; pet() const; Animal* mutable_pet(); };   ÂèØÈÄâ message Â≠óÊÆµ‰ºöÁîüÊàê has_xxx„ÄÅmutable_xxx„ÄÅclear_xxx APIÔºö  class Envelope final { public: bool has_payload() const { return payload_ != nullptr; } const Envelope::Payload&amp; payload() const { return *payload_; } Envelope::Payload* mutable_payload() { if (!payload_) { payload_ = std::make_unique&lt;Envelope::Payload&gt;(); } return payload_.get(); } void clear_payload() { payload_.reset(); } private: std::unique_ptr&lt;Envelope::Payload&gt; payload_; };   union ‰ºöÁîüÊàêÂü∫‰∫é std::variant ÁöÑÂ∞ÅË£ÖÔºö  class Animal final { public: enum class AnimalCase : uint32_t { DOG = 1, CAT = 2, }; static Animal dog(Dog v); static Animal cat(Cat v); AnimalCase animal_case() const noexcept; uint32_t animal_case_id() const noexcept; bool is_dog() const noexcept; const Dog* as_dog() const noexcept; Dog* as_dog() noexcept; const Dog&amp; dog() const; Dog&amp; dog(); template &lt;class Visitor&gt; decltype(auto) visit(Visitor&amp;&amp; vis) const; private: std::variant&lt;Dog, Cat&gt; value_; };   ÁîüÊàêÂ§¥Êñá‰ª∂Ëøò‰ºöÂåÖÂê´ FORY_UNION„ÄÅFORY_FIELD_CONFIG„ÄÅFORY_ENUM„ÄÅFORY_STRUCT Á≠âÂ∫èÂàóÂåñÂÖÉ‰ø°ÊÅØÂÆè„ÄÇ  ","version":"dev","tagName":"h3"},{"title":"Ê≥®ÂÜå‚Äã","type":1,"pageTitle":"ÁîüÊàê‰ª£Á†Å","url":"/zh-CN/docs/next/compiler/generated_code#Ê≥®ÂÜå-3","content":" ÁîüÊàêÊ≥®ÂÜåÂáΩÊï∞Ôºö  inline void register_types(fory::serialization::BaseFory&amp; fory) { fory.register_union&lt;Animal&gt;(106); fory.register_enum&lt;Person::PhoneType&gt;(101); fory.register_struct&lt;Person::PhoneNumber&gt;(102); fory.register_struct&lt;Person&gt;(100); fory.register_struct&lt;Dog&gt;(104); fory.register_struct&lt;Cat&gt;(105); fory.register_struct&lt;AddressBook&gt;(103); }   Êú™ÊòæÂºè [id=...] Êó∂ÔºåÊ≥®ÂÜå‰ª£Á†Å‰ΩøÁî®ËÆ°ÁÆóÂæóÂà∞ÁöÑÊï∞ÂÄº IDÔºö  fory.register_enum&lt;Status&gt;(1124725126); fory.register_union&lt;Wrapper&gt;(1471345060); fory.register_struct&lt;Envelope&gt;(3022445236); fory.register_union&lt;Envelope::Detail&gt;(1609214087); fory.register_struct&lt;Envelope::Payload&gt;(2862577837);   Ëã•ËÆæÁΩÆ option enable_auto_type_id = false;Ôºö  fory.register_struct&lt;Config&gt;(&quot;myapp.models&quot;, &quot;Config&quot;); fory.register_union&lt;Holder&gt;(&quot;myapp.models&quot;, &quot;Holder&quot;);   ","version":"dev","tagName":"h3"},{"title":"‰ΩøÁî®Á§∫‰æã‚Äã","type":1,"pageTitle":"ÁîüÊàê‰ª£Á†Å","url":"/zh-CN/docs/next/compiler/generated_code#‰ΩøÁî®Á§∫‰æã-3","content":" addressbook::Person person; person.set_name(&quot;Alice&quot;); *person.mutable_pet() = addressbook::Animal::dog(addressbook::Dog{}); auto bytes = person.to_bytes(); auto restored = addressbook::Person::from_bytes(bytes.value());   ","version":"dev","tagName":"h3"},{"title":"Go‚Äã","type":1,"pageTitle":"ÁîüÊàê‰ª£Á†Å","url":"/zh-CN/docs/next/compiler/generated_code#go","content":" ","version":"dev","tagName":"h2"},{"title":"ËæìÂá∫Â∏ÉÂ±Ä‚Äã","type":1,"pageTitle":"ÁîüÊàê‰ª£Á†Å","url":"/zh-CN/docs/next/compiler/generated_code#ËæìÂá∫Â∏ÉÂ±Ä-4","content":" Go ËæìÂá∫Ë∑ØÂæÑÂèó schema ÈÄâÈ°π‰∏é --go_out ÂÖ±ÂêåÂΩ±Âìç„ÄÇ  ÂØπ‰∫é addressbook.fdlÔºåËã•ÈÖçÁΩÆ‰∫Ü go_packageÔºåÁîüÊàêÁªìÊûú‰ºöÈÅµÂæ™ÂØπÂ∫î import path/packageÔºà‰Ωç‰∫é --go_out Ê†πÁõÆÂΩï‰∏ãÔºâ„ÄÇ  Ëã•Êú™ÈÖçÁΩÆ go_packageÔºåÂàô‰ΩøÁî® --go_out ÊåáÂÆöÁõÆÂΩïÔºåÂπ∂Êåâ package ËßÑÂàôÁîüÊàêÊñá‰ª∂Âêç‰∏éÂåÖÂêç„ÄÇ  ","version":"dev","tagName":"h3"},{"title":"Á±ªÂûãÁîüÊàê‚Äã","type":1,"pageTitle":"ÁîüÊàê‰ª£Á†Å","url":"/zh-CN/docs/next/compiler/generated_code#Á±ªÂûãÁîüÊàê-4","content":" ÂµåÂ•óÁ±ªÂûãÈªòËÆ§‰ΩøÁî®‰∏ãÂàíÁ∫øÂëΩÂêçÔºàPerson_PhoneType„ÄÅPerson_PhoneNumberÔºâÔºö  type Person_PhoneType int32 const ( Person_PhoneTypeMobile Person_PhoneType = 0 Person_PhoneTypeHome Person_PhoneType = 1 Person_PhoneTypeWork Person_PhoneType = 2 ) type Person_PhoneNumber struct { Number string `fory:&quot;id=1&quot;` PhoneType Person_PhoneType `fory:&quot;id=2&quot;` }   message ‰ºöÁîüÊàêÂ∏¶ fory tag ÁöÑ struct ‰∏éÂ≠óËäÇËæÖÂä©ÊñπÊ≥ïÔºö  type Person struct { Name string `fory:&quot;id=1&quot;` Id int32 `fory:&quot;id=2,compress=true&quot;` Phones []Person_PhoneNumber `fory:&quot;id=7&quot;` Pet Animal `fory:&quot;id=8&quot;` } func (m *Person) ToBytes() ([]byte, error) { ... } func (m *Person) FromBytes(data []byte) error { ... }   union ‰ºöÁîüÊàê case structÔºåÂπ∂Êèê‰æõÊûÑÈÄ†Âô®/ËÆøÈóÆÂô®/visitor APIÔºö  type AnimalCase uint32 type Animal struct { case_ AnimalCase value any } func DogAnimal(v *Dog) Animal { ... } func CatAnimal(v *Cat) Animal { ... } func (u Animal) Case() AnimalCase { ... } func (u Animal) AsDog() (*Dog, bool) { ... } func (u Animal) Visit(visitor AnimalVisitor) error { ... }   ","version":"dev","tagName":"h3"},{"title":"Ê≥®ÂÜå‚Äã","type":1,"pageTitle":"ÁîüÊàê‰ª£Á†Å","url":"/zh-CN/docs/next/compiler/generated_code#Ê≥®ÂÜå-4","content":" ÁîüÊàêÊ≥®ÂÜåÂáΩÊï∞Ôºö  func RegisterTypes(f *fory.Fory) error { if err := f.RegisterUnion(Animal{}, 106, fory.NewUnionSerializer(...)); err != nil { return err } if err := f.RegisterEnum(Person_PhoneType(0), 101); err != nil { return err } if err := f.RegisterStruct(Person_PhoneNumber{}, 102); err != nil { return err } if err := f.RegisterStruct(Person{}, 100); err != nil { return err } return nil }   Êú™ÊòæÂºè [id=...] Êó∂ÔºåÊ≥®ÂÜå‰ª£Á†Å‰ΩøÁî®ËÆ°ÁÆóÂæóÂà∞ÁöÑÊï∞ÂÄº IDÔºö  if err := f.RegisterEnum(Status(0), 1124725126); err != nil { ... } if err := f.RegisterUnion(Wrapper{}, 1471345060, fory.NewUnionSerializer(...)); err != nil { ... } if err := f.RegisterStruct(Envelope{}, 3022445236); err != nil { ... } if err := f.RegisterUnion(Envelope_Detail{}, 1609214087, fory.NewUnionSerializer(...)); err != nil { ... } if err := f.RegisterStruct(Envelope_Payload{}, 2862577837); err != nil { ... }   Ëã•ËÆæÁΩÆ option enable_auto_type_id = false;Ôºö  if err := f.RegisterNamedStruct(Config{}, &quot;myapp.models.Config&quot;); err != nil { ... } if err := f.RegisterNamedUnion(Holder{}, &quot;myapp.models.Holder&quot;, fory.NewUnionSerializer(...)); err != nil { ... }   go_nested_type_style ÂèØÊéßÂà∂ÂµåÂ•óÁ±ªÂûãÂëΩÂêçÈ£éÊ†ºÔºö  option go_nested_type_style = &quot;camelcase&quot;;   ","version":"dev","tagName":"h3"},{"title":"‰ΩøÁî®Á§∫‰æã‚Äã","type":1,"pageTitle":"ÁîüÊàê‰ª£Á†Å","url":"/zh-CN/docs/next/compiler/generated_code#‰ΩøÁî®Á§∫‰æã-4","content":" person := &amp;Person{ Name: &quot;Alice&quot;, Pet: DogAnimal(&amp;Dog{Name: &quot;Rex&quot;}), } data, err := person.ToBytes() if err != nil { panic(err) } var restored Person if err := restored.FromBytes(data); err != nil { panic(err) }   ","version":"dev","tagName":"h3"},{"title":"Ë∑®ËØ≠Ë®ÄËØ¥Êòé‚Äã","type":1,"pageTitle":"ÁîüÊàê‰ª£Á†Å","url":"/zh-CN/docs/next/compiler/generated_code#Ë∑®ËØ≠Ë®ÄËØ¥Êòé","content":" ","version":"dev","tagName":"h2"},{"title":"Á±ªÂûã ID Ë°å‰∏∫‚Äã","type":1,"pageTitle":"ÁîüÊàê‰ª£Á†Å","url":"/zh-CN/docs/next/compiler/generated_code#Á±ªÂûã-id-Ë°å‰∏∫","content":" ÊòæÂºè [id=...] ‰ºöÁõ¥Êé•Áî®‰∫éÁîüÊàêÊ≥®ÂÜå‰ª£Á†Å„ÄÇÊú™Â£∞ÊòéÁ±ªÂûã ID Êó∂ÔºåÁîüÊàê‰ª£Á†Å‰ºö‰ΩøÁî®ËÆ°ÁÆóÂæóÂà∞ÁöÑÊï∞ÂÄº IDÔºàÂèÇËßÅ auto_id.* ËæìÂá∫Ôºâ„ÄÇËã•ËÆæÁΩÆ option enable_auto_type_id = false;ÔºåÂàôÁîüÊàê‰ª£Á†ÅÊîπ‰∏∫‰ΩøÁî® namespace/type-name Ê≥®ÂÜå APIÔºåËÄåÈùûÊï∞ÂÄº ID„ÄÇ  ","version":"dev","tagName":"h3"},{"title":"ÂµåÂ•óÁ±ªÂûãÂΩ¢ÊÄÅ‚Äã","type":1,"pageTitle":"ÁîüÊàê‰ª£Á†Å","url":"/zh-CN/docs/next/compiler/generated_code#ÂµåÂ•óÁ±ªÂûãÂΩ¢ÊÄÅ","content":" ËØ≠Ë®Ä\tÂµåÂ•óÁ±ªÂûãÂΩ¢ÂºèJava\tPerson.PhoneNumber Python\tPerson.PhoneNumber Rust\tperson::PhoneNumber C++\tPerson::PhoneNumber Go\tPerson_PhoneNumberÔºàÈªòËÆ§Ôºâ  ","version":"dev","tagName":"h3"},{"title":"Â≠óËäÇËæÖÂä©ÊñπÊ≥ïÂëΩÂêç‚Äã","type":1,"pageTitle":"ÁîüÊàê‰ª£Á†Å","url":"/zh-CN/docs/next/compiler/generated_code#Â≠óËäÇËæÖÂä©ÊñπÊ≥ïÂëΩÂêç","content":" ËØ≠Ë®Ä\tËæÖÂä©ÊñπÊ≥ïÂêçÁß∞Java\ttoBytes / fromBytes Python\tto_bytes / from_bytes Rust\tto_bytes / from_bytes C++\tto_bytes / from_bytes Go\tToBytes / FromBytes ","version":"dev","tagName":"h3"},{"title":"ÈÖçÁΩÆ","type":0,"sectionRef":"#","url":"/zh-CN/docs/next/guide/cpp/configuration","content":"","keywords":"","version":"dev"},{"title":"Â∫èÂàóÂåñÊ®°Âºè‚Äã","type":1,"pageTitle":"ÈÖçÁΩÆ","url":"/zh-CN/docs/next/guide/cpp/configuration#Â∫èÂàóÂåñÊ®°Âºè","content":" Apache Fory‚Ñ¢ ÊîØÊåÅ‰∏§ÁßçÂ∫èÂàóÂåñÊ®°ÂºèÔºö  ","version":"dev","tagName":"h2"},{"title":"SchemaConsistent Ê®°ÂºèÔºàÈªòËÆ§Ôºâ‚Äã","type":1,"pageTitle":"ÈÖçÁΩÆ","url":"/zh-CN/docs/next/guide/cpp/configuration#schemaconsistent-Ê®°ÂºèÈªòËÆ§","content":" Á±ªÂûãÂ£∞ÊòéÂøÖÈ°ªÂú®ÈÄö‰ø°ÂèåÊñπÂÆåÂÖ®ÂåπÈÖçÔºö  auto fory = Fory::builder().build(); // ÈªòËÆ§‰∏∫ SchemaConsistent   ","version":"dev","tagName":"h3"},{"title":"Compatible Ê®°Âºè‚Äã","type":1,"pageTitle":"ÈÖçÁΩÆ","url":"/zh-CN/docs/next/guide/cpp/configuration#compatible-Ê®°Âºè","content":" ÂÖÅËÆ∏Áã¨Á´ãÁöÑ schema ÊºîÂåñÔºö  auto fory = Fory::builder().compatible(true).build();   ","version":"dev","tagName":"h3"},{"title":"ÊûÑÂª∫Âô®Ê®°Âºè‚Äã","type":1,"pageTitle":"ÈÖçÁΩÆ","url":"/zh-CN/docs/next/guide/cpp/configuration#ÊûÑÂª∫Âô®Ê®°Âºè","content":" ‰ΩøÁî® ForyBuilder ÊûÑÈÄ†ÂÖ∑ÊúâËá™ÂÆö‰πâÈÖçÁΩÆÁöÑ Fory ÂÆû‰æãÔºö  #include &quot;fory/serialization/fory.h&quot; using namespace fory::serialization; // ÈªòËÆ§ÈÖçÁΩÆ auto fory = Fory::builder().build(); // Áî®‰∫é schema ÊºîÂåñÁöÑÂÖºÂÆπÊ®°Âºè auto fory = Fory::builder() .compatible(true) .build(); // Ë∑®ËØ≠Ë®ÄÊ®°Âºè auto fory = Fory::builder() .xlang(true) .build(); // ÂÆåÊï¥ÈÖçÁΩÆ auto fory = Fory::builder() .compatible(true) .xlang(true) .track_ref(true) .max_dyn_depth(10) .check_struct_version(true) .build();   ","version":"dev","tagName":"h2"},{"title":"ÈÖçÁΩÆÈÄâÈ°π‚Äã","type":1,"pageTitle":"ÈÖçÁΩÆ","url":"/zh-CN/docs/next/guide/cpp/configuration#ÈÖçÁΩÆÈÄâÈ°π","content":" ","version":"dev","tagName":"h2"},{"title":"xlang(bool)‚Äã","type":1,"pageTitle":"ÈÖçÁΩÆ","url":"/zh-CN/docs/next/guide/cpp/configuration#xlangbool","content":" ÂêØÁî®/Á¶ÅÁî®Ë∑®ËØ≠Ë®ÄÔºàxlangÔºâÂ∫èÂàóÂåñÊ®°Âºè„ÄÇ  auto fory = Fory::builder() .xlang(true) // ÂêØÁî®Ë∑®ËØ≠Ë®ÄÂÖºÂÆπÊÄß .build();   ÂêØÁî®ÂêéÔºåÂåÖÂê´Áî®‰∫é‰∏é Java„ÄÅPython„ÄÅGo„ÄÅRust Âíå JavaScript Ë∑®ËØ≠Ë®ÄÂÖºÂÆπÁöÑÂÖÉÊï∞ÊçÆ„ÄÇ  ÈªòËÆ§ÂÄºÔºö true  ","version":"dev","tagName":"h3"},{"title":"compatible(bool)‚Äã","type":1,"pageTitle":"ÈÖçÁΩÆ","url":"/zh-CN/docs/next/guide/cpp/configuration#compatiblebool","content":" ÂêØÁî®/Á¶ÅÁî®Áî®‰∫é schema ÊºîÂåñÁöÑÂÖºÂÆπÊ®°Âºè„ÄÇ  auto fory = Fory::builder() .compatible(true) // ÂêØÁî® schema ÊºîÂåñ .build();   ÂêØÁî®ÂêéÔºåÊîØÊåÅËØªÂèñ‰ΩøÁî®‰∏çÂêå schema ÁâàÊú¨Â∫èÂàóÂåñÁöÑÊï∞ÊçÆ„ÄÇ  ÈªòËÆ§ÂÄºÔºö false  ","version":"dev","tagName":"h3"},{"title":"track_ref(bool)‚Äã","type":1,"pageTitle":"ÈÖçÁΩÆ","url":"/zh-CN/docs/next/guide/cpp/configuration#track_refbool","content":" ÂêØÁî®/Á¶ÅÁî®ÂÖ±‰∫´ÂºïÁî®ÂíåÂæ™ÁéØÂºïÁî®ÁöÑÂºïÁî®Ë∑üË∏™„ÄÇ  auto fory = Fory::builder() .track_ref(true) // ÂêØÁî®ÂºïÁî®Ë∑üË∏™ .build();   ÂêØÁî®ÂêéÔºåÈÅøÂÖçÈáçÂ§çÂ∫èÂàóÂåñÂÖ±‰∫´ÂØπË±°Âπ∂Â§ÑÁêÜÂæ™ÁéØÂºïÁî®„ÄÇ  ÈªòËÆ§ÂÄºÔºö true  ","version":"dev","tagName":"h3"},{"title":"max_dyn_depth(uint32_t)‚Äã","type":1,"pageTitle":"ÈÖçÁΩÆ","url":"/zh-CN/docs/next/guide/cpp/configuration#max_dyn_depthuint32_t","content":" ËÆæÁΩÆÂä®ÊÄÅÁ±ªÂûãÂØπË±°ÁöÑÊúÄÂ§ßÂÖÅËÆ∏ÂµåÂ•óÊ∑±Â∫¶„ÄÇ  auto fory = Fory::builder() .max_dyn_depth(10) // ÂÖÅËÆ∏ÊúÄÂ§ö 10 Â±Ç .build();   ËøôÈôêÂà∂‰∫ÜÂµåÂ•óÂ§öÊÄÅÂØπË±°Â∫èÂàóÂåñÁöÑÊúÄÂ§ßÊ∑±Â∫¶Ôºà‰æãÂ¶Ç shared_ptr&lt;Base&gt;„ÄÅunique_ptr&lt;Base&gt;Ôºâ„ÄÇÈò≤Ê≠¢Ê∑±Â∫¶ÂµåÂ•óÁªìÊûÑÂú®Âä®ÊÄÅÂ∫èÂàóÂåñÂú∫ÊôØ‰∏≠ÂØºËá¥Ê†àÊ∫¢Âá∫„ÄÇ  ÈªòËÆ§ÂÄºÔºö 5  ‰ΩïÊó∂Ë∞ÉÊï¥Ôºö  Â¢ûÂä†ÔºöÂØπ‰∫éÂêàÊ≥ïÁöÑÊ∑±Â∫¶ÂµåÂ•óÊï∞ÊçÆÁªìÊûÑÂáèÂ∞ëÔºöÂØπ‰∫éÊõ¥‰∏•Ê†ºÁöÑÂÆâÂÖ®Ë¶ÅÊ±ÇÊàñÊµÖÂ±ÇÊï∞ÊçÆÁªìÊûÑ  ","version":"dev","tagName":"h3"},{"title":"check_struct_version(bool)‚Äã","type":1,"pageTitle":"ÈÖçÁΩÆ","url":"/zh-CN/docs/next/guide/cpp/configuration#check_struct_versionbool","content":" ÂêØÁî®/Á¶ÅÁî®ÁªìÊûÑ‰ΩìÁâàÊú¨Ê£ÄÊü•„ÄÇ  auto fory = Fory::builder() .check_struct_version(true) // ÂêØÁî®ÁâàÊú¨Ê£ÄÊü• .build();   ÂêØÁî®ÂêéÔºåÈ™åËØÅÁ±ªÂûãÂìàÂ∏å‰ª•Ê£ÄÊµã schema ‰∏çÂåπÈÖç„ÄÇ  ÈªòËÆ§ÂÄºÔºö false  ","version":"dev","tagName":"h3"},{"title":"Á∫øÁ®ãÂÆâÂÖ® vs ÂçïÁ∫øÁ®ã‚Äã","type":1,"pageTitle":"ÈÖçÁΩÆ","url":"/zh-CN/docs/next/guide/cpp/configuration#Á∫øÁ®ãÂÆâÂÖ®-vs-ÂçïÁ∫øÁ®ã","content":" ","version":"dev","tagName":"h2"},{"title":"ÂçïÁ∫øÁ®ãÔºàÊúÄÂø´Ôºâ‚Äã","type":1,"pageTitle":"ÈÖçÁΩÆ","url":"/zh-CN/docs/next/guide/cpp/configuration#ÂçïÁ∫øÁ®ãÊúÄÂø´","content":" auto fory = Fory::builder() .xlang(true) .build(); // ËøîÂõû Fory   ÂçïÁ∫øÁ®ã Fory ÊòØÊúÄÂø´ÁöÑÈÄâÈ°πÔºå‰ΩÜÈùûÁ∫øÁ®ãÂÆâÂÖ®„ÄÇÊØè‰∏™Á∫øÁ®ã‰ΩøÁî®‰∏Ä‰∏™ÂÆû‰æã„ÄÇ  ","version":"dev","tagName":"h3"},{"title":"Á∫øÁ®ãÂÆâÂÖ®‚Äã","type":1,"pageTitle":"ÈÖçÁΩÆ","url":"/zh-CN/docs/next/guide/cpp/configuration#Á∫øÁ®ãÂÆâÂÖ®","content":" auto fory = Fory::builder() .xlang(true) .build_thread_safe(); // ËøîÂõû ThreadSafeFory   ThreadSafeFory ‰ΩøÁî® Fory ÂÆû‰æãÊ±†Êèê‰æõÁ∫øÁ®ãÂÆâÂÖ®ÁöÑÂ∫èÂàóÂåñ„ÄÇÁî±‰∫éÊ±†ÂºÄÈîÄÁï•ÊÖ¢Ôºå‰ΩÜÂèØ‰ª•‰ªéÂ§ö‰∏™Á∫øÁ®ãÂπ∂ÂèëÂÆâÂÖ®‰ΩøÁî®„ÄÇ  ","version":"dev","tagName":"h3"},{"title":"ÈÖçÁΩÆÊëòË¶Å‚Äã","type":1,"pageTitle":"ÈÖçÁΩÆ","url":"/zh-CN/docs/next/guide/cpp/configuration#ÈÖçÁΩÆÊëòË¶Å","content":" ÈÄâÈ°π\tËØ¥Êòé\tÈªòËÆ§ÂÄºxlang(bool)\tÂêØÁî®Ë∑®ËØ≠Ë®ÄÊ®°Âºè\ttrue compatible(bool)\tÂêØÁî® schema ÊºîÂåñ\tfalse track_ref(bool)\tÂêØÁî®ÂºïÁî®Ë∑üË∏™\ttrue max_dyn_depth(uint32_t)\tÂä®ÊÄÅÁ±ªÂûãÁöÑÊúÄÂ§ßÂµåÂ•óÊ∑±Â∫¶\t5 check_struct_version(bool)\tÂêØÁî®ÁªìÊûÑ‰ΩìÁâàÊú¨Ê£ÄÊü•\tfalse  ","version":"dev","tagName":"h2"},{"title":"Áõ∏ÂÖ≥‰∏ªÈ¢ò‚Äã","type":1,"pageTitle":"ÈÖçÁΩÆ","url":"/zh-CN/docs/next/guide/cpp/configuration#Áõ∏ÂÖ≥‰∏ªÈ¢ò","content":" Âü∫Á°ÄÂ∫èÂàóÂåñ - ‰ΩøÁî®ÈÖçÁΩÆÁöÑ ForyË∑®ËØ≠Ë®Ä - XLANG Ê®°ÂºèËØ¶ÊÉÖÁ±ªÂûãÊ≥®ÂÜå - Ê≥®ÂÜåÁ±ªÂûã ","version":"dev","tagName":"h2"},{"title":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ","type":0,"sectionRef":"#","url":"/zh-CN/docs/next/guide/cpp/cross_language","content":"","keywords":"","version":"dev"},{"title":"Ê¶ÇËø∞‚Äã","type":1,"pageTitle":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/next/guide/cpp/cross_language#Ê¶ÇËø∞","content":" Apache Fory‚Ñ¢ ÊîØÊåÅÂú® C++„ÄÅJava„ÄÅPython„ÄÅGo„ÄÅRust Âíå JavaScript ‰πãÈó¥Êó†Áºù‰∫§Êç¢Êï∞ÊçÆ„ÄÇxlangÔºàË∑®ËØ≠Ë®ÄÔºâÊ®°ÂºèÁ°Æ‰øùÊâÄÊúâÊîØÊåÅËØ≠Ë®Ä‰πãÈó¥ÁöÑ‰∫åËøõÂà∂ÂÖºÂÆπÊÄß„ÄÇ  ","version":"dev","tagName":"h2"},{"title":"ÂêØÁî®Ë∑®ËØ≠Ë®ÄÊ®°Âºè‚Äã","type":1,"pageTitle":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/next/guide/cpp/cross_language#ÂêØÁî®Ë∑®ËØ≠Ë®ÄÊ®°Âºè","content":" #include &quot;fory/serialization/fory.h&quot; using namespace fory::serialization; auto fory = Fory::builder() .xlang(true) // ÂêØÁî®Ë∑®ËØ≠Ë®ÄÊ®°Âºè .build();   ","version":"dev","tagName":"h2"},{"title":"Ë∑®ËØ≠Ë®ÄÁ§∫‰æã‚Äã","type":1,"pageTitle":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/next/guide/cpp/cross_language#Ë∑®ËØ≠Ë®ÄÁ§∫‰æã","content":" ","version":"dev","tagName":"h2"},{"title":"C++ Áîü‰∫ßËÄÖ‚Äã","type":1,"pageTitle":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/next/guide/cpp/cross_language#c-Áîü‰∫ßËÄÖ","content":" #include &quot;fory/serialization/fory.h&quot; #include &lt;fstream&gt; using namespace fory::serialization; struct Message { std::string topic; int64_t timestamp; std::map&lt;std::string, std::string&gt; headers; std::vector&lt;uint8_t&gt; payload; bool operator==(const Message &amp;other) const { return topic == other.topic &amp;&amp; timestamp == other.timestamp &amp;&amp; headers == other.headers &amp;&amp; payload == other.payload; } }; FORY_STRUCT(Message, topic, timestamp, headers, payload); int main() { auto fory = Fory::builder().xlang(true).build(); fory.register_struct&lt;Message&gt;(100); Message msg{ &quot;events.user&quot;, 1699999999000, {{&quot;content-type&quot;, &quot;application/json&quot;}}, {'h', 'e', 'l', 'l', 'o'} }; auto result = fory.serialize(msg); if (result.ok()) { auto bytes = std::move(result).value(); // ÂÜôÂÖ•Êñá‰ª∂„ÄÅÈÄöËøáÁΩëÁªúÂèëÈÄÅÁ≠â std::ofstream file(&quot;message.bin&quot;, std::ios::binary); file.write(reinterpret_cast&lt;const char*&gt;(bytes.data()), bytes.size()); } return 0; }   ","version":"dev","tagName":"h3"},{"title":"Java Ê∂àË¥πËÄÖ‚Äã","type":1,"pageTitle":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/next/guide/cpp/cross_language#java-Ê∂àË¥πËÄÖ","content":" import org.apache.fory.Fory; import org.apache.fory.config.Language; public class Message { public String topic; public long timestamp; public Map&lt;String, String&gt; headers; public byte[] payload; } public class Consumer { public static void main(String[] args) throws Exception { Fory fory = Fory.builder() .withLanguage(Language.XLANG) .build(); fory.register(Message.class, 100); // ‰∏é C++ Áõ∏ÂêåÁöÑ ID byte[] bytes = Files.readAllBytes(Path.of(&quot;message.bin&quot;)); Message msg = (Message) fory.deserialize(bytes); System.out.println(&quot;Topic: &quot; + msg.topic); System.out.println(&quot;Timestamp: &quot; + msg.timestamp); } }   ","version":"dev","tagName":"h3"},{"title":"Python Ê∂àË¥πËÄÖ‚Äã","type":1,"pageTitle":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/next/guide/cpp/cross_language#python-Ê∂àË¥πËÄÖ","content":" import pyfory class Message: topic: str timestamp: int headers: dict[str, str] payload: bytes fory = pyfory.Fory() fory.register(Message, type_id=100) # ‰∏é C++ Áõ∏ÂêåÁöÑ ID with open(&quot;message.bin&quot;, &quot;rb&quot;) as f: data = f.read() msg = fory.deserialize(data) print(f&quot;Topic: {msg.topic}&quot;) print(f&quot;Timestamp: {msg.timestamp}&quot;)   ","version":"dev","tagName":"h3"},{"title":"Á±ªÂûãÊò†Â∞Ñ‚Äã","type":1,"pageTitle":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/next/guide/cpp/cross_language#Á±ªÂûãÊò†Â∞Ñ","content":" ","version":"dev","tagName":"h2"},{"title":"Âü∫Êú¨Á±ªÂûã‚Äã","type":1,"pageTitle":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/next/guide/cpp/cross_language#Âü∫Êú¨Á±ªÂûã","content":" C++ Á±ªÂûã\tJava Á±ªÂûã\tPython Á±ªÂûã\tGo Á±ªÂûã\tRust Á±ªÂûãbool\tboolean\tbool\tbool\tbool int8_t\tbyte\tint\tint8\ti8 int16_t\tshort\tint\tint16\ti16 int32_t\tint\tint\tint32\ti32 int64_t\tlong\tint\tint64\ti64 float\tfloat\tfloat\tfloat32\tf32 double\tdouble\tfloat\tfloat64\tf64  ","version":"dev","tagName":"h3"},{"title":"Â≠óÁ¨¶‰∏≤Á±ªÂûã‚Äã","type":1,"pageTitle":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/next/guide/cpp/cross_language#Â≠óÁ¨¶‰∏≤Á±ªÂûã","content":" C++ Á±ªÂûã\tJava Á±ªÂûã\tPython Á±ªÂûã\tGo Á±ªÂûã\tRust Á±ªÂûãstd::string\tString\tstr\tstring\tString  ","version":"dev","tagName":"h3"},{"title":"ÈõÜÂêàÁ±ªÂûã‚Äã","type":1,"pageTitle":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/next/guide/cpp/cross_language#ÈõÜÂêàÁ±ªÂûã","content":" C++ Á±ªÂûã\tJava Á±ªÂûã\tPython Á±ªÂûã\tGo Á±ªÂûãstd::vector&lt;T&gt;\tList&lt;T&gt;\tlist\t[]T std::set&lt;T&gt;\tSet&lt;T&gt;\tset\tmap[T]struct{} std::map&lt;K,V&gt;\tMap&lt;K,V&gt;\tdict\tmap[K]V  ","version":"dev","tagName":"h3"},{"title":"Êó∂Èó¥Á±ªÂûã‚Äã","type":1,"pageTitle":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/next/guide/cpp/cross_language#Êó∂Èó¥Á±ªÂûã","content":" C++ Á±ªÂûã\tJava Á±ªÂûã\tPython Á±ªÂûã\tGo Á±ªÂûãTimestamp\tInstant\tdatetime\ttime.Time Duration\tDuration\ttimedelta\ttime.Duration LocalDate\tLocalDate\tdatetime.date\ttime.Time  ","version":"dev","tagName":"h3"},{"title":"Â≠óÊÆµÈ°∫Â∫èË¶ÅÊ±Ç‚Äã","type":1,"pageTitle":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/next/guide/cpp/cross_language#Â≠óÊÆµÈ°∫Â∫èË¶ÅÊ±Ç","content":" ÂÖ≥ÈîÆÔºö Â≠óÊÆµÂ∞ÜÊåâÁÖßÂÖ∂ snake_cased Â≠óÊÆµÂêçÊéíÂ∫èÔºåËΩ¨Êç¢ÂêéÁöÑÂêçÁß∞ÂøÖÈ°ªÂú®ÂêÑËØ≠Ë®Ä‰πãÈó¥‰øùÊåÅ‰∏ÄËá¥  ","version":"dev","tagName":"h2"},{"title":"C++‚Äã","type":1,"pageTitle":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/next/guide/cpp/cross_language#c","content":" struct Person { std::string name; // Â≠óÊÆµ 0 int32_t age; // Â≠óÊÆµ 1 std::string email; // Â≠óÊÆµ 2 }; FORY_STRUCT(Person, name, age, email); // È°∫Â∫èÂæàÈáçË¶ÅÔºÅ   ","version":"dev","tagName":"h3"},{"title":"Java‚Äã","type":1,"pageTitle":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/next/guide/cpp/cross_language#java","content":" public class Person { public String name; // Â≠óÊÆµ 0 public int age; // Â≠óÊÆµ 1 public String email; // Â≠óÊÆµ 2 }   ","version":"dev","tagName":"h3"},{"title":"Python‚Äã","type":1,"pageTitle":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/next/guide/cpp/cross_language#python","content":" class Person: name: str # Â≠óÊÆµ 0 age: int # Â≠óÊÆµ 1 email: str # Â≠óÊÆµ 2   ","version":"dev","tagName":"h3"},{"title":"Á±ªÂûã ID ‰∏ÄËá¥ÊÄß‚Äã","type":1,"pageTitle":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/next/guide/cpp/cross_language#Á±ªÂûã-id-‰∏ÄËá¥ÊÄß","content":" ÊâÄÊúâËØ≠Ë®ÄÂøÖÈ°ª‰ΩøÁî®Áõ∏ÂêåÁöÑÁ±ªÂûã IDÔºö  // C++ fory.register_struct&lt;Person&gt;(100); fory.register_struct&lt;Address&gt;(101); fory.register_struct&lt;Order&gt;(102);   // Java fory.register(Person.class, 100); fory.register(Address.class, 101); fory.register(Order.class, 102);   # Python fory.register(Person, type_id=100) fory.register(Address, type_id=101) fory.register(Order, type_id=102)   ","version":"dev","tagName":"h2"},{"title":"Compatible Ê®°Âºè‚Äã","type":1,"pageTitle":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/next/guide/cpp/cross_language#compatible-Ê®°Âºè","content":" Áî®‰∫éË∑®ËØ≠Ë®ÄËæπÁïåÁöÑ schema ÊºîÂåñÔºö  // ‰ΩøÁî® compatible Ê®°ÂºèÁöÑ C++ auto fory = Fory::builder() .xlang(true) .compatible(true) // ÂêØÁî® schema ÊºîÂåñ .build();   Compatible Ê®°ÂºèÂÖÅËÆ∏Ôºö  Ê∑ªÂä†Êñ∞Â≠óÊÆµÔºàÂ∏¶ÈªòËÆ§ÂÄºÔºâÂà†Èô§Êú™‰ΩøÁî®ÁöÑÂ≠óÊÆµÈáçÊéíÂ≠óÊÆµÈ°∫Â∫è  ","version":"dev","tagName":"h2"},{"title":"ÊïÖÈöúÊéíÊü•‚Äã","type":1,"pageTitle":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/next/guide/cpp/cross_language#ÊïÖÈöúÊéíÊü•","content":" ","version":"dev","tagName":"h2"},{"title":"Á±ªÂûã‰∏çÂåπÈÖçÈîôËØØ‚Äã","type":1,"pageTitle":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/next/guide/cpp/cross_language#Á±ªÂûã‰∏çÂåπÈÖçÈîôËØØ","content":" Error: Type mismatch: expected 100, got 101   Ëß£ÂÜ≥ÊñπÊ°àÔºö Á°Æ‰øùÁ±ªÂûã ID Âú®ÊâÄÊúâËØ≠Ë®Ä‰∏≠ÂåπÈÖç„ÄÇ  ","version":"dev","tagName":"h3"},{"title":"ÁºñÁ†ÅÈîôËØØ‚Äã","type":1,"pageTitle":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/next/guide/cpp/cross_language#ÁºñÁ†ÅÈîôËØØ","content":" Error: Invalid UTF-8 sequence   Ëß£ÂÜ≥ÊñπÊ°àÔºö Á°Æ‰øùÊâÄÊúâËØ≠Ë®Ä‰∏≠ÁöÑÂ≠óÁ¨¶‰∏≤ÈÉΩÊòØÊúâÊïàÁöÑ UTF-8„ÄÇ  ","version":"dev","tagName":"h3"},{"title":"Áõ∏ÂÖ≥‰∏ªÈ¢ò‚Äã","type":1,"pageTitle":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/next/guide/cpp/cross_language#Áõ∏ÂÖ≥‰∏ªÈ¢ò","content":" ÈÖçÁΩÆ - ÊûÑÂª∫Âô®ÈÄâÈ°πÁ±ªÂûãÊ≥®ÂÜå - Ê≥®ÂÜåÁ±ªÂûãÊîØÊåÅÁöÑÁ±ªÂûã - Á±ªÂûãÂÖºÂÆπÊÄß ","version":"dev","tagName":"h2"},{"title":"Ëá™ÂÆö‰πâÂ∫èÂàóÂåñÂô®","type":0,"sectionRef":"#","url":"/zh-CN/docs/next/guide/cpp/custom_serializers","content":"","keywords":"","version":"dev"},{"title":"‰ΩïÊó∂‰ΩøÁî®Ëá™ÂÆö‰πâÂ∫èÂàóÂåñÂô®‚Äã","type":1,"pageTitle":"Ëá™ÂÆö‰πâÂ∫èÂàóÂåñÂô®","url":"/zh-CN/docs/next/guide/cpp/custom_serializers#‰ΩïÊó∂‰ΩøÁî®Ëá™ÂÆö‰πâÂ∫èÂàóÂåñÂô®","content":" External types from third-party librariesTypes with special serialization requirementsLegacy data format compatibilityPerformance-critical custom encodingCross-language interoperability with custom protocols  ","version":"dev","tagName":"h2"},{"title":"ÂÆûÁé∞ Serializer Ê®°Êùø‚Äã","type":1,"pageTitle":"Ëá™ÂÆö‰πâÂ∫èÂàóÂåñÂô®","url":"/zh-CN/docs/next/guide/cpp/custom_serializers#ÂÆûÁé∞-serializer-Ê®°Êùø","content":" To create a custom serializer, specialize the Serializer template for your type within the fory::serialization namespace:  #include &quot;fory/serialization/fory.h&quot; using namespace fory::serialization; // Define your custom type struct MyExt { int32_t id; bool operator==(const MyExt &amp;other) const { return id == other.id; } }; namespace fory { namespace serialization { template &lt;&gt; struct Serializer&lt;MyExt&gt; { // Declare as extension type for custom serialization static constexpr TypeId type_id = TypeId::EXT; // Main write method - handles null checking and type info static void write(const MyExt &amp;value, WriteContext &amp;ctx, RefMode ref_mode, bool write_type, bool has_generics = false) { (void)has_generics; write_not_null_ref_flag(ctx, ref_mode); if (write_type) { auto result = ctx.write_any_type_info( static_cast&lt;uint32_t&gt;(TypeId::UNKNOWN), std::type_index(typeid(MyExt))); if (!result.ok()) { ctx.set_error(std::move(result).error()); return; } } write_data(value, ctx); } // write only the data (no type info) static void write_data(const MyExt &amp;value, WriteContext &amp;ctx) { Serializer&lt;int32_t&gt;::write_data(value.id, ctx); } // write data with generics support static void write_data_generic(const MyExt &amp;value, WriteContext &amp;ctx, bool has_generics) { (void)has_generics; write_data(value, ctx); } // Main read method - handles null checking and type info static MyExt read(ReadContext &amp;ctx, RefMode ref_mode, bool read_type) { bool has_value = read_null_only_flag(ctx, ref_mode); if (ctx.has_error() || !has_value) { return MyExt{}; } if (read_type) { const TypeInfo *type_info = ctx.read_any_type_info(ctx.error()); if (ctx.has_error()) { return MyExt{}; } if (!type_info) { ctx.set_error(Error::type_error(&quot;TypeInfo for MyExt not found&quot;)); return MyExt{}; } } return read_data(ctx); } // Read only the data (no type info) static MyExt read_data(ReadContext &amp;ctx) { MyExt value; value.id = Serializer&lt;int32_t&gt;::read_data(ctx); return value; } // Read data with generics support static MyExt read_data_generic(ReadContext &amp;ctx, bool has_generics) { (void)has_generics; return read_data(ctx); } // Read with pre-resolved type info static MyExt read_with_type_info(ReadContext &amp;ctx, RefMode ref_mode, const TypeInfo &amp;type_info) { (void)type_info; return read(ctx, ref_mode, false); } }; } // namespace serialization } // namespace fory   ","version":"dev","tagName":"h2"},{"title":"Required Methods‚Äã","type":1,"pageTitle":"Ëá™ÂÆö‰πâÂ∫èÂàóÂåñÂô®","url":"/zh-CN/docs/next/guide/cpp/custom_serializers#required-methods","content":" A custom serializer must implement these static methods:  Method\tPurposewrite\tMain serialization entry point with type info write_data\tSerialize data only (no type info) write_data_generic\tSerialize data with generics support read\tMain deserialization entry point with type info read_data\tDeserialize data only (no type info) read_data_generic\tDeserialize data with generics support read_with_type_info\tDeserialize with pre-resolved TypeInfo  The type_id constant should be set to TypeId::EXT for custom extension types.  ","version":"dev","tagName":"h2"},{"title":"Registering Custom Serializers‚Äã","type":1,"pageTitle":"Ëá™ÂÆö‰πâÂ∫èÂàóÂåñÂô®","url":"/zh-CN/docs/next/guide/cpp/custom_serializers#registering-custom-serializers","content":" Register your custom serializer with Fory before use:  auto fory = Fory::builder().xlang(true).build(); // Register with numeric type ID (must match across languages) auto result = fory.register_extension_type&lt;MyExt&gt;(103); if (!result.ok()) { std::cerr &lt;&lt; &quot;Failed to register: &quot; &lt;&lt; result.error().to_string() &lt;&lt; std::endl; } // Or register with type name for named type systems fory.register_extension_type&lt;MyExt&gt;(&quot;my_ext&quot;); // Or with namespace and type name fory.register_extension_type&lt;MyExt&gt;(&quot;com.example&quot;, &quot;MyExt&quot;);   ","version":"dev","tagName":"h2"},{"title":"Complete Example‚Äã","type":1,"pageTitle":"Ëá™ÂÆö‰πâÂ∫èÂàóÂåñÂô®","url":"/zh-CN/docs/next/guide/cpp/custom_serializers#complete-example","content":" #include &quot;fory/serialization/fory.h&quot; #include &lt;iostream&gt; using namespace fory::serialization; struct CustomType { int32_t value; std::string name; bool operator==(const CustomType &amp;other) const { return value == other.value &amp;&amp; name == other.name; } }; namespace fory { namespace serialization { template &lt;&gt; struct Serializer&lt;CustomType&gt; { static constexpr TypeId type_id = TypeId::EXT; static void write(const CustomType &amp;value, WriteContext &amp;ctx, RefMode ref_mode, bool write_type, bool has_generics = false) { (void)has_generics; write_not_null_ref_flag(ctx, ref_mode); if (write_type) { auto result = ctx.write_any_type_info( static_cast&lt;uint32_t&gt;(TypeId::UNKNOWN), std::type_index(typeid(CustomType))); if (!result.ok()) { ctx.set_error(std::move(result).error()); return; } } write_data(value, ctx); } static void write_data(const CustomType &amp;value, WriteContext &amp;ctx) { // write value as varint for compact encoding Serializer&lt;int32_t&gt;::write_data(value.value, ctx); // Delegate string serialization to built-in serializer Serializer&lt;std::string&gt;::write_data(value.name, ctx); } static void write_data_generic(const CustomType &amp;value, WriteContext &amp;ctx, bool has_generics) { (void)has_generics; write_data(value, ctx); } static CustomType read(ReadContext &amp;ctx, RefMode ref_mode, bool read_type) { bool has_value = read_null_only_flag(ctx, ref_mode); if (ctx.has_error() || !has_value) { return CustomType{}; } if (read_type) { const TypeInfo *type_info = ctx.read_any_type_info(ctx.error()); if (ctx.has_error()) { return CustomType{}; } if (!type_info) { ctx.set_error(Error::type_error(&quot;TypeInfo for CustomType not found&quot;)); return CustomType{}; } } return read_data(ctx); } static CustomType read_data(ReadContext &amp;ctx) { CustomType value; value.value = Serializer&lt;int32_t&gt;::read_data(ctx); value.name = Serializer&lt;std::string&gt;::read_data(ctx); return value; } static CustomType read_data_generic(ReadContext &amp;ctx, bool has_generics) { (void)has_generics; return read_data(ctx); } static CustomType read_with_type_info(ReadContext &amp;ctx, RefMode ref_mode, const TypeInfo &amp;type_info) { (void)type_info; return read(ctx, ref_mode, false); } }; } // namespace serialization } // namespace fory int main() { auto fory = Fory::builder().xlang(true).build(); fory.register_extension_type&lt;CustomType&gt;(100); CustomType original{42, &quot;test&quot;}; auto serialized = fory.serialize(original); if (!serialized.ok()) { std::cerr &lt;&lt; &quot;Serialization failed&quot; &lt;&lt; std::endl; return 1; } auto deserialized = fory.deserialize&lt;CustomType&gt;(serialized.value()); if (!deserialized.ok()) { std::cerr &lt;&lt; &quot;Deserialization failed&quot; &lt;&lt; std::endl; return 1; } assert(original == deserialized.value()); std::cout &lt;&lt; &quot;Custom serializer works!&quot; &lt;&lt; std::endl; return 0; }   ","version":"dev","tagName":"h2"},{"title":"WriteContext Methods‚Äã","type":1,"pageTitle":"Ëá™ÂÆö‰πâÂ∫èÂàóÂåñÂô®","url":"/zh-CN/docs/next/guide/cpp/custom_serializers#writecontext-methods","content":" The WriteContext provides methods for writing data:  // Primitive types ctx.write_uint8(value); ctx.write_int8(value); ctx.write_uint16(value); // Variable-length integers (compact encoding) ctx.write_var_uint32(value); // Unsigned varint ctx.write_varint32(value); // Signed zigzag varint ctx.write_var_uint64(value); // Unsigned varint ctx.write_varint64(value); // Signed zigzag varint // Tagged integers (for mixed-size encoding) ctx.write_tagged_uint64(value); ctx.write_tagged_int64(value); // Raw bytes ctx.write_bytes(data_ptr, length); // Access underlying buffer for advanced operations ctx.buffer().write_int32(value); ctx.buffer().write_float(value); ctx.buffer().write_double(value);   ","version":"dev","tagName":"h2"},{"title":"ReadContext Methods‚Äã","type":1,"pageTitle":"Ëá™ÂÆö‰πâÂ∫èÂàóÂåñÂô®","url":"/zh-CN/docs/next/guide/cpp/custom_serializers#readcontext-methods","content":" The ReadContext provides methods for reading data:  // Primitive types (use error reference pattern) uint8_t u8 = ctx.read_uint8(ctx.error()); int8_t i8 = ctx.read_int8(ctx.error()); // Variable-length integers uint32_t u32 = ctx.read_var_uint32(ctx.error()); int32_t i32 = ctx.read_varint32(ctx.error()); uint64_t u64 = ctx.read_var_uint64(ctx.error()); int64_t i64 = ctx.read_varint64(ctx.error()); // Check for errors after read operations if (ctx.has_error()) { return MyType{}; // Return default on error } // Access underlying buffer for advanced operations int32_t value = ctx.buffer().read_int32(ctx.error()); float f = ctx.buffer().read_float(ctx.error()); double d = ctx.buffer().read_double(ctx.error());   ","version":"dev","tagName":"h2"},{"title":"Delegating to Built-in Serializers‚Äã","type":1,"pageTitle":"Ëá™ÂÆö‰πâÂ∫èÂàóÂåñÂô®","url":"/zh-CN/docs/next/guide/cpp/custom_serializers#delegating-to-built-in-serializers","content":" Reuse existing serializers for nested types:  static void write_data(const MyType &amp;value, WriteContext &amp;ctx) { // Delegate to built-in serializers Serializer&lt;int32_t&gt;::write_data(value.int_field, ctx); Serializer&lt;std::string&gt;::write_data(value.string_field, ctx); Serializer&lt;std::vector&lt;int32_t&gt;&gt;::write_data(value.vec_field, ctx); } static MyType read_data(ReadContext &amp;ctx) { MyType value; value.int_field = Serializer&lt;int32_t&gt;::read_data(ctx); value.string_field = Serializer&lt;std::string&gt;::read_data(ctx); value.vec_field = Serializer&lt;std::vector&lt;int32_t&gt;&gt;::read_data(ctx); return value; }   ","version":"dev","tagName":"h2"},{"title":"Best Practices‚Äã","type":1,"pageTitle":"Ëá™ÂÆö‰πâÂ∫èÂàóÂåñÂô®","url":"/zh-CN/docs/next/guide/cpp/custom_serializers#best-practices","content":" Use variable-length encoding for integers that may be smallCheck errors after read operations using ctx.has_error()Return default values on error to maintain consistent behaviorDelegate to built-in serializers for standard typesMatch type IDs across languages for cross-language compatibilityUse (void)param to suppress unused parameter warnings  ","version":"dev","tagName":"h2"},{"title":"Related Topics‚Äã","type":1,"pageTitle":"Ëá™ÂÆö‰πâÂ∫èÂàóÂåñÂô®","url":"/zh-CN/docs/next/guide/cpp/custom_serializers#related-topics","content":" Type Registration - Registering serializersBasic Serialization - Using FORY_STRUCT macroSchema Evolution - Compatible modeCross-Language - Cross-language serialization ","version":"dev","tagName":"h2"},{"title":"Â≠óÊÆµÈÖçÁΩÆ","type":0,"sectionRef":"#","url":"/zh-CN/docs/next/guide/cpp/field_configuration","content":"","keywords":"","version":"dev"},{"title":"Ê¶ÇËø∞‚Äã","type":1,"pageTitle":"Â≠óÊÆµÈÖçÁΩÆ","url":"/zh-CN/docs/next/guide/cpp/field_configuration#Ê¶ÇËø∞","content":" Apache Fory‚Ñ¢ Âú®ÁºñËØëÊúüÊèê‰æõ‰∏§ÁßçÂ≠óÊÆµÂÖÉ‰ø°ÊÅØÈÖçÁΩÆÊñπÂºèÔºö  fory::field&lt;&gt; Ê®°ÊùøÔºöÂú® struct ÂÆö‰πâ‰∏≠ÂÜÖËÅîÂ£∞ÊòéÂÖÉ‰ø°ÊÅØFORY_FIELD_TAGS ÂÆèÔºöÂú® struct Â§ñÈÉ®ÈôÑÂä†ÂÖÉ‰ø°ÊÅØÔºàÈùû‰æµÂÖ•Ôºâ  Ëøô‰∫õÊú∫Âà∂ÂèØÁî®‰∫éÔºö  Tag IDÔºö‰∏∫ schema ÊºîËøõÂàÜÈÖçÁ¥ßÂáëÊï∞ÂÄº IDÂèØÁ©∫ÊéßÂà∂ÔºöÂ∞ÜÊåáÈíàÂ≠óÊÆµÊ†áËÆ∞‰∏∫ÂèØÁ©∫ÂºïÁî®Ë∑üË∏™Ôºö‰∏∫ÂÖ±‰∫´ÊåáÈíàÂêØÁî®ÂºïÁî®Ë∑üË∏™  ","version":"dev","tagName":"h2"},{"title":"fory::field Ê®°Êùø‚Äã","type":1,"pageTitle":"Â≠óÊÆµÈÖçÁΩÆ","url":"/zh-CN/docs/next/guide/cpp/field_configuration#foryfield-Ê®°Êùø","content":" template &lt;typename T, int16_t Id, typename... Options&gt; class field;   ","version":"dev","tagName":"h2"},{"title":"Ê®°ÊùøÂèÇÊï∞‚Äã","type":1,"pageTitle":"Â≠óÊÆµÈÖçÁΩÆ","url":"/zh-CN/docs/next/guide/cpp/field_configuration#Ê®°ÊùøÂèÇÊï∞","content":" ÂèÇÊï∞\tËØ¥ÊòéT\tÂ∫ïÂ±ÇÂ≠óÊÆµÁ±ªÂûã Id\tÂ≠óÊÆµ tag IDÔºàint16_tÔºâÔºåÁî®‰∫éÁ¥ßÂáëÂ∫èÂàóÂåñ Options\tÂèØÈÄâÊ†áÁ≠æÔºöfory::nullable„ÄÅfory::ref Á≠â  ","version":"dev","tagName":"h3"},{"title":"Âü∫Êú¨Áî®Ê≥ï‚Äã","type":1,"pageTitle":"Â≠óÊÆµÈÖçÁΩÆ","url":"/zh-CN/docs/next/guide/cpp/field_configuration#Âü∫Êú¨Áî®Ê≥ï","content":" #include &quot;fory/serialization/fory.h&quot; using namespace fory::serialization; struct Person { fory::field&lt;std::string, 0&gt; name; fory::field&lt;int32_t, 1&gt; age; fory::field&lt;std::optional&lt;std::string&gt;, 2&gt; nickname; }; FORY_STRUCT(Person, name, age, nickname);   fory::field&lt;&gt; ÊòØÈÄèÊòéÂåÖË£ÖÔºåÂèØÂÉèÂ∫ïÂ±ÇÁ±ªÂûã‰∏ÄÊ†∑‰ΩøÁî®Ôºö  Person person; person.name = &quot;Alice&quot;; // Direct assignment person.age = 30; std::string n = person.name; // Implicit conversion int a = person.age.get(); // Explicit get()   ","version":"dev","tagName":"h3"},{"title":"Ê†áÁ≠æÁ±ªÂûã‚Äã","type":1,"pageTitle":"Â≠óÊÆµÈÖçÁΩÆ","url":"/zh-CN/docs/next/guide/cpp/field_configuration#Ê†áÁ≠æÁ±ªÂûã","content":" ","version":"dev","tagName":"h2"},{"title":"fory::nullable‚Äã","type":1,"pageTitle":"Â≠óÊÆµÈÖçÁΩÆ","url":"/zh-CN/docs/next/guide/cpp/field_configuration#forynullable","content":" Â∞ÜÊô∫ËÉΩÊåáÈíàÂ≠óÊÆµÊ†áËÆ∞‰∏∫ÂèØÁ©∫ÔºàÂèØ‰∏∫ nullptrÔºâÔºö  struct Node { fory::field&lt;std::string, 0&gt; name; fory::field&lt;std::shared_ptr&lt;Node&gt;, 1, fory::nullable&gt; next; // Can be nullptr }; FORY_STRUCT(Node, name, next);   ÈÄÇÁî®Á±ªÂûãÔºö std::shared_ptr&lt;T&gt;„ÄÅstd::unique_ptr&lt;T&gt;  ËØ¥ÊòéÔºö ÂØπÂéüÁîüÂÄºÁ±ªÂûãÊàñÂ≠óÁ¨¶‰∏≤ÁöÑÂèØÁ©∫ËØ≠‰πâÔºåËØ∑‰ΩøÁî® std::optional&lt;T&gt;Ôºö  // Correct: use std::optional for nullable primitives fory::field&lt;std::optional&lt;int32_t&gt;, 0&gt; optional_value; // Wrong: nullable is not allowed for primitives // fory::field&lt;int32_t, 0, fory::nullable&gt; value; // Compile error!   ","version":"dev","tagName":"h3"},{"title":"fory::not_null‚Äã","type":1,"pageTitle":"Â≠óÊÆµÈÖçÁΩÆ","url":"/zh-CN/docs/next/guide/cpp/field_configuration#forynot_null","content":" ÊòæÂºèÂ£∞ÊòéÊåáÈíàÂ≠óÊÆµ‰∏çÂèØÁ©∫„ÄÇËôΩÁÑ∂ËøôÊòØÊô∫ËÉΩÊåáÈíàÁöÑÈªòËÆ§Ë°å‰∏∫Ôºå‰ΩÜÂèØÁî®‰∫éÂ¢ûÂº∫ÂèØËØªÊÄßÔºö  fory::field&lt;std::shared_ptr&lt;Data&gt;, 0, fory::not_null&gt; data; // Must not be nullptr   ÈÄÇÁî®Á±ªÂûãÔºö std::shared_ptr&lt;T&gt;„ÄÅstd::unique_ptr&lt;T&gt;  ","version":"dev","tagName":"h3"},{"title":"fory::ref‚Äã","type":1,"pageTitle":"Â≠óÊÆµÈÖçÁΩÆ","url":"/zh-CN/docs/next/guide/cpp/field_configuration#foryref","content":" ‰∏∫ÂÖ±‰∫´ÊåáÈíàÂ≠óÊÆµÂêØÁî®ÂºïÁî®Ë∑üË∏™„ÄÇÂ§ö‰∏™Â≠óÊÆµÂºïÁî®Âêå‰∏ÄÂØπË±°Êó∂Ôºå‰ªÖÂ∫èÂàóÂåñ‰∏ÄÊ¨°Âπ∂‰øùÊåÅÂÖ±‰∫´ÂÖ≥Á≥ªÔºö  struct Graph { fory::field&lt;std::string, 0&gt; name; fory::field&lt;std::shared_ptr&lt;Graph&gt;, 1, fory::ref&gt; left; // Ref tracked fory::field&lt;std::shared_ptr&lt;Graph&gt;, 2, fory::ref&gt; right; // Ref tracked }; FORY_STRUCT(Graph, name, left, right);   ÈÄÇÁî®Á±ªÂûãÔºö ‰ªÖ std::shared_ptr&lt;T&gt;ÔºàÈúÄË¶ÅÂÖ±‰∫´ÊâÄÊúâÊùÉÔºâ  ","version":"dev","tagName":"h3"},{"title":"ÁªÑÂêàÊ†áÁ≠æ‚Äã","type":1,"pageTitle":"Â≠óÊÆµÈÖçÁΩÆ","url":"/zh-CN/docs/next/guide/cpp/field_configuration#ÁªÑÂêàÊ†áÁ≠æ","content":" ÂÖ±‰∫´ÊåáÈíàÂèØÁªÑÂêàÂ§ö‰∏™Ê†áÁ≠æÔºö  // Nullable + ref tracking fory::field&lt;std::shared_ptr&lt;Node&gt;, 0, fory::nullable, fory::ref&gt; link;   ","version":"dev","tagName":"h3"},{"title":"Á±ªÂûãËßÑÂàô‚Äã","type":1,"pageTitle":"Â≠óÊÆµÈÖçÁΩÆ","url":"/zh-CN/docs/next/guide/cpp/field_configuration#Á±ªÂûãËßÑÂàô","content":" Á±ªÂûã\tÂèØÁî®ÈÄâÈ°π\tÂèØÁ©∫ËØ≠‰πâÂéüÁîüÁ±ªÂûã„ÄÅÂ≠óÁ¨¶‰∏≤\tÊó†\tËã•ÈúÄÂèØÁ©∫ËØ∑‰ΩøÁî® std::optional&lt;T&gt; std::optional&lt;T&gt;\tÊó†\tÂ§©ÁÑ∂ÂèØÁ©∫ std::shared_ptr&lt;T&gt;\tnullable„ÄÅref\tÈªòËÆ§‰∏çÂèØÁ©∫ std::unique_ptr&lt;T&gt;\tnullable\tÈªòËÆ§‰∏çÂèØÁ©∫  ","version":"dev","tagName":"h2"},{"title":"ÂÆåÊï¥Á§∫‰æã‚Äã","type":1,"pageTitle":"Â≠óÊÆµÈÖçÁΩÆ","url":"/zh-CN/docs/next/guide/cpp/field_configuration#ÂÆåÊï¥Á§∫‰æã","content":" #include &quot;fory/serialization/fory.h&quot; using namespace fory::serialization; // Define a struct with various field configurations struct Document { // Required fields (non-nullable) fory::field&lt;std::string, 0&gt; title; fory::field&lt;int32_t, 1&gt; version; // Optional primitive using std::optional fory::field&lt;std::optional&lt;std::string&gt;, 2&gt; description; // Nullable pointer fory::field&lt;std::unique_ptr&lt;std::string&gt;, 3, fory::nullable&gt; metadata; // Reference-tracked shared pointer fory::field&lt;std::shared_ptr&lt;Document&gt;, 4, fory::ref&gt; parent; // Nullable + reference-tracked fory::field&lt;std::shared_ptr&lt;Document&gt;, 5, fory::nullable, fory::ref&gt; related; }; FORY_STRUCT(Document, title, version, description, metadata, parent, related); int main() { auto fory = Fory::builder().xlang(true).build(); fory.register_struct&lt;Document&gt;(100); Document doc; doc.title = &quot;My Document&quot;; doc.version = 1; doc.description = &quot;A sample document&quot;; doc.metadata = nullptr; // Allowed because nullable doc.parent = std::make_shared&lt;Document&gt;(); doc.parent-&gt;title = &quot;Parent Doc&quot;; doc.related = nullptr; // Allowed because nullable auto bytes = fory.serialize(doc).value(); auto decoded = fory.deserialize&lt;Document&gt;(bytes).value(); }   ","version":"dev","tagName":"h2"},{"title":"ÁºñËØëÊúüÊ†°È™å‚Äã","type":1,"pageTitle":"Â≠óÊÆµÈÖçÁΩÆ","url":"/zh-CN/docs/next/guide/cpp/field_configuration#ÁºñËØëÊúüÊ†°È™å","content":" ÈùûÊ≥ïÈÖçÁΩÆ‰ºöÂú®ÁºñËØëÊúüÊä•ÈîôÔºö  // Error: nullable and not_null are mutually exclusive fory::field&lt;std::shared_ptr&lt;int&gt;, 0, fory::nullable, fory::not_null&gt; bad1; // Error: nullable only valid for smart pointers fory::field&lt;int32_t, 0, fory::nullable&gt; bad2; // Error: ref only valid for shared_ptr fory::field&lt;std::unique_ptr&lt;int&gt;, 0, fory::ref&gt; bad3; // Error: options not allowed for std::optional (inherently nullable) fory::field&lt;std::optional&lt;int&gt;, 0, fory::nullable&gt; bad4;   ","version":"dev","tagName":"h2"},{"title":"ÂêëÂêéÂÖºÂÆπ‚Äã","type":1,"pageTitle":"Â≠óÊÆµÈÖçÁΩÆ","url":"/zh-CN/docs/next/guide/cpp/field_configuration#ÂêëÂêéÂÖºÂÆπ","content":" Êú™‰ΩøÁî® fory::field&lt;&gt; ÂåÖË£ÖÁöÑÊóß struct ‰ªçÂèØÊ≠£Â∏∏Â∑•‰ΩúÔºö  // Old style - still works struct LegacyPerson { std::string name; int32_t age; }; FORY_STRUCT(LegacyPerson, name, age); // New style with field metadata struct ModernPerson { fory::field&lt;std::string, 0&gt; name; fory::field&lt;int32_t, 1&gt; age; }; FORY_STRUCT(ModernPerson, name, age);   ","version":"dev","tagName":"h2"},{"title":"FORY_FIELD_TAGS ÂÆè‚Äã","type":1,"pageTitle":"Â≠óÊÆµÈÖçÁΩÆ","url":"/zh-CN/docs/next/guide/cpp/field_configuration#fory_field_tags-ÂÆè","content":" FORY_FIELD_TAGS Êèê‰æõ‰∫Ü‰∏ÄÁßçÈùû‰æµÂÖ•ÂºèÊñπÊ°àÔºöÊó†ÈúÄ‰øÆÊîπ struct ÂÆö‰πâÂç≥ÂèØÈôÑÂä†Â≠óÊÆµÂÖÉ‰ø°ÊÅØ„ÄÇÈÄÇÁî®Âú∫ÊôØÔºö  Á¨¨‰∏âÊñπÁ±ªÂûãÔºö‰∏∫ÈùûËá™ÊúâÁ±ªÂûãÊ∑ªÂä†ÂÖÉ‰ø°ÊÅØÁ∫ØÂáÄÁªìÊûÑÂÆö‰πâÔºö‰øùÊåÅ struct ‰ªÖÂåÖÂê´Ê†áÂáÜ C++ Á±ªÂûã‰æùËµñÈöîÁ¶ªÔºöÂ∞Ü Fory Â§¥Êñá‰ª∂ÈôêÂà∂Âú®Â∫èÂàóÂåñÈÖçÁΩÆÊñá‰ª∂‰∏≠  ","version":"dev","tagName":"h2"},{"title":"Áî®Ê≥ï‚Äã","type":1,"pageTitle":"Â≠óÊÆµÈÖçÁΩÆ","url":"/zh-CN/docs/next/guide/cpp/field_configuration#Áî®Ê≥ï","content":" // user_types.h - NO fory headers needed! struct Document { std::string title; int32_t version; std::optional&lt;std::string&gt; description; std::shared_ptr&lt;User&gt; author; std::shared_ptr&lt;User&gt; reviewer; std::shared_ptr&lt;Document&gt; parent; std::unique_ptr&lt;Data&gt; data; }; // serialization_config.cpp - fory config isolated here #include &quot;fory/serialization/fory.h&quot; #include &quot;user_types.h&quot; FORY_STRUCT(Document, title, version, description, author, reviewer, parent, data) FORY_FIELD_TAGS(Document, (title, 0), // string: non-nullable (version, 1), // int: non-nullable (description, 2), // optional: inherently nullable (author, 3), // shared_ptr: non-nullable (default) (reviewer, 4, nullable), // shared_ptr: nullable (parent, 5, ref), // shared_ptr: non-nullable, with ref tracking (data, 6, nullable) // unique_ptr: nullable )   ","version":"dev","tagName":"h3"},{"title":"FORY_FIELD_TAGS ÈÄâÈ°π‚Äã","type":1,"pageTitle":"Â≠óÊÆµÈÖçÁΩÆ","url":"/zh-CN/docs/next/guide/cpp/field_configuration#fory_field_tags-ÈÄâÈ°π","content":" Â≠óÊÆµÁ±ªÂûã\tÂêàÊ≥ïÁªÑÂêàÂéüÁîüÁ±ªÂûã„ÄÅÂ≠óÁ¨¶‰∏≤\t‰ªÖ (field, id) std::optional&lt;T&gt;\t‰ªÖ (field, id) std::shared_ptr&lt;T&gt;\t(field, id)„ÄÅ(field, id, nullable)„ÄÅ(field, id, ref)„ÄÅ(field, id, nullable, ref) std::unique_ptr&lt;T&gt;\t(field, id)„ÄÅ(field, id, nullable)  ","version":"dev","tagName":"h3"},{"title":"API ÂØπÊØî‚Äã","type":1,"pageTitle":"Â≠óÊÆµÈÖçÁΩÆ","url":"/zh-CN/docs/next/guide/cpp/field_configuration#api-ÂØπÊØî","content":" Áª¥Â∫¶\tfory::field&lt;&gt; ÂåÖË£Ö\tFORY_FIELD_TAGS ÂÆèÁªìÊûÑÂÆö‰πâ\tÈúÄË¶ÅÊîπÂä®ÔºàÂåÖË£ÖÂ≠óÊÆµÁ±ªÂûãÔºâ\tÊó†ÈúÄÊîπÂä®Ôºà‰øùÊåÅÁ∫Ø C++Ôºâ IDE ‰ΩìÈ™å\tÊúâÊ®°ÊùøÂô™Èü≥\tÊõ¥Ê∏ÖÊô∞ÔºàÂéüÁîüÂ≠óÊÆµÁ±ªÂûãÔºâ Á¨¨‰∏âÊñπÁ±ªÂûã\t‰∏çÊîØÊåÅ\tÊîØÊåÅ Â§¥Êñá‰ª∂‰æùËµñ\tÂêÑÂ§ÑÈÉΩÈúÄË¶Å\tÂèØÈõÜ‰∏≠Âú®ÈÖçÁΩÆÊñá‰ª∂ ËøÅÁßªÊàêÊú¨\tÈ´òÔºà‰øÆÊîπÂÖ®ÈÉ®Â≠óÊÆµÔºâ\t‰ΩéÔºàÊñ∞Â¢û‰∏Ä‰∏™ÂÆèÔºâ  ","version":"dev","tagName":"h3"},{"title":"FORY_FIELD_CONFIG ÂÆè‚Äã","type":1,"pageTitle":"Â≠óÊÆµÈÖçÁΩÆ","url":"/zh-CN/docs/next/guide/cpp/field_configuration#fory_field_config-ÂÆè","content":" FORY_FIELD_CONFIG ÊòØÊõ¥Âº∫„ÄÅÊõ¥ÁÅµÊ¥ªÁöÑÂ≠óÊÆµÈÖçÁΩÆÊñπÂºèÔºåÊèê‰æõÔºö  Builder È£éÊ†º APIÔºöÈìæÂºèÈÖçÁΩÆ F(id).option1().option2()ÁºñÁ†ÅÊéßÂà∂ÔºöÊåáÂÆöÊó†Á¨¶Âè∑Êï¥Êï∞ÁºñÁ†ÅÔºàvarint„ÄÅfixed„ÄÅtaggedÔºâÁºñËØëÊúüÊ†°È™åÔºöÈÄöËøáÊàêÂëòÊåáÈíàÊ†°È™åÂ≠óÊÆµÂêçË∑®ËØ≠Ë®ÄÂÖºÂÆπÔºöÊåâ Java„ÄÅRust Á≠âËØ≠Ë®ÄÊúüÊúõÈÖçÁΩÆÁºñÁ†Å  ","version":"dev","tagName":"h2"},{"title":"Âü∫Êú¨ËØ≠Ê≥ï‚Äã","type":1,"pageTitle":"Â≠óÊÆµÈÖçÁΩÆ","url":"/zh-CN/docs/next/guide/cpp/field_configuration#Âü∫Êú¨ËØ≠Ê≥ï","content":" FORY_FIELD_CONFIG(StructType, (field1, fory::F(0)), // Simple: just ID (field2, fory::F(1).nullable()), // With nullable (field3, fory::F(2).varint()), // With encoding (field4, fory::F(3).nullable().ref()), // Multiple options (field5, 4) // Backward compatible: integer ID );   ","version":"dev","tagName":"h3"},{"title":"F() Builder‚Äã","type":1,"pageTitle":"Â≠óÊÆµÈÖçÁΩÆ","url":"/zh-CN/docs/next/guide/cpp/field_configuration#f-builder","content":" fory::F(id) Â∑•ÂéÇÂáΩÊï∞‰ºöÂàõÂª∫ÊîØÊåÅÈìæÂºèË∞ÉÁî®ÁöÑ FieldMeta ÂØπË±°Ôºö  fory::F(0) // Create with field ID 0 .nullable() // Mark as nullable .ref() // Enable reference tracking .varint() // Use variable-length encoding .fixed() // Use fixed-size encoding .tagged() // Use tagged encoding .monomorphic() // Mark as monomorphic type .compress(false) // Disable compression   ÊèêÁ§∫Ôºö Ëã•Â∏åÊúõÁúÅÁï• fory:: ÂâçÁºÄÔºåÂèØÊ∑ªÂä† using Â£∞ÊòéÔºö  using fory::F; FORY_FIELD_CONFIG(MyStruct, (field1, F(0).varint()), // No prefix needed (field2, F(1).nullable()) );   ","version":"dev","tagName":"h3"},{"title":"Êó†Á¨¶Âè∑Êï¥Êï∞ÁºñÁ†ÅÈÄâÈ°π‚Äã","type":1,"pageTitle":"Â≠óÊÆµÈÖçÁΩÆ","url":"/zh-CN/docs/next/guide/cpp/field_configuration#Êó†Á¨¶Âè∑Êï¥Êï∞ÁºñÁ†ÅÈÄâÈ°π","content":" ÂØπ‰∫é uint32_t ‰∏é uint64_t Â≠óÊÆµÔºåÂèØÊòæÂºèÊåáÂÆöÁ∫øÊ†ºÂºèÁºñÁ†ÅÔºö  ÊñπÊ≥ï\tType ID\tËØ¥Êòé\tÈÄÇÁî®Âú∫ÊôØ.varint()\tVAR_UINT32/64\tÂèòÈïøÁºñÁ†ÅÔºà1-5 Êàñ 1-10 Â≠óËäÇÔºâ\tÊï∞ÂÄºÈÄöÂ∏∏ËæÉÂ∞è .fixed()\tUINT32/64\tÂÆöÈïøÁºñÁ†ÅÔºàÂõ∫ÂÆö 4 Êàñ 8 Â≠óËäÇÔºâ\tÊï∞ÂÄºÂàÜÂ∏ÉËæÉÂùáÂåÄ .tagged()\tTAGGED_UINT64\tÂ∏¶Â§ßÂ∞èÊèêÁ§∫ÁöÑÊ∑∑ÂêàÁºñÁ†ÅÔºà‰ªÖ uint64Ôºâ\tÂ∞èÂÄº‰∏éÂ§ßÂÄºÊ∑∑ÂêàÔºàuint64Ôºâ  ËØ¥ÊòéÔºö uint8_t ‰∏é uint16_t ÂßãÁªà‰ΩøÁî®ÂÆöÈïøÁºñÁ†ÅÔºàUINT8„ÄÅUINT16Ôºâ„ÄÇ  ","version":"dev","tagName":"h3"},{"title":"ÂÆåÊï¥Á§∫‰æã‚Äã","type":1,"pageTitle":"Â≠óÊÆµÈÖçÁΩÆ","url":"/zh-CN/docs/next/guide/cpp/field_configuration#ÂÆåÊï¥Á§∫‰æã-1","content":" #include &quot;fory/serialization/fory.h&quot; using namespace fory::serialization; // Define struct with unsigned integer fields struct MetricsData { // Counters - often small values, use varint for space efficiency uint32_t requestCount; uint64_t bytesSent; // IDs - uniformly distributed, use fixed for consistent performance uint32_t userId; uint64_t sessionId; // Timestamps - use tagged encoding for mixed value ranges uint64_t createdAt; // Nullable fields std::optional&lt;uint32_t&gt; errorCount; std::optional&lt;uint64_t&gt; lastAccessTime; }; FORY_STRUCT(MetricsData, requestCount, bytesSent, userId, sessionId, createdAt, errorCount, lastAccessTime); // Configure field encoding FORY_FIELD_CONFIG(MetricsData, // Small counters - varint saves space (requestCount, fory::F(0).varint()), (bytesSent, fory::F(1).varint()), // IDs - fixed for consistent performance (userId, fory::F(2).fixed()), (sessionId, fory::F(3).fixed()), // Timestamp - tagged encoding (createdAt, fory::F(4).tagged()), // Nullable fields (errorCount, fory::F(5).nullable().varint()), (lastAccessTime, fory::F(6).nullable().tagged()) ); int main() { auto fory = Fory::builder().xlang(true).build(); fory.register_struct&lt;MetricsData&gt;(100); MetricsData data{ .requestCount = 42, .bytesSent = 1024, .userId = 12345678, .sessionId = 9876543210, .createdAt = 1704067200000000000ULL, // 2024-01-01 in nanoseconds .errorCount = 3, .lastAccessTime = std::nullopt }; auto bytes = fory.serialize(data).value(); auto decoded = fory.deserialize&lt;MetricsData&gt;(bytes).value(); }   ","version":"dev","tagName":"h3"},{"title":"Ë∑®ËØ≠Ë®ÄÂÖºÂÆπ‚Äã","type":1,"pageTitle":"Â≠óÊÆµÈÖçÁΩÆ","url":"/zh-CN/docs/next/guide/cpp/field_configuration#Ë∑®ËØ≠Ë®ÄÂÖºÂÆπ","content":" ÂΩìÂ∫èÂàóÂåñÊï∞ÊçÆ‰ºöË¢´ÂÖ∂‰ªñËØ≠Ë®ÄËØªÂèñÊó∂ÔºåÂª∫ËÆÆÈÄöËøá FORY_FIELD_CONFIG ÊòæÂºèÂåπÈÖçÁõÆÊ†áËØ≠Ë®ÄÁºñÁ†ÅÁ∫¶ÂÆö„ÄÇ  Java ÂÖºÂÆπÁ§∫‰æãÔºö  // Java uses these type IDs for unsigned integers: // - Byte (u8): UINT8 (fixed) // - Short (u16): UINT16 (fixed) // - Integer (u32): VAR_UINT32 (varint) or UINT32 (fixed) // - Long (u64): VAR_UINT64 (varint), UINT64 (fixed), or TAGGED_UINT64 struct JavaCompatible { uint8_t byteField; // Maps to Java Byte uint16_t shortField; // Maps to Java Short uint32_t intVarField; // Maps to Java Integer with varint uint32_t intFixedField; // Maps to Java Integer with fixed uint64_t longVarField; // Maps to Java Long with varint uint64_t longTagged; // Maps to Java Long with tagged }; FORY_STRUCT(JavaCompatible, byteField, shortField, intVarField, intFixedField, longVarField, longTagged); FORY_FIELD_CONFIG(JavaCompatible, (byteField, fory::F(0)), // UINT8 (auto) (shortField, fory::F(1)), // UINT16 (auto) (intVarField, fory::F(2).varint()), // VAR_UINT32 (intFixedField, fory::F(3).fixed()), // UINT32 (longVarField, fory::F(4).varint()), // VAR_UINT64 (longTagged, fory::F(5).tagged()) // TAGGED_UINT64 );   ","version":"dev","tagName":"h3"},{"title":"‰ΩøÁî® FORY_FIELD_CONFIG ÂÅö Schema ÊºîËøõ‚Äã","type":1,"pageTitle":"Â≠óÊÆµÈÖçÁΩÆ","url":"/zh-CN/docs/next/guide/cpp/field_configuration#‰ΩøÁî®-fory_field_config-ÂÅö-schema-ÊºîËøõ","content":" Âú®ÂÖºÂÆπÊ®°Âºè‰∏ãÔºåÂèëÈÄÅÁ´ØÂíåÊé•Êî∂Á´ØÂèØ‰ª•ÂØπÂ≠óÊÆµ‰ΩøÁî®‰∏çÂêåÂèØÁ©∫Á≠ñÁï•Ôºö  // Version 1: All fields non-nullable struct DataV1 { uint32_t id; uint64_t timestamp; }; FORY_STRUCT(DataV1, id, timestamp); FORY_FIELD_CONFIG(DataV1, (id, fory::F(0).varint()), (timestamp, fory::F(1).tagged()) ); // Version 2: Added nullable fields struct DataV2 { uint32_t id; uint64_t timestamp; std::optional&lt;uint32_t&gt; version; // New nullable field }; FORY_STRUCT(DataV2, id, timestamp, version); FORY_FIELD_CONFIG(DataV2, (id, fory::F(0).varint()), (timestamp, fory::F(1).tagged()), (version, fory::F(2).nullable().varint()) // New field with nullable );   ","version":"dev","tagName":"h3"},{"title":"FORY_FIELD_CONFIG ÈÄâÈ°πÈÄüÊü•‚Äã","type":1,"pageTitle":"Â≠óÊÆµÈÖçÁΩÆ","url":"/zh-CN/docs/next/guide/cpp/field_configuration#fory_field_config-ÈÄâÈ°πÈÄüÊü•","content":" ÊñπÊ≥ï\tËØ¥Êòé\tÈÄÇÁî®ËåÉÂõ¥.nullable()\tÂ∞ÜÂ≠óÊÆµÊ†áËÆ∞‰∏∫ÂèØÁ©∫\tÊô∫ËÉΩÊåáÈíà„ÄÅÂèØÁ©∫ÂÄºÁ±ªÂûã .ref()\tÂêØÁî®ÂºïÁî®Ë∑üË∏™\t‰ªÖ std::shared_ptr .monomorphic()\tÊ†áËÆ∞ÊåáÈíàÂßãÁªàÊåáÂêëÂçï‰∏ÄÁ±ªÂûã\tÊô∫ËÉΩÊåáÈíà .varint()\tÂèòÈïøÁºñÁ†Å\tuint32_t„ÄÅuint64_t .fixed()\tÂÆöÈïøÁºñÁ†Å\tuint32_t„ÄÅuint64_t .tagged()\ttagged Ê∑∑ÂêàÁºñÁ†Å\t‰ªÖ uint64_t .compress(v)\tÂêØÁî®/Á¶ÅÁî®Â≠óÊÆµÂéãÁº©\tÊâÄÊúâÁ±ªÂûã  ","version":"dev","tagName":"h3"},{"title":"Â≠óÊÆµÈÖçÁΩÆÊñπÊ°àÂØπÊØî‚Äã","type":1,"pageTitle":"Â≠óÊÆµÈÖçÁΩÆ","url":"/zh-CN/docs/next/guide/cpp/field_configuration#Â≠óÊÆµÈÖçÁΩÆÊñπÊ°àÂØπÊØî","content":" ÁâπÊÄß\tfory::field&lt;&gt;\tFORY_FIELD_TAGS\tFORY_FIELD_CONFIGÈúÄË¶Å‰øÆÊîπ struct\tÊòØÔºàÂåÖË£ÖÂ≠óÊÆµÁ±ªÂûãÔºâ\tÂê¶\tÂê¶ ÁºñÁ†ÅÊéßÂà∂\tÂê¶\tÂê¶\tÊòØÔºàvarint/fixed/taggedÔºâ Builder È£éÊ†º\tÂê¶\tÂê¶\tÊòØ ÁºñËØëÊúüÊ†°È™å\tÊòØ\tÊúâÈôê\tÊòØÔºàÊàêÂëòÊåáÈíàÊ†°È™åÔºâ Ë∑®ËØ≠Ë®ÄÂÖºÂÆπËÉΩÂäõ\tÊúâÈôê\tÊúâÈôê\tÂÆåÊï¥ Êé®ËçêÂú∫ÊôØ\tÁÆÄÂçïÁªìÊûÑ‰Ωì\tÁ¨¨‰∏âÊñπÁ±ªÂûã\tÂ§çÊùÇ/Ë∑®ËØ≠Ë®ÄÁªìÊûÑ‰Ωì  ","version":"dev","tagName":"h3"},{"title":"Áõ∏ÂÖ≥‰∏ªÈ¢ò‚Äã","type":1,"pageTitle":"Â≠óÊÆµÈÖçÁΩÆ","url":"/zh-CN/docs/next/guide/cpp/field_configuration#Áõ∏ÂÖ≥‰∏ªÈ¢ò","content":" Á±ªÂûãÊ≥®ÂÜå - ‰ΩøÁî® FORY_STRUCT Ê≥®ÂÜåÁ±ªÂûãSchema ÊºîËøõ - Âü∫‰∫é tag ID ÁöÑÊºîËøõÁ≠ñÁï•ÈÖçÁΩÆ - ÂÖ®Â±ÄÂêØÁî®ÂºïÁî®Ë∑üË∏™Á≠âÈÄâÈ°πË∑®ËØ≠Ë®Ä - ‰∏é Java„ÄÅRust„ÄÅPython ÁöÑ‰∫íÊìç‰Ωú ","version":"dev","tagName":"h2"},{"title":"Â§öÊÄÅÂ∫èÂàóÂåñ","type":0,"sectionRef":"#","url":"/zh-CN/docs/next/guide/cpp/polymorphism","content":"","keywords":"","version":"dev"},{"title":"ÊîØÊåÅÁöÑÂ§öÊÄÅÁ±ªÂûã‚Äã","type":1,"pageTitle":"Â§öÊÄÅÂ∫èÂàóÂåñ","url":"/zh-CN/docs/next/guide/cpp/polymorphism#ÊîØÊåÅÁöÑÂ§öÊÄÅÁ±ªÂûã","content":" std::shared_ptr&lt;Base&gt; - Shared ownership with polymorphic dispatchstd::unique_ptr&lt;Base&gt; - Exclusive ownership with polymorphic dispatchCollections: std::vector&lt;std::shared_ptr&lt;Base&gt;&gt;, std::map&lt;K, std::unique_ptr&lt;Base&gt;&gt;Optional: std::optional&lt;std::shared_ptr&lt;Base&gt;&gt;  ","version":"dev","tagName":"h2"},{"title":"Âü∫Á°ÄÂ§öÊÄÅÂ∫èÂàóÂåñ‚Äã","type":1,"pageTitle":"Â§öÊÄÅÂ∫èÂàóÂåñ","url":"/zh-CN/docs/next/guide/cpp/polymorphism#Âü∫Á°ÄÂ§öÊÄÅÂ∫èÂàóÂåñ","content":" #include &quot;fory/serialization/fory.h&quot; using namespace fory::serialization; // Define base class with virtual methods struct Animal { virtual ~Animal() = default; virtual std::string speak() const = 0; int32_t age = 0; }; FORY_STRUCT(Animal, age); // Define derived classes struct Dog : Animal { std::string speak() const override { return &quot;Woof!&quot;; } std::string breed; }; FORY_STRUCT(Dog, age, breed); struct Cat : Animal { std::string speak() const override { return &quot;Meow!&quot;; } std::string color; }; FORY_STRUCT(Cat, age, color); // Struct with polymorphic field struct Zoo { std::shared_ptr&lt;Animal&gt; star_animal; }; FORY_STRUCT(Zoo, star_animal); int main() { auto fory = Fory::builder().track_ref(true).build(); // Register all types with unique type IDs fory.register_struct&lt;Zoo&gt;(100); fory.register_struct&lt;Dog&gt;(101); fory.register_struct&lt;Cat&gt;(102); // Create object with polymorphic field Zoo zoo; zoo.star_animal = std::make_shared&lt;Dog&gt;(); zoo.star_animal-&gt;age = 3; static_cast&lt;Dog*&gt;(zoo.star_animal.get())-&gt;breed = &quot;Labrador&quot;; // Serialize auto bytes_result = fory.serialize(zoo); assert(bytes_result.ok()); // Deserialize - runtime type is preserved auto decoded_result = fory.deserialize&lt;Zoo&gt;(bytes_result.value()); assert(decoded_result.ok()); auto decoded = std::move(decoded_result).value(); assert(decoded.star_animal-&gt;speak() == &quot;Woof!&quot;); assert(decoded.star_animal-&gt;age == 3); auto* dog_ptr = dynamic_cast&lt;Dog*&gt;(decoded.star_animal.get()); assert(dog_ptr != nullptr); assert(dog_ptr-&gt;breed == &quot;Labrador&quot;); }   ","version":"dev","tagName":"h2"},{"title":"Type Registration for Polymorphism‚Äã","type":1,"pageTitle":"Â§öÊÄÅÂ∫èÂàóÂåñ","url":"/zh-CN/docs/next/guide/cpp/polymorphism#type-registration-for-polymorphism","content":" For polymorphic serialization, register derived types with unique type IDs:  // Register with numeric type ID fory.register_struct&lt;Derived1&gt;(100); fory.register_struct&lt;Derived2&gt;(101);   Why type ID registration?  Compact binary representationFast type lookup and dispatchConsistent with non-polymorphic type registration  ","version":"dev","tagName":"h2"},{"title":"Automatic Polymorphism Detection‚Äã","type":1,"pageTitle":"Â§öÊÄÅÂ∫èÂàóÂåñ","url":"/zh-CN/docs/next/guide/cpp/polymorphism#automatic-polymorphism-detection","content":" Fory automatically detects polymorphic types using std::is_polymorphic&lt;T&gt;:  struct Base { virtual ~Base() = default; // Virtual destructor makes it polymorphic int32_t value = 0; }; struct NonPolymorphic { int32_t value = 0; // No virtual methods }; // Polymorphic field - type info written automatically struct Container1 { std::shared_ptr&lt;Base&gt; ptr; // Auto-detected as polymorphic }; // Non-polymorphic field - no type info written struct Container2 { std::shared_ptr&lt;NonPolymorphic&gt; ptr; // Not polymorphic };   ","version":"dev","tagName":"h2"},{"title":"Controlling Dynamic Dispatch‚Äã","type":1,"pageTitle":"Â§öÊÄÅÂ∫èÂàóÂåñ","url":"/zh-CN/docs/next/guide/cpp/polymorphism#controlling-dynamic-dispatch","content":" Use fory::dynamic&lt;V&gt; to override automatic polymorphism detection:  struct Animal { virtual ~Animal() = default; virtual std::string speak() const = 0; }; struct Pet { // Auto-detected: type info written (Animal has virtual methods) std::shared_ptr&lt;Animal&gt; animal1; // Force dynamic: type info written explicitly fory::field&lt;std::shared_ptr&lt;Animal&gt;, 0, fory::dynamic&lt;true&gt;&gt; animal2; // Force non-dynamic: skip type info (faster but no runtime subtyping) fory::field&lt;std::shared_ptr&lt;Animal&gt;, 1, fory::dynamic&lt;false&gt;&gt; animal3; }; FORY_STRUCT(Pet, animal1, animal2, animal3);   When to use fory::dynamic&lt;false&gt;:  You know the runtime type will always match the declared typePerformance is critical and you don't need subtype supportWorking with monomorphic data despite having a polymorphic base class  ","version":"dev","tagName":"h2"},{"title":"Field Configuration Without Wrapper Types‚Äã","type":1,"pageTitle":"Â§öÊÄÅÂ∫èÂàóÂåñ","url":"/zh-CN/docs/next/guide/cpp/polymorphism#field-configuration-without-wrapper-types","content":" Use FORY_FIELD_CONFIG to configure fields without fory::field&lt;&gt; wrapper:  struct Zoo { std::shared_ptr&lt;Animal&gt; star; // Auto-detected as polymorphic std::shared_ptr&lt;Animal&gt; backup; // Nullable polymorphic field std::shared_ptr&lt;Animal&gt; mascot; // Non-dynamic (no subtype dispatch) }; FORY_STRUCT(Zoo, star, backup, mascot); // Configure fields with tag IDs and options FORY_FIELD_CONFIG(Zoo, (star, fory::F(0)), // Tag ID 0, default options (backup, fory::F(1).nullable()), // Tag ID 1, allow nullptr (mascot, fory::F(2).dynamic(false)) // Tag ID 2, disable polymorphism );   See Field Configuration for complete details on fory::nullable, fory::ref, and other field-level options  ","version":"dev","tagName":"h3"},{"title":"std::unique_ptr Polymorphism‚Äã","type":1,"pageTitle":"Â§öÊÄÅÂ∫èÂàóÂåñ","url":"/zh-CN/docs/next/guide/cpp/polymorphism#stdunique_ptr-polymorphism","content":" std::unique_ptr works the same way as std::shared_ptr for polymorphic types:  struct Container { std::unique_ptr&lt;Animal&gt; pet; }; FORY_STRUCT(Container, pet); auto fory = Fory::builder().track_ref(true).build(); fory.register_struct&lt;Container&gt;(200); fory.register_struct&lt;Dog&gt;(201); Container container; container.pet = std::make_unique&lt;Dog&gt;(); static_cast&lt;Dog*&gt;(container.pet.get())-&gt;breed = &quot;Beagle&quot;; auto bytes = fory.serialize(container).value(); auto decoded = fory.deserialize&lt;Container&gt;(bytes).value(); // Runtime type preserved auto* dog = dynamic_cast&lt;Dog*&gt;(decoded.pet.get()); assert(dog != nullptr); assert(dog-&gt;breed == &quot;Beagle&quot;);   ","version":"dev","tagName":"h2"},{"title":"Collections of Polymorphic Objects‚Äã","type":1,"pageTitle":"Â§öÊÄÅÂ∫èÂàóÂåñ","url":"/zh-CN/docs/next/guide/cpp/polymorphism#collections-of-polymorphic-objects","content":" #include &lt;vector&gt; #include &lt;map&gt; struct AnimalShelter { std::vector&lt;std::shared_ptr&lt;Animal&gt;&gt; animals; std::map&lt;std::string, std::unique_ptr&lt;Animal&gt;&gt; registry; }; FORY_STRUCT(AnimalShelter, animals, registry); auto fory = Fory::builder().track_ref(true).build(); fory.register_struct&lt;AnimalShelter&gt;(100); fory.register_struct&lt;Dog&gt;(101); fory.register_struct&lt;Cat&gt;(102); AnimalShelter shelter; shelter.animals.push_back(std::make_shared&lt;Dog&gt;()); shelter.animals.push_back(std::make_shared&lt;Cat&gt;()); shelter.registry[&quot;pet1&quot;] = std::make_unique&lt;Dog&gt;(); auto bytes = fory.serialize(shelter).value(); auto decoded = fory.deserialize&lt;AnimalShelter&gt;(bytes).value(); // All runtime types preserved assert(dynamic_cast&lt;Dog*&gt;(decoded.animals[0].get()) != nullptr); assert(dynamic_cast&lt;Cat*&gt;(decoded.animals[1].get()) != nullptr); assert(dynamic_cast&lt;Dog*&gt;(decoded.registry[&quot;pet1&quot;].get()) != nullptr);   ","version":"dev","tagName":"h2"},{"title":"Reference Tracking‚Äã","type":1,"pageTitle":"Â§öÊÄÅÂ∫èÂàóÂåñ","url":"/zh-CN/docs/next/guide/cpp/polymorphism#reference-tracking","content":" Reference tracking for std::shared_ptr works the same with polymorphic types. See Supported Types for details and examples.  ","version":"dev","tagName":"h2"},{"title":"Nested Polymorphism Depth Limit‚Äã","type":1,"pageTitle":"Â§öÊÄÅÂ∫èÂàóÂåñ","url":"/zh-CN/docs/next/guide/cpp/polymorphism#nested-polymorphism-depth-limit","content":" To prevent stack overflow from deeply nested polymorphic structures, Fory limits the maximum dynamic nesting depth:  struct Container { virtual ~Container() = default; int32_t value = 0; std::shared_ptr&lt;Container&gt; nested; }; FORY_STRUCT(Container, value, nested); // Default max_dyn_depth is 5 auto fory1 = Fory::builder().build(); assert(fory1.config().max_dyn_depth == 5); // Increase limit for deeper nesting auto fory2 = Fory::builder().max_dyn_depth(10).build(); fory2.register_struct&lt;Container&gt;(1); // Create deeply nested structure auto level3 = std::make_shared&lt;Container&gt;(); level3-&gt;value = 3; auto level2 = std::make_shared&lt;Container&gt;(); level2-&gt;value = 2; level2-&gt;nested = level3; auto level1 = std::make_shared&lt;Container&gt;(); level1-&gt;value = 1; level1-&gt;nested = level2; // Serialization succeeds auto bytes = fory2.serialize(level1).value(); // Deserialization succeeds with sufficient depth auto decoded = fory2.deserialize&lt;std::shared_ptr&lt;Container&gt;&gt;(bytes).value();   Depth exceeded error:  auto fory_shallow = Fory::builder().max_dyn_depth(2).build(); fory_shallow.register_struct&lt;Container&gt;(1); // 3 levels exceeds max_dyn_depth=2 auto result = fory_shallow.deserialize&lt;std::shared_ptr&lt;Container&gt;&gt;(bytes); assert(!result.ok()); // Fails with depth exceeded error   When to adjust:  Increase max_dyn_depth: For legitimate deeply nested polymorphic data structuresDecrease max_dyn_depth: For stricter security requirements or shallow data structures  ","version":"dev","tagName":"h2"},{"title":"Nullability for Polymorphic Fields‚Äã","type":1,"pageTitle":"Â§öÊÄÅÂ∫èÂàóÂåñ","url":"/zh-CN/docs/next/guide/cpp/polymorphism#nullability-for-polymorphic-fields","content":" By default, std::shared_ptr&lt;T&gt; and std::unique_ptr&lt;T&gt; fields are treated as non-nullable in the schema. To allow nullptr, wrap the field withfory::field&lt;&gt; (or FORY_FIELD_TAGS) and opt in with fory::nullable.  struct Pet { // Non-nullable (default) std::shared_ptr&lt;Animal&gt; primary; // Nullable via explicit field metadata fory::field&lt;std::shared_ptr&lt;Animal&gt;, 0, fory::nullable&gt; optional; }; FORY_STRUCT(Pet, primary, optional);   See Field Configuration for more details.  ","version":"dev","tagName":"h2"},{"title":"Combining Polymorphism with Other Features‚Äã","type":1,"pageTitle":"Â§öÊÄÅÂ∫èÂàóÂåñ","url":"/zh-CN/docs/next/guide/cpp/polymorphism#combining-polymorphism-with-other-features","content":" ","version":"dev","tagName":"h2"},{"title":"Polymorphism + Reference Tracking‚Äã","type":1,"pageTitle":"Â§öÊÄÅÂ∫èÂàóÂåñ","url":"/zh-CN/docs/next/guide/cpp/polymorphism#polymorphism--reference-tracking","content":" struct GraphNode { virtual ~GraphNode() = default; int32_t id = 0; std::vector&lt;std::shared_ptr&lt;GraphNode&gt;&gt; neighbors; }; FORY_STRUCT(GraphNode, id, neighbors); struct WeightedNode : GraphNode { double weight = 0.0; }; FORY_STRUCT(WeightedNode, id, neighbors, weight); // Enable ref tracking to handle shared references and cycles auto fory = Fory::builder().track_ref(true).build(); fory.register_struct&lt;GraphNode&gt;(100); fory.register_struct&lt;WeightedNode&gt;(101); // Create cyclic graph auto node1 = std::make_shared&lt;WeightedNode&gt;(); node1-&gt;id = 1; auto node2 = std::make_shared&lt;WeightedNode&gt;(); node2-&gt;id = 2; node1-&gt;neighbors.push_back(node2); node2-&gt;neighbors.push_back(node1); // Cycle auto bytes = fory.serialize(node1).value(); auto decoded = fory.deserialize&lt;std::shared_ptr&lt;GraphNode&gt;&gt;(bytes).value(); // Cycle handled correctly   ","version":"dev","tagName":"h3"},{"title":"Polymorphism + Schema Evolution‚Äã","type":1,"pageTitle":"Â§öÊÄÅÂ∫èÂàóÂåñ","url":"/zh-CN/docs/next/guide/cpp/polymorphism#polymorphism--schema-evolution","content":" Use compatible mode for schema evolution with polymorphic types:  auto fory = Fory::builder() .compatible(true) // Enable schema evolution .track_ref(true) .build();   ","version":"dev","tagName":"h3"},{"title":"Best Practices‚Äã","type":1,"pageTitle":"Â§öÊÄÅÂ∫èÂàóÂåñ","url":"/zh-CN/docs/next/guide/cpp/polymorphism#best-practices","content":" Use type ID registration for polymorphic types: fory.register_struct&lt;DerivedType&gt;(100); Enable reference tracking for polymorphic types: auto fory = Fory::builder().track_ref(true).build(); Virtual destructors required: Ensure base classes have virtual destructors: struct Base { virtual ~Base() = default; // Required for polymorphism }; Register all concrete types before serialization/deserialization: fory.register_struct&lt;Derived1&gt;(100); fory.register_struct&lt;Derived2&gt;(101); Use dynamic_cast to downcast after deserialization: auto* derived = dynamic_cast&lt;DerivedType*&gt;(base_ptr.get()); if (derived) { // Use derived-specific members } Adjust max_dyn_depth based on your data structure depth: auto fory = Fory::builder().max_dyn_depth(10).build(); Use fory::nullable for optional polymorphic fields: fory::field&lt;std::shared_ptr&lt;Base&gt;, 0, fory::nullable&gt; optional_ptr;   ","version":"dev","tagName":"h2"},{"title":"Error Handling‚Äã","type":1,"pageTitle":"Â§öÊÄÅÂ∫èÂàóÂåñ","url":"/zh-CN/docs/next/guide/cpp/polymorphism#error-handling","content":" auto bytes_result = fory.serialize(obj); if (!bytes_result.ok()) { std::cerr &lt;&lt; &quot;Serialization failed: &quot; &lt;&lt; bytes_result.error().to_string() &lt;&lt; std::endl; return; } auto decoded_result = fory.deserialize&lt;MyType&gt;(bytes_result.value()); if (!decoded_result.ok()) { std::cerr &lt;&lt; &quot;Deserialization failed: &quot; &lt;&lt; decoded_result.error().to_string() &lt;&lt; std::endl; return; }   Common errors:  Type not registered: Register all concrete types with unique IDs before useDepth exceeded: Increase max_dyn_depth for deeply nested structuresType ID conflict: Ensure each type has a unique type ID across all registered types  ","version":"dev","tagName":"h2"},{"title":"Performance Considerations‚Äã","type":1,"pageTitle":"Â§öÊÄÅÂ∫èÂàóÂåñ","url":"/zh-CN/docs/next/guide/cpp/polymorphism#performance-considerations","content":" Polymorphic serialization overhead:  Type metadata written for each polymorphic object (~16-32 bytes)Dynamic type resolution during deserializationVirtual function calls for runtime dispatch  Optimization tips:  Use fory::dynamic&lt;false&gt; when runtime type matches declared type: fory::field&lt;std::shared_ptr&lt;Base&gt;, 0, fory::dynamic&lt;false&gt;&gt; fixed_type; Minimize nesting depth to reduce metadata overhead Batch polymorphic objects in collections rather than individual fields Consider non-polymorphic alternatives when polymorphism isn't needed: std::variant&lt;Dog, Cat&gt; animal; // Type-safe union instead of polymorphism   ","version":"dev","tagName":"h2"},{"title":"Related Topics‚Äã","type":1,"pageTitle":"Â§öÊÄÅÂ∫èÂàóÂåñ","url":"/zh-CN/docs/next/guide/cpp/polymorphism#related-topics","content":" Type Registration - Registering types for serializationField Configuration - Field-level metadata and optionsSupported Types - Smart pointers and collectionsConfiguration - max_dyn_depth and other settingsBasic Serialization - Core serialization concepts ","version":"dev","tagName":"h2"},{"title":"Ë°åÊ†ºÂºè","type":0,"sectionRef":"#","url":"/zh-CN/docs/next/guide/cpp/row_format","content":"","keywords":"","version":"dev"},{"title":"Ê¶ÇËø∞‚Äã","type":1,"pageTitle":"Ë°åÊ†ºÂºè","url":"/zh-CN/docs/next/guide/cpp/row_format#Ê¶ÇËø∞","content":" Apache Fory‚Ñ¢ Ë°åÊ†ºÂºèÊòØ‰∏ÄÁßçÈíàÂØπ‰ª•‰∏ãÂú∫ÊôØ‰ºòÂåñÁöÑ‰∫åËøõÂà∂Ê†ºÂºèÔºö  ÈöèÊú∫ËÆøÈóÆÔºöÊó†ÈúÄÂèçÂ∫èÂàóÂåñÊï¥‰∏™ÂØπË±°Âç≥ÂèØËØªÂèñ‰ªªÊÑèÂ≠óÊÆµÈõ∂Êã∑Ë¥ùÔºöÊó†Êï∞ÊçÆÂ§çÂà∂ÁöÑÁõ¥Êé•ÂÜÖÂ≠òËÆøÈóÆÁºìÂ≠òÂèãÂ•ΩÔºöËøûÁª≠ÂÜÖÂ≠òÂ∏ÉÂ±ÄÊèêÈ´ò CPU ÁºìÂ≠òÊïàÁéáÂàóÂºèËΩ¨Êç¢ÔºöÊòì‰∫éËΩ¨Êç¢‰∏∫ Apache Arrow Ê†ºÂºèÈÉ®ÂàÜÂ∫èÂàóÂåñÔºöÂè™Â∫èÂàóÂåñÈúÄË¶ÅÁöÑÂ≠óÊÆµ  ","version":"dev","tagName":"h2"},{"title":"‰ΩïÊó∂‰ΩøÁî®Ë°åÊ†ºÂºè‚Äã","type":1,"pageTitle":"Ë°åÊ†ºÂºè","url":"/zh-CN/docs/next/guide/cpp/row_format#‰ΩïÊó∂‰ΩøÁî®Ë°åÊ†ºÂºè","content":" ‰ΩøÁî®Âú∫ÊôØ\tË°åÊ†ºÂºè\tÂØπË±°ÂõæÂàÜÊûê/OLAP\t‚úÖ\t‚ùå ÈöèÊú∫Â≠óÊÆµËÆøÈóÆ\t‚úÖ\t‚ùå ÂÆåÊï¥ÂØπË±°Â∫èÂàóÂåñ\t‚ùå\t‚úÖ Â§çÊùÇÂØπË±°Âõæ\t‚ùå\t‚úÖ ÂºïÁî®Ë∑üË∏™\t‚ùå\t‚úÖ Ë∑®ËØ≠Ë®ÄÔºàÁÆÄÂçïÁ±ªÂûãÔºâ\t‚úÖ\t‚úÖ  ","version":"dev","tagName":"h2"},{"title":"Âø´ÈÄüÂºÄÂßã‚Äã","type":1,"pageTitle":"Ë°åÊ†ºÂºè","url":"/zh-CN/docs/next/guide/cpp/row_format#Âø´ÈÄüÂºÄÂßã","content":" #include &quot;fory/encoder/row_encoder.h&quot; #include &quot;fory/row/writer.h&quot; using namespace fory::row; using namespace fory::row::encoder; // ÂÆö‰πâÁªìÊûÑ‰Ωì struct Person { int32_t id; std::string name; float score; }; // Ê≥®ÂÜåÂ≠óÊÆµÂÖÉÊï∞ÊçÆÔºàË°åÁºñÁ†ÅÂøÖÈúÄÔºâ FORY_FIELD_INFO(Person, id, name, score); int main() { // ÂàõÂª∫ÁºñÁ†ÅÂô® RowEncoder&lt;Person&gt; encoder; // ÁºñÁ†Å‰∏Ä‰∏™ person Person person{1, &quot;Alice&quot;, 95.5f}; encoder.Encode(person); // Ëé∑ÂèñÁºñÁ†ÅÂêéÁöÑË°å auto row = encoder.GetWriter().ToRow(); // ÈöèÊú∫ËÆøÈóÆÂ≠óÊÆµ int32_t id = row-&gt;GetInt32(0); std::string name = row-&gt;GetString(1); float score = row-&gt;GetFloat(2); assert(id == 1); assert(name == &quot;Alice&quot;); assert(score == 95.5f); return 0; }   ","version":"dev","tagName":"h2"},{"title":"Ë°åÁºñÁ†ÅÂô®‚Äã","type":1,"pageTitle":"Ë°åÊ†ºÂºè","url":"/zh-CN/docs/next/guide/cpp/row_format#Ë°åÁºñÁ†ÅÂô®","content":" ","version":"dev","tagName":"h2"},{"title":"Âü∫Êú¨Áî®Ê≥ï‚Äã","type":1,"pageTitle":"Ë°åÊ†ºÂºè","url":"/zh-CN/docs/next/guide/cpp/row_format#Âü∫Êú¨Áî®Ê≥ï","content":" RowEncoder&lt;T&gt; Ê®°ÊùøÁ±ªÊèê‰æõÁ±ªÂûãÂÆâÂÖ®ÁöÑÁºñÁ†ÅÔºö  #include &quot;fory/encoder/row_encoder.h&quot; // ‰ΩøÁî® FORY_FIELD_INFO ÂÆö‰πâÁªìÊûÑ‰Ωì struct Point { double x; double y; }; FORY_FIELD_INFO(Point, x, y); // ÂàõÂª∫ÁºñÁ†ÅÂô® RowEncoder&lt;Point&gt; encoder; // ËÆøÈóÆ schemaÔºàÁî®‰∫éÊ£ÄÊü•Ôºâ const Schema&amp; schema = encoder.GetSchema(); std::cout &lt;&lt; &quot;Fields: &quot; &lt;&lt; schema.field_names().size() &lt;&lt; std::endl; // ÁºñÁ†ÅÂÄº Point p{1.0, 2.0}; encoder.Encode(p); // Ëé∑ÂèñÁªìÊûú‰Ωú‰∏∫ Row auto row = encoder.GetWriter().ToRow();   ","version":"dev","tagName":"h3"},{"title":"ÂµåÂ•óÁªìÊûÑ‰Ωì‚Äã","type":1,"pageTitle":"Ë°åÊ†ºÂºè","url":"/zh-CN/docs/next/guide/cpp/row_format#ÂµåÂ•óÁªìÊûÑ‰Ωì","content":" struct Address { std::string city; std::string country; }; FORY_FIELD_INFO(Address, city, country); struct Person { std::string name; Address address; }; FORY_FIELD_INFO(Person, name, address); // ÁºñÁ†ÅÂµåÂ•óÁªìÊûÑ‰Ωì RowEncoder&lt;Person&gt; encoder; Person person{&quot;Alice&quot;, {&quot;New York&quot;, &quot;USA&quot;}}; encoder.Encode(person); auto row = encoder.GetWriter().ToRow(); std::string name = row-&gt;GetString(0); // ËÆøÈóÆÂµåÂ•óÁªìÊûÑ‰Ωì auto address_row = row-&gt;GetStruct(1); std::string city = address_row-&gt;GetString(0); std::string country = address_row-&gt;GetString(1);   ","version":"dev","tagName":"h3"},{"title":"Êï∞ÁªÑ / ÂàóË°®‚Äã","type":1,"pageTitle":"Ë°åÊ†ºÂºè","url":"/zh-CN/docs/next/guide/cpp/row_format#Êï∞ÁªÑ--ÂàóË°®","content":" struct Record { std::vector&lt;int32_t&gt; values; std::string label; }; FORY_FIELD_INFO(Record, values, label); RowEncoder&lt;Record&gt; encoder; Record record{{1, 2, 3, 4, 5}, &quot;test&quot;}; encoder.Encode(record); auto row = encoder.GetWriter().ToRow(); auto array = row-&gt;GetArray(0); int count = array-&gt;num_elements(); for (int i = 0; i &lt; count; i++) { int32_t value = array-&gt;GetInt32(i); }   ","version":"dev","tagName":"h3"},{"title":"Áõ¥Êé•ÁºñÁ†ÅÊï∞ÁªÑ‚Äã","type":1,"pageTitle":"Ë°åÊ†ºÂºè","url":"/zh-CN/docs/next/guide/cpp/row_format#Áõ¥Êé•ÁºñÁ†ÅÊï∞ÁªÑ","content":" // Áõ¥Êé•ÁºñÁ†Å vectorÔºà‰∏çÂú®ÁªìÊûÑ‰ΩìÂÜÖÔºâ std::vector&lt;Person&gt; people{ {&quot;Alice&quot;, {&quot;NYC&quot;, &quot;USA&quot;}}, {&quot;Bob&quot;, {&quot;London&quot;, &quot;UK&quot;}} }; RowEncoder&lt;decltype(people)&gt; encoder; encoder.Encode(people); // Ëé∑ÂèñÊï∞ÁªÑÊï∞ÊçÆ auto array = encoder.GetWriter().CopyToArrayData(); auto first_person = array-&gt;GetStruct(0); std::string first_name = first_person-&gt;GetString(0);   ","version":"dev","tagName":"h3"},{"title":"Ë°åÊï∞ÊçÆËÆøÈóÆ‚Äã","type":1,"pageTitle":"Ë°åÊ†ºÂºè","url":"/zh-CN/docs/next/guide/cpp/row_format#Ë°åÊï∞ÊçÆËÆøÈóÆ","content":" ","version":"dev","tagName":"h2"},{"title":"Row Á±ª‚Äã","type":1,"pageTitle":"Ë°åÊ†ºÂºè","url":"/zh-CN/docs/next/guide/cpp/row_format#row-Á±ª","content":" Row Á±ªÊèê‰æõÂØπÁªìÊûÑ‰ΩìÂ≠óÊÆµÁöÑÈöèÊú∫ËÆøÈóÆÔºö  class Row { public: // Á©∫ÂÄºÊ£ÄÊü• bool IsNullAt(int i) const; // Âü∫Êú¨Á±ªÂûã getter bool GetBoolean(int i) const; int8_t GetInt8(int i) const; int16_t GetInt16(int i) const; int32_t GetInt32(int i) const; int64_t GetInt64(int i) const; float GetFloat(int i) const; double GetDouble(int i) const; // Â≠óÁ¨¶‰∏≤/‰∫åËøõÂà∂ getter std::string GetString(int i) const; std::vector&lt;uint8_t&gt; GetBinary(int i) const; // ÂµåÂ•óÁ±ªÂûã std::shared_ptr&lt;Row&gt; GetStruct(int i) const; std::shared_ptr&lt;ArrayData&gt; GetArray(int i) const; std::shared_ptr&lt;MapData&gt; GetMap(int i) const; // ÂÖÉÊï∞ÊçÆ int num_fields() const; SchemaPtr schema() const; // Ë∞ÉËØï std::string ToString() const; };   ","version":"dev","tagName":"h3"},{"title":"ArrayData Á±ª‚Äã","type":1,"pageTitle":"Ë°åÊ†ºÂºè","url":"/zh-CN/docs/next/guide/cpp/row_format#arraydata-Á±ª","content":" ArrayData Á±ªÊèê‰æõÂØπÂàóË°®/Êï∞ÁªÑÂÖÉÁ¥†ÁöÑËÆøÈóÆÔºö  class ArrayData { public: // Á©∫ÂÄºÊ£ÄÊü• bool IsNullAt(int i) const; // ÂÖÉÁ¥†Êï∞Èáè int num_elements() const; // Âü∫Êú¨Á±ªÂûã getterÔºà‰∏é Row Áõ∏ÂêåÔºâ int32_t GetInt32(int i) const; // ... ÂÖ∂‰ªñÂü∫Êú¨Á±ªÂûã // Â≠óÁ¨¶‰∏≤ getter std::string GetString(int i) const; // ÂµåÂ•óÁ±ªÂûã std::shared_ptr&lt;Row&gt; GetStruct(int i) const; std::shared_ptr&lt;ArrayData&gt; GetArray(int i) const; std::shared_ptr&lt;MapData&gt; GetMap(int i) const; // Á±ªÂûã‰ø°ÊÅØ ListTypePtr type() const; };   ","version":"dev","tagName":"h3"},{"title":"MapData Á±ª‚Äã","type":1,"pageTitle":"Ë°åÊ†ºÂºè","url":"/zh-CN/docs/next/guide/cpp/row_format#mapdata-Á±ª","content":" MapData Á±ªÊèê‰æõÂØπ map ÈîÆÂÄºÂØπÁöÑËÆøÈóÆÔºö  class MapData { public: // ÂÖÉÁ¥†Êï∞Èáè int num_elements(); // ‰ª•Êï∞ÁªÑÂΩ¢ÂºèËÆøÈóÆÈîÆÂíåÂÄº std::shared_ptr&lt;ArrayData&gt; keys_array(); std::shared_ptr&lt;ArrayData&gt; values_array(); // Á±ªÂûã‰ø°ÊÅØ MapTypePtr type(); };   ","version":"dev","tagName":"h3"},{"title":"Schema ÂíåÁ±ªÂûã‚Äã","type":1,"pageTitle":"Ë°åÊ†ºÂºè","url":"/zh-CN/docs/next/guide/cpp/row_format#schema-ÂíåÁ±ªÂûã","content":" ","version":"dev","tagName":"h2"},{"title":"Schema ÂÆö‰πâ‚Äã","type":1,"pageTitle":"Ë°åÊ†ºÂºè","url":"/zh-CN/docs/next/guide/cpp/row_format#schema-ÂÆö‰πâ","content":" Schema ÂÆö‰πâË°åÊï∞ÊçÆÁöÑÁªìÊûÑÔºö  #include &quot;fory/row/schema.h&quot; using namespace fory::row; // ‰ª•ÁºñÁ®ãÊñπÂºèÂàõÂª∫ schema auto person_schema = schema({ field(&quot;id&quot;, int32()), field(&quot;name&quot;, utf8()), field(&quot;score&quot;, float32()), field(&quot;active&quot;, boolean()) }); // ËÆøÈóÆ schema ‰ø°ÊÅØ for (const auto&amp; f : person_schema-&gt;fields()) { std::cout &lt;&lt; f-&gt;name() &lt;&lt; &quot;: &quot; &lt;&lt; f-&gt;type()-&gt;name() &lt;&lt; std::endl; }   ","version":"dev","tagName":"h3"},{"title":"Á±ªÂûãÁ≥ªÁªü‚Äã","type":1,"pageTitle":"Ë°åÊ†ºÂºè","url":"/zh-CN/docs/next/guide/cpp/row_format#Á±ªÂûãÁ≥ªÁªü","content":" Ë°åÊ†ºÂºèÂèØÁî®ÁöÑÁ±ªÂûãÔºö  // Âü∫Êú¨Á±ªÂûã DataTypePtr boolean(); // bool DataTypePtr int8(); // int8_t DataTypePtr int16(); // int16_t DataTypePtr int32(); // int32_t DataTypePtr int64(); // int64_t DataTypePtr float32(); // float DataTypePtr float64(); // double // Â≠óÁ¨¶‰∏≤Âíå‰∫åËøõÂà∂ DataTypePtr utf8(); // std::string DataTypePtr binary(); // std::vector&lt;uint8_t&gt; // Â§çÊùÇÁ±ªÂûã DataTypePtr list(DataTypePtr element_type); DataTypePtr map(DataTypePtr key_type, DataTypePtr value_type); DataTypePtr struct_(std::vector&lt;FieldPtr&gt; fields);   ","version":"dev","tagName":"h3"},{"title":"Á±ªÂûãÊé®Êñ≠‚Äã","type":1,"pageTitle":"Ë°åÊ†ºÂºè","url":"/zh-CN/docs/next/guide/cpp/row_format#Á±ªÂûãÊé®Êñ≠","content":" RowEncodeTrait Ê®°ÊùøËá™Âä®Êé®Êñ≠Á±ªÂûãÔºö  // Âü∫Êú¨Á±ªÂûãÁöÑÁ±ªÂûãÊé®Êñ≠ RowEncodeTrait&lt;int32_t&gt;::Type(); // ËøîÂõû int32() RowEncodeTrait&lt;float&gt;::Type(); // ËøîÂõû float32() RowEncodeTrait&lt;std::string&gt;::Type(); // ËøîÂõû utf8() // ÈõÜÂêàÁöÑÁ±ªÂûãÊé®Êñ≠ RowEncodeTrait&lt;std::vector&lt;int32_t&gt;&gt;::Type(); // ËøîÂõû list(int32()) // map ÁöÑÁ±ªÂûãÊé®Êñ≠ RowEncodeTrait&lt;std::map&lt;std::string, int32_t&gt;&gt;::Type(); // ËøîÂõû map(utf8(), int32()) // ÁªìÊûÑ‰ΩìÁöÑÁ±ªÂûãÊé®Êñ≠ÔºàÈúÄË¶Å FORY_FIELD_INFOÔºâ RowEncodeTrait&lt;Person&gt;::Type(); // ËøîÂõû struct_({...}) RowEncodeTrait&lt;Person&gt;::Schema(); // ËøîÂõû schema({...})   ","version":"dev","tagName":"h3"},{"title":"Ë°åÂÜôÂÖ•Âô®‚Äã","type":1,"pageTitle":"Ë°åÊ†ºÂºè","url":"/zh-CN/docs/next/guide/cpp/row_format#Ë°åÂÜôÂÖ•Âô®","content":" ","version":"dev","tagName":"h2"},{"title":"RowWriter‚Äã","type":1,"pageTitle":"Ë°åÊ†ºÂºè","url":"/zh-CN/docs/next/guide/cpp/row_format#rowwriter","content":" Áî®‰∫éÊâãÂä®ÊûÑÈÄ†Ë°åÔºö  #include &quot;fory/row/writer.h&quot; // ÂàõÂª∫ schema auto my_schema = schema({ field(&quot;x&quot;, int32()), field(&quot;y&quot;, float64()), field(&quot;name&quot;, utf8()) }); // ÂàõÂª∫ÂÜôÂÖ•Âô® RowWriter writer(my_schema); writer.Reset(); // ÂÜôÂÖ•Â≠óÊÆµ writer.Write(0, 42); // x = 42 writer.Write(1, 3.14); // y = 3.14 writer.WriteString(2, &quot;test&quot;); // name = &quot;test&quot; // Ëé∑ÂèñÁªìÊûú auto row = writer.ToRow();   ","version":"dev","tagName":"h3"},{"title":"ArrayWriter‚Äã","type":1,"pageTitle":"Ë°åÊ†ºÂºè","url":"/zh-CN/docs/next/guide/cpp/row_format#arraywriter","content":" Áî®‰∫éÊâãÂä®ÊûÑÈÄ†Êï∞ÁªÑÔºö  // ÂàõÂª∫Êï∞ÁªÑÁ±ªÂûã auto array_type = list(int32()); // ÂàõÂª∫ÂÜôÂÖ•Âô® ArrayWriter writer(array_type); writer.Reset(5); // 5 ‰∏™ÂÖÉÁ¥† // ÂÜôÂÖ•ÂÖÉÁ¥† for (int i = 0; i &lt; 5; i++) { writer.Write(i, i * 10); } // Ëé∑ÂèñÁªìÊûú auto array = writer.CopyToArrayData();   ","version":"dev","tagName":"h3"},{"title":"Á©∫ÂÄº‚Äã","type":1,"pageTitle":"Ë°åÊ†ºÂºè","url":"/zh-CN/docs/next/guide/cpp/row_format#Á©∫ÂÄº","content":" // Âú®ÁâπÂÆöÁ¥¢ÂºïÂ§ÑËÆæÁΩÆÁ©∫ÂÄº writer.SetNullAt(2); // Â≠óÊÆµ 2 ‰∏∫Á©∫ // ËØªÂèñÊó∂Ê£ÄÊü•Á©∫ÂÄº if (!row-&gt;IsNullAt(2)) { std::string value = row-&gt;GetString(2); }   ","version":"dev","tagName":"h3"},{"title":"ÂÜÖÂ≠òÂ∏ÉÂ±Ä‚Äã","type":1,"pageTitle":"Ë°åÊ†ºÂºè","url":"/zh-CN/docs/next/guide/cpp/row_format#ÂÜÖÂ≠òÂ∏ÉÂ±Ä","content":" ","version":"dev","tagName":"h2"},{"title":"Ë°åÂ∏ÉÂ±Ä‚Äã","type":1,"pageTitle":"Ë°åÊ†ºÂºè","url":"/zh-CN/docs/next/guide/cpp/row_format#Ë°åÂ∏ÉÂ±Ä","content":" +------------------+--------------------+--------------------+ | Á©∫ÂÄº‰ΩçÂõæ | Âõ∫ÂÆöÂ§ßÂ∞èÊï∞ÊçÆ | ÂèòÈïøÊï∞ÊçÆ | +------------------+--------------------+--------------------+ | ceil(n/8) B | 8 * n Â≠óËäÇ | ÂèØÂèò | +------------------+--------------------+--------------------+   Á©∫ÂÄº‰ΩçÂõæÔºöÊØèÂ≠óÊÆµ‰∏Ä‰ΩçÔºåÊåáÁ§∫Á©∫ÂÄºÂõ∫ÂÆöÂ§ßÂ∞èÊï∞ÊçÆÔºöÊØèÂ≠óÊÆµ 8 Â≠óËäÇÔºàÂü∫Êú¨Á±ªÂûãÁõ¥Êé•Â≠òÂÇ®ÔºåÂèòÈïøÁ±ªÂûãÂ≠òÂÇ®ÂÅèÁßªÈáè+Â§ßÂ∞èÔºâÂèòÈïøÊï∞ÊçÆÔºöÂ≠óÁ¨¶‰∏≤„ÄÅÊï∞ÁªÑ„ÄÅÂµåÂ•óÁªìÊûÑ‰Ωì  ","version":"dev","tagName":"h3"},{"title":"Êï∞ÁªÑÂ∏ÉÂ±Ä‚Äã","type":1,"pageTitle":"Ë°åÊ†ºÂºè","url":"/zh-CN/docs/next/guide/cpp/row_format#Êï∞ÁªÑÂ∏ÉÂ±Ä","content":" +------------+------------------+--------------------+--------------------+ | ÂÖÉÁ¥†Êï∞Èáè | Á©∫ÂÄº‰ΩçÂõæ | Âõ∫ÂÆöÂ§ßÂ∞èÊï∞ÊçÆ | ÂèòÈïøÊï∞ÊçÆ | +------------+------------------+--------------------+--------------------+ | 8 Â≠óËäÇ | ceil(n/8) Â≠óËäÇ | elem_size * n | ÂèØÂèò | +------------+------------------+--------------------+--------------------+   ","version":"dev","tagName":"h3"},{"title":"Map Â∏ÉÂ±Ä‚Äã","type":1,"pageTitle":"Ë°åÊ†ºÂºè","url":"/zh-CN/docs/next/guide/cpp/row_format#map-Â∏ÉÂ±Ä","content":" +------------------+------------------+ | ÈîÆÊï∞ÁªÑ | ÂÄºÊï∞ÁªÑ | +------------------+------------------+   ","version":"dev","tagName":"h3"},{"title":"ÊÄßËÉΩÊèêÁ§∫‚Äã","type":1,"pageTitle":"Ë°åÊ†ºÂºè","url":"/zh-CN/docs/next/guide/cpp/row_format#ÊÄßËÉΩÊèêÁ§∫","content":" ","version":"dev","tagName":"h2"},{"title":"1. Â§çÁî®ÁºñÁ†ÅÂô®‚Äã","type":1,"pageTitle":"Ë°åÊ†ºÂºè","url":"/zh-CN/docs/next/guide/cpp/row_format#1-Â§çÁî®ÁºñÁ†ÅÂô®","content":" RowEncoder&lt;Person&gt; encoder; // ÁºñÁ†ÅÂ§öÊù°ËÆ∞ÂΩï for (const auto&amp; person : people) { encoder.Encode(person); auto row = encoder.GetWriter().ToRow(); // Â§ÑÁêÜ row... }   ","version":"dev","tagName":"h3"},{"title":"2. È¢ÑÂàÜÈÖçÁºìÂÜ≤Âå∫‚Äã","type":1,"pageTitle":"Ë°åÊ†ºÂºè","url":"/zh-CN/docs/next/guide/cpp/row_format#2-È¢ÑÂàÜÈÖçÁºìÂÜ≤Âå∫","content":" // Ëé∑ÂèñÁºìÂÜ≤Âå∫ÂºïÁî®ËøõË°åÈ¢ÑÂàÜÈÖç auto&amp; buffer = encoder.GetWriter().buffer(); buffer-&gt;Reserve(expected_size);   ","version":"dev","tagName":"h3"},{"title":"3. ÊâπÈáèÂ§ÑÁêÜ‚Äã","type":1,"pageTitle":"Ë°åÊ†ºÂºè","url":"/zh-CN/docs/next/guide/cpp/row_format#3-ÊâπÈáèÂ§ÑÁêÜ","content":" // ÊâπÈáèÂ§ÑÁêÜ‰ª•ÊèêÈ´òÁºìÂ≠òÂà©Áî®Áéá std::vector&lt;Person&gt; batch; batch.reserve(BATCH_SIZE); while (hasMore()) { batch.clear(); fillBatch(batch); for (const auto&amp; person : batch) { encoder.Encode(person); process(encoder.GetWriter().ToRow()); } }   ","version":"dev","tagName":"h3"},{"title":"4. Èõ∂Êã∑Ë¥ùËØªÂèñ‚Äã","type":1,"pageTitle":"Ë°åÊ†ºÂºè","url":"/zh-CN/docs/next/guide/cpp/row_format#4-Èõ∂Êã∑Ë¥ùËØªÂèñ","content":" // ÊåáÂêëÁé∞ÊúâÁºìÂÜ≤Âå∫ÔºàÈõ∂Êã∑Ë¥ùÔºâ Row row(schema); row.PointTo(buffer, offset, size); // Áõ¥Êé•‰ªéÁºìÂÜ≤Âå∫ËÆøÈóÆÂ≠óÊÆµ int32_t id = row.GetInt32(0);   ","version":"dev","tagName":"h3"},{"title":"ÊîØÊåÅÁ±ªÂûãÊ±áÊÄª‚Äã","type":1,"pageTitle":"Ë°åÊ†ºÂºè","url":"/zh-CN/docs/next/guide/cpp/row_format#ÊîØÊåÅÁ±ªÂûãÊ±áÊÄª","content":" C++ Á±ªÂûã\tË°åÁ±ªÂûã\tÂõ∫ÂÆöÂ§ßÂ∞èbool\tboolean()\t1 Â≠óËäÇ int8_t\tint8()\t1 Â≠óËäÇ int16_t\tint16()\t2 Â≠óËäÇ int32_t\tint32()\t4 Â≠óËäÇ int64_t\tint64()\t8 Â≠óËäÇ float\tfloat32()\t4 Â≠óËäÇ double\tfloat64()\t8 Â≠óËäÇ std::string\tutf8()\tÂèØÂèò std::vector&lt;T&gt;\tlist(T)\tÂèØÂèò std::map&lt;K,V&gt;\tmap(K,V)\tÂèØÂèò std::optional&lt;T&gt;\tÂÜÖÈÉ®Á±ªÂûã\tÂèØÁ©∫ ÁªìÊûÑ‰Ωì (FORY_FIELD_INFO)\tstruct_({...})\tÂèØÂèò  ","version":"dev","tagName":"h2"},{"title":"Áõ∏ÂÖ≥‰∏ªÈ¢ò‚Äã","type":1,"pageTitle":"Ë°åÊ†ºÂºè","url":"/zh-CN/docs/next/guide/cpp/row_format#Áõ∏ÂÖ≥‰∏ªÈ¢ò","content":" Âü∫Á°ÄÂ∫èÂàóÂåñ - ÂØπË±°ÂõæÂ∫èÂàóÂåñÈÖçÁΩÆ - ÊûÑÂª∫Âô®ÈÄâÈ°πÊîØÊåÅÁöÑÁ±ªÂûã - ÊâÄÊúâÊîØÊåÅÁöÑÁ±ªÂûã ","version":"dev","tagName":"h2"},{"title":"ÊîØÊåÅÁöÑÁ±ªÂûã","type":0,"sectionRef":"#","url":"/zh-CN/docs/next/guide/cpp/supported_types","content":"","keywords":"","version":"dev"},{"title":"Âü∫Êú¨Á±ªÂûã‚Äã","type":1,"pageTitle":"ÊîØÊåÅÁöÑÁ±ªÂûã","url":"/zh-CN/docs/next/guide/cpp/supported_types#Âü∫Êú¨Á±ªÂûã","content":" ÊâÄÊúâ C++ Âü∫Êú¨Á±ªÂûãÈÉΩÊîØÊåÅÈ´òÊïàÁöÑ‰∫åËøõÂà∂ÁºñÁ†ÅÔºö  Á±ªÂûã\tÂ§ßÂ∞è\tFory TypeId\tËØ¥Êòébool\t1 Â≠óËäÇ\tBOOL\tTrue/false int8_t\t1 Â≠óËäÇ\tINT8\tÊúâÁ¨¶Âè∑Â≠óËäÇ uint8_t\t1 Â≠óËäÇ\tINT8\tÊó†Á¨¶Âè∑Â≠óËäÇ int16_t\t2 Â≠óËäÇ\tINT16\tÊúâÁ¨¶Âè∑Áü≠Êï¥Âûã uint16_t\t2 Â≠óËäÇ\tINT16\tÊó†Á¨¶Âè∑Áü≠Êï¥Âûã int32_t\t4 Â≠óËäÇ\tINT32\tÊúâÁ¨¶Âè∑Êï¥Âûã uint32_t\t4 Â≠óËäÇ\tINT32\tÊó†Á¨¶Âè∑Êï¥Âûã int64_t\t8 Â≠óËäÇ\tINT64\tÊúâÁ¨¶Âè∑ÈïøÊï¥Âûã uint64_t\t8 Â≠óËäÇ\tINT64\tÊó†Á¨¶Âè∑ÈïøÊï¥Âûã float\t4 Â≠óËäÇ\tFLOAT32\tIEEE 754 ÂçïÁ≤æÂ∫¶ double\t8 Â≠óËäÇ\tFLOAT64\tIEEE 754 ÂèåÁ≤æÂ∫¶ char\t1 Â≠óËäÇ\tINT8\tÂ≠óÁ¨¶Ôºà‰Ωú‰∏∫ÊúâÁ¨¶Âè∑Ôºâ char16_t\t2 Â≠óËäÇ\tINT16\t16 ‰ΩçÂ≠óÁ¨¶ char32_t\t4 Â≠óËäÇ\tINT32\t32 ‰ΩçÂ≠óÁ¨¶  int32_t value = 42; auto bytes = fory.serialize(value).value(); auto decoded = fory.deserialize&lt;int32_t&gt;(bytes).value(); assert(value == decoded);   ","version":"dev","tagName":"h2"},{"title":"Â≠óÁ¨¶‰∏≤Á±ªÂûã‚Äã","type":1,"pageTitle":"ÊîØÊåÅÁöÑÁ±ªÂûã","url":"/zh-CN/docs/next/guide/cpp/supported_types#Â≠óÁ¨¶‰∏≤Á±ªÂûã","content":" Á±ªÂûã\tFory TypeId\tËØ¥Êòéstd::string\tSTRING\tUTF-8 ÁºñÁ†Å std::string_view\tSTRING\tÈõ∂Êã∑Ë¥ùËßÜÂõæÔºàËØªÂèñÔºâ std::u16string\tSTRING\tUTF-16ÔºàËΩ¨Êç¢Ôºâ binary\tBINARY\tÊó†ÈïøÂ∫¶ÁöÑÂéüÂßãÂ≠óËäÇ  std::string text = &quot;Hello, World!&quot;; auto bytes = fory.serialize(text).value(); auto decoded = fory.deserialize&lt;std::string&gt;(bytes).value(); assert(text == decoded);   ","version":"dev","tagName":"h2"},{"title":"ÈõÜÂêàÁ±ªÂûã‚Äã","type":1,"pageTitle":"ÊîØÊåÅÁöÑÁ±ªÂûã","url":"/zh-CN/docs/next/guide/cpp/supported_types#ÈõÜÂêàÁ±ªÂûã","content":" ","version":"dev","tagName":"h2"},{"title":"Vector / List‚Äã","type":1,"pageTitle":"ÊîØÊåÅÁöÑÁ±ªÂûã","url":"/zh-CN/docs/next/guide/cpp/supported_types#vector--list","content":" std::vector&lt;T&gt; ÊîØÊåÅ‰ªª‰ΩïÂèØÂ∫èÂàóÂåñÁöÑÂÖÉÁ¥†Á±ªÂûãÔºö  std::vector&lt;int32_t&gt; numbers{1, 2, 3, 4, 5}; auto bytes = fory.serialize(numbers).value(); auto decoded = fory.deserialize&lt;std::vector&lt;int32_t&gt;&gt;(bytes).value(); // ÂµåÂ•ó vector std::vector&lt;std::vector&lt;std::string&gt;&gt; nested{ {&quot;a&quot;, &quot;b&quot;}, {&quot;c&quot;, &quot;d&quot;, &quot;e&quot;} };   ","version":"dev","tagName":"h3"},{"title":"Set‚Äã","type":1,"pageTitle":"ÊîØÊåÅÁöÑÁ±ªÂûã","url":"/zh-CN/docs/next/guide/cpp/supported_types#set","content":" std::set&lt;T&gt; Âíå std::unordered_set&lt;T&gt;Ôºö  std::set&lt;std::string&gt; tags{&quot;cpp&quot;, &quot;serialization&quot;, &quot;fory&quot;}; auto bytes = fory.serialize(tags).value(); auto decoded = fory.deserialize&lt;std::set&lt;std::string&gt;&gt;(bytes).value(); std::unordered_set&lt;int32_t&gt; ids{1, 2, 3};   ","version":"dev","tagName":"h3"},{"title":"Map‚Äã","type":1,"pageTitle":"ÊîØÊåÅÁöÑÁ±ªÂûã","url":"/zh-CN/docs/next/guide/cpp/supported_types#map","content":" std::map&lt;K, V&gt; Âíå std::unordered_map&lt;K, V&gt;Ôºö  std::map&lt;std::string, int32_t&gt; scores{ {&quot;Alice&quot;, 100}, {&quot;Bob&quot;, 95} }; auto bytes = fory.serialize(scores).value(); auto decoded = fory.deserialize&lt;std::map&lt;std::string, int32_t&gt;&gt;(bytes).value(); // Êó†Â∫è map std::unordered_map&lt;int32_t, std::string&gt; lookup{ {1, &quot;one&quot;}, {2, &quot;two&quot;} };   ","version":"dev","tagName":"h3"},{"title":"Êô∫ËÉΩÊåáÈíà‚Äã","type":1,"pageTitle":"ÊîØÊåÅÁöÑÁ±ªÂûã","url":"/zh-CN/docs/next/guide/cpp/supported_types#Êô∫ËÉΩÊåáÈíà","content":" ","version":"dev","tagName":"h2"},{"title":"std::optional‚Äã","type":1,"pageTitle":"ÊîØÊåÅÁöÑÁ±ªÂûã","url":"/zh-CN/docs/next/guide/cpp/supported_types#stdoptional","content":" ‰ªª‰ΩïÁ±ªÂûãÁöÑÂèØÁ©∫ÂåÖË£ÖÔºö  std::optional&lt;int32_t&gt; maybe_value = 42; std::optional&lt;int32_t&gt; empty_value = std::nullopt; auto bytes = fory.serialize(maybe_value).value(); auto decoded = fory.deserialize&lt;std::optional&lt;int32_t&gt;&gt;(bytes).value(); assert(decoded.has_value() &amp;&amp; *decoded == 42);   ","version":"dev","tagName":"h3"},{"title":"std::shared_ptr‚Äã","type":1,"pageTitle":"ÊîØÊåÅÁöÑÁ±ªÂûã","url":"/zh-CN/docs/next/guide/cpp/supported_types#stdshared_ptr","content":" Â∏¶ÂºïÁî®Ë∑üË∏™ÁöÑÂÖ±‰∫´ÊâÄÊúâÊùÉÔºö  auto shared = std::make_shared&lt;Person&gt;(&quot;Alice&quot;, 30); auto bytes = fory.serialize(shared).value(); auto decoded = fory.deserialize&lt;std::shared_ptr&lt;Person&gt;&gt;(bytes).value();   ÂêØÁî®ÂºïÁî®Ë∑üË∏™Ôºàtrack_ref(true)ÔºâÊó∂Ôºö  ÂÖ±‰∫´ÂØπË±°Âè™Â∫èÂàóÂåñ‰∏ÄÊ¨°ÂØπÂêå‰∏ÄÂØπË±°ÁöÑÂºïÁî®Ë¢´‰øùÁïôÂæ™ÁéØÂºïÁî®Ëá™Âä®Â§ÑÁêÜ  ","version":"dev","tagName":"h3"},{"title":"std::unique_ptr‚Äã","type":1,"pageTitle":"ÊîØÊåÅÁöÑÁ±ªÂûã","url":"/zh-CN/docs/next/guide/cpp/supported_types#stdunique_ptr","content":" Áã¨Âç†ÊâÄÊúâÊùÉÔºö  auto unique = std::make_unique&lt;Person&gt;(&quot;Bob&quot;, 25); auto bytes = fory.serialize(unique).value(); auto decoded = fory.deserialize&lt;std::unique_ptr&lt;Person&gt;&gt;(bytes).value();   ","version":"dev","tagName":"h3"},{"title":"Variant Á±ªÂûã‚Äã","type":1,"pageTitle":"ÊîØÊåÅÁöÑÁ±ªÂûã","url":"/zh-CN/docs/next/guide/cpp/supported_types#variant-Á±ªÂûã","content":" std::variant&lt;Ts...&gt; Áî®‰∫éÁ±ªÂûãÂÆâÂÖ®ÁöÑËÅîÂêàÔºö  using MyVariant = std::variant&lt;int32_t, std::string, double&gt;; MyVariant v1 = 42; MyVariant v2 = std::string(&quot;hello&quot;); MyVariant v3 = 3.14; auto bytes = fory.serialize(v1).value(); auto decoded = fory.deserialize&lt;MyVariant&gt;(bytes).value(); assert(std::get&lt;int32_t&gt;(decoded) == 42);   ","version":"dev","tagName":"h2"},{"title":"std::monostate‚Äã","type":1,"pageTitle":"ÊîØÊåÅÁöÑÁ±ªÂûã","url":"/zh-CN/docs/next/guide/cpp/supported_types#stdmonostate","content":" Á©∫ variant Êõø‰ª£Ôºö  using OptionalInt = std::variant&lt;std::monostate, int32_t&gt;; OptionalInt empty = std::monostate{}; OptionalInt value = 42;   ","version":"dev","tagName":"h3"},{"title":"Êó∂Èó¥Á±ªÂûã‚Äã","type":1,"pageTitle":"ÊîØÊåÅÁöÑÁ±ªÂûã","url":"/zh-CN/docs/next/guide/cpp/supported_types#Êó∂Èó¥Á±ªÂûã","content":" ","version":"dev","tagName":"h2"},{"title":"Duration‚Äã","type":1,"pageTitle":"ÊîØÊåÅÁöÑÁ±ªÂûã","url":"/zh-CN/docs/next/guide/cpp/supported_types#duration","content":" std::chrono::nanosecondsÔºö  using Duration = std::chrono::nanoseconds; Duration d = std::chrono::seconds(30); auto bytes = fory.serialize(d).value(); auto decoded = fory.deserialize&lt;Duration&gt;(bytes).value();   ","version":"dev","tagName":"h3"},{"title":"Timestamp‚Äã","type":1,"pageTitle":"ÊîØÊåÅÁöÑÁ±ªÂûã","url":"/zh-CN/docs/next/guide/cpp/supported_types#timestamp","content":" Ëá™ Unix Á∫™ÂÖÉ‰ª•Êù•ÁöÑÊó∂Èó¥ÁÇπÔºö  using Timestamp = std::chrono::time_point&lt;std::chrono::system_clock, std::chrono::nanoseconds&gt;; Timestamp now = std::chrono::system_clock::now(); auto bytes = fory.serialize(now).value(); auto decoded = fory.deserialize&lt;Timestamp&gt;(bytes).value();   ","version":"dev","tagName":"h3"},{"title":"LocalDate‚Äã","type":1,"pageTitle":"ÊîØÊåÅÁöÑÁ±ªÂûã","url":"/zh-CN/docs/next/guide/cpp/supported_types#localdate","content":" Ëá™ Unix Á∫™ÂÖÉ‰ª•Êù•ÁöÑÂ§©Êï∞Ôºö  LocalDate date{18628}; // Ëá™ 1970-01-01 ‰ª•Êù•ÁöÑÂ§©Êï∞ auto bytes = fory.serialize(date).value(); auto decoded = fory.deserialize&lt;LocalDate&gt;(bytes).value();   ","version":"dev","tagName":"h3"},{"title":"Áî®Êà∑ÂÆö‰πâÁªìÊûÑ‰Ωì‚Äã","type":1,"pageTitle":"ÊîØÊåÅÁöÑÁ±ªÂûã","url":"/zh-CN/docs/next/guide/cpp/supported_types#Áî®Êà∑ÂÆö‰πâÁªìÊûÑ‰Ωì","content":" ‰ªª‰ΩïÁªìÊûÑ‰ΩìÈÉΩÂèØ‰ª•‰ΩøÁî® FORY_STRUCT ËøõË°åÂ∫èÂàóÂåñÔºö  struct Point { double x; double y; double z; }; FORY_STRUCT(Point, x, y, z); struct Line { Point start; Point end; std::string label; }; FORY_STRUCT(Line, start, end, label);   ","version":"dev","tagName":"h2"},{"title":"Êûö‰∏æÁ±ªÂûã‚Äã","type":1,"pageTitle":"ÊîØÊåÅÁöÑÁ±ªÂûã","url":"/zh-CN/docs/next/guide/cpp/supported_types#Êûö‰∏æÁ±ªÂûã","content":" ‰ΩøÁî® FORY_ENUM ÊîØÊåÅ‰ΩúÁî®ÂüüÂíåÈùû‰ΩúÁî®ÂüüÊûö‰∏æÔºö  // ‰ΩúÁî®ÂüüÊûö‰∏æÔºàC++11 enum classÔºâ enum class Color { RED = 0, GREEN = 1, BLUE = 2 }; // ÈùûËøûÁª≠ÂÄºÁöÑÈùû‰ΩúÁî®ÂüüÊûö‰∏æ enum Priority : int32_t { LOW = -10, NORMAL = 0, HIGH = 10 }; FORY_ENUM(Priority, LOW, NORMAL, HIGH); // ‰ΩøÁî® Color c = Color::GREEN; auto bytes = fory.serialize(c).value(); auto decoded = fory.deserialize&lt;Color&gt;(bytes).value();   ","version":"dev","tagName":"h2"},{"title":"‰∏çÊîØÊåÅÁöÑÁ±ªÂûã‚Äã","type":1,"pageTitle":"ÊîØÊåÅÁöÑÁ±ªÂûã","url":"/zh-CN/docs/next/guide/cpp/supported_types#‰∏çÊîØÊåÅÁöÑÁ±ªÂûã","content":" ÂΩìÂâç‰∏çÊîØÊåÅÔºö  ÂéüÂßãÊåáÈíàÔºàT*Ôºâ- ‰ΩøÁî®Êô∫ËÉΩÊåáÈíà‰ª£Êõøstd::tuple&lt;Ts...&gt; - ‰ΩøÁî®ÁªìÊûÑ‰Ωì‰ª£Êõøstd::array&lt;T, N&gt; - ‰ΩøÁî® std::vector&lt;T&gt; ‰ª£ÊõøÂáΩÊï∞ÊåáÈíàÂºïÁî®ÔºàT&amp;„ÄÅconst T&amp;Ôºâ- ‰ªÖÊîØÊåÅÊåâÂÄº‰º†ÈÄí  ","version":"dev","tagName":"h2"},{"title":"Áõ∏ÂÖ≥‰∏ªÈ¢ò‚Äã","type":1,"pageTitle":"ÊîØÊåÅÁöÑÁ±ªÂûã","url":"/zh-CN/docs/next/guide/cpp/supported_types#Áõ∏ÂÖ≥‰∏ªÈ¢ò","content":" Âü∫Á°ÄÂ∫èÂàóÂåñ - ‰ΩøÁî®Ëøô‰∫õÁ±ªÂûãÁ±ªÂûãÊ≥®ÂÜå - Ê≥®ÂÜåÁ±ªÂûãË∑®ËØ≠Ë®Ä - Ë∑®ËØ≠Ë®ÄÂÖºÂÆπÊÄß ","version":"dev","tagName":"h2"},{"title":"Schema ÊºîÂåñ","type":0,"sectionRef":"#","url":"/zh-CN/docs/next/guide/cpp/schema_evolution","content":"","keywords":"","version":"dev"},{"title":"Compatible Ê®°Âºè‚Äã","type":1,"pageTitle":"Schema ÊºîÂåñ","url":"/zh-CN/docs/next/guide/cpp/schema_evolution#compatible-Ê®°Âºè","content":" ‰ΩøÁî® compatible(true) ÂêØÁî® schema ÊºîÂåñÔºö  #include &quot;fory/serialization/fory.h&quot; using namespace fory::serialization; // ÁâàÊú¨ 1ÔºöÂéüÂßã schema struct PersonV1 { std::string name; int32_t age; }; FORY_STRUCT(PersonV1, name, age); // ÁâàÊú¨ 2ÔºöÊ∑ªÂä† email Â≠óÊÆµ struct PersonV2 { std::string name; int32_t age; std::string email; // Êñ∞Â≠óÊÆµ }; FORY_STRUCT(PersonV2, name, age, email); int main() { // ‰∏∫ÊØè‰∏™ schema ÁâàÊú¨ÂàõÂª∫ÂçïÁã¨ÁöÑ Fory ÂÆû‰æã auto fory_v1 = Fory::builder() .compatible(true) // ÂêØÁî® schema ÊºîÂåñ .xlang(true) .build(); auto fory_v2 = Fory::builder() .compatible(true) .xlang(true) .build(); // ‰ΩøÁî®Áõ∏ÂêåÁöÑÁ±ªÂûã ID ËøõË°å schema ÊºîÂåñ constexpr uint32_t PERSON_TYPE_ID = 100; fory_v1.register_struct&lt;PersonV1&gt;(PERSON_TYPE_ID); fory_v2.register_struct&lt;PersonV2&gt;(PERSON_TYPE_ID); // ‰ΩøÁî® V1 Â∫èÂàóÂåñ PersonV1 v1{&quot;Alice&quot;, 30}; auto bytes = fory_v1.serialize(v1).value(); // ÂèçÂ∫èÂàóÂåñ‰∏∫ V2 - email Ëé∑ÂæóÈªòËÆ§ÂÄºÔºàÁ©∫Â≠óÁ¨¶‰∏≤Ôºâ auto v2 = fory_v2.deserialize&lt;PersonV2&gt;(bytes).value(); assert(v2.name == &quot;Alice&quot;); assert(v2.age == 30); assert(v2.email == &quot;&quot;); // Áº∫Â§±Â≠óÊÆµÁöÑÈªòËÆ§ÂÄº return 0; }   ","version":"dev","tagName":"h2"},{"title":"Schema ÊºîÂåñÁâπÊÄß‚Äã","type":1,"pageTitle":"Schema ÊºîÂåñ","url":"/zh-CN/docs/next/guide/cpp/schema_evolution#schema-ÊºîÂåñÁâπÊÄß","content":" Compatible Ê®°ÂºèÊîØÊåÅ‰ª•‰∏ã schema ÂèòÊõ¥Ôºö  ÂèòÊõ¥Á±ªÂûã\tÊîØÊåÅ\tË°å‰∏∫Ê∑ªÂä†Êñ∞Â≠óÊÆµ\t‚úÖ\tÁº∫Â§±Â≠óÊÆµ‰ΩøÁî®ÈªòËÆ§ÂÄº Âà†Èô§Â≠óÊÆµ\t‚úÖ\tÈ¢ùÂ§ñÂ≠óÊÆµË¢´Ë∑≥Ëøá ÈáçÊéíÂ≠óÊÆµÈ°∫Â∫è\t‚úÖ\tÊåâÂêçÁß∞ÂåπÈÖçÂ≠óÊÆµÔºåËÄåÈùû‰ΩçÁΩÆ Êõ¥ÊîπÂèØÁ©∫ÊÄß\t‚úÖ\tT ‚Üî std::optional&lt;T&gt; Êõ¥ÊîπÂ≠óÊÆµÁ±ªÂûã\t‚ùå\tÁ±ªÂûãÂøÖÈ°ªÂÖºÂÆπ ÈáçÂëΩÂêçÂ≠óÊÆµ\t‚ùå\tÂ≠óÊÆµÂêçÂøÖÈ°ªÂåπÈÖçÔºàÂå∫ÂàÜÂ§ßÂ∞èÂÜôÔºâ  ","version":"dev","tagName":"h2"},{"title":"Ê∑ªÂä†Â≠óÊÆµÔºàÂêëÂêéÂÖºÂÆπÔºâ‚Äã","type":1,"pageTitle":"Schema ÊºîÂåñ","url":"/zh-CN/docs/next/guide/cpp/schema_evolution#Ê∑ªÂä†Â≠óÊÆµÂêëÂêéÂÖºÂÆπ","content":" ÂΩì‰ΩøÁî®ÂÖ∑ÊúâÈ¢ùÂ§ñÂ≠óÊÆµÁöÑÊñ∞ schema ÂèçÂ∫èÂàóÂåñÊóßÊï∞ÊçÆÊó∂Ôºö  // Êóß schema (V1) struct ProductV1 { std::string name; double price; }; FORY_STRUCT(ProductV1, name, price); // Êñ∞ schema (V2) Â∏¶ÊúâÈ¢ùÂ§ñÂ≠óÊÆµ struct ProductV2 { std::string name; double price; std::vector&lt;std::string&gt; tags; // Êñ∞Â≠óÊÆµ std::map&lt;std::string, std::string&gt; attributes; // Êñ∞Â≠óÊÆµ }; FORY_STRUCT(ProductV2, name, price, tags, attributes); // Â∫èÂàóÂåñ V1 ProductV1 v1{&quot;Laptop&quot;, 999.99}; auto bytes = fory_v1.serialize(v1).value(); // ÂèçÂ∫èÂàóÂåñ‰∏∫ V2 auto v2 = fory_v2.deserialize&lt;ProductV2&gt;(bytes).value(); assert(v2.name == &quot;Laptop&quot;); assert(v2.price == 999.99); assert(v2.tags.empty()); // ÈªòËÆ§ÔºöÁ©∫ vector assert(v2.attributes.empty()); // ÈªòËÆ§ÔºöÁ©∫ map   ","version":"dev","tagName":"h2"},{"title":"Âà†Èô§Â≠óÊÆµÔºàÂêëÂâçÂÖºÂÆπÔºâ‚Äã","type":1,"pageTitle":"Schema ÊºîÂåñ","url":"/zh-CN/docs/next/guide/cpp/schema_evolution#Âà†Èô§Â≠óÊÆµÂêëÂâçÂÖºÂÆπ","content":" ÂΩì‰ΩøÁî®ÂÖ∑ÊúâËæÉÂ∞ëÂ≠óÊÆµÁöÑÊóß schema ÂèçÂ∫èÂàóÂåñÊñ∞Êï∞ÊçÆÊó∂Ôºö  // ÂÆåÊï¥ schema struct UserFull { int64_t id; std::string username; std::string email; std::string password_hash; int32_t login_count; }; FORY_STRUCT(UserFull, id, username, email, password_hash, login_count); // Á≤æÁÆÄ schemaÔºàÂà†Èô§‰∫Ü 3 ‰∏™Â≠óÊÆµÔºâ struct UserMinimal { int64_t id; std::string username; }; FORY_STRUCT(UserMinimal, id, username); // Â∫èÂàóÂåñÂÆåÊï¥ÁâàÊú¨ UserFull full{12345, &quot;johndoe&quot;, &quot;john@example.com&quot;, &quot;hash123&quot;, 42}; auto bytes = fory_full.serialize(full).value(); // ÂèçÂ∫èÂàóÂåñ‰∏∫Á≤æÁÆÄÁâàÊú¨ - È¢ùÂ§ñÂ≠óÊÆµË¢´Ë∑≥Ëøá auto minimal = fory_minimal.deserialize&lt;UserMinimal&gt;(bytes).value(); assert(minimal.id == 12345); assert(minimal.username == &quot;johndoe&quot;); // email„ÄÅpassword_hash„ÄÅlogin_count Ë¢´Ë∑≥Ëøá   ","version":"dev","tagName":"h2"},{"title":"Â≠óÊÆµÈáçÊéí‚Äã","type":1,"pageTitle":"Schema ÊºîÂåñ","url":"/zh-CN/docs/next/guide/cpp/schema_evolution#Â≠óÊÆµÈáçÊéí","content":" Âú® compatible Ê®°Âºè‰∏ãÔºåÂ≠óÊÆµÊåâÂêçÁß∞ÂåπÈÖçÔºåËÄåÈùû‰ΩçÁΩÆÔºö  // ÂéüÂßãÂ≠óÊÆµÈ°∫Â∫è struct ConfigOriginal { std::string host; int32_t port; bool enable_ssl; std::string protocol; }; FORY_STRUCT(ConfigOriginal, host, port, enable_ssl, protocol); // ÈáçÊéíÂêéÁöÑÂ≠óÊÆµ struct ConfigReordered { bool enable_ssl; // ÁßªÂà∞Á¨¨‰∏Ä‰Ωç std::string protocol; // ÁßªÂà∞Á¨¨‰∫å‰Ωç std::string host; // ÁßªÂà∞Á¨¨‰∏â‰Ωç int32_t port; // ÁßªÂà∞ÊúÄÂêé }; FORY_STRUCT(ConfigReordered, enable_ssl, protocol, host, port); // ‰ΩøÁî®ÂéüÂßãÈ°∫Â∫èÂ∫èÂàóÂåñ ConfigOriginal orig{&quot;localhost&quot;, 8080, true, &quot;https&quot;}; auto bytes = fory_orig.serialize(orig).value(); // ‰ΩøÁî®‰∏çÂêåÂ≠óÊÆµÈ°∫Â∫èÂèçÂ∫èÂàóÂåñ - Ê≠£Â∏∏Â∑•‰Ωú auto reordered = fory_reord.deserialize&lt;ConfigReordered&gt;(bytes).value(); assert(reordered.host == &quot;localhost&quot;); assert(reordered.port == 8080); assert(reordered.enable_ssl == true); assert(reordered.protocol == &quot;https&quot;);   ","version":"dev","tagName":"h2"},{"title":"ÂµåÂ•óÁªìÊûÑ‰ΩìÊºîÂåñ‚Äã","type":1,"pageTitle":"Schema ÊºîÂåñ","url":"/zh-CN/docs/next/guide/cpp/schema_evolution#ÂµåÂ•óÁªìÊûÑ‰ΩìÊºîÂåñ","content":" Schema ÊºîÂåñÈÄíÂΩíÊîØÊåÅÂµåÂ•óÁªìÊûÑ‰ΩìÔºö  // V1 Address struct AddressV1 { std::string street; std::string city; }; FORY_STRUCT(AddressV1, street, city); // V2 Address Â∏¶ÊúâÊñ∞Â≠óÊÆµ struct AddressV2 { std::string street; std::string city; std::string country; // Êñ∞Â≠óÊÆµ std::string zipcode; // Êñ∞Â≠óÊÆµ }; FORY_STRUCT(AddressV2, street, city, country, zipcode); // V1 Employee ‰ΩøÁî® V1 Address struct EmployeeV1 { std::string name; AddressV1 home_address; }; FORY_STRUCT(EmployeeV1, name, home_address); // V2 Employee ‰ΩøÁî® V2 Address ÂíåÊñ∞Â≠óÊÆµ struct EmployeeV2 { std::string name; AddressV2 home_address; // ÂµåÂ•óÁªìÊûÑ‰ΩìÂ∑≤ÊºîÂåñ std::string employee_id; // Êñ∞Â≠óÊÆµ }; FORY_STRUCT(EmployeeV2, name, home_address, employee_id); // ‰ΩøÁî®Áõ∏Âêå ID Ê≥®ÂÜåÁ±ªÂûã constexpr uint32_t ADDRESS_TYPE_ID = 100; constexpr uint32_t EMPLOYEE_TYPE_ID = 101; fory_v1.register_struct&lt;AddressV1&gt;(ADDRESS_TYPE_ID); fory_v1.register_struct&lt;EmployeeV1&gt;(EMPLOYEE_TYPE_ID); fory_v2.register_struct&lt;AddressV2&gt;(ADDRESS_TYPE_ID); fory_v2.register_struct&lt;EmployeeV2&gt;(EMPLOYEE_TYPE_ID); // Â∫èÂàóÂåñ V1 EmployeeV1 emp_v1{&quot;Jane Doe&quot;, {&quot;123 Main St&quot;, &quot;NYC&quot;}}; auto bytes = fory_v1.serialize(emp_v1).value(); // ÂèçÂ∫èÂàóÂåñ‰∏∫ V2 auto emp_v2 = fory_v2.deserialize&lt;EmployeeV2&gt;(bytes).value(); assert(emp_v2.name == &quot;Jane Doe&quot;); assert(emp_v2.home_address.street == &quot;123 Main St&quot;); assert(emp_v2.home_address.city == &quot;NYC&quot;); assert(emp_v2.home_address.country == &quot;&quot;); // ÈªòËÆ§ÂÄº assert(emp_v2.home_address.zipcode == &quot;&quot;); // ÈªòËÆ§ÂÄº assert(emp_v2.employee_id == &quot;&quot;); // ÈªòËÆ§ÂÄº   ","version":"dev","tagName":"h2"},{"title":"ÂèåÂêëÊºîÂåñ‚Äã","type":1,"pageTitle":"Schema ÊºîÂåñ","url":"/zh-CN/docs/next/guide/cpp/schema_evolution#ÂèåÂêëÊºîÂåñ","content":" Schema ÊºîÂåñÂèåÂêëÂ∑•‰ΩúÔºö  // V2 -&gt; V1ÔºàÈôçÁ∫ßÔºâ PersonV2 v2{&quot;Charlie&quot;, 35, &quot;charlie@example.com&quot;}; auto bytes = fory_v2.serialize(v2).value(); auto v1 = fory_v1.deserialize&lt;PersonV1&gt;(bytes).value(); assert(v1.name == &quot;Charlie&quot;); assert(v1.age == 35); // email Â≠óÊÆµÂú®ÂèçÂ∫èÂàóÂåñÊó∂Ë¢´‰∏¢ÂºÉ   ","version":"dev","tagName":"h2"},{"title":"ÈªòËÆ§ÂÄº‚Äã","type":1,"pageTitle":"Schema ÊºîÂåñ","url":"/zh-CN/docs/next/guide/cpp/schema_evolution#ÈªòËÆ§ÂÄº","content":" ÂΩìÂ≠óÊÆµÁº∫Â§±Êó∂Ôºå‰ΩøÁî® C++ ÈªòËÆ§ÂàùÂßãÂåñÔºö  Á±ªÂûã\tÈªòËÆ§ÂÄºint8_t„ÄÅint16_t...\t0 float„ÄÅdouble\t0.0 bool\tfalse std::string\t&quot;&quot; std::vector&lt;T&gt;\tÁ©∫ vector std::map&lt;K,V&gt;\tÁ©∫ map std::set&lt;T&gt;\tÁ©∫ set std::optional&lt;T&gt;\tstd::nullopt ÁªìÊûÑ‰ΩìÁ±ªÂûã\tÈªòËÆ§ÊûÑÈÄ†  ","version":"dev","tagName":"h2"},{"title":"SchemaConsistent Ê®°ÂºèÔºàÈªòËÆ§Ôºâ‚Äã","type":1,"pageTitle":"Schema ÊºîÂåñ","url":"/zh-CN/docs/next/guide/cpp/schema_evolution#schemaconsistent-Ê®°ÂºèÈªòËÆ§","content":" ‰∏ç‰ΩøÁî® compatible Ê®°ÂºèÊó∂Ôºåschema ÂøÖÈ°ªÂÆåÂÖ®ÂåπÈÖçÔºö  // ‰∏•Ê†ºÊ®°ÂºèÔºàÈªòËÆ§Ôºâ auto fory = Fory::builder() .compatible(false) // ÈªòËÆ§Ôºöschema ÂøÖÈ°ªÂåπÈÖç .xlang(true) .build(); // Â∫èÂàóÂåñ/ÂèçÂ∫èÂàóÂåñË¶ÅÊ±ÇÁõ∏ÂêåÁöÑ schema // Schema ‰∏çÂåπÈÖçÂèØËÉΩÂØºËá¥ÈîôËØØÊàñÊú™ÂÆö‰πâË°å‰∏∫   ‰ΩïÊó∂‰ΩøÁî® SchemaConsistent Ê®°ÂºèÔºö  Schema ‰øùËØÅÂåπÈÖçÔºàÁõ∏ÂêåÁöÑ‰∫åËøõÂà∂ÁâàÊú¨ÔºâÈúÄË¶ÅÊúÄÈ´òÊÄßËÉΩÔºàÊõ¥Â∞ëÁöÑÂÖÉÊï∞ÊçÆÂºÄÈîÄÔºâÊÇ®ÂêåÊó∂ÊéßÂà∂Â∫èÂàóÂåñÂíåÂèçÂ∫èÂàóÂåñ  ‰ΩïÊó∂‰ΩøÁî® Compatible Ê®°ÂºèÔºö  Schema ÂèØËÉΩÁã¨Á´ãÊºîÂåñÈúÄË¶ÅË∑®ÁâàÊú¨ÂÖºÂÆπÊÄß‰∏çÂêåÊúçÂä°ÂèØËÉΩÊúâ‰∏çÂêåÁöÑ schema ÁâàÊú¨  ","version":"dev","tagName":"h2"},{"title":"Á±ªÂûã ID Ë¶ÅÊ±Ç‚Äã","type":1,"pageTitle":"Schema ÊºîÂåñ","url":"/zh-CN/docs/next/guide/cpp/schema_evolution#Á±ªÂûã-id-Ë¶ÅÊ±Ç","content":" Ë¶Å‰Ωø schema ÊºîÂåñÊ≠£Â∏∏Â∑•‰ΩúÔºö  Áõ∏ÂêåÁ±ªÂûã IDÔºöÂêå‰∏ÄÁªìÊûÑ‰ΩìÁöÑ‰∏çÂêåÁâàÊú¨ÂøÖÈ°ª‰ΩøÁî®Áõ∏ÂêåÁöÑÁ±ªÂûã ID‰∏ÄËá¥ÁöÑ IDÔºöÁ±ªÂûã ID ÂøÖÈ°ªÂú®ÊâÄÊúâ Fory ÂÆû‰æã‰∏≠‰øùÊåÅ‰∏ÄËá¥Ê≥®ÂÜåÊâÄÊúâÁâàÊú¨ÔºöÊØè‰∏™ Fory ÂÆû‰æãÊ≥®ÂÜåËá™Â∑±ÁöÑÁªìÊûÑ‰ΩìÁâàÊú¨  constexpr uint32_t PERSON_TYPE_ID = 100; // ÂÆû‰æã 1 ‰ΩøÁî® PersonV1 fory_v1.register_struct&lt;PersonV1&gt;(PERSON_TYPE_ID); // ÂÆû‰æã 2 ‰ΩøÁî® PersonV2 fory_v2.register_struct&lt;PersonV2&gt;(PERSON_TYPE_ID); // Áõ∏ÂêåÁöÑÁ±ªÂûã ID ÂêØÁî® schema ÊºîÂåñ   ","version":"dev","tagName":"h2"},{"title":"ÊúÄ‰Ω≥ÂÆûË∑µ‚Äã","type":1,"pageTitle":"Schema ÊºîÂåñ","url":"/zh-CN/docs/next/guide/cpp/schema_evolution#ÊúÄ‰Ω≥ÂÆûË∑µ","content":" ","version":"dev","tagName":"h2"},{"title":"1. ‰∏∫ÊºîÂåñÂÅöËßÑÂàí‚Äã","type":1,"pageTitle":"Schema ÊºîÂåñ","url":"/zh-CN/docs/next/guide/cpp/schema_evolution#1-‰∏∫ÊºîÂåñÂÅöËßÑÂàí","content":" ËÆæËÆ° schema Êó∂ËÄÉËôëÊú™Êù•ÁöÑÂèòÊõ¥Ôºö  // Â•ΩÁöÑÂÅöÊ≥ïÔºöÂØπÂèØËÉΩÂà†Èô§ÁöÑÂ≠óÊÆµ‰ΩøÁî® optional struct Config { std::string host; int32_t port; std::optional&lt;std::string&gt; deprecated_field; // ‰ª•ÂêéÂèØ‰ª•Âà†Èô§ };   ","version":"dev","tagName":"h3"},{"title":"2. ‰ΩøÁî®ÊúâÊÑè‰πâÁöÑÈªòËÆ§ÂÄº‚Äã","type":1,"pageTitle":"Schema ÊºîÂåñ","url":"/zh-CN/docs/next/guide/cpp/schema_evolution#2-‰ΩøÁî®ÊúâÊÑè‰πâÁöÑÈªòËÆ§ÂÄº","content":" ËÄÉËôëÊñ∞Â≠óÊÆµ‰ΩøÁî®‰ªÄ‰πàÈªòËÆ§ÂÄºÊâçÊúâÊÑè‰πâÔºö  struct Settings { int32_t timeout_ms; // ÈªòËÆ§Ôºö0ÔºàÂèØËÉΩÈúÄË¶Å‰∏Ä‰∏™ÂêàÁêÜÁöÑÈªòËÆ§ÂÄºÔºâ bool enabled; // ÈªòËÆ§Ôºöfalse std::string mode; // ÈªòËÆ§Ôºö&quot;&quot;ÔºàÂèØËÉΩÈúÄË¶Å &quot;default&quot;Ôºâ };   ","version":"dev","tagName":"h3"},{"title":"3. ËÆ∞ÂΩï Schema ÁâàÊú¨‚Äã","type":1,"pageTitle":"Schema ÊºîÂåñ","url":"/zh-CN/docs/next/guide/cpp/schema_evolution#3-ËÆ∞ÂΩï-schema-ÁâàÊú¨","content":" Ë∑üË∏™ schema ÂèòÊõ¥‰ª•‰æøË∞ÉËØïÔºö  // V1ÔºöÂàùÂßã schemaÔºà2024-01-01Ôºâ // V2ÔºöÊ∑ªÂä† email Â≠óÊÆµÔºà2024-02-01Ôºâ // V3ÔºöÊ∑ªÂä† phone„ÄÅaddress Â≠óÊÆµÔºà2024-03-01Ôºâ   ","version":"dev","tagName":"h3"},{"title":"4. ÊµãËØïÊºîÂåñË∑ØÂæÑ‚Äã","type":1,"pageTitle":"Schema ÊºîÂåñ","url":"/zh-CN/docs/next/guide/cpp/schema_evolution#4-ÊµãËØïÊºîÂåñË∑ØÂæÑ","content":" ÊµãËØïÂçáÁ∫ßÂíåÈôçÁ∫ßÂú∫ÊôØÔºö  // ÊµãËØï V1 -&gt; V2 // ÊµãËØï V2 -&gt; V1 // ÊµãËØï V1 -&gt; V3 // ÊµãËØï V3 -&gt; V1   ","version":"dev","tagName":"h3"},{"title":"Ë∑®ËØ≠Ë®Ä Schema ÊºîÂåñ‚Äã","type":1,"pageTitle":"Schema ÊºîÂåñ","url":"/zh-CN/docs/next/guide/cpp/schema_evolution#Ë∑®ËØ≠Ë®Ä-schema-ÊºîÂåñ","content":" ‰ΩøÁî® xlang Ê®°ÂºèÊó∂Ôºåschema ÊºîÂåñË∑®ËØ≠Ë®ÄÂ∑•‰ΩúÔºö  // ‰ΩøÁî® compatible Ê®°ÂºèÁöÑ C++ auto fory = Fory::builder() .compatible(true) .xlang(true) .build();   // ‰ΩøÁî® compatible Ê®°ÂºèÁöÑ Java Fory fory = Fory.builder() .withCompatibleMode(CompatibleMode.COMPATIBLE) .withLanguage(Language.XLANG) .build();   Âç≥‰Ωø schema ÁâàÊú¨‰∏çÂêåÔºå‰∏§‰∏™ÂÆû‰æã‰πüÂèØ‰ª•‰∫§Êç¢Êï∞ÊçÆ„ÄÇ  ","version":"dev","tagName":"h2"},{"title":"Áõ∏ÂÖ≥‰∏ªÈ¢ò‚Äã","type":1,"pageTitle":"Schema ÊºîÂåñ","url":"/zh-CN/docs/next/guide/cpp/schema_evolution#Áõ∏ÂÖ≥‰∏ªÈ¢ò","content":" ÈÖçÁΩÆ - ÂêØÁî® compatible Ê®°ÂºèÁ±ªÂûãÊ≥®ÂÜå - Á±ªÂûã ID ÁÆ°ÁêÜË∑®ËØ≠Ë®Ä - Ë∑®ËØ≠Ë®ÄÊ≥®ÊÑè‰∫ãÈ°π ","version":"dev","tagName":"h2"},{"title":"ÂºÄÂèëÊåáÂçó","type":0,"sectionRef":"#","url":"/zh-CN/docs/next/guide/development","content":"","keywords":"","version":"dev"},{"title":"Â¶Ç‰ΩïÊûÑÂª∫ Apache Fory‚Ñ¢‚Äã","type":1,"pageTitle":"ÂºÄÂèëÊåáÂçó","url":"/zh-CN/docs/next/guide/development#Â¶Ç‰ΩïÊûÑÂª∫-apache-fory","content":" ËØ∑‰ªé https://github.com/apache/fory Ê£ÄÂá∫Ê∫ê‰ª£Á†ÅÊ†ë„ÄÇ  ","version":"dev","tagName":"h2"},{"title":"ÊûÑÂª∫ Apache Fory‚Ñ¢ Java‚Äã","type":1,"pageTitle":"ÂºÄÂèëÊåáÂçó","url":"/zh-CN/docs/next/guide/development#ÊûÑÂª∫-apache-fory-java","content":" cd java mvn clean compile -DskipTests   ÁéØÂ¢ÉË¶ÅÊ±Ç‚Äã  java 1.8+maven 3.6.3+  ","version":"dev","tagName":"h3"},{"title":"ÊûÑÂª∫ Apache Fory‚Ñ¢ Python‚Äã","type":1,"pageTitle":"ÂºÄÂèëÊåáÂçó","url":"/zh-CN/docs/next/guide/development#ÊûÑÂª∫-apache-fory-python","content":" cd python # È¶ñÂÖàÂç∏ËΩΩ numpyÔºå‰ª•‰æøÂú®ÂÆâË£Ö pyarrow Êó∂Ëá™Âä®ÂÆâË£ÖÊ≠£Á°ÆÁöÑ numpy ÁâàÊú¨„ÄÇ # ÂØπ‰∫é Python ÁâàÊú¨‰Ωé‰∫é 3.13ÔºåÁõÆÂâç‰∏çÊîØÊåÅ numpy 2„ÄÇ pip uninstall -y numpy # ‰∏∫ Python &lt; 3.13 ÂÆâË£ÖÂøÖË¶ÅÁöÑÁéØÂ¢É„ÄÇ pip install pyarrow Cython wheel pytest # pip install pyarrow Cython wheel pytest pip install -v -e .   ÁéØÂ¢ÉË¶ÅÊ±Ç‚Äã  python 3.6+  ","version":"dev","tagName":"h3"},{"title":"ÊûÑÂª∫ Apache Fory‚Ñ¢ C++‚Äã","type":1,"pageTitle":"ÂºÄÂèëÊåáÂçó","url":"/zh-CN/docs/next/guide/development#ÊûÑÂª∫-apache-fory-c","content":" ÊûÑÂª∫ fory Ë°åÊ†ºÂºèÔºö  bazel build //cpp/fory/row:fory_row_format   ÊûÑÂª∫ fory Ë°åÊ†ºÂºèÁºñÁ†ÅÂô®Ôºö  bazel build //cpp/fory/encoder:fory_encoder   ÁéØÂ¢ÉË¶ÅÊ±Ç‚Äã  ÊîØÊåÅ C++17 ÁöÑÁºñËØëÂô®bazel 6.3.2  ","version":"dev","tagName":"h3"},{"title":"ÊûÑÂª∫ Apache Fory‚Ñ¢ GoLang‚Äã","type":1,"pageTitle":"ÂºÄÂèëÊåáÂçó","url":"/zh-CN/docs/next/guide/development#ÊûÑÂª∫-apache-fory-golang","content":" cd go/fory # ËøêË°åÊµãËØï go test -v ./... # ËøêË°åË∑®ËØ≠Ë®ÄÊµãËØï go test -v fory_xlang_test.go   ÁéØÂ¢ÉË¶ÅÊ±Ç‚Äã  go 1.13+  ","version":"dev","tagName":"h3"},{"title":"ÊûÑÂª∫ Apache Fory‚Ñ¢ Rust‚Äã","type":1,"pageTitle":"ÂºÄÂèëÊåáÂçó","url":"/zh-CN/docs/next/guide/development#ÊûÑÂª∫-apache-fory-rust","content":" cd rust # ÊûÑÂª∫ cargo build # ËøêË°åÊµãËØï cargo test # ËøêË°åÁâπÂÆöÊµãËØï cargo test -p tests --test $test_file $test_method # ËøêË°åÂ≠êÁõÆÂΩï‰∏ãÁöÑÁâπÂÆöÊµãËØï cargo test --test mod $dir$::$test_file::$test_method # Ë∞ÉËØïÂ≠êÁõÆÂΩï‰∏ãÁöÑÁâπÂÆöÊµãËØïÂπ∂Ëé∑ÂèñÂõûÊ∫Ø‰ø°ÊÅØ RUST_BACKTRACE=1 FORY_PANIC_ON_ERROR=1 cargo test --test mod $dir$::$test_file::$test_method # Ê£ÄÊü• fory derive ÂÆèÁîüÊàêÁöÑ‰ª£Á†Å cargo expand --test mod $mod$::$file$ &gt; expanded.rs   ÁéØÂ¢ÉË¶ÅÊ±Ç‚Äã  curl --proto '=https' --tlsv1.2 -sSf https://sh.rustup.rs | sh   ","version":"dev","tagName":"h3"},{"title":"ÊûÑÂª∫ Apache Fory‚Ñ¢ JavaScript‚Äã","type":1,"pageTitle":"ÂºÄÂèëÊåáÂçó","url":"/zh-CN/docs/next/guide/development#ÊûÑÂª∫-apache-fory-javascript","content":" cd javascript npm install # ËøêË°åÊûÑÂª∫ npm run build # ËøêË°åÊµãËØï npm run test   ÁéØÂ¢ÉË¶ÅÊ±Ç‚Äã  node 14+npm 8+  ","version":"dev","tagName":"h3"},{"title":"Lint Markdown ÊñáÊ°£‚Äã","type":1,"pageTitle":"ÂºÄÂèëÊåáÂçó","url":"/zh-CN/docs/next/guide/development#lint-markdown-ÊñáÊ°£","content":" # ÂÖ®Â±ÄÂÆâË£Ö prettier npm install -g prettier # Ê†ºÂºèÂåñ markdown Êñá‰ª∂ prettier --write &quot;**/*.md&quot;   ÁéØÂ¢ÉË¶ÅÊ±Ç‚Äã  node 14+npm 8+  ","version":"dev","tagName":"h3"},{"title":"Ë¥°ÁåÆ‚Äã","type":1,"pageTitle":"ÂºÄÂèëÊåáÂçó","url":"/zh-CN/docs/next/guide/development#Ë¥°ÁåÆ","content":" Êõ¥Â§ö‰ø°ÊÅØÔºåËØ∑ÂèÇËÄÉÂ¶Ç‰ΩïË¥°ÁåÆÂà∞ Apache Fory‚Ñ¢„ÄÇ ","version":"dev","tagName":"h2"},{"title":"Á±ªÂûãÊ≥®ÂÜå","type":0,"sectionRef":"#","url":"/zh-CN/docs/next/guide/cpp/type_registration","content":"","keywords":"","version":"dev"},{"title":"Ê¶ÇËø∞‚Äã","type":1,"pageTitle":"Á±ªÂûãÊ≥®ÂÜå","url":"/zh-CN/docs/next/guide/cpp/type_registration#Ê¶ÇËø∞","content":" Apache Fory‚Ñ¢ Ë¶ÅÊ±ÇÊòæÂºèÊ≥®ÂÜåÁªìÊûÑ‰ΩìÁ±ªÂûã„ÄÇËøôÁßçËÆæËÆ°‰ΩøÂæóÔºö  Ë∑®ËØ≠Ë®ÄÂÖºÂÆπÊÄßÔºöÊ≥®ÂÜåÁöÑÁ±ªÂûã ID Ë∑®ËØ≠Ë®ÄËæπÁïå‰ΩøÁî®Á±ªÂûãÂÆâÂÖ®ÔºöÂú®ÂèçÂ∫èÂàóÂåñÊó∂Ê£ÄÊµãÁ±ªÂûã‰∏çÂåπÈÖçÂ§öÊÄÅÂ∫èÂàóÂåñÔºöÈÄöËøáÊô∫ËÉΩÊåáÈíàÂêØÁî®Â§öÊÄÅÂØπË±°ÁöÑÂ∫èÂàóÂåñ  ","version":"dev","tagName":"h2"},{"title":"Ê≥®ÂÜåÁªìÊûÑ‰Ωì‚Äã","type":1,"pageTitle":"Á±ªÂûãÊ≥®ÂÜå","url":"/zh-CN/docs/next/guide/cpp/type_registration#Ê≥®ÂÜåÁªìÊûÑ‰Ωì","content":" ‰ΩøÁî® register_struct&lt;T&gt;(type_id) Ê≥®ÂÜåÁªìÊûÑ‰ΩìÁ±ªÂûãÔºö  #include &quot;fory/serialization/fory.h&quot; using namespace fory::serialization; struct Person { std::string name; int32_t age; }; FORY_STRUCT(Person, name, age); int main() { auto fory = Fory::builder().xlang(true).build(); // ‰ΩøÁî®ÂîØ‰∏ÄÁöÑÁ±ªÂûã ID Ê≥®ÂÜå fory.register_struct&lt;Person&gt;(100); Person person{&quot;Alice&quot;, 30}; auto bytes = fory.serialize(person).value(); auto decoded = fory.deserialize&lt;Person&gt;(bytes).value(); }   ","version":"dev","tagName":"h2"},{"title":"Á±ªÂûã ID ÊåáÂçó‚Äã","type":1,"pageTitle":"Á±ªÂûãÊ≥®ÂÜå","url":"/zh-CN/docs/next/guide/cpp/type_registration#Á±ªÂûã-id-ÊåáÂçó","content":" Á±ªÂûã ID ÂøÖÈ°ªÔºö  ÂîØ‰∏ÄÔºöÊØè‰∏™Á±ªÂûãÂú® Fory ÂÆû‰æã‰∏≠ÂøÖÈ°ªÊúâÂîØ‰∏ÄÁöÑ ID‰∏ÄËá¥ÔºöÂøÖÈ°ªÂú®ÊâÄÊúâËØ≠Ë®ÄÂíåÁâàÊú¨‰∏≠‰ΩøÁî®Áõ∏ÂêåÁöÑ ID  Áî®Êà∑Ê≥®ÂÜåÁöÑÁ±ªÂûã ID ‰∏éÂÜÖÁΩÆÁ±ªÂûã ID Âú®‰∏çÂêåÁöÑÂëΩÂêçÁ©∫Èó¥‰∏≠ÔºåÂõ†Ê≠§ÂèØ‰ª•‰ªé 0 ÂºÄÂßãÔºö  // Áî®Êà∑Á±ªÂûã ID ÂèØ‰ª•‰ªé 0 ÂºÄÂßã fory.register_struct&lt;Address&gt;(0); fory.register_struct&lt;Person&gt;(1); fory.register_struct&lt;Order&gt;(2);   ","version":"dev","tagName":"h2"},{"title":"Ê≥®ÂÜåÊûö‰∏æ‚Äã","type":1,"pageTitle":"Á±ªÂûãÊ≥®ÂÜå","url":"/zh-CN/docs/next/guide/cpp/type_registration#Ê≥®ÂÜåÊûö‰∏æ","content":" ‰ΩøÁî® register_enum&lt;T&gt;(type_id) Ê≥®ÂÜåÊûö‰∏æÁ±ªÂûã„ÄÇÂØπ‰∫é‰ªé 0 ÂºÄÂßãËøûÁª≠ÂÄºÁöÑÁÆÄÂçïÊûö‰∏æÔºå‰∏çÈúÄË¶ÅÂÆèÔºö  // ÁÆÄÂçïËøûÁª≠Êûö‰∏æ - ‰∏çÈúÄË¶Å FORY_ENUM enum class Color { RED, GREEN, BLUE }; // ÂÄºÔºö0„ÄÅ1„ÄÅ2 // ‰ΩøÁî® register_enum Ê≥®ÂÜå fory.register_enum&lt;Color&gt;(0);   ÂØπ‰∫éÂÖ∑ÊúâÈùûËøûÁª≠ÂÄºÁöÑÊûö‰∏æÔºå‰ΩøÁî® FORY_ENUM ÂÆèÂ∞ÜÂÄºÊò†Â∞ÑÂà∞Â∫èÂè∑Ôºö  // ÈùûËøûÁª≠Êûö‰∏æÂÄº - ÈúÄË¶Å FORY_ENUM enum class Priority { LOW = 10, MEDIUM = 50, HIGH = 100 }; FORY_ENUM(Priority, LOW, MEDIUM, HIGH); // ÂÖ®Â±ÄÂëΩÂêçÁ©∫Èó¥Êûö‰∏æÔºàÂâçÁºÄ ::Ôºâ enum LegacyStatus { UNKNOWN = -1, OK = 0, ERROR = 1 }; FORY_ENUM(::LegacyStatus, UNKNOWN, OK, ERROR); // FORY_ENUM ÂêéÊ≥®ÂÜå fory.register_enum&lt;Priority&gt;(1); fory.register_enum&lt;LegacyStatus&gt;(2);   ‰ΩïÊó∂‰ΩøÁî® FORY_ENUMÔºö  Êûö‰∏æÂÄº‰∏ç‰ªé 0 ÂºÄÂßãÊûö‰∏æÂÄº‰∏çËøûÁª≠Ôºà‰æãÂ¶Ç 10„ÄÅ50„ÄÅ100ÔºâÈúÄË¶ÅÂú®ÁºñËØëÊó∂ËøõË°åÂêçÁß∞Âà∞ÂÄºÁöÑÊò†Â∞Ñ  ","version":"dev","tagName":"h2"},{"title":"Á∫øÁ®ãÂÆâÂÖ®Ê≥®ÂÜå‚Äã","type":1,"pageTitle":"Á±ªÂûãÊ≥®ÂÜå","url":"/zh-CN/docs/next/guide/cpp/type_registration#Á∫øÁ®ãÂÆâÂÖ®Ê≥®ÂÜå","content":" ÂØπ‰∫é ThreadSafeForyÔºåÂú®ÁîüÊàêÁ∫øÁ®ã‰πãÂâçÊ≥®ÂÜåÁ±ªÂûãÔºö  auto fory = Fory::builder().xlang(true).build_thread_safe(); // È¶ñÂÖàÊ≥®ÂÜåÊâÄÊúâÁ±ªÂûã fory.register_struct&lt;TypeA&gt;(100); fory.register_struct&lt;TypeB&gt;(101); // Áé∞Âú®ÂèØ‰ª•‰ªéÂ§ö‰∏™Á∫øÁ®ãÂÆâÂÖ®‰ΩøÁî® std::thread t1([&amp;]() { auto result = fory.serialize(obj_a); }); std::thread t2([&amp;]() { auto result = fory.serialize(obj_b); });   ","version":"dev","tagName":"h2"},{"title":"Ë∑®ËØ≠Ë®ÄÊ≥®ÂÜå‚Äã","type":1,"pageTitle":"Á±ªÂûãÊ≥®ÂÜå","url":"/zh-CN/docs/next/guide/cpp/type_registration#Ë∑®ËØ≠Ë®ÄÊ≥®ÂÜå","content":" ‰∏∫‰∫ÜË∑®ËØ≠Ë®ÄÂÖºÂÆπÊÄßÔºåÁ°Æ‰øùÔºö  Áõ∏ÂêåÁ±ªÂûã IDÔºöÂú®ÊâÄÊúâËØ≠Ë®Ä‰∏≠‰ΩøÁî®Áõ∏ÂêåÁöÑ IDÂÖºÂÆπÁ±ªÂûãÔºöË∑®ËØ≠Ë®Ä‰ΩøÁî®Á≠âÊïàÁ±ªÂûã  ","version":"dev","tagName":"h2"},{"title":"Java‚Äã","type":1,"pageTitle":"Á±ªÂûãÊ≥®ÂÜå","url":"/zh-CN/docs/next/guide/cpp/type_registration#java","content":" Fory fory = Fory.builder().build(); fory.register(Person.class, 100); fory.register(Address.class, 101);   ","version":"dev","tagName":"h3"},{"title":"Python‚Äã","type":1,"pageTitle":"Á±ªÂûãÊ≥®ÂÜå","url":"/zh-CN/docs/next/guide/cpp/type_registration#python","content":" import pyfory fory = pyfory.Fory() fory.register(Person, 100) fory.register(Address, 101)   ","version":"dev","tagName":"h3"},{"title":"C++‚Äã","type":1,"pageTitle":"Á±ªÂûãÊ≥®ÂÜå","url":"/zh-CN/docs/next/guide/cpp/type_registration#c","content":" auto fory = Fory::builder().xlang(true).build(); fory.register_struct&lt;Person&gt;(100); fory.register_struct&lt;Address&gt;(101);   ","version":"dev","tagName":"h3"},{"title":"ÂÜÖÁΩÆÁ±ªÂûã ID‚Äã","type":1,"pageTitle":"Á±ªÂûãÊ≥®ÂÜå","url":"/zh-CN/docs/next/guide/cpp/type_registration#ÂÜÖÁΩÆÁ±ªÂûã-id","content":" ÂÜÖÁΩÆÁ±ªÂûãÊúâÈ¢ÑÂàÜÈÖçÁöÑÁ±ªÂûã IDÔºå‰∏çÈúÄË¶ÅÊ≥®ÂÜåÔºö  Á±ªÂûã ID\tÁ±ªÂûã0\tNONE 1\tBOOL 2\tINT8 3\tINT16 4\tINT32 5\tVAR_INT32 6\tINT64 7\tVAR_INT64 8\tSLI_INT64 9\tFLOAT16 10\tFLOAT32 11\tFLOAT64 12\tSTRING 13\tLIST 14\tMAP 15\tSET 16\tTIMESTAMP 17\tDURATION 18\tLOCAL_DATE 19\tDECIMAL 20\tBINARY 21\tARRAY 22\tBOOL_ARRAY 23-28\tINT_ARRAY Âèò‰Ωì 29-31\tFLOAT_ARRAY Âèò‰Ωì 32\tSTRUCT 33\tCOMPATIBLE_STRUCT 34\tNAMED_STRUCT 35\tNAMEDCOMPATIBLE... 36\tEXT 37\tNAMED_EXT 63\tUNKNOWN  ","version":"dev","tagName":"h2"},{"title":"ÈîôËØØÂ§ÑÁêÜ‚Äã","type":1,"pageTitle":"Á±ªÂûãÊ≥®ÂÜå","url":"/zh-CN/docs/next/guide/cpp/type_registration#ÈîôËØØÂ§ÑÁêÜ","content":" Ê≥®ÂÜåÈîôËØØÂú®Â∫èÂàóÂåñ/ÂèçÂ∫èÂàóÂåñÊó∂Ê£ÄÊü•Ôºö  // Â∞ùËØïÂ∫èÂàóÂåñÊú™Ê≥®ÂÜåÁöÑÁ±ªÂûã auto result = fory.serialize(unregistered_obj); if (!result.ok()) { // ÈîôËØØÔºö&quot;Type not registered: ...&quot; std::cerr &lt;&lt; result.error().to_string() &lt;&lt; std::endl; } // ÂèçÂ∫èÂàóÂåñÊó∂Á±ªÂûã ID ‰∏çÂåπÈÖç auto result = fory.deserialize&lt;WrongType&gt;(bytes); if (!result.ok()) { // ÈîôËØØÔºö&quot;Type mismatch: expected X, got Y&quot; std::cerr &lt;&lt; result.error().to_string() &lt;&lt; std::endl; }   ","version":"dev","tagName":"h2"},{"title":"Áõ∏ÂÖ≥‰∏ªÈ¢ò‚Äã","type":1,"pageTitle":"Á±ªÂûãÊ≥®ÂÜå","url":"/zh-CN/docs/next/guide/cpp/type_registration#Áõ∏ÂÖ≥‰∏ªÈ¢ò","content":" Âü∫Á°ÄÂ∫èÂàóÂåñ - ‰ΩøÁî®Â∑≤Ê≥®ÂÜåÁöÑÁ±ªÂûãË∑®ËØ≠Ë®Ä - Ë∑®ËØ≠Ë®ÄÊ≥®ÊÑè‰∫ãÈ°πÊîØÊåÅÁöÑÁ±ªÂûã - ÊâÄÊúâÊîØÊåÅÁöÑÁ±ªÂûã ","version":"dev","tagName":"h2"},{"title":"Go Â∫èÂàóÂåñÊåáÂçó","type":0,"sectionRef":"#","url":"/zh-CN/docs/next/guide/go/","content":"","keywords":"","version":"dev"},{"title":"‰∏∫‰ªÄ‰πàÈÄâÊã© Fory GoÔºü‚Äã","type":1,"pageTitle":"Go Â∫èÂàóÂåñÊåáÂçó","url":"/zh-CN/docs/next/guide/go/#‰∏∫‰ªÄ‰πàÈÄâÊã©-fory-go","content":" È´òÊÄßËÉΩÔºöÂ∫èÂàóÂåñÈÄüÂ∫¶Âø´Ôºå‰∫åËøõÂà∂ÂçèËÆÆÁªèËøá‰ºòÂåñË∑®ËØ≠Ë®ÄÔºöÂèØ‰∏é Java„ÄÅPython„ÄÅC++„ÄÅRust„ÄÅJavaScript Êó†Áºù‰∫§Êç¢Êï∞ÊçÆËá™Âä®Â∫èÂàóÂåñÔºöÊó†ÈúÄ IDL ÂÆö‰πâÊàñ schema ÁºñËØëÂºïÁî®Ë∑üË∏™ÔºöÂÜÖÁΩÆÂæ™ÁéØÂºïÁî®ÂíåÂÖ±‰∫´ÂØπË±°ÊîØÊåÅÁ±ªÂûãÂÆâÂÖ®ÔºöÂº∫Á±ªÂûãËÉΩÂäõÔºåÂπ∂ÂèØÈÄâÁî®‰ª£Á†ÅÁîüÊàêÂÆûÁé∞ÁºñËØëÊúüÊ†°È™åSchema ÊºîËøõÔºöÂÖºÂÆπÊ®°ÂºèÊîØÊåÅÂâçÂêë/ÂêéÂêëÂÖºÂÆπÁ∫øÁ®ãÂÆâÂÖ®ÈÄâÈ°πÔºöÊèê‰æõÂü∫‰∫éÊ±†ÂåñÁöÑÁ∫øÁ®ãÂÆâÂÖ®Â∞ÅË£ÖÔºåÈÄÇÁî®‰∫éÂπ∂ÂèëÂú∫ÊôØ  ","version":"dev","tagName":"h2"},{"title":"Âø´ÈÄüÂºÄÂßã‚Äã","type":1,"pageTitle":"Go Â∫èÂàóÂåñÊåáÂçó","url":"/zh-CN/docs/next/guide/go/#Âø´ÈÄüÂºÄÂßã","content":" ","version":"dev","tagName":"h2"},{"title":"ÂÆâË£Ö‚Äã","type":1,"pageTitle":"Go Â∫èÂàóÂåñÊåáÂçó","url":"/zh-CN/docs/next/guide/go/#ÂÆâË£Ö","content":" Ë¶ÅÊ±ÇÔºöGo 1.24 ÊàñÊõ¥È´òÁâàÊú¨  go get github.com/apache/fory/go/fory   ","version":"dev","tagName":"h3"},{"title":"Âü∫Êú¨Áî®Ê≥ï‚Äã","type":1,"pageTitle":"Go Â∫èÂàóÂåñÊåáÂçó","url":"/zh-CN/docs/next/guide/go/#Âü∫Êú¨Áî®Ê≥ï","content":" package main import ( &quot;fmt&quot; &quot;github.com/apache/fory/go/fory&quot; ) type User struct { ID int64 Name string Age int32 } func main() { // Create a Fory instance f := fory.New() // Register struct with a type ID if err := f.RegisterStruct(User{}, 1); err != nil { panic(err) } // Serialize user := &amp;User{ID: 1, Name: &quot;Alice&quot;, Age: 30} data, err := f.Serialize(user) if err != nil { panic(err) } // Deserialize var result User if err := f.Deserialize(data, &amp;result); err != nil { panic(err) } fmt.Printf(&quot;Deserialized: %+v\\n&quot;, result) // Output: Deserialized: {ID:1 Name:Alice Age:30} }   ","version":"dev","tagName":"h3"},{"title":"Êû∂ÊûÑ‚Äã","type":1,"pageTitle":"Go Â∫èÂàóÂåñÊåáÂçó","url":"/zh-CN/docs/next/guide/go/#Êû∂ÊûÑ","content":" Fory Go Êèê‰æõ‰∏§Êù°Â∫èÂàóÂåñË∑ØÂæÑÔºö  ","version":"dev","tagName":"h2"},{"title":"Âü∫‰∫éÂèçÂ∞ÑÔºàÈªòËÆ§Ôºâ‚Äã","type":1,"pageTitle":"Go Â∫èÂàóÂåñÊåáÂçó","url":"/zh-CN/docs/next/guide/go/#Âü∫‰∫éÂèçÂ∞ÑÈªòËÆ§","content":" ÈªòËÆ§Ë∑ØÂæÑ‰ΩøÁî® Go ÂèçÂ∞ÑÂú®ËøêË°åÊó∂Ê£ÄÊü•Á±ªÂûã„ÄÇÂÆÉÂºÄÁÆ±Âç≥Áî®ÔºåÂèØÂ§ÑÁêÜ‰ªªÊÑèÁªìÊûÑ‰Ωì„ÄÇËôΩÁÑ∂ËØ•Ê®°Âºè‰æùËµñÂèçÂ∞ÑÔºå‰ΩÜÈÄöËøáÁ±ªÂûãÁºìÂ≠òÂíåÁÉ≠ÁÇπË∑ØÂæÑÂÜÖËÅî‰ºòÂåñÔºåÂú®ÁªùÂ§ßÂ§öÊï∞Âú∫ÊôØ‰∏ãÈÉΩËÉΩÊèê‰æõ‰ºòÁßÄÊÄßËÉΩÔºö  f := fory.New() data, _ := f.Serialize(myStruct)   ","version":"dev","tagName":"h3"},{"title":"‰ª£Á†ÅÁîüÊàêÔºàÂÆûÈ™åÁâπÊÄßÔºâ‚Äã","type":1,"pageTitle":"Go Â∫èÂàóÂåñÊåáÂçó","url":"/zh-CN/docs/next/guide/go/#‰ª£Á†ÅÁîüÊàêÂÆûÈ™åÁâπÊÄß","content":" ÂØπÊÄßËÉΩÊûÅÂÖ∂ÊïèÊÑüÁöÑË∑ØÂæÑÔºåÂèØ‰ª•‰ΩøÁî®ÂèØÈÄâÁöÑÈ¢ÑÁºñËØë‰ª£Á†ÅÁîüÊàêÔºåÊ∂àÈô§ÂèçÂ∞ÑÂºÄÈîÄ„ÄÇËØ¶ËßÅ ‰ª£Á†ÅÁîüÊàê„ÄÇ  ","version":"dev","tagName":"h3"},{"title":"ÈÖçÁΩÆ‚Äã","type":1,"pageTitle":"Go Â∫èÂàóÂåñÊåáÂçó","url":"/zh-CN/docs/next/guide/go/#ÈÖçÁΩÆ","content":" Fory Go ‰ΩøÁî®ÂáΩÊï∞ÂºèÈÄâÈ°πÊ®°ÂºèËøõË°åÈÖçÁΩÆÔºö  f := fory.New( fory.WithTrackRef(true), // Enable reference tracking fory.WithCompatible(true), // Enable schema evolution fory.WithMaxDepth(20), // Set max nesting depth )   ÂÖ®ÈÉ®ÂèØÈÄâÈ°πËØ∑ÂèÇËÄÉ ÈÖçÁΩÆ„ÄÇ  ","version":"dev","tagName":"h2"},{"title":"ÊîØÊåÅÁ±ªÂûã‚Äã","type":1,"pageTitle":"Go Â∫èÂàóÂåñÊåáÂçó","url":"/zh-CN/docs/next/guide/go/#ÊîØÊåÅÁ±ªÂûã","content":" Fory Go ÊîØÊåÅÂπøÊ≥õÁöÑÊï∞ÊçÆÁ±ªÂûãÔºö  Âü∫Á°ÄÁ±ªÂûãÔºöbool„ÄÅint8-int64„ÄÅuint8-uint64„ÄÅfloat32„ÄÅfloat64„ÄÅstringÈõÜÂêàÁ±ªÂûãÔºöslice„ÄÅmap„ÄÅsetÊó∂Èó¥Á±ªÂûãÔºötime.Time„ÄÅtime.DurationÊåáÈíàÁ±ªÂûãÔºöËá™Âä®Â§ÑÁêÜ nil ÁöÑÂêÑÁ±ªÊåáÈíàÁªìÊûÑ‰ΩìÔºö‰ªªÊÑèÂåÖÂê´ÂØºÂá∫Â≠óÊÆµÁöÑÁªìÊûÑ‰Ωì  ÂÆåÊï¥Êò†Â∞ÑËØ∑ËßÅ ÊîØÊåÅÁ±ªÂûã„ÄÇ  ","version":"dev","tagName":"h2"},{"title":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ‚Äã","type":1,"pageTitle":"Go Â∫èÂàóÂåñÊåáÂçó","url":"/zh-CN/docs/next/guide/go/#Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ","content":" Fory Go ‰∏éÂÖ∂‰ªñ Fory ÂÆûÁé∞ÂÆåÂÖ®ÂÖºÂÆπ„ÄÇÂú® Go ‰∏≠Â∫èÂàóÂåñÁöÑÊï∞ÊçÆÂèØÂú® Java„ÄÅPython„ÄÅC++„ÄÅRust Êàñ JavaScript ‰∏≠ÂèçÂ∫èÂàóÂåñÔºö  // Go serialization f := fory.New() f.RegisterStruct(User{}, 1) data, _ := f.Serialize(&amp;User{ID: 1, Name: &quot;Alice&quot;}) // 'data' can be deserialized by Java, Python, etc.   Á±ªÂûãÊò†Â∞Ñ‰∏éÂÖºÂÆπÊÄßÁªÜËäÇËØ∑ÂèÇËÄÉ Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ„ÄÇ  ","version":"dev","tagName":"h2"},{"title":"ÊñáÊ°£ÂØºËà™‚Äã","type":1,"pageTitle":"Go Â∫èÂàóÂåñÊåáÂçó","url":"/zh-CN/docs/next/guide/go/#ÊñáÊ°£ÂØºËà™","content":" ‰∏ªÈ¢ò\tËØ¥ÊòéÈÖçÁΩÆ\tÈÖçÁΩÆÈ°π‰∏éËøêË°åÂèÇÊï∞ Âü∫Êú¨Â∫èÂàóÂåñ\tÊ†∏ÂøÉ API ‰∏é‰ΩøÁî®Ê®°Âºè Á±ªÂûãÊ≥®ÂÜå\tÂ∫èÂàóÂåñÂâçÁöÑÁ±ªÂûãÊ≥®ÂÜå ÊîØÊåÅÁ±ªÂûã\tÂÆåÊï¥Á±ªÂûãÊîØÊåÅËØ¥Êòé ÂºïÁî®\tÂæ™ÁéØÂºïÁî®‰∏éÂÖ±‰∫´ÂØπË±° Struct Ê†áÁ≠æ\tÂ≠óÊÆµÁ∫ßÈÖçÁΩÆ Schema ÊºîËøõ\tÂâçÂêë/ÂêéÂêëÂÖºÂÆπÁ≠ñÁï• Ë∑®ËØ≠Ë®Ä\tÂ§öËØ≠Ë®ÄÂ∫èÂàóÂåñ ‰ª£Á†ÅÁîüÊàê\tÂÆûÈ™åÊÄßÁöÑ AOT ‰ª£Á†ÅÁîüÊàê Á∫øÁ®ãÂÆâÂÖ®\tÂπ∂Âèë‰ΩøÁî®Ê®°Âºè ÊïÖÈöúÊéíÊü•\tÂ∏∏ËßÅÈóÆÈ¢ò‰∏éËß£ÂÜ≥ÊñπÊ°à  ","version":"dev","tagName":"h2"},{"title":"Áõ∏ÂÖ≥ËµÑÊ∫ê‚Äã","type":1,"pageTitle":"Go Â∫èÂàóÂåñÊåáÂçó","url":"/zh-CN/docs/next/guide/go/#Áõ∏ÂÖ≥ËµÑÊ∫ê","content":" Xlang Â∫èÂàóÂåñËßÑËåÉË∑®ËØ≠Ë®ÄÁ±ªÂûãÊò†Â∞ÑGitHub ‰ªìÂ∫ì ","version":"dev","tagName":"h2"},{"title":"‰ª£Á†ÅÁîüÊàê","type":0,"sectionRef":"#","url":"/zh-CN/docs/next/guide/go/codegen","content":"","keywords":"","version":"dev"},{"title":"‰∏∫‰ªÄ‰πà‰ΩøÁî®‰ª£Á†ÅÁîüÊàêÔºü‚Äã","type":1,"pageTitle":"‰ª£Á†ÅÁîüÊàê","url":"/zh-CN/docs/next/guide/go/codegen#‰∏∫‰ªÄ‰πà‰ΩøÁî®‰ª£Á†ÅÁîüÊàê","content":" Aspect\tReflection-Based\tCode GenerationSetup\tZero configuration\tRequires go generate Performance\tGood\tBetter (no reflection) Type Safety\tRuntime\tCompile-time Maintenance\tAutomatic\tRequires regeneration  Use code generation when:  Maximum performance is requiredCompile-time type safety is importantHot paths are performance-critical  Use reflection when:  Simple setup is preferredTypes change frequentlyDynamic typing is neededCode generation complexity is undesirable  ","version":"dev","tagName":"h2"},{"title":"ÂÆâË£Ö‚Äã","type":1,"pageTitle":"‰ª£Á†ÅÁîüÊàê","url":"/zh-CN/docs/next/guide/go/codegen#ÂÆâË£Ö","content":" Install the fory generator binary:  go install github.com/apache/fory/go/fory/cmd/fory@latest GO111MODULE=on go get -u github.com/apache/fory/go/fory/cmd/fory   Ensure $GOBIN or $GOPATH/bin is in your PATH.  ","version":"dev","tagName":"h2"},{"title":"Âü∫Êú¨Áî®Ê≥ï‚Äã","type":1,"pageTitle":"‰ª£Á†ÅÁîüÊàê","url":"/zh-CN/docs/next/guide/go/codegen#Âü∫Êú¨Áî®Ê≥ï","content":" ","version":"dev","tagName":"h2"},{"title":"Step 1: Annotate Structs‚Äã","type":1,"pageTitle":"‰ª£Á†ÅÁîüÊàê","url":"/zh-CN/docs/next/guide/go/codegen#step-1-annotate-structs","content":" Add the //fory:generate comment above structs:  package models //fory:generate type User struct { ID int64 `json:&quot;id&quot;` Name string `json:&quot;name&quot;` } //fory:generate type Order struct { ID int64 Customer string Total float64 }   ","version":"dev","tagName":"h3"},{"title":"Step 2: Add Go Generate Directive‚Äã","type":1,"pageTitle":"‰ª£Á†ÅÁîüÊàê","url":"/zh-CN/docs/next/guide/go/codegen#step-2-add-go-generate-directive","content":" Add a go:generate directive (once per file or package):  //go:generate fory -file models.go   Or for the entire package:  //go:generate fory -pkg .   ","version":"dev","tagName":"h3"},{"title":"Step 3: Run Code Generation‚Äã","type":1,"pageTitle":"‰ª£Á†ÅÁîüÊàê","url":"/zh-CN/docs/next/guide/go/codegen#step-3-run-code-generation","content":" go generate ./...   This creates models_fory_gen.go with generated serializers.  ","version":"dev","tagName":"h3"},{"title":"ÁîüÊàê‰ª£Á†ÅÁªìÊûÑ‚Äã","type":1,"pageTitle":"‰ª£Á†ÅÁîüÊàê","url":"/zh-CN/docs/next/guide/go/codegen#ÁîüÊàê‰ª£Á†ÅÁªìÊûÑ","content":" The generator creates:  ","version":"dev","tagName":"h2"},{"title":"Type Snapshot‚Äã","type":1,"pageTitle":"‰ª£Á†ÅÁîüÊàê","url":"/zh-CN/docs/next/guide/go/codegen#type-snapshot","content":" A compile-time check to detect struct changes:  // Snapshot of User's underlying type at generation time type _User_expected struct { ID int64 Name string } // Compile-time check: fails if User no longer matches var _ = func(x User) { _ = _User_expected(x) }   ","version":"dev","tagName":"h3"},{"title":"Serializer Implementation‚Äã","type":1,"pageTitle":"‰ª£Á†ÅÁîüÊàê","url":"/zh-CN/docs/next/guide/go/codegen#serializer-implementation","content":" Strongly-typed serialization methods:  type User_ForyGenSerializer struct{} func (User_ForyGenSerializer) WriteTyped(f *fory.Fory, buf *fory.ByteBuffer, v *User) error { buf.WriteInt64(v.ID) fory.WriteString(buf, v.Name) return nil } func (User_ForyGenSerializer) ReadTyped(f *fory.Fory, buf *fory.ByteBuffer, v *User) error { v.ID = buf.ReadInt64() v.Name = fory.ReadString(buf) return nil }   ","version":"dev","tagName":"h3"},{"title":"Auto-Registration‚Äã","type":1,"pageTitle":"‰ª£Á†ÅÁîüÊàê","url":"/zh-CN/docs/next/guide/go/codegen#auto-registration","content":" Serializers are registered in init():  func init() { fory.RegisterGenSerializer(User{}, User_ForyGenSerializer{}) }   ","version":"dev","tagName":"h3"},{"title":"Command-Line Options‚Äã","type":1,"pageTitle":"‰ª£Á†ÅÁîüÊàê","url":"/zh-CN/docs/next/guide/go/codegen#command-line-options","content":" ","version":"dev","tagName":"h2"},{"title":"File-Based Generation‚Äã","type":1,"pageTitle":"‰ª£Á†ÅÁîüÊàê","url":"/zh-CN/docs/next/guide/go/codegen#file-based-generation","content":" Generate for a specific file:  fory -file models.go   ","version":"dev","tagName":"h3"},{"title":"Package-Based Generation‚Äã","type":1,"pageTitle":"‰ª£Á†ÅÁîüÊàê","url":"/zh-CN/docs/next/guide/go/codegen#package-based-generation","content":" Generate for a package:  fory -pkg ./models   ","version":"dev","tagName":"h3"},{"title":"Explicit Types (Legacy)‚Äã","type":1,"pageTitle":"‰ª£Á†ÅÁîüÊàê","url":"/zh-CN/docs/next/guide/go/codegen#explicit-types-legacy","content":" Specify types explicitly:  fory -pkg ./models -type &quot;User,Order&quot;   ","version":"dev","tagName":"h3"},{"title":"Force Regeneration‚Äã","type":1,"pageTitle":"‰ª£Á†ÅÁîüÊàê","url":"/zh-CN/docs/next/guide/go/codegen#force-regeneration","content":" Force regeneration even if up-to-date:  fory --force -file models.go   ","version":"dev","tagName":"h3"},{"title":"When to Regenerate‚Äã","type":1,"pageTitle":"‰ª£Á†ÅÁîüÊàê","url":"/zh-CN/docs/next/guide/go/codegen#when-to-regenerate","content":" Regenerate when any of these change:  Field additions, removals, or renamesField type changesStruct tag changesNew structs with //fory:generate  ","version":"dev","tagName":"h2"},{"title":"Automatic Detection‚Äã","type":1,"pageTitle":"‰ª£Á†ÅÁîüÊàê","url":"/zh-CN/docs/next/guide/go/codegen#automatic-detection","content":" Fory includes a compile-time guard:  // If struct changed, this fails to compile var _ = func(x User) { _ = _User_expected(x) }   If you forget to regenerate, the build fails with a clear message.  ","version":"dev","tagName":"h3"},{"title":"Auto-Retry‚Äã","type":1,"pageTitle":"‰ª£Á†ÅÁîüÊàê","url":"/zh-CN/docs/next/guide/go/codegen#auto-retry","content":" When invoked via go generate, the generator detects stale code and retries:  Detects compile error from guardRemoves stale generated fileRegenerates fresh code  ","version":"dev","tagName":"h3"},{"title":"Supported Types‚Äã","type":1,"pageTitle":"‰ª£Á†ÅÁîüÊàê","url":"/zh-CN/docs/next/guide/go/codegen#supported-types","content":" Code generation supports:  All primitive types (bool, int*, uint*, float*, string)Slices of primitives and structsMaps with supported key/value typesNested structs (must also be generated)Pointers to structs  ","version":"dev","tagName":"h2"},{"title":"Nested Structs‚Äã","type":1,"pageTitle":"‰ª£Á†ÅÁîüÊàê","url":"/zh-CN/docs/next/guide/go/codegen#nested-structs","content":" All nested structs must also have //fory:generate:  //fory:generate type Address struct { City string Country string } //fory:generate type Person struct { Name string Address Address // Address must also be generated }   ","version":"dev","tagName":"h3"},{"title":"CI/CD Integration‚Äã","type":1,"pageTitle":"‰ª£Á†ÅÁîüÊàê","url":"/zh-CN/docs/next/guide/go/codegen#cicd-integration","content":" ","version":"dev","tagName":"h2"},{"title":"Check In Generated Code‚Äã","type":1,"pageTitle":"‰ª£Á†ÅÁîüÊàê","url":"/zh-CN/docs/next/guide/go/codegen#check-in-generated-code","content":" Recommended for libraries:  go generate ./... git add *_fory_gen.go git commit -m &quot;Regenerate Fory serializers&quot;   Pros: Consumers can build without generator; reproducible buildsCons: Larger diffs; must remember to regenerate  ","version":"dev","tagName":"h3"},{"title":"Generate in Pipeline‚Äã","type":1,"pageTitle":"‰ª£Á†ÅÁîüÊàê","url":"/zh-CN/docs/next/guide/go/codegen#generate-in-pipeline","content":" Recommended for applications:  steps: - run: go install github.com/apache/fory/go/fory/cmd/fory@latest - run: go generate ./... - run: go build ./...   ","version":"dev","tagName":"h3"},{"title":"Usage with Generated Code‚Äã","type":1,"pageTitle":"‰ª£Á†ÅÁîüÊàê","url":"/zh-CN/docs/next/guide/go/codegen#usage-with-generated-code","content":" Generated code integrates transparently:  f := fory.New() // Fory automatically uses generated serializer if available user := &amp;User{ID: 1, Name: &quot;Alice&quot;} data, _ := f.Serialize(user) var result User f.Deserialize(data, &amp;result)   No code changes needed - registration happens in init().  ","version":"dev","tagName":"h2"},{"title":"Mixing Generated and Non-Generated‚Äã","type":1,"pageTitle":"‰ª£Á†ÅÁîüÊàê","url":"/zh-CN/docs/next/guide/go/codegen#mixing-generated-and-non-generated","content":" You can mix approaches:  //fory:generate type HotPathStruct struct { // Performance-critical, use codegen } type ColdPathStruct struct { // Not annotated, uses reflection }   ","version":"dev","tagName":"h2"},{"title":"Limitations‚Äã","type":1,"pageTitle":"‰ª£Á†ÅÁîüÊàê","url":"/zh-CN/docs/next/guide/go/codegen#limitations","content":" ","version":"dev","tagName":"h2"},{"title":"Experimental Status‚Äã","type":1,"pageTitle":"‰ª£Á†ÅÁîüÊàê","url":"/zh-CN/docs/next/guide/go/codegen#experimental-status","content":" API may changeNot all edge cases testedMay have undiscovered bugs  ","version":"dev","tagName":"h3"},{"title":"Not Supported‚Äã","type":1,"pageTitle":"‰ª£Á†ÅÁîüÊàê","url":"/zh-CN/docs/next/guide/go/codegen#not-supported","content":" Interface fields (dynamic types)Recursive types without pointersPrivate (unexported) fieldsCustom serializers  ","version":"dev","tagName":"h3"},{"title":"Reflection Fallback‚Äã","type":1,"pageTitle":"‰ª£Á†ÅÁîüÊàê","url":"/zh-CN/docs/next/guide/go/codegen#reflection-fallback","content":" If codegen fails, Fory falls back to reflection:  // If User_ForyGenSerializer not found, uses reflection f.Serialize(&amp;User{})   ","version":"dev","tagName":"h3"},{"title":"Troubleshooting‚Äã","type":1,"pageTitle":"‰ª£Á†ÅÁîüÊàê","url":"/zh-CN/docs/next/guide/go/codegen#troubleshooting","content":" ","version":"dev","tagName":"h2"},{"title":"\"fory: command not found\"‚Äã","type":1,"pageTitle":"‰ª£Á†ÅÁîüÊàê","url":"/zh-CN/docs/next/guide/go/codegen#fory-command-not-found","content":" Ensure the binary is in PATH:  export PATH=$PATH:$(go env GOPATH)/bin   ","version":"dev","tagName":"h3"},{"title":"Compile Error After Struct Change‚Äã","type":1,"pageTitle":"‰ª£Á†ÅÁîüÊàê","url":"/zh-CN/docs/next/guide/go/codegen#compile-error-after-struct-change","content":" Regenerate:  go generate ./...   Or force:  fory --force -file yourfile.go   ","version":"dev","tagName":"h3"},{"title":"Generated Code Out of Sync‚Äã","type":1,"pageTitle":"‰ª£Á†ÅÁîüÊàê","url":"/zh-CN/docs/next/guide/go/codegen#generated-code-out-of-sync","content":" The compile-time guard catches this:  cannot use x (variable of type User) as type _User_expected in argument   Run go generate to fix.  ","version":"dev","tagName":"h3"},{"title":"Example Project Structure‚Äã","type":1,"pageTitle":"‰ª£Á†ÅÁîüÊàê","url":"/zh-CN/docs/next/guide/go/codegen#example-project-structure","content":" myproject/ ‚îú‚îÄ‚îÄ models/ ‚îÇ ‚îú‚îÄ‚îÄ models.go # Struct definitions ‚îÇ ‚îú‚îÄ‚îÄ models_fory_gen.go # Generated code ‚îÇ ‚îî‚îÄ‚îÄ generate.go # go:generate directive ‚îú‚îÄ‚îÄ main.go ‚îî‚îÄ‚îÄ go.mod   models/generate.go:  package models //go:generate fory -pkg .   models/models.go:  package models //fory:generate type User struct { ID int64 Name string }   ","version":"dev","tagName":"h2"},{"title":"FAQ‚Äã","type":1,"pageTitle":"‰ª£Á†ÅÁîüÊàê","url":"/zh-CN/docs/next/guide/go/codegen#faq","content":" ","version":"dev","tagName":"h2"},{"title":"Is codegen required?‚Äã","type":1,"pageTitle":"‰ª£Á†ÅÁîüÊàê","url":"/zh-CN/docs/next/guide/go/codegen#is-codegen-required","content":" No. Reflection-based serialization works without code generation.  ","version":"dev","tagName":"h3"},{"title":"Does generated code work across Go versions?‚Äã","type":1,"pageTitle":"‰ª£Á†ÅÁîüÊàê","url":"/zh-CN/docs/next/guide/go/codegen#does-generated-code-work-across-go-versions","content":" Yes. Generated code is plain Go with no version-specific features.  ","version":"dev","tagName":"h3"},{"title":"Can I mix generated and non-generated types?‚Äã","type":1,"pageTitle":"‰ª£Á†ÅÁîüÊàê","url":"/zh-CN/docs/next/guide/go/codegen#can-i-mix-generated-and-non-generated-types","content":" Yes. Fory automatically uses generated serializers when available.  ","version":"dev","tagName":"h3"},{"title":"How do I update generated code?‚Äã","type":1,"pageTitle":"‰ª£Á†ÅÁîüÊàê","url":"/zh-CN/docs/next/guide/go/codegen#how-do-i-update-generated-code","content":" Run go generate ./... after struct changes.  ","version":"dev","tagName":"h3"},{"title":"Should I commit generated files?‚Äã","type":1,"pageTitle":"‰ª£Á†ÅÁîüÊàê","url":"/zh-CN/docs/next/guide/go/codegen#should-i-commit-generated-files","content":" For libraries: yes. For applications: either works.  ","version":"dev","tagName":"h3"},{"title":"Áõ∏ÂÖ≥‰∏ªÈ¢ò‚Äã","type":1,"pageTitle":"‰ª£Á†ÅÁîüÊàê","url":"/zh-CN/docs/next/guide/go/codegen#Áõ∏ÂÖ≥‰∏ªÈ¢ò","content":" Basic SerializationConfigurationTroubleshooting ","version":"dev","tagName":"h2"},{"title":"ÈÖçÁΩÆ","type":0,"sectionRef":"#","url":"/zh-CN/docs/next/guide/go/configuration","content":"","keywords":"","version":"dev"},{"title":"ÂàõÂª∫ Fory ÂÆû‰æã‚Äã","type":1,"pageTitle":"ÈÖçÁΩÆ","url":"/zh-CN/docs/next/guide/go/configuration#ÂàõÂª∫-fory-ÂÆû‰æã","content":" ","version":"dev","tagName":"h2"},{"title":"ÈªòËÆ§ÈÖçÁΩÆ‚Äã","type":1,"pageTitle":"ÈÖçÁΩÆ","url":"/zh-CN/docs/next/guide/go/configuration#ÈªòËÆ§ÈÖçÁΩÆ","content":" import &quot;github.com/apache/fory/go/fory&quot; f := fory.New()   ÈªòËÆ§ËÆæÁΩÆÔºö  Option\tDefault\tDescriptionTrackRef\tfalse\tÂÖ≥Èó≠ÂºïÁî®Ë∑üË∏™ MaxDepth\t20\tÊúÄÂ§ßÂµåÂ•óÊ∑±Â∫¶ IsXlang\tfalse\tÂÖ≥Èó≠Ë∑®ËØ≠Ë®ÄÊ®°Âºè Compatible\tfalse\tÂÖ≥Èó≠ Schema ÊºîËøõÂÖºÂÆπÊ®°Âºè  ","version":"dev","tagName":"h3"},{"title":"ÈÄöËøáÈÄâÈ°πÈÖçÁΩÆ‚Äã","type":1,"pageTitle":"ÈÖçÁΩÆ","url":"/zh-CN/docs/next/guide/go/configuration#ÈÄöËøáÈÄâÈ°πÈÖçÁΩÆ","content":" f := fory.New( fory.WithTrackRef(true), fory.WithCompatible(true), fory.WithMaxDepth(10), )   ","version":"dev","tagName":"h3"},{"title":"ÈÖçÁΩÆÈ°π‚Äã","type":1,"pageTitle":"ÈÖçÁΩÆ","url":"/zh-CN/docs/next/guide/go/configuration#ÈÖçÁΩÆÈ°π","content":" ","version":"dev","tagName":"h2"},{"title":"WithTrackRef‚Äã","type":1,"pageTitle":"ÈÖçÁΩÆ","url":"/zh-CN/docs/next/guide/go/configuration#withtrackref","content":" ÂêØÁî®ÂºïÁî®Ë∑üË∏™Ôºå‰ª•ÊîØÊåÅÂæ™ÁéØÂºïÁî®ÂíåÂÖ±‰∫´ÂØπË±°Ôºö  f := fory.New(fory.WithTrackRef(true))   ÂºÄÂêØÂêéÔºö  Â§öÊ¨°Âá∫Áé∞ÁöÑÂêå‰∏ÄÂØπË±°Âè™‰ºöÂ∫èÂàóÂåñ‰∏ÄÊ¨°ÂèØÊ≠£Á°ÆÂ§ÑÁêÜÂæ™ÁéØÂºïÁî®Â≠óÊÆµÁ∫ß fory:&quot;ref&quot; Ê†áÁ≠æÁîüÊïà‰ºöÂ∏¶Êù•ÂØπË±°Ë∫´‰ªΩË∑üË∏™ÂºÄÈîÄ  ÂÖ≥Èó≠ÔºàÈªòËÆ§ÔºâÊó∂Ôºö  ÊØèÊ¨°ÂØπË±°Âá∫Áé∞ÈÉΩÁã¨Á´ãÂ∫èÂàóÂåñÂæ™ÁéØÂºïÁî®‰ºöÂØºËá¥Ê†àÊ∫¢Âá∫ÊàñË∂ÖÂá∫ÊúÄÂ§ßÊ∑±Â∫¶ÈîôËØØÂ≠óÊÆµÁ∫ß fory:&quot;ref&quot; Ê†áÁ≠æË¢´ÂøΩÁï•ÂØπÁÆÄÂçïÊï∞ÊçÆÁªìÊûÑÊÄßËÉΩÊõ¥Â•Ω  Âª∫ËÆÆÂêØÁî®Âú∫ÊôØÔºö  Êï∞ÊçÆ‰∏≠Â≠òÂú®Âæ™ÁéØÂºïÁî®Âêå‰∏ÄÂØπË±°Ë¢´Â§öÂ§ÑÂºïÁî®ÈúÄË¶ÅÂ∫èÂàóÂåñÂõæÁªìÊûÑÔºàÂ¶ÇÂ∏¶Áà∂ÊåáÈíàÁöÑÊ†ë„ÄÅÂ∏¶ÁéØÈìæË°®Ôºâ  ËØ¶ËßÅ ÂºïÁî®„ÄÇ  ","version":"dev","tagName":"h3"},{"title":"WithCompatible‚Äã","type":1,"pageTitle":"ÈÖçÁΩÆ","url":"/zh-CN/docs/next/guide/go/configuration#withcompatible","content":" ÂêØÁî® schema ÊºîËøõÂÖºÂÆπÊ®°ÂºèÔºö  f := fory.New(fory.WithCompatible(true))   ÂºÄÂêØÂêéÔºö  ‰ºöÂêëÂ∫èÂàóÂåñÊï∞ÊçÆÂÜôÂÖ•Á±ªÂûãÂÖÉ‰ø°ÊÅØÊîØÊåÅÁâàÊú¨Èó¥Êñ∞Â¢û/Âà†Èô§Â≠óÊÆµÊåâÂ≠óÊÆµÂêçÊàñÂ≠óÊÆµ ID ÂåπÈÖçÔºà‰∏éÈ°∫Â∫èÊó†ÂÖ≥ÔºâÂõ†ÂÖÉ‰ø°ÊÅØÂØºËá¥ËæìÂá∫Êõ¥Â§ß  ÂÖ≥Èó≠ÔºàÈªòËÆ§ÔºâÊó∂Ôºö  ‰∏çÂÜôÂ≠óÊÆµÂÖÉ‰ø°ÊÅØÔºåÂ∫èÂàóÂåñÊõ¥Á¥ßÂáëÂ∫èÂàóÂåñÊõ¥Âø´„ÄÅËæìÂá∫Êõ¥Â∞èÂ≠óÊÆµÊåâÊéíÂ∫èÈ°∫Â∫èÂåπÈÖçË¶ÅÊ±ÇÂêÑÊúçÂä°Èó¥ÁªìÊûÑ‰ΩìÂÆö‰πâ‰øùÊåÅ‰∏ÄËá¥  ËØ¶ËßÅ Schema ÊºîËøõ„ÄÇ  ","version":"dev","tagName":"h3"},{"title":"WithMaxDepth‚Äã","type":1,"pageTitle":"ÈÖçÁΩÆ","url":"/zh-CN/docs/next/guide/go/configuration#withmaxdepth","content":" ËÆæÁΩÆÊúÄÂ§ßÂµåÂ•óÊ∑±Â∫¶ÔºåÈò≤Ê≠¢Ê†àÊ∫¢Âá∫Ôºö  f := fory.New(fory.WithMaxDepth(30))   ÈªòËÆ§ÂÄºÔºö20Èò≤Êä§Ê∑±Â±ÇÈÄíÂΩíÁªìÊûÑÊàñÊÅ∂ÊÑèÊï∞ÊçÆË∂ÖËøáÈôêÂà∂‰ºöËøîÂõûÈîôËØØ  ","version":"dev","tagName":"h3"},{"title":"WithXlang‚Äã","type":1,"pageTitle":"ÈÖçÁΩÆ","url":"/zh-CN/docs/next/guide/go/configuration#withxlang","content":" ÂêØÁî®Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñÊ®°ÂºèÔºö  f := fory.New(fory.WithXlang(true))   ÂºÄÂêØÂêéÔºö  ‰ΩøÁî®Ë∑®ËØ≠Ë®ÄÁ±ªÂûãÁ≥ªÁªü‰∏é Java„ÄÅPython„ÄÅC++„ÄÅRust„ÄÅJavaScript ÂÖºÂÆπÁ±ªÂûã ID ÈÅµÂæ™ xlang ËßÑËåÉ  ÂÖ≥Èó≠ÔºàÈªòËÆ§ÔºâÊó∂Ôºö  ‰ΩøÁî® Go ÂéüÁîüÂ∫èÂàóÂåñÊ®°ÂºèÊîØÊåÅÊõ¥Â§ö Go ÂéüÁîüÁ±ªÂûã‰∏éÂÖ∂‰ªñËØ≠Ë®ÄÂÆûÁé∞‰∏çÂÖºÂÆπ  ","version":"dev","tagName":"h3"},{"title":"Á∫øÁ®ãÂÆâÂÖ®‚Äã","type":1,"pageTitle":"ÈÖçÁΩÆ","url":"/zh-CN/docs/next/guide/go/configuration#Á∫øÁ®ãÂÆâÂÖ®","content":" ÈªòËÆ§ Fory ÂÆû‰æã‰∏çÊòØÁ∫øÁ®ãÂÆâÂÖ®ÁöÑ„ÄÇÂπ∂ÂèëÂú∫ÊôØËØ∑‰ΩøÁî®Á∫øÁ®ãÂÆâÂÖ®Â∞ÅË£ÖÔºö  import &quot;github.com/apache/fory/go/fory/threadsafe&quot; // Create thread-safe Fory with same options f := threadsafe.New( fory.WithTrackRef(true), fory.WithCompatible(true), ) // Safe for concurrent use from multiple goroutines go func() { data, _ := f.Serialize(value1) // data is already copied, safe to use after return }() go func() { data, _ := f.Serialize(value2) }()   Á∫øÁ®ãÂÆâÂÖ®Â∞ÅË£ÖÂÖ∑Â§áÔºö  ÂÜÖÈÉ®‰ΩøÁî® sync.Pool È´òÊïàÂ§çÁî®ÂÆû‰æãËøîÂõûÂâçËá™Âä®Â§çÂà∂Â∫èÂàóÂåñÊï∞ÊçÆ‰∏é fory.New() Áõ∏ÂêåÁöÑÈÖçÁΩÆÈÄâÈ°π  ","version":"dev","tagName":"h2"},{"title":"ÂÖ®Â±ÄÁ∫øÁ®ãÂÆâÂÖ®ÂÆû‰æã‚Äã","type":1,"pageTitle":"ÈÖçÁΩÆ","url":"/zh-CN/docs/next/guide/go/configuration#ÂÖ®Â±ÄÁ∫øÁ®ãÂÆâÂÖ®ÂÆû‰æã","content":" ‰∏∫‰∫Ü‰æøÊç∑Ôºåthreadsafe ÂåÖÊèê‰æõÂÖ®Â±ÄÂáΩÊï∞Ôºö  import &quot;github.com/apache/fory/go/fory/threadsafe&quot; // Uses a global thread-safe instance with default configuration data, err := threadsafe.Marshal(&amp;myValue) err = threadsafe.Unmarshal(data, &amp;result)   ËØ¶ËßÅ Á∫øÁ®ãÂÆâÂÖ®„ÄÇ  ","version":"dev","tagName":"h3"},{"title":"ÁºìÂÜ≤Âå∫ÁÆ°ÁêÜ‚Äã","type":1,"pageTitle":"ÈÖçÁΩÆ","url":"/zh-CN/docs/next/guide/go/configuration#ÁºìÂÜ≤Âå∫ÁÆ°ÁêÜ","content":" ","version":"dev","tagName":"h2"},{"title":"Èõ∂Êã∑Ë¥ùË°å‰∏∫‚Äã","type":1,"pageTitle":"ÈÖçÁΩÆ","url":"/zh-CN/docs/next/guide/go/configuration#Èõ∂Êã∑Ë¥ùË°å‰∏∫","content":" ÈªòËÆ§ Fory ÂÆû‰æã‰ºöÂ§çÁî®ÂÜÖÈÉ®ÁºìÂÜ≤Âå∫Ôºö  f := fory.New() data1, _ := f.Serialize(value1) // WARNING: data1 becomes invalid after next Serialize call! data2, _ := f.Serialize(value2) // data1 now points to invalid memory // To keep the data, copy it: safeCopy := make([]byte, len(data1)) copy(safeCopy, data1)   Á∫øÁ®ãÂÆâÂÖ®Â∞ÅË£Ö‰ºöËá™Âä®Êã∑Ë¥ùÊï∞ÊçÆÔºåÂõ†Ê≠§‰∏çÂ≠òÂú®ËØ•ÈóÆÈ¢òÔºö  f := threadsafe.New() data1, _ := f.Serialize(value1) data2, _ := f.Serialize(value2) // Both data1 and data2 are valid   ","version":"dev","tagName":"h3"},{"title":"ÊâãÂä®ÊéßÂà∂ÁºìÂÜ≤Âå∫‚Äã","type":1,"pageTitle":"ÈÖçÁΩÆ","url":"/zh-CN/docs/next/guide/go/configuration#ÊâãÂä®ÊéßÂà∂ÁºìÂÜ≤Âå∫","content":" È´òÂêûÂêêÂú∫ÊôØÂèØÊâãÂä®ÁÆ°ÁêÜÁºìÂÜ≤Âå∫Ôºö  f := fory.New() buf := fory.NewByteBuffer(nil) // Serialize to existing buffer err := f.SerializeTo(buf, value) // Get serialized data data := buf.GetByteSlice(0, buf.WriterIndex()) // Process data... // Reset for next use buf.Reset()   ","version":"dev","tagName":"h3"},{"title":"ÈÖçÁΩÆÁ§∫‰æã‚Äã","type":1,"pageTitle":"ÈÖçÁΩÆ","url":"/zh-CN/docs/next/guide/go/configuration#ÈÖçÁΩÆÁ§∫‰æã","content":" ","version":"dev","tagName":"h2"},{"title":"ÁÆÄÂçïÊï∞ÊçÆÔºàÈªòËÆ§ÈÖçÁΩÆÔºâ‚Äã","type":1,"pageTitle":"ÈÖçÁΩÆ","url":"/zh-CN/docs/next/guide/go/configuration#ÁÆÄÂçïÊï∞ÊçÆÈªòËÆ§ÈÖçÁΩÆ","content":" ÈÄÇÁî®‰∫é‰∏çÂê´Âæ™ÁéØÂºïÁî®ÁöÑÁÆÄÂçïÁªìÊûÑ‰ΩìÔºö  f := fory.New() type Config struct { Host string Port int32 } f.RegisterStruct(Config{}, 1) data, _ := f.Serialize(&amp;Config{Host: &quot;localhost&quot;, Port: 8080})   ","version":"dev","tagName":"h3"},{"title":"ÂõæÁªìÊûÑÊï∞ÊçÆ‚Äã","type":1,"pageTitle":"ÈÖçÁΩÆ","url":"/zh-CN/docs/next/guide/go/configuration#ÂõæÁªìÊûÑÊï∞ÊçÆ","content":" ÈÄÇÁî®‰∫éÂ≠òÂú®Âæ™ÁéØÂºïÁî®ÁöÑÊï∞ÊçÆÔºö  f := fory.New(fory.WithTrackRef(true)) type Node struct { Value int32 Next *Node `fory:&quot;ref&quot;` } f.RegisterStruct(Node{}, 1) n1 := &amp;Node{Value: 1} n2 := &amp;Node{Value: 2} n1.Next = n2 n2.Next = n1 // Circular reference data, _ := f.Serialize(n1)   ","version":"dev","tagName":"h3"},{"title":"Schema ÊºîËøõ‚Äã","type":1,"pageTitle":"ÈÖçÁΩÆ","url":"/zh-CN/docs/next/guide/go/configuration#schema-ÊºîËøõ","content":" ÈÄÇÁî®‰∫éÁªìÊûÑÂèØËÉΩÈöèÊó∂Èó¥ÂèòÂåñÁöÑÊï∞ÊçÆÔºö  // V1: original struct type UserV1 struct { ID int64 Name string } // V2: added Email field type UserV2 struct { ID int64 Name string Email string // New field } // Serialize with V1 f1 := fory.New(fory.WithCompatible(true)) f1.RegisterStruct(UserV1{}, 1) data, _ := f1.Serialize(&amp;UserV1{ID: 1, Name: &quot;Alice&quot;}) // Deserialize into V2 - Email will have zero value f2 := fory.New(fory.WithCompatible(true)) f2.RegisterStruct(UserV2{}, 1) var user UserV2 f2.Deserialize(data, &amp;user)   ","version":"dev","tagName":"h3"},{"title":"È´òÊÄßËÉΩÂπ∂ÂèëÂú∫ÊôØ‚Äã","type":1,"pageTitle":"ÈÖçÁΩÆ","url":"/zh-CN/docs/next/guide/go/configuration#È´òÊÄßËÉΩÂπ∂ÂèëÂú∫ÊôØ","content":" ÈÄÇÁî®‰∫éÈ´òÂêûÂêêÂπ∂ÂèëÂ§ÑÁêÜÔºö  type Request struct { ID int64 Payload string } f := threadsafe.New( fory.WithMaxDepth(30), ) f.RegisterStruct(Request{}, 1) // Process requests concurrently for req := range requests { go func(r Request) { data, _ := f.Serialize(&amp;r) sendResponse(data) }(req) }   ","version":"dev","tagName":"h3"},{"title":"ÊúÄ‰Ω≥ÂÆûË∑µ‚Äã","type":1,"pageTitle":"ÈÖçÁΩÆ","url":"/zh-CN/docs/next/guide/go/configuration#ÊúÄ‰Ω≥ÂÆûË∑µ","content":" Â§çÁî® Fory ÂÆû‰æãÔºöÂàõÂª∫ÂÆû‰æãÊúâÂàùÂßãÂåñÂºÄÈîÄÔºåÂª∫ËÆÆÂàõÂª∫‰∏ÄÊ¨°ÂêéÂ§çÁî®„ÄÇÂπ∂ÂèëÊó∂‰ΩøÁî®Á∫øÁ®ãÂÆâÂÖ®Â∞ÅË£ÖÔºö‰∏çË¶ÅÂú®Â§ö‰∏™ goroutine Èó¥ÂÖ±‰∫´ÈªòËÆ§ÂÆû‰æã„ÄÇÊåâÈúÄÂêØÁî®ÂºïÁî®Ë∑üË∏™ÔºöÂºïÁî®Ë∑üË∏™‰ºöÂ¢ûÂä†ÂºÄÈîÄ„ÄÇÈúÄË¶ÅÈïøÊúü‰øùÂ≠òÊï∞ÊçÆÊó∂ËØ∑Â§çÂà∂ÔºöÈªòËÆ§ÂÆû‰æãËøîÂõûÁöÑÂ≠óËäÇÂàáÁâá‰ºöÂú®ÂêéÁª≠Ë∞ÉÁî®ÂêéÂ§±Êïà„ÄÇÂêàÁêÜËÆæÁΩÆÊúÄÂ§ßÊ∑±Â∫¶ÔºöÊ∑±Â±ÇÁªìÊûÑÂèØÈÄÇÂΩìË∞ÉÂ§ßÔºå‰ΩÜÈúÄÂÖ≥Ê≥®ÂÜÖÂ≠òÂç†Áî®„ÄÇSchema ÂèØËÉΩÊºîËøõÊó∂ÂêØÁî®ÂÖºÂÆπÊ®°ÂºèÔºöÊúçÂä°ÁâàÊú¨Â≠òÂú®ÁªìÊûÑÂ∑ÆÂºÇÊó∂Âª∫ËÆÆÂºÄÂêØ„ÄÇ  ","version":"dev","tagName":"h2"},{"title":"Áõ∏ÂÖ≥‰∏ªÈ¢ò‚Äã","type":1,"pageTitle":"ÈÖçÁΩÆ","url":"/zh-CN/docs/next/guide/go/configuration#Áõ∏ÂÖ≥‰∏ªÈ¢ò","content":" Âü∫Êú¨Â∫èÂàóÂåñÂºïÁî®Schema ÊºîËøõÁ∫øÁ®ãÂÆâÂÖ® ","version":"dev","tagName":"h2"},{"title":"Âü∫Êú¨Â∫èÂàóÂåñ","type":0,"sectionRef":"#","url":"/zh-CN/docs/next/guide/go/basic_serialization","content":"","keywords":"","version":"dev"},{"title":"ÂàõÂª∫ Fory ÂÆû‰æã‚Äã","type":1,"pageTitle":"Âü∫Êú¨Â∫èÂàóÂåñ","url":"/zh-CN/docs/next/guide/go/basic_serialization#ÂàõÂª∫-fory-ÂÆû‰æã","content":" Âú®Â∫èÂàóÂåñÂâçÂÖàÂàõÂª∫ Fory ÂÆû‰æãÂπ∂Ê≥®ÂÜåÁ±ªÂûãÔºö  import &quot;github.com/apache/fory/go/fory&quot; f := fory.New() // Register struct with a type ID f.RegisterStruct(User{}, 1) f.RegisterStruct(Order{}, 2) // Or register with a name (more flexible, less prone to ID conflicts, but higher serialization cost) f.RegisterNamedStruct(User{}, &quot;example.User&quot;) // Register enum types f.RegisterEnum(Color(0), 3)   ÈáçË¶ÅÔºöÂ∫îÂú®Â§öÊ¨°Â∫èÂàóÂåñË∞ÉÁî®Èó¥Â§çÁî®Âêå‰∏Ä‰∏™ Fory ÂÆû‰æã„ÄÇÂàõÂª∫Êñ∞ÂÆû‰æã‰ºöÂàÜÈÖçÂÜÖÈÉ®ÁºìÂÜ≤Âå∫„ÄÅÁ±ªÂûãÁºìÂ≠òÂíåËß£ÊûêÂô®ÔºåÂºÄÈîÄËæÉÈ´ò„ÄÇÈªòËÆ§ÂÆû‰æã‰∏çÊòØÁ∫øÁ®ãÂÆâÂÖ®ÁöÑÔºõÂπ∂ÂèëÂú∫ÊôØËØ∑‰ΩøÁî®Á∫øÁ®ãÂÆâÂÖ®Â∞ÅË£ÖÔºàËßÅ Á∫øÁ®ãÂÆâÂÖ®Ôºâ„ÄÇ  Êõ¥Â§öÂÜÖÂÆπËØ∑ÂèÇËÄÉ Á±ªÂûãÊ≥®ÂÜå„ÄÇ  ","version":"dev","tagName":"h2"},{"title":"Ê†∏ÂøÉ API‚Äã","type":1,"pageTitle":"Âü∫Êú¨Â∫èÂàóÂåñ","url":"/zh-CN/docs/next/guide/go/basic_serialization#Ê†∏ÂøÉ-api","content":" ","version":"dev","tagName":"h2"},{"title":"Serialize ‰∏é Deserialize‚Äã","type":1,"pageTitle":"Âü∫Êú¨Â∫èÂàóÂåñ","url":"/zh-CN/docs/next/guide/go/basic_serialization#serialize-‰∏é-deserialize","content":" ÊúÄ‰∏ªË¶ÅÁöÑÂ∫èÂàóÂåñÊé•Âè£Ôºö  // Serialize any value data, err := f.Serialize(value) if err != nil { // Handle error } // Deserialize into target var result MyType err = f.Deserialize(data, &amp;result) if err != nil { // Handle error }   ","version":"dev","tagName":"h3"},{"title":"Marshal ‰∏é Unmarshal‚Äã","type":1,"pageTitle":"Âü∫Êú¨Â∫èÂàóÂåñ","url":"/zh-CN/docs/next/guide/go/basic_serialization#marshal-‰∏é-unmarshal","content":" Serialize Âíå Deserialize ÁöÑÂà´ÂêçÔºàÂØπ Go ÂºÄÂèëËÄÖÊõ¥ÁÜüÊÇâÔºâÔºö  data, err := f.Marshal(value) err = f.Unmarshal(data, &amp;result)   ","version":"dev","tagName":"h3"},{"title":"Â∫èÂàóÂåñÂü∫Á°ÄÁ±ªÂûã‚Äã","type":1,"pageTitle":"Âü∫Êú¨Â∫èÂàóÂåñ","url":"/zh-CN/docs/next/guide/go/basic_serialization#Â∫èÂàóÂåñÂü∫Á°ÄÁ±ªÂûã","content":" // Integers data, _ := f.Serialize(int64(42)) var i int64 f.Deserialize(data, &amp;i) // i = 42 // Floats data, _ = f.Serialize(float64(3.14)) var fl float64 f.Deserialize(data, &amp;fl) // fl = 3.14 // Strings data, _ = f.Serialize(&quot;hello&quot;) var s string f.Deserialize(data, &amp;s) // s = &quot;hello&quot; // Booleans data, _ = f.Serialize(true) var b bool f.Deserialize(data, &amp;b) // b = true   ","version":"dev","tagName":"h2"},{"title":"Â∫èÂàóÂåñÈõÜÂêàÁ±ªÂûã‚Äã","type":1,"pageTitle":"Âü∫Êú¨Â∫èÂàóÂåñ","url":"/zh-CN/docs/next/guide/go/basic_serialization#Â∫èÂàóÂåñÈõÜÂêàÁ±ªÂûã","content":" ","version":"dev","tagName":"h2"},{"title":"Slice‚Äã","type":1,"pageTitle":"Âü∫Êú¨Â∫èÂàóÂåñ","url":"/zh-CN/docs/next/guide/go/basic_serialization#slice","content":" // String slice strs := []string{&quot;a&quot;, &quot;b&quot;, &quot;c&quot;} data, _ := f.Serialize(strs) var result []string f.Deserialize(data, &amp;result) // result = [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;] // Integer slice nums := []int64{1, 2, 3} data, _ = f.Serialize(nums) var intResult []int64 f.Deserialize(data, &amp;intResult) // intResult = [1, 2, 3]   ","version":"dev","tagName":"h3"},{"title":"Map‚Äã","type":1,"pageTitle":"Âü∫Êú¨Â∫èÂàóÂåñ","url":"/zh-CN/docs/next/guide/go/basic_serialization#map","content":" // String to string map m := map[string]string{&quot;key&quot;: &quot;value&quot;} data, _ := f.Serialize(m) var result map[string]string f.Deserialize(data, &amp;result) // result = {&quot;key&quot;: &quot;value&quot;} // String to int map m2 := map[string]int64{&quot;count&quot;: 42} data, _ = f.Serialize(m2) var result2 map[string]int64 f.Deserialize(data, &amp;result2) // result2 = {&quot;count&quot;: 42}   ","version":"dev","tagName":"h3"},{"title":"Â∫èÂàóÂåñÁªìÊûÑ‰Ωì‚Äã","type":1,"pageTitle":"Âü∫Êú¨Â∫èÂàóÂåñ","url":"/zh-CN/docs/next/guide/go/basic_serialization#Â∫èÂàóÂåñÁªìÊûÑ‰Ωì","content":" ","version":"dev","tagName":"h2"},{"title":"Âü∫Á°ÄÁªìÊûÑ‰ΩìÂ∫èÂàóÂåñ‚Äã","type":1,"pageTitle":"Âü∫Êú¨Â∫èÂàóÂåñ","url":"/zh-CN/docs/next/guide/go/basic_serialization#Âü∫Á°ÄÁªìÊûÑ‰ΩìÂ∫èÂàóÂåñ","content":" Âè™ÊúâÂØºÂá∫Â≠óÊÆµÔºàÈ¶ñÂ≠óÊØçÂ§ßÂÜôÔºâ‰ºöË¢´Â∫èÂàóÂåñÔºö  type User struct { ID int64 // Serialized Name string // Serialized password string // NOT serialized (unexported) } f.RegisterStruct(User{}, 1) user := &amp;User{ID: 1, Name: &quot;Alice&quot;, password: &quot;secret&quot;} data, _ := f.Serialize(user) var result User f.Deserialize(data, &amp;result) // result.ID = 1, result.Name = &quot;Alice&quot;, result.password = &quot;&quot;   ","version":"dev","tagName":"h3"},{"title":"ÂµåÂ•óÁªìÊûÑ‰Ωì‚Äã","type":1,"pageTitle":"Âü∫Êú¨Â∫èÂàóÂåñ","url":"/zh-CN/docs/next/guide/go/basic_serialization#ÂµåÂ•óÁªìÊûÑ‰Ωì","content":" type Address struct { City string Country string } type Person struct { Name string Address Address } f.RegisterStruct(Address{}, 1) f.RegisterStruct(Person{}, 2) person := &amp;Person{ Name: &quot;Alice&quot;, Address: Address{City: &quot;NYC&quot;, Country: &quot;USA&quot;}, } data, _ := f.Serialize(person) var result Person f.Deserialize(data, &amp;result) // result.Address.City = &quot;NYC&quot;   ","version":"dev","tagName":"h3"},{"title":"ÊåáÈíàÂ≠óÊÆµ‚Äã","type":1,"pageTitle":"Âü∫Êú¨Â∫èÂàóÂåñ","url":"/zh-CN/docs/next/guide/go/basic_serialization#ÊåáÈíàÂ≠óÊÆµ","content":" type Node struct { Value int32 Child *Node } // Use WithTrackRef for pointer fields f := fory.New(fory.WithTrackRef(true)) f.RegisterStruct(Node{}, 1) root := &amp;Node{ Value: 1, Child: &amp;Node{Value: 2, Child: nil}, } data, _ := f.Serialize(root) var result Node f.Deserialize(data, &amp;result) // result.Child.Value = 2   ","version":"dev","tagName":"h3"},{"title":"ÊµÅÂºè API‚Äã","type":1,"pageTitle":"Âü∫Êú¨Â∫èÂàóÂåñ","url":"/zh-CN/docs/next/guide/go/basic_serialization#ÊµÅÂºè-api","content":" ÂΩì‰Ω†Â∏åÊúõËá™Ë°åÁÆ°ÁêÜÁºìÂÜ≤Âå∫Êó∂ÂèØ‰ΩøÁî®ÊµÅÂºèÊé•Âè£„ÄÇ  ","version":"dev","tagName":"h2"},{"title":"SerializeTo‚Äã","type":1,"pageTitle":"Âü∫Êú¨Â∫èÂàóÂåñ","url":"/zh-CN/docs/next/guide/go/basic_serialization#serializeto","content":" Â∫èÂàóÂåñÂà∞Áé∞ÊúâÁºìÂÜ≤Âå∫Ôºö  buf := fory.NewByteBuffer(nil) // Serialize multiple values to same buffer f.SerializeTo(buf, value1) f.SerializeTo(buf, value2) // Get all serialized data data := buf.GetByteSlice(0, buf.WriterIndex())   ","version":"dev","tagName":"h3"},{"title":"DeserializeFrom‚Äã","type":1,"pageTitle":"Âü∫Êú¨Â∫èÂàóÂåñ","url":"/zh-CN/docs/next/guide/go/basic_serialization#deserializefrom","content":" ‰ªéÁé∞ÊúâÁºìÂÜ≤Âå∫ÂèçÂ∫èÂàóÂåñÔºö  buf := fory.NewByteBuffer(data) var result1, result2 MyType f.DeserializeFrom(buf, &amp;result1) f.DeserializeFrom(buf, &amp;result2)   ","version":"dev","tagName":"h3"},{"title":"Ê≥õÂûã APIÔºàÁ±ªÂûãÂÆâÂÖ®Ôºâ‚Äã","type":1,"pageTitle":"Âü∫Êú¨Â∫èÂàóÂåñ","url":"/zh-CN/docs/next/guide/go/basic_serialization#Ê≥õÂûã-apiÁ±ªÂûãÂÆâÂÖ®","content":" Fory Go Êèê‰æõ‰∫ÜÊ≥õÂûãÂáΩÊï∞Áî®‰∫éÁ±ªÂûãÂÆâÂÖ®ÁöÑÂ∫èÂàóÂåñÔºö  import &quot;github.com/apache/fory/go/fory&quot; type User struct { ID int64 Name string } // Type-safe serialization user := &amp;User{ID: 1, Name: &quot;Alice&quot;} data, err := fory.Serialize(f, user) // Type-safe deserialization var result User err = fory.Deserialize(f, data, &amp;result)   Ê≥õÂûã API ÁöÑ‰ºòÂäøÔºö  Âú®ÁºñËØëÊúüÊé®Êñ≠Á±ªÂûãÊèê‰æõÊõ¥Â•ΩÁöÑÁ±ªÂûãÂÆâÂÖ®Âú®Êüê‰∫õÂú∫ÊôØ‰∏ãÂèØËé∑ÂæóÊÄßËÉΩÊî∂Áõä  ","version":"dev","tagName":"h2"},{"title":"ÈîôËØØÂ§ÑÁêÜ‚Äã","type":1,"pageTitle":"Âü∫Êú¨Â∫èÂàóÂåñ","url":"/zh-CN/docs/next/guide/go/basic_serialization#ÈîôËØØÂ§ÑÁêÜ","content":" Âä°ÂøÖÊ£ÄÊü•Â∫èÂàóÂåñ/ÂèçÂ∫èÂàóÂåñËøîÂõûÁöÑÈîôËØØÔºö  data, err := f.Serialize(value) if err != nil { switch e := err.(type) { case fory.Error: fmt.Printf(&quot;Fory error: %s (kind: %d)\\n&quot;, e.Error(), e.Kind()) default: fmt.Printf(&quot;Unknown error: %v\\n&quot;, err) } return } err = f.Deserialize(data, &amp;result) if err != nil { // Handle deserialization error }   Â∏∏ËßÅÈîôËØØÁ±ªÂûãÔºö  ErrKindBufferOutOfBoundÔºöËØªÂÜôË∂äÁïåErrKindTypeMismatchÔºöÂèçÂ∫èÂàóÂåñÊó∂Á±ªÂûã ID ‰∏çÂåπÈÖçErrKindUnknownTypeÔºöÈÅáÂà∞Êú™Áü•Á±ªÂûãErrKindMaxDepthExceededÔºöË∂ÖËøáÈÄíÂΩíÊ∑±Â∫¶ÈôêÂà∂ErrKindHashMismatchÔºöÁªìÊûÑ‰ΩìÂìàÂ∏å‰∏ç‰∏ÄËá¥Ôºàschema Â∑≤ÂèòÊõ¥Ôºâ  ÊéíÊü•Âª∫ËÆÆËßÅ ÊïÖÈöúÊéíÊü•„ÄÇ  ","version":"dev","tagName":"h2"},{"title":"Nil Â§ÑÁêÜ‚Äã","type":1,"pageTitle":"Âü∫Êú¨Â∫èÂàóÂåñ","url":"/zh-CN/docs/next/guide/go/basic_serialization#nil-Â§ÑÁêÜ","content":" ","version":"dev","tagName":"h2"},{"title":"Nil ÊåáÈíà‚Äã","type":1,"pageTitle":"Âü∫Êú¨Â∫èÂàóÂåñ","url":"/zh-CN/docs/next/guide/go/basic_serialization#nil-ÊåáÈíà","content":" var ptr *User = nil data, _ := f.Serialize(ptr) var result *User f.Deserialize(data, &amp;result) // result = nil   ","version":"dev","tagName":"h3"},{"title":"Á©∫ÈõÜÂêà‚Äã","type":1,"pageTitle":"Âü∫Êú¨Â∫èÂàóÂåñ","url":"/zh-CN/docs/next/guide/go/basic_serialization#Á©∫ÈõÜÂêà","content":" // Nil slice var slice []string = nil data, _ := f.Serialize(slice) var result []string f.Deserialize(data, &amp;result) // result = nil // Empty slice (different from nil) empty := []string{} data, _ = f.Serialize(empty) f.Deserialize(data, &amp;result) // result = [] (empty, not nil)   ","version":"dev","tagName":"h3"},{"title":"ÂÆåÊï¥Á§∫‰æã‚Äã","type":1,"pageTitle":"Âü∫Êú¨Â∫èÂàóÂåñ","url":"/zh-CN/docs/next/guide/go/basic_serialization#ÂÆåÊï¥Á§∫‰æã","content":" package main import ( &quot;fmt&quot; &quot;github.com/apache/fory/go/fory&quot; ) type Order struct { ID int64 Customer string Items []Item Total float64 } type Item struct { Name string Quantity int32 Price float64 } func main() { f := fory.New() f.RegisterStruct(Order{}, 1) f.RegisterStruct(Item{}, 2) order := &amp;Order{ ID: 12345, Customer: &quot;Alice&quot;, Items: []Item{ {Name: &quot;Widget&quot;, Quantity: 2, Price: 9.99}, {Name: &quot;Gadget&quot;, Quantity: 1, Price: 24.99}, }, Total: 44.97, } // Serialize data, err := f.Serialize(order) if err != nil { panic(err) } fmt.Printf(&quot;Serialized %d bytes\\n&quot;, len(data)) // Deserialize var result Order if err := f.Deserialize(data, &amp;result); err != nil { panic(err) } fmt.Printf(&quot;Order ID: %d\\n&quot;, result.ID) fmt.Printf(&quot;Customer: %s\\n&quot;, result.Customer) fmt.Printf(&quot;Items: %d\\n&quot;, len(result.Items)) fmt.Printf(&quot;Total: %.2f\\n&quot;, result.Total) }   ","version":"dev","tagName":"h2"},{"title":"Áõ∏ÂÖ≥‰∏ªÈ¢ò‚Äã","type":1,"pageTitle":"Âü∫Êú¨Â∫èÂàóÂåñ","url":"/zh-CN/docs/next/guide/go/basic_serialization#Áõ∏ÂÖ≥‰∏ªÈ¢ò","content":" ÈÖçÁΩÆÁ±ªÂûãÊ≥®ÂÜåÊîØÊåÅÁ±ªÂûãÂºïÁî® ","version":"dev","tagName":"h2"},{"title":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ","type":0,"sectionRef":"#","url":"/zh-CN/docs/next/guide/go/cross_language","content":"","keywords":"","version":"dev"},{"title":"ÂêØÁî®Ë∑®ËØ≠Ë®ÄÊ®°Âºè‚Äã","type":1,"pageTitle":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/next/guide/go/cross_language#ÂêØÁî®Ë∑®ËØ≠Ë®ÄÊ®°Âºè","content":" ÈúÄË¶ÅÊòæÂºèÂºÄÂêØË∑®ËØ≠Ë®ÄÔºàxlangÔºâÊ®°ÂºèÔºö  f := fory.New(fory.WithXlang(true))   ","version":"dev","tagName":"h2"},{"title":"Ë∑®ËØ≠Ë®ÄÁ±ªÂûãÊ≥®ÂÜå‚Äã","type":1,"pageTitle":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/next/guide/go/cross_language#Ë∑®ËØ≠Ë®ÄÁ±ªÂûãÊ≥®ÂÜå","content":" Âú®ÊâÄÊúâËØ≠Ë®Ä‰∏≠‰ΩøÁî®‰∏ÄËá¥ÁöÑÁ±ªÂûã IDÔºö  ","version":"dev","tagName":"h2"},{"title":"Go‚Äã","type":1,"pageTitle":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/next/guide/go/cross_language#go","content":" type User struct { ID int64 Name string } f := fory.New(fory.WithXlang(true)) f.RegisterStruct(User{}, 1) data, _ := f.Serialize(&amp;User{ID: 1, Name: &quot;Alice&quot;})   ","version":"dev","tagName":"h3"},{"title":"Java‚Äã","type":1,"pageTitle":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/next/guide/go/cross_language#java","content":" public class User { public long id; public String name; } Fory fory = Fory.builder().withXlang(true).build(); fory.register(User.class, 1); User user = fory.deserialize(data, User.class);   ","version":"dev","tagName":"h3"},{"title":"Python‚Äã","type":1,"pageTitle":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/next/guide/go/cross_language#python","content":" from dataclasses import dataclass import pyfory @dataclass class User: id: pyfory.Int64Type name: str fory = pyfory.Fory() fory.register(User, type_id=1) user = fory.deserialize(data)   ","version":"dev","tagName":"h3"},{"title":"Á±ªÂûãÊò†Â∞Ñ‚Äã","type":1,"pageTitle":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/next/guide/go/cross_language#Á±ªÂûãÊò†Â∞Ñ","content":" ‰∏çÂêåËØ≠Ë®ÄÈó¥ÂÆåÊï¥Á±ªÂûãÊò†Â∞ÑËØ∑ÂèÇËÄÉ Á±ªÂûãÊò†Â∞ÑËßÑËåÉ„ÄÇ  ","version":"dev","tagName":"h2"},{"title":"Â≠óÊÆµÈ°∫Â∫è‚Äã","type":1,"pageTitle":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/next/guide/go/cross_language#Â≠óÊÆµÈ°∫Â∫è","content":" Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñË¶ÅÊ±ÇÂ≠óÊÆµÈ°∫Â∫è‰∏ÄËá¥„ÄÇFory ‰ºöÂ∞ÜÂ≠óÊÆµÂêçËΩ¨‰∏∫ snake_case ÂêéÊåâÂ≠óÊØçÂ∫èÊéíÂ∫è„ÄÇ  Go Â≠óÊÆµÂêç‰ºöÂÖàËΩ¨ snake_caseÔºö  type Example struct { UserID int64 // -&gt; user_id FirstName string // -&gt; first_name Age int32 // -&gt; age } // Sorted order: age, first_name, user_id   ËØ∑Á°Æ‰øùÂÖ∂‰ªñËØ≠Ë®Ä‰ΩøÁî®ËÉΩ‰∫ßÁîüÁõ∏Âêå snake_case È°∫Â∫èÁöÑÂ≠óÊÆµÂêçÔºõÊàñÈÄöËøáÂ≠óÊÆµ ID ÊòæÂºèÊéßÂà∂Ôºö  type Example struct { UserID int64 `fory:&quot;id=0&quot;` FirstName string `fory:&quot;id=1&quot;` Age int32 `fory:&quot;id=2&quot;` }   ","version":"dev","tagName":"h2"},{"title":"Á§∫‰æã‚Äã","type":1,"pageTitle":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/next/guide/go/cross_language#Á§∫‰æã","content":" ","version":"dev","tagName":"h2"},{"title":"Go Âà∞ Java‚Äã","type":1,"pageTitle":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/next/guide/go/cross_language#go-Âà∞-java","content":" GoÔºàÂ∫èÂàóÂåñÁ´ØÔºâÔºö  type Order struct { ID int64 Customer string Total float64 Items []string } f := fory.New(fory.WithXlang(true)) f.RegisterStruct(Order{}, 1) order := &amp;Order{ ID: 12345, Customer: &quot;Alice&quot;, Total: 99.99, Items: []string{&quot;Widget&quot;, &quot;Gadget&quot;}, } data, _ := f.Serialize(order) // Send 'data' to Java service   JavaÔºàÂèçÂ∫èÂàóÂåñÁ´ØÔºâÔºö  public class Order { public long id; public String customer; public double total; public List&lt;String&gt; items; } Fory fory = Fory.builder().withXlang(true).build(); fory.register(Order.class, 1); Order order = fory.deserialize(data, Order.class);   ","version":"dev","tagName":"h3"},{"title":"Python Âà∞ Go‚Äã","type":1,"pageTitle":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/next/guide/go/cross_language#python-Âà∞-go","content":" PythonÔºàÂ∫èÂàóÂåñÁ´ØÔºâÔºö  from dataclasses import dataclass import pyfory @dataclass class Message: id: pyfory.Int64Type content: str timestamp: pyfory.Int64Type fory = pyfory.Fory() fory.register(Message, type_id=1) msg = Message(id=1, content=&quot;Hello from Python&quot;, timestamp=1234567890) data = fory.serialize(msg)   GoÔºàÂèçÂ∫èÂàóÂåñÁ´ØÔºâÔºö  type Message struct { ID int64 Content string Timestamp int64 } f := fory.New(fory.WithXlang(true)) f.RegisterStruct(Message{}, 1) var msg Message f.Deserialize(data, &amp;msg) fmt.Println(msg.Content) // &quot;Hello from Python&quot;   ","version":"dev","tagName":"h3"},{"title":"ÂµåÂ•óÁªìÊûÑ‚Äã","type":1,"pageTitle":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/next/guide/go/cross_language#ÂµåÂ•óÁªìÊûÑ","content":" Ë∑®ËØ≠Ë®ÄÂµåÂ•óÁªìÊûÑË¶ÅÊ±ÇÁõ∏ÂÖ≥Á±ªÂûãÂÖ®ÈÉ®Ê≥®ÂÜåÔºö  GoÔºö  type Address struct { Street string City string Country string } type Company struct { Name string Address Address } f := fory.New(fory.WithXlang(true)) f.RegisterStruct(Address{}, 1) f.RegisterStruct(Company{}, 2)   JavaÔºö  public class Address { public String street; public String city; public String country; } public class Company { public String name; public Address address; } fory.register(Address.class, 1); fory.register(Company.class, 2);   ","version":"dev","tagName":"h3"},{"title":"Â∏∏ËßÅÈóÆÈ¢ò‚Äã","type":1,"pageTitle":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/next/guide/go/cross_language#Â∏∏ËßÅÈóÆÈ¢ò","content":" ","version":"dev","tagName":"h2"},{"title":"Â≠óÊÆµÂêç‰∏çÂåπÈÖç‚Äã","type":1,"pageTitle":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/next/guide/go/cross_language#Â≠óÊÆµÂêç‰∏çÂåπÈÖç","content":" Go Â∏∏Áî® PascalCaseÔºåÂÖ∂‰ªñËØ≠Ë®ÄÂèØËÉΩÊòØ camelCase Êàñ snake_case„ÄÇFory Êåâ snake_case ËΩ¨Êç¢ÁªìÊûúÂÅöÂ≠óÊÆµÂåπÈÖçÔºö  // Go type User struct { FirstName string // -&gt; first_name } // Java - field name converted to snake_case must match public class User { public String firstName; // -&gt; first_name (matches) }   ","version":"dev","tagName":"h3"},{"title":"Á±ªÂûãËØ≠‰πâÂ∑ÆÂºÇ‚Äã","type":1,"pageTitle":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/next/guide/go/cross_language#Á±ªÂûãËØ≠‰πâÂ∑ÆÂºÇ","content":" Go ÁöÑÊó†Á¨¶Âè∑Á±ªÂûãÂú® Java ‰∏≠‰ºöÊò†Â∞ÑÂà∞Áõ∏ÂêåÊØîÁâπ‰ΩçÁöÑÊúâÁ¨¶Âè∑Á±ªÂûãÔºö  var value uint64 = 18446744073709551615 // Max uint64   Java long ÊåÅÊúâÁõ∏ÂêåÊØîÁâπ‰ΩçÔºå‰ΩÜÊåâÊúâÁ¨¶Âè∑Ëß£Èáä‰∏∫ -1„ÄÇËã•ÈúÄÊó†Á¨¶Âè∑ËØ≠‰πâÔºåÂèØÂú® Java ‰∏≠‰ΩøÁî® Long.toUnsignedString()„ÄÇ  ","version":"dev","tagName":"h3"},{"title":"Nil ‰∏é Null‚Äã","type":1,"pageTitle":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/next/guide/go/cross_language#nil-‰∏é-null","content":" Go ÁöÑ nil slice/map Âú®‰∏çÂêåÈÖçÁΩÆ‰∏ãÂ∫èÂàóÂåñÊñπÂºè‰∏çÂêåÔºö  var slice []string = nil // In xlang mode: serializes based on nullable configuration   ËØ∑Á°Æ‰øùÂÖ∂‰ªñËØ≠Ë®ÄÁ´ØËÉΩÊ≠£Á°ÆÂ§ÑÁêÜ null„ÄÇ  ","version":"dev","tagName":"h3"},{"title":"ÊúÄ‰Ω≥ÂÆûË∑µ‚Äã","type":1,"pageTitle":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/next/guide/go/cross_language#ÊúÄ‰Ω≥ÂÆûË∑µ","content":" Áªü‰∏Ä type IDÔºöÂêå‰∏ÄÁ±ªÂûãÂú®ÊâÄÊúâËØ≠Ë®Ä‰∏≠‰ΩøÁî®Áõ∏ÂêåÊï∞ÂÄº IDÂÆåÊï¥Ê≥®ÂÜåÁ±ªÂûãÔºöÂåÖÊã¨ÂµåÂ•óÁªìÊûÑ‰ΩìÁ±ªÂûãÁªü‰∏ÄÂ≠óÊÆµÈ°∫Â∫èÔºö‰ΩøÁî®‰∏ÄËá¥ snake_caseÔºåÊàñ‰ΩøÁî®ÊòæÂºèÂ≠óÊÆµ IDÂ∞ΩÊó©ÂÅöË∑®ËØ≠Ë®ÄÈõÜÊàêÊµãËØïÔºöÊåÅÁª≠È™åËØÅÂÖºÂÆπÊÄßÊ≥®ÊÑèÁ±ªÂûãËØ≠‰πâÂ∑ÆÂºÇÔºöÁâπÂà´ÊòØÊúâÁ¨¶Âè∑/Êó†Á¨¶Âè∑Ëß£ÈáäÂ∑ÆÂºÇ  ","version":"dev","tagName":"h2"},{"title":"Áõ∏ÂÖ≥‰∏ªÈ¢ò‚Äã","type":1,"pageTitle":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/next/guide/go/cross_language#Áõ∏ÂÖ≥‰∏ªÈ¢ò","content":" Á±ªÂûãÊ≥®ÂÜåÊîØÊåÅÁ±ªÂûãSchema ÊºîËøõ ","version":"dev","tagName":"h2"},{"title":"Ëá™ÂÆö‰πâÂ∫èÂàóÂåñÂô®","type":0,"sectionRef":"#","url":"/zh-CN/docs/next/guide/go/custom_serializers","content":"","keywords":"","version":"dev"},{"title":"‰ΩïÊó∂‰ΩøÁî®Ëá™ÂÆö‰πâÂ∫èÂàóÂåñÂô®‚Äã","type":1,"pageTitle":"Ëá™ÂÆö‰πâÂ∫èÂàóÂåñÂô®","url":"/zh-CN/docs/next/guide/go/custom_serializers#‰ΩïÊó∂‰ΩøÁî®Ëá™ÂÆö‰πâÂ∫èÂàóÂåñÂô®","content":" Special encoding: Types that need a specific binary formatThird-party types: Types from external libraries that Fory doesn't handle automaticallyOptimization: When you can serialize more efficiently than the default reflection-based approachCross-language compatibility: When you need precise control over the binary format for interoperability  ","version":"dev","tagName":"h2"},{"title":"ExtensionSerializer Êé•Âè£‚Äã","type":1,"pageTitle":"Ëá™ÂÆö‰πâÂ∫èÂàóÂåñÂô®","url":"/zh-CN/docs/next/guide/go/custom_serializers#extensionserializer-Êé•Âè£","content":" Custom serializers implement the ExtensionSerializer interface:  type ExtensionSerializer interface { // WriteData serializes the value to the buffer. // Only write the data - Fory handles type info and references. // Use ctx.Buffer() to access the ByteBuffer. // Use ctx.SetError() to report errors. WriteData(ctx *WriteContext, value reflect.Value) // ReadData deserializes the value from the buffer into the provided value. // Only read the data - Fory handles type info and references. // Use ctx.Buffer() to access the ByteBuffer. // Use ctx.SetError() to report errors. ReadData(ctx *ReadContext, value reflect.Value) }   ","version":"dev","tagName":"h2"},{"title":"Âü∫Á°ÄÁ§∫‰æã‚Äã","type":1,"pageTitle":"Ëá™ÂÆö‰πâÂ∫èÂàóÂåñÂô®","url":"/zh-CN/docs/next/guide/go/custom_serializers#Âü∫Á°ÄÁ§∫‰æã","content":" Here's a simple custom serializer for a type with an integer field:  import ( &quot;reflect&quot; &quot;github.com/apache/fory/go/fory&quot; ) type MyExt struct { Id int32 } type MyExtSerializer struct{} func (s *MyExtSerializer) WriteData(ctx *fory.WriteContext, value reflect.Value) { myExt := value.Interface().(MyExt) ctx.Buffer().WriteVarint32(myExt.Id) } func (s *MyExtSerializer) ReadData(ctx *fory.ReadContext, value reflect.Value) { id := ctx.Buffer().ReadVarint32(ctx.Err()) value.Set(reflect.ValueOf(MyExt{Id: id})) } // Register the custom serializer f := fory.New() err := f.RegisterExtension(MyExt{}, 100, &amp;MyExtSerializer{})   ","version":"dev","tagName":"h2"},{"title":"Context ÊñπÊ≥ï‚Äã","type":1,"pageTitle":"Ëá™ÂÆö‰πâÂ∫èÂàóÂåñÂô®","url":"/zh-CN/docs/next/guide/go/custom_serializers#context-ÊñπÊ≥ï","content":" The WriteContext and ReadContext provide access to serialization resources:  Method\tDescriptionBuffer()\tReturns the *ByteBuffer for reading/writing Err()\tReturns *Error for deferred error checking SetError(err)\tSets an error on the context HasError()\tReturns true if an error has been set TypeResolver()\tReturns the type resolver for nested types RefResolver()\tReturns the reference resolver for ref support  ","version":"dev","tagName":"h2"},{"title":"ByteBuffer ÊñπÊ≥ï‚Äã","type":1,"pageTitle":"Ëá™ÂÆö‰πâÂ∫èÂàóÂåñÂô®","url":"/zh-CN/docs/next/guide/go/custom_serializers#bytebuffer-ÊñπÊ≥ï","content":" The ByteBuffer provides methods for reading and writing primitive types:  ","version":"dev","tagName":"h2"},{"title":"ÂÜôÂÖ•ÊñπÊ≥ï‚Äã","type":1,"pageTitle":"Ëá™ÂÆö‰πâÂ∫èÂàóÂåñÂô®","url":"/zh-CN/docs/next/guide/go/custom_serializers#ÂÜôÂÖ•ÊñπÊ≥ï","content":" Method\tDescriptionWriteBool(v bool)\tWrite a boolean WriteInt8(v int8)\tWrite a signed 8-bit integer WriteInt16(v int16)\tWrite a signed 16-bit integer WriteInt32(v int32)\tWrite a signed 32-bit integer WriteInt64(v int64)\tWrite a signed 64-bit integer WriteFloat32(v float32)\tWrite a 32-bit float WriteFloat64(v float64)\tWrite a 64-bit float WriteVarint32(v int32)\tWrite a variable-length signed 32-bit integer WriteVarint64(v int64)\tWrite a variable-length signed 64-bit integer WriteBinary(data []byte)\tWrite raw bytes  ","version":"dev","tagName":"h3"},{"title":"ËØªÂèñÊñπÊ≥ï‚Äã","type":1,"pageTitle":"Ëá™ÂÆö‰πâÂ∫èÂàóÂåñÂô®","url":"/zh-CN/docs/next/guide/go/custom_serializers#ËØªÂèñÊñπÊ≥ï","content":" All read methods take an *Error parameter for deferred error checking:  Method\tDescriptionReadBool(err *Error) bool\tRead a boolean ReadInt8(err *Error) int8\tRead a signed 8-bit integer ReadInt16(err *Error) int16\tRead a signed 16-bit integer ReadInt32(err *Error) int32\tRead a signed 32-bit integer ReadInt64(err *Error) int64\tRead a signed 64-bit integer ReadFloat32(err *Error) float32\tRead a 32-bit float ReadFloat64(err *Error) float64\tRead a 64-bit float ReadVarint32(err *Error) int32\tRead a variable-length signed 32-bit integer ReadVarint64(err *Error) int64\tRead a variable-length signed 64-bit integer ReadBinary(length int, err *Error) []byte\tRead raw bytes of specified length  ","version":"dev","tagName":"h3"},{"title":"Complex Type Example‚Äã","type":1,"pageTitle":"Ëá™ÂÆö‰πâÂ∫èÂàóÂåñÂô®","url":"/zh-CN/docs/next/guide/go/custom_serializers#complex-type-example","content":" A custom serializer for a type with multiple fields:  type Point3D struct { X, Y, Z float64 Label string } type Point3DSerializer struct{} func (s *Point3DSerializer) WriteData(ctx *fory.WriteContext, value reflect.Value) { p := value.Interface().(Point3D) buf := ctx.Buffer() buf.WriteFloat64(p.X) buf.WriteFloat64(p.Y) buf.WriteFloat64(p.Z) // Write string as length + bytes labelBytes := []byte(p.Label) buf.WriteVarint32(int32(len(labelBytes))) buf.WriteBinary(labelBytes) } func (s *Point3DSerializer) ReadData(ctx *fory.ReadContext, value reflect.Value) { buf := ctx.Buffer() err := ctx.Err() x := buf.ReadFloat64(err) y := buf.ReadFloat64(err) z := buf.ReadFloat64(err) labelLen := buf.ReadVarint32(err) labelBytes := buf.ReadBinary(int(labelLen), err) value.Set(reflect.ValueOf(Point3D{ X: x, Y: y, Z: z, Label: string(labelBytes), })) } f := fory.New() f.RegisterExtension(Point3D{}, 101, &amp;Point3DSerializer{})   ","version":"dev","tagName":"h2"},{"title":"Handling Pointers‚Äã","type":1,"pageTitle":"Ëá™ÂÆö‰πâÂ∫èÂàóÂåñÂô®","url":"/zh-CN/docs/next/guide/go/custom_serializers#handling-pointers","content":" When your type contains pointers, handle nil values explicitly:  type OptionalValue struct { Value *int64 } type OptionalValueSerializer struct{} func (s *OptionalValueSerializer) WriteData(ctx *fory.WriteContext, value reflect.Value) { ov := value.Interface().(OptionalValue) buf := ctx.Buffer() if ov.Value == nil { buf.WriteBool(false) // nil flag } else { buf.WriteBool(true) // not nil buf.WriteInt64(*ov.Value) } } func (s *OptionalValueSerializer) ReadData(ctx *fory.ReadContext, value reflect.Value) { buf := ctx.Buffer() err := ctx.Err() hasValue := buf.ReadBool(err) if !hasValue { value.Set(reflect.ValueOf(OptionalValue{Value: nil})) return } v := buf.ReadInt64(err) value.Set(reflect.ValueOf(OptionalValue{Value: &amp;v})) }   ","version":"dev","tagName":"h2"},{"title":"Error Handling‚Äã","type":1,"pageTitle":"Ëá™ÂÆö‰πâÂ∫èÂàóÂåñÂô®","url":"/zh-CN/docs/next/guide/go/custom_serializers#error-handling","content":" Use ctx.SetError() to report errors:  func (s *MySerializer) ReadData(ctx *fory.ReadContext, value reflect.Value) { buf := ctx.Buffer() version := buf.ReadInt8(ctx.Err()) if ctx.HasError() { return } if version != 1 { ctx.SetError(fory.DeserializationErrorf(&quot;unsupported version: %d&quot;, version)) return } // Continue reading... value.Set(reflect.ValueOf(result)) }   ","version":"dev","tagName":"h2"},{"title":"Registration Options‚Äã","type":1,"pageTitle":"Ëá™ÂÆö‰πâÂ∫èÂàóÂåñÂô®","url":"/zh-CN/docs/next/guide/go/custom_serializers#registration-options","content":" ","version":"dev","tagName":"h2"},{"title":"Register by ID‚Äã","type":1,"pageTitle":"Ëá™ÂÆö‰πâÂ∫èÂàóÂåñÂô®","url":"/zh-CN/docs/next/guide/go/custom_serializers#register-by-id","content":" More compact serialization, requires ID coordination across languages:  f.RegisterExtension(MyType{}, 100, &amp;MySerializer{})   ","version":"dev","tagName":"h3"},{"title":"Register by Name‚Äã","type":1,"pageTitle":"Ëá™ÂÆö‰πâÂ∫èÂàóÂåñÂô®","url":"/zh-CN/docs/next/guide/go/custom_serializers#register-by-name","content":" More flexible but more serialization cost, type name included in serialized data:  f.RegisterNamedExtension(MyType{}, &quot;myapp.MyType&quot;, &amp;MySerializer{})   ","version":"dev","tagName":"h3"},{"title":"ÊúÄ‰Ω≥ÂÆûË∑µ‚Äã","type":1,"pageTitle":"Ëá™ÂÆö‰πâÂ∫èÂàóÂåñÂô®","url":"/zh-CN/docs/next/guide/go/custom_serializers#ÊúÄ‰Ω≥ÂÆûË∑µ","content":" Keep it simple: Only serialize what you needUse variable-length integers: WriteVarint32/WriteVarint64 for integers that are often smallHandle nil explicitly: Check for nil pointers and slicesVersion your format: Consider adding a version byte for future compatibilityTest round-trips: Always verify that Read(Write(value)) == valueMatch read/write order: Read fields in exactly the same order you write themCheck errors: Use ctx.HasError() after reading to handle errors gracefullyDeploy before use: Always deploy the registered serializer to all services before sending data serialized with it. If a service receives data for an unregistered serializer, deserialization will fail  ","version":"dev","tagName":"h2"},{"title":"Testing Custom Serializers‚Äã","type":1,"pageTitle":"Ëá™ÂÆö‰πâÂ∫èÂàóÂåñÂô®","url":"/zh-CN/docs/next/guide/go/custom_serializers#testing-custom-serializers","content":" func TestMySerializer(t *testing.T) { f := fory.New() f.RegisterExtension(MyType{}, 100, &amp;MySerializer{}) original := MyType{Field: &quot;test&quot;} // Serialize data, err := f.Serialize(original) require.NoError(t, err) // Deserialize var result MyType err = f.Deserialize(data, &amp;result) require.NoError(t, err) assert.Equal(t, original, result) }   ","version":"dev","tagName":"h2"},{"title":"Áõ∏ÂÖ≥‰∏ªÈ¢ò‚Äã","type":1,"pageTitle":"Ëá™ÂÆö‰πâÂ∫èÂàóÂåñÂô®","url":"/zh-CN/docs/next/guide/go/custom_serializers#Áõ∏ÂÖ≥‰∏ªÈ¢ò","content":" Type RegistrationSupported TypesCross-Language Serialization ","version":"dev","tagName":"h2"},{"title":"ÂºïÁî®Â§ÑÁêÜ","type":0,"sectionRef":"#","url":"/zh-CN/docs/next/guide/go/references","content":"","keywords":"","version":"dev"},{"title":"ÂêØÁî®ÂºïÁî®Ë∑üË∏™‚Äã","type":1,"pageTitle":"ÂºïÁî®Â§ÑÁêÜ","url":"/zh-CN/docs/next/guide/go/references#ÂêØÁî®ÂºïÁî®Ë∑üË∏™","content":" Reference tracking is disabled by default. Enable it when creating a Fory instance:  f := fory.New(fory.WithTrackRef(true))   Important: Global reference tracking must be enabled for any reference tracking to occur. When WithTrackRef(false) (the default), all per-field reference tags are ignored.  ","version":"dev","tagName":"h2"},{"title":"ÂºïÁî®Ë∑üË∏™Â∑•‰ΩúÂéüÁêÜ‚Äã","type":1,"pageTitle":"ÂºïÁî®Â§ÑÁêÜ","url":"/zh-CN/docs/next/guide/go/references#ÂºïÁî®Ë∑üË∏™Â∑•‰ΩúÂéüÁêÜ","content":" ","version":"dev","tagName":"h2"},{"title":"Without Reference Tracking (Default)‚Äã","type":1,"pageTitle":"ÂºïÁî®Â§ÑÁêÜ","url":"/zh-CN/docs/next/guide/go/references#without-reference-tracking-default","content":" When disabled, each object is serialized independently:  f := fory.New() // TrackRef disabled by default shared := &amp;Data{Value: 42} container := &amp;Container{A: shared, B: shared} data, _ := f.Serialize(container) // 'shared' is serialized TWICE (no deduplication)   ","version":"dev","tagName":"h3"},{"title":"With Reference Tracking‚Äã","type":1,"pageTitle":"ÂºïÁî®Â§ÑÁêÜ","url":"/zh-CN/docs/next/guide/go/references#with-reference-tracking","content":" When enabled, objects are tracked by identity:  f := fory.New(fory.WithTrackRef(true)) shared := &amp;Data{Value: 42} container := &amp;Container{A: shared, B: shared} data, _ := f.Serialize(container) // 'shared' is serialized ONCE, second occurrence is a reference   ","version":"dev","tagName":"h3"},{"title":"ÂºïÁî®Ê†áËÆ∞‚Äã","type":1,"pageTitle":"ÂºïÁî®Â§ÑÁêÜ","url":"/zh-CN/docs/next/guide/go/references#ÂºïÁî®Ê†áËÆ∞","content":" Fory uses flags to indicate reference states during serialization:  Flag\tValue\tMeaningNullFlag\t-3\tNil/null value RefFlag\t-2\tReference to previously serialized object NotNullValueFlag\t-1\tNon-null value (data follows) RefValueFlag\t0\tReference value flag  ","version":"dev","tagName":"h2"},{"title":"ÂèØÂºïÁî®Ë∑üË∏™ÁöÑÁ±ªÂûã‚Äã","type":1,"pageTitle":"ÂºïÁî®Â§ÑÁêÜ","url":"/zh-CN/docs/next/guide/go/references#ÂèØÂºïÁî®Ë∑üË∏™ÁöÑÁ±ªÂûã","content":" Only certain types support reference tracking. In xlang mode, the following types can track references:  Type\tReference Tracked\tNotes*struct (pointer to struct)\tYes\tEnable with fory:&quot;ref&quot; tag any (interface)\tYes\tAutomatically tracked []T (slices)\tYes\tEnable with fory:&quot;ref&quot; tag map[K]V\tYes\tEnable with fory:&quot;ref&quot; tag *int, *string, etc.\tNo\tPointer to primitives excluded Primitives\tNo\tValue types time.Time, time.Duration\tNo\tValue types Arrays ([N]T)\tNo\tValue types  ","version":"dev","tagName":"h2"},{"title":"Â≠óÊÆµÁ∫ßÂºïÁî®ÊéßÂà∂‚Äã","type":1,"pageTitle":"ÂºïÁî®Â§ÑÁêÜ","url":"/zh-CN/docs/next/guide/go/references#Â≠óÊÆµÁ∫ßÂºïÁî®ÊéßÂà∂","content":" By default, reference tracking is disabled for individual fields even when global WithTrackRef(true) is set. You can enable reference tracking for specific fields using the ref struct tag:  type Container struct { // Enable ref tracking for this field SharedData *Data `fory:&quot;ref&quot;` // Explicitly disable ref tracking (same as default) SimpleData *Data `fory:&quot;ref=false&quot;` }   Important notes:  Per-field tags only take effect when global WithTrackRef(true) is setWhen global WithTrackRef(false) (default), all field ref tags are ignoredApplies to slices, maps, and pointer to struct fieldsPointer to primitive types (e.g., *int, *string) cannot use this tagDefault is ref=false (no reference tracking per field)  See Struct Tags for more details.  ","version":"dev","tagName":"h2"},{"title":"Âæ™ÁéØÂºïÁî®‚Äã","type":1,"pageTitle":"ÂºïÁî®Â§ÑÁêÜ","url":"/zh-CN/docs/next/guide/go/references#Âæ™ÁéØÂºïÁî®","content":" Reference tracking is required for circular data structures:  ","version":"dev","tagName":"h2"},{"title":"Circular Linked List‚Äã","type":1,"pageTitle":"ÂºïÁî®Â§ÑÁêÜ","url":"/zh-CN/docs/next/guide/go/references#circular-linked-list","content":" type Node struct { Value int32 Next *Node `fory:&quot;ref&quot;` } f := fory.New(fory.WithTrackRef(true)) f.RegisterStruct(Node{}, 1) // Create circular list n1 := &amp;Node{Value: 1} n2 := &amp;Node{Value: 2} n3 := &amp;Node{Value: 3} n1.Next = n2 n2.Next = n3 n3.Next = n1 // Circular reference back to n1 data, _ := f.Serialize(n1) var result Node f.Deserialize(data, &amp;result) // Circular structure is preserved // result.Next.Next.Next == &amp;result   ","version":"dev","tagName":"h3"},{"title":"Parent-Child Tree‚Äã","type":1,"pageTitle":"ÂºïÁî®Â§ÑÁêÜ","url":"/zh-CN/docs/next/guide/go/references#parent-child-tree","content":" type TreeNode struct { Value string Parent *TreeNode `fory:&quot;ref&quot;` Children []*TreeNode `fory:&quot;ref&quot;` } f := fory.New(fory.WithTrackRef(true)) f.RegisterStruct(TreeNode{}, 1) root := &amp;TreeNode{Value: &quot;root&quot;} child1 := &amp;TreeNode{Value: &quot;child1&quot;, Parent: root} child2 := &amp;TreeNode{Value: &quot;child2&quot;, Parent: root} root.Children = []*TreeNode{child1, child2} data, _ := f.Serialize(root) var result TreeNode f.Deserialize(data, &amp;result) // result.Children[0].Parent == &amp;result   ","version":"dev","tagName":"h3"},{"title":"Graph Structures‚Äã","type":1,"pageTitle":"ÂºïÁî®Â§ÑÁêÜ","url":"/zh-CN/docs/next/guide/go/references#graph-structures","content":" type GraphNode struct { ID int32 Neighbors []*GraphNode `fory:&quot;ref&quot;` } f := fory.New(fory.WithTrackRef(true)) f.RegisterStruct(GraphNode{}, 1) // Create a graph a := &amp;GraphNode{ID: 1} b := &amp;GraphNode{ID: 2} c := &amp;GraphNode{ID: 3} // Bidirectional connections a.Neighbors = []*GraphNode{b, c} b.Neighbors = []*GraphNode{a, c} c.Neighbors = []*GraphNode{a, b} data, _ := f.Serialize(a) var result GraphNode f.Deserialize(data, &amp;result)   ","version":"dev","tagName":"h3"},{"title":"Shared Object Deduplication‚Äã","type":1,"pageTitle":"ÂºïÁî®Â§ÑÁêÜ","url":"/zh-CN/docs/next/guide/go/references#shared-object-deduplication","content":" Reference tracking also deduplicates shared objects:  type Config struct { Setting string } type Application struct { MainConfig *Config `fory:&quot;ref&quot;` BackupConfig *Config `fory:&quot;ref&quot;` FallbackConfig *Config `fory:&quot;ref&quot;` } f := fory.New(fory.WithTrackRef(true)) f.RegisterStruct(Config{}, 1) f.RegisterStruct(Application{}, 2) // Shared configuration config := &amp;Config{Setting: &quot;value&quot;} // Multiple references to same object app := &amp;Application{ MainConfig: config, BackupConfig: config, FallbackConfig: config, } data, _ := f.Serialize(app) // 'config' serialized once, others are references var result Application f.Deserialize(data, &amp;result) // result.MainConfig == result.BackupConfig == result.FallbackConfig   ","version":"dev","tagName":"h2"},{"title":"Performance Considerations‚Äã","type":1,"pageTitle":"ÂºïÁî®Â§ÑÁêÜ","url":"/zh-CN/docs/next/guide/go/references#performance-considerations","content":" ","version":"dev","tagName":"h2"},{"title":"Overhead‚Äã","type":1,"pageTitle":"ÂºïÁî®Â§ÑÁêÜ","url":"/zh-CN/docs/next/guide/go/references#overhead","content":" Reference tracking adds overhead:  Memory for tracking seen objects (hash map)Hash lookups during serializationAdditional bytes for reference flags and IDs  ","version":"dev","tagName":"h3"},{"title":"When to Enable‚Äã","type":1,"pageTitle":"ÂºïÁî®Â§ÑÁêÜ","url":"/zh-CN/docs/next/guide/go/references#when-to-enable","content":" Enable reference tracking when:  Data has circular referencesSame object referenced multiple timesSerializing graph structuresObject identity must be preserved  Disable reference tracking when:  Data is tree-structured (no cycles)Each object appears only onceMaximum performance is requiredObject identity doesn't matter  ","version":"dev","tagName":"h3"},{"title":"Memory Usage‚Äã","type":1,"pageTitle":"ÂºïÁî®Â§ÑÁêÜ","url":"/zh-CN/docs/next/guide/go/references#memory-usage","content":" Reference tracking maintains a map of serializing objects:  // Internal reference tracking structure type RefResolver struct { writtenObjects map[refKey]int32 // pointer -&gt; reference ID readObjects []reflect.Value // reference ID -&gt; object }   For large object graphs, this may increase memory usage.  ","version":"dev","tagName":"h3"},{"title":"Error Handling‚Äã","type":1,"pageTitle":"ÂºïÁî®Â§ÑÁêÜ","url":"/zh-CN/docs/next/guide/go/references#error-handling","content":" ","version":"dev","tagName":"h2"},{"title":"Without Reference Tracking‚Äã","type":1,"pageTitle":"ÂºïÁî®Â§ÑÁêÜ","url":"/zh-CN/docs/next/guide/go/references#without-reference-tracking","content":" Circular references without tracking cause stack overflow or max depth errors:  f := fory.New() // No reference tracking n1 := &amp;Node{Value: 1} n1.Next = n1 // Self-reference data, err := f.Serialize(n1) // Error: max depth exceeded (or stack overflow)   ","version":"dev","tagName":"h3"},{"title":"Invalid Reference ID‚Äã","type":1,"pageTitle":"ÂºïÁî®Â§ÑÁêÜ","url":"/zh-CN/docs/next/guide/go/references#invalid-reference-id","content":" During deserialization, an invalid reference ID produces an error:  // Error type: ErrKindInvalidRefId   This occurs when serialized data contains a reference to an object that wasn't previously serialized.  ","version":"dev","tagName":"h3"},{"title":"Complete Example‚Äã","type":1,"pageTitle":"ÂºïÁî®Â§ÑÁêÜ","url":"/zh-CN/docs/next/guide/go/references#complete-example","content":" package main import ( &quot;fmt&quot; &quot;github.com/apache/fory/go/fory&quot; ) type Person struct { Name string Friends []*Person `fory:&quot;ref&quot;` BestFriend *Person `fory:&quot;ref&quot;` } func main() { f := fory.New(fory.WithTrackRef(true)) f.RegisterStruct(Person{}, 1) // Create people with mutual friendships alice := &amp;Person{Name: &quot;Alice&quot;} bob := &amp;Person{Name: &quot;Bob&quot;} charlie := &amp;Person{Name: &quot;Charlie&quot;} alice.Friends = []*Person{bob, charlie} alice.BestFriend = bob bob.Friends = []*Person{alice, charlie} bob.BestFriend = alice // Mutual best friends charlie.Friends = []*Person{alice, bob} // Serialize data, err := f.Serialize(alice) if err != nil { panic(err) } fmt.Printf(&quot;Serialized %d bytes\\n&quot;, len(data)) // Deserialize var result Person if err := f.Deserialize(data, &amp;result); err != nil { panic(err) } // Verify circular references preserved fmt.Printf(&quot;Alice's best friend: %s\\n&quot;, result.BestFriend.Name) fmt.Printf(&quot;Bob's best friend: %s\\n&quot;, result.BestFriend.BestFriend.Name) // Output: Alice (circular reference preserved) }   ","version":"dev","tagName":"h2"},{"title":"Áõ∏ÂÖ≥‰∏ªÈ¢ò‚Äã","type":1,"pageTitle":"ÂºïÁî®Â§ÑÁêÜ","url":"/zh-CN/docs/next/guide/go/references#Áõ∏ÂÖ≥‰∏ªÈ¢ò","content":" ConfigurationStruct TagsCross-Language Serialization ","version":"dev","tagName":"h2"},{"title":"Schema ÊºîËøõ","type":0,"sectionRef":"#","url":"/zh-CN/docs/next/guide/go/schema_evolution","content":"","keywords":"","version":"dev"},{"title":"ÂêØÁî®ÂÖºÂÆπÊ®°Âºè‚Äã","type":1,"pageTitle":"Schema ÊºîËøõ","url":"/zh-CN/docs/next/guide/go/schema_evolution#ÂêØÁî®ÂÖºÂÆπÊ®°Âºè","content":" Enable compatible mode when creating a Fory instance:  f := fory.New(fory.WithCompatible(true))   ","version":"dev","tagName":"h2"},{"title":"Â∑•‰ΩúÊú∫Âà∂‚Äã","type":1,"pageTitle":"Schema ÊºîËøõ","url":"/zh-CN/docs/next/guide/go/schema_evolution#Â∑•‰ΩúÊú∫Âà∂","content":" ","version":"dev","tagName":"h2"},{"title":"Without Compatible Mode (Default)‚Äã","type":1,"pageTitle":"Schema ÊºîËøõ","url":"/zh-CN/docs/next/guide/go/schema_evolution#without-compatible-mode-default","content":" Compact serialization without metadataStruct hash is checked during deserializationAny schema change causes ErrKindHashMismatch  ","version":"dev","tagName":"h3"},{"title":"With Compatible Mode‚Äã","type":1,"pageTitle":"Schema ÊºîËøõ","url":"/zh-CN/docs/next/guide/go/schema_evolution#with-compatible-mode","content":" Type metadata is written to serialized dataSupports adding, removing, and reordering fieldsEnables forward and backward compatibility  ","version":"dev","tagName":"h3"},{"title":"ÊîØÊåÅÁöÑ Schema ÂèòÊõ¥‚Äã","type":1,"pageTitle":"Schema ÊºîËøõ","url":"/zh-CN/docs/next/guide/go/schema_evolution#ÊîØÊåÅÁöÑ-schema-ÂèòÊõ¥","content":" ","version":"dev","tagName":"h2"},{"title":"Êñ∞Â¢ûÂ≠óÊÆµ‚Äã","type":1,"pageTitle":"Schema ÊºîËøõ","url":"/zh-CN/docs/next/guide/go/schema_evolution#Êñ∞Â¢ûÂ≠óÊÆµ","content":" New fields can be added; they receive zero values when deserializing old data:  // Version 1 type UserV1 struct { ID int64 Name string } // Version 2 (added Email) type UserV2 struct { ID int64 Name string Email string // New field } f := fory.New(fory.WithCompatible(true)) f.RegisterStruct(UserV1{}, 1) // Serialize with V1 userV1 := &amp;UserV1{ID: 1, Name: &quot;Alice&quot;} data, _ := f.Serialize(userV1) // Deserialize with V2 f2 := fory.New(fory.WithCompatible(true)) f2.RegisterStruct(UserV2{}, 1) var userV2 UserV2 f2.Deserialize(data, &amp;userV2) // userV2.Email = &quot;&quot; (zero value)   ","version":"dev","tagName":"h3"},{"title":"Âà†Èô§Â≠óÊÆµ‚Äã","type":1,"pageTitle":"Schema ÊºîËøõ","url":"/zh-CN/docs/next/guide/go/schema_evolution#Âà†Èô§Â≠óÊÆµ","content":" Removed fields are skipped during deserialization:  // Version 1 type ConfigV1 struct { Host string Port int32 Timeout int64 Debug bool // Will be removed } // Version 2 (removed Debug) type ConfigV2 struct { Host string Port int32 Timeout int64 // Debug field removed } f := fory.New(fory.WithCompatible(true)) f.RegisterStruct(ConfigV1{}, 1) // Serialize with V1 config := &amp;ConfigV1{Host: &quot;localhost&quot;, Port: 8080, Timeout: 30, Debug: true} data, _ := f.Serialize(config) // Deserialize with V2 f2 := fory.New(fory.WithCompatible(true)) f2.RegisterStruct(ConfigV2{}, 1) var configV2 ConfigV2 f2.Deserialize(data, &amp;configV2) // Debug field data is skipped   ","version":"dev","tagName":"h3"},{"title":"Â≠óÊÆµÈáçÊéí‚Äã","type":1,"pageTitle":"Schema ÊºîËøõ","url":"/zh-CN/docs/next/guide/go/schema_evolution#Â≠óÊÆµÈáçÊéí","content":" Field order can change between versions:  // Version 1 type PersonV1 struct { FirstName string LastName string Age int32 } // Version 2 (reordered) type PersonV2 struct { Age int32 // Moved up LastName string FirstName string // Moved down }   Compatible mode handles this automatically by matching fields by name.  ","version":"dev","tagName":"h3"},{"title":"Incompatible Changes‚Äã","type":1,"pageTitle":"Schema ÊºîËøõ","url":"/zh-CN/docs/next/guide/go/schema_evolution#incompatible-changes","content":" Some changes are NOT supported, even in compatible mode:  ","version":"dev","tagName":"h2"},{"title":"Type Changes‚Äã","type":1,"pageTitle":"Schema ÊºîËøõ","url":"/zh-CN/docs/next/guide/go/schema_evolution#type-changes","content":" // NOT SUPPORTED type V1 struct { Value int32 // int32 } type V2 struct { Value string // Changed to string - INCOMPATIBLE }   ","version":"dev","tagName":"h3"},{"title":"Renaming Fields‚Äã","type":1,"pageTitle":"Schema ÊºîËøõ","url":"/zh-CN/docs/next/guide/go/schema_evolution#renaming-fields","content":" // NOT SUPPORTED (treated as remove + add) type V1 struct { UserName string } type V2 struct { Username string // Different name - NOT a rename }   This is treated as removing UserName and adding Username, resulting in data loss.  ","version":"dev","tagName":"h3"},{"title":"ÊúÄ‰Ω≥ÂÆûË∑µ‚Äã","type":1,"pageTitle":"Schema ÊºîËøõ","url":"/zh-CN/docs/next/guide/go/schema_evolution#ÊúÄ‰Ω≥ÂÆûË∑µ","content":" ","version":"dev","tagName":"h2"},{"title":"1. Use Compatible Mode for Persistent Data‚Äã","type":1,"pageTitle":"Schema ÊºîËøõ","url":"/zh-CN/docs/next/guide/go/schema_evolution#1-use-compatible-mode-for-persistent-data","content":" // For data stored in databases, files, or caches f := fory.New(fory.WithCompatible(true))   ","version":"dev","tagName":"h3"},{"title":"2. Provide Default Values‚Äã","type":1,"pageTitle":"Schema ÊºîËøõ","url":"/zh-CN/docs/next/guide/go/schema_evolution#2-provide-default-values","content":" type ConfigV2 struct { Host string Port int32 Timeout int64 Retries int32 // New field } func NewConfigV2() *ConfigV2 { return &amp;ConfigV2{ Retries: 3, // Default value } } // After deserialize, apply defaults if config.Retries == 0 { config.Retries = 3 }   ","version":"dev","tagName":"h3"},{"title":"Cross-Language Schema Evolution‚Äã","type":1,"pageTitle":"Schema ÊºîËøõ","url":"/zh-CN/docs/next/guide/go/schema_evolution#cross-language-schema-evolution","content":" Schema evolution works across languages:  ","version":"dev","tagName":"h2"},{"title":"Go (Producer)‚Äã","type":1,"pageTitle":"Schema ÊºîËøõ","url":"/zh-CN/docs/next/guide/go/schema_evolution#go-producer","content":" type MessageV1 struct { ID int64 Content string } f := fory.New(fory.WithCompatible(true)) f.RegisterStruct(MessageV1{}, 1) data, _ := f.Serialize(&amp;MessageV1{ID: 1, Content: &quot;Hello&quot;})   ","version":"dev","tagName":"h3"},{"title":"Java (Consumer with newer schema)‚Äã","type":1,"pageTitle":"Schema ÊºîËøõ","url":"/zh-CN/docs/next/guide/go/schema_evolution#java-consumer-with-newer-schema","content":" public class Message { long id; String content; String author; // New field in Java } Fory fory = Fory.builder() .withXlang(true) .withCompatibleMode(true) .build(); fory.register(Message.class, 1); Message msg = fory.deserialize(data, Message.class); // msg.author will be null   ","version":"dev","tagName":"h3"},{"title":"Performance Considerations‚Äã","type":1,"pageTitle":"Schema ÊºîËøõ","url":"/zh-CN/docs/next/guide/go/schema_evolution#performance-considerations","content":" Compatible mode mainly affects serialized size:  Aspect\tSchema Consistent\tCompatible ModeSerialized Size\tSmaller\tLarger (includes metadata, especially without field IDs) Speed\tFast\tSimilar (metadata is just memcpy) Schema Flexibility\tNone\tFull  Note: Using field IDs (fory:&quot;id=N&quot;) reduces metadata size in compatible mode.  Recommendation: Use compatible mode for:  Persistent storageCross-service communicationLong-lived caches  Use schema consistent mode for:  In-memory operationsSame-version communicationMinimum serialized size  ","version":"dev","tagName":"h2"},{"title":"Error Handling‚Äã","type":1,"pageTitle":"Schema ÊºîËøõ","url":"/zh-CN/docs/next/guide/go/schema_evolution#error-handling","content":" ","version":"dev","tagName":"h2"},{"title":"Hash Mismatch (Schema Consistent Mode)‚Äã","type":1,"pageTitle":"Schema ÊºîËøõ","url":"/zh-CN/docs/next/guide/go/schema_evolution#hash-mismatch-schema-consistent-mode","content":" f := fory.New() // Compatible mode disabled // Schema changed without compatible mode err := f.Deserialize(oldData, &amp;newStruct) // Error: ErrKindHashMismatch   ","version":"dev","tagName":"h3"},{"title":"Unknown Fields‚Äã","type":1,"pageTitle":"Schema ÊºîËøõ","url":"/zh-CN/docs/next/guide/go/schema_evolution#unknown-fields","content":" In compatible mode, unknown fields are skipped silently. To detect them:  // Currently, Fory skips unknown fields automatically // No explicit API for detecting unknown fields   ","version":"dev","tagName":"h3"},{"title":"Complete Example‚Äã","type":1,"pageTitle":"Schema ÊºîËøõ","url":"/zh-CN/docs/next/guide/go/schema_evolution#complete-example","content":" package main import ( &quot;fmt&quot; &quot;github.com/apache/fory/go/fory&quot; ) // V1: Initial schema type ProductV1 struct { ID int64 Name string Price float64 } // V2: Added fields type ProductV2 struct { ID int64 Name string Price float64 Description string // New InStock bool // New } func main() { // Serialize with V1 f1 := fory.New(fory.WithCompatible(true)) f1.RegisterStruct(ProductV1{}, 1) product := &amp;ProductV1{ID: 1, Name: &quot;Widget&quot;, Price: 9.99} data, _ := f1.Serialize(product) fmt.Printf(&quot;V1 serialized: %d bytes\\n&quot;, len(data)) // Deserialize with V2 f2 := fory.New(fory.WithCompatible(true)) f2.RegisterStruct(ProductV2{}, 1) var productV2 ProductV2 if err := f2.Deserialize(data, &amp;productV2); err != nil { panic(err) } fmt.Printf(&quot;ID: %d\\n&quot;, productV2.ID) fmt.Printf(&quot;Name: %s\\n&quot;, productV2.Name) fmt.Printf(&quot;Price: %.2f\\n&quot;, productV2.Price) fmt.Printf(&quot;Description: %q (zero value)\\n&quot;, productV2.Description) fmt.Printf(&quot;InStock: %v (zero value)\\n&quot;, productV2.InStock) }   ","version":"dev","tagName":"h2"},{"title":"Áõ∏ÂÖ≥‰∏ªÈ¢ò‚Äã","type":1,"pageTitle":"Schema ÊºîËøõ","url":"/zh-CN/docs/next/guide/go/schema_evolution#Áõ∏ÂÖ≥‰∏ªÈ¢ò","content":" ConfigurationCross-Language SerializationTroubleshooting ","version":"dev","tagName":"h2"},{"title":"Struct Ê†áÁ≠æ","type":0,"sectionRef":"#","url":"/zh-CN/docs/next/guide/go/struct_tags","content":"","keywords":"","version":"dev"},{"title":"Ê†áÁ≠æËØ≠Ê≥ï‚Äã","type":1,"pageTitle":"Struct Ê†áÁ≠æ","url":"/zh-CN/docs/next/guide/go/struct_tags#Ê†áÁ≠æËØ≠Ê≥ï","content":" Fory struct tag ÁöÑÈÄöÁî®Ê†ºÂºèÂ¶Ç‰∏ãÔºö  type MyStruct struct { Field Type `fory:&quot;option1,option2=value&quot;` }   Â§ö‰∏™ÈÄâÈ°π‰ΩøÁî®ÈÄóÂè∑Ôºà,ÔºâÂàÜÈöî„ÄÇ  ","version":"dev","tagName":"h2"},{"title":"ÂèØÁî®Ê†áÁ≠æ‚Äã","type":1,"pageTitle":"Struct Ê†áÁ≠æ","url":"/zh-CN/docs/next/guide/go/struct_tags#ÂèØÁî®Ê†áÁ≠æ","content":" ","version":"dev","tagName":"h2"},{"title":"Â≠óÊÆµ ID‚Äã","type":1,"pageTitle":"Struct Ê†áÁ≠æ","url":"/zh-CN/docs/next/guide/go/struct_tags#Â≠óÊÆµ-id","content":" ‰ΩøÁî® id=N ‰∏∫Â≠óÊÆµÂàÜÈÖçÊï∞ÂÄº IDÔºå‰ª•Ëé∑ÂæóÊõ¥Á¥ßÂáëÁºñÁ†ÅÔºö  type User struct { ID int64 `fory:&quot;id=0&quot;` Name string `fory:&quot;id=1&quot;` Age int32 `fory:&quot;id=2&quot;` }   Êî∂ÁõäÔºö  Â∫èÂàóÂåñ‰ΩìÁßØÊõ¥Â∞èÔºàÊï∞ÂÄº ID Êõø‰ª£Â≠óÊÆµÂêçÔºâÂ∫èÂàóÂåñ/ÂèçÂ∫èÂàóÂåñÊõ¥Âø´Ë∑®ËØ≠Ë®ÄÂÖºÂÆπÂú∫ÊôØ‰∏ãÊõ¥Êé®Ëçê  Ê≥®ÊÑèÔºö  Âêå‰∏Ä struct ÂÜÖ ID ÂøÖÈ°ªÂîØ‰∏ÄID ÂøÖÈ°ª &gt;= 0Êú™ÊåáÂÆöÊó∂‰ΩøÁî®Â≠óÊÆµÂêçÔºàpayload Êõ¥Â§ßÔºâ  ","version":"dev","tagName":"h3"},{"title":"ÂøΩÁï•Â≠óÊÆµ‚Äã","type":1,"pageTitle":"Struct Ê†áÁ≠æ","url":"/zh-CN/docs/next/guide/go/struct_tags#ÂøΩÁï•Â≠óÊÆµ","content":" ‰ΩøÁî® - Â∞ÜÂ≠óÊÆµÊéíÈô§Âú®Â∫èÂàóÂåñ‰πãÂ§ñÔºö  type User struct { ID int64 Name string Password string `fory:&quot;-&quot;` // Not serialized }   Password ‰∏ç‰ºöËøõÂÖ•Â∫èÂàóÂåñÁªìÊûúÔºåÂèçÂ∫èÂàóÂåñÂêéÂ∞Ü‰øùÊåÅËØ•Á±ªÂûãÈõ∂ÂÄº„ÄÇ  ","version":"dev","tagName":"h3"},{"title":"ÂèØÁ©∫ÊéßÂà∂‚Äã","type":1,"pageTitle":"Struct Ê†áÁ≠æ","url":"/zh-CN/docs/next/guide/go/struct_tags#ÂèØÁ©∫ÊéßÂà∂","content":" ‰ΩøÁî® nullable ÊéßÂà∂ÊòØÂê¶‰∏∫ÊåáÈíàÂ≠óÊÆµÂÜôÂÖ• null Ê†áËÆ∞Ôºö  type Record struct { // Write null flag for this field (allows nil values) OptionalData *Data `fory:&quot;nullable&quot;` // Skip null flag (field must not be nil) RequiredData *Data `fory:&quot;nullable=false&quot;` }   Ê≥®ÊÑèÔºö  ‰ªÖÈÄÇÁî®‰∫éÊåáÈíà„ÄÅslice„ÄÅmap Â≠óÊÆµnullable=false Êó∂ÔºåÂ∫èÂàóÂåñ nil ‰ºöÊä•ÈîôÈªòËÆ§ÊòØ falseÔºà‰∏çÂÜô null Ê†áËÆ∞Ôºâ  ","version":"dev","tagName":"h3"},{"title":"ÂºïÁî®Ë∑üË∏™‚Äã","type":1,"pageTitle":"Struct Ê†áÁ≠æ","url":"/zh-CN/docs/next/guide/go/struct_tags#ÂºïÁî®Ë∑üË∏™","content":" ÂèØ‰∏∫ slice„ÄÅmap„ÄÅÊàñ‚ÄúÊåáÂêë struct ÁöÑÊåáÈíàÂ≠óÊÆµ‚ÄùËÆæÁΩÆÂ≠óÊÆµÁ∫ßÂºïÁî®Ë∑üË∏™Ôºö  type Container struct { // Enable reference tracking for this field SharedData *Data `fory:&quot;ref&quot;` // Disable reference tracking for this field SimpleData *Data `fory:&quot;ref=false&quot;` }   Ê≥®ÊÑèÔºö  ÈÄÇÁî®‰∫é slice„ÄÅmap ‰∏é‚ÄúÊåáÂêë struct ÁöÑÊåáÈíàÂ≠óÊÆµ‚ÄùÊåáÂêëÂéüÁîüÁ±ªÂûãÁöÑÊåáÈíàÔºàÂ¶Ç *int„ÄÅ*stringÔºâ‰∏çËÉΩ‰ΩøÁî®ËØ•Ê†áÁ≠æÈªòËÆ§ ref=falseÔºà‰∏çÂºÄÂêØÂºïÁî®Ë∑üË∏™ÔºâÂÖ®Â±Ä WithTrackRef(false) Êó∂ÔºåÂ≠óÊÆµÁ∫ß ref Ê†áÁ≠æ‰ºöË¢´ÂøΩÁï•ÂÖ®Â±Ä WithTrackRef(true) Êó∂ÔºåÂèØÁî® ref=false ÂØπÂçïÂ≠óÊÆµÁ¶ÅÁî®  ÈÄÇÁî®Âú∫ÊôØÔºö  ÂèØËÉΩÂá∫Áé∞ÂÖ±‰∫´ÊàñÂæ™ÁéØÂºïÁî®ÁöÑÂ≠óÊÆµÂèØÊòéÁ°ÆÂîØ‰∏ÄÁöÑÂ≠óÊÆµÂèØÁ¶ÅÁî®ÔºàÊÄßËÉΩ‰ºòÂåñÔºâ  ","version":"dev","tagName":"h3"},{"title":"ÁºñÁ†ÅÊéßÂà∂‚Äã","type":1,"pageTitle":"Struct Ê†áÁ≠æ","url":"/zh-CN/docs/next/guide/go/struct_tags#ÁºñÁ†ÅÊéßÂà∂","content":" ‰ΩøÁî® encoding ÊéßÂà∂Êï∞ÂÄºÂ≠óÊÆµÁºñÁ†ÅÊñπÂºèÔºö  type Metrics struct { // Variable-length encoding (default, smaller for small values) Count int64 `fory:&quot;encoding=varint&quot;` // Fixed-length encoding (consistent size) Timestamp int64 `fory:&quot;encoding=fixed&quot;` // Tagged encoding (includes type tag) Value int64 `fory:&quot;encoding=tagged&quot;` }   ÊîØÊåÅÁºñÁ†ÅÔºö  Á±ªÂûã\tÂèØÈÄâÂÄº\tÈªòËÆ§ÂÄºint32\tvarint„ÄÅfixed\tvarint uint32\tvarint„ÄÅfixed\tvarint int64\tvarint„ÄÅfixed„ÄÅtagged\tvarint uint64\tvarint„ÄÅfixed„ÄÅtagged\tvarint  ‰ΩïÊó∂‰ΩøÁî®Ôºö  varintÔºöÈÄÇÂêàÂ∞èÂÄºÂ±ÖÂ§öÔºàÈªòËÆ§ÔºâfixedÔºöÈÄÇÂêàÊé•ËøëÂÖ®ÂÄºÂüüÂàÜÂ∏ÉÔºàÂ¶ÇÊó∂Èó¥Êà≥„ÄÅÂìàÂ∏åÔºâtaggedÔºöÈÄÇÂêàÈúÄ‰øùÁïôÁ±ªÂûã‰ø°ÊÅØÁöÑÂú∫ÊôØ  int32/uint32 ÁÆÄÂÜôÔºö  ÂØπ int32/uint32 Â≠óÊÆµÂèØ‰ΩøÁî® compress ‰Ωú‰∏∫‰æøÊç∑Ê†áÁ≠æÔºö  type Data struct { SmallValue int32 `fory:&quot;compress&quot;` // Same as encoding=varint (default) FixedValue uint32 `fory:&quot;compress=false&quot;` // Same as encoding=fixed }   ","version":"dev","tagName":"h3"},{"title":"ÁªÑÂêàÊ†áÁ≠æ‚Äã","type":1,"pageTitle":"Struct Ê†áÁ≠æ","url":"/zh-CN/docs/next/guide/go/struct_tags#ÁªÑÂêàÊ†áÁ≠æ","content":" Â§ö‰∏™Ê†áÁ≠æÂèØ‰ΩøÁî®ÈÄóÂè∑ÁªÑÂêàÔºö  type Document struct { ID int64 `fory:&quot;id=0,encoding=fixed&quot;` Content string `fory:&quot;id=1&quot;` Author *User `fory:&quot;id=2,ref&quot;` }   ","version":"dev","tagName":"h2"},{"title":"‰∏éÂÖ∂‰ªñÊ†áÁ≠æÂÖ±Â≠ò‚Äã","type":1,"pageTitle":"Struct Ê†áÁ≠æ","url":"/zh-CN/docs/next/guide/go/struct_tags#‰∏éÂÖ∂‰ªñÊ†áÁ≠æÂÖ±Â≠ò","content":" Fory Ê†áÁ≠æÂèØ‰∏éÂÖ∂‰ªñ struct tag Âπ∂Â≠òÔºö  type User struct { ID int64 `json:&quot;id&quot; fory:&quot;id=0&quot;` Name string `json:&quot;name,omitempty&quot; fory:&quot;id=1&quot;` Password string `json:&quot;-&quot; fory:&quot;-&quot;` }   ÂêÑÊ†áÁ≠æÂëΩÂêçÁ©∫Èó¥‰∫í‰∏çÂΩ±Âìç„ÄÇ  ","version":"dev","tagName":"h2"},{"title":"Â≠óÊÆµÂèØËßÅÊÄß‚Äã","type":1,"pageTitle":"Struct Ê†áÁ≠æ","url":"/zh-CN/docs/next/guide/go/struct_tags#Â≠óÊÆµÂèØËßÅÊÄß","content":" ‰ªÖÂ§ÑÁêÜÂØºÂá∫Â≠óÊÆµÔºàÈ¶ñÂ≠óÊØçÂ§ßÂÜôÔºâÔºö  type User struct { ID int64 // Serialized Name string // Serialized password string // NOT serialized (unexported, no tag needed) }   Êú™ÂØºÂá∫Â≠óÊÆµÂßãÁªàÂøΩÁï•Ôºå‰∏éÊòØÂê¶ÈÖçÁΩÆ tag Êó†ÂÖ≥„ÄÇ  ","version":"dev","tagName":"h2"},{"title":"Â≠óÊÆµÈ°∫Â∫è‚Äã","type":1,"pageTitle":"Struct Ê†áÁ≠æ","url":"/zh-CN/docs/next/guide/go/struct_tags#Â≠óÊÆµÈ°∫Â∫è","content":" Â≠óÊÆµ‰ºöÊåâÁ®≥ÂÆöÈ°∫Â∫èÂ∫èÂàóÂåñÔºå‰æùÊçÆÔºö  Â≠óÊÆµÂêçÔºàsnake_case Â≠óÂÖ∏Â∫èÔºâÂ≠óÊÆµÁ±ªÂûã  ËøôÂèØ‰øùËØÅË∑®ËØ≠Ë®ÄÂú∫ÊôØ‰∏ãÁöÑÂ≠óÊÆµÈ°∫Â∫è‰∏ÄËá¥ÊÄß„ÄÇ  ","version":"dev","tagName":"h2"},{"title":"Struct ÂìàÂ∏å‚Äã","type":1,"pageTitle":"Struct Ê†áÁ≠æ","url":"/zh-CN/docs/next/guide/go/struct_tags#struct-ÂìàÂ∏å","content":" Fory ‰ºöÂü∫‰∫é struct Â≠óÊÆµËÆ°ÁÆóÂìàÂ∏åÁî®‰∫éÁâàÊú¨Ê†°È™åÔºö  ÂìàÂ∏åÂåÖÂê´Â≠óÊÆµÂêç‰∏éÂ≠óÊÆµÁ±ªÂûãÂìàÂ∏å‰ºöÂÜôÂÖ•Â∫èÂàóÂåñÊï∞ÊçÆ‰∏çÂåπÈÖç‰ºöËß¶Âèë ErrKindHashMismatch  ÁªìÊûÑÂ≠óÊÆµÂèòÊõ¥‰ºöÂΩ±ÂìçÂìàÂ∏åÔºö  // These produce different hashes type V1 struct { UserID int64 } type V2 struct { UserId int64 // Different field name = different hash }   ","version":"dev","tagName":"h2"},{"title":"Á§∫‰æã‚Äã","type":1,"pageTitle":"Struct Ê†áÁ≠æ","url":"/zh-CN/docs/next/guide/go/struct_tags#Á§∫‰æã","content":" ","version":"dev","tagName":"h2"},{"title":"API ÂìçÂ∫îÁªìÊûÑ‚Äã","type":1,"pageTitle":"Struct Ê†áÁ≠æ","url":"/zh-CN/docs/next/guide/go/struct_tags#api-ÂìçÂ∫îÁªìÊûÑ","content":" type APIResponse struct { Status int32 `json:&quot;status&quot; fory:&quot;id=0&quot;` Message string `json:&quot;message&quot; fory:&quot;id=1&quot;` Data any `json:&quot;data&quot; fory:&quot;id=2&quot;` Internal string `json:&quot;-&quot; fory:&quot;-&quot;` // Ignored in both JSON and Fory }   ","version":"dev","tagName":"h3"},{"title":"Â∏¶ÂÖ±‰∫´ÂºïÁî®ÁöÑÁºìÂ≠òÁªìÊûÑ‚Äã","type":1,"pageTitle":"Struct Ê†áÁ≠æ","url":"/zh-CN/docs/next/guide/go/struct_tags#Â∏¶ÂÖ±‰∫´ÂºïÁî®ÁöÑÁºìÂ≠òÁªìÊûÑ","content":" type CacheEntry struct { Key string Value *CachedData `fory:&quot;ref&quot;` // May be shared Metadata *Metadata `fory:&quot;ref=false&quot;` // Always unique ExpiresAt int64 }   ","version":"dev","tagName":"h3"},{"title":"Â∏¶Âæ™ÁéØÂºïÁî®ÁöÑÊñáÊ°£ÁªìÊûÑ‚Äã","type":1,"pageTitle":"Struct Ê†áÁ≠æ","url":"/zh-CN/docs/next/guide/go/struct_tags#Â∏¶Âæ™ÁéØÂºïÁî®ÁöÑÊñáÊ°£ÁªìÊûÑ","content":" type Document struct { ID int64 Title string Parent *Document `fory:&quot;ref&quot;` // May reference self or siblings Children []*Document `fory:&quot;ref&quot;` }   ","version":"dev","tagName":"h3"},{"title":"Ê†áÁ≠æËß£ÊûêÈîôËØØ‚Äã","type":1,"pageTitle":"Struct Ê†áÁ≠æ","url":"/zh-CN/docs/next/guide/go/struct_tags#Ê†áÁ≠æËß£ÊûêÈîôËØØ","content":" Ê≥®ÂÜåÈò∂ÊÆµËã•Ê†áÁ≠æÈùûÊ≥ï‰ºöÊä•ÈîôÔºö  type BadStruct struct { Field int `fory:&quot;invalid=option=format&quot;` } f := fory.New() err := f.RegisterStruct(BadStruct{}, 1) // Error: ErrKindInvalidTag   ","version":"dev","tagName":"h2"},{"title":"ÊúÄ‰Ω≥ÂÆûË∑µ‚Äã","type":1,"pageTitle":"Struct Ê†áÁ≠æ","url":"/zh-CN/docs/next/guide/go/struct_tags#ÊúÄ‰Ω≥ÂÆûË∑µ","content":" ÊïèÊÑüÂ≠óÊÆµ‰ΩøÁî® -ÔºöÂ¶ÇÂØÜÁ†Å„ÄÅ‰ª§Áâå„ÄÅÂÜÖÈÉ®Áä∂ÊÄÅÂÖ±‰∫´ÂØπË±°ÂêØÁî® refÔºöÂêå‰∏ÄÊåáÈíàÂèØËÉΩÂ§öÊ¨°Âá∫Áé∞Êó∂ÂºÄÂêØÁÆÄÂçïÂîØ‰∏ÄÂ≠óÊÆµÁ¶ÅÁî® refÔºöÂèØÂÅöÊÄßËÉΩ‰ºòÂåñ‰øùÊåÅÂëΩÂêç‰∏ÄËá¥ÔºöË∑®ËØ≠Ë®ÄÂ≠óÊÆµÂêçÂ∫î‰øùÊåÅÁ®≥ÂÆöËÆ∞ÂΩïÊ†áÁ≠æÊÑèÂõæÔºöÈùûÊòæÂºèÈÖçÁΩÆÂª∫ËÆÆË°•ÂÖÖÊ≥®ÈáäËØ¥Êòé  ","version":"dev","tagName":"h2"},{"title":"Â∏∏ËßÅÊ®°Âºè‚Äã","type":1,"pageTitle":"Struct Ê†áÁ≠æ","url":"/zh-CN/docs/next/guide/go/struct_tags#Â∏∏ËßÅÊ®°Âºè","content":" ","version":"dev","tagName":"h2"},{"title":"ÂøΩÁï•ËÆ°ÁÆóÂ≠óÊÆµ‚Äã","type":1,"pageTitle":"Struct Ê†áÁ≠æ","url":"/zh-CN/docs/next/guide/go/struct_tags#ÂøΩÁï•ËÆ°ÁÆóÂ≠óÊÆµ","content":" type Rectangle struct { Width float64 Height float64 Area float64 `fory:&quot;-&quot;` // Computed, don't serialize } func (r *Rectangle) ComputeArea() { r.Area = r.Width * r.Height }   ","version":"dev","tagName":"h3"},{"title":"Â∏¶Áà∂ÊåáÈíàÁöÑÂæ™ÁéØÁªìÊûÑ‚Äã","type":1,"pageTitle":"Struct Ê†áÁ≠æ","url":"/zh-CN/docs/next/guide/go/struct_tags#Â∏¶Áà∂ÊåáÈíàÁöÑÂæ™ÁéØÁªìÊûÑ","content":" type TreeNode struct { Value string Parent *TreeNode `fory:&quot;ref&quot;` // Circular back-reference Children []*TreeNode `fory:&quot;ref&quot;` }   ","version":"dev","tagName":"h3"},{"title":"Ê∑∑ÂêàÂ∫èÂàóÂåñÈúÄÊ±Ç‚Äã","type":1,"pageTitle":"Struct Ê†áÁ≠æ","url":"/zh-CN/docs/next/guide/go/struct_tags#Ê∑∑ÂêàÂ∫èÂàóÂåñÈúÄÊ±Ç","content":" type Session struct { ID string UserID int64 Token string `fory:&quot;-&quot;` // Security: don't serialize User *User `fory:&quot;ref&quot;` // May be shared across sessions CreatedAt int64 }   ","version":"dev","tagName":"h3"},{"title":"Áõ∏ÂÖ≥‰∏ªÈ¢ò‚Äã","type":1,"pageTitle":"Struct Ê†áÁ≠æ","url":"/zh-CN/docs/next/guide/go/struct_tags#Áõ∏ÂÖ≥‰∏ªÈ¢ò","content":" ÂºïÁî®Âü∫Á°ÄÂ∫èÂàóÂåñSchema ÊºîËøõ ","version":"dev","tagName":"h2"},{"title":"Á±ªÂûãÊ≥®ÂÜå","type":0,"sectionRef":"#","url":"/zh-CN/docs/next/guide/go/type_registration","content":"","keywords":"","version":"dev"},{"title":"‰∏∫‰ªÄ‰πàË¶ÅÊ≥®ÂÜåÁ±ªÂûãÔºü‚Äã","type":1,"pageTitle":"Á±ªÂûãÊ≥®ÂÜå","url":"/zh-CN/docs/next/guide/go/type_registration#‰∏∫‰ªÄ‰πàË¶ÅÊ≥®ÂÜåÁ±ªÂûã","content":" Á±ªÂûãËØÜÂà´ÔºöÂèçÂ∫èÂàóÂåñÊó∂ÔºåFory ÈúÄË¶ÅÁü•ÈÅìÂÆûÈôÖÁ±ªÂûãÂ§öÊÄÅÊîØÊåÅÔºöÂèçÂ∫èÂàóÂåñÊé•Âè£Á±ªÂûãÊó∂ÔºåFory ÈúÄË¶ÅÁü•ÈÅìË¶ÅÂàõÂª∫Âì™‰∏™ÂÖ∑‰ΩìÁ±ªÂûãË∑®ËØ≠Ë®ÄÂÖºÂÆπÔºöÂÖ∂‰ªñËØ≠Ë®ÄÂÆûÁé∞ÈúÄË¶ÅËØÜÂà´Âπ∂ÂèçÂ∫èÂàóÂåñ‰Ω†ÁöÑÁ±ªÂûã  ","version":"dev","tagName":"h2"},{"title":"ÁªìÊûÑ‰ΩìÊ≥®ÂÜå‚Äã","type":1,"pageTitle":"Á±ªÂûãÊ≥®ÂÜå","url":"/zh-CN/docs/next/guide/go/type_registration#ÁªìÊûÑ‰ΩìÊ≥®ÂÜå","content":" ","version":"dev","tagName":"h2"},{"title":"ÈÄöËøá ID Ê≥®ÂÜå‚Äã","type":1,"pageTitle":"Á±ªÂûãÊ≥®ÂÜå","url":"/zh-CN/docs/next/guide/go/type_registration#ÈÄöËøá-id-Ê≥®ÂÜå","content":" ‰ΩøÁî®Êï∞ÂÄºÁ±ªÂûã ID Ê≥®ÂÜåÁªìÊûÑ‰ΩìÔºåÂèØËé∑ÂæóÊõ¥Á¥ßÂáëÁöÑÂ∫èÂàóÂåñÁªìÊûúÔºö  type User struct { ID int64 Name string } f := fory.New() err := f.RegisterStruct(User{}, 1) if err != nil { panic(err) }   ID ‰ΩøÁî®Âª∫ËÆÆÔºö  ID Âú®Â∫îÁî®ÂÜÖÂøÖÈ°ªÂîØ‰∏ÄËã•Áî®‰∫éË∑®ËØ≠Ë®ÄÔºåÊâÄÊúâËØ≠Ë®Ä‰∏≠ÁöÑ ID ÂøÖÈ°ª‰∏ÄËá¥Â∫èÂàóÂåñÁ´ØÂíåÂèçÂ∫èÂàóÂåñÁ´ØÂøÖÈ°ª‰∏∫Âêå‰∏ÄÁ±ªÂûã‰ΩøÁî®Âêå‰∏Ä ID  ","version":"dev","tagName":"h3"},{"title":"ÈÄöËøáÂêçÁß∞Ê≥®ÂÜå‚Äã","type":1,"pageTitle":"Á±ªÂûãÊ≥®ÂÜå","url":"/zh-CN/docs/next/guide/go/type_registration#ÈÄöËøáÂêçÁß∞Ê≥®ÂÜå","content":" ‰ΩøÁî®Á±ªÂûãÂêçÂ≠óÁ¨¶‰∏≤Ê≥®ÂÜåÁªìÊûÑ‰Ωì„ÄÇËØ•ÊñπÂºèÊõ¥ÁÅµÊ¥ªÔºå‰ΩÜÂ∫èÂàóÂåñÂºÄÈîÄÊõ¥È´òÔºö  f := fory.New() err := f.RegisterNamedStruct(User{}, &quot;example.User&quot;) if err != nil { panic(err) }   ÂêçÁß∞‰ΩøÁî®Âª∫ËÆÆÔºö  ‰ΩøÁî® namespace.TypeName Á∫¶ÂÆöÁöÑÂÖ®ÈôêÂÆöÂêçÂêçÁß∞Âú®ÊâÄÊúâËØ≠Ë®Ä‰∏≠ÂøÖÈ°ªÂîØ‰∏Ä‰∏î‰∏ÄËá¥ÂêçÁß∞Âå∫ÂàÜÂ§ßÂ∞èÂÜô  ","version":"dev","tagName":"h3"},{"title":"Êûö‰∏æÊ≥®ÂÜå‚Äã","type":1,"pageTitle":"Á±ªÂûãÊ≥®ÂÜå","url":"/zh-CN/docs/next/guide/go/type_registration#Êûö‰∏æÊ≥®ÂÜå","content":" Go Ê≤°ÊúâÂéüÁîüÊûö‰∏æÁ±ªÂûãÔºå‰ΩÜÂèØ‰ª•ÊääÊï¥Êï∞Á±ªÂûãÊåâÊûö‰∏æÊ≥®ÂÜå„ÄÇ  ","version":"dev","tagName":"h2"},{"title":"ÈÄöËøá ID Ê≥®ÂÜå‚Äã","type":1,"pageTitle":"Á±ªÂûãÊ≥®ÂÜå","url":"/zh-CN/docs/next/guide/go/type_registration#ÈÄöËøá-id-Ê≥®ÂÜå-1","content":" type Status int32 const ( StatusPending Status = 0 StatusActive Status = 1 StatusComplete Status = 2 ) f := fory.New() err := f.RegisterEnum(Status(0), 1)   ","version":"dev","tagName":"h3"},{"title":"ÈÄöËøáÂêçÁß∞Ê≥®ÂÜå‚Äã","type":1,"pageTitle":"Á±ªÂûãÊ≥®ÂÜå","url":"/zh-CN/docs/next/guide/go/type_registration#ÈÄöËøáÂêçÁß∞Ê≥®ÂÜå-1","content":" err := f.RegisterNamedEnum(Status(0), &quot;example.Status&quot;)   ","version":"dev","tagName":"h3"},{"title":"Êâ©Â±ïÁ±ªÂûã‚Äã","type":1,"pageTitle":"Á±ªÂûãÊ≥®ÂÜå","url":"/zh-CN/docs/next/guide/go/type_registration#Êâ©Â±ïÁ±ªÂûã","content":" ÂØπ‰∫éÈúÄË¶ÅËá™ÂÆö‰πâÂ∫èÂàóÂåñÈÄªËæëÁöÑÁ±ªÂûãÔºåÂèØÂ∞ÜÂÖ∂Ê≥®ÂÜå‰∏∫Êâ©Â±ïÁ±ªÂûãÔºåÂπ∂Êèê‰æõËá™ÂÆö‰πâÂ∫èÂàóÂåñÂô®Ôºö  f := fory.New() // Register by ID err := f.RegisterExtension(CustomType{}, 1, &amp;CustomSerializer{}) // Or register by name err = f.RegisterNamedExtension(CustomType{}, &quot;example.Custom&quot;, &amp;CustomSerializer{})   ÂÖ≥‰∫é ExtensionSerializer Êé•Âè£ÂÆûÁé∞ÔºåËØ∑ÂèÇËÄÉ Ëá™ÂÆö‰πâÂ∫èÂàóÂåñÂô®„ÄÇ  ","version":"dev","tagName":"h2"},{"title":"Ê≥®ÂÜå‰ΩúÁî®Âüü‚Äã","type":1,"pageTitle":"Á±ªÂûãÊ≥®ÂÜå","url":"/zh-CN/docs/next/guide/go/type_registration#Ê≥®ÂÜå‰ΩúÁî®Âüü","content":" Á±ªÂûãÊ≥®ÂÜåÊòØ Fory ÂÆû‰æãÁ∫ßÂà´ ÁöÑÔºö  f1 := fory.New() f2 := fory.New() // Types registered on f1 are NOT available on f2 f1.RegisterStruct(User{}, 1) // f2 cannot deserialize User unless also registered f2.RegisterStruct(User{}, 1)   ","version":"dev","tagName":"h2"},{"title":"Ê≥®ÂÜåÊó∂Êú∫‚Äã","type":1,"pageTitle":"Á±ªÂûãÊ≥®ÂÜå","url":"/zh-CN/docs/next/guide/go/type_registration#Ê≥®ÂÜåÊó∂Êú∫","content":" Â∫îÂú®ÂàõÂª∫ Fory ÂÆû‰æãÂêé„ÄÅÈ¶ñÊ¨°Â∫èÂàóÂåñ/ÂèçÂ∫èÂàóÂåñ‰πãÂâçÂÆåÊàêÁ±ªÂûãÊ≥®ÂÜåÔºö  f := fory.New() // Register before use f.RegisterStruct(User{}, 1) f.RegisterStruct(Order{}, 2) // Now serialize/deserialize data, _ := f.Serialize(&amp;User{ID: 1, Name: &quot;Alice&quot;})   ","version":"dev","tagName":"h2"},{"title":"ÂµåÂ•óÁ±ªÂûãÊ≥®ÂÜå‚Äã","type":1,"pageTitle":"Á±ªÂûãÊ≥®ÂÜå","url":"/zh-CN/docs/next/guide/go/type_registration#ÂµåÂ•óÁ±ªÂûãÊ≥®ÂÜå","content":" ÂØπË±°Âõæ‰∏≠ÁöÑÊâÄÊúâÁªìÊûÑ‰ΩìÁ±ªÂûãÔºàÂåÖÊã¨ÂµåÂ•óÁ±ªÂûãÔºâÈÉΩÂ∫îÊ≥®ÂÜåÔºö  type Address struct { City string Country string } type Person struct { Name string Address Address } f := fory.New() // Register ALL struct types used in the object graph f.RegisterStruct(Address{}, 1) f.RegisterStruct(Person{}, 2)   ","version":"dev","tagName":"h2"},{"title":"Ë∑®ËØ≠Ë®ÄÊ≥®ÂÜå‚Äã","type":1,"pageTitle":"Á±ªÂûãÊ≥®ÂÜå","url":"/zh-CN/docs/next/guide/go/type_registration#Ë∑®ËØ≠Ë®ÄÊ≥®ÂÜå","content":" ËøõË°åË∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñÊó∂ÔºåÂøÖÈ°ªÂú®ÊâÄÊúâËØ≠Ë®Ä‰∏≠‰øùÊåÅ‰∏ÄËá¥Ê≥®ÂÜå„ÄÇ  ","version":"dev","tagName":"h2"},{"title":"‰ΩøÁî® ID‚Äã","type":1,"pageTitle":"Á±ªÂûãÊ≥®ÂÜå","url":"/zh-CN/docs/next/guide/go/type_registration#‰ΩøÁî®-id","content":" ÊâÄÊúâËØ≠Ë®Ä‰ΩøÁî®Âêå‰∏Ä‰∏™Êï∞ÂÄº IDÔºö  Go:  f.RegisterStruct(User{}, 1)   Java:  fory.register(User.class, 1);   Python:  fory.register(User, type_id=1)   ","version":"dev","tagName":"h3"},{"title":"‰ΩøÁî®ÂêçÁß∞‚Äã","type":1,"pageTitle":"Á±ªÂûãÊ≥®ÂÜå","url":"/zh-CN/docs/next/guide/go/type_registration#‰ΩøÁî®ÂêçÁß∞","content":" ÊâÄÊúâËØ≠Ë®Ä‰ΩøÁî®Âêå‰∏Ä‰∏™Á±ªÂûãÂêçÔºö  Go:  f.RegisterNamedStruct(User{}, &quot;example.User&quot;)   Java:  fory.register(User.class, &quot;example.User&quot;);   Python:  fory.register(User, typename=&quot;example.User&quot;)   Rust:  #[derive(Fory)] struct User { id: i64, name: String, } let mut fory = Fory::default(); fory.register_by_name::&lt;User&gt;(&quot;example.User&quot;)?;   ","version":"dev","tagName":"h3"},{"title":"ÊúÄ‰Ω≥ÂÆûË∑µ‚Äã","type":1,"pageTitle":"Á±ªÂûãÊ≥®ÂÜå","url":"/zh-CN/docs/next/guide/go/type_registration#ÊúÄ‰Ω≥ÂÆûË∑µ","content":" Â∞ΩÊó©Ê≥®ÂÜåÔºöÂ∫îÁî®ÂêØÂä®Âêé„ÄÅ‰ªª‰ΩïÂ∫èÂàóÂåñÊìç‰ΩúÂâçÂÆåÊàêÂÖ®ÈÉ®Á±ªÂûãÊ≥®ÂÜå‰øùÊåÅ‰∏ÄËá¥ÔºöÊâÄÊúâËØ≠Ë®Ä‰∏éÂÆû‰æã‰∏≠‰ΩøÁî®‰∏ÄËá¥ÁöÑ ID ÊàñÂêçÁß∞Ê≥®ÂÜåÂÆåÊï¥Ôºö‰∏ç‰ªÖÊ≥®ÂÜåÈ°∂Â±ÇÁ±ªÂûãÔºå‰πüË¶ÅÊ≥®ÂÜåÂµåÂ•óÁªìÊûÑ‰ΩìÊÄßËÉΩ‰ºòÂÖàÊó∂Áî® IDÔºöÊï∞ÂÄº ID ÊØîÂêçÁß∞ÂºÄÈîÄÊõ¥‰ΩéÁÅµÊ¥ªÊÄß‰ºòÂÖàÊó∂Áî®ÂêçÁß∞ÔºöÂêçÁß∞Êõ¥ÊòìÁª¥Êä§Ôºå‰πüÊõ¥‰∏çÊòìÂÜ≤Á™Å  ","version":"dev","tagName":"h2"},{"title":"Â∏∏ËßÅÈîôËØØ‚Äã","type":1,"pageTitle":"Á±ªÂûãÊ≥®ÂÜå","url":"/zh-CN/docs/next/guide/go/type_registration#Â∏∏ËßÅÈîôËØØ","content":" ","version":"dev","tagName":"h2"},{"title":"Á±ªÂûãÊú™Ê≥®ÂÜå‚Äã","type":1,"pageTitle":"Á±ªÂûãÊ≥®ÂÜå","url":"/zh-CN/docs/next/guide/go/type_registration#Á±ªÂûãÊú™Ê≥®ÂÜå","content":" error: unknown type encountered   Ëß£ÂÜ≥ÊñπÂºèÔºöÂú®Â∫èÂàóÂåñ/ÂèçÂ∫èÂàóÂåñÂâçÂÖàÊ≥®ÂÜåÁ±ªÂûã„ÄÇ  ","version":"dev","tagName":"h3"},{"title":"ID/ÂêçÁß∞‰∏çÂåπÈÖç‚Äã","type":1,"pageTitle":"Á±ªÂûãÊ≥®ÂÜå","url":"/zh-CN/docs/next/guide/go/type_registration#idÂêçÁß∞‰∏çÂåπÈÖç","content":" Áî®Êüê‰∏™ ID/ÂêçÁß∞Â∫èÂàóÂåñÁöÑÊï∞ÊçÆÔºåËã•Âú®ÂèçÂ∫èÂàóÂåñÁ´Ø‰ΩøÁî®‰∏çÂêå ID/ÂêçÁß∞Ê≥®ÂÜåÔºåÂ∞ÜÊó†Ê≥ïÊ≠£Á°ÆÂèçÂ∫èÂàóÂåñ„ÄÇ  Ëß£ÂÜ≥ÊñπÂºèÔºöÁ°Æ‰øùÂ∫èÂàóÂåñÁ´Ø‰∏éÂèçÂ∫èÂàóÂåñÁ´Ø‰ΩøÁî®‰∏ÄËá¥ÁöÑ ID ÊàñÂêçÁß∞„ÄÇ  ","version":"dev","tagName":"h3"},{"title":"ÈáçÂ§çÊ≥®ÂÜå‚Äã","type":1,"pageTitle":"Á±ªÂûãÊ≥®ÂÜå","url":"/zh-CN/docs/next/guide/go/type_registration#ÈáçÂ§çÊ≥®ÂÜå","content":" ‰∏§‰∏™Á±ªÂûã‰ΩøÁî®Âêå‰∏Ä ID ‰ºöÂèëÁîüÂÜ≤Á™Å„ÄÇ  Ëß£ÂÜ≥ÊñπÂºèÔºöÁ°Æ‰øùÊØè‰∏™Á±ªÂûã‰ΩøÁî®ÂîØ‰∏Ä ID„ÄÇ  ","version":"dev","tagName":"h3"},{"title":"Áõ∏ÂÖ≥‰∏ªÈ¢ò‚Äã","type":1,"pageTitle":"Á±ªÂûãÊ≥®ÂÜå","url":"/zh-CN/docs/next/guide/go/type_registration#Áõ∏ÂÖ≥‰∏ªÈ¢ò","content":" Âü∫Êú¨Â∫èÂàóÂåñË∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ ","version":"dev","tagName":"h2"},{"title":"ÊîØÊåÅÁ±ªÂûã","type":0,"sectionRef":"#","url":"/zh-CN/docs/next/guide/go/supported_types","content":"","keywords":"","version":"dev"},{"title":"Âü∫Á°ÄÁ±ªÂûã‚Äã","type":1,"pageTitle":"ÊîØÊåÅÁ±ªÂûã","url":"/zh-CN/docs/next/guide/go/supported_types#Âü∫Á°ÄÁ±ªÂûã","content":" Go Type\tFory TypeId\tEncoding\tNotesbool\tBOOL (1)\t1 byte int8\tINT8 (2)\t1 byte, signed int16\tINT16 (3)\t2 bytes, signed\tLittle-endian int32\tINT32 (4)\tVarint\tVariable-length encoding int64\tINT64 (6)\tVarint\tVariable-length encoding int\tINT32/INT64\tVarint\tPlatform-dependent (32 or 64 bit) uint8 / byte\tUINT8 (9)\t1 byte, unsigned uint16\tUINT16 (10)\t2 bytes, unsigned\tLittle-endian uint32\tUINT32 (11)\tVaruint\tVariable-length encoding uint64\tUINT64 (13)\tVaruint\tVariable-length encoding float32\tFLOAT32 (17)\t4 bytes\tIEEE 754 float64\tFLOAT64 (18)\t8 bytes\tIEEE 754 string\tSTRING (19)\tLength-prefixed UTF-8\t  ","version":"dev","tagName":"h2"},{"title":"Integer Encoding‚Äã","type":1,"pageTitle":"ÊîØÊåÅÁ±ªÂûã","url":"/zh-CN/docs/next/guide/go/supported_types#integer-encoding","content":" Fory uses variable-length integer encoding (varint) for better compression:  Small values use fewer bytesNegative values use ZigZag encodingPlatform int maps to int32 on 32-bit, int64 on 64-bit systems  f := fory.New() // All integer types supported var i8 int8 = 127 var i16 int16 = 32767 var i32 int32 = 2147483647 var i64 int64 = 9223372036854775807 data, _ := f.Serialize(i64) // Uses varint encoding   ","version":"dev","tagName":"h3"},{"title":"ÈõÜÂêàÁ±ªÂûã‚Äã","type":1,"pageTitle":"ÊîØÊåÅÁ±ªÂûã","url":"/zh-CN/docs/next/guide/go/supported_types#ÈõÜÂêàÁ±ªÂûã","content":" ","version":"dev","tagName":"h2"},{"title":"Slice‚Äã","type":1,"pageTitle":"ÊîØÊåÅÁ±ªÂûã","url":"/zh-CN/docs/next/guide/go/supported_types#slice","content":" Go Type\tFory TypeId\tNotes[]bool\tBOOL_ARRAY\tOptimized encoding []int8\tINT8_ARRAY\tOptimized encoding []int16\tINT16_ARRAY\tOptimized encoding []int32\tINT32_ARRAY\tOptimized encoding []int64\tINT64_ARRAY\tOptimized encoding []float32\tFLOAT32_ARRAY\tOptimized encoding []float64\tFLOAT64_ARRAY\tOptimized encoding []string\tLIST\tGeneric list encoding []T (any)\tLIST (20)\tAny serializable type []I (any/any)\tLIST\tAny interface type  f := fory.New() // Primitive slices (optimized) ints := []int32{1, 2, 3, 4, 5} data, _ := f.Serialize(ints) // String slices strs := []string{&quot;a&quot;, &quot;b&quot;, &quot;c&quot;} data, _ = f.Serialize(strs) // Struct slices users := []User{{ID: 1}, {ID: 2}} data, _ = f.Serialize(users) // Dynamic slices dynamic := []any{1, &quot;hello&quot;, true} data, _ = f.Serialize(dynamic)   ","version":"dev","tagName":"h3"},{"title":"Map‚Äã","type":1,"pageTitle":"ÊîØÊåÅÁ±ªÂûã","url":"/zh-CN/docs/next/guide/go/supported_types#map","content":" Go Type\tFory TypeId\tNotesmap[string]string\tMAP (22)\tOptimized map[string]int64\tMAP\tOptimized map[string]int32\tMAP\tOptimized map[string]int\tMAP\tOptimized map[string]float64\tMAP\tOptimized map[string]bool\tMAP\tOptimized map[int32]int32\tMAP\tOptimized map[int64]int64\tMAP\tOptimized map[int]int\tMAP\tOptimized map[string]any\tMAP\tDynamic values map[any]any\tMAP\tDynamic keys and values  f := fory.New() // String key maps m1 := map[string]string{&quot;key&quot;: &quot;value&quot;} m2 := map[string]int64{&quot;count&quot;: 42} // Integer key maps m3 := map[int32]int32{1: 100, 2: 200} // Dynamic maps m4 := map[string]any{ &quot;name&quot;: &quot;Alice&quot;, &quot;age&quot;: int64(30), }   ","version":"dev","tagName":"h3"},{"title":"Sets‚Äã","type":1,"pageTitle":"ÊîØÊåÅÁ±ªÂûã","url":"/zh-CN/docs/next/guide/go/supported_types#sets","content":" Fory provides a generic Set[T] type (uses map[T]struct{} for zero memory overhead):  // Create a set of strings s := fory.NewSet[string]() s.Add(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;) // Check membership if s.Contains(&quot;a&quot;) { fmt.Println(&quot;found&quot;) } // Serialize data, _ := f.Serialize(s)   ","version":"dev","tagName":"h3"},{"title":"Time Types‚Äã","type":1,"pageTitle":"ÊîØÊåÅÁ±ªÂûã","url":"/zh-CN/docs/next/guide/go/supported_types#time-types","content":" Go Type\tFory TypeId\tNotestime.Time\tTIMESTAMP (34)\tNanosecond precision time.Duration\tDURATION (33)\tNanosecond precision  import &quot;time&quot; f := fory.New() // Timestamp t := time.Now() data, _ := f.Serialize(t) // Duration d := 5 * time.Second data, _ = f.Serialize(d)   ","version":"dev","tagName":"h2"},{"title":"Struct Types‚Äã","type":1,"pageTitle":"ÊîØÊåÅÁ±ªÂûã","url":"/zh-CN/docs/next/guide/go/supported_types#struct-types","content":" Category\tFory TypeId\tNotesStruct\tSTRUCT (25)\tRegistered by ID, no evolution Compatible Struct\tCOMPATIBLE_STRUCT (26)\tWith schema evolution Named Struct\tNAMED_STRUCT (27)\tRegistered by name, no evolution Named Compatible Struct\tNAMED_COMPATIBLE_STRUCT (28)\tNamed with schema evolution  ","version":"dev","tagName":"h2"},{"title":"Struct Requirements‚Äã","type":1,"pageTitle":"ÊîØÊåÅÁ±ªÂûã","url":"/zh-CN/docs/next/guide/go/supported_types#struct-requirements","content":" Exported fields only: Fields starting with uppercase are serializedSupported field types: All types listed in this documentRegistration: Structs should be registered for cross-language use  type User struct { ID int64 // Serialized Name string // Serialized Age int32 // Serialized password string // NOT serialized (unexported) } f := fory.New() f.RegisterStruct(User{}, 1) user := &amp;User{ID: 1, Name: &quot;Alice&quot;, Age: 30, password: &quot;secret&quot;} data, _ := f.Serialize(user)   ","version":"dev","tagName":"h3"},{"title":"Nested Structs‚Äã","type":1,"pageTitle":"ÊîØÊåÅÁ±ªÂûã","url":"/zh-CN/docs/next/guide/go/supported_types#nested-structs","content":" type Address struct { Street string City string Country string } type Company struct { Name string Address Address Founded int32 } f := fory.New() f.RegisterStruct(Address{}, 1) f.RegisterStruct(Company{}, 2)   ","version":"dev","tagName":"h3"},{"title":"Pointer Types‚Äã","type":1,"pageTitle":"ÊîØÊåÅÁ±ªÂûã","url":"/zh-CN/docs/next/guide/go/supported_types#pointer-types","content":" Go Type\tBehavior*T\tNil-able, reference tracked (if enabled) **T\tNested pointers supported  f := fory.New(fory.WithTrackRef(true)) type Node struct { Value int32 Left *Node Right *Node } f.RegisterStruct(Node{}, 1) root := &amp;Node{ Value: 1, Left: &amp;Node{Value: 2}, Right: &amp;Node{Value: 3}, } data, _ := f.Serialize(root)   ","version":"dev","tagName":"h2"},{"title":"Nil Handling‚Äã","type":1,"pageTitle":"ÊîØÊåÅÁ±ªÂûã","url":"/zh-CN/docs/next/guide/go/supported_types#nil-handling","content":" var ptr *User = nil data, _ := f.Serialize(ptr) var result *User f.Deserialize(data, &amp;result) // result == nil   ","version":"dev","tagName":"h3"},{"title":"Interface Types‚Äã","type":1,"pageTitle":"ÊîØÊåÅÁ±ªÂûã","url":"/zh-CN/docs/next/guide/go/supported_types#interface-types","content":" Go Type\tFory TypeId\tNotesany\tUNION (31)\tPolymorphic values  f := fory.New() // Serialize any var value any = &quot;hello&quot; data, _ := f.Serialize(value) var result any f.Deserialize(data, &amp;result) // result = &quot;hello&quot; (string)   For struct interfaces, register all possible concrete types:  type Shape interface { Area() float64 } type Circle struct { Radius float64 } func (c Circle) Area() float64 { return 3.14159 * c.Radius * c.Radius } f := fory.New() f.RegisterStruct(Circle{}, 1) var shape Shape = Circle{Radius: 5.0} data, _ := f.Serialize(shape)   ","version":"dev","tagName":"h2"},{"title":"Binary Data‚Äã","type":1,"pageTitle":"ÊîØÊåÅÁ±ªÂûã","url":"/zh-CN/docs/next/guide/go/supported_types#binary-data","content":" Go Type\tFory TypeId\tNotes[]byte\tBINARY (37)\tVariable-length bytes  f := fory.New() data := []byte{0x01, 0x02, 0x03, 0x04} serialized, _ := f.Serialize(data) var result []byte f.Deserialize(serialized, &amp;result)   ","version":"dev","tagName":"h2"},{"title":"Enum Types‚Äã","type":1,"pageTitle":"ÊîØÊåÅÁ±ªÂûã","url":"/zh-CN/docs/next/guide/go/supported_types#enum-types","content":" Go uses integer types for enums:  type Status int32 const ( StatusPending Status = 0 StatusActive Status = 1 StatusComplete Status = 2 ) f := fory.New() f.RegisterEnum(Status(0), 1) status := StatusActive data, _ := f.Serialize(status)   ","version":"dev","tagName":"h2"},{"title":"Cross-Language Type Mapping‚Äã","type":1,"pageTitle":"ÊîØÊåÅÁ±ªÂûã","url":"/zh-CN/docs/next/guide/go/supported_types#cross-language-type-mapping","content":" Go Type\tJava\tPython\tC++\tRustbool\tboolean\tbool\tbool\tbool int8\tbyte\tint\tint8_t\ti8 int16\tshort\tint\tint16_t\ti16 int32\tint\tint\tint32_t\ti32 int64\tlong\tint\tint64_t\ti64 float32\tfloat\tfloat\tfloat\tf32 float64\tdouble\tfloat\tdouble\tf64 string\tString\tstr\tstd::string\tString []T\tList&lt;T&gt;\tlist\tstd::vector&lt;T&gt;\tVec&lt;T&gt; map[K]V\tMap&lt;K,V&gt;\tdict\tstd::unordered_map\tHashMap&lt;K,V&gt; time.Time\tInstant\tdatetime\t-\t- time.Duration\tDuration\ttimedelta\t-\t-  See Cross-Language Serialization for detailed mapping.  ","version":"dev","tagName":"h2"},{"title":"Unsupported Types‚Äã","type":1,"pageTitle":"ÊîØÊåÅÁ±ªÂûã","url":"/zh-CN/docs/next/guide/go/supported_types#unsupported-types","content":" The following Go types are not supported:  Channels (chan T)Functions (func())Complex numbers (complex64, complex128)Unsafe pointers (unsafe.Pointer)  Attempting to serialize these types will result in an error.  ","version":"dev","tagName":"h2"},{"title":"Áõ∏ÂÖ≥‰∏ªÈ¢ò‚Äã","type":1,"pageTitle":"ÊîØÊåÅÁ±ªÂûã","url":"/zh-CN/docs/next/guide/go/supported_types#Áõ∏ÂÖ≥‰∏ªÈ¢ò","content":" Type RegistrationCross-Language SerializationReferences ","version":"dev","tagName":"h2"},{"title":"Á∫øÁ®ãÂÆâÂÖ®","type":0,"sectionRef":"#","url":"/zh-CN/docs/next/guide/go/thread_safety","content":"","keywords":"","version":"dev"},{"title":"ÈªòËÆ§ Fory ÂÆû‰æã‚Äã","type":1,"pageTitle":"Á∫øÁ®ãÂÆâÂÖ®","url":"/zh-CN/docs/next/guide/go/thread_safety#ÈªòËÆ§-fory-ÂÆû‰æã","content":" The default Fory instance is not thread-safe:  f := fory.New() // NOT SAFE: Concurrent access from multiple goroutines go func() { f.Serialize(value1) // Race condition! }() go func() { f.Serialize(value2) // Race condition! }()   ","version":"dev","tagName":"h2"},{"title":"‰∏∫‰ªÄ‰πà‰∏çÊòØÁ∫øÁ®ãÂÆâÂÖ®Ôºü‚Äã","type":1,"pageTitle":"Á∫øÁ®ãÂÆâÂÖ®","url":"/zh-CN/docs/next/guide/go/thread_safety#‰∏∫‰ªÄ‰πà‰∏çÊòØÁ∫øÁ®ãÂÆâÂÖ®","content":" For performance, Fory reuses internal state:  Buffer is cleared and reused between callsReference resolvers are resetContext objects are recycled  This avoids allocations but requires exclusive access.  ","version":"dev","tagName":"h3"},{"title":"Á∫øÁ®ãÂÆâÂÖ®Â∞ÅË£Ö‚Äã","type":1,"pageTitle":"Á∫øÁ®ãÂÆâÂÖ®","url":"/zh-CN/docs/next/guide/go/thread_safety#Á∫øÁ®ãÂÆâÂÖ®Â∞ÅË£Ö","content":" For concurrent use, use the threadsafe package:  import &quot;github.com/apache/fory/go/fory/threadsafe&quot; // Create thread-safe Fory f := threadsafe.New() // Safe for concurrent use go func() { data, _ := f.Serialize(value1) }() go func() { data, _ := f.Serialize(value2) }()   ","version":"dev","tagName":"h2"},{"title":"Â∑•‰ΩúÊú∫Âà∂‚Äã","type":1,"pageTitle":"Á∫øÁ®ãÂÆâÂÖ®","url":"/zh-CN/docs/next/guide/go/thread_safety#Â∑•‰ΩúÊú∫Âà∂","content":" The thread-safe wrapper uses sync.Pool:  Acquire: Gets a Fory instance from the poolUse: Performs serialization/deserializationCopy: Copies result data (buffer will be reused)Release: Returns instance to pool  // Simplified implementation func (f *Fory) Serialize(v any) ([]byte, error) { fory := f.pool.Get().(*fory.Fory) defer f.pool.Put(fory) data, err := fory.Serialize(v) if err != nil { return nil, err } // Copy because underlying buffer will be reused result := make([]byte, len(data)) copy(result, data) return result, nil }   ","version":"dev","tagName":"h3"},{"title":"API‚Äã","type":1,"pageTitle":"Á∫øÁ®ãÂÆâÂÖ®","url":"/zh-CN/docs/next/guide/go/thread_safety#api","content":" // Create thread-safe instance f := threadsafe.New() // Instance methods data, err := f.Serialize(value) err = f.Deserialize(data, &amp;target) // Generic functions data, err := threadsafe.Serialize(f, &amp;value) err = threadsafe.Deserialize(f, data, &amp;target) // Global convenience functions data, err := threadsafe.Marshal(&amp;value) err = threadsafe.Unmarshal(data, &amp;target)   ","version":"dev","tagName":"h3"},{"title":"Á±ªÂûãÊ≥®ÂÜå‚Äã","type":1,"pageTitle":"Á∫øÁ®ãÂÆâÂÖ®","url":"/zh-CN/docs/next/guide/go/thread_safety#Á±ªÂûãÊ≥®ÂÜå","content":" Type registration should be done before concurrent use:  f := threadsafe.New() // Register types BEFORE concurrent access f.RegisterStruct(User{}, 1) f.RegisterStruct(Order{}, 2) // Now safe to use concurrently go func() { f.Serialize(&amp;User{ID: 1}) }()   ","version":"dev","tagName":"h2"},{"title":"Thread-Safe Registration‚Äã","type":1,"pageTitle":"Á∫øÁ®ãÂÆâÂÖ®","url":"/zh-CN/docs/next/guide/go/thread_safety#thread-safe-registration","content":" The thread-safe wrapper handles registration safely:  // Safe: Registration is synchronized f := threadsafe.New() f.RegisterStruct(User{}, 1) // Thread-safe   However, for best performance, register all types at startup before concurrent use.  ","version":"dev","tagName":"h3"},{"title":"Zero-Copy Considerations‚Äã","type":1,"pageTitle":"Á∫øÁ®ãÂÆâÂÖ®","url":"/zh-CN/docs/next/guide/go/thread_safety#zero-copy-considerations","content":" ","version":"dev","tagName":"h2"},{"title":"Non-Thread-Safe Instance‚Äã","type":1,"pageTitle":"Á∫øÁ®ãÂÆâÂÖ®","url":"/zh-CN/docs/next/guide/go/thread_safety#non-thread-safe-instance","content":" With the default Fory, returned byte slices are views into the internal buffer:  f := fory.New() data1, _ := f.Serialize(value1) // data1 is valid data2, _ := f.Serialize(value2) // data1 is NOW INVALID (buffer was reused)   ","version":"dev","tagName":"h3"},{"title":"Thread-Safe Instance‚Äã","type":1,"pageTitle":"Á∫øÁ®ãÂÆâÂÖ®","url":"/zh-CN/docs/next/guide/go/thread_safety#thread-safe-instance","content":" The thread-safe wrapper copies data automatically:  f := threadsafe.New() data1, _ := f.Serialize(value1) data2, _ := f.Serialize(value2) // Both data1 and data2 are valid (independent copies)   This is safer but has allocation overhead.  ","version":"dev","tagName":"h3"},{"title":"Performance Comparison‚Äã","type":1,"pageTitle":"Á∫øÁ®ãÂÆâÂÖ®","url":"/zh-CN/docs/next/guide/go/thread_safety#performance-comparison","content":" Scenario\tNon-Thread-Safe\tThread-SafeSingle goroutine\tFastest\tSlower (pool overhead) Multiple goroutines\tUnsafe\tSafe, good scaling Memory allocations\tMinimal\tPer-call copy Buffer reuse\tYes\tPer-pool-instance  ","version":"dev","tagName":"h2"},{"title":"Benchmarking‚Äã","type":1,"pageTitle":"Á∫øÁ®ãÂÆâÂÖ®","url":"/zh-CN/docs/next/guide/go/thread_safety#benchmarking","content":" func BenchmarkNonThreadSafe(b *testing.B) { f := fory.New() f.RegisterStruct(User{}, 1) user := &amp;User{ID: 1, Name: &quot;Alice&quot;} for i := 0; i &lt; b.N; i++ { data, _ := f.Serialize(user) _ = data } } func BenchmarkThreadSafe(b *testing.B) { f := threadsafe.New() f.RegisterStruct(User{}, 1) user := &amp;User{ID: 1, Name: &quot;Alice&quot;} for i := 0; i &lt; b.N; i++ { data, _ := f.Serialize(user) _ = data } }   ","version":"dev","tagName":"h3"},{"title":"Patterns‚Äã","type":1,"pageTitle":"Á∫øÁ®ãÂÆâÂÖ®","url":"/zh-CN/docs/next/guide/go/thread_safety#patterns","content":" ","version":"dev","tagName":"h2"},{"title":"Per-Goroutine Instance‚Äã","type":1,"pageTitle":"Á∫øÁ®ãÂÆâÂÖ®","url":"/zh-CN/docs/next/guide/go/thread_safety#per-goroutine-instance","content":" For maximum performance with known goroutine count:  func worker(id int) { // Each worker has its own Fory instance f := fory.New() f.RegisterStruct(User{}, 1) for task := range tasks { data, _ := f.Serialize(task) process(data) } } // Start workers for i := 0; i &lt; numWorkers; i++ { go worker(i) }   ","version":"dev","tagName":"h3"},{"title":"Shared Thread-Safe Instance‚Äã","type":1,"pageTitle":"Á∫øÁ®ãÂÆâÂÖ®","url":"/zh-CN/docs/next/guide/go/thread_safety#shared-thread-safe-instance","content":" For dynamic goroutine count or simplicity:  // Single shared instance var f = threadsafe.New() func init() { f.RegisterStruct(User{}, 1) } func handleRequest(user *User) []byte { // Safe from any goroutine data, _ := f.Serialize(user) return data }   ","version":"dev","tagName":"h3"},{"title":"HTTP Handler Example‚Äã","type":1,"pageTitle":"Á∫øÁ®ãÂÆâÂÖ®","url":"/zh-CN/docs/next/guide/go/thread_safety#http-handler-example","content":" var fory = threadsafe.New() func init() { fory.RegisterStruct(Response{}, 1) } func handler(w http.ResponseWriter, r *http.Request) { response := &amp;Response{ Status: &quot;ok&quot;, Data: getData(), } // Safe: threadsafe.Fory handles concurrency data, err := fory.Serialize(response) if err != nil { http.Error(w, err.Error(), 500) return } w.Header().Set(&quot;Content-Type&quot;, &quot;application/octet-stream&quot;) w.Write(data) }   ","version":"dev","tagName":"h3"},{"title":"Common Mistakes‚Äã","type":1,"pageTitle":"Á∫øÁ®ãÂÆâÂÖ®","url":"/zh-CN/docs/next/guide/go/thread_safety#common-mistakes","content":" ","version":"dev","tagName":"h2"},{"title":"Sharing Non-Thread-Safe Instance‚Äã","type":1,"pageTitle":"Á∫øÁ®ãÂÆâÂÖ®","url":"/zh-CN/docs/next/guide/go/thread_safety#sharing-non-thread-safe-instance","content":" // WRONG: Race condition var f = fory.New() func handler1() { f.Serialize(value1) // Race! } func handler2() { f.Serialize(value2) // Race! }   Fix: Use threadsafe.New() or per-goroutine instances.  ","version":"dev","tagName":"h3"},{"title":"Keeping Reference to Buffer‚Äã","type":1,"pageTitle":"Á∫øÁ®ãÂÆâÂÖ®","url":"/zh-CN/docs/next/guide/go/thread_safety#keeping-reference-to-buffer","content":" // WRONG: Buffer invalidated on next call f := fory.New() data, _ := f.Serialize(value1) savedData := data // Just copies the slice header! f.Serialize(value2) // Invalidates data and savedData   Fix: Clone the data or use thread-safe wrapper.  // Correct: Clone the data data, _ := f.Serialize(value1) savedData := make([]byte, len(data)) copy(savedData, data) // Or use thread-safe (auto-copies) f := threadsafe.New() data, _ := f.Serialize(value1) // Already copied   ","version":"dev","tagName":"h3"},{"title":"Registering Types Concurrently‚Äã","type":1,"pageTitle":"Á∫øÁ®ãÂÆâÂÖ®","url":"/zh-CN/docs/next/guide/go/thread_safety#registering-types-concurrently","content":" // RISKY: Concurrent registration go func() { f.RegisterStruct(TypeA{}, 1) }() go func() { f.Serialize(value) // May not see TypeA }()   Fix: Register all types before concurrent use.  ","version":"dev","tagName":"h3"},{"title":"ÊúÄ‰Ω≥ÂÆûË∑µ‚Äã","type":1,"pageTitle":"Á∫øÁ®ãÂÆâÂÖ®","url":"/zh-CN/docs/next/guide/go/thread_safety#ÊúÄ‰Ω≥ÂÆûË∑µ","content":" Register types at startup: Before any concurrent operationsClone data if keeping references: With non-thread-safe instanceUse per-worker instances for hot paths: Eliminates pool contentionProfile before optimizing: Thread-safe overhead may be negligible  ","version":"dev","tagName":"h2"},{"title":"Áõ∏ÂÖ≥‰∏ªÈ¢ò‚Äã","type":1,"pageTitle":"Á∫øÁ®ãÂÆâÂÖ®","url":"/zh-CN/docs/next/guide/go/thread_safety#Áõ∏ÂÖ≥‰∏ªÈ¢ò","content":" ConfigurationBasic SerializationTroubleshooting ","version":"dev","tagName":"h2"},{"title":"ÊïÖÈöúÊéíÊü•","type":0,"sectionRef":"#","url":"/zh-CN/docs/next/guide/go/troubleshooting","content":"","keywords":"","version":"dev"},{"title":"ÈîôËØØÁ±ªÂûã‚Äã","type":1,"pageTitle":"ÊïÖÈöúÊéíÊü•","url":"/zh-CN/docs/next/guide/go/troubleshooting#ÈîôËØØÁ±ªÂûã","content":" Fory Go uses typed errors with specific error kinds:  type Error struct { kind ErrorKind message string // Additional context fields } func (e Error) Kind() ErrorKind { return e.kind } func (e Error) Error() string { return e.message }   ","version":"dev","tagName":"h2"},{"title":"ÈîôËØØÁßçÁ±ª‚Äã","type":1,"pageTitle":"ÊïÖÈöúÊéíÊü•","url":"/zh-CN/docs/next/guide/go/troubleshooting#ÈîôËØØÁßçÁ±ª","content":" Kind\tValue\tDescriptionErrKindOK\t0\tNo error ErrKindBufferOutOfBound\t1\tRead/write beyond buffer bounds ErrKindTypeMismatch\t2\tType ID mismatch ErrKindUnknownType\t3\tUnknown type encountered ErrKindSerializationFailed\t4\tGeneral serialization failure ErrKindDeserializationFailed\t5\tGeneral deserialization failure ErrKindMaxDepthExceeded\t6\tRecursion depth limit exceeded ErrKindNilPointer\t7\tUnexpected nil pointer ErrKindInvalidRefId\t8\tInvalid reference ID ErrKindHashMismatch\t9\tStruct hash mismatch ErrKindInvalidTag\t10\tInvalid fory struct tag  ","version":"dev","tagName":"h3"},{"title":"Â∏∏ËßÅÈîôËØØ‰∏éËß£ÂÜ≥ÊñπÊ°à‚Äã","type":1,"pageTitle":"ÊïÖÈöúÊéíÊü•","url":"/zh-CN/docs/next/guide/go/troubleshooting#Â∏∏ËßÅÈîôËØØ‰∏éËß£ÂÜ≥ÊñπÊ°à","content":" ","version":"dev","tagName":"h2"},{"title":"ErrKindUnknownType‚Äã","type":1,"pageTitle":"ÊïÖÈöúÊéíÊü•","url":"/zh-CN/docs/next/guide/go/troubleshooting#errkindunknowntype","content":" Error: unknown type encountered  Cause: Type not registered before serialization/deserialization.  Solution:  f := fory.New() // Register type before use f.RegisterStruct(User{}, 1) // Now serialization works data, _ := f.Serialize(&amp;User{ID: 1})   ","version":"dev","tagName":"h3"},{"title":"ErrKindTypeMismatch‚Äã","type":1,"pageTitle":"ÊïÖÈöúÊéíÊü•","url":"/zh-CN/docs/next/guide/go/troubleshooting#errkindtypemismatch","content":" Error: type mismatch: expected X, got Y  Cause: Serialized data has different type than expected.  Solutions:  Use correct target type:  // Wrong: Deserializing User into Order var order Order f.Deserialize(userData, &amp;order) // Error! // Correct var user User f.Deserialize(userData, &amp;user)   Ensure consistent registration:  // Serializer f1 := fory.New() f1.RegisterStruct(User{}, 1) // Deserializer - must use same ID f2 := fory.New() f2.RegisterStruct(User{}, 1) // Same ID!   ","version":"dev","tagName":"h3"},{"title":"ErrKindHashMismatch‚Äã","type":1,"pageTitle":"ÊïÖÈöúÊéíÊü•","url":"/zh-CN/docs/next/guide/go/troubleshooting#errkindhashmismatch","content":" Error: hash X is not consistent with Y for type Z  Cause: Struct definition changed between serialization and deserialization.  Solutions:  Enable compatible mode:  f := fory.New(fory.WithCompatible(true))   Ensure struct definitions match:  // Both serializer and deserializer must have same struct type User struct { ID int64 Name string }   Regenerate codegen (if using):  go generate ./...   ","version":"dev","tagName":"h3"},{"title":"ErrKindMaxDepthExceeded‚Äã","type":1,"pageTitle":"ÊïÖÈöúÊéíÊü•","url":"/zh-CN/docs/next/guide/go/troubleshooting#errkindmaxdepthexceeded","content":" Error: max depth exceeded  Cause: Data nesting exceeds maximum depth limit.  Possible causes:  Deeply nested data structures exceeding the default limit (20)Unintended circular references without reference tracking enabledMalicious data: Attackers may craft deeply nested payloads to cause resource exhaustion  Solutions:  Increase max depth (default is 20):  f := fory.New(fory.WithMaxDepth(50))   Enable reference tracking (for circular data):  f := fory.New(fory.WithTrackRef(true))   Check for unintended circular references in your data. Validate untrusted data: When deserializing data from untrusted sources, do not blindly increase max depth. Consider validating input size and structure before deserialization.  ","version":"dev","tagName":"h3"},{"title":"ErrKindBufferOutOfBound‚Äã","type":1,"pageTitle":"ÊïÖÈöúÊéíÊü•","url":"/zh-CN/docs/next/guide/go/troubleshooting#errkindbufferoutofbound","content":" Error: buffer out of bound: offset=X, need=Y, size=Z  Cause: Reading beyond available data.  Solutions:  Ensure complete data transfer:  // Wrong: Truncated data data := fullData[:100] f.Deserialize(data, &amp;target) // Error if data was larger // Correct: Use full data f.Deserialize(fullData, &amp;target)   Check for data corruption: Verify data integrity during transmission.  ","version":"dev","tagName":"h3"},{"title":"ErrKindInvalidRefId‚Äã","type":1,"pageTitle":"ÊïÖÈöúÊéíÊü•","url":"/zh-CN/docs/next/guide/go/troubleshooting#errkindinvalidrefid","content":" Error: invalid reference ID  Cause: Reference to non-existent object in serialized data.  Solutions:  Ensure reference tracking consistency:  // Serializer and deserializer must have same setting f1 := fory.New(fory.WithTrackRef(true)) f2 := fory.New(fory.WithTrackRef(true)) // Must match!   Check for data corruption.  ","version":"dev","tagName":"h3"},{"title":"ErrKindInvalidTag‚Äã","type":1,"pageTitle":"ÊïÖÈöúÊéíÊü•","url":"/zh-CN/docs/next/guide/go/troubleshooting#errkindinvalidtag","content":" Error: invalid fory struct tag  Cause: Invalid struct tag configuration.  Common causes:  Invalid tag ID: ID must be &gt;= -1  // Wrong: negative ID (other than -1) type Bad struct { Field int `fory:&quot;id=-5&quot;` } // Correct type Good struct { Field int `fory:&quot;id=0&quot;` }   Duplicate tag IDs: Each field must have a unique ID within the struct  // Wrong: duplicate IDs type Bad struct { Field1 int `fory:&quot;id=0&quot;` Field2 int `fory:&quot;id=0&quot;` // Duplicate! } // Correct type Good struct { Field1 int `fory:&quot;id=0&quot;` Field2 int `fory:&quot;id=1&quot;` }   ","version":"dev","tagName":"h3"},{"title":"Cross-Language Issues‚Äã","type":1,"pageTitle":"ÊïÖÈöúÊéíÊü•","url":"/zh-CN/docs/next/guide/go/troubleshooting#cross-language-issues","content":" ","version":"dev","tagName":"h2"},{"title":"Field Order Mismatch‚Äã","type":1,"pageTitle":"ÊïÖÈöúÊéíÊü•","url":"/zh-CN/docs/next/guide/go/troubleshooting#field-order-mismatch","content":" Symptom: Data deserializes but fields have wrong values.  Cause: Different field ordering between languages. In non-compatible mode, fields are sorted by their snake_case names. CamelCase field names (e.g., FirstName) are converted to snake_case (e.g., first_name) for sorting.  Solutions:  Ensure converted snake_case names are consistent: Field names across languages must produce the same snake_case ordering:  type User struct { FirstName string // Go: FirstName -&gt; first_name LastName string // Go: LastName -&gt; last_name // Sorted alphabetically by snake_case: first_name, last_name }   Use field IDs for consistent ordering: Field IDs (non-negative integers) act as aliases for field names, used for both sorting and field matching during deserialization:  type User struct { FirstName string `fory:&quot;id=0&quot;` LastName string `fory:&quot;id=1&quot;` }   Ensure the same field IDs are used across all languages for corresponding fields.  ","version":"dev","tagName":"h3"},{"title":"Name Registration Mismatch‚Äã","type":1,"pageTitle":"ÊïÖÈöúÊéíÊü•","url":"/zh-CN/docs/next/guide/go/troubleshooting#name-registration-mismatch","content":" Symptom: unknown type in other languages.  Solution: Use identical names:  // Go f.RegisterNamedStruct(User{}, &quot;example.User&quot;) // Java - must match exactly fory.register(User.class, &quot;example.User&quot;); // Python fory.register(User, typename=&quot;example.User&quot;)   ","version":"dev","tagName":"h3"},{"title":"Performance Issues‚Äã","type":1,"pageTitle":"ÊïÖÈöúÊéíÊü•","url":"/zh-CN/docs/next/guide/go/troubleshooting#performance-issues","content":" ","version":"dev","tagName":"h2"},{"title":"Slow Serialization‚Äã","type":1,"pageTitle":"ÊïÖÈöúÊéíÊü•","url":"/zh-CN/docs/next/guide/go/troubleshooting#slow-serialization","content":" Possible causes:  Large object graphs: Reduce data size or serialize incrementally. Excessive reference tracking: Disable if not needed:  f := fory.New(fory.WithTrackRef(false))   Deep nesting: Flatten data structures where possible.  ","version":"dev","tagName":"h3"},{"title":"High Memory Usage‚Äã","type":1,"pageTitle":"ÊïÖÈöúÊéíÊü•","url":"/zh-CN/docs/next/guide/go/troubleshooting#high-memory-usage","content":" Possible causes:  Large serialized data: Process in chunks. Reference tracking overhead: Disable if not needed. Buffer not released: Reuse buffers:  buf := fory.NewByteBuffer(nil) f.SerializeTo(buf, value) // Process data buf.Reset() // Reuse for next serialization   ","version":"dev","tagName":"h3"},{"title":"Thread Contention‚Äã","type":1,"pageTitle":"ÊïÖÈöúÊéíÊü•","url":"/zh-CN/docs/next/guide/go/troubleshooting#thread-contention","content":" Symptom: Slowdown under concurrent load.  Solutions:  Use per-goroutine instances for hot paths:  func worker() { f := fory.New() // Each worker has own instance for task := range tasks { f.Serialize(task) } }   Profile pool usage with thread-safe wrapper.  ","version":"dev","tagName":"h3"},{"title":"Debugging Techniques‚Äã","type":1,"pageTitle":"ÊïÖÈöúÊéíÊü•","url":"/zh-CN/docs/next/guide/go/troubleshooting#debugging-techniques","content":" ","version":"dev","tagName":"h2"},{"title":"Enable Debug Output‚Äã","type":1,"pageTitle":"ÊïÖÈöúÊéíÊü•","url":"/zh-CN/docs/next/guide/go/troubleshooting#enable-debug-output","content":" Set environment variable:  ENABLE_FORY_DEBUG_OUTPUT=1 go test ./...   ","version":"dev","tagName":"h3"},{"title":"Inspect Serialized Data‚Äã","type":1,"pageTitle":"ÊïÖÈöúÊéíÊü•","url":"/zh-CN/docs/next/guide/go/troubleshooting#inspect-serialized-data","content":" data, _ := f.Serialize(value) fmt.Printf(&quot;Serialized %d bytes\\n&quot;, len(data)) fmt.Printf(&quot;Header: %x\\n&quot;, data[:4]) // Magic + flags   ","version":"dev","tagName":"h3"},{"title":"Check Type Registration‚Äã","type":1,"pageTitle":"ÊïÖÈöúÊéíÊü•","url":"/zh-CN/docs/next/guide/go/troubleshooting#check-type-registration","content":" // Verify type is registered f := fory.New() err := f.RegisterStruct(User{}, 1) if err != nil { fmt.Printf(&quot;Registration failed: %v\\n&quot;, err) }   ","version":"dev","tagName":"h3"},{"title":"Compare Struct Hashes‚Äã","type":1,"pageTitle":"ÊïÖÈöúÊéíÊü•","url":"/zh-CN/docs/next/guide/go/troubleshooting#compare-struct-hashes","content":" If getting hash mismatch, compare struct definitions:  // Print struct info for debugging t := reflect.TypeOf(User{}) for i := 0; i &lt; t.NumField(); i++ { f := t.Field(i) fmt.Printf(&quot;Field: %s, Type: %s\\n&quot;, f.Name, f.Type) }   ","version":"dev","tagName":"h3"},{"title":"Testing Tips‚Äã","type":1,"pageTitle":"ÊïÖÈöúÊéíÊü•","url":"/zh-CN/docs/next/guide/go/troubleshooting#testing-tips","content":" ","version":"dev","tagName":"h2"},{"title":"Test Round-Trip‚Äã","type":1,"pageTitle":"ÊïÖÈöúÊéíÊü•","url":"/zh-CN/docs/next/guide/go/troubleshooting#test-round-trip","content":" func TestRoundTrip(t *testing.T) { f := fory.New() f.RegisterStruct(User{}, 1) original := &amp;User{ID: 1, Name: &quot;Alice&quot;} data, err := f.Serialize(original) require.NoError(t, err) var result User err = f.Deserialize(data, &amp;result) require.NoError(t, err) assert.Equal(t, original.ID, result.ID) assert.Equal(t, original.Name, result.Name) }   ","version":"dev","tagName":"h3"},{"title":"Test Cross-Language‚Äã","type":1,"pageTitle":"ÊïÖÈöúÊéíÊü•","url":"/zh-CN/docs/next/guide/go/troubleshooting#test-cross-language","content":" cd java/fory-core FORY_GO_JAVA_CI=1 mvn test -Dtest=org.apache.fory.xlang.GoXlangTest   ","version":"dev","tagName":"h3"},{"title":"Test Schema Evolution‚Äã","type":1,"pageTitle":"ÊïÖÈöúÊéíÊü•","url":"/zh-CN/docs/next/guide/go/troubleshooting#test-schema-evolution","content":" func TestSchemaEvolution(t *testing.T) { f1 := fory.New(fory.WithCompatible(true)) f1.RegisterStruct(UserV1{}, 1) data, _ := f1.Serialize(&amp;UserV1{ID: 1, Name: &quot;Alice&quot;}) f2 := fory.New(fory.WithCompatible(true)) f2.RegisterStruct(UserV2{}, 1) var result UserV2 err := f2.Deserialize(data, &amp;result) require.NoError(t, err) }   ","version":"dev","tagName":"h3"},{"title":"Getting Help‚Äã","type":1,"pageTitle":"ÊïÖÈöúÊéíÊü•","url":"/zh-CN/docs/next/guide/go/troubleshooting#getting-help","content":" If you encounter issues not covered here:  Check GitHub Issues: github.com/apache/fory/issuesEnable debug output: ENABLE_FORY_DEBUG_OUTPUT=1Create minimal reproduction: Isolate the problemReport the issue: Include Go version, Fory version, and minimal code  ","version":"dev","tagName":"h2"},{"title":"Áõ∏ÂÖ≥‰∏ªÈ¢ò‚Äã","type":1,"pageTitle":"ÊïÖÈöúÊéíÊü•","url":"/zh-CN/docs/next/guide/go/troubleshooting#Áõ∏ÂÖ≥‰∏ªÈ¢ò","content":" ConfigurationCross-Language SerializationSchema EvolutionThread Safety ","version":"dev","tagName":"h2"},{"title":"GraalVM ÊåáÂçó","type":0,"sectionRef":"#","url":"/zh-CN/docs/next/guide/graalvm_serialization","content":"","keywords":"","version":"dev"},{"title":"GraalVM Native Image‚Äã","type":1,"pageTitle":"GraalVM ÊåáÂçó","url":"/zh-CN/docs/next/guide/graalvm_serialization#graalvm-native-image","content":" GraalVM native image ÊèêÂâçÂ∞Ü Java ‰ª£Á†ÅÁºñËØë‰∏∫Êú¨Âú∞ÂèØÊâßË°åÊñá‰ª∂Ôºå‰ªéËÄåÂÆûÁé∞Êõ¥Âø´ÁöÑÂêØÂä®ÈÄüÂ∫¶ÂíåÊõ¥‰ΩéÁöÑÂÜÖÂ≠ò‰ΩøÁî®„ÄÇ‰ΩÜÊòØÔºåÊú¨Âú∞ÈïúÂÉè‰∏çÊîØÊåÅËøêË°åÊó∂ JIT ÁºñËØëÊàñÂèçÂ∞ÑÔºåÈô§ÈùûËøõË°åÊòæÂºèÈÖçÁΩÆ„ÄÇ  Apache Fory‚Ñ¢ ÈÄöËøá‰ΩøÁî®‰ª£Á†ÅÁîüÊàêËÄåÈùûÂèçÂ∞ÑÔºåÂèØ‰ª•ÂÆåÁæéÂú∞‰∏é GraalVM native image ÈÖçÂêà‰ΩøÁî®„ÄÇÊâÄÊúâÂ∫èÂàóÂåñÂô®‰ª£Á†ÅÈÉΩÂú®ÊûÑÂª∫Êó∂ÁîüÊàêÔºåÂú®Â§ßÂ§öÊï∞ÊÉÖÂÜµ‰∏ãÊó†ÈúÄÂèçÂ∞ÑÈÖçÁΩÆÊñá‰ª∂„ÄÇ  ","version":"dev","tagName":"h2"},{"title":"Â∑•‰ΩúÂéüÁêÜ‚Äã","type":1,"pageTitle":"GraalVM ÊåáÂçó","url":"/zh-CN/docs/next/guide/graalvm_serialization#Â∑•‰ΩúÂéüÁêÜ","content":" ÂΩìÊÇ®ÊâßË°å‰ª•‰∏ãÊìç‰ΩúÊó∂ÔºåFory ‰ºöÂú® GraalVM ÊûÑÂª∫Êó∂ÁîüÊàêÂ∫èÂàóÂåñ‰ª£Á†ÅÔºö  Â∞Ü Fory ÂàõÂª∫‰∏∫ÈùôÊÄÅÂ≠óÊÆµÂú®ÈùôÊÄÅÂàùÂßãÂåñÂô®‰∏≠Ê≥®ÂÜåÊâÄÊúâÁ±ªË∞ÉÁî® fory.ensureSerializersCompiled() Êù•ÁºñËØëÂ∫èÂàóÂåñÂô®ÈÄöËøá native-image.properties ÈÖçÁΩÆËØ•Á±ªÂú®ÊûÑÂª∫Êó∂ÂàùÂßãÂåñ  ‰∏ªË¶Å‰ºòÂäøÔºöÂØπ‰∫éÂ§ßÂ§öÊï∞ÂèØÂ∫èÂàóÂåñÁöÑÁ±ªÔºåÊÇ®Êó†ÈúÄÈÖçÁΩÆÂèçÂ∞Ñ json ÊàñÂ∫èÂàóÂåñ json„ÄÇ  Ê≥®ÊÑèÔºöFory ÁöÑ asyncCompilationEnabled ÈÄâÈ°πÂú® GraalVM native image ‰∏≠‰ºöËá™Âä®Á¶ÅÁî®ÔºåÂõ†‰∏∫‰∏çÊîØÊåÅËøêË°åÊó∂ JIT„ÄÇ  ","version":"dev","tagName":"h2"},{"title":"Âü∫Á°ÄÁî®Ê≥ï‚Äã","type":1,"pageTitle":"GraalVM ÊåáÂçó","url":"/zh-CN/docs/next/guide/graalvm_serialization#Âü∫Á°ÄÁî®Ê≥ï","content":" ","version":"dev","tagName":"h2"},{"title":"Ê≠•È™§ 1ÔºöÂàõÂª∫ Fory Âπ∂Ê≥®ÂÜåÁ±ª‚Äã","type":1,"pageTitle":"GraalVM ÊåáÂçó","url":"/zh-CN/docs/next/guide/graalvm_serialization#Ê≠•È™§-1ÂàõÂª∫-fory-Âπ∂Ê≥®ÂÜåÁ±ª","content":" import org.apache.fory.Fory; public class Example { // ÂøÖÈ°ªÊòØÈùôÊÄÅÂ≠óÊÆµ static Fory fory; static { fory = Fory.builder().build(); fory.register(MyClass.class); fory.register(AnotherClass.class); // Âú®ÊûÑÂª∫Êó∂ÁºñËØëÊâÄÊúâÂ∫èÂàóÂåñÂô® fory.ensureSerializersCompiled(); } public static void main(String[] args) { byte[] bytes = fory.serialize(new MyClass()); MyClass obj = (MyClass) fory.deserialize(bytes); } }   ","version":"dev","tagName":"h3"},{"title":"Ê≠•È™§ 2ÔºöÈÖçÁΩÆÊûÑÂª∫Êó∂ÂàùÂßãÂåñ‚Äã","type":1,"pageTitle":"GraalVM ÊåáÂçó","url":"/zh-CN/docs/next/guide/graalvm_serialization#Ê≠•È™§-2ÈÖçÁΩÆÊûÑÂª∫Êó∂ÂàùÂßãÂåñ","content":" ÂàõÂª∫ resources/META-INF/native-image/your-group/your-artifact/native-image.propertiesÔºö  Args = --initialize-at-build-time=com.example.Example   ","version":"dev","tagName":"h3"},{"title":"ForyGraalVMFeatureÔºàÂèØÈÄâÔºâ‚Äã","type":1,"pageTitle":"GraalVM ÊåáÂçó","url":"/zh-CN/docs/next/guide/graalvm_serialization#forygraalvmfeatureÂèØÈÄâ","content":" ÂØπ‰∫éÂ§ßÂ§öÊï∞ÂÖ∑ÊúâÂÖ¨ÂÖ±ÊûÑÈÄ†ÂáΩÊï∞ÁöÑÁ±ªÂûãÔºå‰∏äËø∞Âü∫Êú¨ËÆæÁΩÆÂ∞±Ë∂≥Â§ü‰∫Ü„ÄÇ‰ΩÜÊòØÔºå‰∏Ä‰∫õÈ´òÁ∫ßÊÉÖÂÜµÈúÄË¶ÅÂèçÂ∞ÑÊ≥®ÂÜåÔºö  ÁßÅÊúâÊûÑÈÄ†ÂáΩÊï∞ÔºàÊ≤°ÊúâÂèØËÆøÈóÆÁöÑÊó†ÂèÇÊûÑÈÄ†ÂáΩÊï∞ÁöÑÁ±ªÔºâÁßÅÊúâÂÜÖÈÉ®Á±ª/ËÆ∞ÂΩïÂä®ÊÄÅ‰ª£ÁêÜÂ∫èÂàóÂåñ  fory-graalvm-feature Ê®°Âùó‰ºöËá™Âä®Â§ÑÁêÜËøô‰∫õÊÉÖÂÜµÔºåÊó†ÈúÄÊâãÂä®ÈÖçÁΩÆ reflect-config.json„ÄÇ  ","version":"dev","tagName":"h2"},{"title":"Ê∑ªÂä†‰æùËµñ‚Äã","type":1,"pageTitle":"GraalVM ÊåáÂçó","url":"/zh-CN/docs/next/guide/graalvm_serialization#Ê∑ªÂä†‰æùËµñ","content":" &lt;dependency&gt; &lt;groupId&gt;org.apache.fory&lt;/groupId&gt; &lt;artifactId&gt;fory-graalvm-feature&lt;/artifactId&gt; &lt;version&gt;${fory.version}&lt;/version&gt; &lt;/dependency&gt;   ","version":"dev","tagName":"h3"},{"title":"ÂêØÁî®ÂäüËÉΩ‚Äã","type":1,"pageTitle":"GraalVM ÊåáÂçó","url":"/zh-CN/docs/next/guide/graalvm_serialization#ÂêØÁî®ÂäüËÉΩ","content":" Â∞Ü‰ª•‰∏ãÂÜÖÂÆπÊ∑ªÂä†Âà∞ÊÇ®ÁöÑ native-image.propertiesÔºö  Args = --initialize-at-build-time=com.example.Example \\ --features=org.apache.fory.graalvm.feature.ForyGraalVMFeature   ","version":"dev","tagName":"h3"},{"title":"ForyGraalVMFeature Â§ÑÁêÜÁöÑÂÜÖÂÆπ‚Äã","type":1,"pageTitle":"GraalVM ÊåáÂçó","url":"/zh-CN/docs/next/guide/graalvm_serialization#forygraalvmfeature-Â§ÑÁêÜÁöÑÂÜÖÂÆπ","content":" Âú∫ÊôØ\t‰∏ç‰ΩøÁî® Feature\t‰ΩøÁî® FeatureÂÖ∑ÊúâÊó†ÂèÇÊûÑÈÄ†ÂáΩÊï∞ÁöÑÂÖ¨ÂÖ±Á±ª\t‚úÖ ÂèØÂ∑•‰Ωú\t‚úÖ ÂèØÂ∑•‰Ωú ÁßÅÊúâÊûÑÈÄ†ÂáΩÊï∞\t‚ùå ÈúÄË¶Å reflect-config.json\t‚úÖ Ëá™Âä®Ê≥®ÂÜå ÁßÅÊúâÂÜÖÈÉ®ËÆ∞ÂΩï\t‚ùå ÈúÄË¶Å reflect-config.json\t‚úÖ Ëá™Âä®Ê≥®ÂÜå Âä®ÊÄÅ‰ª£ÁêÜ\t‚ùå ÈúÄË¶ÅÊâãÂä®ÈÖçÁΩÆ\t‚úÖ Ëá™Âä®Ê≥®ÂÜå  ","version":"dev","tagName":"h3"},{"title":"ÁßÅÊúâËÆ∞ÂΩïÁ§∫‰æã‚Äã","type":1,"pageTitle":"GraalVM ÊåáÂçó","url":"/zh-CN/docs/next/guide/graalvm_serialization#ÁßÅÊúâËÆ∞ÂΩïÁ§∫‰æã","content":" public class Example { // ÁßÅÊúâÂÜÖÈÉ®ËÆ∞ÂΩï - ÈúÄË¶Å ForyGraalVMFeature private record PrivateRecord(int id, String name) {} static Fory fory; static { fory = Fory.builder().build(); fory.register(PrivateRecord.class); fory.ensureSerializersCompiled(); } }   ","version":"dev","tagName":"h3"},{"title":"Âä®ÊÄÅ‰ª£ÁêÜÁ§∫‰æã‚Äã","type":1,"pageTitle":"GraalVM ÊåáÂçó","url":"/zh-CN/docs/next/guide/graalvm_serialization#Âä®ÊÄÅ‰ª£ÁêÜÁ§∫‰æã","content":" import org.apache.fory.util.GraalvmSupport; public class ProxyExample { public interface MyService { String execute(); } static Fory fory; static { fory = Fory.builder().build(); // ‰∏∫Â∫èÂàóÂåñÊ≥®ÂÜå‰ª£ÁêÜÊé•Âè£ GraalvmSupport.registerProxySupport(MyService.class); fory.ensureSerializersCompiled(); } }   ","version":"dev","tagName":"h3"},{"title":"Á∫øÁ®ãÂÆâÂÖ®ÁöÑ Fory‚Äã","type":1,"pageTitle":"GraalVM ÊåáÂçó","url":"/zh-CN/docs/next/guide/graalvm_serialization#Á∫øÁ®ãÂÆâÂÖ®ÁöÑ-fory","content":" ÂØπ‰∫éÂ§öÁ∫øÁ®ãÂ∫îÁî®Á®ãÂ∫èÔºå‰ΩøÁî® ThreadLocalForyÔºö  import org.apache.fory.Fory; import org.apache.fory.ThreadLocalFory; import org.apache.fory.ThreadSafeFory; public class ThreadSafeExample { public record Foo(int f1, String f2, List&lt;String&gt; f3) {} static ThreadSafeFory fory; static { fory = new ThreadLocalFory(classLoader -&gt; { Fory f = Fory.builder().build(); f.register(Foo.class); f.ensureSerializersCompiled(); return f; }); } public static void main(String[] args) { Foo foo = new Foo(10, &quot;abc&quot;, List.of(&quot;str1&quot;, &quot;str2&quot;)); byte[] bytes = fory.serialize(foo); Foo result = (Foo) fory.deserialize(bytes); } }   ","version":"dev","tagName":"h2"},{"title":"ÊïÖÈöúÊéíÈô§‚Äã","type":1,"pageTitle":"GraalVM ÊåáÂçó","url":"/zh-CN/docs/next/guide/graalvm_serialization#ÊïÖÈöúÊéíÈô§","content":" ","version":"dev","tagName":"h2"},{"title":"\"Type is instantiated reflectively but was never registered\"‚Äã","type":1,"pageTitle":"GraalVM ÊåáÂçó","url":"/zh-CN/docs/next/guide/graalvm_serialization#type-is-instantiated-reflectively-but-was-never-registered","content":" Â¶ÇÊûúÊÇ®ÁúãÂà∞Ê≠§ÈîôËØØÔºö  Type com.example.MyClass is instantiated reflectively but was never registered   Ëß£ÂÜ≥ÊñπÊ°àÔºö‰ΩøÁî® Fory Ê≥®ÂÜåËØ•Á±ªÔºà‰∏çË¶ÅÊ∑ªÂä†Âà∞ reflect-config.jsonÔºâÔºö  fory.register(MyClass.class); fory.ensureSerializersCompiled();   Â¶ÇÊûúËØ•Á±ªÂÖ∑ÊúâÁßÅÊúâÊûÑÈÄ†ÂáΩÊï∞ÔºåÂèØ‰ª•Ôºö  Ê∑ªÂä† fory-graalvm-feature ‰æùËµñÔºåÊàñ‰∏∫ËØ•ÁâπÂÆöÁ±ªÂàõÂª∫ reflect-config.json  ","version":"dev","tagName":"h3"},{"title":"Ê°ÜÊû∂ÈõÜÊàê‚Äã","type":1,"pageTitle":"GraalVM ÊåáÂçó","url":"/zh-CN/docs/next/guide/graalvm_serialization#Ê°ÜÊû∂ÈõÜÊàê","content":" ÂØπ‰∫éÈõÜÊàê Fory ÁöÑÊ°ÜÊû∂ÂºÄÂèëËÄÖÔºö  ‰∏∫Áî®Êà∑Êèê‰æõÈÖçÁΩÆÊñá‰ª∂‰ª•ÂàóÂá∫ÂèØÂ∫èÂàóÂåñÁöÑÁ±ªÂä†ËΩΩËøô‰∫õÁ±ªÂπ∂‰∏∫ÊØè‰∏™Á±ªË∞ÉÁî® fory.register(Class&lt;?&gt;)ÂÆåÊàêÊâÄÊúâÊ≥®ÂÜåÂêéË∞ÉÁî® fory.ensureSerializersCompiled()ÈÖçÁΩÆÊÇ®ÁöÑÈõÜÊàêÁ±ª‰ª•Âú®ÊûÑÂª∫Êó∂ÂàùÂßãÂåñ  ","version":"dev","tagName":"h2"},{"title":"Âü∫ÂáÜÊµãËØï‚Äã","type":1,"pageTitle":"GraalVM ÊåáÂçó","url":"/zh-CN/docs/next/guide/graalvm_serialization#Âü∫ÂáÜÊµãËØï","content":" Fory ‰∏é GraalVM JDK Â∫èÂàóÂåñÁöÑÊÄßËÉΩÊØîËæÉÔºö  Á±ªÂûã\tÂéãÁº©\tÈÄüÂ∫¶\tÂ§ßÂ∞èStruct\tÂÖ≥Èó≠\t46 ÂÄçÊõ¥Âø´\t43% Struct\tÂºÄÂêØ\t24 ÂÄçÊõ¥Âø´\t31% Pojo\tÂÖ≥Èó≠\t12 ÂÄçÊõ¥Âø´\t56% Pojo\tÂºÄÂêØ\t12 ÂÄçÊõ¥Âø´\t48%  Êü•Áúã Benchmark.java Ëé∑ÂèñÂü∫ÂáÜÊµãËØï‰ª£Á†Å„ÄÇ  ","version":"dev","tagName":"h2"},{"title":"Struct Âü∫ÂáÜÊµãËØï‚Äã","type":1,"pageTitle":"GraalVM ÊåáÂçó","url":"/zh-CN/docs/next/guide/graalvm_serialization#struct-Âü∫ÂáÜÊµãËØï","content":" Á±ªÂ≠óÊÆµ‚Äã  public class Struct implements Serializable { public int f1; public long f2; public float f3; public double f4; public int f5; public long f6; public float f7; public double f8; public int f9; public long f10; public float f11; public double f12; }   Âü∫ÂáÜÊµãËØïÁªìÊûú‚Äã  Êó†ÂéãÁº©Ôºö  Benchmark repeat number: 400000 Object type: class org.apache.fory.graalvm.Struct Compress number: false Fory size: 76.0 JDK size: 178.0 Fory serialization took mills: 49 JDK serialization took mills: 2254 Compare speed: Fory is 45.70x speed of JDK Compare size: Fory is 0.43x size of JDK   Êï∞Â≠óÂéãÁº©Ôºö  Benchmark repeat number: 400000 Object type: class org.apache.fory.graalvm.Struct Compress number: true Fory size: 55.0 JDK size: 178.0 Fory serialization took mills: 130 JDK serialization took mills: 3161 Compare speed: Fory is 24.16x speed of JDK Compare size: Fory is 0.31x size of JDK   ","version":"dev","tagName":"h3"},{"title":"Pojo Âü∫ÂáÜÊµãËØï‚Äã","type":1,"pageTitle":"GraalVM ÊåáÂçó","url":"/zh-CN/docs/next/guide/graalvm_serialization#pojo-Âü∫ÂáÜÊµãËØï","content":" Á±ªÂ≠óÊÆµ‚Äã  public class Foo implements Serializable { int f1; String f2; List&lt;String&gt; f3; Map&lt;String, Long&gt; f4; }   Âü∫ÂáÜÊµãËØïÁªìÊûú‚Äã  Êó†ÂéãÁº©Ôºö  Benchmark repeat number: 400000 Object type: class org.apache.fory.graalvm.Foo Compress number: false Fory size: 541.0 JDK size: 964.0 Fory serialization took mills: 1663 JDK serialization took mills: 16266 Compare speed: Fory is 12.19x speed of JDK Compare size: Fory is 0.56x size of JDK   Êï∞Â≠óÂéãÁº©Ôºö  Benchmark repeat number: 400000 Object type: class org.apache.fory.graalvm.Foo Compress number: true Fory size: 459.0 JDK size: 964.0 Fory serialization took mills: 1289 JDK serialization took mills: 15069 Compare speed: Fory is 12.11x speed of JDK Compare size: Fory is 0.48x size of JDK  ","version":"dev","tagName":"h3"},{"title":"Java Â∫èÂàóÂåñÊåáÂçó","type":0,"sectionRef":"#","url":"/zh-CN/docs/next/guide/java/","content":"","keywords":"","version":"dev"},{"title":"ÁâπÊÄß‚Äã","type":1,"pageTitle":"Java Â∫èÂàóÂåñÊåáÂçó","url":"/zh-CN/docs/next/guide/java/#ÁâπÊÄß","content":" ","version":"dev","tagName":"h2"},{"title":"È´òÊÄßËÉΩ‚Äã","type":1,"pageTitle":"Java Â∫èÂàóÂåñÊåáÂçó","url":"/zh-CN/docs/next/guide/java/#È´òÊÄßËÉΩ","content":" JIT ‰ª£Á†ÅÁîüÊàêÔºöÈ´òÂ∫¶ÂèØÊâ©Â±ïÁöÑ JIT Ê°ÜÊû∂Âú®ËøêË°åÊó∂‰ΩøÁî®ÂºÇÊ≠•Â§öÁ∫øÁ®ãÁºñËØëÁîüÊàêÂ∫èÂàóÂåñÂô®‰ª£Á†ÅÔºåÈÄöËøá‰ª•‰∏ãÊñπÂºèÊèê‰æõ 20-170 ÂÄçÁöÑÂä†ÈÄüÔºö ÂÜÖËÅîÂèòÈáè‰ª•ÂáèÂ∞ëÂÜÖÂ≠òËÆøÈóÆÂÜÖËÅîÊñπÊ≥ïË∞ÉÁî®‰ª•Ê∂àÈô§ËôöÊãüÂàÜÊ¥æÂºÄÈîÄÊúÄÂ∞èÂåñÊù°‰ª∂ÂàÜÊîØÊ∂àÈô§ÂìàÂ∏åÊü•Êâæ Èõ∂Êã∑Ë¥ùÔºöÁõ¥Êé•ÂÜÖÂ≠òËÆøÈóÆÔºåÊó†‰∏≠Èó¥ÁºìÂÜ≤Âå∫Êã∑Ë¥ùÔºõË°åÊ†ºÂºèÊîØÊåÅÈöèÊú∫ËÆøÈóÆÂíåÈÉ®ÂàÜÂ∫èÂàóÂåñÂèòÈïøÁºñÁ†ÅÔºöÂØπÊï¥Êï∞ÂíåÈïøÊï¥ÂûãËøõË°å‰ºòÂåñÂéãÁº©ÂÖÉÊï∞ÊçÆÂÖ±‰∫´ÔºöÁºìÂ≠òÁöÑÁ±ªÂÖÉÊï∞ÊçÆÂáèÂ∞ëÂÜó‰ΩôÁ±ªÂûã‰ø°ÊÅØSIMD Âä†ÈÄüÔºöÊîØÊåÅ Java Vector API Áî®‰∫éÊï∞ÁªÑÊìç‰ΩúÔºàJava 16+Ôºâ  ","version":"dev","tagName":"h3"},{"title":"Âç≥ÊèíÂç≥Áî®Êõø‰ª£‚Äã","type":1,"pageTitle":"Java Â∫èÂàóÂåñÊåáÂçó","url":"/zh-CN/docs/next/guide/java/#Âç≥ÊèíÂç≥Áî®Êõø‰ª£","content":" 100% JDK Â∫èÂàóÂåñÂÖºÂÆπÔºöÊîØÊåÅ writeObject/readObject/writeReplace/readResolve/readObjectNoData/ExternalizableJava 8-24 ÊîØÊåÅÔºöÈÄÇÁî®‰∫éÊâÄÊúâÁé∞‰ª£ Java ÁâàÊú¨ÔºåÂåÖÊã¨ Java 17+ ÁöÑ recordGraalVM Native ImageÔºöÊîØÊåÅ AOT ÁºñËØëÔºåÊó†ÈúÄÂèçÂ∞ÑÈÖçÁΩÆ  ","version":"dev","tagName":"h3"},{"title":"È´òÁ∫ßÁâπÊÄß‚Äã","type":1,"pageTitle":"Java Â∫èÂàóÂåñÊåáÂçó","url":"/zh-CN/docs/next/guide/java/#È´òÁ∫ßÁâπÊÄß","content":" ÂºïÁî®Ë∑üË∏™ÔºöËá™Âä®Â§ÑÁêÜÂÖ±‰∫´ÂºïÁî®ÂíåÂæ™ÁéØÂºïÁî®Schema ÊºîÂåñÔºöÁ±ª schema ÂèòÊõ¥ÁöÑÂâçÂêë/ÂêéÂêëÂÖºÂÆπÊÄßÂ§öÊÄÅÊÄßÔºöÂÆåÂÖ®ÊîØÊåÅÁªßÊâøÂ±ÇÊ¨°ÁªìÊûÑÂíåÊé•Âè£Ê∑±Êã∑Ë¥ùÔºöÈ´òÊïàÊ∑±Â∫¶ÂÖãÈöÜÂ§çÊùÇÂØπË±°ÂõæÂπ∂‰øùÁïôÂºïÁî®ÂÆâÂÖ®ÊÄßÔºöÁ±ªÊ≥®ÂÜåÂíåÂèØÈÖçÁΩÆÁöÑÂèçÂ∫èÂàóÂåñÁ≠ñÁï•  ","version":"dev","tagName":"h3"},{"title":"Âø´ÈÄüÂºÄÂßã‚Äã","type":1,"pageTitle":"Java Â∫èÂàóÂåñÊåáÂçó","url":"/zh-CN/docs/next/guide/java/#Âø´ÈÄüÂºÄÂßã","content":" Ê≥®ÊÑèÔºåFory ÁöÑÂàõÂª∫ÊàêÊú¨‰∏ç‰ΩéÔºåÂ∫îËØ•Âú®Â§öÊ¨°Â∫èÂàóÂåñ‰πãÈó¥Â§çÁî® Fory ÂÆû‰æãÔºåËÄå‰∏çÊòØÊØèÊ¨°ÈÉΩÂàõÂª∫„ÄÇ‰Ω†Â∫îËØ•Â∞Ü Fory ‰Ωú‰∏∫ÈùôÊÄÅÂÖ®Â±ÄÂèòÈáèÔºåÊàñËÄÖÊüê‰∏™Âçï‰æãÂØπË±°ÊàñÊúâÈôêÂØπË±°ÁöÑÂÆû‰æãÂèòÈáè„ÄÇ  ","version":"dev","tagName":"h2"},{"title":"ÂçïÁ∫øÁ®ã‰ΩøÁî®‚Äã","type":1,"pageTitle":"Java Â∫èÂàóÂåñÊåáÂçó","url":"/zh-CN/docs/next/guide/java/#ÂçïÁ∫øÁ®ã‰ΩøÁî®","content":" import java.util.List; import java.util.Arrays; import org.apache.fory.*; import org.apache.fory.config.*; public class Example { public static void main(String[] args) { SomeClass object = new SomeClass(); // Ê≥®ÊÑè Fory ÂÆû‰æãÂ∫îËØ•Âú®Â§öÊ¨°‰∏çÂêåÂØπË±°ÁöÑÂ∫èÂàóÂåñ‰πãÈó¥Â§çÁî®„ÄÇ Fory fory = Fory.builder().withLanguage(Language.JAVA) .requireClassRegistration(true) .build(); // Ê≥®ÂÜåÁ±ªÂûãÂèØ‰ª•ÂáèÂ∞ëÁ±ªÂêçÂ∫èÂàóÂåñÂºÄÈîÄÔºå‰ΩÜ‰∏çÊòØÂøÖÈ°ªÁöÑ„ÄÇ // Â¶ÇÊûúÂêØÁî®‰∫ÜÁ±ªÊ≥®ÂÜåÔºåÊâÄÊúâËá™ÂÆö‰πâÁ±ªÂûãÈÉΩÂøÖÈ°ªÊ≥®ÂÜå„ÄÇ // Â¶ÇÊûúÊú™ÊåáÂÆö idÔºåÊ≥®ÂÜåÈ°∫Â∫èÂøÖÈ°ª‰∏ÄËá¥ fory.register(SomeClass.class); byte[] bytes = fory.serialize(object); System.out.println(fory.deserialize(bytes)); } }   ","version":"dev","tagName":"h3"},{"title":"Â§öÁ∫øÁ®ã‰ΩøÁî®‚Äã","type":1,"pageTitle":"Java Â∫èÂàóÂåñÊåáÂçó","url":"/zh-CN/docs/next/guide/java/#Â§öÁ∫øÁ®ã‰ΩøÁî®","content":" import java.util.List; import java.util.Arrays; import org.apache.fory.*; import org.apache.fory.config.*; public class Example { public static void main(String[] args) { SomeClass object = new SomeClass(); // Ê≥®ÊÑè Fory ÂÆû‰æãÂ∫îËØ•Âú®Â§öÊ¨°‰∏çÂêåÂØπË±°ÁöÑÂ∫èÂàóÂåñ‰πãÈó¥Â§çÁî®„ÄÇ ThreadSafeFory fory = new ThreadLocalFory(classLoader -&gt; { Fory f = Fory.builder().withLanguage(Language.JAVA) .withClassLoader(classLoader).build(); f.register(SomeClass.class, 1); return f; }); byte[] bytes = fory.serialize(object); System.out.println(fory.deserialize(bytes)); } }   ","version":"dev","tagName":"h3"},{"title":"Fory ÂÆû‰æãÂ§çÁî®Ê®°Âºè‚Äã","type":1,"pageTitle":"Java Â∫èÂàóÂåñÊåáÂçó","url":"/zh-CN/docs/next/guide/java/#fory-ÂÆû‰æãÂ§çÁî®Ê®°Âºè","content":" import java.util.List; import java.util.Arrays; import org.apache.fory.*; import org.apache.fory.config.*; public class Example { // Â§çÁî® fory„ÄÇ private static final ThreadSafeFory fory = new ThreadLocalFory(classLoader -&gt; { Fory f = Fory.builder().withLanguage(Language.JAVA) .withClassLoader(classLoader).build(); f.register(SomeClass.class, 1); return f; }); public static void main(String[] args) { SomeClass object = new SomeClass(); byte[] bytes = fory.serialize(object); System.out.println(fory.deserialize(bytes)); } }   ","version":"dev","tagName":"h3"},{"title":"Á∫øÁ®ãÂÆâÂÖ®‚Äã","type":1,"pageTitle":"Java Â∫èÂàóÂåñÊåáÂçó","url":"/zh-CN/docs/next/guide/java/#Á∫øÁ®ãÂÆâÂÖ®","content":" Fory Êèê‰æõÂ§öÁßçÁ∫øÁ®ãÂÆâÂÖ®Â∫èÂàóÂåñÈÄâÈ°πÔºö  ","version":"dev","tagName":"h2"},{"title":"ThreadLocalFory‚Äã","type":1,"pageTitle":"Java Â∫èÂàóÂåñÊåáÂçó","url":"/zh-CN/docs/next/guide/java/#threadlocalfory","content":" ‰ΩøÁî®Á∫øÁ®ãÊú¨Âú∞Â≠òÂÇ®‰∏∫ÊØè‰∏™Á∫øÁ®ãÁª¥Êä§Áã¨Á´ãÁöÑ Fory ÂÆû‰æãÔºö  ThreadSafeFory fory = new ThreadLocalFory(classLoader -&gt; { Fory f = Fory.builder().withLanguage(Language.JAVA) .withClassLoader(classLoader).build(); f.register(SomeClass.class, 1); return f; }); byte[] bytes = fory.serialize(object); System.out.println(fory.deserialize(bytes));   ","version":"dev","tagName":"h3"},{"title":"ThreadSafeForyPool‚Äã","type":1,"pageTitle":"Java Â∫èÂàóÂåñÊåáÂçó","url":"/zh-CN/docs/next/guide/java/#threadsafeforypool","content":" ÂØπ‰∫éËôöÊãüÁ∫øÁ®ãÊàñ‰∏çÈÄÇÂêà‰ΩøÁî®Á∫øÁ®ãÊú¨Âú∞Â≠òÂÇ®ÁöÑÁéØÂ¢ÉÔºå‰ΩøÁî® buildThreadSafeForyPoolÔºö  ThreadSafeFory fory = Fory.builder() .withLanguage(Language.JAVA) .withRefTracking(false) .withCompatibleMode(CompatibleMode.SCHEMA_CONSISTENT) .withAsyncCompilation(true) .buildThreadSafeForyPool(minPoolSize, maxPoolSize);   Ê≥®ÊÑèÔºåÂú® ForyBuilder ‰∏äË∞ÉÁî® buildThreadSafeFory() Â∞ÜÂàõÂª∫ ThreadLocalFory ÂÆû‰æã„ÄÇËøôÂú®‰ΩøÁî®ËôöÊãüÁ∫øÁ®ãÁöÑÁéØÂ¢É‰∏≠ÂèØËÉΩ‰∏çÂêàÈÄÇÔºåÂõ†‰∏∫ÊØè‰∏™Á∫øÁ®ãÈÉΩ‰ºöÂàõÂª∫Ëá™Â∑±ÁöÑ Fory ÂÆû‰æãÔºåËøôÊòØ‰∏Ä‰∏™Áõ∏ÂØπÊòÇË¥µÁöÑÊìç‰Ωú„ÄÇÂØπ‰∫éËôöÊãüÁ∫øÁ®ãÔºåÂè¶‰∏ÄÁßçÈÄâÊã©ÊòØ‰ΩøÁî® buildThreadSafeForyPool„ÄÇ  ","version":"dev","tagName":"h3"},{"title":"Builder ÊñπÊ≥ï‚Äã","type":1,"pageTitle":"Java Â∫èÂàóÂåñÊåáÂçó","url":"/zh-CN/docs/next/guide/java/#builder-ÊñπÊ≥ï","content":" // ÂçïÁ∫øÁ®ã Fory Fory fory = Fory.builder() .withLanguage(Language.JAVA) .withRefTracking(false) .withCompatibleMode(CompatibleMode.SCHEMA_CONSISTENT) .withAsyncCompilation(true) .build(); // Á∫øÁ®ãÂÆâÂÖ® Fory (ThreadLocalFory) ThreadSafeFory fory = Fory.builder() .withLanguage(Language.JAVA) .withRefTracking(false) .withCompatibleMode(CompatibleMode.SCHEMA_CONSISTENT) .withAsyncCompilation(true) .buildThreadSafeFory();   ","version":"dev","tagName":"h3"},{"title":"ÂêéÁª≠Ê≠•È™§‚Äã","type":1,"pageTitle":"Java Â∫èÂàóÂåñÊåáÂçó","url":"/zh-CN/docs/next/guide/java/#ÂêéÁª≠Ê≠•È™§","content":" ÈÖçÁΩÆÈÄâÈ°π - ‰∫ÜËß£ ForyBuilder ÈÄâÈ°πÂü∫Á°ÄÂ∫èÂàóÂåñ - ËØ¶ÁªÜÁöÑÂ∫èÂàóÂåñÊ®°ÂºèÁ±ªÂûãÊ≥®ÂÜå - Á±ªÊ≥®ÂÜåÂíåÂÆâÂÖ®ÊÄßËá™ÂÆö‰πâÂ∫èÂàóÂåñÂô® - ÂÆûÁé∞Ëá™ÂÆö‰πâÂ∫èÂàóÂåñÂô®Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ - ‰∏∫ÂÖ∂‰ªñËØ≠Ë®ÄÂ∫èÂàóÂåñÊï∞ÊçÆ ","version":"dev","tagName":"h2"},{"title":"Âü∫Á°ÄÂ∫èÂàóÂåñ","type":0,"sectionRef":"#","url":"/zh-CN/docs/next/guide/java/basic_serialization","content":"","keywords":"","version":"dev"},{"title":"ÂàõÂª∫ Fory ÂÆû‰æã‚Äã","type":1,"pageTitle":"Âü∫Á°ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/next/guide/java/basic_serialization#ÂàõÂª∫-fory-ÂÆû‰æã","content":" ","version":"dev","tagName":"h2"},{"title":"ÂçïÁ∫øÁ®ã Fory‚Äã","type":1,"pageTitle":"Âü∫Á°ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/next/guide/java/basic_serialization#ÂçïÁ∫øÁ®ã-fory","content":" ÂØπ‰∫éÂçïÁ∫øÁ®ãÂ∫îÁî®Á®ãÂ∫èÔºö  Fory fory = Fory.builder() .withLanguage(Language.JAVA) // ÂêØÁî®ÂºïÁî®Ë∑üË∏™‰ª•ÊîØÊåÅÂÖ±‰∫´/Âæ™ÁéØÂºïÁî®„ÄÇ // Â¶ÇÊûúÊ≤°ÊúâÈáçÂ§çÂºïÁî®ÔºåÁ¶ÅÁî®ÂÆÉ‰ºöÊúâÊõ¥Â•ΩÁöÑÊÄßËÉΩ„ÄÇ .withRefTracking(false) .withCompatibleMode(CompatibleMode.SCHEMA_CONSISTENT) // ÂêØÁî®Á±ªÂûãÂâçÂêë/ÂêéÂêëÂÖºÂÆπÊÄß // Á¶ÅÁî®ÂÆÉ‰ª•Ëé∑ÂæóÊõ¥Â∞èÁöÑÂ§ßÂ∞èÂíåÊõ¥Â•ΩÁöÑÊÄßËÉΩ„ÄÇ // .withCompatibleMode(CompatibleMode.COMPATIBLE) // ÂêØÁî®ÂºÇÊ≠•Â§öÁ∫øÁ®ãÁºñËØë„ÄÇ .withAsyncCompilation(true) .build(); byte[] bytes = fory.serialize(object); System.out.println(fory.deserialize(bytes));   ","version":"dev","tagName":"h3"},{"title":"Á∫øÁ®ãÂÆâÂÖ® Fory‚Äã","type":1,"pageTitle":"Âü∫Á°ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/next/guide/java/basic_serialization#Á∫øÁ®ãÂÆâÂÖ®-fory","content":" ÂØπ‰∫éÂ§öÁ∫øÁ®ãÂ∫îÁî®Á®ãÂ∫èÔºö  ThreadSafeFory fory = Fory.builder() .withLanguage(Language.JAVA) // ÂêØÁî®ÂºïÁî®Ë∑üË∏™‰ª•ÊîØÊåÅÂÖ±‰∫´/Âæ™ÁéØÂºïÁî®„ÄÇ // Â¶ÇÊûúÊ≤°ÊúâÈáçÂ§çÂºïÁî®ÔºåÁ¶ÅÁî®ÂÆÉ‰ºöÊúâÊõ¥Â•ΩÁöÑÊÄßËÉΩ„ÄÇ .withRefTracking(false) // ÂéãÁº© int ‰ª•Ëé∑ÂæóÊõ¥Â∞èÁöÑÂ§ßÂ∞è // .withIntCompressed(true) // ÂéãÁº© long ‰ª•Ëé∑ÂæóÊõ¥Â∞èÁöÑÂ§ßÂ∞è // .withLongCompressed(true) .withCompatibleMode(CompatibleMode.SCHEMA_CONSISTENT) // ÂêØÁî®Á±ªÂûãÂâçÂêë/ÂêéÂêëÂÖºÂÆπÊÄß // Á¶ÅÁî®ÂÆÉ‰ª•Ëé∑ÂæóÊõ¥Â∞èÁöÑÂ§ßÂ∞èÂíåÊõ¥Â•ΩÁöÑÊÄßËÉΩ„ÄÇ // .withCompatibleMode(CompatibleMode.COMPATIBLE) // ÂêØÁî®ÂºÇÊ≠•Â§öÁ∫øÁ®ãÁºñËØë„ÄÇ .withAsyncCompilation(true) .buildThreadSafeFory(); byte[] bytes = fory.serialize(object); System.out.println(fory.deserialize(bytes));   ","version":"dev","tagName":"h3"},{"title":"ÂØπË±°Ê∑±Êã∑Ë¥ù‚Äã","type":1,"pageTitle":"Âü∫Á°ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/next/guide/java/basic_serialization#ÂØπË±°Ê∑±Êã∑Ë¥ù","content":" Fory Êèê‰æõÈ´òÊïàÁöÑÊ∑±Êã∑Ë¥ùÂäüËÉΩÔºö  ","version":"dev","tagName":"h2"},{"title":"ÂêØÁî®ÂºïÁî®Ë∑üË∏™‚Äã","type":1,"pageTitle":"Âü∫Á°ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/next/guide/java/basic_serialization#ÂêØÁî®ÂºïÁî®Ë∑üË∏™","content":" Fory fory = Fory.builder().withRefCopy(true).build(); SomeClass a = xxx; SomeClass copied = fory.copy(a);   ","version":"dev","tagName":"h3"},{"title":"Á¶ÅÁî®ÂºïÁî®Ë∑üË∏™ÔºàÊõ¥Â•ΩÁöÑÊÄßËÉΩÔºâ‚Äã","type":1,"pageTitle":"Âü∫Á°ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/next/guide/java/basic_serialization#Á¶ÅÁî®ÂºïÁî®Ë∑üË∏™Êõ¥Â•ΩÁöÑÊÄßËÉΩ","content":" Á¶ÅÁî®Êó∂ÔºåÊ∑±Êã∑Ë¥ùÂ∞ÜÂøΩÁï•Âæ™ÁéØÂºïÁî®ÂíåÂÖ±‰∫´ÂºïÁî®„ÄÇÂØπË±°ÂõæÁöÑÁõ∏ÂêåÂºïÁî®Â∞ÜÂú®‰∏ÄÊ¨° Fory#copy ‰∏≠Ë¢´Â§çÂà∂‰∏∫‰∏çÂêåÁöÑÂØπË±°Ôºö  Fory fory = Fory.builder().withRefCopy(false).build(); SomeClass a = xxx; SomeClass copied = fory.copy(a);   ","version":"dev","tagName":"h3"},{"title":"Â∫èÂàóÂåñ API‚Äã","type":1,"pageTitle":"Âü∫Á°ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/next/guide/java/basic_serialization#Â∫èÂàóÂåñ-api","content":" ","version":"dev","tagName":"h2"},{"title":"Âü∫Êú¨Â∫èÂàóÂåñ/ÂèçÂ∫èÂàóÂåñ‚Äã","type":1,"pageTitle":"Âü∫Á°ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/next/guide/java/basic_serialization#Âü∫Êú¨Â∫èÂàóÂåñÂèçÂ∫èÂàóÂåñ","content":" // Â∞ÜÂØπË±°Â∫èÂàóÂåñ‰∏∫Â≠óËäÇÊï∞ÁªÑ byte[] bytes = fory.serialize(object); // Â∞ÜÂ≠óËäÇÊï∞ÁªÑÂèçÂ∫èÂàóÂåñ‰∏∫ÂØπË±° Object obj = fory.deserialize(bytes);   ","version":"dev","tagName":"h3"},{"title":"Â∏¶Á±ªÂûãÁöÑÂ∫èÂàóÂåñ/ÂèçÂ∫èÂàóÂåñ‚Äã","type":1,"pageTitle":"Âü∫Á°ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/next/guide/java/basic_serialization#Â∏¶Á±ªÂûãÁöÑÂ∫èÂàóÂåñÂèçÂ∫èÂàóÂåñ","content":" // ‰ΩøÁî®ÊòæÂºèÁ±ªÂûãÂ∫èÂàóÂåñ byte[] bytes = fory.serializeJavaObject(object); // ‰ΩøÁî®È¢ÑÊúüÁ±ªÂûãÂèçÂ∫èÂàóÂåñ MyClass obj = fory.deserializeJavaObject(bytes, MyClass.class);   ","version":"dev","tagName":"h3"},{"title":"Â∏¶Á±ªÂûã‰ø°ÊÅØÁöÑÂ∫èÂàóÂåñ/ÂèçÂ∫èÂàóÂåñ‚Äã","type":1,"pageTitle":"Âü∫Á°ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/next/guide/java/basic_serialization#Â∏¶Á±ªÂûã‰ø°ÊÅØÁöÑÂ∫èÂàóÂåñÂèçÂ∫èÂàóÂåñ","content":" // Â∏¶Á±ªÂûã‰ø°ÊÅØÂ∫èÂàóÂåñ byte[] bytes = fory.serializeJavaObjectAndClass(object); // ‰ΩøÁî®ÂµåÂÖ•ÁöÑÁ±ªÂûã‰ø°ÊÅØÂèçÂ∫èÂàóÂåñ Object obj = fory.deserializeJavaObjectAndClass(bytes);   ","version":"dev","tagName":"h3"},{"title":"ÊúÄ‰Ω≥ÂÆûË∑µ‚Äã","type":1,"pageTitle":"Âü∫Á°ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/next/guide/java/basic_serialization#ÊúÄ‰Ω≥ÂÆûË∑µ","content":" Â§çÁî® Fory ÂÆû‰æãÔºöÂàõÂª∫ Fory ÊàêÊú¨ÂæàÈ´òÔºåÂßãÁªàÂ§çÁî®ÂÆû‰æã‰ΩøÁî®ÈÄÇÂΩìÁöÑÁ∫øÁ®ãÂÆâÂÖ®ÊÄßÔºöÊ†πÊçÆÈúÄË¶ÅÂú®ÂçïÁ∫øÁ®ãÂíåÁ∫øÁ®ãÂÆâÂÖ®‰πãÈó¥ÈÄâÊã©Ê≥®ÂÜåÁ±ªÔºöÊ≥®ÂÜåÂ∏∏Áî®Á±ª‰ª•Ëé∑ÂæóÊõ¥Â•ΩÁöÑÊÄßËÉΩÈÖçÁΩÆÂºïÁî®Ë∑üË∏™ÔºöÂ¶ÇÊûúÊ≤°ÊúâÂæ™ÁéØ/ÂÖ±‰∫´ÂºïÁî®ÔºåËØ∑Á¶ÅÁî®ÂÆÉ  ","version":"dev","tagName":"h2"},{"title":"Áõ∏ÂÖ≥‰∏ªÈ¢ò‚Äã","type":1,"pageTitle":"Âü∫Á°ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/next/guide/java/basic_serialization#Áõ∏ÂÖ≥‰∏ªÈ¢ò","content":" ÈÖçÁΩÆÈÄâÈ°π - ÊâÄÊúâ ForyBuilder ÈÄâÈ°πÁ±ªÂûãÊ≥®ÂÜå - Á±ªÊ≥®ÂÜåÊïÖÈöúÊéíÈô§ - Â∏∏ËßÅ API ‰ΩøÁî®ÈóÆÈ¢ò ","version":"dev","tagName":"h2"},{"title":"ÂéãÁº©","type":0,"sectionRef":"#","url":"/zh-CN/docs/next/guide/java/compression","content":"","keywords":"","version":"dev"},{"title":"Êï¥Êï∞ÂéãÁº©‚Äã","type":1,"pageTitle":"ÂéãÁº©","url":"/zh-CN/docs/next/guide/java/compression#Êï¥Êï∞ÂéãÁº©","content":" ForyBuilder#withIntCompressed/ForyBuilder#withLongCompressed ÂèØÁî®‰∫éÂéãÁº© int/long ‰ª•Ëé∑ÂæóÊõ¥Â∞èÁöÑÂ§ßÂ∞è„ÄÇÈÄöÂ∏∏ÂéãÁº© int Â∞±Ë∂≥Â§ü‰∫Ü„ÄÇ  Ëøô‰∏§‰∏™ÂéãÁº©ÈÄâÈ°πÈªòËÆ§ÈÉΩÊòØÂêØÁî®ÁöÑ„ÄÇÂ¶ÇÊûúÂ∫èÂàóÂåñÂ§ßÂ∞è‰∏çÈáçË¶ÅÔºà‰æãÂ¶ÇÔºå‰Ω†‰πãÂâç‰ΩøÁî® FlatBuffers ËøõË°åÂ∫èÂàóÂåñÔºåÂÆÉ‰∏çÂéãÁº©‰ªª‰Ωï‰∏úË•øÔºâÔºåÈÇ£‰πà‰Ω†Â∫îËØ•Á¶ÅÁî®ÂéãÁº©„ÄÇÂ¶ÇÊûú‰Ω†ÁöÑÊï∞ÊçÆÂÖ®ÊòØÊï∞Â≠óÔºåÂéãÁº©ÂèØËÉΩ‰ºöÂ∏¶Êù• 80% ÁöÑÊÄßËÉΩÂõûÈÄÄ„ÄÇ  ","version":"dev","tagName":"h2"},{"title":"Int ÂéãÁº©‚Äã","type":1,"pageTitle":"ÂéãÁº©","url":"/zh-CN/docs/next/guide/java/compression#int-ÂéãÁº©","content":" ÂØπ‰∫é int ÂéãÁº©ÔºåFory ‰ΩøÁî® 1~5 ‰∏™Â≠óËäÇËøõË°åÁºñÁ†Å„ÄÇÊØè‰∏™Â≠óËäÇ‰∏≠ÁöÑÁ¨¨‰∏Ä‰ΩçË°®Á§∫ÊòØÂê¶Êúâ‰∏ã‰∏Ä‰∏™Â≠óËäÇ„ÄÇÂ¶ÇÊûúËÆæÁΩÆ‰∫ÜÁ¨¨‰∏Ä‰ΩçÔºåÂàôÂ∞ÜËØªÂèñ‰∏ã‰∏Ä‰∏™Â≠óËäÇÔºåÁõ¥Âà∞‰∏ã‰∏Ä‰∏™Â≠óËäÇÁöÑÁ¨¨‰∏Ä‰ΩçÊú™ËÆæÁΩÆ„ÄÇ  ","version":"dev","tagName":"h3"},{"title":"Long ÂéãÁº©‚Äã","type":1,"pageTitle":"ÂéãÁº©","url":"/zh-CN/docs/next/guide/java/compression#long-ÂéãÁº©","content":" ÂØπ‰∫é long ÂéãÁº©ÔºåFory ÊîØÊåÅ‰∏§ÁßçÁºñÁ†ÅÔºö  SLIÔºàSmall Long as IntÔºâÁºñÁ†ÅÔºàÈªòËÆ§Ôºâ‚Äã  Â¶ÇÊûú long Âú® [-1073741824, 1073741823] ËåÉÂõ¥ÂÜÖÔºåÁºñÁ†Å‰∏∫ 4 Â≠óËäÇ intÔºö| little-endian: ((int) value) &lt;&lt; 1 |Âê¶ÂàôÂÜô‰∏∫ 9 Â≠óËäÇÔºö| 0b1 | little-endian 8bytes long |  PVLÔºàProgressive Variable-length LongÔºâÁºñÁ†Å‚Äã  ÊØè‰∏™Â≠óËäÇ‰∏≠ÁöÑÁ¨¨‰∏Ä‰ΩçË°®Á§∫ÊòØÂê¶Êúâ‰∏ã‰∏Ä‰∏™Â≠óËäÇ„ÄÇÂ¶ÇÊûúËÆæÁΩÆ‰∫ÜÁ¨¨‰∏Ä‰ΩçÔºåÂàôÂ∞ÜËØªÂèñ‰∏ã‰∏Ä‰∏™Â≠óËäÇÔºåÁõ¥Âà∞‰∏ã‰∏Ä‰∏™Â≠óËäÇÁöÑÁ¨¨‰∏Ä‰ΩçÊú™ËÆæÁΩÆ„ÄÇË¥üÊï∞Â∞ÜÈÄöËøá (v &lt;&lt; 1) ^ (v &gt;&gt; 63) ËΩ¨Êç¢‰∏∫Ê≠£Êï∞Ôºå‰ª•ÂáèÂ∞ëÂ∞èË¥üÊï∞ÁöÑÊàêÊú¨„ÄÇ  Â¶ÇÊûúÊï∞Â≠óÊòØ long Á±ªÂûãÔºå‰ΩÜÂ§ßÂ§öÊï∞ÊÉÖÂÜµ‰∏ã‰∏çËÉΩÁî®ËæÉÂ∞èÁöÑÂ≠óËäÇË°®Á§∫ÔºåÂéãÁº©‰∏ç‰ºöÂæóÂà∞Ë∂≥Â§üÂ•ΩÁöÑÁªìÊûú‚Äî‚Äî‰∏éÊÄßËÉΩÊàêÊú¨Áõ∏ÊØî‰∏çÂÄºÂæó„ÄÇÂ¶ÇÊûú‰Ω†ÂèëÁé∞ÂÆÉÊ≤°ÊúâÂ∏¶Êù•Â§™Â§öÁ©∫Èó¥ËäÇÁúÅÔºå‰πüËÆ∏‰Ω†Â∫îËØ•Â∞ùËØïÁ¶ÅÁî® long ÂéãÁº©„ÄÇ  ","version":"dev","tagName":"h3"},{"title":"Êï∞ÁªÑÂéãÁº©‚Äã","type":1,"pageTitle":"ÂéãÁº©","url":"/zh-CN/docs/next/guide/java/compression#Êï∞ÁªÑÂéãÁº©","content":" ÂΩìÊï∞ÁªÑÂÄºÂèØ‰ª•ÈÄÇÈÖçËæÉÂ∞èÁöÑÊï∞ÊçÆÁ±ªÂûãÊó∂ÔºåFory ÊîØÊåÅÂéüÂßãÊï∞ÁªÑÔºàint[] Âíå long[]ÔºâÁöÑ SIMD Âä†ÈÄüÂéãÁº©„ÄÇÊ≠§ÂäüËÉΩÂú® Java 16+ ‰∏äÂèØÁî®ÔºåÂπ∂‰ΩøÁî® Vector API ‰ª•Ëé∑ÂæóÊúÄ‰Ω≥ÊÄßËÉΩ„ÄÇ  ","version":"dev","tagName":"h2"},{"title":"Êï∞ÁªÑÂéãÁº©Â∑•‰ΩúÂéüÁêÜ‚Äã","type":1,"pageTitle":"ÂéãÁº©","url":"/zh-CN/docs/next/guide/java/compression#Êï∞ÁªÑÂéãÁº©Â∑•‰ΩúÂéüÁêÜ","content":" Êï∞ÁªÑÂéãÁº©ÂàÜÊûêÊï∞ÁªÑ‰ª•Á°ÆÂÆöÂÄºÊòØÂê¶ÂèØ‰ª•‰ΩøÁî®Êõ¥Â∞ëÁöÑÂ≠óËäÇÂ≠òÂÇ®Ôºö  int[] ‚Üí byte[]ÔºöÂΩìÊâÄÊúâÂÄºÈÉΩÂú®ËåÉÂõ¥ [-128, 127] ÂÜÖÊó∂ÔºàÂáèÂ∞ë 75% Â§ßÂ∞èÔºâint[] ‚Üí short[]ÔºöÂΩìÊâÄÊúâÂÄºÈÉΩÂú®ËåÉÂõ¥ [-32768, 32767] ÂÜÖÊó∂ÔºàÂáèÂ∞ë 50% Â§ßÂ∞èÔºâlong[] ‚Üí int[]ÔºöÂΩìÊâÄÊúâÂÄºÈÉΩÈÄÇÂêàÊï¥Êï∞ËåÉÂõ¥Êó∂ÔºàÂáèÂ∞ë 50% Â§ßÂ∞èÔºâ  ","version":"dev","tagName":"h3"},{"title":"ÈÖçÁΩÆÂíåÊ≥®ÂÜå‚Äã","type":1,"pageTitle":"ÂéãÁº©","url":"/zh-CN/docs/next/guide/java/compression#ÈÖçÁΩÆÂíåÊ≥®ÂÜå","content":" Ë¶ÅÂêØÁî®Êï∞ÁªÑÂéãÁº©Ôºå‰Ω†ÂøÖÈ°ªÊòæÂºèÊ≥®ÂÜåÂ∫èÂàóÂåñÂô®Ôºö  Fory fory = Fory.builder() .withLanguage(Language.JAVA) // ÂêØÁî® int Êï∞ÁªÑÂéãÁº© .withIntArrayCompressed(true) // ÂêØÁî® long Êï∞ÁªÑÂéãÁº© .withLongArrayCompressed(true) .build(); // ‰Ω†ÂøÖÈ°ªÊòæÂºèÊ≥®ÂÜåÂéãÁº©Êï∞ÁªÑÂ∫èÂàóÂåñÂô® CompressedArraySerializers.registerSerializers(fory);   Ê≥®ÊÑèÔºöÂøÖÈ°ªÂú®‰æùËµñÈ°π‰∏≠ÂåÖÂê´ fory-simd Ê®°ÂùóÔºåÂéãÁº©Êï∞ÁªÑÂ∫èÂàóÂåñÂô®ÊâçÂèØÁî®„ÄÇ  ","version":"dev","tagName":"h3"},{"title":"Maven ‰æùËµñ‚Äã","type":1,"pageTitle":"ÂéãÁº©","url":"/zh-CN/docs/next/guide/java/compression#maven-‰æùËµñ","content":" &lt;dependency&gt; &lt;groupId&gt;org.apache.fory&lt;/groupId&gt; &lt;artifactId&gt;fory-simd&lt;/artifactId&gt; &lt;version&gt;0.14.1&lt;/version&gt; &lt;/dependency&gt;   ","version":"dev","tagName":"h3"},{"title":"Â≠óÁ¨¶‰∏≤ÂéãÁº©‚Äã","type":1,"pageTitle":"ÂéãÁº©","url":"/zh-CN/docs/next/guide/java/compression#Â≠óÁ¨¶‰∏≤ÂéãÁº©","content":" Â≠óÁ¨¶‰∏≤ÂéãÁº©ÂèØ‰ª•ÈÄöËøá ForyBuilder#withStringCompressed(true) ÂêØÁî®„ÄÇËøôÈªòËÆ§ÊòØÁ¶ÅÁî®ÁöÑ„ÄÇ  ","version":"dev","tagName":"h2"},{"title":"ÈÖçÁΩÆÊëòË¶Å‚Äã","type":1,"pageTitle":"ÂéãÁº©","url":"/zh-CN/docs/next/guide/java/compression#ÈÖçÁΩÆÊëòË¶Å","content":" ÈÄâÈ°π\tÊèèËø∞\tÈªòËÆ§ÂÄºcompressInt\tÂêØÁî® int ÂéãÁº©\ttrue compressLong\tÂêØÁî® long ÂéãÁº©\ttrue compressIntArray\tÂêØÁî® SIMD int Êï∞ÁªÑÂéãÁº©ÔºàJava 16+Ôºâ\ttrue compressLongArray\tÂêØÁî® SIMD long Êï∞ÁªÑÂéãÁº©ÔºàJava 16+Ôºâ\ttrue compressString\tÂêØÁî®Â≠óÁ¨¶‰∏≤ÂéãÁº©\tfalse  ","version":"dev","tagName":"h2"},{"title":"ÊÄßËÉΩËÄÉËôë‚Äã","type":1,"pageTitle":"ÂéãÁº©","url":"/zh-CN/docs/next/guide/java/compression#ÊÄßËÉΩËÄÉËôë","content":" ÂØπÊï∞Â≠óÂØÜÈõÜÂûãÊï∞ÊçÆÁ¶ÅÁî®ÂéãÁº©ÔºöÂ¶ÇÊûú‰Ω†ÁöÑÊï∞ÊçÆ‰∏ªË¶ÅÊòØÊï∞Â≠óÔºåÂéãÁº©ÂºÄÈîÄÂèØËÉΩ‰∏çÂÄºÂæóÊï∞ÁªÑÂéãÁº©ÈúÄË¶Å Java 16+Ôºö‰ΩøÁî® Vector API ËøõË°å SIMD Âä†ÈÄüLong ÂéãÁº©ÂèØËÉΩÂØπÂ§ßÂÄºÊó†Áî®ÔºöÂ¶ÇÊûúÂ§ßÂ§öÊï∞ long ‰∏çËÉΩÈÄÇÈÖçËæÉÂ∞èÁöÑË°®Á§∫ÔºåËØ∑Á¶ÅÁî®ÂÆÉÂ≠óÁ¨¶‰∏≤ÂéãÁº©ÊúâÂºÄÈîÄÔºö‰ªÖÂú®Â≠óÁ¨¶‰∏≤È´òÂ∫¶ÂèØÂéãÁº©Êó∂ÂêØÁî®  ","version":"dev","tagName":"h2"},{"title":"Á§∫‰æãÈÖçÁΩÆ‚Äã","type":1,"pageTitle":"ÂéãÁº©","url":"/zh-CN/docs/next/guide/java/compression#Á§∫‰æãÈÖçÁΩÆ","content":" // ÂØπ‰∫é‰∏ªË¶ÅÊòØÊï∞Â≠óÁöÑÊï∞ÊçÆ - Á¶ÅÁî®ÂéãÁº© Fory fory = Fory.builder() .withLanguage(Language.JAVA) .withIntCompressed(false) .withLongCompressed(false) .build(); // ÂØπ‰∫éÂåÖÂê´Êï∞ÁªÑÁöÑÊ∑∑ÂêàÊï∞ÊçÆ - ÂêØÁî®Êï∞ÁªÑÂéãÁº© Fory fory = Fory.builder() .withLanguage(Language.JAVA) .withIntCompressed(true) .withLongCompressed(true) .withIntArrayCompressed(true) .withLongArrayCompressed(true) .build(); CompressedArraySerializers.registerSerializers(fory);   ","version":"dev","tagName":"h2"},{"title":"Áõ∏ÂÖ≥‰∏ªÈ¢ò‚Äã","type":1,"pageTitle":"ÂéãÁº©","url":"/zh-CN/docs/next/guide/java/compression#Áõ∏ÂÖ≥‰∏ªÈ¢ò","content":" ÈÖçÁΩÆÈÄâÈ°π - ÊâÄÊúâ ForyBuilder ÈÄâÈ°πÈ´òÁ∫ßÁâπÊÄß - ÂÜÖÂ≠òÁÆ°ÁêÜ ","version":"dev","tagName":"h2"},{"title":"È´òÁ∫ßÁâπÊÄß","type":0,"sectionRef":"#","url":"/zh-CN/docs/next/guide/java/advanced_features","content":"","keywords":"","version":"dev"},{"title":"Èõ∂Êã∑Ë¥ùÂ∫èÂàóÂåñ‚Äã","type":1,"pageTitle":"È´òÁ∫ßÁâπÊÄß","url":"/zh-CN/docs/next/guide/java/advanced_features#Èõ∂Êã∑Ë¥ùÂ∫èÂàóÂåñ","content":" Fory ÊîØÊåÅÈõ∂Êã∑Ë¥ùÂ∫èÂàóÂåñÔºå‰ª•È´òÊïàÂ§ÑÁêÜÂ§ßÂûã‰∫åËøõÂà∂Êï∞ÊçÆÔºö  import org.apache.fory.*; import org.apache.fory.config.*; import org.apache.fory.serializer.BufferObject; import org.apache.fory.memory.MemoryBuffer; import java.util.*; import java.util.stream.Collectors; public class ZeroCopyExample { // Ê≥®ÊÑè fory ÂÆû‰æãÂ∫îËØ•Â§çÁî®ÔºåËÄå‰∏çÊòØÊØèÊ¨°ÈÉΩÂàõÂª∫„ÄÇ static Fory fory = Fory.builder() .withLanguage(Language.JAVA) .build(); public static void main(String[] args) { List&lt;Object&gt; list = Arrays.asList(&quot;str&quot;, new byte[1000], new int[100], new double[100]); Collection&lt;BufferObject&gt; bufferObjects = new ArrayList&lt;&gt;(); byte[] bytes = fory.serialize(list, e -&gt; !bufferObjects.add(e)); List&lt;MemoryBuffer&gt; buffers = bufferObjects.stream() .map(BufferObject::toBuffer).collect(Collectors.toList()); System.out.println(fory.deserialize(bytes, buffers)); } }   ","version":"dev","tagName":"h2"},{"title":"ÂØπË±°Ê∑±Êã∑Ë¥ù‚Äã","type":1,"pageTitle":"È´òÁ∫ßÁâπÊÄß","url":"/zh-CN/docs/next/guide/java/advanced_features#ÂØπË±°Ê∑±Êã∑Ë¥ù","content":" Fory Êèê‰æõÈ´òÊïàÁöÑÊ∑±Êã∑Ë¥ùÂäüËÉΩÔºö  ","version":"dev","tagName":"h2"},{"title":"ÂêØÁî®ÂºïÁî®Ë∑üË∏™‚Äã","type":1,"pageTitle":"È´òÁ∫ßÁâπÊÄß","url":"/zh-CN/docs/next/guide/java/advanced_features#ÂêØÁî®ÂºïÁî®Ë∑üË∏™","content":" Fory fory = Fory.builder().withRefCopy(true).build(); SomeClass a = xxx; SomeClass copied = fory.copy(a);   ","version":"dev","tagName":"h3"},{"title":"Á¶ÅÁî®ÂºïÁî®Ë∑üË∏™ÔºàÊõ¥Â•ΩÁöÑÊÄßËÉΩÔºâ‚Äã","type":1,"pageTitle":"È´òÁ∫ßÁâπÊÄß","url":"/zh-CN/docs/next/guide/java/advanced_features#Á¶ÅÁî®ÂºïÁî®Ë∑üË∏™Êõ¥Â•ΩÁöÑÊÄßËÉΩ","content":" Á¶ÅÁî®Êó∂ÔºåÊ∑±Êã∑Ë¥ùÂ∞ÜÂøΩÁï•Âæ™ÁéØÂºïÁî®ÂíåÂÖ±‰∫´ÂºïÁî®„ÄÇÂØπË±°ÂõæÁöÑÁõ∏ÂêåÂºïÁî®Â∞ÜÂú®‰∏ÄÊ¨° Fory#copy ‰∏≠Ë¢´Â§çÂà∂‰∏∫‰∏çÂêåÁöÑÂØπË±°Ôºö  Fory fory = Fory.builder().withRefCopy(false).build(); SomeClass a = xxx; SomeClass copied = fory.copy(a);   ","version":"dev","tagName":"h3"},{"title":"ÂÜÖÂ≠òÂàÜÈÖçËá™ÂÆö‰πâ‚Äã","type":1,"pageTitle":"È´òÁ∫ßÁâπÊÄß","url":"/zh-CN/docs/next/guide/java/advanced_features#ÂÜÖÂ≠òÂàÜÈÖçËá™ÂÆö‰πâ","content":" Fory Êèê‰æõ‰∫Ü MemoryAllocator Êé•Âè£ÔºåÂÖÅËÆ∏‰Ω†Ëá™ÂÆö‰πâÂú®Â∫èÂàóÂåñÊìç‰ΩúÊúüÈó¥Â¶Ç‰ΩïÂàÜÈÖçÂíåÂ¢ûÈïøÂÜÖÂ≠òÁºìÂÜ≤Âå∫„ÄÇËøôÂØπ‰∫éÊÄßËÉΩ‰ºòÂåñ„ÄÅÂÜÖÂ≠òÊ±†ÂåñÊàñË∞ÉËØïÂÜÖÂ≠ò‰ΩøÁî®ÂæàÊúâÁî®„ÄÇ  ","version":"dev","tagName":"h2"},{"title":"MemoryAllocator Êé•Âè£‚Äã","type":1,"pageTitle":"È´òÁ∫ßÁâπÊÄß","url":"/zh-CN/docs/next/guide/java/advanced_features#memoryallocator-Êé•Âè£","content":" MemoryAllocator Êé•Âè£ÂÆö‰πâ‰∫Ü‰∏§‰∏™ÂÖ≥ÈîÆÊñπÊ≥ïÔºö  public interface MemoryAllocator { /** * ÂàÜÈÖçÂÖ∑ÊúâÊåáÂÆöÂàùÂßãÂÆπÈáèÁöÑÊñ∞ MemoryBuffer„ÄÇ */ MemoryBuffer allocate(int initialCapacity); /** * Â¢ûÈïøÁé∞ÊúâÁºìÂÜ≤Âå∫‰ª•ÂÆπÁ∫≥Êñ∞ÂÆπÈáè„ÄÇ * ÂÆûÁé∞ÂøÖÈ°ªÈÄöËøá‰øÆÊîπÁé∞ÊúâÁºìÂÜ≤Âå∫ÂÆû‰æãÊù•ÂéüÂú∞Â¢ûÈïøÁºìÂÜ≤Âå∫„ÄÇ */ MemoryBuffer grow(MemoryBuffer buffer, int newCapacity); }   ","version":"dev","tagName":"h3"},{"title":"‰ΩøÁî®Ëá™ÂÆö‰πâÂÜÖÂ≠òÂàÜÈÖçÂô®‚Äã","type":1,"pageTitle":"È´òÁ∫ßÁâπÊÄß","url":"/zh-CN/docs/next/guide/java/advanced_features#‰ΩøÁî®Ëá™ÂÆö‰πâÂÜÖÂ≠òÂàÜÈÖçÂô®","content":" ‰Ω†ÂèØ‰ª•ËÆæÁΩÆ‰∏Ä‰∏™ÂÖ®Â±ÄÂÜÖÂ≠òÂàÜÈÖçÂô®ÔºåÊâÄÊúâ MemoryBuffer ÂÆû‰æãÈÉΩÂ∞Ü‰ΩøÁî®ÂÆÉÔºö  // ÂàõÂª∫Ëá™ÂÆö‰πâÂàÜÈÖçÂô® MemoryAllocator customAllocator = new MemoryAllocator() { @Override public MemoryBuffer allocate(int initialCapacity) { // ‰∏∫Ë∞ÉËØïÊàñÊ±†ÂåñÊ∑ªÂä†È¢ùÂ§ñÂÆπÈáè return MemoryBuffer.fromByteArray(new byte[initialCapacity + 100]); } @Override public MemoryBuffer grow(MemoryBuffer buffer, int newCapacity) { if (newCapacity &lt;= buffer.size()) { return buffer; } // Ëá™ÂÆö‰πâÂ¢ûÈïøÁ≠ñÁï• - Ê∑ªÂä† 100% È¢ùÂ§ñÂÆπÈáè int newSize = (int) (newCapacity * 2); byte[] data = new byte[newSize]; buffer.copyToUnsafe(0, data, Platform.BYTE_ARRAY_OFFSET, buffer.size()); buffer.initHeapBuffer(data, 0, data.length); return buffer; } }; // ÂÖ®Â±ÄËÆæÁΩÆËá™ÂÆö‰πâÂàÜÈÖçÂô® MemoryBuffer.setGlobalAllocator(customAllocator); // ÊâÄÊúâÂêéÁª≠ÁöÑ MemoryBuffer ÂàÜÈÖçÈÉΩÂ∞Ü‰ΩøÁî®‰Ω†ÁöÑËá™ÂÆö‰πâÂàÜÈÖçÂô® Fory fory = Fory.builder().withLanguage(Language.JAVA).build(); byte[] bytes = fory.serialize(someObject); // ‰ΩøÁî®Ëá™ÂÆö‰πâÂàÜÈÖçÂô®   ","version":"dev","tagName":"h3"},{"title":"ÈªòËÆ§ÂÜÖÂ≠òÂàÜÈÖçÂô®Ë°å‰∏∫‚Äã","type":1,"pageTitle":"È´òÁ∫ßÁâπÊÄß","url":"/zh-CN/docs/next/guide/java/advanced_features#ÈªòËÆ§ÂÜÖÂ≠òÂàÜÈÖçÂô®Ë°å‰∏∫","content":" ÈªòËÆ§ÂàÜÈÖçÂô®‰ΩøÁî®‰ª•‰∏ãÂ¢ûÈïøÁ≠ñÁï•Ôºö  ÂØπ‰∫éÂ∞è‰∫é BUFFER_GROW_STEP_THRESHOLD (100MB) ÁöÑÁºìÂÜ≤Âå∫ÔºöÂ∞ÜÂÆπÈáè‰πò‰ª• 2ÂØπ‰∫éËæÉÂ§ßÁöÑÁºìÂÜ≤Âå∫ÔºöÂ∞ÜÂÆπÈáè‰πò‰ª• 1.5Ôºà‰∏äÈôê‰∏∫ Integer.MAX_VALUE - 8Ôºâ  ËøôÂú®ÈÅøÂÖçÈ¢ëÁπÅÈáçÊñ∞ÂàÜÈÖçÂíåÈò≤Ê≠¢ËøáÂ∫¶ÂÜÖÂ≠ò‰ΩøÁî®‰πãÈó¥Êèê‰æõ‰∫ÜÂπ≥Ë°°„ÄÇ  ","version":"dev","tagName":"h3"},{"title":"‰ΩøÁî®Âú∫ÊôØ‚Äã","type":1,"pageTitle":"È´òÁ∫ßÁâπÊÄß","url":"/zh-CN/docs/next/guide/java/advanced_features#‰ΩøÁî®Âú∫ÊôØ","content":" Ëá™ÂÆö‰πâÂÜÖÂ≠òÂàÜÈÖçÂô®ÈÄÇÁî®‰∫éÔºö  ÂÜÖÂ≠òÊ±†ÂåñÔºöÈáçÁî®ÂàÜÈÖçÁöÑÁºìÂÜ≤Âå∫‰ª•ÂáèÂ∞ë GC ÂéãÂäõÊÄßËÉΩË∞É‰ºòÔºöÊ†πÊçÆ‰Ω†ÁöÑÂ∑•‰ΩúË¥üËΩΩ‰ΩøÁî®‰∏çÂêåÁöÑÂ¢ûÈïøÁ≠ñÁï•Ë∞ÉËØïÔºöÊ∑ªÂä†Êó•ÂøóËÆ∞ÂΩïÊàñË∑üË∏™‰ª•ÁõëÊéßÂÜÖÂ≠ò‰ΩøÁî®Â†ÜÂ§ñÂÜÖÂ≠òÔºö‰∏éÂ†ÜÂ§ñÂÜÖÂ≠òÁÆ°ÁêÜÁ≥ªÁªüÈõÜÊàê  ","version":"dev","tagName":"h3"},{"title":"Êó•ÂøóËÆ∞ÂΩï‚Äã","type":1,"pageTitle":"È´òÁ∫ßÁâπÊÄß","url":"/zh-CN/docs/next/guide/java/advanced_features#Êó•ÂøóËÆ∞ÂΩï","content":" ","version":"dev","tagName":"h2"},{"title":"ForyLogger‚Äã","type":1,"pageTitle":"È´òÁ∫ßÁâπÊÄß","url":"/zh-CN/docs/next/guide/java/advanced_features#forylogger","content":" ÈªòËÆ§ÊÉÖÂÜµ‰∏ãÔºåFory ‰ΩøÁî®Ëá™ÂÆö‰πâÊó•ÂøóËÆ∞ÂΩïÂô® ForyLogger Êù•Êª°Ë∂≥ÂÜÖÈÉ®ÈúÄÊ±Ç„ÄÇÂÆÉÂ∞ÜÁîüÊàêÁöÑÊó•ÂøóÊï∞ÊçÆÊûÑÂª∫‰∏∫Âçï‰∏™Â≠óÁ¨¶‰∏≤ÔºåÂπ∂Áõ¥Êé•ÂèëÈÄÅÂà∞ System.out„ÄÇÁªìÊûúË°åÂ∏ÉÂ±ÄÁ±ª‰ºº‰∫éÔºàLog4j Ë°®Á§∫Ê≥ïÔºâÔºö  %d{yyyy-MM-dd hh:mm:ss} %p %C:%L [%t] - %m%n   Â∏ÉÂ±ÄÊó†Ê≥ïÊõ¥Êîπ„ÄÇ  Á§∫‰æãËæìÂá∫Ôºö  2025-11-07 08:49:59 INFO CompileUnit:55 [main] - Generate code for org.apache.fory.builder.SerializedLambdaForyCodec_0 took 35 ms. 2025-11-07 08:50:00 INFO JaninoUtils:121 [main] - Compile [SerializedLambdaForyCodec_0] take 144 ms   ","version":"dev","tagName":"h3"},{"title":"Slf4jLogger‚Äã","type":1,"pageTitle":"È´òÁ∫ßÁâπÊÄß","url":"/zh-CN/docs/next/guide/java/advanced_features#slf4jlogger","content":" Â¶ÇÊûúÈúÄË¶ÅÊõ¥Â§çÊùÇÁöÑÊó•ÂøóËÆ∞ÂΩïÂô®ÔºåÂèØ‰ª•ÈÄöËøá LoggerFactory.useSlf4jLogging() ÈÖçÁΩÆ Fory ‰ΩøÁî® Slf4j„ÄÇ‰æãÂ¶ÇÔºåÂú®ÂàõÂª∫ Fory ‰πãÂâçÂêØÁî® Slf4jÔºö  public static final ThreadSafeFory FORY; static { LoggerFactory.useSlf4jLogging(true); FORY = Fory.builder() .buildThreadSafeFory(); }   Ê≥®ÊÑèÔºöÂΩìÂ∫îÁî®Á®ãÂ∫èÂú® GraalVM native image ‰∏≠ËøêË°åÊó∂ÔºåÈÄöËøá useSlf4jLogging ÂêØÁî® Slf4j Â∞ÜË¢´ÂøΩÁï•„ÄÇ  ","version":"dev","tagName":"h3"},{"title":"ÊäëÂà∂ Fory Êó•Âøó‚Äã","type":1,"pageTitle":"È´òÁ∫ßÁâπÊÄß","url":"/zh-CN/docs/next/guide/java/advanced_features#ÊäëÂà∂-fory-Êó•Âøó","content":" ForyLogger Âíå Slf4jLogger ÈÉΩÂÖÅËÆ∏ÊéßÂà∂Êó•ÂøóËæìÂá∫Á∫ßÂà´ÊàñÂÆåÂÖ®ÊäëÂà∂Êó•Âøó„ÄÇÈÄöËøá LoggerFactory.setLogLevel() ÈÖçÁΩÆÊó•ÂøóÁ∫ßÂà´Ôºö  static { // Âè™ËÆ∞ÂΩï WARN ÂèäÊõ¥È´òÁ∫ßÂà´ LoggerFactory.setLogLevel(LogLevel.WARN_LEVEL); // ÂÆåÂÖ®Á¶ÅÁî®Êó•ÂøóËÆ∞ÂΩï LoggerFactory.disableLogging(); }   Ê≥®ÊÑèÔºöÊâÄÈÄâÁöÑÊó•ÂøóÁ∫ßÂà´Âú® Slf4j ÂÆûÁé∞ÁöÑÊó•ÂøóÁ∫ßÂà´‰πãÂâçÂ∫îÁî®„ÄÇÂõ†Ê≠§ÔºåÂ¶ÇÊûú‰Ω†ËÆæÁΩÆ WARN_LEVELÔºàÂ¶Ç‰∏ä‰æãÔºâÔºåÂç≥‰ΩøÂú® Logback ‰∏≠ÂêØÁî®‰∫Ü INFOÔºå‰Ω†‰πü‰∏ç‰ºöÁúãÂà∞Êù•Ëá™ Fory ÁöÑ INFO Ê∂àÊÅØ„ÄÇ  ","version":"dev","tagName":"h3"},{"title":"Áõ∏ÂÖ≥‰∏ªÈ¢ò‚Äã","type":1,"pageTitle":"È´òÁ∫ßÁâπÊÄß","url":"/zh-CN/docs/next/guide/java/advanced_features#Áõ∏ÂÖ≥‰∏ªÈ¢ò","content":" ÂéãÁº© - Êï∞ÊçÆÂéãÁº©ÈÄâÈ°πÈÖçÁΩÆÈÄâÈ°π - ÊâÄÊúâ ForyBuilder ÈÄâÈ°πË∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ - XLANG Ê®°Âºè ","version":"dev","tagName":"h2"},{"title":"ÈÖçÁΩÆÈÄâÈ°π","type":0,"sectionRef":"#","url":"/zh-CN/docs/next/guide/java/configuration","content":"","keywords":"","version":"dev"},{"title":"ForyBuilder ÈÄâÈ°π‚Äã","type":1,"pageTitle":"ÈÖçÁΩÆÈÄâÈ°π","url":"/zh-CN/docs/next/guide/java/configuration#forybuilder-ÈÄâÈ°π","content":" ÈÄâÈ°πÂêçÁß∞\tÊèèËø∞\tÈªòËÆ§ÂÄºtimeRefIgnored\tÂΩìÂêØÁî®ÂºïÁî®Ë∑üË∏™Êó∂ÔºåÊòØÂê¶ÂøΩÁï•Âú® TimeSerializers ‰∏≠Ê≥®ÂÜåÁöÑÊâÄÊúâÊó∂Èó¥Á±ªÂûãÂèäÂÖ∂Â≠êÁ±ªÁöÑÂºïÁî®Ë∑üË∏™„ÄÇÂ¶ÇÊûúÂøΩÁï•ÔºåÂèØ‰ª•ÈÄöËøáË∞ÉÁî® Fory#registerSerializer(Class, Serializer) ‰∏∫ÊØè‰∏™Êó∂Èó¥Á±ªÂûãÂêØÁî®ÂºïÁî®Ë∑üË∏™„ÄÇ‰æãÂ¶ÇÔºåfory.registerSerializer(Date.class, new DateSerializer(fory, true))„ÄÇÊ≥®ÊÑèÔºåÂêØÁî®ÂºïÁî®Ë∑üË∏™Â∫îËØ•Âú®ÂåÖÂê´Êó∂Èó¥Â≠óÊÆµÁöÑ‰ªª‰ΩïÁ±ªÂûãÁöÑÂ∫èÂàóÂåñÂô®‰ª£Á†ÅÁîüÊàê‰πãÂâçËøõË°å„ÄÇÂê¶ÂàôÔºåËøô‰∫õÂ≠óÊÆµ‰ªçÂ∞ÜË∑≥ËøáÂºïÁî®Ë∑üË∏™„ÄÇ\ttrue compressInt\tÂêØÁî®ÊàñÁ¶ÅÁî® int ÂéãÁº©‰ª•Ëé∑ÂæóÊõ¥Â∞èÁöÑÂ§ßÂ∞è„ÄÇ\ttrue compressLong\tÂêØÁî®ÊàñÁ¶ÅÁî® long ÂéãÁº©‰ª•Ëé∑ÂæóÊõ¥Â∞èÁöÑÂ§ßÂ∞è„ÄÇ\ttrue compressIntArray\tÂΩìÂÄºÂèØ‰ª•ÈÄÇÈÖçËæÉÂ∞èÊï∞ÊçÆÁ±ªÂûãÊó∂ÔºåÂêØÁî®ÊàñÁ¶ÅÁî® int Êï∞ÁªÑÁöÑ SIMD Âä†ÈÄüÂéãÁº©„ÄÇÈúÄË¶Å Java 16+„ÄÇ\ttrue compressLongArray\tÂΩìÂÄºÂèØ‰ª•ÈÄÇÈÖçËæÉÂ∞èÊï∞ÊçÆÁ±ªÂûãÊó∂ÔºåÂêØÁî®ÊàñÁ¶ÅÁî® long Êï∞ÁªÑÁöÑ SIMD Âä†ÈÄüÂéãÁº©„ÄÇÈúÄË¶Å Java 16+„ÄÇ\ttrue compressString\tÂêØÁî®ÊàñÁ¶ÅÁî®Â≠óÁ¨¶‰∏≤ÂéãÁº©‰ª•Ëé∑ÂæóÊõ¥Â∞èÁöÑÂ§ßÂ∞è„ÄÇ\tfalse classLoader\t‰∏çÂ∫îÊõ¥Êñ∞Á±ªÂä†ËΩΩÂô®ÔºõFory ÁºìÂ≠òÁ±ªÂÖÉÊï∞ÊçÆ„ÄÇÂØπ‰∫éÁ±ªÂä†ËΩΩÂô®Êõ¥Êñ∞ÔºåËØ∑‰ΩøÁî® LoaderBinding Êàñ ThreadSafeFory„ÄÇ\tThread.currentThread().getContextClassLoader() compatibleMode\tÁ±ªÂûãÂâçÂêë/ÂêéÂêëÂÖºÂÆπÊÄßÈÖçÁΩÆ„ÄÇ‰πü‰∏é checkClassVersion ÈÖçÁΩÆÁõ∏ÂÖ≥„ÄÇSCHEMA_CONSISTENTÔºöÂ∫èÂàóÂåñÁ´ØÂíåÂèçÂ∫èÂàóÂåñÁ´Ø‰πãÈó¥ÁöÑÁ±ª schema ÂøÖÈ°ª‰∏ÄËá¥„ÄÇCOMPATIBLEÔºöÂ∫èÂàóÂåñÁ´ØÂíåÂèçÂ∫èÂàóÂåñÁ´Ø‰πãÈó¥ÁöÑÁ±ª schema ÂèØ‰ª•‰∏çÂêå„ÄÇÂÆÉ‰ª¨ÂèØ‰ª•Áã¨Á´ãÊ∑ªÂä†/Âà†Èô§Â≠óÊÆµ„ÄÇÊü•ÁúãÊõ¥Â§ö„ÄÇ\tCompatibleMode.SCHEMA_CONSISTENT checkClassVersion\tÁ°ÆÂÆöÊòØÂê¶Ê£ÄÊü•Á±ª schema ÁöÑ‰∏ÄËá¥ÊÄß„ÄÇÂ¶ÇÊûúÂêØÁî®ÔºåFory ‰ºö‰ΩøÁî® classVersionHash Ê£ÄÊü•„ÄÅÂÜôÂÖ•ÂíåÊ£ÄÊü•‰∏ÄËá¥ÊÄß„ÄÇÂΩìÂêØÁî® CompatibleMode#COMPATIBLE Êó∂ÔºåÂÆÉÂ∞ÜËá™Âä®Á¶ÅÁî®„ÄÇÈô§Èùû‰Ω†ËÉΩÁ°Æ‰øùÁ±ª‰∏ç‰ºöÊºîÂåñÔºåÂê¶Âàô‰∏çÂª∫ËÆÆÁ¶ÅÁî®„ÄÇ\tfalse checkJdkClassSerializable\tÂêØÁî®ÊàñÁ¶ÅÁî®ÂØπ java.* ‰∏ãÁöÑÁ±ªÁöÑ Serializable Êé•Âè£Ê£ÄÊü•„ÄÇÂ¶ÇÊûú java.* ‰∏ãÁöÑÁ±ª‰∏çÊòØ SerializableÔºåFory Â∞ÜÊäõÂá∫ UnsupportedOperationException„ÄÇ\ttrue registerGuavaTypes\tÊòØÂê¶È¢ÑÊ≥®ÂÜå Guava Á±ªÂûãÔºåÂ¶Ç RegularImmutableMap/RegularImmutableList„ÄÇËøô‰∫õÁ±ªÂûã‰∏çÊòØÂÖ¨ÂÖ± APIÔºå‰ΩÜ‰ºº‰πéÁõ∏ÂΩìÁ®≥ÂÆö„ÄÇ\ttrue requireClassRegistration\tÁ¶ÅÁî®ÂèØËÉΩÂÖÅËÆ∏Êú™Áü•Á±ªË¢´ÂèçÂ∫èÂàóÂåñÔºåÂèØËÉΩÂØºËá¥ÂÆâÂÖ®È£éÈô©„ÄÇ\ttrue maxDepth\tËÆæÁΩÆÂèçÂ∫èÂàóÂåñÁöÑÊúÄÂ§ßÊ∑±Â∫¶ÔºåÂΩìÊ∑±Â∫¶Ë∂ÖËøáÊó∂ÔºåÂ∞ÜÊäõÂá∫ÂºÇÂ∏∏„ÄÇËøôÂèØÁî®‰∫éÊãíÁªùÂèçÂ∫èÂàóÂåñ DDOS ÊîªÂáª„ÄÇ\t50 suppressClassRegistrationWarnings\tÊòØÂê¶ÊäëÂà∂Á±ªÊ≥®ÂÜåË≠¶Âëä„ÄÇËøô‰∫õË≠¶ÂëäÂèØÁî®‰∫éÂÆâÂÖ®ÂÆ°ËÆ°Ôºå‰ΩÜÂèØËÉΩÂæàÁÉ¶‰∫∫ÔºåÈªòËÆ§ÊÉÖÂÜµ‰∏ãÂ∞ÜÂêØÁî®Ê≠§ÊäëÂà∂„ÄÇ\ttrue metaShareEnabled\tÂêØÁî®ÊàñÁ¶ÅÁî®ÂÖÉÊï∞ÊçÆÂÖ±‰∫´Ê®°Âºè„ÄÇ\tÂ¶ÇÊûúËÆæÁΩÆ‰∫Ü CompatibleMode.Compatible Âàô‰∏∫ trueÔºåÂê¶Âàô‰∏∫ false„ÄÇ scopedMetaShareEnabled\t‰ΩúÁî®ÂüüÂÖÉÊï∞ÊçÆÂÖ±‰∫´‰∏ìÊ≥®‰∫éÂçï‰∏™Â∫èÂàóÂåñËøáÁ®ã„ÄÇÂú®Ê≠§ËøáÁ®ã‰∏≠ÂàõÂª∫ÊàñËØÜÂà´ÁöÑÂÖÉÊï∞ÊçÆÊòØÂÆÉ‰∏ìÊúâÁöÑÔºå‰∏ç‰ºö‰∏éÂÖ∂‰ªñÂ∫èÂàóÂåñÂÖ±‰∫´„ÄÇ\tÂ¶ÇÊûúËÆæÁΩÆ‰∫Ü CompatibleMode.Compatible Âàô‰∏∫ trueÔºåÂê¶Âàô‰∏∫ false„ÄÇ metaCompressor\t‰∏∫ÂÖÉÊï∞ÊçÆÂéãÁº©ËÆæÁΩÆÂéãÁº©Âô®„ÄÇÊ≥®ÊÑè‰º†ÈÄíÁöÑ MetaCompressor Â∫îËØ•ÊòØÁ∫øÁ®ãÂÆâÂÖ®ÁöÑ„ÄÇÈªòËÆ§ÊÉÖÂÜµ‰∏ãÔºåÂ∞Ü‰ΩøÁî®Âü∫‰∫é Deflater ÁöÑÂéãÁº©Âô® DeflaterMetaCompressor„ÄÇÁî®Êà∑ÂèØ‰ª•‰º†ÈÄíÂÖ∂‰ªñÂéãÁº©Âô®ÔºåÂ¶Ç zstd ‰ª•Ëé∑ÂæóÊõ¥Â•ΩÁöÑÂéãÁº©Áéá„ÄÇ\tDeflaterMetaCompressor deserializeNonexistentClass\tÂêØÁî®ÊàñÁ¶ÅÁî®ÂØπ‰∏çÂ≠òÂú®Á±ªÁöÑÊï∞ÊçÆÁöÑÂèçÂ∫èÂàóÂåñ/Ë∑≥Ëøá„ÄÇ\tÂ¶ÇÊûúËÆæÁΩÆ‰∫Ü CompatibleMode.Compatible Âàô‰∏∫ trueÔºåÂê¶Âàô‰∏∫ false„ÄÇ codeGenEnabled\tÁ¶ÅÁî®ÂèØËÉΩÂØºËá¥Êõ¥Âø´ÁöÑÂàùÂßãÂ∫èÂàóÂåñÔºå‰ΩÜÂêéÁª≠Â∫èÂàóÂåñ‰ºöÊõ¥ÊÖ¢„ÄÇ\ttrue asyncCompilationEnabled\tÂ¶ÇÊûúÂêØÁî®ÔºåÂ∫èÂàóÂåñÈ¶ñÂÖà‰ΩøÁî®Ëß£ÈáäÂô®Ê®°ÂºèÔºåÂú®Á±ªÁöÑÂºÇÊ≠•Â∫èÂàóÂåñÂô® JIT ÂÆåÊàêÂêéÂàáÊç¢Âà∞ JIT Â∫èÂàóÂåñ„ÄÇ\tfalse scalaOptimizationEnabled\tÂêØÁî®ÊàñÁ¶ÅÁî® Scala ÁâπÂÆöÁöÑÂ∫èÂàóÂåñ‰ºòÂåñ„ÄÇ\tfalse copyRef\tÁ¶ÅÁî®Êó∂ÔºåÊã∑Ë¥ùÊÄßËÉΩ‰ºöÊõ¥Â•Ω„ÄÇ‰ΩÜ Fory Ê∑±Êã∑Ë¥ùÂ∞ÜÂøΩÁï•Âæ™ÁéØÂºïÁî®ÂíåÂÖ±‰∫´ÂºïÁî®„ÄÇÂØπË±°ÂõæÁöÑÁõ∏ÂêåÂºïÁî®Â∞ÜÂú®‰∏ÄÊ¨° Fory#copy ‰∏≠Ë¢´Â§çÂà∂‰∏∫‰∏çÂêåÁöÑÂØπË±°„ÄÇ\ttrue serializeEnumByName\tÂêØÁî®Êó∂ÔºåFory ÊåâÂêçÁß∞ËÄå‰∏çÊòØÂ∫èÊï∞Â∫èÂàóÂåñÊûö‰∏æ„ÄÇ\tfalse  ","version":"dev","tagName":"h2"},{"title":"Á§∫‰æãÈÖçÁΩÆ‚Äã","type":1,"pageTitle":"ÈÖçÁΩÆÈÄâÈ°π","url":"/zh-CN/docs/next/guide/java/configuration#Á§∫‰æãÈÖçÁΩÆ","content":" Fory fory = Fory.builder() .withLanguage(Language.JAVA) // ÂêØÁî®ÂºïÁî®Ë∑üË∏™‰ª•ÊîØÊåÅÂÖ±‰∫´/Âæ™ÁéØÂºïÁî®„ÄÇ // Â¶ÇÊûúÊ≤°ÊúâÈáçÂ§çÂºïÁî®ÔºåÁ¶ÅÁî®ÂÆÉ‰ºöÊúâÊõ¥Â•ΩÁöÑÊÄßËÉΩ„ÄÇ .withRefTracking(false) // ÂéãÁº© int ‰ª•Ëé∑ÂæóÊõ¥Â∞èÁöÑÂ§ßÂ∞è .withIntCompressed(true) // ÂéãÁº© long ‰ª•Ëé∑ÂæóÊõ¥Â∞èÁöÑÂ§ßÂ∞è .withLongCompressed(true) .withCompatibleMode(CompatibleMode.SCHEMA_CONSISTENT) // ÂêØÁî®Á±ªÂûãÂâçÂêë/ÂêéÂêëÂÖºÂÆπÊÄß // Á¶ÅÁî®ÂÆÉ‰ª•Ëé∑ÂæóÊõ¥Â∞èÁöÑÂ§ßÂ∞èÂíåÊõ¥Â•ΩÁöÑÊÄßËÉΩ„ÄÇ // .withCompatibleMode(CompatibleMode.COMPATIBLE) // ÂêØÁî®ÂºÇÊ≠•Â§öÁ∫øÁ®ãÁºñËØë„ÄÇ .withAsyncCompilation(true) .build();   ","version":"dev","tagName":"h2"},{"title":"Áõ∏ÂÖ≥‰∏ªÈ¢ò‚Äã","type":1,"pageTitle":"ÈÖçÁΩÆÈÄâÈ°π","url":"/zh-CN/docs/next/guide/java/configuration#Áõ∏ÂÖ≥‰∏ªÈ¢ò","content":" Schema ÊºîÂåñ - ÂÖºÂÆπÊ®°ÂºèÂíåÂÖÉÊï∞ÊçÆÂÖ±‰∫´ÂéãÁº© - Int„ÄÅlong ÂíåÊï∞ÁªÑÂéãÁº©ËØ¶ÊÉÖÁ±ªÂûãÊ≥®ÂÜå - Á±ªÊ≥®ÂÜåÈÄâÈ°π ","version":"dev","tagName":"h2"},{"title":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ","type":0,"sectionRef":"#","url":"/zh-CN/docs/next/guide/java/cross_language","content":"","keywords":"","version":"dev"},{"title":"ÂêØÁî®Ë∑®ËØ≠Ë®ÄÊ®°Âºè‚Äã","type":1,"pageTitle":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/next/guide/java/cross_language#ÂêØÁî®Ë∑®ËØ≠Ë®ÄÊ®°Âºè","content":" Ë¶ÅÂ∫èÂàóÂåñ‰æõÂÖ∂‰ªñËØ≠Ë®Ä‰ΩøÁî®ÁöÑÊï∞ÊçÆÔºå‰ΩøÁî® Language.XLANG Ê®°ÂºèÔºö  import org.apache.fory.*; import org.apache.fory.config.*; // ‰ΩøÁî® XLANG Ê®°ÂºèÂàõÂª∫ Fory ÂÆû‰æã Fory fory = Fory.builder() .withLanguage(Language.XLANG) .withRefTracking(true) // ‰∏∫Â§çÊùÇÂõæÂêØÁî®ÂºïÁî®Ë∑üË∏™ .build();   ","version":"dev","tagName":"h2"},{"title":"‰∏∫Ë∑®ËØ≠Ë®ÄÂÖºÂÆπÊÄßÊ≥®ÂÜåÁ±ªÂûã‚Äã","type":1,"pageTitle":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/next/guide/java/cross_language#‰∏∫Ë∑®ËØ≠Ë®ÄÂÖºÂÆπÊÄßÊ≥®ÂÜåÁ±ªÂûã","content":" Á±ªÂûãÂøÖÈ°ª‰ΩøÁî®‰∏ÄËá¥ÁöÑ ID ÊàñÂêçÁß∞Âú®ÊâÄÊúâËØ≠Ë®Ä‰∏≠Ê≥®ÂÜå„ÄÇFory ÊîØÊåÅ‰∏§ÁßçÊ≥®ÂÜåÊñπÊ≥ïÔºö  ","version":"dev","tagName":"h2"},{"title":"Êåâ ID Ê≥®ÂÜåÔºàÊé®ËçêÁî®‰∫éÊÄßËÉΩÔºâ‚Äã","type":1,"pageTitle":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/next/guide/java/cross_language#Êåâ-id-Ê≥®ÂÜåÊé®ËçêÁî®‰∫éÊÄßËÉΩ","content":" public record Person(String name, int age) {} // ‰ΩøÁî®Êï∞Â≠ó ID Ê≥®ÂÜå - Êõ¥Âø´Êõ¥Á¥ßÂáë fory.register(Person.class, 1); Person person = new Person(&quot;Alice&quot;, 30); byte[] bytes = fory.serialize(person); // bytes ÂèØ‰ª•Ë¢´ Python„ÄÅRust„ÄÅGo Á≠âÂèçÂ∫èÂàóÂåñ„ÄÇ   ‰ºòÁÇπÔºöÊõ¥Âø´ÁöÑÂ∫èÂàóÂåñÔºåÊõ¥Â∞èÁöÑ‰∫åËøõÂà∂Â§ßÂ∞èÊùÉË°°ÔºöÈúÄË¶ÅÂçèË∞É‰ª•ÈÅøÂÖçË∑®Âõ¢Èòü/ÊúçÂä°ÁöÑ ID ÂÜ≤Á™Å  ","version":"dev","tagName":"h3"},{"title":"ÊåâÂêçÁß∞Ê≥®ÂÜåÔºàÊé®ËçêÁî®‰∫éÁÅµÊ¥ªÊÄßÔºâ‚Äã","type":1,"pageTitle":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/next/guide/java/cross_language#ÊåâÂêçÁß∞Ê≥®ÂÜåÊé®ËçêÁî®‰∫éÁÅµÊ¥ªÊÄß","content":" public record Person(String name, int age) {} // ‰ΩøÁî®Â≠óÁ¨¶‰∏≤ÂêçÁß∞Ê≥®ÂÜå - Êõ¥ÁÅµÊ¥ª fory.register(Person.class, &quot;example.Person&quot;); Person person = new Person(&quot;Alice&quot;, 30); byte[] bytes = fory.serialize(person); // bytes ÂèØ‰ª•Ë¢´ Python„ÄÅRust„ÄÅGo Á≠âÂèçÂ∫èÂàóÂåñ„ÄÇ   ‰ºòÁÇπÔºö‰∏çÂÆπÊòìÂÜ≤Á™ÅÔºåË∑®Âõ¢ÈòüÁÆ°ÁêÜÊõ¥ÂÆπÊòìÔºåÊó†ÈúÄÂçèË∞ÉÊùÉË°°ÔºöÁî±‰∫éÂ≠óÁ¨¶‰∏≤ÁºñÁ†ÅÔºå‰∫åËøõÂà∂Â§ßÂ∞èÁ®çÂ§ß  ","version":"dev","tagName":"h3"},{"title":"Ë∑®ËØ≠Ë®ÄÁ§∫‰æãÔºöJava ‚Üî Python‚Äã","type":1,"pageTitle":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/next/guide/java/cross_language#Ë∑®ËØ≠Ë®ÄÁ§∫‰æãjava--python","content":" ","version":"dev","tagName":"h2"},{"title":"JavaÔºàÂ∫èÂàóÂåñÂô®Ôºâ‚Äã","type":1,"pageTitle":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/next/guide/java/cross_language#javaÂ∫èÂàóÂåñÂô®","content":" import org.apache.fory.*; import org.apache.fory.config.*; public record Person(String name, int age) {} public class Example { public static void main(String[] args) { Fory fory = Fory.builder() .withLanguage(Language.XLANG) .withRefTracking(true) .build(); // ‰ΩøÁî®‰∏ÄËá¥ÁöÑÂêçÁß∞Ê≥®ÂÜå fory.register(Person.class, &quot;example.Person&quot;); Person person = new Person(&quot;Bob&quot;, 25); byte[] bytes = fory.serialize(person); // ÈÄöËøáÁΩëÁªú/Êñá‰ª∂/ÈòüÂàóÂ∞Ü bytes ÂèëÈÄÅÂà∞ Python ÊúçÂä° } }   ","version":"dev","tagName":"h3"},{"title":"PythonÔºàÂèçÂ∫èÂàóÂåñÂô®Ôºâ‚Äã","type":1,"pageTitle":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/next/guide/java/cross_language#pythonÂèçÂ∫èÂàóÂåñÂô®","content":" import pyfory from dataclasses import dataclass @dataclass class Person: name: str age: pyfory.int32 # Âú® xlang Ê®°Âºè‰∏ãÂàõÂª∫ Fory fory = pyfory.Fory(ref_tracking=True) # ‰ΩøÁî®‰∏é Java Áõ∏ÂêåÁöÑÂêçÁß∞Ê≥®ÂÜå fory.register_type(Person, typename=&quot;example.Person&quot;) # ‰ªé Java ÂèçÂ∫èÂàóÂåñ bytes person = fory.deserialize(bytes_from_java) print(f&quot;{person.name}, {person.age}&quot;) # ËæìÂá∫ÔºöBob, 25   ","version":"dev","tagName":"h3"},{"title":"Â§ÑÁêÜÂæ™ÁéØÂºïÁî®ÂíåÂÖ±‰∫´ÂºïÁî®‚Äã","type":1,"pageTitle":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/next/guide/java/cross_language#Â§ÑÁêÜÂæ™ÁéØÂºïÁî®ÂíåÂÖ±‰∫´ÂºïÁî®","content":" ÂêØÁî®ÂºïÁî®Ë∑üË∏™Êó∂ÔºåË∑®ËØ≠Ë®ÄÊ®°ÂºèÊîØÊåÅÂæ™ÁéØÂºïÁî®ÂíåÂÖ±‰∫´ÂºïÁî®Ôºö  public class Node { public String value; public Node next; public Node parent; } Fory fory = Fory.builder() .withLanguage(Language.XLANG) .withRefTracking(true) // Âæ™ÁéØÂºïÁî®ÈúÄË¶Å .build(); fory.register(Node.class, &quot;example.Node&quot;); // ÂàõÂª∫Âæ™ÁéØÂºïÁî® Node node1 = new Node(); node1.value = &quot;A&quot;; Node node2 = new Node(); node2.value = &quot;B&quot;; node1.next = node2; node2.parent = node1; // Âæ™ÁéØÂºïÁî® byte[] bytes = fory.serialize(node1); // Python/Rust/Go ÂèØ‰ª•Ê≠£Á°ÆÂèçÂ∫èÂàóÂåñËøô‰∏™ÔºåÂπ∂‰øùÁïôÂæ™ÁéØÂºïÁî®   ","version":"dev","tagName":"h2"},{"title":"Á±ªÂûãÊò†Â∞ÑËÄÉËôë‚Äã","type":1,"pageTitle":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/next/guide/java/cross_language#Á±ªÂûãÊò†Â∞ÑËÄÉËôë","content":" Âπ∂ÈùûÊâÄÊúâ Java Á±ªÂûãÂú®ÂÖ∂‰ªñËØ≠Ë®Ä‰∏≠ÈÉΩÊúâÁ≠â‰ª∑Áâ©„ÄÇ‰ΩøÁî® xlang Ê®°ÂºèÊó∂Ôºö  ‰ΩøÁî®ÂéüÂßãÁ±ªÂûãÔºàint„ÄÅlong„ÄÅdouble„ÄÅStringÔºâ‰ª•Ëé∑ÂæóÊúÄÂ§ßÂÖºÂÆπÊÄß‰ΩøÁî®Ê†áÂáÜÈõÜÂêàÔºàList„ÄÅMap„ÄÅSetÔºâËÄå‰∏çÊòØÁâπÂÆö‰∫éËØ≠Ë®ÄÁöÑÈõÜÂêàÈÅøÂÖç Java ÁâπÂÆöÁ±ªÂûãÔºåÂ¶Ç Optional„ÄÅBigDecimalÔºàÈô§ÈùûÁõÆÊ†áËØ≠Ë®ÄÊîØÊåÅÂÆÉ‰ª¨ÔºâÊü•ÁúãÁ±ªÂûãÊò†Â∞ÑÊåáÂçóËé∑ÂèñÂÆåÊï¥ÁöÑÂÖºÂÆπÊÄßÁü©Èòµ  ","version":"dev","tagName":"h2"},{"title":"ÂÖºÂÆπÁ±ªÂûã‚Äã","type":1,"pageTitle":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/next/guide/java/cross_language#ÂÖºÂÆπÁ±ªÂûã","content":" public record UserData( String name, // ‚úÖ ÂÖºÂÆπ int age, // ‚úÖ ÂÖºÂÆπ List&lt;String&gt; tags, // ‚úÖ ÂÖºÂÆπ Map&lt;String, Integer&gt; scores // ‚úÖ ÂÖºÂÆπ ) {}   ","version":"dev","tagName":"h3"},{"title":"ÊúâÈóÆÈ¢òÁöÑÁ±ªÂûã‚Äã","type":1,"pageTitle":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/next/guide/java/cross_language#ÊúâÈóÆÈ¢òÁöÑÁ±ªÂûã","content":" public record UserData( Optional&lt;String&gt; name, // ‚ùå ‰∏çË∑®ËØ≠Ë®ÄÂÖºÂÆπ BigDecimal balance, // ‚ùå ÊîØÊåÅÊúâÈôê EnumSet&lt;Status&gt; statuses // ‚ùå Java ÁâπÂÆöÈõÜÂêà ) {}   ","version":"dev","tagName":"h3"},{"title":"ÊÄßËÉΩËÄÉËôë‚Äã","type":1,"pageTitle":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/next/guide/java/cross_language#ÊÄßËÉΩËÄÉËôë","content":" Ë∑®ËØ≠Ë®ÄÊ®°ÂºèÁõ∏ÊØî‰ªÖ Java Ê®°ÂºèÊúâÈ¢ùÂ§ñÁöÑÂºÄÈîÄÔºö  Á±ªÂûãÂÖÉÊï∞ÊçÆÁºñÁ†ÅÔºöÊØè‰∏™Á±ªÂûãÊ∑ªÂä†È¢ùÂ§ñÂ≠óËäÇÁ±ªÂûãËß£ÊûêÔºöÂú®ÂèçÂ∫èÂàóÂåñÊúüÈó¥ÈúÄË¶ÅÂêçÁß∞/ID Êü•Êâæ  ‰∏∫‰∫ÜÊúÄ‰Ω≥ÊÄßËÉΩÔºö  Â∞ΩÂèØËÉΩ‰ΩøÁî®Âü∫‰∫é ID ÁöÑÊ≥®ÂÜåÔºàÊõ¥Â∞èÁöÑÁºñÁ†ÅÔºâÂ¶ÇÊûú‰∏çÈúÄË¶ÅÂæ™ÁéØÂºïÁî®ÔºåÁ¶ÅÁî®ÂºïÁî®Ë∑üË∏™ÔºàwithRefTracking(false)ÔºâÂΩìÂè™ÈúÄË¶Å Java Â∫èÂàóÂåñÊó∂‰ΩøÁî® Java Ê®°ÂºèÔºàLanguage.JAVAÔºâ  ","version":"dev","tagName":"h2"},{"title":"Ë∑®ËØ≠Ë®ÄÊúÄ‰Ω≥ÂÆûË∑µ‚Äã","type":1,"pageTitle":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/next/guide/java/cross_language#Ë∑®ËØ≠Ë®ÄÊúÄ‰Ω≥ÂÆûË∑µ","content":" ‰∏ÄËá¥ÁöÑÊ≥®ÂÜåÔºöÁ°Æ‰øùÊâÄÊúâÊúçÂä°‰ΩøÁî®Áõ∏ÂêåÁöÑ ID/ÂêçÁß∞Ê≥®ÂÜåÁ±ªÂûãÁâàÊú¨ÂÖºÂÆπÊÄßÔºö‰ΩøÁî®ÂÖºÂÆπÊ®°ÂºèË∑®ÊúçÂä°ËøõË°å schema ÊºîÂåñ  ","version":"dev","tagName":"h2"},{"title":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñÊïÖÈöúÊéíÈô§‚Äã","type":1,"pageTitle":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/next/guide/java/cross_language#Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñÊïÖÈöúÊéíÈô§","content":" ","version":"dev","tagName":"h2"},{"title":"\"Type not registered\" ÈîôËØØ‚Äã","type":1,"pageTitle":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/next/guide/java/cross_language#type-not-registered-ÈîôËØØ","content":" È™åËØÅÁ±ªÂûãÂú®‰∏§Á´ØÈÉΩ‰ΩøÁî®Áõ∏ÂêåÁöÑ ID/ÂêçÁß∞Ê≥®ÂÜåÊ£ÄÊü•Á±ªÂûãÂêçÁß∞ÊòØÂê¶ÊúâÊãºÂÜôÈîôËØØÊàñÂ§ßÂ∞èÂÜôÂ∑ÆÂºÇ  ","version":"dev","tagName":"h3"},{"title":"\"Type mismatch\" ÈîôËØØ‚Äã","type":1,"pageTitle":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/next/guide/java/cross_language#type-mismatch-ÈîôËØØ","content":" Á°Æ‰øùÂ≠óÊÆµÁ±ªÂûãÂú®ËØ≠Ë®Ä‰πãÈó¥ÂÖºÂÆπÊü•ÁúãÁ±ªÂûãÊò†Â∞ÑÊåáÂçó  ","version":"dev","tagName":"h3"},{"title":"Êï∞ÊçÆÊçüÂùèÊàñÊÑèÂ§ñÂÄº‚Äã","type":1,"pageTitle":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/next/guide/java/cross_language#Êï∞ÊçÆÊçüÂùèÊàñÊÑèÂ§ñÂÄº","content":" È™åËØÅ‰∏§Á´ØÈÉΩ‰ΩøÁî® Language.XLANG Ê®°ÂºèÁ°Æ‰øù‰∏§Á´ØÂÖ∑ÊúâÂÖºÂÆπÁöÑ Fory ÁâàÊú¨  ","version":"dev","tagName":"h3"},{"title":"Âè¶ËØ∑ÂèÇÈòÖ‚Äã","type":1,"pageTitle":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/next/guide/java/cross_language#Âè¶ËØ∑ÂèÇÈòÖ","content":" Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñËßÑËåÉÁ±ªÂûãÊò†Â∞ÑÂèÇËÄÉPython Ë∑®ËØ≠Ë®ÄÊåáÂçóRust Ë∑®ËØ≠Ë®ÄÊåáÂçó  ","version":"dev","tagName":"h2"},{"title":"Áõ∏ÂÖ≥‰∏ªÈ¢ò‚Äã","type":1,"pageTitle":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/next/guide/java/cross_language#Áõ∏ÂÖ≥‰∏ªÈ¢ò","content":" Schema ÊºîÂåñ - ÂÖºÂÆπÊ®°ÂºèÁ±ªÂûãÊ≥®ÂÜå - Ê≥®ÂÜåÊñπÊ≥ïË°åÊ†ºÂºè - Ë∑®ËØ≠Ë®ÄË°åÊ†ºÂºè ","version":"dev","tagName":"h2"},{"title":"ËøÅÁßªÊåáÂçó","type":0,"sectionRef":"#","url":"/zh-CN/docs/next/guide/java/migration","content":"","keywords":"","version":"dev"},{"title":"JDK Â∫èÂàóÂåñËøÅÁßª‚Äã","type":1,"pageTitle":"ËøÅÁßªÊåáÂçó","url":"/zh-CN/docs/next/guide/java/migration#jdk-Â∫èÂàóÂåñËøÅÁßª","content":" Â¶ÇÊûú‰Ω†‰πãÂâç‰ΩøÁî® JDK Â∫èÂàóÂåñÔºåÂπ∂‰∏îÊó†Ê≥ïÂêåÊó∂ÂçáÁ∫ßÂÆ¢Êà∑Á´ØÂíåÊúçÂä°Âô®ÔºàËøôÂØπ‰∫éÂú®Á∫øÂ∫îÁî®Á®ãÂ∫èÂæàÂ∏∏ËßÅÔºâÔºåFory Êèê‰æõ‰∫Ü‰∏Ä‰∏™ÂÆûÁî®ÊñπÊ≥ï org.apache.fory.serializer.JavaSerializer.serializedByJDK Êù•Ê£ÄÊü•‰∫åËøõÂà∂ÊòØÂê¶Áî± JDK Â∫èÂàóÂåñÁîüÊàê„ÄÇ  ‰Ω†ÂèØ‰ª•‰ΩøÁî®‰ª•‰∏ãÊ®°Âºè‰ΩøÁé∞ÊúâÂ∫èÂàóÂåñÂçèËÆÆÊÑüÁü•ÔºåÁÑ∂Âêé‰ª•ÂºÇÊ≠•ÊªöÂä®ÊñπÂºèÂçáÁ∫ßÂ∫èÂàóÂåñÂà∞ ForyÔºö  if (JavaSerializer.serializedByJDK(bytes)) { ObjectInputStream objectInputStream = xxx; return objectInputStream.readObject(); } else { return fory.deserialize(bytes); }   ËøôÂÖÅËÆ∏‰Ω†Ôºö  ÈÉ®ÁΩ≤ÂèØ‰ª•ÂêåÊó∂ËØªÂèñ JDK Âíå Fory Â∫èÂàóÂåñÊï∞ÊçÆÁöÑÊñ∞‰ª£Á†ÅÈÄêÊ≠•Â∞ÜÂ∫èÂàóÂåñËøÅÁßªÂà∞ ForyÊúÄÁªàÁßªÈô§ JDK Â∫èÂàóÂåñÊîØÊåÅ  ","version":"dev","tagName":"h2"},{"title":"ÂçáÁ∫ß Fory‚Äã","type":1,"pageTitle":"ËøÅÁßªÊåáÂçó","url":"/zh-CN/docs/next/guide/java/migration#ÂçáÁ∫ß-fory","content":" ","version":"dev","tagName":"h2"},{"title":"Â∞èÁâàÊú¨ÂçáÁ∫ß‚Äã","type":1,"pageTitle":"ËøÅÁßªÊåáÂçó","url":"/zh-CN/docs/next/guide/java/migration#Â∞èÁâàÊú¨ÂçáÁ∫ß","content":" ÁõÆÂâçÔºå‰ªÖ‰∏∫Â∞èÁâàÊú¨Êèê‰æõ‰∫åËøõÂà∂ÂÖºÂÆπÊÄß„ÄÇ‰æãÂ¶ÇÔºåÂ¶ÇÊûú‰Ω†‰ΩøÁî® Fory v0.2.0ÔºåÂ¶ÇÊûúÂçáÁ∫ßÂà∞ Fory v0.2.1ÔºåÂ∞ÜÊèê‰æõ‰∫åËøõÂà∂ÂÖºÂÆπÊÄß„ÄÇ  Â¶ÇÊûú‰Ω†ÊåâÂ∞èÁâàÊú¨ÂçáÁ∫ßÔºåÊàñËÄÖ‰Ω†‰∏ç‰ºöÊúâÊóßÁâà Fory Â∫èÂàóÂåñÁöÑÊï∞ÊçÆÔºå‰Ω†ÂèØ‰ª•Áõ¥Êé•ÂçáÁ∫ß ForyÔºåÊó†ÈúÄ‰ªª‰ΩïÁâπÊÆäÂ§ÑÁêÜ„ÄÇ  ","version":"dev","tagName":"h3"},{"title":"Â§ßÁâàÊú¨ÂçáÁ∫ß‚Äã","type":1,"pageTitle":"ËøÅÁßªÊåáÂçó","url":"/zh-CN/docs/next/guide/java/migration#Â§ßÁâàÊú¨ÂçáÁ∫ß","content":" Â¶ÇÊûú‰Ω†‰ªé v0.2.x ÂçáÁ∫ßÂà∞ Fory v0.4.1ÔºåÂàô‰∏ç‰øùËØÅ‰∫åËøõÂà∂ÂÖºÂÆπÊÄß„ÄÇ  Â§ßÂ§öÊï∞Êó∂ÂÄô‰∏çÈúÄË¶ÅÂçáÁ∫ß Fory Âà∞Êõ¥Êñ∞ÁöÑÂ§ßÁâàÊú¨‚Äî‚ÄîÂΩìÂâçÁâàÊú¨Â∑≤ÁªèË∂≥Â§üÂø´ÈÄüÂíåÁ¥ßÂáëÔºåÊàë‰ª¨‰∏∫ÊúÄËøëÁöÑÊóßÁâàÊú¨Êèê‰æõ‰∏Ä‰∫õÂ∞è‰øÆÂ§ç„ÄÇ  ","version":"dev","tagName":"h3"},{"title":"‰∏∫Â∫èÂàóÂåñÊï∞ÊçÆÊ∑ªÂä†ÁâàÊú¨‚Äã","type":1,"pageTitle":"ËøÅÁßªÊåáÂçó","url":"/zh-CN/docs/next/guide/java/migration#‰∏∫Â∫èÂàóÂåñÊï∞ÊçÆÊ∑ªÂä†ÁâàÊú¨","content":" Â¶ÇÊûú‰Ω†Á°ÆÂÆûÊÉ≥ÂçáÁ∫ß Fory ‰ª•Ëé∑ÂæóÊõ¥Â•ΩÁöÑÊÄßËÉΩÂíåÊõ¥Â∞èÁöÑÂ§ßÂ∞èÔºå‰Ω†ÈúÄË¶ÅÂ∞Ü Fory ÁâàÊú¨‰Ωú‰∏∫Â§¥ÈÉ®ÂÜôÂÖ•Â∫èÂàóÂåñÊï∞ÊçÆÔºå‰ΩøÁî®Â¶Ç‰∏ã‰ª£Á†ÅÊù•‰øùÊåÅ‰∫åËøõÂà∂ÂÖºÂÆπÊÄßÔºö  Â∏¶ÁâàÊú¨Â§¥ÁöÑÂ∫èÂàóÂåñ‚Äã  MemoryBuffer buffer = xxx; buffer.writeVarInt32(2); // ÂÜôÂÖ• Fory ÁâàÊú¨ fory.serialize(buffer, obj);   Â∏¶ÁâàÊú¨Â§¥ÁöÑÂèçÂ∫èÂàóÂåñ‚Äã  MemoryBuffer buffer = xxx; int foryVersion = buffer.readVarInt32(); Fory fory = getFory(foryVersion); fory.deserialize(buffer);   getFory ÊòØ‰∏Ä‰∏™Âä†ËΩΩÁõ∏Â∫î Fory ÁâàÊú¨ÁöÑÊñπÊ≥ï„ÄÇ‰Ω†ÂèØ‰ª•Â∞Ü‰∏çÂêåÁâàÊú¨ÁöÑ Fory shade Âíå relocate Âà∞‰∏çÂêåÁöÑÂåÖÔºåÂπ∂ÊåâÁâàÊú¨Âä†ËΩΩ Fory„ÄÇ  ","version":"dev","tagName":"h3"},{"title":"Shading Á§∫‰æã‚Äã","type":1,"pageTitle":"ËøÅÁßªÊåáÂçó","url":"/zh-CN/docs/next/guide/java/migration#shading-Á§∫‰æã","content":" &lt;!-- Maven Shade Plugin ÈÖçÁΩÆÁî®‰∫éÂ§ö‰∏™ Fory ÁâàÊú¨ --&gt; &lt;plugin&gt; &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt; &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt; &lt;executions&gt; &lt;execution&gt; &lt;id&gt;shade-fory-v1&lt;/id&gt; &lt;phase&gt;package&lt;/phase&gt; &lt;goals&gt; &lt;goal&gt;shade&lt;/goal&gt; &lt;/goals&gt; &lt;configuration&gt; &lt;relocations&gt; &lt;relocation&gt; &lt;pattern&gt;org.apache.fory&lt;/pattern&gt; &lt;shadedPattern&gt;com.myapp.fory.v1&lt;/shadedPattern&gt; &lt;/relocation&gt; &lt;/relocations&gt; &lt;/configuration&gt; &lt;/execution&gt; &lt;/executions&gt; &lt;/plugin&gt;   ","version":"dev","tagName":"h3"},{"title":"ÊúÄ‰Ω≥ÂÆûË∑µ‚Äã","type":1,"pageTitle":"ËøÅÁßªÊåáÂçó","url":"/zh-CN/docs/next/guide/java/migration#ÊúÄ‰Ω≥ÂÆûË∑µ","content":" ÂçáÁ∫ßÂâçÂΩªÂ∫ïÊµãËØïÔºöÁ°Æ‰øù‰∏éÁé∞ÊúâÂ∫èÂàóÂåñÊï∞ÊçÆÁöÑÂÖºÂÆπÊÄßÂØπÈïøÊúüÂ≠òÂÇ®‰ΩøÁî®ÁâàÊú¨Â§¥ÔºöÂ¶ÇÊûúÊï∞ÊçÆÂú® Fory ÁâàÊú¨‰πãÈó¥ÊåÅ‰πÖÂåñ‰øùÊåÅÂêëÂêéÂÖºÂÆπÊÄßÔºö‰øùÁïôÊóßÁâàÊú¨ Fory ‰ª•ËØªÂèñÈÅóÁïôÊï∞ÊçÆÂçáÁ∫ßÂêéÁõëÊéßÔºöÂú®Áîü‰∫ßÁéØÂ¢É‰∏≠Ê≥®ÊÑèÂèçÂ∫èÂàóÂåñÈîôËØØ  ","version":"dev","tagName":"h2"},{"title":"Áõ∏ÂÖ≥‰∏ªÈ¢ò‚Äã","type":1,"pageTitle":"ËøÅÁßªÊåáÂçó","url":"/zh-CN/docs/next/guide/java/migration#Áõ∏ÂÖ≥‰∏ªÈ¢ò","content":" ÈÖçÁΩÆÈÄâÈ°π - ForyBuilder ÈÄâÈ°πSchema ÊºîÂåñ - Â§ÑÁêÜÁ±ªÂèòÊõ¥ÊïÖÈöúÊéíÈô§ - Â∏∏ËßÅËøÅÁßªÈóÆÈ¢ò ","version":"dev","tagName":"h2"},{"title":"Ë°åÊ†ºÂºè","type":0,"sectionRef":"#","url":"/zh-CN/docs/next/guide/java/row_format","content":"","keywords":"","version":"dev"},{"title":"Ê¶ÇËø∞‚Äã","type":1,"pageTitle":"Ë°åÊ†ºÂºè","url":"/zh-CN/docs/next/guide/java/row_format#Ê¶ÇËø∞","content":" Ë°åÊ†ºÂºèÊòØ‰∏ÄÁßçÁºìÂ≠òÂèãÂ•ΩÁöÑ‰∫åËøõÂà∂ÈöèÊú∫ËÆøÈóÆÊ†ºÂºèÔºåÊîØÊåÅÔºö  Èõ∂Êã∑Ë¥ùËÆøÈóÆÔºöÁõ¥Êé•‰ªé‰∫åËøõÂà∂ËØªÂèñÂ≠óÊÆµÔºåÊó†ÈúÄÂàÜÈÖçÂØπË±°ÈÉ®ÂàÜÂèçÂ∫èÂàóÂåñÔºöÂè™ËÆøÈóÆ‰Ω†ÈúÄË¶ÅÁöÑÂ≠óÊÆµË∑≥ËøáÂ∫èÂàóÂåñÔºöË∑≥Ëøá‰∏çÈúÄË¶ÅÁöÑÂ≠óÊÆµÁöÑÂ∫èÂàóÂåñË∑®ËØ≠Ë®ÄÂÖºÂÆπÊÄßÔºöÂú® Python„ÄÅJava„ÄÅC++ ÂíåÂÖ∂‰ªñËØ≠Ë®Ä‰πãÈó¥Â∑•‰ΩúÂàóÊ†ºÂºèËΩ¨Êç¢ÔºöÂèØ‰ª•Ëá™Âä®ËΩ¨Êç¢‰∏∫ Apache Arrow ÂàóÊ†ºÂºè  ","version":"dev","tagName":"h2"},{"title":"Âü∫Êú¨‰ΩøÁî®‚Äã","type":1,"pageTitle":"Ë°åÊ†ºÂºè","url":"/zh-CN/docs/next/guide/java/row_format#Âü∫Êú¨‰ΩøÁî®","content":" public class Bar { String f1; List&lt;Long&gt; f2; } public class Foo { int f1; List&lt;Integer&gt; f2; Map&lt;String, Integer&gt; f3; List&lt;Bar&gt; f4; } RowEncoder&lt;Foo&gt; encoder = Encoders.bean(Foo.class); // ÂàõÂª∫Â§ßÂûãÊï∞ÊçÆÈõÜ Foo foo = new Foo(); foo.f1 = 10; foo.f2 = IntStream.range(0, 1_000_000).boxed().collect(Collectors.toList()); foo.f3 = IntStream.range(0, 1_000_000).boxed().collect(Collectors.toMap(i -&gt; &quot;k&quot; + i, i -&gt; i)); List&lt;Bar&gt; bars = new ArrayList&lt;&gt;(1_000_000); for (int i = 0; i &lt; 1_000_000; i++) { Bar bar = new Bar(); bar.f1 = &quot;s&quot; + i; bar.f2 = LongStream.range(0, 10).boxed().collect(Collectors.toList()); bars.add(bar); } foo.f4 = bars; // ÁºñÁ†Å‰∏∫Ë°åÊ†ºÂºèÔºàË∑®ËØ≠Ë®ÄÂÖºÂÆπ Python/C++Ôºâ BinaryRow binaryRow = encoder.toRow(foo); // Èõ∂Êã∑Ë¥ùÈöèÊú∫ËÆøÈóÆÔºåÊó†ÈúÄÂÆåÂÖ®ÂèçÂ∫èÂàóÂåñ BinaryArray f2Array = binaryRow.getArray(1); // ËÆøÈóÆ f2 ÂàóË°® BinaryArray f4Array = binaryRow.getArray(3); // ËÆøÈóÆ f4 ÂàóË°® BinaryRow bar10 = f4Array.getStruct(10); // ËÆøÈóÆÁ¨¨ 11 ‰∏™ Bar long value = bar10.getArray(1).getInt64(5); // ËÆøÈóÆ bar.f2 ÁöÑÁ¨¨ 6 ‰∏™ÂÖÉÁ¥† // ÈÉ®ÂàÜÂèçÂ∫èÂàóÂåñ - Âè™ÂèçÂ∫èÂàóÂåñ‰Ω†ÈúÄË¶ÅÁöÑ RowEncoder&lt;Bar&gt; barEncoder = Encoders.bean(Bar.class); Bar bar1 = barEncoder.fromRow(f4Array.getStruct(10)); // Âè™ÂèçÂ∫èÂàóÂåñÁ¨¨ 11 ‰∏™ Bar Bar bar2 = barEncoder.fromRow(f4Array.getStruct(20)); // Âè™ÂèçÂ∫èÂàóÂåñÁ¨¨ 21 ‰∏™ Bar // ÈúÄË¶ÅÊó∂ÂÆåÂÖ®ÂèçÂ∫èÂàóÂåñ Foo newFoo = encoder.fromRow(binaryRow);   ","version":"dev","tagName":"h2"},{"title":"‰∏ªË¶Å‰ºòÂäø‚Äã","type":1,"pageTitle":"Ë°åÊ†ºÂºè","url":"/zh-CN/docs/next/guide/java/row_format#‰∏ªË¶Å‰ºòÂäø","content":" ÁâπÊÄß\tÊèèËø∞Èõ∂Êã∑Ë¥ùËÆøÈóÆ\tËØªÂèñÂµåÂ•óÂ≠óÊÆµËÄåÊó†ÈúÄÂèçÂ∫èÂàóÂåñÊï¥‰∏™ÂØπË±° ÂÜÖÂ≠òÊïàÁéá\tÁõ¥Êé•‰ªéÁ£ÅÁõòÂÜÖÂ≠òÊò†Â∞ÑÂ§ßÊï∞ÊçÆÈõÜ Ë∑®ËØ≠Ë®Ä\tJava„ÄÅPython„ÄÅC++ ‰πãÈó¥ÁöÑ‰∫åËøõÂà∂Ê†ºÂºèÂÖºÂÆπ ÈÉ®ÂàÜÂèçÂ∫èÂàóÂåñ\tÂè™ÂèçÂ∫èÂàóÂåñ‰Ω†ÈúÄË¶ÅÁöÑÁâπÂÆöÂÖÉÁ¥† È´òÊÄßËÉΩ\tË∑≥Ëøá‰∏çÂøÖË¶ÅÁöÑÊï∞ÊçÆËß£ÊûêÁî®‰∫éÂàÜÊûêÂ∑•‰ΩúË¥üËΩΩ  ","version":"dev","tagName":"h2"},{"title":"‰ΩïÊó∂‰ΩøÁî®Ë°åÊ†ºÂºè‚Äã","type":1,"pageTitle":"Ë°åÊ†ºÂºè","url":"/zh-CN/docs/next/guide/java/row_format#‰ΩïÊó∂‰ΩøÁî®Ë°åÊ†ºÂºè","content":" Ë°åÊ†ºÂºèÈÄÇÁî®‰∫éÔºö  ÂàÜÊûêÂ∑•‰ΩúË¥üËΩΩÔºöÂΩì‰Ω†Âè™ÈúÄË¶ÅËÆøÈóÆÁâπÂÆöÂ≠óÊÆµÊó∂Â§ßÊï∞ÊçÆÈõÜÔºöÂΩìÂÆåÂÖ®ÂèçÂ∫èÂàóÂåñÊàêÊú¨Â§™È´òÊó∂ÂÜÖÂ≠òÊò†Â∞ÑÊñá‰ª∂ÔºöÂ§ÑÁêÜÂ§ß‰∫é RAM ÁöÑÊï∞ÊçÆÊï∞ÊçÆÁÆ°ÈÅìÔºöÊó†ÈúÄÂÆåÊï¥ÂØπË±°ÈáçÂª∫Âç≥ÂèØÂ§ÑÁêÜÊï∞ÊçÆË∑®ËØ≠Ë®ÄÊï∞ÊçÆÂÖ±‰∫´ÔºöÂΩìÊï∞ÊçÆÈúÄË¶Å‰ªéÂ§öÁßçËØ≠Ë®ÄËÆøÈóÆÊó∂  ","version":"dev","tagName":"h2"},{"title":"Ë∑®ËØ≠Ë®ÄÂÖºÂÆπÊÄß‚Äã","type":1,"pageTitle":"Ë°åÊ†ºÂºè","url":"/zh-CN/docs/next/guide/java/row_format#Ë∑®ËØ≠Ë®ÄÂÖºÂÆπÊÄß","content":" Ë°åÊ†ºÂºèÂú®ËØ≠Ë®Ä‰πãÈó¥Êó†ÁºùÂ∑•‰Ωú„ÄÇÁõ∏ÂêåÁöÑ‰∫åËøõÂà∂Êï∞ÊçÆÂèØ‰ª•‰ªé‰ª•‰∏ãËØ≠Ë®ÄËÆøÈóÆÔºö  ","version":"dev","tagName":"h2"},{"title":"Python‚Äã","type":1,"pageTitle":"Ë°åÊ†ºÂºè","url":"/zh-CN/docs/next/guide/java/row_format#python","content":" import pyfory import pyarrow as pa from dataclasses import dataclass from typing import List, Dict @dataclass class Bar: f1: str f2: List[pa.int64] @dataclass class Foo: f1: pa.int32 f2: List[pa.int32] f3: Dict[str, pa.int32] f4: List[Bar] encoder = pyfory.encoder(Foo) binary: bytes = encoder.to_row(foo).to_bytes() # Èõ∂Êã∑Ë¥ùËÆøÈóÆ foo_row = pyfory.RowData(encoder.schema, binary) print(foo_row.f2[100000]) print(foo_row.f4[100000].f1)   ","version":"dev","tagName":"h3"},{"title":"C++‚Äã","type":1,"pageTitle":"Ë°åÊ†ºÂºè","url":"/zh-CN/docs/next/guide/java/row_format#c","content":" #include &quot;fory/encoder/row_encoder.h&quot; #include &quot;fory/row/writer.h&quot; struct Bar { std::string f1; std::vector&lt;int64_t&gt; f2; }; FORY_FIELD_INFO(Bar, f1, f2); struct Foo { int32_t f1; std::vector&lt;int32_t&gt; f2; std::map&lt;std::string, int32_t&gt; f3; std::vector&lt;Bar&gt; f4; }; FORY_FIELD_INFO(Foo, f1, f2, f3, f4); fory::encoder::RowEncoder&lt;Foo&gt; encoder; encoder.Encode(foo); auto row = encoder.GetWriter().ToRow(); // Èõ∂Êã∑Ë¥ùÈöèÊú∫ËÆøÈóÆ auto f2_array = row-&gt;GetArray(1); auto f4_array = row-&gt;GetArray(3); auto bar10 = f4_array-&gt;GetStruct(10); int64_t value = bar10-&gt;GetArray(1)-&gt;GetInt64(5); std::string str = bar10-&gt;GetString(0);   ","version":"dev","tagName":"h3"},{"title":"ÊÄßËÉΩÊØîËæÉ‚Äã","type":1,"pageTitle":"Ë°åÊ†ºÂºè","url":"/zh-CN/docs/next/guide/java/row_format#ÊÄßËÉΩÊØîËæÉ","content":" Êìç‰Ωú\tÂØπË±°Ê†ºÂºè\tË°åÊ†ºÂºèÂÆåÂÖ®ÂèçÂ∫èÂàóÂåñ\tÂàÜÈÖçÊâÄÊúâÂØπË±°\tÈõ∂ÂàÜÈÖç ÂçïÂ≠óÊÆµËÆøÈóÆ\tÈúÄË¶ÅÂÆåÂÖ®ÂèçÂ∫èÂàóÂåñ\tÁõ¥Êé•ÂÅèÁßªËØªÂèñ ÂÜÖÂ≠ò‰ΩøÁî®\tÂÆåÊï¥ÂØπË±°ÂõæÂú®ÂÜÖÂ≠ò‰∏≠\t‰ªÖËÆøÈóÆÁöÑÂ≠óÊÆµ ÈÄÇÁî®‰∫é\tÂ∞èÂØπË±°ÔºåÂÆåÂÖ®ËÆøÈóÆ\tÂ§ßÂØπË±°ÔºåÈÄâÊã©ÊÄßËÆøÈóÆ  ","version":"dev","tagName":"h2"},{"title":"Áõ∏ÂÖ≥‰∏ªÈ¢ò‚Äã","type":1,"pageTitle":"Ë°åÊ†ºÂºè","url":"/zh-CN/docs/next/guide/java/row_format#Áõ∏ÂÖ≥‰∏ªÈ¢ò","content":" Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ - XLANG Ê®°ÂºèÈ´òÁ∫ßÁâπÊÄß - Èõ∂Êã∑Ë¥ùÂ∫èÂàóÂåñË°åÊ†ºÂºèËßÑËåÉ - ÂçèËÆÆËØ¶ÊÉÖ ","version":"dev","tagName":"h2"},{"title":"Schema ÊºîÂåñ","type":0,"sectionRef":"#","url":"/zh-CN/docs/next/guide/java/schema_evolution","content":"","keywords":"","version":"dev"},{"title":"Â§ÑÁêÜÁ±ª Schema ÊºîÂåñ‚Äã","type":1,"pageTitle":"Schema ÊºîÂåñ","url":"/zh-CN/docs/next/guide/java/schema_evolution#Â§ÑÁêÜÁ±ª-schema-ÊºîÂåñ","content":" Âú®ËÆ∏Â§öÁ≥ªÁªü‰∏≠ÔºåÁî®‰∫éÂ∫èÂàóÂåñÁöÑÁ±ªÁöÑ schema ÂèØËÉΩ‰ºöÈöèÊó∂Èó¥ËÄåÊîπÂèò„ÄÇ‰æãÂ¶ÇÔºåÁ±ª‰∏≠ÁöÑÂ≠óÊÆµÂèØËÉΩ‰ºöË¢´Ê∑ªÂä†ÊàñÂà†Èô§„ÄÇÂΩìÂ∫èÂàóÂåñÂíåÂèçÂ∫èÂàóÂåñËøáÁ®ã‰ΩøÁî®‰∏çÂêåÁâàÊú¨ÁöÑ jar Êó∂ÔºåË¢´ÂèçÂ∫èÂàóÂåñÁöÑÁ±ªÁöÑ schema ÂèØËÉΩ‰∏éÂ∫èÂàóÂåñÊúüÈó¥‰ΩøÁî®ÁöÑ‰∏çÂêå„ÄÇ  ","version":"dev","tagName":"h2"},{"title":"ÈªòËÆ§Ê®°ÂºèÔºöSCHEMA_CONSISTENT‚Äã","type":1,"pageTitle":"Schema ÊºîÂåñ","url":"/zh-CN/docs/next/guide/java/schema_evolution#ÈªòËÆ§Ê®°Âºèschema_consistent","content":" ÈªòËÆ§ÊÉÖÂÜµ‰∏ãÔºåFory ‰ΩøÁî® CompatibleMode.SCHEMA_CONSISTENT Ê®°ÂºèÂ∫èÂàóÂåñÂØπË±°„ÄÇÊ≠§Ê®°ÂºèÂÅáËÆæÂèçÂ∫èÂàóÂåñËøáÁ®ã‰ΩøÁî®‰∏éÂ∫èÂàóÂåñËøáÁ®ãÁõ∏ÂêåÁöÑÁ±ª schemaÔºå‰ªéËÄåÊúÄÂ∞èÂåñÊúâÊïàË¥üËΩΩÂºÄÈîÄ„ÄÇ‰ΩÜÊòØÔºåÂ¶ÇÊûúÂ≠òÂú® schema ‰∏ç‰∏ÄËá¥ÔºåÂèçÂ∫èÂàóÂåñÂ∞ÜÂ§±Ë¥•„ÄÇ  ","version":"dev","tagName":"h3"},{"title":"ÂÖºÂÆπÊ®°Âºè‚Äã","type":1,"pageTitle":"Schema ÊºîÂåñ","url":"/zh-CN/docs/next/guide/java/schema_evolution#ÂÖºÂÆπÊ®°Âºè","content":" Â¶ÇÊûúÈ¢ÑÊúü schema ‰ºöÂèëÁîüÂèòÂåñÔºå‰∏∫‰∫Ü‰ΩøÂèçÂ∫èÂàóÂåñÊàêÂäüÔºàÂç≥ schema ÂâçÂêë/ÂêéÂêëÂÖºÂÆπÊÄßÔºâÔºåÁî®Êà∑ÂøÖÈ°ªÈÖçÁΩÆ Fory ‰ΩøÁî® CompatibleMode.COMPATIBLE„ÄÇËøôÂèØ‰ª•‰ΩøÁî® ForyBuilder#withCompatibleMode(CompatibleMode.COMPATIBLE) ÊñπÊ≥ïÂÆåÊàê„ÄÇ  Âú®Ê≠§ÂÖºÂÆπÊ®°Âºè‰∏ãÔºåÂèçÂ∫èÂàóÂåñÂèØ‰ª•Â§ÑÁêÜ schema ÂèòÊõ¥ÔºåÂ¶ÇÁº∫Â§±ÊàñÈ¢ùÂ§ñÁöÑÂ≠óÊÆµÔºåÂÖÅËÆ∏Âú®Â∫èÂàóÂåñÂíåÂèçÂ∫èÂàóÂåñËøáÁ®ãÂÖ∑Êúâ‰∏çÂêåÁ±ª schema Êó∂‰πüËÉΩÊàêÂäü„ÄÇ  Fory fory = Fory.builder() .withCompatibleMode(CompatibleMode.COMPATIBLE) .build(); byte[] bytes = fory.serialize(object); System.out.println(fory.deserialize(bytes));   Ê≠§ÂÖºÂÆπÊ®°ÂºèÊ∂âÂèäÂ∞ÜÁ±ªÂÖÉÊï∞ÊçÆÂ∫èÂàóÂåñÂà∞Â∫èÂàóÂåñËæìÂá∫‰∏≠„ÄÇÂ∞ΩÁÆ° Fory ‰ΩøÁî®Â§çÊùÇÁöÑÂéãÁº©ÊäÄÊúØÊù•ÊúÄÂ∞èÂåñÂºÄÈîÄÔºå‰ΩÜ‰∏éÁ±ªÂÖÉÊï∞ÊçÆÁõ∏ÂÖ≥ËÅîÁöÑ‰ªçÊúâ‰∏Ä‰∫õÈ¢ùÂ§ñÁöÑÁ©∫Èó¥ÊàêÊú¨„ÄÇ  ","version":"dev","tagName":"h3"},{"title":"ÂÖÉÊï∞ÊçÆÂÖ±‰∫´‚Äã","type":1,"pageTitle":"Schema ÊºîÂåñ","url":"/zh-CN/docs/next/guide/java/schema_evolution#ÂÖÉÊï∞ÊçÆÂÖ±‰∫´","content":" ‰∏∫‰∫ÜËøõ‰∏ÄÊ≠•Èôç‰ΩéÂÖÉÊï∞ÊçÆÊàêÊú¨ÔºåFory ÂºïÂÖ•‰∫ÜÁ±ªÂÖÉÊï∞ÊçÆÂÖ±‰∫´Êú∫Âà∂ÔºåÂÖÅËÆ∏ÂÖÉÊï∞ÊçÆÂè™ÂèëÈÄÅÂà∞ÂèçÂ∫èÂàóÂåñËøáÁ®ã‰∏ÄÊ¨°„ÄÇ  Fory ÊîØÊåÅÂú®‰∏ä‰∏ãÊñáÔºà‰æãÂ¶Ç TCP ËøûÊé•Ôºâ‰∏≠ÁöÑÂ§öÊ¨°Â∫èÂàóÂåñ‰πãÈó¥ÂÖ±‰∫´Á±ªÂûãÂÖÉÊï∞ÊçÆÔºàÁ±ªÂêç„ÄÅÂ≠óÊÆµÂêç„ÄÅÊúÄÁªàÂ≠óÊÆµÁ±ªÂûã‰ø°ÊÅØÁ≠âÔºâ„ÄÇÊ≠§‰ø°ÊÅØÂ∞ÜÂú®‰∏ä‰∏ãÊñá‰∏≠ÁöÑÁ¨¨‰∏ÄÊ¨°Â∫èÂàóÂåñÊúüÈó¥ÂèëÈÄÅÂà∞ÂØπÁ≠âÁ´Ø„ÄÇÂü∫‰∫éÊ≠§ÂÖÉÊï∞ÊçÆÔºåÂØπÁ≠âÁ´ØÂèØ‰ª•ÈáçÂª∫Áõ∏ÂêåÁöÑÂèçÂ∫èÂàóÂåñÂô®ÔºåËøôÈÅøÂÖç‰∫Ü‰∏∫ÂêéÁª≠Â∫èÂàóÂåñ‰º†ËæìÂÖÉÊï∞ÊçÆÔºåÂπ∂Èôç‰ΩéÁΩëÁªúÊµÅÈáèÂéãÂäõÔºåÂêåÊó∂Ëá™Âä®ÊîØÊåÅÁ±ªÂûãÂâçÂêë/ÂêéÂêëÂÖºÂÆπÊÄß„ÄÇ  ","version":"dev","tagName":"h2"},{"title":"‰ΩøÁî®ÂÖÉÊï∞ÊçÆÂÖ±‰∫´‚Äã","type":1,"pageTitle":"Schema ÊºîÂåñ","url":"/zh-CN/docs/next/guide/java/schema_evolution#‰ΩøÁî®ÂÖÉÊï∞ÊçÆÂÖ±‰∫´","content":" // Fory.builder() // .withLanguage(Language.JAVA) // .withRefTracking(false) // // Âú®Â§öÊ¨°Â∫èÂàóÂåñ‰πãÈó¥ÂÖ±‰∫´ÂÖÉÊï∞ÊçÆ„ÄÇ // .withMetaContextShare(true) // ÈùûÁ∫øÁ®ãÂÆâÂÖ® fory„ÄÇ MetaContext context = xxx; fory.getSerializationContext().setMetaContext(context); byte[] bytes = fory.serialize(o); // ÈùûÁ∫øÁ®ãÂÆâÂÖ® fory„ÄÇ MetaContext context = xxx; fory.getSerializationContext().setMetaContext(context); fory.deserialize(bytes);   ","version":"dev","tagName":"h3"},{"title":"Á∫øÁ®ãÂÆâÂÖ®ÂÖÉÊï∞ÊçÆÂÖ±‰∫´‚Äã","type":1,"pageTitle":"Schema ÊºîÂåñ","url":"/zh-CN/docs/next/guide/java/schema_evolution#Á∫øÁ®ãÂÆâÂÖ®ÂÖÉÊï∞ÊçÆÂÖ±‰∫´","content":" // Á∫øÁ®ãÂÆâÂÖ® fory fory.setClassLoader(beanA.getClass().getClassLoader()); byte[] serialized = fory.execute( f -&gt; { f.getSerializationContext().setMetaContext(context); return f.serialize(beanA); } ); // Á∫øÁ®ãÂÆâÂÖ® fory fory.setClassLoader(beanA.getClass().getClassLoader()); Object newObj = fory.execute( f -&gt; { f.getSerializationContext().setMetaContext(context); return f.deserialize(serialized); } );   Ê≥®ÊÑèÔºöMetaContext ‰∏çÊòØÁ∫øÁ®ãÂÆâÂÖ®ÁöÑÔºå‰∏çËÉΩÂú® Fory ÂÆû‰æãÊàñÂ§ö‰∏™Á∫øÁ®ã‰πãÈó¥ÈáçÁî®„ÄÇÂú®Â§öÁ∫øÁ®ãÊÉÖÂÜµ‰∏ãÔºåÂøÖÈ°ª‰∏∫ÊØè‰∏™ Fory ÂÆû‰æãÂàõÂª∫ÂçïÁã¨ÁöÑ MetaContext„ÄÇ  ÊúâÂÖ≥Êõ¥Â§öËØ¶ÁªÜ‰ø°ÊÅØÔºåËØ∑ÂèÇÈòÖ ÂÖÉÊï∞ÊçÆÂÖ±‰∫´ËßÑËåÉ„ÄÇ  ","version":"dev","tagName":"h3"},{"title":"ÂèçÂ∫èÂàóÂåñ‰∏çÂ≠òÂú®ÁöÑÁ±ª‚Äã","type":1,"pageTitle":"Schema ÊºîÂåñ","url":"/zh-CN/docs/next/guide/java/schema_evolution#ÂèçÂ∫èÂàóÂåñ‰∏çÂ≠òÂú®ÁöÑÁ±ª","content":" Fory ÊîØÊåÅÂèçÂ∫èÂàóÂåñ‰∏çÂ≠òÂú®ÁöÑÁ±ª„ÄÇÊ≠§ÂäüËÉΩÂèØ‰ª•ÈÄöËøá ForyBuilder#deserializeNonexistentClass(true) ÂêØÁî®„ÄÇ  ÂêØÁî®Êó∂ÔºåÂ¶ÇÊûúÂêØÁî®‰∫ÜÂÖÉÊï∞ÊçÆÂÖ±‰∫´ÔºåFory Â∞ÜÊääÊ≠§Á±ªÂûãÁöÑÂèçÂ∫èÂàóÂåñÊï∞ÊçÆÂ≠òÂÇ®Âú® Map ÁöÑÂª∂ËøüÂ≠êÁ±ª‰∏≠„ÄÇÈÄöËøá‰ΩøÁî® Fory ÂÆûÁé∞ÁöÑÂª∂ËøüÊò†Â∞ÑÔºåÂèØ‰ª•ÈÅøÂÖçÂèçÂ∫èÂàóÂåñÊúüÈó¥Â°´ÂÖÖÊò†Â∞ÑÁöÑÈáçÊñ∞Âπ≥Ë°°ÊàêÊú¨Ôºå‰ªéËÄåËøõ‰∏ÄÊ≠•ÊèêÈ´òÊÄßËÉΩ„ÄÇ  Â¶ÇÊûúÊ≠§Êï∞ÊçÆË¢´ÂèëÈÄÅÂà∞Âè¶‰∏Ä‰∏™ËøõÁ®ãÔºåÂπ∂‰∏îËØ•Á±ªÂú®Ê≠§ËøáÁ®ã‰∏≠Â≠òÂú®ÔºåÂàôÊï∞ÊçÆÂ∞ÜË¢´ÂèçÂ∫èÂàóÂåñ‰∏∫Ê≠§Á±ªÂûãÁöÑÂØπË±°ÔºåËÄå‰∏ç‰ºö‰∏¢Â§±‰ªª‰Ωï‰ø°ÊÅØ„ÄÇ  Â¶ÇÊûúÊú™ÂêØÁî®ÂÖÉÊï∞ÊçÆÂÖ±‰∫´ÔºåÊñ∞Á±ªÊï∞ÊçÆÂ∞ÜË¢´Ë∑≥ËøáÔºåÂπ∂ËøîÂõû NonexistentSkipClass Â≠òÊ†πÂØπË±°„ÄÇ  ","version":"dev","tagName":"h2"},{"title":"Â∞ÜÂØπË±°‰ªé‰∏ÄÁßçÁ±ªÂûãÂ§çÂà∂/Êò†Â∞ÑÂà∞Âè¶‰∏ÄÁßçÁ±ªÂûã‚Äã","type":1,"pageTitle":"Schema ÊºîÂåñ","url":"/zh-CN/docs/next/guide/java/schema_evolution#Â∞ÜÂØπË±°‰ªé‰∏ÄÁßçÁ±ªÂûãÂ§çÂà∂Êò†Â∞ÑÂà∞Âè¶‰∏ÄÁßçÁ±ªÂûã","content":" Fory ÊîØÊåÅÂ∞ÜÂØπË±°‰ªé‰∏ÄÁßçÁ±ªÂûãÊò†Â∞ÑÂà∞Âè¶‰∏ÄÁßçÁ±ªÂûã„ÄÇ  Ê≥®ÊÑèÔºö  Ê≠§Êò†Â∞ÑÂ∞ÜÊâßË°åÊ∑±Êã∑Ë¥ù„ÄÇÊâÄÊúâÊò†Â∞ÑÁöÑÂ≠óÊÆµÈÉΩË¢´Â∫èÂàóÂåñ‰∏∫‰∫åËøõÂà∂ÔºåÂπ∂‰ªéËØ•‰∫åËøõÂà∂ÂèçÂ∫èÂàóÂåñ‰ª•Êò†Â∞ÑÂà∞Âè¶‰∏ÄÁßçÁ±ªÂûã„ÄÇÊâÄÊúâÁªìÊûÑ‰ΩìÁ±ªÂûãÂøÖÈ°ª‰ΩøÁî®Áõ∏ÂêåÁöÑ ID Ê≥®ÂÜåÔºåÂê¶Âàô Fory Êó†Ê≥ïÊò†Â∞ÑÂà∞Ê≠£Á°ÆÁöÑÁªìÊûÑ‰ΩìÁ±ªÂûã„ÄÇ‰ΩøÁî® Fory#register(Class) Êó∂Ë¶ÅÂ∞èÂøÉÔºåÂõ†‰∏∫ Fory ‰ºöÂàÜÈÖç‰∏Ä‰∏™Ëá™Âä®Â¢ûÈïøÁöÑ IDÔºåÂ¶ÇÊûú‰Ω†Âú® Fory ÂÆû‰æã‰πãÈó¥‰ª•‰∏çÂêåÁöÑÈ°∫Â∫èÊ≥®ÂÜåÁ±ªÔºåËøôÂèØËÉΩ‰ºö‰∏ç‰∏ÄËá¥„ÄÇ  public class StructMappingExample { static class Struct1 { int f1; String f2; public Struct1(int f1, String f2) { this.f1 = f1; this.f2 = f2; } } static class Struct2 { int f1; String f2; double f3; } static ThreadSafeFory fory1 = Fory.builder() .withCompatibleMode(CompatibleMode.COMPATIBLE).buildThreadSafeFory(); static ThreadSafeFory fory2 = Fory.builder() .withCompatibleMode(CompatibleMode.COMPATIBLE).buildThreadSafeFory(); static { fory1.register(Struct1.class); fory2.register(Struct2.class); } public static void main(String[] args) { Struct1 struct1 = new Struct1(10, &quot;abc&quot;); Struct2 struct2 = (Struct2) fory2.deserialize(fory1.serialize(struct1)); Assert.assertEquals(struct2.f1, struct1.f1); Assert.assertEquals(struct2.f2, struct1.f2); struct1 = (Struct1) fory1.deserialize(fory2.serialize(struct2)); Assert.assertEquals(struct1.f1, struct2.f1); Assert.assertEquals(struct1.f2, struct2.f2); } }   ","version":"dev","tagName":"h2"},{"title":"Â∞Ü POJO ÂèçÂ∫èÂàóÂåñ‰∏∫Âè¶‰∏ÄÁßçÁ±ªÂûã‚Äã","type":1,"pageTitle":"Schema ÊºîÂåñ","url":"/zh-CN/docs/next/guide/java/schema_evolution#Â∞Ü-pojo-ÂèçÂ∫èÂàóÂåñ‰∏∫Âè¶‰∏ÄÁßçÁ±ªÂûã","content":" Fory ÂÖÅËÆ∏‰Ω†Â∫èÂàóÂåñ‰∏Ä‰∏™ POJO Âπ∂Â∞ÜÂÖ∂ÂèçÂ∫èÂàóÂåñ‰∏∫Âè¶‰∏Ä‰∏™ POJO„ÄÇ‰∏çÂêåÁöÑ POJO ÊÑèÂë≥ÁùÄ schema ‰∏ç‰∏ÄËá¥„ÄÇÁî®Êà∑ÂøÖÈ°ªÂ∞Ü Fory ÈÖçÁΩÆ‰∏∫ CompatibleMode ËÆæÁΩÆ‰∏∫ org.apache.fory.config.CompatibleMode.COMPATIBLE„ÄÇ  public class DeserializeIntoType { static class Struct1 { int f1; String f2; public Struct1(int f1, String f2) { this.f1 = f1; this.f2 = f2; } } static class Struct2 { int f1; String f2; double f3; } static ThreadSafeFory fory = Fory.builder() .withCompatibleMode(CompatibleMode.COMPATIBLE).buildThreadSafeFory(); public static void main(String[] args) { Struct1 struct1 = new Struct1(10, &quot;abc&quot;); byte[] data = fory.serializeJavaObject(struct1); Struct2 struct2 = (Struct2) fory.deserializeJavaObject(bytes, Struct2.class); } }   ","version":"dev","tagName":"h2"},{"title":"ÈÖçÁΩÆÈÄâÈ°π‚Äã","type":1,"pageTitle":"Schema ÊºîÂåñ","url":"/zh-CN/docs/next/guide/java/schema_evolution#ÈÖçÁΩÆÈÄâÈ°π","content":" ÈÄâÈ°π\tÊèèËø∞\tÈªòËÆ§ÂÄºcompatibleMode\tSCHEMA_CONSISTENT Êàñ COMPATIBLE\tSCHEMA_CONSISTENT checkClassVersion\tÊ£ÄÊü•Á±ª schema ‰∏ÄËá¥ÊÄß\tfalse metaShareEnabled\tÂêØÁî®ÂÖÉÊï∞ÊçÆÂÖ±‰∫´\tÂ¶ÇÊûúÊòØÂÖºÂÆπÊ®°ÂºèÂàô‰∏∫ true scopedMetaShareEnabled\tÊØèÊ¨°Â∫èÂàóÂåñÁöÑ‰ΩúÁî®ÂüüÂÖÉÊï∞ÊçÆÂÖ±‰∫´\tÂ¶ÇÊûúÊòØÂÖºÂÆπÊ®°ÂºèÂàô‰∏∫ true deserializeNonexistentClass\tÂ§ÑÁêÜ‰∏çÂ≠òÂú®ÁöÑÁ±ª\tÂ¶ÇÊûúÊòØÂÖºÂÆπÊ®°ÂºèÂàô‰∏∫ true metaCompressor\tÂÖÉÊï∞ÊçÆÂéãÁº©ÁöÑÂéãÁº©Âô®\tDeflaterMetaCompressor  ","version":"dev","tagName":"h2"},{"title":"ÊúÄ‰Ω≥ÂÆûË∑µ‚Äã","type":1,"pageTitle":"Schema ÊºîÂåñ","url":"/zh-CN/docs/next/guide/java/schema_evolution#ÊúÄ‰Ω≥ÂÆûË∑µ","content":" ÂØπÊºîÂåñÁöÑ schema ‰ΩøÁî® COMPATIBLE Ê®°ÂºèÔºöÂΩìÁ±ªÂèØËÉΩÂú®ÁâàÊú¨‰πãÈó¥Êõ¥ÊîπÊó∂‰∏∫ÁΩëÁªúÈÄö‰ø°ÂêØÁî®ÂÖÉÊï∞ÊçÆÂÖ±‰∫´ÔºöÂáèÂ∞ëÈáçÂ§çÂ∫èÂàóÂåñÁöÑÂ∏¶ÂÆΩÂØπÁªìÊûÑ‰ΩìÊò†Â∞Ñ‰ΩøÁî®‰∏ÄËá¥ÁöÑÁ±ªÂûã IDÔºöÁ°Æ‰øùÁõ∏ÂêåÁöÑÊ≥®ÂÜåÈ°∫Â∫èÊàñÊòæÂºè IDËÄÉËôëÁ©∫Èó¥ÂºÄÈîÄÔºöÂÖºÂÆπÊ®°Âºè‰ºöÊ∑ªÂä†ÂÖÉÊï∞ÊçÆÔºåÊ†πÊçÆÈúÄÊ±ÇÂπ≥Ë°°  ","version":"dev","tagName":"h2"},{"title":"Áõ∏ÂÖ≥‰∏ªÈ¢ò‚Äã","type":1,"pageTitle":"Schema ÊºîÂåñ","url":"/zh-CN/docs/next/guide/java/schema_evolution#Áõ∏ÂÖ≥‰∏ªÈ¢ò","content":" ÈÖçÁΩÆÈÄâÈ°π - ÊâÄÊúâ ForyBuilder ÈÄâÈ°πË∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ - XLANG Ê®°ÂºèÊïÖÈöúÊéíÈô§ - Â∏∏ËßÅ schema ÈóÆÈ¢ò ","version":"dev","tagName":"h2"},{"title":"ÊïÖÈöúÊéíÈô§","type":0,"sectionRef":"#","url":"/zh-CN/docs/next/guide/java/troubleshooting","content":"","keywords":"","version":"dev"},{"title":"Á±ª‰∏ç‰∏ÄËá¥ÂíåÁ±ªÁâàÊú¨Ê£ÄÊü•‚Äã","type":1,"pageTitle":"ÊïÖÈöúÊéíÈô§","url":"/zh-CN/docs/next/guide/java/troubleshooting#Á±ª‰∏ç‰∏ÄËá¥ÂíåÁ±ªÁâàÊú¨Ê£ÄÊü•","content":" Â¶ÇÊûú‰Ω†ÂàõÂª∫ Fory Êó∂Ê≤°ÊúâÂ∞Ü CompatibleMode ËÆæÁΩÆ‰∏∫ org.apache.fory.config.CompatibleMode.COMPATIBLEÔºåÂπ∂‰∏îÈÅáÂà∞Â•áÊÄ™ÁöÑÂ∫èÂàóÂåñÈîôËØØÔºåËøôÂèØËÉΩÊòØÁî±‰∫éÂ∫èÂàóÂåñÁ´ØÂíåÂèçÂ∫èÂàóÂåñÁ´Ø‰πãÈó¥ÁöÑÁ±ª‰∏ç‰∏ÄËá¥ÈÄ†ÊàêÁöÑ„ÄÇ  Âú®ËøôÁßçÊÉÖÂÜµ‰∏ãÔºå‰Ω†ÂèØ‰ª•Ë∞ÉÁî® ForyBuilder#withClassVersionCheck Êù•ÂàõÂª∫ Fory ‰ª•È™åËØÅÂÆÉ„ÄÇÂ¶ÇÊûúÂèçÂ∫èÂàóÂåñÊäõÂá∫ org.apache.fory.exception.ClassNotCompatibleExceptionÔºåÂàôË°®Á§∫Á±ª‰∏ç‰∏ÄËá¥Ôºå‰Ω†Â∫îËØ•‰ΩøÁî® ForyBuilder#withCompatibleMode(CompatibleMode.COMPATIBLE) ÂàõÂª∫ Fory„ÄÇ  // ÂêØÁî®Á±ªÁâàÊú¨Ê£ÄÊü•‰ª•ËØäÊñ≠ÈóÆÈ¢ò Fory fory = Fory.builder() .withLanguage(Language.JAVA) .withClassVersionCheck(true) .build(); // Â¶ÇÊûúÊäõÂá∫ ClassNotCompatibleExceptionÔºå‰ΩøÁî®ÂÖºÂÆπÊ®°Âºè Fory fory = Fory.builder() .withLanguage(Language.JAVA) .withCompatibleMode(CompatibleMode.COMPATIBLE) .build();   Ê≥®ÊÑèÔºöCompatibleMode.COMPATIBLE ÊúâÊõ¥Â§öÁöÑÊÄßËÉΩÂíåÁ©∫Èó¥ÊàêÊú¨„ÄÇÂ¶ÇÊûú‰Ω†ÁöÑÁ±ªÂú®Â∫èÂàóÂåñÂíåÂèçÂ∫èÂàóÂåñ‰πãÈó¥ÂßãÁªà‰∏ÄËá¥ÔºåËØ∑‰∏çË¶ÅÈªòËÆ§ËÆæÁΩÆÂÆÉ„ÄÇ  ","version":"dev","tagName":"h2"},{"title":"‰ΩøÁî®ÈîôËØØÁöÑÂèçÂ∫èÂàóÂåñ API‚Äã","type":1,"pageTitle":"ÊïÖÈöúÊéíÈô§","url":"/zh-CN/docs/next/guide/java/troubleshooting#‰ΩøÁî®ÈîôËØØÁöÑÂèçÂ∫èÂàóÂåñ-api","content":" Á°Æ‰øù‰ΩøÁî®ÂåπÈÖçÁöÑ API ÂØπÔºö  Â∫èÂàóÂåñ API\tÂèçÂ∫èÂàóÂåñ APIFory#serialize\tFory#deserialize Fory#serializeJavaObject\tFory#deserializeJavaObject Fory#serializeJavaObjectAndClass\tFory#deserializeJavaObjectAndClass  ÈîôËØØ‰ΩøÁî®Á§∫‰æãÔºö  // ‚ùå ÈîôËØØÔºö‰ΩøÁî® serialize Â∫èÂàóÂåñÔºå‰ΩøÁî® deserializeJavaObject ÂèçÂ∫èÂàóÂåñ byte[] bytes = fory.serialize(object); Object result = fory.deserializeJavaObject(bytes, MyClass.class); // ÈîôËØØÔºÅ // ‚ùå ÈîôËØØÔºö‰ΩøÁî® serializeJavaObject Â∫èÂàóÂåñÔºå‰ΩøÁî® deserialize ÂèçÂ∫èÂàóÂåñ byte[] bytes = fory.serializeJavaObject(object); Object result = fory.deserialize(bytes); // ÈîôËØØÔºÅ   Ê≠£Á°Æ‰ΩøÁî®Ôºö  // ‚úÖ Ê≠£Á°ÆÔºöÂåπÈÖçÁöÑ API ÂØπ byte[] bytes = fory.serialize(object); Object result = fory.deserialize(bytes); byte[] bytes = fory.serializeJavaObject(object); MyClass result = fory.deserializeJavaObject(bytes, MyClass.class); byte[] bytes = fory.serializeJavaObjectAndClass(object); Object result = fory.deserializeJavaObjectAndClass(bytes);   ","version":"dev","tagName":"h2"},{"title":"Â∞Ü POJO ÂèçÂ∫èÂàóÂåñ‰∏∫Âè¶‰∏ÄÁßçÁ±ªÂûã‚Äã","type":1,"pageTitle":"ÊïÖÈöúÊéíÈô§","url":"/zh-CN/docs/next/guide/java/troubleshooting#Â∞Ü-pojo-ÂèçÂ∫èÂàóÂåñ‰∏∫Âè¶‰∏ÄÁßçÁ±ªÂûã","content":" Â¶ÇÊûú‰Ω†ÊÉ≥Â∫èÂàóÂåñ‰∏Ä‰∏™ POJO Âπ∂Â∞ÜÂÖ∂ÂèçÂ∫èÂàóÂåñ‰∏∫Âè¶‰∏Ä‰∏™ POJO Á±ªÂûãÔºå‰Ω†ÂøÖÈ°ª‰ΩøÁî® CompatibleMode.COMPATIBLEÔºö  public class DeserializeIntoType { static class Struct1 { int f1; String f2; public Struct1(int f1, String f2) { this.f1 = f1; this.f2 = f2; } } static class Struct2 { int f1; String f2; double f3; } static ThreadSafeFory fory = Fory.builder() .withCompatibleMode(CompatibleMode.COMPATIBLE).buildThreadSafeFory(); public static void main(String[] args) { Struct1 struct1 = new Struct1(10, &quot;abc&quot;); byte[] data = fory.serializeJavaObject(struct1); Struct2 struct2 = (Struct2) fory.deserializeJavaObject(data, Struct2.class); } }   ","version":"dev","tagName":"h2"},{"title":"Â∏∏ËßÅÈîôËØØÊ∂àÊÅØ‚Äã","type":1,"pageTitle":"ÊïÖÈöúÊéíÈô§","url":"/zh-CN/docs/next/guide/java/troubleshooting#Â∏∏ËßÅÈîôËØØÊ∂àÊÅØ","content":" ","version":"dev","tagName":"h2"},{"title":"\"Class not registered\"‚Äã","type":1,"pageTitle":"ÊïÖÈöúÊéíÈô§","url":"/zh-CN/docs/next/guide/java/troubleshooting#class-not-registered","content":" ÂéüÂõ†ÔºöÈúÄË¶ÅÁ±ªÊ≥®ÂÜåÔºå‰ΩÜÁ±ªÊú™Ê≥®ÂÜå„ÄÇ  Ëß£ÂÜ≥ÊñπÊ°àÔºöÂú®Â∫èÂàóÂåñ‰πãÂâçÊ≥®ÂÜåÁ±ªÔºö  fory.register(MyClass.class); // Êàñ‰ΩøÁî®ÊòæÂºè ID fory.register(MyClass.class, 100);   ","version":"dev","tagName":"h3"},{"title":"\"ClassNotCompatibleException\"‚Äã","type":1,"pageTitle":"ÊïÖÈöúÊéíÈô§","url":"/zh-CN/docs/next/guide/java/troubleshooting#classnotcompatibleexception","content":" ÂéüÂõ†ÔºöÂ∫èÂàóÂåñÂíåÂèçÂ∫èÂàóÂåñ‰πãÈó¥ÁöÑÁ±ª schema ‰∏çÂêå„ÄÇ  Ëß£ÂÜ≥ÊñπÊ°àÔºö‰ΩøÁî®ÂÖºÂÆπÊ®°ÂºèÔºö  Fory fory = Fory.builder() .withCompatibleMode(CompatibleMode.COMPATIBLE) .build();   ","version":"dev","tagName":"h3"},{"title":"\"Max depth exceeded\"‚Äã","type":1,"pageTitle":"ÊïÖÈöúÊéíÈô§","url":"/zh-CN/docs/next/guide/java/troubleshooting#max-depth-exceeded","content":" ÂéüÂõ†ÔºöÂØπË±°ÂõæÂ§™Ê∑±ÔºåÂèØËÉΩË°®Á§∫Âæ™ÁéØÂºïÁî®ÊîªÂáª„ÄÇ  Ëß£ÂÜ≥ÊñπÊ°àÔºöÂ¶ÇÊûúÊòØÂêàÊ≥ïÁöÑÔºåÂ¢ûÂä†ÊúÄÂ§ßÊ∑±Â∫¶ÔºåÊàñÊ£ÄÊü•ÊÅ∂ÊÑèÊï∞ÊçÆÔºö  Fory fory = Fory.builder() .withMaxDepth(100) // ‰ªéÈªòËÆ§ÁöÑ 50 Â¢ûÂä† .build();   ","version":"dev","tagName":"h3"},{"title":"\"Serializer not found\"‚Äã","type":1,"pageTitle":"ÊïÖÈöúÊéíÈô§","url":"/zh-CN/docs/next/guide/java/troubleshooting#serializer-not-found","content":" ÂéüÂõ†ÔºöÊú™‰∏∫ËØ•Á±ªÂûãÊ≥®ÂÜåÂ∫èÂàóÂåñÂô®„ÄÇ  Ëß£ÂÜ≥ÊñπÊ°àÔºöÊ≥®ÂÜåËá™ÂÆö‰πâÂ∫èÂàóÂåñÂô®Ôºö  fory.registerSerializer(MyClass.class, new MyClassSerializer(fory));   ","version":"dev","tagName":"h3"},{"title":"ÊÄßËÉΩÈóÆÈ¢ò‚Äã","type":1,"pageTitle":"ÊïÖÈöúÊéíÈô§","url":"/zh-CN/docs/next/guide/java/troubleshooting#ÊÄßËÉΩÈóÆÈ¢ò","content":" ","version":"dev","tagName":"h2"},{"title":"ÂàùÂßãÂ∫èÂàóÂåñÊÖ¢‚Äã","type":1,"pageTitle":"ÊïÖÈöúÊéíÈô§","url":"/zh-CN/docs/next/guide/java/troubleshooting#ÂàùÂßãÂ∫èÂàóÂåñÊÖ¢","content":" ÂéüÂõ†ÔºöJIT ÁºñËØëÂú®Á¨¨‰∏ÄÊ¨°Â∫èÂàóÂåñÊó∂ÂèëÁîü„ÄÇ  Ëß£ÂÜ≥ÊñπÊ°àÔºöÂêØÁî®ÂºÇÊ≠•ÁºñËØëÔºö  Fory fory = Fory.builder() .withAsyncCompilation(true) .build();   ","version":"dev","tagName":"h3"},{"title":"ÂÜÖÂ≠ò‰ΩøÁî®È´ò‚Äã","type":1,"pageTitle":"ÊïÖÈöúÊéíÈô§","url":"/zh-CN/docs/next/guide/java/troubleshooting#ÂÜÖÂ≠ò‰ΩøÁî®È´ò","content":" ÂéüÂõ†ÔºöÂ§ßÂØπË±°ÂõæÊàñÂºïÁî®Ë∑üË∏™ÂºÄÈîÄ„ÄÇ  Ëß£ÂÜ≥ÊñπÊ°àÔºö  Â¶ÇÊûú‰∏çÈúÄË¶ÅÔºåÁ¶ÅÁî®ÂºïÁî®Ë∑üË∏™Ôºö.withRefTracking(false)‰ΩøÁî®Ëá™ÂÆö‰πâÂÜÖÂ≠òÂàÜÈÖçÂô®ËøõË°åÊ±†ÂåñËÄÉËôëÂØπÂ§ßÊï∞ÊçÆÈõÜ‰ΩøÁî®Ë°åÊ†ºÂºè  ","version":"dev","tagName":"h3"},{"title":"Â∫èÂàóÂåñÂ§ßÂ∞èÂ§ß‚Äã","type":1,"pageTitle":"ÊïÖÈöúÊéíÈô§","url":"/zh-CN/docs/next/guide/java/troubleshooting#Â∫èÂàóÂåñÂ§ßÂ∞èÂ§ß","content":" ÂéüÂõ†ÔºöÂÖÉÊï∞ÊçÆÂºÄÈîÄÊàñÊú™ÂéãÁº©ÁöÑÊï∞ÊçÆ„ÄÇ  Ëß£ÂÜ≥ÊñπÊ°àÔºö  ÂêØÁî®ÂéãÁº©Ôºö.withIntCompressed(true)„ÄÅ.withLongCompressed(true)‰ªÖÂú®ÈúÄË¶ÅÊó∂‰ΩøÁî®ÂÖºÂÆπÊ®°ÂºèÊ≥®ÂÜåÁ±ª‰ª•ÈÅøÂÖçÁ±ªÂêçÂ∫èÂàóÂåñ  ","version":"dev","tagName":"h3"},{"title":"Ë∞ÉËØïÊäÄÂ∑ß‚Äã","type":1,"pageTitle":"ÊïÖÈöúÊéíÈô§","url":"/zh-CN/docs/next/guide/java/troubleshooting#Ë∞ÉËØïÊäÄÂ∑ß","content":" ÂêØÁî®Á±ªÁâàÊú¨Ê£ÄÊü•‰ª•ËØäÊñ≠ schema ÈóÆÈ¢òÊ£ÄÊü• API ÈÖçÂØπ - Á°Æ‰øùÂ∫èÂàóÂåñ/ÂèçÂ∫èÂàóÂåñ API ÂåπÈÖçÈ™åËØÅÊ≥®ÂÜåÈ°∫Â∫è - ÂøÖÈ°ªÂú®ÂêÑÁ´Ø‰πãÈó¥‰øùÊåÅ‰∏ÄËá¥ÂêØÁî®Êó•ÂøóËÆ∞ÂΩï‰ª•Êü•ÁúãÂÜÖÈÉ®Êìç‰ΩúÔºö  LoggerFactory.setLogLevel(LogLevel.DEBUG_LEVEL);   ","version":"dev","tagName":"h2"},{"title":"Áõ∏ÂÖ≥‰∏ªÈ¢ò‚Äã","type":1,"pageTitle":"ÊïÖÈöúÊéíÈô§","url":"/zh-CN/docs/next/guide/java/troubleshooting#Áõ∏ÂÖ≥‰∏ªÈ¢ò","content":" ÈÖçÁΩÆÈÄâÈ°π - ÊâÄÊúâ ForyBuilder ÈÄâÈ°πSchema ÊºîÂåñ - ÂÖºÂÆπÊ®°ÂºèËØ¶ÊÉÖÁ±ªÂûãÊ≥®ÂÜå - Ê≥®ÂÜåÊúÄ‰Ω≥ÂÆûË∑µËøÅÁßªÊåáÂçó - ÂçáÁ∫ß Fory ÁâàÊú¨ ","version":"dev","tagName":"h2"},{"title":"Â≠óÊÆµÈÖçÁΩÆ","type":0,"sectionRef":"#","url":"/zh-CN/docs/next/guide/java/field_configuration","content":"","keywords":"","version":"dev"},{"title":"Ê¶ÇËø∞‚Äã","type":1,"pageTitle":"Â≠óÊÆµÈÖçÁΩÆ","url":"/zh-CN/docs/next/guide/java/field_configuration#Ê¶ÇËø∞","content":" Apache ForyTM ÈÄöËøáÊ≥®Ëß£Êèê‰æõÂ≠óÊÆµÁ∫ßÈÖçÁΩÆÔºö  @ForyFieldÔºöÈÖçÁΩÆÂ≠óÊÆµÂÖÉ‰ø°ÊÅØÔºàid„ÄÅnullable„ÄÅref„ÄÅdynamicÔºâ@IgnoreÔºöÂ∞ÜÂ≠óÊÆµÊéíÈô§Âú®Â∫èÂàóÂåñ‰πãÂ§ñÊï¥Êï∞Á±ªÂûãÊ≥®Ëß£ÔºöÊéßÂà∂Êï¥Êï∞ÁºñÁ†ÅÊñπÂºèÔºàvarint„ÄÅfixed„ÄÅtagged„ÄÅunsignedÔºâ  Ëøô‰∫õËÉΩÂäõÂèØÁî®‰∫éÔºö  Tag IDÔºö‰∏∫ÂÖºÂÆπÊ®°ÂºèÂàÜÈÖçÁ¥ßÂáëÊï∞ÂÄº IDÔºåÈôç‰Ωé struct Â≠óÊÆµÂÖÉ‰ø°ÊÅØÂºÄÈîÄÂèØÁ©∫ÊéßÂà∂ÔºöÂ£∞ÊòéÂ≠óÊÆµÊòØÂê¶ÂÖÅËÆ∏‰∏∫ nullÂºïÁî®Ë∑üË∏™Ôºö‰∏∫ÂÖ±‰∫´ÂØπË±°ÂºÄÂêØÂºïÁî®Ë∑üË∏™Â≠óÊÆµË∑≥ËøáÔºöÊòæÂºèÊéíÈô§‰∏çÈúÄË¶ÅÂ∫èÂàóÂåñÁöÑÂ≠óÊÆµÁºñÁ†ÅÊéßÂà∂ÔºöÊåáÂÆöÊï¥Êï∞Â∫èÂàóÂåñÁºñÁ†ÅÁ≠ñÁï•Â§öÊÄÅÊéßÂà∂ÔºöÊéßÂà∂ struct Â≠óÊÆµÊòØÂê¶ÂÜôÂÖ•ËøêË°åÊó∂Á±ªÂûã‰ø°ÊÅØ  ","version":"dev","tagName":"h2"},{"title":"Âü∫Êú¨ËØ≠Ê≥ï‚Äã","type":1,"pageTitle":"Â≠óÊÆµÈÖçÁΩÆ","url":"/zh-CN/docs/next/guide/java/field_configuration#Âü∫Êú¨ËØ≠Ê≥ï","content":" Âú®Â≠óÊÆµ‰∏ä‰ΩøÁî®Ê≥®Ëß£Ôºö  import org.apache.fory.annotation.ForyField; public class Person { @ForyField(id = 0) private String name; @ForyField(id = 1) private int age; @ForyField(id = 2, nullable = true) private String nickname; }   ","version":"dev","tagName":"h2"},{"title":"@ForyField Ê≥®Ëß£‚Äã","type":1,"pageTitle":"Â≠óÊÆµÈÖçÁΩÆ","url":"/zh-CN/docs/next/guide/java/field_configuration#foryfield-Ê≥®Ëß£","content":" ‰ΩøÁî® @ForyField ÈÖçÁΩÆÂ≠óÊÆµÁ∫ßÂÖÉ‰ø°ÊÅØÔºö  public class User { @ForyField(id = 0) private long id; @ForyField(id = 1) private String name; @ForyField(id = 2, nullable = true) private String email; @ForyField(id = 3, ref = true) private List&lt;User&gt; friends; @ForyField(id = 4, dynamic = ForyField.Dynamic.TRUE) private Object data; }   ","version":"dev","tagName":"h2"},{"title":"ÂèÇÊï∞‚Äã","type":1,"pageTitle":"Â≠óÊÆµÈÖçÁΩÆ","url":"/zh-CN/docs/next/guide/java/field_configuration#ÂèÇÊï∞","content":" ÂèÇÊï∞\tÁ±ªÂûã\tÈªòËÆ§ÂÄº\tËØ¥Êòéid\tint\t-1\tÂ≠óÊÆµ tag IDÔºà-1 Ë°®Á§∫‰ΩøÁî®Â≠óÊÆµÂêçÁºñÁ†ÅÔºâ nullable\tboolean\tfalse\tÂ≠óÊÆµÊòØÂê¶ÂèØ‰∏∫ null ref\tboolean\tfalse\tÊòØÂê¶ÂºÄÂêØÂºïÁî®Ë∑üË∏™ dynamic\tDynamic\tAUTO\tÊéßÂà∂ struct Â≠óÊÆµÂ§öÊÄÅË°å‰∏∫  ","version":"dev","tagName":"h3"},{"title":"Â≠óÊÆµ IDÔºàidÔºâ‚Äã","type":1,"pageTitle":"Â≠óÊÆµÈÖçÁΩÆ","url":"/zh-CN/docs/next/guide/java/field_configuration#Â≠óÊÆµ-idid","content":" ÈÄöËøá‰∏∫Â≠óÊÆµÂàÜÈÖçÊï∞ÂÄº IDÔºåÂèØÈôç‰ΩéÂÖºÂÆπÊ®°Âºè‰∏ã struct Â≠óÊÆµÂÖÉ‰ø°ÊÅØÂºÄÈîÄÔºö  public class User { @ForyField(id = 0) private long id; @ForyField(id = 1) private String name; @ForyField(id = 2) private int age; }   Êî∂ÁõäÔºö  Â∫èÂàóÂåñ‰ΩìÁßØÊõ¥Â∞èÔºàÂÖÉ‰ø°ÊÅØÈáåÁî®Êï∞ÂÄº ID ËÄå‰∏çÊòØÂ≠óÊÆµÂêçÔºâstruct Â≠óÊÆµÂÖÉ‰ø°ÊÅØÂºÄÈîÄÊõ¥‰ΩéÂèØÂú®‰∏çÁ†¥Âùè‰∫åËøõÂà∂ÂÖºÂÆπÊÄßÁöÑÂâçÊèê‰∏ãÈáçÂëΩÂêçÂ≠óÊÆµ  Âª∫ËÆÆÔºö ÂÖºÂÆπÊ®°Âºè‰∏ãÂª∫ËÆÆÈÖçÁΩÆÂ≠óÊÆµ IDÔºå‰ª•Èôç‰ΩéÂ∫èÂàóÂåñÊàêÊú¨„ÄÇ  Ê≥®ÊÑèÔºö  Âêå‰∏Ä‰∏™Á±ªÂÜÖ ID ÂøÖÈ°ªÂîØ‰∏ÄID ÂøÖÈ°ª &gt;= 0Ôºà-1 Ë°®Á§∫‰ΩøÁî®Â≠óÊÆµÂêçÁºñÁ†ÅÔºå‰πüÊòØÈªòËÆ§Ë°å‰∏∫ÔºâÊú™ÊåáÂÆöÊó∂ÔºåÂÖÉ‰ø°ÊÅØÂ∞ÜÂÜôÂ≠óÊÆµÂêçÔºàÂºÄÈîÄÊõ¥Â§ßÔºâ  ‰∏çÈÖçÁΩÆÂ≠óÊÆµ IDÔºàÂÖÉ‰ø°ÊÅØ‰ΩøÁî®Â≠óÊÆµÂêçÔºâÁ§∫‰æãÔºö  public class User { private long id; private String name; }   ","version":"dev","tagName":"h2"},{"title":"ÂèØÁ©∫Â≠óÊÆµÔºànullableÔºâ‚Äã","type":1,"pageTitle":"Â≠óÊÆµÈÖçÁΩÆ","url":"/zh-CN/docs/next/guide/java/field_configuration#ÂèØÁ©∫Â≠óÊÆµnullable","content":" ÂØπÂèØËÉΩ‰∏∫ null ÁöÑÂ≠óÊÆµ‰ΩøÁî® nullable = trueÔºö  public class Record { // ÂèØÁ©∫Â≠óÁ¨¶‰∏≤Â≠óÊÆµ @ForyField(id = 0, nullable = true) private String optionalName; // ÂèØÁ©∫ Integer Â≠óÊÆµÔºàË£ÖÁÆ±Á±ªÂûãÔºâ @ForyField(id = 1, nullable = true) private Integer optionalCount; // ÈùûÂèØÁ©∫Â≠óÊÆµÔºàÈªòËÆ§Ôºâ @ForyField(id = 2) private String requiredName; }   Ê≥®ÊÑèÔºö  ÈªòËÆ§ÊòØ nullable = falseÔºà‰∏çÂèØÁ©∫Ôºânullable = false Êó∂ÔºåFory ‰ºöÁúÅÁï• null Ê†áËÆ∞ÂÜôÂÖ•ÔºàËäÇÁúÅ 1 Â≠óËäÇÔºâÂèØËÉΩ‰∏∫ null ÁöÑË£ÖÁÆ±Á±ªÂûãÔºàInteger„ÄÅLong Á≠âÔºâÂª∫ËÆÆÊòæÂºèËÆæ‰∏∫ nullable = true  ","version":"dev","tagName":"h2"},{"title":"ÂºïÁî®Ë∑üË∏™ÔºàrefÔºâ‚Äã","type":1,"pageTitle":"Â≠óÊÆµÈÖçÁΩÆ","url":"/zh-CN/docs/next/guide/java/field_configuration#ÂºïÁî®Ë∑üË∏™ref","content":" ÂØπ‰∫éÂèØËÉΩÂÖ±‰∫´ÊàñÂæ™ÁéØÂºïÁî®ÁöÑÂ≠óÊÆµÔºåÂêØÁî®ÂºïÁî®Ë∑üË∏™Ôºö  public class RefOuter { // ‰∏§‰∏™Â≠óÊÆµÂèØËÉΩÊåáÂêëÂêå‰∏Ä‰∏™ÂÜÖÈÉ®ÂØπË±° @ForyField(id = 0, ref = true, nullable = true) private RefInner inner1; @ForyField(id = 1, ref = true, nullable = true) private RefInner inner2; } public class CircularRef { @ForyField(id = 0) private String name; // Ëá™ÂºïÁî®Â≠óÊÆµÔºåÁî®‰∫éÂæ™ÁéØÂºïÁî® @ForyField(id = 1, ref = true, nullable = true) private CircularRef selfRef; }   ÈÄÇÁî®Âú∫ÊôØÔºö  Â≠óÊÆµÂèØËÉΩÂΩ¢ÊàêÂæ™ÁéØÊàñÂÖ±‰∫´ÂÖ≥Á≥ªÂêå‰∏ÄÂØπË±°Ë¢´Â§ö‰∏™Â≠óÊÆµÂºïÁî®  Ê≥®ÊÑèÔºö  ÈªòËÆ§ÊòØ ref = falseÔºà‰∏çË∑üË∏™ÂºïÁî®Ôºâref = false ÂèØÈÅøÂÖç IdentityMap ÂºÄÈîÄÔºå‰πü‰ºöË∑≥ËøáÂºïÁî®Ë∑üË∏™Ê†áËÆ∞‰ªÖÂú®ÂÖ®Â±ÄÂêØÁî® ref tracking Êó∂ÔºåÂ≠óÊÆµÁ∫ß ref ÊâçÁîüÊïà  ","version":"dev","tagName":"h2"},{"title":"DynamicÔºàÂ§öÊÄÅÊéßÂà∂Ôºâ‚Äã","type":1,"pageTitle":"Â≠óÊÆµÈÖçÁΩÆ","url":"/zh-CN/docs/next/guide/java/field_configuration#dynamicÂ§öÊÄÅÊéßÂà∂","content":" ÊéßÂà∂Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñÊó∂ struct Â≠óÊÆµÁöÑÂ§öÊÄÅË°å‰∏∫Ôºö  public class Container { // AUTOÔºöÊé•Âè£/ÊäΩË±°Á±ªÂûãÂä®ÊÄÅÔºåÂÖ∑‰ΩìÁ±ªÂûãÈùûÂä®ÊÄÅ @ForyField(id = 0, dynamic = ForyField.Dynamic.AUTO) private Animal animal; // Êé•Âè£Á±ªÂûãÔºåÂÜôÂÖ•Á±ªÂûã‰ø°ÊÅØ // FALSEÔºö‰∏çÂÜôÁ±ªÂûã‰ø°ÊÅØÔºåÁõ¥Êé•ÊåâÂ£∞ÊòéÁ±ªÂûãÂ∫èÂàóÂåñ @ForyField(id = 1, dynamic = ForyField.Dynamic.FALSE) private Dog dog; // ÂÖ∑‰ΩìÁ±ªÂûãÔºå‰∏çÂÜôÁ±ªÂûã‰ø°ÊÅØ // TRUEÔºöÂÜôÁ±ªÂûã‰ø°ÊÅØÔºåÊîØÊåÅËøêË°åÊó∂Â≠êÁ±ªÂûã @ForyField(id = 2, dynamic = ForyField.Dynamic.TRUE) private Object data; // Âº∫Âà∂Â§öÊÄÅ }   ÂèñÂÄºÔºö  ÂÄº\tËØ¥ÊòéAUTO\tËá™Âä®Âà§Êñ≠ÔºöÊé•Âè£/ÊäΩË±°Á±ªÂûãÂä®ÊÄÅÔºåÂÖ∑‰ΩìÁ±ªÂûãÈùûÂä®ÊÄÅ FALSE\t‰∏çÂÜôÁ±ªÂûã‰ø°ÊÅØÔºåÁõ¥Êé•‰ΩøÁî®Â£∞ÊòéÁ±ªÂûãÁöÑÂ∫èÂàóÂåñÂô® TRUE\tÂÜôÂÖ•Á±ªÂûã‰ø°ÊÅØÔºå‰ª•ÊîØÊåÅËøêË°åÊó∂Â≠êÁ±ªÂûã  ","version":"dev","tagName":"h2"},{"title":"Ë∑≥ËøáÂ≠óÊÆµ‚Äã","type":1,"pageTitle":"Â≠óÊÆµÈÖçÁΩÆ","url":"/zh-CN/docs/next/guide/java/field_configuration#Ë∑≥ËøáÂ≠óÊÆµ","content":" ","version":"dev","tagName":"h2"},{"title":"‰ΩøÁî® @Ignore‚Äã","type":1,"pageTitle":"Â≠óÊÆµÈÖçÁΩÆ","url":"/zh-CN/docs/next/guide/java/field_configuration#‰ΩøÁî®-ignore","content":" Â∞ÜÂ≠óÊÆµÊéíÈô§Âú®Â∫èÂàóÂåñ‰πãÂ§ñÔºö  import org.apache.fory.annotation.Ignore; public class User { @ForyField(id = 0) private long id; @ForyField(id = 1) private String name; @Ignore private String password; // ‰∏çÂ∫èÂàóÂåñ @Ignore private Object internalState; // ‰∏çÂ∫èÂàóÂåñ }   ","version":"dev","tagName":"h3"},{"title":"‰ΩøÁî® transient‚Äã","type":1,"pageTitle":"Â≠óÊÆµÈÖçÁΩÆ","url":"/zh-CN/docs/next/guide/java/field_configuration#‰ΩøÁî®-transient","content":" Java ÁöÑ transient ÂÖ≥ÈîÆÂ≠óÂêåÊ†∑‰ºöÊéíÈô§Â≠óÊÆµÔºö  public class User { @ForyField(id = 0) private long id; private transient String password; // ‰∏çÂ∫èÂàóÂåñ private transient Object cache; // ‰∏çÂ∫èÂàóÂåñ }   ","version":"dev","tagName":"h3"},{"title":"Êï¥Êï∞Á±ªÂûãÊ≥®Ëß£‚Äã","type":1,"pageTitle":"Â≠óÊÆµÈÖçÁΩÆ","url":"/zh-CN/docs/next/guide/java/field_configuration#Êï¥Êï∞Á±ªÂûãÊ≥®Ëß£","content":" Fory Êèê‰æõÊï¥Êï∞Ê≥®Ëß£ÔºåÁî®‰∫éÂú®Ë∑®ËØ≠Ë®ÄÂú∫ÊôØ‰∏≠ÊéßÂà∂ÁºñÁ†ÅÊñπÂºè„ÄÇ  ","version":"dev","tagName":"h2"},{"title":"ÊúâÁ¨¶Âè∑ 32 ‰ΩçÊï¥Êï∞Ôºà@Int32TypeÔºâ‚Äã","type":1,"pageTitle":"Â≠óÊÆµÈÖçÁΩÆ","url":"/zh-CN/docs/next/guide/java/field_configuration#ÊúâÁ¨¶Âè∑-32-‰ΩçÊï¥Êï∞int32type","content":" import org.apache.fory.annotation.Int32Type; public class MyStruct { // ÂèòÈïøÁºñÁ†ÅÔºàÈªòËÆ§ÔºâÔºåÂ∞èÂÄºÊõ¥Á¥ßÂáë @Int32Type(compress = true) private int compactId; // Âõ∫ÂÆö 4 Â≠óËäÇÁºñÁ†ÅÔºåÈïøÂ∫¶Á®≥ÂÆö @Int32Type(compress = false) private int fixedId; }   ","version":"dev","tagName":"h3"},{"title":"ÊúâÁ¨¶Âè∑ 64 ‰ΩçÊï¥Êï∞Ôºà@Int64TypeÔºâ‚Äã","type":1,"pageTitle":"Â≠óÊÆµÈÖçÁΩÆ","url":"/zh-CN/docs/next/guide/java/field_configuration#ÊúâÁ¨¶Âè∑-64-‰ΩçÊï¥Êï∞int64type","content":" import org.apache.fory.annotation.Int64Type; import org.apache.fory.config.LongEncoding; public class MyStruct { // ÂèòÈïøÁºñÁ†ÅÔºàÈªòËÆ§Ôºâ @Int64Type(encoding = LongEncoding.VARINT) private long compactId; // Âõ∫ÂÆö 8 Â≠óËäÇÁºñÁ†Å @Int64Type(encoding = LongEncoding.FIXED) private long fixedTimestamp; // tagged ÁºñÁ†ÅÔºàÂ∞èÂÄº 4 Â≠óËäÇÔºåÂê¶Âàô 9 Â≠óËäÇÔºâ @Int64Type(encoding = LongEncoding.TAGGED) private long taggedValue; }   ","version":"dev","tagName":"h3"},{"title":"Êó†Á¨¶Âè∑Êï¥Êï∞‚Äã","type":1,"pageTitle":"Â≠óÊÆµÈÖçÁΩÆ","url":"/zh-CN/docs/next/guide/java/field_configuration#Êó†Á¨¶Âè∑Êï¥Êï∞","content":" import org.apache.fory.annotation.Uint8Type; import org.apache.fory.annotation.Uint16Type; import org.apache.fory.annotation.Uint32Type; import org.apache.fory.annotation.Uint64Type; import org.apache.fory.config.LongEncoding; public class UnsignedStruct { // Êó†Á¨¶Âè∑ 8 ‰Ωç [0, 255] @Uint8Type private short flags; // Êó†Á¨¶Âè∑ 16 ‰Ωç [0, 65535] @Uint16Type private int port; // Êó†Á¨¶Âè∑ 32 ‰ΩçÔºåvarint ÁºñÁ†ÅÔºàÈªòËÆ§Ôºâ @Uint32Type(compress = true) private long compactCount; // Êó†Á¨¶Âè∑ 32 ‰ΩçÔºåfixed ÁºñÁ†Å @Uint32Type(compress = false) private long fixedCount; // Êó†Á¨¶Âè∑ 64 ‰ΩçÔºåÂ§öÁßçÁºñÁ†Å @Uint64Type(encoding = LongEncoding.VARINT) private long varintU64; @Uint64Type(encoding = LongEncoding.FIXED) private long fixedU64; @Uint64Type(encoding = LongEncoding.TAGGED) private long taggedU64; }   ","version":"dev","tagName":"h3"},{"title":"ÁºñÁ†ÅÊ±áÊÄª‚Äã","type":1,"pageTitle":"Â≠óÊÆµÈÖçÁΩÆ","url":"/zh-CN/docs/next/guide/java/field_configuration#ÁºñÁ†ÅÊ±áÊÄª","content":" Ê≥®Ëß£\tType ID\tÁºñÁ†Å\tÂ§ßÂ∞è@Int32Type(compress = true)\t5\tvarint\t1-5 Â≠óËäÇ @Int32Type(compress = false)\t4\tfixed\t4 Â≠óËäÇ @Int64Type(encoding = VARINT)\t7\tvarint\t1-10 Â≠óËäÇ @Int64Type(encoding = FIXED)\t6\tfixed\t8 Â≠óËäÇ @Int64Type(encoding = TAGGED)\t8\ttagged\t4 Êàñ 9 Â≠óËäÇ @Uint8Type\t9\tfixed\t1 Â≠óËäÇ @Uint16Type\t10\tfixed\t2 Â≠óËäÇ @Uint32Type(compress = true)\t12\tvarint\t1-5 Â≠óËäÇ @Uint32Type(compress = false)\t11\tfixed\t4 Â≠óËäÇ @Uint64Type(encoding = VARINT)\t14\tvarint\t1-10 Â≠óËäÇ @Uint64Type(encoding = FIXED)\t13\tfixed\t8 Â≠óËäÇ @Uint64Type(encoding = TAGGED)\t15\ttagged\t4 Êàñ 9 Â≠óËäÇ  ‰ΩïÊó∂‰ΩøÁî®Ôºö  varintÔºöÊï∞ÂÄºÈÄöÂ∏∏ËæÉÂ∞èÊó∂ÊúÄ‰ºòÔºàÈªòËÆ§ÔºâfixedÔºöÊï∞ÂÄºÂàÜÂ∏ÉÊé•ËøëÂÖ®ËåÉÂõ¥Êó∂Êõ¥Á®≥ÂÆöÔºàÂ¶ÇÊó∂Èó¥Êà≥„ÄÅÂìàÂ∏åÔºâtaggedÔºöÂú®‰ΩìÁßØ‰∏éÊÄßËÉΩÈó¥Âπ≥Ë°°ËæÉÂ•ΩÊó†Á¨¶Âè∑Á±ªÂûãÔºöÈÄÇÂêà‰∏é Rust/Go/C++ Á≠âËØ≠Ë®ÄËøõË°åÊó†Á¨¶Âè∑Êï¥Êï∞‰∫íÊìç‰Ωú  ","version":"dev","tagName":"h3"},{"title":"ÂÆåÊï¥Á§∫‰æã‚Äã","type":1,"pageTitle":"Â≠óÊÆµÈÖçÁΩÆ","url":"/zh-CN/docs/next/guide/java/field_configuration#ÂÆåÊï¥Á§∫‰æã","content":" import org.apache.fory.Fory; import org.apache.fory.annotation.ForyField; import org.apache.fory.annotation.Ignore; import org.apache.fory.annotation.Int64Type; import org.apache.fory.annotation.Uint64Type; import org.apache.fory.config.LongEncoding; import java.util.List; import java.util.Map; import java.util.Set; public class Document { // Â∏¶ tag ID ÁöÑÂ≠óÊÆµÔºàÂÖºÂÆπÊ®°ÂºèÊé®ËçêÔºâ @ForyField(id = 0) private String title; @ForyField(id = 1) private int version; // ÂèØÁ©∫Â≠óÊÆµ @ForyField(id = 2, nullable = true) private String description; // ÈõÜÂêàÂ≠óÊÆµ @ForyField(id = 3) private List&lt;String&gt; tags; @ForyField(id = 4) private Map&lt;String, String&gt; metadata; @ForyField(id = 5) private Set&lt;String&gt; categories; // ‰∏çÂêåÁºñÁ†ÅÊñπÂºèÁöÑÊï¥Êï∞ @ForyField(id = 6) @Uint64Type(encoding = LongEncoding.VARINT) private long viewCount; // varint ÁºñÁ†Å @ForyField(id = 7) @Uint64Type(encoding = LongEncoding.FIXED) private long fileSize; // fixed ÁºñÁ†Å @ForyField(id = 8) @Uint64Type(encoding = LongEncoding.TAGGED) private long checksum; // tagged ÁºñÁ†Å // ÂÖ±‰∫´/Âæ™ÁéØÂºïÁî®Â≠óÊÆµ @ForyField(id = 9, ref = true, nullable = true) private Document parent; // ÂøΩÁï•Â≠óÊÆµÔºà‰∏çÂ∫èÂàóÂåñÔºâ private transient Object cache; // Getters and setters... } // Usage public class Main { public static void main(String[] args) { Fory fory = Fory.builder() .withXlang(true) .withCompatible(true) .withRefTracking(true) .build(); fory.register(Document.class, 100); Document doc = new Document(); doc.setTitle(&quot;My Document&quot;); doc.setVersion(1); doc.setDescription(&quot;A sample document&quot;); // Serialize byte[] data = fory.serialize(doc); // Deserialize Document decoded = (Document) fory.deserialize(data); } }   ","version":"dev","tagName":"h2"},{"title":"Ë∑®ËØ≠Ë®ÄÂÖºÂÆπ‚Äã","type":1,"pageTitle":"Â≠óÊÆµÈÖçÁΩÆ","url":"/zh-CN/docs/next/guide/java/field_configuration#Ë∑®ËØ≠Ë®ÄÂÖºÂÆπ","content":" ÂΩìÊï∞ÊçÆÈúÄË¶ÅË¢´ÂÖ∂‰ªñËØ≠Ë®ÄÔºàPython„ÄÅRust„ÄÅC++„ÄÅGoÔºâËØªÂèñÊó∂ÔºåÂª∫ËÆÆ‰ΩøÁî®Â≠óÊÆµ ID Âπ∂ÈÖçÂ•óÁ±ªÂûãÊ≥®Ëß£Ôºö  public class CrossLangData { // ‰ΩøÁî®Â≠óÊÆµ ID ‰øùËØÅË∑®ËØ≠Ë®ÄÂÖºÂÆπ @ForyField(id = 0) @Int32Type(compress = true) private int intVar; @ForyField(id = 1) @Uint64Type(encoding = LongEncoding.FIXED) private long longFixed; @ForyField(id = 2) @Uint64Type(encoding = LongEncoding.TAGGED) private long longTagged; @ForyField(id = 3, nullable = true) private String optionalValue; }   ","version":"dev","tagName":"h2"},{"title":"Schema ÊºîËøõ‚Äã","type":1,"pageTitle":"Â≠óÊÆµÈÖçÁΩÆ","url":"/zh-CN/docs/next/guide/java/field_configuration#schema-ÊºîËøõ","content":" ÂÖºÂÆπÊ®°ÂºèÊîØÊåÅ Schema ÊºîËøõ„ÄÇÂª∫ËÆÆÈÖçÁΩÆÂ≠óÊÆµ ID ‰ª•Èôç‰ΩéÂ∫èÂàóÂåñÊàêÊú¨Ôºö  // Version 1 public class DataV1 { @ForyField(id = 0) private long id; @ForyField(id = 1) private String name; } // Version 2: Added new field public class DataV2 { @ForyField(id = 0) private long id; @ForyField(id = 1) private String name; @ForyField(id = 2, nullable = true) private String email; // New field }   V1 ÂÜôÂÖ•ÁöÑÊï∞ÊçÆÂèØÁî± V2 ËØªÂèñÔºàÊñ∞Â¢ûÂ≠óÊÆµ‰ºöÊòØ nullÔºâ„ÄÇ  ‰πüÂèØ‰ª•‰∏çÈÖçÁΩÆÂ≠óÊÆµ IDÔºàÂÖÉ‰ø°ÊÅØ‰ºö‰ΩøÁî®Â≠óÊÆµÂêçÔºåÂºÄÈîÄÊõ¥Â§ßÔºâÔºö  public class Data { private long id; private String name; }   ","version":"dev","tagName":"h2"},{"title":"Native Ê®°Âºè‰∏é Xlang Ê®°Âºè‚Äã","type":1,"pageTitle":"Â≠óÊÆµÈÖçÁΩÆ","url":"/zh-CN/docs/next/guide/java/field_configuration#native-Ê®°Âºè‰∏é-xlang-Ê®°Âºè","content":" Â≠óÊÆµÈÖçÁΩÆÂú®‰∏çÂêåÂ∫èÂàóÂåñÊ®°Âºè‰∏ãÁöÑÈªòËÆ§Ë°å‰∏∫‰∏çÂêå„ÄÇ  ","version":"dev","tagName":"h2"},{"title":"Native Ê®°ÂºèÔºà‰ªÖ JavaÔºâ‚Äã","type":1,"pageTitle":"Â≠óÊÆµÈÖçÁΩÆ","url":"/zh-CN/docs/next/guide/java/field_configuration#native-Ê®°Âºè‰ªÖ-java","content":" Native Ê®°Âºè‰ª•ÊúÄÂ§ßÂÖºÂÆπÊÄß‰∏∫ÁõÆÊ†áÔºåÈªòËÆ§ÂÄºÊõ¥ÂÆΩÊùæÔºö  NullableÔºöÂºïÁî®Á±ªÂûãÈªòËÆ§ÂèØÁ©∫Ref trackingÔºöÂØπË±°ÂºïÁî®ÈªòËÆ§ÂºÄÂêØÔºàString„ÄÅË£ÖÁÆ±Á±ªÂûã„ÄÅÊó∂Èó¥Á±ªÂûãÈô§Â§ñÔºâPolymorphismÔºöÊâÄÊúâÈùû final Á±ªÈªòËÆ§ÊîØÊåÅÂ§öÊÄÅ  Âú® Native Ê®°Âºè‰∏ãÔºåÈÄöÂ∏∏‰∏çÈúÄË¶ÅÈ¢ùÂ§ñÂ≠óÊÆµÊ≥®Ëß£ÔºåÈô§Èùû‰Ω†Â∏åÊúõÔºö  Áî®Â≠óÊÆµ ID Èôç‰Ωé‰ΩìÁßØÂÖ≥Èó≠‰∏çÂøÖË¶ÅÁöÑ ref Ë∑üË∏™‰ª•‰ºòÂåñÊÄßËÉΩÂØπÁâπÂÆöÂ≠óÊÆµÁ≤æÁ°ÆÊéßÂà∂Êï¥Êï∞ÁºñÁ†Å  // Native mode: works without any annotations public class User { private long id; private String name; private List&lt;String&gt; tags; // Nullable and ref-tracked by default }   ","version":"dev","tagName":"h3"},{"title":"Xlang Ê®°ÂºèÔºàË∑®ËØ≠Ë®ÄÔºâ‚Äã","type":1,"pageTitle":"Â≠óÊÆµÈÖçÁΩÆ","url":"/zh-CN/docs/next/guide/java/field_configuration#xlang-Ê®°ÂºèË∑®ËØ≠Ë®Ä","content":" Áî±‰∫é‰∏çÂêåËØ≠Ë®ÄÁ±ªÂûãÁ≥ªÁªüÂ∑ÆÂºÇÔºåXlang Ê®°ÂºèÈªòËÆ§ÂÄºÊõ¥‰∏•Ê†ºÔºö  NullableÔºöÂ≠óÊÆµÈªòËÆ§‰∏çÂèØÁ©∫Ôºànullable = falseÔºâRef trackingÔºöÈªòËÆ§ÂÖ≥Èó≠Ôºàref = falseÔºâPolymorphismÔºöÂÖ∑‰ΩìÁ±ªÂûãÈªòËÆ§‰∏çÂÜôÂ§öÊÄÅÁ±ªÂûã‰ø°ÊÅØ  Âú® Xlang Ê®°Âºè‰∏ãÔºå‰ª•‰∏ãÊÉÖÂÜµÈúÄË¶ÅÊòæÂºèÈÖçÁΩÆÔºö  Â≠óÊÆµÂèØËÉΩ‰∏∫ nullÔºà‰ΩøÁî® nullable = trueÔºâÂ≠óÊÆµÈúÄË¶ÅÂÖ±‰∫´/Âæ™ÁéØÂºïÁî®ËØ≠‰πâÔºà‰ΩøÁî® ref = trueÔºâÊï¥Êï∞Á±ªÂûãÈúÄË¶Å‰∏∫Ë∑®ËØ≠Ë®ÄÂÖºÂÆπÊåáÂÆöÁºñÁ†Å‰Ω†Â∏åÊúõÂáèÂ∞ëÂÖÉ‰ø°ÊÅØÂ§ßÂ∞èÔºà‰ΩøÁî®Â≠óÊÆµ IDÔºâ  // Xlang mode: explicit configuration required for nullable/ref fields public class User { @ForyField(id = 0) private long id; @ForyField(id = 1) private String name; @ForyField(id = 2, nullable = true) // Must declare nullable private String email; @ForyField(id = 3, ref = true, nullable = true) // Must declare ref for shared objects private User friend; }   ","version":"dev","tagName":"h3"},{"title":"ÈªòËÆ§ÂÄºÊ±áÊÄª‚Äã","type":1,"pageTitle":"Â≠óÊÆµÈÖçÁΩÆ","url":"/zh-CN/docs/next/guide/java/field_configuration#ÈªòËÆ§ÂÄºÊ±áÊÄª","content":" ÈÄâÈ°π\tNative Ê®°ÂºèÈªòËÆ§ÂÄº\tXlang Ê®°ÂºèÈªòËÆ§ÂÄºnullable\ttrueÔºàÂºïÁî®Á±ªÂûãÔºâ\tfalse ref\ttrue\tfalse dynamic\ttrueÔºàÈùû final Á±ªÔºâ\tAUTOÔºàÂÖ∑‰ΩìÁ±ªÂûãÈÄöÂ∏∏ÊåâÈùûÂä®ÊÄÅÂ§ÑÁêÜÔºâ  ","version":"dev","tagName":"h3"},{"title":"ÊúÄ‰Ω≥ÂÆûË∑µ‚Äã","type":1,"pageTitle":"Â≠óÊÆµÈÖçÁΩÆ","url":"/zh-CN/docs/next/guide/java/field_configuration#ÊúÄ‰Ω≥ÂÆûË∑µ","content":" ÈÖçÁΩÆÂ≠óÊÆµ IDÔºöÂÖºÂÆπÊ®°Âºè‰∏ãÂª∫ËÆÆÈÖçÁΩÆÔºåÈôç‰ΩéÂ∫èÂàóÂåñÊàêÊú¨ÂèØÁ©∫Â≠óÊÆµ‰ΩøÁî® nullable = trueÔºöÂØπÂèØ‰∏∫ null ÁöÑÂ≠óÊÆµÂøÖÈ°ªÊòæÂºèÂ£∞ÊòéÂÖ±‰∫´ÂØπË±°ÂºÄÂêØ refÔºöÂØπË±°ÂÖ±‰∫´ÊàñÂæ™ÁéØÊó∂‰ΩøÁî® ref = trueÊïèÊÑüÂ≠óÊÆµÁî® @Ignore Êàñ transientÔºöÂ¶ÇÂØÜÁ†Å„ÄÅ‰ª§Áâå„ÄÅÂÜÖÈÉ®Áä∂ÊÄÅÈÄâÊã©ÂêàÈÄÇÁºñÁ†ÅÔºöÂ∞èÂÄºÁî® varintÔºåÂÖ®ËåÉÂõ¥ÂÄºÁî® fixed‰øùÊåÅ ID Á®≥ÂÆöÔºö‰∏ÄÊó¶ÂàÜÈÖçÔºå‰∏çË¶ÅÈöèÊÑèÊîπÂä®Â≠óÊÆµ IDË∑®ËØ≠Ë®ÄÂú∫ÊôØÊòæÂºèÊó†Á¨¶Âè∑Á±ªÂûãÔºö‰∏é Rust„ÄÅGo„ÄÅC++ ‰∫íÊìç‰ΩúÊó∂Â∞§ÂÖ∂ÈáçË¶Å  ","version":"dev","tagName":"h2"},{"title":"Ê≥®Ëß£ÈÄüÊü•‚Äã","type":1,"pageTitle":"Â≠óÊÆµÈÖçÁΩÆ","url":"/zh-CN/docs/next/guide/java/field_configuration#Ê≥®Ëß£ÈÄüÊü•","content":" Ê≥®Ëß£\tËØ¥Êòé@ForyField(id = N)\tÈÖçÁΩÆÂ≠óÊÆµ tag IDÔºåÂáèÂ∞ëÂÖÉ‰ø°ÊÅØÂºÄÈîÄ @ForyField(nullable = true)\tÂ∞ÜÂ≠óÊÆµÊ†áËÆ∞‰∏∫ÂèØÁ©∫ @ForyField(ref = true)\t‰∏∫Â≠óÊÆµÂêØÁî®ÂºïÁî®Ë∑üË∏™ @ForyField(dynamic = ...)\tÊéßÂà∂ struct Â≠óÊÆµÂ§öÊÄÅË°å‰∏∫ @Ignore\tÂ∞ÜÂ≠óÊÆµÊéíÈô§Âú®Â∫èÂàóÂåñ‰πãÂ§ñ @Int32Type(compress = ...)\t32 ‰ΩçÊúâÁ¨¶Âè∑Êï¥Êï∞ÁºñÁ†Å @Int64Type(encoding = ...)\t64 ‰ΩçÊúâÁ¨¶Âè∑Êï¥Êï∞ÁºñÁ†Å @Uint8Type\t8 ‰ΩçÊó†Á¨¶Âè∑Êï¥Êï∞ @Uint16Type\t16 ‰ΩçÊó†Á¨¶Âè∑Êï¥Êï∞ @Uint32Type(compress = ...)\t32 ‰ΩçÊó†Á¨¶Âè∑Êï¥Êï∞ÁºñÁ†Å @Uint64Type(encoding = ...)\t64 ‰ΩçÊó†Á¨¶Âè∑Êï¥Êï∞ÁºñÁ†Å  ","version":"dev","tagName":"h2"},{"title":"Áõ∏ÂÖ≥‰∏ªÈ¢ò‚Äã","type":1,"pageTitle":"Â≠óÊÆµÈÖçÁΩÆ","url":"/zh-CN/docs/next/guide/java/field_configuration#Áõ∏ÂÖ≥‰∏ªÈ¢ò","content":" Âü∫Á°ÄÂ∫èÂàóÂåñ - Âø´ÈÄü‰∏äÊâã Fory Â∫èÂàóÂåñSchema ÊºîËøõ - ÂÖºÂÆπÊ®°Âºè‰∏é schema ÊºîËøõË∑®ËØ≠Ë®Ä - ‰∏é Python„ÄÅRust„ÄÅC++„ÄÅGo ‰∫íÊìç‰Ωú ","version":"dev","tagName":"h2"},{"title":"Á±ªÂûãÊ≥®ÂÜå‰∏éÂÆâÂÖ®","type":0,"sectionRef":"#","url":"/zh-CN/docs/next/guide/java/type_registration","content":"","keywords":"","version":"dev"},{"title":"Á±ªÊ≥®ÂÜå‚Äã","type":1,"pageTitle":"Á±ªÂûãÊ≥®ÂÜå‰∏éÂÆâÂÖ®","url":"/zh-CN/docs/next/guide/java/type_registration#Á±ªÊ≥®ÂÜå","content":" ForyBuilder#requireClassRegistration ÂèØÁî®‰∫éÁ¶ÅÁî®Á±ªÊ≥®ÂÜå„ÄÇËøôÂ∞ÜÂÖÅËÆ∏ÂèçÂ∫èÂàóÂåñÊú™Áü•Á±ªÂûãÁöÑÂØπË±°ÔºåËøôÊõ¥ÁÅµÊ¥ª‰ΩÜÂ¶ÇÊûúÁ±ªÂåÖÂê´ÊÅ∂ÊÑè‰ª£Á†ÅÂèØËÉΩ‰∏çÂÆâÂÖ®„ÄÇ  Èô§Èùû‰Ω†ËÉΩÁ°Æ‰øùÁéØÂ¢ÉÊòØÂÆâÂÖ®ÁöÑÔºåÂê¶Âàô‰∏çË¶ÅÁ¶ÅÁî®Á±ªÊ≥®ÂÜå„ÄÇÂΩìÁ¶ÅÁî®Ê≠§ÈÄâÈ°πÊó∂ÔºåÂèçÂ∫èÂàóÂåñÊú™Áü•/‰∏çÂèó‰ø°‰ªªÁöÑÁ±ªÂûãÊó∂Ôºåinit/equals/hashCode ‰∏≠ÁöÑÊÅ∂ÊÑè‰ª£Á†ÅÂèØËÉΩ‰ºöË¢´ÊâßË°å„ÄÇ  Á±ªÊ≥®ÂÜå‰∏ç‰ªÖÂèØ‰ª•Èôç‰ΩéÂÆâÂÖ®È£éÈô©ÔºåËøòÂèØ‰ª•ÈÅøÂÖçÁ±ªÂêçÂ∫èÂàóÂåñÊàêÊú¨„ÄÇ  ","version":"dev","tagName":"h2"},{"title":"Êåâ ID Ê≥®ÂÜå‚Äã","type":1,"pageTitle":"Á±ªÂûãÊ≥®ÂÜå‰∏éÂÆâÂÖ®","url":"/zh-CN/docs/next/guide/java/type_registration#Êåâ-id-Ê≥®ÂÜå","content":" ‰Ω†ÂèØ‰ª•‰ΩøÁî® API Fory#register Ê≥®ÂÜåÁ±ªÔºö  Fory fory = xxx; fory.register(SomeClass.class); fory.register(SomeClass1.class, 1);   Ê≥®ÊÑèÔºåÁ±ªÊ≥®ÂÜåÈ°∫Â∫èÂæàÈáçË¶Å„ÄÇÂ∫èÂàóÂåñÂíåÂèçÂ∫èÂàóÂåñÁ´ØÂ∫îËØ•ÂÖ∑ÊúâÁõ∏ÂêåÁöÑÊ≥®ÂÜåÈ°∫Â∫è„ÄÇ  ","version":"dev","tagName":"h3"},{"title":"ÊåâÂêçÁß∞Ê≥®ÂÜå‚Äã","type":1,"pageTitle":"Á±ªÂûãÊ≥®ÂÜå‰∏éÂÆâÂÖ®","url":"/zh-CN/docs/next/guide/java/type_registration#ÊåâÂêçÁß∞Ê≥®ÂÜå","content":" Êåâ ID Ê≥®ÂÜåÁ±ª‰ºöÊúâÊõ¥Â•ΩÁöÑÊÄßËÉΩÂíåÊõ¥Â∞èÁöÑÁ©∫Èó¥ÂºÄÈîÄ„ÄÇ‰ΩÜÂú®Êüê‰∫õÊÉÖÂÜµ‰∏ãÔºåÁÆ°ÁêÜ‰∏ÄÂ†ÜÁ±ªÂûã ID ÂæàÂ§çÊùÇ„ÄÇÂú®ËøôÁßçÊÉÖÂÜµ‰∏ãÔºåÂª∫ËÆÆ‰ΩøÁî® API register(Class&lt;?&gt; cls, String namespace, String typeName) ÊåâÂêçÁß∞Ê≥®ÂÜåÁ±ªÔºö  fory.register(Foo.class, &quot;demo&quot;, &quot;Foo&quot;);   Â¶ÇÊûúÁ±ªÂûãÊ≤°ÊúâÈáçÂ§çÁöÑÂêçÁß∞Ôºånamespace ÂèØ‰ª•ÁïôÁ©∫‰ª•ÂáèÂ∞ëÂ∫èÂàóÂåñÂ§ßÂ∞è„ÄÇ  ‰∏çË¶Å‰ΩøÁî®Ê≠§ API Ê≥®ÂÜåÁ±ªÔºåÂõ†‰∏∫‰∏éÊåâ ID Ê≥®ÂÜåÁ±ªÁõ∏ÊØîÔºåÂÆÉ‰ºöÂ§ßÂ§ßÂ¢ûÂä†Â∫èÂàóÂåñÂ§ßÂ∞è„ÄÇ  ","version":"dev","tagName":"h3"},{"title":"ÂÆâÂÖ®ÈÖçÁΩÆ‚Äã","type":1,"pageTitle":"Á±ªÂûãÊ≥®ÂÜå‰∏éÂÆâÂÖ®","url":"/zh-CN/docs/next/guide/java/type_registration#ÂÆâÂÖ®ÈÖçÁΩÆ","content":" ","version":"dev","tagName":"h2"},{"title":"Á±ªÊ£ÄÊü•Âô®‚Äã","type":1,"pageTitle":"Á±ªÂûãÊ≥®ÂÜå‰∏éÂÆâÂÖ®","url":"/zh-CN/docs/next/guide/java/type_registration#Á±ªÊ£ÄÊü•Âô®","content":" Â¶ÇÊûú‰Ω†Ë∞ÉÁî® ForyBuilder#requireClassRegistration(false) Êù•Á¶ÅÁî®Á±ªÊ≥®ÂÜåÊ£ÄÊü•Ôºå‰Ω†ÂèØ‰ª•ÈÄöËøá ClassResolver#setClassChecker ËÆæÁΩÆ org.apache.fory.resolver.ClassChecker Êù•ÊéßÂà∂Âì™‰∫õÁ±ªÂÖÅËÆ∏Â∫èÂàóÂåñ„ÄÇ  ‰æãÂ¶ÇÔºå‰Ω†ÂèØ‰ª•ÂÖÅËÆ∏‰ª• org.example.* ÂºÄÂ§¥ÁöÑÁ±ªÔºö  Fory fory = xxx; fory.getClassResolver().setClassChecker( (classResolver, className) -&gt; className.startsWith(&quot;org.example.&quot;));   ","version":"dev","tagName":"h3"},{"title":"AllowListChecker‚Äã","type":1,"pageTitle":"Á±ªÂûãÊ≥®ÂÜå‰∏éÂÆâÂÖ®","url":"/zh-CN/docs/next/guide/java/type_registration#allowlistchecker","content":" Fory Êèê‰æõ‰∫Ü org.apache.fory.resolver.AllowListCheckerÔºåËøôÊòØ‰∏Ä‰∏™Âü∫‰∫éÂÖÅËÆ∏/Á¶ÅÊ≠¢ÂàóË°®ÁöÑÊ£ÄÊü•Âô®ÔºåÁî®‰∫éÁÆÄÂåñÁ±ªÊ£ÄÊü•Êú∫Âà∂ÁöÑËá™ÂÆö‰πâÔºö  AllowListChecker checker = new AllowListChecker(AllowListChecker.CheckLevel.STRICT); ThreadSafeFory fory = new ThreadLocalFory(classLoader -&gt; { Fory f = Fory.builder().requireClassRegistration(true).withClassLoader(classLoader).build(); f.getClassResolver().setClassChecker(checker); checker.addListener(f.getClassResolver()); return f; }); checker.allowClass(&quot;org.example.*&quot;);   ‰Ω†ÂèØ‰ª•‰ΩøÁî®Ê≠§Ê£ÄÊü•Âô®ÊàñËá™Â∑±ÂÆûÁé∞Êõ¥Â§çÊùÇÁöÑÊ£ÄÊü•Âô®„ÄÇ  ","version":"dev","tagName":"h3"},{"title":"ÈôêÂà∂ÊúÄÂ§ßÂèçÂ∫èÂàóÂåñÊ∑±Â∫¶‚Äã","type":1,"pageTitle":"Á±ªÂûãÊ≥®ÂÜå‰∏éÂÆâÂÖ®","url":"/zh-CN/docs/next/guide/java/type_registration#ÈôêÂà∂ÊúÄÂ§ßÂèçÂ∫èÂàóÂåñÊ∑±Â∫¶","content":" Fory Êèê‰æõ ForyBuilder#withMaxDepth Êù•ÈôêÂà∂ÊúÄÂ§ßÂèçÂ∫èÂàóÂåñÊ∑±Â∫¶„ÄÇÈªòËÆ§ÊúÄÂ§ßÊ∑±Â∫¶‰∏∫ 50„ÄÇ  Â¶ÇÊûúËææÂà∞ÊúÄÂ§ßÊ∑±Â∫¶ÔºåFory Â∞ÜÊäõÂá∫ ForyException„ÄÇËøôÂèØÁî®‰∫éÈò≤Ê≠¢ÊÅ∂ÊÑèÊï∞ÊçÆÂØºËá¥Â†ÜÊ†àÊ∫¢Âá∫ÊàñÂÖ∂‰ªñÈóÆÈ¢ò„ÄÇ  Fory fory = Fory.builder() .withLanguage(Language.JAVA) .withMaxDepth(100) // ËÆæÁΩÆËá™ÂÆö‰πâÊúÄÂ§ßÊ∑±Â∫¶ .build();   ","version":"dev","tagName":"h2"},{"title":"ÊúÄ‰Ω≥ÂÆûË∑µ‚Äã","type":1,"pageTitle":"Á±ªÂûãÊ≥®ÂÜå‰∏éÂÆâÂÖ®","url":"/zh-CN/docs/next/guide/java/type_registration#ÊúÄ‰Ω≥ÂÆûË∑µ","content":" Âú®Áîü‰∫ßÁéØÂ¢É‰∏≠ÂßãÁªàÂêØÁî®Á±ªÊ≥®ÂÜåÔºö‰ΩøÁî® requireClassRegistration(true)‰ΩøÁî®Âü∫‰∫é ID ÁöÑÊ≥®ÂÜå‰ª•Ëé∑ÂæóÊÄßËÉΩÔºöÊï∞Â≠ó ID ÊØîÂ≠óÁ¨¶‰∏≤ÂêçÁß∞Êõ¥Âø´‰øùÊåÅ‰∏ÄËá¥ÁöÑÊ≥®ÂÜåÈ°∫Â∫èÔºöÂ∫èÂàóÂåñÂíåÂèçÂ∫èÂàóÂåñÁ´ØÁöÑÈ°∫Â∫èÁõ∏ÂêåËÆæÁΩÆÈÄÇÂΩìÁöÑÊúÄÂ§ßÊ∑±Â∫¶ÔºöÈò≤Ê≠¢Â†ÜÊ†àÊ∫¢Âá∫ÊîªÂáª‰ΩøÁî® AllowListChecker ËøõË°åÁªÜÁ≤íÂ∫¶ÊéßÂà∂ÔºöÂΩì‰Ω†ÈúÄË¶ÅÁÅµÊ¥ªÁöÑÁ±ªËøáÊª§Êó∂  ","version":"dev","tagName":"h2"},{"title":"Áõ∏ÂÖ≥‰∏ªÈ¢ò‚Äã","type":1,"pageTitle":"Á±ªÂûãÊ≥®ÂÜå‰∏éÂÆâÂÖ®","url":"/zh-CN/docs/next/guide/java/type_registration#Áõ∏ÂÖ≥‰∏ªÈ¢ò","content":" ÈÖçÁΩÆÈÄâÈ°π - ForyBuilder ÂÆâÂÖ®ÈÄâÈ°πËá™ÂÆö‰πâÂ∫èÂàóÂåñÂô® - Ê≥®ÂÜåËá™ÂÆö‰πâÂ∫èÂàóÂåñÂô®ÊïÖÈöúÊéíÈô§ - Â∏∏ËßÅÊ≥®ÂÜåÈóÆÈ¢ò ","version":"dev","tagName":"h2"},{"title":"Kotlin Â∫èÂàóÂåñÊåáÂçó","type":0,"sectionRef":"#","url":"/zh-CN/docs/next/guide/kotlin/","content":"","keywords":"","version":"dev"},{"title":"ÁâπÊÄß‚Äã","type":1,"pageTitle":"Kotlin Â∫èÂàóÂåñÊåáÂçó","url":"/zh-CN/docs/next/guide/kotlin/#ÁâπÊÄß","content":" Fory Kotlin ÁªßÊâø‰∫Ü Fory Java ÁöÑÊâÄÊúâÁâπÊÄßÔºåÂπ∂Â¢ûÂä†‰∫Ü Kotlin ÁâπÂÆöÁöÑ‰ºòÂåñÔºö  È´òÊÄßËÉΩÔºöJIT ‰ª£Á†ÅÁîüÊàê„ÄÅÈõ∂Êã∑Ë¥ùÔºåÊØî‰º†ÁªüÂ∫èÂàóÂåñÂø´ 20-170 ÂÄçKotlin Á±ªÂûãÊîØÊåÅÔºö‰∏∫Êï∞ÊçÆÁ±ª„ÄÅÊó†Á¨¶Âè∑Á±ªÂûã„ÄÅËåÉÂõ¥ÂíåÊ†áÂáÜÂ∫ìÁ±ªÂûãÊèê‰æõ‰ºòÂåñÁöÑÂ∫èÂàóÂåñÂô®ÈªòËÆ§ÂÄºÊîØÊåÅÔºöÂú® schema ÊºîÂåñÊúüÈó¥Ëá™Âä®Â§ÑÁêÜ Kotlin Êï∞ÊçÆÁ±ªÁöÑÈªòËÆ§ÂèÇÊï∞Schema ÊºîÂåñÔºöÊîØÊåÅÁ±ª schema ÂèòÊõ¥ÁöÑÂâçÂêë/ÂêéÂêëÂÖºÂÆπÊÄß  ÂÆåÊï¥ÁâπÊÄßÂàóË°®ËØ∑ÂèÇÈòÖ Java ÁâπÊÄß„ÄÇ  ","version":"dev","tagName":"h2"},{"title":"ÂÆâË£Ö‚Äã","type":1,"pageTitle":"Kotlin Â∫èÂàóÂåñÊåáÂçó","url":"/zh-CN/docs/next/guide/kotlin/#ÂÆâË£Ö","content":" ","version":"dev","tagName":"h2"},{"title":"Maven‚Äã","type":1,"pageTitle":"Kotlin Â∫èÂàóÂåñÊåáÂçó","url":"/zh-CN/docs/next/guide/kotlin/#maven","content":" &lt;dependency&gt; &lt;groupId&gt;org.apache.fory&lt;/groupId&gt; &lt;artifactId&gt;fory-kotlin&lt;/artifactId&gt; &lt;version&gt;0.14.1&lt;/version&gt; &lt;/dependency&gt;   ","version":"dev","tagName":"h3"},{"title":"Gradle‚Äã","type":1,"pageTitle":"Kotlin Â∫èÂàóÂåñÊåáÂçó","url":"/zh-CN/docs/next/guide/kotlin/#gradle","content":" implementation(&quot;org.apache.fory:fory-kotlin:0.14.1&quot;)   ","version":"dev","tagName":"h3"},{"title":"Âø´ÈÄüÂºÄÂßã‚Äã","type":1,"pageTitle":"Kotlin Â∫èÂàóÂåñÊåáÂçó","url":"/zh-CN/docs/next/guide/kotlin/#Âø´ÈÄüÂºÄÂßã","content":" import org.apache.fory.Fory import org.apache.fory.ThreadSafeFory import org.apache.fory.serializer.kotlin.KotlinSerializers data class Person(val name: String, val id: Long, val github: String) data class Point(val x: Int, val y: Int, val z: Int) fun main() { // ÂàõÂª∫ Fory ÂÆû‰æãÔºàÂ∫îËØ•ÈáçÁî®Ôºâ val fory: ThreadSafeFory = Fory.builder() .requireClassRegistration(true) .buildThreadSafeFory() // Ê≥®ÂÜå Kotlin Â∫èÂàóÂåñÂô® KotlinSerializers.registerSerializers(fory) // Ê≥®ÂÜå‰Ω†ÁöÑÁ±ª fory.register(Person::class.java) fory.register(Point::class.java) val p = Person(&quot;Shawn Yang&quot;, 1, &quot;https://github.com/chaokunyang&quot;) println(fory.deserialize(fory.serialize(p))) println(fory.deserialize(fory.serialize(Point(1, 2, 3)))) }   ","version":"dev","tagName":"h2"},{"title":"Âü∫‰∫é Fory Java ÊûÑÂª∫‚Äã","type":1,"pageTitle":"Kotlin Â∫èÂàóÂåñÊåáÂçó","url":"/zh-CN/docs/next/guide/kotlin/#Âü∫‰∫é-fory-java-ÊûÑÂª∫","content":" Fory Kotlin Âü∫‰∫é Fory Java ÊûÑÂª∫„ÄÇFory Java ÁöÑÂ§ßÂ§öÊï∞ÈÖçÁΩÆÈÄâÈ°π„ÄÅÁâπÊÄßÂíåÊ¶ÇÂøµÁõ¥Êé•ÈÄÇÁî®‰∫é Kotlin„ÄÇËØ∑ÂèÇÈòÖ Java ÊñáÊ°£‰∫ÜËß£Ôºö  ÈÖçÁΩÆÈÄâÈ°π - ÊâÄÊúâ ForyBuilder ÈÄâÈ°πÂü∫Á°ÄÂ∫èÂàóÂåñ - Â∫èÂàóÂåñÊ®°ÂºèÂíå APIÁ±ªÂûãÊ≥®ÂÜå - Á±ªÊ≥®ÂÜåÂíåÂÆâÂÖ®ÊÄßSchema ÊºîÂåñ - ÂâçÂêë/ÂêéÂêëÂÖºÂÆπÊÄßËá™ÂÆö‰πâÂ∫èÂàóÂåñÂô® - ÂÆûÁé∞Ëá™ÂÆö‰πâÂ∫èÂàóÂåñÂô®ÂéãÁº© - Int„ÄÅlong ÂíåÂ≠óÁ¨¶‰∏≤ÂéãÁº©ÊïÖÈöúÊéíÈô§ - Â∏∏ËßÅÈóÆÈ¢òÂíåËß£ÂÜ≥ÊñπÊ°à  ","version":"dev","tagName":"h2"},{"title":"Kotlin ÁâπÂÆöÊñáÊ°£‚Äã","type":1,"pageTitle":"Kotlin Â∫èÂàóÂåñÊåáÂçó","url":"/zh-CN/docs/next/guide/kotlin/#kotlin-ÁâπÂÆöÊñáÊ°£","content":" Fory ÂàõÂª∫ - Kotlin ÁâπÂÆöÁöÑ Fory ËÆæÁΩÆË¶ÅÊ±ÇÁ±ªÂûãÂ∫èÂàóÂåñ - Â∫èÂàóÂåñ Kotlin Á±ªÂûãÈªòËÆ§ÂÄº - Kotlin Êï∞ÊçÆÁ±ªÈªòËÆ§ÂÄºÊîØÊåÅ ","version":"dev","tagName":"h2"},{"title":"Ëá™ÂÆö‰πâÂ∫èÂàóÂåñÂô®","type":0,"sectionRef":"#","url":"/zh-CN/docs/next/guide/java/custom_serializers","content":"","keywords":"","version":"dev"},{"title":"Âü∫Êú¨Ëá™ÂÆö‰πâÂ∫èÂàóÂåñÂô®‚Äã","type":1,"pageTitle":"Ëá™ÂÆö‰πâÂ∫èÂàóÂåñÂô®","url":"/zh-CN/docs/next/guide/java/custom_serializers#Âü∫Êú¨Ëá™ÂÆö‰πâÂ∫èÂàóÂåñÂô®","content":" Âú®Êüê‰∫õÊÉÖÂÜµ‰∏ãÔºå‰Ω†ÂèØËÉΩÊÉ≥‰∏∫‰Ω†ÁöÑÁ±ªÂûãÂÆûÁé∞Â∫èÂàóÂåñÂô®ÔºåÁâπÂà´ÊòØÂØπ‰∫é‰ΩøÁî® JDK writeObject/writeReplace/readObject/readResolve Ëá™ÂÆö‰πâÂ∫èÂàóÂåñÁöÑÁ±ªÔºåËøôÈùûÂ∏∏‰ΩéÊïà„ÄÇ  ‰æãÂ¶ÇÔºåÂ¶ÇÊûú‰Ω†‰∏çÊÉ≥Ë∞ÉÁî®‰ª•‰∏ã Foo#writeObjectÔºå‰Ω†ÂèØ‰ª•ÂÆûÁé∞Ëá™ÂÆö‰πâÂ∫èÂàóÂåñÂô®Ôºö  class Foo { public long f1; private void writeObject(ObjectOutputStream s) throws IOException { System.out.println(f1); s.defaultWriteObject(); } } class FooSerializer extends Serializer&lt;Foo&gt; { public FooSerializer(Fory fory) { super(fory, Foo.class); } @Override public void write(MemoryBuffer buffer, Foo value) { buffer.writeInt64(value.f1); } @Override public Foo read(MemoryBuffer buffer) { Foo foo = new Foo(); foo.f1 = buffer.readInt64(); return foo; } }   ","version":"dev","tagName":"h2"},{"title":"Ê≥®ÂÜåÂ∫èÂàóÂåñÂô®‚Äã","type":1,"pageTitle":"Ëá™ÂÆö‰πâÂ∫èÂàóÂåñÂô®","url":"/zh-CN/docs/next/guide/java/custom_serializers#Ê≥®ÂÜåÂ∫èÂàóÂåñÂô®","content":" Fory fory = getFory(); fory.registerSerializer(Foo.class, new FooSerializer(fory));   Èô§‰∫ÜÊ≥®ÂÜåÂ∫èÂàóÂåñÂô®Ôºå‰Ω†ËøòÂèØ‰ª•‰∏∫Á±ªÂÆûÁé∞ java.io.Externalizable Êù•Ëá™ÂÆö‰πâÂ∫èÂàóÂåñÈÄªËæë„ÄÇËøôÁßçÁ±ªÂûãÂ∞ÜÁî± Fory ÁöÑ ExternalizableSerializer Â∫èÂàóÂåñ„ÄÇ  ","version":"dev","tagName":"h3"},{"title":"ÈõÜÂêàÂ∫èÂàóÂåñÂô®‚Äã","type":1,"pageTitle":"Ëá™ÂÆö‰πâÂ∫èÂàóÂåñÂô®","url":"/zh-CN/docs/next/guide/java/custom_serializers#ÈõÜÂêàÂ∫èÂàóÂåñÂô®","content":" Âú®‰∏∫Ëá™ÂÆö‰πâÈõÜÂêàÁ±ªÂûãÂÆûÁé∞Â∫èÂàóÂåñÂô®Êó∂Ôºå‰Ω†ÂøÖÈ°ªÊâ©Â±ï CollectionSerializer Êàñ CollectionLikeSerializer„ÄÇ‰∏ªË¶ÅÂå∫Âà´ÊòØ CollectionLikeSerializer ÂèØ‰ª•Â∫èÂàóÂåñÂÖ∑ÊúâÁ±ª‰ººÈõÜÂêàÁªìÊûÑ‰ΩÜ‰∏çÊòØ Java Collection Â≠êÁ±ªÂûãÁöÑÁ±ª„ÄÇ  ","version":"dev","tagName":"h2"},{"title":"supportCodegenHook ÂèÇÊï∞‚Äã","type":1,"pageTitle":"Ëá™ÂÆö‰πâÂ∫èÂàóÂåñÂô®","url":"/zh-CN/docs/next/guide/java/custom_serializers#supportcodegenhook-ÂèÇÊï∞","content":" Ëøô‰∏™ÁâπÊÆäÂèÇÊï∞ÊéßÂà∂Â∫èÂàóÂåñË°å‰∏∫Ôºö  ÂΩì‰∏∫ true Êó∂Ôºö  ÂêØÁî®ÂØπÈõÜÂêàÂÖÉÁ¥†ÁöÑ‰ºòÂåñËÆøÈóÆÂíå JIT ÁºñËØë‰ª•Ëé∑ÂæóÊõ¥Â•ΩÁöÑÊÄßËÉΩÁõ¥Êé•Â∫èÂàóÂåñË∞ÉÁî®ÂíåÂÜÖËÅîÈõÜÂêàÈ°πÔºåÊó†ÈúÄÂä®ÊÄÅÂ∫èÂàóÂåñÂô®ÂàÜÊ¥æÊàêÊú¨ÂØπÊ†áÂáÜÈõÜÂêàÁ±ªÂûãÊúâÊõ¥Â•ΩÁöÑÊÄßËÉΩÂØπÂ§ßÂ§öÊï∞ÈõÜÂêàÊé®Ëçê  ÂΩì‰∏∫ false Êó∂Ôºö  ‰ΩøÁî®Âü∫‰∫éÊé•Âè£ÁöÑÂÖÉÁ¥†ËÆøÈóÆÂíåÂÖÉÁ¥†ÁöÑÂä®ÊÄÅÂ∫èÂàóÂåñÂô®ÂàÜÊ¥æÔºàÊàêÊú¨Êõ¥È´òÔºâÂØπËá™ÂÆö‰πâÈõÜÂêàÁ±ªÂûãÊõ¥ÁÅµÊ¥ªÂΩìÈõÜÂêàÊúâÁâπÊÆäÂ∫èÂàóÂåñÈúÄÊ±ÇÊó∂ÈúÄË¶ÅÂ§ÑÁêÜÂ§çÊùÇÁöÑÈõÜÂêàÂÆûÁé∞  ","version":"dev","tagName":"h3"},{"title":"Â∏¶ JIT ÊîØÊåÅÁöÑÈõÜÂêàÂ∫èÂàóÂåñÂô®‚Äã","type":1,"pageTitle":"Ëá™ÂÆö‰πâÂ∫èÂàóÂåñÂô®","url":"/zh-CN/docs/next/guide/java/custom_serializers#Â∏¶-jit-ÊîØÊåÅÁöÑÈõÜÂêàÂ∫èÂàóÂåñÂô®","content":" Âú®ÂÆûÁé∞Â∏¶ JIT ÊîØÊåÅÁöÑÈõÜÂêàÂ∫èÂàóÂåñÂô®Êó∂ÔºåÂà©Áî® Fory Áé∞ÊúâÁöÑ‰∫åËøõÂà∂Ê†ºÂºèÂíåÈõÜÂêàÂ∫èÂàóÂåñÂü∫Á°ÄËÆæÊñΩÔºö  public class CustomCollectionSerializer&lt;T extends Collection&gt; extends CollectionSerializer&lt;T&gt; { public CustomCollectionSerializer(Fory fory, Class&lt;T&gt; cls) { // supportCodegenHook ÊéßÂà∂ÊòØÂê¶‰ΩøÁî® JIT ÁºñËØë super(fory, cls, true); } @Override public Collection onCollectionWrite(MemoryBuffer buffer, T value) { // ÂÜôÂÖ•ÈõÜÂêàÂ§ßÂ∞è buffer.writeVarUint32Small7(value.size()); // ÂÜôÂÖ•‰ªª‰ΩïÈ¢ùÂ§ñÁöÑÈõÜÂêàÂÖÉÊï∞ÊçÆ return value; } @Override public Collection newCollection(MemoryBuffer buffer) { // ÂàõÂª∫Êñ∞ÁöÑÈõÜÂêàÂÆû‰æã Collection collection = super.newCollection(buffer); // ËØªÂèñÂπ∂ËÆæÁΩÆÈõÜÂêàÂ§ßÂ∞è int numElements = getAndClearNumElements(); setNumElements(numElements); return collection; } }   Ê≥®ÊÑèÔºöÂú®ÂÆûÁé∞ newCollection Êó∂Ë∞ÉÁî® setNumElementsÔºåËÆ© Fory Áü•ÈÅìË¶ÅÂèçÂ∫èÂàóÂåñÂ§öÂ∞ëÂÖÉÁ¥†„ÄÇ  ","version":"dev","tagName":"h3"},{"title":"‰∏çÂ∏¶ JIT ÁöÑËá™ÂÆö‰πâÈõÜÂêàÂ∫èÂàóÂåñÂô®‚Äã","type":1,"pageTitle":"Ëá™ÂÆö‰πâÂ∫èÂàóÂåñÂô®","url":"/zh-CN/docs/next/guide/java/custom_serializers#‰∏çÂ∏¶-jit-ÁöÑËá™ÂÆö‰πâÈõÜÂêàÂ∫èÂàóÂåñÂô®","content":" ÂØπ‰∫é‰ΩøÁî®ÂéüÂßãÊï∞ÁªÑÊàñÊúâÁâπÊÆäË¶ÅÊ±ÇÁöÑÈõÜÂêàÔºåÂÆûÁé∞Á¶ÅÁî® JIT ÁöÑÂ∫èÂàóÂåñÂô®Ôºö  class IntList extends AbstractCollection&lt;Integer&gt; { private final int[] elements; private final int size; public IntList(int size) { this.elements = new int[size]; this.size = size; } public IntList(int[] elements, int size) { this.elements = elements; this.size = size; } @Override public Iterator&lt;Integer&gt; iterator() { return new Iterator&lt;Integer&gt;() { private int index = 0; @Override public boolean hasNext() { return index &lt; size; } @Override public Integer next() { if (!hasNext()) { throw new NoSuchElementException(); } return elements[index++]; } }; } @Override public int size() { return size; } public int get(int index) { if (index &gt;= size) { throw new IndexOutOfBoundsException(); } return elements[index]; } public void set(int index, int value) { if (index &gt;= size) { throw new IndexOutOfBoundsException(); } elements[index] = value; } public int[] getElements() { return elements; } } class IntListSerializer extends CollectionLikeSerializer&lt;IntList&gt; { public IntListSerializer(Fory fory) { // Á¶ÅÁî® JITÔºåÂõ†‰∏∫Êàë‰ª¨Áõ¥Êé•Â§ÑÁêÜÂ∫èÂàóÂåñ super(fory, IntList.class, false); } @Override public void write(MemoryBuffer buffer, IntList value) { // ÂÜôÂÖ•Â§ßÂ∞è buffer.writeVarUint32Small7(value.size()); // Áõ¥Êé•Â∞ÜÂÖÉÁ¥†ÂÜô‰∏∫ÂéüÂßã int int[] elements = value.getElements(); for (int i = 0; i &lt; value.size(); i++) { buffer.writeVarInt32(elements[i]); } } @Override public IntList read(MemoryBuffer buffer) { // ËØªÂèñÂ§ßÂ∞è int size = buffer.readVarUint32Small7(); // ÂàõÂª∫Êï∞ÁªÑÂπ∂ËØªÂèñÂÖÉÁ¥† int[] elements = new int[size]; for (int i = 0; i &lt; size; i++) { elements[i] = buffer.readVarInt32(); } return new IntList(elements, size); } // ÂΩìÁ¶ÅÁî® JIT Êó∂‰∏ç‰ΩøÁî®Ëøô‰∫õÊñπÊ≥ï @Override public Collection onCollectionWrite(MemoryBuffer buffer, IntList value) { throw new UnsupportedOperationException(); } @Override public Collection newCollection(MemoryBuffer buffer) { throw new UnsupportedOperationException(); } @Override public IntList onCollectionRead(Collection collection) { throw new UnsupportedOperationException(); } }   ‰ΩïÊó∂‰ΩøÁî®Ê≠§ÊñπÊ≥ïÔºö  Â§ÑÁêÜÂéüÂßãÁ±ªÂûãÈúÄË¶ÅÊúÄÂ§ßÊÄßËÉΩÊÉ≥Ë¶ÅÊúÄÂ∞èÂåñÂÜÖÂ≠òÂºÄÈîÄÊúâÁâπÊÆäÁöÑÂ∫èÂàóÂåñÈúÄÊ±Ç  ","version":"dev","tagName":"h3"},{"title":"Á±ªÈõÜÂêàÁ±ªÂûãÂ∫èÂàóÂåñÂô®‚Äã","type":1,"pageTitle":"Ëá™ÂÆö‰πâÂ∫èÂàóÂåñÂô®","url":"/zh-CN/docs/next/guide/java/custom_serializers#Á±ªÈõÜÂêàÁ±ªÂûãÂ∫èÂàóÂåñÂô®","content":" ÂØπ‰∫éË°å‰∏∫Á±ª‰ººÈõÜÂêà‰ΩÜ‰∏çÊòØÊ†áÂáÜ Java ÈõÜÂêàÁöÑÁ±ªÂûãÔºö  class CustomCollectionLike { private final Object[] elements; private final int size; public CustomCollectionLike(int size) { this.elements = new Object[size]; this.size = 0; } public CustomCollectionLike(Object[] elements, int size) { this.elements = elements; this.size = size; } public Object get(int index) { if (index &gt;= size) { throw new IndexOutOfBoundsException(); } return elements[index]; } public int size() { return size; } public Object[] getElements() { return elements; } } class CollectionView extends AbstractCollection&lt;Object&gt; { private final Object[] elements; private final int size; private int writeIndex; public CollectionView(CustomCollectionLike collection) { this.elements = collection.getElements(); this.size = collection.size(); } public CollectionView(int size) { this.size = size; this.elements = new Object[size]; } @Override public Iterator&lt;Object&gt; iterator() { return new Iterator&lt;Object&gt;() { private int index = 0; @Override public boolean hasNext() { return index &lt; size; } @Override public Object next() { if (!hasNext()) { throw new NoSuchElementException(); } return elements[index++]; } }; } @Override public boolean add(Object element) { if (writeIndex &gt;= size) { throw new IllegalStateException(&quot;Collection is full&quot;); } elements[writeIndex++] = element; return true; } @Override public int size() { return size; } public Object[] getElements() { return elements; } } class CustomCollectionSerializer extends CollectionLikeSerializer&lt;CustomCollectionLike&gt; { public CustomCollectionSerializer(Fory fory) { super(fory, CustomCollectionLike.class, true); } @Override public Collection onCollectionWrite(MemoryBuffer buffer, CustomCollectionLike value) { buffer.writeVarUint32Small7(value.size()); return new CollectionView(value); } @Override public Collection newCollection(MemoryBuffer buffer) { int numElements = buffer.readVarUint32Small7(); setNumElements(numElements); return new CollectionView(numElements); } @Override public CustomCollectionLike onCollectionRead(Collection collection) { CollectionView view = (CollectionView) collection; return new CustomCollectionLike(view.getElements(), view.size()); } }   ","version":"dev","tagName":"h3"},{"title":"Map Â∫èÂàóÂåñÂô®‚Äã","type":1,"pageTitle":"Ëá™ÂÆö‰πâÂ∫èÂàóÂåñÂô®","url":"/zh-CN/docs/next/guide/java/custom_serializers#map-Â∫èÂàóÂåñÂô®","content":" Âú®‰∏∫Ëá™ÂÆö‰πâ Map Á±ªÂûãÂÆûÁé∞Â∫èÂàóÂåñÂô®Êó∂ÔºåÊâ©Â±ï MapSerializer Êàñ MapLikeSerializer„ÄÇ‰∏ªË¶ÅÂå∫Âà´ÊòØ MapLikeSerializer ÂèØ‰ª•Â∫èÂàóÂåñÂÖ∑ÊúâÁ±ª‰ºº map ÁªìÊûÑ‰ΩÜ‰∏çÊòØ Java Map Â≠êÁ±ªÂûãÁöÑÁ±ª„ÄÇ  ","version":"dev","tagName":"h2"},{"title":"Â∏¶ JIT ÊîØÊåÅÁöÑ Map Â∫èÂàóÂåñÂô®‚Äã","type":1,"pageTitle":"Ëá™ÂÆö‰πâÂ∫èÂàóÂåñÂô®","url":"/zh-CN/docs/next/guide/java/custom_serializers#Â∏¶-jit-ÊîØÊåÅÁöÑ-map-Â∫èÂàóÂåñÂô®","content":" public class CustomMapSerializer&lt;T extends Map&gt; extends MapSerializer&lt;T&gt; { public CustomMapSerializer(Fory fory, Class&lt;T&gt; cls) { // supportCodegenHook ÊòØÂÜ≥ÂÆöÂ∫èÂàóÂåñË°å‰∏∫ÁöÑÂÖ≥ÈîÆÂèÇÊï∞ super(fory, cls, true); } @Override public Map onMapWrite(MemoryBuffer buffer, T value) { // ÂÜôÂÖ• map Â§ßÂ∞è buffer.writeVarUint32Small7(value.size()); // Âú®ËøôÈáåÂÜôÂÖ•‰ªª‰ΩïÈ¢ùÂ§ñÁöÑ map ÂÖÉÊï∞ÊçÆ return value; } @Override public Map newMap(MemoryBuffer buffer) { // ËØªÂèñ map Â§ßÂ∞è int numElements = buffer.readVarUint32Small7(); setNumElements(numElements); // ÂàõÂª∫Âπ∂ËøîÂõûÊñ∞ÁöÑ map ÂÆû‰æã T map = (T) new HashMap(numElements); fory.getRefResolver().reference(map); return map; } }   Ê≥®ÊÑèÔºöÂú®ÂÆûÁé∞ newMap Êó∂Ë∞ÉÁî® setNumElementsÔºåËÆ© Fory Áü•ÈÅìË¶ÅÂèçÂ∫èÂàóÂåñÂ§öÂ∞ëÂÖÉÁ¥†„ÄÇ  ","version":"dev","tagName":"h3"},{"title":"‰∏çÂ∏¶ JIT ÁöÑËá™ÂÆö‰πâ Map Â∫èÂàóÂåñÂô®‚Äã","type":1,"pageTitle":"Ëá™ÂÆö‰πâÂ∫èÂàóÂåñÂô®","url":"/zh-CN/docs/next/guide/java/custom_serializers#‰∏çÂ∏¶-jit-ÁöÑËá™ÂÆö‰πâ-map-Â∫èÂàóÂåñÂô®","content":" ÂØπ‰∫éÂÆåÂÖ®ÊéßÂà∂Â∫èÂàóÂåñËøáÁ®ãÔºö  class FixedValueMap extends AbstractMap&lt;String, Integer&gt; { private final Set&lt;String&gt; keys; private final int fixedValue; public FixedValueMap(Set&lt;String&gt; keys, int fixedValue) { this.keys = keys; this.fixedValue = fixedValue; } @Override public Set&lt;Entry&lt;String, Integer&gt;&gt; entrySet() { Set&lt;Entry&lt;String, Integer&gt;&gt; entries = new HashSet&lt;&gt;(); for (String key : keys) { entries.add(new SimpleEntry&lt;&gt;(key, fixedValue)); } return entries; } @Override public Integer get(Object key) { return keys.contains(key) ? fixedValue : null; } public Set&lt;String&gt; getKeys() { return keys; } public int getFixedValue() { return fixedValue; } } class FixedValueMapSerializer extends MapLikeSerializer&lt;FixedValueMap&gt; { public FixedValueMapSerializer(Fory fory) { // Á¶ÅÁî® codegenÔºåÂõ†‰∏∫Êàë‰ª¨Áõ¥Êé•Â§ÑÁêÜÂ∫èÂàóÂåñ super(fory, FixedValueMap.class, false); } @Override public void write(MemoryBuffer buffer, FixedValueMap value) { // ÂÜôÂÖ•Âõ∫ÂÆöÂÄº buffer.writeInt32(value.getFixedValue()); // ÂÜôÂÖ•ÈîÆÁöÑÊï∞Èáè buffer.writeVarUint32Small7(value.getKeys().size()); // ÂÜôÂÖ•ÊØè‰∏™ÈîÆ for (String key : value.getKeys()) { buffer.writeString(key); } } @Override public FixedValueMap read(MemoryBuffer buffer) { // ËØªÂèñÂõ∫ÂÆöÂÄº int fixedValue = buffer.readInt32(); // ËØªÂèñÈîÆÁöÑÊï∞Èáè int size = buffer.readVarUint32Small7(); Set&lt;String&gt; keys = new HashSet&lt;&gt;(size); for (int i = 0; i &lt; size; i++) { keys.add(buffer.readString()); } return new FixedValueMap(keys, fixedValue); } // ÂΩì supportCodegenHook ‰∏∫ false Êó∂‰∏ç‰ΩøÁî®Ëøô‰∫õÊñπÊ≥ï @Override public Map onMapWrite(MemoryBuffer buffer, FixedValueMap value) { throw new UnsupportedOperationException(); } @Override public FixedValueMap onMapRead(Map map) { throw new UnsupportedOperationException(); } @Override public FixedValueMap onMapCopy(Map map) { throw new UnsupportedOperationException(); } }   ","version":"dev","tagName":"h3"},{"title":"Á±ª Map Á±ªÂûãÂ∫èÂàóÂåñÂô®‚Äã","type":1,"pageTitle":"Ëá™ÂÆö‰πâÂ∫èÂàóÂåñÂô®","url":"/zh-CN/docs/next/guide/java/custom_serializers#Á±ª-map-Á±ªÂûãÂ∫èÂàóÂåñÂô®","content":" ÂØπ‰∫éË°å‰∏∫Á±ª‰ºº map ‰ΩÜ‰∏çÊòØÊ†áÂáÜ Java Map ÁöÑÁ±ªÂûãÔºö  class CustomMapLike { private final Object[] keyArray; private final Object[] valueArray; private final int size; public CustomMapLike(int initialCapacity) { this.keyArray = new Object[initialCapacity]; this.valueArray = new Object[initialCapacity]; this.size = 0; } public CustomMapLike(Object[] keyArray, Object[] valueArray, int size) { this.keyArray = keyArray; this.valueArray = valueArray; this.size = size; } public Integer get(String key) { for (int i = 0; i &lt; size; i++) { if (key.equals(keyArray[i])) { return (Integer) valueArray[i]; } } return null; } public int size() { return size; } public Object[] getKeyArray() { return keyArray; } public Object[] getValueArray() { return valueArray; } } class MapView extends AbstractMap&lt;Object, Object&gt; { private final Object[] keyArray; private final Object[] valueArray; private final int size; private int writeIndex; public MapView(CustomMapLike mapLike) { this.size = mapLike.size(); this.keyArray = mapLike.getKeyArray(); this.valueArray = mapLike.getValueArray(); } public MapView(int size) { this.size = size; this.keyArray = new Object[size]; this.valueArray = new Object[size]; } @Override public Set&lt;Entry&lt;Object, Object&gt;&gt; entrySet() { return new AbstractSet&lt;Entry&lt;Object, Object&gt;&gt;() { @Override public Iterator&lt;Entry&lt;Object, Object&gt;&gt; iterator() { return new Iterator&lt;Entry&lt;Object, Object&gt;&gt;() { private int index = 0; @Override public boolean hasNext() { return index &lt; size; } @Override public Entry&lt;Object, Object&gt; next() { if (!hasNext()) { throw new NoSuchElementException(); } final int currentIndex = index++; return new SimpleEntry&lt;&gt;( keyArray[currentIndex], valueArray[currentIndex] ); } }; } @Override public int size() { return size; } }; } @Override public Object put(Object key, Object value) { if (writeIndex &gt;= size) { throw new IllegalStateException(&quot;Map is full&quot;); } keyArray[writeIndex] = key; valueArray[writeIndex] = value; writeIndex++; return null; } public Object[] getKeyArray() { return keyArray; } public Object[] getValueArray() { return valueArray; } public int size() { return size; } } class CustomMapLikeSerializer extends MapLikeSerializer&lt;CustomMapLike&gt; { public CustomMapLikeSerializer(Fory fory) { super(fory, CustomMapLike.class, true); } @Override public Map onMapWrite(MemoryBuffer buffer, CustomMapLike value) { buffer.writeVarUint32Small7(value.size()); return new MapView(value); } @Override public Map newMap(MemoryBuffer buffer) { int numElements = buffer.readVarUint32Small7(); setNumElements(numElements); return new MapView(numElements); } @Override public CustomMapLike onMapRead(Map map) { MapView view = (MapView) map; return new CustomMapLike(view.getKeyArray(), view.getValueArray(), view.size()); } @Override public CustomMapLike onMapCopy(Map map) { MapView view = (MapView) map; return new CustomMapLike(view.getKeyArray(), view.getValueArray(), view.size()); } }   ","version":"dev","tagName":"h3"},{"title":"Ê≥®ÂÜåËá™ÂÆö‰πâÂ∫èÂàóÂåñÂô®‚Äã","type":1,"pageTitle":"Ëá™ÂÆö‰πâÂ∫èÂàóÂåñÂô®","url":"/zh-CN/docs/next/guide/java/custom_serializers#Ê≥®ÂÜåËá™ÂÆö‰πâÂ∫èÂàóÂåñÂô®","content":" Fory fory = Fory.builder() .withLanguage(Language.JAVA) .build(); // Ê≥®ÂÜå map Â∫èÂàóÂåñÂô® fory.registerSerializer(CustomMap.class, new CustomMapSerializer&lt;&gt;(fory, CustomMap.class)); // Ê≥®ÂÜåÈõÜÂêàÂ∫èÂàóÂåñÂô® fory.registerSerializer(CustomCollection.class, new CustomCollectionSerializer&lt;&gt;(fory, CustomCollection.class));   ","version":"dev","tagName":"h2"},{"title":"ÂÖ≥ÈîÆÁÇπ‚Äã","type":1,"pageTitle":"Ëá™ÂÆö‰πâÂ∫èÂàóÂåñÂô®","url":"/zh-CN/docs/next/guide/java/custom_serializers#ÂÖ≥ÈîÆÁÇπ","content":" ÂÆûÁé∞Ëá™ÂÆö‰πâ map ÊàñÈõÜÂêàÂ∫èÂàóÂåñÂô®Êó∂Ôºö  ÂßãÁªàÊâ©Â±ïÈÄÇÂΩìÁöÑÂü∫Á±ªÔºàmap ‰ΩøÁî® MapSerializer/MapLikeSerializerÔºåÈõÜÂêà‰ΩøÁî® CollectionSerializer/CollectionLikeSerializerÔºâËÄÉËôë supportCodegenHook ÂØπÊÄßËÉΩÂíåÂäüËÉΩÁöÑÂΩ±ÂìçÂ¶ÇÊûúÈúÄË¶ÅÔºåÈÄÇÂΩìÂ§ÑÁêÜÂºïÁî®Ë∑üË∏™ÂΩì supportCodegenHook ‰∏∫ true Êó∂Ôºå‰ΩøÁî® setNumElements Âíå getAndClearNumElements ÂÆûÁé∞ÈÄÇÂΩìÁöÑÂ§ßÂ∞èÁÆ°ÁêÜ  ","version":"dev","tagName":"h2"},{"title":"Áõ∏ÂÖ≥‰∏ªÈ¢ò‚Äã","type":1,"pageTitle":"Ëá™ÂÆö‰πâÂ∫èÂàóÂåñÂô®","url":"/zh-CN/docs/next/guide/java/custom_serializers#Áõ∏ÂÖ≥‰∏ªÈ¢ò","content":" Á±ªÂûãÊ≥®ÂÜå - Ê≥®ÂÜåÂ∫èÂàóÂåñÂô®Schema ÊºîÂåñ - ÂÖºÂÆπÊ®°ÂºèËÄÉËôëÈÖçÁΩÆÈÄâÈ°π - Â∫èÂàóÂåñÈÄâÈ°π ","version":"dev","tagName":"h2"},{"title":"Fory ÂàõÂª∫","type":0,"sectionRef":"#","url":"/zh-CN/docs/next/guide/kotlin/fory_creation","content":"","keywords":"","version":"dev"},{"title":"Âü∫Êú¨ËÆæÁΩÆ‚Äã","type":1,"pageTitle":"Fory ÂàõÂª∫","url":"/zh-CN/docs/next/guide/kotlin/fory_creation#Âü∫Êú¨ËÆæÁΩÆ","content":" Âú®‰ΩøÁî® Fory ËøõË°å Kotlin Â∫èÂàóÂåñÊó∂ÔºåÈÄöËøá KotlinSerializers.registerSerializers(fory) Ê≥®ÂÜå Kotlin Â∫èÂàóÂåñÂô®Ôºö  import org.apache.fory.Fory import org.apache.fory.serializer.kotlin.KotlinSerializers val fory = Fory.builder() .requireClassRegistration(true) .build() // Ê≥®ÂÜå Kotlin Â∫èÂàóÂåñÂô® KotlinSerializers.registerSerializers(fory)   ","version":"dev","tagName":"h2"},{"title":"Á∫øÁ®ãÂÆâÂÖ®‚Äã","type":1,"pageTitle":"Fory ÂàõÂª∫","url":"/zh-CN/docs/next/guide/kotlin/fory_creation#Á∫øÁ®ãÂÆâÂÖ®","content":" Fory ÂÆû‰æãÁöÑÂàõÂª∫ÊàêÊú¨‰∏ç‰Ωé„ÄÇÂÆû‰æãÂ∫îËØ•Âú®Â§öÊ¨°Â∫èÂàóÂåñ‰πãÈó¥ÂÖ±‰∫´„ÄÇ  ","version":"dev","tagName":"h2"},{"title":"ÂçïÁ∫øÁ®ã‰ΩøÁî®‚Äã","type":1,"pageTitle":"Fory ÂàõÂª∫","url":"/zh-CN/docs/next/guide/kotlin/fory_creation#ÂçïÁ∫øÁ®ã‰ΩøÁî®","content":" import org.apache.fory.Fory import org.apache.fory.serializer.kotlin.KotlinSerializers object ForyHolder { val fory: Fory = Fory.builder() .requireClassRegistration(true) .build().also { KotlinSerializers.registerSerializers(it) } }   ","version":"dev","tagName":"h3"},{"title":"Â§öÁ∫øÁ®ã‰ΩøÁî®‚Äã","type":1,"pageTitle":"Fory ÂàõÂª∫","url":"/zh-CN/docs/next/guide/kotlin/fory_creation#Â§öÁ∫øÁ®ã‰ΩøÁî®","content":" ÂØπ‰∫éÂ§öÁ∫øÁ®ãÂ∫îÁî®Á®ãÂ∫èÔºå‰ΩøÁî® ThreadSafeForyÔºö  import org.apache.fory.Fory import org.apache.fory.ThreadSafeFory import org.apache.fory.ThreadLocalFory import org.apache.fory.serializer.kotlin.KotlinSerializers object ForyHolder { val fory: ThreadSafeFory = ThreadLocalFory { classLoader -&gt; Fory.builder() .withClassLoader(classLoader) .requireClassRegistration(true) .build().also { KotlinSerializers.registerSerializers(it) } } }   ","version":"dev","tagName":"h3"},{"title":"‰ΩøÁî®ÊûÑÂª∫Âô®ÊñπÊ≥ï‚Äã","type":1,"pageTitle":"Fory ÂàõÂª∫","url":"/zh-CN/docs/next/guide/kotlin/fory_creation#‰ΩøÁî®ÊûÑÂª∫Âô®ÊñπÊ≥ï","content":" // Á∫øÁ®ãÂÆâÂÖ®ÁöÑ Fory val fory: ThreadSafeFory = Fory.builder() .requireClassRegistration(true) .buildThreadSafeFory() KotlinSerializers.registerSerializers(fory)   ","version":"dev","tagName":"h3"},{"title":"ÈÖçÁΩÆÈÄâÈ°π‚Äã","type":1,"pageTitle":"Fory ÂàõÂª∫","url":"/zh-CN/docs/next/guide/kotlin/fory_creation#ÈÖçÁΩÆÈÄâÈ°π","content":" Fory Java ÁöÑÊâÄÊúâÈÖçÁΩÆÈÄâÈ°πÈÉΩÂèØÁî®„ÄÇÂÆåÊï¥ÂàóË°®ËØ∑ÂèÇÈòÖ Java ÈÖçÁΩÆÈÄâÈ°π„ÄÇ  Kotlin ÁöÑÂ∏∏Áî®ÈÄâÈ°πÔºö  import org.apache.fory.Fory import org.apache.fory.config.CompatibleMode import org.apache.fory.serializer.kotlin.KotlinSerializers val fory = Fory.builder() // ÂêØÁî®Âæ™ÁéØÂºïÁî®ÁöÑÂºïÁî®Ë∑üË∏™ .withRefTracking(true) // ÂêØÁî® schema ÊºîÂåñÊîØÊåÅ .withCompatibleMode(CompatibleMode.COMPATIBLE) // ÂêØÁî®ÂºÇÊ≠•ÁºñËØë‰ª•Ëé∑ÂæóÊõ¥Â•ΩÁöÑÂêØÂä®ÊÄßËÉΩ .withAsyncCompilation(true) // ÂéãÁº©ÈÄâÈ°π .withIntCompressed(true) .withLongCompressed(true) .build() KotlinSerializers.registerSerializers(fory)  ","version":"dev","tagName":"h2"},{"title":"ÈªòËÆ§ÂÄº","type":0,"sectionRef":"#","url":"/zh-CN/docs/next/guide/kotlin/default_values","content":"","keywords":"","version":"dev"},{"title":"Ê¶ÇËø∞‚Äã","type":1,"pageTitle":"ÈªòËÆ§ÂÄº","url":"/zh-CN/docs/next/guide/kotlin/default_values#Ê¶ÇËø∞","content":" ÂΩì Kotlin Êï∞ÊçÆÁ±ªÂÖ∑ÊúâÂ∏¶ÈªòËÆ§ÂÄºÁöÑÂèÇÊï∞Êó∂ÔºåFory ÂèØ‰ª•Ôºö  Ê£ÄÊµãÈªòËÆ§ÂÄºÔºö‰ΩøÁî® Kotlin ÂèçÂ∞ÑÂ∫îÁî®ÈªòËÆ§ÂÄºÔºöÂΩìÂ∫èÂàóÂåñÊï∞ÊçÆ‰∏≠Áº∫Â∞ëÂ≠óÊÆµÊó∂ÔºåÂú®ÂèçÂ∫èÂàóÂåñÊúüÈó¥Â∫îÁî®ÈªòËÆ§ÂÄºÊîØÊåÅ schema ÊºîÂåñÔºöÂÖÅËÆ∏Ê∑ªÂä†Â∏¶ÈªòËÆ§ÂÄºÁöÑÊñ∞Â≠óÊÆµÔºåËÄå‰∏ç‰ºöÁ†¥ÂùèÁé∞ÊúâÁöÑÂ∫èÂàóÂåñÊï∞ÊçÆ  ","version":"dev","tagName":"h2"},{"title":"Áî®Ê≥ï‚Äã","type":1,"pageTitle":"ÈªòËÆ§ÂÄº","url":"/zh-CN/docs/next/guide/kotlin/default_values#Áî®Ê≥ï","content":" Âú®‰ª•‰∏ãÊÉÖÂÜµ‰∏ãÔºåÊ≠§ÁâπÊÄß‰ºöËá™Âä®ÂêØÁî®Ôºö  ÂêØÁî®‰∫ÜÂÖºÂÆπÊ®°ÂºèÔºàwithCompatibleMode(CompatibleMode.COMPATIBLE)ÔºâÂ∑≤Ê≥®ÂÜå Kotlin Â∫èÂàóÂåñÂô®ÔºàKotlinSerializers.registerSerializers(fory)ÔºâÂ∫èÂàóÂåñÊï∞ÊçÆ‰∏≠Áº∫Â∞ëÊüê‰∏™Â≠óÊÆµÔºå‰ΩÜÁõÆÊ†áÁ±ª‰∏≠ËØ•Â≠óÊÆµÂ≠òÂú®Âπ∂ÂÖ∑ÊúâÈªòËÆ§ÂÄº  ","version":"dev","tagName":"h2"},{"title":"Á§∫‰æã‚Äã","type":1,"pageTitle":"ÈªòËÆ§ÂÄº","url":"/zh-CN/docs/next/guide/kotlin/default_values#Á§∫‰æã","content":" import org.apache.fory.Fory import org.apache.fory.config.CompatibleMode import org.apache.fory.serializer.kotlin.KotlinSerializers // ÂéüÂßãÊï∞ÊçÆÁ±ª data class User(val name: String, val age: Int) // ÊºîÂåñÂêéÁöÑÊï∞ÊçÆÁ±ªÔºåÂ∏¶ÊúâÊñ∞Â≠óÊÆµÂíåÈªòËÆ§ÂÄº data class UserV2(val name: String, val age: Int, val email: String = &quot;default@example.com&quot;) fun main() { val fory = Fory.builder() .withCompatibleMode(CompatibleMode.COMPATIBLE) .build() KotlinSerializers.registerSerializers(fory) fory.register(User::class.java) fory.register(UserV2::class.java) // ‰ΩøÁî®Êóß schema Â∫èÂàóÂåñ val oldUser = User(&quot;John&quot;, 30) val serialized = fory.serialize(oldUser) // ‰ΩøÁî®Êñ∞ schema ÂèçÂ∫èÂàóÂåñ - Áº∫Â§±ÁöÑÂ≠óÊÆµËé∑ÂæóÈªòËÆ§ÂÄº val newUser = fory.deserialize(serialized) as UserV2 println(newUser) // UserV2(name=John, age=30, email=default@example.com) }   ","version":"dev","tagName":"h2"},{"title":"ÊîØÊåÅÁöÑÈªòËÆ§ÂÄºÁ±ªÂûã‚Äã","type":1,"pageTitle":"ÈªòËÆ§ÂÄº","url":"/zh-CN/docs/next/guide/kotlin/default_values#ÊîØÊåÅÁöÑÈªòËÆ§ÂÄºÁ±ªÂûã","content":" ‰ª•‰∏ãÁ±ªÂûãÊîØÊåÅÈªòËÆ§ÂÄºÔºö  ÂéüÂßãÁ±ªÂûãÔºöInt„ÄÅLong„ÄÅDouble„ÄÅFloat„ÄÅBoolean„ÄÅByte„ÄÅShort„ÄÅCharÊó†Á¨¶Âè∑Á±ªÂûãÔºöUInt„ÄÅULong„ÄÅUByte„ÄÅUShortÂ≠óÁ¨¶‰∏≤ÔºöStringÈõÜÂêàÔºöList„ÄÅSet„ÄÅMapÔºàÂ∏¶ÈªòËÆ§ÂÆû‰æãÔºâËá™ÂÆö‰πâÂØπË±°Ôºö‰ªª‰ΩïÂèØ‰ª•ÈÄöËøáÂèçÂ∞ÑÂÆû‰æãÂåñÁöÑÂØπË±°  ","version":"dev","tagName":"h2"},{"title":"Â§çÊùÇÁöÑÈªòËÆ§ÂÄº‚Äã","type":1,"pageTitle":"ÈªòËÆ§ÂÄº","url":"/zh-CN/docs/next/guide/kotlin/default_values#Â§çÊùÇÁöÑÈªòËÆ§ÂÄº","content":" ÈªòËÆ§ÂÄºÂèØ‰ª•ÊòØÂ§çÊùÇÁöÑË°®ËææÂºèÔºö  data class ConfigV1(val name: String) data class ConfigV2( val name: String, val settings: Map&lt;String, String&gt; = mapOf(&quot;default&quot; to &quot;value&quot;), val tags: List&lt;String&gt; = listOf(&quot;default&quot;), val enabled: Boolean = true, val retryCount: Int = 3 ) val fory = Fory.builder() .withCompatibleMode(CompatibleMode.COMPATIBLE) .build() KotlinSerializers.registerSerializers(fory) val original = ConfigV1(&quot;myConfig&quot;) val serialized = fory.serialize(original) val deserialized = fory.deserialize(serialized) as ConfigV2 // deserialized.name == &quot;myConfig&quot; // deserialized.settings == mapOf(&quot;default&quot; to &quot;value&quot;) // deserialized.tags == listOf(&quot;default&quot;) // deserialized.enabled == true // deserialized.retryCount == 3   ","version":"dev","tagName":"h2"},{"title":"ÂèØÁ©∫Â≠óÊÆµ‰∏éÈªòËÆ§ÂÄº‚Äã","type":1,"pageTitle":"ÈªòËÆ§ÂÄº","url":"/zh-CN/docs/next/guide/kotlin/default_values#ÂèØÁ©∫Â≠óÊÆµ‰∏éÈªòËÆ§ÂÄº","content":" ‰πüÊîØÊåÅÂ∏¶ÈªòËÆ§ÂÄºÁöÑÂèØÁ©∫Â≠óÊÆµÔºö  data class PersonV1(val name: String) data class PersonV2( val name: String, val nickname: String? = null, val age: Int? = null ) val original = PersonV1(&quot;John&quot;) val serialized = fory.serialize(original) val deserialized = fory.deserialize(serialized) as PersonV2 // deserialized.name == &quot;John&quot; // deserialized.nickname == null (ÈªòËÆ§ÂÄº) // deserialized.age == null (ÈªòËÆ§ÂÄº)   ","version":"dev","tagName":"h2"},{"title":"Áõ∏ÂÖ≥‰∏ªÈ¢ò‚Äã","type":1,"pageTitle":"ÈªòËÆ§ÂÄº","url":"/zh-CN/docs/next/guide/kotlin/default_values#Áõ∏ÂÖ≥‰∏ªÈ¢ò","content":" Schema ÊºîÂåñ - Java ‰∏≠ÁöÑÂâçÂêë/ÂêéÂêëÂÖºÂÆπÊÄßFory ÂàõÂª∫ - ‰ΩøÁî®ÂÖºÂÆπÊ®°ÂºèËÆæÁΩÆ Fory ","version":"dev","tagName":"h2"},{"title":"Á±ªÂûãÂ∫èÂàóÂåñ","type":0,"sectionRef":"#","url":"/zh-CN/docs/next/guide/kotlin/type_serialization","content":"","keywords":"","version":"dev"},{"title":"ËÆæÁΩÆ‚Äã","type":1,"pageTitle":"Á±ªÂûãÂ∫èÂàóÂåñ","url":"/zh-CN/docs/next/guide/kotlin/type_serialization#ËÆæÁΩÆ","content":" ÊâÄÊúâÁ§∫‰æãÈÉΩÂÅáÂÆö‰ª•‰∏ãËÆæÁΩÆÔºö  import org.apache.fory.Fory import org.apache.fory.serializer.kotlin.KotlinSerializers val fory = Fory.builder() .requireClassRegistration(false) .build() KotlinSerializers.registerSerializers(fory)   ","version":"dev","tagName":"h2"},{"title":"Êï∞ÊçÆÁ±ª‚Äã","type":1,"pageTitle":"Á±ªÂûãÂ∫èÂàóÂåñ","url":"/zh-CN/docs/next/guide/kotlin/type_serialization#Êï∞ÊçÆÁ±ª","content":" data class Person(val name: String, val age: Int, val id: Long) fory.register(Person::class.java) val p = Person(&quot;John&quot;, 30, 1L) println(fory.deserialize(fory.serialize(p)))   ","version":"dev","tagName":"h2"},{"title":"Êó†Á¨¶Âè∑ÂéüÂßãÁ±ªÂûã‚Äã","type":1,"pageTitle":"Á±ªÂûãÂ∫èÂàóÂåñ","url":"/zh-CN/docs/next/guide/kotlin/type_serialization#Êó†Á¨¶Âè∑ÂéüÂßãÁ±ªÂûã","content":" ÂÆåÂÖ®ÊîØÊåÅ Kotlin Êó†Á¨¶Âè∑Á±ªÂûãÔºö  val uByte: UByte = 255u val uShort: UShort = 65535u val uInt: UInt = 4294967295u val uLong: ULong = 18446744073709551615u println(fory.deserialize(fory.serialize(uByte))) println(fory.deserialize(fory.serialize(uShort))) println(fory.deserialize(fory.serialize(uInt))) println(fory.deserialize(fory.serialize(uLong)))   ","version":"dev","tagName":"h2"},{"title":"Êó†Á¨¶Âè∑Êï∞ÁªÑ‚Äã","type":1,"pageTitle":"Á±ªÂûãÂ∫èÂàóÂåñ","url":"/zh-CN/docs/next/guide/kotlin/type_serialization#Êó†Á¨¶Âè∑Êï∞ÁªÑ","content":" val uByteArray = ubyteArrayOf(1u, 2u, 255u) val uShortArray = ushortArrayOf(1u, 2u, 65535u) val uIntArray = uintArrayOf(1u, 2u, 4294967295u) val uLongArray = ulongArrayOf(1u, 2u, 18446744073709551615u) println(fory.deserialize(fory.serialize(uByteArray)).contentToString()) println(fory.deserialize(fory.serialize(uShortArray)).contentToString()) println(fory.deserialize(fory.serialize(uIntArray)).contentToString()) println(fory.deserialize(fory.serialize(uLongArray)).contentToString())   ","version":"dev","tagName":"h2"},{"title":"Ê†áÂáÜÂ∫ìÁ±ªÂûã‚Äã","type":1,"pageTitle":"Á±ªÂûãÂ∫èÂàóÂåñ","url":"/zh-CN/docs/next/guide/kotlin/type_serialization#Ê†áÂáÜÂ∫ìÁ±ªÂûã","content":" ","version":"dev","tagName":"h2"},{"title":"Pair Âíå Triple‚Äã","type":1,"pageTitle":"Á±ªÂûãÂ∫èÂàóÂåñ","url":"/zh-CN/docs/next/guide/kotlin/type_serialization#pair-Âíå-triple","content":" val pair = Pair(&quot;key&quot;, 42) val triple = Triple(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;) println(fory.deserialize(fory.serialize(pair))) println(fory.deserialize(fory.serialize(triple)))   ","version":"dev","tagName":"h3"},{"title":"Result‚Äã","type":1,"pageTitle":"Á±ªÂûãÂ∫èÂàóÂåñ","url":"/zh-CN/docs/next/guide/kotlin/type_serialization#result","content":" val success: Result&lt;Int&gt; = Result.success(42) val failure: Result&lt;Int&gt; = Result.failure(Exception(&quot;error&quot;)) println(fory.deserialize(fory.serialize(success))) println(fory.deserialize(fory.serialize(failure)))   ","version":"dev","tagName":"h3"},{"title":"ËåÉÂõ¥ÂíåÁ≠âÂ∑ÆÊï∞Âàó‚Äã","type":1,"pageTitle":"Á±ªÂûãÂ∫èÂàóÂåñ","url":"/zh-CN/docs/next/guide/kotlin/type_serialization#ËåÉÂõ¥ÂíåÁ≠âÂ∑ÆÊï∞Âàó","content":" val intRange = 1..10 val longRange = 1L..100L val charRange = 'a'..'z' println(fory.deserialize(fory.serialize(intRange))) println(fory.deserialize(fory.serialize(longRange))) println(fory.deserialize(fory.serialize(charRange))) // Á≠âÂ∑ÆÊï∞Âàó val intProgression = 1..10 step 2 val longProgression = 1L..100L step 10 println(fory.deserialize(fory.serialize(intProgression))) println(fory.deserialize(fory.serialize(longProgression)))   ","version":"dev","tagName":"h2"},{"title":"ÈõÜÂêà‚Äã","type":1,"pageTitle":"Á±ªÂûãÂ∫èÂàóÂåñ","url":"/zh-CN/docs/next/guide/kotlin/type_serialization#ÈõÜÂêà","content":" ","version":"dev","tagName":"h2"},{"title":"ArrayDeque‚Äã","type":1,"pageTitle":"Á±ªÂûãÂ∫èÂàóÂåñ","url":"/zh-CN/docs/next/guide/kotlin/type_serialization#arraydeque","content":" val deque = ArrayDeque&lt;String&gt;() deque.addFirst(&quot;first&quot;) deque.addLast(&quot;last&quot;) println(fory.deserialize(fory.serialize(deque)))   ","version":"dev","tagName":"h3"},{"title":"Á©∫ÈõÜÂêà‚Äã","type":1,"pageTitle":"Á±ªÂûãÂ∫èÂàóÂåñ","url":"/zh-CN/docs/next/guide/kotlin/type_serialization#Á©∫ÈõÜÂêà","content":" val emptyList = emptyList&lt;String&gt;() val emptySet = emptySet&lt;Int&gt;() val emptyMap = emptyMap&lt;String, Int&gt;() println(fory.deserialize(fory.serialize(emptyList))) println(fory.deserialize(fory.serialize(emptySet))) println(fory.deserialize(fory.serialize(emptyMap)))   ","version":"dev","tagName":"h3"},{"title":"Duration‚Äã","type":1,"pageTitle":"Á±ªÂûãÂ∫èÂàóÂåñ","url":"/zh-CN/docs/next/guide/kotlin/type_serialization#duration","content":" import kotlin.time.Duration import kotlin.time.Duration.Companion.hours import kotlin.time.Duration.Companion.minutes val duration: Duration = 2.hours + 30.minutes println(fory.deserialize(fory.serialize(duration)))   ","version":"dev","tagName":"h2"},{"title":"Regex‚Äã","type":1,"pageTitle":"Á±ªÂûãÂ∫èÂàóÂåñ","url":"/zh-CN/docs/next/guide/kotlin/type_serialization#regex","content":" val regex = Regex(&quot;[a-zA-Z]+&quot;) println(fory.deserialize(fory.serialize(regex)))   ","version":"dev","tagName":"h2"},{"title":"UUIDÔºàKotlin 2.0+Ôºâ‚Äã","type":1,"pageTitle":"Á±ªÂûãÂ∫èÂàóÂåñ","url":"/zh-CN/docs/next/guide/kotlin/type_serialization#uuidkotlin-20","content":" import kotlin.uuid.Uuid val uuid = Uuid.random() println(fory.deserialize(fory.serialize(uuid)))   ","version":"dev","tagName":"h2"},{"title":"ÂºÄÁÆ±Âç≥Áî®ÁöÑÁ±ªÂûã‚Äã","type":1,"pageTitle":"Á±ªÂûãÂ∫èÂàóÂåñ","url":"/zh-CN/docs/next/guide/kotlin/type_serialization#ÂºÄÁÆ±Âç≥Áî®ÁöÑÁ±ªÂûã","content":" ‰ª•‰∏ãÁ±ªÂûãÂèØ‰ª•‰ΩøÁî®ÈªòËÆ§ÁöÑ Fory Java ÂÆûÁé∞ÔºåÊó†ÈúÄ‰ΩøÁî® KotlinSerializersÔºö  ÂéüÂßãÁ±ªÂûãÔºöByte„ÄÅBoolean„ÄÅInt„ÄÅShort„ÄÅLong„ÄÅChar„ÄÅFloat„ÄÅDoubleÂ≠óÁ¨¶‰∏≤ÔºöStringÈõÜÂêàÔºöArrayList„ÄÅHashMap„ÄÅHashSet„ÄÅLinkedHashSet„ÄÅLinkedHashMapÊï∞ÁªÑÔºöArray„ÄÅBooleanArray„ÄÅByteArray„ÄÅCharArray„ÄÅDoubleArray„ÄÅFloatArray„ÄÅIntArray„ÄÅLongArray„ÄÅShortArray  ‰ΩÜÊòØÔºåÂª∫ËÆÆÂßãÁªàË∞ÉÁî® KotlinSerializers.registerSerializers(fory) ‰ª•Á°Æ‰øùÊ≠£Á°ÆÊîØÊåÅÊâÄÊúâ Kotlin Á±ªÂûã„ÄÇ ","version":"dev","tagName":"h2"},{"title":"Python Â∫èÂàóÂåñÊåáÂçó","type":0,"sectionRef":"#","url":"/zh-CN/docs/next/guide/python/","content":"","keywords":"","version":"dev"},{"title":"Ê†∏ÂøÉÁâπÊÄß‚Äã","type":1,"pageTitle":"Python Â∫èÂàóÂåñÊåáÂçó","url":"/zh-CN/docs/next/guide/python/#Ê†∏ÂøÉÁâπÊÄß","content":" ","version":"dev","tagName":"h2"},{"title":"ÁÅµÊ¥ªÁöÑÂ∫èÂàóÂåñÊ®°Âºè‚Äã","type":1,"pageTitle":"Python Â∫èÂàóÂåñÊåáÂçó","url":"/zh-CN/docs/next/guide/python/#ÁÅµÊ¥ªÁöÑÂ∫èÂàóÂåñÊ®°Âºè","content":" Python ÂéüÁîüÊ®°ÂºèÔºöÂÆåÂÖ® Python ÂÖºÂÆπÔºåÂèØÊõø‰ª£ pickle/cloudpickleË∑®ËØ≠Ë®ÄÊ®°ÂºèÔºöÈíàÂØπÂ§öËØ≠Ë®ÄÊï∞ÊçÆ‰∫§Êç¢‰ºòÂåñË°åÊ†ºÂºèÔºöÁî®‰∫éÂàÜÊûêÂ∑•‰ΩúË¥üËΩΩÁöÑÈõ∂Êã∑Ë¥ùË°åÊ†ºÂºè  ","version":"dev","tagName":"h3"},{"title":"Â§öÂäüËÉΩÂ∫èÂàóÂåñÁâπÊÄß‚Äã","type":1,"pageTitle":"Python Â∫èÂàóÂåñÊåáÂçó","url":"/zh-CN/docs/next/guide/python/#Â§öÂäüËÉΩÂ∫èÂàóÂåñÁâπÊÄß","content":" ÂÖ±‰∫´/Âæ™ÁéØÂºïÁî®ÊîØÊåÅÔºöÂú® Python ÂéüÁîüÂíåË∑®ËØ≠Ë®ÄÊ®°Âºè‰∏≠ÊîØÊåÅÂ§çÊùÇÂØπË±°ÂõæÂ§öÊÄÅÊîØÊåÅÔºöËá™ÂÆö‰πâÁ±ªÂûãÁöÑËá™Âä®Á±ªÂûãÂàÜÂèëSchema ÊºîÂåñÊîØÊåÅÔºöÂú®Ë∑®ËØ≠Ë®ÄÊ®°Âºè‰∏ã‰ΩøÁî® dataclass Êó∂ÁöÑÂêëÂêé/ÂêëÂâçÂÖºÂÆπÊÄßÂ∏¶Â§ñÁºìÂÜ≤Âå∫ÊîØÊåÅÔºöÈõ∂Êã∑Ë¥ùÂ∫èÂàóÂåñÂ§ßÂûãÊï∞ÊçÆÁªìÊûÑÔºàÂ¶Ç NumPy Êï∞ÁªÑÂíå Pandas DataFrameÔºâÔºåÂÖºÂÆπ pickle ÂçèËÆÆ 5  ","version":"dev","tagName":"h3"},{"title":"ÊûÅÈÄüÊÄßËÉΩ‚Äã","type":1,"pageTitle":"Python Â∫èÂàóÂåñÊåáÂçó","url":"/zh-CN/docs/next/guide/python/#ÊûÅÈÄüÊÄßËÉΩ","content":" Ë∂ÖÂø´ÊÄßËÉΩÔºöÁõ∏ÊØîÂÖ∂‰ªñÂ∫èÂàóÂåñÊ°ÜÊû∂ËøêË°åÊó∂‰ª£Á†ÅÁîüÊàêÂíå Cython Âä†ÈÄüÁöÑÊ†∏ÂøÉÂÆûÁé∞ÔºåÂÆûÁé∞ÊúÄ‰ºòÊÄßËÉΩ  ","version":"dev","tagName":"h3"},{"title":"Á¥ßÂáëÊï∞ÊçÆÂ§ßÂ∞è‚Äã","type":1,"pageTitle":"Python Â∫èÂàóÂåñÊåáÂçó","url":"/zh-CN/docs/next/guide/python/#Á¥ßÂáëÊï∞ÊçÆÂ§ßÂ∞è","content":" Á¥ßÂáëÁöÑÂØπË±°ÂõæÂçèËÆÆÔºöÊúÄÂ∞èÁ©∫Èó¥ÂºÄÈîÄ‚Äî‚ÄîÁõ∏ÊØî pickle/cloudpickle ÂáèÂ∞ëÈ´òËææ 3 ÂÄçÂ§ßÂ∞èÂÖÉÊï∞ÊçÆÊâìÂåÖ‰∏éÂÖ±‰∫´ÔºöÊúÄÂ∞èÂåñÁ±ªÂûãÂêëÂâç/ÂêëÂêéÂÖºÂÆπÊÄßÁöÑÁ©∫Èó¥ÂºÄÈîÄ  ","version":"dev","tagName":"h3"},{"title":"ÂÆâÂÖ®ÊÄß‰∏éÂÆâÂÖ®‚Äã","type":1,"pageTitle":"Python Â∫èÂàóÂåñÊåáÂçó","url":"/zh-CN/docs/next/guide/python/#ÂÆâÂÖ®ÊÄß‰∏éÂÆâÂÖ®","content":" ‰∏•Ê†ºÊ®°ÂºèÔºöÈÄöËøáÁ±ªÂûãÊ≥®ÂÜåÂíåÊ£ÄÊü•Èò≤Ê≠¢ÂèçÂ∫èÂàóÂåñ‰∏çÂèó‰ø°‰ªªÁöÑÁ±ªÂûãÂºïÁî®Ë∑üË∏™ÔºöÂÆâÂÖ®Â§ÑÁêÜÂæ™ÁéØÂºïÁî®  ","version":"dev","tagName":"h3"},{"title":"ÂÆâË£Ö‚Äã","type":1,"pageTitle":"Python Â∫èÂàóÂåñÊåáÂçó","url":"/zh-CN/docs/next/guide/python/#ÂÆâË£Ö","content":" ","version":"dev","tagName":"h2"},{"title":"Âü∫Á°ÄÂÆâË£Ö‚Äã","type":1,"pageTitle":"Python Â∫èÂàóÂåñÊåáÂçó","url":"/zh-CN/docs/next/guide/python/#Âü∫Á°ÄÂÆâË£Ö","content":" pip install pyfory   ","version":"dev","tagName":"h3"},{"title":"ÂèØÈÄâ‰æùËµñ‚Äã","type":1,"pageTitle":"Python Â∫èÂàóÂåñÊåáÂçó","url":"/zh-CN/docs/next/guide/python/#ÂèØÈÄâ‰æùËµñ","content":" # ÂÆâË£ÖË°åÊ†ºÂºèÊîØÊåÅÔºàÈúÄË¶Å Apache ArrowÔºâ pip install pyfory[format] # ‰ªéÊ∫êÁ†ÅÂÆâË£ÖÁî®‰∫éÂºÄÂèë git clone https://github.com/apache/fory.git cd fory/python pip install -e &quot;.[dev,format]&quot;   ","version":"dev","tagName":"h3"},{"title":"Á≥ªÁªüË¶ÅÊ±Ç‚Äã","type":1,"pageTitle":"Python Â∫èÂàóÂåñÊåáÂçó","url":"/zh-CN/docs/next/guide/python/#Á≥ªÁªüË¶ÅÊ±Ç","content":" PythonÔºö3.8 ÊàñÊõ¥È´òÁâàÊú¨Êìç‰ΩúÁ≥ªÁªüÔºöLinux„ÄÅmacOS„ÄÅWindows  ","version":"dev","tagName":"h3"},{"title":"Á∫øÁ®ãÂÆâÂÖ®‚Äã","type":1,"pageTitle":"Python Â∫èÂàóÂåñÊåáÂçó","url":"/zh-CN/docs/next/guide/python/#Á∫øÁ®ãÂÆâÂÖ®","content":" pyfory Êèê‰æõ ThreadSafeFory Áî®‰∫éÁ∫øÁ®ãÂÆâÂÖ®Â∫èÂàóÂåñÔºå‰ΩøÁî®Á∫øÁ®ãÊú¨Âú∞Â≠òÂÇ®Ôºö  import pyfory import threading from dataclasses import dataclass @dataclass class Person: name: str age: int # ÂàõÂª∫Á∫øÁ®ãÂÆâÂÖ®ÁöÑ Fory ÂÆû‰æã fory = pyfory.ThreadSafeFory(xlang=False, ref=True) fory.register(Person) # Âú®Â§öÁ∫øÁ®ã‰∏≠ÂÆâÂÖ®‰ΩøÁî® def serialize_in_thread(thread_id): person = Person(name=f&quot;User{thread_id}&quot;, age=25 + thread_id) data = fory.serialize(person) result = fory.deserialize(data) print(f&quot;Thread {thread_id}: {result}&quot;) threads = [threading.Thread(target=serialize_in_thread, args=(i,)) for i in range(10)] for t in threads: t.start() for t in threads: t.join()   Ê†∏ÂøÉÁâπÊÄßÔºö  ÂÆû‰æãÊ±†ÔºöÁª¥Êä§‰∏Ä‰∏™ÂèóÈîÅ‰øùÊä§ÁöÑ Fory ÂÆû‰æãÊ±†ÔºåÁ°Æ‰øùÁ∫øÁ®ãÂÆâÂÖ®ÂÖ±‰∫´ÈÖçÁΩÆÔºöÊâÄÊúâÊ≥®ÂÜåÂøÖÈ°ªÈ¢ÑÂÖàÂÆåÊàêÔºåÂπ∂Â∫îÁî®‰∫éÊâÄÊúâÂÆû‰æãÁõ∏Âêå APIÔºö‰∏é Fory Á±ªÁõ∏ÂêåÁöÑÊñπÊ≥ïÔºåÂèØÁõ¥Êé•ÊõøÊç¢Ê≥®ÂÜåÂÆâÂÖ®ÔºöÈò≤Ê≠¢È¶ñÊ¨°‰ΩøÁî®ÂêéÊ≥®ÂÜåÔºåÁ°Æ‰øù‰∏ÄËá¥ÊÄß  ÈÄÇÁî®Âú∫ÊôØÔºö  Â§öÁ∫øÁ®ãÂ∫îÁî®Á®ãÂ∫èÔºöWeb ÊúçÂä°Âô®„ÄÅÂπ∂ÂèëÂ∑•‰ΩúÁ∫øÁ®ã„ÄÅÂπ∂Ë°åÂ§ÑÁêÜÂÖ±‰∫´ Fory ÂÆû‰æãÔºöÂΩìÂ§ö‰∏™Á∫øÁ®ãÈúÄË¶ÅÂ∫èÂàóÂåñ/ÂèçÂ∫èÂàóÂåñÊï∞ÊçÆÊó∂Á∫øÁ®ãÊ±†Ôºö‰ΩøÁî®Á∫øÁ®ãÊ±†Êàñ concurrent.futures ÁöÑÂ∫îÁî®Á®ãÂ∫è  ","version":"dev","tagName":"h2"},{"title":"Âø´ÈÄüÂºÄÂßã‚Äã","type":1,"pageTitle":"Python Â∫èÂàóÂåñÊåáÂçó","url":"/zh-CN/docs/next/guide/python/#Âø´ÈÄüÂºÄÂßã","content":" import pyfory from dataclasses import dataclass @dataclass class Person: name: str age: int # ÂàõÂª∫ Fory ÂÆû‰æã fory = pyfory.Fory(xlang=False, ref=True) fory.register(Person) person = Person(&quot;Alice&quot;, 30) data = fory.serialize(person) result = fory.deserialize(data) print(result) # Person(name='Alice', age=30)   ","version":"dev","tagName":"h2"},{"title":"ÂêéÁª≠Ê≠•È™§‚Äã","type":1,"pageTitle":"Python Â∫èÂàóÂåñÊåáÂçó","url":"/zh-CN/docs/next/guide/python/#ÂêéÁª≠Ê≠•È™§","content":" ÈÖçÁΩÆ - Fory ÂèÇÊï∞ÂíåÊ®°ÂºèÂü∫Á°ÄÂ∫èÂàóÂåñ - Âü∫Á°Ä‰ΩøÁî®Ê®°ÂºèPython ÂéüÁîüÊ®°Âºè - ÂáΩÊï∞„ÄÅlambda„ÄÅÁ±ªË∑®ËØ≠Ë®Ä - XLANG Ê®°ÂºèË°åÊ†ºÂºè - Èõ∂Êã∑Ë¥ùË°åÊ†ºÂºèÂÆâÂÖ®ÊÄß - ÂÆâÂÖ®ÊúÄ‰Ω≥ÂÆûË∑µ  ","version":"dev","tagName":"h2"},{"title":"ÈìæÊé•‚Äã","type":1,"pageTitle":"Python Â∫èÂàóÂåñÊåáÂçó","url":"/zh-CN/docs/next/guide/python/#ÈìæÊé•","content":" ÊñáÊ°£Ôºöhttps://fory.apache.org/docs/latest/python_guide/GitHubÔºöhttps://github.com/apache/foryPyPIÔºöhttps://pypi.org/project/pyfory/ÈóÆÈ¢òÂèçÈ¶àÔºöhttps://github.com/apache/fory/issuesSlackÔºöhttps://join.slack.com/t/fory-project/shared_invite/zt-36g0qouzm-kcQSvV_dtfbtBKHRwT5gsw ","version":"dev","tagName":"h2"},{"title":"ÈÖçÁΩÆ","type":0,"sectionRef":"#","url":"/zh-CN/docs/next/guide/python/configuration","content":"","keywords":"","version":"dev"},{"title":"Fory Á±ª‚Äã","type":1,"pageTitle":"ÈÖçÁΩÆ","url":"/zh-CN/docs/next/guide/python/configuration#fory-Á±ª","content":" ‰∏ªË¶ÅÂ∫èÂàóÂåñÊé•Âè£Ôºö  class Fory: def __init__( self, xlang: bool = False, ref: bool = False, strict: bool = True, compatible: bool = False, max_depth: int = 50 )   ","version":"dev","tagName":"h2"},{"title":"ThreadSafeFory Á±ª‚Äã","type":1,"pageTitle":"ÈÖçÁΩÆ","url":"/zh-CN/docs/next/guide/python/configuration#threadsafefory-Á±ª","content":" ‰ΩøÁî®Á∫øÁ®ãÊú¨Âú∞Â≠òÂÇ®ÁöÑÁ∫øÁ®ãÂÆâÂÖ®Â∫èÂàóÂåñÊé•Âè£Ôºö  class ThreadSafeFory: def __init__( self, xlang: bool = False, ref: bool = False, strict: bool = True, compatible: bool = False, max_depth: int = 50 )   ","version":"dev","tagName":"h2"},{"title":"ÂèÇÊï∞‚Äã","type":1,"pageTitle":"ÈÖçÁΩÆ","url":"/zh-CN/docs/next/guide/python/configuration#ÂèÇÊï∞","content":" ÂèÇÊï∞\tÁ±ªÂûã\tÈªòËÆ§ÂÄº\tÊèèËø∞xlang\tbool\tFalse\tÂêØÁî®Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ„ÄÇÂΩì‰∏∫ False Êó∂ÔºåÂêØÁî® Python ÂéüÁîüÊ®°ÂºèÔºåÊîØÊåÅÊâÄÊúâ Python ÂØπË±°„ÄÇÂΩì‰∏∫ True Êó∂ÔºåÂêØÁî®Ë∑®ËØ≠Ë®ÄÊ®°ÂºèÔºåÂÖºÂÆπ Java„ÄÅGo„ÄÅRust Á≠â„ÄÇ ref\tbool\tFalse\tÂêØÁî®ÂºïÁî®Ë∑üË∏™‰ª•ÊîØÊåÅÂÖ±‰∫´/Âæ™ÁéØÂºïÁî®„ÄÇÂ¶ÇÊûúÊï∞ÊçÆÊ≤°ÊúâÂÖ±‰∫´ÂºïÁî®ÔºåÁ¶ÅÁî®Ê≠§ÈÄâÈ°πÂèØËé∑ÂæóÊõ¥Â•ΩÊÄßËÉΩ„ÄÇ strict\tbool\tTrue\tÂá∫‰∫éÂÆâÂÖ®ËÄÉËôëÈúÄË¶ÅÁ±ªÂûãÊ≥®ÂÜå„ÄÇÁîü‰∫ßÁéØÂ¢ÉÂº∫ÁÉàÊé®Ëçê„ÄÇ‰ªÖÂú®Âèó‰ø°‰ªªÁöÑÁéØÂ¢É‰∏≠Á¶ÅÁî®„ÄÇ compatible\tbool\tFalse\tÂú®Ë∑®ËØ≠Ë®ÄÊ®°Âºè‰∏≠ÂêØÁî® schema ÊºîÂåñÔºåÂÖÅËÆ∏Âú®‰øùÊåÅÂÖºÂÆπÊÄßÁöÑÂêåÊó∂Ê∑ªÂä†/Âà†Èô§Â≠óÊÆµ„ÄÇ max_depth\tint\t50\tÂèçÂ∫èÂàóÂåñÁöÑÊúÄÂ§ßÊ∑±Â∫¶ÔºåÁî®‰∫éÂÆâÂÖ®Èò≤Êä§ÔºåÈò≤Ê≠¢Ê†àÊ∫¢Âá∫ÊîªÂáª„ÄÇ  ","version":"dev","tagName":"h2"},{"title":"Ê†∏ÂøÉÊñπÊ≥ï‚Äã","type":1,"pageTitle":"ÈÖçÁΩÆ","url":"/zh-CN/docs/next/guide/python/configuration#Ê†∏ÂøÉÊñπÊ≥ï","content":" # Â∫èÂàóÂåñÔºàserialize/deserialize ‰∏é dumps/loads ÂÆåÂÖ®Áõ∏ÂêåÔºâ data: bytes = fory.serialize(obj) obj = fory.deserialize(data) # Êõø‰ª£ APIÔºàÂà´ÂêçÔºâ data: bytes = fory.dumps(obj) obj = fory.loads(data) # Êåâ ID Ê≥®ÂÜåÁ±ªÂûãÔºàÁî®‰∫é Python Ê®°ÂºèÔºâ fory.register(MyClass, type_id=123) fory.register(MyClass, type_id=123, serializer=custom_serializer) # ÊåâÂêçÁß∞Ê≥®ÂÜåÁ±ªÂûãÔºàÁî®‰∫éË∑®ËØ≠Ë®ÄÊ®°ÂºèÔºâ fory.register(MyClass, typename=&quot;my.package.MyClass&quot;) fory.register(MyClass, typename=&quot;my.package.MyClass&quot;, serializer=custom_serializer)   ","version":"dev","tagName":"h2"},{"title":"ËØ≠Ë®ÄÊ®°ÂºèÊØîËæÉ‚Äã","type":1,"pageTitle":"ÈÖçÁΩÆ","url":"/zh-CN/docs/next/guide/python/configuration#ËØ≠Ë®ÄÊ®°ÂºèÊØîËæÉ","content":" ÁâπÊÄß\tPython Ê®°Âºè (xlang=False)\tË∑®ËØ≠Ë®ÄÊ®°Âºè (xlang=True)‰ΩøÁî®Âú∫ÊôØ\tÁ∫Ø Python Â∫îÁî®\tÂ§öËØ≠Ë®ÄÁ≥ªÁªü ÂÖºÂÆπÊÄß\t‰ªÖÈôê Python\tJava„ÄÅGo„ÄÅRust„ÄÅC++„ÄÅJavaScript Á≠â ÊîØÊåÅÁöÑÁ±ªÂûã\tÊâÄÊúâ Python Á±ªÂûã\t‰ªÖÈôêË∑®ËØ≠Ë®ÄÂÖºÂÆπÁ±ªÂûã ÂáΩÊï∞/Lambda\t‚úì ÊîØÊåÅ\t‚úó ‰∏çÂÖÅËÆ∏ Êú¨Âú∞Á±ª\t‚úì ÊîØÊåÅ\t‚úó ‰∏çÂÖÅËÆ∏ Âä®ÊÄÅÁ±ª\t‚úì ÊîØÊåÅ\t‚úó ‰∏çÂÖÅËÆ∏ Schema ÊºîÂåñ\t‚úì ÊîØÊåÅÔºàÈúÄË¶Å compatible=TrueÔºâ\t‚úì ÊîØÊåÅÔºàÈúÄË¶Å compatible=TrueÔºâ ÊÄßËÉΩ\tÊûÅÂø´\tÈùûÂ∏∏Âø´ Êï∞ÊçÆÂ§ßÂ∞è\tÁ¥ßÂáë\tÁ¥ßÂáëÔºàÂ∏¶Á±ªÂûãÂÖÉÊï∞ÊçÆÔºâ  ","version":"dev","tagName":"h2"},{"title":"Python Ê®°Âºè (xlang=False)‚Äã","type":1,"pageTitle":"ÈÖçÁΩÆ","url":"/zh-CN/docs/next/guide/python/configuration#python-Ê®°ÔøΩÔøΩÂºè-xlangfalse","content":" Python Ê®°ÂºèÊîØÊåÅÊâÄÊúâ Python Á±ªÂûãÔºåÂåÖÊã¨ÂáΩÊï∞„ÄÅÁ±ªÂíåÈó≠ÂåÖÔºö  import pyfory # ÂÆåÂÖ® Python ÂÖºÂÆπÊ®°Âºè fory = pyfory.Fory(xlang=False, ref=True, strict=False) # ÊîØÊåÅÊâÄÊúâ Python ÂØπË±°Ôºö data = fory.dumps({ 'function': lambda x: x * 2, # ÂáΩÊï∞Âíå lambda 'class': type('Dynamic', (), {}), # Âä®ÊÄÅÁ±ª 'method': str.upper, # ÊñπÊ≥ï 'nested': {'circular_ref': None} # Âæ™ÁéØÂºïÁî®ÔºàÂΩì ref=True Êó∂Ôºâ }) # ÂèØÁõ¥Êé•Êõø‰ª£ pickle/cloudpickle import pickle obj = [1, 2, {&quot;nested&quot;: [3, 4]}] assert fory.loads(fory.dumps(obj)) == pickle.loads(pickle.dumps(obj))   ","version":"dev","tagName":"h2"},{"title":"Ë∑®ËØ≠Ë®ÄÊ®°Âºè (xlang=True)‚Äã","type":1,"pageTitle":"ÈÖçÁΩÆ","url":"/zh-CN/docs/next/guide/python/configuration#Ë∑®ËØ≠Ë®ÄÊ®°Âºè-xlangtrue","content":" Ë∑®ËØ≠Ë®ÄÊ®°ÂºèÂ∞ÜÁ±ªÂûãÈôêÂà∂‰∏∫ÊâÄÊúâ Fory ÂÆûÁé∞Èó¥ÂÖºÂÆπÁöÑÁ±ªÂûãÔºö  import pyfory # Ë∑®ËØ≠Ë®ÄÂÖºÂÆπÊ®°Âºè f = pyfory.Fory(xlang=True, ref=True) # ‰ªÖÊîØÊåÅË∑®ËØ≠Ë®ÄÂÖºÂÆπÁ±ªÂûã f.register(MyDataClass, typename=&quot;com.example.MyDataClass&quot;) # Êï∞ÊçÆÂèØ‰ª•Ë¢´ Java„ÄÅGo„ÄÅRust Á≠âËØªÂèñ data = f.serialize(MyDataClass(field1=&quot;value&quot;, field2=42))   ","version":"dev","tagName":"h2"},{"title":"Á§∫‰æãÈÖçÁΩÆ‚Äã","type":1,"pageTitle":"ÈÖçÁΩÆ","url":"/zh-CN/docs/next/guide/python/configuration#Á§∫‰æãÈÖçÁΩÆ","content":" ","version":"dev","tagName":"h2"},{"title":"Áîü‰∫ßÁéØÂ¢ÉÈÖçÁΩÆ‚Äã","type":1,"pageTitle":"ÈÖçÁΩÆ","url":"/zh-CN/docs/next/guide/python/configuration#Áîü‰∫ßÁéØÂ¢ÉÈÖçÁΩÆ","content":" import pyfory # Áîü‰∫ßÁéØÂ¢ÉÊé®ËçêËÆæÁΩÆ fory = pyfory.Fory( xlang=False, # Â¶ÇÊûúÈúÄË¶ÅË∑®ËØ≠Ë®ÄÊîØÊåÅÂàô‰ΩøÁî® True ref=False, # Â¶ÇÊûúÊúâÂÖ±‰∫´/Âæ™ÁéØÂºïÁî®ÂàôÂêØÁî® strict=True, # ÂÖ≥ÈîÆÔºöÁîü‰∫ßÁéØÂ¢ÉÂßãÁªà‰∏∫ True compatible=False, # ‰ªÖÂú®ÈúÄË¶Å schema ÊºîÂåñÊó∂ÂêØÁî® max_depth=20 # Ê†πÊçÆÊï∞ÊçÆÁªìÊûÑÊ∑±Â∫¶Ë∞ÉÊï¥ ) # È¢ÑÂÖàÊ≥®ÂÜåÊâÄÊúâÁ±ªÂûã fory.register(UserModel, type_id=100) fory.register(OrderModel, type_id=101) fory.register(ProductModel, type_id=102)   ","version":"dev","tagName":"h3"},{"title":"ÂºÄÂèëÁéØÂ¢ÉÈÖçÁΩÆ‚Äã","type":1,"pageTitle":"ÈÖçÁΩÆ","url":"/zh-CN/docs/next/guide/python/configuration#ÂºÄÂèëÁéØÂ¢ÉÈÖçÁΩÆ","content":" import pyfory # ÂºÄÂèëËÆæÁΩÆÔºàÊõ¥ÂÆΩÊùæÔºâ fory = pyfory.Fory( xlang=False, ref=True, strict=False, # ÂºÄÂèëÊó∂ÂÖÅËÆ∏‰ªª‰ΩïÁ±ªÂûã max_depth=1000 # ÂºÄÂèëÊó∂Êõ¥È´òÁöÑÈôêÂà∂ )   ","version":"dev","tagName":"h3"},{"title":"Áõ∏ÂÖ≥‰∏ªÈ¢ò‚Äã","type":1,"pageTitle":"ÈÖçÁΩÆ","url":"/zh-CN/docs/next/guide/python/configuration#Áõ∏ÂÖ≥‰∏ªÈ¢ò","content":" Âü∫Á°ÄÂ∫èÂàóÂåñ - ‰ΩøÁî®Â∑≤ÈÖçÁΩÆÁöÑ ForyÁ±ªÂûãÊ≥®ÂÜå - Ê≥®ÂÜåÊ®°ÂºèÂÆâÂÖ®ÊÄß - ÂÆâÂÖ®ÊúÄ‰Ω≥ÂÆûË∑µ ","version":"dev","tagName":"h2"},{"title":"Âü∫Á°ÄÂ∫èÂàóÂåñ","type":0,"sectionRef":"#","url":"/zh-CN/docs/next/guide/python/basic_serialization","content":"","keywords":"","version":"dev"},{"title":"Âü∫Á°ÄÂØπË±°Â∫èÂàóÂåñ‚Äã","type":1,"pageTitle":"Âü∫Á°ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/next/guide/python/basic_serialization#Âü∫Á°ÄÂØπË±°Â∫èÂàóÂåñ","content":" ‰ΩøÁî®ÁÆÄÂçïÁöÑ API Â∫èÂàóÂåñÂíåÂèçÂ∫èÂàóÂåñ Python ÂØπË±°Ôºö  import pyfory # ÂàõÂª∫ Fory ÂÆû‰æã fory = pyfory.Fory(xlang=True) # Â∫èÂàóÂåñ‰ªª‰Ωï Python ÂØπË±° data = fory.dumps({&quot;name&quot;: &quot;Alice&quot;, &quot;age&quot;: 30, &quot;scores&quot;: [95, 87, 92]}) # ÂèçÂ∫èÂàóÂåñÂõû Python ÂØπË±° obj = fory.loads(data) print(obj) # {'name': 'Alice', 'age': 30, 'scores': [95, 87, 92]}   Ê≥®ÊÑèÔºödumps()/loads() ÊòØ serialize()/deserialize() ÁöÑÂà´Âêç„ÄÇ‰∏§‰∏™ API ÂÆåÂÖ®Áõ∏ÂêåÔºå‰ΩøÁî®‰ªª‰Ωï‰∏Ä‰∏™ÈÉΩÂèØ‰ª•„ÄÇ  ","version":"dev","tagName":"h2"},{"title":"Ëá™ÂÆö‰πâÁ±ªÂ∫èÂàóÂåñ‚Äã","type":1,"pageTitle":"Âü∫Á°ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/next/guide/python/basic_serialization#Ëá™ÂÆö‰πâÁ±ªÂ∫èÂàóÂåñ","content":" Fory Ëá™Âä®Â§ÑÁêÜ dataclass ÂíåËá™ÂÆö‰πâÁ±ªÂûãÔºö  import pyfory from dataclasses import dataclass from typing import List, Dict @dataclass class Person: name: str age: int scores: List[int] metadata: Dict[str, str] # Python Ê®°Âºè - ÊîØÊåÅÊâÄÊúâ Python Á±ªÂûãÔºåÂåÖÊã¨ dataclass fory = pyfory.Fory(xlang=False, ref=True) fory.register(Person) person = Person(&quot;Bob&quot;, 25, [88, 92, 85], {&quot;team&quot;: &quot;engineering&quot;}) data = fory.serialize(person) result = fory.deserialize(data) print(result) # Person(name='Bob', age=25, ...)   ","version":"dev","tagName":"h2"},{"title":"ÂºïÁî®Ë∑üË∏™ÂíåÂæ™ÁéØÂºïÁî®‚Äã","type":1,"pageTitle":"Âü∫Á°ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/next/guide/python/basic_serialization#ÂºïÁî®Ë∑üË∏™ÂíåÂæ™ÁéØÂºïÁî®","content":" ÂÆâÂÖ®Â§ÑÁêÜÂÖ±‰∫´ÂºïÁî®ÂíåÂæ™ÁéØ‰æùËµñÔºö  import pyfory f = pyfory.Fory(ref=True) # ÂêØÁî®ÂºïÁî®Ë∑üË∏™ # ÂÆâÂÖ®Â§ÑÁêÜÂæ™ÁéØÂºïÁî® class Node: def __init__(self, value): self.value = value self.children = [] self.parent = None root = Node(&quot;root&quot;) child = Node(&quot;child&quot;) child.parent = root # Âæ™ÁéØÂºïÁî® root.children.append(child) # Â∫èÂàóÂåñ‰∏ç‰ºöÂØºËá¥Êó†ÈôêÈÄíÂΩí data = f.serialize(root) result = f.deserialize(data) assert result.children[0].parent is result # ÂºïÁî®Ë¢´‰øùÁïô   ","version":"dev","tagName":"h2"},{"title":"API ÂèÇËÄÉ‚Äã","type":1,"pageTitle":"Âü∫Á°ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/next/guide/python/basic_serialization#api-ÂèÇËÄÉ","content":" ","version":"dev","tagName":"h2"},{"title":"Â∫èÂàóÂåñÊñπÊ≥ï‚Äã","type":1,"pageTitle":"Âü∫Á°ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/next/guide/python/basic_serialization#Â∫èÂàóÂåñÊñπÊ≥ï","content":" # Â∫èÂàóÂåñ‰∏∫Â≠óËäÇ data: bytes = fory.serialize(obj) data: bytes = fory.dumps(obj) # Âà´Âêç # ‰ªéÂ≠óËäÇÂèçÂ∫èÂàóÂåñ obj = fory.deserialize(data) obj = fory.loads(data) # Âà´Âêç   ","version":"dev","tagName":"h3"},{"title":"‰ΩøÁî®Â∏¶Â§ñÁºìÂÜ≤Âå∫‚Äã","type":1,"pageTitle":"Âü∫Á°ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/next/guide/python/basic_serialization#‰ΩøÁî®Â∏¶Â§ñÁºìÂÜ≤Âå∫","content":" # ‰ΩøÁî®ÁºìÂÜ≤Âå∫ÂõûË∞ÉÂ∫èÂàóÂåñ buffer_objects = [] data = fory.serialize(obj, buffer_callback=buffer_objects.append) # ‰ΩøÁî®ÁºìÂÜ≤Âå∫ÂèçÂ∫èÂàóÂåñ buffers = [obj.getbuffer() for obj in buffer_objects] obj = fory.deserialize(data, buffers=buffers)   ","version":"dev","tagName":"h3"},{"title":"ÊÄßËÉΩÊèêÁ§∫‚Äã","type":1,"pageTitle":"Âü∫Á°ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/next/guide/python/basic_serialization#ÊÄßËÉΩÊèêÁ§∫","content":" Â¶ÇÊûú‰∏çÈúÄË¶ÅÂàôÁ¶ÅÁî® ref=TrueÔºöÂºïÁî®Ë∑üË∏™ÊúâÂºÄÈîÄ‰ΩøÁî® type_id ËÄå‰∏çÊòØ typenameÔºöÊï¥Êï∞ ID ÊØîÂ≠óÁ¨¶‰∏≤ÂêçÁß∞Êõ¥Âø´ÈáçÁî® Fory ÂÆû‰æãÔºöÂàõÂª∫‰∏ÄÊ¨°ÔºåÂ§öÊ¨°‰ΩøÁî®ÂêØÁî® CythonÔºöÁ°Æ‰øù ENABLE_FORY_CYTHON_SERIALIZATION=1  # Â•ΩÔºöÈáçÁî®ÂÆû‰æã fory = pyfory.Fory() for obj in objects: data = fory.dumps(obj) # ÂùèÔºöÊØèÊ¨°ÂàõÂª∫Êñ∞ÂÆû‰æã for obj in objects: fory = pyfory.Fory() # Êµ™Ë¥πÔºÅ data = fory.dumps(obj)   ","version":"dev","tagName":"h2"},{"title":"Áõ∏ÂÖ≥‰∏ªÈ¢ò‚Äã","type":1,"pageTitle":"Âü∫Á°ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/next/guide/python/basic_serialization#Áõ∏ÂÖ≥‰∏ªÈ¢ò","content":" ÈÖçÁΩÆ - Fory ÂèÇÊï∞Á±ªÂûãÊ≥®ÂÜå - Ê≥®ÂÜåÊ®°ÂºèPython ÂéüÁîüÊ®°Âºè - ÂáΩÊï∞Âíå lambda ","version":"dev","tagName":"h2"},{"title":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ","type":0,"sectionRef":"#","url":"/zh-CN/docs/next/guide/python/cross_language","content":"","keywords":"","version":"dev"},{"title":"ÂêØÁî®Ë∑®ËØ≠Ë®ÄÊ®°Âºè‚Äã","type":1,"pageTitle":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/next/guide/python/cross_language#ÂêØÁî®Ë∑®ËØ≠Ë®ÄÊ®°Âºè","content":" Ë¶Å‰ΩøÁî® xlang Ê®°ÂºèÔºåÂàõÂª∫ Fory Êó∂ËÆæÁΩÆ xlang=TrueÔºö  import pyfory fory = pyfory.Fory(xlang=True, ref=False, strict=True)   ","version":"dev","tagName":"h2"},{"title":"Ë∑®ËØ≠Ë®ÄÁ§∫‰æã‚Äã","type":1,"pageTitle":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/next/guide/python/cross_language#Ë∑®ËØ≠Ë®ÄÁ§∫‰æã","content":" ","version":"dev","tagName":"h2"},{"title":"PythonÔºàÂ∫èÂàóÂåñÂô®Ôºâ‚Äã","type":1,"pageTitle":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/next/guide/python/cross_language#pythonÂ∫èÂàóÂåñÂô®","content":" import pyfory from dataclasses import dataclass # Ë∑®ËØ≠Ë®ÄÊ®°ÂºèÂÆûÁé∞‰∫íÊìç‰ΩúÊÄß f = pyfory.Fory(xlang=True, ref=True) # Ê≥®ÂÜåÁ±ªÂûã‰ª•ÂÆûÁé∞Ë∑®ËØ≠Ë®ÄÂÖºÂÆπÊÄß @dataclass class Person: name: str age: pyfory.int32 f.register(Person, typename=&quot;example.Person&quot;) person = Person(&quot;Charlie&quot;, 35) binary_data = f.serialize(person) # binary_data Áé∞Âú®ÂèØ‰ª•ÂèëÈÄÅÂà∞ Java„ÄÅGo Á≠â   ","version":"dev","tagName":"h3"},{"title":"JavaÔºàÂèçÂ∫èÂàóÂåñÂô®Ôºâ‚Äã","type":1,"pageTitle":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/next/guide/python/cross_language#javaÂèçÂ∫èÂàóÂåñÂô®","content":" import org.apache.fory.*; public class Person { public String name; public int age; } Fory fory = Fory.builder() .withLanguage(Language.XLANG) .withRefTracking(true) .build(); fory.register(Person.class, &quot;example.Person&quot;); Person person = (Person) fory.deserialize(binaryData);   ","version":"dev","tagName":"h3"},{"title":"RustÔºàÂèçÂ∫èÂàóÂåñÂô®Ôºâ‚Äã","type":1,"pageTitle":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/next/guide/python/cross_language#rustÂèçÂ∫èÂàóÂåñÂô®","content":" use fory::Fory; use fory::ForyObject; #[derive(ForyObject)] struct Person { name: String, age: i32, } let mut fory = Fory::default() .compatible(true) .xlang(true); fory.register_by_namespace::&lt;Person&gt;(&quot;example&quot;, &quot;Person&quot;); let person: Person = fory.deserialize(&amp;binary_data)?;   ","version":"dev","tagName":"h3"},{"title":"Ë∑®ËØ≠Ë®ÄÁöÑÁ±ªÂûãÊ≥®Ëß£‚Äã","type":1,"pageTitle":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/next/guide/python/cross_language#Ë∑®ËØ≠Ë®ÄÁöÑÁ±ªÂûãÊ≥®Ëß£","content":" ‰ΩøÁî® pyfory Á±ªÂûãÊ≥®Ëß£ËøõË°åÊòæÂºèË∑®ËØ≠Ë®ÄÁ±ªÂûãÊò†Â∞ÑÔºö  from dataclasses import dataclass import pyfory @dataclass class TypedData: int_value: pyfory.int32 # 32 ‰ΩçÊï¥Êï∞ long_value: pyfory.int64 # 64 ‰ΩçÊï¥Êï∞ float_value: pyfory.float32 # 32 ‰ΩçÊµÆÁÇπÊï∞ double_value: pyfory.float64 # 64 ‰ΩçÊµÆÁÇπÊï∞   ","version":"dev","tagName":"h2"},{"title":"Á±ªÂûãÊò†Â∞Ñ‚Äã","type":1,"pageTitle":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/next/guide/python/cross_language#Á±ªÂûãÊò†Â∞Ñ","content":" Python\tJava\tRust\tGostr\tString\tString\tstring int\tlong\ti64\tint64 pyfory.int32\tint\ti32\tint32 pyfory.int64\tlong\ti64\tint64 float\tdouble\tf64\tfloat64 pyfory.float32\tfloat\tf32\tfloat32 list\tList\tVec\t[]T dict\tMap\tHashMap\tmap[K]V  ","version":"dev","tagName":"h2"},{"title":"‰∏é Python ÂéüÁîüÊ®°ÂºèÁöÑÂå∫Âà´‚Äã","type":1,"pageTitle":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/next/guide/python/cross_language#‰∏é-python-ÂéüÁîüÊ®°ÂºèÁöÑÂå∫Âà´","content":" ‰∫åËøõÂà∂ÂçèËÆÆÂíå API ‰∏é pyfory ÁöÑ Python ÂéüÁîüÊ®°ÂºèÁ±ª‰ººÔºå‰ΩÜ Python ÂéüÁîüÊ®°ÂºèÂèØ‰ª•Â∫èÂàóÂåñ‰ªª‰Ωï Python ÂØπË±°‚Äî‚ÄîÂåÖÊã¨ÂÖ®Â±ÄÂáΩÊï∞„ÄÅÂ±ÄÈÉ®ÂáΩÊï∞„ÄÅlambda„ÄÅÂ±ÄÈÉ®Á±ª‰ª•Âèä‰ΩøÁî® __getstate__/__reduce__/__reduce_ex__ Ëá™ÂÆö‰πâÂ∫èÂàóÂåñÁöÑÁ±ªÂûãÔºåËøô‰∫õÂú® xlang Ê®°Âºè‰∏≠‰∏çÂÖÅËÆ∏„ÄÇ  ","version":"dev","tagName":"h2"},{"title":"Âè¶ËØ∑ÂèÇÈòÖ‚Äã","type":1,"pageTitle":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/next/guide/python/cross_language#Âè¶ËØ∑ÂèÇÈòÖ","content":" Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñËßÑËåÉÁ±ªÂûãÊò†Â∞ÑÂèÇËÄÉJava Ë∑®ËØ≠Ë®ÄÊåáÂçóRust Ë∑®ËØ≠Ë®ÄÊåáÂçó  ","version":"dev","tagName":"h2"},{"title":"Áõ∏ÂÖ≥‰∏ªÈ¢ò‚Äã","type":1,"pageTitle":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/next/guide/python/cross_language#Áõ∏ÂÖ≥‰∏ªÈ¢ò","content":" ÈÖçÁΩÆ - XLANG Ê®°ÂºèËÆæÁΩÆSchema ÊºîÂåñ - ÂÖºÂÆπÊ®°ÂºèÁ±ªÂûãÊ≥®ÂÜå - Ê≥®ÂÜåÊ®°Âºè ","version":"dev","tagName":"h2"},{"title":"Ëá™ÂÆö‰πâÂ∫èÂàóÂåñÂô®","type":0,"sectionRef":"#","url":"/zh-CN/docs/next/guide/python/custom_serializers","content":"","keywords":"","version":"dev"},{"title":"ÂÆûÁé∞Ëá™ÂÆö‰πâÂ∫èÂàóÂåñÂô®‚Äã","type":1,"pageTitle":"Ëá™ÂÆö‰πâÂ∫èÂàóÂåñÂô®","url":"/zh-CN/docs/next/guide/python/custom_serializers#ÂÆûÁé∞Ëá™ÂÆö‰πâÂ∫èÂàóÂåñÂô®","content":" ‰∏∫ Python Ê®°ÂºèË¶ÜÁõñ write/readÔºå‰∏∫Ë∑®ËØ≠Ë®ÄÊ®°ÂºèË¶ÜÁõñ xwrite/xreadÔºö  import pyfory from pyfory.serializer import Serializer from dataclasses import dataclass @dataclass class Foo: f1: int f2: str class FooSerializer(Serializer): def __init__(self, fory, cls): super().__init__(fory, cls) def write(self, buffer, obj: Foo): # Ëá™ÂÆö‰πâÂ∫èÂàóÂåñÈÄªËæë buffer.write_varint32(obj.f1) buffer.write_string(obj.f2) def read(self, buffer): # Ëá™ÂÆö‰πâÂèçÂ∫èÂàóÂåñÈÄªËæë f1 = buffer.read_varint32() f2 = buffer.read_string() return Foo(f1, f2) # Áî®‰∫éË∑®ËØ≠Ë®ÄÊ®°Âºè def xwrite(self, buffer, obj: Foo): buffer.write_int32(obj.f1) buffer.write_string(obj.f2) def xread(self, buffer): return Foo(buffer.read_int32(), buffer.read_string()) f = pyfory.Fory() f.register(Foo, type_id=100, serializer=FooSerializer(f, Foo)) # Áé∞Âú® Foo ‰ΩøÁî®Ëá™ÂÆö‰πâÂ∫èÂàóÂåñÂô® data = f.dumps(Foo(42, &quot;hello&quot;)) result = f.loads(data) print(result) # Foo(f1=42, f2='hello')   ","version":"dev","tagName":"h2"},{"title":"Buffer API‚Äã","type":1,"pageTitle":"Ëá™ÂÆö‰πâÂ∫èÂàóÂåñÂô®","url":"/zh-CN/docs/next/guide/python/custom_serializers#buffer-api","content":" ","version":"dev","tagName":"h2"},{"title":"ÂÜôÂÖ•ÊñπÊ≥ï‚Äã","type":1,"pageTitle":"Ëá™ÂÆö‰πâÂ∫èÂàóÂåñÂô®","url":"/zh-CN/docs/next/guide/python/custom_serializers#ÂÜôÂÖ•ÊñπÊ≥ï","content":" # Êï¥Êï∞ buffer.write_int8(value) buffer.write_int16(value) buffer.write_int32(value) buffer.write_int64(value) # ÂèòÈïøÊï¥Êï∞ buffer.write_varint32(value) buffer.write_varint64(value) # ÊµÆÁÇπÊï∞ buffer.write_float32(value) buffer.write_float64(value) # Â≠óÁ¨¶‰∏≤ÂíåÂ≠óËäÇ buffer.write_string(value) buffer.write_bytes(value) # Â∏ÉÂ∞îÂÄº buffer.write_bool(value)   ","version":"dev","tagName":"h3"},{"title":"ËØªÂèñÊñπÊ≥ï‚Äã","type":1,"pageTitle":"Ëá™ÂÆö‰πâÂ∫èÂàóÂåñÂô®","url":"/zh-CN/docs/next/guide/python/custom_serializers#ËØªÂèñÊñπÊ≥ï","content":" # Êï¥Êï∞ value = buffer.read_int8() value = buffer.read_int16() value = buffer.read_int32() value = buffer.read_int64() # ÂèòÈïøÊï¥Êï∞ value = buffer.read_varint32() value = buffer.read_varint64() # ÊµÆÁÇπÊï∞ value = buffer.read_float32() value = buffer.read_float64() # Â≠óÁ¨¶‰∏≤ÂíåÂ≠óËäÇ value = buffer.read_string() value = buffer.read_bytes(length) # Â∏ÉÂ∞îÂÄº value = buffer.read_bool()   ","version":"dev","tagName":"h3"},{"title":"‰ΩïÊó∂‰ΩøÁî®Ëá™ÂÆö‰πâÂ∫èÂàóÂåñÂô®‚Äã","type":1,"pageTitle":"Ëá™ÂÆö‰πâÂ∫èÂàóÂåñÂô®","url":"/zh-CN/docs/next/guide/python/custom_serializers#‰ΩïÊó∂‰ΩøÁî®Ëá™ÂÆö‰πâÂ∫èÂàóÂåñÂô®","content":" Êù•Ëá™ÂÖ∂‰ªñÂåÖÁöÑÂ§ñÈÉ®Á±ªÂûãÂÖ∑ÊúâÁâπÊÆäÂ∫èÂàóÂåñÈúÄÊ±ÇÁöÑÁ±ªÂûãÊóßÊï∞ÊçÆÊ†ºÂºèÂÖºÂÆπÊÄßÊÄßËÉΩÂÖ≥ÈîÆÁöÑËá™ÂÆö‰πâÁºñÁ†ÅËá™Âä®Â∫èÂàóÂåñÊïàÊûú‰∏çÂ•ΩÁöÑÁ±ªÂûã  ","version":"dev","tagName":"h2"},{"title":"Ê≥®ÂÜåËá™ÂÆö‰πâÂ∫èÂàóÂåñÂô®‚Äã","type":1,"pageTitle":"Ëá™ÂÆö‰πâÂ∫èÂàóÂåñÂô®","url":"/zh-CN/docs/next/guide/python/custom_serializers#Ê≥®ÂÜåËá™ÂÆö‰πâÂ∫èÂàóÂåñÂô®","content":" fory = pyfory.Fory() # ‰ΩøÁî® type_id Ê≥®ÂÜå fory.register(MyClass, type_id=100, serializer=MySerializer(fory, MyClass)) # ‰ΩøÁî® typename Ê≥®ÂÜåÔºàÁî®‰∫é xlangÔºâ fory.register(MyClass, typename=&quot;com.example.MyClass&quot;, serializer=MySerializer(fory, MyClass))   ","version":"dev","tagName":"h2"},{"title":"Áõ∏ÂÖ≥‰∏ªÈ¢ò‚Äã","type":1,"pageTitle":"Ëá™ÂÆö‰πâÂ∫èÂàóÂåñÂô®","url":"/zh-CN/docs/next/guide/python/custom_serializers#Áõ∏ÂÖ≥‰∏ªÈ¢ò","content":" Á±ªÂûãÊ≥®ÂÜå - Ê≥®ÂÜåÊ®°ÂºèÈÖçÁΩÆ - Fory ÂèÇÊï∞Ë∑®ËØ≠Ë®Ä - xlang ÁöÑ xwrite/xread ","version":"dev","tagName":"h2"},{"title":"ËøÅÁßªÊåáÂçó","type":0,"sectionRef":"#","url":"/zh-CN/docs/next/guide/python/migration","content":"","keywords":"","version":"dev"},{"title":"‰ªé Pickle ËøÅÁßª‚Äã","type":1,"pageTitle":"ËøÅÁßªÊåáÂçó","url":"/zh-CN/docs/next/guide/python/migration#‰ªé-pickle-ËøÅÁßª","content":" Áî® Fory ÊõøÊç¢ pickleÔºåÂú®‰øùÊåÅÁõ∏Âêå API ÁöÑÂêåÊó∂Ëé∑ÂæóÊõ¥Â•ΩÁöÑÊÄßËÉΩÔºö  # ‰πãÂâçÔºàpickleÔºâ import pickle data = pickle.dumps(obj) result = pickle.loads(data) # ‰πãÂêéÔºàFory - Áõ¥Êé•ÊõøÊç¢ÔºåÊÄßËÉΩÊõ¥Â•ΩÔºâ import pyfory f = pyfory.Fory(xlang=False, ref=True, strict=False) data = f.dumps(obj) # Êõ¥Âø´‰∏îÊõ¥Á¥ßÂáë result = f.loads(data) # Êõ¥Âø´ÁöÑÂèçÂ∫èÂàóÂåñ # ‰ºòÂäøÔºö # - Â∫èÂàóÂåñÂø´ 2-10 ÂÄç # - ÂèçÂ∫èÂàóÂåñÂø´ 2-5 ÂÄç # - Êï∞ÊçÆÂ§ßÂ∞èÂáèÂ∞ëÈ´òËææ 3 ÂÄç # - Áõ∏ÂêåÁöÑ APIÔºåÊõ¥Â•ΩÁöÑÊÄßËÉΩ   ","version":"dev","tagName":"h2"},{"title":"‰ªé JSON ËøÅÁßª‚Äã","type":1,"pageTitle":"ËøÅÁßªÊåáÂçó","url":"/zh-CN/docs/next/guide/python/migration#‰ªé-json-ËøÅÁßª","content":" ‰∏é JSON ‰∏çÂêåÔºåFory ÊîØÊåÅÂåÖÊã¨ÂáΩÊï∞Âú®ÂÜÖÁöÑ‰ªªÊÑè Python Á±ªÂûãÔºö  # ‰πãÂâçÔºàJSON - Á±ªÂûãÂèóÈôêÔºâ import json data = json.dumps({&quot;name&quot;: &quot;Alice&quot;, &quot;age&quot;: 30}) result = json.loads(data) # ‰πãÂêéÔºàFory - ÊâÄÊúâ Python Á±ªÂûãÔºâ import pyfory f = pyfory.Fory() data = f.dumps({&quot;name&quot;: &quot;Alice&quot;, &quot;age&quot;: 30, &quot;func&quot;: lambda x: x}) result = f.loads(data)   ","version":"dev","tagName":"h2"},{"title":"‰∏ªË¶ÅÂå∫Âà´‚Äã","type":1,"pageTitle":"ËøÅÁßªÊåáÂçó","url":"/zh-CN/docs/next/guide/python/migration#‰∏ªË¶ÅÂå∫Âà´","content":" ÁâπÊÄß\tpickle\tJSON\tpyforyÊÄßËÉΩ\t‰∏≠Á≠â\tÊÖ¢\tÂø´ Êï∞ÊçÆÂ§ßÂ∞è\tÂ§ß\tÂ§ß\tÁ¥ßÂáë Á±ªÂûãÊîØÊåÅ\tÊâÄÊúâ Python\tÂèóÈôê\tÊâÄÊúâ Python Ë∑®ËØ≠Ë®Ä\tÂê¶\tÊòØ\tÊòØÔºàxlang Ê®°ÂºèÔºâ ÂÆâÂÖ®ÊÄß\t‰Ωé\tÈ´ò\tÂèØÈÖçÁΩÆ  ","version":"dev","tagName":"h2"},{"title":"ËøÅÁßªÊèêÁ§∫‚Äã","type":1,"pageTitle":"ËøÅÁßªÊåáÂçó","url":"/zh-CN/docs/next/guide/python/migration#ËøÅÁßªÊèêÁ§∫","content":" ‰ªé strict=False ÂºÄÂßã ‰ª•Á°Æ‰øùÂÖºÂÆπÊÄßÊ∑ªÂä†Á±ªÂûãÊ≥®ÂÜå ‰ª•ÊèêÈ´òÊÄßËÉΩÂíåÂÆâÂÖ®ÊÄßÂú®ÈÉ®ÁΩ≤ÂâçÂΩªÂ∫ïÊµãËØïÁõëÊéßÊÄßËÉΩ ÊîπËøõ  ","version":"dev","tagName":"h2"},{"title":"Áõ∏ÂÖ≥‰∏ªÈ¢ò‚Äã","type":1,"pageTitle":"ËøÅÁßªÊåáÂçó","url":"/zh-CN/docs/next/guide/python/migration#Áõ∏ÂÖ≥‰∏ªÈ¢ò","content":" ÈÖçÁΩÆ - Fory ÂèÇÊï∞Python ÂéüÁîüÊ®°Âºè - Pickle ÊõøÊç¢ÂäüËÉΩÂÆâÂÖ®ÊÄß - ÂÆâÂÖ®ÊúÄ‰Ω≥ÂÆûË∑µ ","version":"dev","tagName":"h2"},{"title":"NumPy ‰∏éÁßëÂ≠¶ËÆ°ÁÆó","type":0,"sectionRef":"#","url":"/zh-CN/docs/next/guide/python/numpy_integration","content":"","keywords":"","version":"dev"},{"title":"NumPy Êï∞ÁªÑÂ∫èÂàóÂåñ‚Äã","type":1,"pageTitle":"NumPy ‰∏éÁßëÂ≠¶ËÆ°ÁÆó","url":"/zh-CN/docs/next/guide/python/numpy_integration#numpy-Êï∞ÁªÑÂ∫èÂàóÂåñ","content":" Â§ßÂûãÊï∞ÁªÑÂú®ÂèØËÉΩÁöÑÊÉÖÂÜµ‰∏ã‰ΩøÁî®Èõ∂Êã∑Ë¥ùÔºö  import pyfory import numpy as np f = pyfory.Fory() # ÂéüÁîüÊîØÊåÅ Numpy Êï∞ÁªÑ arrays = { 'matrix': np.random.rand(1000, 1000), 'vector': np.arange(10000), 'bool_mask': np.random.choice([True, False], size=5000) } data = f.serialize(arrays) result = f.deserialize(data) # ÂØπ‰∫éÂÖºÂÆπÁöÑÊï∞ÁªÑÁ±ªÂûã‰ΩøÁî®Èõ∂Êã∑Ë¥ù assert np.array_equal(arrays['matrix'], result['matrix'])   ","version":"dev","tagName":"h2"},{"title":"Pandas DataFrame‚Äã","type":1,"pageTitle":"NumPy ‰∏éÁßëÂ≠¶ËÆ°ÁÆó","url":"/zh-CN/docs/next/guide/python/numpy_integration#pandas-dataframe","content":" Fory ÂèØ‰ª•È´òÊïàÂ∫èÂàóÂåñ Pandas DataFrameÔºö  import pyfory import pandas as pd import numpy as np f = pyfory.Fory(xlang=False, ref=False, strict=False) df = pd.DataFrame({ 'a': np.arange(1000, dtype=np.float64), 'b': np.arange(1000, dtype=np.int64), 'c': ['text'] * 1000 }) data = f.serialize(df) result = f.deserialize(data) assert df.equals(result)   ","version":"dev","tagName":"h2"},{"title":"‰ΩøÁî®Â∏¶Â§ñÁºìÂÜ≤Âå∫ÁöÑÈõ∂Êã∑Ë¥ù‚Äã","type":1,"pageTitle":"NumPy ‰∏éÁßëÂ≠¶ËÆ°ÁÆó","url":"/zh-CN/docs/next/guide/python/numpy_integration#‰ΩøÁî®Â∏¶Â§ñÁºìÂÜ≤Âå∫ÁöÑÈõ∂Êã∑Ë¥ù","content":" ÂØπ‰∫éÂ§ßÂûãÊï∞ÁªÑÁöÑÊúÄÂ§ßÊÄßËÉΩÔºå‰ΩøÁî®Â∏¶Â§ñÂ∫èÂàóÂåñÔºö  import pyfory import numpy as np f = pyfory.Fory(xlang=False, ref=False, strict=False) # Â§ßÂûãÊï∞ÁªÑ array = np.random.rand(10000, 1000) # Â∏¶Â§ñÈõ∂Êã∑Ë¥ù buffer_objects = [] data = f.serialize(array, buffer_callback=buffer_objects.append) buffers = [obj.getbuffer() for obj in buffer_objects] result = f.deserialize(data, buffers=buffers) assert np.array_equal(array, result)   ","version":"dev","tagName":"h2"},{"title":"ÊîØÊåÅÁöÑÊï∞ÁªÑÁ±ªÂûã‚Äã","type":1,"pageTitle":"NumPy ‰∏éÁßëÂ≠¶ËÆ°ÁÆó","url":"/zh-CN/docs/next/guide/python/numpy_integration#ÊîØÊåÅÁöÑÊï∞ÁªÑÁ±ªÂûã","content":" np.ndarrayÔºàÊâÄÊúâ dtypeÔºânp.matrixÁªìÊûÑÂåñÊï∞ÁªÑËÆ∞ÂΩïÊï∞ÁªÑ  ","version":"dev","tagName":"h2"},{"title":"Áõ∏ÂÖ≥‰∏ªÈ¢ò‚Äã","type":1,"pageTitle":"NumPy ‰∏éÁßëÂ≠¶ËÆ°ÁÆó","url":"/zh-CN/docs/next/guide/python/numpy_integration#Áõ∏ÂÖ≥‰∏ªÈ¢ò","content":" Â∏¶Â§ñÂ∫èÂàóÂåñ - Èõ∂Êã∑Ë¥ùÁºìÂÜ≤Âå∫Âü∫Á°ÄÂ∫èÂàóÂåñ - Ê†áÂáÜÁî®Ê≥ï ","version":"dev","tagName":"h2"},{"title":"Â∏¶Â§ñÂ∫èÂàóÂåñ","type":0,"sectionRef":"#","url":"/zh-CN/docs/next/guide/python/out_of_band","content":"","keywords":"","version":"dev"},{"title":"Ê¶ÇËø∞‚Äã","type":1,"pageTitle":"Â∏¶Â§ñÂ∫èÂàóÂåñ","url":"/zh-CN/docs/next/guide/python/out_of_band#Ê¶ÇËø∞","content":" Â∏¶Â§ñÂ∫èÂàóÂåñÂ∞ÜÂÖÉÊï∞ÊçÆ‰∏éÂÆûÈôÖÊï∞ÊçÆÁºìÂÜ≤Âå∫ÂàÜÁ¶ªÔºåÂÖÅËÆ∏Ôºö  Èõ∂Êã∑Ë¥ù‰º†ËæìÔºö‰ΩøÁî® memoryview ÈÄöËøáÁΩëÁªúÊàñ IPC ÂèëÈÄÅÊï∞ÊçÆÊó∂ÊèêÈ´òÊÄßËÉΩÔºöÁî®‰∫éÂ§ßÂûãÊï∞ÊçÆÈõÜPickle5 ÂÖºÂÆπÊÄßÔºö‰ΩøÁî® pickle.PickleBufferÁÅµÊ¥ªÁöÑÊµÅÊîØÊåÅÔºöÂÜôÂÖ•‰ªª‰ΩïÂèØÂÜôÂØπË±°ÔºàÊñá‰ª∂„ÄÅBytesIO„ÄÅÂ•óÊé•Â≠óÁ≠âÔºâ  ","version":"dev","tagName":"h2"},{"title":"Âü∫Á°ÄÂ∏¶Â§ñÂ∫èÂàóÂåñ‚Äã","type":1,"pageTitle":"Â∏¶Â§ñÂ∫èÂàóÂåñ","url":"/zh-CN/docs/next/guide/python/out_of_band#Âü∫Á°ÄÂ∏¶Â§ñÂ∫èÂàóÂåñ","content":" import pyfory import numpy as np fory = pyfory.Fory(xlang=False, ref=False, strict=False) # Â§ßÂûã numpy Êï∞ÁªÑ array = np.arange(10000, dtype=np.float64) # ‰ΩøÁî®Â∏¶Â§ñÁºìÂÜ≤Âå∫Â∫èÂàóÂåñ buffer_objects = [] serialized_data = fory.serialize(array, buffer_callback=buffer_objects.append) # Â∞ÜÁºìÂÜ≤Âå∫ÂØπË±°ËΩ¨Êç¢‰∏∫ memoryview ‰ª•ËøõË°åÈõ∂Êã∑Ë¥ù‰º†Ëæì # ÂØπ‰∫éËøûÁª≠ÁºìÂÜ≤Âå∫Ôºàbytes„ÄÅnumpy Êï∞ÁªÑÔºâÔºåËøôÊòØÈõ∂Êã∑Ë¥ù # ÂØπ‰∫éÈùûËøûÁª≠Êï∞ÊçÆÔºåÂèØËÉΩ‰ºöÂàõÂª∫ÂâØÊú¨‰ª•Á°Æ‰øùËøûÁª≠ÊÄß buffers = [obj.getbuffer() for obj in buffer_objects] # ‰ΩøÁî®Â∏¶Â§ñÁºìÂÜ≤Âå∫ÂèçÂ∫èÂàóÂåñÔºàÊé•Âèó memoryview„ÄÅbytes Êàñ BufferÔºâ deserialized_array = fory.deserialize(serialized_data, buffers=buffers) assert np.array_equal(array, deserialized_array)   ","version":"dev","tagName":"h2"},{"title":"‰ΩøÁî® Pandas DataFrame ÁöÑÂ∏¶Â§ñÂ∫èÂàóÂåñ‚Äã","type":1,"pageTitle":"Â∏¶Â§ñÂ∫èÂàóÂåñ","url":"/zh-CN/docs/next/guide/python/out_of_band#‰ΩøÁî®-pandas-dataframe-ÁöÑÂ∏¶Â§ñÂ∫èÂàóÂåñ","content":" import pyfory import pandas as pd import numpy as np fory = pyfory.Fory(xlang=False, ref=False, strict=False) # ÂàõÂª∫Â∏¶Êï∞ÂÄºÂàóÁöÑ DataFrame df = pd.DataFrame({ 'a': np.arange(1000, dtype=np.float64), 'b': np.arange(1000, dtype=np.int64), 'c': ['text'] * 1000 }) # ‰ΩøÁî®Â∏¶Â§ñÁºìÂÜ≤Âå∫Â∫èÂàóÂåñ buffer_objects = [] serialized_data = fory.serialize(df, buffer_callback=buffer_objects.append) buffers = [obj.getbuffer() for obj in buffer_objects] # ÂèçÂ∫èÂàóÂåñ deserialized_df = fory.deserialize(serialized_data, buffers=buffers) assert df.equals(deserialized_df)   ","version":"dev","tagName":"h2"},{"title":"ÈÄâÊã©ÊÄßÂ∏¶Â§ñÂ∫èÂàóÂåñ‚Äã","type":1,"pageTitle":"Â∏¶Â§ñÂ∫èÂàóÂåñ","url":"/zh-CN/docs/next/guide/python/out_of_band#ÈÄâÊã©ÊÄßÂ∏¶Â§ñÂ∫èÂàóÂåñ","content":" ÈÄöËøáÊèê‰æõÂõûË∞ÉÊù•ÊéßÂà∂Âì™‰∫õÁºìÂÜ≤Âå∫Â∏¶Â§ñ‰º†ËæìÔºåËØ•ÂõûË∞ÉËøîÂõû True ‰øùÊåÅÊï∞ÊçÆÂÜÖËÅîÊàñËøîÂõû False Â∏¶Â§ñÂèëÈÄÅÔºö  import pyfory import numpy as np fory = pyfory.Fory(xlang=False, ref=True, strict=False) arr1 = np.arange(1000, dtype=np.float64) arr2 = np.arange(2000, dtype=np.float64) data = [arr1, arr2] buffer_objects = [] counter = 0 def selective_callback(buffer_object): global counter counter += 1 # Âè™ÊúâÂÅ∂Êï∞ÁºñÂè∑ÁöÑÁºìÂÜ≤Âå∫Â∏¶Â§ñÂèëÈÄÅ if counter % 2 == 0: buffer_objects.append(buffer_object) return False # Â∏¶Â§ñ return True # ÂÜÖËÅî serialized = fory.serialize(data, buffer_callback=selective_callback) buffers = [obj.getbuffer() for obj in buffer_objects] deserialized = fory.deserialize(serialized, buffers=buffers)   ","version":"dev","tagName":"h2"},{"title":"Pickle5 ÂÖºÂÆπÊÄß‚Äã","type":1,"pageTitle":"Â∏¶Â§ñÂ∫èÂàóÂåñ","url":"/zh-CN/docs/next/guide/python/out_of_band#pickle5-ÂÖºÂÆπÊÄß","content":" Fory ÁöÑÂ∏¶Â§ñÂ∫èÂàóÂåñÂÆåÂÖ®ÂÖºÂÆπ pickle ÂçèËÆÆ 5Ôºö  import pyfory import pickle fory = pyfory.Fory(xlang=False, ref=False, strict=False) # Ëá™Âä®ÊîØÊåÅ PickleBuffer ÂØπË±° data = b&quot;Large binary data&quot; pickle_buffer = pickle.PickleBuffer(data) # ‰ΩøÁî®ÁºìÂÜ≤Âå∫ÂõûË∞ÉÂ∫èÂàóÂåñ‰ª•ËøõË°åÂ∏¶Â§ñÂ§ÑÁêÜ buffer_objects = [] serialized = fory.serialize(pickle_buffer, buffer_callback=buffer_objects.append) buffers = [obj.getbuffer() for obj in buffer_objects] # ‰ΩøÁî®ÁºìÂÜ≤Âå∫ÂèçÂ∫èÂàóÂåñ deserialized = fory.deserialize(serialized, buffers=buffers) assert bytes(deserialized.raw()) == data   ","version":"dev","tagName":"h2"},{"title":"Â∞ÜÁºìÂÜ≤Âå∫ÂÜôÂÖ•‰∏çÂêåÁöÑÊµÅ‚Äã","type":1,"pageTitle":"Â∏¶Â§ñÂ∫èÂàóÂåñ","url":"/zh-CN/docs/next/guide/python/out_of_band#Â∞ÜÁºìÂÜ≤Âå∫ÂÜôÂÖ•‰∏çÂêåÁöÑÊµÅ","content":" BufferObject.write_to() ÊñπÊ≥ïÊé•Âèó‰ªª‰ΩïÂèØÂÜôÊµÅÂØπË±°Ôºö  import pyfory import numpy as np import io fory = pyfory.Fory(xlang=False, ref=False, strict=False) array = np.arange(1000, dtype=np.float64) # Êî∂ÈõÜÂ∏¶Â§ñÁºìÂÜ≤Âå∫ buffer_objects = [] serialized = fory.serialize(array, buffer_callback=buffer_objects.append) # ÂÜôÂÖ•‰∏çÂêåÁöÑÊµÅÁ±ªÂûã for buffer_obj in buffer_objects: # ÂÜôÂÖ• BytesIOÔºàÂÜÖÂ≠òÊµÅÔºâ bytes_stream = io.BytesIO() buffer_obj.write_to(bytes_stream) # ÂÜôÂÖ•Êñá‰ª∂ with open('/tmp/buffer_data.bin', 'wb') as f: buffer_obj.write_to(f) # Ëé∑ÂèñÈõ∂Êã∑Ë¥ù memoryviewÔºàÁî®‰∫éËøûÁª≠ÁºìÂÜ≤Âå∫Ôºâ mv = buffer_obj.getbuffer() assert isinstance(mv, memoryview)   Ê≥®ÊÑèÔºöÂØπ‰∫éËøûÁª≠ÂÜÖÂ≠òÁºìÂÜ≤Âå∫ÔºàÂ¶Ç bytes„ÄÅnumpy Êï∞ÁªÑÔºâÔºågetbuffer() ËøîÂõûÈõ∂Êã∑Ë¥ù memoryview„ÄÇÂØπ‰∫éÈùûËøûÁª≠Êï∞ÊçÆÔºåÂèØËÉΩ‰ºöÂàõÂª∫ÂâØÊú¨‰ª•Á°Æ‰øùËøûÁª≠ÊÄß„ÄÇ  ","version":"dev","tagName":"h2"},{"title":"Áõ∏ÂÖ≥‰∏ªÈ¢ò‚Äã","type":1,"pageTitle":"Â∏¶Â§ñÂ∫èÂàóÂåñ","url":"/zh-CN/docs/next/guide/python/out_of_band#Áõ∏ÂÖ≥‰∏ªÈ¢ò","content":" NumPy ÈõÜÊàê - NumPy Êï∞ÁªÑÂ∫èÂàóÂåñÂü∫Á°ÄÂ∫èÂàóÂåñ - Ê†áÂáÜÂ∫èÂàóÂåñÈÖçÁΩÆ - Fory ÂèÇÊï∞ ","version":"dev","tagName":"h2"},{"title":"Ë°åÊ†ºÂºè","type":0,"sectionRef":"#","url":"/zh-CN/docs/next/guide/python/row_format","content":"","keywords":"","version":"dev"},{"title":"Ê¶ÇËø∞‚Äã","type":1,"pageTitle":"Ë°åÊ†ºÂºè","url":"/zh-CN/docs/next/guide/python/row_format#Ê¶ÇËø∞","content":" ÂΩìÂè™ÈúÄË¶ÅÈÉ®ÂàÜÊï∞ÊçÆËÆøÈóÆÊó∂ÔºåË°åÊ†ºÂºèÂèØ‰ª•Â§ßÂπÖÂáèÂ∞ëÂ§ÑÁêÜÂ§ßÂûãÂØπË±°ÁöÑÂºÄÈîÄ„ÄÇÂÆÉËøòÊîØÊåÅÂÜÖÂ≠òÊò†Â∞ÑÊñá‰ª∂ÔºåÂÆûÁé∞Ë∂Ö‰ΩéÂÜÖÂ≠òÂç†Áî®„ÄÇ  Ê†∏ÂøÉ‰ºòÂäøÔºö  ÁâπÊÄß\tÊèèËø∞Èõ∂Êã∑Ë¥ùËÆøÈóÆ\tÊó†ÈúÄÂèçÂ∫èÂàóÂåñÊï¥‰∏™ÂØπË±°Âç≥ÂèØËØªÂèñÂµåÂ•óÂ≠óÊÆµ ÂÜÖÂ≠òÊïàÁéá\tÁõ¥Êé•‰ªéÁ£ÅÁõòÂÜÖÂ≠òÊò†Â∞ÑÂ§ßÂûãÊï∞ÊçÆÈõÜ Ë∑®ËØ≠Ë®Ä\tPython„ÄÅJava„ÄÅC++ ‰πãÈó¥ÁöÑ‰∫åËøõÂà∂Ê†ºÂºèÂÖºÂÆπ ÈÉ®ÂàÜÂèçÂ∫èÂàóÂåñ\t‰ªÖÂèçÂ∫èÂàóÂåñÊâÄÈúÄÁöÑÁâπÂÆöÂÖÉÁ¥† È´òÊÄßËÉΩ\tË∑≥Ëøá‰∏çÂøÖË¶ÅÁöÑÊï∞ÊçÆËß£ÊûêÔºåÈÄÇÁî®‰∫éÂàÜÊûêÂ∑•‰ΩúË¥üËΩΩ  ","version":"dev","tagName":"h2"},{"title":"Âü∫Á°ÄÁî®Ê≥ï‚Äã","type":1,"pageTitle":"Ë°åÊ†ºÂºè","url":"/zh-CN/docs/next/guide/python/row_format#Âü∫Á°ÄÁî®Ê≥ï","content":" import pyfory import pyarrow as pa from dataclasses import dataclass from typing import List, Dict @dataclass class Bar: f1: str f2: List[pa.int64] @dataclass class Foo: f1: pa.int32 f2: List[pa.int32] f3: Dict[str, pa.int32] f4: List[Bar] # ‰∏∫Ë°åÊ†ºÂºèÂàõÂª∫ÁºñÁ†ÅÂô® encoder = pyfory.encoder(Foo) # ÂàõÂª∫Â§ßÂûãÊï∞ÊçÆÈõÜ foo = Foo( f1=10, f2=list(range(1_000_000)), f3={f&quot;k{i}&quot;: i for i in range(1_000_000)}, f4=[Bar(f1=f&quot;s{i}&quot;, f2=list(range(10))) for i in range(1_000_000)] ) # ÁºñÁ†Å‰∏∫Ë°åÊ†ºÂºè binary: bytes = encoder.to_row(foo).to_bytes() # Èõ∂Êã∑Ë¥ùËÆøÈóÆ - Êó†ÈúÄÂÆåÂÖ®ÂèçÂ∫èÂàóÂåñÔºÅ foo_row = pyfory.RowData(encoder.schema, binary) print(foo_row.f2[100000]) # Áõ¥Êé•ËÆøÈóÆÁ¨¨ 100,000 ‰∏™ÂÖÉÁ¥† print(foo_row.f4[100000].f1) # Áõ¥Êé•ËÆøÈóÆÂµåÂ•óÂ≠óÊÆµ print(foo_row.f4[200000].f2[5]) # Áõ¥Êé•ËÆøÈóÆÊ∑±Â±ÇÂµåÂ•óÂ≠óÊÆµ   ","version":"dev","tagName":"h2"},{"title":"Ë∑®ËØ≠Ë®ÄÂÖºÂÆπÊÄß‚Äã","type":1,"pageTitle":"Ë°åÊ†ºÂºè","url":"/zh-CN/docs/next/guide/python/row_format#Ë∑®ËØ≠Ë®ÄÂÖºÂÆπÊÄß","content":" Ë°åÊ†ºÂºèÂèØ‰ª•Ë∑®ËØ≠Ë®ÄÊó†ÁºùÂ∑•‰Ωú„ÄÇÁõ∏ÂêåÁöÑ‰∫åËøõÂà∂Êï∞ÊçÆÂèØ‰ª•‰ªé Java Âíå C++ ËÆøÈóÆ„ÄÇ  ","version":"dev","tagName":"h2"},{"title":"Java‚Äã","type":1,"pageTitle":"Ë°åÊ†ºÂºè","url":"/zh-CN/docs/next/guide/python/row_format#java","content":" public class Bar { String f1; List&lt;Long&gt; f2; } public class Foo { int f1; List&lt;Integer&gt; f2; Map&lt;String, Integer&gt; f3; List&lt;Bar&gt; f4; } RowEncoder&lt;Foo&gt; encoder = Encoders.bean(Foo.class); // ÁºñÁ†Å‰∏∫Ë°åÊ†ºÂºèÔºà‰∏é Python Ë∑®ËØ≠Ë®ÄÂÖºÂÆπÔºâ BinaryRow binaryRow = encoder.toRow(foo); // Èõ∂Êã∑Ë¥ùÈöèÊú∫ËÆøÈóÆÔºåÊó†ÈúÄÂÆåÂÖ®ÂèçÂ∫èÂàóÂåñ BinaryArray f2Array = binaryRow.getArray(1); // ËÆøÈóÆ f2 ÂàóË°® BinaryArray f4Array = binaryRow.getArray(3); // ËÆøÈóÆ f4 ÂàóË°® BinaryRow bar10 = f4Array.getStruct(10); // ËÆøÈóÆÁ¨¨ 11 ‰∏™ Bar long value = bar10.getArray(1).getInt64(5); // ËÆøÈóÆ bar.f2 ÁöÑÁ¨¨ 6 ‰∏™ÂÖÉÁ¥† // ÈÉ®ÂàÜÂèçÂ∫èÂàóÂåñ - ‰ªÖÂèçÂ∫èÂàóÂåñÊâÄÈúÄÂÜÖÂÆπ RowEncoder&lt;Bar&gt; barEncoder = Encoders.bean(Bar.class); Bar bar1 = barEncoder.fromRow(f4Array.getStruct(10)); // ‰ªÖÂèçÂ∫èÂàóÂåñÁ¨¨ 11 ‰∏™ Bar Bar bar2 = barEncoder.fromRow(f4Array.getStruct(20)); // ‰ªÖÂèçÂ∫èÂàóÂåñÁ¨¨ 21 ‰∏™ Bar   ","version":"dev","tagName":"h3"},{"title":"C++‚Äã","type":1,"pageTitle":"Ë°åÊ†ºÂºè","url":"/zh-CN/docs/next/guide/python/row_format#c","content":" #include &quot;fory/encoder/row_encoder.h&quot; #include &quot;fory/row/writer.h&quot; struct Bar { std::string f1; std::vector&lt;int64_t&gt; f2; }; FORY_FIELD_INFO(Bar, f1, f2); struct Foo { int32_t f1; std::vector&lt;int32_t&gt; f2; std::map&lt;std::string, int32_t&gt; f3; std::vector&lt;Bar&gt; f4; }; FORY_FIELD_INFO(Foo, f1, f2, f3, f4); fory::encoder::RowEncoder&lt;Foo&gt; encoder; encoder.Encode(foo); auto row = encoder.GetWriter().ToRow(); // Èõ∂Êã∑Ë¥ùÈöèÊú∫ËÆøÈóÆÔºåÊó†ÈúÄÂÆåÂÖ®ÂèçÂ∫èÂàóÂåñ auto f2_array = row-&gt;GetArray(1); // ËÆøÈóÆ f2 ÂàóË°® auto f4_array = row-&gt;GetArray(3); // ËÆøÈóÆ f4 ÂàóË°® auto bar10 = f4_array-&gt;GetStruct(10); // ËÆøÈóÆÁ¨¨ 11 ‰∏™ Bar int64_t value = bar10-&gt;GetArray(1)-&gt;GetInt64(5); // ËÆøÈóÆ bar.f2 ÁöÑÁ¨¨ 6 ‰∏™ÂÖÉÁ¥† std::string str = bar10-&gt;GetString(0); // ËÆøÈóÆ bar.f1   ","version":"dev","tagName":"h3"},{"title":"ÂÆâË£Ö‚Äã","type":1,"pageTitle":"Ë°åÊ†ºÂºè","url":"/zh-CN/docs/next/guide/python/row_format#ÂÆâË£Ö","content":" Ë°åÊ†ºÂºèÈúÄË¶Å Apache ArrowÔºö  pip install pyfory[format]   ","version":"dev","tagName":"h2"},{"title":"‰ΩïÊó∂‰ΩøÁî®Ë°åÊ†ºÂºè‚Äã","type":1,"pageTitle":"Ë°åÊ†ºÂºè","url":"/zh-CN/docs/next/guide/python/row_format#‰ΩïÊó∂‰ΩøÁî®Ë°åÊ†ºÂºè","content":" ÂàÜÊûêÂ∑•‰ΩúË¥üËΩΩÔºöÂΩìÊÇ®Âè™ÈúÄË¶ÅËÆøÈóÆÁâπÂÆöÂ≠óÊÆµÊó∂Â§ßÂûãÊï∞ÊçÆÈõÜÔºöÂΩìÂÆåÂÖ®ÂèçÂ∫èÂàóÂåñÊàêÊú¨Â§™È´òÊó∂ÂÜÖÂ≠òÊò†Â∞ÑÊñá‰ª∂ÔºöÂ§ÑÁêÜÂ§ß‰∫é RAM ÁöÑÊï∞ÊçÆÊï∞ÊçÆÁÆ°ÈÅìÔºöÂú®‰∏çÂÆåÂÖ®ÂØπË±°ÈáçÂª∫ÁöÑÊÉÖÂÜµ‰∏ãÂ§ÑÁêÜÊï∞ÊçÆË∑®ËØ≠Ë®ÄÊï∞ÊçÆÂÖ±‰∫´ÔºöÂΩìÊï∞ÊçÆÈúÄË¶Å‰ªéÂ§öÁßçËØ≠Ë®ÄËÆøÈóÆÊó∂  ","version":"dev","tagName":"h2"},{"title":"Áõ∏ÂÖ≥‰∏ªÈ¢ò‚Äã","type":1,"pageTitle":"Ë°åÊ†ºÂºè","url":"/zh-CN/docs/next/guide/python/row_format#Áõ∏ÂÖ≥‰∏ªÈ¢ò","content":" Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ - XLANG Ê®°ÂºèÂü∫Á°ÄÂ∫èÂàóÂåñ - ÂØπË±°Â∫èÂàóÂåñË°åÊ†ºÂºèËßÑËåÉ - ÂçèËÆÆËØ¶ÊÉÖ ","version":"dev","tagName":"h2"},{"title":"Python ÂéüÁîüÊ®°Âºè","type":0,"sectionRef":"#","url":"/zh-CN/docs/next/guide/python/native_mode","content":"","keywords":"","version":"dev"},{"title":"Ê¶ÇËø∞‚Äã","type":1,"pageTitle":"Python ÂéüÁîüÊ®°Âºè","url":"/zh-CN/docs/next/guide/python/native_mode#Ê¶ÇËø∞","content":" ‰∫åËøõÂà∂ÂçèËÆÆÂíå API ‰∏é Fory ÁöÑ xlang Ê®°ÂºèÁ±ª‰ººÔºå‰ΩÜ Python ÂéüÁîüÊ®°ÂºèÂèØ‰ª•Â∫èÂàóÂåñ‰ªª‰Ωï Python ÂØπË±°‚Äî‚ÄîÂåÖÊã¨ÂÖ®Â±ÄÂáΩÊï∞„ÄÅÂ±ÄÈÉ®ÂáΩÊï∞„ÄÅlambda„ÄÅÂ±ÄÈÉ®Á±ª‰ª•Âèä‰ΩøÁî® __getstate__/__reduce__/__reduce_ex__ Ëá™ÂÆö‰πâÂ∫èÂàóÂåñÁöÑÁ±ªÂûãÔºåËøô‰∫õÂú® xlang Ê®°Âºè‰∏≠ÊòØ‰∏çÂÖÅËÆ∏ÁöÑ„ÄÇ  Ë¶Å‰ΩøÁî® Python ÂéüÁîüÊ®°ÂºèÔºåÂàõÂª∫ Fory Êó∂ËÆæÁΩÆ xlang=FalseÔºö  import pyfory fory = pyfory.Fory(xlang=False, ref=False, strict=True)   ","version":"dev","tagName":"h2"},{"title":"ÂèØÁõ¥Êé•Êõø‰ª£ Pickle/Cloudpickle‚Äã","type":1,"pageTitle":"Python ÂéüÁîüÊ®°Âºè","url":"/zh-CN/docs/next/guide/python/native_mode#ÂèØÁõ¥Êé•Êõø‰ª£-picklecloudpickle","content":" pyfory ÂèØ‰ª•‰ΩøÁî®‰ª•‰∏ãÈÖçÁΩÆÂ∫èÂàóÂåñ‰ªª‰Ωï Python ÂØπË±°Ôºö  ÂØπ‰∫éÂæ™ÁéØÂºïÁî®ÔºöËÆæÁΩÆ ref=True ÂêØÁî®ÂºïÁî®Ë∑üË∏™ÂØπ‰∫éÂáΩÊï∞/Á±ªÔºöËÆæÁΩÆ strict=False ÂÖÅËÆ∏ÂèçÂ∫èÂàóÂåñÂä®ÊÄÅÁ±ªÂûã  ‚ö†Ô∏è ÂÆâÂÖ®Ë≠¶ÂëäÔºöÂΩì strict=False Êó∂ÔºåFory Â∞ÜÂèçÂ∫èÂàóÂåñ‰ªªÊÑèÁ±ªÂûãÔºåÂ¶ÇÊûúÊï∞ÊçÆÊù•Ëá™‰∏çÂèó‰ø°‰ªªÁöÑÊ∫êÔºåËøôÂèØËÉΩÂ∏¶Êù•ÂÆâÂÖ®È£éÈô©„ÄÇ‰ªÖÂú®ÂÆåÂÖ®‰ø°‰ªªÊï∞ÊçÆÊ∫êÁöÑÂèóÊéßÁéØÂ¢É‰∏≠‰ΩøÁî® strict=False„ÄÇ  ","version":"dev","tagName":"h2"},{"title":"Â∏∏ËßÅÁî®Ê≥ï‚Äã","type":1,"pageTitle":"Python ÂéüÁîüÊ®°Âºè","url":"/zh-CN/docs/next/guide/python/native_mode#Â∏∏ËßÅÁî®Ê≥ï","content":" import pyfory # ÂàõÂª∫ Fory ÂÆû‰æã fory = pyfory.Fory(xlang=False, ref=True, strict=False) # Â∫èÂàóÂåñÂ∏∏ËßÅ Python ÂØπË±° data = fory.dumps({&quot;name&quot;: &quot;Alice&quot;, &quot;age&quot;: 30, &quot;scores&quot;: [95, 87, 92]}) print(fory.loads(data)) # Â∫èÂàóÂåñËá™ÂÆö‰πâÂØπË±° from dataclasses import dataclass @dataclass class Person: name: str age: int person = Person(&quot;Bob&quot;, 25) data = fory.dumps(person) print(fory.loads(data)) # Person(name='Bob', age=25)   ","version":"dev","tagName":"h3"},{"title":"Â∫èÂàóÂåñÂÖ®Â±ÄÂáΩÊï∞‚Äã","type":1,"pageTitle":"Python ÂéüÁîüÊ®°Âºè","url":"/zh-CN/docs/next/guide/python/native_mode#Â∫èÂàóÂåñÂÖ®Â±ÄÂáΩÊï∞","content":" ÊçïËé∑Âπ∂Â∫èÂàóÂåñÂú®Ê®°ÂùóÁ∫ßÂà´ÂÆö‰πâÁöÑÂáΩÊï∞„ÄÇFory ÂèçÂ∫èÂàóÂåñÂπ∂ËøîÂõûÁõ∏ÂêåÁöÑÂáΩÊï∞ÂØπË±°Ôºö  import pyfory fory = pyfory.Fory(xlang=False, ref=True, strict=False) def my_global_function(x): return 10 * x data = fory.dumps(my_global_function) print(fory.loads(data)(10)) # 100   ","version":"dev","tagName":"h2"},{"title":"Â∫èÂàóÂåñÂ±ÄÈÉ®ÂáΩÊï∞/Lambda‚Äã","type":1,"pageTitle":"Python ÂéüÁîüÊ®°Âºè","url":"/zh-CN/docs/next/guide/python/native_mode#Â∫èÂàóÂåñÂ±ÄÈÉ®ÂáΩÊï∞lambda","content":" Â∫èÂàóÂåñÂ∏¶Èó≠ÂåÖÁöÑÂáΩÊï∞Âíå lambda Ë°®ËææÂºè„ÄÇFory Ëá™Âä®ÊçïËé∑Èó≠ÂåÖÂèòÈáèÔºö  import pyfory fory = pyfory.Fory(xlang=False, ref=True, strict=False) # Â∏¶Èó≠ÂåÖÁöÑÂ±ÄÈÉ®ÂáΩÊï∞ def my_function(): local_var = 10 def local_func(x): return x * local_var return local_func data = fory.dumps(my_function()) print(fory.loads(data)(10)) # 100 # Lambda data = fory.dumps(lambda x: 10 * x) print(fory.loads(data)(10)) # 100   ","version":"dev","tagName":"h2"},{"title":"Â∫èÂàóÂåñÂÖ®Â±ÄÁ±ª/ÊñπÊ≥ï‚Äã","type":1,"pageTitle":"Python ÂéüÁîüÊ®°Âºè","url":"/zh-CN/docs/next/guide/python/native_mode#Â∫èÂàóÂåñÂÖ®Â±ÄÁ±ªÊñπÊ≥ï","content":" Â∫èÂàóÂåñÁ±ªÂØπË±°„ÄÅÂÆû‰æãÊñπÊ≥ï„ÄÅÁ±ªÊñπÊ≥ïÂíåÈùôÊÄÅÊñπÊ≥ïÔºö  from dataclasses import dataclass import pyfory fory = pyfory.Fory(xlang=False, ref=True, strict=False) @dataclass class Person: name: str age: int def f(self, x): return self.age * x @classmethod def g(cls, x): return 10 * x @staticmethod def h(x): return 10 * x # Â∫èÂàóÂåñÂÖ®Â±ÄÁ±ª print(fory.loads(fory.dumps(Person))(&quot;Bob&quot;, 25)) # Person(name='Bob', age=25) # Â∫èÂàóÂåñÂÆû‰æãÊñπÊ≥ï print(fory.loads(fory.dumps(Person(&quot;Bob&quot;, 20).f))(10)) # 200 # Â∫èÂàóÂåñÁ±ªÊñπÊ≥ï print(fory.loads(fory.dumps(Person.g))(10)) # 100 # Â∫èÂàóÂåñÈùôÊÄÅÊñπÊ≥ï print(fory.loads(fory.dumps(Person.h))(10)) # 100   ","version":"dev","tagName":"h2"},{"title":"Â∫èÂàóÂåñÂ±ÄÈÉ®Á±ª/ÊñπÊ≥ï‚Äã","type":1,"pageTitle":"Python ÂéüÁîüÊ®°Âºè","url":"/zh-CN/docs/next/guide/python/native_mode#Â∫èÂàóÂåñÂ±ÄÈÉ®Á±ªÊñπÊ≥ï","content":" Â∫èÂàóÂåñÂú®ÂáΩÊï∞ÂÜÖÂÆö‰πâÁöÑÁ±ªÂèäÂÖ∂ÊñπÊ≥ïÔºö  from dataclasses import dataclass import pyfory fory = pyfory.Fory(xlang=False, ref=True, strict=False) def create_local_class(): class LocalClass: def f(self, x): return 10 * x @classmethod def g(cls, x): return 10 * x @staticmethod def h(x): return 10 * x return LocalClass # Â∫èÂàóÂåñÂ±ÄÈÉ®Á±ª data = fory.dumps(create_local_class()) print(fory.loads(data)().f(10)) # 100 # Â∫èÂàóÂåñÂ±ÄÈÉ®Á±ªÂÆû‰æãÊñπÊ≥ï data = fory.dumps(create_local_class()().f) print(fory.loads(data)(10)) # 100 # Â∫èÂàóÂåñÂ±ÄÈÉ®Á±ªÊñπÊ≥ï data = fory.dumps(create_local_class().g) print(fory.loads(data)(10)) # 100 # Â∫èÂàóÂåñÂ±ÄÈÉ®Á±ªÈùôÊÄÅÊñπÊ≥ï data = fory.dumps(create_local_class().h) print(fory.loads(data)(10)) # 100   ","version":"dev","tagName":"h2"},{"title":"ÊÄßËÉΩÊØîËæÉ‚Äã","type":1,"pageTitle":"Python ÂéüÁîüÊ®°Âºè","url":"/zh-CN/docs/next/guide/python/native_mode#ÊÄßËÉΩÊØîËæÉ","content":" import pyfory import pickle import timeit fory = pyfory.Fory(xlang=False, ref=True, strict=False) obj = {f&quot;key{i}&quot;: f&quot;value{i}&quot; for i in range(10000)} print(f&quot;Fory: {timeit.timeit(lambda: fory.dumps(obj), number=1000):.3f}s&quot;) print(f&quot;Pickle: {timeit.timeit(lambda: pickle.dumps(obj), number=1000):.3f}s&quot;)   ","version":"dev","tagName":"h2"},{"title":"Áõ∏ÂÖ≥‰∏ªÈ¢ò‚Äã","type":1,"pageTitle":"Python ÂéüÁîüÊ®°Âºè","url":"/zh-CN/docs/next/guide/python/native_mode#Áõ∏ÂÖ≥‰∏ªÈ¢ò","content":" ÈÖçÁΩÆ - Python Ê®°ÂºèÈÖçÁΩÆÂ∏¶Â§ñÂ∫èÂàóÂåñ - Èõ∂Êã∑Ë¥ùÁºìÂÜ≤Âå∫ÂÆâÂÖ®ÊÄß - DeserializationPolicy ","version":"dev","tagName":"h2"},{"title":"Â≠óÊÆµÈÖçÁΩÆ","type":0,"sectionRef":"#","url":"/zh-CN/docs/next/guide/python/field_configuration","content":"","keywords":"","version":"dev"},{"title":"Ê¶ÇËø∞‚Äã","type":1,"pageTitle":"Â≠óÊÆµÈÖçÁΩÆ","url":"/zh-CN/docs/next/guide/python/field_configuration#Ê¶ÇËø∞","content":" Apache ForyTM ÈÄöËøá‰ª•‰∏ãÊú∫Âà∂Êèê‰æõÂ≠óÊÆµÁ∫ßÈÖçÁΩÆÔºö  pyfory.field()ÔºöÈÖçÁΩÆÂ≠óÊÆµÂÖÉ‰ø°ÊÅØÔºàid„ÄÅnullable„ÄÅref„ÄÅignore„ÄÅdynamicÔºâÁ±ªÂûãÊ≥®Ëß£ÔºöÊéßÂà∂Êï¥Êï∞ÁºñÁ†ÅÔºàvarint„ÄÅfixed„ÄÅtaggedÔºâOptional[T]ÔºöÊ†áËÆ∞Â≠óÊÆµÂèØÁ©∫  Ëøô‰∫õËÉΩÂäõÂèØÁî®‰∫éÔºö  Tag IDÔºöÂàÜÈÖçÁ¥ßÂáëÊï∞ÂÄº IDÔºåÈôç‰Ωé struct Â≠óÊÆµÂÖÉ‰ø°ÊÅØÂºÄÈîÄÂèØÁ©∫ÊéßÂà∂ÔºöÂ£∞ÊòéÂ≠óÊÆµÊòØÂê¶ÂèØ‰∏∫ null/NoneÂºïÁî®Ë∑üË∏™Ôºö‰∏∫ÂÖ±‰∫´ÂØπË±°ÂêØÁî®ÂºïÁî®Ë∑üË∏™Â≠óÊÆµË∑≥ËøáÔºö‰ªéÂ∫èÂàóÂåñ‰∏≠ÊéíÈô§Â≠óÊÆµÁºñÁ†ÅÊéßÂà∂ÔºöÊåáÂÆöÊï¥Êï∞ÁºñÁ†ÅÊñπÂºèÔºàvarint„ÄÅfixed„ÄÅtaggedÔºâÂ§öÊÄÅÊéßÂà∂ÔºöÊéßÂà∂ struct Â≠óÊÆµÊòØÂê¶ÂÜôÂÖ•Á±ªÂûã‰ø°ÊÅØ  ","version":"dev","tagName":"h2"},{"title":"Âü∫Êú¨ËØ≠Ê≥ï‚Äã","type":1,"pageTitle":"Â≠óÊÆµÈÖçÁΩÆ","url":"/zh-CN/docs/next/guide/python/field_configuration#Âü∫Êú¨ËØ≠Ê≥ï","content":" ÁªìÂêà @dataclass„ÄÅÁ±ªÂûãÊ≥®Ëß£‰∏é pyfory.field()Ôºö  from dataclasses import dataclass from typing import Optional import pyfory @dataclass class Person: name: str = pyfory.field(id=0) age: pyfory.int32 = pyfory.field(id=1, default=0) nickname: Optional[str] = pyfory.field(id=2, nullable=True, default=None)   ","version":"dev","tagName":"h2"},{"title":"pyfory.field() ÂáΩÊï∞‚Äã","type":1,"pageTitle":"Â≠óÊÆµÈÖçÁΩÆ","url":"/zh-CN/docs/next/guide/python/field_configuration#pyforyfield-ÂáΩÊï∞","content":" ‰ΩøÁî® pyfory.field() ÈÖçÁΩÆÂ≠óÊÆµÁ∫ßÂÖÉ‰ø°ÊÅØÔºö  @dataclass class User: id: pyfory.int64 = pyfory.field(id=0, default=0) name: str = pyfory.field(id=1, default=&quot;&quot;) email: Optional[str] = pyfory.field(id=2, nullable=True, default=None) friends: List[&quot;User&quot;] = pyfory.field(id=3, ref=True, default_factory=list) _cache: dict = pyfory.field(ignore=True, default_factory=dict)   ","version":"dev","tagName":"h2"},{"title":"ÂèÇÊï∞‚Äã","type":1,"pageTitle":"Â≠óÊÆµÈÖçÁΩÆ","url":"/zh-CN/docs/next/guide/python/field_configuration#ÂèÇÊï∞","content":" ÂèÇÊï∞\tÁ±ªÂûã\tÈªòËÆ§ÂÄº\tËØ¥Êòéid\tint\t-1\tÂ≠óÊÆµ tag IDÔºà-1 Ë°®Á§∫‰ΩøÁî®Â≠óÊÆµÂêçÔºâ nullable\tbool\tFalse\tÂ≠óÊÆµÊòØÂê¶ÂèØ‰∏∫ null/None ref\tbool\tFalse\tÊòØÂê¶ÂêØÁî®ÂºïÁî®Ë∑üË∏™ ignore\tbool\tFalse\tÊòØÂê¶‰ªéÂ∫èÂàóÂåñ‰∏≠ÊéíÈô§ dynamic\tbool\tNone\tÊéßÂà∂ÊòØÂê¶ÂÜôÂÖ•Á±ªÂûã‰ø°ÊÅØ default\tAny\tMISSING\tÂ≠óÊÆµÈªòËÆ§ÂÄº default_factory\tCallable\tMISSING\tÈªòËÆ§ÂÄºÂ∑•ÂéÇÂáΩÊï∞  ","version":"dev","tagName":"h3"},{"title":"Â≠óÊÆµ IDÔºàidÔºâ‚Äã","type":1,"pageTitle":"Â≠óÊÆµÈÖçÁΩÆ","url":"/zh-CN/docs/next/guide/python/field_configuration#Â≠óÊÆµ-idid","content":" ÈÄöËøáÁªôÂ≠óÊÆµÂàÜÈÖçÊï∞ÂÄº IDÔºåÂèØÂáèÂ∞ë struct Â≠óÊÆµÂÖÉ‰ø°ÊÅØÂºÄÈîÄÔºö  @dataclass class User: id: pyfory.int64 = pyfory.field(id=0, default=0) name: str = pyfory.field(id=1, default=&quot;&quot;) age: pyfory.int32 = pyfory.field(id=2, default=0)   Êî∂ÁõäÔºö  Â∫èÂàóÂåñ‰ΩìÁßØÊõ¥Â∞èÔºàÂÖÉ‰ø°ÊÅØ‰∏≠Êï∞ÂÄº ID Êõø‰ª£Â≠óÊÆµÂêçÔºâstruct Â≠óÊÆµÂÖÉ‰ø°ÊÅØÂºÄÈîÄÊõ¥‰ΩéÂ≠óÊÆµÈáçÂëΩÂêçÊó∂ÂèØ‰øùÊåÅ‰∫åËøõÂà∂ÂÖºÂÆπ  Âª∫ËÆÆÔºö ÂÖºÂÆπÊ®°Âºè‰∏ãÂª∫ËÆÆÈÖçÁΩÆÂ≠óÊÆµ IDÔºå‰ª•Èôç‰ΩéÂ∫èÂàóÂåñÊàêÊú¨„ÄÇ  Ê≥®ÊÑèÔºö  Âêå‰∏ÄÁ±ªÂÜÖ ID ÂøÖÈ°ªÂîØ‰∏ÄID ÂøÖÈ°ª &gt;= 0Ôºà-1 Ë°®Á§∫‰ΩøÁî®Â≠óÊÆµÂêçÁºñÁ†ÅÔºåÈªòËÆ§Ë°å‰∏∫ÔºâÊú™ÊåáÂÆöÊó∂‰ºö‰ΩøÁî®Â≠óÊÆµÂêçÂÜôÂÖ•ÂÖÉ‰ø°ÊÅØÔºàÂºÄÈîÄÊõ¥Â§ßÔºâ  ‰∏çÈÖçÁΩÆÂ≠óÊÆµ IDÔºàÂÖÉ‰ø°ÊÅØ‰ΩøÁî®Â≠óÊÆµÂêçÔºâÁ§∫‰æãÔºö  @dataclass class User: id: pyfory.int64 = 0 name: str = &quot;&quot;   ","version":"dev","tagName":"h2"},{"title":"ÂèØÁ©∫Â≠óÊÆµÔºànullableÔºâ‚Äã","type":1,"pageTitle":"Â≠óÊÆµÈÖçÁΩÆ","url":"/zh-CN/docs/next/guide/python/field_configuration#ÂèØÁ©∫Â≠óÊÆµnullable","content":" ÂØπÂèØËÉΩ‰∏∫ None ÁöÑÂ≠óÊÆµ‰ΩøÁî® nullable=TrueÔºö  from typing import Optional @dataclass class Record: # ÂèØÁ©∫Â≠óÁ¨¶‰∏≤Â≠óÊÆµ optional_name: Optional[str] = pyfory.field(id=0, nullable=True, default=None) # ÂèØÁ©∫Êï¥Êï∞Â≠óÊÆµ optional_count: Optional[pyfory.int32] = pyfory.field(id=1, nullable=True, default=None)   Ê≥®ÊÑèÔºö  Optional[T] Â≠óÊÆµÂ∫îÈÖçÂêà nullable=TrueÈùû Optional Â≠óÊÆµÈªòËÆ§ nullable=False  ","version":"dev","tagName":"h2"},{"title":"ÂºïÁî®Ë∑üË∏™ÔºàrefÔºâ‚Äã","type":1,"pageTitle":"Â≠óÊÆµÈÖçÁΩÆ","url":"/zh-CN/docs/next/guide/python/field_configuration#ÂºïÁî®Ë∑üË∏™ref","content":" ÂØπ‰∫éÂèØËÉΩÂÖ±‰∫´ÊàñÂæ™ÁéØÂºïÁî®ÁöÑÂ≠óÊÆµÂêØÁî®ÂºïÁî®Ë∑üË∏™Ôºö  @dataclass class RefOuter: # ‰∏§‰∏™Â≠óÊÆµÂèØËÉΩÊåáÂêëÂêå‰∏Ä‰∏™ÂÜÖÈÉ®ÂØπË±° inner1: Optional[RefInner] = pyfory.field(id=0, ref=True, nullable=True, default=None) inner2: Optional[RefInner] = pyfory.field(id=1, ref=True, nullable=True, default=None) @dataclass class CircularRef: name: str = pyfory.field(id=0, default=&quot;&quot;) # Ëá™ÂºïÁî®Â≠óÊÆµÔºåÁî®‰∫éÂæ™ÁéØÂºïÁî® self_ref: Optional[&quot;CircularRef&quot;] = pyfory.field(id=1, ref=True, nullable=True, default=None)   ÈÄÇÁî®Âú∫ÊôØÔºö  Â≠óÊÆµÂèØËÉΩÂΩ¢ÊàêÂæ™ÁéØÊàñÂÖ±‰∫´ÂÖ≥Á≥ªÂêå‰∏ÄÂØπË±°Ë¢´Â§ö‰∏™Â≠óÊÆµÂºïÁî®  Ê≥®ÊÑèÔºö  Âè™ÊúâÂÖ®Â±ÄËÆæÁΩÆ Fory(ref=True) Êó∂ÔºåÂºïÁî®Ë∑üË∏™ÊâçÁîüÊïàÂ≠óÊÆµÁ∫ß ref=True ‰∏éÂÖ®Â±Ä ref=True ÂøÖÈ°ªÂêåÊó∂ÂºÄÂêØ  ","version":"dev","tagName":"h2"},{"title":"Ë∑≥ËøáÂ≠óÊÆµÔºàignoreÔºâ‚Äã","type":1,"pageTitle":"Â≠óÊÆµÈÖçÁΩÆ","url":"/zh-CN/docs/next/guide/python/field_configuration#Ë∑≥ËøáÂ≠óÊÆµignore","content":" Â∞ÜÂ≠óÊÆµÊéíÈô§Âú®Â∫èÂàóÂåñ‰πãÂ§ñÔºö  @dataclass class User: id: pyfory.int64 = pyfory.field(id=0, default=0) name: str = pyfory.field(id=1, default=&quot;&quot;) # ‰∏çÂ∫èÂàóÂåñ _cache: dict = pyfory.field(ignore=True, default_factory=dict) _internal_state: str = pyfory.field(ignore=True, default=&quot;&quot;)   ","version":"dev","tagName":"h2"},{"title":"Dynamic Â≠óÊÆµÔºàdynamicÔºâ‚Äã","type":1,"pageTitle":"Â≠óÊÆµÈÖçÁΩÆ","url":"/zh-CN/docs/next/guide/python/field_configuration#dynamic-Â≠óÊÆµdynamic","content":" ÊéßÂà∂ struct Â≠óÊÆµÊòØÂê¶ÂÜôÂÖ•Á±ªÂûã‰ø°ÊÅØÔºåËøôÊòØÊîØÊåÅÂ§öÊÄÅÁöÑÂÖ≥ÈîÆÔºö  from abc import ABC, abstractmethod class Shape(ABC): @abstractmethod def area(self) -&gt; float: pass @dataclass class Circle(Shape): radius: float = 0.0 def area(self) -&gt; float: return 3.14159 * self.radius * self.radius @dataclass class Container: # ÊäΩË±°Á±ªÔºödynamic ÊÄª‰∏∫ TrueÔºàÂÜôÁ±ªÂûã‰ø°ÊÅØÔºâ shape: Shape = pyfory.field(id=0) # ÂØπÂÖ∑‰ΩìÁ±ªÂûãÂº∫Âà∂ÂÜôÁ±ªÂûã‰ø°ÊÅØÔºàÊîØÊåÅËøêË°åÊó∂Â≠êÁ±ªÔºâ circle: Circle = pyfory.field(id=1, dynamic=True) # ÂØπÂÖ∑‰ΩìÁ±ªÂûãË∑≥ËøáÁ±ªÂûã‰ø°ÊÅØÔºàÊåâÂ£∞ÊòéÁ±ªÂûãÂ§ÑÁêÜÔºâ fixed_circle: Circle = pyfory.field(id=2, dynamic=False)   ÈªòËÆ§Ë°å‰∏∫Ôºö  Ê®°Âºè\tÊäΩË±°Á±ª\tÂÖ∑‰ΩìÂØπË±°Á±ªÂûã\tÊï∞ÂÄº/str/time Á±ªÂûãNative Ê®°Âºè\tTrue\tTrue\tFalse Xlang Ê®°Âºè\tTrue\tFalse\tFalse  Ê≥®ÊÑèÔºö  ÊäΩË±°Á±ªÔºödynamic ÂßãÁªà‰∏∫ TrueÔºàÂøÖÈ°ªÂÜôÁ±ªÂûã‰ø°ÊÅØÔºâNative Ê®°ÂºèÔºöÂØπË±°Á±ªÂûãÈªòËÆ§ dynamic=TrueÔºõÊï∞ÂÄº/str/time ÈªòËÆ§ FalseXlang Ê®°ÂºèÔºöÂÖ∑‰ΩìÁ±ªÂûãÈªòËÆ§ dynamic=FalseÂΩìÂÖ∑‰ΩìÂ≠óÊÆµÂèØËÉΩÊåÅÊúâÂ≠êÁ±ªÂÆû‰æãÊó∂Ôºå‰ΩøÁî® dynamic=TrueÂΩìÁ±ªÂûãÂõ∫ÂÆö‰∏îËøΩÊ±ÇÊÄßËÉΩÊó∂ÔºåÂèØ‰ΩøÁî® dynamic=False  ","version":"dev","tagName":"h2"},{"title":"Êï¥Êï∞Á±ªÂûãÊ≥®Ëß£‚Äã","type":1,"pageTitle":"Â≠óÊÆµÈÖçÁΩÆ","url":"/zh-CN/docs/next/guide/python/field_configuration#Êï¥Êï∞Á±ªÂûãÊ≥®Ëß£","content":" Fory Êèê‰æõÁ±ªÂûãÊ≥®Ëß£Êù•ÊéßÂà∂Êï¥Êï∞ÁºñÁ†Å„ÄÇ  ","version":"dev","tagName":"h2"},{"title":"ÊúâÁ¨¶Âè∑Êï¥Êï∞‚Äã","type":1,"pageTitle":"Â≠óÊÆµÈÖçÁΩÆ","url":"/zh-CN/docs/next/guide/python/field_configuration#ÊúâÁ¨¶Âè∑Êï¥Êï∞","content":" @dataclass class SignedIntegers: byte_val: pyfory.int8 = 0 # 8-bit signed short_val: pyfory.int16 = 0 # 16-bit signed int_val: pyfory.int32 = 0 # 32-bit signed (varint encoding) long_val: pyfory.int64 = 0 # 64-bit signed (varint encoding)   ","version":"dev","tagName":"h3"},{"title":"Êó†Á¨¶Âè∑Êï¥Êï∞‚Äã","type":1,"pageTitle":"Â≠óÊÆµÈÖçÁΩÆ","url":"/zh-CN/docs/next/guide/python/field_configuration#Êó†Á¨¶Âè∑Êï¥Êï∞","content":" @dataclass class UnsignedIntegers: # Fixed-size encoding u8_val: pyfory.uint8 = 0 # 8-bit unsigned (fixed) u16_val: pyfory.uint16 = 0 # 16-bit unsigned (fixed) # Variable-length encoding (default for u32/u64) u32_var: pyfory.uint32 = 0 # 32-bit unsigned (varint) u64_var: pyfory.uint64 = 0 # 64-bit unsigned (varint) # Explicit fixed-size encoding u32_fixed: pyfory.fixed_uint32 = 0 # 32-bit unsigned (fixed 4 bytes) u64_fixed: pyfory.fixed_uint64 = 0 # 64-bit unsigned (fixed 8 bytes) # Tagged encoding (includes type tag) u64_tagged: pyfory.tagged_uint64 = 0 # 64-bit unsigned (tagged)   ","version":"dev","tagName":"h3"},{"title":"ÊµÆÁÇπÊï∞‚Äã","type":1,"pageTitle":"Â≠óÊÆµÈÖçÁΩÆ","url":"/zh-CN/docs/next/guide/python/field_configuration#ÊµÆÁÇπÊï∞","content":" @dataclass class FloatingPoint: float_val: pyfory.float32 = 0.0 # 32-bit float double_val: pyfory.float64 = 0.0 # 64-bit double   ","version":"dev","tagName":"h3"},{"title":"ÁºñÁ†ÅÊ±áÊÄª‚Äã","type":1,"pageTitle":"Â≠óÊÆµÈÖçÁΩÆ","url":"/zh-CN/docs/next/guide/python/field_configuration#ÁºñÁ†ÅÊ±áÊÄª","content":" Á±ªÂûã\tÁºñÁ†Å\tÂ§ßÂ∞èpyfory.int8\tfixed\t1 Â≠óËäÇ pyfory.int16\tfixed\t2 Â≠óËäÇ pyfory.int32\tvarint\t1-5 Â≠óËäÇ pyfory.int64\tvarint\t1-10 Â≠óËäÇ pyfory.uint8\tfixed\t1 Â≠óËäÇ pyfory.uint16\tfixed\t2 Â≠óËäÇ pyfory.uint32\tvarint\t1-5 Â≠óËäÇ pyfory.uint64\tvarint\t1-10 Â≠óËäÇ pyfory.fixed_uint32\tfixed\t4 Â≠óËäÇ pyfory.fixed_uint64\tfixed\t8 Â≠óËäÇ pyfory.tagged_uint64\ttagged\t1-9 Â≠óËäÇ pyfory.float32\tfixed\t4 Â≠óËäÇ pyfory.float64\tfixed\t8 Â≠óËäÇ  ‰ΩïÊó∂‰ΩøÁî®Ôºö  varintÔºöÈÄÇÂêàÂ∞èÂÄºÂç†Â§öÊï∞ÁöÑÂú∫ÊôØÔºàint32/int64/uint32/uint64 ÈªòËÆ§ÔºâfixedÔºöÈÄÇÂêàË¶ÜÁõñÂÖ®ÂÄºÂüüÁöÑÂú∫ÊôØÔºà‰æãÂ¶ÇÊó∂Èó¥Êà≥„ÄÅÂìàÂ∏åÔºâtaggedÔºöÈÄÇÂêàÈúÄË¶Å‰øùÁïôÁ±ªÂûã‰ø°ÊÅØÁöÑÂú∫ÊôØÔºà‰ªÖ uint64Ôºâ  ","version":"dev","tagName":"h3"},{"title":"ÂÆåÊï¥Á§∫‰æã‚Äã","type":1,"pageTitle":"Â≠óÊÆµÈÖçÁΩÆ","url":"/zh-CN/docs/next/guide/python/field_configuration#ÂÆåÊï¥Á§∫‰æã","content":" from dataclasses import dataclass from typing import Optional, List, Dict, Set import pyfory @dataclass class Document: # Fields with tag IDs (recommended for compatible mode) title: str = pyfory.field(id=0, default=&quot;&quot;) version: pyfory.int32 = pyfory.field(id=1, default=0) # Nullable field description: Optional[str] = pyfory.field(id=2, nullable=True, default=None) # Collection fields tags: List[str] = pyfory.field(id=3, default_factory=list) metadata: Dict[str, str] = pyfory.field(id=4, default_factory=dict) categories: Set[str] = pyfory.field(id=5, default_factory=set) # Unsigned integers with different encodings view_count: pyfory.uint64 = pyfory.field(id=6, default=0) # varint encoding file_size: pyfory.fixed_uint64 = pyfory.field(id=7, default=0) # fixed encoding checksum: pyfory.tagged_uint64 = pyfory.field(id=8, default=0) # tagged encoding # Reference-tracked field for shared/circular references parent: Optional[&quot;Document&quot;] = pyfory.field(id=9, ref=True, nullable=True, default=None) # Ignored field (not serialized) _cache: dict = pyfory.field(ignore=True, default_factory=dict) def main(): fory = pyfory.Fory(xlang=True, compatible=True, ref=True) fory.register_type(Document, type_id=100) doc = Document( title=&quot;My Document&quot;, version=1, description=&quot;A sample document&quot;, tags=[&quot;tag1&quot;, &quot;tag2&quot;], metadata={&quot;key&quot;: &quot;value&quot;}, categories={&quot;cat1&quot;}, view_count=42, file_size=1024, checksum=123456789, parent=None, ) # Serialize data = fory.serialize(doc) # Deserialize decoded = fory.deserialize(data) assert decoded.title == doc.title assert decoded.version == doc.version if __name__ == &quot;__main__&quot;: main()   ","version":"dev","tagName":"h2"},{"title":"Ë∑®ËØ≠Ë®ÄÂÖºÂÆπ‚Äã","type":1,"pageTitle":"Â≠óÊÆµÈÖçÁΩÆ","url":"/zh-CN/docs/next/guide/python/field_configuration#Ë∑®ËØ≠Ë®ÄÂÖºÂÆπ","content":" ÂΩìÂ∫èÂàóÂåñÊï∞ÊçÆÂ∞ÜË¢´ÂÖ∂‰ªñËØ≠Ë®ÄÔºàJava„ÄÅRust„ÄÅC++„ÄÅGoÔºâËØªÂèñÊó∂ÔºåÂª∫ËÆÆ‰ΩøÁî®Â≠óÊÆµ ID Âπ∂ÈÖçÂ•óÁ±ªÂûãÊ≥®Ëß£Ôºö  @dataclass class CrossLangData: # Use field IDs for cross-language compatibility int_var: pyfory.int32 = pyfory.field(id=0, default=0) long_fixed: pyfory.fixed_uint64 = pyfory.field(id=1, default=0) long_tagged: pyfory.tagged_uint64 = pyfory.field(id=2, default=0) optional_value: Optional[str] = pyfory.field(id=3, nullable=True, default=None)   ","version":"dev","tagName":"h2"},{"title":"Schema ÊºîËøõ‚Äã","type":1,"pageTitle":"Â≠óÊÆµÈÖçÁΩÆ","url":"/zh-CN/docs/next/guide/python/field_configuration#schema-ÊºîËøõ","content":" ÂÖºÂÆπÊ®°ÂºèÊîØÊåÅ Schema ÊºîËøõ„ÄÇÂª∫ËÆÆÈÄöËøáÂ≠óÊÆµ ID Èôç‰ΩéÂ∫èÂàóÂåñÊàêÊú¨Ôºö  # Version 1 @dataclass class DataV1: id: pyfory.int64 = pyfory.field(id=0, default=0) name: str = pyfory.field(id=1, default=&quot;&quot;) # Version 2: Added new field @dataclass class DataV2: id: pyfory.int64 = pyfory.field(id=0, default=0) name: str = pyfory.field(id=1, default=&quot;&quot;) email: Optional[str] = pyfory.field(id=2, nullable=True, default=None) # New field   V1 ÂÜôÂá∫ÁöÑÊï∞ÊçÆÂèØÁî± V2 ËØªÂèñÔºàÊñ∞Â¢ûÂ≠óÊÆµÂ∞Ü‰∏∫ NoneÔºâ„ÄÇ  ‰πüÂèØ‰ª•‰∏çÈÖçÁΩÆÂ≠óÊÆµ IDÔºàÊ≠§Êó∂ÂÖÉ‰ø°ÊÅØ‰ΩøÁî®Â≠óÊÆµÂêçÔºåÂºÄÈîÄÊõ¥Â§ßÔºâÔºö  @dataclass class Data: id: pyfory.int64 = 0 name: str = &quot;&quot;   ","version":"dev","tagName":"h2"},{"title":"Native Ê®°Âºè‰∏é Xlang Ê®°Âºè‚Äã","type":1,"pageTitle":"Â≠óÊÆµÈÖçÁΩÆ","url":"/zh-CN/docs/next/guide/python/field_configuration#native-Ê®°Âºè‰∏é-xlang-Ê®°Âºè","content":" Â≠óÊÆµÈÖçÁΩÆ‰ºöÈöèÂ∫èÂàóÂåñÊ®°Âºè‰∏çÂêåËÄåÂèòÂåñ„ÄÇ  ","version":"dev","tagName":"h2"},{"title":"Native Ê®°ÂºèÔºà‰ªÖ PythonÔºâ‚Äã","type":1,"pageTitle":"Â≠óÊÆµÈÖçÁΩÆ","url":"/zh-CN/docs/next/guide/python/field_configuration#native-Ê®°Âºè‰ªÖ-python","content":" Native Ê®°ÂºèÈªòËÆ§ÂÄºÊõ¥ÂÆΩÊùæÔºå‰ª•Ëé∑ÂæóÊõ¥È´òÂÖºÂÆπÊÄßÔºö  NullableÔºöstr ÂíåÊï∞ÂÄºÁ±ªÂûãÈªòËÆ§‰∏çÂèØÁ©∫ÔºåÈô§Èùû‰ΩøÁî® OptionalRef trackingÔºöÂØπË±°ÂºïÁî®ÈªòËÆ§ÂºÄÂêØÔºàstr ‰∏éÊï∞ÂÄºÁ±ªÂûãÈô§Â§ñÔºâ  Âú® Native Ê®°Âºè‰∏≠ÔºåÈÄöÂ∏∏‰∏çÈúÄË¶ÅÊòæÂºèÂ≠óÊÆµÈÖçÁΩÆÔºåÈô§Èùû‰Ω†Â∏åÊúõÔºö  ÈÄöËøáÂ≠óÊÆµ ID Èôç‰ΩéÂ∫èÂàóÂåñ‰ΩìÁßØÂÖ≥Èó≠‰∏çÂøÖË¶ÅÁöÑ ref Ë∑üË∏™‰ª•‰ºòÂåñÊÄßËÉΩ  # Native mode: works without field configuration @dataclass class User: id: int = 0 name: str = &quot;&quot; tags: List[str] = None   ","version":"dev","tagName":"h3"},{"title":"Xlang Ê®°ÂºèÔºàË∑®ËØ≠Ë®ÄÔºâ‚Äã","type":1,"pageTitle":"Â≠óÊÆµÈÖçÁΩÆ","url":"/zh-CN/docs/next/guide/python/field_configuration#xlang-Ê®°ÂºèË∑®ËØ≠Ë®Ä","content":" Áî±‰∫éËØ≠Ë®ÄÈó¥Á±ªÂûãÁ≥ªÁªüÂ∑ÆÂºÇÔºåXlang Ê®°ÂºèÈªòËÆ§ÂÄºÊõ¥‰∏•Ê†ºÔºö  NullableÔºöÈªòËÆ§‰∏çÂèØÁ©∫Ôºànullable=FalseÔºâRef trackingÔºöÈªòËÆ§ÂÖ≥Èó≠Ôºàref=FalseÔºâ  Âú® Xlang Ê®°Âºè‰∏≠Ôºå‰ª•‰∏ãÊÉÖÂÜµÈúÄË¶ÅÊòæÂºèÈÖçÁΩÆÔºö  Â≠óÊÆµÂèØËÉΩ‰∏∫ NoneÔºàOptional[T] + nullable=TrueÔºâÂ≠óÊÆµÈúÄË¶ÅÂÖ±‰∫´/Âæ™ÁéØÂºïÁî®ËØ≠‰πâÔºàref=TrueÔºâÊï¥Êï∞Á±ªÂûãÈúÄË¶ÅÊåáÂÆöË∑®ËØ≠Ë®ÄÁºñÁ†ÅÈúÄË¶ÅÂáèÂ∞ëÂÖÉ‰ø°ÊÅØÂºÄÈîÄÔºàÂ≠óÊÆµ IDÔºâ  # Xlang mode: explicit configuration required for nullable/ref fields @dataclass class User: id: pyfory.int64 = pyfory.field(id=0, default=0) name: str = pyfory.field(id=1, default=&quot;&quot;) email: Optional[str] = pyfory.field(id=2, nullable=True, default=None) # Must declare nullable friend: Optional[&quot;User&quot;] = pyfory.field(id=3, ref=True, nullable=True, default=None) # Must declare ref   ","version":"dev","tagName":"h3"},{"title":"ÈªòËÆ§ÂÄºÊ±áÊÄª‚Äã","type":1,"pageTitle":"Â≠óÊÆµÈÖçÁΩÆ","url":"/zh-CN/docs/next/guide/python/field_configuration#ÈªòËÆ§ÂÄºÊ±áÊÄª","content":" ÈÄâÈ°π\tNative Ê®°ÂºèÈªòËÆ§ÂÄº\tXlang Ê®°ÂºèÈªòËÆ§ÂÄºnullable\tstr/Êï∞ÂÄºÁ±ªÂûã‰∏∫ FalseÔºåÂÖ∂‰ΩôÂØπË±°ÈÄöÂ∏∏ÂèØÁ©∫\tFalse ref\tTrueÔºàstr ÂíåÊï∞ÂÄºÁ±ªÂûãÈô§Â§ñÔºâ\tFalse dynamic\tTrueÔºàÊï∞ÂÄº/str/time Á±ªÂûãÈô§Â§ñÔºâ\tFalseÔºàÂÖ∑‰ΩìÁ±ªÂûãÔºâ  ","version":"dev","tagName":"h3"},{"title":"ÊúÄ‰Ω≥ÂÆûË∑µ‚Äã","type":1,"pageTitle":"Â≠óÊÆµÈÖçÁΩÆ","url":"/zh-CN/docs/next/guide/python/field_configuration#ÊúÄ‰Ω≥ÂÆûË∑µ","content":" ÈÖçÁΩÆÂ≠óÊÆµ IDÔºöÂÖºÂÆπÊ®°Âºè‰∏ãÂª∫ËÆÆÈÖçÁΩÆÔºåÈôç‰ΩéÂ∫èÂàóÂåñÊàêÊú¨Optional[T] ÈÖçÂêà nullable=TrueÔºöxlang ‰∏ãÂèØÁ©∫Â≠óÊÆµÈúÄË¶ÅÊòæÂºèÂ£∞ÊòéÂÖ±‰∫´ÂØπË±°ÂêØÁî® refÔºöÂÖ±‰∫´ÊàñÂæ™ÁéØÂÖ≥Á≥ª‰ΩøÁî® ref=TrueÊïèÊÑüÂ≠óÊÆµ‰ΩøÁî® ignore=TrueÔºö‰æãÂ¶ÇÂØÜÁ†Å„ÄÅ‰ª§Áâå„ÄÅÂÜÖÈÉ®Áä∂ÊÄÅÈÄâÊã©ÂêàÈÄÇÁºñÁ†ÅÔºöÂ∞èÂÄºÁî® varintÔºåÂÖ®ËåÉÂõ¥ÂÄºÁî® fixed‰øùÊåÅ ID Á®≥ÂÆöÔºöÂàÜÈÖçÂêé‰∏çË¶ÅÊõ¥ÊîπÂ≠óÊÆµ ID  ","version":"dev","tagName":"h2"},{"title":"ÈÄâÈ°πÈÄüÊü•‚Äã","type":1,"pageTitle":"Â≠óÊÆµÈÖçÁΩÆ","url":"/zh-CN/docs/next/guide/python/field_configuration#ÈÄâÈ°πÈÄüÊü•","content":" ÈÖçÁΩÆ\tËØ¥Êòépyfory.field(id=N)\tÂ≠óÊÆµ tag IDÔºåÂáèÂ∞ëÂÖÉ‰ø°ÊÅØÂºÄÈîÄ pyfory.field(nullable=True)\tÊ†áËÆ∞Â≠óÊÆµÂèØÁ©∫ pyfory.field(ref=True)\tÂêØÁî®ÂºïÁî®Ë∑üË∏™ pyfory.field(ignore=True)\tÂ∞ÜÂ≠óÊÆµÊéíÈô§Âú®Â∫èÂàóÂåñ‰πãÂ§ñ pyfory.field(dynamic=True)\tÂº∫Âà∂ÂÜôÂÖ•Á±ªÂûã‰ø°ÊÅØ pyfory.field(dynamic=False)\tË∑≥ËøáÁ±ªÂûã‰ø°ÊÅØÔºàÊåâÂ£∞ÊòéÁ±ªÂûãÂ§ÑÁêÜÔºâ Optional[T]\tÂèØÁ©∫Â≠óÊÆµÁ±ªÂûãÊèêÁ§∫ pyfory.int32, pyfory.int64\tÊúâÁ¨¶Âè∑Êï¥Êï∞Ôºàvarint ÁºñÁ†ÅÔºâ pyfory.uint32, pyfory.uint64\tÊó†Á¨¶Âè∑Êï¥Êï∞Ôºàvarint ÁºñÁ†ÅÔºâ pyfory.fixed_uint32, pyfory.fixed_uint64\tÂÆöÈïøÊó†Á¨¶Âè∑Êï¥Êï∞ pyfory.tagged_uint64\tuint64 ÁöÑ tagged ÁºñÁ†Å  ","version":"dev","tagName":"h2"},{"title":"Áõ∏ÂÖ≥‰∏ªÈ¢ò‚Äã","type":1,"pageTitle":"Â≠óÊÆµÈÖçÁΩÆ","url":"/zh-CN/docs/next/guide/python/field_configuration#Áõ∏ÂÖ≥‰∏ªÈ¢ò","content":" Âü∫Á°ÄÂ∫èÂàóÂåñ - Âø´ÈÄü‰∏äÊâã Fory Â∫èÂàóÂåñSchema ÊºîËøõ - ÂÖºÂÆπÊ®°Âºè‰∏é schema ÊºîËøõË∑®ËØ≠Ë®Ä - ‰∏é Java„ÄÅRust„ÄÅC++„ÄÅGo ‰∫íÊìç‰Ωú ","version":"dev","tagName":"h2"},{"title":"Schema ÊºîÂåñ","type":0,"sectionRef":"#","url":"/zh-CN/docs/next/guide/python/schema_evolution","content":"","keywords":"","version":"dev"},{"title":"ÂêØÁî®ÂÖºÂÆπÊ®°Âºè‚Äã","type":1,"pageTitle":"Schema ÊºîÂåñ","url":"/zh-CN/docs/next/guide/python/schema_evolution#ÂêØÁî®ÂÖºÂÆπÊ®°Âºè","content":" import pyfory f = pyfory.Fory(xlang=True, compatible=True)   ","version":"dev","tagName":"h2"},{"title":"Schema ÊºîÂåñÁ§∫‰æã‚Äã","type":1,"pageTitle":"Schema ÊºîÂåñ","url":"/zh-CN/docs/next/guide/python/schema_evolution#schema-ÊºîÂåñÁ§∫‰æã","content":" import pyfory from dataclasses import dataclass # ÁâàÊú¨ 1ÔºöÂéüÂßãÁ±ª @dataclass class User: name: str age: int f = pyfory.Fory(xlang=True, compatible=True) f.register(User, typename=&quot;User&quot;) data = f.dumps(User(&quot;Alice&quot;, 30)) # ÁâàÊú¨ 2ÔºöÊ∑ªÂä†Êñ∞Â≠óÊÆµÔºàÂêëÂêéÂÖºÂÆπÔºâ @dataclass class User: name: str age: int email: str = &quot;unknown@example.com&quot; # Â∏¶ÈªòËÆ§ÂÄºÁöÑÊñ∞Â≠óÊÆµ # ‰ªçÁÑ∂ÂèØ‰ª•ÂèçÂ∫èÂàóÂåñÊóßÊï∞ÊçÆ user = f.loads(data) print(user.email) # &quot;unknown@example.com&quot;   ","version":"dev","tagName":"h2"},{"title":"ÊîØÊåÅÁöÑÂèòÊõ¥‚Äã","type":1,"pageTitle":"Schema ÊºîÂåñ","url":"/zh-CN/docs/next/guide/python/schema_evolution#ÊîØÊåÅÁöÑÂèòÊõ¥","content":" Ê∑ªÂä†Êñ∞Â≠óÊÆµÔºöÂ∏¶ÈªòËÆ§ÂÄºÂà†Èô§Â≠óÊÆµÔºöÂÖ∑ÊúâÈ¢ùÂ§ñÂ≠óÊÆµÁöÑÊóßÊï∞ÊçÆÂ∞ÜË¢´Ë∑≥ËøáÈáçÊñ∞ÊéíÂ∫èÂ≠óÊÆµÔºöÂ≠óÊÆµÊåâÂêçÁß∞ÂåπÈÖçÔºåËÄå‰∏çÊòØ‰ΩçÁΩÆ  ","version":"dev","tagName":"h2"},{"title":"ÊúÄ‰Ω≥ÂÆûË∑µ‚Äã","type":1,"pageTitle":"Schema ÊºîÂåñ","url":"/zh-CN/docs/next/guide/python/schema_evolution#ÊúÄ‰Ω≥ÂÆûË∑µ","content":" ÂßãÁªà‰∏∫Êñ∞Â≠óÊÆµÊèê‰æõÈªòËÆ§ÂÄº‰ΩøÁî® typename ÂÆûÁé∞Ë∑®ËØ≠Ë®ÄÂÖºÂÆπÊÄßÂú®ÈÉ®ÁΩ≤ÂâçÊµãËØï schema ÂèòÊõ¥‰∏∫Âõ¢ÈòüËÆ∞ÂΩï schema ÁâàÊú¨  ","version":"dev","tagName":"h2"},{"title":"Áõ∏ÂÖ≥‰∏ªÈ¢ò‚Äã","type":1,"pageTitle":"Schema ÊºîÂåñ","url":"/zh-CN/docs/next/guide/python/schema_evolution#Áõ∏ÂÖ≥‰∏ªÈ¢ò","content":" ÈÖçÁΩÆ - ÂÖºÂÆπÊ®°ÂºèËÆæÁΩÆË∑®ËØ≠Ë®Ä - Ë∑®ËØ≠Ë®ÄÁöÑ schema ÊºîÂåñÁ±ªÂûãÊ≥®ÂÜå - Ê≥®ÂÜåÊ®°Âºè ","version":"dev","tagName":"h2"},{"title":"ÂÆâÂÖ®ÊúÄ‰Ω≥ÂÆûË∑µ","type":0,"sectionRef":"#","url":"/zh-CN/docs/next/guide/python/security","content":"","keywords":"","version":"dev"},{"title":"Áîü‰∫ßÁéØÂ¢ÉÈÖçÁΩÆ‚Äã","type":1,"pageTitle":"ÂÆâÂÖ®ÊúÄ‰Ω≥ÂÆûË∑µ","url":"/zh-CN/docs/next/guide/python/security#Áîü‰∫ßÁéØÂ¢ÉÈÖçÁΩÆ","content":" Èô§ÈùûÁéØÂ¢ÉÂÆåÂÖ®ÂèØ‰ø°ÔºåÂê¶Âàô‰∏çË¶ÅÂú®Áîü‰∫ßÁéØÂ¢É‰∏≠Á¶ÅÁî® strict=TrueÔºö  import pyfory # Áîü‰∫ßÁéØÂ¢ÉÊé®ËçêËÆæÁΩÆ f = pyfory.Fory( xlang=False, # Â¶ÇÊûúÈúÄË¶ÅË∑®ËØ≠Ë®ÄÊîØÊåÅÂàô‰∏∫ True ref=True, # Â§ÑÁêÜÂæ™ÁéØÂºïÁî® strict=True, # ÈáçË¶ÅÔºöÈò≤Ê≠¢ÊÅ∂ÊÑèÊï∞ÊçÆ max_depth=100 # Èò≤Ê≠¢Ê∑±Â∫¶ÈÄíÂΩíÊîªÂáª ) # ÊòæÂºèÊ≥®ÂÜåÂÖÅËÆ∏ÁöÑÁ±ªÂûã f.register(UserModel, type_id=100) f.register(OrderModel, type_id=101) # Ê∞∏Ëøú‰∏çË¶ÅÂú®Áîü‰∫ßÁéØÂ¢É‰∏≠ÂØπ‰∏çÂèó‰ø°‰ªªÁöÑÊï∞ÊçÆËÆæÁΩÆ strict=FalseÔºÅ   ","version":"dev","tagName":"h2"},{"title":"ÂºÄÂèëÁéØÂ¢É vs Áîü‰∫ßÁéØÂ¢É‚Äã","type":1,"pageTitle":"ÂÆâÂÖ®ÊúÄ‰Ω≥ÂÆûË∑µ","url":"/zh-CN/docs/next/guide/python/security#ÂºÄÂèëÁéØÂ¢É-vs-Áîü‰∫ßÁéØÂ¢É","content":" ‰ΩøÁî®ÁéØÂ¢ÉÂèòÈáèÂú®ÈÖçÁΩÆ‰πãÈó¥ÂàáÊç¢Ôºö  import pyfory import os # ÂºÄÂèëÁéØÂ¢ÉÈÖçÁΩÆ if os.getenv('ENV') == 'development': fory = pyfory.Fory( xlang=False, ref=True, strict=False, # ÂºÄÂèëÊó∂ÂÖÅËÆ∏‰ªª‰ΩïÁ±ªÂûã max_depth=1000 # ÂºÄÂèëÊó∂Êõ¥È´òÁöÑÈôêÂà∂ ) else: # Áîü‰∫ßÁéØÂ¢ÉÈÖçÁΩÆÔºàÂÆâÂÖ®Âä†Âõ∫Ôºâ fory = pyfory.Fory( xlang=False, ref=True, strict=True, # ÂÖ≥ÈîÆÔºöÈúÄË¶ÅÊ≥®ÂÜå max_depth=100 # ÂêàÁêÜÁöÑÈôêÂà∂ ) # Âè™Ê≥®ÂÜåÂ∑≤Áü•ÁöÑÂÆâÂÖ®Á±ªÂûã for idx, model_class in enumerate([UserModel, ProductModel, OrderModel]): fory.register(model_class, type_id=100 + idx)   ","version":"dev","tagName":"h2"},{"title":"DeserializationPolicy‚Äã","type":1,"pageTitle":"ÂÆâÂÖ®ÊúÄ‰Ω≥ÂÆûË∑µ","url":"/zh-CN/docs/next/guide/python/security#deserializationpolicy","content":" ÂΩìÈúÄË¶Å strict=False Êó∂Ôºà‰æãÂ¶ÇÔºåÂèçÂ∫èÂàóÂåñÂáΩÊï∞/lambdaÔºâÔºå‰ΩøÁî® DeserializationPolicy Âú®ÂèçÂ∫èÂàóÂåñÊúüÈó¥ÂÆûÁé∞ÁªÜÁ≤íÂ∫¶ÁöÑÂÆâÂÖ®ÊéßÂà∂„ÄÇ  ‰∏∫‰ªÄ‰πà‰ΩøÁî® DeserializationPolicyÔºü  ÈòªÊ≠¢Âç±Èô©ÁöÑÁ±ª/Ê®°ÂùóÔºà‰æãÂ¶ÇÔºåsubprocess.PopenÔºâÂú®Ë∞ÉÁî®ÂâçÊã¶Êà™ÂíåÈ™åËØÅ __reduce__ ÂèØË∞ÉÁî®ÂØπË±°Âú® __setstate__ ÊúüÈó¥Ê∏ÖÁêÜÊïèÊÑüÊï∞ÊçÆÊ†πÊçÆËá™ÂÆö‰πâËßÑÂàôÊõøÊç¢ÊàñÊãíÁªùÂèçÂ∫èÂàóÂåñÁöÑÂØπË±°  ","version":"dev","tagName":"h2"},{"title":"ÈòªÊ≠¢Âç±Èô©Á±ª‚Äã","type":1,"pageTitle":"ÂÆâÂÖ®ÊúÄ‰Ω≥ÂÆûË∑µ","url":"/zh-CN/docs/next/guide/python/security#ÈòªÊ≠¢Âç±Èô©Á±ª","content":" import pyfory from pyfory import DeserializationPolicy dangerous_modules = {'subprocess', 'os', '__builtin__'} class SafeDeserializationPolicy(DeserializationPolicy): &quot;&quot;&quot;Âú®ÂèçÂ∫èÂàóÂåñÊúüÈó¥ÈòªÊ≠¢ÊΩúÂú®Âç±Èô©ÁöÑÁ±ª„ÄÇ&quot;&quot;&quot; def validate_class(self, cls, is_local, **kwargs): # ÈòªÊ≠¢Âç±Èô©Ê®°Âùó if cls.__module__ in dangerous_modules: raise ValueError(f&quot;Â∑≤ÈòªÊ≠¢Âç±Èô©Á±ªÔºö{cls.__module__}.{cls.__name__}&quot;) return None def intercept_reduce_call(self, callable_obj, args, **kwargs): # Âú® __reduce__ ÊúüÈó¥ÈòªÊ≠¢ÁâπÂÆöÁöÑÂèØË∞ÉÁî®ÂØπË±°Ë∞ÉÁî® if getattr(callable_obj, '__name__', &quot;&quot;) == 'Popen': raise ValueError(&quot;Â∑≤ÈòªÊ≠¢Â∞ùËØïË∞ÉÁî® subprocess.Popen&quot;) return None def intercept_setstate(self, obj, state, **kwargs): # Ê∏ÖÁêÜÊïèÊÑüÊï∞ÊçÆ if isinstance(state, dict) and 'password' in state: state['password'] = '***REDACTED***' return None # ‰ΩøÁî®Ëá™ÂÆö‰πâÂÆâÂÖ®Á≠ñÁï•ÂàõÂª∫ Fory policy = SafeDeserializationPolicy() fory = pyfory.Fory(xlang=False, ref=True, strict=False, policy=policy) # Áé∞Âú®ÂèçÂ∫èÂàóÂåñÂèóÂà∞Ëá™ÂÆö‰πâÁ≠ñÁï•ÁöÑ‰øùÊä§ data = fory.serialize(my_object) result = fory.deserialize(data) # Â∞ÜË∞ÉÁî®Á≠ñÁï•Èí©Â≠ê   ","version":"dev","tagName":"h3"},{"title":"ÂèØÁî®ÁöÑÁ≠ñÁï•Èí©Â≠ê‚Äã","type":1,"pageTitle":"ÂÆâÂÖ®ÊúÄ‰Ω≥ÂÆûË∑µ","url":"/zh-CN/docs/next/guide/python/security#ÂèØÁî®ÁöÑÁ≠ñÁï•Èí©Â≠ê","content":" Èí©Â≠ê\tÊèèËø∞validate_class(cls, is_local)\tÂú®ÂèçÂ∫èÂàóÂåñÊúüÈó¥È™åËØÅ/ÈòªÊ≠¢Á±ªÁ±ªÂûã validate_module(module, is_local)\tÈ™åËØÅ/ÈòªÊ≠¢Ê®°ÂùóÂØºÂÖ• validate_function(func, is_local)\tÈ™åËØÅ/ÈòªÊ≠¢ÂáΩÊï∞ÂºïÁî® intercept_reduce_call(callable_obj, args)\tÊã¶Êà™ __reduce__ Ë∞ÉÁî® inspect_reduced_object(obj)\tÊ£ÄÊü•/ÊõøÊç¢ÈÄöËøá __reduce__ ÂàõÂª∫ÁöÑÂØπË±° intercept_setstate(obj, state)\tÂú® __setstate__ ‰πãÂâçÊ∏ÖÁêÜÁä∂ÊÄÅ authorize_instantiation(cls, args, kwargs)\tÊéßÂà∂Á±ªÂÆû‰æãÂåñ  Âè¶ËØ∑ÂèÇÈòÖÔºö pyfory/policy.py ÂåÖÂê´ÊØè‰∏™Èí©Â≠êÁöÑËØ¶ÁªÜÊñáÊ°£ÂíåÁ§∫‰æã„ÄÇ  ","version":"dev","tagName":"h2"},{"title":"ÊúÄ‰Ω≥ÂÆûË∑µ‚Äã","type":1,"pageTitle":"ÂÆâÂÖ®ÊúÄ‰Ω≥ÂÆûË∑µ","url":"/zh-CN/docs/next/guide/python/security#ÊúÄ‰Ω≥ÂÆûË∑µ","content":" Áîü‰∫ßÁéØÂ¢ÉÂßãÁªà‰ΩøÁî® strict=TrueÂøÖË¶ÅÊó∂‰ΩøÁî® DeserializationPolicy ÂΩìÈúÄË¶Å strict=False Êó∂ÈòªÊ≠¢Âç±Èô©Ê®°ÂùóÔºàsubprocess„ÄÅos Á≠âÔºâËÆæÁΩÆÈÄÇÂΩìÁöÑ max_depth ‰ª•Èò≤Ê≠¢Ê†àÊ∫¢Âá∫Âú®ÂèçÂ∫èÂàóÂåñÂâçÈ™åËØÅÊï∞ÊçÆÊ∫êËÆ∞ÂΩïÂÆâÂÖ®‰∫ã‰ª∂ Áî®‰∫éÂÆ°ËÆ°  ","version":"dev","tagName":"h2"},{"title":"Áõ∏ÂÖ≥‰∏ªÈ¢ò‚Äã","type":1,"pageTitle":"ÂÆâÂÖ®ÊúÄ‰Ω≥ÂÆûË∑µ","url":"/zh-CN/docs/next/guide/python/security#Áõ∏ÂÖ≥‰∏ªÈ¢ò","content":" Á±ªÂûãÊ≥®ÂÜå - Ê≥®ÂÜåÂíå‰∏•Ê†ºÊ®°ÂºèÈÖçÁΩÆ - Fory ÂèÇÊï∞Python ÂéüÁîüÊ®°Âºè - ÂáΩÊï∞Âíå lambda ","version":"dev","tagName":"h2"},{"title":"ÊïÖÈöúÊéíÈô§","type":0,"sectionRef":"#","url":"/zh-CN/docs/next/guide/python/troubleshooting","content":"","keywords":"","version":"dev"},{"title":"Â∏∏ËßÅÈóÆÈ¢ò‚Äã","type":1,"pageTitle":"ÊïÖÈöúÊéíÈô§","url":"/zh-CN/docs/next/guide/python/troubleshooting#Â∏∏ËßÅÈóÆÈ¢ò","content":" ","version":"dev","tagName":"h2"},{"title":"Ê†ºÂºèÂäüËÉΩÁöÑ ImportError‚Äã","type":1,"pageTitle":"ÊïÖÈöúÊéíÈô§","url":"/zh-CN/docs/next/guide/python/troubleshooting#Ê†ºÂºèÂäüËÉΩÁöÑ-importerror","content":" # Ëß£ÂÜ≥ÊñπÊ°àÔºöÂÆâË£ÖË°åÊ†ºÂºèÊîØÊåÅ pip install pyfory[format] # Êàñ‰ªéÊ∫êÁ†ÅÂÆâË£ÖÊ†ºÂºèÊîØÊåÅ pip install -e &quot;.[format]&quot;   ","version":"dev","tagName":"h3"},{"title":"Â∫èÂàóÂåñÊÄßËÉΩÊÖ¢‚Äã","type":1,"pageTitle":"ÊïÖÈöúÊéíÈô§","url":"/zh-CN/docs/next/guide/python/troubleshooting#Â∫èÂàóÂåñÊÄßËÉΩÊÖ¢","content":" # Ê£ÄÊü•ÊòØÂê¶ÂêØÁî®‰∫Ü Cython Âä†ÈÄü import pyfory print(pyfory.ENABLE_FORY_CYTHON_SERIALIZATION) # Â∫îËØ•‰∏∫ True # Â¶ÇÊûú‰∏∫ FalseÔºåCython Êâ©Â±ïÂèØËÉΩÊú™Ê≠£Á°ÆÁºñËØë # ÈáçÊñ∞ÂÆâË£ÖÔºöpip install --force-reinstall --no-cache-dir pyfory   ","version":"dev","tagName":"h3"},{"title":"Ë∑®ËØ≠Ë®ÄÂÖºÂÆπÊÄßÈóÆÈ¢ò‚Äã","type":1,"pageTitle":"ÊïÖÈöúÊéíÈô§","url":"/zh-CN/docs/next/guide/python/troubleshooting#Ë∑®ËØ≠Ë®ÄÂÖºÂÆπÊÄßÈóÆÈ¢ò","content":" # ‰ΩøÁî®‰∏ÄËá¥ÁöÑÂëΩÂêçËøõË°åÊòæÂºèÁ±ªÂûãÊ≥®ÂÜå f = pyfory.Fory(xlang=True) f.register(MyClass, typename=&quot;com.package.MyClass&quot;) # Âú®ÊâÄÊúâËØ≠Ë®Ä‰∏≠‰ΩøÁî®Áõ∏ÂêåÁöÑÂêçÁß∞   ","version":"dev","tagName":"h3"},{"title":"Âæ™ÁéØÂºïÁî®ÈîôËØØÊàñÈáçÂ§çÊï∞ÊçÆ‚Äã","type":1,"pageTitle":"ÊïÖÈöúÊéíÈô§","url":"/zh-CN/docs/next/guide/python/troubleshooting#Âæ™ÁéØÂºïÁî®ÈîôËØØÊàñÈáçÂ§çÊï∞ÊçÆ","content":" # ÂêØÁî®ÂºïÁî®Ë∑üË∏™ f = pyfory.Fory(ref=True) # Âæ™ÁéØÂºïÁî®ÊâÄÈúÄ # Âæ™ÁéØÂºïÁî®Á§∫‰æã class Node: def __init__(self, value): self.value = value self.next = None node1 = Node(1) node2 = Node(2) node1.next = node2 node2.next = node1 # Âæ™ÁéØÂºïÁî® data = f.dumps(node1) result = f.loads(data) assert result.next.next is result # Âæ™ÁéØÂºïÁî®Ë¢´‰øùÁïô   ","version":"dev","tagName":"h3"},{"title":"Schema ÊºîÂåñ‰∏çÂ∑•‰Ωú‚Äã","type":1,"pageTitle":"ÊïÖÈöúÊéíÈô§","url":"/zh-CN/docs/next/guide/python/troubleshooting#schema-ÊºîÂåñ‰∏çÂ∑•‰Ωú","content":" # ÂêØÁî®ÂÖºÂÆπÊ®°ÂºèÁî®‰∫é schema ÊºîÂåñ f = pyfory.Fory(xlang=True, compatible=True) # ÁâàÊú¨ 1ÔºöÂéüÂßãÁ±ª @dataclass class User: name: str age: int f.register(User, typename=&quot;User&quot;) data = f.dumps(User(&quot;Alice&quot;, 30)) # ÁâàÊú¨ 2ÔºöÊ∑ªÂä†Êñ∞Â≠óÊÆµÔºàÂêëÂêéÂÖºÂÆπÔºâ @dataclass class User: name: str age: int email: str = &quot;unknown@example.com&quot; # Â∏¶ÈªòËÆ§ÂÄºÁöÑÊñ∞Â≠óÊÆµ # ‰ªçÁÑ∂ÂèØ‰ª•ÂèçÂ∫èÂàóÂåñÊóßÊï∞ÊçÆ user = f.loads(data) print(user.email) # &quot;unknown@example.com&quot;   ","version":"dev","tagName":"h3"},{"title":"‰∏•Ê†ºÊ®°Âºè‰∏ãÁöÑÁ±ªÂûãÊ≥®ÂÜåÈîôËØØ‚Äã","type":1,"pageTitle":"ÊïÖÈöúÊéíÈô§","url":"/zh-CN/docs/next/guide/python/troubleshooting#‰∏•Ê†ºÊ®°Âºè‰∏ãÁöÑÁ±ªÂûãÊ≥®ÂÜåÈîôËØØ","content":" # Âú®Â∫èÂàóÂåñ‰πãÂâçÊ≥®ÂÜåÊâÄÊúâËá™ÂÆö‰πâÁ±ªÂûã f = pyfory.Fory(strict=True) # ‰ΩøÁî®ÂâçÂøÖÈ°ªÊ≥®ÂÜå f.register(MyClass, type_id=100) f.register(AnotherClass, type_id=101) # ÊàñÁ¶ÅÁî®‰∏•Ê†ºÊ®°ÂºèÔºàÁîü‰∫ßÁéØÂ¢É‰∏çÊé®ËçêÔºâ f = pyfory.Fory(strict=False) # ‰ªÖÂú®Âèó‰ø°‰ªªÁöÑÁéØÂ¢É‰∏≠‰ΩøÁî®   ","version":"dev","tagName":"h3"},{"title":"Ë∞ÉËØïÊ®°Âºè‚Äã","type":1,"pageTitle":"ÊïÖÈöúÊéíÈô§","url":"/zh-CN/docs/next/guide/python/troubleshooting#Ë∞ÉËØïÊ®°Âºè","content":" Âú®ÂØºÂÖ• pyfory ‰πãÂâçËÆæÁΩÆÁéØÂ¢ÉÂèòÈáè‰ª•Á¶ÅÁî® Cython ËøõË°åË∞ÉËØïÔºö  import os os.environ['ENABLE_FORY_CYTHON_SERIALIZATION'] = '0' import pyfory # Áé∞Âú®‰ΩøÁî®Á∫Ø Python ÂÆûÁé∞ # ËøôÂØπ‰ª•‰∏ãÊÉÖÂÜµÂæàÊúâÁî®Ôºö # 1. Ë∞ÉËØïÂçèËÆÆÈóÆÈ¢ò # 2. ÁêÜËß£Â∫èÂàóÂåñË°å‰∏∫ # 3. Êó†ÈúÄÈáçÊñ∞ÁºñËØë Cython ÁöÑÂºÄÂèë   ","version":"dev","tagName":"h2"},{"title":"ÈîôËØØÂ§ÑÁêÜ‚Äã","type":1,"pageTitle":"ÊïÖÈöúÊéíÈô§","url":"/zh-CN/docs/next/guide/python/troubleshooting#ÈîôËØØÂ§ÑÁêÜ","content":" ‰ºòÈõÖÂú∞Â§ÑÁêÜÂ∏∏ËßÅÁöÑÂ∫èÂàóÂåñÈîôËØØÔºö  import pyfory from pyfory.error import TypeUnregisteredError, TypeNotCompatibleError fory = pyfory.Fory(strict=True) try: data = fory.dumps(my_object) except TypeUnregisteredError as e: print(f&quot;Á±ªÂûãÊú™Ê≥®ÂÜåÔºö{e}&quot;) # Ê≥®ÂÜåÁ±ªÂûãÂπ∂ÈáçËØï fory.register(type(my_object), type_id=100) data = fory.dumps(my_object) except Exception as e: print(f&quot;Â∫èÂàóÂåñÂ§±Ë¥•Ôºö{e}&quot;) try: obj = fory.loads(data) except TypeNotCompatibleError as e: print(f&quot;Schema ‰∏çÂåπÈÖçÔºö{e}&quot;) # Â§ÑÁêÜÁâàÊú¨‰∏çÂåπÈÖç except Exception as e: print(f&quot;ÂèçÂ∫èÂàóÂåñÂ§±Ë¥•Ôºö{e}&quot;)   ","version":"dev","tagName":"h2"},{"title":"ÂºÄÂèëÁéØÂ¢ÉËÆæÁΩÆ‚Äã","type":1,"pageTitle":"ÊïÖÈöúÊéíÈô§","url":"/zh-CN/docs/next/guide/python/troubleshooting#ÂºÄÂèëÁéØÂ¢ÉËÆæÁΩÆ","content":" git clone https://github.com/apache/fory.git cd fory/python # ÂÆâË£Ö‰æùËµñ pip install -e &quot;.[dev,format]&quot; # ËøêË°åÊµãËØï pytest -v -s . # ËøêË°åÁâπÂÆöÊµãËØï pytest -v -s pyfory/tests/test_serializer.py # Ê†ºÂºèÂåñ‰ª£Á†Å ruff format . ruff check --fix .   ","version":"dev","tagName":"h2"},{"title":"Áõ∏ÂÖ≥‰∏ªÈ¢ò‚Äã","type":1,"pageTitle":"ÊïÖÈöúÊéíÈô§","url":"/zh-CN/docs/next/guide/python/troubleshooting#Áõ∏ÂÖ≥‰∏ªÈ¢ò","content":" ÈÖçÁΩÆ - Fory ÂèÇÊï∞Á±ªÂûãÊ≥®ÂÜå - Ê≥®ÂÜåÊúÄ‰Ω≥ÂÆûË∑µÂÆâÂÖ®ÊÄß - ÂÆâÂÖ®ÈÖçÁΩÆ ","version":"dev","tagName":"h2"},{"title":"Á±ªÂûãÊ≥®ÂÜå‰∏éÂÆâÂÖ®ÊÄß","type":0,"sectionRef":"#","url":"/zh-CN/docs/next/guide/python/type_registration","content":"","keywords":"","version":"dev"},{"title":"Á±ªÂûãÊ≥®ÂÜå‚Äã","type":1,"pageTitle":"Á±ªÂûãÊ≥®ÂÜå‰∏éÂÆâÂÖ®ÊÄß","url":"/zh-CN/docs/next/guide/python/type_registration#Á±ªÂûãÊ≥®ÂÜå","content":" Âú®‰∏•Ê†ºÊ®°Âºè‰∏ãÔºåÂè™ÊúâÂ∑≤Ê≥®ÂÜåÁöÑÁ±ªÂûãÊâçËÉΩË¢´ÂèçÂ∫èÂàóÂåñ„ÄÇËøôÂèØ‰ª•Èò≤Ê≠¢‰ªªÊÑè‰ª£Á†ÅÊâßË°åÔºö  import pyfory # ‰∏•Ê†ºÊ®°ÂºèÔºàÁîü‰∫ßÁéØÂ¢ÉÊé®ËçêÔºâ f = pyfory.Fory(strict=True) class SafeClass: def __init__(self, data): self.data = data # Âú®‰∏•Ê†ºÊ®°Âºè‰∏ãÂøÖÈ°ªÊ≥®ÂÜåÁ±ªÂûã f.register(SafeClass, typename=&quot;com.example.SafeClass&quot;) # Áé∞Âú®Â∫èÂàóÂåñÂèØ‰ª•Ê≠£Â∏∏Â∑•‰Ωú obj = SafeClass(&quot;safe data&quot;) data = f.serialize(obj) result = f.deserialize(data) # Êú™Ê≥®ÂÜåÁöÑÁ±ªÂûãÂ∞ÜÂºïÂèëÂºÇÂ∏∏ class UnsafeClass: pass # Âú®‰∏•Ê†ºÊ®°Âºè‰∏ãËøôÂ∞ÜÂ§±Ë¥• try: f.serialize(UnsafeClass()) except Exception as e: print(&quot;ÂÆâÂÖ®‰øùÊä§Â∑≤ÊøÄÊ¥ªÔºÅ&quot;)   ","version":"dev","tagName":"h2"},{"title":"Ê≥®ÂÜåÊ®°Âºè‚Äã","type":1,"pageTitle":"Á±ªÂûãÊ≥®ÂÜå‰∏éÂÆâÂÖ®ÊÄß","url":"/zh-CN/docs/next/guide/python/type_registration#Ê≥®ÂÜåÊ®°Âºè","content":" ","version":"dev","tagName":"h2"},{"title":"Ê®°Âºè 1ÔºöÁÆÄÂçïÊ≥®ÂÜå‚Äã","type":1,"pageTitle":"Á±ªÂûãÊ≥®ÂÜå‰∏éÂÆâÂÖ®ÊÄß","url":"/zh-CN/docs/next/guide/python/type_registration#Ê®°Âºè-1ÁÆÄÂçïÊ≥®ÂÜå","content":" fory.register(MyClass, type_id=100)   ","version":"dev","tagName":"h3"},{"title":"Ê®°Âºè 2Ôºö‰ΩøÁî®Á±ªÂûãÂêçÁß∞ÁöÑË∑®ËØ≠Ë®ÄÊ≥®ÂÜå‚Äã","type":1,"pageTitle":"Á±ªÂûãÊ≥®ÂÜå‰∏éÂÆâÂÖ®ÊÄß","url":"/zh-CN/docs/next/guide/python/type_registration#Ê®°Âºè-2‰ΩøÁî®Á±ªÂûãÂêçÁß∞ÁöÑË∑®ËØ≠Ë®ÄÊ≥®ÂÜå","content":" fory.register(MyClass, typename=&quot;com.example.MyClass&quot;)   ","version":"dev","tagName":"h3"},{"title":"Ê®°Âºè 3Ôºö‰ΩøÁî®Ëá™ÂÆö‰πâÂ∫èÂàóÂåñÂô®‚Äã","type":1,"pageTitle":"Á±ªÂûãÊ≥®ÂÜå‰∏éÂÆâÂÖ®ÊÄß","url":"/zh-CN/docs/next/guide/python/type_registration#Ê®°Âºè-3‰ΩøÁî®Ëá™ÂÆö‰πâÂ∫èÂàóÂåñÂô®","content":" fory.register(MyClass, type_id=100, serializer=MySerializer(fory, MyClass))   ","version":"dev","tagName":"h3"},{"title":"Ê®°Âºè 4ÔºöÊâπÈáèÊ≥®ÂÜå‚Äã","type":1,"pageTitle":"Á±ªÂûãÊ≥®ÂÜå‰∏éÂÆâÂÖ®ÊÄß","url":"/zh-CN/docs/next/guide/python/type_registration#Ê®°Âºè-4ÊâπÈáèÊ≥®ÂÜå","content":" type_id = 100 for model_class in [User, Order, Product, Invoice]: fory.register(model_class, type_id=type_id) type_id += 1   ","version":"dev","tagName":"h3"},{"title":"ÂÆâÂÖ®Ê®°Âºè‚Äã","type":1,"pageTitle":"Á±ªÂûãÊ≥®ÂÜå‰∏éÂÆâÂÖ®ÊÄß","url":"/zh-CN/docs/next/guide/python/type_registration#ÂÆâÂÖ®Ê®°Âºè","content":" ","version":"dev","tagName":"h2"},{"title":"‰∏•Ê†ºÊ®°ÂºèÔºàÊé®ËçêÔºâ‚Äã","type":1,"pageTitle":"Á±ªÂûãÊ≥®ÂÜå‰∏éÂÆâÂÖ®ÊÄß","url":"/zh-CN/docs/next/guide/python/type_registration#‰∏•Ê†ºÊ®°ÂºèÊé®Ëçê","content":" # Áîü‰∫ßÁéØÂ¢ÉÂßãÁªà‰ΩøÁî® strict=True fory = pyfory.Fory(strict=True) # ÊòæÂºèÊ≥®ÂÜåÂÖÅËÆ∏ÁöÑÁ±ªÂûã fory.register(UserModel, type_id=100) fory.register(OrderModel, type_id=101)   ","version":"dev","tagName":"h3"},{"title":"Èùû‰∏•Ê†ºÊ®°Âºè‚Äã","type":1,"pageTitle":"Á±ªÂûãÊ≥®ÂÜå‰∏éÂÆâÂÖ®ÊÄß","url":"/zh-CN/docs/next/guide/python/type_registration#Èùû‰∏•Ê†ºÊ®°Âºè","content":" ‚ö†Ô∏è ÂÆâÂÖ®Ë≠¶ÂëäÔºöÂΩì strict=False Êó∂ÔºåFory Â∞ÜÂèçÂ∫èÂàóÂåñ‰ªªÊÑèÁ±ªÂûãÔºåÂ¶ÇÊûúÊï∞ÊçÆÊù•Ëá™‰∏çÂèó‰ø°‰ªªÁöÑÊ∫êÔºåËøôÂèØËÉΩÂ∏¶Êù•ÂÆâÂÖ®È£éÈô©„ÄÇ‰ªÖÂú®ÂÆåÂÖ®‰ø°‰ªªÊï∞ÊçÆÊ∫êÁöÑÂèóÊéßÁéØÂ¢É‰∏≠‰ΩøÁî® strict=False„ÄÇ  # ‰ªÖÂú®Âèó‰ø°‰ªªÁöÑÁéØÂ¢É‰∏≠ fory = pyfory.Fory(xlang=False, ref=True, strict=False)   Â¶ÇÊûúÁ°ÆÂÆûÈúÄË¶Å‰ΩøÁî® strict=FalseÔºåËØ∑ÈÖçÁΩÆ DeserializationPolicyÔºö  from pyfory import DeserializationPolicy class SafePolicy(DeserializationPolicy): def validate_class(self, cls, is_local, **kwargs): # ÈòªÊ≠¢Âç±Èô©Ê®°Âùó if cls.__module__ in {'subprocess', 'os', '__builtin__'}: raise ValueError(f&quot;Â∑≤ÈòªÊ≠¢Ôºö{cls}&quot;) return None fory = pyfory.Fory(xlang=False, strict=False, policy=SafePolicy())   ","version":"dev","tagName":"h3"},{"title":"ÊúÄÂ§ßÊ∑±Â∫¶‰øùÊä§‚Äã","type":1,"pageTitle":"Á±ªÂûãÊ≥®ÂÜå‰∏éÂÆâÂÖ®ÊÄß","url":"/zh-CN/docs/next/guide/python/type_registration#ÊúÄÂ§ßÊ∑±Â∫¶‰øùÊä§","content":" ÈôêÂà∂ÂèçÂ∫èÂàóÂåñÊ∑±Â∫¶‰ª•Èò≤Ê≠¢Ê†àÊ∫¢Âá∫ÊîªÂáªÔºö  fory = pyfory.Fory( strict=True, max_depth=100 # Ê†πÊçÆÊï∞ÊçÆÁªìÊûÑÊ∑±Â∫¶Ë∞ÉÊï¥ )   ","version":"dev","tagName":"h2"},{"title":"ÊúÄ‰Ω≥ÂÆûË∑µ‚Äã","type":1,"pageTitle":"Á±ªÂûãÊ≥®ÂÜå‰∏éÂÆâÂÖ®ÊÄß","url":"/zh-CN/docs/next/guide/python/type_registration#ÊúÄ‰Ω≥ÂÆûË∑µ","content":" Áîü‰∫ßÁéØÂ¢ÉÂßãÁªà‰ΩøÁî® strict=True‰ΩøÁî® type_id ÊèêÈ´òÊÄßËÉΩÔºå‰ΩøÁî® typename ÊèêÈ´òÁÅµÊ¥ªÊÄßÂú®‰ªª‰ΩïÂ∫èÂàóÂåñ‰πãÂâçÈ¢ÑÂÖàÊ≥®ÂÜåÊâÄÊúâÁ±ªÂûãÊ†πÊçÆÊï∞ÊçÆÁªìÊûÑËÆæÁΩÆÈÄÇÂΩìÁöÑ max_depthÂøÖË¶ÅÊó∂‰ΩøÁî® DeserializationPolicy ÂΩìÈúÄË¶Å strict=False Êó∂  ","version":"dev","tagName":"h2"},{"title":"Áõ∏ÂÖ≥‰∏ªÈ¢ò‚Äã","type":1,"pageTitle":"Á±ªÂûãÊ≥®ÂÜå‰∏éÂÆâÂÖ®ÊÄß","url":"/zh-CN/docs/next/guide/python/type_registration#Áõ∏ÂÖ≥‰∏ªÈ¢ò","content":" ÈÖçÁΩÆ - Fory ÂèÇÊï∞ÂÆâÂÖ®ÊÄß - DeserializationPolicy ËØ¶ÊÉÖËá™ÂÆö‰πâÂ∫èÂàóÂåñÂô® - Ëá™ÂÆö‰πâÂ∫èÂàóÂåñ ","version":"dev","tagName":"h2"},{"title":"Âü∫Á°ÄÂ∫èÂàóÂåñ","type":0,"sectionRef":"#","url":"/zh-CN/docs/next/guide/rust/basic_serialization","content":"","keywords":"","version":"dev"},{"title":"ÂØπË±°ÂõæÂ∫èÂàóÂåñ‚Äã","type":1,"pageTitle":"Âü∫Á°ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/next/guide/rust/basic_serialization#ÂØπË±°ÂõæÂ∫èÂàóÂåñ","content":" Apache Fory‚Ñ¢ Êèê‰æõÂ§çÊùÇÂØπË±°ÂõæÁöÑËá™Âä®Â∫èÂàóÂåñÔºå‰øùÁïôÂØπË±°‰πãÈó¥ÁöÑÁªìÊûÑÂíåÂÖ≥Á≥ª„ÄÇ#[derive(ForyObject)] ÂÆèÂú®ÁºñËØëÊó∂ÁîüÊàêÈ´òÊïàÁöÑÂ∫èÂàóÂåñ‰ª£Á†ÅÔºåÊ∂àÈô§ËøêË°åÊó∂ÂºÄÈîÄ„ÄÇ  Ê†∏ÂøÉÂäüËÉΩÔºö  ‰ªªÊÑèÊ∑±Â∫¶ÁöÑÂµåÂ•óÁªìÊûÑ‰ΩìÂ∫èÂàóÂåñÈõÜÂêàÁ±ªÂûãÔºàVec„ÄÅHashMap„ÄÅHashSet„ÄÅBTreeMapÔºâ‰ΩøÁî® Option&lt;T&gt; ÁöÑÂèØÈÄâÂ≠óÊÆµÂéüÂßãÁ±ªÂûãÂíåÂ≠óÁ¨¶‰∏≤ÁöÑËá™Âä®Â§ÑÁêÜ‰ΩøÁî®ÂèòÈïøÊï¥Êï∞ÁöÑÈ´òÊïà‰∫åËøõÂà∂ÁºñÁ†Å  use fory::{Fory, Error}; use fory::ForyObject; use std::collections::HashMap; #[derive(ForyObject, Debug, PartialEq)] struct Person { name: String, age: i32, address: Address, hobbies: Vec&lt;String&gt;, metadata: HashMap&lt;String, String&gt;, } #[derive(ForyObject, Debug, PartialEq)] struct Address { street: String, city: String, country: String, } let mut fory = Fory::default(); fory.register::&lt;Address&gt;(100); fory.register::&lt;Person&gt;(200); let person = Person { name: &quot;John Doe&quot;.to_string(), age: 30, address: Address { street: &quot;123 Main St&quot;.to_string(), city: &quot;New York&quot;.to_string(), country: &quot;USA&quot;.to_string(), }, hobbies: vec![&quot;reading&quot;.to_string(), &quot;coding&quot;.to_string()], metadata: HashMap::from([ (&quot;role&quot;.to_string(), &quot;developer&quot;.to_string()), ]), }; let bytes = fory.serialize(&amp;person); let decoded: Person = fory.deserialize(&amp;bytes)?; assert_eq!(person, decoded);   ","version":"dev","tagName":"h2"},{"title":"ÊîØÊåÅÁöÑÁ±ªÂûã‚Äã","type":1,"pageTitle":"Âü∫Á°ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/next/guide/rust/basic_serialization#ÊîØÊåÅÁöÑÁ±ªÂûã","content":" ","version":"dev","tagName":"h2"},{"title":"ÂéüÂßãÁ±ªÂûã‚Äã","type":1,"pageTitle":"Âü∫Á°ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/next/guide/rust/basic_serialization#ÂéüÂßãÁ±ªÂûã","content":" Rust Á±ªÂûã\tÊèèËø∞bool\tÂ∏ÉÂ∞îÂÄº i8, i16, i32, i64\tÊúâÁ¨¶Âè∑Êï¥Êï∞ f32, f64\tÊµÆÁÇπÊï∞ String\tUTF-8 Â≠óÁ¨¶‰∏≤  ","version":"dev","tagName":"h3"},{"title":"ÈõÜÂêàÁ±ªÂûã‚Äã","type":1,"pageTitle":"Âü∫Á°ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/next/guide/rust/basic_serialization#ÈõÜÂêàÁ±ªÂûã","content":" Rust Á±ªÂûã\tÊèèËø∞Vec&lt;T&gt;\tÂä®ÊÄÅÊï∞ÁªÑ VecDeque&lt;T&gt;\tÂèåÁ´ØÈòüÂàó LinkedList&lt;T&gt;\tÂèåÂêëÈìæË°® HashMap&lt;K, V&gt;\tÂìàÂ∏åÊò†Â∞Ñ BTreeMap&lt;K, V&gt;\tÊúâÂ∫èÊò†Â∞Ñ HashSet&lt;T&gt;\tÂìàÂ∏åÈõÜÂêà BTreeSet&lt;T&gt;\tÊúâÂ∫èÈõÜÂêà BinaryHeap&lt;T&gt;\t‰∫åÂèâÂ†Ü Option&lt;T&gt;\tÂèØÈÄâÂÄº  ","version":"dev","tagName":"h3"},{"title":"Êô∫ËÉΩÊåáÈíà‚Äã","type":1,"pageTitle":"Âü∫Á°ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/next/guide/rust/basic_serialization#Êô∫ËÉΩÊåáÈíà","content":" Rust Á±ªÂûã\tÊèèËø∞Box&lt;T&gt;\tÂ†ÜÂàÜÈÖç Rc&lt;T&gt;\tÂºïÁî®ËÆ°Êï∞ÔºàË∑üË∏™ÂÖ±‰∫´ÂºïÁî®Ôºâ Arc&lt;T&gt;\tÁ∫øÁ®ãÂÆâÂÖ®ÂºïÁî®ËÆ°Êï∞ÔºàË∑üË∏™ÂÖ±‰∫´ÂºïÁî®Ôºâ RcWeak&lt;T&gt;\tÊåáÂêë Rc&lt;T&gt; ÁöÑÂº±ÂºïÁî®ÔºàÊâìÁ†¥Âæ™ÁéØÂºïÁî®Ôºâ ArcWeak&lt;T&gt;\tÊåáÂêë Arc&lt;T&gt; ÁöÑÂº±ÂºïÁî®ÔºàÊâìÁ†¥Âæ™ÁéØÂºïÁî®Ôºâ RefCell&lt;T&gt;\tÂÜÖÈÉ®ÂèØÂèòÊÄßÔºàËøêË°åÊó∂ÂÄüÁî®Ê£ÄÊü•Ôºâ Mutex&lt;T&gt;\tÁ∫øÁ®ãÂÆâÂÖ®ÂÜÖÈÉ®ÂèØÂèòÊÄß  ","version":"dev","tagName":"h3"},{"title":"Êó•ÊúüÂíåÊó∂Èó¥‚Äã","type":1,"pageTitle":"Âü∫Á°ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/next/guide/rust/basic_serialization#Êó•ÊúüÂíåÊó∂Èó¥","content":" Rust Á±ªÂûã\tÊèèËø∞chrono::NaiveDate\t‰∏çÂ∏¶Êó∂Âå∫ÁöÑÊó•Êúü chrono::NaiveDateTime\t‰∏çÂ∏¶Êó∂Âå∫ÁöÑÊó∂Èó¥Êà≥  ","version":"dev","tagName":"h3"},{"title":"Ëá™ÂÆö‰πâÁ±ªÂûã‚Äã","type":1,"pageTitle":"Âü∫Á°ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/next/guide/rust/basic_serialization#Ëá™ÂÆö‰πâÁ±ªÂûã","content":" ÂÆè\tÊèèËø∞#[derive(ForyObject)]\tÂØπË±°ÂõæÂ∫èÂàóÂåñ #[derive(ForyRow)]\tË°åÊ†ºÂºèÂ∫èÂàóÂåñ  ","version":"dev","tagName":"h3"},{"title":"Â∫èÂàóÂåñ API‚Äã","type":1,"pageTitle":"Âü∫Á°ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/next/guide/rust/basic_serialization#Â∫èÂàóÂåñ-api","content":" use fory::{Fory, Reader}; let mut fory = Fory::default(); fory.register::&lt;MyStruct&gt;(1)?; let obj = MyStruct { /* ... */ }; // Âü∫Á°ÄÂ∫èÂàóÂåñ/ÂèçÂ∫èÂàóÂåñ let bytes = fory.serialize(&amp;obj)?; let decoded: MyStruct = fory.deserialize(&amp;bytes)?; // Â∫èÂàóÂåñÂà∞Áé∞ÊúâÁºìÂÜ≤Âå∫ let mut buf: Vec&lt;u8&gt; = vec![]; fory.serialize_to(&amp;mut buf, &amp;obj)?; // ‰ªé reader ÂèçÂ∫èÂàóÂåñ let mut reader = Reader::new(&amp;buf); let decoded: MyStruct = fory.deserialize_from(&amp;mut reader)?;   ","version":"dev","tagName":"h2"},{"title":"ÊÄßËÉΩ‰ºòÂåñÂª∫ËÆÆ‚Äã","type":1,"pageTitle":"Âü∫Á°ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/next/guide/rust/basic_serialization#ÊÄßËÉΩ‰ºòÂåñÂª∫ËÆÆ","content":" Èõ∂Êã∑Ë¥ùÂèçÂ∫èÂàóÂåñÔºöË°åÊ†ºÂºèÊîØÊåÅÁõ¥Êé•ÂÜÖÂ≠òËÆøÈóÆËÄåÊó†ÈúÄÂ§çÂà∂ÁºìÂÜ≤Âå∫È¢ÑÂàÜÈÖçÔºöÂú®Â∫èÂàóÂåñÊúüÈó¥ÊúÄÂ∞èÂåñÂÜÖÂ≠òÂàÜÈÖçÁ¥ßÂáëÁºñÁ†ÅÔºöÂèòÈïøÁºñÁ†Å‰ª•ÊèêÈ´òÁ©∫Èó¥ÊïàÁéáÂ∞èÁ´ØÂ∫èÔºö‰∏∫Áé∞‰ª£ CPU Êû∂ÊûÑ‰ºòÂåñÂºïÁî®ÂéªÈáçÔºöÂÖ±‰∫´ÂØπË±°‰ªÖÂ∫èÂàóÂåñ‰∏ÄÊ¨°  ","version":"dev","tagName":"h2"},{"title":"Áõ∏ÂÖ≥‰∏ªÈ¢ò‚Äã","type":1,"pageTitle":"Âü∫Á°ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/next/guide/rust/basic_serialization#Áõ∏ÂÖ≥‰∏ªÈ¢ò","content":" Á±ªÂûãÊ≥®ÂÜå - Ê≥®ÂÜåÁ±ªÂûãÂºïÁî® - ÂÖ±‰∫´ÂºïÁî®ÂíåÂæ™ÁéØÂºïÁî®Ëá™ÂÆö‰πâÂ∫èÂàóÂåñÂô® - ÊâãÂä®Â∫èÂàóÂåñ ","version":"dev","tagName":"h2"},{"title":"Rust Â∫èÂàóÂåñÊåáÂçó","type":0,"sectionRef":"#","url":"/zh-CN/docs/next/guide/rust/","content":"","keywords":"","version":"dev"},{"title":"‰∏∫‰ªÄ‰πàÈÄâÊã© Apache Fory‚Ñ¢ RustÔºü‚Äã","type":1,"pageTitle":"Rust Â∫èÂàóÂåñÊåáÂçó","url":"/zh-CN/docs/next/guide/rust/#‰∏∫‰ªÄ‰πàÈÄâÊã©-apache-fory-rust","content":" üî• ÊûÅÈÄüÊÄßËÉΩÔºöÈõ∂Êã∑Ë¥ùÂèçÂ∫èÂàóÂåñÂíå‰ºòÂåñÁöÑ‰∫åËøõÂà∂ÂçèËÆÆüåç Ë∑®ËØ≠Ë®ÄÔºöÂú® Java„ÄÅPython„ÄÅC++„ÄÅGo„ÄÅJavaScript Âíå Rust ‰πãÈó¥Êó†ÁºùÂ∫èÂàóÂåñ/ÂèçÂ∫èÂàóÂåñÊï∞ÊçÆüéØ Á±ªÂûãÂÆâÂÖ®Ôºö‰ΩøÁî® derive macro ÂÆûÁé∞ÁºñËØëÊó∂Á±ªÂûãÊ£ÄÊü•üîÑ Âæ™ÁéØÂºïÁî®Ôºö‰ΩøÁî® Rc/Arc ÂíåÂº±ÊåáÈíàËá™Âä®Ë∑üË∏™ÂÖ±‰∫´ÂºïÁî®ÂíåÂæ™ÁéØÂºïÁî®üß¨ Â§öÊÄÅÊîØÊåÅÔºö‰ΩøÁî® Box&lt;dyn Trait&gt;„ÄÅRc&lt;dyn Trait&gt; Âíå Arc&lt;dyn Trait&gt; Â∫èÂàóÂåñ trait ÂØπË±°üì¶ Schema ÊºîÂåñÔºöÂÖºÂÆπÊ®°ÂºèÊîØÊåÅÁã¨Á´ãÁöÑ schema ÂèòÊõ¥‚ö° ÂèåÊ†ºÂºèÊîØÊåÅÔºöÂØπË±°ÂõæÂ∫èÂàóÂåñÂíåÈõ∂Êã∑Ë¥ùË°åÊ†ºÂºè  ","version":"dev","tagName":"h2"},{"title":"Crate ÂàóË°®‚Äã","type":1,"pageTitle":"Rust Â∫èÂàóÂåñÊåáÂçó","url":"/zh-CN/docs/next/guide/rust/#crate-ÂàóË°®","content":" Crate\tÊèèËø∞\tÁâàÊú¨fory\tÂ∏¶Êúâ derive macro ÁöÑÈ´òÁ∫ß API fory-core\tÊ†∏ÂøÉÂ∫èÂàóÂåñÂºïÊìé fory-derive\tËøáÁ®ãÂÆè\t  ","version":"dev","tagName":"h2"},{"title":"Âø´ÈÄüÂºÄÂßã‚Äã","type":1,"pageTitle":"Rust Â∫èÂàóÂåñÊåáÂçó","url":"/zh-CN/docs/next/guide/rust/#Âø´ÈÄüÂºÄÂßã","content":" Âú®‰Ω†ÁöÑ Cargo.toml ‰∏≠Ê∑ªÂä† Apache Fory‚Ñ¢Ôºö  [dependencies] fory = &quot;0.14&quot;   ","version":"dev","tagName":"h2"},{"title":"Âü∫Á°ÄÁ§∫‰æã‚Äã","type":1,"pageTitle":"Rust Â∫èÂàóÂåñÊåáÂçó","url":"/zh-CN/docs/next/guide/rust/#Âü∫Á°ÄÁ§∫‰æã","content":" use fory::{Fory, Error, Reader}; use fory::ForyObject; #[derive(ForyObject, Debug, PartialEq)] struct User { name: String, age: i32, email: String, } fn main() -&gt; Result&lt;(), Error&gt; { let mut fory = Fory::default(); fory.register::&lt;User&gt;(1)?; let user = User { name: &quot;Alice&quot;.to_string(), age: 30, email: &quot;alice@example.com&quot;.to_string(), }; // Â∫èÂàóÂåñ let bytes = fory.serialize(&amp;user)?; // ÂèçÂ∫èÂàóÂåñ let decoded: User = fory.deserialize(&amp;bytes)?; assert_eq!(user, decoded); // Â∫èÂàóÂåñÂà∞ÊåáÂÆöÁºìÂÜ≤Âå∫ let mut buf: Vec&lt;u8&gt; = vec![]; fory.serialize_to(&amp;mut buf, &amp;user)?; // ‰ªéÊåáÂÆöÁºìÂÜ≤Âå∫ÂèçÂ∫èÂàóÂåñ let mut reader = Reader::new(&amp;buf); let decoded: User = fory.deserialize_from(&amp;mut reader)?; assert_eq!(user, decoded); Ok(()) }   ","version":"dev","tagName":"h3"},{"title":"Á∫øÁ®ãÂÆâÂÖ®‚Äã","type":1,"pageTitle":"Rust Â∫èÂàóÂåñÊåáÂçó","url":"/zh-CN/docs/next/guide/rust/#Á∫øÁ®ãÂÆâÂÖ®","content":" Apache Fory‚Ñ¢ Rust ÊòØÂÆåÂÖ®Á∫øÁ®ãÂÆâÂÖ®ÁöÑÔºöFory ÂêåÊó∂ÂÆûÁé∞‰∫Ü Send Âíå SyncÔºåÂõ†Ê≠§‰∏Ä‰∏™ÈÖçÁΩÆÂ•ΩÁöÑÂÆû‰æãÂèØ‰ª•Âú®Â§ö‰∏™Á∫øÁ®ã‰πãÈó¥ÂÖ±‰∫´‰ª•ËøõË°åÂπ∂ÂèëÂ∑•‰Ωú„ÄÇÂÜÖÈÉ®ÁöÑËØª/ÂÜô‰∏ä‰∏ãÊñáÊ±†ÊòØ‰ΩøÁî®Á∫øÁ®ãÂÆâÂÖ®ÂéüËØ≠Âª∂ËøüÂàùÂßãÂåñÁöÑÔºåËÆ©Â∑•‰ΩúÁ∫øÁ®ãÂèØ‰ª•ÈáçÁî®ÁºìÂÜ≤Âå∫ËÄåÊó†ÈúÄÂçèË∞É„ÄÇ  use fory::{Fory, Error}; use fory::ForyObject; use std::sync::Arc; use std::thread; #[derive(ForyObject, Clone, Copy, Debug, PartialEq)] struct Item { value: i32, } fn main() -&gt; Result&lt;(), Error&gt; { let mut fory = Fory::default(); fory.register::&lt;Item&gt;(1000)?; let fory = Arc::new(fory); let handles: Vec&lt;_&gt; = (0..8) .map(|i| { let shared = Arc::clone(&amp;fory); thread::spawn(move || { let item = Item { value: i }; shared.serialize(&amp;item) }) }) .collect(); for handle in handles { let bytes = handle.join().unwrap()?; let item: Item = fory.deserialize(&amp;bytes)?; assert!(item.value &gt;= 0); } Ok(()) }   ÊèêÁ§∫Ôºö Âú®ÁîüÊàêÁ∫øÁ®ã‰πãÂâçÊâßË°åÊ≥®ÂÜåÊìç‰ΩúÔºà‰æãÂ¶Ç fory.register::&lt;T&gt;(id)ÔºâÔºå‰ª•‰æøÊØè‰∏™Â∑•‰ΩúÁ∫øÁ®ãÁúãÂà∞Áõ∏ÂêåÁöÑÂÖÉÊï∞ÊçÆ„ÄÇÈÖçÁΩÆÂÆåÊàêÂêéÔºåÂ∞ÜÂÆû‰æãÂåÖË£ÖÂú® Arc ‰∏≠Â∞±Ë∂≥‰ª•ÂÆâÂÖ®Âú∞ÂàÜÂèëÂ∫èÂàóÂåñÂíåÂèçÂ∫èÂàóÂåñ‰ªªÂä°„ÄÇ  ","version":"dev","tagName":"h2"},{"title":"Êû∂ÊûÑ‚Äã","type":1,"pageTitle":"Rust Â∫èÂàóÂåñÊåáÂçó","url":"/zh-CN/docs/next/guide/rust/#Êû∂ÊûÑ","content":" Rust ÂÆûÁé∞Áî±‰∏â‰∏™‰∏ªË¶Å crate ÁªÑÊàêÔºö  fory/ # È´òÁ∫ß API ‚îú‚îÄ‚îÄ src/lib.rs # ÂÖ¨ÂÖ± API ÂØºÂá∫ fory-core/ # Ê†∏ÂøÉÂ∫èÂàóÂåñÂºïÊìé ‚îú‚îÄ‚îÄ src/ ‚îÇ ‚îú‚îÄ‚îÄ fory.rs # ‰∏ªÂ∫èÂàóÂåñÂÖ•Âè£ÁÇπ ‚îÇ ‚îú‚îÄ‚îÄ buffer.rs # ‰∫åËøõÂà∂ÁºìÂÜ≤Âå∫ÁÆ°ÁêÜ ‚îÇ ‚îú‚îÄ‚îÄ serializer/ # Á±ªÂûãÁâπÂÆöÂ∫èÂàóÂåñÂô® ‚îÇ ‚îú‚îÄ‚îÄ resolver/ # Á±ªÂûãËß£ÊûêÂíåÂÖÉÊï∞ÊçÆ ‚îÇ ‚îú‚îÄ‚îÄ meta/ # ÂÖÉÂ≠óÁ¨¶‰∏≤ÂéãÁº© ‚îÇ ‚îú‚îÄ‚îÄ row/ # Ë°åÊ†ºÂºèÂÆûÁé∞ ‚îÇ ‚îî‚îÄ‚îÄ types.rs # Á±ªÂûãÂÆö‰πâ fory-derive/ # ËøáÁ®ãÂÆè ‚îú‚îÄ‚îÄ src/ ‚îÇ ‚îú‚îÄ‚îÄ object/ # ForyObject ÂÆè ‚îÇ ‚îî‚îÄ‚îÄ fory_row.rs # ForyRow ÂÆè   ","version":"dev","tagName":"h2"},{"title":"‰ΩøÁî®Âú∫ÊôØ‚Äã","type":1,"pageTitle":"Rust Â∫èÂàóÂåñÊåáÂçó","url":"/zh-CN/docs/next/guide/rust/#‰ΩøÁî®Âú∫ÊôØ","content":" ","version":"dev","tagName":"h2"},{"title":"ÂØπË±°Â∫èÂàóÂåñ‚Äã","type":1,"pageTitle":"Rust Â∫èÂàóÂåñÊåáÂçó","url":"/zh-CN/docs/next/guide/rust/#ÂØπË±°Â∫èÂàóÂåñ","content":" ÂåÖÂê´ÂµåÂ•óÂØπË±°ÂíåÂºïÁî®ÁöÑÂ§çÊùÇÊï∞ÊçÆÁªìÊûÑÂæÆÊúçÂä°‰∏≠ÁöÑË∑®ËØ≠Ë®ÄÈÄö‰ø°ÂÖ∑ÊúâÂÆåÊï¥Á±ªÂûãÂÆâÂÖ®ÁöÑÈÄöÁî®Â∫èÂàóÂåñ‰ΩøÁî®ÂÖºÂÆπÊ®°ÂºèÁöÑ schema ÊºîÂåñÂÖ∑ÊúâÂæ™ÁéØÂºïÁî®ÁöÑÂõæÂΩ¢Êï∞ÊçÆÁªìÊûÑ  ","version":"dev","tagName":"h3"},{"title":"Ë°åÊ†ºÂºèÂ∫èÂàóÂåñ‚Äã","type":1,"pageTitle":"Rust Â∫èÂàóÂåñÊåáÂçó","url":"/zh-CN/docs/next/guide/rust/#Ë°åÊ†ºÂºèÂ∫èÂàóÂåñ","content":" È´òÂêûÂêêÈáèÊï∞ÊçÆÂ§ÑÁêÜÈúÄË¶ÅÂø´ÈÄüÂ≠óÊÆµËÆøÈóÆÁöÑÂàÜÊûêÂ∑•‰ΩúË¥üËΩΩÂÜÖÂ≠òÂèóÈôêÁéØÂ¢ÉÂÆûÊó∂Êï∞ÊçÆÊµÅÂ∫îÁî®Èõ∂Êã∑Ë¥ùÂú∫ÊôØ  ","version":"dev","tagName":"h3"},{"title":"ÂêéÁª≠Ê≠•È™§‚Äã","type":1,"pageTitle":"Rust Â∫èÂàóÂåñÊåáÂçó","url":"/zh-CN/docs/next/guide/rust/#ÂêéÁª≠Ê≠•È™§","content":" ÈÖçÁΩÆ - Fory ÊûÑÂª∫Âô®ÈÄâÈ°πÂíåÊ®°ÂºèÂü∫Á°ÄÂ∫èÂàóÂåñ - ÂØπË±°ÂõæÂ∫èÂàóÂåñÂºïÁî® - ÂÖ±‰∫´ÂºïÁî®ÂíåÂæ™ÁéØÂºïÁî®Â§öÊÄÅ - Trait ÂØπË±°Â∫èÂàóÂåñË∑®ËØ≠Ë®Ä - XLANG Ê®°ÂºèË°åÊ†ºÂºè - Èõ∂Êã∑Ë¥ùË°åÊ†ºÂºè ","version":"dev","tagName":"h2"},{"title":"ÈÖçÁΩÆ","type":0,"sectionRef":"#","url":"/zh-CN/docs/next/guide/rust/configuration","content":"","keywords":"","version":"dev"},{"title":"Â∫èÂàóÂåñÊ®°Âºè‚Äã","type":1,"pageTitle":"ÈÖçÁΩÆ","url":"/zh-CN/docs/next/guide/rust/configuration#Â∫èÂàóÂåñÊ®°Âºè","content":" Apache Fory‚Ñ¢ ÊîØÊåÅ‰∏§ÁßçÂ∫èÂàóÂåñÊ®°ÂºèÔºö  ","version":"dev","tagName":"h2"},{"title":"SchemaConsistent Ê®°ÂºèÔºàÈªòËÆ§Ôºâ‚Äã","type":1,"pageTitle":"ÈÖçÁΩÆ","url":"/zh-CN/docs/next/guide/rust/configuration#schemaconsistent-Ê®°ÂºèÈªòËÆ§","content":" Á±ªÂûãÂ£∞ÊòéÂøÖÈ°ªÂú®ÂØπÁ≠âÊñπ‰πãÈó¥ÂÆåÂÖ®ÂåπÈÖçÔºö  let fory = Fory::default(); // ÈªòËÆ§‰∏∫ SchemaConsistent   ","version":"dev","tagName":"h3"},{"title":"Compatible Ê®°Âºè‚Äã","type":1,"pageTitle":"ÈÖçÁΩÆ","url":"/zh-CN/docs/next/guide/rust/configuration#compatible-Ê®°Âºè","content":" ÂÖÅËÆ∏Áã¨Á´ãÁöÑ schema ÊºîÂåñÔºö  let fory = Fory::default().compatible(true);   ","version":"dev","tagName":"h3"},{"title":"ÈÖçÁΩÆÈÄâÈ°π‚Äã","type":1,"pageTitle":"ÈÖçÁΩÆ","url":"/zh-CN/docs/next/guide/rust/configuration#ÈÖçÁΩÆÈÄâÈ°π","content":" ","version":"dev","tagName":"h2"},{"title":"ÊúÄÂ§ßÂä®ÊÄÅÂØπË±°ÂµåÂ•óÊ∑±Â∫¶‚Äã","type":1,"pageTitle":"ÈÖçÁΩÆ","url":"/zh-CN/docs/next/guide/rust/configuration#ÊúÄÂ§ßÂä®ÊÄÅÂØπË±°ÂµåÂ•óÊ∑±Â∫¶","content":" Apache Fory‚Ñ¢ Êèê‰æõÈíàÂØπÂèçÂ∫èÂàóÂåñÊúüÈó¥Ê∑±Â∫¶ÂµåÂ•óÂä®ÊÄÅÂØπË±°ÂØºËá¥ÁöÑÊ†àÊ∫¢Âá∫‰øùÊä§„ÄÇÈªòËÆ§ÊÉÖÂÜµ‰∏ãÔºåtrait ÂØπË±°ÂíåÂÆπÂô®ÁöÑÊúÄÂ§ßÂµåÂ•óÊ∑±Â∫¶ËÆæÁΩÆ‰∏∫ 5 Â±Ç„ÄÇ  ÈªòËÆ§ÈÖçÁΩÆÔºö  let fory = Fory::default(); // max_dyn_depth = 5   Ëá™ÂÆö‰πâÊ∑±Â∫¶ÈôêÂà∂Ôºö  let fory = Fory::default().max_dyn_depth(10); // ÂÖÅËÆ∏ÊúÄÂ§ö 10 Â±Ç   ‰ΩïÊó∂Ë∞ÉÊï¥Ôºö  Â¢ûÂä†ÔºöÁî®‰∫éÂêàÊ≥ïÁöÑÊ∑±Â∫¶ÂµåÂ•óÊï∞ÊçÆÁªìÊûÑÂáèÂ∞ëÔºöÁî®‰∫éÊõ¥‰∏•Ê†ºÁöÑÂÆâÂÖ®Ë¶ÅÊ±ÇÊàñÊµÖÂ±ÇÊï∞ÊçÆÁªìÊûÑ  Âèó‰øùÊä§ÁöÑÁ±ªÂûãÔºö  Box&lt;dyn Any&gt;„ÄÅRc&lt;dyn Any&gt;„ÄÅArc&lt;dyn Any&gt;Box&lt;dyn Trait&gt;„ÄÅRc&lt;dyn Trait&gt;„ÄÅArc&lt;dyn Trait&gt;Ôºàtrait ÂØπË±°ÔºâRcWeak&lt;T&gt;„ÄÅArcWeak&lt;T&gt;ÈõÜÂêàÁ±ªÂûãÔºàVec„ÄÅHashMap„ÄÅHashSetÔºâCompatible Ê®°Âºè‰∏ãÁöÑÂµåÂ•óÁªìÊûÑ‰ΩìÁ±ªÂûã  Ê≥®ÊÑèÔºöÈùôÊÄÅÊï∞ÊçÆÁ±ªÂûãÔºàÈùûÂä®ÊÄÅÁ±ªÂûãÔºâÊú¨Ë¥®‰∏äÊòØÂÆâÂÖ®ÁöÑÔºå‰∏çÂèóÊ∑±Â∫¶ÈôêÂà∂Á∫¶ÊùüÔºåÂõ†‰∏∫ÂÆÉ‰ª¨ÁöÑÁªìÊûÑÂú®ÁºñËØëÊó∂Â∞±Â∑≤Áü•„ÄÇ  ","version":"dev","tagName":"h3"},{"title":"Ë∑®ËØ≠Ë®ÄÊ®°Âºè‚Äã","type":1,"pageTitle":"ÈÖçÁΩÆ","url":"/zh-CN/docs/next/guide/rust/configuration#Ë∑®ËØ≠Ë®ÄÊ®°Âºè","content":" ÂêØÁî®Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñÔºö  let fory = Fory::default() .compatible(true) .xlang(true);   ","version":"dev","tagName":"h3"},{"title":"ÊûÑÂª∫Âô®Ê®°Âºè‚Äã","type":1,"pageTitle":"ÈÖçÁΩÆ","url":"/zh-CN/docs/next/guide/rust/configuration#ÔøΩÔøΩÊûÑÂª∫Âô®Ê®°Âºè","content":" use fory::Fory; // ÈªòËÆ§ÈÖçÁΩÆ let fory = Fory::default(); // Áî®‰∫é schema ÊºîÂåñÁöÑÂÖºÂÆπÊ®°Âºè let fory = Fory::default().compatible(true); // Ë∑®ËØ≠Ë®ÄÊ®°Âºè let fory = Fory::default() .compatible(true) .xlang(true); // Ëá™ÂÆö‰πâÊ∑±Â∫¶ÈôêÂà∂ let fory = Fory::default().max_dyn_depth(10); // ÁªÑÂêàÈÖçÁΩÆ let fory = Fory::default() .compatible(true) .xlang(true) .max_dyn_depth(10);   ","version":"dev","tagName":"h2"},{"title":"ÈÖçÁΩÆÊëòË¶Å‚Äã","type":1,"pageTitle":"ÈÖçÁΩÆ","url":"/zh-CN/docs/next/guide/rust/configuration#ÈÖçÁΩÆÊëòË¶Å","content":" ÈÄâÈ°π\tÊèèËø∞\tÈªòËÆ§ÂÄºcompatible(bool)\tÂêØÁî® schema ÊºîÂåñ\tfalse xlang(bool)\tÂêØÁî®Ë∑®ËØ≠Ë®ÄÊ®°Âºè\tfalse max_dyn_depth(u32)\tÂä®ÊÄÅÁ±ªÂûãÁöÑÊúÄÂ§ßÂµåÂ•óÊ∑±Â∫¶\t5  ","version":"dev","tagName":"h2"},{"title":"Áõ∏ÂÖ≥‰∏ªÈ¢ò‚Äã","type":1,"pageTitle":"ÈÖçÁΩÆ","url":"/zh-CN/docs/next/guide/rust/configuration#Áõ∏ÂÖ≥‰∏ªÈ¢ò","content":" Âü∫Á°ÄÂ∫èÂàóÂåñ - ‰ΩøÁî®Â∑≤ÈÖçÁΩÆÁöÑ ForySchema ÊºîÂåñ - Compatible Ê®°ÂºèËØ¶ÊÉÖË∑®ËØ≠Ë®Ä - XLANG Ê®°Âºè ","version":"dev","tagName":"h2"},{"title":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ","type":0,"sectionRef":"#","url":"/zh-CN/docs/next/guide/rust/cross_language","content":"","keywords":"","version":"dev"},{"title":"ÂêØÁî®Ë∑®ËØ≠Ë®ÄÊ®°Âºè‚Äã","type":1,"pageTitle":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/next/guide/rust/cross_language#ÂêØÁî®Ë∑®ËØ≠Ë®ÄÊ®°ÔøΩÂºè","content":" use fory::Fory; // ÂêØÁî®Ë∑®ËØ≠Ë®ÄÊ®°Âºè let mut fory = Fory::default() .compatible(true) .xlang(true); // ‰ΩøÁî®Ë∑®ËØ≠Ë®Ä‰∏ÄËá¥ÁöÑ ID Ê≥®ÂÜåÁ±ªÂûã fory.register::&lt;MyStruct&gt;(100); // Êàñ‰ΩøÁî®Âü∫‰∫éÂëΩÂêçÁ©∫Èó¥ÁöÑÊ≥®ÂÜå fory.register_by_namespace::&lt;MyStruct&gt;(&quot;com.example&quot;, &quot;MyStruct&quot;);   ","version":"dev","tagName":"h2"},{"title":"Ë∑®ËØ≠Ë®ÄÁ±ªÂûãÊ≥®ÂÜå‚Äã","type":1,"pageTitle":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/next/guide/rust/cross_language#Ë∑®ËØ≠Ë®ÄÁ±ªÂûãÊ≥®ÂÜå","content":" ","version":"dev","tagName":"h2"},{"title":"Êåâ ID Ê≥®ÂÜå‚Äã","type":1,"pageTitle":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/next/guide/rust/cross_language#Êåâ-id-Ê≥®ÂÜå","content":" ÂØπ‰∫é‰ΩøÁî®Ë∑®ËØ≠Ë®Ä‰∏ÄËá¥ ID ÁöÑÂø´ÈÄü„ÄÅÁ¥ßÂáëÂ∫èÂàóÂåñÔºö  let mut fory = Fory::default() .compatible(true) .xlang(true); fory.register::&lt;User&gt;(100); // Âú® Java„ÄÅPython Á≠â‰∏≠‰ΩøÁî®Áõ∏ÂêåÁöÑ ID   ","version":"dev","tagName":"h3"},{"title":"ÊåâÂëΩÂêçÁ©∫Èó¥Ê≥®ÂÜå‚Äã","type":1,"pageTitle":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/next/guide/rust/cross_language#ÊåâÂëΩÂêçÁ©∫Èó¥Ê≥®ÂÜå","content":" ÂØπ‰∫éÊõ¥ÁÅµÊ¥ªÁöÑÁ±ªÂûãÂëΩÂêçÔºö  fory.register_by_namespace::&lt;User&gt;(&quot;com.example&quot;, &quot;User&quot;);   ","version":"dev","tagName":"h3"},{"title":"Ë∑®ËØ≠Ë®ÄÁ§∫‰æã‚Äã","type":1,"pageTitle":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/next/guide/rust/cross_language#Ë∑®ËØ≠Ë®ÄÁ§∫‰æã","content":" ","version":"dev","tagName":"h2"},{"title":"RustÔºàÂ∫èÂàóÂåñÂô®Ôºâ‚Äã","type":1,"pageTitle":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/next/guide/rust/cross_language#rustÂ∫èÂàóÂåñÂô®","content":" use fory::Fory; use fory::ForyObject; #[derive(ForyObject)] struct Person { name: String, age: i32, } let mut fory = Fory::default() .compatible(true) .xlang(true); fory.register::&lt;Person&gt;(100); let person = Person { name: &quot;Alice&quot;.to_string(), age: 30, }; let bytes = fory.serialize(&amp;person)?; // bytes ÂèØ‰ª•Ë¢´ Java„ÄÅPython Á≠âÂèçÂ∫èÂàóÂåñ   ","version":"dev","tagName":"h3"},{"title":"JavaÔºàÂèçÂ∫èÂàóÂåñÂô®Ôºâ‚Äã","type":1,"pageTitle":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/next/guide/rust/cross_language#javaÂèçÂ∫èÂàóÂåñÂô®","content":" import org.apache.fory.*; import org.apache.fory.config.*; public class Person { public String name; public int age; } Fory fory = Fory.builder() .withLanguage(Language.XLANG) .withRefTracking(true) .build(); fory.register(Person.class, 100); // ‰∏é Rust ‰ΩøÁî®Áõ∏ÂêåÁöÑ ID Person person = (Person) fory.deserialize(bytesFromRust);   ","version":"dev","tagName":"h3"},{"title":"PythonÔºàÂèçÂ∫èÂàóÂåñÂô®Ôºâ‚Äã","type":1,"pageTitle":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/next/guide/rust/cross_language#pythonÂèçÂ∫èÂàóÂåñÂô®","content":" import pyfory from dataclasses import dataclass @dataclass class Person: name: str age: pyfory.int32 fory = pyfory.Fory(ref_tracking=True) fory.register_type(Person, type_id=100) # ‰∏é Rust ‰ΩøÁî®Áõ∏ÂêåÁöÑ ID person = fory.deserialize(bytes_from_rust)   ","version":"dev","tagName":"h3"},{"title":"Á±ªÂûãÊò†Â∞Ñ‚Äã","type":1,"pageTitle":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/next/guide/rust/cross_language#Á±ªÂûãÊò†Â∞Ñ","content":" ÊúâÂÖ≥Ë∑®ËØ≠Ë®ÄÂÆåÊï¥Á±ªÂûãÊò†Â∞ÑÔºåËØ∑ÂèÇÈòÖ xlang_type_mapping.md„ÄÇ  ","version":"dev","tagName":"h2"},{"title":"Â∏∏ËßÅÁ±ªÂûãÊò†Â∞Ñ‚Äã","type":1,"pageTitle":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/next/guide/rust/cross_language#Â∏∏ËßÅÁ±ªÂûãÊò†Â∞Ñ","content":" Rust\tJava\tPythoni32\tint\tint32 i64\tlong\tint64 f32\tfloat\tfloat32 f64\tdouble\tfloat64 String\tString\tstr Vec&lt;T&gt;\tList&lt;T&gt;\tList[T] HashMap&lt;K,V&gt;\tMap&lt;K,V&gt;\tDict[K,V] Option&lt;T&gt;\tÂèØÁ©∫ T\tOptional[T]  ","version":"dev","tagName":"h3"},{"title":"ÊúÄ‰Ω≥ÂÆûË∑µ‚Äã","type":1,"pageTitle":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/next/guide/rust/cross_language#ÊúÄ‰Ω≥ÂÆûË∑µ","content":" ‰ΩøÁî®‰∏ÄËá¥ÁöÑÁ±ªÂûã IDÔºöÂú®ÊâÄÊúâËØ≠Ë®Ä‰∏≠‰ΩøÁî®Áõ∏ÂêåÁöÑ IDÂêØÁî® compatible Ê®°ÂºèÔºöÁî®‰∫é schema ÊºîÂåñÊ≥®ÂÜåÊâÄÊúâÁ±ªÂûãÔºöÂú®Â∫èÂàóÂåñ‰πãÂâçÊµãËØïË∑®ËØ≠Ë®ÄÔºöÂú®ÂºÄÂèëÊúüÈó¥ÊµãËØïÂÖºÂÆπÊÄß  ","version":"dev","tagName":"h2"},{"title":"Âè¶ËØ∑ÂèÇÈòÖ‚Äã","type":1,"pageTitle":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/next/guide/rust/cross_language#Âè¶ËØ∑ÂèÇÈòÖ","content":" Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñËßÑËåÉÁ±ªÂûãÊò†Â∞ÑÂèÇËÄÉJava Ë∑®ËØ≠Ë®ÄÊåáÂçóPython Ë∑®ËØ≠Ë®ÄÊåáÂçó  ","version":"dev","tagName":"h2"},{"title":"Áõ∏ÂÖ≥‰∏ªÈ¢ò‚Äã","type":1,"pageTitle":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/next/guide/rust/cross_language#Áõ∏ÂÖ≥‰∏ªÈ¢ò","content":" ÈÖçÁΩÆ - XLANG Ê®°ÂºèÈÖçÁΩÆSchema ÊºîÂåñ - Compatible Ê®°ÂºèÁ±ªÂûãÊ≥®ÂÜå - Ê≥®ÂÜåÊñπÊ≥ï ","version":"dev","tagName":"h2"},{"title":"Ëá™ÂÆö‰πâÂ∫èÂàóÂåñÂô®","type":0,"sectionRef":"#","url":"/zh-CN/docs/next/guide/rust/custom_serializers","content":"","keywords":"","version":"dev"},{"title":"‰ΩïÊó∂‰ΩøÁî®Ëá™ÂÆö‰πâÂ∫èÂàóÂåñÂô®‚Äã","type":1,"pageTitle":"Ëá™ÂÆö‰πâÂ∫èÂàóÂåñÂô®","url":"/zh-CN/docs/next/guide/rust/custom_serializers#‰ΩïÊó∂‰ΩøÁî®Ëá™ÔøΩÂÆö‰πâÂ∫èÂàóÂåñÂô®","content":" Êù•Ëá™ÂÖ∂‰ªñ crate ÁöÑÂ§ñÈÉ®Á±ªÂûãÂÖ∑ÊúâÁâπÊÆäÂ∫èÂàóÂåñË¶ÅÊ±ÇÁöÑÁ±ªÂûãÊóßÊï∞ÊçÆÊ†ºÂºèÂÖºÂÆπÊÄßÊÄßËÉΩÂÖ≥ÈîÆÁöÑËá™ÂÆö‰πâÁºñÁ†Å  ","version":"dev","tagName":"h2"},{"title":"ÂÆûÁé∞ Serializer Trait‚Äã","type":1,"pageTitle":"Ëá™ÂÆö‰πâÂ∫èÂàóÂåñÂô®","url":"/zh-CN/docs/next/guide/rust/custom_serializers#ÂÆûÁé∞-serializer-trait","content":" use fory::{Fory, ReadContext, WriteContext, Serializer, ForyDefault, Error}; use std::any::Any; #[derive(Debug, PartialEq)] struct CustomType { value: i32, name: String, } impl Serializer for CustomType { fn fory_write_data(&amp;self, context: &amp;mut WriteContext, is_field: bool) { context.writer.write_i32(self.value); context.writer.write_varuint32(self.name.len() as u32); context.writer.write_utf8_string(&amp;self.name); } fn fory_read_data(context: &amp;mut ReadContext, is_field: bool) -&gt; Result&lt;Self, Error&gt; { let value = context.reader.read_i32(); let len = context.reader.read_varuint32() as usize; let name = context.reader.read_utf8_string(len); Ok(Self { value, name }) } fn fory_type_id_dyn(&amp;self, type_resolver: &amp;TypeResolver) -&gt; u32 { Self::fory_get_type_id(type_resolver) } fn as_any(&amp;self) -&gt; &amp;dyn Any { self } } impl ForyDefault for CustomType { fn fory_default() -&gt; Self { Self::default() } }   ","version":"dev","tagName":"h2"},{"title":"Ê≥®ÂÜåËá™ÂÆö‰πâÂ∫èÂàóÂåñÂô®‚Äã","type":1,"pageTitle":"Ëá™ÂÆö‰πâÂ∫èÂàóÂåñÂô®","url":"/zh-CN/docs/next/guide/rust/custom_serializers#Ê≥®ÂÜåËá™ÂÆö‰πâÂ∫èÂàóÂåñÂô®","content":" let mut fory = Fory::default(); fory.register_serializer::&lt;CustomType&gt;(100); let custom = CustomType { value: 42, name: &quot;test&quot;.to_string(), }; let bytes = fory.serialize(&amp;custom); let decoded: CustomType = fory.deserialize(&amp;bytes)?; assert_eq!(custom, decoded);   ","version":"dev","tagName":"h2"},{"title":"WriteContext Âíå ReadContext‚Äã","type":1,"pageTitle":"Ëá™ÂÆö‰πâÂ∫èÂàóÂåñÂô®","url":"/zh-CN/docs/next/guide/rust/custom_serializers#writecontext-Âíå-readcontext","content":" WriteContext Âíå ReadContext Êèê‰æõÂØπ‰ª•‰∏ãÂÜÖÂÆπÁöÑËÆøÈóÆÔºö  writer/readerÔºö‰∫åËøõÂà∂ÁºìÂÜ≤Âå∫Êìç‰Ωútype_resolverÔºöÁ±ªÂûãÊ≥®ÂÜå‰ø°ÊÅØref_resolverÔºöÂºïÁî®Ë∑üË∏™ÔºàÁî®‰∫éÂÖ±‰∫´/Âæ™ÁéØÂºïÁî®Ôºâ  ","version":"dev","tagName":"h2"},{"title":"Â∏∏Áî® Writer ÊñπÊ≥ï‚Äã","type":1,"pageTitle":"Ëá™ÂÆö‰πâÂ∫èÂàóÂåñÂô®","url":"/zh-CN/docs/next/guide/rust/custom_serializers#Â∏∏Áî®-writer-ÊñπÊ≥ï","content":" // ÂéüÂßãÁ±ªÂûã context.writer.write_i8(value); context.writer.write_i16(value); context.writer.write_i32(value); context.writer.write_i64(value); context.writer.write_f32(value); context.writer.write_f64(value); context.writer.write_bool(value); // ÂèòÈïøÊï¥Êï∞ context.writer.write_varint32(value); context.writer.write_varuint32(value); // Â≠óÁ¨¶‰∏≤ context.writer.write_utf8_string(&amp;string);   ","version":"dev","tagName":"h3"},{"title":"Â∏∏Áî® Reader ÊñπÊ≥ï‚Äã","type":1,"pageTitle":"Ëá™ÂÆö‰πâÂ∫èÂàóÂåñÂô®","url":"/zh-CN/docs/next/guide/rust/custom_serializers#Â∏∏Áî®-reader-ÊñπÊ≥ï","content":" // ÂéüÂßãÁ±ªÂûã let value = context.reader.read_i8(); let value = context.reader.read_i16(); let value = context.reader.read_i32(); let value = context.reader.read_i64(); let value = context.reader.read_f32(); let value = context.reader.read_f64(); let value = context.reader.read_bool(); // ÂèòÈïøÊï¥Êï∞ let value = context.reader.read_varint32(); let value = context.reader.read_varuint32(); // Â≠óÁ¨¶‰∏≤ let string = context.reader.read_utf8_string(len);   ","version":"dev","tagName":"h3"},{"title":"ÊúÄ‰Ω≥ÂÆûË∑µ‚Äã","type":1,"pageTitle":"Ëá™ÂÆö‰πâÂ∫èÂàóÂåñÂô®","url":"/zh-CN/docs/next/guide/rust/custom_serializers#ÊúÄ‰Ω≥ÂÆûË∑µ","content":" ‰ΩøÁî®ÂèòÈïøÁºñÁ†ÅÔºöÂØπÂèØËÉΩËæÉÂ∞èÁöÑÊï¥Êï∞‰ΩøÁî®ÂèòÈïøÁºñÁ†ÅÈ¶ñÂÖàÂÜôÂÖ•ÈïøÂ∫¶ÔºöÂØπÂèòÈïøÊï∞ÊçÆÂÖàÂÜôÂÖ•ÈïøÂ∫¶Ê≠£Á°ÆÂ§ÑÁêÜÈîôËØØÔºöÂú® read ÊñπÊ≥ï‰∏≠Ê≠£Á°ÆÂ§ÑÁêÜÈîôËØØÂÆûÁé∞ ForyDefaultÔºö‰ª•ÊîØÊåÅ schema ÊºîÂåñ  ","version":"dev","tagName":"h2"},{"title":"Áõ∏ÂÖ≥‰∏ªÈ¢ò‚Äã","type":1,"pageTitle":"Ëá™ÂÆö‰πâÂ∫èÂàóÂåñÂô®","url":"/zh-CN/docs/next/guide/rust/custom_serializers#Áõ∏ÂÖ≥‰∏ªÈ¢ò","content":" Á±ªÂûãÊ≥®ÂÜå - Ê≥®ÂÜåÂ∫èÂàóÂåñÂô®Âü∫Á°ÄÂ∫èÂàóÂåñ - ‰ΩøÁî® ForyObject deriveSchema ÊºîÂåñ - Compatible Ê®°Âºè ","version":"dev","tagName":"h2"},{"title":"Â≠óÊÆµÈÖçÁΩÆ","type":0,"sectionRef":"#","url":"/zh-CN/docs/next/guide/rust/field_configuration","content":"","keywords":"","version":"dev"},{"title":"Ê¶ÇËø∞‚Äã","type":1,"pageTitle":"Â≠óÊÆµÈÖçÁΩÆ","url":"/zh-CN/docs/next/guide/rust/field_configuration#Ê¶ÇËø∞","content":" Apache Fory‚Ñ¢ Êèê‰æõ #[fory(...)] Â±ûÊÄßÂÆèÔºåÁî®‰∫éÂú®ÁºñËØëÊúüÂ£∞ÊòéÂèØÈÄâÂ≠óÊÆµÁ∫ßÂÖÉ‰ø°ÊÅØ„ÄÇ This enables:  Tag IDs: Assign compact numeric IDs to minimize struct field meta size overheadNullability: Control whether fields can be nullReference Tracking: Enable reference tracking for shared ownership typesField Skipping: Exclude fields from serializationEncoding Control: Specify how integers are encoded (varint, fixed, tagged)  ","version":"dev","tagName":"h2"},{"title":"Âü∫Êú¨ËØ≠Ê≥ï‚Äã","type":1,"pageTitle":"Â≠óÊÆµÈÖçÁΩÆ","url":"/zh-CN/docs/next/guide/rust/field_configuration#Âü∫Êú¨ËØ≠Ê≥ï","content":" The #[fory(...)] attribute is placed on individual struct fields:  use fory::ForyObject; #[derive(ForyObject)] struct Person { #[fory(id = 0)] name: String, #[fory(id = 1)] age: i32, #[fory(id = 2, nullable)] nickname: Option&lt;String&gt;, }   Multiple options are separated by commas.  ","version":"dev","tagName":"h2"},{"title":"ÂèØÁî®ÈÄâÈ°π‚Äã","type":1,"pageTitle":"Â≠óÊÆµÈÖçÁΩÆ","url":"/zh-CN/docs/next/guide/rust/field_configuration#ÂèØÁî®ÈÄâÈ°π","content":" ","version":"dev","tagName":"h2"},{"title":"Field ID (id = N)‚Äã","type":1,"pageTitle":"Â≠óÊÆµÈÖçÁΩÆ","url":"/zh-CN/docs/next/guide/rust/field_configuration#field-id-id--n","content":" Assigns a numeric ID to a field to minimize struct field meta size overhead:  #[derive(ForyObject)] struct User { #[fory(id = 0)] id: i64, #[fory(id = 1)] name: String, #[fory(id = 2)] age: i32, }   Benefits:  Smaller serialized size (numeric IDs vs field names in metadata)Allows renaming fields without breaking binary compatibility  Recommendation: It is recommended to configure field IDs for compatible mode since it reduces serialization cost.  Notes:  IDs must be unique within a structIDs must be &gt;= 0 (use -1 to explicitly opt-out of tag ID encoding)If not specified, field name is used in metadata (larger overhead)  ","version":"dev","tagName":"h3"},{"title":"Skipping Fields (skip)‚Äã","type":1,"pageTitle":"Â≠óÊÆµÈÖçÁΩÆ","url":"/zh-CN/docs/next/guide/rust/field_configuration#skipping-fields-skip","content":" Excludes a field from serialization:  #[derive(ForyObject)] struct User { #[fory(id = 0)] id: i64, #[fory(id = 1)] name: String, #[fory(skip)] password: String, // Not serialized }   The password field will not be included in serialized output and will remain at its default value after deserialization.  ","version":"dev","tagName":"h3"},{"title":"Nullable (nullable)‚Äã","type":1,"pageTitle":"Â≠óÊÆµÈÖçÁΩÆ","url":"/zh-CN/docs/next/guide/rust/field_configuration#nullable-nullable","content":" Controls whether null flags are written for fields:  use fory::{Fory, RcWeak}; #[derive(ForyObject)] struct Record { // RcWeak is nullable by default, override to non-nullable #[fory(id = 0, nullable = false)] required_ref: RcWeak&lt;Data&gt;, }   Default Behavior:  Type\tDefault NullableOption&lt;T&gt;\ttrue RcWeak&lt;T&gt;, ArcWeak&lt;T&gt;\ttrue All other types\tfalse  Notes:  For Option&lt;T&gt;, RcWeak&lt;T&gt;, ArcWeak&lt;T&gt;, nullable defaults to trueFor all other types, nullable defaults to falseUse nullable = false to override defaults for types that are nullable by default  ","version":"dev","tagName":"h3"},{"title":"Reference Tracking (ref)‚Äã","type":1,"pageTitle":"Â≠óÊÆµÈÖçÁΩÆ","url":"/zh-CN/docs/next/guide/rust/field_configuration#reference-tracking-ref","content":" Controls per-field reference tracking for shared ownership types:  use std::rc::Rc; use std::sync::Arc; #[derive(ForyObject)] struct Container { // Enable reference tracking (default for Rc/Arc) #[fory(id = 0, ref = true)] shared_data: Rc&lt;Data&gt;, // Disable reference tracking #[fory(id = 1, ref = false)] unique_data: Rc&lt;Data&gt;, }   Default Behavior:  Type\tDefault Ref TrackingRc&lt;T&gt;, Arc&lt;T&gt;\ttrue RcWeak&lt;T&gt;, ArcWeak&lt;T&gt;\ttrue Option&lt;Rc&lt;T&gt;&gt;, Option&lt;Arc&lt;T&gt;&gt;\ttrue (inherited) All other types\tfalse  Use Cases:  Enable for fields that may be circular or sharedDisable for fields that are always unique (optimization)  ","version":"dev","tagName":"h3"},{"title":"Encoding (encoding)‚Äã","type":1,"pageTitle":"Â≠óÊÆµÈÖçÁΩÆ","url":"/zh-CN/docs/next/guide/rust/field_configuration#encoding-encoding","content":" Controls how integer fields are encoded:  #[derive(ForyObject)] struct Metrics { // Variable-length encoding (smaller for small values) #[fory(id = 0, encoding = &quot;varint&quot;)] count: i64, // Fixed-length encoding (consistent size) #[fory(id = 1, encoding = &quot;fixed&quot;)] timestamp: i64, // Tagged encoding (includes type tag, u64 only) #[fory(id = 2, encoding = &quot;tagged&quot;)] value: u64, }   Supported Encodings:  Type\tOptions\tDefaulti32, u32\tvarint, fixed\tvarint i64, u64\tvarint, fixed, tagged\tvarint  When to Use:  varint: Best for values that are often small (default)fixed: Best for values that use full range (e.g., timestamps, hashes)tagged: When type information needs to be preserved (u64 only)  ","version":"dev","tagName":"h3"},{"title":"Compress (compress)‚Äã","type":1,"pageTitle":"Â≠óÊÆµÈÖçÁΩÆ","url":"/zh-CN/docs/next/guide/rust/field_configuration#compress-compress","content":" A convenience shorthand for controlling integer encoding:  #[derive(ForyObject)] struct Data { // compress = true -&gt; varint encoding (default) #[fory(id = 0, compress)] small_value: i32, // compress = false -&gt; fixed encoding #[fory(id = 1, compress = false)] fixed_value: u32, }   Notes:  compress or compress = true is equivalent to encoding = &quot;varint&quot;compress = false is equivalent to encoding = &quot;fixed&quot;If both compress and encoding are specified, they must not conflict  ","version":"dev","tagName":"h3"},{"title":"Type Classification‚Äã","type":1,"pageTitle":"Â≠óÊÆµÈÖçÁΩÆ","url":"/zh-CN/docs/next/guide/rust/field_configuration#type-classification","content":" Fory classifies field types to determine default behavior:  Type Class\tExamples\tDefault Nullable\tDefault RefPrimitive\ti8, i32, f64, bool\tfalse\tfalse Option\tOption&lt;T&gt;\ttrue\tfalse Rc\tRc&lt;T&gt;\tfalse\ttrue Arc\tArc&lt;T&gt;\tfalse\ttrue RcWeak\tRcWeak&lt;T&gt; (fory type)\ttrue\ttrue ArcWeak\tArcWeak&lt;T&gt; (fory type)\ttrue\ttrue Other\tString, Vec&lt;T&gt;, user types\tfalse\tfalse  Special Case: Option&lt;Rc&lt;T&gt;&gt; and Option&lt;Arc&lt;T&gt;&gt; inherit the inner type's ref tracking behavior.  ","version":"dev","tagName":"h2"},{"title":"Complete Example‚Äã","type":1,"pageTitle":"Â≠óÊÆµÈÖçÁΩÆ","url":"/zh-CN/docs/next/guide/rust/field_configuration#complete-example","content":" use fory::ForyObject; use std::rc::Rc; #[derive(ForyObject, Default)] struct Document { // Required fields with tag IDs #[fory(id = 0)] title: String, #[fory(id = 1)] version: i32, // Optional field (nullable by default for Option) #[fory(id = 2)] description: Option&lt;String&gt;, // Reference-tracked shared pointer #[fory(id = 3)] parent: Rc&lt;Document&gt;, // Nullable + reference-tracked #[fory(id = 4, nullable)] related: Option&lt;Rc&lt;Document&gt;&gt;, // Counter with varint encoding (small values) #[fory(id = 5, encoding = &quot;varint&quot;)] view_count: u64, // Timestamp with fixed encoding (full range values) #[fory(id = 6, encoding = &quot;fixed&quot;)] created_at: i64, // Skip sensitive field #[fory(skip)] internal_state: String, } fn main() { let fory = fory::Fory::default(); let doc = Document { title: &quot;My Document&quot;.to_string(), version: 1, description: Some(&quot;A sample document&quot;.to_string()), parent: Rc::new(Document::default()), related: None, // Allowed because nullable view_count: 42, created_at: 1704067200, internal_state: &quot;secret&quot;.to_string(), // Will be skipped }; let bytes = fory.serialize(&amp;doc); let decoded: Document = fory.deserialize(&amp;bytes).unwrap(); }   ","version":"dev","tagName":"h2"},{"title":"Compile-Time Validation‚Äã","type":1,"pageTitle":"Â≠óÊÆµÈÖçÁΩÆ","url":"/zh-CN/docs/next/guide/rust/field_configuration#compile-time-validation","content":" Invalid configurations are caught at compile time:  // Error: duplicate field IDs #[derive(ForyObject)] struct Bad { #[fory(id = 0)] field1: String, #[fory(id = 0)] // Compile error: duplicate id field2: String, } // Error: invalid id value #[derive(ForyObject)] struct Bad2 { #[fory(id = -2)] // Compile error: id must be &gt;= -1 field: String, } // Error: conflicting encoding attributes #[derive(ForyObject)] struct Bad3 { #[fory(compress = true, encoding = &quot;fixed&quot;)] // Compile error: conflict field: i32, }   ","version":"dev","tagName":"h2"},{"title":"Cross-Language Compatibility‚Äã","type":1,"pageTitle":"Â≠óÊÆµÈÖçÁΩÆ","url":"/zh-CN/docs/next/guide/rust/field_configuration#cross-language-compatibility","content":" When serializing data to be read by other languages (Java, C++, Go, Python), use field configuration to match encoding expectations:  #[derive(ForyObject)] struct CrossLangData { // Matches Java Integer with varint #[fory(id = 0, encoding = &quot;varint&quot;)] int_var: i32, // Matches Java Integer with fixed #[fory(id = 1, encoding = &quot;fixed&quot;)] int_fixed: i32, // Matches Java Long with tagged encoding #[fory(id = 2, encoding = &quot;tagged&quot;)] long_tagged: u64, // Nullable pointer matches Java nullable reference #[fory(id = 3, nullable)] optional: Option&lt;String&gt;, }   ","version":"dev","tagName":"h2"},{"title":"Schema Evolution‚Äã","type":1,"pageTitle":"Â≠óÊÆµÈÖçÁΩÆ","url":"/zh-CN/docs/next/guide/rust/field_configuration#schema-evolution","content":" Compatible mode supports schema evolution. It is recommended to configure field IDs to reduce serialization cost:  // Version 1 #[derive(ForyObject)] struct DataV1 { #[fory(id = 0)] id: i64, #[fory(id = 1)] name: String, } // Version 2: Added new field #[derive(ForyObject)] struct DataV2 { #[fory(id = 0)] id: i64, #[fory(id = 1)] name: String, #[fory(id = 2)] email: Option&lt;String&gt;, // New nullable field }   Data serialized with V1 can be deserialized with V2 (new field will be None).  Alternatively, field IDs can be omitted (field names will be used in metadata with larger overhead):  #[derive(ForyObject)] struct Data { id: i64, name: String, }   ","version":"dev","tagName":"h2"},{"title":"Default Values‚Äã","type":1,"pageTitle":"Â≠óÊÆµÈÖçÁΩÆ","url":"/zh-CN/docs/next/guide/rust/field_configuration#default-values","content":" Nullable: Option&lt;T&gt;, RcWeak&lt;T&gt;, and ArcWeak&lt;T&gt; are nullable by default; all other types are non-nullableRef tracking: Rc&lt;T&gt;, Arc&lt;T&gt;, RcWeak&lt;T&gt;, and ArcWeak&lt;T&gt; enable ref tracking by default; all other types are disabled  You need to configure fields when:  A field can be None (use Option&lt;T&gt;)A field needs reference tracking for shared/circular objects (use ref = true)Integer types need specific encoding for cross-language compatibilityYou want to reduce metadata size (use field IDs)  // Xlang mode: explicit configuration required #[derive(ForyObject)] struct User { #[fory(id = 0)] name: String, // Non-nullable by default #[fory(id = 1)] email: Option&lt;String&gt;, // Nullable (Option&lt;T&gt;) #[fory(id = 2, ref = true)] friend: Rc&lt;User&gt;, // Ref tracking (default for Rc) }   ","version":"dev","tagName":"h2"},{"title":"Default Values Summary‚Äã","type":1,"pageTitle":"Â≠óÊÆµÈÖçÁΩÆ","url":"/zh-CN/docs/next/guide/rust/field_configuration#default-values-summary","content":" Type\tDefault Nullable\tDefault Ref TrackingPrimitives, String\tfalse\tfalse Option&lt;T&gt;\ttrue\tfalse Rc&lt;T&gt;, Arc&lt;T&gt;\tfalse\ttrue RcWeak&lt;T&gt;, ArcWeak&lt;T&gt;\ttrue\ttrue  ","version":"dev","tagName":"h3"},{"title":"Best Practices‚Äã","type":1,"pageTitle":"Â≠óÊÆµÈÖçÁΩÆ","url":"/zh-CN/docs/next/guide/rust/field_configuration#best-practices","content":" Configure field IDs: Recommended for compatible mode to reduce serialization costUse skip for sensitive data: Passwords, tokens, internal stateEnable ref tracking for shared objects: When the same pointer appears multiple timesDisable ref tracking for unique fields: Optimization when you know the field is uniqueChoose appropriate encoding: varint for small values, fixed for full-range valuesKeep IDs stable: Once assigned, don't change field IDs  ","version":"dev","tagName":"h2"},{"title":"Options Reference‚Äã","type":1,"pageTitle":"Â≠óÊÆµÈÖçÁΩÆ","url":"/zh-CN/docs/next/guide/rust/field_configuration#options-reference","content":" Option\tSyntax\tDescription\tValid Forid\tid = N\tField tag ID to reduce metadata size\tAll fields skip\tskip\tExclude field from serialization\tAll fields nullable\tnullable or nullable = bool\tControl null flag writing\tAll fields ref\tref or ref = bool\tControl reference tracking\tRc, Arc, weak types encoding\tencoding = &quot;varint/fixed/tagged&quot;\tInteger encoding method\ti32, u32, i64, u64 compress\tcompress or compress = bool\tShorthand for varint/fixed\ti32, u32  ","version":"dev","tagName":"h2"},{"title":"Related Topics‚Äã","type":1,"pageTitle":"Â≠óÊÆµÈÖçÁΩÆ","url":"/zh-CN/docs/next/guide/rust/field_configuration#related-topics","content":" Basic Serialization - Getting started with Fory serializationSchema Evolution - Compatible mode and schema evolutionCross-Language - Interoperability with Java, C++, Go, Python ","version":"dev","tagName":"h2"},{"title":"ÂÖ±‰∫´ÂíåÂæ™ÁéØÂºïÁî®","type":0,"sectionRef":"#","url":"/zh-CN/docs/next/guide/rust/references","content":"","keywords":"","version":"dev"},{"title":"ÂÖ±‰∫´ÂºïÁî®‚Äã","type":1,"pageTitle":"ÂÖ±‰∫´ÂíåÂæ™ÁéØÂºïÁî®","url":"/zh-CN/docs/next/guide/rust/references#ÂÖ±‰∫´ÂºïÔøΩÁî®","content":" ÂΩìÂêå‰∏ÄÂØπË±°Ë¢´Â§öÊ¨°ÂºïÁî®Êó∂ÔºåFory ‰ªÖÂ∫èÂàóÂåñ‰∏ÄÊ¨°ÔºåÂπ∂ÂØπÂêéÁª≠Âá∫Áé∞‰ΩøÁî®ÂºïÁî® ID„ÄÇËøôÁ°Æ‰øù‰∫ÜÔºö  Á©∫Èó¥ÊïàÁéáÔºöÂ∫èÂàóÂåñËæìÂá∫‰∏≠Êó†Êï∞ÊçÆÈáçÂ§çÂºïÁî®Ë∫´‰ªΩ‰øùÁïôÔºöÂèçÂ∫èÂàóÂåñÁöÑÂØπË±°‰øùÊåÅÁõ∏ÂêåÁöÑÂÖ±‰∫´ÂÖ≥Á≥ªÂæ™ÁéØÂºïÁî®ÊîØÊåÅÔºö‰ΩøÁî® RcWeak&lt;T&gt; Âíå ArcWeak&lt;T&gt; ÊâìÁ†¥Âæ™ÁéØ  ","version":"dev","tagName":"h2"},{"title":"‰ΩøÁî® Rc ÁöÑÂÖ±‰∫´ÂºïÁî®‚Äã","type":1,"pageTitle":"ÂÖ±‰∫´ÂíåÂæ™ÁéØÂºïÁî®","url":"/zh-CN/docs/next/guide/rust/references#‰ΩøÁî®-rc-ÁöÑÂÖ±‰∫´ÂºïÁî®","content":" use fory::Fory; use std::rc::Rc; let fory = Fory::default(); // ÂàõÂª∫ÂÖ±‰∫´ÂÄº let shared = Rc::new(String::from(&quot;shared_value&quot;)); // Â§öÊ¨°ÂºïÁî®ÂÆÉ let data = vec![shared.clone(), shared.clone(), shared.clone()]; // ÂÖ±‰∫´ÂÄº‰ªÖÂ∫èÂàóÂåñ‰∏ÄÊ¨° let bytes = fory.serialize(&amp;data); let decoded: Vec&lt;Rc&lt;String&gt;&gt; = fory.deserialize(&amp;bytes)?; // È™åËØÅÂºïÁî®Ë∫´‰ªΩË¢´‰øùÁïô assert_eq!(decoded.len(), 3); assert_eq!(*decoded[0], &quot;shared_value&quot;); // ÊâÄÊúâ‰∏â‰∏™ Rc ÊåáÈíàÊåáÂêëÂêå‰∏ÄÂØπË±° assert!(Rc::ptr_eq(&amp;decoded[0], &amp;decoded[1])); assert!(Rc::ptr_eq(&amp;decoded[1], &amp;decoded[2]));   ","version":"dev","tagName":"h3"},{"title":"‰ΩøÁî® Arc ÁöÑÂÖ±‰∫´ÂºïÁî®‚Äã","type":1,"pageTitle":"ÂÖ±‰∫´ÂíåÂæ™ÁéØÂºïÁî®","url":"/zh-CN/docs/next/guide/rust/references#‰ΩøÁî®-arc-ÁöÑÂÖ±‰∫´ÔøΩÔøΩÂºïÁî®","content":" ÂØπ‰∫éÁ∫øÁ®ãÂÆâÂÖ®ÁöÑÂÖ±‰∫´ÂºïÁî®Ôºå‰ΩøÁî® Arc&lt;T&gt;Ôºö  use fory::Fory; use std::sync::Arc; let fory = Fory::default(); let shared = Arc::new(String::from(&quot;shared_value&quot;)); let data = vec![shared.clone(), shared.clone()]; let bytes = fory.serialize(&amp;data); let decoded: Vec&lt;Arc&lt;String&gt;&gt; = fory.deserialize(&amp;bytes)?; assert!(Arc::ptr_eq(&amp;decoded[0], &amp;decoded[1]));   ","version":"dev","tagName":"h3"},{"title":"‰ΩøÁî®Âº±ÊåáÈíàÁöÑÂæ™ÁéØÂºïÁî®‚Äã","type":1,"pageTitle":"ÂÖ±‰∫´ÂíåÂæ™ÁéØÂºïÁî®","url":"/zh-CN/docs/next/guide/rust/references#‰ΩøÁî®Âº±ÊåáÈíàÁöÑÂæ™ÁéØÂºïÁî®","content":" Ë¶ÅÂ∫èÂàóÂåñÁ±ª‰ººÁà∂Â≠êÂÖ≥Á≥ªÊàñÂèåÂêëÈìæË°®ÁªìÊûÑÁöÑÂæ™ÁéØÂºïÁî®Ôºå‰ΩøÁî® RcWeak&lt;T&gt; Êàñ ArcWeak&lt;T&gt; Êù•ÊâìÁ†¥Âæ™ÁéØ„ÄÇ  Â∑•‰ΩúÂéüÁêÜÔºö  Âº±ÊåáÈíàÂ∫èÂàóÂåñ‰∏∫ÂØπÂÖ∂ÁõÆÊ†áÂØπË±°ÁöÑÂºïÁî®Â¶ÇÊûúÂº∫ÊåáÈíàÂ∑≤Ë¢´‰∏¢ÂºÉÔºåÂº±ÊåáÈíàÂ∫èÂàóÂåñ‰∏∫ NullÂâçÂêëÂºïÁî®ÔºàÂº±ÊåáÈíàÂá∫Áé∞Âú®ÁõÆÊ†á‰πãÂâçÔºâÈÄöËøáÂõûË∞ÉËß£ÊûêÂº±ÊåáÈíàÁöÑÊâÄÊúâÂÖãÈöÜÂÖ±‰∫´Áõ∏ÂêåÁöÑÂÜÖÈÉ®ÂçïÂÖÉ‰ª•ËøõË°åËá™Âä®Êõ¥Êñ∞  ","version":"dev","tagName":"h2"},{"title":"‰ΩøÁî® RcWeak ÁöÑÂæ™ÁéØÂºïÁî®‚Äã","type":1,"pageTitle":"ÂÖ±‰∫´ÂíåÂæ™ÁéØÂºïÁî®","url":"/zh-CN/docs/next/guide/rust/references#‰ΩøÁî®-rcweak-ÁöÑÂæ™ÁéØÂºïÁî®","content":" use fory::{Fory, Error}; use fory::ForyObject; use fory::RcWeak; use std::rc::Rc; use std::cell::RefCell; #[derive(ForyObject, Debug)] struct Node { value: i32, parent: RcWeak&lt;RefCell&lt;Node&gt;&gt;, children: Vec&lt;Rc&lt;RefCell&lt;Node&gt;&gt;&gt;, } let mut fory = Fory::default(); fory.register::&lt;Node&gt;(2000); // ÊûÑÂª∫Áà∂Â≠êÊ†ë let parent = Rc::new(RefCell::new(Node { value: 1, parent: RcWeak::new(), children: vec![], })); let child1 = Rc::new(RefCell::new(Node { value: 2, parent: RcWeak::from(&amp;parent), children: vec![], })); let child2 = Rc::new(RefCell::new(Node { value: 3, parent: RcWeak::from(&amp;parent), children: vec![], })); parent.borrow_mut().children.push(child1.clone()); parent.borrow_mut().children.push(child2.clone()); // Â∫èÂàóÂåñÂíåÂèçÂ∫èÂàóÂåñÂæ™ÁéØÁªìÊûÑ let bytes = fory.serialize(&amp;parent); let decoded: Rc&lt;RefCell&lt;Node&gt;&gt; = fory.deserialize(&amp;bytes)?; // È™åËØÅÂæ™ÁéØÂÖ≥Á≥ª assert_eq!(decoded.borrow().children.len(), 2); for child in &amp;decoded.borrow().children { let upgraded_parent = child.borrow().parent.upgrade().unwrap(); assert!(Rc::ptr_eq(&amp;decoded, &amp;upgraded_parent)); }   ","version":"dev","tagName":"h3"},{"title":"‰ΩøÁî® Arc ÁöÑÁ∫øÁ®ãÂÆâÂÖ®Âæ™ÁéØÂõæ‚Äã","type":1,"pageTitle":"ÂÖ±‰∫´ÂíåÂæ™ÁéØÂºïÁî®","url":"/zh-CN/docs/next/guide/rust/references#‰ΩøÁî®-arc-ÁöÑÁ∫øÁ®ãÂÆâÂÖ®Âæ™ÁéØÂõæ","content":" use fory::{Fory, Error}; use fory::ForyObject; use fory::ArcWeak; use std::sync::{Arc, Mutex}; #[derive(ForyObject)] struct Node { val: i32, parent: ArcWeak&lt;Mutex&lt;Node&gt;&gt;, children: Vec&lt;Arc&lt;Mutex&lt;Node&gt;&gt;&gt;, } let mut fory = Fory::default(); fory.register::&lt;Node&gt;(6000); let parent = Arc::new(Mutex::new(Node { val: 10, parent: ArcWeak::new(), children: vec![], })); let child1 = Arc::new(Mutex::new(Node { val: 20, parent: ArcWeak::from(&amp;parent), children: vec![], })); let child2 = Arc::new(Mutex::new(Node { val: 30, parent: ArcWeak::from(&amp;parent), children: vec![], })); parent.lock().unwrap().children.push(child1.clone()); parent.lock().unwrap().children.push(child2.clone()); let bytes = fory.serialize(&amp;parent); let decoded: Arc&lt;Mutex&lt;Node&gt;&gt; = fory.deserialize(&amp;bytes)?; assert_eq!(decoded.lock().unwrap().children.len(), 2); for child in &amp;decoded.lock().unwrap().children { let upgraded_parent = child.lock().unwrap().parent.upgrade().unwrap(); assert!(Arc::ptr_eq(&amp;decoded, &amp;upgraded_parent)); }   ","version":"dev","tagName":"h3"},{"title":"ÊîØÊåÅÁöÑÊô∫ËÉΩÊåáÈíàÁ±ªÂûã‚Äã","type":1,"pageTitle":"ÂÖ±‰∫´ÂíåÂæ™ÁéØÂºïÁî®","url":"/zh-CN/docs/next/guide/rust/references#ÊîØÊåÅÁöÑÊô∫ËÉΩÊåáÈíàÁ±ªÂûã","content":" Á±ªÂûã\tÊèèËø∞Rc&lt;T&gt;\tÂºïÁî®ËÆ°Êï∞ÔºåË∑üË∏™ÂÖ±‰∫´ÂºïÁî® Arc&lt;T&gt;\tÁ∫øÁ®ãÂÆâÂÖ®ÂºïÁî®ËÆ°Êï∞ÔºåË∑üË∏™ÂÖ±‰∫´ÂºïÁî® RcWeak&lt;T&gt;\tÊåáÂêë Rc&lt;T&gt; ÁöÑÂº±ÂºïÁî®ÔºåÊâìÁ†¥Âæ™ÁéØÂºïÁî® ArcWeak&lt;T&gt;\tÊåáÂêë Arc&lt;T&gt; ÁöÑÂº±ÂºïÁî®ÔºåÊâìÁ†¥Âæ™ÁéØÂºïÁî® RefCell&lt;T&gt;\tÂÜÖÈÉ®ÂèØÂèòÊÄßÔºåËøêË°åÊó∂ÂÄüÁî®Ê£ÄÊü• Mutex&lt;T&gt;\tÁ∫øÁ®ãÂÆâÂÖ®ÂÜÖÈÉ®ÂèØÂèòÊÄß  ","version":"dev","tagName":"h2"},{"title":"ÊúÄ‰Ω≥ÂÆûË∑µ‚Äã","type":1,"pageTitle":"ÂÖ±‰∫´ÂíåÂæ™ÁéØÂºïÁî®","url":"/zh-CN/docs/next/guide/rust/references#ÊúÄ‰Ω≥ÂÆûË∑µ","content":" ‰ΩøÁî® Rc/Arc ÂÖ±‰∫´Êï∞ÊçÆÔºöËÆ© Fory Â§ÑÁêÜÂéªÈáç‰ΩøÁî®Âº±ÊåáÈíàÂ§ÑÁêÜÂæ™ÁéØÔºöÈò≤Ê≠¢Êó†ÈôêÈÄíÂΩíÂØπÁ∫øÁ®ãÂÆâÂÖ®Âú∫ÊôØ‰ºòÂÖà‰ΩøÁî® ArcÔºöÂΩìÊï∞ÊçÆË∑®Ë∂äÁ∫øÁ®ãËæπÁïåÊó∂‰∏é RefCell/Mutex ÁªìÂêà‰ΩøÁî®ÔºöÁî®‰∫éÂÜÖÈÉ®ÂèØÂèòÊÄß  ","version":"dev","tagName":"h2"},{"title":"Áõ∏ÂÖ≥‰∏ªÈ¢ò‚Äã","type":1,"pageTitle":"ÂÖ±‰∫´ÂíåÂæ™ÁéØÂºïÁî®","url":"/zh-CN/docs/next/guide/rust/references#Áõ∏ÂÖ≥‰∏ªÈ¢ò","content":" Âü∫Á°ÄÂ∫èÂàóÂåñ - ÊîØÊåÅÁöÑÁ±ªÂûãÂ§öÊÄÅ - ‰ΩøÁî® Rc/Arc ÁöÑ Trait ÂØπË±°ÈÖçÁΩÆ - ÂºïÁî®Ë∑üË∏™ÈÄâÈ°π ","version":"dev","tagName":"h2"},{"title":"Trait ÂØπË±°Â∫èÂàóÂåñ","type":0,"sectionRef":"#","url":"/zh-CN/docs/next/guide/rust/polymorphism","content":"","keywords":"","version":"dev"},{"title":"ÊîØÊåÅÁöÑ Trait ÂØπË±°Á±ªÂûã‚Äã","type":1,"pageTitle":"Trait ÂØπË±°Â∫èÂàóÂåñ","url":"/zh-CN/docs/next/guide/rust/polymorphism#ÊîØÊåÅÁöÑ-trait-ÂØπË±°Á±ªÂûã","content":" Box&lt;dyn Trait&gt; - Êã•ÊúâÊâÄÊúâÊùÉÁöÑ trait ÂØπË±°Rc&lt;dyn Trait&gt; - ÂºïÁî®ËÆ°Êï∞ trait ÂØπË±°Arc&lt;dyn Trait&gt; - Á∫øÁ®ãÂÆâÂÖ®ÂºïÁî®ËÆ°Êï∞ trait ÂØπË±°Vec&lt;Box&lt;dyn Trait&gt;&gt;„ÄÅHashMap&lt;K, Box&lt;dyn Trait&gt;&gt; - trait ÂØπË±°ÈõÜÂêà  ","version":"dev","tagName":"h2"},{"title":"Âü∫Á°Ä Trait ÂØπË±°Â∫èÂàóÂåñ‚Äã","type":1,"pageTitle":"Trait ÂØπË±°Â∫èÂàóÂåñ","url":"/zh-CN/docs/next/guide/rust/polymorphism#Âü∫Á°Ä-trait-ÂØπË±°Â∫èÂàóÂåñ","content":" use fory::{Fory, register_trait_type}; use fory::Serializer; use fory::ForyObject; trait Animal: Serializer { fn speak(&amp;self) -&gt; String; fn name(&amp;self) -&gt; &amp;str; } #[derive(ForyObject)] struct Dog { name: String, breed: String } impl Animal for Dog { fn speak(&amp;self) -&gt; String { &quot;Woof!&quot;.to_string() } fn name(&amp;self) -&gt; &amp;str { &amp;self.name } } #[derive(ForyObject)] struct Cat { name: String, color: String } impl Animal for Cat { fn speak(&amp;self) -&gt; String { &quot;Meow!&quot;.to_string() } fn name(&amp;self) -&gt; &amp;str { &amp;self.name } } // Ê≥®ÂÜå trait ÂÆûÁé∞ register_trait_type!(Animal, Dog, Cat); #[derive(ForyObject)] struct Zoo { star_animal: Box&lt;dyn Animal&gt;, } let mut fory = Fory::default().compatible(true); fory.register::&lt;Dog&gt;(100); fory.register::&lt;Cat&gt;(101); fory.register::&lt;Zoo&gt;(102); let zoo = Zoo { star_animal: Box::new(Dog { name: &quot;Buddy&quot;.to_string(), breed: &quot;Labrador&quot;.to_string(), }), }; let bytes = fory.serialize(&amp;zoo); let decoded: Zoo = fory.deserialize(&amp;bytes)?; assert_eq!(decoded.star_animal.name(), &quot;Buddy&quot;); assert_eq!(decoded.star_animal.speak(), &quot;Woof!&quot;);   ","version":"dev","tagName":"h2"},{"title":"Â∫èÂàóÂåñ dyn Any Trait ÂØπË±°‚Äã","type":1,"pageTitle":"Trait ÂØπË±°Â∫èÂàóÂåñ","url":"/zh-CN/docs/next/guide/rust/polymorphism#Â∫èÂàóÂåñ-dyn-any-trait-ÂØπË±°","content":" Apache Fory‚Ñ¢ ÊîØÊåÅÂ∫èÂàóÂåñ Rc&lt;dyn Any&gt; Âíå Arc&lt;dyn Any&gt; ‰ª•ÂÆûÁé∞ËøêË°åÊó∂Á±ªÂûãÂàÜÂèëÔºö  Ë¶ÅÁÇπÔºö  ÈÄÇÁî®‰∫é‰ªª‰ΩïÂÆûÁé∞ Serializer ÁöÑÁ±ªÂûãÂèçÂ∫èÂàóÂåñÂêéÈúÄË¶ÅÂêë‰∏ãËΩ¨Âûã‰ª•ËÆøÈóÆÂÖ∑‰ΩìÁ±ªÂûãÂ∫èÂàóÂåñÊúüÈó¥‰øùÁïôÁ±ªÂûã‰ø°ÊÅØÂØπÊèí‰ª∂Á≥ªÁªüÂíåÂä®ÊÄÅÁ±ªÂûãÂ§ÑÁêÜÂæàÊúâÁî®  use std::rc::Rc; use std::any::Any; let dog_rc: Rc&lt;dyn Animal&gt; = Rc::new(Dog { name: &quot;Rex&quot;.to_string(), breed: &quot;Golden&quot;.to_string() }); // ËΩ¨Êç¢‰∏∫ Rc&lt;dyn Any&gt; ‰ª•ËøõË°åÂ∫èÂàóÂåñ let dog_any: Rc&lt;dyn Any&gt; = dog_rc.clone(); // Â∫èÂàóÂåñ Any ÂåÖË£ÖÂô® let bytes = fory.serialize(&amp;dog_any); let decoded: Rc&lt;dyn Any&gt; = fory.deserialize(&amp;bytes)?; // Âêë‰∏ãËΩ¨ÂûãÂõûÂÖ∑‰ΩìÁ±ªÂûã let unwrapped = decoded.downcast_ref::&lt;Dog&gt;().unwrap(); assert_eq!(unwrapped.name, &quot;Rex&quot;);   ÂØπ‰∫éÁ∫øÁ®ãÂÆâÂÖ®Âú∫ÊôØÔºå‰ΩøÁî® Arc&lt;dyn Any&gt;Ôºö  use std::sync::Arc; use std::any::Any; let dog_arc: Arc&lt;dyn Animal&gt; = Arc::new(Dog { name: &quot;Buddy&quot;.to_string(), breed: &quot;Labrador&quot;.to_string() }); // ËΩ¨Êç¢‰∏∫ Arc&lt;dyn Any&gt; let dog_any: Arc&lt;dyn Any&gt; = dog_arc.clone(); let bytes = fory.serialize(&amp;dog_any); let decoded: Arc&lt;dyn Any&gt; = fory.deserialize(&amp;bytes)?; // Âêë‰∏ãËΩ¨Âûã‰∏∫ÂÖ∑‰ΩìÁ±ªÂûã let unwrapped = decoded.downcast_ref::&lt;Dog&gt;().unwrap(); assert_eq!(unwrapped.name, &quot;Buddy&quot;);   ","version":"dev","tagName":"h2"},{"title":"ÁªìÊûÑ‰Ωì‰∏≠Âü∫‰∫é Rc/Arc ÁöÑ Trait ÂØπË±°‚Äã","type":1,"pageTitle":"Trait ÂØπË±°Â∫èÂàóÂåñ","url":"/zh-CN/docs/next/guide/rust/polymorphism#ÁªìÊûÑ‰Ωì‰∏≠Âü∫‰∫é-rcarc-ÁöÑ-trait-ÂØπË±°","content":" ÂØπ‰∫éÂÖ∑Êúâ Rc&lt;dyn Trait&gt; Êàñ Arc&lt;dyn Trait&gt; ÁöÑÂ≠óÊÆµÔºåFory Ëá™Âä®Â§ÑÁêÜËΩ¨Êç¢Ôºö  use std::sync::Arc; use std::rc::Rc; use std::collections::HashMap; #[derive(ForyObject)] struct AnimalShelter { animals_rc: Vec&lt;Rc&lt;dyn Animal&gt;&gt;, animals_arc: Vec&lt;Arc&lt;dyn Animal&gt;&gt;, registry: HashMap&lt;String, Arc&lt;dyn Animal&gt;&gt;, } let mut fory = Fory::default().compatible(true); fory.register::&lt;Dog&gt;(100); fory.register::&lt;Cat&gt;(101); fory.register::&lt;AnimalShelter&gt;(102); let shelter = AnimalShelter { animals_rc: vec![ Rc::new(Dog { name: &quot;Rex&quot;.to_string(), breed: &quot;Golden&quot;.to_string() }), Rc::new(Cat { name: &quot;Mittens&quot;.to_string(), color: &quot;Gray&quot;.to_string() }), ], animals_arc: vec![ Arc::new(Dog { name: &quot;Buddy&quot;.to_string(), breed: &quot;Labrador&quot;.to_string() }), ], registry: HashMap::from([ (&quot;pet1&quot;.to_string(), Arc::new(Dog { name: &quot;Max&quot;.to_string(), breed: &quot;Shepherd&quot;.to_string() }) as Arc&lt;dyn Animal&gt;), ]), }; let bytes = fory.serialize(&amp;shelter); let decoded: AnimalShelter = fory.deserialize(&amp;bytes)?; assert_eq!(decoded.animals_rc[0].name(), &quot;Rex&quot;); assert_eq!(decoded.animals_arc[0].speak(), &quot;Woof!&quot;);   ","version":"dev","tagName":"h2"},{"title":"Áã¨Á´ã Trait ÂØπË±°Â∫èÂàóÂåñ‚Äã","type":1,"pageTitle":"Trait ÂØπË±°Â∫èÂàóÂåñ","url":"/zh-CN/docs/next/guide/rust/polymorphism#Áã¨Á´ã-trait-ÂØπË±°Â∫èÂàóÂåñ","content":" Áî±‰∫é Rust ÁöÑÂ≠§ÂÑøËßÑÂàôÔºåRc&lt;dyn Trait&gt; Âíå Arc&lt;dyn Trait&gt; ‰∏çËÉΩÁõ¥Êé•ÂÆûÁé∞ Serializer„ÄÇÂØπ‰∫éÁã¨Á´ãÂ∫èÂàóÂåñÔºà‰∏çÂú®ÁªìÊûÑ‰ΩìÂ≠óÊÆµÂÜÖÔºâÔºåregister_trait_type! ÂÆèÁîüÊàêÂåÖË£ÖÁ±ªÂûã„ÄÇ  Ê≥®ÊÑèÔºö Â¶ÇÊûú‰∏çÊÉ≥‰ΩøÁî®ÂåÖË£ÖÁ±ªÂûãÔºåÂèØ‰ª•Êîπ‰∏∫Â∫èÂàóÂåñ‰∏∫ Rc&lt;dyn Any&gt; Êàñ Arc&lt;dyn Any&gt;ÔºàÂèÇËßÅ‰∏äÈù¢ÁöÑ dyn Any ÈÉ®ÂàÜÔºâ„ÄÇ  register_trait_type! ÂÆèÁîüÊàê AnimalRc Âíå AnimalArc ÂåÖË£ÖÁ±ªÂûãÔºö  // ÂØπ‰∫é Rc&lt;dyn Trait&gt; let dog_rc: Rc&lt;dyn Animal&gt; = Rc::new(Dog { name: &quot;Rex&quot;.to_string(), breed: &quot;Golden&quot;.to_string() }); let wrapper = AnimalRc::from(dog_rc); let bytes = fory.serialize(&amp;wrapper); let decoded: AnimalRc = fory.deserialize(&amp;bytes)?; // Ëß£ÂåÖÂõû Rc&lt;dyn Animal&gt; let unwrapped: Rc&lt;dyn Animal&gt; = decoded.unwrap(); assert_eq!(unwrapped.name(), &quot;Rex&quot;); // ÂØπ‰∫é Arc&lt;dyn Trait&gt; let dog_arc: Arc&lt;dyn Animal&gt; = Arc::new(Dog { name: &quot;Buddy&quot;.to_string(), breed: &quot;Labrador&quot;.to_string() }); let wrapper = AnimalArc::from(dog_arc); let bytes = fory.serialize(&amp;wrapper); let decoded: AnimalArc = fory.deserialize(&amp;bytes)?; let unwrapped: Arc&lt;dyn Animal&gt; = decoded.unwrap(); assert_eq!(unwrapped.name(), &quot;Buddy&quot;);   ","version":"dev","tagName":"h2"},{"title":"ÊúÄ‰Ω≥ÂÆûË∑µ‚Äã","type":1,"pageTitle":"Trait ÂØπË±°Â∫èÂàóÂåñ","url":"/zh-CN/docs/next/guide/rust/polymorphism#ÊúÄ‰Ω≥ÂÆûË∑µ","content":" ‰ΩøÁî® register_trait_type! Ê≥®ÂÜåÊâÄÊúâ trait ÂÆûÁé∞ÂêØÁî® compatible Ê®°ÂºèÔºöÂØπ trait ÂØπË±°‰ΩøÁî® .compatible(true)Ê≥®ÂÜåÊâÄÊúâÂÖ∑‰ΩìÁ±ªÂûãÔºöÂú®Â∫èÂàóÂåñ‰πãÂâç‰ºòÂÖà‰ΩøÁî® dyn AnyÔºöÂØπ‰∫éÊõ¥ÁÆÄÂçïÁöÑÁã¨Á´ãÂ∫èÂàóÂåñ  ","version":"dev","tagName":"h2"},{"title":"Áõ∏ÂÖ≥‰∏ªÈ¢ò‚Äã","type":1,"pageTitle":"Trait ÂØπË±°Â∫èÂàóÂåñ","url":"/zh-CN/docs/next/guide/rust/polymorphism#Áõ∏ÂÖ≥‰∏ªÈ¢ò","content":" ÂºïÁî® - Rc/Arc ÂÖ±‰∫´ÂºïÁî®Schema ÊºîÂåñ - Compatible Ê®°ÂºèÁ±ªÂûãÊ≥®ÂÜå - Ê≥®ÂÜåÁ±ªÂûã ","version":"dev","tagName":"h2"},{"title":"Ë°åÊ†ºÂºè","type":0,"sectionRef":"#","url":"/zh-CN/docs/next/guide/rust/row_format","content":"","keywords":"","version":"dev"},{"title":"Ê¶ÇËø∞‚Äã","type":1,"pageTitle":"Ë°åÊ†ºÂºè","url":"/zh-CN/docs/next/guide/rust/row_format#Ê¶ÇËø∞","content":" ‰∏éÂú®ÂÜÖÂ≠ò‰∏≠ÈáçÊûÑÂÆåÊï¥ÂØπË±°ÁöÑ‰º†ÁªüÂØπË±°Â∫èÂàóÂåñ‰∏çÂêåÔºåË°åÊ†ºÂºèÊîØÊåÅÁõ¥Êé•‰ªé‰∫åËøõÂà∂Êï∞ÊçÆÈöèÊú∫ËÆøÈóÆÂ≠óÊÆµÔºåÊó†ÈúÄÂÆåÊï¥ÂèçÂ∫èÂàóÂåñ„ÄÇ  ‰∏ªË¶Å‰ºòÂäøÔºö  Èõ∂Êã∑Ë¥ùËÆøÈóÆÔºöÊó†ÈúÄÂàÜÈÖçÊàñÂ§çÂà∂Êï∞ÊçÆÂç≥ÂèØËØªÂèñÂ≠óÊÆµÈÉ®ÂàÜÂèçÂ∫èÂàóÂåñÔºö‰ªÖËÆøÈóÆÊâÄÈúÄÁöÑÂ≠óÊÆµÂÜÖÂ≠òÊò†Â∞ÑÊñá‰ª∂ÔºöÂ§ÑÁêÜÂ§ß‰∫é RAM ÁöÑÊï∞ÊçÆÁºìÂ≠òÂèãÂ•ΩÔºöÈ°∫Â∫èÂÜÖÂ≠òÂ∏ÉÂ±Ä‰ª•ÊèêÈ´ò CPU ÁºìÂ≠òÂà©Áî®ÁéáÂª∂ËøüËÆ°ÁÆóÔºöÂ∞ÜÊòÇË¥µÁöÑÊìç‰ΩúÂª∂ËøüÂà∞Â≠óÊÆµËÆøÈóÆÊó∂  ","version":"dev","tagName":"h2"},{"title":"‰ΩïÊó∂‰ΩøÁî®Ë°åÊ†ºÂºè‚Äã","type":1,"pageTitle":"Ë°åÊ†ºÂºè","url":"/zh-CN/docs/next/guide/rust/row_format#‰ΩïÊó∂‰ΩøÁî®Ë°åÊ†ºÂºè","content":" ÂÖ∑ÊúâÈÄâÊã©ÊÄßÂ≠óÊÆµËÆøÈóÆÁöÑÂàÜÊûêÂ∑•‰ΩúË¥üËΩΩ‰ªÖÈúÄË¶ÅÂ≠óÊÆµÂ≠êÈõÜÁöÑÂ§ßÂûãÊï∞ÊçÆÈõÜÂÜÖÂ≠òÂèóÈôêÁéØÂ¢ÉÈ´òÂêûÂêêÈáèÊï∞ÊçÆÁÆ°ÈÅì‰ªéÂÜÖÂ≠òÊò†Â∞ÑÊñá‰ª∂ÊàñÂÖ±‰∫´ÂÜÖÂ≠òËØªÂèñ  ","version":"dev","tagName":"h2"},{"title":"Âü∫Á°ÄÁî®Ê≥ï‚Äã","type":1,"pageTitle":"Ë°åÊ†ºÂºè","url":"/zh-CN/docs/next/guide/rust/row_format#Âü∫Á°ÄÁî®Ê≥ï","content":" use fory::{to_row, from_row}; use fory::ForyRow; use std::collections::BTreeMap; #[derive(ForyRow)] struct UserProfile { id: i64, username: String, email: String, scores: Vec&lt;i32&gt;, preferences: BTreeMap&lt;String, String&gt;, is_active: bool, } let profile = UserProfile { id: 12345, username: &quot;alice&quot;.to_string(), email: &quot;alice@example.com&quot;.to_string(), scores: vec![95, 87, 92, 88], preferences: BTreeMap::from([ (&quot;theme&quot;.to_string(), &quot;dark&quot;.to_string()), (&quot;language&quot;.to_string(), &quot;en&quot;.to_string()), ]), is_active: true, }; // Â∫èÂàóÂåñ‰∏∫Ë°åÊ†ºÂºè let row_data = to_row(&amp;profile); // Èõ∂Êã∑Ë¥ùÂèçÂ∫èÂàóÂåñ - Êó†ÂØπË±°ÂàÜÈÖçÔºÅ let row = from_row::&lt;UserProfile&gt;(&amp;row_data); // Áõ¥Êé•‰ªé‰∫åËøõÂà∂Êï∞ÊçÆËÆøÈóÆÂ≠óÊÆµ assert_eq!(row.id(), 12345); assert_eq!(row.username(), &quot;alice&quot;); assert_eq!(row.email(), &quot;alice@example.com&quot;); assert_eq!(row.is_active(), true); // È´òÊïàËÆøÈóÆÈõÜÂêà let scores = row.scores(); assert_eq!(scores.size(), 4); assert_eq!(scores.get(0), 95); assert_eq!(scores.get(1), 87); let prefs = row.preferences(); assert_eq!(prefs.keys().size(), 2); assert_eq!(prefs.keys().get(0), &quot;language&quot;); assert_eq!(prefs.values().get(0), &quot;en&quot;);   ","version":"dev","tagName":"h2"},{"title":"Â∑•‰ΩúÂéüÁêÜ‚Äã","type":1,"pageTitle":"Ë°åÊ†ºÂºè","url":"/zh-CN/docs/next/guide/rust/row_format#Â∑•‰ΩúÂéüÁêÜ","content":" Â≠óÊÆµÂú®‰∫åËøõÂà∂Ë°å‰∏≠ÁºñÁ†ÅÔºåÂéüÂßãÁ±ªÂûã‰ΩøÁî®Âõ∫ÂÆöÂÅèÁßªÈáèÂèòÈïøÊï∞ÊçÆÔºàÂ≠óÁ¨¶‰∏≤„ÄÅÈõÜÂêàÔºâ‰ΩøÁî®ÂÅèÁßªÊåáÈíàÂ≠òÂÇ®Null ‰ΩçÂõæË∑üË∏™Âì™‰∫õÂ≠óÊÆµÂ≠òÂú®ÈÄöËøáÈÄíÂΩíË°åÁºñÁ†ÅÊîØÊåÅÂµåÂ•óÁªìÊûÑ  ","version":"dev","tagName":"h2"},{"title":"ÊÄßËÉΩÊØîËæÉ‚Äã","type":1,"pageTitle":"Ë°åÊ†ºÂºè","url":"/zh-CN/docs/next/guide/rust/row_format#ÊÄßËÉΩÊØîËæÉ","content":" Êìç‰Ωú\tÂØπË±°Ê†ºÂºè\tË°åÊ†ºÂºèÂÆåÊï¥ÂèçÂ∫èÂàóÂåñ\tÂàÜÈÖçÊâÄÊúâÂØπË±°\tÈõ∂ÂàÜÈÖç ÂçïÂ≠óÊÆµËÆøÈóÆ\tÈúÄË¶ÅÂÆåÊï¥ÂèçÂ∫èÂàóÂåñ\tÁõ¥Êé•ÂÅèÁßªËØªÂèñ ÂÜÖÂ≠ò‰ΩøÁî®\tÂÜÖÂ≠ò‰∏≠ÁöÑÂÆåÊï¥ÂØπË±°Âõæ\t‰ªÖÂ∑≤ËÆøÈóÆÂ≠óÊÆµÂú®ÂÜÖÂ≠ò‰∏≠ ÈÄÇÁî®‰∫é\tÂ∞èÂØπË±°ÔºåÂÆåÊï¥ËÆøÈóÆ\tÂ§ßÂØπË±°ÔºåÈÄâÊã©ÊÄßËÆøÈóÆ  ","version":"dev","tagName":"h2"},{"title":"ForyRow vs ForyObject‚Äã","type":1,"pageTitle":"Ë°åÊ†ºÂºè","url":"/zh-CN/docs/next/guide/rust/row_format#foryrow-vs-foryobject","content":" ÂäüËÉΩ\t#[derive(ForyRow)]\t#[derive(ForyObject)]ÂèçÂ∫èÂàóÂåñ\tÈõ∂Êã∑Ë¥ùÔºåÂª∂Ëøü\tÂÆåÊï¥ÂØπË±°ÈáçÊûÑ Â≠óÊÆµËÆøÈóÆ\tÁõ¥Êé•‰ªé‰∫åËøõÂà∂\tÊ≠£Â∏∏ÁªìÊûÑ‰ΩìËÆøÈóÆ ÂÜÖÂ≠ò‰ΩøÁî®\tÊúÄÂ∞è\tÂÆåÊï¥ÂØπË±° ÊúÄÈÄÇÂêà\tÂàÜÊûêÔºåÂ§ßÊï∞ÊçÆ\tÈÄöÁî®Â∫èÂàóÂåñ  ","version":"dev","tagName":"h2"},{"title":"Áõ∏ÂÖ≥‰∏ªÈ¢ò‚Äã","type":1,"pageTitle":"Ë°åÊ†ºÂºè","url":"/zh-CN/docs/next/guide/rust/row_format#Áõ∏ÂÖ≥‰∏ªÈ¢ò","content":" Âü∫Á°ÄÂ∫èÂàóÂåñ - ÂØπË±°ÂõæÂ∫èÂàóÂåñË∑®ËØ≠Ë®Ä - Ë∑®ËØ≠Ë®ÄÁöÑË°åÊ†ºÂºèË°åÊ†ºÂºèËßÑËåÉ - ÂçèËÆÆÁªÜËäÇ ","version":"dev","tagName":"h2"},{"title":"ÊïÖÈöúÊéíÈô§","type":0,"sectionRef":"#","url":"/zh-CN/docs/next/guide/rust/troubleshooting","content":"","keywords":"","version":"dev"},{"title":"Â∏∏ËßÅÈóÆÈ¢ò‚Äã","type":1,"pageTitle":"ÊïÖÈöúÊéíÈô§","url":"/zh-CN/docs/next/guide/rust/troubleshooting#Â∏∏ËßÅÈóÆÈ¢ò","content":" ","version":"dev","tagName":"h2"},{"title":"Á±ªÂûãÊ≥®ÂÜåË°®ÈîôËØØ‚Äã","type":1,"pageTitle":"ÊïÖÈöúÊéíÈô§","url":"/zh-CN/docs/next/guide/rust/troubleshooting#Á±ªÂûãÊ≥®ÂÜåË°®ÈîôËØØ","content":" ÈîôËØØÔºöTypeId ... not found in type_info registry  ÂéüÂõ†ÔºöËØ•Á±ªÂûã‰ªéÊú™Âú®ÂΩìÂâç Fory ÂÆû‰æã‰∏≠Ê≥®ÂÜå„ÄÇ  Ëß£ÂÜ≥ÊñπÊ°àÔºöÂú®Â∫èÂàóÂåñ‰πãÂâçÊ≥®ÂÜåÁ±ªÂûãÔºö  let mut fory = Fory::default(); fory.register::&lt;MyStruct&gt;(100)?; // ‰ΩøÁî®ÂâçÊ≥®ÂÜå   Á°ÆËÆ§Ôºö  ÊØè‰∏™ÂèØÂ∫èÂàóÂåñÁöÑÁªìÊûÑ‰ΩìÊàñ trait ÂÆûÁé∞ÈÉΩË∞ÉÁî® fory.register::&lt;T&gt;(type_id)Âú®ÂèçÂ∫èÂàóÂåñÁ´ØÈáçÁî®Áõ∏ÂêåÁöÑ ID  ","version":"dev","tagName":"h3"},{"title":"Á±ªÂûã‰∏çÂåπÈÖçÈîôËØØ‚Äã","type":1,"pageTitle":"ÊïÖÈöúÊéíÈô§","url":"/zh-CN/docs/next/guide/rust/troubleshooting#Á±ªÂûã‰∏çÂåπÈÖçÈîôËØØ","content":" ÂéüÂõ†ÔºöÂ≠óÊÆµÁ±ªÂûã‰∏çÂÖºÂÆπÊàñ schema Â∑≤Êõ¥Êîπ„ÄÇ  Ëß£ÂÜ≥ÊñπÊ°àÔºö  ÂêØÁî® compatible Ê®°Âºè‰ª•ÊîØÊåÅ schema ÊºîÂåñÁ°Æ‰øùË∑®ÁâàÊú¨Â≠óÊÆµÁ±ªÂûãÂåπÈÖç  let fory = Fory::default().compatible(true);   ","version":"dev","tagName":"h3"},{"title":"Ë∞ÉËØïÊäÄÊúØ‚Äã","type":1,"pageTitle":"ÊïÖÈöúÊéíÈô§","url":"/zh-CN/docs/next/guide/rust/troubleshooting#Ë∞ÉËØïÊäÄÊúØ","content":" ","version":"dev","tagName":"h2"},{"title":"ÂêØÁî®ÈîôËØØÊó∂ Panic ‰ª•Ëé∑ÂèñÂõûÊ∫Ø‚Äã","type":1,"pageTitle":"ÊïÖÈöúÊéíÈô§","url":"/zh-CN/docs/next/guide/rust/troubleshooting#ÂêØÁî®ÈîôËØØÊó∂-panic-‰ª•Ëé∑ÂèñÂõûÊ∫Ø","content":" Âú® RUST_BACKTRACE=1 ÊóÅËæπÂàáÊç¢ FORY_PANIC_ON_ERROR=1ÔºåÂú®ÊûÑÈÄ†ÈîôËØØÁöÑÁ°ÆÂàá‰ΩçÁΩÆ panicÔºö  RUST_BACKTRACE=1 FORY_PANIC_ON_ERROR=1 cargo test --features tests   ‰πãÂêéÈáçÁΩÆËØ•ÂèòÈáè‰ª•ÈÅøÂÖç‰∏≠Ê≠¢Èù¢ÂêëÁî®Êà∑ÁöÑ‰ª£Á†ÅË∑ØÂæÑ„ÄÇ  ","version":"dev","tagName":"h3"},{"title":"ÁªìÊûÑ‰ΩìÂ≠óÊÆµË∑üË∏™‚Äã","type":1,"pageTitle":"ÊïÖÈöúÊéíÈô§","url":"/zh-CN/docs/next/guide/rust/troubleshooting#ÁªìÊûÑ‰ΩìÂ≠óÊÆµË∑üË∏™","content":" Âú® #[derive(ForyObject)] ÊóÅËæπÊ∑ªÂä† #[fory(debug)] Â±ûÊÄß‰ª•ÂèëÂá∫Èí©Â≠êË∞ÉÁî®Ôºö  #[derive(ForyObject)] #[fory(debug)] struct MyStruct { field1: i32, field2: String, }   ‰ΩøÁî®Ë∞ÉËØïÈí©Â≠êÁºñËØëÂêéÔºåË∞ÉÁî®Ëøô‰∫õÂáΩÊï∞‰ª•ÊèíÂÖ•Ëá™ÂÆö‰πâÂõûË∞ÉÔºö  set_before_write_field_funcset_after_write_field_funcset_before_read_field_funcset_after_read_field_func  ÂΩì‰Ω†ÊÉ≥Ë¶ÅÊÅ¢Â§çÈªòËÆ§ÂÄºÊó∂Ôºå‰ΩøÁî® reset_struct_debug_hooks()„ÄÇ  ","version":"dev","tagName":"h3"},{"title":"ËΩªÈáèÁ∫ßÊó•Âøó‚Äã","type":1,"pageTitle":"ÊïÖÈöúÊéíÈô§","url":"/zh-CN/docs/next/guide/rust/troubleshooting#ËΩªÈáèÁ∫ßÊó•Âøó","content":" Âú®Ê≤°ÊúâËá™ÂÆö‰πâÈí©Â≠êÁöÑÊÉÖÂÜµ‰∏ãÔºåÂêØÁî® ENABLE_FORY_DEBUG_OUTPUT=1 ‰ª•ÊâìÂç∞Â≠óÊÆµÁ∫ßËØª/ÂÜô‰∫ã‰ª∂Ôºö  ENABLE_FORY_DEBUG_OUTPUT=1 cargo test --features tests   ËøôÂú®Ë∞ÉÊü•ÂØπÈΩêÊàñÊ∏∏Ê†á‰∏çÂåπÈÖçÊó∂ÁâπÂà´ÊúâÁî®„ÄÇ  ","version":"dev","tagName":"h3"},{"title":"Ê£ÄÊü•ÁîüÊàêÁöÑ‰ª£Á†Å‚Äã","type":1,"pageTitle":"ÊïÖÈöúÊéíÈô§","url":"/zh-CN/docs/next/guide/rust/troubleshooting#Ê£ÄÊü•ÁîüÊàêÁöÑ‰ª£Á†Å","content":" ‰ΩøÁî® cargo expand Ê£ÄÊü• Fory derive ÂÆèÁîüÊàêÁöÑ‰ª£Á†ÅÔºö  cargo expand --test mod $mod$::$file$ &gt; expanded.rs   ","version":"dev","tagName":"h3"},{"title":"ËøêË°åÊµãËØï‚Äã","type":1,"pageTitle":"ÊïÖÈöúÊéíÈô§","url":"/zh-CN/docs/next/guide/rust/troubleshooting#ËøêË°åÊµãËØï","content":" ","version":"dev","tagName":"h2"},{"title":"ËøêË°åÊâÄÊúâÊµãËØï‚Äã","type":1,"pageTitle":"ÊïÖÈöúÊéíÈô§","url":"/zh-CN/docs/next/guide/rust/troubleshooting#ËøêË°åÊâÄÊúâÊµãËØï","content":" cargo test --features tests   ","version":"dev","tagName":"h3"},{"title":"ËøêË°åÁâπÂÆöÊµãËØï‚Äã","type":1,"pageTitle":"ÊïÖÈöúÊéíÈô§","url":"/zh-CN/docs/next/guide/rust/troubleshooting#ËøêË°åÁâπÂÆöÊµãËØï","content":" cargo test -p tests --test $test_file $test_method   ","version":"dev","tagName":"h3"},{"title":"‰ΩøÁî®Ë∞ÉËØïËøêË°åÊµãËØï‚Äã","type":1,"pageTitle":"ÊïÖÈöúÊéíÈô§","url":"/zh-CN/docs/next/guide/rust/troubleshooting#‰ΩøÁî®Ë∞ÉËØïËøêË°åÊµãËØï","content":" RUST_BACKTRACE=1 FORY_PANIC_ON_ERROR=1 ENABLE_FORY_DEBUG_OUTPUT=1 \\ cargo test --test mod $dir$::$test_file::$test_method -- --nocapture   ","version":"dev","tagName":"h3"},{"title":"ÊµãËØïÊó∂ÁöÑÂç´Áîü‚Äã","type":1,"pageTitle":"ÊïÖÈöúÊéíÈô§","url":"/zh-CN/docs/next/guide/rust/troubleshooting#ÊµãËØïÊó∂ÁöÑÂç´Áîü","content":" ‰∏Ä‰∫õÈõÜÊàêÊµãËØïÊúüÊúõ FORY_PANIC_ON_ERROR ‰øùÊåÅÊú™ËÆæÁΩÆÁä∂ÊÄÅ„ÄÇ‰ªÖÂú®ÈõÜ‰∏≠Ë∞ÉËØï‰ºöËØùÊó∂ÂØºÂá∫ÂÆÉÔºö  # ‰ªÖÁî®‰∫éÁâπÂÆöË∞ÉËØï FORY_PANIC_ON_ERROR=1 cargo test -p tests --test specific_test -- --nocapture # Ê≠£Â∏∏ÊµãËØïËøêË°åÔºà‰∏çÂú®ÈîôËØØÊó∂ panicÔºâ cargo test --features tests   ","version":"dev","tagName":"h2"},{"title":"ÈîôËØØÂ§ÑÁêÜÊúÄ‰Ω≥ÂÆûË∑µ‚Äã","type":1,"pageTitle":"ÊïÖÈöúÊéíÈô§","url":"/zh-CN/docs/next/guide/rust/troubleshooting#ÈîôËØØÂ§ÑÁêÜÊúÄ‰Ω≥ÂÆûË∑µ","content":" ‰ºòÂÖà‰ΩøÁî® fory_core::error::Error ‰∏äÁöÑÈùôÊÄÅÊûÑÈÄ†ÂáΩÊï∞Ôºö  Error::type_mismatchError::invalid_dataError::unknown  ËøôÊ†∑ÂèØ‰ª•‰øùÊåÅËØäÊñ≠ÁöÑ‰∏ÄËá¥ÊÄßÔºåÂπ∂‰ΩøÈÄâÊã©ÊÄß panic Ê≠£Á°ÆÂ∑•‰Ωú„ÄÇ  ","version":"dev","tagName":"h2"},{"title":"Âø´ÈÄüÂèÇËÄÉ‚Äã","type":1,"pageTitle":"ÊïÖÈöúÊéíÈô§","url":"/zh-CN/docs/next/guide/rust/troubleshooting#Âø´ÈÄüÂèÇËÄÉ","content":" ÁéØÂ¢ÉÂèòÈáè\tÁõÆÁöÑRUST_BACKTRACE=1\tÂêØÁî®Â†ÜÊ†àË∑üË∏™ FORY_PANIC_ON_ERROR=1\tÂú®ÈîôËØØ‰ΩçÁΩÆ panic ‰ª•Ë∞ÉËØï ENABLE_FORY_DEBUG_OUTPUT=1\tÊâìÂç∞Â≠óÊÆµÁ∫ßËØª/ÂÜô‰∫ã‰ª∂  ","version":"dev","tagName":"h2"},{"title":"Áõ∏ÂÖ≥‰∏ªÈ¢ò‚Äã","type":1,"pageTitle":"ÊïÖÈöúÊéíÈô§","url":"/zh-CN/docs/next/guide/rust/troubleshooting#Áõ∏ÂÖ≥‰∏ªÈ¢ò","content":" ÈÖçÁΩÆ - Fory ÈÄâÈ°πÁ±ªÂûãÊ≥®ÂÜå - Ê≥®ÂÜåÊúÄ‰Ω≥ÂÆûË∑µSchema ÊºîÂåñ - Compatible Ê®°Âºè ","version":"dev","tagName":"h2"},{"title":"Schema ÊºîÂåñ","type":0,"sectionRef":"#","url":"/zh-CN/docs/next/guide/rust/schema_evolution","content":"","keywords":"","version":"dev"},{"title":"Compatible Ê®°Âºè‚Äã","type":1,"pageTitle":"Schema ÊºîÂåñ","url":"/zh-CN/docs/next/guide/rust/schema_evolution#compatible-Ê®°Âºè","content":" ‰ΩøÁî® compatible(true) ÂêØÁî® schema ÊºîÂåñÔºö  use fory::Fory; use fory::ForyObject; use std::collections::HashMap; #[derive(ForyObject, Debug)] struct PersonV1 { name: String, age: i32, address: String, } #[derive(ForyObject, Debug)] struct PersonV2 { name: String, age: i32, // address Â∑≤ÁßªÈô§ // phone Â∑≤Ê∑ªÂä† phone: Option&lt;String&gt;, metadata: HashMap&lt;String, String&gt;, } let mut fory1 = Fory::default().compatible(true); fory1.register::&lt;PersonV1&gt;(1); let mut fory2 = Fory::default().compatible(true); fory2.register::&lt;PersonV2&gt;(1); let person_v1 = PersonV1 { name: &quot;Alice&quot;.to_string(), age: 30, address: &quot;123 Main St&quot;.to_string(), }; // ‰ΩøÁî® V1 Â∫èÂàóÂåñ let bytes = fory1.serialize(&amp;person_v1); // ‰ΩøÁî® V2 ÂèçÂ∫èÂàóÂåñ - Áº∫Â§±ÁöÑÂ≠óÊÆµËé∑ÂæóÈªòËÆ§ÂÄº let person_v2: PersonV2 = fory2.deserialize(&amp;bytes)?; assert_eq!(person_v2.name, &quot;Alice&quot;); assert_eq!(person_v2.age, 30); assert_eq!(person_v2.phone, None);   ","version":"dev","tagName":"h2"},{"title":"Schema ÊºîÂåñÂäüËÉΩ‚Äã","type":1,"pageTitle":"Schema ÊºîÂåñ","url":"/zh-CN/docs/next/guide/rust/schema_evolution#schema-ÊºîÂåñÂäüËÉΩ","content":" Ê∑ªÂä†ÂÖ∑ÊúâÈªòËÆ§ÂÄºÁöÑÊñ∞Â≠óÊÆµÁßªÈô§ËøáÊó∂Â≠óÊÆµÔºàÂú®ÂèçÂ∫èÂàóÂåñÊúüÈó¥Ë∑≥ËøáÔºâÊõ¥ÊîπÂ≠óÊÆµÂèØÁ©∫ÊÄßÔºàT ‚Üî Option&lt;T&gt;ÔºâÈáçÊñ∞ÊéíÂ∫èÂ≠óÊÆµÔºàÊåâÂêçÁß∞ÂåπÈÖçÔºåËÄåÈùû‰ΩçÁΩÆÔºâÂØπÁº∫Â§±Â≠óÊÆµÁöÑÁ±ªÂûãÂÆâÂÖ®ÂõûÈÄÄÂà∞ÈªòËÆ§ÂÄº  ","version":"dev","tagName":"h2"},{"title":"ÂÖºÂÆπÊÄßËßÑÂàô‚Äã","type":1,"pageTitle":"Schema ÊºîÂåñ","url":"/zh-CN/docs/next/guide/rust/schema_evolution#ÂÖºÂÆπÊÄßËßÑÂàô","content":" Â≠óÊÆµÂêçÁß∞ÂøÖÈ°ªÂåπÈÖçÔºàÂå∫ÂàÜÂ§ßÂ∞èÂÜôÔºâ‰∏çÊîØÊåÅÁ±ªÂûãÊõ¥ÊîπÔºàÂèØÁ©∫/ÈùûÂèØÁ©∫Èô§Â§ñÔºâÂµåÂ•óÁªìÊûÑ‰ΩìÁ±ªÂûãÂøÖÈ°ªÂú®‰∏§Á´ØÈÉΩÊ≥®ÂÜå  ","version":"dev","tagName":"h2"},{"title":"Êûö‰∏æÊîØÊåÅ‚Äã","type":1,"pageTitle":"Schema ÊºîÂåñ","url":"/zh-CN/docs/next/guide/rust/schema_evolution#Êûö‰∏æÊîØÊåÅ","content":" Apache Fory‚Ñ¢ ÊîØÊåÅ‰∏âÁßçÁ±ªÂûãÁöÑÊûö‰∏æÂèò‰ΩìÔºåÂú® Compatible Ê®°Âºè‰∏ãÂÖ∑ÊúâÂÆåÊï¥ÁöÑ schema ÊºîÂåñÊîØÊåÅÔºö  Âèò‰ΩìÁ±ªÂûãÔºö  UnitÔºöC È£éÊ†ºÊûö‰∏æÔºàStatus::ActiveÔºâUnnamedÔºöÂÖÉÁªÑÈ£éÊ†ºÂèò‰ΩìÔºàMessage::Pair(String, i32)ÔºâNamedÔºöÁªìÊûÑ‰ΩìÈ£éÊ†ºÂèò‰ΩìÔºàEvent::Click { x: i32, y: i32 }Ôºâ  use fory::{Fory, ForyObject}; #[derive(Default, ForyObject, Debug, PartialEq)] enum Value { #[default] Null, Bool(bool), Number(f64), Text(String), Object { name: String, value: i32 }, } let mut fory = Fory::default(); fory.register::&lt;Value&gt;(1)?; let value = Value::Object { name: &quot;score&quot;.to_string(), value: 100 }; let bytes = fory.serialize(&amp;value)?; let decoded: Value = fory.deserialize(&amp;bytes)?; assert_eq!(value, decoded);   ","version":"dev","tagName":"h2"},{"title":"Êûö‰∏æ Schema ÊºîÂåñ‚Äã","type":1,"pageTitle":"Schema ÊºîÂåñ","url":"/zh-CN/docs/next/guide/rust/schema_evolution#Êûö‰∏æ-schema-ÊºîÂåñ","content":" Compatible Ê®°ÂºèÈÄöËøáÂèò‰ΩìÁ±ªÂûãÁºñÁ†ÅÔºà2 ‰ΩçÔºâÂÆûÁé∞Âº∫Â§ßÁöÑ schema ÊºîÂåñÔºö  0b0 = UnitÔºå0b1 = UnnamedÔºå0b10 = Named  use fory::{Fory, ForyObject}; // ÊóßÁâàÊú¨ #[derive(ForyObject)] enum OldEvent { Click { x: i32, y: i32 }, Scroll { delta: f64 }, } // Êñ∞ÁâàÊú¨ - Ê∑ªÂä†‰∫ÜÂ≠óÊÆµÂíåÂèò‰Ωì #[derive(Default, ForyObject)] enum NewEvent { #[default] Unknown, Click { x: i32, y: i32, timestamp: u64 }, // Ê∑ªÂä†‰∫ÜÂ≠óÊÆµ Scroll { delta: f64 }, KeyPress(String), // Êñ∞Âèò‰Ωì } let mut fory = Fory::builder().compatible().build(); // ‰ΩøÁî®Êóß schema Â∫èÂàóÂåñ let old_bytes = fory.serialize(&amp;OldEvent::Click { x: 100, y: 200 })?; // ‰ΩøÁî®Êñ∞ schema ÂèçÂ∫èÂàóÂåñ - timestamp Ëé∑ÂæóÈªòËÆ§ÂÄº (0) let new_event: NewEvent = fory.deserialize(&amp;old_bytes)?; assert!(matches!(new_event, NewEvent::Click { x: 100, y: 200, timestamp: 0 }));   ÊºîÂåñËÉΩÂäõÔºö  Êú™Áü•Âèò‰Ωì ‚Üí ÂõûÈÄÄÂà∞ÈªòËÆ§Âèò‰ΩìNamed Âèò‰ΩìÂ≠óÊÆµ ‚Üí Ê∑ªÂä†/ÁßªÈô§Â≠óÊÆµÔºàÁº∫Â§±Â≠óÊÆµ‰ΩøÁî®ÈªòËÆ§ÂÄºÔºâUnnamed Âèò‰ΩìÂÖÉÁ¥† ‚Üí Ê∑ªÂä†/ÁßªÈô§ÂÖÉÁ¥†ÔºàÈ¢ùÂ§ñÁöÑË∑≥ËøáÔºåÁº∫Â§±ÁöÑ‰ΩøÁî®ÈªòËÆ§ÂÄºÔºâÂèò‰ΩìÁ±ªÂûã‰∏çÂåπÈÖç ‚Üí Ëá™Âä®‰ΩøÁî®ÂΩìÂâçÂèò‰ΩìÁöÑÈªòËÆ§ÂÄº  ÊúÄ‰Ω≥ÂÆûË∑µÔºö  ÂßãÁªà‰ΩøÁî® #[default] Ê†áËÆ∞ÈªòËÆ§Âèò‰ΩìNamed Âèò‰ΩìÊØî unnamed Âèò‰ΩìÊèê‰æõÊõ¥Â•ΩÁöÑÊºîÂåñËÉΩÂäõÂØπË∑®ÁâàÊú¨ÈÄö‰ø°‰ΩøÁî® compatible Ê®°Âºè  ","version":"dev","tagName":"h3"},{"title":"ÂÖÉÁªÑÊîØÊåÅ‚Äã","type":1,"pageTitle":"Schema ÊºîÂåñ","url":"/zh-CN/docs/next/guide/rust/schema_evolution#ÂÖÉÁªÑÊîØÊåÅ","content":" Apache Fory‚Ñ¢ Âú®ÂÖºÂÆπÂíåÈùûÂÖºÂÆπÊ®°Âºè‰∏ãÂùáÊîØÊåÅÊúÄÂ§ö 22 ‰∏™ÂÖÉÁ¥†ÁöÑÂÖÉÁªÑÔºåÂπ∂ÂÖ∑ÊúâÈ´òÊïàÁöÑÂ∫èÂàóÂåñ„ÄÇ  ÂäüËÉΩÔºö  ÂØπ 1 Âà∞ 22 ‰∏™ÂÖÉÁ¥†ÁöÑÂÖÉÁªÑËá™Âä®Â∫èÂàóÂåñÂºÇÊûÑÁ±ªÂûãÊîØÊåÅÔºàÊØè‰∏™ÂÖÉÁ¥†ÂèØ‰ª•ÊòØ‰∏çÂêåÁöÑÁ±ªÂûãÔºâCompatible Ê®°Âºè‰∏ãÁöÑ schema ÊºîÂåñÔºàÂ§ÑÁêÜÁº∫Â§±/È¢ùÂ§ñÂÖÉÁ¥†Ôºâ  Â∫èÂàóÂåñÊ®°ÂºèÔºö  ÈùûÂÖºÂÆπÊ®°ÂºèÔºöÊåâÈ°∫Â∫èÂ∫èÂàóÂåñÂÖÉÁ¥†Ôºå‰∏ç‰ΩøÁî®ÈõÜÂêàÂ§¥ÈÉ®Ôºå‰ª•ÂÆûÁé∞ÊúÄÂ∞èÂºÄÈîÄCompatible Ê®°ÂºèÔºö‰ΩøÁî®Â∏¶ÊúâÁ±ªÂûãÂÖÉÊï∞ÊçÆÁöÑÈõÜÂêàÂçèËÆÆ‰ª•ÊîØÊåÅ schema ÊºîÂåñ  use fory::{Fory, Error}; let mut fory = Fory::default(); // ÂÖ∑ÊúâÂºÇÊûÑÁ±ªÂûãÁöÑÂÖÉÁªÑ let data: (i32, String, bool, Vec&lt;i32&gt;) = ( 42, &quot;hello&quot;.to_string(), true, vec![1, 2, 3], ); let bytes = fory.serialize(&amp;data)?; let decoded: (i32, String, bool, Vec&lt;i32&gt;) = fory.deserialize(&amp;bytes)?; assert_eq!(data, decoded);   ","version":"dev","tagName":"h2"},{"title":"Áõ∏ÂÖ≥‰∏ªÈ¢ò‚Äã","type":1,"pageTitle":"Schema ÊºîÂåñ","url":"/zh-CN/docs/next/guide/rust/schema_evolution#Áõ∏ÂÖ≥‰∏ªÈ¢ò","content":" ÈÖçÁΩÆ - ÂêØÁî® compatible Ê®°ÂºèÂ§öÊÄÅ - ÂÖ∑Êúâ schema ÊºîÂåñÁöÑ Trait ÂØπË±°Ë∑®ËØ≠Ë®Ä - Ë∑®ËØ≠Ë®ÄÁöÑ schema ÊºîÂåñ ","version":"dev","tagName":"h2"},{"title":"Á±ªÂûãÊ≥®ÂÜå","type":0,"sectionRef":"#","url":"/zh-CN/docs/next/guide/rust/type_registration","content":"","keywords":"","version":"dev"},{"title":"Êåâ ID Ê≥®ÂÜå‚Äã","type":1,"pageTitle":"Á±ªÂûãÊ≥®ÂÜå","url":"/zh-CN/docs/next/guide/rust/type_registration#Êåâ-id-Ê≥®ÂÜå","content":" ‰ΩøÁî®Êï∞Â≠ó ID Ê≥®ÂÜåÁ±ªÂûã‰ª•ÂÆûÁé∞Âø´ÈÄü„ÄÅÁ¥ßÂáëÁöÑÂ∫èÂàóÂåñÔºö  use fory::Fory; use fory::ForyObject; #[derive(ForyObject)] struct User { name: String, age: i32, } let mut fory = Fory::default(); fory.register::&lt;User&gt;(1)?; let user = User { name: &quot;Alice&quot;.to_string(), age: 30, }; let bytes = fory.serialize(&amp;user)?; let decoded: User = fory.deserialize(&amp;bytes)?;   ","version":"dev","tagName":"h2"},{"title":"ÊåâÂëΩÂêçÁ©∫Èó¥Ê≥®ÂÜå‚Äã","type":1,"pageTitle":"Á±ªÂûãÊ≥®ÂÜå","url":"/zh-CN/docs/next/guide/rust/type_registration#ÊåâÂëΩÂêçÁ©∫Èó¥Ê≥®ÂÜå","content":" ‰∏∫‰∫ÜË∑®ËØ≠Ë®ÄÂÖºÂÆπÊÄßÔºå‰ΩøÁî®ÂëΩÂêçÁ©∫Èó¥ÂíåÁ±ªÂûãÂêçÁß∞Ê≥®ÂÜåÔºö  let mut fory = Fory::default() .compatible(true) .xlang(true); // ‰ΩøÁî®Âü∫‰∫éÂëΩÂêçÁ©∫Èó¥ÁöÑÂëΩÂêçÊ≥®ÂÜå fory.register_by_namespace::&lt;MyStruct&gt;(&quot;com.example&quot;, &quot;MyStruct&quot;);   ","version":"dev","tagName":"h2"},{"title":"Ê≥®ÂÜåËá™ÂÆö‰πâÂ∫èÂàóÂåñÂô®‚Äã","type":1,"pageTitle":"Á±ªÂûãÊ≥®ÂÜå","url":"/zh-CN/docs/next/guide/rust/type_registration#Ê≥®ÂÜåËá™ÂÆö‰πâÂ∫èÂàóÂåñÂô®","content":" ÂØπ‰∫éÈúÄË¶ÅËá™ÂÆö‰πâÂ∫èÂàóÂåñÈÄªËæëÁöÑÁ±ªÂûãÔºö  let mut fory = Fory::default(); fory.register_serializer::&lt;CustomType&gt;(100);   ","version":"dev","tagName":"h2"},{"title":"Ê≥®ÂÜåÈ°∫Â∫è‚Äã","type":1,"pageTitle":"Á±ªÂûãÊ≥®ÂÜå","url":"/zh-CN/docs/next/guide/rust/type_registration#Ê≥®ÂÜåÈ°∫Â∫è","content":" ÂΩì‰ΩøÁî®Ê≤°ÊúâÊòæÂºè ID ÁöÑÂü∫‰∫é ID ÁöÑÊ≥®ÂÜåÊó∂ÔºåÊ≥®ÂÜåÈ°∫Â∫èÂæàÈáçË¶Å„ÄÇÁ°Æ‰øùÂ∫èÂàóÂåñÂíåÂèçÂ∫èÂàóÂåñ‰πãÈó¥ÁöÑÊ≥®ÂÜåÈ°∫Â∫è‰∏ÄËá¥Ôºö  // Â∫èÂàóÂåñÂô®Á´Ø let mut fory = Fory::default(); fory.register::&lt;TypeA&gt;(1)?; fory.register::&lt;TypeB&gt;(2)?; fory.register::&lt;TypeC&gt;(3)?; // ÂèçÂ∫èÂàóÂåñÂô®Á´Ø - ÂøÖÈ°ª‰ΩøÁî®Áõ∏ÂêåÈ°∫Â∫è let mut fory = Fory::default(); fory.register::&lt;TypeA&gt;(1)?; fory.register::&lt;TypeB&gt;(2)?; fory.register::&lt;TypeC&gt;(3)?;   ","version":"dev","tagName":"h2"},{"title":"Á∫øÁ®ãÂÆâÂÖ®Ê≥®ÂÜå‚Äã","type":1,"pageTitle":"Á±ªÂûãÊ≥®ÂÜå","url":"/zh-CN/docs/next/guide/rust/type_registration#Á∫øÁ®ãÂÆâÂÖ®Ê≥®ÂÜå","content":" Âú®ÁîüÊàêÁ∫øÁ®ã‰πãÂâçÊâßË°åÊâÄÊúâÊ≥®ÂÜåÔºö  use std::sync::Arc; use std::thread; let mut fory = Fory::default(); fory.register::&lt;User&gt;(1)?; fory.register::&lt;Order&gt;(2)?; // Áé∞Âú®ÂèØ‰ª•Âú®Á∫øÁ®ãÈó¥ÂÖ±‰∫´ let fory = Arc::new(fory); let handles: Vec&lt;_&gt; = (0..4) .map(|_| { let shared = Arc::clone(&amp;fory); thread::spawn(move || { // ‰ΩøÁî® fory ËøõË°åÂ∫èÂàóÂåñ }) }) .collect();   ","version":"dev","tagName":"h2"},{"title":"ÊúÄ‰Ω≥ÂÆûË∑µ‚Äã","type":1,"pageTitle":"Á±ªÂûãÊ≥®ÂÜå","url":"/zh-CN/docs/next/guide/rust/type_registration#ÊúÄ‰Ω≥ÂÆûË∑µ","content":" ‰ΩøÁî®‰∏ÄËá¥ÁöÑ IDÔºöÂú®ÊâÄÊúâËØ≠Ë®Ä‰∏≠‰∏∫Áõ∏ÂêåÁ±ªÂûã‰ΩøÁî®Áõ∏ÂêåÁöÑÁ±ªÂûã ID ‰ª•ÂÆûÁé∞Ë∑®ËØ≠Ë®ÄÂÖºÂÆπÊÄßÂú®Á∫øÁ®ãÂåñ‰πãÂâçÊ≥®ÂÜåÔºöÂú®ÁîüÊàêÁ∫øÁ®ã‰πãÂâçÂÆåÊàêÊâÄÊúâÊ≥®ÂÜåÂØπ xlang ‰ΩøÁî®ÂëΩÂêçÁ©∫Èó¥Ôºö‰ΩøÁ±ªÂûãÂêçÁß∞Âú®ÂêÑËØ≠Ë®Ä‰πãÈó¥‰øùÊåÅ‰∏ÄËá¥ÊòæÂºè ID ‰ª•‰øùÊåÅÁ®≥ÂÆöÊÄßÔºöÂú®Áîü‰∫ßÁéØÂ¢É‰∏≠ÈÅøÂÖçËá™Âä®ÁîüÊàêÁöÑ ID  ","version":"dev","tagName":"h2"},{"title":"Áõ∏ÂÖ≥‰∏ªÈ¢ò‚Äã","type":1,"pageTitle":"Á±ªÂûãÊ≥®ÂÜå","url":"/zh-CN/docs/next/guide/rust/type_registration#Áõ∏ÂÖ≥‰∏ªÈ¢ò","content":" ÈÖçÁΩÆ - Fory ÊûÑÂª∫Âô®ÈÄâÈ°πË∑®ËØ≠Ë®Ä - XLANG Ê®°ÂºèÊ≥®ÂÜåËá™ÂÆö‰πâÂ∫èÂàóÂåñÂô® - Ëá™ÂÆö‰πâÂ∫èÂàóÂåñ ","version":"dev","tagName":"h2"},{"title":"Scala Â∫èÂàóÂåñÊåáÂçó","type":0,"sectionRef":"#","url":"/zh-CN/docs/next/guide/scala/","content":"","keywords":"","version":"dev"},{"title":"ÁâπÊÄß‚Äã","type":1,"pageTitle":"Scala Â∫èÂàóÂåñÊåáÂçó","url":"/zh-CN/docs/next/guide/scala/#ÁâπÊÄß","content":" Fory Scala ÁªßÊâø‰∫Ü Fory Java ÁöÑÊâÄÊúâÁâπÊÄßÔºåÂπ∂Â¢ûÂä†‰∫Ü Scala ÁâπÂÆöÁöÑ‰ºòÂåñÔºö  È´òÊÄßËÉΩÔºöJIT ‰ª£Á†ÅÁîüÊàê„ÄÅÈõ∂Êã∑Ë¥ù„ÄÅÊØî‰º†ÁªüÂ∫èÂàóÂåñÂø´ 20-170 ÂÄçScala Á±ªÂûãÊîØÊåÅÔºö‰∏∫ case Á±ª„ÄÅÂçï‰æã„ÄÅÈõÜÂêà„ÄÅÂÖÉÁªÑ„ÄÅOption„ÄÅEither Êèê‰æõ‰ºòÂåñÁöÑÂ∫èÂàóÂåñÂô®ÈªòËÆ§ÂÄºÊîØÊåÅÔºöÂú® schema ÊºîÂåñÊúüÈó¥Ëá™Âä®Â§ÑÁêÜ Scala Á±ªÁöÑÈªòËÆ§ÂèÇÊï∞Âçï‰æã‰øùÊåÅÔºöobject Âçï‰æãÂú®ÂèçÂ∫èÂàóÂåñÂêé‰øùÊåÅÂºïÁî®Áõ∏Á≠âÊÄßSchema ÊºîÂåñÔºöÊîØÊåÅÁ±ª schema ÂèòÊõ¥ÁöÑÂâçÂêë/ÂêéÂêëÂÖºÂÆπÊÄß  Êü•Áúã Java ÁâπÊÄßËé∑ÂèñÂÆåÊï¥ÁâπÊÄßÂàóË°®„ÄÇ  ","version":"dev","tagName":"h2"},{"title":"ÂÆâË£Ö‚Äã","type":1,"pageTitle":"Scala Â∫èÂàóÂåñÊåáÂçó","url":"/zh-CN/docs/next/guide/scala/#ÂÆâË£Ö","content":" ‰ΩøÁî® sbt Ê∑ªÂä†‰æùËµñÔºö  libraryDependencies += &quot;org.apache.fory&quot; %% &quot;fory-scala&quot; % &quot;0.14.1&quot;   ","version":"dev","tagName":"h2"},{"title":"Âø´ÈÄüÂºÄÂßã‚Äã","type":1,"pageTitle":"Scala Â∫èÂàóÂåñÊåáÂçó","url":"/zh-CN/docs/next/guide/scala/#Âø´ÈÄüÂºÄÂßã","content":" import org.apache.fory.Fory import org.apache.fory.serializer.scala.ScalaSerializers case class Person(name: String, id: Long, github: String) case class Point(x: Int, y: Int, z: Int) object ScalaExample { // ÂàõÂª∫ÂêØÁî® Scala ‰ºòÂåñÁöÑ Fory val fory: Fory = Fory.builder() .withScalaOptimizationEnabled(true) .build() // ‰∏∫ Scala Ê≥®ÂÜå‰ºòÂåñÁöÑ Fory Â∫èÂàóÂåñÂô® ScalaSerializers.registerSerializers(fory) // Ê≥®ÂÜå‰Ω†ÁöÑÁ±ª fory.register(classOf[Person]) fory.register(classOf[Point]) def main(args: Array[String]): Unit = { val p = Person(&quot;Shawn Yang&quot;, 1, &quot;https://github.com/chaokunyang&quot;) println(fory.deserialize(fory.serialize(p))) println(fory.deserialize(fory.serialize(Point(1, 2, 3)))) } }   ","version":"dev","tagName":"h2"},{"title":"ÊûÑÂª∫‰∫é Fory Java ‰πã‰∏ä‚Äã","type":1,"pageTitle":"Scala Â∫èÂàóÂåñÊåáÂçó","url":"/zh-CN/docs/next/guide/scala/#ÊûÑÂª∫‰∫é-fory-java-‰πã‰∏ä","content":" Fory Scala ÊûÑÂª∫Âú® Fory Java ‰πã‰∏ä„ÄÇÂ§ßÂ§öÊï∞ÈÖçÁΩÆÈÄâÈ°π„ÄÅÁâπÊÄßÂíåÊ¶ÇÂøµÈÉΩÁõ¥Êé•ÈÄÇÁî®‰∫é Scala„ÄÇËØ∑ÂèÇËÄÉ Java ÊñáÊ°£Ôºö  ÈÖçÁΩÆÈÄâÈ°π - ÊâÄÊúâ ForyBuilder ÈÄâÈ°πÂü∫Á°ÄÂ∫èÂàóÂåñ - Â∫èÂàóÂåñÊ®°ÂºèÂíå APIÁ±ªÂûãÊ≥®ÂÜå - Á±ªÊ≥®ÂÜåÂíåÂÆâÂÖ®ÊÄßSchema ÊºîÂåñ - ÂâçÂêë/ÂêéÂêëÂÖºÂÆπÊÄßËá™ÂÆö‰πâÂ∫èÂàóÂåñÂô® - ÂÆûÁé∞Ëá™ÂÆö‰πâÂ∫èÂàóÂåñÂô®ÂéãÁº© - Int„ÄÅlong Âíå string ÂéãÁº©ÊïÖÈöúÊéíÊü• - Â∏∏ËßÅÈóÆÈ¢òÂíåËß£ÂÜ≥ÊñπÊ°à  ","version":"dev","tagName":"h2"},{"title":"Scala ÁâπÂÆöÊñáÊ°£‚Äã","type":1,"pageTitle":"Scala Â∫èÂàóÂåñÊåáÂçó","url":"/zh-CN/docs/next/guide/scala/#scala-ÁâπÂÆöÊñáÊ°£","content":" Fory ÂàõÂª∫ - Scala ÁâπÂÆöÁöÑ Fory ËÆæÁΩÆË¶ÅÊ±ÇÁ±ªÂûãÂ∫èÂàóÂåñ - Â∫èÂàóÂåñ Scala Á±ªÂûãÈªòËÆ§ÂÄº - Scala Á±ªÈªòËÆ§ÂÄºÊîØÊåÅ ","version":"dev","tagName":"h2"},{"title":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñÊåáÂçó","type":0,"sectionRef":"#","url":"/zh-CN/docs/next/guide/xlang/","content":"","keywords":"","version":"dev"},{"title":"ÁâπÊÄß‚Äã","type":1,"pageTitle":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñÊåáÂçó","url":"/zh-CN/docs/next/guide/xlang/#ÁâπÊÄß","content":" Êó†ÈúÄ IDLÔºöËá™Âä®Â∫èÂàóÂåñ‰ªª‰ΩïÂØπË±°ÔºåÊó†ÈúÄ Protocol Buffers„ÄÅThrift ÊàñÂÖ∂‰ªñ IDL ÂÆö‰πâÂ§öËØ≠Ë®ÄÊîØÊåÅÔºöJava„ÄÅPython„ÄÅC++„ÄÅGo„ÄÅRust„ÄÅJavaScript ‰πãÈó¥Êó†Áºù‰∫íÊìç‰ΩúÂºïÁî®ÊîØÊåÅÔºöË∑®ËØ≠Ë®ÄËæπÁïåÊîØÊåÅÂÖ±‰∫´ÂºïÁî®ÂíåÂæ™ÁéØÂºïÁî®Schema ÊºîÂåñÔºöÁ±ªÂÆö‰πâÂèòÊõ¥Êó∂ÁöÑÂâçÂêë/ÂêéÂêëÂÖºÂÆπÊÄßÈõ∂Êã∑Ë¥ùÔºöÂ§ßÂûã‰∫åËøõÂà∂Êï∞ÊçÆÁöÑÂ∏¶Â§ñÂ∫èÂàóÂåñÈ´òÊÄßËÉΩÔºöJIT ÁºñËØëÂíå‰ºòÂåñÁöÑ‰∫åËøõÂà∂ÂçèËÆÆ  ","version":"dev","tagName":"h2"},{"title":"ÊîØÊåÅÁöÑËØ≠Ë®Ä‚Äã","type":1,"pageTitle":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñÊåáÂçó","url":"/zh-CN/docs/next/guide/xlang/#ÔøΩÔøΩÊîØÊåÅÁöÑËØ≠Ë®Ä","content":" ËØ≠Ë®Ä\tÁä∂ÊÄÅ\tÂåÖJava\t‚úÖ\torg.apache.fory:fory-core Python\t‚úÖ\tpyfory C++\t‚úÖ\tBazel/CMake ÊûÑÂª∫ Go\t‚úÖ\tgithub.com/apache/fory/go/fory Rust\t‚úÖ\tfory crate JavaScript\t‚úÖ\t@apache-fory/fory  ","version":"dev","tagName":"h2"},{"title":"‰ΩïÊó∂‰ΩøÁî® Xlang Ê®°Âºè‚Äã","type":1,"pageTitle":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñÊåáÂçó","url":"/zh-CN/docs/next/guide/xlang/#‰ΩïÊó∂‰ΩøÁî®-xlang-Ê®°Âºè","content":" ‰ΩøÁî® xlang Ê®°ÂºèÁöÑÂú∫ÊôØÔºö  ÊûÑÂª∫Â§öËØ≠Ë®ÄÂæÆÊúçÂä°ÂàõÂª∫Â§öËØ≠Ë®ÄÊï∞ÊçÆÁÆ°ÈÅìÂú®ÂâçÁ´ØÔºàJavaScriptÔºâÂíåÂêéÁ´ØÔºàJava/Python/GoÔºâ‰πãÈó¥ÂÖ±‰∫´Êï∞ÊçÆ  ‰ΩøÁî®ËØ≠Ë®ÄÂéüÁîüÊ®°ÂºèÁöÑÂú∫ÊôØÔºö  ÊâÄÊúâÂ∫èÂàóÂåñ/ÂèçÂ∫èÂàóÂåñÈÉΩÂú®Âêå‰∏ÄËØ≠Ë®Ä‰∏≠ËøõË°åÈúÄË¶ÅÊúÄÂ§ßÊÄßËÉΩÔºàÂéüÁîüÊ®°ÂºèÊõ¥Âø´ÔºâÈúÄË¶ÅÁâπÂÆöËØ≠Ë®ÄÂäüËÉΩÔºàPython pickle ÂÖºÂÆπÊÄß„ÄÅJava Â∫èÂàóÂåñÈí©Â≠êÔºâ  ","version":"dev","tagName":"h2"},{"title":"Âø´ÈÄüÁ§∫‰æã‚Äã","type":1,"pageTitle":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñÊåáÂçó","url":"/zh-CN/docs/next/guide/xlang/#Âø´ÈÄüÁ§∫‰æã","content":" ","version":"dev","tagName":"h2"},{"title":"JavaÔºàÁîü‰∫ßËÄÖÔºâ‚Äã","type":1,"pageTitle":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñÊåáÂçó","url":"/zh-CN/docs/next/guide/xlang/#javaÁîü‰∫ßËÄÖ","content":" import org.apache.fory.*; import org.apache.fory.config.*; public class Person { public String name; public int age; } Fory fory = Fory.builder() .withLanguage(Language.XLANG) .build(); fory.register(Person.class, &quot;example.Person&quot;); Person person = new Person(); person.name = &quot;Alice&quot;; person.age = 30; byte[] bytes = fory.serialize(person); // Â∞Ü bytes ÂèëÈÄÅÂà∞ Python„ÄÅGo„ÄÅRust Á≠â   ","version":"dev","tagName":"h3"},{"title":"PythonÔºàÊ∂àË¥πËÄÖÔºâ‚Äã","type":1,"pageTitle":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñÊåáÂçó","url":"/zh-CN/docs/next/guide/xlang/#pythonÊ∂àË¥πËÄÖ","content":" import pyfory from dataclasses import dataclass @dataclass class Person: name: str age: pyfory.Int32Type fory = pyfory.Fory() fory.register_type(Person, typename=&quot;example.Person&quot;) # ‰ªé Java Êé•Êî∂ bytes person = fory.deserialize(bytes_from_java) print(f&quot;{person.name}, {person.age}&quot;) # Alice, 30   ","version":"dev","tagName":"h3"},{"title":"ÊñáÊ°£‚Äã","type":1,"pageTitle":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñÊåáÂçó","url":"/zh-CN/docs/next/guide/xlang/#ÊñáÊ°£","content":" ‰∏ªÈ¢ò\tÊèèËø∞ÂÖ•Èó®ÊåáÂçó\tÊâÄÊúâËØ≠Ë®ÄÁöÑÂÆâË£ÖÂíåÂü∫Êú¨ËÆæÁΩÆ Á±ªÂûãÊò†Â∞Ñ\tË∑®ËØ≠Ë®ÄÁ±ªÂûãÊò†Â∞ÑÂèÇËÄÉ Â∫èÂàóÂåñ\tÂÜÖÁΩÆÁ±ªÂûã„ÄÅËá™ÂÆö‰πâÁ±ªÂûã„ÄÅÂºïÁî®Â§ÑÁêÜ Èõ∂Êã∑Ë¥ù\tÂ§ßÂûãÊï∞ÊçÆÁöÑÂ∏¶Â§ñÂ∫èÂàóÂåñ Ë°åÊ†ºÂºè\tÂÖ∑ÊúâÈöèÊú∫ËÆøÈóÆÁöÑÁºìÂ≠òÂèãÂ•Ω‰∫åËøõÂà∂Ê†ºÂºè ÊïÖÈöúÊéíÊü•\tÂ∏∏ËßÅÈóÆÈ¢òÂèäËß£ÂÜ≥ÊñπÊ°à  ","version":"dev","tagName":"h2"},{"title":"ÁâπÂÆöËØ≠Ë®ÄÊåáÂçó‚Äã","type":1,"pageTitle":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñÊåáÂçó","url":"/zh-CN/docs/next/guide/xlang/#ÁâπÂÆöËØ≠Ë®ÄÊåáÂçó","content":" ÊúâÂÖ≥ÁâπÂÆöËØ≠Ë®ÄÁöÑËØ¶ÁªÜ‰ø°ÊÅØÂíå API ÂèÇËÄÉÔºö  Java Ë∑®ËØ≠Ë®ÄÊåáÂçóPython Ë∑®ËØ≠Ë®ÄÊåáÂçóC++ Ë∑®ËØ≠Ë®ÄÊåáÂçóRust Ë∑®ËØ≠Ë®ÄÊåáÂçó  ","version":"dev","tagName":"h2"},{"title":"ËßÑËåÉ‚Äã","type":1,"pageTitle":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñÊåáÂçó","url":"/zh-CN/docs/next/guide/xlang/#ËßÑËåÉ","content":" Xlang Â∫èÂàóÂåñËßÑËåÉ - ‰∫åËøõÂà∂ÂçèËÆÆËØ¶ÊÉÖÁ±ªÂûãÊò†Â∞ÑËßÑËåÉ - ÂÆåÊï¥ÁöÑÁ±ªÂûãÊò†Â∞ÑÂèÇËÄÉ ","version":"dev","tagName":"h2"},{"title":"Fory ÂàõÂª∫","type":0,"sectionRef":"#","url":"/zh-CN/docs/next/guide/scala/fory_creation","content":"","keywords":"","version":"dev"},{"title":"Âü∫Á°ÄËÆæÁΩÆ‚Äã","type":1,"pageTitle":"Fory ÂàõÂª∫","url":"/zh-CN/docs/next/guide/scala/fory_creation#Âü∫Á°ÄËÆæÁΩÆ","content":" ‰ΩøÁî® Fory ËøõË°å Scala Â∫èÂàóÂåñÊó∂ÔºåÂøÖÈ°ªÔºö  ÈÄöËøá withScalaOptimizationEnabled(true) ÂêØÁî® Scala ‰ºòÂåñÈÄöËøá ScalaSerializers.registerSerializers(fory) Ê≥®ÂÜå Scala Â∫èÂàóÂåñÂô®  import org.apache.fory.Fory import org.apache.fory.serializer.scala.ScalaSerializers val fory = Fory.builder() .withScalaOptimizationEnabled(true) .build() // ‰∏∫ Scala Ê≥®ÂÜå‰ºòÂåñÁöÑ Fory Â∫èÂàóÂåñÂô® ScalaSerializers.registerSerializers(fory)   ","version":"dev","tagName":"h2"},{"title":"Ê≥®ÂÜå Scala ÂÜÖÈÉ®Á±ªÂûã‚Äã","type":1,"pageTitle":"Fory ÂàõÂª∫","url":"/zh-CN/docs/next/guide/scala/fory_creation#Ê≥®ÂÜå-scala-ÂÜÖÈÉ®Á±ªÂûã","content":" Ê†πÊçÆÂ∫èÂàóÂåñÁöÑÂØπË±°Á±ªÂûãÔºåÂèØËÉΩÈúÄË¶ÅÊ≥®ÂÜå‰∏Ä‰∫õ Scala ÂÜÖÈÉ®Á±ªÂûãÔºö  fory.register(Class.forName(&quot;scala.Enumeration.Val&quot;))   ‰∏∫ÈÅøÂÖçËøôÁßçÊ≥®ÂÜåÔºåÂèØ‰ª•Á¶ÅÁî®Á±ªÊ≥®ÂÜåÔºö  val fory = Fory.builder() .withScalaOptimizationEnabled(true) .requireClassRegistration(false) .build()   Ê≥®ÊÑèÔºöÁ¶ÅÁî®Á±ªÊ≥®ÂÜåÂÖÅËÆ∏ÂèçÂ∫èÂàóÂåñÊú™Áü•Á±ªÂûã„ÄÇËøôÊõ¥Âä†ÁÅµÊ¥ªÔºå‰ΩÜÂ¶ÇÊûúÁ±ªÂåÖÂê´ÊÅ∂ÊÑè‰ª£Á†ÅÂèØËÉΩ‰∏çÂÆâÂÖ®„ÄÇ  ","version":"dev","tagName":"h2"},{"title":"ÂºïÁî®Ë∑üË∏™‚Äã","type":1,"pageTitle":"Fory ÂàõÂª∫","url":"/zh-CN/docs/next/guide/scala/fory_creation#ÂºïÁî®Ë∑üË∏™","content":" Âæ™ÁéØÂºïÁî®Âú® Scala ‰∏≠ÂæàÂ∏∏ËßÅ„ÄÇÂ∫îËØ•‰ΩøÁî® withRefTracking(true) ÂêØÁî®ÂºïÁî®Ë∑üË∏™Ôºö  val fory = Fory.builder() .withScalaOptimizationEnabled(true) .withRefTracking(true) .build()   Ê≥®ÊÑèÔºöÂ¶ÇÊûú‰∏çÂêØÁî®ÂºïÁî®Ë∑üË∏™ÔºåÂú®Êüê‰∫õ Scala ÁâàÊú¨‰∏≠Â∫èÂàóÂåñ Scala Enumeration Êó∂ÂèØËÉΩ‰ºöÂá∫Áé∞ StackOverflowError„ÄÇ  ","version":"dev","tagName":"h2"},{"title":"Á∫øÁ®ãÂÆâÂÖ®‚Äã","type":1,"pageTitle":"Fory ÂàõÂª∫","url":"/zh-CN/docs/next/guide/scala/fory_creation#Á∫øÁ®ãÂÆâÂÖ®","content":" Fory ÂÆû‰æãÁöÑÂàõÂª∫ÊàêÊú¨‰∏ç‰Ωé„ÄÇÂÆû‰æãÂ∫îËØ•Âú®Â§öÊ¨°Â∫èÂàóÂåñ‰πãÈó¥ÂÖ±‰∫´„ÄÇ  ","version":"dev","tagName":"h2"},{"title":"ÂçïÁ∫øÁ®ã‰ΩøÁî®‚Äã","type":1,"pageTitle":"Fory ÂàõÂª∫","url":"/zh-CN/docs/next/guide/scala/fory_creation#ÂçïÁ∫øÁ®ã‰ΩøÁî®","content":" import org.apache.fory.Fory import org.apache.fory.serializer.scala.ScalaSerializers object ForyHolder { val fory: Fory = { val f = Fory.builder() .withScalaOptimizationEnabled(true) .build() ScalaSerializers.registerSerializers(f) f } }   ","version":"dev","tagName":"h3"},{"title":"Â§öÁ∫øÁ®ã‰ΩøÁî®‚Äã","type":1,"pageTitle":"Fory ÂàõÂª∫","url":"/zh-CN/docs/next/guide/scala/fory_creation#Â§öÁ∫øÁ®ã‰ΩøÁî®","content":" ÂØπ‰∫éÂ§öÁ∫øÁ®ãÂ∫îÁî®Á®ãÂ∫èÔºå‰ΩøÁî® ThreadSafeForyÔºö  import org.apache.fory.ThreadSafeFory import org.apache.fory.ThreadLocalFory import org.apache.fory.serializer.scala.ScalaSerializers object ForyHolder { val fory: ThreadSafeFory = new ThreadLocalFory(classLoader =&gt; { val f = Fory.builder() .withScalaOptimizationEnabled(true) .withClassLoader(classLoader) .build() ScalaSerializers.registerSerializers(f) f }) }   ","version":"dev","tagName":"h3"},{"title":"ÈÖçÁΩÆÈÄâÈ°π‚Äã","type":1,"pageTitle":"Fory ÂàõÂª∫","url":"/zh-CN/docs/next/guide/scala/fory_creation#ÈÖçÁΩÆÈÄâÈ°π","content":" Fory Java ÁöÑÊâÄÊúâÈÖçÁΩÆÈÄâÈ°πÈÉΩÂèØÁî®„ÄÇÊü•Áúã Java ÈÖçÁΩÆÈÄâÈ°πËé∑ÂèñÂÆåÊï¥ÂàóË°®„ÄÇ  Scala ÁöÑÂ∏∏Áî®ÈÄâÈ°πÔºö  import org.apache.fory.Fory import org.apache.fory.config.CompatibleMode import org.apache.fory.serializer.scala.ScalaSerializers val fory = Fory.builder() .withScalaOptimizationEnabled(true) // ‰∏∫Âæ™ÁéØÂºïÁî®ÂêØÁî®ÂºïÁî®Ë∑üË∏™ .withRefTracking(true) // ÂêØÁî® schema ÊºîÂåñÊîØÊåÅ .withCompatibleMode(CompatibleMode.COMPATIBLE) // ÂêØÁî®ÂºÇÊ≠•ÁºñËØë‰ª•Ëé∑ÂæóÊõ¥Â•ΩÁöÑÂêØÂä®ÊÄßËÉΩ .withAsyncCompilation(true) .build() ScalaSerializers.registerSerializers(fory)  ","version":"dev","tagName":"h2"},{"title":"ÈªòËÆ§ÂÄº","type":0,"sectionRef":"#","url":"/zh-CN/docs/next/guide/scala/default_values","content":"","keywords":"","version":"dev"},{"title":"Ê¶ÇËø∞‚Äã","type":1,"pageTitle":"ÈªòËÆ§ÂÄº","url":"/zh-CN/docs/next/guide/scala/default_values#Ê¶ÇËø∞","content":" ÂΩì Scala Á±ªÂÖ∑ÊúâÈªòËÆ§ÂèÇÊï∞Êó∂ÔºåScala ÁºñËØëÂô®‰ºöÂú®‰º¥ÁîüÂØπË±°‰∏≠ÔºàÂØπ‰∫é case Á±ªÔºâÊàñÂú®Á±ªÊú¨Ë∫´‰∏≠ÔºàÂØπ‰∫éÂ∏∏ËßÑ Scala Á±ªÔºâÁîüÊàêËØ∏Â¶Ç apply$default$1„ÄÅapply$default$2 Á≠âÊñπÊ≥ïÊù•ËøîÂõûÈªòËÆ§ÂÄº„ÄÇFory ÂèØ‰ª•Ê£ÄÊµãËøô‰∫õÊñπÊ≥ïÔºåÂπ∂Âú®ÂèçÂ∫èÂàóÂåñÂØπË±°Êó∂ÔºåÂΩìÊüê‰∫õÂ≠óÊÆµÂú®Â∫èÂàóÂåñÊï∞ÊçÆ‰∏≠Áº∫Â§±Êó∂‰ΩøÁî®ÂÆÉ‰ª¨„ÄÇ  ","version":"dev","tagName":"h2"},{"title":"ÊîØÊåÅÁöÑÁ±ªÁ±ªÂûã‚Äã","type":1,"pageTitle":"ÈªòËÆ§ÂÄº","url":"/zh-CN/docs/next/guide/scala/default_values#ÊîØÊåÅÁöÑÁ±ªÁ±ªÂûã","content":" Fory ÊîØÊåÅ‰ª•‰∏ãÁ±ªÂûãÁöÑÈªòËÆ§ÂÄºÔºö  ÂÖ∑ÊúâÈªòËÆ§ÂèÇÊï∞ÁöÑ Case Á±ªÂú®‰∏ªÊûÑÈÄ†ÂáΩÊï∞‰∏≠ÂÖ∑ÊúâÈªòËÆ§ÂèÇÊï∞ÁöÑÂ∏∏ËßÑ Scala Á±ªÂÖ∑ÊúâÈªòËÆ§ÂèÇÊï∞ÁöÑÂµåÂ•ó case Á±ª  ","version":"dev","tagName":"h2"},{"title":"Â∑•‰ΩúÂéüÁêÜ‚Äã","type":1,"pageTitle":"ÈªòËÆ§ÂÄº","url":"/zh-CN/docs/next/guide/scala/default_values#Â∑•‰ΩúÂéüÁêÜ","content":" Ê£ÄÊµãÔºöFory ÈÄöËøáÊ£ÄÊü•ÊòØÂê¶Â≠òÂú®ÈªòËÆ§ÂÄºÊñπÊ≥ïÔºàapply$default$N Êàñ $default$NÔºâÊù•Ê£ÄÊµãÁ±ªÊòØÂê¶‰∏∫ Scala Á±ª„ÄÇ ÈªòËÆ§ÂÄºÂèëÁé∞Ôºö ÂØπ‰∫é case Á±ªÔºöFory Êâ´Êèè‰º¥ÁîüÂØπË±°‰∏≠Âêç‰∏∫ apply$default$1„ÄÅapply$default$2 Á≠âÁöÑÊñπÊ≥ï„ÄÇÂØπ‰∫éÂ∏∏ËßÑ Scala Á±ªÔºöFory Êâ´ÊèèÁ±ªÊú¨Ë∫´‰∏≠Âêç‰∏∫ $default$1„ÄÅ$default$2 Á≠âÁöÑÊñπÊ≥ï„ÄÇ Â≠óÊÆµÊò†Â∞ÑÔºöÂú®ÂèçÂ∫èÂàóÂåñÊúüÈó¥ÔºåFory ËØÜÂà´ÁõÆÊ†áÁ±ª‰∏≠Â≠òÂú®‰ΩÜÂ∫èÂàóÂåñÊï∞ÊçÆ‰∏≠Áº∫Â§±ÁöÑÂ≠óÊÆµ„ÄÇ ÂÄºÂ∫îÁî®Ôºö‰ªéÂ∫èÂàóÂåñÊï∞ÊçÆ‰∏≠ËØªÂèñÊâÄÊúâÂèØÁî®Â≠óÊÆµÂêéÔºåFory Â∞ÜÈªòËÆ§ÂÄºÂ∫îÁî®‰∫é‰ªª‰ΩïÁº∫Â§±ÁöÑÂ≠óÊÆµ„ÄÇ  ","version":"dev","tagName":"h2"},{"title":"‰ΩøÁî®ÊñπÊ≥ï‚Äã","type":1,"pageTitle":"ÈªòËÆ§ÂÄº","url":"/zh-CN/docs/next/guide/scala/default_values#‰ΩøÁî®ÊñπÊ≥ï","content":" ÂΩìÊª°Ë∂≥‰ª•‰∏ãÊù°‰ª∂Êó∂ÔºåÊ≠§ÁâπÊÄß‰ºöËá™Âä®ÂêØÁî®Ôºö  ÂêØÁî®ÂÖºÂÆπÊ®°ÂºèÔºàwithCompatibleMode(CompatibleMode.COMPATIBLE)ÔºâÁõÆÊ†áÁ±ªË¢´Ê£ÄÊµã‰∏∫ÂÖ∑ÊúâÈªòËÆ§ÂÄºÁöÑ Scala Á±ªÂ∫èÂàóÂåñÊï∞ÊçÆ‰∏≠Áº∫Â∞ëÊüê‰∏™Â≠óÊÆµÔºå‰ΩÜËØ•Â≠óÊÆµÂ≠òÂú®‰∫éÁõÆÊ†áÁ±ª‰∏≠  Êó†ÈúÄÈ¢ùÂ§ñÈÖçÁΩÆ„ÄÇ  ","version":"dev","tagName":"h2"},{"title":"Á§∫‰æã‚Äã","type":1,"pageTitle":"ÈªòËÆ§ÂÄº","url":"/zh-CN/docs/next/guide/scala/default_values#Á§∫‰æã","content":" ","version":"dev","tagName":"h2"},{"title":"ÂÖ∑ÊúâÈªòËÆ§ÂÄºÁöÑ Case Á±ª‚Äã","type":1,"pageTitle":"ÈªòËÆ§ÂÄº","url":"/zh-CN/docs/next/guide/scala/default_values#ÂÖ∑ÊúâÈªòËÆ§ÂÄºÁöÑ-case-Á±ª","content":" import org.apache.fory.Fory import org.apache.fory.config.CompatibleMode import org.apache.fory.serializer.scala.ScalaSerializers // Ê≤°ÊúâÈªòËÆ§ÂÄºÁöÑÁ±ªÔºàÁî®‰∫éÂ∫èÂàóÂåñÔºâ case class PersonV1(name: String) // ÊúâÈªòËÆ§ÂÄºÁöÑÁ±ªÔºàÁî®‰∫éÂèçÂ∫èÂàóÂåñÔºâ case class PersonV2(name: String, age: Int = 25, city: String = &quot;Unknown&quot;) val fory = Fory.builder() .withCompatibleMode(CompatibleMode.COMPATIBLE) .withScalaOptimizationEnabled(true) .build() ScalaSerializers.registerSerializers(fory) // ‰ΩøÁî®Ê≤°ÊúâÈªòËÆ§ÂÄºÁöÑÁ±ªËøõË°åÂ∫èÂàóÂåñ val original = PersonV1(&quot;John&quot;) val serialized = fory.serialize(original) // ÂèçÂ∫èÂàóÂåñÂà∞ÊúâÈªòËÆ§ÂÄºÁöÑÁ±ª // Áº∫Â§±ÁöÑÂ≠óÊÆµÂ∞Ü‰ΩøÁî®ÈªòËÆ§ÂÄº val deserialized = fory.deserialize(serialized).asInstanceOf[PersonV2] // deserialized.name == &quot;John&quot; // deserialized.age == 25ÔºàÈªòËÆ§ÂÄºÔºâ // deserialized.city == &quot;Unknown&quot;ÔºàÈªòËÆ§ÂÄºÔºâ   ","version":"dev","tagName":"h3"},{"title":"ÂÖ∑ÊúâÈªòËÆ§ÂÄºÁöÑÂ∏∏ËßÑ Scala Á±ª‚Äã","type":1,"pageTitle":"ÈªòËÆ§ÂÄº","url":"/zh-CN/docs/next/guide/scala/default_values#ÂÖ∑ÊúâÈªòËÆ§ÂÄºÁöÑÂ∏∏ËßÑ-scala-Á±ª","content":" // Ê≤°ÊúâÈªòËÆ§ÂÄºÁöÑÁ±ªÔºàÁî®‰∫éÂ∫èÂàóÂåñÔºâ class EmployeeV1(val name: String) // ÊúâÈªòËÆ§ÂÄºÁöÑÁ±ªÔºàÁî®‰∫éÂèçÂ∫èÂàóÂåñÔºâ class EmployeeV2( val name: String, val age: Int = 30, val department: String = &quot;Engineering&quot; ) val fory = Fory.builder() .withCompatibleMode(CompatibleMode.COMPATIBLE) .withScalaOptimizationEnabled(true) .build() ScalaSerializers.registerSerializers(fory) // ‰ΩøÁî®Ê≤°ÊúâÈªòËÆ§ÂÄºÁöÑÁ±ªËøõË°åÂ∫èÂàóÂåñ val original = new EmployeeV1(&quot;Jane&quot;) val serialized = fory.serialize(original) // ÂèçÂ∫èÂàóÂåñÂà∞ÊúâÈªòËÆ§ÂÄºÁöÑÁ±ª val deserialized = fory.deserialize(serialized).asInstanceOf[EmployeeV2] // deserialized.name == &quot;Jane&quot; // deserialized.age == 30ÔºàÈªòËÆ§ÂÄºÔºâ // deserialized.department == &quot;Engineering&quot;ÔºàÈªòËÆ§ÂÄºÔºâ   ","version":"dev","tagName":"h3"},{"title":"Â§çÊùÇÈªòËÆ§ÂÄº‚Äã","type":1,"pageTitle":"ÈªòËÆ§ÂÄº","url":"/zh-CN/docs/next/guide/scala/default_values#Â§çÊùÇÈªòËÆ§ÂÄº","content":" ÈªòËÆ§ÂÄºÂèØ‰ª•ÊòØÂ§çÊùÇË°®ËææÂºèÔºö  // Ê≤°ÊúâÈªòËÆ§ÂÄºÁöÑÁ±ªÔºàÁî®‰∫éÂ∫èÂàóÂåñÔºâ case class ConfigV1(name: String) // ÊúâÈªòËÆ§ÂÄºÁöÑÁ±ªÔºàÁî®‰∫éÂèçÂ∫èÂàóÂåñÔºâ case class ConfigV2( name: String, settings: Map[String, String] = Map(&quot;default&quot; -&gt; &quot;value&quot;), tags: List[String] = List(&quot;default&quot;), enabled: Boolean = true ) val fory = Fory.builder() .withCompatibleMode(CompatibleMode.COMPATIBLE) .withScalaOptimizationEnabled(true) .build() ScalaSerializers.registerSerializers(fory) val original = ConfigV1(&quot;myConfig&quot;) val serialized = fory.serialize(original) val deserialized = fory.deserialize(serialized).asInstanceOf[ConfigV2] // deserialized.name == &quot;myConfig&quot; // deserialized.settings == Map(&quot;default&quot; -&gt; &quot;value&quot;) // deserialized.tags == List(&quot;default&quot;) // deserialized.enabled == true   ","version":"dev","tagName":"h3"},{"title":"ÂµåÂ•ó Case Á±ª‚Äã","type":1,"pageTitle":"ÈªòËÆ§ÂÄº","url":"/zh-CN/docs/next/guide/scala/default_values#ÂµåÂ•ó-case-Á±ª","content":" object Models { // Ê≤°ÊúâÈªòËÆ§ÂÄºÁöÑÁ±ªÔºàÁî®‰∫éÂ∫èÂàóÂåñÔºâ case class PersonV1(name: String) // ÊúâÈªòËÆ§ÂÄºÁöÑÁ±ªÔºàÁî®‰∫éÂèçÂ∫èÂàóÂåñÔºâ case class Address(street: String, city: String = &quot;DefaultCity&quot;) case class PersonV2(name: String, address: Address = Address(&quot;DefaultStreet&quot;)) } val fory = Fory.builder() .withCompatibleMode(CompatibleMode.COMPATIBLE) .withScalaOptimizationEnabled(true) .build() ScalaSerializers.registerSerializers(fory) val original = Models.PersonV1(&quot;Alice&quot;) val serialized = fory.serialize(original) val deserialized = fory.deserialize(serialized).asInstanceOf[Models.PersonV2] // deserialized.name == &quot;Alice&quot; // deserialized.address == Address(&quot;DefaultStreet&quot;, &quot;DefaultCity&quot;)   ","version":"dev","tagName":"h3"},{"title":"Áõ∏ÂÖ≥‰∏ªÈ¢ò‚Äã","type":1,"pageTitle":"ÈªòËÆ§ÂÄº","url":"/zh-CN/docs/next/guide/scala/default_values#Áõ∏ÂÖ≥‰∏ªÈ¢ò","content":" Schema ÊºîÂåñ - Java ‰∏≠ÁöÑÂâçÂêë/ÂêéÂêëÂÖºÂÆπÊÄßFory ÂàõÂª∫ - ‰ΩøÁî®ÂÖºÂÆπÊ®°ÂºèËÆæÁΩÆ Fory ","version":"dev","tagName":"h2"},{"title":"Á±ªÂûãÂ∫èÂàóÂåñ","type":0,"sectionRef":"#","url":"/zh-CN/docs/next/guide/scala/type_serialization","content":"","keywords":"","version":"dev"},{"title":"ËÆæÁΩÆ‚Äã","type":1,"pageTitle":"Á±ªÂûãÂ∫èÂàóÂåñ","url":"/zh-CN/docs/next/guide/scala/type_serialization#ËÆæÁΩÆ","content":" ÊâÄÊúâÁ§∫‰æãÂÅáËÆæ‰ª•‰∏ãËÆæÁΩÆÔºö  import org.apache.fory.Fory import org.apache.fory.serializer.scala.ScalaSerializers val fory = Fory.builder() .withScalaOptimizationEnabled(true) .build() ScalaSerializers.registerSerializers(fory)   ","version":"dev","tagName":"h2"},{"title":"Case Á±ª‚Äã","type":1,"pageTitle":"Á±ªÂûãÂ∫èÂàóÂåñ","url":"/zh-CN/docs/next/guide/scala/type_serialization#case-Á±ª","content":" case class Person(github: String, age: Int, id: Long) fory.register(classOf[Person]) val p = Person(&quot;https://github.com/chaokunyang&quot;, 18, 1) println(fory.deserialize(fory.serialize(p)))   ","version":"dev","tagName":"h2"},{"title":"POJO Á±ª‚Äã","type":1,"pageTitle":"Á±ªÂûãÂ∫èÂàóÂåñ","url":"/zh-CN/docs/next/guide/scala/type_serialization#pojo-Á±ª","content":" class Foo(f1: Int, f2: String) { override def toString: String = s&quot;Foo($f1, $f2)&quot; } fory.register(classOf[Foo]) println(fory.deserialize(fory.serialize(new Foo(1, &quot;chaokunyang&quot;))))   ","version":"dev","tagName":"h2"},{"title":"Object Âçï‰æã‚Äã","type":1,"pageTitle":"Á±ªÂûãÂ∫èÂàóÂåñ","url":"/zh-CN/docs/next/guide/scala/type_serialization#object-Âçï‰æã","content":" Scala object Âçï‰æãË¢´Â∫èÂàóÂåñÂíåÂèçÂ∫èÂàóÂåñ‰∏∫Âêå‰∏Ä‰∏™ÂÆû‰æãÔºö  object MySingleton { val value = 42 } fory.register(MySingleton.getClass) val o1 = fory.deserialize(fory.serialize(MySingleton)) val o2 = fory.deserialize(fory.serialize(MySingleton)) println(o1 == o2) // true   ","version":"dev","tagName":"h2"},{"title":"ÈõÜÂêà‚Äã","type":1,"pageTitle":"Á±ªÂûãÂ∫èÂàóÂåñ","url":"/zh-CN/docs/next/guide/scala/type_serialization#ÈõÜÂêà","content":" ÂÆåÂÖ®ÊîØÊåÅ Scala ÈõÜÂêàÔºö  val seq = Seq(1, 2) val list = List(&quot;a&quot;, &quot;b&quot;) val map = Map(&quot;a&quot; -&gt; 1, &quot;b&quot; -&gt; 2) println(fory.deserialize(fory.serialize(seq))) println(fory.deserialize(fory.serialize(list))) println(fory.deserialize(fory.serialize(map)))   ","version":"dev","tagName":"h2"},{"title":"ÂÖÉÁªÑ‚Äã","type":1,"pageTitle":"Á±ªÂûãÂ∫èÂàóÂåñ","url":"/zh-CN/docs/next/guide/scala/type_serialization#ÂÖÉÁªÑ","content":" ÊîØÊåÅÊâÄÊúâ Scala ÂÖÉÁªÑÁ±ªÂûãÔºàTuple1 Âà∞ Tuple22ÔºâÔºö  val tuple2 = (100, 10000L) println(fory.deserialize(fory.serialize(tuple2))) val tuple4 = (100, 10000L, 10000L, &quot;str&quot;) println(fory.deserialize(fory.serialize(tuple4)))   ","version":"dev","tagName":"h2"},{"title":"Êûö‰∏æ‚Äã","type":1,"pageTitle":"Á±ªÂûãÂ∫èÂàóÂåñ","url":"/zh-CN/docs/next/guide/scala/type_serialization#Êûö‰∏æ","content":" ","version":"dev","tagName":"h2"},{"title":"Scala 3 Êûö‰∏æ‚Äã","type":1,"pageTitle":"Á±ªÂûãÂ∫èÂàóÂåñ","url":"/zh-CN/docs/next/guide/scala/type_serialization#scala-3-Êûö‰∏æ","content":" enum Color { case Red, Green, Blue } fory.register(classOf[Color]) println(fory.deserialize(fory.serialize(Color.Green)))   ","version":"dev","tagName":"h3"},{"title":"Scala 2 Enumeration‚Äã","type":1,"pageTitle":"Á±ªÂûãÂ∫èÂàóÂåñ","url":"/zh-CN/docs/next/guide/scala/type_serialization#scala-2-enumeration","content":" object ColorEnum extends Enumeration { type ColorEnum = Value val Red, Green, Blue = Value } fory.register(Class.forName(&quot;scala.Enumeration.Val&quot;)) println(fory.deserialize(fory.serialize(ColorEnum.Green)))   Ê≥®ÊÑèÔºöÂØπ‰∫é Scala 2 EnumerationÔºåÂèØËÉΩÈúÄË¶ÅÊ≥®ÂÜå scala.Enumeration.Val ÊàñÂêØÁî®ÂºïÁî®Ë∑üË∏™‰ª•ÈÅøÂÖç StackOverflowError„ÄÇ  ","version":"dev","tagName":"h3"},{"title":"Option‚Äã","type":1,"pageTitle":"Á±ªÂûãÂ∫èÂàóÂåñ","url":"/zh-CN/docs/next/guide/scala/type_serialization#option","content":" val some: Option[Long] = Some(100) println(fory.deserialize(fory.serialize(some))) val none: Option[Long] = None println(fory.deserialize(fory.serialize(none)))   ","version":"dev","tagName":"h2"},{"title":"Either‚Äã","type":1,"pageTitle":"Á±ªÂûãÂ∫èÂàóÂåñ","url":"/zh-CN/docs/next/guide/scala/type_serialization#either","content":" val right: Either[String, Int] = Right(42) println(fory.deserialize(fory.serialize(right))) val left: Either[String, Int] = Left(&quot;error&quot;) println(fory.deserialize(fory.serialize(left)))   ","version":"dev","tagName":"h2"},{"title":"ÂµåÂ•óÁ±ªÂûã‚Äã","type":1,"pageTitle":"Á±ªÂûãÂ∫èÂàóÂåñ","url":"/zh-CN/docs/next/guide/scala/type_serialization#ÂµåÂ•óÁ±ªÂûã","content":" ÂÆåÂÖ®ÊîØÊåÅÂ§çÊùÇÁöÑÂµåÂ•óÁªìÊûÑÔºö  case class Address(street: String, city: String) case class Company(name: String, address: Address) case class Employee(name: String, company: Company, tags: List[String]) fory.register(classOf[Address]) fory.register(classOf[Company]) fory.register(classOf[Employee]) val employee = Employee( &quot;John&quot;, Company(&quot;Acme&quot;, Address(&quot;123 Main St&quot;, &quot;Springfield&quot;)), List(&quot;developer&quot;, &quot;scala&quot;) ) println(fory.deserialize(fory.serialize(employee)))  ","version":"dev","tagName":"h2"},{"title":"Â≠óÊÆµÂèØÁ©∫ÊÄß","type":0,"sectionRef":"#","url":"/zh-CN/docs/next/guide/xlang/field_nullability","content":"","keywords":"","version":"dev"},{"title":"ÈªòËÆ§Ë°å‰∏∫‚Äã","type":1,"pageTitle":"Â≠óÊÆµÂèØÁ©∫ÊÄß","url":"/zh-CN/docs/next/guide/xlang/field_nullability#ÈªòËÆ§Ë°å‰∏∫","content":" In xlang mode, fields are non-nullable by default. This means:  Values must always be present (non-null)No null flag byte is written for the fieldSerialization is more compact  The following types are nullable by default:  Optional&lt;T&gt; (Java, C++)Java boxed types (Integer, Long, Double, etc.)Go pointer types (*int32, *string, etc.)Rust Option&lt;T&gt;Python Optional[T]  Field Type\tDefault Nullable\tNull Flag WrittenPrimitives (int, bool, float, etc.)\tNo\tNo String\tNo\tNo List&lt;T&gt;, Map&lt;K,V&gt;, Set&lt;T&gt;\tNo\tNo Custom structs\tNo\tNo Enums\tNo\tNo Java boxed types (Integer, Long, etc.)\tYes\tYes Go pointer types (*int32, *string)\tYes\tYes Optional&lt;T&gt; / Option&lt;T&gt;\tYes\tYes  ","version":"dev","tagName":"h2"},{"title":"Á∫øÊ†ºÂºè‚Äã","type":1,"pageTitle":"Â≠óÊÆµÂèØÁ©∫ÊÄß","url":"/zh-CN/docs/next/guide/xlang/field_nullability#Á∫øÊ†ºÂºè","content":" The nullable flag controls whether a null flag byte is written before the field value:  Non-nullable field: [value data] Nullable field: [null_flag] [value data if not null]   Where null_flag is:  -1 (NULL_FLAG): Value is null-2 (NOT_NULL_VALUE_FLAG): Value is present  ","version":"dev","tagName":"h2"},{"title":"ÂèØÁ©∫ÊÄß‰∏éÂºïÁî®Ë∑üË∏™‚Äã","type":1,"pageTitle":"Â≠óÊÆµÂèØÁ©∫ÊÄß","url":"/zh-CN/docs/next/guide/xlang/field_nullability#ÂèØÁ©∫ÊÄß‰∏éÂºïÁî®Ë∑üË∏™","content":" These are related but distinct concepts:  Concept\tPurpose\tFlag ValuesNullable\tAllow null values for a field\t-1 (null), -2 (not null) Reference Tracking\tDeduplicate shared object references\t-1 (null), -2 (not null), ‚â•0 (ref ID)  Key differences:  Nullable only: Writes -1 or -2 flag, no reference deduplicationReference tracking: Extends nullable semantics with reference IDs (‚â•0) for previously seen objectsBoth use the same flag byte position‚Äîref tracking is a superset of nullable  When refTracking=true, the null flag byte doubles as a ref flag:  ref_flag = -1 ‚Üí null value ref_flag = -2 ‚Üí new object (first occurrence) ref_flag &gt;= 0 ‚Üí reference to object at index ref_flag   For detailed reference tracking behavior, see Reference Tracking.  ","version":"dev","tagName":"h2"},{"title":"ÂêÑËØ≠Ë®ÄÁ§∫‰æã‚Äã","type":1,"pageTitle":"Â≠óÊÆµÂèØÁ©∫ÊÄß","url":"/zh-CN/docs/next/guide/xlang/field_nullability#ÂêÑËØ≠Ë®ÄÁ§∫‰æã","content":" ","version":"dev","tagName":"h2"},{"title":"Java‚Äã","type":1,"pageTitle":"Â≠óÊÆµÂèØÁ©∫ÊÄß","url":"/zh-CN/docs/next/guide/xlang/field_nullability#java","content":" public class Person { // Non-nullable by default in xlang mode String name; // Must not be null int age; // Primitive, always non-nullable List&lt;String&gt; tags; // Must not be null // Explicitly nullable @ForyField(nullable = true) String nickname; // Can be null // Optional wrapper - nullable by default Optional&lt;String&gt; bio; // Can be empty/null } Fory fory = Fory.builder() .withLanguage(Language.XLANG) .build(); fory.register(Person.class, &quot;example.Person&quot;);   ","version":"dev","tagName":"h3"},{"title":"Python‚Äã","type":1,"pageTitle":"Â≠óÊÆµÂèØÁ©∫ÊÄß","url":"/zh-CN/docs/next/guide/xlang/field_nullability#python","content":" from dataclasses import dataclass from typing import Optional, List import pyfory @dataclass class Person: # Non-nullable by default name: str # Must have a value age: pyfory.int32 # Primitive tags: List[str] # Must not be None # Optional makes it nullable nickname: Optional[str] = None # Can be None bio: Optional[str] = None # Can be None fory = pyfory.Fory(xlang=True) fory.register_type(Person, typename=&quot;example.Person&quot;)   ","version":"dev","tagName":"h3"},{"title":"Rust‚Äã","type":1,"pageTitle":"Â≠óÊÆµÂèØÁ©∫ÊÄß","url":"/zh-CN/docs/next/guide/xlang/field_nullability#rust","content":" use fory::Fory; #[derive(Fory)] #[tag(&quot;example.Person&quot;)] struct Person { // Non-nullable by default name: String, age: i32, tags: Vec&lt;String&gt;, // Option&lt;T&gt; is nullable nickname: Option&lt;String&gt;, // Can be None bio: Option&lt;String&gt;, // Can be None }   ","version":"dev","tagName":"h3"},{"title":"Go‚Äã","type":1,"pageTitle":"Â≠óÊÆµÂèØÁ©∫ÊÄß","url":"/zh-CN/docs/next/guide/xlang/field_nullability#go","content":" type Person struct { // Non-nullable by default Name string Age int32 Tags []string // Pointer types for nullable fields Nickname *string // Can be nil Bio *string // Can be nil } fory := forygo.NewFory() fory.RegisterTagType(&quot;example.Person&quot;, Person{})   ","version":"dev","tagName":"h3"},{"title":"C++‚Äã","type":1,"pageTitle":"Â≠óÊÆµÂèØÁ©∫ÊÄß","url":"/zh-CN/docs/next/guide/xlang/field_nullability#c","content":" struct Person { // Non-nullable by default std::string name; int32_t age; std::vector&lt;std::string&gt; tags; // std::optional for nullable std::optional&lt;std::string&gt; nickname; std::optional&lt;std::string&gt; bio; }; FORY_STRUCT(Person, name, age, tags, nickname, bio);   ","version":"dev","tagName":"h3"},{"title":"Customizing Nullability‚Äã","type":1,"pageTitle":"Â≠óÊÆµÂèØÁ©∫ÊÄß","url":"/zh-CN/docs/next/guide/xlang/field_nullability#customizing-nullability","content":" ","version":"dev","tagName":"h2"},{"title":"Java: @ForyField Annotation‚Äã","type":1,"pageTitle":"Â≠óÊÆµÂèØÁ©∫ÊÄß","url":"/zh-CN/docs/next/guide/xlang/field_nullability#java-foryfield-annotation","content":" public class Config { @ForyField(nullable = true) String optionalSetting; // Explicitly nullable @ForyField(nullable = false) String requiredSetting; // Explicitly non-nullable (default) }   ","version":"dev","tagName":"h3"},{"title":"C++: fory::field Wrapper‚Äã","type":1,"pageTitle":"Â≠óÊÆµÂèØÁ©∫ÊÄß","url":"/zh-CN/docs/next/guide/xlang/field_nullability#c-foryfield-wrapper","content":" struct Config { // Explicitly mark as nullable fory::field&lt;std::string, 1, fory::nullable&lt;true&gt;&gt; optional_setting; // Explicitly mark as non-nullable (default) fory::field&lt;std::string, 2, fory::nullable&lt;false&gt;&gt; required_setting; }; FORY_STRUCT(Config, optional_setting, required_setting);   ","version":"dev","tagName":"h3"},{"title":"Null Value Handling‚Äã","type":1,"pageTitle":"Â≠óÊÆµÂèØÁ©∫ÊÄß","url":"/zh-CN/docs/next/guide/xlang/field_nullability#null-value-handling","content":" When a non-nullable field receives a null value:  Language\tBehaviorJava\tThrows NullPointerException or serialization error Python\tRaises TypeError or serialization error Rust\tCompile-time error (non-Option types can't be None) Go\tZero value is used (empty string, 0, etc.) C++\tDefault-constructed value or undefined behavior  ","version":"dev","tagName":"h2"},{"title":"Schema Compatibility‚Äã","type":1,"pageTitle":"Â≠óÊÆµÂèØÁ©∫ÊÄß","url":"/zh-CN/docs/next/guide/xlang/field_nullability#schema-compatibility","content":" The nullable flag is part of the struct schema fingerprint. Changing a field's nullability is a breaking change that will cause schema version mismatch errors.  Schema A: { name: String (non-nullable) } Schema B: { name: String (nullable) } // These have different fingerprints and are incompatible   ","version":"dev","tagName":"h2"},{"title":"Best Practices‚Äã","type":1,"pageTitle":"Â≠óÊÆµÂèØÁ©∫ÊÄß","url":"/zh-CN/docs/next/guide/xlang/field_nullability#best-practices","content":" Use non-nullable by default: Only make fields nullable when null is a valid semantic valueUse Optional/Option wrappers: Instead of raw types with nullable annotationBe consistent across languages: Use the same nullability for corresponding fieldsDocument nullable fields: Make it clear which fields can be null in your API  ","version":"dev","tagName":"h2"},{"title":"See Also‚Äã","type":1,"pageTitle":"Â≠óÊÆµÂèØÁ©∫ÊÄß","url":"/zh-CN/docs/next/guide/xlang/field_nullability#see-also","content":" Reference Tracking - Shared and circular reference handlingSerialization - Basic cross-language serializationType Mapping - Cross-language type mapping referenceXlang Specification - Binary protocol details ","version":"dev","tagName":"h2"},{"title":"ÂºïÁî®Ë∑üË∏™","type":0,"sectionRef":"#","url":"/zh-CN/docs/next/guide/xlang/reference_tracking","content":"","keywords":"","version":"dev"},{"title":"Ê¶ÇËø∞‚Äã","type":1,"pageTitle":"ÂºïÁî®Ë∑üË∏™","url":"/zh-CN/docs/next/guide/xlang/reference_tracking#Ê¶ÇËø∞","content":" Reference tracking enables:  Shared references: Same object referenced multiple times is serialized onceCircular references: Objects that reference themselves or form cyclesMemory efficiency: No duplicate data for repeated objects  ","version":"dev","tagName":"h2"},{"title":"ÂêØÁî®ÂºïÁî®Ë∑üË∏™‚Äã","type":1,"pageTitle":"ÂºïÁî®Ë∑üË∏™","url":"/zh-CN/docs/next/guide/xlang/reference_tracking#ÂêØÁî®ÂºïÁî®Ë∑üË∏™","content":" ","version":"dev","tagName":"h2"},{"title":"Java‚Äã","type":1,"pageTitle":"ÂºïÁî®Ë∑üË∏™","url":"/zh-CN/docs/next/guide/xlang/reference_tracking#java","content":" Fory fory = Fory.builder() .withLanguage(Language.XLANG) .withRefTracking(true) .build();   ","version":"dev","tagName":"h3"},{"title":"Python‚Äã","type":1,"pageTitle":"ÂºïÁî®Ë∑üË∏™","url":"/zh-CN/docs/next/guide/xlang/reference_tracking#python","content":" fory = pyfory.Fory(xlang=True, ref_tracking=True)   ","version":"dev","tagName":"h3"},{"title":"Go‚Äã","type":1,"pageTitle":"ÂºïÁî®Ë∑üË∏™","url":"/zh-CN/docs/next/guide/xlang/reference_tracking#go","content":" fory := forygo.NewFory(true) // true enables ref tracking   ","version":"dev","tagName":"h3"},{"title":"C++‚Äã","type":1,"pageTitle":"ÂºïÁî®Ë∑üË∏™","url":"/zh-CN/docs/next/guide/xlang/reference_tracking#c","content":" auto fory = fory::Fory::create(fory::Config{ .ref_tracking = true });   ","version":"dev","tagName":"h3"},{"title":"Rust‚Äã","type":1,"pageTitle":"ÂºïÁî®Ë∑üË∏™","url":"/zh-CN/docs/next/guide/xlang/reference_tracking#rust","content":" let fory = Fory::builder() .with_ref_tracking(true) .build();   ","version":"dev","tagName":"h3"},{"title":"Á∫øÊ†ºÂºè‚Äã","type":1,"pageTitle":"ÂºïÁî®Ë∑üË∏™","url":"/zh-CN/docs/next/guide/xlang/reference_tracking#Á∫øÊ†ºÂºè","content":" When reference tracking is enabled, nullable fields write a ref flag byte before the value:  [ref_flag] [value data if not null/ref]   Where ref_flag is:  Value\tMeaning-1 (NULL_FLAG)\tValue is null -2 (NOT_NULL_VALUE_FLAG)\tValue is present, first occurrence ‚â•0\tReference ID pointing to previously serialized object  ","version":"dev","tagName":"h2"},{"title":"ÂºïÁî®Ë∑üË∏™‰∏éÂèØÁ©∫ÊÄß‚Äã","type":1,"pageTitle":"ÂºïÁî®Ë∑üË∏™","url":"/zh-CN/docs/next/guide/xlang/reference_tracking#ÂºïÁî®Ë∑üË∏™‰∏éÂèØÁ©∫ÊÄß","content":" These are independent concepts:  Concept\tPurpose\tControlled ByNullability\tWhether a field can hold null values\tField type (Optional&lt;T&gt;) or annotation Reference Tracking\tWhether duplicate objects are deduplicated\tGlobal refTracking option  Key behavior:  Ref flag bytes are only written for nullable fieldsNon-nullable fields skip ref flags entirely, even with refTracking=trueReference deduplication only applies to objects that appear multiple times  // Reference tracking enabled, but non-nullable fields still skip ref flags Fory fory = Fory.builder() .withLanguage(Language.XLANG) .withRefTracking(true) .build();   ","version":"dev","tagName":"h2"},{"title":"Per-Field Reference Tracking‚Äã","type":1,"pageTitle":"ÂºïÁî®Ë∑üË∏™","url":"/zh-CN/docs/next/guide/xlang/reference_tracking#per-field-reference-tracking","content":" By default, most fields do not track references even when global refTracking=true. Only specific pointer/smart pointer types track references by default.  ","version":"dev","tagName":"h2"},{"title":"ÈªòËÆ§Ë°å‰∏∫ by Language‚Äã","type":1,"pageTitle":"ÂºïÁî®Ë∑üË∏™","url":"/zh-CN/docs/next/guide/xlang/reference_tracking#ÈªòËÆ§Ë°å‰∏∫-by-language","content":" Language\tDefault Ref Tracking\tTypes That Track Refs by DefaultJava\tNo\tNone (use annotation to enable) Python\tNo\tNone (use annotation to enable) Go\tNo\tNone (use fory:&quot;ref&quot; to enable) C++\tNo\tstd::shared_ptr&lt;T&gt; Rust\tNo\tRc&lt;T&gt;, Arc&lt;T&gt;, Weak&lt;T&gt;  ","version":"dev","tagName":"h3"},{"title":"Customizing Per-Field Ref Tracking‚Äã","type":1,"pageTitle":"ÂºïÁî®Ë∑üË∏™","url":"/zh-CN/docs/next/guide/xlang/reference_tracking#customizing-per-field-ref-tracking","content":" Java: @ForyField Annotation‚Äã  public class Document { // Default: no ref tracking String title; // Enable ref tracking for this field @ForyField(trackingRef = true) Author author; // Shared across documents, track refs to avoid duplicates @ForyField(trackingRef = true) List&lt;Tag&gt; tags; }   C++: fory::field Wrapper‚Äã  struct Document { std::string title; // shared_ptr tracks refs by default std::shared_ptr&lt;Author&gt; author; // Explicitly enable ref tracking fory::field&lt;std::vector&lt;Tag&gt;, 1, fory::track_ref&lt;true&gt;&gt; tags; // Explicitly disable ref tracking fory::field&lt;std::shared_ptr&lt;Data&gt;, 2, fory::track_ref&lt;false&gt;&gt; data; }; FORY_STRUCT(Document, title, author, tags, data);   Rust: Field Attributes‚Äã  #[derive(Fory)] #[tag(&quot;example.Document&quot;)] struct Document { title: String, // Rc/Arc track refs by default author: Rc&lt;Author&gt;, // Explicitly enable ref tracking #[track_ref] tags: Vec&lt;Tag&gt;, }   Go: Struct Tags‚Äã  type Document struct { Title string // Enable ref tracking for pointer to struct Author *Author `fory:&quot;ref&quot;` // Enable ref tracking for slice Tags []Tag `fory:&quot;ref&quot;` }   ","version":"dev","tagName":"h3"},{"title":"When to Enable Per-Field Ref Tracking‚Äã","type":1,"pageTitle":"ÂºïÁî®Ë∑üË∏™","url":"/zh-CN/docs/next/guide/xlang/reference_tracking#when-to-enable-per-field-ref-tracking","content":" Enable ref tracking for fields that:  May contain the same object instance multiple timesAre part of circular reference chainsHold large objects that might be shared  Disable (or leave default) for fields that:  Always contain unique valuesAre primitives or simple value typesDon't participate in object sharing  ","version":"dev","tagName":"h3"},{"title":"Example: Shared References‚Äã","type":1,"pageTitle":"ÂºïÁî®Ë∑üË∏™","url":"/zh-CN/docs/next/guide/xlang/reference_tracking#example-shared-references","content":" public class Container { List&lt;String&gt; data; List&lt;String&gt; sameData; // Points to same list } Container obj = new Container(); obj.data = Arrays.asList(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;); obj.sameData = obj.data; // Shared reference // With refTracking=true: data serialized once, sameData stores reference ID // With refTracking=false: data serialized twice (duplicate)   ","version":"dev","tagName":"h2"},{"title":"Example: Circular References‚Äã","type":1,"pageTitle":"ÂºïÁî®Ë∑üË∏™","url":"/zh-CN/docs/next/guide/xlang/reference_tracking#example-circular-references","content":" public class Node { String value; Node next; } Node a = new Node(&quot;A&quot;); Node b = new Node(&quot;B&quot;); a.next = b; b.next = a; // Circular reference // With refTracking=true: works correctly // With refTracking=false: infinite recursion error   ","version":"dev","tagName":"h2"},{"title":"Language Support‚Äã","type":1,"pageTitle":"ÂºïÁî®Ë∑üË∏™","url":"/zh-CN/docs/next/guide/xlang/reference_tracking#language-support","content":" Language\tShared Refs\tCircular RefsJava\tYes\tYes Python\tYes\tYes Go\tYes\tYes C++\tYes\tYes JavaScript\tYes\tYes Rust\tYes\tNo (ownership rules)  ","version":"dev","tagName":"h2"},{"title":"Performance Considerations‚Äã","type":1,"pageTitle":"ÂºïÁî®Ë∑üË∏™","url":"/zh-CN/docs/next/guide/xlang/reference_tracking#performance-considerations","content":" Overhead: Reference tracking adds a hash map lookup per objectWhen to enable: Use when data has shared/circular referencesWhen to disable: Use for simple data structures without sharing  ","version":"dev","tagName":"h2"},{"title":"See Also‚Äã","type":1,"pageTitle":"ÂºïÁî®Ë∑üË∏™","url":"/zh-CN/docs/next/guide/xlang/reference_tracking#see-also","content":" Field Nullability - How nullability affects serializationSerialization - Basic cross-language serialization examplesXlang Specification - Binary protocol details ","version":"dev","tagName":"h2"},{"title":"Ë°åÊ†ºÂºè","type":0,"sectionRef":"#","url":"/zh-CN/docs/next/guide/xlang/row_format","content":"","keywords":"","version":"dev"},{"title":"ÁâπÊÄß‚Äã","type":1,"pageTitle":"Ë°åÊ†ºÂºè","url":"/zh-CN/docs/next/guide/xlang/row_format#ÁâπÊÄß","content":" Èõ∂Êã∑Ë¥ùÈöèÊú∫ËÆøÈóÆÔºöÁõ¥Êé•‰ªé‰∫åËøõÂà∂Êï∞ÊçÆ‰∏≠ËØªÂèñÁâπÂÆöÂ≠óÊÆµÈÉ®ÂàÜÂ∫èÂàóÂåñÔºöÂú®Â∫èÂàóÂåñÊúüÈó¥Ë∑≥Ëøá‰∏çÂøÖË¶ÅÁöÑÂ≠óÊÆµË∑®ËØ≠Ë®ÄÂÖºÂÆπÔºöË°åÊ†ºÂºèÊï∞ÊçÆÂèØ‰ª•Âú® Java„ÄÅPython Âíå C++ ‰πãÈó¥ÂÖ±‰∫´Apache Arrow ÈõÜÊàêÔºöÂ∞ÜË°åÊ†ºÂºè‰∏é Arrow RecordBatch Áõ∏‰∫íËΩ¨Êç¢‰ª•ËøõË°åÂàÜÊûêÔºàJava/PythonÔºâ  ","version":"dev","tagName":"h2"},{"title":"Java‚Äã","type":1,"pageTitle":"Ë°åÊ†ºÂºè","url":"/zh-CN/docs/next/guide/xlang/row_format#java","content":" public class Bar { String f1; List&lt;Long&gt; f2; } public class Foo { int f1; List&lt;Integer&gt; f2; Map&lt;String, Integer&gt; f3; List&lt;Bar&gt; f4; } RowEncoder&lt;Foo&gt; encoder = Encoders.bean(Foo.class); Foo foo = new Foo(); foo.f1 = 10; foo.f2 = IntStream.range(0, 1000000).boxed().collect(Collectors.toList()); foo.f3 = IntStream.range(0, 1000000).boxed().collect(Collectors.toMap(i -&gt; &quot;k&quot;+i, i-&gt;i)); List&lt;Bar&gt; bars = new ArrayList&lt;&gt;(1000000); for (int i = 0; i &lt; 1000000; i++) { Bar bar = new Bar(); bar.f1 = &quot;s&quot;+i; bar.f2 = LongStream.range(0, 10).boxed().collect(Collectors.toList()); bars.add(bar); } foo.f4 = bars; // ÂèØ‰ª•Ë¢´ Python Èõ∂Êã∑Ë¥ùËØªÂèñ BinaryRow binaryRow = encoder.toRow(foo); // ÂèØ‰ª•ÊòØÊù•Ëá™ Python ÁöÑÊï∞ÊçÆ Foo newFoo = encoder.fromRow(binaryRow); // Èõ∂Êã∑Ë¥ùËØªÂèñ List&lt;Integer&gt; f2 BinaryArray binaryArray2 = binaryRow.getArray(1); // Èõ∂Êã∑Ë¥ùËØªÂèñ List&lt;Bar&gt; f4 BinaryArray binaryArray4 = binaryRow.getArray(3); // Èõ∂Êã∑Ë¥ùËØªÂèñ List&lt;Bar&gt; f4 ÁöÑÁ¨¨ 11 ‰∏™ÂÖÉÁ¥† BinaryRow barStruct = binaryArray4.getStruct(10); // Èõ∂Êã∑Ë¥ùËØªÂèñ List&lt;Bar&gt; f4 ÁöÑÁ¨¨ 11 ‰∏™ÂÖÉÁ¥†ÁöÑ f2 ÁöÑÁ¨¨ 6 ‰∏™ÂÖÉÁ¥† barStruct.getArray(1).getInt64(5); RowEncoder&lt;Bar&gt; barEncoder = Encoders.bean(Bar.class); // ÂèçÂ∫èÂàóÂåñÈÉ®ÂàÜÊï∞ÊçÆ Bar newBar = barEncoder.fromRow(barStruct); Bar newBar2 = barEncoder.fromRow(binaryArray4.getStruct(20));   ","version":"dev","tagName":"h2"},{"title":"Python‚Äã","type":1,"pageTitle":"Ë°åÊ†ºÂºè","url":"/zh-CN/docs/next/guide/xlang/row_format#python","content":" @dataclass class Bar: f1: str f2: List[pa.int64] @dataclass class Foo: f1: pa.int32 f2: List[pa.int32] f3: Dict[str, pa.int32] f4: List[Bar] encoder = pyfory.encoder(Foo) foo = Foo(f1=10, f2=list(range(1000_000)), f3={f&quot;k{i}&quot;: i for i in range(1000_000)}, f4=[Bar(f1=f&quot;s{i}&quot;, f2=list(range(10))) for i in range(1000_000)]) binary: bytes = encoder.to_row(foo).to_bytes() print(f&quot;start: {datetime.datetime.now()}&quot;) foo_row = pyfory.RowData(encoder.schema, binary) print(foo_row.f2[100000], foo_row.f4[100000].f1, foo_row.f4[200000].f2[5]) print(f&quot;end: {datetime.datetime.now()}&quot;) binary = pickle.dumps(foo) print(f&quot;pickle start: {datetime.datetime.now()}&quot;) new_foo = pickle.loads(binary) print(new_foo.f2[100000], new_foo.f4[100000].f1, new_foo.f4[200000].f2[5]) print(f&quot;pickle end: {datetime.datetime.now()}&quot;)   ","version":"dev","tagName":"h2"},{"title":"Apache Arrow ÊîØÊåÅ‚Äã","type":1,"pageTitle":"Ë°åÊ†ºÂºè","url":"/zh-CN/docs/next/guide/xlang/row_format#apache-arrow-ÊîØÊåÅ","content":" Fory Ë°åÊ†ºÂºèÊîØÊåÅ‰ªé/Âà∞ Arrow Table/RecordBatch ÁöÑËá™Âä®ËΩ¨Êç¢Ôºå‰ª•Áî®‰∫éÂàÜÊûêÂ∑•‰ΩúË¥üËΩΩ„ÄÇ  ","version":"dev","tagName":"h2"},{"title":"Java‚Äã","type":1,"pageTitle":"Ë°åÊ†ºÂºè","url":"/zh-CN/docs/next/guide/xlang/row_format#java-1","content":" Schema schema = TypeInference.inferSchema(BeanA.class); ArrowWriter arrowWriter = ArrowUtils.createArrowWriter(schema); Encoder&lt;BeanA&gt; encoder = Encoders.rowEncoder(BeanA.class); for (int i = 0; i &lt; 10; i++) { BeanA beanA = BeanA.createBeanA(2); arrowWriter.write(encoder.toRow(beanA)); } return arrowWriter.finishAsRecordBatch();   ","version":"dev","tagName":"h3"},{"title":"Python‚Äã","type":1,"pageTitle":"Ë°åÊ†ºÂºè","url":"/zh-CN/docs/next/guide/xlang/row_format#python-1","content":" import pyfory encoder = pyfory.encoder(Foo) encoder.to_arrow_record_batch([foo] * 10000) encoder.to_arrow_table([foo] * 10000)   ","version":"dev","tagName":"h3"},{"title":"Êé•Âè£ÂíåÊâ©Â±ïÁ±ªÂûãÁöÑÊîØÊåÅ‚Äã","type":1,"pageTitle":"Ë°åÊ†ºÂºè","url":"/zh-CN/docs/next/guide/xlang/row_format#Êé•Âè£ÂíåÊâ©Â±ïÁ±ªÂûãÁöÑÊîØÊåÅ","content":" Fory ÊîØÊåÅ Java interface Á±ªÂûãÂíåÂ≠êÁ±ªÔºàextendsÔºâÁ±ªÂûãÁöÑË°åÊ†ºÂºèÊò†Â∞ÑÔºåÂÆûÁé∞Êõ¥Âä®ÊÄÅÂíåÁÅµÊ¥ªÁöÑÊï∞ÊçÆ schema„ÄÇ  Ëøô‰∫õÂ¢ûÂº∫ÂäüËÉΩÂú® #2243„ÄÅ#2250 Âíå #2256 ‰∏≠ÂºïÂÖ•„ÄÇ  ","version":"dev","tagName":"h2"},{"title":"Á§∫‰æãÔºö‰ΩøÁî® RowEncoder ÁöÑÊé•Âè£Êò†Â∞Ñ‚Äã","type":1,"pageTitle":"Ë°åÊ†ºÂºè","url":"/zh-CN/docs/next/guide/xlang/row_format#Á§∫‰æã‰ΩøÁî®-rowencoder-ÁöÑÊé•Âè£Êò†Â∞Ñ","content":" public interface Animal { String speak(); } public class Dog implements Animal { public String name; @Override public String speak() { return &quot;Woof&quot;; } } // ‰ΩøÁî®Êé•Âè£Á±ªÂûãÁöÑ RowEncoder ËøõË°åÁºñÁ†ÅÂíåËß£Á†Å RowEncoder&lt;Animal&gt; encoder = Encoders.bean(Animal.class); Dog dog = new Dog(); dog.name = &quot;Bingo&quot;; BinaryRow row = encoder.toRow(dog); Animal decoded = encoder.fromRow(row); System.out.println(decoded.speak()); // Woof   ","version":"dev","tagName":"h3"},{"title":"Á§∫‰æãÔºö‰ΩøÁî® RowEncoder ÁöÑÊâ©Â±ïÁ±ªÂûã‚Äã","type":1,"pageTitle":"Ë°åÊ†ºÂºè","url":"/zh-CN/docs/next/guide/xlang/row_format#Á§∫‰æã‰ΩøÁî®-rowencoder-ÁöÑÊâ©Â±ïÁ±ªÂûã","content":" public class Parent { public String parentField; } public class Child extends Parent { public String childField; } // ‰ΩøÁî®Áà∂Á±ªÁ±ªÂûãÁöÑ RowEncoder ËøõË°åÁºñÁ†ÅÂíåËß£Á†Å RowEncoder&lt;Parent&gt; encoder = Encoders.bean(Parent.class); Child child = new Child(); child.parentField = &quot;Hello&quot;; child.childField = &quot;World&quot;; BinaryRow row = encoder.toRow(child); Parent decoded = encoder.fromRow(row);   ","version":"dev","tagName":"h3"},{"title":"Âè¶ËØ∑ÂèÇÈòÖ‚Äã","type":1,"pageTitle":"Ë°åÊ†ºÂºè","url":"/zh-CN/docs/next/guide/xlang/row_format#Âè¶ËØ∑ÂèÇÈòÖ","content":" Ë°åÊ†ºÂºèËßÑËåÉ - ‰∫åËøõÂà∂Ê†ºÂºèËØ¶ÊÉÖJava Ë°åÊ†ºÂºèÊåáÂçó - Java ÁâπÂÆöÁöÑË°åÊ†ºÂºèÊñáÊ°£Python Ë°åÊ†ºÂºèÊåáÂçó - Python ÁâπÂÆöÁöÑË°åÊ†ºÂºèÊñáÊ°£ ","version":"dev","tagName":"h2"},{"title":"Â≠óÊÆµÁ±ªÂûãÂÖÉ‰ø°ÊÅØ","type":0,"sectionRef":"#","url":"/zh-CN/docs/next/guide/xlang/field_type_meta","content":"","keywords":"","version":"dev"},{"title":"Ê¶ÇËø∞‚Äã","type":1,"pageTitle":"Â≠óÊÆµÁ±ªÂûãÂÖÉ‰ø°ÊÅØ","url":"/zh-CN/docs/next/guide/xlang/field_type_meta#Ê¶ÇËø∞","content":" When serializing a struct field, Fory needs to determine whether to write type metadata:  Static typing: Use the declared field type's serializer directly (no type info written)Dynamic typing: Write type information to support runtime subtypes  ","version":"dev","tagName":"h2"},{"title":"‰ΩïÊó∂ÈúÄË¶ÅÁ±ªÂûãÂÖÉ‰ø°ÊÅØ‚Äã","type":1,"pageTitle":"Â≠óÊÆµÁ±ªÂûãÂÖÉ‰ø°ÊÅØ","url":"/zh-CN/docs/next/guide/xlang/field_type_meta#‰ΩïÊó∂ÈúÄË¶ÅÁ±ªÂûãÂÖÉ‰ø°ÊÅØ","content":" Type metadata is required when:  Interface/abstract fields: The declared type is abstract, so concrete type must be recordedPolymorphic fields: The runtime type may be a subclass of the declared typeCross-language compatibility: When the receiver needs type information to deserialize correctly  Type metadata is NOT needed when:  Final/concrete types: The declared type is final/sealed and cannot be subclassedPrimitive types: Type is known at compile timePerformance optimization: When you know the runtime type always matches the declared type  ","version":"dev","tagName":"h2"},{"title":"ÂêÑËØ≠Ë®ÄÈÖçÁΩÆ‚Äã","type":1,"pageTitle":"Â≠óÊÆµÁ±ªÂûãÂÖÉ‰ø°ÊÅØ","url":"/zh-CN/docs/next/guide/xlang/field_type_meta#ÂêÑËØ≠Ë®ÄÈÖçÁΩÆ","content":" ","version":"dev","tagName":"h2"},{"title":"Java‚Äã","type":1,"pageTitle":"Â≠óÊÆµÁ±ªÂûãÂÖÉ‰ø°ÊÅØ","url":"/zh-CN/docs/next/guide/xlang/field_type_meta#java","content":" Java requires explicit configuration because concrete classes can be subclassed unless marked final.  Use the @ForyField annotation with the dynamic parameter:  import org.apache.fory.annotation.ForyField; import org.apache.fory.annotation.ForyField.Dynamic; public class Container { // AUTO (default): Interface types write type info, concrete types don't @ForyField(id = 0) private Shape shape; // Interface - type info written // FALSE: Never write type info (use declared type's serializer) @ForyField(id = 1, dynamic = Dynamic.FALSE) private Circle circle; // Always treated as Circle // TRUE: Always write type info (support runtime subtypes) @ForyField(id = 2, dynamic = Dynamic.TRUE) private Shape concreteShape; // Type info written even if concrete }   Dynamic Options:  Value\tBehaviorAUTO\tInterface/abstract types are dynamic, concrete are not FALSE\tNever write type info, use declared type's serializer TRUE\tAlways write type info to support runtime subtypes  Use Cases:  AUTO: Default behavior, suitable for most casesFALSE: Performance optimization when you know the exact typeTRUE: When a concrete field may hold subclass instances  ","version":"dev","tagName":"h3"},{"title":"C++‚Äã","type":1,"pageTitle":"Â≠óÊÆµÁ±ªÂûãÂÖÉ‰ø°ÊÅØ","url":"/zh-CN/docs/next/guide/xlang/field_type_meta#c","content":" C++ uses the fory::dynamic&lt;V&gt; template tag or .dynamic(bool) builder method:  Using fory::field&lt;&gt; template:  #include &quot;fory/serialization/fory.h&quot; // Abstract base class with pure virtual methods struct Animal { virtual ~Animal() = default; virtual std::string speak() const = 0; }; struct Zoo { // Auto: type info written because Animal is polymorphic (std::is_polymorphic) fory::field&lt;std::shared_ptr&lt;Animal&gt;, 0, fory::nullable&gt; animal; // Force non-dynamic: skip type info even though Animal is polymorphic fory::field&lt;std::shared_ptr&lt;Animal&gt;, 1, fory::nullable, fory::dynamic&lt;false&gt;&gt; fixed_animal; // Force dynamic: write type info even for non-polymorphic types fory::field&lt;std::shared_ptr&lt;Data&gt;, 2, fory::dynamic&lt;true&gt;&gt; polymorphic_data; }; FORY_STRUCT(Zoo, animal, fixed_animal, polymorphic_data);   Using FORY_FIELD_CONFIG macro:  struct Zoo { std::shared_ptr&lt;Animal&gt; animal; std::shared_ptr&lt;Animal&gt; fixed_animal; std::shared_ptr&lt;Data&gt; polymorphic_data; }; FORY_STRUCT(Zoo, animal, fixed_animal, polymorphic_data); FORY_FIELD_CONFIG(Zoo, (animal, fory::F(0).nullable()), // Auto-detect polymorphism (fixed_animal, fory::F(1).nullable().dynamic(false)), // Skip type info (polymorphic_data, fory::F(2).dynamic(true)) // Force type info );   Default Behavior: Fory auto-detects polymorphism via std::is_polymorphic&lt;T&gt;. Types with pure virtual methods are treated as dynamic by default.  ","version":"dev","tagName":"h3"},{"title":"Go and Rust‚Äã","type":1,"pageTitle":"Â≠óÊÆµÁ±ªÂûãÂÖÉ‰ø°ÊÅØ","url":"/zh-CN/docs/next/guide/xlang/field_type_meta#go-and-rust","content":" Go and Rust do not require explicit dynamic configuration because:  Go: Interface types are inherently dynamic - Fory can determine from the type whether it's an interfaceRust: Trait objects (dyn Trait) are explicitly marked in the type system  The type system in these languages already indicates whether a field is polymorphic:  // Go: interface types are automatically dynamic type Container struct { Shape Shape // Interface - type info written automatically Circle Circle // Concrete struct - no type info needed }   // Rust: trait objects are explicitly marked struct Container { shape: Box&lt;dyn Shape&gt;, // Trait object - type info written automatically circle: Circle, // Concrete type - no type info needed }   ","version":"dev","tagName":"h3"},{"title":"Python‚Äã","type":1,"pageTitle":"Â≠óÊÆµÁ±ªÂûãÂÖÉ‰ø°ÊÅØ","url":"/zh-CN/docs/next/guide/xlang/field_type_meta#python","content":" Use pyfory.field() with the dynamic parameter:  from dataclasses import dataclass from abc import ABC, abstractmethod import pyfory class Shape(ABC): @abstractmethod def area(self) -&gt; float: pass @dataclass class Circle(Shape): radius: float = 0.0 def area(self) -&gt; float: return 3.14159 * self.radius * self.radius @dataclass class Container: # Abstract class: dynamic is always True (type info written) shape: Shape = pyfory.field(id=0) # Concrete type with explicit dynamic=True (force type info) circle: Circle = pyfory.field(id=1, dynamic=True) # Concrete type with explicit dynamic=False (skip type info) fixed_circle: Circle = pyfory.field(id=2, dynamic=False)   Default Behavior:  Mode\tAbstract Class\tConcrete Object Types\tNumeric/str/time TypesNative mode\tTrue\tTrue\tFalse Xlang mode\tTrue\tFalse\tFalse  Abstract classes: dynamic is always True (type info must be written)Native mode: dynamic defaults to True for object types, False for numeric/str/time typesXlang mode: dynamic defaults to False for concrete types  ","version":"dev","tagName":"h3"},{"title":"ÈªòËÆ§Ë°å‰∏∫‚Äã","type":1,"pageTitle":"Â≠óÊÆµÁ±ªÂûãÂÖÉ‰ø°ÊÅØ","url":"/zh-CN/docs/next/guide/xlang/field_type_meta#ÈªòËÆ§Ë°å‰∏∫","content":" Language\tInterface/Abstract Types\tConcrete TypesJava\tDynamic (write type)\tStatic (no type) C++\tDynamic (virtual)\tStatic Go\tDynamic (interface)\tStatic (struct) Rust\tDynamic (dyn Trait)\tStatic Python\tDynamic (all objects)\tDynamic  ","version":"dev","tagName":"h2"},{"title":"Performance Considerations‚Äã","type":1,"pageTitle":"Â≠óÊÆµÁ±ªÂûãÂÖÉ‰ø°ÊÅØ","url":"/zh-CN/docs/next/guide/xlang/field_type_meta#performance-considerations","content":" Writing type metadata has overhead:  Space: Type information adds bytes to serialized outputTime: Type resolution during serialization/deserialization  Use dynamic = FALSE (Java) or dynamic(false) (C++) when:  You're certain the runtime type matches the declared typePerformance is critical and polymorphism is not neededThe field type is effectively final  ","version":"dev","tagName":"h2"},{"title":"Cross-Language Compatibility‚Äã","type":1,"pageTitle":"Â≠óÊÆµÁ±ªÂûãÂÖÉ‰ø°ÊÅØ","url":"/zh-CN/docs/next/guide/xlang/field_type_meta#cross-language-compatibility","content":" When serializing data for cross-language consumption:  Use consistent type registration: Register types with the same ID across languagesPrefer explicit configuration: Use dynamic = TRUE when unsure about receiver's expectationsDocument polymorphic fields: Make it clear which fields may contain subtypes  ","version":"dev","tagName":"h2"},{"title":"Example: Polymorphic Container‚Äã","type":1,"pageTitle":"Â≠óÊÆµÁ±ªÂûãÂÖÉ‰ø°ÊÅØ","url":"/zh-CN/docs/next/guide/xlang/field_type_meta#example-polymorphic-container","content":" ","version":"dev","tagName":"h2"},{"title":"Java‚Äã","type":1,"pageTitle":"Â≠óÊÆµÁ±ªÂûãÂÖÉ‰ø°ÊÅØ","url":"/zh-CN/docs/next/guide/xlang/field_type_meta#java-1","content":" public interface Animal { String speak(); } public class Dog implements Animal { private String name; @Override public String speak() { return &quot;Woof!&quot;; } } public class Cat implements Animal { private String name; @Override public String speak() { return &quot;Meow!&quot;; } } public class Zoo { // Type info written because Animal is an interface @ForyField(id = 0) private Animal animal; // Force type info for concrete type that may hold subtypes @ForyField(id = 1, dynamic = Dynamic.TRUE) private Dog maybeMixedBreed; }   ","version":"dev","tagName":"h3"},{"title":"C++‚Äã","type":1,"pageTitle":"Â≠óÊÆµÁ±ªÂûãÂÖÉ‰ø°ÊÅØ","url":"/zh-CN/docs/next/guide/xlang/field_type_meta#c-1","content":" // Abstract base class with pure virtual methods class Animal { public: virtual std::string speak() const = 0; virtual ~Animal() = default; }; class Dog : public Animal { public: std::string name; std::string speak() const override { return &quot;Woof!&quot;; } }; struct Zoo { std::shared_ptr&lt;Animal&gt; animal; std::shared_ptr&lt;Dog&gt; maybe_mixed_breed; }; FORY_STRUCT(Zoo, animal, maybe_mixed_breed); FORY_FIELD_CONFIG(Zoo, (animal, fory::F(0).nullable()), // Auto-detect (Animal is polymorphic) (maybe_mixed_breed, fory::F(1).dynamic(true)) // Force dynamic for concrete type );   ","version":"dev","tagName":"h3"},{"title":"Related Topics‚Äã","type":1,"pageTitle":"Â≠óÊÆµÁ±ªÂûãÂÖÉ‰ø°ÊÅØ","url":"/zh-CN/docs/next/guide/xlang/field_type_meta#related-topics","content":" Field Nullability - Controlling null handling for fieldsField Reference Tracking - Managing shared/circular referencesType Mapping - Cross-language type compatibility ","version":"dev","tagName":"h2"},{"title":"ÂÖ•Èó®ÊåáÂçó","type":0,"sectionRef":"#","url":"/zh-CN/docs/next/guide/xlang/xlang_getting_started","content":"","keywords":"","version":"dev"},{"title":"ÂÆâË£Ö‚Äã","type":1,"pageTitle":"ÂÖ•Èó®ÊåáÂçó","url":"/zh-CN/docs/next/guide/xlang/xlang_getting_started#ÂÆâË£Ö","content":" ","version":"dev","tagName":"h2"},{"title":"Java‚Äã","type":1,"pageTitle":"ÂÖ•Èó®ÊåáÂçó","url":"/zh-CN/docs/next/guide/xlang/xlang_getting_started#java","content":" MavenÔºö  &lt;dependency&gt; &lt;groupId&gt;org.apache.fory&lt;/groupId&gt; &lt;artifactId&gt;fory-core&lt;/artifactId&gt; &lt;version&gt;0.14.1&lt;/version&gt; &lt;/dependency&gt;   GradleÔºö  implementation 'org.apache.fory:fory-core:0.14.1'   ","version":"dev","tagName":"h3"},{"title":"Python‚Äã","type":1,"pageTitle":"ÂÖ•Èó®ÊåáÂçó","url":"/zh-CN/docs/next/guide/xlang/xlang_getting_started#python","content":" pip install pyfory   ","version":"dev","tagName":"h3"},{"title":"Go‚Äã","type":1,"pageTitle":"ÂÖ•Èó®ÊåáÂçó","url":"/zh-CN/docs/next/guide/xlang/xlang_getting_started#go","content":" go get github.com/apache/fory/go/fory   ","version":"dev","tagName":"h3"},{"title":"Rust‚Äã","type":1,"pageTitle":"ÂÖ•Èó®ÊåáÂçó","url":"/zh-CN/docs/next/guide/xlang/xlang_getting_started#rust","content":" [dependencies] fory = &quot;0.14&quot;   ","version":"dev","tagName":"h3"},{"title":"JavaScript‚Äã","type":1,"pageTitle":"ÂÖ•Èó®ÊåáÂçó","url":"/zh-CN/docs/next/guide/xlang/xlang_getting_started#javascript","content":" npm install @apache-fory/fory   ","version":"dev","tagName":"h3"},{"title":"C++‚Äã","type":1,"pageTitle":"ÂÖ•Èó®ÊåáÂçó","url":"/zh-CN/docs/next/guide/xlang/xlang_getting_started#c","content":" ‰ΩøÁî® Bazel Êàñ CMake ‰ªéÊ∫ê‰ª£Á†ÅÊûÑÂª∫„ÄÇÊúâÂÖ≥ËØ¶ÁªÜ‰ø°ÊÅØÔºåËØ∑ÂèÇÈòÖ C++ ÊåáÂçó„ÄÇ  ","version":"dev","tagName":"h3"},{"title":"ÂêØÁî®Ë∑®ËØ≠Ë®ÄÊ®°Âºè‚Äã","type":1,"pageTitle":"ÂÖ•Èó®ÊåáÂçó","url":"/zh-CN/docs/next/guide/xlang/xlang_getting_started#ÂêØÁî®Ë∑®ËØ≠Ë®ÄÊ®°Âºè","content":" ÊØèÁßçËØ≠Ë®ÄÈÉΩÈúÄË¶ÅÂêØÁî® xlang Ê®°Âºè‰ª•Á°Æ‰øùË∑®ËØ≠Ë®ÄÁöÑ‰∫åËøõÂà∂ÂÖºÂÆπÊÄß„ÄÇ  ","version":"dev","tagName":"h2"},{"title":"Java‚Äã","type":1,"pageTitle":"ÂÖ•Èó®ÊåáÂçó","url":"/zh-CN/docs/next/guide/xlang/xlang_getting_started#java-1","content":" import org.apache.fory.*; import org.apache.fory.config.*; Fory fory = Fory.builder() .withLanguage(Language.XLANG) // ÂêØÁî®Ë∑®ËØ≠Ë®ÄÊ®°Âºè .withRefTracking(true) // ÂèØÈÄâÔºöÁî®‰∫éÂæ™ÁéØÂºïÁî® .build();   ","version":"dev","tagName":"h3"},{"title":"Python‚Äã","type":1,"pageTitle":"ÂÖ•Èó®ÊåáÂçó","url":"/zh-CN/docs/next/guide/xlang/xlang_getting_started#python-1","content":" import pyfory # xlang Ê®°ÂºèÈªòËÆ§ÂêØÁî® fory = pyfory.Fory() # ÊòæÂºèÈÖçÁΩÆ fory = pyfory.Fory(ref_tracking=True)   ","version":"dev","tagName":"h3"},{"title":"Go‚Äã","type":1,"pageTitle":"ÂÖ•Èó®ÊåáÂçó","url":"/zh-CN/docs/next/guide/xlang/xlang_getting_started#go-1","content":" import forygo &quot;github.com/apache/fory/go/fory&quot; fory := forygo.NewFory() // ÊàñÂêØÁî®ÂºïÁî®Ë∑üË∏™ fory := forygo.NewFory(true)   ","version":"dev","tagName":"h3"},{"title":"Rust‚Äã","type":1,"pageTitle":"ÂÖ•Èó®ÊåáÂçó","url":"/zh-CN/docs/next/guide/xlang/xlang_getting_started#rust-1","content":" use fory::Fory; let fory = Fory::default();   ","version":"dev","tagName":"h3"},{"title":"JavaScript‚Äã","type":1,"pageTitle":"ÂÖ•Èó®ÊåáÂçó","url":"/zh-CN/docs/next/guide/xlang/xlang_getting_started#javascript-1","content":" import Fory from &quot;@apache-fory/fory&quot;; const fory = new Fory();   ","version":"dev","tagName":"h3"},{"title":"C++‚Äã","type":1,"pageTitle":"ÂÖ•Èó®ÊåáÂçó","url":"/zh-CN/docs/next/guide/xlang/xlang_getting_started#c-1","content":" #include &quot;fory/serialization/fory.h&quot; using namespace fory::serialization; auto fory = Fory::builder() .xlang(true) .build();   ","version":"dev","tagName":"h3"},{"title":"Á±ªÂûãÊ≥®ÂÜå‚Äã","type":1,"pageTitle":"ÂÖ•Èó®ÊåáÂçó","url":"/zh-CN/docs/next/guide/xlang/xlang_getting_started#Á±ªÂûãÊ≥®ÂÜå","content":" Ëá™ÂÆö‰πâÁ±ªÂûãÂøÖÈ°ªÂú®ÊâÄÊúâËØ≠Ë®Ä‰∏≠‰ΩøÁî®‰∏ÄËá¥ÁöÑÂêçÁß∞Êàñ ID ËøõË°åÊ≥®ÂÜå„ÄÇ  ","version":"dev","tagName":"h2"},{"title":"ÊåâÂêçÁß∞Ê≥®ÂÜåÔºàÊé®ËçêÔºâ‚Äã","type":1,"pageTitle":"ÂÖ•Èó®ÊåáÂçó","url":"/zh-CN/docs/next/guide/xlang/xlang_getting_started#ÊåâÂêçÁß∞Ê≥®ÂÜåÊé®Ëçê","content":" ‰ΩøÁî®Â≠óÁ¨¶‰∏≤ÂêçÁß∞Êõ¥ÁÅµÊ¥ªÔºå‰∏çÊòì‰∫ßÁîüÂÜ≤Á™ÅÔºö  JavaÔºö  fory.register(Person.class, &quot;example.Person&quot;);   PythonÔºö  fory.register_type(Person, typename=&quot;example.Person&quot;)   GoÔºö  fory.RegisterNamedType(Person{}, &quot;example.Person&quot;)   RustÔºö  #[derive(Fory)] #[tag(&quot;example.Person&quot;)] struct Person { name: String, age: i32, }   JavaScriptÔºö  const description = Type.object(&quot;example.Person&quot;, { name: Type.string(), age: Type.int32(), }); fory.registerSerializer(description);   C++Ôºö  fory.register_struct&lt;Person&gt;(&quot;example.Person&quot;); // ÂØπ‰∫éÊûö‰∏æÔºå‰ΩøÁî® register_enumÔºö // fory.register_enum&lt;Color&gt;(&quot;example.Color&quot;);   ","version":"dev","tagName":"h3"},{"title":"Êåâ ID Ê≥®ÂÜå‚Äã","type":1,"pageTitle":"ÂÖ•Èó®ÊåáÂçó","url":"/zh-CN/docs/next/guide/xlang/xlang_getting_started#Êåâ-id-Ê≥®ÂÜå","content":" ‰ΩøÁî®Êï∞Â≠ó ID Êõ¥Âø´ÔºåÁîüÊàêÁöÑ‰∫åËøõÂà∂ËæìÂá∫Êõ¥Â∞èÔºö  JavaÔºö  fory.register(Person.class, 100);   PythonÔºö  fory.register_type(Person, type_id=100)   GoÔºö  fory.Register(Person{}, 100)   C++Ôºö  fory.register_struct&lt;Person&gt;(100); // ÂØπ‰∫éÊûö‰∏æÔºå‰ΩøÁî® register_enumÔºö // fory.register_enum&lt;Color&gt;(101);   ","version":"dev","tagName":"h3"},{"title":"Hello World Á§∫‰æã‚Äã","type":1,"pageTitle":"ÂÖ•Èó®ÊåáÂçó","url":"/zh-CN/docs/next/guide/xlang/xlang_getting_started#hello-world-Á§∫‰æã","content":" ‰∏Ä‰∏™ÂÆåÊï¥ÁöÑÁ§∫‰æãÔºåÂ±ïÁ§∫‰∫ÜÂú® Java ‰∏≠Â∫èÂàóÂåñÂπ∂Âú® Python ‰∏≠ÂèçÂ∫èÂàóÂåñÔºö  ","version":"dev","tagName":"h2"},{"title":"JavaÔºàÂ∫èÂàóÂåñÂô®Ôºâ‚Äã","type":1,"pageTitle":"ÂÖ•Èó®ÊåáÂçó","url":"/zh-CN/docs/next/guide/xlang/xlang_getting_started#javaÂ∫èÂàóÂåñÂô®","content":" import org.apache.fory.*; import org.apache.fory.config.*; import java.nio.file.*; public class Person { public String name; public int age; } public class HelloWorld { public static void main(String[] args) throws Exception { Fory fory = Fory.builder() .withLanguage(Language.XLANG) .build(); fory.register(Person.class, &quot;example.Person&quot;); Person person = new Person(); person.name = &quot;Alice&quot;; person.age = 30; byte[] bytes = fory.serialize(person); Files.write(Path.of(&quot;person.bin&quot;), bytes); System.out.println(&quot;Serialized to person.bin&quot;); } }   ","version":"dev","tagName":"h3"},{"title":"PythonÔºàÂèçÂ∫èÂàóÂåñÂô®Ôºâ‚Äã","type":1,"pageTitle":"ÂÖ•Èó®ÊåáÂçó","url":"/zh-CN/docs/next/guide/xlang/xlang_getting_started#pythonÂèçÂ∫èÂàóÂåñÂô®","content":" import pyfory from dataclasses import dataclass @dataclass class Person: name: str age: pyfory.Int32Type fory = pyfory.Fory() fory.register_type(Person, typename=&quot;example.Person&quot;) with open(&quot;person.bin&quot;, &quot;rb&quot;) as f: data = f.read() person = fory.deserialize(data) print(f&quot;Name: {person.name}, Age: {person.age}&quot;) # ËæìÂá∫: Name: Alice, Age: 30   ","version":"dev","tagName":"h3"},{"title":"ÊúÄ‰Ω≥ÂÆûË∑µ‚Äã","type":1,"pageTitle":"ÂÖ•Èó®ÊåáÂçó","url":"/zh-CN/docs/next/guide/xlang/xlang_getting_started#ÊúÄ‰Ω≥ÂÆûË∑µ","content":" ‰ΩøÁî®‰∏ÄËá¥ÁöÑÁ±ªÂûãÂêçÁß∞ÔºöÁ°Æ‰øùÊâÄÊúâËØ≠Ë®Ä‰ΩøÁî®Áõ∏ÂêåÁöÑÁ±ªÂûãÂêçÁß∞Êàñ IDÂêØÁî®ÂºïÁî®Ë∑üË∏™ÔºöÂ¶ÇÊûúÊï∞ÊçÆÂåÖÂê´Âæ™ÁéØÂºïÁî®ÊàñÂÖ±‰∫´ÂºïÁî®ÈáçÁî® Fory ÂÆû‰æãÔºöÂàõÂª∫ Fory ÁöÑÊàêÊú¨ËæÉÈ´òÔºõÂ∫îÈáçÁî®ÂÆû‰æã‰ΩøÁî®Á±ªÂûãÊ≥®Ëß£ÔºöÂú® Python ‰∏≠Ôºå‰ΩøÁî® pyfory.Int32Type Á≠âËøõË°åÁ≤æÁ°ÆÁ±ªÂûãÊò†Â∞ÑÊµãËØïË∑®ËØ≠Ë®ÄÔºöÈ™åËØÅÂ∫èÂàóÂåñÂú®ÊâÄÊúâÁõÆÊ†áËØ≠Ë®Ä‰∏≠ÈÉΩËÉΩÊ≠£Â∏∏Â∑•‰Ωú  ","version":"dev","tagName":"h2"},{"title":"ÂêéÁª≠Ê≠•È™§‚Äã","type":1,"pageTitle":"ÂÖ•Èó®ÊåáÂçó","url":"/zh-CN/docs/next/guide/xlang/xlang_getting_started#ÂêéÁª≠Ê≠•È™§","content":" Á±ªÂûãÊò†Â∞Ñ - Ë∑®ËØ≠Ë®ÄÁ±ªÂûãÊò†Â∞ÑÂèÇËÄÉÂ∫èÂàóÂåñ - ËØ¶ÁªÜÁöÑÂ∫èÂàóÂåñÁ§∫‰æãÊïÖÈöúÊéíÊü• - Â∏∏ËßÅÈóÆÈ¢òÂèäËß£ÂÜ≥ÊñπÊ°à ","version":"dev","tagName":"h2"},{"title":"ÊïÖÈöúÊéíÊü•","type":0,"sectionRef":"#","url":"/zh-CN/docs/next/guide/xlang/xlang_troubleshooting","content":"","keywords":"","version":"dev"},{"title":"Á±ªÂûãÊ≥®ÂÜåÈîôËØØ‚Äã","type":1,"pageTitle":"ÊïÖÈöúÊéíÊü•","url":"/zh-CN/docs/next/guide/xlang/xlang_troubleshooting#Á±ªÂûãÊ≥®ÂÜåÈîôËØØ","content":" ","version":"dev","tagName":"h2"},{"title":"\"Á±ªÂûãÊú™Ê≥®ÂÜå\"ÈîôËØØ‚Äã","type":1,"pageTitle":"ÊïÖÈöúÊéíÊü•","url":"/zh-CN/docs/next/guide/xlang/xlang_troubleshooting#Á±ªÂûãÊú™Ê≥®ÂÜåÈîôËØØ","content":" ÁóáÁä∂Ôºö  Error: Type 'example.Person' is not registered   ÂéüÂõ†Ôºö Âú®ÂèçÂ∫èÂàóÂåñ‰πãÂâçÊú™Ê≥®ÂÜåÁ±ªÂûãÔºåÊàñÁ±ªÂûãÂêçÁß∞‰∏çÂåπÈÖç„ÄÇ  Ëß£ÂÜ≥ÊñπÊ°àÔºö  Á°Æ‰øùÁ±ªÂûãÂú®ÂèåÊñπ‰ΩøÁî®Áõ∏ÂêåÁöÑÂêçÁß∞Ê≥®ÂÜåÔºö // Java fory.register(Person.class, &quot;example.Person&quot;); # Python fory.register_type(Person, typename=&quot;example.Person&quot;) Ê£ÄÊü•Á±ªÂûãÂêçÁß∞‰∏≠ÁöÑÊãºÂÜôÈîôËØØÊàñÂ§ßÂ∞èÂÜôÂ∑ÆÂºÇ Âú®‰ªª‰ΩïÂ∫èÂàóÂåñ/ÂèçÂ∫èÂàóÂåñË∞ÉÁî®‰πãÂâçÊ≥®ÂÜåÁ±ªÂûã  ","version":"dev","tagName":"h3"},{"title":"\"Á±ªÂûã ID ‰∏çÂåπÈÖç\"ÈîôËØØ‚Äã","type":1,"pageTitle":"ÊïÖÈöúÊéíÊü•","url":"/zh-CN/docs/next/guide/xlang/xlang_troubleshooting#Á±ªÂûã-id-‰∏çÂåπÈÖçÈîôËØØ","content":" ÁóáÁä∂Ôºö  Error: Expected type ID 100, got 101   ÂéüÂõ†Ôºö Ë∑®ËØ≠Ë®Ä‰ΩøÁî®‰∫Ü‰∏çÂêåÁöÑÁ±ªÂûã ID„ÄÇ  Ëß£ÂÜ≥ÊñπÊ°àÔºö ‰ΩøÁî®‰∏ÄËá¥ÁöÑÁ±ªÂûã IDÔºö  // Java fory.register(Person.class, 100); fory.register(Address.class, 101);   # Python fory.register_type(Person, type_id=100) fory.register_type(Address, type_id=101)   ","version":"dev","tagName":"h3"},{"title":"Á±ªÂûãÊò†Â∞ÑÈóÆÈ¢ò‚Äã","type":1,"pageTitle":"ÊïÖÈöúÊéíÊü•","url":"/zh-CN/docs/next/guide/xlang/xlang_troubleshooting#Á±ªÂûãÊò†Â∞ÑÈóÆÈ¢ò","content":" ","version":"dev","tagName":"h2"},{"title":"Êï¥Êï∞Ê∫¢Âá∫‚Äã","type":1,"pageTitle":"ÊïÖÈöúÊéíÊü•","url":"/zh-CN/docs/next/guide/xlang/xlang_troubleshooting#Êï¥Êï∞Ê∫¢Âá∫","content":" ÁóáÁä∂Ôºö ÂÄºË¢´Êà™Êñ≠ÊàñÊÑèÂ§ñÂåÖË£Ö„ÄÇ  ÂéüÂõ†Ôºö Ë∑®ËØ≠Ë®Ä‰ΩøÁî®‰∫Ü‰∏çÂêåÁöÑÊï¥Êï∞Â§ßÂ∞è„ÄÇ  Ëß£ÂÜ≥ÊñπÊ°àÔºö  Âú® Python ‰∏≠Ôºå‰ΩøÁî®ÊòæÂºèÁ±ªÂûãÊ≥®Ëß£Ôºö @dataclass class Data: value: pyfory.Int32Type # ËÄå‰∏ç‰ªÖ‰ªÖÊòØ 'int' Á°Æ‰øùÊï¥Êï∞ËåÉÂõ¥ÂÖºÂÆπÔºö int8Ôºö-128 Âà∞ 127int16Ôºö-32,768 Âà∞ 32,767int32Ôºö-2,147,483,648 Âà∞ 2,147,483,647  ","version":"dev","tagName":"h3"},{"title":"ÊµÆÁÇπÁ≤æÂ∫¶ÊçüÂ§±‚Äã","type":1,"pageTitle":"ÊïÖÈöúÊéíÊü•","url":"/zh-CN/docs/next/guide/xlang/xlang_troubleshooting#ÊµÆÁÇπÁ≤æÂ∫¶ÊçüÂ§±","content":" ÁóáÁä∂Ôºö ÊµÆÁÇπÂÄºÁöÑÁ≤æÂ∫¶Âá∫‰πéÊÑèÊñô„ÄÇ  ÂéüÂõ†Ôºö Ê∑∑Âêà‰ΩøÁî® float32 Âíå float64 Á±ªÂûã„ÄÇ  Ëß£ÂÜ≥ÊñπÊ°àÔºö  ‰ΩøÁî®‰∏ÄËá¥ÁöÑÊµÆÁÇπÁ±ªÂûãÔºö @dataclass class Data: value: pyfory.Float32Type # ÊòæÂºè 32 ‰ΩçÊµÆÁÇπÊï∞ ËØ∑Ê≥®ÊÑèÔºåPython ÁöÑ float ÈªòËÆ§Êò†Â∞ÑÂà∞ float64  ","version":"dev","tagName":"h3"},{"title":"Â≠óÁ¨¶‰∏≤ÁºñÁ†ÅÈîôËØØ‚Äã","type":1,"pageTitle":"ÊïÖÈöúÊéíÊü•","url":"/zh-CN/docs/next/guide/xlang/xlang_troubleshooting#Â≠óÁ¨¶‰∏≤ÁºñÁ†ÅÈîôËØØ","content":" ÁóáÁä∂Ôºö  Error: Invalid UTF-8 sequence   ÂéüÂõ†Ôºö Èùû UTF-8 ÁºñÁ†ÅÁöÑÂ≠óÁ¨¶‰∏≤„ÄÇ  Ëß£ÂÜ≥ÊñπÊ°àÔºö  Á°Æ‰øùÊâÄÊúâÂ≠óÁ¨¶‰∏≤ÈÉΩÊòØÊúâÊïàÁöÑ UTF-8 Âú® Python ‰∏≠ÔºåÂú®Â∫èÂàóÂåñ‰πãÂâçËß£Á†ÅÂ≠óËäÇÔºö text = raw_bytes.decode('utf-8')   ","version":"dev","tagName":"h3"},{"title":"Â≠óÊÆµÈ°∫Â∫èÈóÆÈ¢ò‚Äã","type":1,"pageTitle":"ÊïÖÈöúÊéíÊü•","url":"/zh-CN/docs/next/guide/xlang/xlang_troubleshooting#Â≠óÊÆµÈ°∫Â∫èÈóÆÈ¢ò","content":" ","version":"dev","tagName":"h2"},{"title":"\"Â≠óÊÆµ‰∏çÂåπÈÖç\"ÈîôËØØ‚Äã","type":1,"pageTitle":"ÊïÖÈöúÊéíÊü•","url":"/zh-CN/docs/next/guide/xlang/xlang_troubleshooting#Â≠óÊÆµ‰∏çÂåπÈÖçÈîôËØØ","content":" ÁóáÁä∂Ôºö ÂèçÂ∫èÂàóÂåñÁöÑÂØπË±°ÂÖ∑ÊúâÈîôËØØÁöÑÂ≠óÊÆµÂÄº„ÄÇ  ÂéüÂõ†Ôºö ËØ≠Ë®Ä‰πãÈó¥ÁöÑÂ≠óÊÆµÈ°∫Â∫è‰∏çÂêå„ÄÇ  Ëß£ÂÜ≥ÊñπÊ°àÔºö Fory ÊåâÂ≠óÊÆµÁöÑ snake_cased ÂêçÁß∞ÂØπÂ≠óÊÆµËøõË°åÊéíÂ∫è„ÄÇÁ°Æ‰øùÂ≠óÊÆµÂêçÁß∞‰∏ÄËá¥Ôºö  // Java - Â≠óÊÆµÂ∞ÜÊåâ‰ª•‰∏ãÈ°∫Â∫èÊéíÂ∫èÔºöage„ÄÅemail„ÄÅname public class Person { public String name; public int age; public String email; }   # Python - Áõ∏ÂêåÁöÑÂ≠óÊÆµÈ°∫Â∫è @dataclass class Person: name: str age: pyfory.Int32Type email: str   ","version":"dev","tagName":"h3"},{"title":"ÂºïÁî®Ë∑üË∏™ÈóÆÈ¢ò‚Äã","type":1,"pageTitle":"ÊïÖÈöúÊéíÊü•","url":"/zh-CN/docs/next/guide/xlang/xlang_troubleshooting#ÂºïÁî®Ë∑üË∏™ÈóÆÈ¢ò","content":" ","version":"dev","tagName":"h2"},{"title":"Âæ™ÁéØÂºïÁî®ÂØºËá¥Ê†àÊ∫¢Âá∫‚Äã","type":1,"pageTitle":"ÊïÖÈöúÊéíÊü•","url":"/zh-CN/docs/next/guide/xlang/xlang_troubleshooting#Âæ™ÁéØÂºïÁî®ÂØºËá¥Ê†àÊ∫¢Âá∫","content":" ÁóáÁä∂Ôºö  StackOverflowError Êàñ RecursionError   ÂéüÂõ†Ôºö ÂºïÁî®Ë∑üË∏™Ë¢´Á¶ÅÁî®Ôºå‰ΩÜÊï∞ÊçÆÂÖ∑ÊúâÂæ™ÁéØÂºïÁî®„ÄÇ  Ëß£ÂÜ≥ÊñπÊ°àÔºö ÂêØÁî®ÂºïÁî®Ë∑üË∏™Ôºö  // Java Fory fory = Fory.builder() .withLanguage(Language.XLANG) .withRefTracking(true) .build();   # Python fory = pyfory.Fory(ref_tracking=True)   ","version":"dev","tagName":"h3"},{"title":"ÈáçÂ§çÂØπË±°‚Äã","type":1,"pageTitle":"ÊïÖÈöúÊéíÊü•","url":"/zh-CN/docs/next/guide/xlang/xlang_troubleshooting#ÈáçÂ§çÂØπË±°","content":" ÁóáÁä∂Ôºö ÂÖ±‰∫´ÂØπË±°Âú®ÂèçÂ∫èÂàóÂåñÂêéË¢´ÈáçÂ§ç„ÄÇ  ÂéüÂõ†Ôºö ÂºïÁî®Ë∑üË∏™Ë¢´Á¶ÅÁî®„ÄÇ  Ëß£ÂÜ≥ÊñπÊ°àÔºö Â¶ÇÊûúÂØπË±°Âú®Âõæ‰∏≠ÂÖ±‰∫´ÔºåËØ∑ÂêØÁî®ÂºïÁî®Ë∑üË∏™„ÄÇ  ","version":"dev","tagName":"h3"},{"title":"ËØ≠Ë®ÄÊ®°ÂºèÈóÆÈ¢ò‚Äã","type":1,"pageTitle":"ÊïÖÈöúÊéíÊü•","url":"/zh-CN/docs/next/guide/xlang/xlang_troubleshooting#ËØ≠Ë®ÄÊ®°ÂºèÈóÆÈ¢ò","content":" ","version":"dev","tagName":"h2"},{"title":"\"Êó†ÊïàÁöÑÈ≠îÊúØÊï∞Â≠ó\"ÈîôËØØ‚Äã","type":1,"pageTitle":"ÊïÖÈöúÊéíÊü•","url":"/zh-CN/docs/next/guide/xlang/xlang_troubleshooting#Êó†ÊïàÁöÑÈ≠îÊúØÊï∞Â≠óÈîôËØØ","content":" ÁóáÁä∂Ôºö  Error: Invalid magic number in header   ÂéüÂõ†Ôºö ‰∏ÄÊñπ‰ΩøÁî® Java ÂéüÁîüÊ®°ÂºèËÄå‰∏çÊòØ xlang Ê®°Âºè„ÄÇ  Ëß£ÂÜ≥ÊñπÊ°àÔºö Á°Æ‰øùÂèåÊñπÈÉΩ‰ΩøÁî® xlang Ê®°ÂºèÔºö  // Java - ÂøÖÈ°ª‰ΩøÁî® Language.XLANG Fory fory = Fory.builder() .withLanguage(Language.XLANG) .build();   ","version":"dev","tagName":"h3"},{"title":"Xlang Ê®°Âºè‰∏≠ÁöÑ‰∏çÂÖºÂÆπÁ±ªÂûã‚Äã","type":1,"pageTitle":"ÊïÖÈöúÊéíÊü•","url":"/zh-CN/docs/next/guide/xlang/xlang_troubleshooting#xlang-Ê®°Âºè‰∏≠ÁöÑ‰∏çÂÖºÂÆπÁ±ªÂûã","content":" ÁóáÁä∂Ôºö  Error: Type 'Optional' is not supported in xlang mode   ÂéüÂõ†Ôºö ‰ΩøÁî®‰∫ÜÊ≤°ÊúâË∑®ËØ≠Ë®ÄÁ≠âÊïàÈ°πÁöÑ Java ÁâπÂÆöÁ±ªÂûã„ÄÇ  Ëß£ÂÜ≥ÊñπÊ°àÔºö ‰ΩøÁî®ÂÖºÂÆπÁöÑÁ±ªÂûãÔºö  // ËÄå‰∏çÊòØ Optional&lt;String&gt; public String email; // nullable // ËÄå‰∏çÊòØ BigDecimal public double amount; // ËÄå‰∏çÊòØ EnumSet&lt;Status&gt; public Set&lt;Status&gt; statuses;   ","version":"dev","tagName":"h3"},{"title":"ÁâàÊú¨ÂÖºÂÆπÊÄß‚Äã","type":1,"pageTitle":"ÊïÖÈöúÊéíÊü•","url":"/zh-CN/docs/next/guide/xlang/xlang_troubleshooting#ÁâàÊú¨ÂÖºÂÆπÊÄß","content":" ","version":"dev","tagName":"h2"},{"title":"Â∫èÂàóÂåñÊ†ºÂºèÂ∑≤Êõ¥Êîπ‚Äã","type":1,"pageTitle":"ÊïÖÈöúÊéíÊü•","url":"/zh-CN/docs/next/guide/xlang/xlang_troubleshooting#Â∫èÂàóÂåñÊ†ºÂºèÂ∑≤Êõ¥Êîπ","content":" ÁóáÁä∂Ôºö ÂçáÁ∫ß Fory ÂêéÂèçÂ∫èÂàóÂåñÂ§±Ë¥•„ÄÇ  ÂéüÂõ†Ôºö Â∫èÂàóÂåñÊ†ºÂºè‰∏≠ÁöÑÁ†¥ÂùèÊÄßÊõ¥Êîπ„ÄÇ  Ëß£ÂÜ≥ÊñπÊ°àÔºö  Á°Æ‰øùÊâÄÊúâÊúçÂä°‰ΩøÁî®ÂÖºÂÆπÁöÑ Fory ÁâàÊú¨Ê£ÄÊü•ÂèëÂ∏ÉËØ¥Êòé‰∏≠ÁöÑÁ†¥ÂùèÊÄßÊõ¥ÊîπËÄÉËôë‰ΩøÁî® schema ÊºîÂåñÔºàcompatible Ê®°ÂºèÔºâËøõË°åÊ∏êËøõÂºèÂçáÁ∫ß  ","version":"dev","tagName":"h3"},{"title":"Ë∞ÉËØïÊäÄÂ∑ß‚Äã","type":1,"pageTitle":"ÊïÖÈöúÊéíÊü•","url":"/zh-CN/docs/next/guide/xlang/xlang_troubleshooting#Ë∞ÉËØïÊäÄÂ∑ß","content":" ","version":"dev","tagName":"h2"},{"title":"ÂêØÁî®Ë∞ÉËØïÊó•Âøó‚Äã","type":1,"pageTitle":"ÊïÖÈöúÊéíÊü•","url":"/zh-CN/docs/next/guide/xlang/xlang_troubleshooting#ÂêØÁî®Ë∞ÉËØïÊó•Âøó","content":" JavaÔºö  // Ê∑ªÂä†Âà∞ JVM ÈÄâÈ°π -Dfory.debug=true   PythonÔºö  import logging logging.getLogger('pyfory').setLevel(logging.DEBUG)   ","version":"dev","tagName":"h3"},{"title":"Ê£ÄÊü•Â∫èÂàóÂåñÊï∞ÊçÆ‚Äã","type":1,"pageTitle":"ÊïÖÈöúÊéíÊü•","url":"/zh-CN/docs/next/guide/xlang/xlang_troubleshooting#Ê£ÄÊü•Â∫èÂàóÂåñÊï∞ÊçÆ","content":" ‰ΩøÁî®ÂçÅÂÖ≠ËøõÂà∂ËΩ¨ÂÇ®Ê£ÄÊü•‰∫åËøõÂà∂Ê†ºÂºèÔºö  data = fory.serialize(obj) print(data.hex())   ","version":"dev","tagName":"h3"},{"title":"ÊµãËØïÂæÄËøî‚Äã","type":1,"pageTitle":"ÊïÖÈöúÊéíÊü•","url":"/zh-CN/docs/next/guide/xlang/xlang_troubleshooting#ÊµãËØïÂæÄËøî","content":" ÂßãÁªàÂú®ÊØèÁßçËØ≠Ë®Ä‰∏≠ÊµãËØïÂæÄËøîÂ∫èÂàóÂåñÔºö  byte[] bytes = fory.serialize(obj); Object result = fory.deserialize(bytes); assert obj.equals(result);   ","version":"dev","tagName":"h3"},{"title":"Ë∑®ËØ≠Ë®ÄÊµãËØï‚Äã","type":1,"pageTitle":"ÊïÖÈöúÊéíÊü•","url":"/zh-CN/docs/next/guide/xlang/xlang_troubleshooting#Ë∑®ËØ≠Ë®ÄÊµãËØï","content":" Âú®ÈÉ®ÁΩ≤‰πãÂâçÊµãËØïÊâÄÊúâÁõÆÊ†áËØ≠Ë®ÄÁöÑÂ∫èÂàóÂåñÔºö  # Âú® Java ‰∏≠Â∫èÂàóÂåñ java -jar serializer.jar &gt; data.bin # Âú® Python ‰∏≠ÂèçÂ∫èÂàóÂåñ python deserializer.py data.bin   ","version":"dev","tagName":"h3"},{"title":"Â∏∏ËßÅÈîôËØØ‚Äã","type":1,"pageTitle":"ÊïÖÈöúÊéíÊü•","url":"/zh-CN/docs/next/guide/xlang/xlang_troubleshooting#Â∏∏ËßÅÈîôËØØ","content":" Êú™Ê≥®ÂÜåÁ±ªÂûãÔºöÂßãÁªàÂú®‰ΩøÁî®ÂâçÊ≥®ÂÜåËá™ÂÆö‰πâÁ±ªÂûãÁ±ªÂûãÂêçÁß∞/ID ‰∏ç‰∏ÄËá¥ÔºöÂú®ÊâÄÊúâËØ≠Ë®Ä‰∏≠‰ΩøÁî®Áõ∏ÂêåÁöÑÂêçÁß∞/IDÂøòËÆ∞ xlang Ê®°ÂºèÔºöÂú® Java ‰∏≠‰ΩøÁî® Language.XLANGÈîôËØØÁöÑÁ±ªÂûãÊ≥®Ëß£ÔºöÂú® Python ‰∏≠‰ΩøÁî® pyfory.Int32Type Á≠âÂøΩÁï•ÂºïÁî®Ë∑üË∏™Ôºö‰∏∫Âæ™ÁéØ/ÂÖ±‰∫´ÂºïÁî®ÂêØÁî®  ","version":"dev","tagName":"h2"},{"title":"Âè¶ËØ∑ÂèÇÈòÖ‚Äã","type":1,"pageTitle":"ÊïÖÈöúÊéíÊü•","url":"/zh-CN/docs/next/guide/xlang/xlang_troubleshooting#Âè¶ËØ∑ÂèÇÈòÖ","content":" Á±ªÂûãÊò†Â∞Ñ - Ë∑®ËØ≠Ë®ÄÁ±ªÂûãÊò†Â∞ÑÂèÇËÄÉÂÖ•Èó®ÊåáÂçó - ËÆæÁΩÆÊåáÂçóJava ÊïÖÈöúÊéíÊü• - Java ÁâπÂÆöÈóÆÈ¢òPython ÊïÖÈöúÊéíÊü• - Python ÁâπÂÆöÈóÆÈ¢ò ","version":"dev","tagName":"h2"},{"title":"ÊÄßËÉΩÊµãËØï","type":0,"sectionRef":"#","url":"/zh-CN/docs/next/introduction/benchmark","content":"","keywords":"","version":"dev"},{"title":"Java ÊÄßËÉΩÊµãËØï‚Äã","type":1,"pageTitle":"ÊÄßËÉΩÊµãËØï","url":"/zh-CN/docs/next/introduction/benchmark#java-ÊÄßËÉΩÊµãËØï","content":" ","version":"dev","tagName":"h2"},{"title":"Java Â∫èÂàóÂåñ‚Äã","type":1,"pageTitle":"ÊÄßËÉΩÊµãËØï","url":"/zh-CN/docs/next/introduction/benchmark#java-Â∫èÂàóÂåñ","content":"         ","version":"dev","tagName":"h3"},{"title":"Java ÂèçÂ∫èÂàóÂåñ‚Äã","type":1,"pageTitle":"ÊÄßËÉΩÊµãËØï","url":"/zh-CN/docs/next/introduction/benchmark#java-ÂèçÂ∫èÂàóÂåñ","content":"         Êõ¥Â§öÂÖ≥‰∫éÁ±ªÂûãÂâçÂêë/ÂêéÂêëÂÖºÂÆπÊÄß„ÄÅÂ†ÜÂ§ñÊîØÊåÅ„ÄÅÈõ∂Êã∑Ë¥ùÂ∫èÂàóÂåñÁöÑÊÄßËÉΩÊµãËØïÔºåËØ∑ÂèÇËßÅ benchmarks„ÄÇ  ","version":"dev","tagName":"h3"},{"title":"Rust ÊÄßËÉΩÊµãËØï‚Äã","type":1,"pageTitle":"ÊÄßËÉΩÊµãËØï","url":"/zh-CN/docs/next/introduction/benchmark#rust-ÊÄßËÉΩÊµãËØï","content":"       Ê≥®ÊÑèÔºöÁªìÊûúÂèñÂÜ≥‰∫éÁ°¨‰ª∂„ÄÅÊï∞ÊçÆÈõÜÂíåÂÆûÁé∞ÁâàÊú¨„ÄÇÊúâÂÖ≥Â¶Ç‰ΩïËá™Ë°åËøêË°åÊÄßËÉΩÊµãËØïÁöÑ‰ø°ÊÅØÔºåËØ∑ÂèÇÈòÖ Fory Rust Benchmark ÊåáÂçóÔºöhttps://github.com/apache/fory/blob/main/benchmarks/rust_benchmark/README.md  ","version":"dev","tagName":"h2"},{"title":"JavaScript ÊÄßËÉΩÊµãËØï‚Äã","type":1,"pageTitle":"ÊÄßËÉΩÊµãËØï","url":"/zh-CN/docs/next/introduction/benchmark#javascript-ÊÄßËÉΩÊµãËØï","content":"   Ê≠§Êü±Áä∂Âõæ‰ΩøÁî®ÁöÑÊï∞ÊçÆÂåÖÂê´‰∏Ä‰∏™ÂÖ∑ÊúâÂ§öÁßçÂ≠óÊÆµÁ±ªÂûãÁöÑÂ§çÊùÇÂØπË±°ÔºåJSON Êï∞ÊçÆÂ§ßÂ∞è‰∏∫ 3KB„ÄÇ  ÊÄßËÉΩÊµãËØï‰ª£Á†ÅËØ∑ÂèÇËßÅ benchmarks„ÄÇ ","version":"dev","tagName":"h2"},{"title":"Features","type":0,"sectionRef":"#","url":"/zh-CN/docs/next/introduction/features","content":"Features Â§öÁßçËØ≠Ë®ÄÔºöJava/Python/C++/Golang/Javascript/Rust„ÄÇÈõ∂Êã∑Ë¥ùÔºöÁ±ª‰ººpickle5ÔºåÊîØÊåÅÂ†ÜÂ§ñËØª/ÂÜôÁöÑË∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ„ÄÇÈ´òÊÄßËÉΩÔºöÈ´òÂ∫¶ÂèØÊâ©Â±ïÁöÑ JIT Ê°ÜÊû∂ÔºåÂèØÂú®ËøêË°åÊó∂‰ª•ÂºÇÊ≠•Â§öÁ∫øÁ®ãÊñπÂºèÁîüÊàêÂ∫èÂàóÂåñÁ®ãÂ∫è‰ª£Á†ÅÔºå‰ª•Âä†Âø´Â∫èÂàóÂåñÈÄüÂ∫¶ÔºåÈÄöËøá‰ª•‰∏ãÊñπÂºèÊèêÂçá 20-170 ÂÄçÁöÑÈÄüÂ∫¶Ôºö ÂáèÂ∞ëÂú®ÁîüÊàê‰ª£Á†Å‰∏≠ÂÜÖËÅîÂèòÈáèÂáèÂ∞ëÂÜÖÂ≠òËÆøÈóÆÔºõÈÄöËøáÂú®ÁîüÊàêÁöÑ‰ª£Á†Å‰∏≠ÂÜÖËÅîË∞ÉÁî®Êù•ÂáèÂ∞ëËôöÊãüÊñπÊ≥ïË∞ÉÁî®ÔºõÂáèÂ∞ëÊù°‰ª∂ÂàÜÊîØÔºõÂáèÂ∞ëÂìàÂ∏åÊü•ÊâæÔºõ ‰∫åËøõÂà∂ÂçèËÆÆÔºöÂØπË±°Âõæ„ÄÅË°åÊ†ºÂºèÁ≠â„ÄÇ Èô§‰∫ÜË∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ‰πãÂ§ñÔºåApache Fory‚Ñ¢ ËøòÊîØÊåÅ‰ª•‰∏ãÂäüËÉΩÔºö Áõ¥Êé•ÊõøÊç¢ Java Â∫èÂàóÂåñÊ°ÜÊû∂ÔºåÂ¶Ç JDK/Kryo/HessianÔºåÊó†ÈúÄ‰øÆÊîπ‰ªª‰Ωï‰ª£Á†ÅÔºå‰ΩÜÈÄüÂ∫¶ÊèêÈ´ò 100 ÂÄç„ÄÇÂÆÉÂèØ‰ª•Â§ßÂ§ßÊèêÈ´ò RPC Ë∞ÉÁî®ÊÄßËÉΩ„ÄÅÊï∞ÊçÆ‰º†ËæìÂíåÂØπË±°ÊåÅ‰πÖÂåñÁöÑÊïàÁéáÔºõJDK Â∫èÂàóÂåñ 100% ÂÖºÂÆπÔºåÂéüÁîüÊîØÊåÅ java Ëá™ÂÆö‰πâÂ∫èÂàóÂåñ writeObject/readObject/writeReplace/readResolve/readObjectNoDataÔºõÊîØÊåÅ golang ÁöÑÂÖ±‰∫´ÂíåÂæ™ÁéØÂºïÁî®ÂØπË±°Â∫èÂàóÂåñÔºõÊîØÊåÅ golang ÁöÑËá™Âä®ÂØπË±°Â∫èÂàóÂåñ„ÄÇ","keywords":"","version":"dev"},{"title":"Èõ∂Êã∑Ë¥ùÂ∫èÂàóÂåñ","type":0,"sectionRef":"#","url":"/zh-CN/docs/next/guide/xlang/xlang_zero_copy","content":"","keywords":"","version":"dev"},{"title":"‰ΩïÊó∂‰ΩøÁî®Èõ∂Êã∑Ë¥ù‚Äã","type":1,"pageTitle":"Èõ∂Êã∑Ë¥ùÂ∫èÂàóÂåñ","url":"/zh-CN/docs/next/guide/xlang/xlang_zero_copy#‰ΩïÊó∂‰ΩøÁî®Èõ∂Êã∑Ë¥ù","content":" Âú®‰ª•‰∏ãÊÉÖÂÜµ‰∏ã‰ΩøÁî®Èõ∂Êã∑Ë¥ùÂ∫èÂàóÂåñÔºö  Â∫èÂàóÂåñÂ§ßÂûãÂ≠óËäÇÊï∞ÁªÑÊàñ‰∫åËøõÂà∂Êï∞ÊçÆÂùóÂ§ÑÁêÜÊï∞ÂÄºÊï∞ÁªÑÔºàint[]„ÄÅdouble[] Á≠âÔºâÈÄöËøáÈ´òÊÄßËÉΩÁΩëÁªú‰º†ËæìÊï∞ÊçÆÂÜÖÂ≠òÊïàÁéáËá≥ÂÖ≥ÈáçË¶Å  ","version":"dev","tagName":"h2"},{"title":"Â∑•‰ΩúÂéüÁêÜ‚Äã","type":1,"pageTitle":"Èõ∂Êã∑Ë¥ùÂ∫èÂàóÂåñ","url":"/zh-CN/docs/next/guide/xlang/xlang_zero_copy#Â∑•‰ΩúÂéüÁêÜ","content":" Â∫èÂàóÂåñÔºöÂ§ßÂûãÁºìÂÜ≤Âå∫Ë¢´ÊèêÂèñÂá∫Êù•ÔºåÂπ∂ÈÄöËøáÂõûË∞ÉÂçïÁã¨ËøîÂõû‰º†ËæìÔºö‰∏ªÂ∫èÂàóÂåñÊï∞ÊçÆÂíåÁºìÂÜ≤Âå∫ÂØπË±°ÂàÜÂà´‰º†ËæìÂèçÂ∫èÂàóÂåñÔºöÊèê‰æõÁºìÂÜ≤Âå∫‰ª•ÈáçÂª∫ÂéüÂßãÂØπË±°  ËøôÈÅøÂÖç‰∫ÜÂ∞ÜÂ§ßÂûãÊï∞ÊçÆÂ§çÂà∂Âà∞‰∏ªÂ∫èÂàóÂåñÁºìÂÜ≤Âå∫‰∏≠„ÄÇ  ","version":"dev","tagName":"h2"},{"title":"Java‚Äã","type":1,"pageTitle":"Èõ∂Êã∑Ë¥ùÂ∫èÂàóÂåñ","url":"/zh-CN/docs/next/guide/xlang/xlang_zero_copy#java","content":" import org.apache.fory.*; import org.apache.fory.config.*; import org.apache.fory.serializer.BufferObject; import org.apache.fory.memory.MemoryBuffer; import java.util.*; import java.util.stream.Collectors; public class ZeroCopyExample { public static void main(String[] args) { Fory fory = Fory.builder().withLanguage(Language.XLANG).build(); // ÂåÖÂê´Â§ßÂûãÊï∞ÁªÑÁöÑÊï∞ÊçÆ List&lt;Object&gt; list = List.of( &quot;str&quot;, new byte[1000], // Â§ßÂûãÂ≠óËäÇÊï∞ÁªÑ new int[100], // Â§ßÂûã int Êï∞ÁªÑ new double[100] // Â§ßÂûã double Êï∞ÁªÑ ); // Âú®Â∫èÂàóÂåñÊúüÈó¥Êî∂ÈõÜÁºìÂÜ≤Âå∫ÂØπË±° Collection&lt;BufferObject&gt; bufferObjects = new ArrayList&lt;&gt;(); byte[] bytes = fory.serialize(list, e -&gt; !bufferObjects.add(e)); // ËΩ¨Êç¢‰∏∫ÁºìÂÜ≤Âå∫‰ª•‰æø‰º†Ëæì List&lt;MemoryBuffer&gt; buffers = bufferObjects.stream() .map(BufferObject::toBuffer) .collect(Collectors.toList()); // ‰ΩøÁî®ÁºìÂÜ≤Âå∫ÂèçÂ∫èÂàóÂåñ Object result = fory.deserialize(bytes, buffers); System.out.println(result); } }   ","version":"dev","tagName":"h2"},{"title":"Python‚Äã","type":1,"pageTitle":"Èõ∂Êã∑Ë¥ùÂ∫èÂàóÂåñ","url":"/zh-CN/docs/next/guide/xlang/xlang_zero_copy#python","content":" import array import pyfory import numpy as np fory = pyfory.Fory() # ÂåÖÂê´Â§ßÂûãÊï∞ÁªÑÁöÑÊï∞ÊçÆ data = [ &quot;str&quot;, bytes(bytearray(1000)), # Â§ßÂûãÂ≠óËäÇÊï∞ÁªÑ array.array(&quot;i&quot;, range(100)), # Â§ßÂûã int Êï∞ÁªÑ np.full(100, 0.0, dtype=np.double) # Â§ßÂûã numpy Êï∞ÁªÑ ] # Âú®Â∫èÂàóÂåñÊúüÈó¥Êî∂ÈõÜÁºìÂÜ≤Âå∫ÂØπË±° serialized_objects = [] serialized_data = fory.serialize(data, buffer_callback=serialized_objects.append) # ËΩ¨Êç¢‰∏∫ÁºìÂÜ≤Âå∫‰ª•‰æø‰º†Ëæì buffers = [obj.to_buffer() for obj in serialized_objects] # ‰ΩøÁî®ÁºìÂÜ≤Âå∫ÂèçÂ∫èÂàóÂåñ result = fory.deserialize(serialized_data, buffers=buffers) print(result)   ","version":"dev","tagName":"h2"},{"title":"Go‚Äã","type":1,"pageTitle":"Èõ∂Êã∑Ë¥ùÂ∫èÂàóÂåñ","url":"/zh-CN/docs/next/guide/xlang/xlang_zero_copy#go","content":" package main import forygo &quot;github.com/apache/fory/go/fory&quot; import &quot;fmt&quot; func main() { fory := forygo.NewFory() // ÂåÖÂê´Â§ßÂûãÊï∞ÁªÑÁöÑÊï∞ÊçÆ list := []interface{}{ &quot;str&quot;, make([]byte, 1000), // Â§ßÂûãÂ≠óËäÇÊï∞ÁªÑ } buf := fory.NewByteBuffer(nil) var bufferObjects []fory.BufferObject // Âú®Â∫èÂàóÂåñÊúüÈó¥Êî∂ÈõÜÁºìÂÜ≤Âå∫ÂØπË±° fory.Serialize(buf, list, func(o fory.BufferObject) bool { bufferObjects = append(bufferObjects, o) return false }) // ËΩ¨Êç¢‰∏∫ÁºìÂÜ≤Âå∫‰ª•‰æø‰º†Ëæì var buffers []*fory.ByteBuffer for _, o := range bufferObjects { buffers = append(buffers, o.ToBuffer()) } // ‰ΩøÁî®ÁºìÂÜ≤Âå∫ÂèçÂ∫èÂàóÂåñ var newList []interface{} if err := fory.Deserialize(buf, &amp;newList, buffers); err != nil { panic(err) } fmt.Println(newList) }   ","version":"dev","tagName":"h2"},{"title":"JavaScript‚Äã","type":1,"pageTitle":"Èõ∂Êã∑Ë¥ùÂ∫èÂàóÂåñ","url":"/zh-CN/docs/next/guide/xlang/xlang_zero_copy#javascript","content":" // Èõ∂Êã∑Ë¥ùÊîØÊåÅÂç≥Â∞ÜÊé®Âá∫   ","version":"dev","tagName":"h2"},{"title":"‰ΩøÁî®Âú∫ÊôØ‚Äã","type":1,"pageTitle":"Èõ∂Êã∑Ë¥ùÂ∫èÂàóÂåñ","url":"/zh-CN/docs/next/guide/xlang/xlang_zero_copy#‰ΩøÁî®Âú∫ÊôØ","content":" ","version":"dev","tagName":"h2"},{"title":"È´òÊÄßËÉΩÊï∞ÊçÆ‰º†Ëæì‚Äã","type":1,"pageTitle":"Èõ∂Êã∑Ë¥ùÂ∫èÂàóÂåñ","url":"/zh-CN/docs/next/guide/xlang/xlang_zero_copy#È´òÔøΩÔøΩÊÄßËÉΩÊï∞ÊçÆ‰º†Ëæì","content":" Âú®ÈÄöËøáÁΩëÁªúÂèëÈÄÅÂ§ßÂûãÊï∞ÊçÆÈõÜÊó∂Ôºö  // ÂèëÈÄÅÊñπ Collection&lt;BufferObject&gt; buffers = new ArrayList&lt;&gt;(); byte[] metadata = fory.serialize(dataObject, e -&gt; !buffers.add(e)); // ÂàÜÂà´ÂèëÈÄÅÂÖÉÊï∞ÊçÆÂíåÁºìÂÜ≤Âå∫ network.sendMetadata(metadata); for (BufferObject buf : buffers) { network.sendBuffer(buf.toBuffer()); } // Êé•Êî∂Êñπ byte[] metadata = network.receiveMetadata(); List&lt;MemoryBuffer&gt; buffers = network.receiveBuffers(); Object data = fory.deserialize(metadata, buffers);   ","version":"dev","tagName":"h3"},{"title":"ÂÜÖÂ≠òÊò†Â∞ÑÊñá‰ª∂‚Äã","type":1,"pageTitle":"Èõ∂Êã∑Ë¥ùÂ∫èÂàóÂåñ","url":"/zh-CN/docs/next/guide/xlang/xlang_zero_copy#ÂÜÖÂ≠òÊò†Â∞ÑÊñá‰ª∂","content":" Èõ∂Êã∑Ë¥ù‰∏éÂÜÖÂ≠òÊò†Â∞ÑÊñá‰ª∂ÈÖçÂêàËâØÂ•ΩÔºö  // ÂÜôÂÖ• Collection&lt;BufferObject&gt; buffers = new ArrayList&lt;&gt;(); byte[] data = fory.serialize(largeObject, e -&gt; !buffers.add(e)); writeToFile(&quot;data.bin&quot;, data); for (int i = 0; i &lt; buffers.size(); i++) { writeToFile(&quot;buffer&quot; + i + &quot;.bin&quot;, buffers.get(i).toBuffer()); } // ËØªÂèñ byte[] data = readFromFile(&quot;data.bin&quot;); List&lt;MemoryBuffer&gt; buffers = readBufferFiles(); Object result = fory.deserialize(data, buffers);   ","version":"dev","tagName":"h3"},{"title":"ÊÄßËÉΩËÄÉËôë‚Äã","type":1,"pageTitle":"Èõ∂Êã∑Ë¥ùÂ∫èÂàóÂåñ","url":"/zh-CN/docs/next/guide/xlang/xlang_zero_copy#ÊÄßËÉΩËÄÉËôë","content":" ÈòàÂÄºÔºöÁî±‰∫éÂõûË∞ÉÂºÄÈîÄÔºåÂ∞èÊï∞ÁªÑÂèØËÉΩ‰∏ç‰ºö‰ªéÈõ∂Êã∑Ë¥ù‰∏≠ÂèóÁõäÁΩëÁªúÔºöÂΩìÁºìÂÜ≤Âå∫ÂèØ‰ª•Âú®‰∏çÂ§çÂà∂ÁöÑÊÉÖÂÜµ‰∏ãÂèëÈÄÅÊó∂ÔºåÈõ∂Êã∑Ë¥ùÊúÄÊúâÁõäÂÜÖÂ≠òÔºöÈÄöËøáÈÅøÂÖçÁºìÂÜ≤Âå∫Â§çÂà∂Êù•ÂáèÂ∞ëÂ≥∞ÂÄºÂÜÖÂ≠ò‰ΩøÁî®  ","version":"dev","tagName":"h2"},{"title":"Âè¶ËØ∑ÂèÇÈòÖ‚Äã","type":1,"pageTitle":"Èõ∂Êã∑Ë¥ùÂ∫èÂàóÂåñ","url":"/zh-CN/docs/next/guide/xlang/xlang_zero_copy#Âè¶ËØ∑ÂèÇÈòÖ","content":" Â∫èÂàóÂåñ - Ê†áÂáÜÂ∫èÂàóÂåñÁ§∫‰æãPython Â∏¶Â§ñÊåáÂçó - Python ÁâπÂÆöÁöÑÈõ∂Êã∑Ë¥ùËØ¶ÊÉÖ ","version":"dev","tagName":"h2"},{"title":"Ê¶ÇËø∞","type":0,"sectionRef":"#","url":"/zh-CN/docs/next/introduction/overview","content":"","keywords":"","version":"dev"},{"title":"Âø´ÈÄüÁ§∫‰æã‚Äã","type":1,"pageTitle":"Ê¶ÇËø∞","url":"/zh-CN/docs/next/introduction/overview#Âø´ÈÄüÁ§∫‰æã","content":" Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ - Âú® Rust ‰∏≠Â∫èÂàóÂåñÔºåÂú® Python ‰∏≠ÂèçÂ∫èÂàóÂåñÔºö  Rust  use fory::{Fory, ForyObject}; #[derive(ForyObject, Debug, PartialEq)] struct User { name: String, age: i32, } fn main() { let mut fory = Fory::default().xlang(true); fory.register::&lt;User&gt;(1); let user = User { name: &quot;Alice&quot;.to_string(), age: 30 }; let bytes = fory.serialize(&amp;user).unwrap(); let decoded: User = fory.deserialize(&amp;bytes).unwrap(); println!(&quot;{:?}&quot;, decoded); // User { name: &quot;Alice&quot;, age: 30 } }   Python  import pyfory from dataclasses import dataclass @dataclass class User: name: str age: pyfory.int32 fory = pyfory.Fory(xlang=True) fory.register(User, type_id=1) user = User(name=&quot;Alice&quot;, age=30) data = fory.serialize(user) decoded = fory.deserialize(data) print(decoded) # User(name='Alice', age=30)   ","version":"dev","tagName":"h2"},{"title":"Ê†∏ÂøÉÁâπÊÄß‚Äã","type":1,"pageTitle":"Ê¶ÇËø∞","url":"/zh-CN/docs/next/introduction/overview#Ê†∏ÂøÉÁâπÊÄß","content":" ","version":"dev","tagName":"h2"},{"title":"üöÄ È´òÊÄßËÉΩÂ∫èÂàóÂåñ‚Äã","type":1,"pageTitle":"Ê¶ÇËø∞","url":"/zh-CN/docs/next/introduction/overview#-È´òÊÄßËÉΩÂ∫èÂàóÂåñ","content":" Apache Fory‚Ñ¢ ÈÄöËøáÂÖàËøõÁöÑ‰ºòÂåñÊäÄÊúØÊèê‰æõÂçìË∂äÊÄßËÉΩÔºö  JIT ÁºñËØëÔºöJava ËøêË°åÊó∂‰ª£Á†ÅÁîüÊàêÊ∂àÈô§ËôöÊñπÊ≥ïË∞ÉÁî®Âπ∂ÂÜÖËÅîÁÉ≠Ë∑ØÂæÑÈùôÊÄÅ‰ª£Á†ÅÁîüÊàêÔºöRust„ÄÅC++ Âíå Go ÁöÑÁºñËØëÊó∂‰ª£Á†ÅÁîüÊàêÔºåÊó†ËøêË°åÊó∂ÂºÄÈîÄÂç≥ÂèØËææÂà∞Â≥∞ÂÄºÊÄßËÉΩÈõ∂Êã∑Ë¥ùÊìç‰ΩúÔºöÊó†ÈúÄ‰∏≠Èó¥ÁºìÂÜ≤Âå∫Â§çÂà∂ÁöÑÁõ¥Êé•ÂÜÖÂ≠òËÆøÈóÆÔºõË°åÊ†ºÂºèÊîØÊåÅÈöèÊú∫ËÆøÈóÆÂíåÈÉ®ÂàÜÂ∫èÂàóÂåñÊô∫ËÉΩÁºñÁ†ÅÔºöÊï¥Êï∞ÂíåÂ≠óÁ¨¶‰∏≤ÁöÑÂèòÈïøÂéãÁº©ÔºõÊï∞ÁªÑÁöÑ SIMD Âä†ÈÄüÔºàJava 16+ÔºâÂÖÉÊï∞ÊçÆÂÖ±‰∫´ÔºöÁ±ªÂÖÉÊï∞ÊçÆÊâìÂåÖÂáèÂ∞ëË∑®Â∫èÂàóÂåñÁöÑÂÜó‰ΩôÁ±ªÂûã‰ø°ÊÅØ  ","version":"dev","tagName":"h3"},{"title":"üîÑ Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ‚Äã","type":1,"pageTitle":"Ê¶ÇËø∞","url":"/zh-CN/docs/next/introduction/overview#-Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ","content":" xlang Â∫èÂàóÂåñÊ†ºÂºè ÊîØÊåÅË∑®ÁºñÁ®ãËØ≠Ë®ÄÁöÑÊó†ÁºùÊï∞ÊçÆ‰∫§Êç¢Ôºö  Ëá™Âä®Á±ªÂûãÊò†Â∞ÑÔºöËØ≠Ë®ÄÁâπÂÆöÁ±ªÂûã‰πãÈó¥ÁöÑÊô∫ËÉΩËΩ¨Êç¢ÔºàÁ±ªÂûãÊò†Â∞ÑÔºâÂºïÁî®‰øùÊåÅÔºöÂÖ±‰∫´ÂíåÂæ™ÁéØÂºïÁî®Âú®Ë∑®ËØ≠Ë®ÄÊó∂Ê≠£Á°ÆÂ∑•‰ΩúÂ§öÊÄÅÊîØÊåÅÔºöÂØπË±°‰ª•ÂÖ∂ÂÆûÈôÖËøêË°åÊó∂Á±ªÂûãËøõË°åÂ∫èÂàóÂåñ/ÂèçÂ∫èÂàóÂåñSchema ÊºîËøõÔºöÂèØÈÄâÁöÑÂêëÂâç/ÂêëÂêéÂÖºÂÆπÊÄßÊîØÊåÅ Schema ÊºîËøõËá™Âä®Â∫èÂàóÂåñÔºöÊó†ÈúÄ IDL Êàñ Schema ÂÆö‰πâÔºõÁõ¥Êé•Â∫èÂàóÂåñ‰ªª‰ΩïÂØπË±°ÔºåÊó†ÈúÄ‰ª£Á†ÅÁîüÊàê  ","version":"dev","tagName":"h3"},{"title":"üìä Ë°åÊ†ºÂºè‚Äã","type":1,"pageTitle":"Ê¶ÇËø∞","url":"/zh-CN/docs/next/introduction/overview#-Ë°åÊ†ºÂºè","content":" ÈíàÂØπÂàÜÊûêÂ∑•‰ΩúË¥üËΩΩ‰ºòÂåñÁöÑÁºìÂ≠òÂèãÂ•ΩÂûã Ë°åÊ†ºÂºèÔºö  Èõ∂Êã∑Ë¥ùÈöèÊú∫ËÆøÈóÆÔºöÊó†ÈúÄÂèçÂ∫èÂàóÂåñÊï¥‰∏™ÂØπË±°Âç≥ÂèØËØªÂèñÂçï‰∏™Â≠óÊÆµÈÉ®ÂàÜÊìç‰ΩúÔºöÈÄâÊã©ÊÄßÂ≠óÊÆµÂ∫èÂàóÂåñÂíåÂèçÂ∫èÂàóÂåñ‰ª•ÊèêÈ´òÊïàÁéáApache Arrow ÈõÜÊàêÔºöÊó†ÁºùËΩ¨Êç¢‰∏∫ÂàóÊ†ºÂºè‰ª•Áî®‰∫éÂàÜÊûêÊµÅÊ∞¥Á∫øÂ§öËØ≠Ë®ÄÊîØÊåÅÔºöÂèØÁî®‰∫é Java„ÄÅPython„ÄÅRust Âíå C++  ","version":"dev","tagName":"h3"},{"title":"üîí ÂÆâÂÖ®ÊÄß‰∏éÁîü‰∫ßÂ∞±Áª™‚Äã","type":1,"pageTitle":"Ê¶ÇËø∞","url":"/zh-CN/docs/next/introduction/overview#-ÂÆâÂÖ®ÊÄß‰∏éÁîü‰∫ßÂ∞±Áª™","content":" ‰ºÅ‰∏öÁ∫ßÂÆâÂÖ®ÊÄßÂíåÂÖºÂÆπÊÄßÔºö  Á±ªÊ≥®ÂÜåÔºöÂü∫‰∫éÁôΩÂêçÂçïÁöÑÂèçÂ∫èÂàóÂåñÊéßÂà∂ÔºàÈªòËÆ§ÂêØÁî®ÔºâÊ∑±Â∫¶ÈôêÂà∂ÔºöÈò≤Ê≠¢ÈÄíÂΩíÂØπË±°ÂõæÊîªÂáªÂèØÈÖçÁΩÆÁ≠ñÁï•ÔºöËá™ÂÆö‰πâÁ±ªÊ£ÄÊü•Âô®ÂíåÂèçÂ∫èÂàóÂåñÁ≠ñÁï•Âπ≥Âè∞ÊîØÊåÅÔºöJava 8-24„ÄÅGraalVM ÂéüÁîüÈïúÂÉè„ÄÅÂ§öÊìç‰ΩúÁ≥ªÁªüÂπ≥Âè∞  ","version":"dev","tagName":"h3"},{"title":"ÂçèËÆÆ‚Äã","type":1,"pageTitle":"Ê¶ÇËø∞","url":"/zh-CN/docs/next/introduction/overview#ÂçèËÆÆ","content":" Apache Fory‚Ñ¢ ÂÆûÁé∞‰∫ÜÈíàÂØπ‰∏çÂêåÂú∫ÊôØ‰ºòÂåñÁöÑÂ§ö‰∏™‰∫åËøõÂà∂ÂçèËÆÆÔºö  ÂçèËÆÆ\t‰ΩøÁî®Âú∫ÊôØ\tÊ†∏ÂøÉÁâπÊÄßË∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ\tË∑®ËØ≠Ë®ÄÂØπË±°‰∫§Êç¢\tËá™Âä®Â∫èÂàóÂåñ„ÄÅÂºïÁî®„ÄÅÂ§öÊÄÅ Java Â∫èÂàóÂåñ\tÈ´òÊÄßËÉΩ Java ‰∏ìÁî®\tJDK Â∫èÂàóÂåñÁöÑÁõ¥Êé•Êõø‰ª£ÔºåÂø´ 100 ÂÄç Ë°åÊ†ºÂºè\tÂàÜÊûêÂíåÊï∞ÊçÆÂ§ÑÁêÜ\tÈõ∂Êã∑Ë¥ùÈöèÊú∫ËÆøÈóÆ„ÄÅArrow ÂÖºÂÆπ Python ÂéüÁîü\tPython ‰∏ìÁî®Â∫èÂàóÂåñ\tPickle/cloudpickle Êõø‰ª£ÔºåÊÄßËÉΩÊõ¥Â•Ω  ÊâÄÊúâÂçèËÆÆÂÖ±‰∫´Áõ∏ÂêåÁöÑ‰ºòÂåñ‰ª£Á†ÅÂ∫ìÔºå‰∏Ä‰∏™ÂçèËÆÆÁöÑÊîπËøõÂèØ‰ª•ÊÉ†ÂèäÂÖ∂‰ªñÂçèËÆÆ„ÄÇ  ","version":"dev","tagName":"h2"},{"title":"ÊñáÊ°£‚Äã","type":1,"pageTitle":"Ê¶ÇËø∞","url":"/zh-CN/docs/next/introduction/overview#ÊñáÊ°£","content":" ","version":"dev","tagName":"h2"},{"title":"Áî®Êà∑ÊåáÂçó‚Äã","type":1,"pageTitle":"Ê¶ÇËø∞","url":"/zh-CN/docs/next/introduction/overview#Áî®Êà∑ÊåáÂçó","content":" ÊåáÂçó\tÊèèËø∞\tÊ∫êÊñá‰ª∂\tÁΩëÁ´ôJava Â∫èÂàóÂåñ\tJava Â∫èÂàóÂåñÁªºÂêàÊåáÂçó\tJava ÊåáÂçó\tüìñ Êü•Áúã Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ\tÂ§öËØ≠Ë®ÄÂØπË±°‰∫§Êç¢\tXlang ÊåáÂçó\tüìñ Êü•Áúã Ë°åÊ†ºÂºè\tÈõ∂Êã∑Ë¥ùÈöèÊú∫ËÆøÈóÆÊ†ºÂºè\tJava Ë°åÊ†ºÂºè\tüìñ Êü•Áúã Python\tPython ÁâπÂÆöÂäüËÉΩÂíåÁî®Ê≥ï\tPython ÊåáÂçó\tüìñ Êü•Áúã Rust\tRust ÂÆûÁé∞ÂíåÊ®°Âºè\tRust ÊåáÂçó\tüìñ Êü•Áúã Scala\tScala ÈõÜÊàêÂíåÊúÄ‰Ω≥ÂÆûË∑µ\tScala ÊåáÂçó\tüìñ Êü•Áúã GraalVM\tÂéüÁîüÈïúÂÉèÊîØÊåÅÂíå AOT ÁºñËØë\tGraalVM ÊåáÂçó\tüìñ Êü•Áúã ÂºÄÂèë\tÊûÑÂª∫ÂíåË¥°ÁåÆ Fory\tÂºÄÂèëÊåáÂçó\tüìñ Êü•Áúã  ","version":"dev","tagName":"h3"},{"title":"ÂçèËÆÆËßÑËåÉ‚Äã","type":1,"pageTitle":"Ê¶ÇËø∞","url":"/zh-CN/docs/next/introduction/overview#ÂçèËÆÆËßÑËåÉ","content":" ËßÑËåÉ\tÊèèËø∞\tÊ∫êÊñá‰ª∂\tÁΩëÁ´ôË∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ\tË∑®ËØ≠Ë®Ä‰∫åËøõÂà∂ÂçèËÆÆ\txlang_serialization_spec.md\tüìñ Êü•Áúã Java Â∫èÂàóÂåñ\tJava ‰ºòÂåñÂçèËÆÆ\tjava_serialization_spec.md\tüìñ Êü•Áúã Ë°åÊ†ºÂºè\tÂü∫‰∫éË°åÁöÑ‰∫åËøõÂà∂Ê†ºÂºè\trow_format_spec.md\tüìñ Êü•Áúã Á±ªÂûãÊò†Â∞Ñ\tË∑®ËØ≠Ë®ÄÁ±ªÂûãËΩ¨Êç¢\txlang_type_mapping.md\tüìñ Êü•Áúã  ","version":"dev","tagName":"h3"},{"title":"ÂÖºÂÆπÊÄß‚Äã","type":1,"pageTitle":"Ê¶ÇËø∞","url":"/zh-CN/docs/next/introduction/overview#ÂÖºÂÆπÊÄß","content":" ","version":"dev","tagName":"h2"},{"title":"Schema ÂÖºÂÆπÊÄß‚Äã","type":1,"pageTitle":"Ê¶ÇËø∞","url":"/zh-CN/docs/next/introduction/overview#schema-ÂÖºÂÆπÊÄß","content":" Apache Fory‚Ñ¢ ÊîØÊåÅ Java„ÄÅPython„ÄÅRust Âíå Golang ÁöÑÁ±ª Schema ÂêëÂâç/ÂêëÂêéÂÖºÂÆπÔºåÊîØÊåÅÁîü‰∫ßÁ≥ªÁªü‰∏≠ÁöÑÊó†Áºù Schema ÊºîËøõÔºåÊó†ÈúÄË∑®ÊâÄÊúâÊúçÂä°ÂçèË∞ÉÂçáÁ∫ß„ÄÇFory Êèê‰æõ‰∏§Áßç Schema ÂÖºÂÆπÊÄßÊ®°ÂºèÔºö  Schema ‰∏ÄËá¥Ê®°ÂºèÔºàÈªòËÆ§ÔºâÔºöÂÅáËÆæÂ∫èÂàóÂåñÂíåÂèçÂ∫èÂàóÂåñÁ´Ø‰πãÈó¥ÁöÑÁ±ª Schema Áõ∏Âêå„ÄÇÊ≠§Ê®°ÂºèÊèê‰æõÊúÄÂ∞èÁöÑÂ∫èÂàóÂåñÂºÄÈîÄ„ÄÅÊúÄÂ∞èÁöÑÊï∞ÊçÆÂ§ßÂ∞èÂíåÊúÄÂø´ÁöÑÊÄßËÉΩÔºöÈÄÇÁî®‰∫éÁ®≥ÂÆöÁöÑ Schema ÊàñÂèóÊéßÁéØÂ¢É„ÄÇ ÂÖºÂÆπÊ®°ÂºèÔºöÊîØÊåÅÁã¨Á´ãÁöÑ Schema ÊºîËøõÔºåÂÖ∑ÊúâÂêëÂâçÂíåÂêëÂêéÂÖºÂÆπÊÄß„ÄÇÊ≠§Ê®°ÂºèÊîØÊåÅÂ≠óÊÆµÊ∑ªÂä†/Âà†Èô§„ÄÅÊúâÈôêÁöÑÁ±ªÂûãÊºîËøõÂíå‰ºòÈõÖÂ§ÑÁêÜ Schema ‰∏çÂåπÈÖç„ÄÇÂú® Java ‰∏≠‰ΩøÁî® withCompatibleMode(CompatibleMode.COMPATIBLE) ÂêØÁî®ÔºåÂú® Python ‰∏≠‰ΩøÁî® compatible=TrueÔºåÂú® Rust ‰∏≠‰ΩøÁî® compatible_mode(true)ÔºåÂú® Go ‰∏≠‰ΩøÁî® NewFory(true)„ÄÇ  ","version":"dev","tagName":"h3"},{"title":"‰∫åËøõÂà∂ÂÖºÂÆπÊÄß‚Äã","type":1,"pageTitle":"Ê¶ÇËø∞","url":"/zh-CN/docs/next/introduction/overview#‰∫åËøõÂà∂ÂÖºÂÆπÊÄß","content":" ÂΩìÂâçÁä∂ÊÄÅÔºöÁî±‰∫éÂçèËÆÆÊåÅÁª≠ÊºîËøõÔºåFory ‰∏ªË¶ÅÁâàÊú¨‰πãÈó¥‰∏ç‰øùËØÅ‰∫åËøõÂà∂ÂÖºÂÆπÊÄß„ÄÇ‰ΩÜÊòØÔºåÊ¨°Ë¶ÅÁâàÊú¨‰πãÈó¥Ôºà‰æãÂ¶Ç 0.13.xÔºâ‰øùËØÅÂÖºÂÆπÊÄß„ÄÇ  Âª∫ËÆÆÔºö  Êåâ Fory ‰∏ªË¶ÅÁâàÊú¨ÂØπÂ∫èÂàóÂåñÊï∞ÊçÆËøõË°åÁâàÊú¨ÊéßÂà∂ÂçáÁ∫ß‰∏ªË¶ÅÁâàÊú¨Êó∂ËßÑÂàíËøÅÁßªÁ≠ñÁï•ËØ¶ËßÅÂçáÁ∫ßÊåáÂçó  Êú™Êù•Ôºö‰ªé Fory 1.0 ÁâàÊú¨ÂºÄÂßãÂ∞Ü‰øùËØÅ‰∫åËøõÂà∂ÂÖºÂÆπÊÄß„ÄÇ  ","version":"dev","tagName":"h3"},{"title":"ÂÆâÂÖ®‚Äã","type":1,"pageTitle":"Ê¶ÇËø∞","url":"/zh-CN/docs/next/introduction/overview#ÂÆâÂÖ®","content":" ","version":"dev","tagName":"h2"},{"title":"Ê¶ÇËø∞‚Äã","type":1,"pageTitle":"Ê¶ÇËø∞","url":"/zh-CN/docs/next/introduction/overview#Ê¶ÇËø∞","content":" Â∫èÂàóÂåñÂÆâÂÖ®ÊÄßÂõ†ÂçèËÆÆËÄåÂºÇÔºö  Ë°åÊ†ºÂºèÔºö‰ΩøÁî®È¢ÑÂÆö‰πâ SchemaÔºåÊú¨Ë¥®‰∏äÂÆâÂÖ®ÂØπË±°ÂõæÂ∫èÂàóÂåñÔºàJava/Python ÂéüÁîüÔºâÔºöÊõ¥ÁÅµÊ¥ª‰ΩÜÈúÄË¶Å‰ªîÁªÜÁöÑÂÆâÂÖ®ÈÖçÁΩÆ  Âä®ÊÄÅÂ∫èÂàóÂåñÂèØ‰ª•ÂèçÂ∫èÂàóÂåñ‰ªªÊÑèÁ±ªÂûãÔºåËøôÂèØËÉΩ‰ºöÂ∏¶Êù•È£éÈô©„ÄÇ‰æãÂ¶ÇÔºåÂèçÂ∫èÂàóÂåñÂèØËÉΩ‰ºöË∞ÉÁî® init ÊûÑÈÄ†ÂáΩÊï∞Êàñ equals/hashCode ÊñπÊ≥ïÔºåÂ¶ÇÊûúÊñπÊ≥ï‰ΩìÂåÖÂê´ÊÅ∂ÊÑè‰ª£Á†ÅÔºåÁ≥ªÁªüÂ∞ÜÈù¢‰∏¥È£éÈô©„ÄÇ  Fory ÈªòËÆ§ÂêØÁî®Âä®ÊÄÅÂçèËÆÆÁöÑÁ±ªÊ≥®ÂÜåÔºåÂè™ÂÖÅËÆ∏Âèó‰ø°‰ªªÁöÑÂ∑≤Ê≥®ÂÜåÁ±ªÂûãÊàñÂÜÖÁΩÆÁ±ªÂûã„ÄÇÈô§ÈùûÊÇ®ËÉΩÁ°Æ‰øùÁéØÂ¢ÉÂÆâÂÖ®ÔºåÂê¶Âàô‰∏çË¶ÅÁ¶ÅÁî®Á±ªÊ≥®ÂÜå„ÄÇ  Â¶ÇÊûúÁ¶ÅÁî®Ê≠§ÈÄâÈ°πÔºåÊÇ®ÈúÄË¶ÅÂØπÂ∫èÂàóÂåñÂÆâÂÖ®Ë¥üË¥£„ÄÇÊÇ®Â∫îËØ•ÂÆûÁé∞Âπ∂ÈÖçÁΩÆËá™ÂÆö‰πâÁöÑ ClassChecker Êàñ DeserializationPolicy ‰ª•ËøõË°åÁªÜÁ≤íÂ∫¶ÁöÑÂÆâÂÖ®ÊéßÂà∂„ÄÇ  Ë¶ÅÊä•Âëä Apache Fory‚Ñ¢ ‰∏≠ÁöÑÂÆâÂÖ®ÊºèÊ¥ûÔºåËØ∑ÈÅµÂæ™ ASF ÊºèÊ¥ûÊä•ÂëäÊµÅÁ®ã„ÄÇ  ","version":"dev","tagName":"h3"},{"title":"Á§æÂå∫‰∏éÊîØÊåÅ‚Äã","type":1,"pageTitle":"Ê¶ÇËø∞","url":"/zh-CN/docs/next/introduction/overview#Á§æÂå∫‰∏éÊîØÊåÅ","content":" ","version":"dev","tagName":"h2"},{"title":"Ëé∑ÂèñÂ∏ÆÂä©‚Äã","type":1,"pageTitle":"Ê¶ÇËø∞","url":"/zh-CN/docs/next/introduction/overview#Ëé∑ÂèñÂ∏ÆÂä©","content":" SlackÔºöÂä†ÂÖ•Êàë‰ª¨ÁöÑ Slack Â∑•‰ΩúÂå∫ÂèÇ‰∏éÁ§æÂå∫ËÆ®ËÆ∫Twitter/XÔºöÂÖ≥Ê≥® @ApacheFory Ëé∑ÂèñÊõ¥Êñ∞ÂíåÂÖ¨ÂëäGitHub IssuesÔºöÂú® apache/fory Êä•ÂëäÈîôËØØÂíåËØ∑Ê±ÇÂäüËÉΩÈÇÆ‰ª∂ÂàóË°®ÔºöËÆ¢ÈòÖ Apache Fory ÈÇÆ‰ª∂ÂàóË°®ÂèÇ‰∏éÂºÄÂèëËÆ®ËÆ∫  ","version":"dev","tagName":"h3"},{"title":"Ë¥°ÁåÆ‚Äã","type":1,"pageTitle":"Ê¶ÇËø∞","url":"/zh-CN/docs/next/introduction/overview#Ë¥°ÁåÆ","content":" Êàë‰ª¨Ê¨¢ËøéË¥°ÁåÆÔºÅËØ∑ÈòÖËØªÊàë‰ª¨ÁöÑË¥°ÁåÆÊåáÂçóÂºÄÂßã„ÄÇ  Ë¥°ÁåÆÊñπÂºèÔºö  üêõ Êä•ÂëäÈîôËØØÂíåÈóÆÈ¢òüí° ÊèêÂá∫Êñ∞ÂäüËÉΩüìù ÊîπËøõÊñáÊ°£üîß Êèê‰∫§ Pull Requestüß™ Ê∑ªÂä†ÊµãËØïÁî®‰æãüìä ÂàÜ‰∫´Âü∫ÂáÜÊµãËØï  ËØ¶ËßÅÂºÄÂèëÊåáÂçó‰∫ÜËß£ÊûÑÂª∫ËØ¥ÊòéÂíåÂºÄÂèëÂ∑•‰ΩúÊµÅÁ®ã„ÄÇ ","version":"dev","tagName":"h3"},{"title":"Java Â∫èÂàóÂåñÊ†ºÂºè","type":0,"sectionRef":"#","url":"/zh-CN/docs/next/specification/java_serialization_spec","content":"","keywords":"","version":"dev"},{"title":"ËßÑËåÉÊ¶ÇËßà‚Äã","type":1,"pageTitle":"Java Â∫èÂàóÂåñÊ†ºÂºè","url":"/zh-CN/docs/next/specification/java_serialization_spec#ËßÑËåÉÊ¶ÇËßà","content":" Fory Java ÂéüÁîüÊ†ºÂºèÈù¢Âêë Java ÂØπË±°ÂõæÔºåÊîØÊåÅÔºö  ÂÖ±‰∫´ÂºïÁî®‰∏éÂæ™ÁéØÂºïÁî®Â§öÊÄÅÂØπË±°ÂèØÈÄâ schema ÊºîËøõÊµÅÂºèÂÜôÂÖ•ÔºàÂÖ±‰∫´ type meta ÊåâÈúÄÂÜÖËÅîÔºå‰∏çË¶ÅÊ±ÇÈ¢ÑÂÖà meta Âå∫Ôºâ  Java native ÊòØ xlang ÁºñÁ†ÅÊ†ºÂºèÁöÑÊâ©Â±ïÔºåÂ§çÁî®Áõ∏ÂêåÊ†∏ÂøÉÂ∏ß‰∏éÂü∫Á°ÄÁºñÁ†Å„ÄÇ  ÊÄª‰ΩìÂ∏ÉÂ±ÄÔºö  | fory header | object ref meta | object type meta | object value data |   Â≠óËäÇÂ∫èÁªü‰∏Ä‰∏∫ little-endian„ÄÇÂ§ßÁ´ØÂπ≥Âè∞ÂÆûÁé∞ÈúÄÂú®Êï∞ÁªÑÁ≠âË∑ØÂæÑÂÅöÂ≠óËäÇÂ∫èËΩ¨Êç¢ÔºåÁ°Æ‰øùÁ∫ø‰∏äÊ†ºÂºè‰∏ÄËá¥„ÄÇ  ","version":"dev","tagName":"h2"},{"title":"Fory Â§¥ÈÉ®‚Äã","type":1,"pageTitle":"Java Â∫èÂàóÂåñÊ†ºÂºè","url":"/zh-CN/docs/next/specification/java_serialization_spec#fory-Â§¥ÈÉ®","content":" Java ÂéüÁîüÂ∫èÂàóÂåñÂ§¥ÈÉ®ÊòØ 1-byte ‰ΩçÂõæÔºö  | 5 bits | 1 bit | 1 bit | 1 bit | +--------------+-------+-------+-------+ | reserved | oob | xlang | null |   Âê´‰πâÔºö  nullÔºöÂØπË±°ÊòØÂê¶‰∏∫ nullÔºà‰∏∫ 1 Êó∂ÂÖ∂‰Ωô‰Ωç‰∏çÂ∫îÁΩÆ‰ΩçÔºâxlangÔºö1 Ë°®Á§∫ xlang Ê†ºÂºèÔºå0 Ë°®Á§∫ Java nativeoobÔºö1 Ë°®Á§∫Â≠òÂú® BufferCallback  Â§¥ÈÉ®ÂßãÁªà 1 Â≠óËäÇÔºå‰∏çÈ¢ùÂ§ñÂÜô language ID„ÄÇ  ","version":"dev","tagName":"h2"},{"title":"ÂºïÁî®ÂÖÉ‰ø°ÊÅØ‚Äã","type":1,"pageTitle":"Java Â∫èÂàóÂåñÊ†ºÂºè","url":"/zh-CN/docs/next/specification/java_serialization_spec#ÂºïÁî®ÂÖÉ‰ø°ÊÅØ","content":" ÂºïÁî®Ë∑üË∏™Ê†áËÆ∞‰∏é xlang ‰∏ÄËá¥Ôºö  Ê†áËÆ∞\tÂ≠óËäÇÂÄº\tËØ¥ÊòéNULL FLAG\t-3\tÂØπË±°‰∏∫ nullÔºåÂêéÁª≠‰∏çÂÜôÂØπË±°ÂÜÖÂÆπ REF FLAG\t-2\tÂ∑≤Âá∫Áé∞ÂØπË±°ÔºåÂêéÊé• varuint32 ÁöÑ reference ID NOT_NULL VALUE FLAG\t-1\tÈùûÁ©∫‰ΩÜËØ•Á±ªÂûãÊú™ÂêØÁî®ÂºïÁî®Ë∑üË∏™ÔºåÂêéÊé•ÂØπË±°ÂÜÖÂÆπ REF VALUE FLAG\t0\tÂèØÂºïÁî®ÂØπË±°È¶ñÊ¨°Âá∫Áé∞ÔºåÂêéÊé•ÂØπË±°ÂÜÖÂÆπÔºåÂπ∂ÂàÜÈÖçÊñ∞ reference ID  ÂΩìÂÖ®Â±ÄÊàñÂ≠óÊÆµÁ∫ßÁ¶ÅÁî®ÂºïÁî®Ë∑üË∏™Êó∂Ôºå‰ªÖ‰ΩøÁî® NULL FLAG ‰∏é NOT_NULL VALUE FLAG„ÄÇ  ","version":"dev","tagName":"h2"},{"title":"Type system and type IDs‚Äã","type":1,"pageTitle":"Java Â∫èÂàóÂåñÊ†ºÂºè","url":"/zh-CN/docs/next/specification/java_serialization_spec#type-system-and-type-ids","content":" Java native ‰ΩøÁî®‰∏é xlang Áªü‰∏ÄÁöÑÁ±ªÂûã ID ÁªÑÂêàÊñπÂºèÔºö  full_type_id = (user_type_id &lt;&lt; 8) | internal_type_id   internal_type_idÔºö‰Ωé 8 ‰ΩçÔºåË°®Á§∫Á±ªÂûãÁßçÁ±ªuser_type_idÔºöÁî®Êà∑Ê≥®ÂÜåÊï∞ÂÄº IDÔºàÈÄÇÁî®‰∫éÁî®Êà∑ enum/struct/extÔºânamed Á±ªÂûã‰ΩøÁî® NAMED_*ÔºåÂÖ∂Ê†áËØÜÊù•Ëá™ÂÖÉ‰ø°ÊÅØÔºàÂëΩÂêçÁ©∫Èó¥+Á±ªÂûãÂêçÔºâ  ","version":"dev","tagName":"h2"},{"title":"Shared internal type IDs (0-63)‚Äã","type":1,"pageTitle":"Java Â∫èÂàóÂåñÊ†ºÂºè","url":"/zh-CN/docs/next/specification/java_serialization_spec#shared-internal-type-ids-0-63","content":" Java native ‰∏é xlang ÂÖ±‰∫´ &lt; 64 ÁöÑ internal IDsÔºö  0~56 Â∑≤ÂÆö‰πâ57~63 È¢ÑÁïô  ËØ¶ËßÅ Xlang Serialization Format„ÄÇ  ","version":"dev","tagName":"h3"},{"title":"Java native built-in type IDs‚Äã","type":1,"pageTitle":"Java Â∫èÂàóÂåñÊ†ºÂºè","url":"/zh-CN/docs/next/specification/java_serialization_spec#java-native-built-in-type-ids","content":" Java ‰∏ìÊúâÂÜÖÂª∫Á±ªÂûã‰ªé Types.BOUND + 5 ÂºÄÂßãÔºàTypes.BOUND=64ÔºåÈ¢ÑÁïô 5 ‰∏™Ôºâ„ÄÇ  Type ID\tName\tDescription69\tVOID_ID\tjava.lang.Void 70\tCHAR_ID\tjava.lang.Character 71\tPRIMITIVE_VOID_ID\tvoid 72\tPRIMITIVE_BOOL_ID\tboolean 73\tPRIMITIVE_INT8_ID\tbyte 74\tPRIMITIVE_CHAR_ID\tchar 75\tPRIMITIVE_INT16_ID\tshort 76\tPRIMITIVE_INT32_ID\tint 77\tPRIMITIVE_FLOAT32_ID\tfloat 78\tPRIMITIVE_INT64_ID\tlong 79\tPRIMITIVE_FLOAT64_ID\tdouble 80\tPRIMITIVE_BOOLEAN_ARRAY_ID\tboolean[] 81\tPRIMITIVE_BYTE_ARRAY_ID\tbyte[] 82\tPRIMITIVE_CHAR_ARRAY_ID\tchar[] 83\tPRIMITIVE_SHORT_ARRAY_ID\tshort[] 84\tPRIMITIVE_INT_ARRAY_ID\tint[] 85\tPRIMITIVE_FLOAT_ARRAY_ID\tfloat[] 86\tPRIMITIVE_LONG_ARRAY_ID\tlong[] 87\tPRIMITIVE_DOUBLE_ARRAY_ID\tdouble[] 88\tSTRING_ARRAY_ID\tString[] 89\tOBJECT_ARRAY_ID\tObject[] 90\tARRAYLIST_ID\tjava.util.ArrayList 91\tHASHMAP_ID\tjava.util.HashMap 92\tHASHSET_ID\tjava.util.HashSet 93\tCLASS_ID\tjava.lang.Class 94\tEMPTY_OBJECT_ID\tempty object stub 95\tLAMBDA_STUB_ID\tlambda stub 96\tJDK_PROXY_STUB_ID\tJDK proxy stub 97\tREPLACE_STUB_ID\twriteReplace/readResolve stub 98\tNONEXISTENT_META_SHARED_ID\tmeta-shared unknown class stub  ","version":"dev","tagName":"h3"},{"title":"Registration and named types‚Äã","type":1,"pageTitle":"Java Â∫èÂàóÂåñÊ†ºÂºè","url":"/zh-CN/docs/next/specification/java_serialization_spec#registration-and-named-types","content":" Áî®Êà∑Á±ªÂûãÂèØÊåâÊï∞ÂÄºÊàñÂêçÁß∞Ê≥®ÂÜåÔºö  Êï∞ÂÄºÊ≥®ÂÜåÔºöfull_type_id = (user_id &lt;&lt; 8) | internal_type_idÂêçÁß∞Ê≥®ÂÜåÔºöÈÄöËøá namespace + typenameÊú™Ê≥®ÂÜåÁ±ªÂûãÊåâ named Á±ªÂûãÂÜôÂá∫Ôºànamespace=ÂåÖÂêçÔºåtypename=Á±ªÂêçÔºâ  Êú™Ê≥®ÂÜåÊó∂ÂëΩÂêçÁ±ªÂûãÈÄâÊã©Ôºö  enum -&gt; NAMED_ENUMstruct-like -&gt; NAMED_STRUCTÔºàÂÖºÂÆπÊ®°Âºè‰∏ã NAMED_COMPATIBLE_STRUCTÔºâÂÖ∂‰ªñËá™ÂÆö‰πâ serializer -&gt; NAMED_EXT  ","version":"dev","tagName":"h3"},{"title":"Type meta encoding‚Äã","type":1,"pageTitle":"Java Â∫èÂàóÂåñÊ†ºÂºè","url":"/zh-CN/docs/next/specification/java_serialization_spec#type-meta-encoding","content":" ÊØè‰∏™ÂÄºÂÜôÂÖ•ÊµÅÁ®ãÔºö  ÂÜô type_idÔºàvaruint32 small7ÔºâÂØπ NAMED_* / COMPATIBLE_STRUCT Á≠âÁ±ªÂûãÊåâËßÑÂàôÂÜôÈ¢ùÂ§ñÂÖÉ‰ø°ÊÅØÂÖ∂‰ΩôÁ±ªÂûãÊó†ÈúÄÈ¢ùÂ§ñ meta  ","version":"dev","tagName":"h2"},{"title":"Shared class meta (streaming)‚Äã","type":1,"pageTitle":"Java Â∫èÂàóÂåñÊ†ºÂºè","url":"/zh-CN/docs/next/specification/java_serialization_spec#shared-class-meta-streaming","content":" ÂºÄÂêØ meta share Êó∂Ôºå‰ΩøÁî®ÊµÅÂºèÂÖ±‰∫´ class metaÔºö  | varuint32: index_marker | [class def bytes if new] | index_marker = (index &lt;&lt; 1) | flag flag = 1 -&gt; reference flag = 0 -&gt; new type   flag=1ÔºöÂºïÁî®ÂéÜÂè≤ typeÔºåÂêéÁª≠Êó† class def bytesflag=0ÔºöÊñ∞ typeÔºåÂêéÁª≠ÂÜÖËÅî class defindex ÊåâÈ¶ñÊ¨°Âá∫Áé∞È°∫Â∫èÈÄíÂ¢û  ","version":"dev","tagName":"h3"},{"title":"Schema modes‚Äã","type":1,"pageTitle":"Java Â∫èÂàóÂåñÊ†ºÂºè","url":"/zh-CN/docs/next/specification/java_serialization_spec#schema-modes","content":" Java native ÊîØÊåÅ‰∏§ÁßçÊ®°ÂºèÔºö  Schema consistentÔºàcompatible ÂÖ≥Èó≠ÔºâÔºöÂ≠óÊÆµÊåâÂõ∫ÂÆöÈ°∫Â∫èÂÜôÔºå‰∏çÈúÄË¶Å ClassDefSchema evolutionÔºàcompatible ÂºÄÂêØÔºâÔºöÊåâ ClassDef ÂÖÉ‰ø°ÊÅØÊîØÊåÅÊºîËøõ  ","version":"dev","tagName":"h2"},{"title":"ClassDef format (compatible mode)‚Äã","type":1,"pageTitle":"Java Â∫èÂàóÂåñÊ†ºÂºè","url":"/zh-CN/docs/next/specification/java_serialization_spec#classdef-format-compatible-mode","content":" ClassDef ÊòØ compatible struct ÁöÑÊºîËøõÂÖÉ‰ø°ÊÅØ„ÄÇ  ","version":"dev","tagName":"h2"},{"title":"Binary layout‚Äã","type":1,"pageTitle":"Java Â∫èÂàóÂåñÊ†ºÂºè","url":"/zh-CN/docs/next/specification/java_serialization_spec#binary-layout","content":" | 8 bytes header | [varuint32 extra size] | class meta bytes |   header ‰ΩçÂ∏ÉÂ±ÄÔºö  | 50-bit hash | 4 bits reserved | 1 bit compress | 1 bit has_fields_meta | 8-bit size |   ËßÑÂàôÔºö  size ‰∏∫‰Ωé 8 ‰ΩçÔºõËã•‰∏∫ 0xFFÔºåÂêéÊé•Êâ©Â±ïÈïøÂ∫¶compressÔºöpayload ÊòØÂê¶ÂéãÁº©has_fields_metaÔºöÊòØÂê¶Âê´Â≠óÊÆµÂÖÉ‰ø°ÊÅØreserved ÂøÖÈ°ª‰∏∫ 0hash ‰∏∫ payload + flags ÁöÑ 50-bit ÂìàÂ∏å  ","version":"dev","tagName":"h3"},{"title":"Class meta bytes‚Äã","type":1,"pageTitle":"Java Â∫èÂàóÂåñÊ†ºÂºè","url":"/zh-CN/docs/next/specification/java_serialization_spec#class-meta-bytes","content":" Ë°®Á§∫Á∫øÊÄßÂåñÁªßÊâøÂ±ÇÊ¨°ÔºàÁà∂ -&gt; Â≠êÔºâ‰∏éÂ≠óÊÆµ‰ø°ÊÅØÔºö  | num_classes | class_layer_0 | class_layer_1 | ... | class_layer: | num_fields &lt;&lt; 1 | registered_flag | [type_id if registered] | | namespace | type_name | field_infos |   ","version":"dev","tagName":"h3"},{"title":"Field info‚Äã","type":1,"pageTitle":"Java Â∫èÂàóÂåñÊ†ºÂºè","url":"/zh-CN/docs/next/specification/java_serialization_spec#field-info","content":" ÊØè‰∏™Â≠óÊÆµÔºö  | field_header | [field_name_bytes] | field_type |   field_headerÔºö  bit0: trackingRefbit1: nullablebit2-3: Â≠óÊÆµÂêçÁºñÁ†Åbit4-6: name length/tag IDÔºà7 Ë°®Á§∫Êâ©Â±ïÔºâbit7: reserved=0  Â≠óÊÆµÂêçÁºñÁ†ÅÔºö  0: UTF81: ALL_TO_LOWER_SPECIAL2: LOWER_UPPER_DIGIT_SPECIAL3: TAG_IDÔºàÁúÅÁï•Â≠óÊÆµÂêçÔºåÂ≠ò tagÔºâ  ","version":"dev","tagName":"h3"},{"title":"Field type encoding‚Äã","type":1,"pageTitle":"Java Â∫èÂàóÂåñÊ†ºÂºè","url":"/zh-CN/docs/next/specification/java_serialization_spec#field-type-encoding","content":" Â≠óÊÆµÁ±ªÂûã‰ΩøÁî® type tag + ÂèØÈÄâÂµåÂ•óÁ±ªÂûã‰ø°ÊÅØÔºö  Tag\tÂ≠óÊÆµÁ±ªÂûã0\tObject (ObjectFieldType) 1\tMap (MapFieldType) 2\tCollection/List/Set (CollectionFieldType) 3\tArray (ArrayFieldType) 4\tEnum (EnumFieldType) 5+\tRegistered type (RegisteredFieldType)  ÂµåÂ•óÁ±ªÂûãÂ§¥ÈÉ®‰Ωé‰ΩçÂèØÊê∫Â∏¶ nullable/tracking_ref Ê†áÂøó„ÄÇ  ","version":"dev","tagName":"h3"},{"title":"Meta string encoding‚Äã","type":1,"pageTitle":"Java Â∫èÂàóÂåñÊ†ºÂºè","url":"/zh-CN/docs/next/specification/java_serialization_spec#meta-string-encoding","content":" namespace„ÄÅtype name„ÄÅfield name Â§çÁî® xlang ÁöÑ meta string ÁºñÁ†Å„ÄÇ  ","version":"dev","tagName":"h2"},{"title":"Package and type names‚Äã","type":1,"pageTitle":"Java Â∫èÂàóÂåñÊ†ºÂºè","url":"/zh-CN/docs/next/specification/java_serialization_spec#package-and-type-names","content":" Â§¥ÈÉ®Ôºö  | 6 bits size | 2 bits encoding |   size=63 Êó∂ËøΩÂä†Êâ©Â±ïÈïøÂ∫¶package ÊîØÊåÅÔºöUTF8 / ALL_TO_LOWER_SPECIAL / LOWER_UPPER_DIGIT_SPECIALtype name ÊîØÊåÅÔºöUTF8 / LOWER_UPPER_DIGIT_SPECIAL / FIRST_TO_LOWER_SPECIAL / ALL_TO_LOWER_SPECIAL  ","version":"dev","tagName":"h3"},{"title":"Field names‚Äã","type":1,"pageTitle":"Java Â∫èÂàóÂåñÊ†ºÂºè","url":"/zh-CN/docs/next/specification/java_serialization_spec#field-names","content":" Â≠óÊÆµÂêçÁºñÁ†Å‰∏é ClassDef ÁöÑ field header ËßÑÂàô‰∏ÄËá¥ÔºõËã•‰ΩøÁî® TAG_IDÔºåÂàô‰∏çÂÜôÂêçÂ≠óÂ≠óËäÇ„ÄÇ  ","version":"dev","tagName":"h3"},{"title":"Encoding algorithms‚Äã","type":1,"pageTitle":"Java Â∫èÂàóÂåñÊ†ºÂºè","url":"/zh-CN/docs/next/specification/java_serialization_spec#encoding-algorithms","content":" ÂÖ∑‰ΩìÁÆóÊ≥ïÂèÇËßÅ xlang ËßÑËåÉ #meta-string„ÄÇ  ","version":"dev","tagName":"h3"},{"title":"Value encodings‚Äã","type":1,"pageTitle":"Java Â∫èÂàóÂåñÊ†ºÂºè","url":"/zh-CN/docs/next/specification/java_serialization_spec#value-encodings","content":" ‰ª•‰∏ã‰∏∫ Java native Â∏∏ËßÅÂÜÖÂª∫ serializer ÁöÑÂÄºÂ∏ÉÂ±Ä„ÄÇËá™ÂÆö‰πâ EXT ÂèØÂÆö‰πâËá™Ë∫´ÂÄºÊ†ºÂºèÔºå‰ΩÜÂøÖÈ°ªÈÅµÂæ™‚ÄúÂºïÁî®ÂÖÉ‰ø°ÊÅØ + Á±ªÂûãÂÖÉ‰ø°ÊÅØ‚ÄùÈÄöÈÅìËßÑÂàô„ÄÇ  ","version":"dev","tagName":"h2"},{"title":"Primitives‚Äã","type":1,"pageTitle":"Java Â∫èÂàóÂåñÊ†ºÂºè","url":"/zh-CN/docs/next/specification/java_serialization_spec#primitives","content":" boolean: 1 byteÔºà0/1Ôºâbyte: 1 byteshort: 2 bytes little-endianchar: 2 bytes little-endianÔºàUTF-16 code unitÔºâint: fixed(4 bytes) Êàñ varint32(ZigZag)long: fixed(8 bytes) / varint64(ZigZag) / tagged int64float: IEEE754 float32double: IEEE754 float64  ","version":"dev","tagName":"h3"},{"title":"String‚Äã","type":1,"pageTitle":"Java Â∫èÂàóÂåñÊ†ºÂºè","url":"/zh-CN/docs/next/specification/java_serialization_spec#string","content":" | varuint36_small: (num_bytes &lt;&lt; 2) | coder | string bytes |   coder(2 bits)ÔºöLATIN1 / UTF16 / UTF8UTF16 ÈááÁî® little-endian code unit  ","version":"dev","tagName":"h3"},{"title":"Enum‚Äã","type":1,"pageTitle":"Java Â∫èÂàóÂåñÊ†ºÂºè","url":"/zh-CN/docs/next/specification/java_serialization_spec#enum","content":" serializeEnumByName=trueÔºöÂÜô enum ÂêçÁß∞Ôºàmeta stringÔºâÂê¶ÂàôÔºöÂÜô ordinalÔºàvaruint32 small7Ôºâ  ","version":"dev","tagName":"h3"},{"title":"Binary (byte[])‚Äã","type":1,"pageTitle":"Java Â∫èÂàóÂåñÊ†ºÂºè","url":"/zh-CN/docs/next/specification/java_serialization_spec#binary-byte","content":" | varuint32: num_bytes | raw bytes |   ","version":"dev","tagName":"h3"},{"title":"Primitive arrays‚Äã","type":1,"pageTitle":"Java Â∫èÂàóÂåñÊ†ºÂºè","url":"/zh-CN/docs/next/specification/java_serialization_spec#primitive-arrays","content":" ÈªòËÆ§Ôºö  | varuint32: byte_length | raw bytes |   ÂèØÈÄâÂéãÁº©Ôºö  compressIntArrayÔºö| length | varint32... |compressLongArrayÔºö| length | varint64/tagged... |  ","version":"dev","tagName":"h3"},{"title":"Object arrays‚Äã","type":1,"pageTitle":"Java Â∫èÂàóÂåñÊ†ºÂºè","url":"/zh-CN/docs/next/specification/java_serialization_spec#object-arrays","content":" | varuint32_small7: (length &lt;&lt; 1) | mono_flag |   mono_flag=1ÔºöÂçïÊÄÅÊï∞ÁªÑÔºåÂÖ±‰∫´ÁªÑ‰ª∂ serializermono_flag=0ÔºöÊØèÂÖÉÁ¥†Áã¨Á´ã class info + data  ","version":"dev","tagName":"h3"},{"title":"Collections (List/Set)‚Äã","type":1,"pageTitle":"Java Â∫èÂàóÂåñÊ†ºÂºè","url":"/zh-CN/docs/next/specification/java_serialization_spec#collections-listset","content":" | varuint32_small7: length | elements_header | [elem_class_info] | elements... |   elements_headerÔºö  bit0: TRACKING_REFbit1: HAS_NULLbit2: IS_DECL_ELEMENT_TYPEbit3: IS_SAME_TYPE  ","version":"dev","tagName":"h3"},{"title":"Maps‚Äã","type":1,"pageTitle":"Java Â∫èÂàóÂåñÊ†ºÂºè","url":"/zh-CN/docs/next/specification/java_serialization_spec#maps","content":" | varuint32_small7: size | chunk_1 | chunk_2 | ... | chunk: | header | chunk_size | [key_class_info] | [value_class_info] | entries... |   Map ÈááÁî® chunk ÁºñÁ†ÅÔºåÊØèÂùóÊúÄÂ§ö 255 entriesÔºõkey/value ÁöÑÂºïÁî®Ë∑üË∏™‰∏éÁ±ªÂûãÂ£∞ÊòéÊåâ header ‰ΩçÂõæÊéßÂà∂„ÄÇ  Null key/value entries‚Äã  null key Êàñ null value ‰ΩøÁî®ÁâπÊÆäÂçïÊù° chunkÔºå‰∏çÂÜô chunk_sizeÔºåÂè™ÂÜôÂØπÂ∫î payload„ÄÇ  ","version":"dev","tagName":"h3"},{"title":"Objects and structs‚Äã","type":1,"pageTitle":"Java Â∫èÂàóÂåñÊ†ºÂºè","url":"/zh-CN/docs/next/specification/java_serialization_spec#objects-and-structs","content":" ÂØπË±°ÂÄºÈÄöÈÅìÔºö  | ref meta | type meta | field data |   Ê†áÂáÜÂØπË±°Â∫èÂàóÂåñ‰∏≠Ôºö  Â≠óÊÆµÊåâÁ®≥ÂÆöÈ°∫Â∫èÔºàDescriptorGrouperÔºâÊéíÂ∫ècompatible Ê®°ÂºèÂèØÂÄüÂä© ClassDef Êò†Â∞ÑÂ≠óÊÆµÂπ∂Ë∑≥ËøáÊú™Áü•Â≠óÊÆµÂ≠óÊÆµÊòØÂê¶ÂÜô ref/type meta Áî± nullable/ref/polymorphic Á≠ñÁï•ÂÜ≥ÂÆö  ","version":"dev","tagName":"h3"},{"title":"Extensions (EXT)‚Äã","type":1,"pageTitle":"Java Â∫èÂàóÂåñÊ†ºÂºè","url":"/zh-CN/docs/next/specification/java_serialization_spec#extensions-ext","content":" EXT Á±ªÂûãÂÄºÁî±Ê≥®ÂÜå serializer ÂÆö‰πâÔºõ‰ΩÜÂÖ∂Â§ñÂ±Ç‰ªçÈÅµÂæ™Áªü‰∏ÄÁöÑÂºïÁî®‰∏éÁ±ªÂûãÂÖÉ‰ø°ÊÅØÂçèËÆÆ„ÄÇ  ","version":"dev","tagName":"h3"},{"title":"Out-of-band buffers‚Äã","type":1,"pageTitle":"Java Â∫èÂàóÂåñÊ†ºÂºè","url":"/zh-CN/docs/next/specification/java_serialization_spec#out-of-band-buffers","content":" ÂΩìÊèê‰æõ BufferCallback Êó∂Ôºåheader ÁöÑ oob ‰ΩçÁΩÆ 1„ÄÇÊ≠§Êó∂ serializer ÂèØËæìÂá∫‚ÄúÁºìÂÜ≤Âå∫ÂºïÁî®‚ÄùËÄåÈùûÂÜÖËÅîÂ≠óËäÇÔºàÂ¶ÇÂ§ßÊï∞ÁªÑÔºâ„ÄÇ ‰∏ªÊµÅ‰∏≠‰ªÖ‰øùÁïôÂºïÁî®‰ø°ÊÅØÔºåÂÖ∑‰Ωì OOB ÁºìÂÜ≤Âå∫ÂçèËÆÆÁî± callback ÂÆûÁé∞ÂÆö‰πâ„ÄÇ ","version":"dev","tagName":"h2"},{"title":"Row Ê†ºÂºè","type":0,"sectionRef":"#","url":"/zh-CN/docs/next/specification/row_format_spec","content":"","keywords":"","version":"dev"},{"title":"Ê¶ÇËø∞‚Äã","type":1,"pageTitle":"Row Ê†ºÂºè","url":"/zh-CN/docs/next/specification/row_format_spec#Ê¶ÇËø∞","content":" Apache Fory Row Format ÊòØÈù¢ÂêëÈ´òÊÄßËÉΩÊï∞ÊçÆÂ§ÑÁêÜÁöÑ‰∫åËøõÂà∂Â∏ÉÂ±ÄÔºåÁõÆÊ†áÊòØ‚ÄúÂèØÈöèÊú∫ËÆøÈóÆ + ‰ΩéÊã∑Ë¥ù + Ë∑®ËØ≠Ë®Ä‰∏ÄËá¥‚Äù„ÄÇ  Áõ∏ËæÉ‰∫éÂøÖÈ°ªÊï¥ÂØπË±°ÂèçÂ∫èÂàóÂåñÁöÑÊ†ºÂºèÔºåRow Format ÊîØÊåÅÔºö  ÈöèÊú∫Â≠óÊÆµËØªÂèñÔºöÂè™ËØªÁõÆÊ†áÂ≠óÊÆµÈõ∂Êã∑Ë¥ùËÆøÈóÆÔºöÂú®ÂèØË°åÂú∫ÊôØÁõ¥Êé•Âü∫‰∫éÂÜÖÂ≠òÂàáÁâáËØªÂèñÁºìÂ≠òÂèãÂ•ΩÂ∏ÉÂ±ÄÔºöÈôç‰Ωé CPU cache missË∑®ËØ≠Ë®Ä‰∏ÄËá¥ÊÄßÔºöJava/C++/Python ÂèØÂÖ±‰∫´Ê†áÂáÜÊ†ºÂºè  Fory Êèê‰æõ‰∏§ÁßçÂèò‰ΩìÔºö  Ê†ºÂºè\tÊîØÊåÅËØ≠Ë®Ä\tÂÖ∏ÂûãÁî®ÈÄîStandard Format\tJava„ÄÅC++„ÄÅPython\tË∑®ËØ≠Ë®Ä‰∏ÄËá¥„ÄÅÂÆûÁé∞ÁÆÄÂçï Compact Format\t‰ªÖ Java\tÊõ¥Â∞è‰ΩìÁßØ„ÄÅÊõ¥È´òÂ±ÄÈÉ®ÊÄß  ","version":"dev","tagName":"h2"},{"title":"Ê†ºÂºèÂØπÊØî‚Äã","type":1,"pageTitle":"Row Ê†ºÂºè","url":"/zh-CN/docs/next/specification/row_format_spec#Ê†ºÂºèÂØπÊØî","content":" ÁâπÊÄß\tStandard Format\tCompact FormatÂ≠óÊÆµÊßΩ‰ΩçÂ§ßÂ∞è\tÂõ∫ÂÆö 8 Â≠óËäÇ\tÊåâËá™ÁÑ∂ÂÆΩÂ∫¶Ôºà1/2/4/8 Â≠óËäÇÔºâ Null Bitmap\t8 Â≠óËäÇÂØπÈΩê\tÂ≠óËäÇÂØπÈΩêÔºåÂèØÂÄüÁî®Â∞æÈÉ® padding Null Bitmap ‰ΩçÁΩÆ\tÂ≠óÊÆµÊßΩ‰Ωç‰πãÂâç\tÂ≠óÊÆµÊßΩ‰Ωç‰πãÂêéÔºàÂ∞æÈÉ®Ôºâ Âõ∫ÂÆöÂ§ßÂ∞è struct\tÊîæÂú® variable regionÔºàoffset+sizeÔºâ\tÂèØÂÜÖËÅîÂà∞ fixed region Â≠óÊÆµÈ°∫Â∫è\tÊåâ schema ÂÆö‰πâÈ°∫Â∫è\tÊåâÂØπÈΩêËßÑÂàôÊéíÂ∫è ÂÖ®ÈùûÁ©∫Â≠óÊÆµ\t‰ªç‰øùÁïô bitmap\tÂèØÂÆåÂÖ®ÁúÅÁï• bitmap ÂØπÈΩêÁ≠ñÁï•\t‰∏•Ê†º 8 Â≠óËäÇ\tÊîæÂÆΩÔºà2/4/8 Â≠óËäÇÔºâ  ","version":"dev","tagName":"h2"},{"title":"Ê†áÂáÜ Row Ê†ºÂºè‚Äã","type":1,"pageTitle":"Row Ê†ºÂºè","url":"/zh-CN/docs/next/specification/row_format_spec#Ê†áÂáÜ-row-Ê†ºÂºè","content":" Ê†áÂáÜÊ†ºÂºèÂº∫Ë∞ÉË∑®ËØ≠Ë®ÄÁªü‰∏Ä‰∏éÂÆûÁé∞Á®≥ÂÆöÔºöÂ≠óÊÆµÊßΩ‰ΩçÁªü‰∏Ä 8 Â≠óËäÇ„ÄÇ  ","version":"dev","tagName":"h2"},{"title":"ËÆæËÆ°ÂéüÂàô‚Äã","type":1,"pageTitle":"Row Ê†ºÂºè","url":"/zh-CN/docs/next/specification/row_format_spec#ËÆæËÆ°ÂéüÂàô","content":" 8 Â≠óËäÇÂØπÈΩêÔºö‰∏ªË¶ÅÁªìÊûÑÊåâ 8-byte ÂØπÈΩêÂõ∫ÂÆöÊßΩ‰ΩçÔºöÊØèÂ≠óÊÆµÂõ∫ÂÆö 8-byte slotÔºå‰æø‰∫éÂ∏∏Êï∞Êó∂Èó¥ÂØªÂùÄ‰ΩçÂõæÊ†áËÆ∞ nullÔºöÈÄöËøá bitset Ë∑üË∏™Á©∫ÂÄºÁõ∏ÂØπÂÅèÁßªÔºöÂèòÈïøÊï∞ÊçÆÈÄöËøáÁõ∏ÂØπÂÅèÁßªÂÆö‰Ωç  ","version":"dev","tagName":"h3"},{"title":"Row ‰∫åËøõÂà∂Â∏ÉÂ±Ä‚Äã","type":1,"pageTitle":"Row Ê†ºÂºè","url":"/zh-CN/docs/next/specification/row_format_spec#row-‰∫åËøõÂà∂Â∏ÉÂ±Ä","content":" +----------------+------------------+------------------+-----+------------------+------------------+ | Null Bitmap | Field 0 Slot | Field 1 Slot | ... | Field N-1 Slot | Variable Data | +----------------+------------------+------------------+-----+------------------+------------------+ | B bytes | 8 bytes | 8 bytes | | 8 bytes | Variable size |   Null Bitmap‚Äã  Â§ßÂ∞èÔºö((num_fields + 63) / 64) * 8 Â≠óËäÇÔºàÂêë‰∏äÂèñÊï¥Âà∞ 8-byte wordÔºâÁºñÁ†ÅÔºöÊØè bit ÂØπÂ∫î‰∏Ä‰∏™Â≠óÊÆµbit=1 Ë°®Á§∫ nullÔºåbit=0 Ë°®Á§∫Èùû nullÁ¨¨‰∏ÄÂ≠óËäÇ bit0 ÂØπÂ∫î field0  Â≠óÊÆµÊßΩ‰Ωç‚Äã  ‰ªªÊÑèÂ≠óÊÆµÈÉΩÂç† 8 Â≠óËäÇ slotÊßΩ‰ΩçÂÅèÁßªÔºöbitmap_size + field_index * 8Âõ∫ÂÆöÂå∫ÊÄªÂ§ßÂ∞èÔºöbitmap_size + num_fields * 8  ÊßΩ‰ΩçÂÜÖÂÆπÔºö  Â≠óÊÆµÁ±ªÂà´\tÊßΩ‰ΩçÂÜÖÂÆπÂÆöÈïøÁ±ªÂûã\tÂÄºÁõ¥Êé•ÂÜôÂÖ•Ôºà‰∏çË∂≥Ë°•Èõ∂Ôºâ ÂèòÈïøÁ±ªÂûã\toffset + size ÊâìÂåÖ  ÂèòÈïøÂ≠óÊÆµÁºñÁ†Å‚Äã  ÂèòÈïøÂ≠óÊÆµÔºàstring/array/map/nested structÔºâÂú® slot ‰∏≠ÂÜôÂÖ•Ôºö  +---------------------------+---------------------------+ | Relative Offset | Size | | (32 bits) | (32 bits) | +---------------------------+---------------------------+   È´ò 32 ‰ΩçÔºöÁõ∏ÂØπ row Ëµ∑ÂßãÂú∞ÂùÄÂÅèÁßª‰Ωé 32 ‰ΩçÔºöÊï∞ÊçÆÈïøÂ∫¶ÔºàÂ≠óËäÇÔºâ  ÁºñÁ†ÅÔºö  offset_and_size = (relative_offset &lt;&lt; 32) | size   Ëß£Á†ÅÔºö  relative_offset = (offset_and_size &gt;&gt; 32) &amp; 0xFFFFFFFF size = offset_and_size &amp; 0xFFFFFFFF   Variable Data Âå∫‚Äã  ‰Ωç‰∫é fixed region ‰πãÂêéÂèòÈïøÂ≠óÊÆµÊåâÂÜôÂÖ•È°∫Â∫èÈ°∫ÊéíÊØè‰∏™Êù°ÁõÆÊåâ 8-byte ÂØπÈΩêpadding Â≠óËäÇÊ∏ÖÈõ∂Ôºå‰øùËØÅËæìÂá∫Á°ÆÂÆöÊÄß  ","version":"dev","tagName":"h3"},{"title":"Array ‰∫åËøõÂà∂Â∏ÉÂ±Ä‚Äã","type":1,"pageTitle":"Row Ê†ºÂºè","url":"/zh-CN/docs/next/specification/row_format_spec#array-‰∫åËøõÂà∂Â∏ÉÂ±Ä","content":" +------------------+------------------+------------------+ | Element Count | Null Bitmap | Element Data | +------------------+------------------+------------------+ | 8 bytes | B bytes | Variable size |   Array Header‚Äã  Â≠óÊÆµ\tÂ§ßÂ∞è\tËØ¥ÊòéElement Count\t8 Â≠óËäÇ\tÂÖÉÁ¥†Êï∞ÈáèÔºàuint64Ôºâ Null Bitmap\t((count + 63) / 64) * 8 Â≠óËäÇ\tÊØèÂÖÉÁ¥† null Ê†áËÆ∞  Array Element Data‚Äã  ÂÆöÈïøÂÖÉÁ¥†ÊåâËá™ÁÑ∂ÂÆΩÂ∫¶ËøûÁª≠Â≠òÂÇ®ÂèòÈïøÂÖÉÁ¥†Â≠ò 8-byte offset+sizeÂÖÉÁ¥†ÂÅèÁßªÔºöheader_size + element_index * element_sizeÊï∞ÊçÆÂå∫ÊÄªÂ§ßÂ∞èÊåâ 8-byte ÂØπÈΩê  Array ÂÖÉÁ¥†Â§ßÂ∞è‚Äã  ÂÖÉÁ¥†Á±ªÂûã\tÂÖÉÁ¥†Âç†Áî®bool/int8\t1 byte int16\t2 bytes int32/float32\t4 bytes int64/float64\t8 bytes string/binary\t8 bytesÔºàoffset+sizeÔºâ  ","version":"dev","tagName":"h3"},{"title":"Map ‰∫åËøõÂà∂Â∏ÉÂ±Ä‚Äã","type":1,"pageTitle":"Row Ê†ºÂºè","url":"/zh-CN/docs/next/specification/row_format_spec#map-‰∫åËøõÂà∂Â∏ÉÂ±Ä","content":" Map Âú® Row Format ‰∏≠ÂèØËßÜ‰∏∫ÈîÆÂÄºÂØπÊï∞ÁªÑÔºåÂπ∂ÂåÖÂê´Á±ªÂûã‰ø°ÊÅØ‰∏éÂèØÁ©∫‰ΩçÂõæ„ÄÇ  Map ÁªìÊûÑ‚Äã  Êé®ËçêÈÄªËæëÁªìÊûÑÔºö  entry countkey/value null bitmapÔºàÊåâÂÆûÁé∞ÂèØÊãÜÂàÜÔºâkey datavalue data  ÂµåÂ•ó Struct Â∏ÉÂ±Ä‚Äã  ÂµåÂ•ó struct Âú®Ê†áÂáÜÊ†ºÂºè‰∏≠‰Ωú‰∏∫ÂèòÈïøÂ≠óÊÆµÂ§ÑÁêÜÔºö  slot ÂÜô offset+sizevalue region ‰∏≠Â≠òÂÖ∂ÂÆåÊï¥ row ‰∫åËøõÂà∂ÂèØÈÄíÂΩíÂµåÂ•ó  ","version":"dev","tagName":"h3"},{"title":"Compact Row FormatÔºà‰ªÖ JavaÔºâ‚Äã","type":1,"pageTitle":"Row Ê†ºÂºè","url":"/zh-CN/docs/next/specification/row_format_spec#compact-row-format‰ªÖ-java","content":" Compact Ê†ºÂºèÈíàÂØπ Java Êú¨Âú∞ÊâßË°åÈìæË∑ØÂÅö‰ΩìÁßØ‰∏éÂ±ÄÈÉ®ÊÄß‰ºòÂåñÔºå‰∏ç‰øùËØÅ‰∏éÊ†áÂáÜÊ†ºÂºèÂÆåÂÖ®ÂêåÂ∏ÉÂ±Ä„ÄÇ  ","version":"dev","tagName":"h2"},{"title":"ËÆæËÆ°ÂéüÂàô‚Äã","type":1,"pageTitle":"Row Ê†ºÂºè","url":"/zh-CN/docs/next/specification/row_format_spec#ËÆæËÆ°ÂéüÂàô-1","content":" Â≠óÊÆµÊßΩÊåâËá™ÁÑ∂ÂÆΩÂ∫¶Áº©Â∞èÂ≠óÊÆµÈáçÊéí‰ª•ÂáèÂ∞ë paddingnull bitmap ÂèØÁúÅÁï•ÊàñÂéãÁº©ÂÆöÈïøÂµåÂ•ó struct Â∞ΩÂèØËÉΩÂÜÖËÅî  ","version":"dev","tagName":"h3"},{"title":"Compact Row Binary Layout‚Äã","type":1,"pageTitle":"Row Ê†ºÂºè","url":"/zh-CN/docs/next/specification/row_format_spec#compact-row-binary-layout","content":" ÊÄª‰Ωì‰ªçÊòØ‚Äúfixed + variable‚ÄùÂèåÂå∫ÁªìÊûÑÔºå‰ΩÜ fixed region Êõ¥Á¥ßÂáëÔºånull bitmap ÂèØËÉΩÂêéÁΩÆ„ÄÇ  ‰∏éÊ†áÂáÜÊ†ºÂºèÁöÑÂÖ≥ÈîÆÂ∑ÆÂºÇ‚Äã  slot ÂÆΩÂ∫¶ÈùûÂõ∫ÂÆö 8 Â≠óËäÇbitmap ÂèØÂêéÁΩÆÂÖ®ÈùûÁ©∫Êó∂ bitmap ÂèØÁúÅÁï•ÂèØÂÜÖËÅîÂÆöÈïø nested struct  Null BitmapÔºàCompactÔºâ‚Äã  ÊåâÂ≠óËäÇÂØπÈΩêÂèØËÉΩÂ§çÁî®Â∞æÈÉ® paddingÊó†ÂèØÁ©∫Â≠óÊÆµÊó∂ÂèØÂÆåÂÖ®ÁßªÈô§  Â≠óÊÆµÊéíÂ∫èÁÆóÊ≥ï‚Äã  ÂÖ∏ÂûãÊéíÂ∫èÁõÆÊ†áÔºö  ‰ºòÂÖàÈ´òÂØπÈΩêÈúÄÊ±ÇÂ≠óÊÆµÊ¨°Â∫èÂÖºÈ°æËØªÂèñÁÉ≠Â∫¶‰∏é padding ÊúÄÂ∞èÂåñ‰øùÊåÅÂèØÈáçÂ§çËÆ°ÁÆóÔºàdeterministicÔºâ  ÂÆöÈïø Struct ÂÜÖËÅî‚Äã  Ëã•ÂµåÂ•ó struct Êª°Ë∂≥ÂÆöÈïøÊù°‰ª∂ÔºåÂèØÁõ¥Êé•ÂÜÖËÅîÂà∞ fixed regionÔºåÂáèÂ∞ë‰∏ÄÊ¨°Èó¥Êé•ÂØªÂùÄ„ÄÇ  ÂÆöÂÆΩËÆ°ÁÆó‚Äã  ÂÆöÂÆΩÂ≠óÊÆµÊÄªÂ§ßÂ∞èÁî±Â≠óÊÆµÁ±ªÂûãÂÆΩÂ∫¶‰∏éÂØπÈΩêÁ∫¶ÊùüÂÖ±ÂêåÂÜ≥ÂÆöÔºåÂÆûÈôÖÂ∏ÉÂ±ÄÁî±ÁºñËØëÂô®/ËøêË°åÊó∂ËßÑÂàíÂô®ËæìÂá∫„ÄÇ  ","version":"dev","tagName":"h3"},{"title":"Compact Array Binary Layout‚Äã","type":1,"pageTitle":"Row Ê†ºÂºè","url":"/zh-CN/docs/next/specification/row_format_spec#compact-array-binary-layout","content":" ‰∏éÊ†áÂáÜÊï∞ÁªÑÁ±ª‰ººÔºå‰ΩÜ header ‰∏éÂÖÉÁ¥†Â∏ÉÂ±ÄÂèØÈááÁî®Êõ¥Á¥ßÂáëË°®Á§∫„ÄÇ  Compact Array Header‚Äã  ÂåÖÂê´ÔºöÂÖÉÁ¥†Êï∞Èáè„ÄÅnull ‰ø°ÊÅØÔºàÂèØÈÄâÔºâ„ÄÅÂÖÉÁ¥†Â∏ÉÂ±ÄÂÖÉ‰ø°ÊÅØÔºàÊåâÂÆûÁé∞Ôºâ„ÄÇ  ‰∏éÊ†áÂáÜÊï∞ÁªÑÂÖ≥ÈîÆÂ∑ÆÂºÇ‚Äã  Â§¥ÈÉ®Êõ¥Áü≠ÂÖÉÁ¥†Â≠òÂÇ®Êõ¥Ë¥¥ËøëËá™ÁÑ∂ÂÆΩÂ∫¶Âú® Java ÁÉ≠Ë∑ØÂæÑ‰∏ãÊõ¥ËäÇÁúÅÂÜÖÂ≠òÂ∏¶ÂÆΩ  ","version":"dev","tagName":"h3"},{"title":"ÈÄöÁî®ËßÑËåÉ‚Äã","type":1,"pageTitle":"Row Ê†ºÂºè","url":"/zh-CN/docs/next/specification/row_format_spec#ÈÄöÁî®ËßÑËåÉ","content":" ","version":"dev","tagName":"h2"},{"title":"Á±ªÂûãÁºñÁ†Å‚Äã","type":1,"pageTitle":"Row Ê†ºÂºè","url":"/zh-CN/docs/next/specification/row_format_spec#Á±ªÂûãÁºñÁ†Å","content":" Primitive Types‚Äã  Âü∫Á°ÄÁ±ªÂûãÊåâÊó¢ÂÆöÂÆΩÂ∫¶Âíå endian ËØªÂÜôÔºàÈªòËÆ§ little-endianÔºâ„ÄÇ  Temporal Types‚Äã  dateÔºöÈÄöÂ∏∏‰ª• epoch day Ë°®Á§∫timestampÔºöÈÄöÂ∏∏‰ª• epoch Á∫≥ÁßíÊàñÁßí+Á∫≥ÁßíË°®Á§∫  String ‰∏é Binary‚Äã  ÈÉΩÂ±û‰∫éÂèòÈïøÁ±ªÂûãÔºå‰ΩøÁî® offset+size ÊåáÂêëÁúüÂÆû payload„ÄÇ  ","version":"dev","tagName":"h3"},{"title":"Null Â§ÑÁêÜ‚Äã","type":1,"pageTitle":"Row Ê†ºÂºè","url":"/zh-CN/docs/next/specification/row_format_spec#null-Â§ÑÁêÜ","content":" Row Null Â§ÑÁêÜ‚Äã  Áî± row bitmap Ê†áËÆ∞Â≠óÊÆµ null Áä∂ÊÄÅÔºånull Â≠óÊÆµÂØπÂ∫î slot ÂÜÖÂÆπÂèØÂøΩÁï•„ÄÇ  Array Null Â§ÑÁêÜ‚Äã  Áî±Êï∞ÁªÑ bitmap Ê†áËÆ∞ÊØè‰∏™ÂÖÉÁ¥†ÊòØÂê¶‰∏∫ null„ÄÇ  ÂèòÈïø null ËØ≠‰πâ‚Äã  null ‰∏éÁ©∫ÂÄºÔºàÂ¶ÇÁ©∫Â≠óÁ¨¶‰∏≤„ÄÅÁ©∫Êï∞ÁªÑÔºâÂøÖÈ°ªÂå∫ÂàÜÔºõÁ©∫ÂÄºÂ∫îÂÜôÈïøÂ∫¶‰∏∫ 0 ÁöÑÂÆû‰Ωì„ÄÇ  ","version":"dev","tagName":"h3"},{"title":"ÂØπÈΩê‰∏é Padding‚Äã","type":1,"pageTitle":"Row Ê†ºÂºè","url":"/zh-CN/docs/next/specification/row_format_spec#ÂØπÈΩê‰∏é-padding","content":" Standard ÂØπÈΩê‚Äã  ‰ª• 8-byte ‰∏∫‰∏ªÔºå‰øùËØÅË∑®ËØ≠Ë®Ä‰∏ÄËá¥ÂÆûÁé∞ÁÆÄÂçï„ÄÇ  Compact ÂØπÈΩê‚Äã  ÂÖÅËÆ∏ 2/4/8 ÁÅµÊ¥ªÂØπÈΩêÔºåÁõÆÊ†áÊòØÂáèÂ∞ëÊµ™Ë¥π„ÄÇ  Padding Â≠óËäÇ‚Äã  padding Âª∫ËÆÆÂÜô 0ÔºåÈÅøÂÖçÊú™ÂàùÂßãÂåñÂÜÖÂ≠òÊ≥ÑÈú≤Âπ∂ÊèêÈ´òÂèØÈáçÂ§çÊÄß„ÄÇ  ","version":"dev","tagName":"h3"},{"title":"Â§ßÂ∞èËÆ°ÁÆó‚Äã","type":1,"pageTitle":"Row Ê†ºÂºè","url":"/zh-CN/docs/next/specification/row_format_spec#Â§ßÂ∞èËÆ°ÁÆó","content":" ","version":"dev","tagName":"h2"},{"title":"Standard Row Â§ßÂ∞è‚Äã","type":1,"pageTitle":"Row Ê†ºÂºè","url":"/zh-CN/docs/next/specification/row_format_spec#standard-row-Â§ßÂ∞è","content":" row_size = bitmap_size + num_fields * 8 + aligned(variable_region_size)   ","version":"dev","tagName":"h3"},{"title":"Compact Row Â§ßÂ∞è‚Äã","type":1,"pageTitle":"Row Ê†ºÂºè","url":"/zh-CN/docs/next/specification/row_format_spec#compact-row-Â§ßÂ∞è","content":" row_size = compact_fixed_size + optional_bitmap + aligned(variable_region_size)   ","version":"dev","tagName":"h3"},{"title":"Standard Array Â§ßÂ∞è‚Äã","type":1,"pageTitle":"Row Ê†ºÂºè","url":"/zh-CN/docs/next/specification/row_format_spec#standard-array-Â§ßÂ∞è","content":" array_size = header_size + aligned(element_data_size)   ","version":"dev","tagName":"h3"},{"title":"Compact Array Â§ßÂ∞è‚Äã","type":1,"pageTitle":"Row Ê†ºÂºè","url":"/zh-CN/docs/next/specification/row_format_spec#compact-array-Â§ßÂ∞è","content":" array_size = compact_header_size + aligned(compact_element_data_size)   ","version":"dev","tagName":"h3"},{"title":"Map Â§ßÂ∞è‚Äã","type":1,"pageTitle":"Row Ê†ºÂºè","url":"/zh-CN/docs/next/specification/row_format_spec#map-Â§ßÂ∞è","content":" map_size = map_header + aligned(keys_region) + aligned(values_region)   ","version":"dev","tagName":"h3"},{"title":"Ê±áÊÄªË°®‚Äã","type":1,"pageTitle":"Row Ê†ºÂºè","url":"/zh-CN/docs/next/specification/row_format_spec#Ê±áÊÄªË°®","content":" ","version":"dev","tagName":"h2"},{"title":"Â∏ÉÂ±ÄÊÄªÁªì‚Äã","type":1,"pageTitle":"Row Ê†ºÂºè","url":"/zh-CN/docs/next/specification/row_format_spec#Â∏ÉÂ±ÄÊÄªÁªì","content":" ÁªìÊûÑ\tStandard\tCompact (Java)Row\tbitmap + 8-byte slots + var data\tcompact fixed + optional bitmap + var data Array\tcount + bitmap + elements\tcompact header + elements Map\tcount + key/value data regions\t‰æùÂÆûÁé∞ÂèØÁ¥ßÂáëÂåñ  ","version":"dev","tagName":"h3"},{"title":"Á±ªÂûãÂÆΩÂ∫¶ÊÄªÁªì‚Äã","type":1,"pageTitle":"Row Ê†ºÂºè","url":"/zh-CN/docs/next/specification/row_format_spec#Á±ªÂûãÔøΩÂÆΩÂ∫¶ÊÄªÁªì","content":" Á±ªÂûãÊóè\tÂÖ∏ÂûãÂÆΩÂ∫¶bool/int8\t1 byte int16\t2 bytes int32/float32\t4 bytes int64/float64\t8 bytes string/binary/Â§çÊùÇÁ±ªÂûã\tslot ‰∏≠ 8-byte offset+size  ","version":"dev","tagName":"h3"},{"title":"ÂÆûÁé∞ËØ¥Êòé‚Äã","type":1,"pageTitle":"Row Ê†ºÂºè","url":"/zh-CN/docs/next/specification/row_format_spec#ÂÆûÁé∞ËØ¥Êòé","content":" ","version":"dev","tagName":"h2"},{"title":"Endianness‚Äã","type":1,"pageTitle":"Row Ê†ºÂºè","url":"/zh-CN/docs/next/specification/row_format_spec#endianness","content":" Áªü‰∏Ä‰ΩøÁî® little-endianÔºåË∑®ËØ≠Ë®ÄÂÆûÁé∞ÂøÖÈ°ª‰∏ÄËá¥„ÄÇ  ","version":"dev","tagName":"h3"},{"title":"ÂÜÖÂ≠òÂÆâÂÖ®‚Äã","type":1,"pageTitle":"Row Ê†ºÂºè","url":"/zh-CN/docs/next/specification/row_format_spec#ÂÜÖÂ≠òÂÆâÂÖ®","content":" ËØªÂèñÂâçÂÖàÂÅöËæπÁïåÊ£ÄÊü•ÂØπ offset/size ÂÅöÊ∫¢Âá∫Ê£ÄÊü•ÈÅøÂÖç‰ΩøÁî®Êú™ÂàùÂßãÂåñ padding  ","version":"dev","tagName":"h3"},{"title":"ÊÄßËÉΩÂª∫ËÆÆ‚Äã","type":1,"pageTitle":"Row Ê†ºÂºè","url":"/zh-CN/docs/next/specification/row_format_spec#ÊÄßËÉΩÂª∫ËÆÆ","content":" ÊâπÈáèÈ°∫Â∫èÂÜôÂÖ•ÔºåÂáèÂ∞ëÈöèÊú∫ÂÜôÁÉ≠Â≠óÊÆµ‰ºòÂÖàÊîæ fixed region ÂâçÈÉ®ÈÄöËøá profile ÂÜ≥ÂÆöÊòØÂê¶ÂêØÁî® compact  ","version":"dev","tagName":"h3"},{"title":"‰ΩïÊó∂ÈÄâÊã©Âì™ÁßçÊ†ºÂºè‚Äã","type":1,"pageTitle":"Row Ê†ºÂºè","url":"/zh-CN/docs/next/specification/row_format_spec#‰ΩïÊó∂ÈÄâÊã©Âì™ÁßçÊ†ºÂºè","content":" StandardÔºöË∑®ËØ≠Ë®Ä‰∫íÈÄö„ÄÅË∞ÉËØïÂèãÂ•Ω„ÄÅÈïøÊúüÂÖºÂÆπCompactÔºöJava ÂçïËØ≠Ë®ÄÈìæË∑Ø„ÄÅÂÜÖÂ≠òÊïèÊÑü„ÄÅÈ´òÂêûÂêêÂú∫ÊôØ ","version":"dev","tagName":"h3"},{"title":"Xlang ÂÆûÁé∞ÊåáÂçó","type":0,"sectionRef":"#","url":"/zh-CN/docs/next/specification/xlang_implementation_guide","content":"","keywords":"","version":"dev"},{"title":"ÂÆûÁé∞Âª∫ËÆÆ‚Äã","type":1,"pageTitle":"Xlang ÂÆûÁé∞ÊåáÂçó","url":"/zh-CN/docs/next/specification/xlang_implementation_guide#ÂÆûÁé∞Âª∫ËÆÆ","content":" ","version":"dev","tagName":"h2"},{"title":"Â¶Ç‰ΩïÂáèÂ∞ëÂÜÖÂ≠òËØªÂÜôÂºÄÈîÄ‚Äã","type":1,"pageTitle":"Xlang ÂÆûÁé∞ÊåáÂçó","url":"/zh-CN/docs/next/specification/xlang_implementation_guide#Â¶Ç‰ΩïÂáèÂ∞ëÂÜÖÂ≠òËØªÂÜôÂºÄÈîÄ","content":" Â∞ΩÈáèÊääÂ§öÊ¨° byte ÂÜôÂÖ•ÂêàÂπ∂‰∏∫ int/long ÂÜôÂÖ•ÔºåÈôç‰ΩéÂÜÖÂ≠ò IO ‰∏éËæπÁïåÊ£ÄÊü•ÊàêÊú¨„ÄÇËØªÂèñÊó∂ÂèØ‰∏ÄÊ¨°ËØªÂèñ int/longÔºåÂÜçÊãÜÂàÜÂ≠óËäÇÔºåÂáèÂ∞ëÂÜÖÂ≠òËÆøÈóÆÊ¨°Êï∞„ÄÇÂ∞ΩÂèØËÉΩÊää flag ‰∏é length ÂêàÂπ∂Âà∞Âêå‰∏Ä‰∏™ varint/longÔºåÂáèÂ∞ëÂ≠óËäÇÊï∞‰∏é IO„ÄÇÂú®ÂàÜÊîØÊï∞ÈáèÂèØÊéßÁöÑÂâçÊèê‰∏ãÔºåÂàÜÊîØÂºÄÈîÄÈÄöÂ∏∏Â∞è‰∫éÂÜÖÂ≠ò IO ÂºÄÈîÄ„ÄÇ  ","version":"dev","tagName":"h3"},{"title":"ÈùôÊÄÅËØ≠Ë®ÄÔºàÊó†ËøêË°åÊó∂‰ª£Á†ÅÁîüÊàêÔºâÂ¶Ç‰ΩïÂÅöÈ´òÊÄßËÉΩÂèçÂ∫èÂàóÂåñ‚Äã","type":1,"pageTitle":"Xlang ÂÆûÁé∞ÊåáÂçó","url":"/zh-CN/docs/next/specification/xlang_implementation_guide#ÈùôÊÄÅËØ≠Ë®ÄÊó†ËøêË°åÊó∂‰ª£Á†ÅÁîüÊàêÂ¶Ç‰ΩïÂÅöÈ´òÊÄßËÉΩÂèçÂ∫èÂàóÂåñ","content":" Âú®Á±ªÂûãÊºîËøõÂú∫ÊôØÔºåÂ∫èÂàóÂåñÊï∞ÊçÆ‰ºöÊê∫Â∏¶ type meta„ÄÇÂèçÂ∫èÂàóÂåñÁ´Ø‰ºöÊØîËæÉ‚ÄúÊï∞ÊçÆÂÜÖ meta‚Äù‰∏é‚ÄúÊú¨Âú∞Á±ª meta‚ÄùÔºåÊ†πÊçÆÂ∑ÆÂºÇÊâßË°åÂ≠óÊÆµÊò†Â∞Ñ„ÄÇ  ÂØπ Java/Javascript/PythonÔºåÂèØÂú®ËøêË°åÊó∂Ê†πÊçÆ diff Âä®ÊÄÅÁîüÊàêÂπ∂Âä†ËΩΩÂèçÂ∫èÂàóÂåñÈÄªËæëÔºå‰ªéËÄåÊé•Ëøë schema-consistent Ê®°ÂºèÊÄßËÉΩ„ÄÇ  ÂØπ C++/RustÔºåÈÄöÂ∏∏Êó†Ê≥ïÂú®ËøêË°åÊó∂Âä®ÊÄÅÁîüÊàê serializerÔºåÂè™ËÉΩÂú®ÁºñËØëÊúüÂÖÉÁºñÁ®ãÁîüÊàê„ÄÇÊ≠§Êó∂Êó†Ê≥ïÊèêÂâçÁü•ÈÅìÂØπÁ´Ø schemaÔºå Âõ†Ê≠§ÈúÄË¶ÅÂú®ËøêË°åÊó∂Ê†πÊçÆÂ≠óÊÆµÂÖÉ‰ø°ÊÅØÈÄê‰∏™Âà§Êñ≠‚ÄúËµãÂÄºÊàñË∑≥Ëøá‚Äù„ÄÇ  ÂèØË°å‰ºòÂåñÔºöÂ∞ÜÂ≠óÁ¨¶‰∏≤Â≠óÊÆµÂåπÈÖçÂ∞ΩÈáèÊèêÂâçËΩ¨Êç¢‰∏∫ field idÔºåÂÜçÂú®ÂèçÂ∫èÂàóÂåñË∑ØÂæÑÁî® switch Â§ÑÁêÜÔºåÂà©Áî®ËøûÁª≠ case ÁöÑË∑≥ËΩ¨‰ºòÂåñ„ÄÇ  ÊÄùË∑ØÔºö  ÂÅáËÆæÊú¨Âú∞Á±ªÂûãÂ≠óÊÆµÊï∞‰∏∫ nÔºåÂØπÁ´ØÂ≠óÊÆµÊï∞‰∏∫ n1ÁºñËØëÊúüÂÖà‰∏∫Êú¨Âú∞ÊéíÂ∫èÂ≠óÊÆµÂàÜÈÖçËøûÁª≠ field idÔºà‰ªé 0 ÂºÄÂßãÔºâËøêË°åÊó∂ÊØîËæÉÂØπÁ´Ø type metaÔºöÂêåÂêçÂ≠óÊÆµÂ§çÁî®Êú¨Âú∞ idÔºå‰∏çÂêåÂ≠óÊÆµÂàÜÈÖç‰ªé n ÂºÄÂßãÁöÑÊñ∞ idÔºåÂπ∂ÁºìÂ≠òÊò†Â∞ÑÂèçÂ∫èÂàóÂåñÈÅçÂéÜÂØπÁ´ØÂ≠óÊÆµÊó∂ÂØπ field_id ÂÅö switchÔºåÂëΩ‰∏≠ÂàôËµãÂÄºÔºåÊú™ÂëΩ‰∏≠ÂàôË∑≥Ëøá  Á§∫‰æãÔºöA ËøõÁ®ãÊåÅÊúâ Foo1ÔºåB ËøõÁ®ãÊåÅÊúâÊºîËøõÂêéÁöÑ Foo2Ôºö  // class Foo with version 1 class Foo1 { int32_t v1; // id 0 std::string v2; // id 1 }; // class Foo with version 2 class Foo2 { // id 0, but will have id 2 in process A bool v0; // id 1, but will have id 0 in process A int32_t v1; // id 2, but will have id 3 in process A int64_t long_value; // id 3, but will have id 1 in process A std::string v2; // id 4, but will have id 4 in process A std::vector&lt;std::string&gt; list; };   A Êî∂Âà∞ B ÂèëÈÄÅÁöÑ Foo2 Êï∞ÊçÆÂêéÔºåÂèØÊåâ field_id Âø´ÈÄüÂàÜÂèëÔºö  Foo1 foo1 = ...; const std::vector&lt;fory::FieldInfo&gt; &amp;field_infos = type_meta.field_infos; for (const auto &amp;field_info : field_infos) { switch (field_info.field_id) { case 0: foo1.v1 = buffer.read_varint32(); break; case 1: foo1.v2 = fory.read_string(); break; default: fory.skip_data(field_info); } }   ","version":"dev","tagName":"h3"},{"title":"Êñ∞ËØ≠Ë®ÄÂÆûÁé∞Ê£ÄÊü•Ê∏ÖÂçï‚Äã","type":1,"pageTitle":"Xlang ÂÆûÁé∞ÊåáÂçó","url":"/zh-CN/docs/next/specification/xlang_implementation_guide#Êñ∞ËØ≠Ë®ÄÂÆûÁé∞Ê£ÄÊü•Ê∏ÖÂçï","content":" Êú¨ËäÇÁªôÂá∫Âú®Êñ∞ËØ≠Ë®Ä‰∏≠ËêΩÂú∞ Fory xlang Â∫èÂàóÂåñÁöÑÈò∂ÊÆµÊÄßÊ∏ÖÂçï„ÄÇ  ","version":"dev","tagName":"h2"},{"title":"Èò∂ÊÆµ 1ÔºöÊ†∏ÂøÉÂü∫Á°ÄËÆæÊñΩ‚Äã","type":1,"pageTitle":"Xlang ÂÆûÁé∞ÊåáÂçó","url":"/zh-CN/docs/next/specification/xlang_implementation_guide#Èò∂ÊÆµ-1Ê†∏ÂøÉÂü∫Á°ÄËÆæÊñΩ","content":" Buffer ÂÆûÁé∞ Êèê‰æõÂ∏¶ËØªÂÜôÊ∏∏Ê†áÁöÑÂ≠óËäÇÁºìÂÜ≤Âå∫ ÊâÄÊúâÂ§öÂ≠óËäÇËØªÂÜôÁªü‰∏Ä‰ΩøÁî® little-endian ÂÆûÁé∞ write_int8/int16/int32/int64 ÂÆûÁé∞ write_float32/write_float64 ÂÆûÁé∞ÂØπÂ∫î read_* ÊñπÊ≥ï ÂÆûÁé∞ÁºìÂÜ≤Âå∫Êâ©ÂÆπÁ≠ñÁï•ÔºàÂ¶ÇÂÄçÂ¢ûÔºâ Varint ÁºñÁ†Å write_varuint32/read_varuint32 write_varint32/read_varint32ÔºàÂê´ ZigZagÔºâ write_varuint64/read_varuint64 write_varint64/read_varint64ÔºàÂê´ ZigZagÔºâ write_varuint36_small/read_varuint36_smallÔºàÂ≠óÁ¨¶‰∏≤Â§¥‰ΩøÁî®Ôºâ ÂèØÈÄâÔºöÂÆûÁé∞ int64 Hybrid ÁºñÁ†ÅÔºàTAGGED_INT64/TAGGED_UINT64Ôºâ Â§¥ÈÉ®Â§ÑÁêÜ ËØªÂÜô bitmap flagsÔºànull„ÄÅxlang„ÄÅoobÔºâ  ","version":"dev","tagName":"h3"},{"title":"Èò∂ÊÆµ 2ÔºöÂü∫Á°ÄÁ±ªÂûãÂ∫èÂàóÂåñ‚Äã","type":1,"pageTitle":"Xlang ÂÆûÁé∞ÊåáÂçó","url":"/zh-CN/docs/next/specification/xlang_implementation_guide#Èò∂ÊÆµ-2Âü∫Á°ÄÁ±ªÂûãÂ∫èÂàóÂåñ","content":" Âü∫Á°ÄÁ±ªÂûã boolÔºà1 Â≠óËäÇÔºö0/1Ôºâ int8/int16/int32/int64Ôºàlittle-endianÔºâ float32/float64ÔºàIEEE 754Ôºålittle-endianÔºâ Â≠óÁ¨¶‰∏≤Â∫èÂàóÂåñ ÂÆûÁé∞Â≠óÁ¨¶‰∏≤Â§¥Ôºö(byte_length &lt;&lt; 2) | encoding ÊîØÊåÅ UTF-8Ôºàxlang ÂøÖÈúÄÔºâ ÂèØÈÄâÊîØÊåÅ LATIN1 ‰∏é UTF-16 Êó∂Èó¥Á±ªÂûã DurationÔºàseconds + nanosecondsÔºâ TimestampÔºàepoch ‰ª•Êù• seconds + nanosecondsÔºâ DateÔºàepoch ‰ª•Êù•Â§©Êï∞Ôºâ ÂºïÁî®Ë∑üË∏™ ÂÜô‰æßÂØπË±°Ë∑üË∏™Ôºàobject -&gt; ref_idÔºâ ËØª‰æßÂØπË±°Ë∑üË∏™Ôºàref_id -&gt; objectÔºâ ÊîØÊåÅ 4 ÁßçÂºïÁî®Ê†áËÆ∞ÔºöNULL(-3)„ÄÅREF(-2)„ÄÅNOT_NULL(-1)„ÄÅREF_VALUE(0) ÊîØÊåÅÊåâÁ±ªÂûãÊàñÂÖ®Â±ÄÂÖ≥Èó≠ÂºïÁî®Ë∑üË∏™  ","version":"dev","tagName":"h3"},{"title":"Èò∂ÊÆµ 3ÔºöÈõÜÂêàÁ±ªÂûã‚Äã","type":1,"pageTitle":"Xlang ÂÆûÁé∞ÊåáÂçó","url":"/zh-CN/docs/next/specification/xlang_implementation_guide#Èò∂ÊÆµ-3ÈõÜÂêàÁ±ªÂûã","content":" List/Array ÈïøÂ∫¶ÂÜô‰∏∫ varuint32 ÂÜô elements header byte Â§ÑÁêÜÂêåÊûÑ/ÂºÇÊûÑÂÖÉÁ¥† Â§ÑÁêÜ null ÂÖÉÁ¥† Map ÊÄªÂ§ßÂ∞èÂÜô‰∏∫ varuint32 ÂÆûÁé∞ÂàÜÂùóÊ†ºÂºèÔºàÊØèÂùóÊúÄÂ§ö 255 ÂØπÔºâ ÊØèÂùóÂÜô KV header Â§ÑÁêÜ key/value Á±ªÂûãÂèòÂåñ Set ‰∏é List Â§çÁî®Âêå‰∏ÄÂ•óÂÆûÁé∞  ","version":"dev","tagName":"h3"},{"title":"Èò∂ÊÆµ 4ÔºöMeta String ÁºñÁ†Å‚Äã","type":1,"pageTitle":"Xlang ÂÆûÁé∞ÊåáÂçó","url":"/zh-CN/docs/next/specification/xlang_implementation_guide#Èò∂ÊÆµ-4meta-string-ÁºñÁ†Å","content":" meta string Áî®‰∫é enum/struct ÁöÑÂ≠óÊÆµÂêç„ÄÅÁ±ªÂûãÂêç„ÄÅÂëΩÂêçÁ©∫Èó¥ÁºñÁ†Å„ÄÇ  Meta String ÂéãÁº© LOWER_SPECIALÔºà5 bits/charÔºâ LOWER_UPPER_DIGIT_SPECIALÔºà6 bits/charÔºâ FIRST_TO_LOWER_SPECIAL ALL_TO_LOWER_SPECIAL ÁºñÁ†ÅÈÄâÊã©ÁÆóÊ≥ï meta string ÂéªÈáç  ","version":"dev","tagName":"h3"},{"title":"Èò∂ÊÆµ 5ÔºöEnum Â∫èÂàóÂåñ‚Äã","type":1,"pageTitle":"Xlang ÂÆûÁé∞ÊåáÂçó","url":"/zh-CN/docs/next/specification/xlang_implementation_guide#Èò∂ÊÆµ-5enum-Â∫èÂàóÂåñ","content":" Enum ordinal ÂÜô‰∏∫ varuint32 ÊîØÊåÅÂëΩÂêç enumÔºànamespace + typenameÔºâ  ","version":"dev","tagName":"h3"},{"title":"Èò∂ÊÆµ 6ÔºöStruct Â∫èÂàóÂåñ‚Äã","type":1,"pageTitle":"Xlang ÂÆûÁé∞ÊåáÂçó","url":"/zh-CN/docs/next/specification/xlang_implementation_guide#Èò∂ÊÆµ-6struct-Â∫èÂàóÂåñ","content":" Á±ªÂûãÊ≥®ÂÜå ÊîØÊåÅÊåâÊï∞ÂÄº ID Ê≥®ÂÜå ÊîØÊåÅÊåâ namespace + typename Ê≥®ÂÜå Áª¥Êä§ type -&gt; serializer Êò†Â∞Ñ ÁîüÊàê type IDÔºöÂÖàÂÜô internal type IDÔºåÂÜçÂÜô user_type_id(varuint32) Â≠óÊÆµÊéíÂ∫è ÂÆûÁé∞ËßÑËåÉÂÆö‰πâÁöÑÂàÜÁªÑ‰∏éÊéíÂ∫èÔºàprimitive/boxed/builtin„ÄÅcollections/maps„ÄÅotherÔºâ ÁªÑÂÜÖ‰ΩøÁî®Á®≥ÂÆöÊØîËæÉÂô®Ôºàtype ID + nameÔºâ ÊåáÁ∫πÂ≠óÊÆµÊ†áËØÜ‰ΩøÁî® tag ID Êàñ snake_case Â≠óÊÆµÂêç Schema Consistent Ê®°Âºè ÂºÄÂêØÁ±ªÁâàÊú¨Ê†°È™åÊó∂ÔºåÊåâÂ≠óÊÆµÊ†áËØÜËÆ°ÁÆó schema hash Âú®Â≠óÊÆµÂâçÂÜô 4-byte schema hash Êåâ Fory Â≠óÊÆµÈ°∫Â∫èÂ∫èÂàóÂåñ Compatible/Meta Share Ê®°Âºè ÂÆûÁé∞ÂÖ±‰∫´ TypeDef ÊµÅÔºàÊñ∞ TypeDef ÂÜÖËÅîÔºåÂ∑≤Â≠òÂú®Áî®Á¥¢ÂºïÔºâ ÊåâÂ≠óÊÆµÂêçÊàñ tag ID ÂÅöÊò†Â∞ÑÔºåÊú™Áü•Â≠óÊÆµË∑≥Ëøá Êåâ TypeDef ÂÖÉ‰ø°ÊÅØÂ∫îÁî® nullable/ref ËßÑÂàô  ","version":"dev","tagName":"h3"},{"title":"Èò∂ÊÆµ 7ÔºöÂÖ∂‰ªñÁ±ªÂûã‚Äã","type":1,"pageTitle":"Xlang ÂÆûÁé∞ÊåáÂçó","url":"/zh-CN/docs/next/specification/xlang_implementation_guide#Èò∂ÊÆµ-7ÂÖ∂‰ªñÁ±ªÂûã","content":" Binary/Array   Âü∫Á°ÄÁ±ªÂûãÊï∞ÁªÑÊîØÊåÅÁõ¥Êé• buffer copy Â§öÁª¥Êï∞ÁªÑÊåâÂµåÂ•ó list Ë°®ËææÔºà‰∏çÂÅö tensor ‰∏ìÁî®ÁºñÁ†ÅÔºâ  ","version":"dev","tagName":"h3"},{"title":"ÊµãËØïÁ≠ñÁï•‚Äã","type":1,"pageTitle":"Xlang ÂÆûÁé∞ÊåáÂçó","url":"/zh-CN/docs/next/specification/xlang_implementation_guide#ÊµãËØïÁ≠ñÁï•","content":" Ë∑®ËØ≠Ë®ÄÂÖºÂÆπÊµãËØï Êñ∞ËØ≠Ë®ÄÂÜô -&gt; Java/Python ËØª Java/Python ÂÜô -&gt; Êñ∞ËØ≠Ë®ÄËØª Ë¶ÜÁõñÊâÄÊúâÂü∫Á°ÄÁ±ªÂûã Ë¶ÜÁõñ‰∏çÂêåÂ≠óÁ¨¶‰∏≤ÁºñÁ†Å Ë¶ÜÁõñÈõÜÂêàÔºàÁ©∫„ÄÅÂçïÂÖÉÁ¥†„ÄÅÂ§öÂÖÉÁ¥†Ôºâ Ë¶ÜÁõñ‰∏çÂêå key/value map Ë¶ÜÁõñÂµåÂ•ó struct Ë¶ÜÁõñÂæ™ÁéØÂºïÁî®ÔºàËã•ÊîØÊåÅÔºâ  ","version":"dev","tagName":"h3"},{"title":"ÂêÑËØ≠Ë®ÄÂÆûÁé∞Â§áÊ≥®‚Äã","type":1,"pageTitle":"Xlang ÂÆûÁé∞ÊåáÂçó","url":"/zh-CN/docs/next/specification/xlang_implementation_guide#ÂêÑËØ≠Ë®ÄÂÆûÁé∞Â§áÊ≥®","content":" ","version":"dev","tagName":"h2"},{"title":"Java‚Äã","type":1,"pageTitle":"Xlang ÂÆûÁé∞ÊåáÂçó","url":"/zh-CN/docs/next/specification/xlang_implementation_guide#java","content":" ÈÄöËøáËøêË°åÊó∂‰ª£Á†ÅÁîüÊàêÔºàJITÔºâËé∑ÂæóÈ´òÊÄßËÉΩÊîØÊåÅÂÆåÊï¥ÂºïÁî®Ë∑üË∏™Ê®°ÂºèÂà©Áî® String coder ÂÅöÁºñÁ†ÅÈÄâÊã©ÂèØÈÄöËøá ThreadSafeFory Êèê‰æõÁ∫øÁ®ãÂÆâÂÖ®Â∞ÅË£Ö  ","version":"dev","tagName":"h3"},{"title":"Python‚Äã","type":1,"pageTitle":"Xlang ÂÆûÁé∞ÊåáÂçó","url":"/zh-CN/docs/next/specification/xlang_implementation_guide#python","content":" Êèê‰æõÁ∫Ø PythonÔºàË∞ÉËØïÔºâ‰∏é CythonÔºàÊÄßËÉΩÔºâ‰∏§ÁßçÊ®°Âºè‰ΩøÁî® id(obj) ÂÅöÂºïÁî®Ë∑üË∏™xlang Ê®°ÂºèÊîØÊåÅ LATIN1/UTF-16/UTF-8ÈÄöËøá‰ª£Á†ÅÁîüÊàêÂ¢ûÂº∫ dataclass ÊîØÊåÅ  ","version":"dev","tagName":"h3"},{"title":"C++‚Äã","type":1,"pageTitle":"Xlang ÂÆûÁé∞ÊåáÂçó","url":"/zh-CN/docs/next/specification/xlang_implementation_guide#c","content":" ÈÄöËøáÂÆèÔºàFORY_STRUCTÔºâÂÅöÁºñËØëÊúüÂèçÂ∞ÑÊ®°ÊùøÂÖÉÁºñÁ®ãËøõË°åÁ±ªÂûãÂàÜÂèë‰∏é serializer ÈÄâÊã©‰ΩøÁî® std::shared_ptr ÊîØÊåÅÂºïÁî®Ë∑üË∏™ÁºñËØëÊúüÂ≠óÊÆµÊéíÂ∫è‰∏ç‰æùËµñËøêË°åÊó∂‰ª£Á†ÅÁîüÊàê  ","version":"dev","tagName":"h3"},{"title":"Rust‚Äã","type":1,"pageTitle":"Xlang ÂÆûÁé∞ÊåáÂçó","url":"/zh-CN/docs/next/specification/xlang_implementation_guide#rust","content":" ‰ΩøÁî® derive ÂÆèËá™Âä®ÁîüÊàêÂ∫èÂàóÂåñ‰ª£Á†ÅÔºà#[derive(ForyObject)]Ôºâ‰ΩøÁî® Rc&lt;T&gt;/Arc&lt;T&gt; ÂÅöÂºïÁî®Ë∑üË∏™ÈÄöËøáÁ∫øÁ®ãÊú¨Âú∞‰∏ä‰∏ãÊñáÁºìÂ≠ò‰ºòÂåñÊÄßËÉΩÁºñËØëÊúüÂ≠óÊÆµÊéíÂ∫è  ","version":"dev","tagName":"h3"},{"title":"Go‚Äã","type":1,"pageTitle":"Xlang ÂÆûÁé∞ÊåáÂçó","url":"/zh-CN/docs/next/specification/xlang_implementation_guide#go","content":" ÊîØÊåÅÂèçÂ∞ÑÊ®°Âºè‰∏é‰ª£Á†ÅÁîüÊàêÊ®°ÂºèÈÄöËøá struct tag Êèê‰æõÂ≠óÊÆµÂÖÉ‰ø°ÊÅØÈÄöËøáÊé•Âè£Á±ªÂûãÊîØÊåÅÂ§öÊÄÅËØ≠‰πâ ","version":"dev","tagName":"h3"},{"title":"Xlang Á±ªÂûãÊò†Â∞Ñ","type":0,"sectionRef":"#","url":"/zh-CN/docs/next/specification/xlang_type_mapping","content":"","keywords":"","version":"dev"},{"title":"Áî®Êà∑Á±ªÂûã ID‚Äã","type":1,"pageTitle":"Xlang Á±ªÂûãÊò†Â∞Ñ","url":"/zh-CN/docs/next/specification/xlang_type_mapping#Áî®Êà∑Á±ªÂûã-id","content":" Ê≥®ÂÜåÁî®Êà∑Á±ªÂûãÔºàstruct/ext/enum/unionÔºâÊó∂Ôºö  type Â≠óÊÆµÂÖàÂÜôÂÖ• 8-bit internal kindÁî®Êà∑Á±ªÂûã ID (user_type_id) ÂçïÁã¨‰ª• varuint32 ÂÜôÂÖ•‰∏çÂÅö bit shift Êàñ packinguser_type_id ËåÉÂõ¥ÂèØÁî® 0 ~ 0xFFFFFFFE  Á§∫‰æãÔºö  User ID\tType\tInternal ID\tEncoded User ID\tDecimal0\tSTRUCT\t27\t0\t0 0\tENUM\t25\t0\t0 1\tSTRUCT\t27\t1\t1 1\tCOMPATIBLE_STRUCT\t28\t1\t1 2\tNAMED_STRUCT\t29\t2\t2  ËØªÂèñÁ±ªÂûã ID Êó∂Ôºö  ÂÖàËØªÂèñ internal type IDËã•Â±û‰∫éÁî®Êà∑Ê≥®ÂÜåÁ±ªÂûãÔºåÂÜçÁªßÁª≠ËØªÂèñ user_type_id(varuint32)  ","version":"dev","tagName":"h2"},{"title":"Á±ªÂûãÊò†Â∞Ñ‚Äã","type":1,"pageTitle":"Xlang Á±ªÂûãÊò†Â∞Ñ","url":"/zh-CN/docs/next/specification/xlang_type_mapping#Á±ªÂûãÊò†Â∞Ñ","content":" Fory Type\tFory Type ID\tJava\tPython\tJavascript\tC++\tGolang\tRustbool\t1\tbool/Boolean\tbool\tBoolean\tbool\tbool\tbool int8\t2\tbyte/Byte\tint/pyfory.int8\tType.int8()\tint8_t\tint8\ti8 int16\t3\tshort/Short\tint/pyfory.int16\tType.int16()\tint16_t\tint16\ti16 int32\t4\tint/Integer\tint/pyfory.fixed_int32\tType.int32()\tint32_t\tint32\ti32 varint32\t5\tint/Integer\tint/pyfory.int32\tType.varint32()\tint32_t\tint32\ti32 int64\t6\tlong/Long\tint/pyfory.fixed_int64\tType.int64()\tint64_t\tint64\ti64 varint64\t7\tlong/Long\tint/pyfory.int64\tType.varint64()\tint64_t\tint64\ti64 tagged_int64\t8\tlong/Long\tint/pyfory.tagged_int64\tType.tagged_int64()\tint64_t\tint64\ti64 uint8\t9\tshort/Short\tint/pyfory.uint8\tType.uint8()\tuint8_t\tuint8\tu8 uint16\t10\tint/Integer\tint/pyfory.uint16\tType.uint16()\tuint16_t\tuint16\tu16 uint32\t11\tlong/Long\tint/pyfory.fixed_uint32\tType.uint32()\tuint32_t\tuint32\tu32 var_uint32\t12\tlong/Long\tint/pyfory.uint32\tType.varUInt32()\tuint32_t\tuint32\tu32 uint64\t13\tlong/Long\tint/pyfory.fixed_uint64\tType.uint64()\tuint64_t\tuint64\tu64 var_uint64\t14\tlong/Long\tint/pyfory.uint64\tType.varUInt64()\tuint64_t\tuint64\tu64 tagged_uint64\t15\tlong/Long\tint/pyfory.tagged_uint64\tType.taggedUInt64()\tuint64_t\tuint64\tu64 float8\t16\t/\t/\t/\t/\t/\t/ float16\t17\tfloat/Float\tfloat/pyfory.float16\tType.float16()\tfory::float16_t\tfory.float16\tfory::f16 bfloat16\t18\t/\t/\t/\t/\t/\t/ float32\t19\tfloat/Float\tfloat/pyfory.float32\tType.float32()\tfloat\tfloat32\tf32 float64\t20\tdouble/Double\tfloat/pyfory.float64\tType.float64()\tdouble\tfloat64\tf64 string\t21\tString\tstr\tString\tstring\tstring\tString/str list\t22\tList/Collection\tlist/tuple\tarray\tvector\tslice\tVec set\t23\tSet\tset\t/\tset\tfory.Set\tSet map\t24\tMap\tdict\tMap\tunordered_map\tmap\tHashMap enum\t25\tEnum subclasses\tenum subclasses\t/\tenum\t/\tenum named_enum\t26\tEnum subclasses\tenum subclasses\t/\tenum\t/\tenum struct\t27\tpojo/record\tdata class\tobject\tstruct/class\tstruct\tstruct compatible_struct\t28\tpojo/record\tdata class\tobject\tstruct/class\tstruct\tstruct named_struct\t29\tpojo/record\tdata class\tobject\tstruct/class\tstruct\tstruct named_compatible_struct\t30\tpojo/record\tdata class\tobject\tstruct/class\tstruct\tstruct ext\t31\tpojo/record\tdata class\tobject\tstruct/class\tstruct\tstruct named_ext\t32\tpojo/record\tdata class\tobject\tstruct/class\tstruct\tstruct union\t33\tUnion\ttyping.Union\t/\tstd::variant&lt;Ts...&gt;\t/\ttagged union enum none\t36\tnull\tNone\tnull\tstd::monostate\tnil\t() duration\t37\tDuration\ttimedelta\tNumber\tduration\tDuration\tDuration timestamp\t38\tInstant\tdatetime\tNumber\tstd::chrono::nanoseconds\tTime\tDateTime date\t39\tDate\tdatetime\tNumber\tfory::serialization::Date\tTime\tDateTime decimal\t40\tBigDecimal\tDecimal\tbigint\t/\t/\t/ binary\t41\tbyte[]\tbytes\t/\tuint8_t[n]/vector&lt;T&gt;\t[n]uint8/[]T\tVec&lt;uint8_t&gt; array\t42\tarray\tnp.ndarray\t/\t/\tarray/slice\tVec bool_array\t43\tbool[]\tndarray(np.bool_)\t/\tbool[n]\t[n]bool/[]T\tVec&lt;bool&gt; int8_array\t44\tbyte[]\tndarray(int8)\t/\tint8_t[n]/vector&lt;T&gt;\t[n]int8/[]T\tVec&lt;i8&gt; int16_array\t45\tshort[]\tndarray(int16)\t/\tint16_t[n]/vector&lt;T&gt;\t[n]int16/[]T\tVec&lt;i16&gt; int32_array\t46\tint[]\tndarray(int32)\t/\tint32_t[n]/vector&lt;T&gt;\t[n]int32/[]T\tVec&lt;i32&gt; int64_array\t47\tlong[]\tndarray(int64)\t/\tint64_t[n]/vector&lt;T&gt;\t[n]int64/[]T\tVec&lt;i64&gt; uint8_array\t48\tshort[]\tndarray(uint8)\t/\tuint8_t[n]/vector&lt;T&gt;\t[n]uint8/[]T\tVec&lt;u8&gt; uint16_array\t49\tint[]\tndarray(uint16)\t/\tuint16_t[n]/vector&lt;T&gt;\t[n]uint16/[]T\tVec&lt;u16&gt; uint32_array\t50\tlong[]\tndarray(uint32)\t/\tuint32_t[n]/vector&lt;T&gt;\t[n]uint32/[]T\tVec&lt;u32&gt; uint64_array\t51\tlong[]\tndarray(uint64)\t/\tuint64_t[n]/vector&lt;T&gt;\t[n]uint64/[]T\tVec&lt;u64&gt; float8_array\t52\t/\t/\t/\t/\t/\t/ float16_array\t53\tfloat[]\tndarray(float16)\t/\tfory::float16_t[n]/vector&lt;T&gt;\t[n]float16/[]T\tVec&lt;fory::f16&gt; bfloat16_array\t54\t/\t/\t/\t/\t/\t/ float32_array\t55\tfloat[]\tndarray(float32)\t/\tfloat[n]/vector&lt;T&gt;\t[n]float32/[]T\tVec&lt;f32&gt; float64_array\t56\tdouble[]\tndarray(float64)\t/\tdouble[n]/vector&lt;T&gt;\t[n]float64/[]T\tVec&lt;f64&gt;  ","version":"dev","tagName":"h2"},{"title":"Á±ªÂûã‰ø°ÊÅØÔºàÂΩìÂâçÂ∞öÊú™ÂÆåÊï¥ÂÆûÁé∞Ôºâ‚Äã","type":1,"pageTitle":"Xlang Á±ªÂûãÊò†Â∞Ñ","url":"/zh-CN/docs/next/specification/xlang_type_mapping#Á±ªÂûã‰ø°ÊÅØÂΩìÂâçÂ∞öÊú™ÂÆåÊï¥ÂÆûÁé∞","content":" Áî±‰∫é‰∏çÂêåËØ≠Ë®ÄÁ±ªÂûãÁ≥ªÁªüÂ≠òÂú®Â∑ÆÂºÇÔºåÈÉ®ÂàÜÁ±ªÂûãÊó†Ê≥ï‰∏Ä‰∏ÄÂØπÂ∫îÊò†Â∞Ñ„ÄÇ  Â¶ÇÊûúÊüêËØ≠Ë®Ä‰∏≠ÁöÑ‰∏Ä‰∏™Á±ªÂûãÂèØËÉΩÂØπÂ∫îÂ§ö‰∏™ Fory Á±ªÂûãÔºà‰æãÂ¶Ç Java long ÂèØËÉΩÂØπÂ∫î int64/varint64/tagged_int64ÔºâÔºå ËØ¥ÊòéËØ•ËØ≠Ë®ÄÁº∫Â∞ëÊõ¥ÁªÜÁ≤íÂ∫¶Âå∫ÂàÜÔºåÊ≠§Êó∂Ë∞ÉÁî®ÊñπÈúÄË¶ÅÈ¢ùÂ§ñÊèê‰æõÁ±ªÂûã‰ø°ÊÅØ„ÄÇ  ","version":"dev","tagName":"h2"},{"title":"Á±ªÂûãÊ≥®Ëß£‚Äã","type":1,"pageTitle":"Xlang Á±ªÂûãÊò†Â∞Ñ","url":"/zh-CN/docs/next/specification/xlang_type_mapping#Á±ªÂûãÊ≥®Ëß£","content":" ÂΩìÊüêÁ±ªÂûã‰Ωú‰∏∫ÂÖ∂‰ªñÁ±ªÁöÑÂ≠óÊÆµÊó∂ÔºåÂèØ‰ª•ÈÄöËøáÂ≠óÊÆµÁ∫ßÊàñÁ±ªÂûãÁ∫ßÂÖÉÊï∞ÊçÆÊèêÁ§∫ÂÖ∑‰ΩìÁºñÁ†ÅËØ≠‰πâ„ÄÇ‰∏çÂêåËØ≠Ë®ÄÁöÑÈÖçÁΩÆÊñπÂºèÔºö  JavaÔºöÊ≥®Ëß£C++ÔºöÂÆè‰∏éÊ®°ÊùøGoÔºöstruct tagPythonÔºötype hintRustÔºöÂÆè  Á§∫‰æãÔºö  Java: class Foo { @Int32Type(varint = true) int f1; List&lt;@Int32Type(varint = true) Integer&gt; f2; } Python: class Foo: f1: pyfory.varint32 f2: List[pyfory.varint32]  ","version":"dev","tagName":"h2"},{"title":"Xlang Â∫èÂàóÂåñÊ†ºÂºè","type":0,"sectionRef":"#","url":"/zh-CN/docs/next/specification/xlang_serialization_spec","content":"","keywords":"","version":"dev"},{"title":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñËßÑËåÉ‚Äã","type":1,"pageTitle":"Xlang Â∫èÂàóÂåñÊ†ºÂºè","url":"/zh-CN/docs/next/specification/xlang_serialization_spec#Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñËßÑËåÉ","content":" Êú¨ÊñáÂÆö‰πâ Apache Fory xlang ‰∫åËøõÂà∂ÂçèËÆÆÁöÑÈÄöÁî®Á∫øÊ†ºÂºèÔºåÈÄÇÁî®‰∫éÂ§öËØ≠Ë®Ä‰∫íÊìç‰ΩúÂú∫ÊôØ„ÄÇ  ÁõÆÊ†áÔºö  ‰∫åËøõÂà∂Â∏ÉÂ±ÄË∑®ËØ≠Ë®ÄÁ®≥ÂÆöÊîØÊåÅÂºïÁî®Ë∑üË∏™„ÄÅÁ±ªÂûãÂÖÉ‰ø°ÊÅØÂíå schema ÊºîËøõÂú®ÊµÅÂºèÂ∫èÂàóÂåñ‰∏≠ÊîØÊåÅÂ¢ûÈáèÂÜôÂÖ•ÂÖ±‰∫´ÂÖÉ‰ø°ÊÅØ  ","version":"dev","tagName":"h2"},{"title":"Á±ªÂûãÁ≥ªÁªü‚Äã","type":1,"pageTitle":"Xlang Â∫èÂàóÂåñÊ†ºÂºè","url":"/zh-CN/docs/next/specification/xlang_serialization_spec#Á±ªÂûãÁ≥ªÁªü","content":" ","version":"dev","tagName":"h2"},{"title":"Êï∞ÊçÆÁ±ªÂûã‚Äã","type":1,"pageTitle":"Xlang Â∫èÂàóÂåñÊ†ºÂºè","url":"/zh-CN/docs/next/specification/xlang_serialization_spec#Êï∞ÊçÆÁ±ªÂûã","content":" xlang Á±ªÂûãÂàÜ‰∏∫Ôºö  Âü∫Á°ÄÁ±ªÂûãÔºöbool„ÄÅÊï¥Êï∞„ÄÅÊµÆÁÇπ„ÄÅstring„ÄÅbinaryÂÆπÂô®Á±ªÂûãÔºölist„ÄÅset„ÄÅmap„ÄÅarrayÁªìÊûÑÁ±ªÂûãÔºöenum„ÄÅstruct„ÄÅunion„ÄÅextÊó∂Èó¥Á±ªÂûãÔºöduration„ÄÅtimestamp„ÄÅdate  ","version":"dev","tagName":"h3"},{"title":"Polymorphisms‚Äã","type":1,"pageTitle":"Xlang Â∫èÂàóÂåñÊ†ºÂºè","url":"/zh-CN/docs/next/specification/xlang_serialization_spec#polymorphisms","content":" ÂçèËÆÆÊîØÊåÅÂ§öÊÄÅÂØπË±°„ÄÇËß£Á†ÅÁ´ØÂèØ‰æùÊçÆ type meta Âà§Êñ≠ËøêË°åÊó∂ÁúüÂÆûÁ±ªÂûãÔºåÂπ∂ÈÄâÊã©ÂØπÂ∫î serializer„ÄÇ  ","version":"dev","tagName":"h3"},{"title":"Type disambiguation‚Äã","type":1,"pageTitle":"Xlang Â∫èÂàóÂåñÊ†ºÂºè","url":"/zh-CN/docs/next/specification/xlang_serialization_spec#type-disambiguation","content":" ÂΩìÊüêËØ≠Ë®ÄÁ±ªÂûãÂèØÊò†Â∞ÑÂà∞Â§ö‰∏™ Fory Á±ªÂûãÔºàÂ¶Ç fixed/varint/tagged Êï¥Êï∞ÔºâÊó∂ÔºåÂøÖÈ°ªÈÄöËøáÂ≠óÊÆµÂÖÉ‰ø°ÊÅØÊàñÁ±ªÂûãÊ≥®Ëß£Ê∂àÊ≠ß„ÄÇ  ","version":"dev","tagName":"h3"},{"title":"Type ID‚Äã","type":1,"pageTitle":"Xlang Â∫èÂàóÂåñÊ†ºÂºè","url":"/zh-CN/docs/next/specification/xlang_serialization_spec#type-id","content":" Á±ªÂûãÁî± internal_type_id ‰∏éÔºàÂèØÈÄâÔºâuser_type_id ÂÖ±ÂêåË°®ËææÔºö  ÂÜÖÂª∫Á±ªÂûãÈÄöÂ∏∏Áõ¥Êé•Áî± internal ID ÂîØ‰∏ÄË°®Á§∫Áî®Êà∑Á±ªÂûãÈÄöËøá internal kind + user IDÔºàÊàñÂëΩÂêçÁ±ªÂûãÔºâË°®Á§∫  Internal Type ID Table‚Äã  Ê†∏ÂøÉ internal IDsÔºàÁ§∫‰æãÔºâÔºö  ID\tÁ±ªÂûã1\tbool 2-20\tÂêÑÁ±ªÊï∞Â≠óÁ±ªÂûã 21\tstring 22\tlist 23\tset 24\tmap 25\tenum 27\tstruct 28\tcompatible_struct 31\text 33\tunion 36\tnone 37\tduration 38\ttimestamp 39\tdate 40+\tdecimal/binary/array Á≠â  ÂÆåÊï¥Êò†Â∞ÑËßÅ Xlang Á±ªÂûãÊò†Â∞Ñ„ÄÇ  Type ID Encoding for User Types‚Äã  Áî®Êà∑Á±ªÂûãÈááÁî®ÊãÜÂàÜÁºñÁ†ÅÔºö  ÂÖàÂÜô internal type IDÔºà8-bit kindÔºâÂÜçÂÜô user_type_idÔºàvaruint32Ôºâ  ‰∏çÂÅö bit packingÔºå‰æø‰∫éÂÆûÁé∞‰∏éË∞ÉËØï„ÄÇ  ","version":"dev","tagName":"h3"},{"title":"Type mapping‚Äã","type":1,"pageTitle":"Xlang Â∫èÂàóÂåñÊ†ºÂºè","url":"/zh-CN/docs/next/specification/xlang_serialization_spec#type-mapping","content":" Ë∑®ËØ≠Ë®ÄÁ±ªÂûãÊò†Â∞ÑÊÄªË°®ËßÅ xlang_type_mapping.md„ÄÇ  ","version":"dev","tagName":"h3"},{"title":"ËßÑËåÉÊ¶ÇËßà‚Äã","type":1,"pageTitle":"Xlang Â∫èÂàóÂåñÊ†ºÂºè","url":"/zh-CN/docs/next/specification/xlang_serialization_spec#ËßÑËåÉÊ¶ÇËßà","content":" È°∂Â±ÇÂ∏ÉÂ±ÄÔºö  | fory header | reference meta | type meta | value payload |   ÂçèËÆÆÈªòËÆ§ little-endian„ÄÇ  ","version":"dev","tagName":"h2"},{"title":"Fory Â§¥ÈÉ®‚Äã","type":1,"pageTitle":"Xlang Â∫èÂàóÂåñÊ†ºÂºè","url":"/zh-CN/docs/next/specification/xlang_serialization_spec#fory-Â§¥ÈÉ®","content":" Â§¥ÈÉ®ÊòØ 1-byte bitmapÔºö  | reserved(5) | oob(1) | xlang(1) | null(1) |   null=1 Êó∂ÂÄº‰∏∫Á©∫Ôºå‰∏çÂÜçÂÜôÂÄºÊï∞ÊçÆxlang=1 Ë°®Á§∫ÈááÁî® xlang Ê†ºÂºèoob=1 Ë°®Á§∫Â≠òÂú® out-of-band ÁºìÂÜ≤Âå∫ÂºïÁî®  ","version":"dev","tagName":"h2"},{"title":"Reference Meta‚Äã","type":1,"pageTitle":"Xlang Â∫èÂàóÂåñÊ†ºÂºè","url":"/zh-CN/docs/next/specification/xlang_serialization_spec#reference-meta","content":" ","version":"dev","tagName":"h2"},{"title":"Reference Flags‚Äã","type":1,"pageTitle":"Xlang Â∫èÂàóÂåñÊ†ºÂºè","url":"/zh-CN/docs/next/specification/xlang_serialization_spec#reference-flags","content":" Ê†áËÆ∞\tÂÄº\tÂê´‰πâNULL_FLAG\t-3\tnull REF_FLAG\t-2\tÂ∑≤Âá∫Áé∞ÂØπË±°ÔºåÂêéÊé• ref id NOT_NULL_VALUE_FLAG\t-1\tÈùûÁ©∫‰ΩÜ‰∏çË∑üË∏™ÂºïÁî® REF_VALUE_FLAG\t0\tÈ¶ñÊ¨°Âá∫Áé∞ÁöÑÂèØÂºïÁî®ÂØπË±°  ","version":"dev","tagName":"h3"},{"title":"Reference Tracking Algorithm‚Äã","type":1,"pageTitle":"Xlang Â∫èÂàóÂåñÊ†ºÂºè","url":"/zh-CN/docs/next/specification/xlang_serialization_spec#reference-tracking-algorithm","content":" ÂÜô‰æßÔºö  ÂÖàÂà§Êñ≠ nullËã•ÂèØÂºïÁî®‰∏îÂ∑≤Âá∫Áé∞ÔºåÂÜô REF_FLAG + ref_idËã•ÂèØÂºïÁî®‰∏îÈ¶ñÊ¨°Âá∫Áé∞ÔºåÂÜô REF_VALUE_FLAG Âπ∂ÁôªËÆ∞Ëã•‰∏çÂèØÂºïÁî®ÔºåÂÜô NOT_NULL_VALUE_FLAG  ËØª‰æßÔºö  ËØªÂèñÊ†áËÆ∞REF_FLAG Êó∂Êåâ ref_id ÂõûË°®REF_VALUE_FLAG Êó∂ÂÖàÊûÑÈÄ†ÂØπË±°ÂÜçÁôªËÆ∞NOT_NULL_VALUE_FLAG Êó∂Áõ¥Êé•ËØªÂÄº  ","version":"dev","tagName":"h3"},{"title":"Reference ID Assignment‚Äã","type":1,"pageTitle":"Xlang Â∫èÂàóÂåñÊ†ºÂºè","url":"/zh-CN/docs/next/specification/xlang_serialization_spec#reference-id-assignment","content":" ref id ÊåâÂØπË±°È¶ñÊ¨°Âá∫Áé∞È°∫Â∫èÈÄíÂ¢ûÂàÜÈÖçÔºå‰ªé 0 ÂºÄÂßã„ÄÇ  ","version":"dev","tagName":"h3"},{"title":"When Reference Tracking is Disabled‚Äã","type":1,"pageTitle":"Xlang Â∫èÂàóÂåñÊ†ºÂºè","url":"/zh-CN/docs/next/specification/xlang_serialization_spec#when-reference-tracking-is-disabled","content":" Á¶ÅÁî®ÂºïÁî®Ë∑üË∏™Êó∂Ôºå‰ªÖ‰ΩøÁî® null / not-null ‰∏§Á±ªÊ†áËÆ∞Ôºå‰∏çÁª¥Êä§ ref Ë°®„ÄÇ  ","version":"dev","tagName":"h3"},{"title":"Language-Specific Considerations‚Äã","type":1,"pageTitle":"Xlang Â∫èÂàóÂåñÊ†ºÂºè","url":"/zh-CN/docs/next/specification/xlang_serialization_spec#language-specific-considerations","content":" ‰∏çÂêåËØ≠Ë®ÄÂ∫î‰øùËØÅÔºö  ÂØπË±°Ë∫´‰ªΩÂà§ÂÆö‰∏ÄËá¥ÔºàË∫´‰ªΩËÄåÈùûÂÄºÁõ∏Á≠âÔºâÂÆπÂô®ÂÖÉÁ¥†ÂºïÁî®ËØ≠‰πâ‰∏ÄËá¥Âæ™ÁéØÂºïÁî®Âú∫ÊôØÂÖàÂç†‰ΩçÂêéÂ°´ÂÖÖ  ","version":"dev","tagName":"h3"},{"title":"Type Meta‚Äã","type":1,"pageTitle":"Xlang Â∫èÂàóÂåñÊ†ºÂºè","url":"/zh-CN/docs/next/specification/xlang_serialization_spec#type-meta","content":" ","version":"dev","tagName":"h2"},{"title":"Type ID encoding‚Äã","type":1,"pageTitle":"Xlang Â∫èÂàóÂåñÊ†ºÂºè","url":"/zh-CN/docs/next/specification/xlang_serialization_spec#type-id-encoding","content":" type id ‰ΩøÁî® varuint ÁºñÁ†ÅÂÜôÂÖ•„ÄÇ  ","version":"dev","tagName":"h3"},{"title":"Type meta payload‚Äã","type":1,"pageTitle":"Xlang Â∫èÂàóÂåñÊ†ºÂºè","url":"/zh-CN/docs/next/specification/xlang_serialization_spec#type-meta-payload","content":" Âú®‰ª•‰∏ãÊÉÖÂÜµÂÜôÈ¢ùÂ§ñ type metaÔºö  ÂëΩÂêçÁ±ªÂûãÔºàNAMED_*Ôºâcompatible struct ÈúÄË¶Å TypeDefËøêË°åÊó∂Êú™Â£∞ÊòéÁ±ªÂûãÈúÄË¶ÅÂä®ÊÄÅ type info  ","version":"dev","tagName":"h3"},{"title":"Shared Type Meta (streaming)‚Äã","type":1,"pageTitle":"Xlang Â∫èÂàóÂåñÊ†ºÂºè","url":"/zh-CN/docs/next/specification/xlang_serialization_spec#shared-type-meta-streaming","content":" ÂÖ±‰∫´ type meta ÈááÁî®‚ÄúÁ¥¢Âºï + ÂèØÈÄâÂÆö‰πâ‰Ωì‚ÄùÊµÅÂºèÂÜôÊ≥ïÔºö  index_marker = (index &lt;&lt; 1) | is_ref   is_ref=1ÔºöÂºïÁî®Â∑≤Êúâ typeis_ref=0ÔºöÊñ∞ typeÔºåÂêéÊé•ÂÆö‰πâ‰Ωì  ","version":"dev","tagName":"h3"},{"title":"TypeDef (schema evolution metadata)‚Äã","type":1,"pageTitle":"Xlang Â∫èÂàóÂåñÊ†ºÂºè","url":"/zh-CN/docs/next/specification/xlang_serialization_spec#typedef-schema-evolution-metadata","content":" TypeDef Áî®‰∫éÊèèËø∞ compatible Ê®°ÂºèÁöÑÂ≠óÊÆµÂÖÉ‰ø°ÊÅØÔºàÂ≠óÊÆµÂêç/tag„ÄÅnullable/ref„ÄÅÂ≠óÊÆµÁ±ªÂûãÔºâ„ÄÇ  Global header‚Äã  TypeDef Â§¥ÈÉ®ÂåÖÂê´Ôºö  payload sizeflagsÔºàÂ¶Ç compress„ÄÅhas_fields_metaÔºâpayload hash  TypeDef body‚Äã  ‰∏ª‰ΩìÂåÖÂê´Ôºö  class Â±ÇÊ¨°‰ø°ÊÅØÔºàÁà∂Á±ªÂà∞Â≠êÁ±ªÔºâÊØèÂ±ÇÂ≠óÊÆµÊï∞Èáè‰∏éÁ±ªÂûãÊ†áËØÜÂ≠óÊÆµÁ∫ßÂÖÉ‰ø°ÊÅØÔºàÂêçÁß∞ÁºñÁ†Å/tag„ÄÅnullable/ref„ÄÅfield typeÔºâ  ","version":"dev","tagName":"h3"},{"title":"Meta String‚Äã","type":1,"pageTitle":"Xlang Â∫èÂàóÂåñÊ†ºÂºè","url":"/zh-CN/docs/next/specification/xlang_serialization_spec#meta-string","content":" meta string Áî®‰∫é namespace„ÄÅtypename„ÄÅfieldname ÁöÑÂéãÁº©Ë°®Á§∫„ÄÇ  ","version":"dev","tagName":"h2"},{"title":"Encoding Type IDs‚Äã","type":1,"pageTitle":"Xlang Â∫èÂàóÂåñÊ†ºÂºè","url":"/zh-CN/docs/next/specification/xlang_serialization_spec#encoding-type-ids","content":" Â∏∏ËßÅÁºñÁ†ÅÊóèÔºö  UTF8LOWER_SPECIALLOWER_UPPER_DIGIT_SPECIALFIRST_TO_LOWER_SPECIALALL_TO_LOWER_SPECIAL  ","version":"dev","tagName":"h3"},{"title":"Character Mapping Tables‚Äã","type":1,"pageTitle":"Xlang Â∫èÂàóÂåñÊ†ºÂºè","url":"/zh-CN/docs/next/specification/xlang_serialization_spec#character-mapping-tables","content":" LOWER_SPECIAL (5 bits per character)‚Äã  ÈÄÇÁî®‰∫éÂ∞èÂÜôÂ≠óÊØç + È´òÈ¢ëÁâπÊÆäÂ≠óÁ¨¶ÈõÜÂêà„ÄÇ  LOWER_UPPER_DIGIT_SPECIAL (6 bits per character)‚Äã  ÈÄÇÁî®‰∫éÂ§ßÂ∞èÂÜôÂ≠óÊØç„ÄÅÊï∞Â≠ó‰∏éÁâπÊÆäÂ≠óÁ¨¶Ê∑∑ÂêàÂú∫ÊôØ„ÄÇ  ","version":"dev","tagName":"h3"},{"title":"Encoding Algorithms‚Äã","type":1,"pageTitle":"Xlang Â∫èÂàóÂåñÊ†ºÂºè","url":"/zh-CN/docs/next/specification/xlang_serialization_spec#encoding-algorithms","content":" LOWER_SPECIAL Encoding‚Äã  Êåâ 5-bit Êò†Â∞ÑÈÄêÂ≠óÁ¨¶ÁºñÁ†ÅÔºåÊó†Ê≥ïÊò†Â∞ÑÁöÑÂ≠óÁ¨¶ÈúÄÂõûÈÄÄËá≥ÂÖ∂‰ªñÁºñÁ†Å„ÄÇ  FIRST_TO_LOWER_SPECIAL Encoding‚Äã  È¶ñÂ≠óÁ¨¶ÂçïÁã¨Â§ÑÁêÜÔºåÂÖ∂‰ΩôÂ≠óÁ¨¶Êåâ LOWER_SPECIAL ÁºñÁ†Å„ÄÇ  ALL_TO_LOWER_SPECIAL Encoding‚Äã  ÂÖàÂΩí‰∏ÄÂåñÔºåÂÜçÊåâ LOWER_SPECIAL ÁºñÁ†Å„ÄÇ  ","version":"dev","tagName":"h3"},{"title":"Encoding Selection Algorithm‚Äã","type":1,"pageTitle":"Xlang Â∫èÂàóÂåñÊ†ºÂºè","url":"/zh-CN/docs/next/specification/xlang_serialization_spec#encoding-selection-algorithm","content":" ÁºñÁ†ÅÈÄâÊã©Á≠ñÁï•Ôºö  Â∞ùËØïÊúÄÁ¥ßÂáëÁºñÁ†ÅËã•Â≠óÁ¨¶ÈõÜÂêà‰∏çÊª°Ë∂≥ÂàôÈôçÁ∫ßÂøÖË¶ÅÊó∂ÂõûÈÄÄ UTF8  ","version":"dev","tagName":"h3"},{"title":"Meta String Header Format‚Äã","type":1,"pageTitle":"Xlang Â∫èÂàóÂåñÊ†ºÂºè","url":"/zh-CN/docs/next/specification/xlang_serialization_spec#meta-string-header-format","content":" | size_bits | encoding_bits |   ÂΩì size Ë∂ÖËøáÁü≠Â§¥ËåÉÂõ¥Êó∂ËøΩÂä† varuint Êâ©Â±ïÈïøÂ∫¶„ÄÇ  ","version":"dev","tagName":"h3"},{"title":"Special Character Sets by Context‚Äã","type":1,"pageTitle":"Xlang Â∫èÂàóÂåñÊ†ºÂºè","url":"/zh-CN/docs/next/specification/xlang_serialization_spec#special-character-sets-by-context","content":" ‰∏çÂêå‰∏ä‰∏ãÊñáÔºàÂåÖÂêç„ÄÅÁ±ªÂûãÂêç„ÄÅÂ≠óÊÆµÂêçÔºâÂÖÅËÆ∏Â≠óÁ¨¶ÈõÜÂêàÂèØ‰∏çÂêåÔºåÁºñÁ†ÅÂô®ÈúÄÊåâ‰∏ä‰∏ãÊñáÈÄâÊã©ÂêàÊ≥ïË°®„ÄÇ  ","version":"dev","tagName":"h3"},{"title":"Deduplication‚Äã","type":1,"pageTitle":"Xlang Â∫èÂàóÂåñÊ†ºÂºè","url":"/zh-CN/docs/next/specification/xlang_serialization_spec#deduplication","content":" meta string ÂèØÊåâ‰ºöËØùÂéªÈáçÔºåÂáèÂ∞ëÈáçÂ§çÂÜôÂÖ•„ÄÇ  ","version":"dev","tagName":"h3"},{"title":"Value Format‚Äã","type":1,"pageTitle":"Xlang Â∫èÂàóÂåñÊ†ºÂºè","url":"/zh-CN/docs/next/specification/xlang_serialization_spec#value-format","content":" ","version":"dev","tagName":"h2"},{"title":"Basic types‚Äã","type":1,"pageTitle":"Xlang Â∫èÂàóÂåñÊ†ºÂºè","url":"/zh-CN/docs/next/specification/xlang_serialization_spec#basic-types","content":" bool‚Äã  1 Â≠óËäÇÔºö0x00/0x01„ÄÇ  int8‚Äã  1 Â≠óËäÇÊúâÁ¨¶Âè∑Êï¥Âûã„ÄÇ  int16‚Äã  2 Â≠óËäÇ little-endian„ÄÇ  unsigned int32‚Äã  Âõ∫ÂÆö 4 Â≠óËäÇÊó†Á¨¶Âè∑Êï¥Âûã„ÄÇ  unsigned varint32‚Äã  varint32ÔºàÊó†Á¨¶Âè∑ÔºâÁºñÁ†Å„ÄÇ  signed int32‚Äã  Âõ∫ÂÆö 4 Â≠óËäÇÊúâÁ¨¶Âè∑Êï¥Âûã„ÄÇ  signed varint32‚Äã  ZigZag + varint32„ÄÇ  unsigned int64‚Äã  Âõ∫ÂÆö 8 Â≠óËäÇÊó†Á¨¶Âè∑Êï¥Âûã„ÄÇ  unsigned varint64‚Äã  varint64ÔºàÊó†Á¨¶Âè∑ÔºâÁºñÁ†Å„ÄÇ  unsigned hybrid int64 (TAGGED_UINT64)‚Äã  tagged ÁºñÁ†ÅÔºåÂÖºÈ°æÂ∞èÂÄºÁ©∫Èó¥ÊïàÁéá‰∏éÂ§ßÂÄºË°®Á§∫ËåÉÂõ¥„ÄÇ  VarUint36Small‚Äã  Áî®‰∫éÂ≠óÁ¨¶‰∏≤Â§¥Á≠âÂú∫ÊôØÁöÑÁ¥ßÂáëÈïøÂ∫¶ÁºñÁ†Å„ÄÇ  signed int64‚Äã  Âõ∫ÂÆö 8 Â≠óËäÇÊúâÁ¨¶Âè∑Êï¥Âûã„ÄÇ  signed varint64‚Äã  ZigZag + varint64„ÄÇ  signed hybrid int64 (TAGGED_INT64)‚Äã  tagged int64 ÁºñÁ†Å„ÄÇ  float8‚Äã  È¢ÑÁïô/ÂÆûÈ™åÁ±ªÂûãÔºåÁîü‰∫ß‰∫íÊìç‰ΩúÈúÄË∞®ÊÖé„ÄÇ  float16‚Äã  16-bit ÊµÆÁÇπ„ÄÇ  bfloat16‚Äã  bfloat16 Ë°®Á§∫„ÄÇ  float32‚Äã  IEEE 754 float32 little-endian„ÄÇ  float64‚Äã  IEEE 754 float64 little-endian„ÄÇ  ","version":"dev","tagName":"h3"},{"title":"string‚Äã","type":1,"pageTitle":"Xlang Â∫èÂàóÂåñÊ†ºÂºè","url":"/zh-CN/docs/next/specification/xlang_serialization_spec#string","content":" Â≠óÁ¨¶‰∏≤ÁºñÁ†ÅÔºö  | header(varuint36_small) | bytes |   header ‰∏≠ÂåÖÂê´ byte length ‰∏é coder ‰ø°ÊÅØ„ÄÇ  String Header‚Äã  (byte_length &lt;&lt; 2) | coderÔºåcoder Ë°®Á§∫ UTF8/LATIN1/UTF16 Á≠â„ÄÇ  Encoding Algorithm‚Äã  ÊåâÂÄôÈÄâÁºñÁ†ÅÂ∞ùËØïÔºå‰ºòÂÖàÈÄâÊã©Êõ¥Á¥ßÂáë‰∏îÂèØÊó†ÊçüË°®Á§∫ÁöÑÁºñÁ†Å„ÄÇ  Encoding Selection by Language‚Äã  ÂêÑËØ≠Ë®ÄÂÆûÁé∞ÂèØÊåâÊú¨Âú∞Â≠óÁ¨¶‰∏≤ÂÜÖÈÉ®Ë°®Á§∫‰ºòÂåñÔºå‰ΩÜÁ∫ø‰∏äÁºñÁ†ÅÁªìÊûúÂøÖÈ°ª‰∏éËßÑËåÉ‰∏ÄËá¥„ÄÇ  Empty String‚Äã  Á©∫‰∏≤ÈïøÂ∫¶‰∏∫ 0Ôºå‰ªçÂ∫îÂÜôÂêàÊ≥ï header„ÄÇ  ","version":"dev","tagName":"h3"},{"title":"duration‚Äã","type":1,"pageTitle":"Xlang Â∫èÂàóÂåñÊ†ºÂºè","url":"/zh-CN/docs/next/specification/xlang_serialization_spec#duration","content":" ÈÄöÂ∏∏ÂÜô seconds + nanos„ÄÇ  ","version":"dev","tagName":"h3"},{"title":"collection/list‚Äã","type":1,"pageTitle":"Xlang Â∫èÂàóÂåñÊ†ºÂºè","url":"/zh-CN/docs/next/specification/xlang_serialization_spec#collectionlist","content":" ÂàóË°®Â∏ÉÂ±ÄÔºö  ÈïøÂ∫¶elements headerÔºàÂèØÈÄâÔºâÂÖÉÁ¥†Á±ªÂûã‰ø°ÊÅØÂÖÉÁ¥†Êï∞ÊçÆ  Elements Header‚Äã  header ‰ΩçÁî®‰∫éË°®ËææÔºö  ÊòØÂê¶Ë∑üË∏™ÂÖÉÁ¥†ÂºïÁî®ÊòØÂê¶Âê´ nullÊòØÂê¶ÂêåÊûÑÊòØÂê¶‰ΩøÁî®Â£∞ÊòéÁ±ªÂûã  Type Info After Header‚Äã  Âú®ÂêåÊûÑ‰∏îÈùûÂ£∞ÊòéÁ±ªÂûãÂú∫ÊôØÔºåÂèØÂú® header Âêé‰∏ÄÊ¨°ÊÄßÂÜô element type info„ÄÇ  Element Serialization Based on Header‚Äã  Ê†πÊçÆ header Ëµ∞‰∏çÂêåÂÖÉÁ¥†Â∫èÂàóÂåñË∑ØÂæÑÔºàÂêåÊûÑÂø´Ë∑ØÂæÑ / ÂºÇÊûÑÊÖ¢Ë∑ØÂæÑÔºâ„ÄÇ  elements data‚Äã  ÂÖÉÁ¥†Êï∞ÊçÆÊåâÈ°∫Â∫èÁºñÁ†ÅÔºõnull ‰∏é ref Ê†áËÆ∞ÊåâÈÖçÁΩÆÊèíÂÖ•„ÄÇ  ","version":"dev","tagName":"h3"},{"title":"array‚Äã","type":1,"pageTitle":"Xlang Â∫èÂàóÂåñÊ†ºÂºè","url":"/zh-CN/docs/next/specification/xlang_serialization_spec#array","content":" primitive array‚Äã  Âü∫Á°ÄÁ±ªÂûãÊï∞ÁªÑÂèØÁõ¥Êé•ÊåâÂÜÖÂ≠òÂùóÊã∑Ë¥ùÔºàÊ≥®ÊÑè endian ‰∏éÂØπÈΩêÔºâ„ÄÇ  Multi-dimensional arrays‚Äã  Â§öÁª¥Êï∞ÁªÑÊåâÂµåÂ•ó array/list ÈÄíÂΩíË°®Ëææ„ÄÇ  object array‚Äã  ÂØπË±°Êï∞ÁªÑÂÖÉÁ¥†ÈÄê‰∏™ÁºñÁ†ÅÔºåÊîØÊåÅÂºïÁî®‰∏éÂ§öÊÄÅ„ÄÇ  ","version":"dev","tagName":"h3"},{"title":"map‚Äã","type":1,"pageTitle":"Xlang Â∫èÂàóÂåñÊ†ºÂºè","url":"/zh-CN/docs/next/specification/xlang_serialization_spec#map","content":" map ‰ΩøÁî®ÂàÜÂùóÁºñÁ†ÅÔºàchunk-basedÔºâ„ÄÇ  Map Chunk Format‚Äã  | map_size | chunk_1 | chunk_2 | ... |   KV Header Bits‚Äã  header ‰ΩçÊèèËø∞ key/value ÁöÑÔºö  ÊòØÂê¶Ë∑üË∏™ÂºïÁî®ÊòØÂê¶Âê´ nullÊòØÂê¶‰ΩøÁî®Â£∞ÊòéÁ±ªÂûã  Chunk Size‚Äã  ÊØè‰∏™ chunk Â§ßÂ∞è‰∏äÈôêÈÄöÂ∏∏‰∏∫ 255 entries„ÄÇ  Why Chunk-Based Format?‚Äã  ÂáèÂ∞ëÊØè‰∏™ entry ÈáçÂ§çÂÜô type info ÁöÑÊàêÊú¨ÔºåÊèêÂçáÂêûÂêê„ÄÇ  Why serialize chunk by chunk?‚Äã  Âú® key/value Á±ªÂûãÂ±ÄÈÉ®‰∏ÄËá¥Êó∂ÂèØÊâπÈáèËµ∞Âø´Ë∑ØÂæÑÔºåÂπ∂ÁÆÄÂåñËß£Á†ÅÂàÜÊîØ„ÄÇ  ","version":"dev","tagName":"h3"},{"title":"enum‚Äã","type":1,"pageTitle":"Xlang Â∫èÂàóÂåñÊ†ºÂºè","url":"/zh-CN/docs/next/specification/xlang_serialization_spec#enum","content":" enum ÂèØÊåâ ordinal ÊàñÂêçÁß∞ÁºñÁ†ÅÔºàÂèñÂÜ≥‰∫éÈÖçÁΩÆ‰∏éÁõÆÊ†áÂÖºÂÆπË¶ÅÊ±ÇÔºâ„ÄÇ  ","version":"dev","tagName":"h3"},{"title":"timestamp‚Äã","type":1,"pageTitle":"Xlang Â∫èÂàóÂåñÊ†ºÂºè","url":"/zh-CN/docs/next/specification/xlang_serialization_spec#timestamp","content":" ÈÄöÂ∏∏ÂÜô seconds + nanos ÊàñÁªü‰∏Ä epoch Á≤æÂ∫¶Ë°®Á§∫„ÄÇ  ","version":"dev","tagName":"h3"},{"title":"date‚Äã","type":1,"pageTitle":"Xlang Â∫èÂàóÂåñÊ†ºÂºè","url":"/zh-CN/docs/next/specification/xlang_serialization_spec#date","content":" ÈÄöÂ∏∏ÂÜô epoch day„ÄÇ  ","version":"dev","tagName":"h3"},{"title":"decimal‚Äã","type":1,"pageTitle":"Xlang Â∫èÂàóÂåñÊ†ºÂºè","url":"/zh-CN/docs/next/specification/xlang_serialization_spec#decimal","content":" decimal Áî± scale + unscaled value Ë°®Á§∫ÔºàÂÆûÁé∞ÂèØÁî®Â§ßÊï¥Êï∞Ôºâ„ÄÇ  ","version":"dev","tagName":"h3"},{"title":"struct‚Äã","type":1,"pageTitle":"Xlang Â∫èÂàóÂåñÊ†ºÂºè","url":"/zh-CN/docs/next/specification/xlang_serialization_spec#struct","content":" struct ÁºñÁ†ÅÔºöÂ≠óÊÆµÊåâÁ®≥ÂÆöÈ°∫Â∫èÂÜôÂÖ•„ÄÇ  Field order‚Äã  Êé®Ëçê‰ΩøÁî®ËßÑËåÉÂÆö‰πâÁöÑÁ®≥ÂÆöÂàÜÁªÑÊéíÂ∫èÔºåÈÅøÂÖçËØ≠Ë®ÄÂÆûÁé∞Â∑ÆÂºÇÂØºËá¥ hash ‰∏ç‰∏ÄËá¥„ÄÇ  Step 1: Field identifier‚Äã  Â≠óÊÆµÊ†áËØÜ‰ºòÂÖà‰ΩøÁî® tag IDÔºõÂê¶Âàô‰ΩøÁî®Ê†áÂáÜÂåñÂ≠óÊÆµÂêçÔºàÂ¶Ç snake_caseÔºâ„ÄÇ  Step 2: Group assignment‚Äã  ÊåâÂ≠óÊÆµÁ±ªÂà´ÂàÜÁªÑÔºàprimitive„ÄÅbuiltin„ÄÅcollection/map„ÄÅotherÔºâ„ÄÇ  Step 3: Intra-group ordering‚Äã  ÁªÑÂÜÖ‰ΩøÁî®Á®≥ÂÆöÊØîËæÉÂô®Ôºàtype + name/tagÔºâÊéíÂ∫è„ÄÇ  Notes‚Äã  ÂÆûÁé∞ÂøÖÈ°ª‰øùËØÅÊéíÂ∫èÁ°ÆÂÆöÊÄßÔºàdeterministicÔºâ„ÄÇ  Schema consistent (meta share disabled)‚Äã  ‰∏çÂÖ±‰∫´ meta Êó∂ÔºåÂèåÊñπ schema ÈúÄ‰∏ÄËá¥ÔºõÈÄöÂ∏∏Áõ¥Êé•ÊåâÂõ∫ÂÆöÈ°∫Â∫èÂÜôÂ≠óÊÆµÂÄº„ÄÇ  Compatible mode (meta share enabled)‚Äã  ÂÖ±‰∫´ TypeDef ÂêéÂèØÊåâÂ≠óÊÆµÂêç/tag ÂÅöÊò†Â∞ÑÔºåÊú™Áü•Â≠óÊÆµË∑≥Ëøá„ÄÇ  ","version":"dev","tagName":"h3"},{"title":"Union‚Äã","type":1,"pageTitle":"Xlang Â∫èÂàóÂåñÊ†ºÂºè","url":"/zh-CN/docs/next/specification/xlang_serialization_spec#union","content":" IDL syntax‚Äã  union Animal { Dog dog = 1; Cat cat = 2; }   Type IDs and type meta‚Äã  union Êú¨‰ΩìÊúâÁã¨Á´ã type idÔºåcase ‰ΩøÁî® case id Âå∫ÂàÜÂàÜÊîØ„ÄÇ  Union value payload‚Äã  | case_id | case_value |   Wire layouts‚Äã  Ê†πÊçÆ case Á±ªÂûãÊòØÂê¶ÈúÄË¶ÅÂºïÁî®/Á±ªÂûãÂÖÉ‰ø°ÊÅØÂÜ≥ÂÆöÂÖ∑‰ΩìÂ∏ÉÂ±Ä„ÄÇ  Decoding rules‚Äã  ÂÖàËØª case_idÔºåÂÜçÊåâ case Á±ªÂûãËßÑÂàôËØª payloadÔºõÊú™Áü• case ÂèØÊåâÂÖºÂÆπÁ≠ñÁï•Ë∑≥ËøáÊàñÊä•Èîô„ÄÇ  When to use each type ID‚Äã  ÁªìÊûÑÁ®≥ÂÆö„ÄÅË∑®ËØ≠Ë®ÄÂ∏∏È©ªÁ±ªÂûãÔºöÂª∫ËÆÆÂõ∫ÂÆöÊï∞ÂÄº type idÂä®ÊÄÅÁ±ªÂûã/Êú™Ê≥®ÂÜåÁ±ªÂûãÔºö‰ΩøÁî®ÂëΩÂêçÁ±ªÂûãË∑ØÂæÑ  Compatibility notes‚Äã  Êñ∞Â¢û union case Â∫î‰ΩøÁî®Êñ∞ case idÔºå‰∏çÂ∫îÂ§çÁî®Êóß id„ÄÇ  ","version":"dev","tagName":"h3"},{"title":"Type‚Äã","type":1,"pageTitle":"Xlang Â∫èÂàóÂåñÊ†ºÂºè","url":"/zh-CN/docs/next/specification/xlang_serialization_spec#type","content":" Âä®ÊÄÅ type ÂÄºÂ∫îÊê∫Â∏¶Ë∂≥Â§ü type metaÔºåÁ°Æ‰øùÊé•Êî∂Á´ØÂèØÂà§Âà´Âπ∂Ëß£Á†Å„ÄÇ  ","version":"dev","tagName":"h3"},{"title":"Common Pitfalls‚Äã","type":1,"pageTitle":"Xlang Â∫èÂàóÂåñÊ†ºÂºè","url":"/zh-CN/docs/next/specification/xlang_serialization_spec#common-pitfalls","content":" Â∏∏ËßÅÈóÆÈ¢òÔºö  Â≠óÊÆµÊéíÂ∫è‰∏çÁ®≥ÂÆöÂØºËá¥ schema/hash ‰∏ç‰∏ÄËá¥varint ‰∏é fixed/tagged ÈÖçÁΩÆ‰∏ç‰∏ÄËá¥null ‰∏éÁ©∫ÂÄºËØ≠‰πâÊ∑∑Ê∑ÜÂºïÁî®Ë∑üË∏™ÂºÄÂÖ≥‰∏§Á´Ø‰∏ç‰∏ÄËá¥ÂëΩÂêçÁ±ªÂûã namespace/typename ‰∏çÁ®≥ÂÆö  ","version":"dev","tagName":"h2"},{"title":"Language Implementation Guidelines‚Äã","type":1,"pageTitle":"Xlang Â∫èÂàóÂåñÊ†ºÂºè","url":"/zh-CN/docs/next/specification/xlang_serialization_spec#language-implementation-guidelines","content":" Áªü‰∏Ä little-endianÊòéÁ°ÆÂØπË±°Ë∫´‰ªΩËØ≠‰πâÔºàÁî®‰∫é ref trackingÔºâÂØπÊâÄÊúâ offset/size ÂÅöËæπÁïå‰∏éÊ∫¢Âá∫Ê£ÄÊü•Áª¥Êä§Ë∑®ÁâàÊú¨ÂõûÂΩíÁî®‰æãÔºàÂê´ÊºîËøõ„ÄÅÂæ™ÁéØÂºïÁî®„ÄÅÂ§çÊùÇÂÆπÂô®Ôºâ‰∏é Java/Python/C++/Rust/Go ÂÅöÂèåÂêë‰∫íÊµã ","version":"dev","tagName":"h2"},{"title":"Â∫èÂàóÂåñ","type":0,"sectionRef":"#","url":"/zh-CN/docs/next/guide/xlang/xlang_serialization","content":"","keywords":"","version":"dev"},{"title":"Â∫èÂàóÂåñÂÜÖÁΩÆÁ±ªÂûã‚Äã","type":1,"pageTitle":"Â∫èÂàóÂåñ","url":"/zh-CN/docs/next/guide/xlang/xlang_serialization#Â∫èÂàóÂåñÂÜÖÁΩÆÁ±ªÂûã","content":" Â∏∏ËßÅÁ±ªÂûãÂèØ‰ª•Ëá™Âä®Â∫èÂàóÂåñÔºåÊó†ÈúÄÊ≥®ÂÜåÔºöÂéüÂßãÊï∞ÂÄºÁ±ªÂûã„ÄÅÂ≠óÁ¨¶‰∏≤„ÄÅ‰∫åËøõÂà∂„ÄÅÊï∞ÁªÑ„ÄÅÂàóË°®„ÄÅÊò†Â∞ÑÁ≠â„ÄÇ  ","version":"dev","tagName":"h2"},{"title":"Java‚Äã","type":1,"pageTitle":"Â∫èÂàóÂåñ","url":"/zh-CN/docs/next/guide/xlang/xlang_serialization#java","content":" import org.apache.fory.*; import org.apache.fory.config.*; import java.util.*; public class Example1 { public static void main(String[] args) { Fory fory = Fory.builder().withLanguage(Language.XLANG).build(); List&lt;Object&gt; list = ofArrayList(true, false, &quot;str&quot;, -1.1, 1, new int[100], new double[20]); byte[] bytes = fory.serialize(list); // bytes ÂèØ‰ª•Ë¢´ÂÖ∂‰ªñËØ≠Ë®ÄÂèçÂ∫èÂàóÂåñ fory.deserialize(bytes); Map&lt;Object, Object&gt; map = new HashMap&lt;&gt;(); map.put(&quot;k1&quot;, &quot;v1&quot;); map.put(&quot;k2&quot;, list); map.put(&quot;k3&quot;, -1); bytes = fory.serialize(map); // bytes ÂèØ‰ª•Ë¢´ÂÖ∂‰ªñËØ≠Ë®ÄÂèçÂ∫èÂàóÂåñ fory.deserialize(bytes); } }   ","version":"dev","tagName":"h3"},{"title":"Python‚Äã","type":1,"pageTitle":"Â∫èÂàóÂåñ","url":"/zh-CN/docs/next/guide/xlang/xlang_serialization#python","content":" import pyfory import numpy as np fory = pyfory.Fory() object_list = [True, False, &quot;str&quot;, -1.1, 1, np.full(100, 0, dtype=np.int32), np.full(20, 0.0, dtype=np.double)] data = fory.serialize(object_list) # bytes ÂèØ‰ª•Ë¢´ÂÖ∂‰ªñËØ≠Ë®ÄÂèçÂ∫èÂàóÂåñ new_list = fory.deserialize(data) object_map = {&quot;k1&quot;: &quot;v1&quot;, &quot;k2&quot;: object_list, &quot;k3&quot;: -1} data = fory.serialize(object_map) # bytes ÂèØ‰ª•Ë¢´ÂÖ∂‰ªñËØ≠Ë®ÄÂèçÂ∫èÂàóÂåñ new_map = fory.deserialize(data) print(new_map)   ","version":"dev","tagName":"h3"},{"title":"Go‚Äã","type":1,"pageTitle":"Â∫èÂàóÂåñ","url":"/zh-CN/docs/next/guide/xlang/xlang_serialization#go","content":" package main import forygo &quot;github.com/apache/fory/go/fory&quot; import &quot;fmt&quot; func main() { list := []interface{}{true, false, &quot;str&quot;, -1.1, 1, make([]int32, 10), make([]float64, 20)} fory := forygo.NewFory() bytes, err := fory.Marshal(list) if err != nil { panic(err) } var newValue interface{} // bytes ÂèØ‰ª•Ë¢´ÂÖ∂‰ªñËØ≠Ë®ÄÂèçÂ∫èÂàóÂåñ if err := fory.Unmarshal(bytes, &amp;newValue); err != nil { panic(err) } fmt.Println(newValue) dict := map[string]interface{}{ &quot;k1&quot;: &quot;v1&quot;, &quot;k2&quot;: list, &quot;k3&quot;: -1, } bytes, err = fory.Marshal(dict) if err != nil { panic(err) } // bytes ÂèØ‰ª•Ë¢´ÂÖ∂‰ªñËØ≠Ë®ÄÂèçÂ∫èÂàóÂåñ if err := fory.Unmarshal(bytes, &amp;newValue); err != nil { panic(err) } fmt.Println(newValue) }   ","version":"dev","tagName":"h3"},{"title":"JavaScript‚Äã","type":1,"pageTitle":"Â∫èÂàóÂåñ","url":"/zh-CN/docs/next/guide/xlang/xlang_serialization#javascript","content":" import Fory from &quot;@apache-fory/fory&quot;; /** * @apache-fory/hps ‰ΩøÁî® v8 ÁöÑ fast-calls-apiÔºåÂèØ‰ª•Áõ¥Êé•Ë¢´ jit Ë∞ÉÁî®Ôºå * Á°Æ‰øù Node ÁâàÊú¨‰∏∫ 20 ÊàñÊõ¥È´ò„ÄÇ * ÂÆûÈ™åÊÄßÂäüËÉΩÔºåÁõÆÂâçÊó†Ê≥ï‰øùËØÅÂÆâË£ÖÊàêÂäü„ÄÇ * Â¶ÇÊûúÊó†Ê≥ïÂÆâË£ÖËØ•Ê®°ÂùóÔºåËØ∑Â∞ÜÂÖ∂ÊõøÊç¢‰∏∫ `const hps = null;` **/ import hps from &quot;@apache-fory/hps&quot;; const fory = new Fory({ hps }); const input = fory.serialize(&quot;hello fory&quot;); const result = fory.deserialize(input); console.log(result);   ","version":"dev","tagName":"h3"},{"title":"Rust‚Äã","type":1,"pageTitle":"Â∫èÂàóÂåñ","url":"/zh-CN/docs/next/guide/xlang/xlang_serialization#rust","content":" use fory::{from_buffer, to_buffer, Fory}; use std::collections::HashMap; fn run() { let bin: Vec&lt;u8&gt; = to_buffer(&amp;&quot;hello&quot;.to_string()); let obj: String = from_buffer(&amp;bin).expect(&quot;should success&quot;); assert_eq!(&quot;hello&quot;.to_string(), obj); }   ","version":"dev","tagName":"h3"},{"title":"Â∫èÂàóÂåñËá™ÂÆö‰πâÁ±ªÂûã‚Äã","type":1,"pageTitle":"Â∫èÂàóÂåñ","url":"/zh-CN/docs/next/guide/xlang/xlang_serialization#Â∫èÂàóÂåñËá™ÂÆö‰πâÁ±ªÂûã","content":" Áî®Êà∑ÂÆö‰πâÁöÑÁ±ªÂûãÂøÖÈ°ª‰ΩøÁî® register API ËøõË°åÊ≥®ÂÜåÔºå‰ª•Âª∫Á´ã‰∏çÂêåËØ≠Ë®Ä‰∏≠Á±ªÂûã‰πãÈó¥ÁöÑÊò†Â∞ÑÂÖ≥Á≥ª„ÄÇËØ∑Âú®ÊâÄÊúâËØ≠Ë®Ä‰∏≠‰ΩøÁî®‰∏ÄËá¥ÁöÑÁ±ªÂûãÂêçÁß∞„ÄÇ  ","version":"dev","tagName":"h2"},{"title":"Java‚Äã","type":1,"pageTitle":"Â∫èÂàóÂåñ","url":"/zh-CN/docs/next/guide/xlang/xlang_serialization#java-1","content":" import org.apache.fory.*; import org.apache.fory.config.*; import java.util.*; public class Example2 { public static class SomeClass1 { Object f1; Map&lt;Byte, Integer&gt; f2; } public static class SomeClass2 { Object f1; String f2; List&lt;Object&gt; f3; Map&lt;Byte, Integer&gt; f4; Byte f5; Short f6; Integer f7; Long f8; Float f9; Double f10; short[] f11; List&lt;Short&gt; f12; } public static Object createObject() { SomeClass1 obj1 = new SomeClass1(); obj1.f1 = true; obj1.f2 = ofHashMap((byte) -1, 2); SomeClass2 obj = new SomeClass2(); obj.f1 = obj1; obj.f2 = &quot;abc&quot;; obj.f3 = ofArrayList(&quot;abc&quot;, &quot;abc&quot;); obj.f4 = ofHashMap((byte) 1, 2); obj.f5 = Byte.MAX_VALUE; obj.f6 = Short.MAX_VALUE; obj.f7 = Integer.MAX_VALUE; obj.f8 = Long.MAX_VALUE; obj.f9 = 1.0f / 2; obj.f10 = 1 / 3.0; obj.f11 = new short[]{(short) 1, (short) 2}; obj.f12 = ofArrayList((short) -1, (short) 4); return obj; } // mvn exec:java -Dexec.mainClass=&quot;org.apache.fory.examples.Example2&quot; public static void main(String[] args) { Fory fory = Fory.builder().withLanguage(Language.XLANG).build(); fory.register(SomeClass1.class, &quot;example.SomeClass1&quot;); fory.register(SomeClass2.class, &quot;example.SomeClass2&quot;); byte[] bytes = fory.serialize(createObject()); // bytes ÂèØ‰ª•Ë¢´ÂÖ∂‰ªñËØ≠Ë®ÄÂèçÂ∫èÂàóÂåñ System.out.println(fory.deserialize(bytes)); } }   ","version":"dev","tagName":"h3"},{"title":"Python‚Äã","type":1,"pageTitle":"Â∫èÂàóÂåñ","url":"/zh-CN/docs/next/guide/xlang/xlang_serialization#python-1","content":" from dataclasses import dataclass from typing import List, Dict, Any import pyfory, array @dataclass class SomeClass1: f1: Any f2: Dict[pyfory.Int8Type, pyfory.Int32Type] @dataclass class SomeClass2: f1: Any = None f2: str = None f3: List[str] = None f4: Dict[pyfory.Int8Type, pyfory.Int32Type] = None f5: pyfory.Int8Type = None f6: pyfory.Int16Type = None f7: pyfory.Int32Type = None # int Á±ªÂûãÂ∞ÜË¢´ËßÜ‰∏∫ `pyfory.Int64Type`„ÄÇ # Â¶ÇÊûúÂØπÁ≠âÊñπ‰ΩøÁî®Êõ¥Á™ÑÁöÑÁ±ªÂûãÔºåËØ∑‰ΩøÁî® `pyfory.Int32Type` ËøõË°åÁ±ªÂûãÊèêÁ§∫„ÄÇ f8: int = None f9: pyfory.Float32Type = None # float Á±ªÂûãÂ∞ÜË¢´ËßÜ‰∏∫ `pyfory.Float64Type` f10: float = None f11: pyfory.Int16ArrayType = None f12: List[pyfory.Int16Type] = None if __name__ == &quot;__main__&quot;: f = pyfory.Fory() f.register_type(SomeClass1, typename=&quot;example.SomeClass1&quot;) f.register_type(SomeClass2, typename=&quot;example.SomeClass2&quot;) obj1 = SomeClass1(f1=True, f2={-1: 2}) obj = SomeClass2( f1=obj1, f2=&quot;abc&quot;, f3=[&quot;abc&quot;, &quot;abc&quot;], f4={1: 2}, f5=2 ** 7 - 1, f6=2 ** 15 - 1, f7=2 ** 31 - 1, f8=2 ** 63 - 1, f9=1.0 / 2, f10=1 / 3.0, f11=array.array(&quot;h&quot;, [1, 2]), f12=[-1, 4], ) data = f.serialize(obj) # bytes ÂèØ‰ª•Ë¢´ÂÖ∂‰ªñËØ≠Ë®ÄÂèçÂ∫èÂàóÂåñ print(f.deserialize(data))   ","version":"dev","tagName":"h3"},{"title":"Go‚Äã","type":1,"pageTitle":"Â∫èÂàóÂåñ","url":"/zh-CN/docs/next/guide/xlang/xlang_serialization#go-1","content":" package main import forygo &quot;github.com/apache/fory/go/fory&quot; import &quot;fmt&quot; func main() { type SomeClass1 struct { F1 interface{} F2 string F3 []interface{} F4 map[int8]int32 F5 int8 F6 int16 F7 int32 F8 int64 F9 float32 F10 float64 F11 []int16 F12 fory.Int16Slice } type SomeClass2 struct { F1 interface{} F2 map[int8]int32 } fory := forygo.NewFory() if err := fory.RegisterTagType(&quot;example.SomeClass1&quot;, SomeClass1{}); err != nil { panic(err) } if err := fory.RegisterTagType(&quot;example.SomeClass2&quot;, SomeClass2{}); err != nil { panic(err) } obj1 := &amp;SomeClass1{} obj1.F1 = true obj1.F2 = map[int8]int32{-1: 2} obj := &amp;SomeClass1{} obj.F1 = obj1 obj.F2 = &quot;abc&quot; obj.F3 = []interface{}{&quot;abc&quot;, &quot;abc&quot;} f4 := map[int8]int32{1: 2} obj.F4 = f4 obj.F5 = fory.MaxInt8 obj.F6 = fory.MaxInt16 obj.F7 = fory.MaxInt32 obj.F8 = fory.MaxInt64 obj.F9 = 1.0 / 2 obj.F10 = 1 / 3.0 obj.F11 = []int16{1, 2} obj.F12 = []int16{-1, 4} bytes, err := fory.Marshal(obj); if err != nil { panic(err) } var newValue interface{} // bytes ÂèØ‰ª•Ë¢´ÂÖ∂‰ªñËØ≠Ë®ÄÂèçÂ∫èÂàóÂåñ if err := fory.Unmarshal(bytes, &amp;newValue); err != nil { panic(err) } fmt.Println(newValue) }   ","version":"dev","tagName":"h3"},{"title":"JavaScript‚Äã","type":1,"pageTitle":"Â∫èÂàóÂåñ","url":"/zh-CN/docs/next/guide/xlang/xlang_serialization#javascript-1","content":" import Fory, { Type, InternalSerializerType } from &quot;@apache-fory/fory&quot;; /** * @apache-fory/hps ‰ΩøÁî® v8 ÁöÑ fast-calls-apiÔºåÂèØ‰ª•Áõ¥Êé•Ë¢´ jit Ë∞ÉÁî®Ôºå * Á°Æ‰øù Node ÁâàÊú¨‰∏∫ 20 ÊàñÊõ¥È´ò„ÄÇ * ÂÆûÈ™åÊÄßÂäüËÉΩÔºåÁõÆÂâçÊó†Ê≥ï‰øùËØÅÂÆâË£ÖÊàêÂäü„ÄÇ * Â¶ÇÊûúÊó†Ê≥ïÂÆâË£ÖËØ•Ê®°ÂùóÔºåËØ∑Â∞ÜÂÖ∂ÊõøÊç¢‰∏∫ `const hps = null;` **/ import hps from &quot;@apache-fory/hps&quot;; // ‰ΩøÁî® JSON schema ÊèèËø∞Êï∞ÊçÆÁªìÊûÑ const description = Type.object(&quot;example.foo&quot;, { foo: Type.string(), }); const fory = new Fory({ hps }); const { serialize, deserialize } = fory.registerSerializer(description); const input = serialize({ foo: &quot;hello fory&quot; }); const result = deserialize(input); console.log(result);   ","version":"dev","tagName":"h3"},{"title":"Rust‚Äã","type":1,"pageTitle":"Â∫èÂàóÂåñ","url":"/zh-CN/docs/next/guide/xlang/xlang_serialization#rust-1","content":" use chrono::{NaiveDate, NaiveDateTime}; use fory::{from_buffer, to_buffer, Fory}; use std::collections::HashMap; #[test] fn complex_struct() { #[derive(Fory, Debug, PartialEq)] #[tag(&quot;example.foo2&quot;)] struct Animal { category: String, } #[derive(Fory, Debug, PartialEq)] #[tag(&quot;example.foo&quot;)] struct Person { c1: Vec&lt;u8&gt;, // binary c2: Vec&lt;i16&gt;, // primitive array animal: Vec&lt;Animal&gt;, c3: Vec&lt;Vec&lt;u8&gt;&gt;, name: String, c4: HashMap&lt;String, String&gt;, age: u16, op: Option&lt;String&gt;, op2: Option&lt;String&gt;, date: NaiveDate, time: NaiveDateTime, c5: f32, c6: f64, } let person: Person = Person { c1: vec![1, 2, 3], c2: vec![5, 6, 7], c3: vec![vec![1, 2], vec![1, 3]], animal: vec![Animal { category: &quot;Dog&quot;.to_string(), }], c4: HashMap::from([ (&quot;hello1&quot;.to_string(), &quot;hello2&quot;.to_string()), (&quot;hello2&quot;.to_string(), &quot;hello3&quot;.to_string()), ]), age: 12, name: &quot;helo&quot;.to_string(), op: Some(&quot;option&quot;.to_string()), op2: None, date: NaiveDate::from_ymd_opt(2025, 12, 12).unwrap(), time: NaiveDateTime::from_timestamp_opt(1689912359, 0).unwrap(), c5: 2.0, c6: 4.0, }; let bin: Vec&lt;u8&gt; = to_buffer(&amp;person); let obj: Person = from_buffer(&amp;bin).expect(&quot;should success&quot;); assert_eq!(person, obj); }   ","version":"dev","tagName":"h3"},{"title":"Â∫èÂàóÂåñÂÖ±‰∫´ÂºïÁî®ÂíåÂæ™ÁéØÂºïÁî®‚Äã","type":1,"pageTitle":"Â∫èÂàóÂåñ","url":"/zh-CN/docs/next/guide/xlang/xlang_serialization#Â∫èÂàóÂåñÂÖ±‰∫´ÂºïÁî®ÂíåÂæ™ÁéØÂºïÁî®","content":" ÂÖ±‰∫´ÂºïÁî®ÂíåÂæ™ÁéØÂºïÁî®ÂèØ‰ª•Ëá™Âä®Â∫èÂàóÂåñÔºå‰∏ç‰ºöÊúâÈáçÂ§çÊï∞ÊçÆÊàñÈÄíÂΩíÈîôËØØ„ÄÇÂêØÁî®ÂºïÁî®Ë∑üË∏™Âç≥ÂèØ‰ΩøÁî®Ê≠§ÂäüËÉΩ„ÄÇ  ","version":"dev","tagName":"h2"},{"title":"Java‚Äã","type":1,"pageTitle":"Â∫èÂàóÂåñ","url":"/zh-CN/docs/next/guide/xlang/xlang_serialization#java-2","content":" import org.apache.fory.*; import org.apache.fory.config.*; import java.util.*; public class ReferenceExample { public static class SomeClass { SomeClass f1; Map&lt;String, String&gt; f2; Map&lt;String, String&gt; f3; } public static Object createObject() { SomeClass obj = new SomeClass(); obj.f1 = obj; obj.f2 = ofHashMap(&quot;k1&quot;, &quot;v1&quot;, &quot;k2&quot;, &quot;v2&quot;); obj.f3 = obj.f2; return obj; } // mvn exec:java -Dexec.mainClass=&quot;org.apache.fory.examples.ReferenceExample&quot; public static void main(String[] args) { Fory fory = Fory.builder().withLanguage(Language.XLANG) .withRefTracking(true).build(); fory.register(SomeClass.class, &quot;example.SomeClass&quot;); byte[] bytes = fory.serialize(createObject()); // bytes ÂèØ‰ª•Ë¢´ÂÖ∂‰ªñËØ≠Ë®ÄÂèçÂ∫èÂàóÂåñ System.out.println(fory.deserialize(bytes)); } }   ","version":"dev","tagName":"h3"},{"title":"Python‚Äã","type":1,"pageTitle":"Â∫èÂàóÂåñ","url":"/zh-CN/docs/next/guide/xlang/xlang_serialization#python-2","content":" from typing import Dict import pyfory class SomeClass: f1: &quot;SomeClass&quot; f2: Dict[str, str] f3: Dict[str, str] fory = pyfory.Fory(ref_tracking=True) fory.register_type(SomeClass, typename=&quot;example.SomeClass&quot;) obj = SomeClass() obj.f2 = {&quot;k1&quot;: &quot;v1&quot;, &quot;k2&quot;: &quot;v2&quot;} obj.f1, obj.f3 = obj, obj.f2 data = fory.serialize(obj) # bytes ÂèØ‰ª•Ë¢´ÂÖ∂‰ªñËØ≠Ë®ÄÂèçÂ∫èÂàóÂåñ print(fory.deserialize(data))   ","version":"dev","tagName":"h3"},{"title":"Go‚Äã","type":1,"pageTitle":"Â∫èÂàóÂåñ","url":"/zh-CN/docs/next/guide/xlang/xlang_serialization#go-2","content":" package main import forygo &quot;github.com/apache/fory/go/fory&quot; import &quot;fmt&quot; func main() { type SomeClass struct { F1 *SomeClass F2 map[string]string F3 map[string]string } fory := forygo.NewFory(true) if err := fory.Register(SomeClass{}, 65); err != nil { panic(err) } value := &amp;SomeClass{F2: map[string]string{&quot;k1&quot;: &quot;v1&quot;, &quot;k2&quot;: &quot;v2&quot;}} value.F3 = value.F2 value.F1 = value bytes, err := fory.Marshal(value) if err != nil { panic(err) } var newValue interface{} // bytes ÂèØ‰ª•Ë¢´ÂÖ∂‰ªñËØ≠Ë®ÄÂèçÂ∫èÂàóÂåñ if err := fory.Unmarshal(bytes, &amp;newValue); err != nil { panic(err) } fmt.Println(newValue) }   ","version":"dev","tagName":"h3"},{"title":"JavaScript‚Äã","type":1,"pageTitle":"Â∫èÂàóÂåñ","url":"/zh-CN/docs/next/guide/xlang/xlang_serialization#javascript-2","content":" import Fory, { Type } from &quot;@apache-fory/fory&quot;; /** * @apache-fory/hps ‰ΩøÁî® v8 ÁöÑ fast-calls-apiÔºåÂèØ‰ª•Áõ¥Êé•Ë¢´ jit Ë∞ÉÁî®Ôºå * Á°Æ‰øù Node ÁâàÊú¨‰∏∫ 20 ÊàñÊõ¥È´ò„ÄÇ * ÂÆûÈ™åÊÄßÂäüËÉΩÔºåÁõÆÂâçÊó†Ê≥ï‰øùËØÅÂÆâË£ÖÊàêÂäü„ÄÇ * Â¶ÇÊûúÊó†Ê≥ïÂÆâË£ÖËØ•Ê®°ÂùóÔºåËØ∑Â∞ÜÂÖ∂ÊõøÊç¢‰∏∫ `const hps = null;` **/ import hps from &quot;@apache-fory/hps&quot;; const description = Type.object(&quot;example.foo&quot;, { foo: Type.string(), bar: Type.object(&quot;example.foo&quot;), }); const fory = new Fory({ hps }); const { serialize, deserialize } = fory.registerSerializer(description); const data: any = { foo: &quot;hello fory&quot;, }; data.bar = data; const input = serialize(data); const result = deserialize(input); console.log(result.bar.foo === result.foo);   ","version":"dev","tagName":"h3"},{"title":"Rust‚Äã","type":1,"pageTitle":"Â∫èÂàóÂåñ","url":"/zh-CN/docs/next/guide/xlang/xlang_serialization#rust-2","content":" Áî±‰∫éÊâÄÊúâÊùÉÈôêÂà∂ÔºåRust ‰∏≠Êó†Ê≥ïÂÆûÁé∞Âæ™ÁéØÂºïÁî®„ÄÇ  ","version":"dev","tagName":"h3"},{"title":"Âè¶ËØ∑ÂèÇÈòÖ‚Äã","type":1,"pageTitle":"Â∫èÂàóÂåñ","url":"/zh-CN/docs/next/guide/xlang/xlang_serialization#Âè¶ËØ∑ÂèÇÈòÖ","content":" Èõ∂Êã∑Ë¥ùÂ∫èÂàóÂåñ - Â§ßÂûãÊï∞ÊçÆÁöÑÂ∏¶Â§ñÂ∫èÂàóÂåñÁ±ªÂûãÊò†Â∞Ñ - Ë∑®ËØ≠Ë®ÄÁ±ªÂûãÊò†Â∞ÑÂèÇËÄÉÂÖ•Èó®ÊåáÂçó - ÂÆâË£ÖÂíåËÆæÁΩÆXlang Â∫èÂàóÂåñËßÑËåÉ - ‰∫åËøõÂà∂ÂçèËÆÆËØ¶ÊÉÖ ","version":"dev","tagName":"h2"},{"title":"C++ Âü∫ÂáÜÊÄßËÉΩÊä•Âëä","type":0,"sectionRef":"#","url":"/zh-CN/docs/benchmarks/cpp/","content":"","keywords":"","version":"0.15"},{"title":"Â¶Ç‰ΩïÁîüÊàêÊú¨Êä•Âëä‚Äã","type":1,"pageTitle":"C++ Âü∫ÂáÜÊÄßËÉΩÊä•Âëä","url":"/zh-CN/docs/benchmarks/cpp/#Â¶Ç‰ΩïÁîüÊàêÊú¨Êä•Âëä","content":" cd benchmarks/cpp_benchmark/build ./fory_benchmark --benchmark_format=json --benchmark_out=benchmark_results.json cd .. python benchmark_report.py --json-file build/benchmark_results.json --output-dir report   ","version":"0.15","tagName":"h2"},{"title":"Á°¨‰ª∂‰∏éÁ≥ªÁªü‰ø°ÊÅØ‚Äã","type":1,"pageTitle":"C++ Âü∫ÂáÜÊÄßËÉΩÊä•Âëä","url":"/zh-CN/docs/benchmarks/cpp/#Á°¨‰ª∂‰∏éÁ≥ªÁªü‰ø°ÊÅØ","content":" Key\tValueOS\tDarwin 24.6.0 Machine\tarm64 Processor\tarm CPU Cores (Physical)\t12 CPU Cores (Logical)\t12 Total RAM (GB)\t48.0 Benchmark Date\t2025-12-15T23:02:49+08:00 CPU Cores (from benchmark)\t12  ","version":"0.15","tagName":"h2"},{"title":"Âü∫ÂáÜÂõæË°®‚Äã","type":1,"pageTitle":"C++ Âü∫ÂáÜÊÄßËÉΩÊä•Âëä","url":"/zh-CN/docs/benchmarks/cpp/#Âü∫ÂáÜÂõæË°®","content":"   ","version":"0.15","tagName":"h2"},{"title":"Âü∫ÂáÜÁªìÊûú‚Äã","type":1,"pageTitle":"C++ Âü∫ÂáÜÊÄßËÉΩÊä•Âëä","url":"/zh-CN/docs/benchmarks/cpp/#Âü∫ÂáÜÁªìÊûú","content":" ","version":"0.15","tagName":"h2"},{"title":"ËÄóÊó∂ÁªìÊûúÔºàÁ∫≥ÁßíÔºâ‚Äã","type":1,"pageTitle":"C++ Âü∫ÂáÜÊÄßËÉΩÊä•Âëä","url":"/zh-CN/docs/benchmarks/cpp/#ËÄóÊó∂ÁªìÊûúÁ∫≥Áßí","content":" Datatype\tOperation\tFory (ns)\tProtobuf (ns)\tFasterMediacontent\tSerialize\t443.5\t1982.5\tFory (4.5x) Mediacontent\tDeserialize\t1349.0\t2525.2\tFory (1.9x) Sample\tSerialize\t235.4\t309.7\tFory (1.3x) Sample\tDeserialize\t1068.7\t1397.0\tFory (1.3x) Struct\tSerialize\t109.4\t170.0\tFory (1.6x) Struct\tDeserialize\t129.1\t161.2\tFory (1.2x)  ","version":"0.15","tagName":"h3"},{"title":"ÂêûÂêêÁªìÊûúÔºàops/secÔºâ‚Äã","type":1,"pageTitle":"C++ Âü∫ÂáÜÊÄßËÉΩÊä•Âëä","url":"/zh-CN/docs/benchmarks/cpp/#ÂêûÂêêÁªìÊûúopssec","content":" Datatype\tOperation\tFory TPS\tProtobuf TPS\tFasterMediacontent\tSerialize\t2,254,915\t504,410\tFory (4.5x) Mediacontent\tDeserialize\t741,303\t396,013\tFory (1.9x) Sample\tSerialize\t4,248,973\t3,229,102\tFory (1.3x) Sample\tDeserialize\t935,709\t715,837\tFory (1.3x) Struct\tSerialize\t9,143,618\t5,881,005\tFory (1.6x) Struct\tDeserialize\t7,746,787\t6,202,164\tFory (1.2x)  ","version":"0.15","tagName":"h3"},{"title":"Â∫èÂàóÂåñÊï∞ÊçÆÂ§ßÂ∞èÔºàÂ≠óËäÇÔºâ‚Äã","type":1,"pageTitle":"C++ Âü∫ÂáÜÊÄßËÉΩÊä•Âëä","url":"/zh-CN/docs/benchmarks/cpp/#Â∫èÂàóÂåñÊï∞ÊçÆÂ§ßÂ∞èÂ≠óËäÇ","content":" Datatype\tFory\tProtobufStruct\t32\t61 Sample\t384\t375 ","version":"0.15","tagName":"h3"},{"title":"ÂÆâË£Ö Apache Fory‚Ñ¢","type":0,"sectionRef":"#","url":"/zh-CN/docs/next/start/install","content":"","keywords":"","version":"dev"},{"title":"ÂÆâË£Ö Apache Fory‚Ñ¢ Java‚Äã","type":1,"pageTitle":"ÂÆâË£Ö Apache Fory‚Ñ¢","url":"/zh-CN/docs/next/start/install#ÂÆâË£Ö-apache-fory-java","content":" Ë¶Å‰ΩøÁî® Maven Ê∑ªÂä†ÂØπ Apache Fory‚Ñ¢ ÁöÑ‰æùËµñÔºåËØ∑‰ΩøÁî®‰ª•‰∏ãÈÖçÁΩÆÔºö  &lt;dependency&gt; &lt;groupId&gt;org.apache.fory&lt;/groupId&gt; &lt;artifactId&gt;fory-core&lt;/artifactId&gt; &lt;version&gt;0.14.1&lt;/version&gt; &lt;/dependency&gt; &lt;!-- Optional row format support --&gt; &lt;!-- &lt;dependency&gt; &lt;groupId&gt;org.apache.fory&lt;/groupId&gt; &lt;artifactId&gt;fory-format&lt;/artifactId&gt; &lt;version&gt;0.13.1&lt;/version&gt; &lt;/dependency&gt; --&gt; &lt;!-- SIMD acceleration for array compression (Java 16+) --&gt; &lt;!-- &lt;dependency&gt; &lt;groupId&gt;org.apache.fory&lt;/groupId&gt; &lt;artifactId&gt;fory-simd&lt;/artifactId&gt; &lt;version&gt;0.13.1&lt;/version&gt; &lt;/dependency&gt; --&gt;   ","version":"dev","tagName":"h2"},{"title":"ÂÆâË£Ö Apache Fory‚Ñ¢ Scala‚Äã","type":1,"pageTitle":"ÂÆâË£Ö Apache Fory‚Ñ¢","url":"/zh-CN/docs/next/start/install#ÂÆâË£Ö-apache-fory-scala","content":" Ë¶Å‰ΩøÁî® Maven Ê∑ªÂä† scala 2.13 ÁöÑ Fory scala ‰æùËµñÔºåËØ∑‰ΩøÁî®‰ª•‰∏ãÈÖçÁΩÆÔºö  &lt;dependency&gt; &lt;groupId&gt;org.apache.fory&lt;/groupId&gt; &lt;artifactId&gt;fory-scala_2.13&lt;/artifactId&gt; &lt;version&gt;0.14.1&lt;/version&gt; &lt;/dependency&gt;   Ë¶Å‰ΩøÁî® Maven Ê∑ªÂä† scala 3 ÁöÑ Fory scala ‰æùËµñÔºåËØ∑‰ΩøÁî®‰ª•‰∏ãÈÖçÁΩÆÔºö  &lt;dependency&gt; &lt;groupId&gt;org.apache.fory&lt;/groupId&gt; &lt;artifactId&gt;fory-scala_3&lt;/artifactId&gt; &lt;version&gt;0.14.1&lt;/version&gt; &lt;/dependency&gt;   Ë¶Å‰ΩøÁî® sbt Ê∑ªÂä† scala 2.13 ÁöÑ Fory scala ‰æùËµñÔºåËØ∑‰ΩøÁî®‰ª•‰∏ãÈÖçÁΩÆÔºö  libraryDependencies += &quot;org.apache.fory&quot; % &quot;fory-scala_2.13&quot; % &quot;0.14.1&quot;   Ë¶Å‰ΩøÁî® sbt Ê∑ªÂä† scala 3 ÁöÑ Fory scala ‰æùËµñÔºåËØ∑‰ΩøÁî®‰ª•‰∏ãÈÖçÁΩÆÔºö  libraryDependencies += &quot;org.apache.fory&quot; % &quot;fory-scala_3&quot; % &quot;0.14.1&quot;   ","version":"dev","tagName":"h2"},{"title":"ÂÆâË£Ö Apache Fory‚Ñ¢ Kotlin‚Äã","type":1,"pageTitle":"ÂÆâË£Ö Apache Fory‚Ñ¢","url":"/zh-CN/docs/next/start/install#ÂÆâË£Ö-apache-fory-kotlin","content":" To add a dependency on Apache Fory‚Ñ¢kotlin with maven, use the following:  &lt;dependency&gt; &lt;groupId&gt;org.apache.fory&lt;/groupId&gt; &lt;artifactId&gt;fory-kotlin&lt;/artifactId&gt; &lt;version&gt;0.14.1&lt;/version&gt; &lt;/dependency&gt;   ","version":"dev","tagName":"h2"},{"title":"ÂÆâË£Ö Apache Fory‚Ñ¢ Python‚Äã","type":1,"pageTitle":"ÂÆâË£Ö Apache Fory‚Ñ¢","url":"/zh-CN/docs/next/start/install#ÂÆâË£Ö-apache-fory-python","content":" python -m pip install --upgrade pip pip install pyfory==0.14.1   ","version":"dev","tagName":"h2"},{"title":"ÂÆâË£Ö Apache Fory‚Ñ¢ Rust‚Äã","type":1,"pageTitle":"ÂÆâË£Ö Apache Fory‚Ñ¢","url":"/zh-CN/docs/next/start/install#ÂÆâË£Ö-apache-fory-rust","content":" [dependencies] fory = &quot;0.14&quot;   ÊàñËÄÖÁõ¥Êé•ÊâßË°å‰ª•‰∏ãÂëΩ‰ª§Ôºö  cargo add fory@0.14.1  ","version":"dev","tagName":"h2"},{"title":"C++ Âü∫ÂáÜÊÄßËÉΩÊä•Âëä","type":0,"sectionRef":"#","url":"/zh-CN/docs/benchmarks/cpp/REPORT","content":"","keywords":"","version":"0.15"},{"title":"Â¶Ç‰ΩïÁîüÊàêÊú¨Êä•Âëä‚Äã","type":1,"pageTitle":"C++ Âü∫ÂáÜÊÄßËÉΩÊä•Âëä","url":"/zh-CN/docs/benchmarks/cpp/REPORT#Â¶Ç‰ΩïÁîüÊàêÊú¨Êä•Âëä","content":" cd benchmarks/cpp_benchmark/build ./fory_benchmark --benchmark_format=json --benchmark_out=benchmark_results.json cd .. python benchmark_report.py --json-file build/benchmark_results.json --output-dir report   ","version":"0.15","tagName":"h2"},{"title":"Á°¨‰ª∂‰∏éÁ≥ªÁªü‰ø°ÊÅØ‚Äã","type":1,"pageTitle":"C++ Âü∫ÂáÜÊÄßËÉΩÊä•Âëä","url":"/zh-CN/docs/benchmarks/cpp/REPORT#Á°¨‰ª∂‰∏éÁ≥ªÁªü‰ø°ÊÅØ","content":" Key\tValueOS\tDarwin 24.6.0 Machine\tarm64 Processor\tarm CPU Cores (Physical)\t12 CPU Cores (Logical)\t12 Total RAM (GB)\t48.0 Benchmark Date\t2026-02-06T20:00:20+08:00 CPU Cores (from benchmark)\t12  ","version":"0.15","tagName":"h2"},{"title":"Âü∫ÂáÜÂõæË°®‚Äã","type":1,"pageTitle":"C++ Âü∫ÂáÜÊÄßËÉΩÊä•Âëä","url":"/zh-CN/docs/benchmarks/cpp/REPORT#Âü∫ÂáÜÂõæË°®","content":" ","version":"0.15","tagName":"h2"},{"title":"Mediacontent‚Äã","type":1,"pageTitle":"C++ Âü∫ÂáÜÊÄßËÉΩÊä•Âëä","url":"/zh-CN/docs/benchmarks/cpp/REPORT#mediacontent","content":"   ","version":"0.15","tagName":"h3"},{"title":"Mediacontentlist‚Äã","type":1,"pageTitle":"C++ Âü∫ÂáÜÊÄßËÉΩÊä•Âëä","url":"/zh-CN/docs/benchmarks/cpp/REPORT#mediacontentlist","content":"   ","version":"0.15","tagName":"h3"},{"title":"Sample‚Äã","type":1,"pageTitle":"C++ Âü∫ÂáÜÊÄßËÉΩÊä•Âëä","url":"/zh-CN/docs/benchmarks/cpp/REPORT#sample","content":"   ","version":"0.15","tagName":"h3"},{"title":"Samplelist‚Äã","type":1,"pageTitle":"C++ Âü∫ÂáÜÊÄßËÉΩÊä•Âëä","url":"/zh-CN/docs/benchmarks/cpp/REPORT#samplelist","content":"   ","version":"0.15","tagName":"h3"},{"title":"Struct‚Äã","type":1,"pageTitle":"C++ Âü∫ÂáÜÊÄßËÉΩÊä•Âëä","url":"/zh-CN/docs/benchmarks/cpp/REPORT#struct","content":"   ","version":"0.15","tagName":"h3"},{"title":"Structlist‚Äã","type":1,"pageTitle":"C++ Âü∫ÂáÜÊÄßËÉΩÊä•Âëä","url":"/zh-CN/docs/benchmarks/cpp/REPORT#structlist","content":"   ","version":"0.15","tagName":"h3"},{"title":"Throughput‚Äã","type":1,"pageTitle":"C++ Âü∫ÂáÜÊÄßËÉΩÊä•Âëä","url":"/zh-CN/docs/benchmarks/cpp/REPORT#throughput","content":"   ","version":"0.15","tagName":"h3"},{"title":"Âü∫ÂáÜÁªìÊûú‚Äã","type":1,"pageTitle":"C++ Âü∫ÂáÜÊÄßËÉΩÊä•Âëä","url":"/zh-CN/docs/benchmarks/cpp/REPORT#Âü∫ÂáÜÁªìÊûú","content":" ","version":"0.15","tagName":"h2"},{"title":"ËÄóÊó∂ÁªìÊûúÔºàÁ∫≥ÁßíÔºâ‚Äã","type":1,"pageTitle":"C++ Âü∫ÂáÜÊÄßËÉΩÊä•Âëä","url":"/zh-CN/docs/benchmarks/cpp/REPORT#ËÄóÊó∂ÁªìÊûúÁ∫≥Áßí","content":" Datatype\tOperation\tFory (ns)\tProtobuf (ns)\tFasterMediacontent\tSerialize\t512.0\t1990.9\tFory (3.9x) Mediacontent\tDeserialize\t1674.1\t2516.6\tFory (1.5x) Mediacontentlist\tSerialize\t2261.0\t10804.2\tFory (4.8x) Mediacontentlist\tDeserialize\t6943.5\t13375.9\tFory (1.9x) Sample\tSerialize\t241.7\t309.4\tFory (1.3x) Sample\tDeserialize\t1055.8\t1361.5\tFory (1.3x) Samplelist\tSerialize\t963.2\t11716.7\tFory (12.2x) Samplelist\tDeserialize\t5295.9\t12162.2\tFory (2.3x) Struct\tSerialize\t117.1\t169.6\tFory (1.4x) Struct\tDeserialize\t138.6\t156.2\tFory (1.1x) Structlist\tSerialize\t308.4\t1299.4\tFory (4.2x) Structlist\tDeserialize\t706.2\t1188.0\tFory (1.7x)  ","version":"0.15","tagName":"h3"},{"title":"ÂêûÂêêÁªìÊûúÔºàops/secÔºâ‚Äã","type":1,"pageTitle":"C++ Âü∫ÂáÜÊÄßËÉΩÊä•Âëä","url":"/zh-CN/docs/benchmarks/cpp/REPORT#ÂêûÂêêÁªìÊûúopssec","content":" Datatype\tOperation\tFory TPS\tProtobuf TPS\tFasterMediacontent\tSerialize\t1,952,940\t502,295\tFory (3.9x) Mediacontent\tDeserialize\t597,343\t397,356\tFory (1.5x) Mediacontentlist\tSerialize\t442,277\t92,557\tFory (4.8x) Mediacontentlist\tDeserialize\t144,020\t74,761\tFory (1.9x) Sample\tSerialize\t4,138,037\t3,232,073\tFory (1.3x) Sample\tDeserialize\t947,188\t734,472\tFory (1.3x) Samplelist\tSerialize\t1,038,236\t85,348\tFory (12.2x) Samplelist\tDeserialize\t188,825\t82,222\tFory (2.3x) Struct\tSerialize\t8,542,313\t5,896,325\tFory (1.4x) Struct\tDeserialize\t7,217,541\t6,403,969\tFory (1.1x) Structlist\tSerialize\t3,242,105\t769,562\tFory (4.2x) Structlist\tDeserialize\t1,416,005\t841,739\tFory (1.7x)  ","version":"0.15","tagName":"h3"},{"title":"Â∫èÂàóÂåñÊï∞ÊçÆÂ§ßÂ∞èÔºàÂ≠óËäÇÔºâ‚Äã","type":1,"pageTitle":"C++ Âü∫ÂáÜÊÄßËÉΩÊä•Âëä","url":"/zh-CN/docs/benchmarks/cpp/REPORT#Â∫èÂàóÂåñÊï∞ÊçÆÂ§ßÂ∞èÂ≠óËäÇ","content":" Datatype\tFory\tProtobufStruct\t58\t61 Sample\t446\t375 MediaContent\t365\t301 StructList\t184\t315 SampleList\t1980\t1890 MediaContentList\t1535\t1520 ","version":"0.15","tagName":"h3"},{"title":"Go Â∫èÂàóÂåñÂü∫ÂáÜÊä•Âëä","type":0,"sectionRef":"#","url":"/zh-CN/docs/benchmarks/go/","content":"","keywords":"","version":"0.15"},{"title":"Á≥ªÁªü‰ø°ÊÅØ‚Äã","type":1,"pageTitle":"Go Â∫èÂàóÂåñÂü∫ÂáÜÊä•Âëä","url":"/zh-CN/docs/benchmarks/go/#Á≥ªÁªü‰ø°ÊÅØ","content":" OS: Darwin 24.6.0Architecture: arm64Python: 3.10.8  ","version":"0.15","tagName":"h2"},{"title":"ÊÄßËÉΩÂõæË°®‚Äã","type":1,"pageTitle":"Go Â∫èÂàóÂåñÂü∫ÂáÜÊä•Âëä","url":"/zh-CN/docs/benchmarks/go/#ÊÄßËÉΩÂõæË°®","content":"   ","version":"0.15","tagName":"h2"},{"title":"ÊÄßËÉΩÊ±áÊÄª‚Äã","type":1,"pageTitle":"Go Â∫èÂàóÂåñÂü∫ÂáÜÊä•Âëä","url":"/zh-CN/docs/benchmarks/go/#ÊÄßËÉΩÊ±áÊÄª","content":" Data Type\tOperation\tFory (ops/s)\tProtobuf (ops/s)\tMsgpack (ops/s)\tFory vs PB\tFory vs MPStruct\tSerialize\t15.16M\t10.23M\t5.41M\t1.48x\t2.80x Struct\tDeserialize\t12.10M\t11.01M\t3.23M\t1.10x\t3.75x Structlist\tSerialize\t1.58M\t561K\t299K\t2.82x\t5.28x Structlist\tDeserialize\t1.10M\t529K\t175K\t2.09x\t6.30x Sample\tSerialize\t7.28M\t2.72M\t670K\t2.68x\t10.87x Sample\tDeserialize\t3.79M\t2.37M\t376K\t1.60x\t10.09x Samplelist\tSerialize\t510K\t141K\t38K\t3.61x\t13.34x Samplelist\tDeserialize\t236K\t107K\t19K\t2.20x\t12.66x Mediacontent\tSerialize\t3.72M\t2.12M\t1.29M\t1.75x\t2.88x Mediacontent\tDeserialize\t2.34M\t1.81M\t698K\t1.30x\t3.35x Mediacontentlist\tSerialize\t268K\t110K\t72K\t2.44x\t3.72x Mediacontentlist\tDeserialize\t138K\t87K\t36K\t1.58x\t3.86x  ","version":"0.15","tagName":"h2"},{"title":"ËØ¶ÁªÜËÄóÊó∂Ôºàns/opÔºâ‚Äã","type":1,"pageTitle":"Go Â∫èÂàóÂåñÂü∫ÂáÜÊä•Âëä","url":"/zh-CN/docs/benchmarks/go/#ËØ¶ÁªÜËÄóÊó∂nsop","content":" Data Type\tOperation\tFory\tProtobuf\tMsgpackStruct\tSerialize\t66.0\t97.8\t184.9 Struct\tDeserialize\t82.7\t90.9\t309.6 Structlist\tSerialize\t632.8\t1783.0\t3340.0 Structlist\tDeserialize\t906.4\t1891.0\t5709.0 Sample\tSerialize\t137.3\t367.3\t1492.0 Sample\tDeserialize\t263.6\t422.2\t2661.0 Samplelist\tSerialize\t1962.0\t7087.0\t26169.0 Samplelist\tDeserialize\t4234.0\t9321.0\t53615.0 Mediacontent\tSerialize\t268.8\t471.1\t773.7 Mediacontent\tDeserialize\t426.9\t553.1\t1432.0 Mediacontentlist\tSerialize\t3736.0\t9107.0\t13911.0 Mediacontentlist\tDeserialize\t7247.0\t11435.0\t27975.0  ","version":"0.15","tagName":"h2"},{"title":"Â∫èÂàóÂåñÊï∞ÊçÆÂ§ßÂ∞èÔºàÂ≠óËäÇÔºâ‚Äã","type":1,"pageTitle":"Go Â∫èÂàóÂåñÂü∫ÂáÜÊä•Âëä","url":"/zh-CN/docs/benchmarks/go/#Â∫èÂàóÂåñÊï∞ÊçÆÂ§ßÂ∞èÂ≠óËäÇ","content":" Data Type\tFory\tProtobuf\tMsgpackStruct\t58\t61\t57 Sample\t446\t375\t524 MediaContent\t342\t301\t400 StructList\t560\t1260\t1146 SampleList\t7600\t7560\t10486 MediaContentList\t5776\t6080\t8006 ","version":"0.15","tagName":"h3"},{"title":"Apache Fory‚Ñ¢ ‰ΩøÁî®","type":0,"sectionRef":"#","url":"/zh-CN/docs/next/start/usage","content":"","keywords":"","version":"dev"},{"title":"Java Â∫èÂàóÂåñ‚Äã","type":1,"pageTitle":"Apache Fory‚Ñ¢ ‰ΩøÁî®","url":"/zh-CN/docs/next/start/usage#java-Â∫èÂàóÂåñ","content":" import java.util.List; import java.util.Arrays; import io.fory.*; public class Example { public static void main(String[] args) { SomeClass object = new SomeClass(); // Note that Fory instances should be reused between // multiple serializations of different objects. Fory fory = Fory.builder().withLanguage(Language.JAVA) // Allow to deserialize objects unknown types, // more flexible but less secure. // .requireClassRegistration(false) .build(); // Registering types can reduce class name serialization overhead, but not mandatory. // If secure mode enabled, all custom types must be registered. fory.register(SomeClass.class); byte[] bytes = fory.serialize(object); System.out.println(fory.deserialize(bytes)); } }   ","version":"dev","tagName":"h2"},{"title":"ScalaÂ∫èÂàóÂåñ‚Äã","type":1,"pageTitle":"Apache Fory‚Ñ¢ ‰ΩøÁî®","url":"/zh-CN/docs/next/start/usage#scalaÂ∫èÂàóÂåñ","content":" import org.apache.fory.Fory import org.apache.fory.serializer.scala.ScalaSerializers case class Person(name: String, id: Long, github: String) case class Point(x : Int, y : Int, z : Int) object ScalaExample { val fory: Fory = Fory.builder().withScalaOptimizationEnabled(true).build() // Register optimized fory serializers for scala ScalaSerializers.registerSerializers(fory) fory.register(classOf[Person]) fory.register(classOf[Point]) def main(args: Array[String]): Unit = { val p = Person(&quot;Shawn Yang&quot;, 1, &quot;https://github.com/chaokunyang&quot;) println(fory.deserialize(fory.serialize(p))) println(fory.deserialize(fory.serialize(Point(1, 2, 3)))) } } ## KotlinÂ∫èÂàóÂåñ ```kotlin import org.apache.fory.Fory import org.apache.fory.ThreadSafeFory import org.apache.fory.serializer.kotlin.KotlinSerializers data class Person(val name: String, val id: Long, val github: String) data class Point(val x : Int, val y : Int, val z : Int) fun main(args: Array&lt;String&gt;) { // Ê≥®ÊÑè: ‰∏ãÈù¢ÁöÑForyÂàùÂßãÂåñ‰ª£Á†ÅÂ∫îËØ•Âè™ÊâßË°å‰∏ÄÊ¨°ÔºåËÄå‰∏çÊòØÂú®ÊØèÊ¨°Â∫èÂàóÂåñÂâçÈÉΩËøêË°å val fory: ThreadSafeFory = Fory.builder().requireClassRegistration(true).buildThreadSafeFory() KotlinSerializers.registerSerializers(fory) fory.register(Person::class.java) fory.register(Point::class.java) val p = Person(&quot;Shawn Yang&quot;, 1, &quot;https://github.com/chaokunyang&quot;) println(fory.deserialize(fory.serialize(p))) println(fory.deserialize(fory.serialize(Point(1, 2, 3)))) }   ","version":"dev","tagName":"h2"},{"title":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ‚Äã","type":1,"pageTitle":"Apache Fory‚Ñ¢ ‰ΩøÁî®","url":"/zh-CN/docs/next/start/usage#Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ","content":" ","version":"dev","tagName":"h2"},{"title":"Java‚Äã","type":1,"pageTitle":"Apache Fory‚Ñ¢ ‰ΩøÁî®","url":"/zh-CN/docs/next/start/usage#java","content":" import com.google.common.collect.ImmutableMap; import io.fory.*; import java.util.Map; public class ReferenceExample { public static class SomeClass { SomeClass f1; Map&lt;String, String&gt; f2; Map&lt;String, String&gt; f3; } public static Object createObject() { SomeClass obj = new SomeClass(); obj.f1 = obj; obj.f2 = ImmutableMap.of(&quot;k1&quot;, &quot;v1&quot;, &quot;k2&quot;, &quot;v2&quot;); obj.f3 = obj.f2; return obj; } // mvn exec:java -Dexec.mainClass=&quot;io.fory.examples.ReferenceExample&quot; public static void main(String[] args) { Fory fory = Fory.builder().withLanguage(Language.XLANG) .withRefTracking(true).build(); fory.register(SomeClass.class, &quot;example.SomeClass&quot;); byte[] bytes = fory.serialize(createObject()); // bytes can be data serialized by other languages. System.out.println(fory.deserialize(bytes)); ; } }   ","version":"dev","tagName":"h3"},{"title":"Python‚Äã","type":1,"pageTitle":"Apache Fory‚Ñ¢ ‰ΩøÁî®","url":"/zh-CN/docs/next/start/usage#python","content":" from typing import Dict import pyfory class SomeClass: f1: &quot;SomeClass&quot; f2: Dict[str, str] f3: Dict[str, str] fory = pyfory.Fory(ref_tracking=True) fory.register_class(SomeClass, &quot;example.SomeClass&quot;) obj = SomeClass() obj.f2 = {&quot;k1&quot;: &quot;v1&quot;, &quot;k2&quot;: &quot;v2&quot;} obj.f1, obj.f3 = obj, obj.f2 data = fory.serialize(obj) # bytes can be data serialized by other languages. print(fory.deserialize(data))   ","version":"dev","tagName":"h3"},{"title":"Golangs‚Äã","type":1,"pageTitle":"Apache Fory‚Ñ¢ ‰ΩøÁî®","url":"/zh-CN/docs/next/start/usage#golangs","content":" package main import ( &quot;fmt&quot; forygo &quot;github.com/apache/fory/go/fory&quot; ) func main() { type SomeClass struct { F1 *SomeClass F2 map[string]string F3 map[string]string } fory := forygo.NewFory(true) if err := fory.RegisterTagType(&quot;example.SomeClass&quot;, SomeClass{}); err != nil { panic(err) } value := &amp;SomeClass{F2: map[string]string{&quot;k1&quot;: &quot;v1&quot;, &quot;k2&quot;: &quot;v2&quot;}} value.F3 = value.F2 value.F1 = value bytes, err := fory.Marshal(value) if err != nil { } var newValue interface{} // bytes can be data serialized by other languages. if err := fory.Unmarshal(bytes, &amp;newValue); err != nil { panic(err) } fmt.Println(newValue) }   ","version":"dev","tagName":"h3"},{"title":"JavaScript‚Äã","type":1,"pageTitle":"Apache Fory‚Ñ¢ ‰ΩøÁî®","url":"/zh-CN/docs/next/start/usage#javascript","content":" import Fory, { Type } from &quot;@apache-fory/fory&quot;; /** * @apache-fory/hps use v8's fast-calls-api that can be called directly by jit, ensure that the version of Node is 20 or above. * Experimental feature, installation success cannot be guaranteed at this moment * If you are unable to install the module, replace it with `const hps = null;` **/ import hps from &quot;@apache-fory/hps&quot;; // Now we describe data structures using JSON, but in the future, we will use more ways. const description = Type.object(&quot;example.foo&quot;, { foo: Type.string(), }); const fory = new Fory({ hps }); const { serialize, deserialize } = fory.registerSerializer(description); const input = serialize({ foo: &quot;hello fory&quot; }); const result = deserialize(input); console.log(result);   ","version":"dev","tagName":"h3"},{"title":"Rust‚Äã","type":1,"pageTitle":"Apache Fory‚Ñ¢ ‰ΩøÁî®","url":"/zh-CN/docs/next/start/usage#rust","content":" use fory::{from_buffer, to_buffer, Fory}; #[derive(Fory, Debug, PartialEq)] #[tag(&quot;example.foo&quot;)] struct Animal { name: String, category: String, } #[derive(Fory, Debug, PartialEq)] #[tag(&quot;example.bar&quot;)] struct Person { name: String, age: u32, pets: Vec&lt;Animal&gt;, } fn main() { let penson = Person { name: &quot;hello&quot;.to_string(), age: 12, pets: vec![ Animal { name: &quot;world1&quot;.to_string(), category: &quot;cat&quot;.to_string(), }, Animal { name: &quot;world2&quot;.to_string(), category: &quot;dog&quot;.to_string(), }, ], }; let bin = to_buffer(&amp;penson); let obj: Person = from_buffer(&amp;bin).expect(&quot;should success&quot;); assert_eq!(obj, penson); }  ","version":"dev","tagName":"h3"},{"title":"Â¶Ç‰ΩïÂä†ÂÖ• Apache Fory‚Ñ¢ Á§æÂå∫","type":0,"sectionRef":"#","url":"/zh-CN/docs/community/how_to_join_community","content":"","keywords":"","version":"0.15"},{"title":"Apache Fory‚Ñ¢ Ë¥°ÁåÆÊåáÂçó‚Äã","type":1,"pageTitle":"Â¶Ç‰ΩïÂä†ÂÖ• Apache Fory‚Ñ¢ Á§æÂå∫","url":"/zh-CN/docs/community/how_to_join_community#apache-fory-Ë¥°ÁåÆÊåáÂçó","content":" Apache Fory‚Ñ¢ Âõ¢ÈòüÈÄöÂ∏∏Âú® github ‰∏äËøõË°åÂºÄÂèëÂíå issue Áª¥Êä§ÔºåËØ∑ÊâìÂºÄ¬†Github ÁΩëÁ´ôÔºåÁÇπÂáªÂè≥‰∏äËßí¬†Sign up¬†ÊåâÈíÆÔºåÊ≥®ÂÜå‰∏Ä‰∏™Ëá™Â∑±ÁöÑË¥¶Âè∑ÔºåÂºÄÂêØ‰Ω†ÂºÄÊ∫ê‰πãÊóÖÁöÑÁ¨¨‰∏ÄÊ≠•„ÄÇ  Âú®¬†Apache Fory‚Ñ¢ ‰ªìÂ∫ì‰∏≠ÔºåÊàë‰ª¨Êúâ‰∏Ä‰ªΩÈù¢ÂêëÊâÄÊúâÂºÄÊ∫êË¥°ÁåÆËÄÖÁöÑÊåáÂçóÔºå‰ªãÁªç‰∫ÜÊúâÂÖ≥ÁâàÊú¨ÁÆ°ÁêÜ„ÄÅÂàÜÊîØÁÆ°ÁêÜÁ≠âÂÜÖÂÆπÔºåËØ∑Ëä±Âá†ÂàÜÈíüÊó∂Èó¥ÈòÖËØª‰∫ÜËß£‰∏Ä‰∏ã„ÄÇ  ","version":"0.15","tagName":"h2"},{"title":"‰Ω†ÁöÑÁ¨¨‰∏Ä‰∏™ Pull Request‚Äã","type":1,"pageTitle":"Â¶Ç‰ΩïÂä†ÂÖ• Apache Fory‚Ñ¢ Á§æÂå∫","url":"/zh-CN/docs/community/how_to_join_community#‰Ω†ÁöÑÁ¨¨‰∏Ä‰∏™-pull-request","content":" ","version":"0.15","tagName":"h2"},{"title":"Step0ÔºöÂÆâË£Ö Git‚Äã","type":1,"pageTitle":"Â¶Ç‰ΩïÂä†ÂÖ• Apache Fory‚Ñ¢ Á§æÂå∫","url":"/zh-CN/docs/community/how_to_join_community#step0ÂÆâË£Ö-git","content":" Git ÊòØ‰∏ÄÁßçÁâàÊú¨ÊéßÂà∂Á≥ªÁªüÔºåÁî®‰∫éË∑üË∏™ÂíåÁÆ°ÁêÜËΩØ‰ª∂ÂºÄÂèëÈ°πÁõÆ‰∏≠ÁöÑ‰ª£Á†ÅÂèòÊõ¥„ÄÇÂÆÉÂ∏ÆÂä©ÂºÄÂèëËÄÖËÆ∞ÂΩïÂíåÁÆ°ÁêÜ‰ª£Á†ÅÁöÑÂéÜÂè≤ËÆ∞ÂΩïÔºåÊñπ‰æøÂõ¢ÈòüÂçè‰Ωú„ÄÅ‰ª£Á†ÅÁâàÊú¨ÊéßÂà∂„ÄÅÂêàÂπ∂‰ª£Á†ÅÁ≠âÊìç‰Ωú„ÄÇÈÄöËøá GitÔºåÊÇ®ÂèØ‰ª•ËøΩË∏™ÊØè‰∏™Êñá‰ª∂ÁöÑÊØè‰∏™ÁâàÊú¨ÔºåÂπ∂ËΩªÊùæÂú∞Âú®‰∏çÂêåÁâàÊú¨‰πãÈó¥ËøõË°åÂàáÊç¢ÂíåÊØîËæÉ„ÄÇGit ËøòÊèê‰æõ‰∫ÜÂàÜÊîØÁÆ°ÁêÜÂäüËÉΩÔºå‰ΩøÂæóÂèØ‰ª•ÂêåÊó∂ËøõË°åÂ§ö‰∏™Âπ∂Ë°åÂºÄÂèë‰ªªÂä°„ÄÇ  ËÆøÈóÆ Git ÂÆòÊñπÁΩëÁ´ôÔºöhttps://git-scm.com‰∏ãËΩΩÊúÄÊñ∞ÁâàÊú¨ÁöÑ Git ÂÆâË£ÖÁ®ãÂ∫è„ÄÇËøêË°å‰∏ãËΩΩÁöÑÂÆâË£ÖÁ®ãÂ∫èÔºåÊåâÁÖßÂÆâË£ÖÂêëÂØºÁöÑÊèêÁ§∫ËøõË°åÂÆâË£Ö„ÄÇÂÆâË£ÖÂÆåÊàêÂêéÔºå‰Ω†ÂèØ‰ª•ÈÄöËøáÂëΩ‰ª§Ë°å‰ΩøÁî®¬†git version¬†ÂëΩ‰ª§Á°ÆËÆ§ÂÆâË£ÖÊàêÂäü„ÄÇ  ","version":"0.15","tagName":"h3"},{"title":"Step1ÔºöFork È°πÁõÆ‚Äã","type":1,"pageTitle":"Â¶Ç‰ΩïÂä†ÂÖ• Apache Fory‚Ñ¢ Á§æÂå∫","url":"/zh-CN/docs/community/how_to_join_community#step1fork-È°πÁõÆ","content":" È¶ñÂÖàÈúÄË¶Å fork Ëøô‰∏™È°πÁõÆÔºåËøõÂÖ•Apache Fory‚Ñ¢ È°πÁõÆÈ°µÈù¢ÔºåÁÇπÂáªÂè≥‰∏äËßíÁöÑ Fork ÊåâÈíÆ‰Ω†ÁöÑ github Â∏êÂè∑‰∏≠‰ºöÂá∫Áé∞ xxxx(‰Ω†ÁöÑ github Áî®Êà∑Âêç)/fory Ëøô‰∏™È°πÁõÆÂú®Êú¨Âú∞ÁîµËÑë‰∏ä‰ΩøÁî®‰ª•‰∏ãÂëΩ‰ª§: ÂæóÂà∞‰∏Ä‰∏™ fory Êñá‰ª∂Â§π  // ssh git clone git@github.com:xxxx(‰Ω†ÁöÑgithubÁî®Êà∑Âêç)/fory.git // https git clone https://github.com/xxxx(‰Ω†ÁöÑgithubÁî®Êà∑Âêç)/fory.git   ","version":"0.15","tagName":"h3"},{"title":"Step2ÔºöËé∑ÂèñÈ°πÁõÆ‰ª£Á†Å‚Äã","type":1,"pageTitle":"Â¶Ç‰ΩïÂä†ÂÖ• Apache Fory‚Ñ¢ Á§æÂå∫","url":"/zh-CN/docs/community/how_to_join_community#step2Ëé∑ÂèñÈ°πÁõÆ‰ª£Á†Å","content":" ËøõÂÖ• fory Êñá‰ª∂Â§πÔºåÊ∑ªÂä† fory ÁöÑËøúÁ®ãÂú∞ÂùÄ  git remote add upstream https://github.com/apache/fory.git   ","version":"0.15","tagName":"h3"},{"title":"Step3ÔºöÂàõÂª∫ÂàÜÊîØ‚Äã","type":1,"pageTitle":"Â¶Ç‰ΩïÂä†ÂÖ• Apache Fory‚Ñ¢ Á§æÂå∫","url":"/zh-CN/docs/community/how_to_join_community#step3ÂàõÂª∫ÂàÜÊîØ","content":" Â•Ω‰∫ÜÔºåÁé∞Âú®ÂèØ‰ª•ÂºÄÂßãË¥°ÁåÆÊàë‰ª¨ÁöÑ‰ª£Á†Å‰∫Ü„ÄÇfory ÈªòËÆ§ÂàÜÊîØ‰∏∫ main ÂàÜÊîØ„ÄÇÊó†ËÆ∫ÊòØÂäüËÉΩÂºÄÂèë„ÄÅbug ‰øÆÂ§ç„ÄÅÊñáÊ°£ÁºñÂÜôÔºåÈÉΩËØ∑Êñ∞Âª∫Á´ã‰∏Ä‰∏™ÂàÜÊîØÔºåÂÜçÂêàÂπ∂Âà∞ main ÂàÜÊîØ‰∏ä„ÄÇ‰ΩøÁî®‰ª•‰∏ã‰ª£Á†ÅÂàõÂª∫ÂàÜÊîØÔºö  // ÂàõÂª∫ÂäüËÉΩÂºÄÂèëÂàÜÊîØ git checkout -b feat/xxxx // ÂàõÂª∫ÈóÆÈ¢ò‰øÆÂ§çÂºÄÂèëÂàÜÊîØ git checkout -b fix/xxxx // ÂàõÂª∫ÊñáÊ°£„ÄÅdemoÂàÜÊîØ git checkout -b docs/add-java-demo   ÂÅáËÆæÊàë‰ª¨ÂàõÂª∫‰∫ÜÊñáÊ°£‰øÆÊîπÂàÜÊîØ¬†docs/add-java-demo  ÂÅáËÆæÊàë‰ª¨Â∑≤ÁªèÊ∑ªÂä†‰∫Ü‰∏Ä‰∫õ‰ª£Á†ÅÔºåÊèê‰∫§Âà∞‰ª£Á†ÅÂ∫ì git add . git commit -a -m &quot;docs: add java demo and related docs&quot; „ÄÇ  ","version":"0.15","tagName":"h3"},{"title":"Step4ÔºöÂêàÂπ∂‰øÆÊîπ‚Äã","type":1,"pageTitle":"Â¶Ç‰ΩïÂä†ÂÖ• Apache Fory‚Ñ¢ Á§æÂå∫","url":"/zh-CN/docs/community/how_to_join_community#step4ÂêàÂπ∂‰øÆÊîπ","content":" ÂàáÊç¢ÂõûËá™Â∑±ÁöÑÂºÄÂèëÂàÜÊîØ:  git checkout docs/add-java-demo   ÊääÊõ¥Êñ∞‰ª£Á†ÅÊèê‰∫§Âà∞Ëá™Â∑±ÁöÑÂàÜÊîØ‰∏≠:  git push origin docs/add-java-demo   ","version":"0.15","tagName":"h3"},{"title":"Step5ÔºöÊèê‰∫§ Pull Request‚Äã","type":1,"pageTitle":"Â¶Ç‰ΩïÂä†ÂÖ• Apache Fory‚Ñ¢ Á§æÂå∫","url":"/zh-CN/docs/community/how_to_join_community#step5Êèê‰∫§-pull-request","content":" ‰Ω†ÂèØ‰ª•Âú®‰Ω†ÁöÑ github ‰ª£Á†Å‰ªìÂ∫ìÈ°µÈù¢ÁÇπÂáª¬†Compare &amp; pull request¬†ÊåâÈíÆ„ÄÇÊàñÈÄöËøá¬†contribute¬†ÊåâÈíÆÂàõÂª∫„ÄÇ  Â°´ÂÜôËøôÊòØ‰ªÄ‰πàÁ±ªÂûãÁöÑ‰øÆÊîπÂ°´ÂÜôÂÖ≥ËÅîÁöÑ issueËã•ÊúâÂ§çÊùÇÂèòÊõ¥ÔºåËØ∑ËØ¥ÊòéËÉåÊôØÂíåËß£ÂÜ≥ÊñπÊ°à  Áõ∏ÂÖ≥‰ø°ÊÅØÂ°´ÂÜôÂÆåÊàêÂêéÔºåÁÇπÂáª Create pull request Êèê‰∫§„ÄÇ  ","version":"0.15","tagName":"h3"},{"title":"ËΩªÊùæÊ≠•ÂÖ• Apache Fory‚Ñ¢ ÂºÄÊ∫êË¥°ÁåÆ‰πãÊóÖ‚Äã","type":1,"pageTitle":"Â¶Ç‰ΩïÂä†ÂÖ• Apache Fory‚Ñ¢ Á§æÂå∫","url":"/zh-CN/docs/community/how_to_join_community#ËΩªÊùæÊ≠•ÂÖ•-apache-fory-ÂºÄÊ∫êË¥°ÁåÆ‰πãÊóÖ","content":" &quot;good first issue&quot; ÊòØ‰∏Ä‰∏™Âú®ÂºÄÊ∫êÁ§æÂå∫Â∏∏ËßÅÁöÑÊ†áÁ≠æÔºåËøô‰∏™Ê†áÁ≠æÁöÑÁõÆÁöÑÊòØÂ∏ÆÂä©Êñ∞Ë¥°ÁåÆËÄÖÊâæÂà∞ÈÄÇÂêàÂÖ•Èó®ÁöÑÈóÆÈ¢ò„ÄÇ  Apache Fory‚Ñ¢ ÁöÑÂÖ•Èó®ÈóÆÈ¢òÔºå‰Ω†ÂèØ‰ª•ÈÄöËøá¬†issue ÂàóË°®Êü•Áúã„ÄÇ  Â¶ÇÊûú‰Ω†ÂΩìÂâçÊúâÊó∂Èó¥ÂíåÊÑèÊÑøÂèÇ‰∏éÂà∞Á§æÂå∫Ë¥°ÁåÆÔºåÂèØ‰ª•Âú® issue ÈáåÁúã‰∏ÄÁúã¬†good first issueÔºåÈÄâÊã©‰∏Ä‰∏™ÊÑüÂÖ¥Ë∂£„ÄÅÈÄÇÂêàËá™Â∑±ÁöÑËÆ§È¢Ü„ÄÇ  ","version":"0.15","tagName":"h2"},{"title":"Êã•Êä± Apache Fory‚Ñ¢ Á§æÂå∫‚Äã","type":1,"pageTitle":"Â¶Ç‰ΩïÂä†ÂÖ• Apache Fory‚Ñ¢ Á§æÂå∫","url":"/zh-CN/docs/community/how_to_join_community#Êã•Êä±-apache-fory-Á§æÂå∫","content":" Âú®‰Ω†‰∏∫ Apache Fory‚Ñ¢ Ë¥°ÁåÆ‰ª£Á†Å‰πã‰ΩôÔºåÊàë‰ª¨ÈºìÂä±‰Ω†ÂèÇ‰∏éÂÖ∂‰ªñËÆ©Á§æÂå∫Êõ¥Âä†ÁπÅËç£ÁöÑ‰∫ãÊÉÖÔºåÊØîÂ¶ÇÔºö  ‰∏∫È°πÁõÆÁöÑÂèëÂ±ï„ÄÅÂäüËÉΩËßÑÂàí Á≠âÊèêÂª∫ËÆÆ„ÄÇÂàõ‰ΩúÊñáÁ´†„ÄÅËßÜÈ¢ëÔºåÂºÄÂäûËÆ≤Â∫ßÊù•ÂÆ£‰º† Apache Fory‚Ñ¢Êí∞ÂÜôÊé®ÂπøËÆ°ÂàíÔºåÂêåÂõ¢Èòü‰∏ÄÂêåÊâßË°å„ÄÇ ","version":"0.15","tagName":"h2"},{"title":"Á§æÂå∫","type":0,"sectionRef":"#","url":"/zh-CN/docs/community/","content":"","keywords":"","version":"0.15"},{"title":"ÈÇÆ‰ª∂ÂàóË°®‚Äã","type":1,"pageTitle":"Á§æÂå∫","url":"/zh-CN/docs/community/#ÈÇÆ‰ª∂ÂàóË°®","content":" ÈÇÆ‰ª∂ÂàóË°®\tÊèèËø∞\tËÆ¢ÈòÖ\tÂèñÊ∂àËÆ¢ÈòÖ\tÂèëÈÄÅÈÇÆ‰ª∂\tÊ¥ªÂä®dev@fory.apache.org\tÂºÄÂèëÁõ∏ÂÖ≥ËÆ®ËÆ∫\tËÆ¢ÈòÖ\tÂèñÊ∂àËÆ¢ÈòÖ\tÂèëÈÄÅÈÇÆ‰ª∂\tÈÇÆ‰ª∂ÂàóË°®Ê¥ªÂä® commits@fory.apache.org\t‰ªìÂ∫ìÁöÑÊâÄÊúâ commits\tËÆ¢ÈòÖ\tÂèñÊ∂àËÆ¢ÈòÖ\tÂè™ËØªÁöÑÈÇÆ‰ª∂ÂàóË°®\tÈÇÆ‰ª∂ÂàóË°®Ê¥ªÂä®  Âú®Â∞ùËØïÂèëÈÄÅÈÇÆ‰ª∂‰πãÂâçÔºåËØ∑Á°Æ‰øùËÆ¢ÈòÖ‰∏äËø∞ÁöÑÈÇÆ‰ª∂ÂàóË°®„ÄÇ  Â¶ÇÊûúÊÇ®Ê≤°ÊúâËÆ¢ÈòÖÈÇÆ‰ª∂ÂàóË°®ÔºåÊÇ®ÁöÑÈÇÆ‰ª∂Â∞ÜË¢´ÊãíÁªùÊàñ‰∏ç‰ºöÊî∂Âà∞ÂõûÂ§ç„ÄÇ  ","version":"0.15","tagName":"h2"},{"title":"Â¶Ç‰ΩïËÆ¢ÈòÖÈÇÆ‰ª∂ÂàóË°®‚Äã","type":1,"pageTitle":"Á§æÂå∫","url":"/zh-CN/docs/community/#Â¶Ç‰ΩïËÆ¢ÈòÖÈÇÆ‰ª∂ÂàóË°®","content":" Ë¶ÅÂèëÈÄÅÈÇÆ‰ª∂Ëá≥ÈÇÆ‰ª∂ÂàóË°®ÔºåËØ∑ÂÖàÈÄöËøá‰ª•‰∏ãÊñπÂºèËÆ¢ÈòÖÔºö  ÂèëÈÄÅÁîµÂ≠êÈÇÆ‰ª∂Ëá≥ listname-subscribe@fory.apache.orgÔºåÂπ∂Áõ∏Â∫îÊõøÊç¢ listnameÔºõÂõûÂ§çÊÇ®Â∞ÜÊî∂Âà∞ÁöÑÁ°ÆËÆ§ÁîµÂ≠êÈÇÆ‰ª∂Ôºå‰øùÊåÅÈÇÆ‰ª∂‰∏ªÈ¢òË°åÂÆåÊï¥ÔºõÁÑ∂ÂêéÊÇ®Â∞ÜÊî∂Âà∞‰∏ÄÂ∞ÅÊ¨¢ËøéÁöÑÁîµÂ≠êÈÇÆ‰ª∂ÔºåËÆ¢ÈòÖÊàêÂäü„ÄÇ  Âú®ËÆ®ËÆ∫ÁîµÂ≠êÈÇÆ‰ª∂‰∏≠ÁöÑ‰ª£Á†ÅÁâáÊÆµÊó∂ÔºåËØ∑Á°Æ‰øùÔºö  ÊÇ®‰∏çË¶ÅÈìæÊé•Âà∞Â§ñÈÉ®ÊúçÂä°‰∏≠ÁöÑÊñá‰ª∂ÔºåÂõ†‰∏∫Ê≠§Á±ªÊñá‰ª∂ÂèØËÉΩ‰ºöÊõ¥Êîπ„ÄÅË¢´Âà†Èô§ÊàñÈìæÊé•ÂèØËÉΩ‰ºö‰∏≠Êñ≠Ôºå‰ªéËÄå‰ΩøÂ≠òÊ°£ÁöÑÁîµÂ≠êÈÇÆ‰ª∂Á∫øÁ®ãÂèòÂæóÊó†Áî®ÔºõÊÇ®Á≤òË¥¥ÊñáÊú¨ËÄå‰∏çÊòØÊñáÊú¨Â±èÂπïÊà™ÂõæÔºõÁ≤òË¥¥‰ª£Á†ÅÊó∂‰øùÊåÅÊ†ºÂºèÔºå‰ª•‰øùÊåÅ‰ª£Á†ÅÂèØËØªÔºõÊúâË∂≥Â§üÁöÑÂØºÂÖ•ËØ≠Âè•‰ª•ÈÅøÂÖç‰∫ßÁîü‰ª£Á†ÅÊ≠ß‰πâ„ÄÇ  ","version":"0.15","tagName":"h3"},{"title":"Slack‚Äã","type":1,"pageTitle":"Á§æÂå∫","url":"/zh-CN/docs/community/#slack","content":" ÊÇ®ÂèØ‰ª•Âä†ÂÖ•Slack ‰∏äÁöÑ Apache Fory‚Ñ¢ Á§æÂå∫„ÄÇ  ËøôÈáåÊúâ‰∏Ä‰∫õÁ§æÂå∫ËßÑÂàôÔºö  ‰øùÊåÅÂ∞äÈáçÂíåÂèãÂñÑÔºõÊâÄÊúâÈáçË¶ÅÁöÑÂÜ≥ÂÆöÂíåÁªìËÆ∫ÈÉΩÂøÖÈ°ªÂèçÊò†Âà∞ÈÇÆ‰ª∂ÂàóË°®‰∏≠„ÄÇ ‚ÄúÂ¶ÇÊûúËøôÊ≤°ÊúâÂú®ÈÇÆ‰ª∂ÂàóË°®‰∏≠ÊúâÁõ∏ÂÖ≥ÁöÑËÆ®ËÆ∫ËÆ∞ÂΩïÔºåÂàô‰ª£Ë°®ÂÆÉ‰∏çÁîüÊïà‚Äù ÔºõThe Apache WayÔºõ‰ΩøÁî® Slack Á∫øÁ®ãÊù•Èò≤Ê≠¢Âπ∂Ë°åÂØπËØùÊ∑πÊ≤°ÂΩìÂâçÁöÑÂØπËØùÈ¢ëÈÅìÔºõËØ∑‰∏çË¶ÅÁõ¥Êé•ÂêëÈÇÆ‰ª∂ÂàóË°®ÂèëÈÄÅ Bug fix„ÄÅIssue ÂàÜÈÖçÂíå Code Review Ê∂àÊÅØ„ÄÇËøô‰∫õÂÜÖÂÆπÂ∫îËØ•Ë¢´Á§æÂå∫Ë¥°ÁåÆËÄÖËá™ÊÑøÂ§ÑÁêÜÂπ∂ÂàÜÈÖç„ÄÇ  ","version":"0.15","tagName":"h2"},{"title":"Issue Ë∑üË∏™‚Äã","type":1,"pageTitle":"Á§æÂå∫","url":"/zh-CN/docs/community/#issue-Ë∑üË∏™","content":" Êàë‰ª¨‰ΩøÁî® GitHub Issues Êù•Ë∑üË∏™ÊâÄÊúâ IssuesÔºö  ‰ª£Á†ÅÁõ∏ÂÖ≥ÈóÆÈ¢òÔºöhttps://github.com/apache/fory/issuesÁΩëÁ´ôÁõ∏ÂÖ≥ÈóÆÈ¢òÔºöhttps://github.com/apache/fory-site/issues  ÊÇ®ÈúÄË¶ÅÊúâ‰∏Ä‰∏™ GitHub Â∏êÂè∑ ÊâçËÉΩÂàõÂª∫ÈóÆÈ¢ò„ÄÇ Â¶ÇÊûúÊÇ®Ê≤°Êúâ GitHub Â∏êÂè∑ÔºåÊÇ®ÂèØ‰ª•ÂèëÈÄÅÁîµÂ≠êÈÇÆ‰ª∂Ëá≥ dev@fory.apache.org„ÄÇ  ","version":"0.15","tagName":"h2"},{"title":"Êä•Âëä Bug‚Äã","type":1,"pageTitle":"Á§æÂå∫","url":"/zh-CN/docs/community/#Êä•Âëä-bug","content":" ÊÇ®Âú®Êä•Âëä Bug ‰πãÂâçÔºåÂ∫îËØ•Ôºö  È™åËØÅËØ• Bug Á°ÆÂÆûÂ≠òÂú®ÔºõÊêúÁ¥¢ Issue List ‰ª•Á°Æ‰øù‰∏çÂ≠òÂú®Áõ∏ÂÖ≥ Bug„ÄÇÂú® Issue List ‰∏≠ÂàõÂª∫ bug Êä•Âëä„ÄÇÂ¶ÇÊûúÂèØËÉΩÁöÑËØùÔºåÊ∑±ÂÖ•Á†îÁ©∂ Apache Fory‚Ñ¢ ÁöÑÊ∫ê‰ª£Á†ÅÔºåÂπ∂ÈíàÂØπÊÇ®Êä•ÂëäÁöÑ Bug Êèê‰∫§Ë°•‰∏ÅÔºåËøôÊúâÂä©‰∫éÂø´ÈÄü‰øÆÂ§ç Bug„ÄÇ  ","version":"0.15","tagName":"h3"},{"title":"Êä•ÂëäÂÆâÂÖ®ÊºèÊ¥û‚Äã","type":1,"pageTitle":"Á§æÂå∫","url":"/zh-CN/docs/community/#Êä•ÂëäÂÆâÂÖ®ÊºèÊ¥û","content":" Apache Fory‚Ñ¢ ÊòØ Apache ËΩØ‰ª∂Âü∫Èáë‰ºö ÁöÑ‰∏Ä‰∏™È°πÁõÆÔºåÈÅµÂæ™ ASF ÊºèÊ¥ûÂ§ÑÁêÜÊµÅÁ®ã„ÄÇ  Ë¶ÅÊä•ÂëäÊÇ®ÂèëÁé∞ÁöÑÊñ∞ÁöÑÂÆâÂÖ®ÊºèÊ¥ûÔºåËØ∑ÈÅµÂæ™ ASF ÊºèÊ¥ûÊä•ÂëäÊµÅÁ®ãÔºåËØ•ÊµÅÁ®ãËß£Èáä‰∫ÜÂ¶Ç‰ΩïÁßÅ‰∏ãÂêëÁ§æÂå∫Áª¥Êä§ËÄÖÂèëÈÄÅËØ¶ÁªÜÁöÑÊºèÊ¥û‰ø°ÊÅØ„ÄÇ  ","version":"0.15","tagName":"h3"},{"title":"New Feature‚Äã","type":1,"pageTitle":"Á§æÂå∫","url":"/zh-CN/docs/community/#new-feature","content":" Ê¨¢ËøéÊÇ®Â¢ûÂº∫ÂäüËÉΩÊàñÊñ∞ÂäüËÉΩÂª∫ËÆÆ„ÄÇÊèêÊ°àË∂äÂÖ∑‰Ωì„ÄÅË∂äÂêàÁêÜÔºåÊÇ®Âú® Apache Fory‚Ñ¢ Á§æÂå∫ÁöÑÂΩ±ÂìçÂäõÂ∞±Ë∂äÂ§ß„ÄÇÂÆÉÊúâÂèØËÉΩÂú®‰πãÂêéÁâàÊú¨ÂèëÂ∏É„ÄÇ  ","version":"0.15","tagName":"h3"},{"title":"È°πÁõÆÊ∫ê‰ª£Á†Å‚Äã","type":1,"pageTitle":"Á§æÂå∫","url":"/zh-CN/docs/community/#È°πÁõÆÊ∫ê‰ª£Á†Å","content":" Apache Fory‚Ñ¢ Core Â≠òÂÇ®Â∫ìÔºöhttps://github.com/apache/foryApache Fory‚Ñ¢ ÁΩëÁ´ôÂ≠òÂÇ®Â∫ìÔºöhttps://github.com/apache/fory-site ","version":"0.15","tagName":"h3"},{"title":"Java Âü∫ÂáÜÊµãËØï","type":0,"sectionRef":"#","url":"/zh-CN/docs/benchmarks/java/","content":"","keywords":"","version":"0.15"},{"title":"Á≥ªÁªüÁéØÂ¢É‚Äã","type":1,"pageTitle":"Java Âü∫ÂáÜÊµãËØï","url":"/zh-CN/docs/benchmarks/java/#Á≥ªÁªüÁéØÂ¢É","content":" Operation SystemÔºö4.9.151-015.x86_64CPUÔºöIntel(R) Xeon(R) Platinum 8163 CPU @ 2.50GHzByte OrderÔºöLittle EndianL1d cacheÔºö 32KL1i cacheÔºö32KL2 cacheÔºö 1024KL3 cacheÔºö 33792K  ","version":"0.15","tagName":"h2"},{"title":"JMH ÂèÇÊï∞‚Äã","type":1,"pageTitle":"Java Âü∫ÂáÜÊµãËØï","url":"/zh-CN/docs/benchmarks/java/#jmh-ÂèÇÊï∞","content":" ‰∏çË¶ÅË∑≥Ëøá warm upÔºåÂê¶ÂàôÁªìÊûú‰∏çÂáÜÁ°Æ„ÄÇ   -f 1 -wi 3 -i 3 -t 1 -w 2s -r 2s -rf cs   ","version":"0.15","tagName":"h2"},{"title":"Âü∫ÂáÜÊï∞ÊçÆ‚Äã","type":1,"pageTitle":"Java Âü∫ÂáÜÊµãËØï","url":"/zh-CN/docs/benchmarks/java/#Âü∫ÂáÜÊï∞ÊçÆ","content":" ","version":"0.15","tagName":"h2"},{"title":"Struct‚Äã","type":1,"pageTitle":"Java Âü∫ÂáÜÊµãËØï","url":"/zh-CN/docs/benchmarks/java/#struct","content":" Struct ÊòØ‰∏Ä‰∏™ÂåÖÂê´ 100 ‰∏™Âü∫Á°ÄÁ±ªÂûãÂ≠óÊÆµÁöÑÁ±ªÔºö  public class Struct { public int f1; public long f2; public float f3; public double f4; // ... public double f99; }   ","version":"0.15","tagName":"h3"},{"title":"Struct2‚Äã","type":1,"pageTitle":"Java Âü∫ÂáÜÊµãËØï","url":"/zh-CN/docs/benchmarks/java/#struct2","content":" Struct2 ÊòØ‰∏Ä‰∏™ÂåÖÂê´ 100 ‰∏™Ë£ÖÁÆ±Á±ªÂûãÂ≠óÊÆµÁöÑÁ±ªÔºö  public class Struct { public Integer f1; public Long f2; public Float f3; public Double f4; // ... public Double f99; }   ","version":"0.15","tagName":"h3"},{"title":"MediaContent‚Äã","type":1,"pageTitle":"Java Âü∫ÂáÜÊµãËØï","url":"/zh-CN/docs/benchmarks/java/#mediacontent","content":" MEDIA_CONTENT Êù•Ëá™ jvm-serializers.  ","version":"0.15","tagName":"h3"},{"title":"Sample‚Äã","type":1,"pageTitle":"Java Âü∫ÂáÜÊµãËØï","url":"/zh-CN/docs/benchmarks/java/#sample","content":" SAMPLE Êù•Ëá™ kryo benchmark  ","version":"0.15","tagName":"h3"},{"title":"Âü∫ÂáÜÂõæË°®‚Äã","type":1,"pageTitle":"Java Âü∫ÂáÜÊµãËØï","url":"/zh-CN/docs/benchmarks/java/#Âü∫ÂáÜÂõæË°®","content":" ","version":"0.15","tagName":"h2"},{"title":"Â∫èÂàóÂåñÂà∞Â†ÜÂÜÖÁºìÂÜ≤Âå∫‚Äã","type":1,"pageTitle":"Java Âü∫ÂáÜÊµãËØï","url":"/zh-CN/docs/benchmarks/java/#Â∫èÂàóÂåñÂà∞Â†ÜÂÜÖÁºìÂÜ≤Âå∫","content":" Â∞ÜÊï∞ÊçÆÂ∫èÂàóÂåñÂà∞ Java Â≠óËäÇÊï∞ÁªÑ„ÄÇ  Java schema ‰∏ÄËá¥ÊÄßÂ∫èÂàóÂåñ‚Äã  ÂèçÂ∫èÂàóÂåñÁ´ØÂøÖÈ°ª‰∏éÂ∫èÂàóÂåñÁ´Ø‰ΩøÁî®Áõ∏ÂêåÁöÑÁ±ªÂÆö‰πâ„ÄÇ ËØ•Ê®°Âºè‰∏çÊîØÊåÅÁ±ªÁöÑÂâçÂêë/ÂêéÂêëÂÖºÂÆπ„ÄÇ    Java schema ÂÖºÂÆπÊ®°ÂºèÂ∫èÂàóÂåñ‚Äã  ÂèçÂ∫èÂàóÂåñÁ´ØÂèØ‰ª•‰∏éÂ∫èÂàóÂåñÁ´Ø‰ΩøÁî®‰∏çÂêåÁöÑÁ±ªÂÆö‰πâ„ÄÇ ËØ•Ê®°ÂºèÊîØÊåÅÁ±ªÁöÑÂâçÂêë/ÂêéÂêëÂÖºÂÆπ„ÄÇ    Java schema ‰∏ÄËá¥ÊÄßÂèçÂ∫èÂàóÂåñ‚Äã  ÂèçÂ∫èÂàóÂåñÁ´ØÂøÖÈ°ª‰∏éÂ∫èÂàóÂåñÁ´Ø‰ΩøÁî®Áõ∏ÂêåÁöÑÁ±ªÂÆö‰πâ„ÄÇ ËØ•Ê®°Âºè‰∏çÊîØÊåÅÁ±ªÁöÑÂâçÂêë/ÂêéÂêëÂÖºÂÆπ„ÄÇ    Java schema ÂÖºÂÆπÊ®°ÂºèÂèçÂ∫èÂàóÂåñ‚Äã  ÂèçÂ∫èÂàóÂåñÁ´ØÂèØ‰ª•‰∏éÂ∫èÂàóÂåñÁ´Ø‰ΩøÁî®‰∏çÂêåÁöÑÁ±ªÂÆö‰πâ„ÄÇ ËØ•Ê®°ÂºèÊîØÊåÅÁ±ªÁöÑÂâçÂêë/ÂêéÂêëÂÖºÂÆπ„ÄÇ    ","version":"0.15","tagName":"h3"},{"title":"Â†ÜÂ§ñÂ∫èÂàóÂåñ‚Äã","type":1,"pageTitle":"Java Âü∫ÂáÜÊµãËØï","url":"/zh-CN/docs/benchmarks/java/#Â†ÜÂ§ñÂ∫èÂàóÂåñ","content":" Â∞ÜÊï∞ÊçÆÂ∫èÂàóÂåñÂà∞Â†ÜÂ§ñÂÜÖÂ≠ò„ÄÇ  Java schema ‰∏ÄËá¥ÊÄßÂ∫èÂàóÂåñ‚Äã  ÂèçÂ∫èÂàóÂåñÁ´ØÂøÖÈ°ª‰∏éÂ∫èÂàóÂåñÁ´Ø‰ΩøÁî®Áõ∏ÂêåÁöÑÁ±ªÂÆö‰πâ„ÄÇ ËØ•Ê®°Âºè‰∏çÊîØÊåÅÁ±ªÁöÑÂâçÂêë/ÂêéÂêëÂÖºÂÆπ„ÄÇ    Java schema ÂÖºÂÆπÊ®°ÂºèÂ∫èÂàóÂåñ‚Äã  ÂèçÂ∫èÂàóÂåñÁ´ØÂèØ‰ª•‰∏éÂ∫èÂàóÂåñÁ´Ø‰ΩøÁî®‰∏çÂêåÁöÑÁ±ªÂÆö‰πâ„ÄÇ ËØ•Ê®°ÂºèÊîØÊåÅÁ±ªÁöÑÂâçÂêë/ÂêéÂêëÂÖºÂÆπ„ÄÇ    Java schema ‰∏ÄËá¥ÊÄßÂèçÂ∫èÂàóÂåñ‚Äã  ÂèçÂ∫èÂàóÂåñÁ´ØÂøÖÈ°ª‰∏éÂ∫èÂàóÂåñÁ´Ø‰ΩøÁî®Áõ∏ÂêåÁöÑÁ±ªÂÆö‰πâ„ÄÇ ËØ•Ê®°Âºè‰∏çÊîØÊåÅÁ±ªÁöÑÂâçÂêë/ÂêéÂêëÂÖºÂÆπ„ÄÇ    Java schema ÂÖºÂÆπÊ®°ÂºèÂèçÂ∫èÂàóÂåñ‚Äã  ÂèçÂ∫èÂàóÂåñÁ´ØÂèØ‰ª•‰∏éÂ∫èÂàóÂåñÁ´Ø‰ΩøÁî®‰∏çÂêåÁöÑÁ±ªÂÆö‰πâ„ÄÇ ËØ•Ê®°ÂºèÊîØÊåÅÁ±ªÁöÑÂâçÂêë/ÂêéÂêëÂÖºÂÆπ„ÄÇ    ","version":"0.15","tagName":"h3"},{"title":"Èõ∂Êã∑Ë¥ùÂ∫èÂàóÂåñ‚Äã","type":1,"pageTitle":"Java Âü∫ÂáÜÊµãËØï","url":"/zh-CN/docs/benchmarks/java/#Èõ∂Êã∑Ë¥ùÂ∫èÂàóÂåñ","content":" Ê≥®ÊÑèÔºöÈõ∂Êã∑Ë¥ùÂ∫èÂàóÂåñÂè™ÊòØÂú®Â∫èÂàóÂåñÈò∂ÊÆµÈÅøÂÖçÊã∑Ë¥ùÔºõÂ¶ÇÊûúÂ∞ÜÊï∞ÊçÆÂèëÈÄÅÂà∞ÂÖ∂‰ªñÊú∫Âô®Ôºå‰ªçÂèØËÉΩÂèëÁîüÊã∑Ë¥ù„ÄÇ  ‰ΩÜÂ¶ÇÊûúÂú®Âêå‰∏ÄËäÇÁÇπËøõÁ®ãÈó¥Â∫èÂàóÂåñÂπ∂‰ΩøÁî®ÂÖ±‰∫´ÂÜÖÂ≠òÔºå‰∏îÊï∞ÊçÆÂú®Â∫èÂàóÂåñÂâçÂ∑≤‰Ωç‰∫éÂ†ÜÂ§ñÔºåÈÇ£‰πàÂÖ∂‰ªñËøõÁ®ãÂèØÊó†Êã∑Ë¥ùËØªÂèñËØ•ÁºìÂÜ≤Âå∫„ÄÇ  Java Èõ∂Êã∑Ë¥ùÂ∫èÂàóÂåñÂà∞Â†ÜÂÜÖÁºìÂÜ≤Âå∫‚Äã    Java Èõ∂Êã∑Ë¥ùÂ∫èÂàóÂåñÂà∞Áõ¥Êé•ÁºìÂÜ≤Âå∫‚Äã    ","version":"0.15","tagName":"h3"},{"title":"Âü∫ÂáÜÊï∞ÊçÆ‚Äã","type":1,"pageTitle":"Java Âü∫ÂáÜÊµãËØï","url":"/zh-CN/docs/benchmarks/java/#Âü∫ÂáÜÊï∞ÊçÆ-1","content":" ","version":"0.15","tagName":"h2"},{"title":"Java Serialization‚Äã","type":1,"pageTitle":"Java Âü∫ÂáÜÊµãËØï","url":"/zh-CN/docs/benchmarks/java/#java-serialization","content":" Benchmark\tobjectType\tbufferType\treferences\tFory\tForyMetaShared\tKryo\tFst\tHession\tJdk\tProtostuffserialize\tSTRUCT\tarray\tFalse\t7501415.567260 558194.100861\t882178.995727\t258233.998931\t155908.244240\t330975.350403 serialize\tSTRUCT\tarray\tTrue\t6264439.154428 557542.628765\t757753.756691\t260845.209485\t151258.539369 serialize\tSTRUCT\tdirectBuffer\tFalse\t9834223.243204 1078046.011115\t807847.663261\t266481.009225\t154875.908438\t340262.650047 serialize\tSTRUCT\tdirectBuffer\tTrue\t7551780.823133 853350.408656\t762088.935404\t261762.594966\t156404.686214 serialize\tSTRUCT2\tarray\tFalse\t3586126.623874 325172.969175\t371762.982661\t56056.080075\t36846.049162\t322563.440433 serialize\tSTRUCT2\tarray\tTrue\t3306474.506382 259863.332448\t380638.700267\t60038.879790\t38183.705811 serialize\tSTRUCT2\tdirectBuffer\tFalse\t2643155.135327 355688.882786\t365317.705376\t55924.319442\t37444.967981\t325093.716261 serialize\tSTRUCT2\tdirectBuffer\tTrue\t2391110.083108 338960.426033\t370851.880711\t56674.065604\t35798.679246 serialize\tMEDIA_CONTENT\tarray\tFalse\t3031642.924542 730792.521676\t751892.023189\t367782.358049\t137989.198821\t780618.761219 serialize\tMEDIA_CONTENT\tarray\tTrue\t2250384.600246 445251.084327\t583859.907758\t329427.470680\t140260.668888 serialize\tMEDIA_CONTENT\tdirectBuffer\tFalse\t2479862.129632 608972.517580\t728001.080250\t372477.138150\t138567.623369\t805941.345157 serialize\tMEDIA_CONTENT\tdirectBuffer\tTrue\t1938527.588331 359875.473951\t595679.580108\t353376.085025\t140158.673910 serialize\tSAMPLE\tarray\tFalse\t3570966.469087 1105365.931217\t915907.574306\t220386.502846\t118374.836631\t663272.710783 serialize\tSAMPLE\tarray\tTrue\t1767693.835090 734215.482291\t731869.156376\t192414.014211\t119858.140625 serialize\tSAMPLE\tdirectBuffer\tFalse\t3684487.760591 1376560.302168\t902302.261168\t220981.308085\t118273.584257\t693641.589806 serialize\tSAMPLE\tdirectBuffer\tTrue\t1826456.709478 932887.968348\t723614.066770\t211949.960255\t108263.040839 serialize_compatible\tSTRUCT\tarray\tFalse\t3530406.108869\t9204444.777172\t145964.199559 258650.663523 serialize_compatible\tSTRUCT\tarray\tTrue\t3293059.098127\t7064625.291374\t136180.832879 263564.913879 serialize_compatible\tSTRUCT\tdirectBuffer\tFalse\t2653169.568374\t11650229.648715\t106695.800225 249221.452137 serialize_compatible\tSTRUCT\tdirectBuffer\tTrue\t2393817.762938\t8702412.752357\t106458.212005 263623.143601 serialize_compatible\tSTRUCT2\tarray\tFalse\t2773368.997680\t2575824.143864\t125807.748004 58509.125342 serialize_compatible\tSTRUCT2\tarray\tTrue\t2564174.550276\t3543082.528217\t114983.546343 55552.977735 serialize_compatible\tSTRUCT2\tdirectBuffer\tFalse\t1912402.937879\t2714748.572248\t92130.672361 58908.567439 serialize_compatible\tSTRUCT2\tdirectBuffer\tTrue\t1848338.968058\t1866073.031851\t88989.724768 55524.373547 serialize_compatible\tMEDIA_CONTENT\tarray\tFalse\t1679272.036223\t2992288.235281\t188911.259146 377195.903772 serialize_compatible\tMEDIA_CONTENT\tarray\tTrue\t1406736.538716\t2058738.716953\t145782.916427 351657.879556 serialize_compatible\tMEDIA_CONTENT\tdirectBuffer\tFalse\t1710680.937387\t2291443.556971\t185363.714829 371729.727192 serialize_compatible\tMEDIA_CONTENT\tdirectBuffer\tTrue\t1149999.473994\t1804349.244125\t142836.961878 343834.954942 serialize_compatible\tSAMPLE\tarray\tFalse\t3604596.465625\t4409055.687063\t378907.663184 234454.975158 serialize_compatible\tSAMPLE\tarray\tTrue\t1619648.337293\t1840705.439334\t320815.567701 206174.173039 serialize_compatible\tSAMPLE\tdirectBuffer\tFalse\t3484533.218305\t5043538.364886\t296102.615094 194761.224263 serialize_compatible\tSAMPLE\tdirectBuffer\tTrue\t1730822.630648\t1859289.705838\t276757.392449 212840.483308 deserialize\tSTRUCT\tarray\tFalse\t4595230.434552 607750.343557\t357887.235311\t84709.108821\t29603.066599\t517381.168594 deserialize\tSTRUCT\tarray\tTrue\t4634753.596131 552802.227807\t353480.554035\t91050.370224\t29727.744196 deserialize\tSTRUCT\tdirectBuffer\tFalse\t5012002.859236 910534.169114\t352441.597147\t91151.633583\t28717.004518\t538922.947147 deserialize\tSTRUCT\tdirectBuffer\tTrue\t4864329.316938 914404.107564\t334574.303484\t91037.205901\t29549.998286 deserialize\tSTRUCT2\tarray\tFalse\t1126298.359550 275984.042401\t280131.091068\t69758.767783\t14888.805111\t416212.973861 deserialize\tSTRUCT2\tarray\tTrue\t1046649.083082 222710.554833\t260649.308016\t68616.029248\t14034.100664 deserialize\tSTRUCT2\tdirectBuffer\tFalse\t1117586.457565 319247.256793\t262519.858810\t66866.108653\t14652.043788\t425523.315814 deserialize\tSTRUCT2\tdirectBuffer\tTrue\t1018277.848128 249105.828416\t234973.637096\t65338.345185\t14425.886048 deserialize\tMEDIA_CONTENT\tarray\tFalse\t2054066.903469 577631.234369\t363455.785182\t118156.072284\t38536.250402\t951662.019963 deserialize\tMEDIA_CONTENT\tarray\tTrue\t1507767.206603 365530.417232\t304371.728638\t120016.594171\t38957.191090 deserialize\tMEDIA_CONTENT\tdirectBuffer\tFalse\t1502746.028159 389473.174523\t311691.658687\t111067.942626\t40512.632076\t964664.641598 deserialize\tMEDIA_CONTENT\tdirectBuffer\tTrue\t1290593.975753 306995.220799\t251820.171513\t121820.821260\t37030.594632 deserialize\tSAMPLE\tarray\tFalse\t2069988.624415 979173.981159\t473409.796491\t119471.518388\t29309.573998\t619338.385412 deserialize\tSAMPLE\tarray\tTrue\t1797942.442313 716438.884369\t428315.502365\t121106.002978\t27466.003923 deserialize\tSAMPLE\tdirectBuffer\tFalse\t2229791.078395 983538.936801\t441027.550809\t117806.916589\t28128.457935\t624804.978534 deserialize\tSAMPLE\tdirectBuffer\tTrue\t1958815.397807 762889.302732\t420523.770904\t121940.783597\t28221.014735 deserialize_compatible\tSTRUCT\tarray\tFalse\t2110335.039275\t4978833.206806\t78771.635309 88617.486795 deserialize_compatible\tSTRUCT\tarray\tTrue\t2135681.982674\t4807963.882520\t72805.937649 90206.654212 deserialize_compatible\tSTRUCT\tdirectBuffer\tFalse\t1596464.248141\t5149070.657830\t58574.904225 89580.561575 deserialize_compatible\tSTRUCT\tdirectBuffer\tTrue\t1684681.074242\t5137500.621288\t60685.320299 84407.472531 deserialize_compatible\tSTRUCT2\tarray\tFalse\t849507.176263\t1201998.142474\t60602.285743 63703.763814 deserialize_compatible\tSTRUCT2\tarray\tTrue\t815120.319155\t1058423.614156\t62729.908347 69521.573119 deserialize_compatible\tSTRUCT2\tdirectBuffer\tFalse\t784036.589363\t1131212.586953\t54637.329134 69342.030965 deserialize_compatible\tSTRUCT2\tdirectBuffer\tTrue\t782679.662083\t1089162.408165\t51761.569591 68542.055543 deserialize_compatible\tMEDIA_CONTENT\tarray\tFalse\t1441671.706320\t2279742.810882\t180882.860363 121619.090797 deserialize_compatible\tMEDIA_CONTENT\tarray\tTrue\t1121136.039627\t1623938.202345\t154311.211540 119994.104050 deserialize_compatible\tMEDIA_CONTENT\tdirectBuffer\tFalse\t1256034.732514\t1718098.363961\t134485.160300 107594.474890 deserialize_compatible\tMEDIA_CONTENT\tdirectBuffer\tTrue\t1054942.751816\t1333345.536684\t119311.787329 116531.023438 deserialize_compatible\tSAMPLE\tarray\tFalse\t2296046.895861\t2485564.396196\t255086.928308 121898.105768 deserialize_compatible\tSAMPLE\tarray\tTrue\t1834139.395757\t2002938.794909\t238811.995510 121297.485903 deserialize_compatible\tSAMPLE\tdirectBuffer\tFalse\t2308111.633661\t2289261.533644\t201993.787890 124044.417439 deserialize_compatible\tSAMPLE\tdirectBuffer\tTrue\t1820490.585648\t1927548.827586\t174534.710870 120276.449497   ","version":"0.15","tagName":"h3"},{"title":"Java Èõ∂Êã∑Ë¥ù‚Äã","type":1,"pageTitle":"Java Âü∫ÂáÜÊµãËØï","url":"/zh-CN/docs/benchmarks/java/#java-Èõ∂Êã∑Ë¥ù","content":" Benchmark\tarray_size\tbufferType\tdataType\tFory\tKryo\tFstserialize\t200\tarray\tBUFFER\t5123572.914045\t1985187.977633\t2400193.220466 serialize\t200\tarray\tPRIMITIVE_ARRAY\t8297232.942927\t147342.606262\t313986.053417 serialize\t200\tdirectBuffer\tBUFFER\t5400346.890126\t1739454.519770\t2282550.111756 serialize\t200\tdirectBuffer\tPRIMITIVE_ARRAY\t8335248.350301\t972683.763633\t294132.218623 serialize\t1000\tarray\tBUFFER\t4979590.929127\t1616159.671230\t1805557.477810 serialize\t1000\tarray\tPRIMITIVE_ARRAY\t8772856.921028\t31395.721514\t67209.107012 serialize\t1000\tdirectBuffer\tBUFFER\t5376191.775007\t1377272.568510\t1644789.427010 serialize\t1000\tdirectBuffer\tPRIMITIVE_ARRAY\t8207563.785251\t209183.090868\t66108.014322 serialize\t5000\tarray\tBUFFER\t5018916.322770\t711287.533377\t811029.402136 serialize\t5000\tarray\tPRIMITIVE_ARRAY\t8027439.580226\t6248.006967\t14997.400124 serialize\t5000\tdirectBuffer\tBUFFER\t5330897.682960\t707092.956534\t477148.540850 serialize\t5000\tdirectBuffer\tPRIMITIVE_ARRAY\t7695981.988316\t43565.678616\t15000.378818 deserialize\t200\tarray\tBUFFER\t3302149.383135\t1296284.787720\t657754.887247 deserialize\t200\tarray\tPRIMITIVE_ARRAY\t986136.067809\t146675.360652\t219333.990504 deserialize\t200\tdirectBuffer\tBUFFER\t3113115.471758\t1004844.498712\t598421.278941 deserialize\t200\tdirectBuffer\tPRIMITIVE_ARRAY\t991807.969328\t518713.299422\t179604.045774 deserialize\t1000\tarray\tBUFFER\t2831942.848999\t721266.541130\t422147.154601 deserialize\t1000\tarray\tPRIMITIVE_ARRAY\t205671.992736\t30409.835023\t53100.903684 deserialize\t1000\tdirectBuffer\tBUFFER\t3397690.327371\t592972.713203\t298929.116572 deserialize\t1000\tdirectBuffer\tPRIMITIVE_ARRAY\t202275.242341\t112132.004609\t38572.001768 deserialize\t5000\tarray\tBUFFER\t3296658.120035\t147251.846111\t136934.604328 deserialize\t5000\tarray\tPRIMITIVE_ARRAY\t40312.590172\t6122.351228\t10672.872798 deserialize\t5000\tdirectBuffer\tBUFFER\t3284441.570594\t148614.476829\t77950.612503 deserialize\t5000\tdirectBuffer\tPRIMITIVE_ARRAY\t40413.743717\t21826.040410\t8561.694533 ","version":"0.15","tagName":"h3"},{"title":"Â¶Ç‰ΩïÈ™åËØÅ Apache Fory‚Ñ¢","type":0,"sectionRef":"#","url":"/zh-CN/docs/community/how_to_verify","content":"","keywords":"","version":"0.15"},{"title":"‰∏ãËΩΩ Apache Fory‚Ñ¢‚Äã","type":1,"pageTitle":"Â¶Ç‰ΩïÈ™åËØÅ Apache Fory‚Ñ¢","url":"/zh-CN/docs/community/how_to_verify#‰∏ãËΩΩ-apache-fory","content":" # If there is svn locally, you can clone to the local svn co https://dist.apache.org/repos/dist/dev/incubator/fory/${release_version}-${rc_version}/ # You can download the material file directly wget https://dist.apache.org/repos/dist/dev/incubator/fory/${release_version}-${rc_version}/xxx.xxx   ","version":"0.15","tagName":"h2"},{"title":"È™åËØÅ checksums Âíå signatures‚Äã","type":1,"pageTitle":"Â¶Ç‰ΩïÈ™åËØÅ Apache Fory‚Ñ¢","url":"/zh-CN/docs/community/how_to_verify#È™åËØÅ-checksums-Âíå-signatures","content":" È¶ñÂÖàÔºåÊÇ®ÈúÄË¶ÅÂÆâË£Ö gpgÔºö  apt-get install gnupg # or yum install gnupg # or brew install gnupg   ‰πãÂêéÔºåÂØºÂÖ• Apache Fory release manager ÁöÑÂÖ¨Èí•Ôºö  curl https://downloads.apache.org/incubator/fory/KEYS &gt; KEYS # Download KEYS gpg --import KEYS # Import KEYS to local # Then, trust the public key: gpg --edit-key &lt;KEY-used-in-this-version&gt; # Edit the key(mentioned in vote email) # It will enter the interactive mode, use the following command to trust the key: gpg (GnuPG) 2.0.22; Copyright (C) 2013 Free Software Foundation, Inc. This is free software: you are free to change and redistribute it. There is NO WARRANTY, to the extent permitted by law. pub 4096R/5E580BA4 created: 2024-03-27 expires: never usage: SC trust: unknown validity: unknown sub 4096R/A31EF728 created: 2024-03-27 expires: never usage: E [ unknown] (1). chaokunyang (CODE SIGNING KEY) &lt;chaokunyang@apache.org&gt; gpg&gt; trust pub 4096R/5E580BA4 created: 2024-03-27 expires: never usage: SC trust: unknown validity: unknown sub 4096R/A31EF728 created: 2024-03-27 expires: never usage: E [ unknown] (1). chaokunyang (CODE SIGNING KEY) &lt;chaokunyang@apache.org&gt; Please decide how far you trust this user to correctly verify other users' keys (by looking at passports, checking fingerprints from different sources, etc.) 1 = I don't know or won't say 2 = I do NOT trust 3 = I trust marginally 4 = I trust fully 5 = I trust ultimately m = back to the main menu Your decision? 5 Do you really want to set this key to ultimate trust? (y/N) y pub 4096R/5E580BA4 created: 2024-03-27 expires: never usage: SC trust: ultimate validity: unknown sub 4096R/A31EF728 created: 2024-03-27 expires: never usage: E [ unknown] (1). chaokunyang (CODE SIGNING KEY) &lt;chaokunyang@apache.org&gt; Please note that the shown key validity is not necessarily correct unless you restart the program.   Êé•‰∏ãÊù•È™åËØÅÁ≠æÂêçÔºö  for i in *.tar.gz; do echo $i; gpg --verify $i.asc $i; done   Â¶ÇÊûúÂá∫Áé∞Â¶Ç‰∏ãÂÜÖÂÆπÔºåÂàôË°®Á§∫Á≠æÂêçÊ≠£Á°ÆÔºö  apache-fory-0.5.0-src.tar.gz gpg: Signature made Wed 17 Apr 2024 11:49:45 PM CST using RSA key ID 5E580BA4 gpg: checking the trustdb gpg: 3 marginal(s) needed, 1 complete(s) needed, PGP trust model gpg: depth: 0 valid: 1 signed: 0 trust: 0-, 0q, 0n, 0m, 0f, 1u gpg: Good signature from &quot;chaokunyang (CODE SIGNING KEY) &lt;chaokunyang@apache.org&gt;&quot;   ÁÑ∂ÂêéÈ™åËØÅ checksumÔºö  for i in *.tar.gz; do echo $i; sha512sum --check $i.sha512; done   ÂÆÉÂ∫îËØ•ËæìÂá∫Â¶Ç‰∏ãÂÜÖÂÆπÔºö  apache-fory-0.12.0-src.tar.gz apache-fory-0.12.0-src.tar.gz: OK   ","version":"0.15","tagName":"h2"},{"title":"Ê£ÄÊü•Ê∫êÁ†ÅÂåÖ‰∏≠ÁöÑÊñá‰ª∂‚Äã","type":1,"pageTitle":"Â¶Ç‰ΩïÈ™åËØÅ Apache Fory‚Ñ¢","url":"/zh-CN/docs/community/how_to_verify#Ê£ÄÊü•Ê∫êÁ†ÅÂåÖ‰∏≠ÁöÑÊñá‰ª∂","content":" Ëß£ÂéãÁº© apache-fory-${release_version}-${rc_version}-src.tar.gz Âπ∂Ê£ÄÊü•‰ª•‰∏ãÂÜÖÂÆπÔºö  Ê≠§Â≠òÂÇ®Â∫ì LICENSE Âíå NOTICE Êñá‰ª∂ÊòØÊ≠£Á°ÆÁöÑÔºõÂ¶ÇÊúâÂøÖË¶ÅÔºåÊâÄÊúâÊñá‰ª∂ÈÉΩÊúâ ASF ËÆ∏ÂèØËØÅÊ†áÂ§¥ÔºõÈ°πÁõÆÊûÑÂª∫ÈÄöËøá„ÄÇ  ","version":"0.15","tagName":"h2"},{"title":"Ê£ÄÊü• fory-java ÁöÑ Maven artifacts‚Äã","type":1,"pageTitle":"Â¶Ç‰ΩïÈ™åËØÅ Apache Fory‚Ñ¢","url":"/zh-CN/docs/community/how_to_verify#Ê£ÄÊü•-fory-java-ÁöÑ-maven-artifacts","content":" ‰∏ãËΩΩ Apache Fory‚Ñ¢Ôºöhttps://repository.apache.org/content/repositories/orgapachefory-${maven_artifact_number}/.  ÊÇ®ÂèØ‰ª•Ê£ÄÊü•‰ª•‰∏ãÂÜÖÂÆπÔºö  JAR ÁöÑ Checksum ‰∏éÈ°πÁõÆÁªëÂÆöÁöÑ checksum Êñá‰ª∂‰∏ÄËá¥„ÄÇJAR ÁöÑ signature ‰∏éÈ°πÁõÆÁªëÂÆöÁöÑ signature Êñá‰ª∂‰∏ÄËá¥„ÄÇJAR Âú®Êú¨Âú∞ÊòØÂèØÈáçÂ§çÁöÑ„ÄÇËøôÊÑèÂë≥ÁùÄÊÇ®ÂèØ‰ª•Âú®ËÆ°ÁÆóÊú∫‰∏äÊûÑÂª∫ JARÔºåÂπ∂È™åËØÅ checksum Âíå‰∏éÈ°πÁõÆÁªëÂÆöÁöÑÁõ∏Âêå„ÄÇ ","version":"0.15","tagName":"h2"},{"title":"Ê¶ÇËßà","type":0,"sectionRef":"#","url":"/zh-CN/docs/compiler/","content":"","keywords":"","version":"0.15"},{"title":"Á§∫‰æã Schema‚Äã","type":1,"pageTitle":"Ê¶ÇËßà","url":"/zh-CN/docs/compiler/#Á§∫‰æã-schema","content":" Fory IDL Êèê‰æõ‰∫ÜÁÆÄÂçïÁõ¥ËßÇÁöÑËØ≠Ê≥ïÊù•ÂÆö‰πâË∑®ËØ≠Ë®ÄÊï∞ÊçÆÁªìÊûÑÔºö  package example; enum Status { PENDING = 0; ACTIVE = 1; COMPLETED = 2; } message User { string name = 1; int32 age = 2; optional string email = 3; list&lt;string&gt; tags = 4; } message Item { string sku = 1; int32 quantity = 2; } message Order { ref User customer = 1; list&lt;Item&gt; items = 2; Status status = 3; map&lt;string, int32&gt; metadata = 4; } message Dog [id=104] { string name = 1; int32 bark_volume = 2; } message Cat [id=105] { string name = 1; int32 lives = 2; } union Animal [id=106] { Dog dog = 1; Cat cat = 2; }   ","version":"0.15","tagName":"h2"},{"title":"‰∏∫‰ªÄ‰πàÈÄâÊã© Fory IDLÔºü‚Äã","type":1,"pageTitle":"Ê¶ÇËßà","url":"/zh-CN/docs/compiler/#‰∏∫‰ªÄ‰πàÈÄâÊã©-fory-idl","content":" ","version":"0.15","tagName":"h2"},{"title":"Schema ‰ºòÂÖàÂºÄÂèë‚Äã","type":1,"pageTitle":"Ê¶ÇËßà","url":"/zh-CN/docs/compiler/#schema-‰ºòÂÖàÂºÄÂèë","content":" Âú® Fory IDL ‰∏≠‰∏ÄÊ¨°ÂÆö‰πâÊï∞ÊçÆÊ®°ÂûãÔºåÂç≥ÂèØÂú®ÊâÄÊúâËØ≠Ë®Ä‰∏≠ÁîüÊàê‰∏ÄËá¥‰∏îÁ±ªÂûãÂÆâÂÖ®ÁöÑ‰ª£Á†Å„ÄÇËøôÊ†∑ÂèØ‰ª•Á°Æ‰øùÔºö  Á±ªÂûãÂÆâÂÖ®ÔºöÂú®ÁºñËØëÊúüËÄå‰∏çÊòØËøêË°åÊúüÂèëÁé∞Á±ªÂûãÈîôËØØ‰∏ÄËá¥ÊÄßÔºöÂêÑËØ≠Ë®Ä‰ΩøÁî®Áõ∏ÂêåÂ≠óÊÆµÂêç„ÄÅÁ±ªÂûãÂíåÁªìÊûÑÊñáÊ°£ÊÄßÔºöSchema Êú¨Ë∫´Â∞±ÊòØÂèØÊåÅÁª≠ÊºîËøõÁöÑÊñáÊ°£ÂèØÊºîËøõÊÄßÔºöÂèØÂú®ÊâÄÊúâÂÆûÁé∞‰∏≠ÂèóÊéßÂú∞ËøõË°å Schema ÂèòÊõ¥  ","version":"0.15","tagName":"h3"},{"title":"Fory ÂéüÁîüËÉΩÂäõ‚Äã","type":1,"pageTitle":"Ê¶ÇËßà","url":"/zh-CN/docs/compiler/#fory-ÂéüÁîüËÉΩÂäõ","content":" ‰∏éÈÄöÁî® IDL ‰∏çÂêåÔºåFory IDL ‰∏ìÈó®‰∏∫ Fory Â∫èÂàóÂåñËÆæËÆ°Ôºö  ÂºïÁî®Ë∑üË∏™ÔºöÈÄöËøá ref ‰∏ÄÁ≠âÊîØÊåÅÂÖ±‰∫´ÂºïÁî®ÂíåÂæ™ÁéØÂºïÁî®ÂèØÁ©∫Â≠óÊÆµÔºöÈÄöËøá optional ÊòæÂºèÂ£∞ÊòéÂèØÁ©∫Á±ªÂûãÁ±ªÂûãÊ≥®ÂÜåÔºöÂÜÖÁΩÆÊîØÊåÅÊï∞ÂÄº ID ‰∏éÂü∫‰∫éÂëΩÂêçÁ©∫Èó¥ÁöÑÊ≥®ÂÜåÂéüÁîü‰ª£Á†ÅÁîüÊàêÔºöÁîüÊàêÂ∏¶ Fory Ê≥®Ëß£/ÂÆèÁöÑËØ≠Ë®ÄÊÉØÁî®‰ª£Á†Å  ","version":"0.15","tagName":"h3"},{"title":"ÈõÜÊàêÂºÄÈîÄ‰Ωé‚Äã","type":1,"pageTitle":"Ê¶ÇËßà","url":"/zh-CN/docs/compiler/#ÈõÜÊàêÂºÄÈîÄ‰Ωé","content":" ÁîüÊàê‰ª£Á†ÅÁõ¥Êé•‰ΩøÁî®ÂêÑËØ≠Ë®ÄÂéüÁîüÊûÑÈÄ†Ôºö  JavaÔºöÂ∏¶ @ForyField Ê≥®Ëß£ÁöÑÊôÆÈÄö POJOPythonÔºöÂ∏¶Á±ªÂûãÊèêÁ§∫ÁöÑ dataclassGoÔºöÂ∏¶ struct tag ÁöÑÁªìÊûÑ‰ΩìRustÔºöÂ∏¶ #[derive(ForyObject)] ÁöÑÁªìÊûÑ‰ΩìC++ÔºöÂ∏¶ FORY_STRUCT ÂÆèÁöÑÁªìÊûÑ‰Ωì  ","version":"0.15","tagName":"h3"},{"title":"Âø´ÈÄüÂºÄÂßã‚Äã","type":1,"pageTitle":"Ê¶ÇËßà","url":"/zh-CN/docs/compiler/#Âø´ÈÄüÂºÄÂßã","content":" ","version":"0.15","tagName":"h2"},{"title":"1. ÂÆâË£ÖÁºñËØëÂô®‚Äã","type":1,"pageTitle":"Ê¶ÇËßà","url":"/zh-CN/docs/compiler/#1-ÂÆâË£ÖÁºñËØëÂô®","content":" pip install fory-compiler   Êàñ‰ªéÊ∫êÁ†ÅÂÆâË£ÖÔºö  cd compiler pip install -e .   ","version":"0.15","tagName":"h3"},{"title":"2. ÁºñÂÜô Schema‚Äã","type":1,"pageTitle":"Ê¶ÇËßà","url":"/zh-CN/docs/compiler/#2-ÁºñÂÜô-schema","content":" ÂàõÂª∫ example.fdlÔºö  package example; message Person { string name = 1; int32 age = 2; optional string email = 3; }   ","version":"0.15","tagName":"h3"},{"title":"3. ÁîüÊàê‰ª£Á†Å‚Äã","type":1,"pageTitle":"Ê¶ÇËßà","url":"/zh-CN/docs/compiler/#3-ÁîüÊàê‰ª£Á†Å","content":" # ‰∏∫ÊâÄÊúâËØ≠Ë®ÄÁîüÊàê foryc example.fdl --output ./generated # ‰∏∫ÊåáÂÆöËØ≠Ë®ÄÁîüÊàê foryc example.fdl --lang java,python --output ./generated   ","version":"0.15","tagName":"h3"},{"title":"4. ‰ΩøÁî®ÁîüÊàê‰ª£Á†Å‚Äã","type":1,"pageTitle":"Ê¶ÇËßà","url":"/zh-CN/docs/compiler/#4-‰ΩøÁî®ÁîüÊàê‰ª£Á†Å","content":" JavaÔºö  Person person = new Person(); person.setName(&quot;Alice&quot;); person.setAge(30); byte[] data = person.toBytes();   PythonÔºö  import pyfory from example import Person person = Person(name=&quot;Alice&quot;, age=30) data = bytes(person) # Êàñ `person.to_bytes()`   ","version":"0.15","tagName":"h3"},{"title":"ÊñáÊ°£ÂØºËà™‚Äã","type":1,"pageTitle":"Ê¶ÇËßà","url":"/zh-CN/docs/compiler/#ÊñáÊ°£ÂØºËà™","content":" ÊñáÊ°£\tËØ¥ÊòéFory IDL ËØ≠Ê≥ï\tÂÆåÊï¥ËØ≠Ë®ÄËØ≠Ê≥ï‰∏éÊñáÊ≥ï Á±ªÂûãÁ≥ªÁªü\tÂü∫Á°ÄÁ±ªÂûã„ÄÅÈõÜÂêàÁ±ªÂûã‰∏éÁ±ªÂûãËßÑÂàô ÁºñËØëÂô®ÊåáÂçó\tCLI ÈÄâÈ°π‰∏éÊûÑÂª∫ÈõÜÊàê ÁîüÊàê‰ª£Á†Å\tÂêÑÁõÆÊ†áËØ≠Ë®ÄÁöÑËæìÂá∫Ê†ºÂºè Protocol Buffers IDL ÊîØÊåÅ\t‰∏é protobuf ÁöÑÂØπÊØîÂèäËøÅÁßªÊåáÂçó FlatBuffers IDL ÊîØÊåÅ\tFlatBuffers Êò†Â∞ÑËßÑÂàô‰∏é‰ª£Á†ÅÁîüÊàêÂ∑ÆÂºÇ  ","version":"0.15","tagName":"h2"},{"title":"Ê†∏ÂøÉÊ¶ÇÂøµ‚Äã","type":1,"pageTitle":"Ê¶ÇËßà","url":"/zh-CN/docs/compiler/#Ê†∏ÂøÉÊ¶ÇÂøµ","content":" ","version":"0.15","tagName":"h2"},{"title":"Â≠óÊÆµ‰øÆÈ•∞Á¨¶‚Äã","type":1,"pageTitle":"Ê¶ÇËßà","url":"/zh-CN/docs/compiler/#Â≠óÊÆµ‰øÆÈ•∞Á¨¶","content":" optionalÔºöÂ≠óÊÆµÂèØ‰∏∫ null/NonerefÔºö‰∏∫ÂÖ±‰∫´/Âæ™ÁéØÂºïÁî®ÂêØÁî®ÂºïÁî®Ë∑üË∏™listÔºöÂ≠óÊÆµ‰∏∫ÂàóË°®/Êï∞ÁªÑÔºàÂà´ÂêçÔºörepeatedÔºâ  message Example { optional string nullable = 1; ref Node parent = 2; list&lt;int32&gt; numbers = 3; }   ","version":"0.15","tagName":"h3"},{"title":"Ë∑®ËØ≠Ë®ÄÂÖºÂÆπ‚Äã","type":1,"pageTitle":"Ê¶ÇËßà","url":"/zh-CN/docs/compiler/#Ë∑®ËØ≠Ë®ÄÂÖºÂÆπ","content":" Fory IDL Á±ªÂûã‰ºöÊò†Â∞Ñ‰∏∫ÂêÑËØ≠Ë®ÄÂéüÁîüÁ±ªÂûãÔºö  Fory IDL Á±ªÂûã\tJava\tPython\tGo\tRust\tC++int32\tint\tpyfory.int32\tint32\ti32\tint32_t string\tString\tstr\tstring\tString\tstd::string bool\tboolean\tbool\tbool\tbool\tbool  ÂÆåÊï¥Êò†Â∞ÑËØ∑ÂèÇËßÅ Á±ªÂûãÁ≥ªÁªü„ÄÇ  ","version":"0.15","tagName":"h3"},{"title":"ÊúÄ‰Ω≥ÂÆûË∑µ‚Äã","type":1,"pageTitle":"Ê¶ÇËßà","url":"/zh-CN/docs/compiler/#ÊúÄ‰Ω≥ÂÆûË∑µ","content":" ‰ΩøÁî®ÊúâÊÑè‰πâÁöÑ package ÂêçÁß∞ÔºöÂ∞ÜÁõ∏ÂÖ≥Á±ªÂûãÂàÜÁªÑÁÆ°ÁêÜ‰∏∫ÊÄßËÉΩÂàÜÈÖçÁ±ªÂûã IDÔºöÊï∞ÂÄº ID ÊØîÂü∫‰∫éÂêçÁß∞ÁöÑÊ≥®ÂÜåÊõ¥È´òÊïàÈ¢ÑÁïô ID ËåÉÂõ¥Ôºö‰∏∫ÂêéÁª≠Êâ©Â±ï‰øùÁïôÁ©∫ÈöôÔºà‰æãÂ¶ÇÁî®Êà∑ 100-199ÔºåËÆ¢Âçï 200-299ÔºâÊòæÂºè‰ΩøÁî® optionalÔºöÊ∏ÖÊô∞Ë°®ËææÂèØÁ©∫ËØ≠‰πâÂÖ±‰∫´ÂØπË±°‰ΩøÁî® refÔºöÂØπË±°ÂèØËÉΩË¢´Â§öÂ§ÑÂºïÁî®Êó∂ÂºÄÂêØÂºïÁî®Ë∑üË∏™  ","version":"0.15","tagName":"h2"},{"title":"Á§∫‰æã‚Äã","type":1,"pageTitle":"Ê¶ÇËßà","url":"/zh-CN/docs/compiler/#Á§∫‰æã","content":" ÂÆåÊï¥ÂèØËøêË°åÁ§∫‰æãËßÅ examples ÁõÆÂΩï„ÄÇ ","version":"0.15","tagName":"h2"},{"title":"FlatBuffers IDL ÊîØÊåÅ","type":0,"sectionRef":"#","url":"/zh-CN/docs/compiler/flatbuffers_idl","content":"","keywords":"","version":"0.15"},{"title":"Êú¨È°µÂÜÖÂÆπ‚Äã","type":1,"pageTitle":"FlatBuffers IDL ÊîØÊåÅ","url":"/zh-CN/docs/compiler/flatbuffers_idl#Êú¨È°µÂÜÖÂÆπ","content":" ‰ΩïÊó∂Â∫îÂú® Fory ‰∏≠‰ΩøÁî® FlatBuffers ËæìÂÖ•FlatBuffers Âà∞ Fory ÁöÑÁ≤æÁ°ÆÊò†Â∞ÑË°å‰∏∫.fbs ‰∏≠ÊîØÊåÅÁöÑ Fory Êâ©Â±ïÂ±ûÊÄßËøÅÁßªÊ≥®ÊÑè‰∫ãÈ°π‰∏éÁîüÊàê‰ª£Á†ÅÂ∑ÆÂºÇ  ","version":"0.15","tagName":"h2"},{"title":"‰∏∫‰ªÄ‰πà‰ΩøÁî® Apache Fory‚Äã","type":1,"pageTitle":"FlatBuffers IDL ÊîØÊåÅ","url":"/zh-CN/docs/compiler/flatbuffers_idl#‰∏∫‰ªÄ‰πà‰ΩøÁî®-apache-fory","content":" ÁîüÊàê‰ª£Á†ÅÊõ¥Á¨¶ÂêàËØ≠Ë®Ä‰π†ÊÉØÔºöFory ‰ºöÁîüÊàêÂêÑËØ≠Ë®ÄÂ∏∏Áî®È£éÊ†ºÁöÑÁ±ª/ÁªìÊûÑ‰ΩìÔºåÂèØÁõ¥Êé•‰Ωú‰∏∫È¢ÜÂüüÂØπË±°‰ΩøÁî®„ÄÇJava ÊÄßËÉΩÊõ¥‰ºòÔºöÂú® Fory ÁöÑ Java ÂØπË±°Â∫èÂàóÂåñÂü∫ÂáÜ‰∏≠ÔºåFory ÈÄöÂ∏∏Âø´‰∫é FlatBuffers„ÄÇÂÖ∂‰ªñËØ≠Ë®ÄÊÄßËÉΩÁõ∏ËøëÔºöÂ∫èÂàóÂåñÊÄßËÉΩÈÄöÂ∏∏Â§Ñ‰∫éÂêå‰∏ÄÈáèÁ∫ß„ÄÇÂÆûÈôÖÂèçÂ∫èÂàóÂåñÈìæË∑ØÊõ¥È´òÊïàÔºöFlatBuffers ÈªòËÆ§Âπ∂‰∏çÂÅöÂéüÁîüÂØπË±°ÂèçÂ∫èÂàóÂåñÔºåÂõ†Ê≠§ÁúãËµ∑Êù•Êõ¥Âø´Ôºõ‰ΩÜÂΩì‰∏öÂä°ÈúÄË¶ÅÂéüÁîüÂØπË±°Êó∂ÔºåËøòÈúÄÈ¢ùÂ§ñËΩ¨Êç¢ÔºåËøô‰∏ÄÊ≠•ÂæÄÂæÄÊàê‰∏∫‰∏ªË¶ÅÂºÄÈîÄ„ÄÇÂú®ËøôÁßçÂú∫ÊôØ‰∏ãÔºåFory Á´ØÂà∞Á´ØÂèçÂ∫èÂàóÂåñÈÄöÂ∏∏Êõ¥Âø´„ÄÇAPI Êõ¥ÁÆÄÂçïÔºöFory Áõ¥Êé•Êìç‰ΩúÂéüÁîüÂØπË±°ÔºåÊó†ÈúÄÂèçÂêëÊûÑÂª∫ table ÊàñÊâãÂä®ÁÆ°ÁêÜ offset„ÄÇÂØπË±°ÂõæÂª∫Ê®°ËÉΩÂäõÊõ¥Âº∫ÔºöFory ÂéüÁîüÊîØÊåÅÂÖ±‰∫´ÂºïÁî®ÂíåÂæ™ÁéØÂºïÁî®„ÄÇ  ","version":"0.15","tagName":"h2"},{"title":"Âø´ÈÄüÂÜ≥Á≠ñÊåáÂçó‚Äã","type":1,"pageTitle":"FlatBuffers IDL ÊîØÊåÅ","url":"/zh-CN/docs/compiler/flatbuffers_idl#Âø´ÈÄüÂÜ≥Á≠ñÊåáÂçó","content":" Âú∫ÊôØ\tÂª∫ËÆÆË∑ØÂæÑÂ∑≤Êúâ .fbs schemaÔºåÊÉ≥Êé•ÂÖ• Fory ËøêË°åÊó∂/‰ª£Á†ÅÁîüÊàê\t‰ΩøÁî® FlatBuffers ËæìÂÖ• Êñ∞Âª∫ schemaÔºåÂ∏åÊúõÂÆåÊï¥‰ΩøÁî® Fory ËØ≠Ê≥ïËÉΩÂäõ\t‰ΩøÁî®ÂéüÁîü Fory IDL ËøêË°åÊó∂ÂøÖÈ°ª‰øùÊåÅ FlatBuffers Á∫øÊ†ºÂºèÂÖºÂÆπ\tÁªßÁª≠‰ΩøÁî® FlatBuffers Ê†à ÈúÄË¶Å Fory ÂØπË±°ÂõæËØ≠‰πâÔºàref„ÄÅÂº±ÂºïÁî®Á≠âÔºâ\t‰ΩøÁî® Fory  ","version":"0.15","tagName":"h2"},{"title":"FlatBuffers Âà∞ Fory ÁöÑÊò†Â∞Ñ‚Äã","type":1,"pageTitle":"FlatBuffers IDL ÊîØÊåÅ","url":"/zh-CN/docs/compiler/flatbuffers_idl#flatbuffers-Âà∞-fory-ÁöÑÊò†Â∞Ñ","content":" ","version":"0.15","tagName":"h2"},{"title":"Schema Á∫ßËßÑÂàô‚Äã","type":1,"pageTitle":"FlatBuffers IDL ÊîØÊåÅ","url":"/zh-CN/docs/compiler/flatbuffers_idl#schema-Á∫ßËßÑÂàô","content":" namespace Êò†Â∞Ñ‰∏∫ Fory package ÂëΩÂêçÁ©∫Èó¥„ÄÇinclude Êò†Â∞Ñ‰∏∫ Fory import„ÄÇtable ‰ºöË¢´ÁøªËØë‰∏∫ evolving=true„ÄÇstruct ‰ºöË¢´ÁøªËØë‰∏∫ evolving=false„ÄÇroot_type ‰ºöË¢´Ëß£ÊûêÔºå‰ΩÜ Fory ËøêË°åÊó∂/‰ª£Á†ÅÁîüÊàê‰∏ç‰ºö‰ΩøÁî®„ÄÇfile_identifier ‰∏é file_extension ‰ºöË¢´Ëß£ÊûêÔºå‰ΩÜ Fory ‰ª£Á†ÅÁîüÊàê‰∏ç‰ºö‰ΩøÁî®„ÄÇ  ","version":"0.15","tagName":"h3"},{"title":"Â≠óÊÆµÁºñÂè∑‚Äã","type":1,"pageTitle":"FlatBuffers IDL ÊîØÊåÅ","url":"/zh-CN/docs/compiler/flatbuffers_idl#Â≠óÊÆµÁºñÂè∑","content":" FlatBuffers Â≠óÊÆµÊ≤°ÊúâÊòæÂºè field ID„ÄÇFory ‰ºöÊåâÊ∫êÁ†ÅÂ£∞ÊòéÈ°∫Â∫èÂàÜÈÖçÂ≠óÊÆµÂè∑Ôºå‰ªé 1 ÂºÄÂßã„ÄÇ  ","version":"0.15","tagName":"h3"},{"title":"Ê†áÈáèÁ±ªÂûãÊò†Â∞Ñ‚Äã","type":1,"pageTitle":"FlatBuffers IDL ÊîØÊåÅ","url":"/zh-CN/docs/compiler/flatbuffers_idl#Ê†áÈáèÁ±ªÂûãÊò†Â∞Ñ","content":" FlatBuffers\tFory Typebyte\tint8 ubyte\tuint8 short\tint16 ushort\tuint16 int\tint32 uint\tuint32 long\tint64 ulong\tuint64 float\tfloat32 double\tfloat64 bool\tbool string\tstring  ÂêëÈáèÔºà[T]ÔºâÊò†Â∞Ñ‰∏∫ Fory ÂàóË°®Á±ªÂûã„ÄÇ  ","version":"0.15","tagName":"h3"},{"title":"ËÅîÂêàÁ±ªÂûã‚Äã","type":1,"pageTitle":"FlatBuffers IDL ÊîØÊåÅ","url":"/zh-CN/docs/compiler/flatbuffers_idl#ËÅîÂêàÁ±ªÂûã","content":" FlatBuffers union Êò†Â∞Ñ‰∏∫ Fory union„ÄÇ  case ID ÊåâÂ£∞ÊòéÈ°∫Â∫èÂàÜÈÖçÔºå‰ªé 1 ÂºÄÂßã„ÄÇcase ÂêçÁß∞Áî±Á±ªÂûãÂêçËΩ¨Êç¢‰∏∫ snake_case Â≠óÊÆµÂêç„ÄÇ  FlatBuffers  union Payload { Note, Metric } table Container { payload: Payload; }   ËΩ¨Êç¢ÂêéÁöÑ Fory ÁªìÊûÑ  union Payload { Note note = 1; Metric metric = 2; } message Container { Payload payload = 1; }   ","version":"0.15","tagName":"h3"},{"title":"ÈªòËÆ§ÂÄº‰∏éÂÖÉÊï∞ÊçÆ‚Äã","type":1,"pageTitle":"FlatBuffers IDL ÊîØÊåÅ","url":"/zh-CN/docs/compiler/flatbuffers_idl#ÈªòËÆ§ÂÄº‰∏éÂÖÉÊï∞ÊçÆ","content":" FlatBuffers ÈªòËÆ§ÂÄº‰ºöË¢´Ëß£ÊûêÔºå‰ΩÜ‰∏ç‰ºö‰Ωú‰∏∫ Fory ËøêË°åÊó∂ÈªòËÆ§ÂÄºÁîüÊïà„ÄÇÈùû Fory ÁöÑ metadata Â±ûÊÄß‰ºö‰Ωú‰∏∫ÈÄöÁî® option ‰øùÁïôÂú® IR ‰∏≠Ôºå‰æõ‰∏ãÊ∏∏Â∑•ÂÖ∑ÊåâÈúÄÊ∂àË¥π„ÄÇ  ","version":"0.15","tagName":"h3"},{"title":"FlatBuffers ‰∏≠ÁöÑ Fory Êâ©Â±ïÂ±ûÊÄß‚Äã","type":1,"pageTitle":"FlatBuffers IDL ÊîØÊåÅ","url":"/zh-CN/docs/compiler/flatbuffers_idl#flatbuffers-‰∏≠ÁöÑ-fory-Êâ©Â±ïÂ±ûÊÄß","content":" FlatBuffers metadata Â±ûÊÄßÂÜôÊ≥ï‰∏∫ key:value„ÄÇÂØπ‰∫é Fory Êâ©Â±ïÈÄâÈ°πÔºåÂú® .fbs ‰∏≠‰ΩøÁî® fory_ÔºàÊàñ fory.ÔºâÂâçÁºÄÔºõËß£ÊûêÊó∂‰ºöÂéªÊéâËØ•ÂâçÁºÄ„ÄÇ  ","version":"0.15","tagName":"h2"},{"title":"ÊîØÊåÅÁöÑÂ≠óÊÆµÂ±ûÊÄß‚Äã","type":1,"pageTitle":"FlatBuffers IDL ÊîØÊåÅ","url":"/zh-CN/docs/compiler/flatbuffers_idl#ÊîØÊåÅÁöÑÂ≠óÊÆµÂ±ûÊÄß","content":" FlatBuffers Attribute\tÂú® Fory ‰∏≠ÁöÑÊïàÊûúfory_ref:true\t‰∏∫Â≠óÊÆµÂêØÁî®ÂºïÁî®Ë∑üË∏™ fory_nullable:true\tÂ∞ÜÂ≠óÊÆµÊ†áËÆ∞‰∏∫ optional/nullable fory_weak_ref:true\tÂêØÁî®Âº±ÂºïÁî®ËØ≠‰πâÔºåÂπ∂ÈöêÂê´ÂºÄÂêØ ref fory_thread_safe_pointer:false\tÂØπ ref Â≠óÊÆµÈÄâÊã©ÈùûÁ∫øÁ®ãÂÆâÂÖ®ÊåáÈíàÁ±ªÂûã  ËØ≠‰πâËØ¥ÊòéÔºö  fory_weak_ref:true ÈöêÂê´ ref„ÄÇfory_thread_safe_pointer ‰ªÖÂú®Â≠óÊÆµÂêØÁî® ref Ë∑üË∏™Êó∂ÁîüÊïà„ÄÇÂØπÂàóË°®Â≠óÊÆµÔºåfory_ref:true ‰ΩúÁî®‰∫éÂàóË°®ÂÖÉÁ¥†„ÄÇ  Á§∫‰æãÔºö  table Node { parent: Node (fory_weak_ref: true); children: [Node] (fory_ref: true); cached: Node (fory_ref: true, fory_thread_safe_pointer: false); }   ","version":"0.15","tagName":"h3"},{"title":"ÁîüÊàê‰ª£Á†ÅÂ∑ÆÂºÇ‚Äã","type":1,"pageTitle":"FlatBuffers IDL ÊîØÊåÅ","url":"/zh-CN/docs/compiler/flatbuffers_idl#ÁîüÊàê‰ª£Á†ÅÂ∑ÆÂºÇ","content":" Âç≥‰ΩøÁî® .fbs ‰Ωú‰∏∫ Fory ËæìÂÖ•ÔºåÁîüÊàêÁöÑ‰æùÁÑ∂ÊòØÊ†áÂáÜ Fory ‰ª£Á†ÅÔºåËÄå‰∏çÊòØ FlatBuffers ÁöÑ ByteBuffer È£éÊ†º API„ÄÇ  JavaÔºöÂ∏¶ Fory ÂÖÉÊï∞ÊçÆÁöÑ POJO/recordPythonÔºödataclass ‰∏éÊ≥®ÂÜåËæÖÂä©‰ª£Á†ÅGo/Rust/C++ÔºöÂéüÁîüÁªìÊûÑ‰Ωì‰∏é Fory ÂÖÉÊï∞ÊçÆ  ÊúÄÁªàÂ∫èÂàóÂåñÊ†ºÂºèÊòØ Fory ‰∫åËøõÂà∂ÂçèËÆÆÔºåËÄå‰∏çÊòØ FlatBuffers Á∫øÊ†ºÂºè„ÄÇ  ","version":"0.15","tagName":"h2"},{"title":"Áî®Ê≥ï‚Äã","type":1,"pageTitle":"FlatBuffers IDL ÊîØÊåÅ","url":"/zh-CN/docs/compiler/flatbuffers_idl#Áî®Ê≥ï","content":" Áõ¥Êé•ÁºñËØë FlatBuffers schemaÔºö  foryc schema.fbs --lang java,python --output ./generated   ËæìÂá∫ËΩ¨Êç¢ÂêéÁöÑ Fory schema ËØ≠Ê≥ï‰ª•‰æøË∞ÉËØïÔºö  foryc schema.fbs --emit-fdl --emit-fdl-path ./translated   ","version":"0.15","tagName":"h2"},{"title":"ËøÅÁßªÊ≥®ÊÑè‰∫ãÈ°π‚Äã","type":1,"pageTitle":"FlatBuffers IDL ÊîØÊåÅ","url":"/zh-CN/docs/compiler/flatbuffers_idl#ËøÅÁßªÊ≥®ÊÑè‰∫ãÈ°π","content":" ‰øùÊåÅÁé∞Êúâ namespace Á®≥ÂÆöÔºå‰ª•‰øùËØÅÁ±ªÂûãÊ≥®ÂÜåÁ®≥ÂÆö„ÄÇÊ£ÄÊü•‰æùËµñ FlatBuffers Â≠óÈù¢ÈáèÈªòËÆ§ÂÄºÁöÑÂ≠óÊÆµÔºåÂπ∂Âú®‰∏öÂä°‰ª£Á†Å‰∏≠Ë°•ÂÖÖÊòæÂºèÈªòËÆ§ÂÄº„ÄÇÂú®ÈúÄË¶ÅÂØπË±°ÂõæËØ≠‰πâÁöÑÂ≠óÊÆµ‰∏äÊ∑ªÂä† fory_ref/fory_weak_ref„ÄÇÊõøÊç¢Áé∞ÊúâÂ∫èÂàóÂåñË∑ØÂæÑÂâçÔºåÂÖàÁî® roundtrip ÊµãËØïÈ™åËØÅÁîüÊàêÊ®°ÂûãË°å‰∏∫„ÄÇ  ","version":"0.15","tagName":"h2"},{"title":"ÊÄªÁªì‚Äã","type":1,"pageTitle":"FlatBuffers IDL ÊîØÊåÅ","url":"/zh-CN/docs/compiler/flatbuffers_idl#ÊÄªÁªì","content":" FlatBuffers ËæìÂÖ•Ê®°ÂºèÂèØËÆ©‰Ω†Â§çÁî®Áé∞Êúâ .fbs schemaÔºåÂêåÊó∂ËøÅÁßªÂà∞ Fory ËøêË°åÊó∂‰∏é‰ª£Á†ÅÁîüÊàêÊ®°Âûã„ÄÇÂÆÉÈÄÇÂêàÊ∏êËøõÂºèËøÅÁßªÂú∫ÊôØÔºöÊó¢‰øùÁïôÊó¢Êúâ schema ÊäïÂÖ•ÔºåÂèàËÉΩÈááÁî® Fory ÂéüÁîüÂØπË±° API„ÄÇ ","version":"0.15","tagName":"h2"},{"title":"Â¶Ç‰ΩïÂèëÂ∏É","type":0,"sectionRef":"#","url":"/zh-CN/docs/community/how_to_release","content":"","keywords":"","version":"0.15"},{"title":"‰ªãÁªç‚Äã","type":1,"pageTitle":"Â¶Ç‰ΩïÂèëÂ∏É","url":"/zh-CN/docs/community/how_to_release#‰ªãÁªç","content":" Ê∫ê‰ª£Á†ÅÂèëÂ∏ÉÊòØ Apache ÊúÄÈáçËßÜ‰ª•ÂèäÊúÄÈáçË¶ÅÁöÑÈÉ®ÂàÜ„ÄÇ  ËØ∑Ê≥®ÊÑèËÆ∏ÂèØËØÅÂíåÂèëÂ∏ÉÁöÑËΩØ‰ª∂Á≠æÂêçÈóÆÈ¢ò„ÄÇÂèëÂ∏ÉËΩØ‰ª∂ÊòØ‰∏Ä‰ª∂‰∏•ËÇÉÁöÑ‰∫ãÊÉÖÔºåÂπ∂‰ºö‰∫ßÁîüÁõ∏Â∫îÁöÑÊ≥ïÂæãÂêéÊûú„ÄÇ  ","version":"0.15","tagName":"h2"},{"title":"release manager Á¨¨‰∏ÄÊ¨°ÂèëÂ∏É‚Äã","type":1,"pageTitle":"Â¶Ç‰ΩïÂèëÂ∏É","url":"/zh-CN/docs/community/how_to_release#release-manager-Á¨¨‰∏ÄÊ¨°ÂèëÂ∏É","content":" ","version":"0.15","tagName":"h2"},{"title":"ÁéØÂ¢ÉË¶ÅÊ±Ç‚Äã","type":1,"pageTitle":"Â¶Ç‰ΩïÂèëÂ∏É","url":"/zh-CN/docs/community/how_to_release#ÁéØÂ¢ÉË¶ÅÊ±Ç","content":" Ê≠§ÂèëÂ∏ÉËøáÁ®ãÂú® Ubuntu Á≥ªÁªü‰∏≠ËøêË°åÔºåÈúÄË¶Å‰ª•‰∏ãÂá†‰∏™ÁéØÂ¢É‰æùËµñÔºö  JDK 1.8+Apache Maven 3.x+Python 3.8GnuPG 2.xGitSVNÔºàApache Âü∫Èáë‰ºö‰ΩøÁî® svn Êù•ÊâòÁÆ°È°πÁõÆÂèëÂ∏ÉÔºâËÆæÁΩÆÁéØÂ¢ÉÂèòÈáèÔºöÂ¶ÇÊûúÊÇ®Âú®‰∏çÂêåÁöÑÁõÆÂΩï‰∏ãÈÖçÁΩÆ‰∫Ü gpg ÂØÜÈí•ÔºåËØ∑ÊâßË°å export GNUPGHOME=$(xxx) ÂØºÂá∫ÁéØÂ¢ÉÂèòÈáè„ÄÇ  ","version":"0.15","tagName":"h3"},{"title":"ÂáÜÂ§á GPG ÂØÜÈí•‚Äã","type":1,"pageTitle":"Â¶Ç‰ΩïÂèëÂ∏É","url":"/zh-CN/docs/community/how_to_release#ÂáÜÂ§á-gpg-ÂØÜÈí•","content":" Â¶ÇÊûúÊÇ®ÊòØÁ¨¨‰∏ÄÊ¨°‰Ωú‰∏∫ËΩØ‰ª∂ÂèëÂ∏ÉËÄÖÔºåÊÇ®ÈúÄË¶ÅÂáÜÂ§á‰∏Ä‰∏™ GPG ÂØÜÈí•„ÄÇ  ÊÇ®ÂèØ‰ª•ÂèÇËÄÉËøôÈáåÁöÑÂø´ÈÄüÂºÄÂßãËé∑Âèñ‰∏Ä‰∏™ GPG ÂØÜÈí•ÊàñËÄÖËé∑ÂèñÊõ¥Â§öÁõ∏ÂÖ≥‰ø°ÊÅØ„ÄÇ  ÂÆâË£Ö GPG‚Äã  sudo apt install gnupg2   ÁîüÊàê GPG ÂØÜÈí•‚Äã  ËØ∑‰ΩøÁî®ÊÇ®ÁöÑ Apache ÂêçÂ≠óÂíåÁîµÂ≠êÈÇÆ‰ª∂Âú∞ÂùÄÁîüÊàê GPG ÂØÜÈí•Ôºö  $ gpg --full-gen-key gpg (GnuPG) 2.2.20; Copyright (C) 2020 Free Software Foundation, Inc. This is free software: you are free to change and redistribute it. There is NO WARRANTY, to the extent permitted by law. Please select what kind of key you want: (1) RSA and RSA (default) (2) DSA and Elgamal (3) DSA (sign only) (4) RSA (sign only) (14) Existing key from card Your selection? 1 # input 1 RSA keys may be between 1024 and 4096 bits long. What keysize do you want? (2048) 4096 # input 4096 Requested keysize is 4096 bits Please specify how long the key should be valid. 0 = key does not expire &lt;n&gt; = key expires in n days &lt;n&gt;w = key expires in n weeks &lt;n&gt;m = key expires in n months &lt;n&gt;y = key expires in n years Key is valid for? (0) 0 # input 0 Key does not expire at all Is this correct? (y/N) y # input y GnuPG needs to construct a user ID to identify your key. Real name: Chaokun Yang # input your name Email address: chaokunyang@apache.org # input your email Comment: CODE SIGNING KEY # input some annotations, optional You selected this USER-ID: &quot;Chaokun &lt;chaokunyang@apache.org&gt;&quot; Change (N)ame, (C)omment, (E)mail or (O)kay/(Q)uit? O # input O We need to generate a lot of random bytes. It is a good idea to perform some other action (type on the keyboard, move the mouse, utilize the disks) during the prime generation; this gives the random number generator a better chance to gain enough entropy. We need to generate a lot of random bytes. It is a good idea to perform some other action (type on the keyboard, move the mouse, utilize the disks) during the prime generation; this gives the random number generator a better chance to gain enough entropy. # Input the security key ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îÇ Please enter this passphrase ‚îÇ ‚îÇ ‚îÇ ‚îÇ Passphrase: _______________________________ ‚îÇ ‚îÇ ‚îÇ ‚îÇ &lt;OK&gt; &lt;Cancel&gt; ‚îÇ ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò # key generation will be done after your inputting the key with the following output gpg: key E49B00F626B marked as ultimately trusted gpg: revocation certificate stored as '/Users/chaokunyang/.gnupg/openpgp-revocs.d/1E2CDAE4C08AD7D694D1CB139D7BE8E45E580BA4.rev' public and secret key created and signed. pub rsa4096 2022-07-12 [SC] 1E2CDAE4C08AD7D694D1CB139D7BE8E45E580BA4 uid [ultimate] Chaokun &lt;chaokunyang@apache.org&gt; sub rsa4096 2022-07-12 [E]   ‰∏ä‰º†ÂÖ¨Èí•Ëá≥ GPG ÂØÜÈí•ÊúçÂä°Âô®‚Äã  È¶ñÂÖàÔºåÂàóÂá∫ÊÇ®ÊâÄÂàõÂª∫ÁöÑ GPG ÂØÜÈí•Ôºö  gpg --list-keys   ÊâßË°åÁõ∏ÂÖ≥ÂëΩ‰ª§‰πãÂêéÔºåÊÇ®Â∞ÜÁúãÂà∞Â¶Ç‰∏ãËæìÂá∫Ôºö  -------------------------------------------------- pub rsa4096 2024-03-27 [SC] 1E2CDAE4C08AD7D694D1CB139D7BE8E45E580BA4 uid [ultimate] chaokunyang (CODE SIGNING KEY) &lt;chaokunyang@apache.org&gt; sub rsa4096 2024-03-27 [E]   ÁÑ∂ÂêéÔºåÂ∞ÜÊÇ®ÁöÑÂØÜÈí• ID ÂèëÈÄÅÂà∞ÂØÜÈí•ÊúçÂä°Âô®Ôºö  gpg --keyserver keys.openpgp.org --send-key &lt;key-id&gt; # e.g., 1E2CDAE4C08AD7D694D1CB139D7BE8E45E580BA4   ÂÖ∂‰∏≠Ôºåkeys.openpgp.org ÊòØ‰∏Ä‰∏™ÈöèÊú∫ÈÄâÊã©ÁöÑÂØÜÈí•ÊúçÂä°Âô®ÔºåÂèØ‰ª•‰ΩøÁî® keyserver.ubuntu.com Êàñ‰ªª‰ΩïÂÖ∂‰ªñÂäüËÉΩÂÆåÂ§áÁöÑÂØÜÈí•ÊúçÂä°Âô®„ÄÇ  Ê£ÄÊü•ÂØÜÈí•ÊòØÂê¶ÂàõÂª∫ÊàêÂäü‚Äã  ‰∏ä‰º†Â§ßÁ∫¶ÈúÄË¶Å‰∏ÄÂàÜÈíüÔºõ‰πãÂêéÔºåÊÇ®ÂèØ‰ª•ÈÄöËøáÁîµÂ≠êÈÇÆ‰ª∂Âú®Áõ∏Â∫îÁöÑÂØÜÈí•ÊúçÂä°Âô®‰∏äÊ£ÄÊü•„ÄÇ  Â∞ÜÂØÜÈí•‰∏ä‰º†Âà∞ÂØÜÈí•ÊúçÂä°Âô®ÁöÑ‰∏ªË¶ÅÁõÆÁöÑÊòØ‰∏∫‰∫ÜÂä†ÂÖ•‰∏Ä‰∏™ÂèØ‰ø°ÁöÑ‰ø°‰ªªÁΩëÁªú„ÄÇ  Â∞Ü GPG ÂÖ¨Èí•Ê∑ªÂä†Âà∞È°πÁõÆ KEYS Êñá‰ª∂‰∏≠‚Äã  ÂèëÂ∏ÉÂàÜÊîØÁöÑ svn ‰ªìÂ∫ìÊòØÔºöhttps://dist.apache.org/repos/dist/release/fory  ËØ∑Âú®ÂèëÂ∏ÉÂàÜÊîØÁöÑ KEYS ‰∏≠Ê∑ªÂä†ÂÖ¨Èí•Ôºö  svn co https://dist.apache.org/repos/dist/release/fory fory-dist # As this step will copy all the versions, it will take some time. If the network is broken, please use svn cleanup to delete the lock before re-execute it. cd fory-dist (gpg --list-sigs YOUR_NAME@apache.org &amp;&amp; gpg --export --armor YOUR_NAME@apache.org) &gt;&gt; KEYS # Append your key to the KEYS file svn add . # It is not needed if the KEYS document exists before. svn ci -m &quot;add gpg key for YOUR_NAME&quot; # Later on, if you are asked to enter a username and password, just use your apache username and password.   Â∞Ü GPG ÂÖ¨Èí•‰∏ä‰º†Âà∞ÊÇ®ÁöÑ GitHub Â∏êÊà∑‚Äã  ËæìÂÖ• https://github.com/settings/keys ‰ª•Ê∑ªÂä†ÊÇ®ÁöÑ GPG ÂØÜÈí•„ÄÇÂ¶ÇÊûúÊ∑ªÂä†ÂêéÂèëÁé∞‚ÄúÊú™È™åËØÅ‚ÄùÂ≠óÊ†∑ÔºåËØ∑Â∞Ü GPG ÂØÜÈí•‰∏≠‰ΩøÁî®ÁöÑÁîµÂ≠êÈÇÆ‰ª∂Âú∞ÂùÄÁªëÂÆöÂà∞ÊÇ®ÁöÑ GitHub Â∏êÊà∑Ôºàhttps://github.com/settings/emailsÔºâ„ÄÇ  ","version":"0.15","tagName":"h3"},{"title":"Âª∂‰º∏ÈòÖËØª‚Äã","type":1,"pageTitle":"Â¶Ç‰ΩïÂèëÂ∏É","url":"/zh-CN/docs/community/how_to_release#Âª∂‰º∏ÈòÖËØª","content":" Âª∫ËÆÆÊÇ®Âú®ÂèëÂ∏É‰πãÂâçÈòÖËØª‰ª•‰∏ãÊñáÊ°£Ôºå‰∫ÜËß£ÊúâÂÖ≥ Apache Âü∫Èáë‰ºöÂèëÂ∏ÉËΩØ‰ª∂ÁöÑÊõ¥Â§öËØ¶ÁªÜ‰ø°ÊÅØÔºå‰ΩÜËøô‰∏çÊòØÂøÖÈ°ªÁöÑÔºö  ÂèëÂ∏ÉÊîøÁ≠ñÔºöhttps://www.apache.org/legal/release-policy.htmlTLP ÁâàÊú¨Ôºöhttps://infra.apache.org/release-distributionÂèëÂ∏ÉÊ†áÂøóÔºöhttps://infra.apache.org/release-signing.htmlÂèëÂ∏ÉÂèëÂ∏ÉÔºöhttps://infra.apache.org/release-publishing.htmlÂèëÂ∏É‰∏ãËΩΩÈ°µÈù¢Ôºöhttps://infra.apache.org/release-download-pages.htmlÂèëÂ∏É maven artifactsÔºöhttps://infra.apache.org/publishing-maven-artifacts.html  ","version":"0.15","tagName":"h3"},{"title":"ÂºÄÂßãÊúâÂÖ≥ÂèëÂ∏ÉÁöÑËÆ®ËÆ∫‚Äã","type":1,"pageTitle":"Â¶Ç‰ΩïÂèëÂ∏É","url":"/zh-CN/docs/community/how_to_release#ÂºÄÂßãÊúâÂÖ≥ÂèëÂ∏ÉÁöÑËÆ®ËÆ∫","content":" ÈÄöËøáÂèëÈÄÅÁîµÂ≠êÈÇÆ‰ª∂Ëá≥‰ª•‰∏ãÂú∞ÂùÄÂèëËµ∑ÊúâÂÖ≥‰∏ã‰∏Ä‰∏™ÁâàÊú¨ÁöÑËÆ®ËÆ∫Ôºödev@fory.apache.orgÔºö  Ê†áÈ¢òÔºö  [DISCUSS] Release Apache Fory ${release_version}   ÂÜÖÂÆπÔºö  Hello, Apache Fory Community, This is a call for a discussion to release Apache Fory version ${release_version}. The change lists about this release: https://github.com/apache/fory/compare/v0.11.2...v0.12.0 Please leave your comments here about this release plan. We will bump the version in repo and start the release process after the discussion. Thanks, ${name}   ","version":"0.15","tagName":"h2"},{"title":"ÂáÜÂ§áÂèëÂ∏É‚Äã","type":1,"pageTitle":"Â¶Ç‰ΩïÂèëÂ∏É","url":"/zh-CN/docs/community/how_to_release#ÂáÜÂ§áÂèëÂ∏É","content":" Â¶ÇÊûúËÆ®ËÆ∫ÁªìÊûú‰∏≠Ê≤°ÊúâÂá∫Áé∞ÂèçÂØπÂ£∞Èü≥ÔºåÊÇ®ÈúÄË¶ÅÂÅö‰∏Ä‰∫õÂèëÂ∏ÉÁâàÊú¨ÁöÑÂáÜÂ§áÂ∑•‰Ωú„ÄÇ  ","version":"0.15","tagName":"h2"},{"title":"Github ÂàÜÊîØÂíåÊ†áÁ≠æ‚Äã","type":1,"pageTitle":"Â¶Ç‰ΩïÂèëÂ∏É","url":"/zh-CN/docs/community/how_to_release#github-ÂàÜÊîØÂíåÊ†áÁ≠æ","content":" ÂàõÂª∫‰∏Ä‰∏™Âêç‰∏∫ releases-0.12.0ÈÄöËøáÊâßË°åÂëΩ‰ª§Â∞ÜÁâàÊú¨ $version ÂçáÁ∫ßÂà∞ python ci/release.py bump_version -l all -version $versionÊâßË°å git commit Âπ∂Â∞ÜÂàÜÊîØÊé®ÈÄÅÂà∞ git@github.com:apache/fory.gitÈÄöËøá git tag v0.12.0-rc1 ÂàõÂª∫‰∏Ä‰∏™Êñ∞Ê†áÁ≠æÔºåÁÑ∂ÂêéÂ∞ÜÂÖ∂Êé®ÈÄÅÂà∞ git@github.com:apache/fory.git  ","version":"0.15","tagName":"h3"},{"title":"ÊûÑÂª∫ artifacts Âπ∂‰∏ä‰º†Âà∞ SVN dist/dev ‰ªìÂ∫ì‚Äã","type":1,"pageTitle":"Â¶Ç‰ΩïÂèëÂ∏É","url":"/zh-CN/docs/community/how_to_release#ÊûÑÂª∫-artifacts-Âπ∂‰∏ä‰º†Âà∞-svn-distdev-‰ªìÂ∫ì","content":" È¶ñÂÖàÔºåÊÇ®ÈúÄË¶ÅÈÄöËøá python ci/release.py build -v $version ÊûÑÂª∫È¢ÑÂèëÂ∏É artifacts„ÄÇ  ÁÑ∂ÂêéÊÇ®ÈúÄË¶ÅÊääÂÆÉ‰∏ä‰º†Âà∞ svn dist repo„ÄÇdev ÂàÜÊîØÁöÑ dist ‰ªìÂ∫ìÂú∞ÂùÄÊòØÔºöhttps://dist.apache.org/repos/dist/dev/fory  # As this step will copy all the versions, it will take some time. If the network is broken, please use svn cleanup to delete the lock before re-execute it. svn co https://dist.apache.org/repos/dist/dev/fory fory-dist-dev   ÁÑ∂ÂêéÔºå‰∏ä‰º†È°πÁõÆÔºö  cd fory-dist-dev # create a directory named by version mkdir ${release_version}-${rc_version} # copy source code and signature package to the versioned directory cp ${repo_dir}/dist/* ${release_version}-${rc_version} # check svn status svn status # add to svn svn add ${release_version}-${rc_version} # check svn status svn status # commit to SVN remote server svn commit -m &quot;Prepare for fory ${release_version}-${rc_version}&quot;   ËÆøÈóÆ https://dist.apache.org/repos/dist/dev/fory/ ‰ª•Ê£ÄÊü• artifacts ÊòØÂê¶Ê≠£Á°Æ‰∏ä‰º†„ÄÇ  ","version":"0.15","tagName":"h3"},{"title":"Â¶ÇÊûúÂá∫Áé∞ÈóÆÈ¢òËØ•ÊÄé‰πàÂäû‚Äã","type":1,"pageTitle":"Â¶Ç‰ΩïÂèëÂ∏É","url":"/zh-CN/docs/community/how_to_release#Â¶ÇÊûúÂá∫Áé∞ÈóÆÈ¢òËØ•ÊÄé‰πàÂäû","content":" Â¶ÇÊûúÊüê‰∫õÊñá‰ª∂ÊòØÊÑèÂ§ñÂá∫Áé∞ÊàñËÄÖÂèëÁîüÊüê‰∫õÈîôËØØÔºåÂàôÈúÄË¶ÅÂà†Èô§Áõ∏ÂÖ≥ÂÜÖÂÆπÂπ∂ÊâßË°å svn deleteÔºåÁÑ∂ÂêéÈáçÂ§ç‰∏äËø∞‰∏ä‰º†ËøáÁ®ã„ÄÇ  ","version":"0.15","tagName":"h3"},{"title":"ÊäïÁ•®‚Äã","type":1,"pageTitle":"Â¶Ç‰ΩïÂèëÂ∏É","url":"/zh-CN/docs/community/how_to_release#ÊäïÁ•®","content":" Êñ∞ÁâàÊú¨ÂèëÂ∏ÉÈúÄË¶Å Apache Fory Á§æÂå∫ÁöÑÊäïÁ•®„ÄÇ  release_versionÔºöFory ÁöÑÁâàÊú¨ÔºåÂ¶Ç 0.12.0„ÄÇrelease_candidate_versionÔºöÊäïÁ•®ÁöÑÁâàÊú¨ÔºåÂ¶Ç 0.12.0-rc1„ÄÇmaven_artifact_numberÔºöMaven ÊöÇÂ≠ò artifacts ÁöÑÊï∞Èáè„ÄÇÂ¶Ç 1001. ÂÖ∑‰ΩìÊù•ËØ¥ÔºåÂèØ‰ª•ÈÄöËøáÊêúÁ¥¢ ‚Äúfory‚Äù Êù•ÊâæÂà∞ maven_artifact_number https://repository.apache.org/#stagingRepositories.  ","version":"0.15","tagName":"h2"},{"title":"Fory Á§æÂå∫ÊäïÁ•®‚Äã","type":1,"pageTitle":"Â¶Ç‰ΩïÂèëÂ∏É","url":"/zh-CN/docs/community/how_to_release#fory-Á§æÂå∫ÊäïÁ•®","content":" ÂèëÈÄÅÁîµÂ≠êÈÇÆ‰ª∂Ëá≥ Fory CommunityÔºödev@fory.apache.orgÔºö  Ê†áÈ¢òÔºö  [VOTE] Release Apache Fory v${release_version}-${rc_version}   ÂÜÖÂÆπÔºö  Hello, Apache Fory Community: This is a call for vote to release Apache Fory version release-0.12.0-rc1. Apache Fory - A blazingly fast multi-language serialization framework powered by JIT and zero-copy. The change lists about this release: https://github.com/apache/fory/compare/v0.12.0...v0.12.0-rc1 The release candidates: https://dist.apache.org/repos/dist/dev/fory/0.12.0-rc1/ The maven staging for this release: https://repository.apache.org/content/repositories/orgapachefory-1003 Git tag for the release: https://github.com/apache/fory/releases/tag/v0.12.0-rc1 Git commit for the release: https://github.com/apache/fory/commit/fae06330edd049bb960536e978a45b97bca66faf The artifacts signed with PGP key [5E580BA4], corresponding to [chaokunyang@apache.org], that can be found in keys file: https://downloads.apache.org/fory/KEYS The vote will be open for at least 72 hours until the necessary number of votes are reached. Please vote accordingly: [ ] +1 approve [ ] +0 no opinion [ ] -1 disapprove with the reason To learn more about Fory, please see https://fory.apache.org/ *Valid check is a requirement for a vote. *Checklist for reference: [ ] Download Fory is valid. [ ] Checksums and PGP signatures are valid. [ ] Source code distributions have correct names matching the current release. [ ] LICENSE and NOTICE files are correct. [ ] All files have license headers if necessary. [ ] No compiled archives bundled in source archive. [ ] Can compile from source. How to Build and Test, please refer to: https://github.com/apache/fory/blob/main/docs/guide/DEVELOPMENT.md Thanks, Chaokun Yang   Âú®Ëá≥Â∞ëËé∑Âæó 3 + 1 ‰∏îÂÖ∑ÊúâÁ∫¶ÊùüÂäõÁöÑÊäïÁ•®ÔºàÊù•Ëá™ Fory Podling PMC ÊàêÂëòÂíåÊèê‰∫§ËÄÖÔºâÂπ∂Ê≤°ÊúâÊî∂Âà∞Âê¶ÂÜ≥Á•®‰πãÂêéÔºåÂèëÂ∏ÉÊäïÁ•®ÁªìÊûúÔºö  Ê†áÈ¢òÔºö  [RESULT][VOTE] Release Apache Fory v${release_version}-${rc_version}   ÂÜÖÂÆπÔºö  Hello, Apache Fory Community, The vote to release Apache Fory v${release_version}-${rc_version} has passed. The vote PASSED with 3 binding +1 and 0 -1 vote: Binding votes: - xxx - yyy - zzz Vote thread: ${vote_thread_url} Thanks, ${name}   ","version":"0.15","tagName":"h3"},{"title":"Â¶ÇÊûúÊäïÁ•®Â§±Ë¥•ÊÄé‰πàÂäû‚Äã","type":1,"pageTitle":"Â¶Ç‰ΩïÂèëÂ∏É","url":"/zh-CN/docs/community/how_to_release#Â¶ÇÊûúÊäïÁ•®Â§±Ë¥•ÊÄé‰πàÂäû","content":" Â¶ÇÊûúÊäïÁ•®Â§±Ë¥•ÔºåËØ∑ÂçïÂáª‚ÄúÂà†Èô§‚Äù‰ª•Âà†Èô§ÊöÇÂ≠òÁöÑ Maven artifacts„ÄÇ  Ëß£ÂÜ≥ÊèêÂá∫ÁöÑÈóÆÈ¢òÔºåÁÑ∂ÂêéÂÜçÊ¨°ÊèêÂá∫ rc_version ÁöÑÊñ∞ÊäïÁ•®„ÄÇ  ","version":"0.15","tagName":"h3"},{"title":"ÂÆòÊñπÂèëÂ∏É‚Äã","type":1,"pageTitle":"Â¶Ç‰ΩïÂèëÂ∏É","url":"/zh-CN/docs/community/how_to_release#ÂÆòÊñπÂèëÂ∏É","content":" ","version":"0.15","tagName":"h2"},{"title":"Â∞Ü artifacts ÂèëÂ∏ÉÂà∞ SVN ÂèëÂ∏ÉÁõÆÂΩï‚Äã","type":1,"pageTitle":"Â¶Ç‰ΩïÂèëÂ∏É","url":"/zh-CN/docs/community/how_to_release#Â∞Ü-artifacts-ÂèëÂ∏ÉÂà∞-svn-ÂèëÂ∏ÉÁõÆÂΩï","content":" release_versionÔºöFory ÁöÑÂèëÂ∏ÉÁâàÊú¨ÔºåÂ¶Ç 0.12.0release_candidate_versionÔºöÊäïÁ•®ÁâàÊú¨ÔºåÂ¶Ç 0.12.0-rc1  svn mv https://dist.apache.org/repos/dist/dev/fory/${release_version}-${rc_version} https://dist.apache.org/repos/dist/release/fory/${release_version} -m &quot;Release fory ${release_version}&quot;   ","version":"0.15","tagName":"h3"},{"title":"Êõ¥Êîπ Fory ÁΩëÁ´ô‰∏ãËΩΩÈìæÊé•‚Äã","type":1,"pageTitle":"Â¶Ç‰ΩïÂèëÂ∏É","url":"/zh-CN/docs/community/how_to_release#Êõ¥Êîπ-fory-ÁΩëÁ´ô‰∏ãËΩΩÈìæÊé•","content":" Êèê‰∫§ PR Âà∞ https://github.com/apache/fory-site ‰ªìÂ∫ìÊõ¥Êñ∞ Fory ÁâàÊú¨Ôºå‰∏ãËΩΩÈ°µÈù¢  ","version":"0.15","tagName":"h3"},{"title":"ÂèëÂ∏É Maven artifacts‚Äã","type":1,"pageTitle":"Â¶Ç‰ΩïÂèëÂ∏É","url":"/zh-CN/docs/community/how_to_release#ÂèëÂ∏É-maven-artifacts","content":" maven_artifact_numberÔºöMaven ÊöÇÂ≠ò artifacts ÁöÑÊï∞Èáè„ÄÇÂ¶Ç 1001„ÄÇÊâìÂºÄhttps://repository.apache.org/#stagingRepositories.ÊâæÂà∞ artifacts orgapachefory-${maven_artifact_number}ÔºåÁÇπÂáª‚ÄúÂèëÂ∏É‚Äù„ÄÇ  ","version":"0.15","tagName":"h3"},{"title":"ÂèëÈÄÅÂÖ¨Âëä‚Äã","type":1,"pageTitle":"Â¶Ç‰ΩïÂèëÂ∏É","url":"/zh-CN/docs/community/how_to_release#ÂèëÈÄÅÂÖ¨Âëä","content":" Â∞ÜÂèëÂ∏ÉÂÖ¨ÂëäÂèëÈÄÅÁªô dev@fory.apache.org Âπ∂‰∏îÊäÑÈÄÅÁªô announce@apache.org„ÄÇ  Ê†áÈ¢òÔºö  [ANNOUNCE] Apache Fory ${release_version} released   ÂÜÖÂÆπÔºö  Hi all, The Apache Fory community is pleased to announce that Apache Fory {release_version} has been released! Apache Fory - A blazingly fast multi-language serialization framework powered by JIT and zero-copy. The release notes are available here: https://github.com/apache/fory/releases/tag/v${release_version} For the complete list of changes: https://github.com/apache/fory/compare/v0.12.0...v${release_version} Apache Fory website: https://fory.apache.org/ Download Links: https://fory.apache.org/download Fory Resources: - Fory github repo: https://github.com/apache/fory - Issue: https://github.com/apache/fory/issues - Mailing list: dev@fory.apache.org We are looking to grow our community and welcome new contributors. If you are interested in contributing to Fory, please contact us on the mailing list or on GitHub. We will be happy to help you get started. ------------------ Best Regards, ${your_name}   Ëá≥Ê≠§ÔºåÊï¥‰∏™ÂèëÂ∏ÉÊµÅÁ®ãÁªìÊùü„ÄÇ ","version":"0.15","tagName":"h3"},{"title":"ÁºñËØëÂô®ÊåáÂçó","type":0,"sectionRef":"#","url":"/zh-CN/docs/compiler/compiler_guide","content":"","keywords":"","version":"0.15"},{"title":"ÂÆâË£Ö‚Äã","type":1,"pageTitle":"ÁºñËØëÂô®ÊåáÂçó","url":"/zh-CN/docs/compiler/compiler_guide#ÂÆâË£Ö","content":" ","version":"0.15","tagName":"h2"},{"title":"‰ªéÊ∫êÁ†ÅÂÆâË£Ö‚Äã","type":1,"pageTitle":"ÁºñËØëÂô®ÊåáÂçó","url":"/zh-CN/docs/compiler/compiler_guide#‰ªéÊ∫êÁ†ÅÂÆâË£Ö","content":" cd compiler pip install -e .   ","version":"0.15","tagName":"h3"},{"title":"È™åËØÅÂÆâË£Ö‚Äã","type":1,"pageTitle":"ÁºñËØëÂô®ÊåáÂçó","url":"/zh-CN/docs/compiler/compiler_guide#È™åËØÅÂÆâË£Ö","content":" foryc --help   ","version":"0.15","tagName":"h3"},{"title":"ÂëΩ‰ª§Ë°åÊé•Âè£‚Äã","type":1,"pageTitle":"ÁºñËØëÂô®ÊåáÂçó","url":"/zh-CN/docs/compiler/compiler_guide#ÂëΩ‰ª§Ë°åÊé•Âè£","content":" ","version":"0.15","tagName":"h2"},{"title":"Âü∫Êú¨Áî®Ê≥ï‚Äã","type":1,"pageTitle":"ÁºñËØëÂô®ÊåáÂçó","url":"/zh-CN/docs/compiler/compiler_guide#Âü∫Êú¨Áî®Ê≥ï","content":" foryc [OPTIONS] FILES...   foryc --scan-generated [OPTIONS]   ","version":"0.15","tagName":"h3"},{"title":"ÈÄâÈ°π‚Äã","type":1,"pageTitle":"ÁºñËØëÂô®ÊåáÂçó","url":"/zh-CN/docs/compiler/compiler_guide#ÈÄâÈ°π","content":" ÁºñËØëÈÄâÈ°πÔºö  ÈÄâÈ°π\tËØ¥Êòé\tÈªòËÆ§ÂÄº--lang\tÁõÆÊ†áËØ≠Ë®ÄÂàóË°®ÔºàÈÄóÂè∑ÂàÜÈöîÔºâ\tall --output, -o\tËæìÂá∫ÁõÆÂΩï\t./generated --package\tË¶ÜÁõñ Fory IDL Êñá‰ª∂‰∏≠ÁöÑ package\tÔºàÊù•Ëá™Êñá‰ª∂Ôºâ -I, --proto_path, --import_path\tÊ∑ªÂä† import ÊêúÁ¥¢Ë∑ØÂæÑÔºàÂèØÈáçÂ§çÔºâ\tÔºàÊó†Ôºâ --java_out=DST_DIR\tÂ∞Ü Java ‰ª£Á†ÅËæìÂá∫Âà∞ DST_DIR\tÔºàÊó†Ôºâ --python_out=DST_DIR\tÂ∞Ü Python ‰ª£Á†ÅËæìÂá∫Âà∞ DST_DIR\tÔºàÊó†Ôºâ --cpp_out=DST_DIR\tÂ∞Ü C++ ‰ª£Á†ÅËæìÂá∫Âà∞ DST_DIR\tÔºàÊó†Ôºâ --go_out=DST_DIR\tÂ∞Ü Go ‰ª£Á†ÅËæìÂá∫Âà∞ DST_DIR\tÔºàÊó†Ôºâ --rust_out=DST_DIR\tÂ∞Ü Rust ‰ª£Á†ÅËæìÂá∫Âà∞ DST_DIR\tÔºàÊó†Ôºâ --go_nested_type_style\tGo ÂµåÂ•óÁ±ªÂûãÂëΩÂêçÈ£éÊ†ºÔºöcamelcase Êàñ underscore\tschema/ÈªòËÆ§ÂÄº --emit-fdl\tÂØπÈùû .fdl ËæìÂÖ•ÊâìÂç∞ËΩ¨Êç¢ÂêéÁöÑ Fory IDL\tfalse --emit-fdl-path\tÂ∞ÜËΩ¨Êç¢ÂêéÁöÑ Fory IDL ÂÜôÂÖ•Êñá‰ª∂ÊàñÁõÆÂΩï\tÔºàstdoutÔºâ  Êâ´ÊèèÈÄâÈ°πÔºàÈÖçÂêà --scan-generatedÔºâÔºö  ÈÄâÈ°π\tËØ¥Êòé\tÈªòËÆ§ÂÄº--root\tÊâ´ÊèèÊ†πÁõÆÂΩï\t. --relative\t‰ª•Áõ∏ÂØπË∑ØÂæÑËæìÂá∫\tfalse --delete\tÂà†Èô§ÂåπÈÖçÂà∞ÁöÑÁîüÊàêÊñá‰ª∂\tfalse --dry-run\t‰ªÖÊâ´ÊèèËæìÂá∫Ôºå‰∏çÊâßË°åÂà†Èô§\tfalse  ","version":"0.15","tagName":"h3"},{"title":"Êâ´ÊèèÁîüÊàêÊñá‰ª∂‚Äã","type":1,"pageTitle":"ÁºñËØëÂô®ÊåáÂçó","url":"/zh-CN/docs/compiler/compiler_guide#Êâ´ÊèèÁîüÊàêÊñá‰ª∂","content":" ‰ΩøÁî® --scan-generated ÂèØ‰ª•ÂÆö‰Ωç foryc ÁîüÊàêÁöÑÊñá‰ª∂„ÄÇÊâ´ÊèèÂô®‰ºöÈÄíÂΩíÈÅçÂéÜÁõÆÂΩïÊ†ëÔºåË∑≥Ëøá build/„ÄÅtarget/ ÂíåÈöêËóèÁõÆÂΩïÔºåÂπ∂ËæìÂá∫ÊâæÂà∞ÁöÑÊØè‰∏™ÁîüÊàêÊñá‰ª∂„ÄÇ  # Êâ´ÊèèÂΩìÂâçÁõÆÂΩï foryc --scan-generated # Êâ´ÊèèÊåáÂÆöÊ†πÁõÆÂΩï foryc --scan-generated --root ./src # ËæìÂá∫Áõ∏ÂØπË∑ØÂæÑ foryc --scan-generated --root ./src --relative # Âà†Èô§Êâ´ÊèèÂà∞ÁöÑÁîüÊàêÊñá‰ª∂ foryc --scan-generated --root ./src --delete # Dry-runÔºà‰ªÖÊâ´Êèè‰∏éËæìÂá∫Ôºâ foryc --scan-generated --root ./src --dry-run   ","version":"0.15","tagName":"h3"},{"title":"Á§∫‰æã‚Äã","type":1,"pageTitle":"ÁºñËØëÂô®ÊåáÂçó","url":"/zh-CN/docs/compiler/compiler_guide#Á§∫‰æã","content":" ‰∏∫ÊâÄÊúâËØ≠Ë®ÄÁºñËØëÔºö  foryc schema.fdl   ‰∏∫ÊåáÂÆöËØ≠Ë®ÄÁºñËØëÔºö  foryc schema.fdl --lang java,python   ÊåáÂÆöËæìÂá∫ÁõÆÂΩïÔºö  foryc schema.fdl --output ./src/generated   Ë¶ÜÁõñ packageÔºö  foryc schema.fdl --package com.myapp.models   ÁºñËØëÂ§ö‰∏™Êñá‰ª∂Ôºö  foryc user.fdl order.fdl product.fdl --output ./generated   ‰ΩøÁî® import ÊêúÁ¥¢Ë∑ØÂæÑÔºö  # Âçï‰∏™Ë∑ØÂæÑ foryc src/main.fdl -I libs/common # Â§ö‰∏™Ë∑ØÂæÑÔºàÈáçÂ§çÂèÇÊï∞Ôºâ foryc src/main.fdl -I libs/common -I libs/types # Â§ö‰∏™Ë∑ØÂæÑÔºàÈÄóÂè∑ÂàÜÈöîÔºâ foryc src/main.fdl -I libs/common,libs/types,third_party/ # --proto_pathÔºàprotoc ÂÖºÂÆπÂà´ÂêçÔºâ foryc src/main.fdl --proto_path=libs/common # Ê∑∑ÂêàÂÜôÊ≥ï foryc src/main.fdl -I libs/common,libs/types --proto_path third_party/   ËØ≠Ë®ÄÂÆöÂêëËæìÂá∫ÁõÆÂΩïÔºàprotoc È£éÊ†ºÔºâÔºö  # ‰ªÖÁîüÊàê Java foryc schema.fdl --java_out=./src/main/java # Â§öËØ≠Ë®ÄÂàÜÂà´ËæìÂá∫Âà∞‰∏çÂêåÁõÆÂΩï foryc schema.fdl --java_out=./java/gen --python_out=./python/src --go_out=./go/gen # ÁªìÂêà import Ë∑ØÂæÑ foryc schema.fdl --java_out=./gen/java -I proto/ -I common/   ‰ΩøÁî® --{lang}_out Êó∂Ôºö  Âè™ÁîüÊàêÊòæÂºèÊåáÂÆöÁöÑËØ≠Ë®ÄÔºà‰∏ç‰ºöÁîüÊàêÂÖ®ÈÉ®ËØ≠Ë®ÄÔºâËæìÂá∫ÂÜôÂÖ•ÊåáÂÆöÁõÆÂΩïÔºàËØ≠Ë®ÄÁîüÊàêÂô®ÂèØËÉΩÁªßÁª≠ÊåâÂåÖ/Ê®°ÂùóÂàÜÂ±ÇÔºâÂÖºÂÆπ protoc È£éÊ†ºÂ∑•‰ΩúÊµÅ  Êü•Áúã proto/fbs ËæìÂÖ•ËΩ¨Êç¢ÂêéÁöÑ Fory IDLÔºö  # ËæìÂá∫Âà∞ stdout foryc schema.proto --emit-fdl # ËæìÂá∫Âà∞ÁõÆÂΩï foryc schema.fbs --emit-fdl --emit-fdl-path ./translated   ","version":"0.15","tagName":"h3"},{"title":"Import Ë∑ØÂæÑËß£Êûê‚Äã","type":1,"pageTitle":"ÁºñËØëÂô®ÊåáÂçó","url":"/zh-CN/docs/compiler/compiler_guide#import-Ë∑ØÂæÑËß£Êûê","content":" ÁºñËØëÂê´ import ÁöÑ Fory IDL Êñá‰ª∂Êó∂ÔºåÂØºÂÖ•Êñá‰ª∂Êåâ‰ª•‰∏ãÈ°∫Â∫èÊü•ÊâæÔºö  Áõ∏ÂØπ‰∫éÂØºÂÖ•ËÄÖÊñá‰ª∂ÁõÆÂΩïÔºàÈªòËÆ§ÔºâÔºöÂßãÁªà‰ºòÂÖàÊü•ÊâæÔºåÊó†ÈúÄ -IÊåâÈ°∫Â∫èÈÅçÂéÜÊØè‰∏™ -I Ë∑ØÂæÑ  ÂêåÁõÆÂΩï import ÂèØÁõ¥Êé•ÁîüÊïàÔºö  // main.fdl import &quot;common.fdl&quot;; // Ëã• common.fdl Âú®ÂêåÁõÆÂΩïÔºåÂ∞ÜËá™Âä®ÊâæÂà∞   # ÂêåÁõÆÂΩïÂØºÂÖ•Êó†ÈúÄ -I foryc main.fdl   Á§∫‰æãÁõÆÂΩïÁªìÊûÑÔºö  project/ ‚îú‚îÄ‚îÄ src/ ‚îÇ ‚îî‚îÄ‚îÄ main.fdl # import &quot;common.fdl&quot;; ‚îî‚îÄ‚îÄ libs/ ‚îî‚îÄ‚îÄ common.fdl   ‰∏çÂä† -IÔºàÂ§±Ë¥•ÔºâÔºö  $ foryc src/main.fdl Import error: Import not found: common.fdl Searched in: /project/src   Âä† -IÔºàÊàêÂäüÔºâÔºö  $ foryc src/main.fdl -I libs/ Compiling src/main.fdl... Resolved 1 import(s)   ","version":"0.15","tagName":"h2"},{"title":"ÊîØÊåÅËØ≠Ë®Ä‚Äã","type":1,"pageTitle":"ÁºñËØëÂô®ÊåáÂçó","url":"/zh-CN/docs/compiler/compiler_guide#ÊîØÊåÅËØ≠Ë®Ä","content":" ËØ≠Ë®Ä\tÊ†áËÆ∞\tËæìÂá∫ÂêéÁºÄ\tËØ¥ÊòéJava\tjava\t.java\tÂ∏¶ Fory Ê≥®Ëß£ÁöÑ POJO Python\tpython\t.py\tÂ∏¶Á±ªÂûãÊèêÁ§∫ÁöÑ dataclass Go\tgo\t.go\tÂ∏¶ struct tag ÁöÑÁªìÊûÑ‰Ωì Rust\trust\t.rs\tÂ∏¶ derive ÂÆèÁöÑÁªìÊûÑ‰Ωì C++\tcpp\t.h\tÂ∏¶ FORY ÂÆèÁöÑÁªìÊûÑ‰Ωì  ","version":"0.15","tagName":"h2"},{"title":"ËæìÂá∫ÁªìÊûÑ‚Äã","type":1,"pageTitle":"ÁºñËØëÂô®ÊåáÂçó","url":"/zh-CN/docs/compiler/compiler_guide#ËæìÂá∫ÁªìÊûÑ","content":" ","version":"0.15","tagName":"h2"},{"title":"Java‚Äã","type":1,"pageTitle":"ÁºñËØëÂô®ÊåáÂçó","url":"/zh-CN/docs/compiler/compiler_guide#java","content":" generated/ ‚îî‚îÄ‚îÄ java/ ‚îî‚îÄ‚îÄ com/ ‚îî‚îÄ‚îÄ example/ ‚îú‚îÄ‚îÄ User.java ‚îú‚îÄ‚îÄ Order.java ‚îú‚îÄ‚îÄ Status.java ‚îî‚îÄ‚îÄ ExampleForyRegistration.java   ÊØè‰∏™Á±ªÂûãÔºàenum/messageÔºâÂçïÁã¨‰∏Ä‰∏™Êñá‰ª∂ÂåÖË∑ØÂæÑ‰∏é Fory IDL package ‰∏ÄËá¥‰ºöÁîüÊàêÊ≥®ÂÜåËæÖÂä©Á±ª  ","version":"0.15","tagName":"h3"},{"title":"Python‚Äã","type":1,"pageTitle":"ÁºñËØëÂô®ÊåáÂçó","url":"/zh-CN/docs/compiler/compiler_guide#python","content":" generated/ ‚îî‚îÄ‚îÄ python/ ‚îî‚îÄ‚îÄ example.py   ÊâÄÊúâÁ±ªÂûã‰Ωç‰∫éÂçïÊ®°ÂùóÊ®°ÂùóÂêçÁî± package Ê¥æÁîüÂåÖÂê´Ê≥®ÂÜåÂáΩÊï∞  ","version":"0.15","tagName":"h3"},{"title":"Go‚Äã","type":1,"pageTitle":"ÁºñËØëÂô®ÊåáÂçó","url":"/zh-CN/docs/compiler/compiler_guide#go","content":" generated/ ‚îî‚îÄ‚îÄ go/ ‚îî‚îÄ‚îÄ example/ ‚îî‚îÄ‚îÄ example.go   ÊâÄÊúâÁ±ªÂûãÂú®ÂçïÊñá‰ª∂‰∏≠ÁõÆÂΩïÂêç‰∏éÂåÖÂêçÊù•Ëá™ go_package Êàñ Fory IDL packageÂåÖÂê´Ê≥®ÂÜåÂáΩÊï∞  ","version":"0.15","tagName":"h3"},{"title":"Rust‚Äã","type":1,"pageTitle":"ÁºñËØëÂô®ÊåáÂçó","url":"/zh-CN/docs/compiler/compiler_guide#rust","content":" generated/ ‚îî‚îÄ‚îÄ rust/ ‚îî‚îÄ‚îÄ example.rs   ÊâÄÊúâÁ±ªÂûã‰Ωç‰∫éÂçïÊ®°ÂùóÊ®°ÂùóÂêçÁî± package Ê¥æÁîüÂåÖÂê´Ê≥®ÂÜåÂáΩÊï∞  ","version":"0.15","tagName":"h3"},{"title":"C++‚Äã","type":1,"pageTitle":"ÁºñËØëÂô®ÊåáÂçó","url":"/zh-CN/docs/compiler/compiler_guide#c","content":" generated/ ‚îî‚îÄ‚îÄ cpp/ ‚îî‚îÄ‚îÄ example.h   ÂçïÂ§¥Êñá‰ª∂ËæìÂá∫ÂëΩÂêçÁ©∫Èó¥‰∏é package ÂØπÈΩêÔºàÁÇπÂè∑ËΩ¨Êç¢‰∏∫ ::ÔºâËá™Âä®ÂåÖÂê´ header guard ‰∏éÂâçÂêëÂ£∞Êòé  ","version":"0.15","tagName":"h3"},{"title":"ÊûÑÂª∫Á≥ªÁªüÈõÜÊàê‚Äã","type":1,"pageTitle":"ÁºñËØëÂô®ÊåáÂçó","url":"/zh-CN/docs/compiler/compiler_guide#ÊûÑÂª∫Á≥ªÁªüÈõÜÊàê","content":" ","version":"0.15","tagName":"h2"},{"title":"Maven (Java)‚Äã","type":1,"pageTitle":"ÁºñËØëÂô®ÊåáÂçó","url":"/zh-CN/docs/compiler/compiler_guide#maven-java","content":" Âú® pom.xml ‰∏≠Ê∑ªÂä†Ôºö  &lt;build&gt; &lt;plugins&gt; &lt;plugin&gt; &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt; &lt;artifactId&gt;exec-maven-plugin&lt;/artifactId&gt; &lt;version&gt;3.1.0&lt;/version&gt; &lt;executions&gt; &lt;execution&gt; &lt;id&gt;generate-fory-types&lt;/id&gt; &lt;phase&gt;generate-sources&lt;/phase&gt; &lt;goals&gt; &lt;goal&gt;exec&lt;/goal&gt; &lt;/goals&gt; &lt;configuration&gt; &lt;executable&gt;foryc&lt;/executable&gt; &lt;arguments&gt; &lt;argument&gt;${project.basedir}/src/main/fdl/schema.fdl&lt;/argument&gt; &lt;argument&gt;--java_out&lt;/argument&gt; &lt;argument&gt;${project.build.directory}/generated-sources/fory&lt;/argument&gt; &lt;/arguments&gt; &lt;/configuration&gt; &lt;/execution&gt; &lt;/executions&gt; &lt;/plugin&gt; &lt;/plugins&gt; &lt;/build&gt;   Ê∑ªÂä†ÁîüÊàêÊ∫êÁ†ÅÁõÆÂΩïÔºö  &lt;build&gt; &lt;plugins&gt; &lt;plugin&gt; &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt; &lt;artifactId&gt;build-helper-maven-plugin&lt;/artifactId&gt; &lt;version&gt;3.4.0&lt;/version&gt; &lt;executions&gt; &lt;execution&gt; &lt;phase&gt;generate-sources&lt;/phase&gt; &lt;goals&gt; &lt;goal&gt;add-source&lt;/goal&gt; &lt;/goals&gt; &lt;configuration&gt; &lt;sources&gt; &lt;source&gt;${project.build.directory}/generated-sources/fory&lt;/source&gt; &lt;/sources&gt; &lt;/configuration&gt; &lt;/execution&gt; &lt;/executions&gt; &lt;/plugin&gt; &lt;/plugins&gt; &lt;/build&gt;   ","version":"0.15","tagName":"h3"},{"title":"Gradle (Java/Kotlin)‚Äã","type":1,"pageTitle":"ÁºñËØëÂô®ÊåáÂçó","url":"/zh-CN/docs/compiler/compiler_guide#gradle-javakotlin","content":" Âú® build.gradle ‰∏≠Ê∑ªÂä†Ôºö  task generateForyTypes(type: Exec) { commandLine 'foryc', &quot;${projectDir}/src/main/fdl/schema.fdl&quot;, '--java_out', &quot;${buildDir}/generated/sources/fory&quot; } compileJava.dependsOn generateForyTypes sourceSets { main { java { srcDir &quot;${buildDir}/generated/sources/fory&quot; } } }   ","version":"0.15","tagName":"h3"},{"title":"Python (setuptools)‚Äã","type":1,"pageTitle":"ÁºñËØëÂô®ÊåáÂçó","url":"/zh-CN/docs/compiler/compiler_guide#python-setuptools","content":" Âú® setup.py Êàñ pyproject.toml ‰∏≠Âä†ÂÖ•ÁîüÊàêÊ≠•È™§Ôºö  # setup.py from setuptools import setup from setuptools.command.build_py import build_py import subprocess class BuildWithForyIdl(build_py): def run(self): subprocess.run([ 'foryc', 'schema.fdl', '--python_out', 'src/generated' ], check=True) super().run() setup( cmdclass={'build_py': BuildWithForyIdl}, # ... )   ","version":"0.15","tagName":"h3"},{"title":"Go (go generate)‚Äã","type":1,"pageTitle":"ÁºñËØëÂô®ÊåáÂçó","url":"/zh-CN/docs/compiler/compiler_guide#go-go-generate","content":" Âú® Go Êñá‰ª∂‰∏≠Ê∑ªÂä†Ôºö  //go:generate foryc ../schema.fdl --lang go --output . package models   ÊâßË°åÔºö  go generate ./...   ","version":"0.15","tagName":"h3"},{"title":"Rust (build.rs)‚Äã","type":1,"pageTitle":"ÁºñËØëÂô®ÊåáÂçó","url":"/zh-CN/docs/compiler/compiler_guide#rust-buildrs","content":" Âú® build.rs ‰∏≠Ê∑ªÂä†Ôºö  use std::process::Command; fn main() { println!(&quot;cargo:rerun-if-changed=schema.fdl&quot;); let status = Command::new(&quot;foryc&quot;) .args(&amp;[&quot;schema.fdl&quot;, &quot;--rust_out&quot;, &quot;src/generated&quot;]) .status() .expect(&quot;Failed to run foryc&quot;); if !status.success() { panic!(&quot;Fory IDL compilation failed&quot;); } }   ","version":"0.15","tagName":"h3"},{"title":"CMake (C++)‚Äã","type":1,"pageTitle":"ÁºñËØëÂô®ÊåáÂçó","url":"/zh-CN/docs/compiler/compiler_guide#cmake-c","content":" Âú® CMakeLists.txt ‰∏≠Ê∑ªÂä†Ôºö  find_program(FORY_COMPILER foryc) add_custom_command( OUTPUT ${CMAKE_CURRENT_SOURCE_DIR}/generated/example.h COMMAND ${FORY_COMPILER} ${CMAKE_CURRENT_SOURCE_DIR}/schema.fdl --cpp_out ${CMAKE_CURRENT_SOURCE_DIR}/generated DEPENDS ${CMAKE_CURRENT_SOURCE_DIR}/schema.fdl COMMENT &quot;Generating Fory IDL types&quot; ) add_custom_target(generate_fory_idl DEPENDS ${CMAKE_CURRENT_SOURCE_DIR}/generated/example.h) add_library(mylib ...) add_dependencies(mylib generate_fory_idl) target_include_directories(mylib PRIVATE ${CMAKE_CURRENT_SOURCE_DIR}/generated)   ","version":"0.15","tagName":"h3"},{"title":"Bazel‚Äã","type":1,"pageTitle":"ÁºñËØëÂô®ÊåáÂçó","url":"/zh-CN/docs/compiler/compiler_guide#bazel","content":" Âú® BUILD ‰∏≠Ê∑ªÂä†ËßÑÂàôÔºö  genrule( name = &quot;generate_fdl&quot;, srcs = [&quot;schema.fdl&quot;], outs = [&quot;generated/example.h&quot;], cmd = &quot;$(location //:fory_compiler) $(SRCS) --cpp_out $(RULEDIR)/generated&quot;, tools = [&quot;//:fory_compiler&quot;], ) cc_library( name = &quot;models&quot;, hdrs = [&quot;:generate_fdl&quot;], # ... )   ","version":"0.15","tagName":"h3"},{"title":"ÈîôËØØÂ§ÑÁêÜ‚Äã","type":1,"pageTitle":"ÁºñËØëÂô®ÊåáÂçó","url":"/zh-CN/docs/compiler/compiler_guide#ÈîôËØØÂ§ÑÁêÜ","content":" ","version":"0.15","tagName":"h2"},{"title":"ËØ≠Ê≥ïÈîôËØØ‚Äã","type":1,"pageTitle":"ÁºñËØëÂô®ÊåáÂçó","url":"/zh-CN/docs/compiler/compiler_guide#ËØ≠Ê≥ïÈîôËØØ","content":" Error: Line 5, Column 12: Expected ';' after field declaration   ‰øÆÂ§çÊñπÂºèÔºöÊ£ÄÊü•ÂØπÂ∫îË°åÊòØÂê¶Áº∫Â∞ëÂàÜÂè∑ÊàñÂ≠òÂú®ËØ≠Ê≥ïÈóÆÈ¢ò„ÄÇ  ","version":"0.15","tagName":"h3"},{"title":"Á±ªÂûãÂêçÈáçÂ§ç‚Äã","type":1,"pageTitle":"ÁºñËØëÂô®ÊåáÂçó","url":"/zh-CN/docs/compiler/compiler_guide#Á±ªÂûãÂêçÈáçÂ§ç","content":" Error: Duplicate type name: User   ‰øÆÂ§çÊñπÂºèÔºöÁ°Æ‰øùÂêå‰∏ÄÊñá‰ª∂ÂÜÖÊØè‰∏™ enum/message ÂêçÁß∞ÂîØ‰∏Ä„ÄÇ  ","version":"0.15","tagName":"h3"},{"title":"Á±ªÂûã ID ÈáçÂ§ç‚Äã","type":1,"pageTitle":"ÁºñËØëÂô®ÊåáÂçó","url":"/zh-CN/docs/compiler/compiler_guide#Á±ªÂûã-id-ÈáçÂ§ç","content":" Error: Duplicate type ID 100: User and Order   ‰øÆÂ§çÊñπÂºèÔºö‰∏∫ÊØè‰∏™Á±ªÂûãÂàÜÈÖçÂîØ‰∏Ä ID„ÄÇ  ","version":"0.15","tagName":"h3"},{"title":"Êú™Áü•Á±ªÂûãÂºïÁî®‚Äã","type":1,"pageTitle":"ÁºñËØëÂô®ÊåáÂçó","url":"/zh-CN/docs/compiler/compiler_guide#Êú™Áü•Á±ªÂûãÂºïÁî®","content":" Error: Unknown type 'Address' in Customer.address   ‰øÆÂ§çÊñπÂºèÔºöÂÖàÂÆö‰πâË¢´ÂºïÁî®Á±ªÂûãÔºåÊàñÊ£ÄÊü•Á±ªÂûãÂêçÊãºÂÜô„ÄÇ  ","version":"0.15","tagName":"h3"},{"title":"Â≠óÊÆµÂè∑ÈáçÂ§ç‚Äã","type":1,"pageTitle":"ÁºñËØëÂô®ÊåáÂçó","url":"/zh-CN/docs/compiler/compiler_guide#Â≠óÊÆµÂè∑ÈáçÂ§ç","content":" Error: Duplicate field number 1 in User: name and id   ‰øÆÂ§çÊñπÂºèÔºöÁ°Æ‰øùÂêå‰∏Ä message ÂÜÖÂ≠óÊÆµÂè∑ÂîØ‰∏Ä„ÄÇ  ","version":"0.15","tagName":"h3"},{"title":"ÊúÄ‰Ω≥ÂÆûË∑µ‚Äã","type":1,"pageTitle":"ÁºñËØëÂô®ÊåáÂçó","url":"/zh-CN/docs/compiler/compiler_guide#ÊúÄ‰Ω≥ÂÆûË∑µ","content":" ","version":"0.15","tagName":"h2"},{"title":"È°πÁõÆÁªìÊûÑ‚Äã","type":1,"pageTitle":"ÁºñËØëÂô®ÊåáÂçó","url":"/zh-CN/docs/compiler/compiler_guide#È°πÁõÆÁªìÊûÑ","content":" project/ ‚îú‚îÄ‚îÄ fdl/ ‚îÇ ‚îú‚îÄ‚îÄ common.fdl # Shared types ‚îÇ ‚îú‚îÄ‚îÄ user.fdl # User domain ‚îÇ ‚îî‚îÄ‚îÄ order.fdl # Order domain ‚îú‚îÄ‚îÄ src/ ‚îÇ ‚îî‚îÄ‚îÄ generated/ # Generated code (git-ignored) ‚îî‚îÄ‚îÄ build.gradle   ","version":"0.15","tagName":"h3"},{"title":"ÁâàÊú¨ÊéßÂà∂‚Äã","type":1,"pageTitle":"ÁºñËØëÂô®ÊåáÂçó","url":"/zh-CN/docs/compiler/compiler_guide#ÁâàÊú¨ÊéßÂà∂","content":" Á∫≥ÂÖ•ÁâàÊú¨ÊéßÂà∂ÔºöFory IDL schema Êñá‰ª∂ÂøΩÁï•ÁîüÊàê‰ª£Á†ÅÔºöÂèØÂú®ÊûÑÂª∫Êó∂ÂÜçÁîüÊàê  Âú® .gitignore ‰∏≠Âä†ÂÖ•Ôºö  # Generated Fory IDL code src/generated/ generated/   ","version":"0.15","tagName":"h3"},{"title":"CI/CD ÈõÜÊàê‚Äã","type":1,"pageTitle":"ÁºñËØëÂô®ÊåáÂçó","url":"/zh-CN/docs/compiler/compiler_guide#cicd-ÈõÜÊàê","content":" Âú®ÊûÑÂª∫ÊµÅÁ®ã‰∏≠ÂßãÁªàÈáçÊñ∞ÁîüÊàê‰ª£Á†ÅÔºö  # GitHub Actions Á§∫‰æã steps: - name: Install Fory IDL Compiler run: pip install ./compiler - name: Generate Types run: foryc fdl/*.fdl --output src/generated - name: Build run: ./gradlew build   ","version":"0.15","tagName":"h3"},{"title":"Schema ÊºîËøõ‚Äã","type":1,"pageTitle":"ÁºñËØëÂô®ÊåáÂçó","url":"/zh-CN/docs/compiler/compiler_guide#schema-ÊºîËøõ","content":" ‰øÆÊîπ schema Êó∂Âª∫ËÆÆÈÅµÂæ™Ôºö  ‰∏çË¶ÅÂ§çÁî®Â≠óÊÆµÂè∑ÔºöÂà†Èô§Â≠óÊÆµÂêéÂ∫î‰øùÁïô/È¢ÑÁïô‰∏çË¶ÅÊîπÂä®Á±ªÂûã IDÔºöÁ±ªÂûã ID Â±û‰∫é‰∫åËøõÂà∂ÂçèËÆÆÁöÑ‰∏ÄÈÉ®ÂàÜÊñ∞Â¢ûÂ≠óÊÆµ‰ΩøÁî®Êñ∞Â≠óÊÆµÂè∑‰ºòÂÖà‰ΩøÁî® optionalÔºö‰øùÊåÅÂêëÂêéÂÖºÂÆπ  message User [id=100] { string id = 1; string name = 2; // Field 3 was removed, don't reuse optional string email = 4; // New field }   ","version":"0.15","tagName":"h3"},{"title":"ÊïÖÈöúÊéíÊü•‚Äã","type":1,"pageTitle":"ÁºñËØëÂô®ÊåáÂçó","url":"/zh-CN/docs/compiler/compiler_guide#ÊïÖÈöúÊéíÊü•","content":" ","version":"0.15","tagName":"h2"},{"title":"Command Not Found‚Äã","type":1,"pageTitle":"ÁºñËØëÂô®ÊåáÂçó","url":"/zh-CN/docs/compiler/compiler_guide#command-not-found","content":" foryc: command not found   Ëß£ÂÜ≥Ôºö Á°ÆËÆ§ÁºñËØëÂô®Â∑≤ÂÆâË£Ö‰∏îÂú® PATH ‰∏≠Ôºö  pip install -e ./compiler # Or add to PATH export PATH=$PATH:~/.local/bin   ","version":"0.15","tagName":"h3"},{"title":"Permission Denied‚Äã","type":1,"pageTitle":"ÁºñËØëÂô®ÊåáÂçó","url":"/zh-CN/docs/compiler/compiler_guide#permission-denied","content":" Permission denied: ./generated   Ëß£ÂÜ≥Ôºö Á°Æ‰øùËæìÂá∫ÁõÆÂΩïÂÖ∑Â§áÂÜôÊùÉÈôêÔºö  chmod -R u+w ./generated   ","version":"0.15","tagName":"h3"},{"title":"ÁîüÊàê‰ª£Á†Å import ÈîôËØØ‚Äã","type":1,"pageTitle":"ÁºñËØëÂô®ÊåáÂçó","url":"/zh-CN/docs/compiler/compiler_guide#ÁîüÊàê‰ª£Á†Å-import-ÈîôËØØ","content":" JavaÔºö Á°Æ‰øùÈ°πÁõÆÂåÖÂê´ Fory ‰æùËµñÔºö  &lt;dependency&gt; &lt;groupId&gt;org.apache.fory&lt;/groupId&gt; &lt;artifactId&gt;fory-core&lt;/artifactId&gt; &lt;version&gt;${fory.version}&lt;/version&gt; &lt;/dependency&gt;   PythonÔºö Á°Æ‰øùÂÆâË£Ö pyforyÔºö  pip install pyfory   GoÔºö Á°Æ‰øùÂèØËé∑Âèñ fory Ê®°ÂùóÔºö  go get github.com/apache/fory/go/fory   RustÔºö Á°Æ‰øù Cargo.toml ‰∏≠ÂåÖÂê´ fory crateÔºö  [dependencies] fory = &quot;x.y.z&quot;   C++Ôºö Á°Æ‰øùÁºñËØëÂô® include Ë∑ØÂæÑÂèØÊâæÂà∞ Fory Â§¥Êñá‰ª∂„ÄÇ ","version":"0.15","tagName":"h3"},{"title":"Protobuf IDL ÊîØÊåÅ","type":0,"sectionRef":"#","url":"/zh-CN/docs/compiler/protobuf_idl_support","content":"","keywords":"","version":"0.15"},{"title":"Êú¨È°µÂÜÖÂÆπ‚Äã","type":1,"pageTitle":"Protobuf IDL ÊîØÊåÅ","url":"/zh-CN/docs/compiler/protobuf_idl_support#Êú¨È°µÂÜÖÂÆπ","content":" Â¶Ç‰ΩïÂú®ÂÖ∑‰ΩìÂú∫ÊôØ‰∏ãÈÄâÊã© protobuf Êàñ ForyËøÅÁßªÊó∂ÈúÄË¶ÅÂÖ≥Ê≥®ÁöÑËØ≠Ê≥ï‰∏éËØ≠‰πâÂ∑ÆÂºÇ.proto Êñá‰ª∂‰∏≠ÊîØÊåÅÁöÑ Fory Êâ©Â±ïÈÄâÈ°π‰ªé protobuf ËøÅÁßªÂà∞ Fory ÁöÑÂÆûË∑µË∑ØÂæÑ  ","version":"0.15","tagName":"h2"},{"title":"Âø´ÈÄüÂÜ≥Á≠ñÊåáÂçó‚Äã","type":1,"pageTitle":"Protobuf IDL ÊîØÊåÅ","url":"/zh-CN/docs/compiler/protobuf_idl_support#Âø´ÈÄüÂÜ≥Á≠ñÊåáÂçó","content":" Âú∫ÊôØ\tÂª∫ËÆÆÊ†ºÂºè‰∏ªË¶ÅÊûÑÂª∫ gRPC APIÔºå‰æùËµñ protobuf Â∑•ÂÖ∑Èìæ\tProtocol Buffers ÈúÄË¶ÅÊûÅËá¥ÂØπË±°ÂõæÊÄßËÉΩ‰∏éÂºïÁî®Ë∑üË∏™\tFory ÈúÄË¶ÅÂú®Â∫èÂàóÂåñÊï∞ÊçÆ‰∏≠Ë°®ËææÂæ™ÁéØ/ÂÖ±‰∫´ÂºïÁî®\tFory ÈúÄË¶ÅÂº∫ unknown-field ËØ≠‰πâ‰øùËØÅÁ∫øÊ†ºÂºèÂÖºÂÆπ\tProtocol Buffers Â∏åÊúõÁõ¥Êé•‰ΩøÁî®ÂéüÁîü struct/classÔºåËÄåÈùû protobuf ÂåÖË£ÖÁ±ªÂûã\tFory  ","version":"0.15","tagName":"h2"},{"title":"Protobuf ‰∏é Fory ÂØπÊØî‚Äã","type":1,"pageTitle":"Protobuf IDL ÊîØÊåÅ","url":"/zh-CN/docs/compiler/protobuf_idl_support#protobuf-‰∏é-fory-ÂØπÊØî","content":" Áª¥Â∫¶\tProtocol Buffers\tFory‰∏ªË¶ÅÁõÆÊ†á\tRPC/Ê∂àÊÅØÂ•ëÁ∫¶\tÈ´òÊÄßËÉΩÂØπË±°Â∫èÂàóÂåñ ÁºñÁ†ÅÊ®°Âûã\tTag-Length-Value\tFory ‰∫åËøõÂà∂ÂçèËÆÆ ÂºïÁî®Ë∑üË∏™\tÈùûÂÜÖÂª∫\t‰∏ÄÁ≠âÊîØÊåÅÔºàrefÔºâ Âæ™ÁéØÂºïÁî®\t‰∏çÊîØÊåÅ\tÊîØÊåÅ Êú™Áü•Â≠óÊÆµ\t‰øùÁïô\t‰∏ç‰øùÁïô ÁîüÊàêÁ±ªÂûã\tprotobuf ‰∏ìÁî®Ê®°ÂûãÁ±ªÂûã\tËØ≠Ë®ÄÂéüÁîüÊûÑÈÄ† gRPC ÁîüÊÄÅ\tÂéüÁîüÊàêÁÜü\tÊåÅÁª≠Âª∫ËÆæ‰∏≠ÔºàÊ¥ªË∑ÉÂºÄÂèëÔºâ  Fory ÁöÑ gRPC ÊîØÊåÅ‰ªçÂú®ÊåÅÁª≠ÂºÄÂèë‰∏≠„ÄÇÂΩìÂâçÁîü‰∫ßÁ∫ß gRPC Â∑•‰ΩúÊµÅÈáåÔºåprotobuf ‰ªçÊòØÊõ¥ÊàêÁÜüÁöÑÈªòËÆ§ÈÄâÊã©„ÄÇ  ","version":"0.15","tagName":"h2"},{"title":"‰∏∫‰ªÄ‰πà‰ΩøÁî® Apache Fory‚Äã","type":1,"pageTitle":"Protobuf IDL ÊîØÊåÅ","url":"/zh-CN/docs/compiler/protobuf_idl_support#‰∏∫‰ªÄ‰πà‰ΩøÁî®-apache-fory","content":" ‰ª£Á†ÅÊõ¥Ë¥¥ËøëËØ≠Ë®Ä‰π†ÊÉØÔºöFory IDL ÁîüÊàêÁöÑÁ±ªÂíåÁªìÊûÑ‰ΩìÂèØÁõ¥Êé•‰Ωú‰∏∫‰∏öÂä°È¢ÜÂüüÂØπË±°‰ΩøÁî®„ÄÇÂ∫èÂàóÂåñÊÄßËÉΩÊõ¥È´òÔºöÂú® Fory Âü∫ÂáÜ‰∏≠ÔºåFory Âú®ÂØπË±°Â∫èÂàóÂåñÂú∫ÊôØ‰∏≠ÂèØÊòæËëóÂø´‰∫é protobuf„ÄÇÂØπË±°ÂõæË°®ËææÊõ¥Ëá™ÁÑ∂ÔºöÂÖ±‰∫´ÂºïÁî®ÂíåÂæ™ÁéØÂºïÁî®ÊòØÂÜÖÂª∫ËÉΩÂäõÔºåÊó†ÈúÄÈÄöËøá‰∏öÂä°Â±Ç ID ÂÖ≥ËÅîÁªïËøá„ÄÇ  ÊÄßËÉΩÁªÜËäÇËØ∑ÂèÇËßÅ ÊÄßËÉΩÂèÇËÄÉ„ÄÇ  ","version":"0.15","tagName":"h2"},{"title":"ËØ≠Ê≥ï‰∏éËØ≠‰πâÊò†Â∞Ñ‚Äã","type":1,"pageTitle":"Protobuf IDL ÊîØÊåÅ","url":"/zh-CN/docs/compiler/protobuf_idl_support#ËØ≠Ê≥ï‰∏éËØ≠‰πâÊò†Â∞Ñ","content":" ","version":"0.15","tagName":"h2"},{"title":"Package ‰∏éÊñá‰ª∂Á∫ßÈÄâÈ°π‚Äã","type":1,"pageTitle":"Protobuf IDL ÊîØÊåÅ","url":"/zh-CN/docs/compiler/protobuf_idl_support#package-‰∏éÊñá‰ª∂Á∫ßÈÄâÈ°π","content":" Protocol Buffers  syntax = &quot;proto3&quot;; package example.models; option java_package = &quot;com.example.models&quot;; option go_package = &quot;example.com/models&quot;;   Fory  package example.models;   Fory ‰ΩøÁî®Áªü‰∏Ä package ÂëΩÂêçÁ©∫Èó¥ÂÅöË∑®ËØ≠Ë®ÄÊ≥®ÂÜå„ÄÇËØ≠Ë®ÄÁâπÂÆöÁöÑÂåÖË∑ØÂæÑ‰ªçÂèØÂú®‰ª£Á†ÅÁîüÊàêÈò∂ÊÆµÂçïÁã¨ÈÖçÁΩÆ„ÄÇ  ","version":"0.15","tagName":"h3"},{"title":"Message ‰∏é Enum ÂÆö‰πâ‚Äã","type":1,"pageTitle":"Protobuf IDL ÊîØÊåÅ","url":"/zh-CN/docs/compiler/protobuf_idl_support#message-‰∏é-enum-ÂÆö‰πâ","content":" Protocol Buffers  message User { string id = 1; string name = 2; optional string email = 3; int32 age = 4; repeated string tags = 5; map&lt;string, string&gt; metadata = 6; } enum Status { STATUS_UNSPECIFIED = 0; STATUS_ACTIVE = 1; }   Fory  message User [id=101] { string id = 1; string name = 2; optional string email = 3; int32 age = 4; list&lt;string&gt; tags = 5; map&lt;string, string&gt; metadata = 6; } enum Status [id=102] { UNKNOWN = 0; ACTIVE = 1; }   ÂÖ≥ÈîÆÂ∑ÆÂºÇÔºö  Fory ÂèØÁõ¥Êé•ÂàÜÈÖçÁ®≥ÂÆöÁ±ªÂûã IDÔºà[id=...]Ôºâ„ÄÇFory ‰ΩøÁî® list&lt;T&gt;Ôºàrepeated T ‰∏∫ÂÖºÂÆπÂà´ÂêçÔºâ„ÄÇÊûö‰∏æÂëΩÂêçÊõ¥ÂÅèÂêëËØ≠Ë®Ä‰π†ÊÉØÔºåËÄåÈùû protobuf ÂâçÁºÄÈ£éÊ†º„ÄÇ  ","version":"0.15","tagName":"h3"},{"title":"oneof Âà∞ union‚Äã","type":1,"pageTitle":"Protobuf IDL ÊîØÊåÅ","url":"/zh-CN/docs/compiler/protobuf_idl_support#oneof-Âà∞-union","content":" protobuf ÁöÑ oneof ‰ºöË¢´ÁøªËØë‰∏∫ÂµåÂ•ó Fory unionÔºåÂπ∂Â¢ûÂä†‰∏Ä‰∏™ÂèØÈÄâÂ≠óÊÆµÊåáÂêëËØ• union„ÄÇ  Protocol Buffers  message Event { oneof payload { string text = 1; int32 number = 2; } }   ËΩ¨Êç¢ÂêéÁöÑ Fory ÁªìÊûÑ  message Event { union payload { string text = 1; int32 number = 2; } optional payload payload = 1; }   ËØ¥ÊòéÔºö  union case ID Êù•Ëá™Âéü oneof Â≠óÊÆµÂè∑„ÄÇËá™Âä®ÁîüÊàêÁöÑ union ÂºïÁî®Â≠óÊÆµ‰ΩøÁî® oneof ‰∏≠ÊúÄÂ∞èÂ≠óÊÆµÂè∑„ÄÇ  ","version":"0.15","tagName":"h3"},{"title":"Import ‰∏é Well-Known Types‚Äã","type":1,"pageTitle":"Protobuf IDL ÊîØÊåÅ","url":"/zh-CN/docs/compiler/protobuf_idl_support#import-‰∏é-well-known-types","content":" ÊîØÊåÅ protobuf import„ÄÇÂ∏∏ËßÅ well-known types ‰ºöÁõ¥Êé•Êò†Â∞ÑÔºö  google.protobuf.Timestamp -&gt; timestampgoogle.protobuf.Duration -&gt; durationgoogle.protobuf.Any -&gt; any  ","version":"0.15","tagName":"h3"},{"title":"Á±ªÂûãÊò†Â∞ÑË¶ÅÁÇπ‚Äã","type":1,"pageTitle":"Protobuf IDL ÊîØÊåÅ","url":"/zh-CN/docs/compiler/protobuf_idl_support#Á±ªÂûãÊò†Â∞ÑË¶ÅÁÇπ","content":" Protobuf Type\tFory Êò†Â∞Ñbool\tbool int32, uint32\tÂèØÂèòÈïø 32 ‰ΩçÊï¥ÂûãÂÆ∂Êóè sint32\tzigzag 32 ‰ΩçÊï¥Âûã int64, uint64\tÂèØÂèòÈïø 64 ‰ΩçÊï¥ÂûãÂÆ∂Êóè sint64\tzigzag 64 ‰ΩçÊï¥Âûã fixed32, fixed64\tÂÆöÈïøÊó†Á¨¶Âè∑Êï¥ÂûãÂÆ∂Êóè sfixed32, sfixed64\tÂÆöÈïøÊúâÁ¨¶Âè∑Êï¥ÂûãÂÆ∂Êóè float, double\tfloat32, float64 string, bytes\tstring, bytes repeated T\tlist&lt;T&gt; map&lt;K, V&gt;\tmap&lt;K, V&gt; optional T\toptional T oneof\tunion + ÂèØÈÄâ union ÂºïÁî®Â≠óÊÆµ int64 [(fory).type = &quot;tagged_int64&quot;]\ttagged_int64 ÁºñÁ†Å uint64 [(fory).type = &quot;tagged_uint64&quot;]\ttagged_uint64 ÁºñÁ†Å  ","version":"0.15","tagName":"h2"},{"title":"Fory Êâ©Â±ïÈÄâÈ°πÔºàProtobufÔºâ‚Äã","type":1,"pageTitle":"Protobuf IDL ÊîØÊåÅ","url":"/zh-CN/docs/compiler/protobuf_idl_support#fory-Êâ©Â±ïÈÄâÈ°πprotobuf","content":" .proto Êñá‰ª∂‰∏≠ÁöÑ Fory ‰∏ìÁî®ÈÄâÈ°π‰ΩøÁî® (fory). ÂâçÁºÄ„ÄÇ  option (fory).enable_auto_type_id = true; message TreeNode { TreeNode parent = 1 [(fory).weak_ref = true]; repeated TreeNode children = 2 [(fory).ref = true]; }   ","version":"0.15","tagName":"h2"},{"title":"Êñá‰ª∂Á∫ßÈÄâÈ°π‚Äã","type":1,"pageTitle":"Protobuf IDL ÊîØÊåÅ","url":"/zh-CN/docs/compiler/protobuf_idl_support#Êñá‰ª∂Á∫ßÈÄâÈ°π","content":" ÈÄâÈ°π\tÁ±ªÂûã\tËØ¥Êòé(fory).use_record_for_java_message\tbool\tÂØπËØ•Êñá‰ª∂ÊâÄÊúâ message ÁîüÊàê Java record (fory).polymorphism\tbool\tÈªòËÆ§ÂºÄÂêØÂ§öÊÄÅÂ∫èÂàóÂåñÂÖÉ‰ø°ÊÅØ (fory).enable_auto_type_id\tbool\tÁº∫Â§±Êó∂Ëá™Âä®ÁîüÊàêÁ±ªÂûã IDÔºàÁºñËØëÂô®ÈªòËÆ§ trueÔºâ (fory).evolving\tbool\tmessage ÁöÑÈªòËÆ§ schema ÊºîËøõË°å‰∏∫ (fory).go_nested_type_style\tstring\tGo ÂµåÂ•óÂëΩÂêçÈ£éÊ†ºÔºöunderscoreÔºàÈªòËÆ§ÔºâÊàñ camelcase  ","version":"0.15","tagName":"h3"},{"title":"Message ‰∏é Enum Á∫ßÈÄâÈ°π‚Äã","type":1,"pageTitle":"Protobuf IDL ÊîØÊåÅ","url":"/zh-CN/docs/compiler/protobuf_idl_support#message-‰∏é-enum-Á∫ßÈÄâÈ°π","content":" ÈÄâÈ°π\t‰ΩúÁî®ÂØπË±°\tÁ±ªÂûã\tËØ¥Êòé(fory).id\tmessage, enum\tint\tÊòæÂºèÁ±ªÂûã IDÔºàÁî®‰∫éÊ≥®ÂÜåÔºâ (fory).alias\tmessage, enum\tstring\tËá™Âä® ID ÂìàÂ∏å‰ΩøÁî®ÁöÑÂà´Âêç (fory).evolving\tmessage\tbool\tË¶ÜÁõñÊñá‰ª∂Á∫ßÊºîËøõËÆæÁΩÆ (fory).use_record_for_java\tmessage\tbool\t‰∏∫ËØ• message ÁîüÊàê Java record (fory).deprecated\tmessage, enum\tbool\tÊ†áËÆ∞Á±ªÂûã‰∏∫ÂºÉÁî® (fory).namespace\tmessage\tstring\tË¶ÜÁõñÈªòËÆ§ package ÂëΩÂêçÁ©∫Èó¥  ","version":"0.15","tagName":"h3"},{"title":"Â≠óÊÆµÁ∫ßÈÄâÈ°π‚Äã","type":1,"pageTitle":"Protobuf IDL ÊîØÊåÅ","url":"/zh-CN/docs/compiler/protobuf_idl_support#Â≠óÊÆµÁ∫ßÈÄâÈ°π","content":" ÈÄâÈ°π\tÁ±ªÂûã\tËØ¥Êòé(fory).ref\tbool\t‰∏∫ËØ•Â≠óÊÆµÂêØÁî®ÂºïÁî®Ë∑üË∏™ (fory).nullable\tbool\tÂ∞ÜÂ≠óÊÆµËßÜ‰∏∫ÂèØÁ©∫ÔºàoptionalÔºâ (fory).weak_ref\tbool\tÁîüÊàêÂº±ÊåáÈíàËØ≠‰πâÔºàC++/Rust ‰ª£Á†ÅÁîüÊàêÔºâ (fory).thread_safe_pointer\tbool\tref Â≠óÊÆµÂú® Rust ‰∏≠ÁöÑÊåáÈíàÁ±ªÂûãÔºàArc vs RcÔºâ (fory).deprecated\tbool\tÊ†áËÆ∞Â≠óÊÆµ‰∏∫ÂºÉÁî® (fory).type\tstring\tÂü∫Á°ÄÁ±ªÂûãË¶ÜÁõñÔºåÁõÆÂâçÊîØÊåÅ tagged_int64/tagged_uint64  ÂºïÁî®Áõ∏ÂÖ≥Ë°å‰∏∫Ôºö  weak_ref = true ÈöêÂê´ÂºÄÂêØ ref Ë∑üË∏™„ÄÇÂØπ repeated Â≠óÊÆµÔºå(fory).ref = true ‰ΩúÁî®‰∫éÂàóË°®ÂÖÉÁ¥†„ÄÇÂØπ map&lt;K, V&gt; Â≠óÊÆµÔºå(fory).ref = true ‰ΩúÁî®‰∫é map value„ÄÇweak_ref ‰∏é thread_safe_pointer ÊòØ C++/Rust ‰ª£Á†ÅÁîüÊàêÊèêÁ§∫„ÄÇ  ","version":"0.15","tagName":"h3"},{"title":"ÂÖ∏ÂûãÈÄâÈ°πÁªÑÂêàÁ§∫‰æã‚Äã","type":1,"pageTitle":"Protobuf IDL ÊîØÊåÅ","url":"/zh-CN/docs/compiler/protobuf_idl_support#ÂÖ∏ÂûãÈÄâÈ°πÁªÑÂêàÁ§∫‰æã","content":" message Graph { Node root = 1 [(fory).ref = true, (fory).thread_safe_pointer = false]; repeated Node nodes = 2 [(fory).ref = true]; map&lt;string, Node&gt; cache = 3 [(fory).ref = true]; Node parent = 4 [(fory).weak_ref = true]; }   ","version":"0.15","tagName":"h3"},{"title":"ÂºïÁî®Ë∑üË∏™ vs Protobuf ID ÂÖ≥ËÅî‚Äã","type":1,"pageTitle":"Protobuf IDL ÊîØÊåÅ","url":"/zh-CN/docs/compiler/protobuf_idl_support#ÂºïÁî®Ë∑üË∏™-vs-protobuf-id-ÂÖ≥ËÅî","content":" protobuf Êú¨Ë∫´‰∏ç‰øùÁïôÂÖ±‰∫´/Âæ™ÁéØÂØπË±°Âõæ„ÄÇÂÄüÂä© Fory protobuf Êâ©Â±ïÔºåÂèØ‰ª•ÊòæÂºèÂêØÁî®ÂØπË±°ÂõæËØ≠‰πâ„ÄÇ  ‰∏ç‰ΩøÁî® Fory ref ÈÄâÈ°πÔºàprotobuf È£éÊ†º ID ÂÖ≥ËÅîÔºâÔºö  message TreeNode { string id = 1; string parent_id = 2; repeated string child_ids = 3; }   ‰ΩøÁî® Fory ref ÈÄâÈ°πÔºàÂØπË±°ÂõæËØ≠‰πâÔºâÔºö  message TreeNode { TreeNode parent = 1 [(fory).weak_ref = true]; repeated TreeNode children = 2 [(fory).ref = true]; }   ","version":"0.15","tagName":"h2"},{"title":"ËøÅÁßªÊåáÂçóÔºöProtobuf Âà∞ Fory‚Äã","type":1,"pageTitle":"Protobuf IDL ÊîØÊåÅ","url":"/zh-CN/docs/compiler/protobuf_idl_support#ËøÅÁßªÊåáÂçóprotobuf-Âà∞-fory","content":" ","version":"0.15","tagName":"h2"},{"title":"Á¨¨ 1 Ê≠•ÔºöËΩ¨Êç¢ schema ËØ≠Ê≥ï‚Äã","type":1,"pageTitle":"Protobuf IDL ÊîØÊåÅ","url":"/zh-CN/docs/compiler/protobuf_idl_support#Á¨¨-1-Ê≠•ËΩ¨Êç¢-schema-ËØ≠Ê≥ï","content":" ‰øùÊåÅ package ÂêçÁß∞Á®≥ÂÆö„ÄÇÂ∞Ü repeated T Êîπ‰∏∫ list&lt;T&gt;ÔºàÊàñ‰øùÁïô repeated Âà´ÂêçÔºâ„ÄÇÂú®ÈúÄË¶ÅÁ®≥ÂÆöÊï∞ÂÄºÊ≥®ÂÜåÁöÑ‰ΩçÁΩÆÊ∑ªÂä†ÊòæÂºè [id=...]„ÄÇ  ","version":"0.15","tagName":"h3"},{"title":"Á¨¨ 2 Ê≠•ÔºöÂ§ÑÁêÜ oneof ‰∏éÁâπÊÆäÁ±ªÂûã‚Äã","type":1,"pageTitle":"Protobuf IDL ÊîØÊåÅ","url":"/zh-CN/docs/compiler/protobuf_idl_support#Á¨¨-2-Ê≠•Â§ÑÁêÜ-oneof-‰∏éÁâπÊÆäÁ±ªÂûã","content":" oneof -&gt; union + ÂèØÈÄâ union Â≠óÊÆµ„ÄÇÂ∞Ü protobuf well-known types Êò†Â∞ÑÂà∞ Fory Âü∫Á°ÄÁ±ªÂûãÔºàtimestamp„ÄÅduration„ÄÅanyÔºâ„ÄÇ  ","version":"0.15","tagName":"h3"},{"title":"Á¨¨ 3 Ê≠•ÔºöÁî® ref ÊõøÊç¢ protobuf ÁöÑÂØπË±°ÂõæÁªïËøáÊñπÊ°à‚Äã","type":1,"pageTitle":"Protobuf IDL ÊîØÊåÅ","url":"/zh-CN/docs/compiler/protobuf_idl_support#Á¨¨-3-Ê≠•Áî®-ref-ÊõøÊç¢-protobuf-ÁöÑÂØπË±°ÂõæÁªïËøáÊñπÊ°à","content":" Ëã• protobuf ÈáåÈÄöËøáÊâãÂ∑• ID ÂÖ≥ËÅîË°®ËææÂØπË±°ÂõæÔºåËøÅÁßªÂà∞ Fory ÂêéÂ∫îÊîπÁî® ref ‰øÆÈ•∞Á¨¶ÔºàÂøÖË¶ÅÊó∂‰ΩøÁî® ref(weak=true)Ôºâ„ÄÇ  ","version":"0.15","tagName":"h3"},{"title":"Á¨¨ 4 Ê≠•ÔºöÊõ¥Êñ∞ÊûÑÂª∫‰∏é‰ª£Á†ÅÁîüÊàê‚Äã","type":1,"pageTitle":"Protobuf IDL ÊîØÊåÅ","url":"/zh-CN/docs/compiler/protobuf_idl_support#Á¨¨-4-Ê≠•Êõ¥Êñ∞ÊûÑÂª∫‰∏é‰ª£Á†ÅÁîüÊàê","content":" Â∞Ü protobuf ‰ª£Á†ÅÁîüÊàêÊ≠•È™§ÊõøÊç¢‰∏∫ Fory ÁºñËØëÂô®ÈíàÂØπÁõÆÊ†áËØ≠Ë®ÄÁöÑÁîüÊàêÂëΩ‰ª§„ÄÇ  ","version":"0.15","tagName":"h3"},{"title":"Á¨¨ 5 Ê≠•ÔºöÊâßË°åÂÖºÂÆπÊÄßÈ™åËØÅ‚Äã","type":1,"pageTitle":"Protobuf IDL ÊîØÊåÅ","url":"/zh-CN/docs/compiler/protobuf_idl_support#Á¨¨-5-Ê≠•ÊâßË°åÂÖºÂÆπÊÄßÈ™åËØÅ","content":" ÂàÜÈò∂ÊÆµËøÅÁßªÊó∂ÔºåÂèØÂπ∂Ë°å‰øùÁïô‰∏§ÁßçÊ†ºÂºèÔºåÂπ∂ÈÄöËøáÈõÜÊàêÊµãËØïÈ™åËØÅ payload Á∫ß‰∏ÄËá¥ÊÄß„ÄÇ  ","version":"0.15","tagName":"h3"},{"title":"ÂÖ±Â≠òÁ≠ñÁï•‚Äã","type":1,"pageTitle":"Protobuf IDL ÊîØÊåÅ","url":"/zh-CN/docs/compiler/protobuf_idl_support#ÂÖ±Â≠òÁ≠ñÁï•","content":" ËøÅÁßªÊúüÈó¥ÂèØ‰ª•Âπ∂Ë°åËøêË°å protobuf ‰∏é ForyÔºö  public byte[] serialize(Object obj, Format format) { if (format == Format.PROTOBUF) { return ((MessageLite) obj).toByteArray(); } return fory.serialize(obj); }   ÂèØÂú®ÊúçÂä°ËæπÁïåËÆæÁΩÆËΩ¨Êç¢Â±ÇÔºåÂπ∂‰ºòÂÖàËøÅÁßªÂÜÖÈÉ®ÂØπË±°ÂõæËæÉÈáçÁöÑÈìæË∑Ø„ÄÇ  ","version":"0.15","tagName":"h2"},{"title":"ÊÄßËÉΩÂèÇËÄÉ‚Äã","type":1,"pageTitle":"Protobuf IDL ÊîØÊåÅ","url":"/zh-CN/docs/compiler/protobuf_idl_support#ÊÄßËÉΩÂèÇËÄÉ","content":" Benchmarks: https://fory.apache.org/docs/introduction/benchmarkBenchmark code: https://github.com/apache/fory/tree/main/benchmarks  ","version":"0.15","tagName":"h2"},{"title":"ÊÄªÁªì‚Äã","type":1,"pageTitle":"Protobuf IDL ÊîØÊåÅ","url":"/zh-CN/docs/compiler/protobuf_idl_support#ÊÄªÁªì","content":" ÂΩì‰∏ªË¶ÅÂÖ≥Ê≥® API Â•ëÁ∫¶‰∏é gRPC ÁîüÊÄÅÊó∂ÔºåÂª∫ËÆÆ‰ΩøÁî® protobuf„ÄÇËã•‰∏ªË¶ÅÂÖ≥Ê≥®ÂØπË±°ÂõæÊÄßËÉΩ„ÄÅÂéüÁîüÊï∞ÊçÆÊ®°Âûã‰∏éÂºïÁî®ËØ≠‰πâÔºåÂª∫ËÆÆ‰ΩøÁî® Fory„ÄÇ ","version":"0.15","tagName":"h2"},{"title":"C++ Â∫èÂàóÂåñÊåáÂçó","type":0,"sectionRef":"#","url":"/zh-CN/docs/guide/cpp/","content":"","keywords":"","version":"0.15"},{"title":"‰∏∫‰ªÄ‰πàÈÄâÊã© Apache Fory‚Ñ¢ C++Ôºü‚Äã","type":1,"pageTitle":"C++ Â∫èÂàóÂåñÊåáÂçó","url":"/zh-CN/docs/guide/cpp/#‰∏∫‰ªÄ‰πàÈÄâÊã©-apache-fory-c","content":" üî• ÊûÅÈÄüÊÄßËÉΩÔºöÂø´ÈÄüÂ∫èÂàóÂåñÂíå‰ºòÂåñÁöÑ‰∫åËøõÂà∂ÂçèËÆÆüåç Ë∑®ËØ≠Ë®ÄÔºöÂú® Java„ÄÅPython„ÄÅC++„ÄÅGo„ÄÅJavaScript Âíå Rust ‰πãÈó¥Êó†ÁºùÂ∫èÂàóÂåñ/ÂèçÂ∫èÂàóÂåñÊï∞ÊçÆüéØ Á±ªÂûãÂÆâÂÖ®ÔºöÂü∫‰∫éÂÆèÁöÑÁªìÊûÑ‰ΩìÊ≥®ÂÜåÂÆûÁé∞ÁºñËØëÊó∂Á±ªÂûãÊ£ÄÊü•üîÑ ÂºïÁî®Ë∑üË∏™ÔºöËá™Âä®Ë∑üË∏™ÂÖ±‰∫´ÂºïÁî®ÂíåÂæ™ÁéØÂºïÁî®üì¶ Schema ÊºîÂåñÔºöÂÖºÂÆπÊ®°ÂºèÊîØÊåÅÁã¨Á´ãÁöÑ schema ÂèòÊõ¥‚ö° ÂèåÊ†ºÂºèÊîØÊåÅÔºöÂØπË±°ÂõæÂ∫èÂàóÂåñÂíåÈõ∂Êã∑Ë¥ùË°åÊ†ºÂºèüßµ Á∫øÁ®ãÂÆâÂÖ®ÔºöÂêåÊó∂Êèê‰æõÂçïÁ∫øÁ®ãÔºàÊúÄÂø´ÔºâÂíåÁ∫øÁ®ãÂÆâÂÖ®‰∏§ÁßçÂèò‰Ωì  ","version":"0.15","tagName":"h2"},{"title":"ÂÆâË£Ö‚Äã","type":1,"pageTitle":"C++ Â∫èÂàóÂåñÊåáÂçó","url":"/zh-CN/docs/guide/cpp/#ÂÆâË£Ö","content":" C++ ÂÆûÁé∞ÂêåÊó∂ÊîØÊåÅ CMake Âíå Bazel ÊûÑÂª∫Á≥ªÁªü„ÄÇ  ","version":"0.15","tagName":"h2"},{"title":"ÂâçÁΩÆÊù°‰ª∂‚Äã","type":1,"pageTitle":"C++ Â∫èÂàóÂåñÊåáÂçó","url":"/zh-CN/docs/guide/cpp/#ÂâçÁΩÆÊù°‰ª∂","content":" CMake 3.16+ÔºàÁî®‰∫é CMake ÊûÑÂª∫ÔºâÊàñ Bazel 8+ÔºàÁî®‰∫é Bazel ÊûÑÂª∫ÔºâC++17 ÂÖºÂÆπÁöÑÁºñËØëÂô®ÔºàGCC 7+„ÄÅClang 5+„ÄÅMSVC 2017+Ôºâ  ","version":"0.15","tagName":"h3"},{"title":"‰ΩøÁî® CMakeÔºàÊé®ËçêÔºâ‚Äã","type":1,"pageTitle":"C++ Â∫èÂàóÂåñÊåáÂçó","url":"/zh-CN/docs/guide/cpp/#‰ΩøÁî®-cmakeÊé®Ëçê","content":" ‰ΩøÁî® CMake ÁöÑ FetchContent Ê®°ÂùóÊòØÊúÄÁÆÄÂçïÁöÑÊñπÂºèÔºö  cmake_minimum_required(VERSION 3.16) project(my_project LANGUAGES CXX) set(CMAKE_CXX_STANDARD 17) set(CMAKE_CXX_STANDARD_REQUIRED ON) include(FetchContent) FetchContent_Declare( fory GIT_REPOSITORY https://github.com/apache/fory.git GIT_TAG v0.14.1 SOURCE_SUBDIR cpp ) FetchContent_MakeAvailable(fory) add_executable(my_app main.cc) target_link_libraries(my_app PRIVATE fory::serialization)   ÁÑ∂ÂêéÊûÑÂª∫Âπ∂ËøêË°åÔºö  mkdir build &amp;&amp; cd build cmake .. -DCMAKE_BUILD_TYPE=Release cmake --build . --parallel ./my_app   ","version":"0.15","tagName":"h3"},{"title":"‰ΩøÁî® Bazel‚Äã","type":1,"pageTitle":"C++ Â∫èÂàóÂåñÊåáÂçó","url":"/zh-CN/docs/guide/cpp/#‰ΩøÁî®-bazel","content":" Âú®È°πÁõÆÊ†πÁõÆÂΩïÂàõÂª∫ MODULE.bazel Êñá‰ª∂Ôºö  module( name = &quot;my_project&quot;, version = &quot;1.0.0&quot;, ) bazel_dep(name = &quot;rules_cc&quot;, version = &quot;0.1.1&quot;) bazel_dep(name = &quot;fory&quot;, version = &quot;0.14.1&quot;) git_override( module_name = &quot;fory&quot;, remote = &quot;https://github.com/apache/fory.git&quot;, commit = &quot;v0.14.1&quot;, # Êàñ‰ΩøÁî®ÁâπÂÆöÁöÑ commit hash ‰ª•Á°Æ‰øùÂèØÈáçÁé∞ÊÄß )   ‰∏∫Â∫îÁî®Á®ãÂ∫èÂàõÂª∫ BUILD Êñá‰ª∂Ôºö  cc_binary( name = &quot;my_app&quot;, srcs = [&quot;main.cc&quot;], deps = [&quot;@fory//cpp/fory/serialization:fory_serialization&quot;], )   ÁÑ∂ÂêéÊûÑÂª∫Âπ∂ËøêË°åÔºö  bazel build //:my_app bazel run //:my_app   ÂØπ‰∫éÊú¨Âú∞ÂºÄÂèëÔºåÂèØ‰ª•‰ΩøÁî® local_path_overrideÔºö  bazel_dep(name = &quot;fory&quot;, version = &quot;0.14.1&quot;) local_path_override( module_name = &quot;fory&quot;, path = &quot;/path/to/fory&quot;, )   ","version":"0.15","tagName":"h3"},{"title":"Á§∫‰æã‚Äã","type":1,"pageTitle":"C++ Â∫èÂàóÂåñÊåáÂçó","url":"/zh-CN/docs/guide/cpp/#Á§∫‰æã","content":" ËØ∑ÂèÇÈòÖ examples/cpp ÁõÆÂΩïËé∑ÂèñÂÆåÊï¥ÁöÑÂ∑•‰ΩúÁ§∫‰æãÔºö  hello_world - ÂØπË±°ÂõæÂ∫èÂàóÂåñhello_row - Ë°åÊ†ºÂºèÁºñÁ†Å  ","version":"0.15","tagName":"h3"},{"title":"Âø´ÈÄüÂºÄÂßã‚Äã","type":1,"pageTitle":"C++ Â∫èÂàóÂåñÊåáÂçó","url":"/zh-CN/docs/guide/cpp/#Âø´ÈÄüÂºÄÂßã","content":" ","version":"0.15","tagName":"h2"},{"title":"Âü∫Á°ÄÁ§∫‰æã‚Äã","type":1,"pageTitle":"C++ Â∫èÂàóÂåñÊåáÂçó","url":"/zh-CN/docs/guide/cpp/#Âü∫Á°ÄÁ§∫‰æã","content":" #include &quot;fory/serialization/fory.h&quot; using namespace fory::serialization; // ÂÆö‰πâÁªìÊûÑ‰Ωì struct Person { std::string name; int32_t age; std::vector&lt;std::string&gt; hobbies; bool operator==(const Person &amp;other) const { return name == other.name &amp;&amp; age == other.age &amp;&amp; hobbies == other.hobbies; } }; // ‰ΩøÁî® Fory Ê≥®ÂÜåÁªìÊûÑ‰ΩìÔºàÂøÖÈ°ªÂú®Âêå‰∏ÄÂëΩÂêçÁ©∫Èó¥‰∏≠Ôºâ FORY_STRUCT(Person, name, age, hobbies); int main() { // ÂàõÂª∫ Fory ÂÆû‰æã auto fory = Fory::builder() .xlang(true) // ÂêØÁî®Ë∑®ËØ≠Ë®ÄÊ®°Âºè .track_ref(false) // ÂØπÁÆÄÂçïÁ±ªÂûãÁ¶ÅÁî®ÂºïÁî®Ë∑üË∏™ .build(); // ‰ΩøÁî®ÂîØ‰∏Ä ID Ê≥®ÂÜåÁ±ªÂûã fory.register_struct&lt;Person&gt;(1); // ÂàõÂª∫ÂØπË±° Person person{&quot;Alice&quot;, 30, {&quot;reading&quot;, &quot;coding&quot;}}; // Â∫èÂàóÂåñ auto result = fory.serialize(person); if (!result.ok()) { // Â§ÑÁêÜÈîôËØØ return 1; } std::vector&lt;uint8_t&gt; bytes = std::move(result).value(); // ÂèçÂ∫èÂàóÂåñ auto deser_result = fory.deserialize&lt;Person&gt;(bytes); if (!deser_result.ok()) { // Â§ÑÁêÜÈîôËØØ return 1; } Person decoded = std::move(deser_result).value(); assert(person == decoded); return 0; }   ","version":"0.15","tagName":"h3"},{"title":"Á∫øÁ®ãÂÆâÂÖ®‚Äã","type":1,"pageTitle":"C++ Â∫èÂàóÂåñÊåáÂçó","url":"/zh-CN/docs/guide/cpp/#Á∫øÁ®ãÂÆâÂÖ®","content":" Apache Fory‚Ñ¢ C++ ‰∏∫‰∏çÂêåÁöÑÁ∫øÁ®ãÈúÄÊ±ÇÊèê‰æõ‰∏§ÁßçÂèò‰ΩìÔºö  ","version":"0.15","tagName":"h2"},{"title":"ÂçïÁ∫øÁ®ãÔºàÊúÄÂø´Ôºâ‚Äã","type":1,"pageTitle":"C++ Â∫èÂàóÂåñÊåáÂçó","url":"/zh-CN/docs/guide/cpp/#ÂçïÁ∫øÁ®ãÊúÄÂø´","content":" // ÂçïÁ∫øÁ®ã Fory - ÊúÄÂø´Ôºå‰ΩÜÈùûÁ∫øÁ®ãÂÆâÂÖ® auto fory = Fory::builder() .xlang(true) .build();   ","version":"0.15","tagName":"h3"},{"title":"Á∫øÁ®ãÂÆâÂÖ®‚Äã","type":1,"pageTitle":"C++ Â∫èÂàóÂåñÊåáÂçó","url":"/zh-CN/docs/guide/cpp/#Á∫øÁ®ãÂÆâÂÖ®-1","content":" // Á∫øÁ®ãÂÆâÂÖ® Fory - ‰ΩøÁî®‰∏ä‰∏ãÊñáÊ±† auto fory = Fory::builder() .xlang(true) .build_thread_safe(); // ÂèØ‰ª•‰ªéÂ§ö‰∏™Á∫øÁ®ãÂÆâÂÖ®‰ΩøÁî® std::thread t1([&amp;]() { auto result = fory.serialize(obj1); }); std::thread t2([&amp;]() { auto result = fory.serialize(obj2); });   ÊèêÁ§∫Ôºö Âú®ÁîüÊàêÁ∫øÁ®ã‰πãÂâçÂÆåÊàêÁ±ªÂûãÊ≥®ÂÜåÔºå‰ª•Á°Æ‰øùÊØè‰∏™Â∑•‰ΩúÁ∫øÁ®ãÁúãÂà∞Áõ∏ÂêåÁöÑÂÖÉÊï∞ÊçÆ„ÄÇ  ","version":"0.15","tagName":"h3"},{"title":"‰ΩøÁî®Âú∫ÊôØ‚Äã","type":1,"pageTitle":"C++ Â∫èÂàóÂåñÊåáÂçó","url":"/zh-CN/docs/guide/cpp/#‰ΩøÁî®Âú∫ÊôØ","content":" ","version":"0.15","tagName":"h2"},{"title":"ÂØπË±°Â∫èÂàóÂåñ‚Äã","type":1,"pageTitle":"C++ Â∫èÂàóÂåñÊåáÂçó","url":"/zh-CN/docs/guide/cpp/#ÂØπË±°Â∫èÂàóÂåñ","content":" ÂåÖÂê´ÂµåÂ•óÂØπË±°ÂíåÂºïÁî®ÁöÑÂ§çÊùÇÊï∞ÊçÆÁªìÊûÑÂæÆÊúçÂä°‰∏≠ÁöÑË∑®ËØ≠Ë®ÄÈÄö‰ø°ÂÖ∑ÊúâÂÆåÊï¥Á±ªÂûãÂÆâÂÖ®ÁöÑÈÄöÁî®Â∫èÂàóÂåñ‰ΩøÁî®ÂÖºÂÆπÊ®°ÂºèÁöÑ schema ÊºîÂåñ  ","version":"0.15","tagName":"h3"},{"title":"Ë°åÊ†ºÂºèÂ∫èÂàóÂåñ‚Äã","type":1,"pageTitle":"C++ Â∫èÂàóÂåñÊåáÂçó","url":"/zh-CN/docs/guide/cpp/#Ë°åÊ†ºÂºèÂ∫èÂàóÂåñ","content":" È´òÂêûÂêêÈáèÊï∞ÊçÆÂ§ÑÁêÜÈúÄË¶ÅÂø´ÈÄüÂ≠óÊÆµËÆøÈóÆÁöÑÂàÜÊûêÂ∑•‰ΩúË¥üËΩΩÂÜÖÂ≠òÂèóÈôêÁéØÂ¢ÉÈõ∂Êã∑Ë¥ùÂú∫ÊôØ  ","version":"0.15","tagName":"h3"},{"title":"ÂêéÁª≠Ê≠•È™§‚Äã","type":1,"pageTitle":"C++ Â∫èÂàóÂåñÊåáÂçó","url":"/zh-CN/docs/guide/cpp/#ÂêéÁª≠Ê≠•È™§","content":" ÈÖçÁΩÆ - ÊûÑÂª∫Âô®ÈÄâÈ°πÂíåÊ®°ÂºèÂü∫Á°ÄÂ∫èÂàóÂåñ - ÂØπË±°ÂõæÂ∫èÂàóÂåñSchema ÊºîÂåñ - ÂÖºÂÆπÊ®°ÂºèÂíå schema ÂèòÊõ¥Á±ªÂûãÊ≥®ÂÜå - Ê≥®ÂÜåÁ±ªÂûãÊîØÊåÅÁöÑÁ±ªÂûã - ÊâÄÊúâÊîØÊåÅÁöÑÁ±ªÂûãË∑®ËØ≠Ë®Ä - XLANG Ê®°ÂºèË°åÊ†ºÂºè - Èõ∂Êã∑Ë¥ùË°åÊ†ºÂºè ","version":"0.15","tagName":"h2"},{"title":"Schema IDL ËØ≠Ê≥ï","type":0,"sectionRef":"#","url":"/zh-CN/docs/compiler/syntax","content":"","keywords":"","version":"0.15"},{"title":"Êñá‰ª∂ÁªìÊûÑ‚Äã","type":1,"pageTitle":"Schema IDL ËØ≠Ê≥ï","url":"/zh-CN/docs/compiler/syntax#Êñá‰ª∂ÁªìÊûÑ","content":" ‰∏Ä‰∏™ Fory IDL Êñá‰ª∂ÈÄöÂ∏∏ÂåÖÂê´Ôºö  ÂèØÈÄâ package Â£∞ÊòéÂèØÈÄâÊñá‰ª∂Á∫ß optionÂèØÈÄâ import ËØ≠Âè•Á±ªÂûãÂÆö‰πâÔºàenum„ÄÅmessage„ÄÅunionÔºâ  // Optional package declaration package com.example.models; // Optional file-level options option java_package = &quot;com.example.models&quot;; // Import statements import &quot;common/types.fdl&quot;; // Type definitions enum Color [id=100] { ... } message User [id=101] { ... } message Order [id=102] { ... } union Event [id=103] { ... }   ","version":"0.15","tagName":"h2"},{"title":"Ê≥®Èáä‚Äã","type":1,"pageTitle":"Schema IDL ËØ≠Ê≥ï","url":"/zh-CN/docs/compiler/syntax#Ê≥®Èáä","content":" ÊîØÊåÅÂçïË°åÊ≥®Èáä‰∏éÂùóÊ≥®ÈáäÔºö  // This is a single-line comment /* * This is a block comment * that spans multiple lines */ message Example { string name = 1; // Inline comment }   ","version":"0.15","tagName":"h2"},{"title":"Package Â£∞Êòé‚Äã","type":1,"pageTitle":"Schema IDL ËØ≠Ê≥ï","url":"/zh-CN/docs/compiler/syntax#package-Â£∞Êòé","content":" package ÂÆö‰πâÊñá‰ª∂‰∏≠ÊâÄÊúâÁ±ªÂûãÁöÑÂëΩÂêçÁ©∫Èó¥„ÄÇ  package com.example.models;   ‰πüÂèØ‰ª•ÈÖçÁΩÆ aliasÔºàÁî®‰∫éËá™Âä®Á±ªÂûã ID ËÆ°ÁÆóÔºâÔºö  package com.example.models alias models_v1;   ËßÑÂàôÔºö  ÂèØÈÄâ‰ΩÜÊé®ËçêÂøÖÈ°ª‰Ωç‰∫é‰ªª‰ΩïÁ±ªÂûãÂÆö‰πâ‰πãÂâçÊØè‰∏™Êñá‰ª∂ÊúÄÂ§ö‰∏Ä‰∏™ packageÁî®‰∫éÂëΩÂêçÁ©∫Èó¥Ê≥®ÂÜåalias ‰ºöÂèÇ‰∏é auto-ID ÂìàÂ∏å  ËØ≠Ë®ÄÊò†Â∞ÑÔºö  ËØ≠Ë®Ä\tpackage Áî®Ê≥ïJava\tJava package Python\tÊ®°ÂùóÂêçÔºà. ËΩ¨ _Ôºâ Go\tÂåÖÂêçÔºàÈÄöÂ∏∏ÂèñÊúÄÂêé‰∏ÄÊÆµÔºâ Rust\tÊ®°ÂùóÂêçÔºà. ËΩ¨ _Ôºâ C++\tÂëΩÂêçÁ©∫Èó¥Ôºà. ËΩ¨ ::Ôºâ  ","version":"0.15","tagName":"h2"},{"title":"Êñá‰ª∂Á∫ßÈÄâÈ°π‚Äã","type":1,"pageTitle":"Schema IDL ËØ≠Ê≥ï","url":"/zh-CN/docs/compiler/syntax#Êñá‰ª∂Á∫ßÈÄâÈ°π","content":" Êñá‰ª∂Á∫ßÈÄâÈ°πÁî®‰∫éÊéßÂà∂ËØ≠Ë®ÄÂÆöÂà∂‰ª£Á†ÅÁîüÊàê„ÄÇ  ","version":"0.15","tagName":"h2"},{"title":"ËØ≠Ê≥ï‚Äã","type":1,"pageTitle":"Schema IDL ËØ≠Ê≥ï","url":"/zh-CN/docs/compiler/syntax#ËØ≠Ê≥ï","content":" option option_name = value;   ","version":"0.15","tagName":"h3"},{"title":"Java Package ÈÄâÈ°π‚Äã","type":1,"pageTitle":"Schema IDL ËØ≠Ê≥ï","url":"/zh-CN/docs/compiler/syntax#java-package-ÈÄâÈ°π","content":" ÈÄöËøá java_package Ë¶ÜÁõñ Java ËæìÂá∫ÂåÖÂêçÔºö  package payment; option java_package = &quot;com.mycorp.payment.v1&quot;; message Payment { string id = 1; }   ÊïàÊûúÔºö  Java Êñá‰ª∂ËæìÂá∫Âà∞ com/mycorp/payment/v1/Java package Â£∞Êòé‰ΩøÁî®ËØ•ÂÄºË∑®ËØ≠Ë®ÄÁ±ªÂûãÊ≥®ÂÜå‰ªç‰ª• Fory packageÔºàÂ¶Ç paymentÔºâ‰∏∫ÂáÜ  ","version":"0.15","tagName":"h3"},{"title":"Go Package ÈÄâÈ°π‚Äã","type":1,"pageTitle":"Schema IDL ËØ≠Ê≥ï","url":"/zh-CN/docs/compiler/syntax#go-package-ÈÄâÈ°π","content":" ÈÄöËøá go_package ÊåáÂÆö Go import path ‰∏éÂåÖÂêçÔºö  package payment; option go_package = &quot;github.com/mycorp/apis/gen/payment/v1;paymentv1&quot;; message Payment { string id = 1; }   Ê†ºÂºèÔºö&quot;import/path;package_name&quot; Êàñ‰ªÖ &quot;import/path&quot;ÔºàÂåÖÂêçÂèñÊúÄÂêé‰∏ÄÊÆµÔºâ„ÄÇ  ","version":"0.15","tagName":"h3"},{"title":"Java Outer Classname ÈÄâÈ°π‚Äã","type":1,"pageTitle":"Schema IDL ËØ≠Ê≥ï","url":"/zh-CN/docs/compiler/syntax#java-outer-classname-ÈÄâÈ°π","content":" Â∞ÜÂ§ö‰∏™Á±ªÂûãÂåÖË£ÖÂà∞‰∏Ä‰∏™Â§ñÂ±ÇÁ±ªÔºö  package payment; option java_outer_classname = &quot;DescriptorProtos&quot;; enum Status { UNKNOWN = 0; ACTIVE = 1; } message Payment { string id = 1; Status status = 2; }   ÈªòËÆ§‰ºöÁîüÊàêÂçïÊñá‰ª∂ÔºåÊûö‰∏æ‰∏éÊ∂àÊÅØ‰Ωú‰∏∫ÈùôÊÄÅÂÜÖÈÉ®Á±ªÂûã„ÄÇ  ","version":"0.15","tagName":"h3"},{"title":"Java Multiple Files ÈÄâÈ°π‚Äã","type":1,"pageTitle":"Schema IDL ËØ≠Ê≥ï","url":"/zh-CN/docs/compiler/syntax#java-multiple-files-ÈÄâÈ°π","content":" ÊéßÂà∂ Java ÊòØÂê¶ÊãÜÂàÜÂ§öÊñá‰ª∂Ôºö  package payment; option java_outer_classname = &quot;PaymentProtos&quot;; option java_multiple_files = true; message Payment { string id = 1; } message Receipt { string id = 1; }   Ë°å‰∏∫Ôºö  java_outer_classname\tjava_multiple_files\tÁªìÊûúÊú™ËÆæÁΩÆ\t‰ªªÊÑè\tÊØè‰∏™Á±ªÂûã‰∏Ä‰∏™Êñá‰ª∂ Â∑≤ËÆæÁΩÆ\tfalseÔºàÈªòËÆ§Ôºâ\tÂçïÊñá‰ª∂ + ÂÜÖÈÉ®Á±ª Â∑≤ËÆæÁΩÆ\ttrue\tÂº∫Âà∂ÊãÜÂàÜ‰∏∫Â§öÊñá‰ª∂  ","version":"0.15","tagName":"h3"},{"title":"Â§ö‰∏™ÈÄâÈ°πÁªÑÂêà‚Äã","type":1,"pageTitle":"Schema IDL ËØ≠Ê≥ï","url":"/zh-CN/docs/compiler/syntax#Â§ö‰∏™ÈÄâÈ°πÁªÑÂêà","content":" package payment; option java_package = &quot;com.mycorp.payment.v1&quot;; option go_package = &quot;github.com/mycorp/apis/gen/payment/v1;paymentv1&quot;; option deprecated = true;   ","version":"0.15","tagName":"h3"},{"title":"Protobuf Êâ©Â±ïËØ≠Ê≥ïËØ¥Êòé‚Äã","type":1,"pageTitle":"Schema IDL ËØ≠Ê≥ï","url":"/zh-CN/docs/compiler/syntax#protobuf-Êâ©Â±ïËØ≠Ê≥ïËØ¥Êòé","content":" Âú® .fdl ‰∏≠ËØ∑‰ΩøÁî® Fory ÂéüÁîüËØ≠Ê≥ïÔºàÂ¶Ç [id=100]„ÄÅref„ÄÅoptional„ÄÅnullable=trueÔºâ„ÄÇ(fory).xxx ÂΩ¢Âºè‰ªÖÁî®‰∫é .protoÔºàprotobuf ÂâçÁ´ØÔºâ„ÄÇ  ","version":"0.15","tagName":"h3"},{"title":"ÈÄâÈ°π‰ºòÂÖàÁ∫ß‚Äã","type":1,"pageTitle":"Schema IDL ËØ≠Ê≥ï","url":"/zh-CN/docs/compiler/syntax#ÈÄâÈ°π‰ºòÂÖàÁ∫ß","content":" ËØ≠Ë®ÄÂåÖË∑ØÂæÑ‰ºòÂÖàÁ∫ßÔºö  ÂëΩ‰ª§Ë°åË¶ÜÁõñÔºàÊúÄÈ´òÔºâËØ≠Ë®ÄÈÄâÈ°πÔºàjava_package„ÄÅgo_packageÔºâFory IDL packageÔºàÂÖúÂ∫ïÔºâ  ","version":"0.15","tagName":"h3"},{"title":"Ë∑®ËØ≠Ë®ÄÁ±ªÂûãÊ≥®ÂÜå‚Äã","type":1,"pageTitle":"Schema IDL ËØ≠Ê≥ï","url":"/zh-CN/docs/compiler/syntax#Ë∑®ËØ≠Ë®ÄÁ±ªÂûãÊ≥®ÂÜå","content":" ÈªòËÆ§ÊÉÖÂÜµ‰∏ãÔºåÊ≥®ÂÜåÂêçÁî± package + type nameÔºàÊàñÁ±ªÂûã IDÔºâÁ°ÆÂÆö„ÄÇÂª∫ËÆÆÈïøÊúü‰øùÊåÅ package Á®≥ÂÆöÔºå‰ª•ÈÅøÂÖçË∑®ÁâàÊú¨Ê≥®ÂÜå‰∏ç‰∏ÄËá¥„ÄÇ  ","version":"0.15","tagName":"h3"},{"title":"Import ËØ≠Âè•‚Äã","type":1,"pageTitle":"Schema IDL ËØ≠Ê≥ï","url":"/zh-CN/docs/compiler/syntax#import-ËØ≠Âè•","content":" ","version":"0.15","tagName":"h2"},{"title":"Âü∫Êú¨ËØ≠Ê≥ï‚Äã","type":1,"pageTitle":"Schema IDL ËØ≠Ê≥ï","url":"/zh-CN/docs/compiler/syntax#Âü∫Êú¨ËØ≠Ê≥ï","content":" import &quot;common/types.fdl&quot;;   ","version":"0.15","tagName":"h3"},{"title":"Â§ö‰∏™ÂØºÂÖ•‚Äã","type":1,"pageTitle":"Schema IDL ËØ≠Ê≥ï","url":"/zh-CN/docs/compiler/syntax#Â§ö‰∏™ÂØºÂÖ•","content":" import &quot;common/types.fdl&quot;; import &quot;domain/user.fdl&quot;; import &quot;domain/order.fdl&quot;;   ","version":"0.15","tagName":"h3"},{"title":"Ë∑ØÂæÑËß£Êûê‚Äã","type":1,"pageTitle":"Schema IDL ËØ≠Ê≥ï","url":"/zh-CN/docs/compiler/syntax#Ë∑ØÂæÑËß£Êûê","content":" ÂØºÂÖ•Ëß£ÊûêÈ°∫Â∫èÔºö  ÂØºÂÖ•ËÄÖÊñá‰ª∂ÊâÄÂú®ÁõÆÂΩïÂëΩ‰ª§Ë°å -I/--proto_path/--import_path ÊåáÂÆöÁõÆÂΩïÔºàÊåâÁªôÂÆöÈ°∫Â∫èÔºâ  ","version":"0.15","tagName":"h3"},{"title":"ÂÆåÊï¥Á§∫‰æã‚Äã","type":1,"pageTitle":"Schema IDL ËØ≠Ê≥ï","url":"/zh-CN/docs/compiler/syntax#ÂÆåÊï¥Á§∫‰æã","content":" // src/main.fdl package app; import &quot;common.fdl&quot;; import &quot;models/user.fdl&quot;; message Main { common.Meta meta = 1; models.User user = 2; }   ","version":"0.15","tagName":"h3"},{"title":"‰∏çÊîØÊåÅÁöÑ import ÂÜôÊ≥ï‚Äã","type":1,"pageTitle":"Schema IDL ËØ≠Ê≥ï","url":"/zh-CN/docs/compiler/syntax#‰∏çÊîØÊåÅÁöÑ-import-ÂÜôÊ≥ï","content":" URL ÂΩ¢ÂºèÔºàÂ¶Ç https://...ÔºâÁªùÂØπË∑ØÂæÑ‰æùËµñÔºà‰∏çÊé®ËçêÔºå‰ºöÁ†¥ÂùèÂèØÁßªÊ§çÊÄßÔºâ  ","version":"0.15","tagName":"h3"},{"title":"import ÈîôËØØ‚Äã","type":1,"pageTitle":"Schema IDL ËØ≠Ê≥ï","url":"/zh-CN/docs/compiler/syntax#import-ÈîôËØØ","content":" ÂÖ∏ÂûãÈîôËØØÔºö  Êñá‰ª∂‰∏çÂ≠òÂú®ÊêúÁ¥¢Ë∑ØÂæÑÊú™ÂåÖÂê´‰æùËµñÁõÆÂΩïÂêåÂêçÊñá‰ª∂ÂÜ≤Á™ÅÂØºËá¥Ëß£ÊûêÂà∞ÈîôËØØÁâàÊú¨  ","version":"0.15","tagName":"h3"},{"title":"Enum ÂÆö‰πâ‚Äã","type":1,"pageTitle":"Schema IDL ËØ≠Ê≥ï","url":"/zh-CN/docs/compiler/syntax#enum-ÂÆö‰πâ","content":" ","version":"0.15","tagName":"h2"},{"title":"Âü∫Êú¨ËØ≠Ê≥ï‚Äã","type":1,"pageTitle":"Schema IDL ËØ≠Ê≥ï","url":"/zh-CN/docs/compiler/syntax#Âü∫Êú¨ËØ≠Ê≥ï-1","content":" enum Status { UNKNOWN = 0; ACTIVE = 1; DISABLED = 2; }   ","version":"0.15","tagName":"h3"},{"title":"ÊòæÂºèÁ±ªÂûã ID‚Äã","type":1,"pageTitle":"Schema IDL ËØ≠Ê≥ï","url":"/zh-CN/docs/compiler/syntax#ÊòæÂºèÁ±ªÂûã-id","content":" enum Status [id=101] { UNKNOWN = 0; ACTIVE = 1; DISABLED = 2; }   ","version":"0.15","tagName":"h3"},{"title":"È¢ÑÁïôÂÄº‚Äã","type":1,"pageTitle":"Schema IDL ËØ≠Ê≥ï","url":"/zh-CN/docs/compiler/syntax#È¢ÑÁïôÂÄº","content":" enum Status { UNKNOWN = 0; ACTIVE = 1; reserved 2, 3; reserved 10 to 20; }   ","version":"0.15","tagName":"h3"},{"title":"enum Á±ªÂûãÈÄâÈ°π‚Äã","type":1,"pageTitle":"Schema IDL ËØ≠Ê≥ï","url":"/zh-CN/docs/compiler/syntax#enum-Á±ªÂûãÈÄâÈ°π","content":" Â∏∏ËßÅÔºöid„ÄÅalias„ÄÅdeprecated„ÄÇ  ","version":"0.15","tagName":"h3"},{"title":"ËØ≠Ë®ÄÊò†Â∞Ñ‚Äã","type":1,"pageTitle":"Schema IDL ËØ≠Ê≥ï","url":"/zh-CN/docs/compiler/syntax#ËØ≠Ë®ÄÊò†Â∞Ñ","content":" JavaÔºöenumPythonÔºöIntEnumGoÔºötype + constRustÔºörepr(i32) Êûö‰∏æC++Ôºöenum class  ","version":"0.15","tagName":"h3"},{"title":"Êûö‰∏æÂâçÁºÄÂ§ÑÁêÜ‚Äã","type":1,"pageTitle":"Schema IDL ËØ≠Ê≥ï","url":"/zh-CN/docs/compiler/syntax#Êûö‰∏æÂâçÁºÄÂ§ÑÁêÜ","content":" ÈíàÂØπ protobuf È£éÊ†º TYPE_NAME_VALUEÔºåÁîüÊàêÂô®ÈÄöÂ∏∏‰ºöÊåâËØ≠Ë®Ä‰π†ÊÉØÂéªÈô§ÂÜó‰ΩôÂâçÁºÄÔºå‰Ωø API Êõ¥Ëá™ÁÑ∂„ÄÇ  ","version":"0.15","tagName":"h3"},{"title":"Message ÂÆö‰πâ‚Äã","type":1,"pageTitle":"Schema IDL ËØ≠Ê≥ï","url":"/zh-CN/docs/compiler/syntax#message-ÂÆö‰πâ","content":" ","version":"0.15","tagName":"h2"},{"title":"Âü∫Êú¨ËØ≠Ê≥ï‚Äã","type":1,"pageTitle":"Schema IDL ËØ≠Ê≥ï","url":"/zh-CN/docs/compiler/syntax#Âü∫Êú¨ËØ≠Ê≥ï-2","content":" message User { string name = 1; int32 age = 2; }   ","version":"0.15","tagName":"h3"},{"title":"ÊòæÂºèÁ±ªÂûã ID‚Äã","type":1,"pageTitle":"Schema IDL ËØ≠Ê≥ï","url":"/zh-CN/docs/compiler/syntax#ÊòæÂºèÁ±ªÂûã-id-1","content":" message User [id=100] { string name = 1; int32 age = 2; }   ","version":"0.15","tagName":"h3"},{"title":"Êó†ÊòæÂºèÁ±ªÂûã ID‚Äã","type":1,"pageTitle":"Schema IDL ËØ≠Ê≥ï","url":"/zh-CN/docs/compiler/syntax#Êó†ÊòæÂºèÁ±ªÂûã-id","content":" Êú™Â£∞Êòé [id=...] Êó∂ÔºåÁºñËØëÂô®ÂèØÊåâÈÖçÁΩÆËá™Âä®ÁîüÊàêÁ±ªÂûã IDÔºåÊàñ‰ΩøÁî® namespace/name Ê≥®ÂÜå„ÄÇ  ","version":"0.15","tagName":"h3"},{"title":"ËØ≠Ë®ÄÊò†Â∞Ñ‚Äã","type":1,"pageTitle":"Schema IDL ËØ≠Ê≥ï","url":"/zh-CN/docs/compiler/syntax#ËØ≠Ë®ÄÊò†Â∞Ñ-1","content":" JavaÔºöÁ±ª / recordÔºàÊåâÈÄâÈ°πÔºâPythonÔºödataclassGoÔºöstructRustÔºöstructC++Ôºöclass/struct + ÂÆèÂÖÉ‰ø°ÊÅØ  ","version":"0.15","tagName":"h3"},{"title":"È¢ÑÁïôÂ≠óÊÆµ‚Äã","type":1,"pageTitle":"Schema IDL ËØ≠Ê≥ï","url":"/zh-CN/docs/compiler/syntax#È¢ÑÁïôÂ≠óÊÆµ","content":" message User { string name = 1; reserved 2, 3; reserved 10 to 20; }   ","version":"0.15","tagName":"h3"},{"title":"message Á±ªÂûãÈÄâÈ°π‚Äã","type":1,"pageTitle":"Schema IDL ËØ≠Ê≥ï","url":"/zh-CN/docs/compiler/syntax#message-Á±ªÂûãÈÄâÈ°π","content":" Â∏∏ËßÅÈÄâÈ°πÔºöid„ÄÅalias„ÄÅevolving„ÄÅdeprecated„ÄÅnamespace„ÄÅuse_record_for_java„ÄÇ  ","version":"0.15","tagName":"h3"},{"title":"ÂµåÂ•óÁ±ªÂûã‚Äã","type":1,"pageTitle":"Schema IDL ËØ≠Ê≥ï","url":"/zh-CN/docs/compiler/syntax#ÂµåÂ•óÁ±ªÂûã","content":" ","version":"0.15","tagName":"h2"},{"title":"ÂµåÂ•ó message‚Äã","type":1,"pageTitle":"Schema IDL ËØ≠Ê≥ï","url":"/zh-CN/docs/compiler/syntax#ÂµåÂ•ó-message","content":" message Person { message PhoneNumber { string number = 1; } PhoneNumber phone = 1; }   ","version":"0.15","tagName":"h3"},{"title":"ÂµåÂ•ó enum‚Äã","type":1,"pageTitle":"Schema IDL ËØ≠Ê≥ï","url":"/zh-CN/docs/compiler/syntax#ÂµåÂ•ó-enum","content":" message Person { enum PhoneType { MOBILE = 0; HOME = 1; } PhoneType type = 1; }   ","version":"0.15","tagName":"h3"},{"title":"ÈôêÂÆöÁ±ªÂûãÂêç‚Äã","type":1,"pageTitle":"Schema IDL ËØ≠Ê≥ï","url":"/zh-CN/docs/compiler/syntax#ÈôêÂÆöÁ±ªÂûãÂêç","content":" ÂèØ‰ΩøÁî®ÂÆåÊï¥ÈôêÂÆöÂêçÂºïÁî®ÂµåÂ•óÁ±ªÂûãÔºå‰æãÂ¶Ç Person.PhoneNumber„ÄÇ  ","version":"0.15","tagName":"h3"},{"title":"Ê∑±Â±ÇÂµåÂ•óÁ±ªÂûã‚Äã","type":1,"pageTitle":"Schema IDL ËØ≠Ê≥ï","url":"/zh-CN/docs/compiler/syntax#Ê∑±Â±ÇÂµåÂ•óÁ±ªÂûã","content":" ÊîØÊåÅÂ§öÂ±ÇÂµåÂ•óÔºå‰ΩÜÂª∫ËÆÆÊéßÂà∂Â±ÇÁ∫ßÔºåÈÅøÂÖçÂèØËØªÊÄß‰∏ãÈôç„ÄÇ  ","version":"0.15","tagName":"h3"},{"title":"ÂêÑËØ≠Ë®ÄÁîüÊàêÂΩ¢ÊÄÅ‚Äã","type":1,"pageTitle":"Schema IDL ËØ≠Ê≥ï","url":"/zh-CN/docs/compiler/syntax#ÂêÑËØ≠Ë®ÄÁîüÊàêÂΩ¢ÊÄÅ","content":" ËØ≠Ë®Ä\tÂµåÂ•óÁ±ªÂûãÂΩ¢ÊÄÅJava\tOuter.Inner Python\tOuter.Inner Rust\touter::Inner C++\tOuter::Inner Go\tOuter_InnerÔºàÈªòËÆ§Ôºâ  ","version":"0.15","tagName":"h3"},{"title":"ÂµåÂ•óËßÑÂàô‚Äã","type":1,"pageTitle":"Schema IDL ËØ≠Ê≥ï","url":"/zh-CN/docs/compiler/syntax#ÂµåÂ•óËßÑÂàô","content":" ÂµåÂ•óÁ±ªÂûãÂêçÂú®ÂÖ∂Áà∂‰ΩúÁî®ÂüüÂÜÖÂøÖÈ°ªÂîØ‰∏ÄÂèØË¢´ÂêåÊñá‰ª∂ÂêéÁª≠Á±ªÂûãÂºïÁî®ÂèØÈÄöËøá import + ÈôêÂÆöÂêçË∑®Êñá‰ª∂ÂºïÁî®  ","version":"0.15","tagName":"h3"},{"title":"Union ÂÆö‰πâ‚Äã","type":1,"pageTitle":"Schema IDL ËØ≠Ê≥ï","url":"/zh-CN/docs/compiler/syntax#union-ÂÆö‰πâ","content":" ","version":"0.15","tagName":"h2"},{"title":"Âü∫Êú¨ËØ≠Ê≥ï‚Äã","type":1,"pageTitle":"Schema IDL ËØ≠Ê≥ï","url":"/zh-CN/docs/compiler/syntax#Âü∫Êú¨ËØ≠Ê≥ï-3","content":" union Animal { Dog dog = 1; Cat cat = 2; }   ","version":"0.15","tagName":"h3"},{"title":"Âú® message ‰∏≠‰ΩøÁî® union‚Äã","type":1,"pageTitle":"Schema IDL ËØ≠Ê≥ï","url":"/zh-CN/docs/compiler/syntax#Âú®-message-‰∏≠‰ΩøÁî®-union","content":" message Person { Animal pet = 1; }   ","version":"0.15","tagName":"h3"},{"title":"ËßÑÂàô‚Äã","type":1,"pageTitle":"Schema IDL ËØ≠Ê≥ï","url":"/zh-CN/docs/compiler/syntax#ËßÑÂàô","content":" case Â≠óÊÆµÂè∑ÂøÖÈ°ªÂîØ‰∏Äcase Á±ªÂûãÈÄöÂ∏∏‰∏∫Ê∂àÊÅØÁ±ªÂûãÊàñÂèØÂ∫èÂàóÂåñÂ§çÂêàÁ±ªÂûãÂêÑËØ≠Ë®Ä‰ºöÁîüÊàêÂ∏¶ case Âà§Âà´ÂíåËÆøÈóÆÂô®ÁöÑ union Ë°®Ëææ  ","version":"0.15","tagName":"h3"},{"title":"Â≠óÊÆµÂÆö‰πâ‚Äã","type":1,"pageTitle":"Schema IDL ËØ≠Ê≥ï","url":"/zh-CN/docs/compiler/syntax#Â≠óÊÆµÂÆö‰πâ","content":" ","version":"0.15","tagName":"h2"},{"title":"Âü∫Êú¨ËØ≠Ê≥ï‚Äã","type":1,"pageTitle":"Schema IDL ËØ≠Ê≥ï","url":"/zh-CN/docs/compiler/syntax#Âü∫Êú¨ËØ≠Ê≥ï-4","content":" string name = 1;   ","version":"0.15","tagName":"h3"},{"title":"Â∏¶‰øÆÈ•∞Á¨¶ËØ≠Ê≥ï‚Äã","type":1,"pageTitle":"Schema IDL ËØ≠Ê≥ï","url":"/zh-CN/docs/compiler/syntax#Â∏¶‰øÆÈ•∞Á¨¶ËØ≠Ê≥ï","content":" optional string nickname = 2; ref Node parent = 3; list&lt;int32&gt; scores = 4;   ","version":"0.15","tagName":"h3"},{"title":"Â≠óÊÆµ‰øÆÈ•∞Á¨¶‚Äã","type":1,"pageTitle":"Schema IDL ËØ≠Ê≥ï","url":"/zh-CN/docs/compiler/syntax#Â≠óÊÆµ‰øÆÈ•∞Á¨¶","content":" optional‚Äã  Â£∞ÊòéÂ≠óÊÆµÂèØ‰∏∫Á©∫Ôºànull/NoneÔºâÔºö  message User { optional string email = 1; }   Âª∫ËÆÆÂú®Ë∑®ËØ≠Ë®ÄÂú∫ÊôØÊòæÂºè‰ΩøÁî®Ôºå‰ª•ÈÅøÂÖçÈªòËÆ§ÂÄºÂ∑ÆÂºÇ„ÄÇ  ref‚Äã  ÂºÄÂêØÂºïÁî®Ë∑üË∏™ÔºåÁî®‰∫éÂÖ±‰∫´ÂØπË±°‰∏éÂæ™ÁéØÁªìÊûÑÔºö  message Node { string name = 1; ref Node parent = 2; list&lt;ref Node&gt; children = 3; }   ÂΩìËøêË°åÊó∂ÂÖ®Â±Ä ref tracking ÂºÄÂêØÊó∂ÔºåÂ≠óÊÆµÁ∫ß ref Êâç‰ºöÁîüÊïà„ÄÇ  list‚Äã  ÂàóË°®Â≠óÊÆµÔºàrepeated ‰∏∫Á≠â‰ª∑Âà´ÂêçÔºâÔºö  message Group { list&lt;string&gt; tags = 1; }   ","version":"0.15","tagName":"h3"},{"title":"ÁªÑÂêà‰øÆÈ•∞Á¨¶‚Äã","type":1,"pageTitle":"Schema IDL ËØ≠Ê≥ï","url":"/zh-CN/docs/compiler/syntax#ÁªÑÂêà‰øÆÈ•∞Á¨¶","content":" ÂèØÁªÑÂêà‰ΩøÁî®Ôºö  message Graph { optional ref Node root = 1; list&lt;ref Node&gt; nodes = 2; }   ","version":"0.15","tagName":"h3"},{"title":"Â≠óÊÆµÂè∑‚Äã","type":1,"pageTitle":"Schema IDL ËØ≠Ê≥ï","url":"/zh-CN/docs/compiler/syntax#Â≠óÊÆµÂè∑","content":" Â≠óÊÆµÂè∑ËßÑÂàôÔºö  Âêå‰∏Ä message ÂÜÖÂøÖÈ°ªÂîØ‰∏ÄÂøÖÈ°ª‰∏∫Ê≠£Êï¥Êï∞‰∏çÂ∫îÂ§çÁî®Â∑≤Âà†Èô§Â≠óÊÆµÂè∑ÔºàÂª∫ËÆÆ‰ΩøÁî® reservedÔºâÂª∫ËÆÆÈ¢ÑÁïôÁºñÂè∑Âå∫Èó¥‰ª•‰æøÊºîËøõ  ","version":"0.15","tagName":"h2"},{"title":"Type System‚Äã","type":1,"pageTitle":"Schema IDL ËØ≠Ê≥ï","url":"/zh-CN/docs/compiler/syntax#type-system","content":" Fory IDL Á±ªÂûãÁ≥ªÁªüÂåÖÊã¨Âü∫Á°ÄÁ±ªÂûã„ÄÅÂëΩÂêçÁ±ªÂûãÂíåÈõÜÂêàÁ±ªÂûã„ÄÇ  ","version":"0.15","tagName":"h2"},{"title":"Primitive Types‚Äã","type":1,"pageTitle":"Schema IDL ËØ≠Ê≥ï","url":"/zh-CN/docs/compiler/syntax#primitive-types","content":" Á±ªÂûãÊóè\tÁ§∫‰æãÂ∏ÉÂ∞î\tbool Êï¥Êï∞\tint8/int16/int32/int64„ÄÅuint* ÊµÆÁÇπ\tfloat32„ÄÅfloat64 Â≠óÁ¨¶‰∏≤\tstring Â≠óËäÇÊï∞ÁªÑ\tbytes Êó∂Èó¥\tdate„ÄÅtimestamp„ÄÅduration Âä®ÊÄÅÁ±ªÂûã\tany  Boolean‚Äã  bool Ë°®Á§∫Â∏ÉÂ∞îÂÄº„ÄÇ  Integer Types‚Äã  ÊîØÊåÅÊúâÁ¨¶Âè∑/Êó†Á¨¶Âè∑‰∏é‰∏çÂêå‰ΩçÂÆΩ„ÄÇË∑®ËØ≠Ë®ÄÂú∫ÊôØÂª∫ËÆÆÊòéÁ°ÆÁºñÁ†ÅÁ≠ñÁï•Âπ∂‰øùÊåÅÂ≠óÊÆµËØ≠‰πâÁ®≥ÂÆö„ÄÇ  Integer Encoding Variants‚Äã  Â∏∏ËßÅÁºñÁ†ÅÔºö  varintÔºöÂ∞èÂÄºÊõ¥ÁúÅÁ©∫Èó¥fixedÔºöÂõ∫ÂÆöÈïøÂ∫¶ÔºåÊÄßËÉΩÁ®≥ÂÆötaggedÔºöÊ∑∑ÂêàÁºñÁ†ÅÔºàÁâπÂÆöÁ±ªÂûãÂèØÁî®Ôºâ  Floating-Point Types‚Äã  float32float64  String Type‚Äã  string ‰ΩøÁî® UTF-8 ÊñáÊú¨ËØ≠‰πâ„ÄÇ  Bytes Type‚Äã  bytes Áî®‰∫éÂéüÂßã‰∫åËøõÂà∂ËΩΩËç∑„ÄÇ  Temporal Types‚Äã  Date‚Äã  date Ë°®Á§∫Êó•ÊúüÔºà‰∏çÂê´Êó∂Âå∫Êó∂Èó¥ÈÉ®ÂàÜÔºâ„ÄÇ  Timestamp‚Äã  timestamp Ë°®Á§∫Êó∂Èó¥ÁÇπÔºàË∑®ËØ≠Ë®ÄÂ∫îÁªü‰∏ÄÊó∂Èó¥ËØ≠‰πâ‰∏éÁ≤æÂ∫¶È¢ÑÊúüÔºâ„ÄÇ  Any‚Äã  any ÂÖÅËÆ∏Â≠òÂÇ®Âä®ÊÄÅÁ±ªÂûãÂÄº„ÄÇ‰ΩøÁî® any Êó∂Âª∫ËÆÆÈÖçÂêàÊ∏ÖÊô∞ÁöÑ‰∏öÂä°Á∫¶ÊùüÔºåÈÅøÂÖçÊª•Áî®ÂØºËá¥Ê®°Âûã‰∏çÁ®≥ÂÆö„ÄÇ  ","version":"0.15","tagName":"h3"},{"title":"Named Types‚Äã","type":1,"pageTitle":"Schema IDL ËØ≠Ê≥ï","url":"/zh-CN/docs/compiler/syntax#named-types","content":" ÂëΩÂêçÁ±ªÂûãÂåÖÊã¨Ôºö  enummessageunion  ÊîØÊåÅË∑®Êñá‰ª∂ import ÂíåÈôêÂÆöÂêçÂºïÁî®„ÄÇ  ","version":"0.15","tagName":"h3"},{"title":"Collection Types‚Äã","type":1,"pageTitle":"Schema IDL ËØ≠Ê≥ï","url":"/zh-CN/docs/compiler/syntax#collection-types","content":" List (list)‚Äã  list&lt;T&gt;   Á≠â‰ª∑Âà´ÂêçÔºörepeated T„ÄÇ  Map‚Äã  map&lt;K, V&gt;   Á∫¶ÊùüÔºö  K ‰∏ÄËà¨Â∫î‰∏∫ÂèØÁ®≥ÂÆöÊØîËæÉÁöÑÊ†áÈáèÁ±ªÂûãV ÂèØ‰∏∫‰ªªÊÑèÊîØÊåÅÁ±ªÂûã  ","version":"0.15","tagName":"h3"},{"title":"Type Compatibility Matrix‚Äã","type":1,"pageTitle":"Schema IDL ËØ≠Ê≥ï","url":"/zh-CN/docs/compiler/syntax#type-compatibility-matrix","content":" Ë∑®ËØ≠Ë®ÄÂª∫ËÆÆÔºö  ‰ΩøÁî®ÂêÑËØ≠Ë®ÄÈÉΩÁ®≥ÂÆöÊîØÊåÅÁöÑÂÖ¨ÂÖ±Â≠êÈõÜÂ∞ΩÈáèÈÅøÂÖçÂπ≥Âè∞Áõ∏ÂÖ≥ÂÆΩÂ∫¶/ËØ≠‰πâÂ∑ÆÂºÇÂØπÊï¥Êï∞ÁºñÁ†Å‰∏éÂèØÁ©∫ËØ≠‰πâÊòæÂºèÂ£∞Êòé  ","version":"0.15","tagName":"h3"},{"title":"Best Practices‚Äã","type":1,"pageTitle":"Schema IDL ËØ≠Ê≥ï","url":"/zh-CN/docs/compiler/syntax#best-practices","content":" ‰ºòÂÖà‰ΩøÁî®ÊòæÂºèÂ≠óÊÆµÂè∑‰∏éÁ®≥ÂÆöÂëΩÂêçÈúÄË¶ÅÂèØÁ©∫Â∞±ÊòæÂºè optionalÂ≠òÂú®ÂÖ±‰∫´/Âæ™ÁéØÂÖ≥Á≥ªÊó∂‰ΩøÁî® refÈôç‰Ωé any ‰ΩøÁî®ËåÉÂõ¥Ôºå‰ºòÂÖàÂº∫Á±ªÂûãÂª∫Ê®°È¢ÑÁïôÂ≠óÊÆµÂè∑‰∏éÊûö‰∏æÂÄºÂå∫Èó¥  ","version":"0.15","tagName":"h3"},{"title":"Type IDs‚Äã","type":1,"pageTitle":"Schema IDL ËØ≠Ê≥ï","url":"/zh-CN/docs/compiler/syntax#type-ids","content":" Á±ªÂûã ID Áî®‰∫éË∑®ËØ≠Ë®ÄÂø´ÈÄüÊ≥®ÂÜå‰∏éËß£Á†ÅÂåπÈÖç„ÄÇ  ","version":"0.15","tagName":"h2"},{"title":"ÊòæÂºèÁ±ªÂûã ID‚Äã","type":1,"pageTitle":"Schema IDL ËØ≠Ê≥ï","url":"/zh-CN/docs/compiler/syntax#ÊòæÂºèÁ±ªÂûã-id-2","content":" message User [id=100] { string name = 1; }   ","version":"0.15","tagName":"h3"},{"title":"Êó†ÊòæÂºèÁ±ªÂûã ID‚Äã","type":1,"pageTitle":"Schema IDL ËØ≠Ê≥ï","url":"/zh-CN/docs/compiler/syntax#Êó†ÊòæÂºèÁ±ªÂûã-id-1","content":" Êú™ÊòæÂºèÂ£∞ÊòéÊó∂ÂèØÔºö  Ëá™Âä®ÁîüÊàêÊï∞ÂÄº IDÔºàÈªòËÆ§ÈÖçÁΩÆÔºâÁ¶ÅÁî®Ëá™Âä® IDÔºåÊîπÁî® namespace/type-name Ê≥®ÂÜå  ","version":"0.15","tagName":"h3"},{"title":"ÂÆûË∑µËØ¥Êòé‚Äã","type":1,"pageTitle":"Schema IDL ËØ≠Ê≥ï","url":"/zh-CN/docs/compiler/syntax#ÂÆûË∑µËØ¥Êòé","content":" Á±ªÂûã ID Âú®ÂçèËÆÆÂ±ÇÈù¢Â∫îËßÜ‰∏∫Á®≥ÂÆöÊ†áËØÜ‰∏ÄÁªèÂèëÂ∏ÉÔºå‰∏çÂª∫ËÆÆÊõ¥ÊîπÂª∫ËÆÆÊåâÂüüËßÑÂàí ID ÊÆµÔºàÂ¶Ç 100-199 Áî®Êà∑ÂüüÔºâ  ","version":"0.15","tagName":"h3"},{"title":"ID ÂàÜÈÖçÁ≠ñÁï•‚Äã","type":1,"pageTitle":"Schema IDL ËØ≠Ê≥ï","url":"/zh-CN/docs/compiler/syntax#id-ÂàÜÈÖçÁ≠ñÁï•","content":" Ê†∏ÂøÉÈ´òÈ¢ëÊ®°Âûã‰ºòÂÖàÂàÜÈÖçÂõ∫ÂÆö IDÂõ¢ÈòüÁªü‰∏ÄÁÆ°ÁêÜ ID Âå∫Èó¥‰∏éÂàÜÈÖçËßÑËåÉÂú® CI ‰∏≠Â¢ûÂä† ID ÂÜ≤Á™ÅÊ£ÄÊü•  ","version":"0.15","tagName":"h3"},{"title":"ÂÆåÊï¥Á§∫‰æã‚Äã","type":1,"pageTitle":"Schema IDL ËØ≠Ê≥ï","url":"/zh-CN/docs/compiler/syntax#ÂÆåÊï¥Á§∫‰æã-1","content":" package demo.order; option java_package = &quot;com.example.demo.order&quot;; option go_package = &quot;github.com/example/demo/gen/order;order&quot;; import &quot;demo/common.fdl&quot;; enum Status [id=200] { UNKNOWN = 0; CREATED = 1; PAID = 2; SHIPPED = 3; } message Item [id=201] { string sku = 1; int32 quantity = 2; } message User [id=202] { string id = 1; string name = 2; optional string email = 3; } union Animal [id=203] { Dog dog = 1; Cat cat = 2; } message Dog [id=204] { string name = 1; } message Cat [id=205] { string name = 1; } message Order [id=206] { string id = 1; ref User buyer = 2; list&lt;Item&gt; items = 3; Status status = 4; map&lt;string, string&gt; metadata = 5; optional Animal pet = 6; }   ","version":"0.15","tagName":"h2"},{"title":"ËØ≠Ê≥ïÊëòË¶Å‚Äã","type":1,"pageTitle":"Schema IDL ËØ≠Ê≥ï","url":"/zh-CN/docs/compiler/syntax#ËØ≠Ê≥ïÊëòË¶Å","content":" ‰ª•‰∏ã‰∏∫ÁÆÄÂåñÊñáÊ≥ïÔºà‰æø‰∫éÂø´ÈÄüÊü•ÈòÖÔºåÂÖ∑‰Ωì‰ª•ÁºñËØëÂô®ÂÆûÁé∞‰∏∫ÂáÜÔºâÔºö  file = [packageDecl] {optionDecl} {importDecl} {typeDecl} ; packageDecl = &quot;package&quot; qualifiedName [&quot;alias&quot; identifier] &quot;;&quot; ; optionDecl = &quot;option&quot; identifier &quot;=&quot; optionValue &quot;;&quot; ; importDecl = &quot;import&quot; stringLiteral &quot;;&quot; ; typeDecl = enumDecl | messageDecl | unionDecl ; enumDecl = &quot;enum&quot; identifier [typeOptions] &quot;{&quot; {enumField | reservedDecl} &quot;}&quot; ; enumField = identifier &quot;=&quot; intLiteral &quot;;&quot; ; messageDecl = &quot;message&quot; identifier [typeOptions] &quot;{&quot; {fieldDecl | nestedTypeDecl | reservedDecl} &quot;}&quot; ; unionDecl = &quot;union&quot; identifier [typeOptions] &quot;{&quot; {unionCaseDecl} &quot;}&quot; ; fieldDecl = [fieldModifier] typeRef identifier &quot;=&quot; intLiteral [fieldOptions] &quot;;&quot; ; unionCaseDecl = typeRef identifier &quot;=&quot; intLiteral [fieldOptions] &quot;;&quot; ; fieldModifier = &quot;optional&quot; | &quot;ref&quot; | &quot;list&quot; ; typeRef = primitiveType | qualifiedName | listType | mapType ; listType = &quot;list&quot; &quot;&lt;&quot; typeRef &quot;&gt;&quot; ; mapType = &quot;map&quot; &quot;&lt;&quot; typeRef &quot;,&quot; typeRef &quot;&gt;&quot; ; typeOptions = &quot;[&quot; optionPair {&quot;,&quot; optionPair} &quot;]&quot; ; fieldOptions = &quot;[&quot; optionPair {&quot;,&quot; optionPair} &quot;]&quot; ; optionPair = identifier &quot;=&quot; optionValue ; reservedDecl = &quot;reserved&quot; reservedItem {&quot;,&quot; reservedItem} &quot;;&quot; ; reservedItem = intLiteral | intLiteral &quot;to&quot; intLiteral | stringLiteral ;   ÂÆûÁé∞Âª∫ËÆÆÔºöÂ¶ÇÈúÄ‰∏•Ë∞®È™åËØÅÔºåËØ∑‰ª•ÁºñËØëÂô®ËØ≠Ê≥ïËß£ÊûêÂô®ÂíåÊµãËØïÁî®‰æã‰∏∫ÂáÜ„ÄÇ ","version":"0.15","tagName":"h2"},{"title":"Âü∫Á°ÄÂ∫èÂàóÂåñ","type":0,"sectionRef":"#","url":"/zh-CN/docs/guide/cpp/basic_serialization","content":"","keywords":"","version":"0.15"},{"title":"ÂØπË±°ÂõæÂ∫èÂàóÂåñ‚Äã","type":1,"pageTitle":"Âü∫Á°ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/guide/cpp/basic_serialization#ÂØπË±°ÂõæÂ∫èÂàóÂåñ","content":" Apache Fory‚Ñ¢ Êèê‰æõÂ§çÊùÇÂØπË±°ÂõæÁöÑËá™Âä®Â∫èÂàóÂåñÔºå‰øùÁïôÂØπË±°‰πãÈó¥ÁöÑÁªìÊûÑÂíåÂÖ≥Á≥ª„ÄÇFORY_STRUCT ÂÆèÂú®ÁºñËØëÊó∂ÁîüÊàêÈ´òÊïàÁöÑÂ∫èÂàóÂåñ‰ª£Á†ÅÔºåÊ∂àÈô§ËøêË°åÊó∂ÂºÄÈîÄ„ÄÇ  Ê†∏ÂøÉÂäüËÉΩÔºö  ÊîØÊåÅ‰ªªÊÑèÊ∑±Â∫¶ÁöÑÂµåÂ•óÁªìÊûÑ‰ΩìÂ∫èÂàóÂåñÈõÜÂêàÁ±ªÂûãÔºàvector„ÄÅset„ÄÅmapÔºâ‰ΩøÁî® std::optional&lt;T&gt; ÁöÑÂèØÈÄâÂ≠óÊÆµÊô∫ËÉΩÊåáÈíàÔºàstd::shared_ptr„ÄÅstd::unique_ptrÔºâËá™Âä®Â§ÑÁêÜÂü∫Êú¨Á±ªÂûãÂíåÂ≠óÁ¨¶‰∏≤‰ΩøÁî®ÂèòÈïøÊï¥Êï∞ÁöÑÈ´òÊïà‰∫åËøõÂà∂ÁºñÁ†Å  #include &quot;fory/serialization/fory.h&quot; #include &lt;vector&gt; #include &lt;map&gt; using namespace fory::serialization; // ÂÆö‰πâÁªìÊûÑ‰Ωì struct Address { std::string street; std::string city; std::string country; bool operator==(const Address &amp;other) const { return street == other.street &amp;&amp; city == other.city &amp;&amp; country == other.country; } }; FORY_STRUCT(Address, street, city, country); struct Person { std::string name; int32_t age; Address address; std::vector&lt;std::string&gt; hobbies; std::map&lt;std::string, std::string&gt; metadata; bool operator==(const Person &amp;other) const { return name == other.name &amp;&amp; age == other.age &amp;&amp; address == other.address &amp;&amp; hobbies == other.hobbies &amp;&amp; metadata == other.metadata; } }; FORY_STRUCT(Person, name, age, address, hobbies, metadata); int main() { auto fory = Fory::builder().xlang(true).build(); fory.register_struct&lt;Address&gt;(100); fory.register_struct&lt;Person&gt;(200); Person person{ &quot;John Doe&quot;, 30, {&quot;123 Main St&quot;, &quot;New York&quot;, &quot;USA&quot;}, {&quot;reading&quot;, &quot;coding&quot;}, {{&quot;role&quot;, &quot;developer&quot;}} }; auto result = fory.serialize(person); auto decoded = fory.deserialize&lt;Person&gt;(result.value()); assert(person == decoded.value()); }   ","version":"0.15","tagName":"h2"},{"title":"Â∫èÂàóÂåñ API‚Äã","type":1,"pageTitle":"Âü∫Á°ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/guide/cpp/basic_serialization#Â∫èÂàóÂåñ-api","content":" ","version":"0.15","tagName":"h2"},{"title":"Â∫èÂàóÂåñÂà∞Êñ∞ Vector‚Äã","type":1,"pageTitle":"Âü∫Á°ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/guide/cpp/basic_serialization#Â∫èÂàóÂåñÂà∞Êñ∞-vector","content":" auto fory = Fory::builder().xlang(true).build(); fory.register_struct&lt;MyStruct&gt;(1); MyStruct obj{/* ... */}; // Â∫èÂàóÂåñ - ËøîÂõû Result&lt;std::vector&lt;uint8_t&gt;, Error&gt; auto result = fory.serialize(obj); if (result.ok()) { std::vector&lt;uint8_t&gt; bytes = std::move(result).value(); // ‰ΩøÁî® bytes... } else { // Â§ÑÁêÜÈîôËØØ std::cerr &lt;&lt; result.error().to_string() &lt;&lt; std::endl; }   ","version":"0.15","tagName":"h3"},{"title":"Â∫èÂàóÂåñÂà∞Áé∞ÊúâÁºìÂÜ≤Âå∫‚Äã","type":1,"pageTitle":"Âü∫Á°ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/guide/cpp/basic_serialization#Â∫èÂàóÂåñÂà∞Áé∞ÊúâÁºìÂÜ≤Âå∫","content":" // Â∫èÂàóÂåñÂà∞Áé∞Êúâ BufferÔºàÊúÄÂø´Ë∑ØÂæÑÔºâ Buffer buffer; auto result = fory.serialize_to(buffer, obj); if (result.ok()) { size_t bytes_written = result.value(); // buffer Áé∞Âú®ÂåÖÂê´Â∫èÂàóÂåñÊï∞ÊçÆ } // Â∫èÂàóÂåñÂà∞Áé∞Êúâ vectorÔºàÈõ∂Êã∑Ë¥ùÔºâ std::vector&lt;uint8_t&gt; output; auto result = fory.serialize_to(output, obj); if (result.ok()) { size_t bytes_written = result.value(); // output Áé∞Âú®ÂåÖÂê´Â∫èÂàóÂåñÊï∞ÊçÆ }   ","version":"0.15","tagName":"h3"},{"title":"‰ªéÂ≠óËäÇÊï∞ÁªÑÂèçÂ∫èÂàóÂåñ‚Äã","type":1,"pageTitle":"Âü∫Á°ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/guide/cpp/basic_serialization#‰ªéÂ≠óËäÇÊï∞ÁªÑÂèçÂ∫èÂàóÂåñ","content":" // ‰ªéÂéüÂßãÊåáÈíàÂèçÂ∫èÂàóÂåñ auto result = fory.deserialize&lt;MyStruct&gt;(data_ptr, data_size); if (result.ok()) { MyStruct obj = std::move(result).value(); } // ‰ªé vector ÂèçÂ∫èÂàóÂåñ std::vector&lt;uint8_t&gt; data = /* ... */; auto result = fory.deserialize&lt;MyStruct&gt;(data); // ‰ªé Buffer ÂèçÂ∫èÂàóÂåñÔºàÊõ¥Êñ∞ reader_indexÔºâ Buffer buffer(data); auto result = fory.deserialize&lt;MyStruct&gt;(buffer);   ","version":"0.15","tagName":"h3"},{"title":"ÈîôËØØÂ§ÑÁêÜ‚Äã","type":1,"pageTitle":"Âü∫Á°ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/guide/cpp/basic_serialization#ÈîôËØØÂ§ÑÁêÜ","content":" Fory ‰ΩøÁî® Result&lt;T, Error&gt; Á±ªÂûãËøõË°åÈîôËØØÂ§ÑÁêÜÔºö  auto result = fory.serialize(obj); // Ê£ÄÊü•Êìç‰ΩúÊòØÂê¶ÊàêÂäü if (result.ok()) { auto value = std::move(result).value(); // ‰ΩøÁî® value... } else { Error error = result.error(); std::cerr &lt;&lt; &quot;Error: &quot; &lt;&lt; error.to_string() &lt;&lt; std::endl; } // Êàñ‰ΩøÁî® FORY_TRY ÂÆèËøõË°åÊèêÂâçËøîÂõû FORY_TRY(bytes, fory.serialize(obj)); // Áõ¥Êé•‰ΩøÁî® bytes...   Â∏∏ËßÅÈîôËØØÁ±ªÂûãÔºö  Error::type_mismatch - ÂèçÂ∫èÂàóÂåñÊó∂Á±ªÂûã ID ‰∏çÂåπÈÖçError::invalid_data - Êó†ÊïàÊàñÊçüÂùèÁöÑÊï∞ÊçÆError::buffer_out_of_bound - ÁºìÂÜ≤Âå∫Ê∫¢Âá∫/‰∏ãÊ∫¢Error::type_error - Á±ªÂûãÊ≥®ÂÜåÈîôËØØ  ","version":"0.15","tagName":"h2"},{"title":"FORY_STRUCT ÂÆè‚Äã","type":1,"pageTitle":"Âü∫Á°ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/guide/cpp/basic_serialization#fory_struct-ÂÆè","content":" FORY_STRUCT ÂÆèÁî®‰∫éÊ≥®ÂÜåÁªìÊûÑ‰Ωì‰ª•ËøõË°åÂ∫èÂàóÂåñÔºö  struct MyStruct { int32_t x; std::string y; std::vector&lt;int32_t&gt; z; }; // ÂøÖÈ°ª‰∏éÁªìÊûÑ‰ΩìÂú®Âêå‰∏ÄÂëΩÂêçÁ©∫Èó¥‰∏≠ FORY_STRUCT(MyStruct, x, y, z);   ËØ•ÂÆèÔºö  ÁîüÊàêÁºñËØëÊó∂Â≠óÊÆµÂÖÉÊï∞ÊçÆÂêØÁî® ADLÔºàÂèÇÊï∞‰æùËµñÊü•ÊâæÔºâËøõË°åÂ∫èÂàóÂåñÈÄöËøáÊ®°ÊùøÁâπÂåñÂàõÂª∫È´òÊïàÁöÑÂ∫èÂàóÂåñ‰ª£Á†Å  Ë¶ÅÊ±ÇÔºö  ÂøÖÈ°ªÊîæÂú®‰∏éÁªìÊûÑ‰ΩìÁõ∏ÂêåÁöÑÂëΩÂêçÁ©∫Èó¥‰∏≠ÔºàÁî®‰∫é ADLÔºâÊâÄÊúâÂàóÂá∫ÁöÑÂ≠óÊÆµÂøÖÈ°ªÊòØÂèØÂ∫èÂàóÂåñÁ±ªÂûãÂÆè‰∏≠ÁöÑÂ≠óÊÆµÈ°∫Â∫èÂÜ≥ÂÆöÂ∫èÂàóÂåñÈ°∫Â∫è  ","version":"0.15","tagName":"h2"},{"title":"ÂµåÂ•óÁªìÊûÑ‰Ωì‚Äã","type":1,"pageTitle":"Âü∫Á°ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/guide/cpp/basic_serialization#ÂµåÂ•óÁªìÊûÑ‰Ωì","content":" ÂÆåÂÖ®ÊîØÊåÅÂµåÂ•óÁªìÊûÑ‰ΩìÔºö  struct Inner { int32_t value; }; FORY_STRUCT(Inner, value); struct Outer { Inner inner; std::string label; }; FORY_STRUCT(Outer, inner, label); // ‰∏§ËÄÖÈÉΩÂøÖÈ°ªÊ≥®ÂÜå fory.register_struct&lt;Inner&gt;(1); fory.register_struct&lt;Outer&gt;(2);   ","version":"0.15","tagName":"h2"},{"title":"ÊÄßËÉΩÊèêÁ§∫‚Äã","type":1,"pageTitle":"Âü∫Á°ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/guide/cpp/basic_serialization#ÊÄßËÉΩÊèêÁ§∫","content":" ÁºìÂÜ≤Âå∫Â§çÁî®Ôºö‰ΩøÁî® serialize_to(buffer, obj) ÈÖçÂêàÈ¢ÑÂàÜÈÖçÁöÑÁºìÂÜ≤Âå∫È¢ÑÊ≥®ÂÜåÔºöÂú®Â∫èÂàóÂåñÂºÄÂßãÂâçÊ≥®ÂÜåÊâÄÊúâÁ±ªÂûãÂçïÁ∫øÁ®ãÔºöÂ∞ΩÂèØËÉΩ‰ΩøÁî® build() ËÄå‰∏çÊòØ build_thread_safe()Á¶ÅÁî®Ë∑üË∏™ÔºöÂΩì‰∏çÈúÄË¶ÅÂºïÁî®Ë∑üË∏™Êó∂‰ΩøÁî® track_ref(false)Á¥ßÂáëÁºñÁ†ÅÔºö‰ΩøÁî®ÂèòÈïøÁºñÁ†ÅÊèêÈ´òÁ©∫Èó¥ÊïàÁéá  ","version":"0.15","tagName":"h2"},{"title":"Áõ∏ÂÖ≥‰∏ªÈ¢ò‚Äã","type":1,"pageTitle":"Âü∫Á°ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/guide/cpp/basic_serialization#Áõ∏ÂÖ≥‰∏ªÈ¢ò","content":" ÈÖçÁΩÆ - ÊûÑÂª∫Âô®ÈÄâÈ°πÁ±ªÂûãÊ≥®ÂÜå - Ê≥®ÂÜåÁ±ªÂûãÊîØÊåÅÁöÑÁ±ªÂûã - ÊâÄÊúâÊîØÊåÅÁöÑÁ±ªÂûã ","version":"0.15","tagName":"h2"},{"title":"ÈÖçÁΩÆ","type":0,"sectionRef":"#","url":"/zh-CN/docs/guide/cpp/configuration","content":"","keywords":"","version":"0.15"},{"title":"Â∫èÂàóÂåñÊ®°Âºè‚Äã","type":1,"pageTitle":"ÈÖçÁΩÆ","url":"/zh-CN/docs/guide/cpp/configuration#Â∫èÂàóÂåñÊ®°Âºè","content":" Apache Fory‚Ñ¢ ÊîØÊåÅ‰∏§ÁßçÂ∫èÂàóÂåñÊ®°ÂºèÔºö  ","version":"0.15","tagName":"h2"},{"title":"SchemaConsistent Ê®°ÂºèÔºàÈªòËÆ§Ôºâ‚Äã","type":1,"pageTitle":"ÈÖçÁΩÆ","url":"/zh-CN/docs/guide/cpp/configuration#schemaconsistent-Ê®°ÂºèÈªòËÆ§","content":" Á±ªÂûãÂ£∞ÊòéÂøÖÈ°ªÂú®ÈÄö‰ø°ÂèåÊñπÂÆåÂÖ®ÂåπÈÖçÔºö  auto fory = Fory::builder().build(); // ÈªòËÆ§‰∏∫ SchemaConsistent   ","version":"0.15","tagName":"h3"},{"title":"Compatible Ê®°Âºè‚Äã","type":1,"pageTitle":"ÈÖçÁΩÆ","url":"/zh-CN/docs/guide/cpp/configuration#compatible-Ê®°Âºè","content":" ÂÖÅËÆ∏Áã¨Á´ãÁöÑ schema ÊºîÂåñÔºö  auto fory = Fory::builder().compatible(true).build();   ","version":"0.15","tagName":"h3"},{"title":"ÊûÑÂª∫Âô®Ê®°Âºè‚Äã","type":1,"pageTitle":"ÈÖçÁΩÆ","url":"/zh-CN/docs/guide/cpp/configuration#ÊûÑÂª∫Âô®Ê®°Âºè","content":" ‰ΩøÁî® ForyBuilder ÊûÑÈÄ†ÂÖ∑ÊúâËá™ÂÆö‰πâÈÖçÁΩÆÁöÑ Fory ÂÆû‰æãÔºö  #include &quot;fory/serialization/fory.h&quot; using namespace fory::serialization; // ÈªòËÆ§ÈÖçÁΩÆ auto fory = Fory::builder().build(); // Áî®‰∫é schema ÊºîÂåñÁöÑÂÖºÂÆπÊ®°Âºè auto fory = Fory::builder() .compatible(true) .build(); // Ë∑®ËØ≠Ë®ÄÊ®°Âºè auto fory = Fory::builder() .xlang(true) .build(); // ÂÆåÊï¥ÈÖçÁΩÆ auto fory = Fory::builder() .compatible(true) .xlang(true) .track_ref(true) .max_dyn_depth(10) .check_struct_version(true) .build();   ","version":"0.15","tagName":"h2"},{"title":"ÈÖçÁΩÆÈÄâÈ°π‚Äã","type":1,"pageTitle":"ÈÖçÁΩÆ","url":"/zh-CN/docs/guide/cpp/configuration#ÈÖçÁΩÆÈÄâÈ°π","content":" ","version":"0.15","tagName":"h2"},{"title":"xlang(bool)‚Äã","type":1,"pageTitle":"ÈÖçÁΩÆ","url":"/zh-CN/docs/guide/cpp/configuration#xlangbool","content":" ÂêØÁî®/Á¶ÅÁî®Ë∑®ËØ≠Ë®ÄÔºàxlangÔºâÂ∫èÂàóÂåñÊ®°Âºè„ÄÇ  auto fory = Fory::builder() .xlang(true) // ÂêØÁî®Ë∑®ËØ≠Ë®ÄÂÖºÂÆπÊÄß .build();   ÂêØÁî®ÂêéÔºåÂåÖÂê´Áî®‰∫é‰∏é Java„ÄÅPython„ÄÅGo„ÄÅRust Âíå JavaScript Ë∑®ËØ≠Ë®ÄÂÖºÂÆπÁöÑÂÖÉÊï∞ÊçÆ„ÄÇ  ÈªòËÆ§ÂÄºÔºö true  ","version":"0.15","tagName":"h3"},{"title":"compatible(bool)‚Äã","type":1,"pageTitle":"ÈÖçÁΩÆ","url":"/zh-CN/docs/guide/cpp/configuration#compatiblebool","content":" ÂêØÁî®/Á¶ÅÁî®Áî®‰∫é schema ÊºîÂåñÁöÑÂÖºÂÆπÊ®°Âºè„ÄÇ  auto fory = Fory::builder() .compatible(true) // ÂêØÁî® schema ÊºîÂåñ .build();   ÂêØÁî®ÂêéÔºåÊîØÊåÅËØªÂèñ‰ΩøÁî®‰∏çÂêå schema ÁâàÊú¨Â∫èÂàóÂåñÁöÑÊï∞ÊçÆ„ÄÇ  ÈªòËÆ§ÂÄºÔºö false  ","version":"0.15","tagName":"h3"},{"title":"track_ref(bool)‚Äã","type":1,"pageTitle":"ÈÖçÁΩÆ","url":"/zh-CN/docs/guide/cpp/configuration#track_refbool","content":" ÂêØÁî®/Á¶ÅÁî®ÂÖ±‰∫´ÂºïÁî®ÂíåÂæ™ÁéØÂºïÁî®ÁöÑÂºïÁî®Ë∑üË∏™„ÄÇ  auto fory = Fory::builder() .track_ref(true) // ÂêØÁî®ÂºïÁî®Ë∑üË∏™ .build();   ÂêØÁî®ÂêéÔºåÈÅøÂÖçÈáçÂ§çÂ∫èÂàóÂåñÂÖ±‰∫´ÂØπË±°Âπ∂Â§ÑÁêÜÂæ™ÁéØÂºïÁî®„ÄÇ  ÈªòËÆ§ÂÄºÔºö true  ","version":"0.15","tagName":"h3"},{"title":"max_dyn_depth(uint32_t)‚Äã","type":1,"pageTitle":"ÈÖçÁΩÆ","url":"/zh-CN/docs/guide/cpp/configuration#max_dyn_depthuint32_t","content":" ËÆæÁΩÆÂä®ÊÄÅÁ±ªÂûãÂØπË±°ÁöÑÊúÄÂ§ßÂÖÅËÆ∏ÂµåÂ•óÊ∑±Â∫¶„ÄÇ  auto fory = Fory::builder() .max_dyn_depth(10) // ÂÖÅËÆ∏ÊúÄÂ§ö 10 Â±Ç .build();   ËøôÈôêÂà∂‰∫ÜÂµåÂ•óÂ§öÊÄÅÂØπË±°Â∫èÂàóÂåñÁöÑÊúÄÂ§ßÊ∑±Â∫¶Ôºà‰æãÂ¶Ç shared_ptr&lt;Base&gt;„ÄÅunique_ptr&lt;Base&gt;Ôºâ„ÄÇÈò≤Ê≠¢Ê∑±Â∫¶ÂµåÂ•óÁªìÊûÑÂú®Âä®ÊÄÅÂ∫èÂàóÂåñÂú∫ÊôØ‰∏≠ÂØºËá¥Ê†àÊ∫¢Âá∫„ÄÇ  ÈªòËÆ§ÂÄºÔºö 5  ‰ΩïÊó∂Ë∞ÉÊï¥Ôºö  Â¢ûÂä†ÔºöÂØπ‰∫éÂêàÊ≥ïÁöÑÊ∑±Â∫¶ÂµåÂ•óÊï∞ÊçÆÁªìÊûÑÂáèÂ∞ëÔºöÂØπ‰∫éÊõ¥‰∏•Ê†ºÁöÑÂÆâÂÖ®Ë¶ÅÊ±ÇÊàñÊµÖÂ±ÇÊï∞ÊçÆÁªìÊûÑ  ","version":"0.15","tagName":"h3"},{"title":"check_struct_version(bool)‚Äã","type":1,"pageTitle":"ÈÖçÁΩÆ","url":"/zh-CN/docs/guide/cpp/configuration#check_struct_versionbool","content":" ÂêØÁî®/Á¶ÅÁî®ÁªìÊûÑ‰ΩìÁâàÊú¨Ê£ÄÊü•„ÄÇ  auto fory = Fory::builder() .check_struct_version(true) // ÂêØÁî®ÁâàÊú¨Ê£ÄÊü• .build();   ÂêØÁî®ÂêéÔºåÈ™åËØÅÁ±ªÂûãÂìàÂ∏å‰ª•Ê£ÄÊµã schema ‰∏çÂåπÈÖç„ÄÇ  ÈªòËÆ§ÂÄºÔºö false  ","version":"0.15","tagName":"h3"},{"title":"Á∫øÁ®ãÂÆâÂÖ® vs ÂçïÁ∫øÁ®ã‚Äã","type":1,"pageTitle":"ÈÖçÁΩÆ","url":"/zh-CN/docs/guide/cpp/configuration#Á∫øÁ®ãÂÆâÂÖ®-vs-ÂçïÁ∫øÁ®ã","content":" ","version":"0.15","tagName":"h2"},{"title":"ÂçïÁ∫øÁ®ãÔºàÊúÄÂø´Ôºâ‚Äã","type":1,"pageTitle":"ÈÖçÁΩÆ","url":"/zh-CN/docs/guide/cpp/configuration#ÂçïÁ∫øÁ®ãÊúÄÂø´","content":" auto fory = Fory::builder() .xlang(true) .build(); // ËøîÂõû Fory   ÂçïÁ∫øÁ®ã Fory ÊòØÊúÄÂø´ÁöÑÈÄâÈ°πÔºå‰ΩÜÈùûÁ∫øÁ®ãÂÆâÂÖ®„ÄÇÊØè‰∏™Á∫øÁ®ã‰ΩøÁî®‰∏Ä‰∏™ÂÆû‰æã„ÄÇ  ","version":"0.15","tagName":"h3"},{"title":"Á∫øÁ®ãÂÆâÂÖ®‚Äã","type":1,"pageTitle":"ÈÖçÁΩÆ","url":"/zh-CN/docs/guide/cpp/configuration#Á∫øÁ®ãÂÆâÂÖ®","content":" auto fory = Fory::builder() .xlang(true) .build_thread_safe(); // ËøîÂõû ThreadSafeFory   ThreadSafeFory ‰ΩøÁî® Fory ÂÆû‰æãÊ±†Êèê‰æõÁ∫øÁ®ãÂÆâÂÖ®ÁöÑÂ∫èÂàóÂåñ„ÄÇÁî±‰∫éÊ±†ÂºÄÈîÄÁï•ÊÖ¢Ôºå‰ΩÜÂèØ‰ª•‰ªéÂ§ö‰∏™Á∫øÁ®ãÂπ∂ÂèëÂÆâÂÖ®‰ΩøÁî®„ÄÇ  ","version":"0.15","tagName":"h3"},{"title":"ÈÖçÁΩÆÊëòË¶Å‚Äã","type":1,"pageTitle":"ÈÖçÁΩÆ","url":"/zh-CN/docs/guide/cpp/configuration#ÈÖçÁΩÆÊëòË¶Å","content":" ÈÄâÈ°π\tËØ¥Êòé\tÈªòËÆ§ÂÄºxlang(bool)\tÂêØÁî®Ë∑®ËØ≠Ë®ÄÊ®°Âºè\ttrue compatible(bool)\tÂêØÁî® schema ÊºîÂåñ\tfalse track_ref(bool)\tÂêØÁî®ÂºïÁî®Ë∑üË∏™\ttrue max_dyn_depth(uint32_t)\tÂä®ÊÄÅÁ±ªÂûãÁöÑÊúÄÂ§ßÂµåÂ•óÊ∑±Â∫¶\t5 check_struct_version(bool)\tÂêØÁî®ÁªìÊûÑ‰ΩìÁâàÊú¨Ê£ÄÊü•\tfalse  ","version":"0.15","tagName":"h2"},{"title":"Áõ∏ÂÖ≥‰∏ªÈ¢ò‚Äã","type":1,"pageTitle":"ÈÖçÁΩÆ","url":"/zh-CN/docs/guide/cpp/configuration#Áõ∏ÂÖ≥‰∏ªÈ¢ò","content":" Âü∫Á°ÄÂ∫èÂàóÂåñ - ‰ΩøÁî®ÈÖçÁΩÆÁöÑ ForyË∑®ËØ≠Ë®Ä - XLANG Ê®°ÂºèËØ¶ÊÉÖÁ±ªÂûãÊ≥®ÂÜå - Ê≥®ÂÜåÁ±ªÂûã ","version":"0.15","tagName":"h2"},{"title":"ÁîüÊàê‰ª£Á†Å","type":0,"sectionRef":"#","url":"/zh-CN/docs/compiler/generated_code","content":"","keywords":"","version":"0.15"},{"title":"ÂèÇËÄÉ Schema‚Äã","type":1,"pageTitle":"ÁîüÊàê‰ª£Á†Å","url":"/zh-CN/docs/compiler/generated_code#ÂèÇËÄÉ-schema","content":" ‰∏ãÈù¢Á§∫‰æãÂü∫‰∫é‰∏§‰∏™ÁúüÂÆû schemaÔºö  addressbook.fdlÔºàÊòæÂºèÁ±ªÂûã IDÔºâauto_id.fdlÔºàÊú™ÊòæÂºèÂ£∞ÊòéÁ±ªÂûã IDÔºâ  ","version":"0.15","tagName":"h2"},{"title":"addressbook.fdlÔºàËäÇÈÄâÔºâ‚Äã","type":1,"pageTitle":"ÁîüÊàê‰ª£Á†Å","url":"/zh-CN/docs/compiler/generated_code#addressbookfdlËäÇÈÄâ","content":" package addressbook; option go_package = &quot;github.com/myorg/myrepo/gen/addressbook;addressbook&quot;; message Person [id=100] { string name = 1; int32 id = 2; enum PhoneType [id=101] { PHONE_TYPE_MOBILE = 0; PHONE_TYPE_HOME = 1; PHONE_TYPE_WORK = 2; } message PhoneNumber [id=102] { string number = 1; PhoneType phone_type = 2; } list&lt;PhoneNumber&gt; phones = 7; Animal pet = 8; } message Dog [id=104] { string name = 1; int32 bark_volume = 2; } message Cat [id=105] { string name = 1; int32 lives = 2; } union Animal [id=106] { Dog dog = 1; Cat cat = 2; } message AddressBook [id=103] { list&lt;Person&gt; people = 1; map&lt;string, Person&gt; people_by_name = 2; }   ","version":"0.15","tagName":"h3"},{"title":"auto_id.fdlÔºàËäÇÈÄâÔºâ‚Äã","type":1,"pageTitle":"ÁîüÊàê‰ª£Á†Å","url":"/zh-CN/docs/compiler/generated_code#auto_idfdlËäÇÈÄâ","content":" package auto_id; enum Status { UNKNOWN = 0; OK = 1; } message Envelope { string id = 1; message Payload { int32 value = 1; } union Detail { Payload payload = 1; string note = 2; } Payload payload = 2; Detail detail = 3; Status status = 4; } union Wrapper { Envelope envelope = 1; string raw = 2; }   ","version":"0.15","tagName":"h3"},{"title":"Java‚Äã","type":1,"pageTitle":"ÁîüÊàê‰ª£Á†Å","url":"/zh-CN/docs/compiler/generated_code#java","content":" ","version":"0.15","tagName":"h2"},{"title":"ËæìÂá∫Â∏ÉÂ±Ä‚Äã","type":1,"pageTitle":"ÁîüÊàê‰ª£Á†Å","url":"/zh-CN/docs/compiler/generated_code#ËæìÂá∫Â∏ÉÂ±Ä","content":" ÂØπ‰∫é package addressbookÔºåJava ËæìÂá∫ÈÄöÂ∏∏‰Ωç‰∫éÔºö  &lt;java_out&gt;/addressbook/Á±ªÂûãÊñá‰ª∂ÔºöAddressBook.java„ÄÅPerson.java„ÄÅDog.java„ÄÅCat.java„ÄÅAnimal.javaÊ≥®ÂÜåËæÖÂä©Á±ªÔºöAddressbookForyRegistration.java  ","version":"0.15","tagName":"h3"},{"title":"Á±ªÂûãÁîüÊàê‚Äã","type":1,"pageTitle":"ÁîüÊàê‰ª£Á†Å","url":"/zh-CN/docs/compiler/generated_code#Á±ªÂûãÁîüÊàê","content":" message ‰ºöÁîüÊàêÂ∏¶ @ForyField„ÄÅÈªòËÆ§ÊûÑÈÄ†Âô®„ÄÅgetter/setter ‰ª•ÂèäÂ≠óËäÇËæÖÂä©ÊñπÊ≥ïÁöÑ Java Á±ªÔºö  public class Person { public static enum PhoneType { MOBILE, HOME, WORK; } public static class PhoneNumber { @ForyField(id = 1) private String number; @ForyField(id = 2) private PhoneType phoneType; public byte[] toBytes() { ... } public static PhoneNumber fromBytes(byte[] bytes) { ... } } @ForyField(id = 1) private String name; @ForyField(id = 8) private Animal pet; public byte[] toBytes() { ... } public static Person fromBytes(byte[] bytes) { ... } }   union ‰ºöÁîüÊàêÁªßÊâø org.apache.fory.type.union.Union ÁöÑÁ±ªÔºö  public final class Animal extends Union { public enum AnimalCase { DOG(1), CAT(2); public final int id; AnimalCase(int id) { this.id = id; } } public static Animal ofDog(Dog v) { ... } public AnimalCase getAnimalCase() { ... } public int getAnimalCaseId() { ... } public boolean hasDog() { ... } public Dog getDog() { ... } public void setDog(Dog v) { ... } }   ","version":"0.15","tagName":"h3"},{"title":"Ê≥®ÂÜå‚Äã","type":1,"pageTitle":"ÁîüÊàê‰ª£Á†Å","url":"/zh-CN/docs/compiler/generated_code#Ê≥®ÂÜå","content":" ÁîüÊàêÁöÑÊ≥®ÂÜåËæÖÂä©ÊñπÊ≥ïÔºö  public static void register(Fory fory) { org.apache.fory.resolver.TypeResolver resolver = fory.getTypeResolver(); resolver.registerUnion(Animal.class, 106L, new org.apache.fory.serializer.UnionSerializer(fory, Animal.class)); resolver.register(Person.class, 100L); resolver.register(Person.PhoneType.class, 101L); resolver.register(Person.PhoneNumber.class, 102L); resolver.register(Dog.class, 104L); resolver.register(Cat.class, 105L); resolver.register(AddressBook.class, 103L); }   ÂØπ‰∫éÊú™ÊòæÂºè [id=...] ÁöÑ schemaÔºåÊ≥®ÂÜå‰ª£Á†Å‰ºö‰ΩøÁî®ËÆ°ÁÆóÂæóÂà∞ÁöÑÊï∞ÂÄº IDÔºà‰æãÂ¶Ç auto_id.fdlÔºâÔºö  resolver.register(Status.class, 1124725126L); resolver.registerUnion(Wrapper.class, 1471345060L, new org.apache.fory.serializer.UnionSerializer(fory, Wrapper.class)); resolver.register(Envelope.class, 3022445236L); resolver.registerUnion(Envelope.Detail.class, 1609214087L, new org.apache.fory.serializer.UnionSerializer(fory, Envelope.Detail.class)); resolver.register(Envelope.Payload.class, 2862577837L);   Ëã•ËÆæÁΩÆ option enable_auto_type_id = false;ÔºåÂàôÊåâÂëΩÂêçÁ©∫Èó¥‰∏éÁ±ªÂûãÂêçÊ≥®ÂÜåÔºö  resolver.register(Config.class, &quot;myapp.models&quot;, &quot;Config&quot;); resolver.registerUnion( Holder.class, &quot;myapp.models&quot;, &quot;Holder&quot;, new org.apache.fory.serializer.UnionSerializer(fory, Holder.class));   ","version":"0.15","tagName":"h3"},{"title":"‰ΩøÁî®Á§∫‰æã‚Äã","type":1,"pageTitle":"ÁîüÊàê‰ª£Á†Å","url":"/zh-CN/docs/compiler/generated_code#‰ΩøÁî®Á§∫‰æã","content":" Person person = new Person(); person.setName(&quot;Alice&quot;); person.setPet(Animal.ofDog(new Dog())); byte[] data = person.toBytes(); Person restored = Person.fromBytes(data);   ","version":"0.15","tagName":"h3"},{"title":"Python‚Äã","type":1,"pageTitle":"ÁîüÊàê‰ª£Á†Å","url":"/zh-CN/docs/compiler/generated_code#python","content":" ","version":"0.15","tagName":"h2"},{"title":"ËæìÂá∫Â∏ÉÂ±Ä‚Äã","type":1,"pageTitle":"ÁîüÊàê‰ª£Á†Å","url":"/zh-CN/docs/compiler/generated_code#ËæìÂá∫Â∏ÉÂ±Ä-1","content":" Python ÊØè‰∏™ schema Êñá‰ª∂ÁîüÊàê‰∏Ä‰∏™Ê®°ÂùóÔºå‰æãÂ¶ÇÔºö  &lt;python_out&gt;/addressbook.py  ","version":"0.15","tagName":"h3"},{"title":"Á±ªÂûãÁîüÊàê‚Äã","type":1,"pageTitle":"ÁîüÊàê‰ª£Á†Å","url":"/zh-CN/docs/compiler/generated_code#Á±ªÂûãÁîüÊàê-1","content":" union ÁîüÊàê case Êûö‰∏æ‰∏é Union Â≠êÁ±ªÔºåÂπ∂Êèê‰æõÁ±ªÂûãÂåñËæÖÂä©ÊñπÊ≥ïÔºö  class AnimalCase(Enum): DOG = 1 CAT = 2 class Animal(Union): @classmethod def dog(cls, v: Dog) -&gt; &quot;Animal&quot;: ... def case(self) -&gt; AnimalCase: ... def case_id(self) -&gt; int: ... def is_dog(self) -&gt; bool: ... def dog_value(self) -&gt; Dog: ... def set_dog(self, v: Dog) -&gt; None: ...   message ÁîüÊàê @pyfory.dataclass Á±ªÂûãÔºåÂµåÂ•óÁ±ªÂûã‰øùÊåÅÂµåÂ•óÔºö  @pyfory.dataclass class Person: class PhoneType(IntEnum): MOBILE = 0 HOME = 1 WORK = 2 @pyfory.dataclass class PhoneNumber: number: str = pyfory.field(id=1, default=&quot;&quot;) phone_type: Person.PhoneType = pyfory.field(id=2, default=None) name: str = pyfory.field(id=1, default=&quot;&quot;) phones: List[Person.PhoneNumber] = pyfory.field(id=7, default_factory=list) pet: Animal = pyfory.field(id=8, default=None) def to_bytes(self) -&gt; bytes: ... @classmethod def from_bytes(cls, data: bytes) -&gt; &quot;Person&quot;: ...   ","version":"0.15","tagName":"h3"},{"title":"Ê≥®ÂÜå‚Äã","type":1,"pageTitle":"ÁîüÊàê‰ª£Á†Å","url":"/zh-CN/docs/compiler/generated_code#Ê≥®ÂÜå-1","content":" ÁîüÊàêÊ≥®ÂÜåÂáΩÊï∞Ôºö  def register_addressbook_types(fory: pyfory.Fory): fory.register_union(Animal, type_id=106, serializer=AnimalSerializer(fory)) fory.register_type(Person, type_id=100) fory.register_type(Person.PhoneType, type_id=101) fory.register_type(Person.PhoneNumber, type_id=102) fory.register_type(Dog, type_id=104) fory.register_type(Cat, type_id=105) fory.register_type(AddressBook, type_id=103)   Êú™ÊòæÂºè [id=...] Êó∂ÔºåÊ≥®ÂÜå‰ª£Á†Å‰ΩøÁî®ËÆ°ÁÆóÂæóÂà∞ÁöÑÊï∞ÂÄº IDÔºö  fory.register_type(Status, type_id=1124725126) fory.register_union(Wrapper, type_id=1471345060, serializer=WrapperSerializer(fory)) fory.register_type(Envelope, type_id=3022445236) fory.register_union(Envelope.Detail, type_id=1609214087, serializer=Envelope.DetailSerializer(fory)) fory.register_type(Envelope.Payload, type_id=2862577837)   Ëã•ËÆæÁΩÆ option enable_auto_type_id = false;Ôºö  fory.register_type(Config, namespace=&quot;myapp.models&quot;, typename=&quot;Config&quot;) fory.register_union( Holder, namespace=&quot;myapp.models&quot;, typename=&quot;Holder&quot;, serializer=HolderSerializer(fory), )   ","version":"0.15","tagName":"h3"},{"title":"‰ΩøÁî®Á§∫‰æã‚Äã","type":1,"pageTitle":"ÁîüÊàê‰ª£Á†Å","url":"/zh-CN/docs/compiler/generated_code#‰ΩøÁî®Á§∫‰æã-1","content":" person = Person(name=&quot;Alice&quot;, pet=Animal.dog(Dog(name=&quot;Rex&quot;, bark_volume=10))) data = person.to_bytes() restored = Person.from_bytes(data)   ","version":"0.15","tagName":"h3"},{"title":"Rust‚Äã","type":1,"pageTitle":"ÁîüÊàê‰ª£Á†Å","url":"/zh-CN/docs/compiler/generated_code#rust","content":" ","version":"0.15","tagName":"h2"},{"title":"ËæìÂá∫Â∏ÉÂ±Ä‚Äã","type":1,"pageTitle":"ÁîüÊàê‰ª£Á†Å","url":"/zh-CN/docs/compiler/generated_code#ËæìÂá∫Â∏ÉÂ±Ä-2","content":" Rust ÊØè‰∏™ schema ÁîüÊàê‰∏Ä‰∏™Ê®°ÂùóÊñá‰ª∂Ôºå‰æãÂ¶ÇÔºö  &lt;rust_out&gt;/addressbook.rs  ","version":"0.15","tagName":"h3"},{"title":"Á±ªÂûãÁîüÊàê‚Äã","type":1,"pageTitle":"ÁîüÊàê‰ª£Á†Å","url":"/zh-CN/docs/compiler/generated_code#Á±ªÂûãÁîüÊàê-2","content":" union Êò†Â∞Ñ‰∏∫ Rust enumÔºåÂπ∂Áî® #[fory(id = ...)] Â£∞Êòé case IDÔºö  #[derive(ForyObject, Debug, Clone, PartialEq)] pub enum Animal { #[fory(id = 1)] Dog(Dog), #[fory(id = 2)] Cat(Cat), }   ÂµåÂ•óÁ±ªÂûãÁîüÊàêÂµåÂ•ó moduleÔºö  pub mod person { #[derive(ForyObject, Debug, Clone, PartialEq, Default)] #[repr(i32)] pub enum PhoneType { #[default] Mobile = 0, Home = 1, Work = 2, } #[derive(ForyObject, Debug, Clone, PartialEq, Default)] pub struct PhoneNumber { #[fory(id = 1)] pub number: String, #[fory(id = 2)] pub phone_type: PhoneType, } }   message ‰ºö derive(ForyObject) Âπ∂ÁîüÊàê to_bytes/from_bytesÔºö  #[derive(ForyObject, Debug, Clone, PartialEq, Default)] pub struct Person { #[fory(id = 1)] pub name: String, #[fory(id = 7)] pub phones: Vec&lt;person::PhoneNumber&gt;, #[fory(id = 8, type_id = &quot;union&quot;)] pub pet: Animal, }   ","version":"0.15","tagName":"h3"},{"title":"Ê≥®ÂÜå‚Äã","type":1,"pageTitle":"ÁîüÊàê‰ª£Á†Å","url":"/zh-CN/docs/compiler/generated_code#Ê≥®ÂÜå-2","content":" ÁîüÊàêÊ≥®ÂÜåÂáΩÊï∞Ôºö  pub fn register_types(fory: &amp;mut Fory) -&gt; Result&lt;(), fory::Error&gt; { fory.register_union::&lt;Animal&gt;(106)?; fory.register::&lt;person::PhoneType&gt;(101)?; fory.register::&lt;person::PhoneNumber&gt;(102)?; fory.register::&lt;Person&gt;(100)?; fory.register::&lt;Dog&gt;(104)?; fory.register::&lt;Cat&gt;(105)?; fory.register::&lt;AddressBook&gt;(103)?; Ok(()) }   Êú™ÊòæÂºè [id=...] Êó∂ÔºåÊ≥®ÂÜå‰ª£Á†Å‰ΩøÁî®ËÆ°ÁÆóÂæóÂà∞ÁöÑÊï∞ÂÄº IDÔºö  fory.register::&lt;Status&gt;(1124725126)?; fory.register_union::&lt;Wrapper&gt;(1471345060)?; fory.register::&lt;Envelope&gt;(3022445236)?; fory.register_union::&lt;envelope::Detail&gt;(1609214087)?; fory.register::&lt;envelope::Payload&gt;(2862577837)?;   Ëã•ËÆæÁΩÆ option enable_auto_type_id = false;Ôºö  fory.register_by_namespace::&lt;Config&gt;(&quot;myapp.models&quot;, &quot;Config&quot;)?; fory.register_union_by_namespace::&lt;Holder&gt;(&quot;myapp.models&quot;, &quot;Holder&quot;)?;   ","version":"0.15","tagName":"h3"},{"title":"‰ΩøÁî®Á§∫‰æã‚Äã","type":1,"pageTitle":"ÁîüÊàê‰ª£Á†Å","url":"/zh-CN/docs/compiler/generated_code#‰ΩøÁî®Á§∫‰æã-2","content":" let person = Person { name: &quot;Alice&quot;.into(), pet: Animal::Dog(Dog::default()), ..Default::default() }; let bytes = person.to_bytes()?; let restored = Person::from_bytes(&amp;bytes)?;   ","version":"0.15","tagName":"h3"},{"title":"C++‚Äã","type":1,"pageTitle":"ÁîüÊàê‰ª£Á†Å","url":"/zh-CN/docs/compiler/generated_code#c","content":" ","version":"0.15","tagName":"h2"},{"title":"ËæìÂá∫Â∏ÉÂ±Ä‚Äã","type":1,"pageTitle":"ÁîüÊàê‰ª£Á†Å","url":"/zh-CN/docs/compiler/generated_code#ËæìÂá∫Â∏ÉÂ±Ä-3","content":" C++ ÊØè‰∏™ schema Êñá‰ª∂ÁîüÊàê‰∏Ä‰∏™Â§¥Êñá‰ª∂Ôºå‰æãÂ¶ÇÔºö  &lt;cpp_out&gt;/addressbook.h  ","version":"0.15","tagName":"h3"},{"title":"Á±ªÂûãÁîüÊàê‚Äã","type":1,"pageTitle":"ÁîüÊàê‰ª£Á†Å","url":"/zh-CN/docs/compiler/generated_code#Á±ªÂûãÁîüÊàê-3","content":" message ‰ºöÁîüÊàê final Á±ªÔºåÂπ∂ÂåÖÂê´Á±ªÂûãÂåñËÆøÈóÆÂô®‰∏éÂ≠óËäÇËæÖÂä©ÊñπÊ≥ïÔºö  class Person final { public: class PhoneNumber final { public: const std::string&amp; number() const; std::string* mutable_number(); template &lt;class Arg, class... Args&gt; void set_number(Arg&amp;&amp; arg, Args&amp;&amp;... args); fory::Result&lt;std::vector&lt;uint8_t&gt;, fory::Error&gt; to_bytes() const; static fory::Result&lt;PhoneNumber, fory::Error&gt; from_bytes(const std::vector&lt;uint8_t&gt;&amp; data); }; const std::string&amp; name() const; std::string* mutable_name(); template &lt;class Arg, class... Args&gt; void set_name(Arg&amp;&amp; arg, Args&amp;&amp;... args); const Animal&amp; pet() const; Animal* mutable_pet(); };   ÂèØÈÄâ message Â≠óÊÆµ‰ºöÁîüÊàê has_xxx„ÄÅmutable_xxx„ÄÅclear_xxx APIÔºö  class Envelope final { public: bool has_payload() const { return payload_ != nullptr; } const Envelope::Payload&amp; payload() const { return *payload_; } Envelope::Payload* mutable_payload() { if (!payload_) { payload_ = std::make_unique&lt;Envelope::Payload&gt;(); } return payload_.get(); } void clear_payload() { payload_.reset(); } private: std::unique_ptr&lt;Envelope::Payload&gt; payload_; };   union ‰ºöÁîüÊàêÂü∫‰∫é std::variant ÁöÑÂ∞ÅË£ÖÔºö  class Animal final { public: enum class AnimalCase : uint32_t { DOG = 1, CAT = 2, }; static Animal dog(Dog v); static Animal cat(Cat v); AnimalCase animal_case() const noexcept; uint32_t animal_case_id() const noexcept; bool is_dog() const noexcept; const Dog* as_dog() const noexcept; Dog* as_dog() noexcept; const Dog&amp; dog() const; Dog&amp; dog(); template &lt;class Visitor&gt; decltype(auto) visit(Visitor&amp;&amp; vis) const; private: std::variant&lt;Dog, Cat&gt; value_; };   ÁîüÊàêÂ§¥Êñá‰ª∂Ëøò‰ºöÂåÖÂê´ FORY_UNION„ÄÅFORY_FIELD_CONFIG„ÄÅFORY_ENUM„ÄÅFORY_STRUCT Á≠âÂ∫èÂàóÂåñÂÖÉ‰ø°ÊÅØÂÆè„ÄÇ  ","version":"0.15","tagName":"h3"},{"title":"Ê≥®ÂÜå‚Äã","type":1,"pageTitle":"ÁîüÊàê‰ª£Á†Å","url":"/zh-CN/docs/compiler/generated_code#Ê≥®ÂÜå-3","content":" ÁîüÊàêÊ≥®ÂÜåÂáΩÊï∞Ôºö  inline void register_types(fory::serialization::BaseFory&amp; fory) { fory.register_union&lt;Animal&gt;(106); fory.register_enum&lt;Person::PhoneType&gt;(101); fory.register_struct&lt;Person::PhoneNumber&gt;(102); fory.register_struct&lt;Person&gt;(100); fory.register_struct&lt;Dog&gt;(104); fory.register_struct&lt;Cat&gt;(105); fory.register_struct&lt;AddressBook&gt;(103); }   Êú™ÊòæÂºè [id=...] Êó∂ÔºåÊ≥®ÂÜå‰ª£Á†Å‰ΩøÁî®ËÆ°ÁÆóÂæóÂà∞ÁöÑÊï∞ÂÄº IDÔºö  fory.register_enum&lt;Status&gt;(1124725126); fory.register_union&lt;Wrapper&gt;(1471345060); fory.register_struct&lt;Envelope&gt;(3022445236); fory.register_union&lt;Envelope::Detail&gt;(1609214087); fory.register_struct&lt;Envelope::Payload&gt;(2862577837);   Ëã•ËÆæÁΩÆ option enable_auto_type_id = false;Ôºö  fory.register_struct&lt;Config&gt;(&quot;myapp.models&quot;, &quot;Config&quot;); fory.register_union&lt;Holder&gt;(&quot;myapp.models&quot;, &quot;Holder&quot;);   ","version":"0.15","tagName":"h3"},{"title":"‰ΩøÁî®Á§∫‰æã‚Äã","type":1,"pageTitle":"ÁîüÊàê‰ª£Á†Å","url":"/zh-CN/docs/compiler/generated_code#‰ΩøÁî®Á§∫‰æã-3","content":" addressbook::Person person; person.set_name(&quot;Alice&quot;); *person.mutable_pet() = addressbook::Animal::dog(addressbook::Dog{}); auto bytes = person.to_bytes(); auto restored = addressbook::Person::from_bytes(bytes.value());   ","version":"0.15","tagName":"h3"},{"title":"Go‚Äã","type":1,"pageTitle":"ÁîüÊàê‰ª£Á†Å","url":"/zh-CN/docs/compiler/generated_code#go","content":" ","version":"0.15","tagName":"h2"},{"title":"ËæìÂá∫Â∏ÉÂ±Ä‚Äã","type":1,"pageTitle":"ÁîüÊàê‰ª£Á†Å","url":"/zh-CN/docs/compiler/generated_code#ËæìÂá∫Â∏ÉÂ±Ä-4","content":" Go ËæìÂá∫Ë∑ØÂæÑÂèó schema ÈÄâÈ°π‰∏é --go_out ÂÖ±ÂêåÂΩ±Âìç„ÄÇ  ÂØπ‰∫é addressbook.fdlÔºåËã•ÈÖçÁΩÆ‰∫Ü go_packageÔºåÁîüÊàêÁªìÊûú‰ºöÈÅµÂæ™ÂØπÂ∫î import path/packageÔºà‰Ωç‰∫é --go_out Ê†πÁõÆÂΩï‰∏ãÔºâ„ÄÇ  Ëã•Êú™ÈÖçÁΩÆ go_packageÔºåÂàô‰ΩøÁî® --go_out ÊåáÂÆöÁõÆÂΩïÔºåÂπ∂Êåâ package ËßÑÂàôÁîüÊàêÊñá‰ª∂Âêç‰∏éÂåÖÂêç„ÄÇ  ","version":"0.15","tagName":"h3"},{"title":"Á±ªÂûãÁîüÊàê‚Äã","type":1,"pageTitle":"ÁîüÊàê‰ª£Á†Å","url":"/zh-CN/docs/compiler/generated_code#Á±ªÂûãÁîüÊàê-4","content":" ÂµåÂ•óÁ±ªÂûãÈªòËÆ§‰ΩøÁî®‰∏ãÂàíÁ∫øÂëΩÂêçÔºàPerson_PhoneType„ÄÅPerson_PhoneNumberÔºâÔºö  type Person_PhoneType int32 const ( Person_PhoneTypeMobile Person_PhoneType = 0 Person_PhoneTypeHome Person_PhoneType = 1 Person_PhoneTypeWork Person_PhoneType = 2 ) type Person_PhoneNumber struct { Number string `fory:&quot;id=1&quot;` PhoneType Person_PhoneType `fory:&quot;id=2&quot;` }   message ‰ºöÁîüÊàêÂ∏¶ fory tag ÁöÑ struct ‰∏éÂ≠óËäÇËæÖÂä©ÊñπÊ≥ïÔºö  type Person struct { Name string `fory:&quot;id=1&quot;` Id int32 `fory:&quot;id=2,compress=true&quot;` Phones []Person_PhoneNumber `fory:&quot;id=7&quot;` Pet Animal `fory:&quot;id=8&quot;` } func (m *Person) ToBytes() ([]byte, error) { ... } func (m *Person) FromBytes(data []byte) error { ... }   union ‰ºöÁîüÊàê case structÔºåÂπ∂Êèê‰æõÊûÑÈÄ†Âô®/ËÆøÈóÆÂô®/visitor APIÔºö  type AnimalCase uint32 type Animal struct { case_ AnimalCase value any } func DogAnimal(v *Dog) Animal { ... } func CatAnimal(v *Cat) Animal { ... } func (u Animal) Case() AnimalCase { ... } func (u Animal) AsDog() (*Dog, bool) { ... } func (u Animal) Visit(visitor AnimalVisitor) error { ... }   ","version":"0.15","tagName":"h3"},{"title":"Ê≥®ÂÜå‚Äã","type":1,"pageTitle":"ÁîüÊàê‰ª£Á†Å","url":"/zh-CN/docs/compiler/generated_code#Ê≥®ÂÜå-4","content":" ÁîüÊàêÊ≥®ÂÜåÂáΩÊï∞Ôºö  func RegisterTypes(f *fory.Fory) error { if err := f.RegisterUnion(Animal{}, 106, fory.NewUnionSerializer(...)); err != nil { return err } if err := f.RegisterEnum(Person_PhoneType(0), 101); err != nil { return err } if err := f.RegisterStruct(Person_PhoneNumber{}, 102); err != nil { return err } if err := f.RegisterStruct(Person{}, 100); err != nil { return err } return nil }   Êú™ÊòæÂºè [id=...] Êó∂ÔºåÊ≥®ÂÜå‰ª£Á†Å‰ΩøÁî®ËÆ°ÁÆóÂæóÂà∞ÁöÑÊï∞ÂÄº IDÔºö  if err := f.RegisterEnum(Status(0), 1124725126); err != nil { ... } if err := f.RegisterUnion(Wrapper{}, 1471345060, fory.NewUnionSerializer(...)); err != nil { ... } if err := f.RegisterStruct(Envelope{}, 3022445236); err != nil { ... } if err := f.RegisterUnion(Envelope_Detail{}, 1609214087, fory.NewUnionSerializer(...)); err != nil { ... } if err := f.RegisterStruct(Envelope_Payload{}, 2862577837); err != nil { ... }   Ëã•ËÆæÁΩÆ option enable_auto_type_id = false;Ôºö  if err := f.RegisterNamedStruct(Config{}, &quot;myapp.models.Config&quot;); err != nil { ... } if err := f.RegisterNamedUnion(Holder{}, &quot;myapp.models.Holder&quot;, fory.NewUnionSerializer(...)); err != nil { ... }   go_nested_type_style ÂèØÊéßÂà∂ÂµåÂ•óÁ±ªÂûãÂëΩÂêçÈ£éÊ†ºÔºö  option go_nested_type_style = &quot;camelcase&quot;;   ","version":"0.15","tagName":"h3"},{"title":"‰ΩøÁî®Á§∫‰æã‚Äã","type":1,"pageTitle":"ÁîüÊàê‰ª£Á†Å","url":"/zh-CN/docs/compiler/generated_code#‰ΩøÁî®Á§∫‰æã-4","content":" person := &amp;Person{ Name: &quot;Alice&quot;, Pet: DogAnimal(&amp;Dog{Name: &quot;Rex&quot;}), } data, err := person.ToBytes() if err != nil { panic(err) } var restored Person if err := restored.FromBytes(data); err != nil { panic(err) }   ","version":"0.15","tagName":"h3"},{"title":"Ë∑®ËØ≠Ë®ÄËØ¥Êòé‚Äã","type":1,"pageTitle":"ÁîüÊàê‰ª£Á†Å","url":"/zh-CN/docs/compiler/generated_code#Ë∑®ËØ≠Ë®ÄËØ¥Êòé","content":" ","version":"0.15","tagName":"h2"},{"title":"Á±ªÂûã ID Ë°å‰∏∫‚Äã","type":1,"pageTitle":"ÁîüÊàê‰ª£Á†Å","url":"/zh-CN/docs/compiler/generated_code#Á±ªÂûã-id-Ë°å‰∏∫","content":" ÊòæÂºè [id=...] ‰ºöÁõ¥Êé•Áî®‰∫éÁîüÊàêÊ≥®ÂÜå‰ª£Á†Å„ÄÇÊú™Â£∞ÊòéÁ±ªÂûã ID Êó∂ÔºåÁîüÊàê‰ª£Á†Å‰ºö‰ΩøÁî®ËÆ°ÁÆóÂæóÂà∞ÁöÑÊï∞ÂÄº IDÔºàÂèÇËßÅ auto_id.* ËæìÂá∫Ôºâ„ÄÇËã•ËÆæÁΩÆ option enable_auto_type_id = false;ÔºåÂàôÁîüÊàê‰ª£Á†ÅÊîπ‰∏∫‰ΩøÁî® namespace/type-name Ê≥®ÂÜå APIÔºåËÄåÈùûÊï∞ÂÄº ID„ÄÇ  ","version":"0.15","tagName":"h3"},{"title":"ÂµåÂ•óÁ±ªÂûãÂΩ¢ÊÄÅ‚Äã","type":1,"pageTitle":"ÁîüÊàê‰ª£Á†Å","url":"/zh-CN/docs/compiler/generated_code#ÂµåÂ•óÁ±ªÂûãÂΩ¢ÊÄÅ","content":" ËØ≠Ë®Ä\tÂµåÂ•óÁ±ªÂûãÂΩ¢ÂºèJava\tPerson.PhoneNumber Python\tPerson.PhoneNumber Rust\tperson::PhoneNumber C++\tPerson::PhoneNumber Go\tPerson_PhoneNumberÔºàÈªòËÆ§Ôºâ  ","version":"0.15","tagName":"h3"},{"title":"Â≠óËäÇËæÖÂä©ÊñπÊ≥ïÂëΩÂêç‚Äã","type":1,"pageTitle":"ÁîüÊàê‰ª£Á†Å","url":"/zh-CN/docs/compiler/generated_code#Â≠óËäÇËæÖÂä©ÊñπÊ≥ïÂëΩÂêç","content":" ËØ≠Ë®Ä\tËæÖÂä©ÊñπÊ≥ïÂêçÁß∞Java\ttoBytes / fromBytes Python\tto_bytes / from_bytes Rust\tto_bytes / from_bytes C++\tto_bytes / from_bytes Go\tToBytes / FromBytes ","version":"0.15","tagName":"h3"},{"title":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ","type":0,"sectionRef":"#","url":"/zh-CN/docs/guide/cpp/cross_language","content":"","keywords":"","version":"0.15"},{"title":"Ê¶ÇËø∞‚Äã","type":1,"pageTitle":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/guide/cpp/cross_language#Ê¶ÇËø∞","content":" Apache Fory‚Ñ¢ ÊîØÊåÅÂú® C++„ÄÅJava„ÄÅPython„ÄÅGo„ÄÅRust Âíå JavaScript ‰πãÈó¥Êó†Áºù‰∫§Êç¢Êï∞ÊçÆ„ÄÇxlangÔºàË∑®ËØ≠Ë®ÄÔºâÊ®°ÂºèÁ°Æ‰øùÊâÄÊúâÊîØÊåÅËØ≠Ë®Ä‰πãÈó¥ÁöÑ‰∫åËøõÂà∂ÂÖºÂÆπÊÄß„ÄÇ  ","version":"0.15","tagName":"h2"},{"title":"ÂêØÁî®Ë∑®ËØ≠Ë®ÄÊ®°Âºè‚Äã","type":1,"pageTitle":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/guide/cpp/cross_language#ÂêØÁî®Ë∑®ËØ≠Ë®ÄÊ®°Âºè","content":" #include &quot;fory/serialization/fory.h&quot; using namespace fory::serialization; auto fory = Fory::builder() .xlang(true) // ÂêØÁî®Ë∑®ËØ≠Ë®ÄÊ®°Âºè .build();   ","version":"0.15","tagName":"h2"},{"title":"Ë∑®ËØ≠Ë®ÄÁ§∫‰æã‚Äã","type":1,"pageTitle":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/guide/cpp/cross_language#Ë∑®ËØ≠Ë®ÄÁ§∫‰æã","content":" ","version":"0.15","tagName":"h2"},{"title":"C++ Áîü‰∫ßËÄÖ‚Äã","type":1,"pageTitle":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/guide/cpp/cross_language#c-Áîü‰∫ßËÄÖ","content":" #include &quot;fory/serialization/fory.h&quot; #include &lt;fstream&gt; using namespace fory::serialization; struct Message { std::string topic; int64_t timestamp; std::map&lt;std::string, std::string&gt; headers; std::vector&lt;uint8_t&gt; payload; bool operator==(const Message &amp;other) const { return topic == other.topic &amp;&amp; timestamp == other.timestamp &amp;&amp; headers == other.headers &amp;&amp; payload == other.payload; } }; FORY_STRUCT(Message, topic, timestamp, headers, payload); int main() { auto fory = Fory::builder().xlang(true).build(); fory.register_struct&lt;Message&gt;(100); Message msg{ &quot;events.user&quot;, 1699999999000, {{&quot;content-type&quot;, &quot;application/json&quot;}}, {'h', 'e', 'l', 'l', 'o'} }; auto result = fory.serialize(msg); if (result.ok()) { auto bytes = std::move(result).value(); // ÂÜôÂÖ•Êñá‰ª∂„ÄÅÈÄöËøáÁΩëÁªúÂèëÈÄÅÁ≠â std::ofstream file(&quot;message.bin&quot;, std::ios::binary); file.write(reinterpret_cast&lt;const char*&gt;(bytes.data()), bytes.size()); } return 0; }   ","version":"0.15","tagName":"h3"},{"title":"Java Ê∂àË¥πËÄÖ‚Äã","type":1,"pageTitle":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/guide/cpp/cross_language#java-Ê∂àË¥πËÄÖ","content":" import org.apache.fory.Fory; import org.apache.fory.config.Language; public class Message { public String topic; public long timestamp; public Map&lt;String, String&gt; headers; public byte[] payload; } public class Consumer { public static void main(String[] args) throws Exception { Fory fory = Fory.builder() .withLanguage(Language.XLANG) .build(); fory.register(Message.class, 100); // ‰∏é C++ Áõ∏ÂêåÁöÑ ID byte[] bytes = Files.readAllBytes(Path.of(&quot;message.bin&quot;)); Message msg = (Message) fory.deserialize(bytes); System.out.println(&quot;Topic: &quot; + msg.topic); System.out.println(&quot;Timestamp: &quot; + msg.timestamp); } }   ","version":"0.15","tagName":"h3"},{"title":"Python Ê∂àË¥πËÄÖ‚Äã","type":1,"pageTitle":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/guide/cpp/cross_language#python-Ê∂àË¥πËÄÖ","content":" import pyfory class Message: topic: str timestamp: int headers: dict[str, str] payload: bytes fory = pyfory.Fory() fory.register(Message, type_id=100) # ‰∏é C++ Áõ∏ÂêåÁöÑ ID with open(&quot;message.bin&quot;, &quot;rb&quot;) as f: data = f.read() msg = fory.deserialize(data) print(f&quot;Topic: {msg.topic}&quot;) print(f&quot;Timestamp: {msg.timestamp}&quot;)   ","version":"0.15","tagName":"h3"},{"title":"Á±ªÂûãÊò†Â∞Ñ‚Äã","type":1,"pageTitle":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/guide/cpp/cross_language#Á±ªÂûãÊò†Â∞Ñ","content":" ","version":"0.15","tagName":"h2"},{"title":"Âü∫Êú¨Á±ªÂûã‚Äã","type":1,"pageTitle":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/guide/cpp/cross_language#Âü∫Êú¨Á±ªÂûã","content":" C++ Á±ªÂûã\tJava Á±ªÂûã\tPython Á±ªÂûã\tGo Á±ªÂûã\tRust Á±ªÂûãbool\tboolean\tbool\tbool\tbool int8_t\tbyte\tint\tint8\ti8 int16_t\tshort\tint\tint16\ti16 int32_t\tint\tint\tint32\ti32 int64_t\tlong\tint\tint64\ti64 float\tfloat\tfloat\tfloat32\tf32 double\tdouble\tfloat\tfloat64\tf64  ","version":"0.15","tagName":"h3"},{"title":"Â≠óÁ¨¶‰∏≤Á±ªÂûã‚Äã","type":1,"pageTitle":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/guide/cpp/cross_language#Â≠óÁ¨¶‰∏≤Á±ªÂûã","content":" C++ Á±ªÂûã\tJava Á±ªÂûã\tPython Á±ªÂûã\tGo Á±ªÂûã\tRust Á±ªÂûãstd::string\tString\tstr\tstring\tString  ","version":"0.15","tagName":"h3"},{"title":"ÈõÜÂêàÁ±ªÂûã‚Äã","type":1,"pageTitle":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/guide/cpp/cross_language#ÈõÜÂêàÁ±ªÂûã","content":" C++ Á±ªÂûã\tJava Á±ªÂûã\tPython Á±ªÂûã\tGo Á±ªÂûãstd::vector&lt;T&gt;\tList&lt;T&gt;\tlist\t[]T std::set&lt;T&gt;\tSet&lt;T&gt;\tset\tmap[T]struct{} std::map&lt;K,V&gt;\tMap&lt;K,V&gt;\tdict\tmap[K]V  ","version":"0.15","tagName":"h3"},{"title":"Êó∂Èó¥Á±ªÂûã‚Äã","type":1,"pageTitle":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/guide/cpp/cross_language#Êó∂Èó¥Á±ªÂûã","content":" C++ Á±ªÂûã\tJava Á±ªÂûã\tPython Á±ªÂûã\tGo Á±ªÂûãTimestamp\tInstant\tdatetime\ttime.Time Duration\tDuration\ttimedelta\ttime.Duration LocalDate\tLocalDate\tdatetime.date\ttime.Time  ","version":"0.15","tagName":"h3"},{"title":"Â≠óÊÆµÈ°∫Â∫èË¶ÅÊ±Ç‚Äã","type":1,"pageTitle":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/guide/cpp/cross_language#Â≠óÊÆµÈ°∫Â∫èË¶ÅÊ±Ç","content":" ÂÖ≥ÈîÆÔºö Â≠óÊÆµÂ∞ÜÊåâÁÖßÂÖ∂ snake_cased Â≠óÊÆµÂêçÊéíÂ∫èÔºåËΩ¨Êç¢ÂêéÁöÑÂêçÁß∞ÂøÖÈ°ªÂú®ÂêÑËØ≠Ë®Ä‰πãÈó¥‰øùÊåÅ‰∏ÄËá¥  ","version":"0.15","tagName":"h2"},{"title":"C++‚Äã","type":1,"pageTitle":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/guide/cpp/cross_language#c","content":" struct Person { std::string name; // Â≠óÊÆµ 0 int32_t age; // Â≠óÊÆµ 1 std::string email; // Â≠óÊÆµ 2 }; FORY_STRUCT(Person, name, age, email); // È°∫Â∫èÂæàÈáçË¶ÅÔºÅ   ","version":"0.15","tagName":"h3"},{"title":"Java‚Äã","type":1,"pageTitle":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/guide/cpp/cross_language#java","content":" public class Person { public String name; // Â≠óÊÆµ 0 public int age; // Â≠óÊÆµ 1 public String email; // Â≠óÊÆµ 2 }   ","version":"0.15","tagName":"h3"},{"title":"Python‚Äã","type":1,"pageTitle":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/guide/cpp/cross_language#python","content":" class Person: name: str # Â≠óÊÆµ 0 age: int # Â≠óÊÆµ 1 email: str # Â≠óÊÆµ 2   ","version":"0.15","tagName":"h3"},{"title":"Á±ªÂûã ID ‰∏ÄËá¥ÊÄß‚Äã","type":1,"pageTitle":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/guide/cpp/cross_language#Á±ªÂûã-id-‰∏ÄËá¥ÊÄß","content":" ÊâÄÊúâËØ≠Ë®ÄÂøÖÈ°ª‰ΩøÁî®Áõ∏ÂêåÁöÑÁ±ªÂûã IDÔºö  // C++ fory.register_struct&lt;Person&gt;(100); fory.register_struct&lt;Address&gt;(101); fory.register_struct&lt;Order&gt;(102);   // Java fory.register(Person.class, 100); fory.register(Address.class, 101); fory.register(Order.class, 102);   # Python fory.register(Person, type_id=100) fory.register(Address, type_id=101) fory.register(Order, type_id=102)   ","version":"0.15","tagName":"h2"},{"title":"Compatible Ê®°Âºè‚Äã","type":1,"pageTitle":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/guide/cpp/cross_language#compatible-Ê®°Âºè","content":" Áî®‰∫éË∑®ËØ≠Ë®ÄËæπÁïåÁöÑ schema ÊºîÂåñÔºö  // ‰ΩøÁî® compatible Ê®°ÂºèÁöÑ C++ auto fory = Fory::builder() .xlang(true) .compatible(true) // ÂêØÁî® schema ÊºîÂåñ .build();   Compatible Ê®°ÂºèÂÖÅËÆ∏Ôºö  Ê∑ªÂä†Êñ∞Â≠óÊÆµÔºàÂ∏¶ÈªòËÆ§ÂÄºÔºâÂà†Èô§Êú™‰ΩøÁî®ÁöÑÂ≠óÊÆµÈáçÊéíÂ≠óÊÆµÈ°∫Â∫è  ","version":"0.15","tagName":"h2"},{"title":"ÊïÖÈöúÊéíÊü•‚Äã","type":1,"pageTitle":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/guide/cpp/cross_language#ÊïÖÈöúÊéíÊü•","content":" ","version":"0.15","tagName":"h2"},{"title":"Á±ªÂûã‰∏çÂåπÈÖçÈîôËØØ‚Äã","type":1,"pageTitle":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/guide/cpp/cross_language#Á±ªÂûã‰∏çÂåπÈÖçÈîôËØØ","content":" Error: Type mismatch: expected 100, got 101   Ëß£ÂÜ≥ÊñπÊ°àÔºö Á°Æ‰øùÁ±ªÂûã ID Âú®ÊâÄÊúâËØ≠Ë®Ä‰∏≠ÂåπÈÖç„ÄÇ  ","version":"0.15","tagName":"h3"},{"title":"ÁºñÁ†ÅÈîôËØØ‚Äã","type":1,"pageTitle":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/guide/cpp/cross_language#ÁºñÁ†ÅÈîôËØØ","content":" Error: Invalid UTF-8 sequence   Ëß£ÂÜ≥ÊñπÊ°àÔºö Á°Æ‰øùÊâÄÊúâËØ≠Ë®Ä‰∏≠ÁöÑÂ≠óÁ¨¶‰∏≤ÈÉΩÊòØÊúâÊïàÁöÑ UTF-8„ÄÇ  ","version":"0.15","tagName":"h3"},{"title":"Áõ∏ÂÖ≥‰∏ªÈ¢ò‚Äã","type":1,"pageTitle":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/guide/cpp/cross_language#Áõ∏ÂÖ≥‰∏ªÈ¢ò","content":" ÈÖçÁΩÆ - ÊûÑÂª∫Âô®ÈÄâÈ°πÁ±ªÂûãÊ≥®ÂÜå - Ê≥®ÂÜåÁ±ªÂûãÊîØÊåÅÁöÑÁ±ªÂûã - Á±ªÂûãÂÖºÂÆπÊÄß ","version":"0.15","tagName":"h2"},{"title":"Â≠óÊÆµÈÖçÁΩÆ","type":0,"sectionRef":"#","url":"/zh-CN/docs/guide/cpp/field_configuration","content":"","keywords":"","version":"0.15"},{"title":"Ê¶ÇËø∞‚Äã","type":1,"pageTitle":"Â≠óÊÆµÈÖçÁΩÆ","url":"/zh-CN/docs/guide/cpp/field_configuration#Ê¶ÇËø∞","content":" Apache Fory‚Ñ¢ Âú®ÁºñËØëÊúüÊèê‰æõ‰∏§ÁßçÂ≠óÊÆµÂÖÉ‰ø°ÊÅØÈÖçÁΩÆÊñπÂºèÔºö  fory::field&lt;&gt; Ê®°ÊùøÔºöÂú® struct ÂÆö‰πâ‰∏≠ÂÜÖËÅîÂ£∞ÊòéÂÖÉ‰ø°ÊÅØFORY_FIELD_TAGS ÂÆèÔºöÂú® struct Â§ñÈÉ®ÈôÑÂä†ÂÖÉ‰ø°ÊÅØÔºàÈùû‰æµÂÖ•Ôºâ  Ëøô‰∫õÊú∫Âà∂ÂèØÁî®‰∫éÔºö  Tag IDÔºö‰∏∫ schema ÊºîËøõÂàÜÈÖçÁ¥ßÂáëÊï∞ÂÄº IDÂèØÁ©∫ÊéßÂà∂ÔºöÂ∞ÜÊåáÈíàÂ≠óÊÆµÊ†áËÆ∞‰∏∫ÂèØÁ©∫ÂºïÁî®Ë∑üË∏™Ôºö‰∏∫ÂÖ±‰∫´ÊåáÈíàÂêØÁî®ÂºïÁî®Ë∑üË∏™  ","version":"0.15","tagName":"h2"},{"title":"fory::field Ê®°Êùø‚Äã","type":1,"pageTitle":"Â≠óÊÆµÈÖçÁΩÆ","url":"/zh-CN/docs/guide/cpp/field_configuration#foryfield-Ê®°Êùø","content":" template &lt;typename T, int16_t Id, typename... Options&gt; class field;   ","version":"0.15","tagName":"h2"},{"title":"Ê®°ÊùøÂèÇÊï∞‚Äã","type":1,"pageTitle":"Â≠óÊÆµÈÖçÁΩÆ","url":"/zh-CN/docs/guide/cpp/field_configuration#Ê®°ÊùøÂèÇÊï∞","content":" ÂèÇÊï∞\tËØ¥ÊòéT\tÂ∫ïÂ±ÇÂ≠óÊÆµÁ±ªÂûã Id\tÂ≠óÊÆµ tag IDÔºàint16_tÔºâÔºåÁî®‰∫éÁ¥ßÂáëÂ∫èÂàóÂåñ Options\tÂèØÈÄâÊ†áÁ≠æÔºöfory::nullable„ÄÅfory::ref Á≠â  ","version":"0.15","tagName":"h3"},{"title":"Âü∫Êú¨Áî®Ê≥ï‚Äã","type":1,"pageTitle":"Â≠óÊÆµÈÖçÁΩÆ","url":"/zh-CN/docs/guide/cpp/field_configuration#Âü∫Êú¨Áî®Ê≥ï","content":" #include &quot;fory/serialization/fory.h&quot; using namespace fory::serialization; struct Person { fory::field&lt;std::string, 0&gt; name; fory::field&lt;int32_t, 1&gt; age; fory::field&lt;std::optional&lt;std::string&gt;, 2&gt; nickname; }; FORY_STRUCT(Person, name, age, nickname);   fory::field&lt;&gt; ÊòØÈÄèÊòéÂåÖË£ÖÔºåÂèØÂÉèÂ∫ïÂ±ÇÁ±ªÂûã‰∏ÄÊ†∑‰ΩøÁî®Ôºö  Person person; person.name = &quot;Alice&quot;; // Direct assignment person.age = 30; std::string n = person.name; // Implicit conversion int a = person.age.get(); // Explicit get()   ","version":"0.15","tagName":"h3"},{"title":"Ê†áÁ≠æÁ±ªÂûã‚Äã","type":1,"pageTitle":"Â≠óÊÆµÈÖçÁΩÆ","url":"/zh-CN/docs/guide/cpp/field_configuration#Ê†áÁ≠æÁ±ªÂûã","content":" ","version":"0.15","tagName":"h2"},{"title":"fory::nullable‚Äã","type":1,"pageTitle":"Â≠óÊÆµÈÖçÁΩÆ","url":"/zh-CN/docs/guide/cpp/field_configuration#forynullable","content":" Â∞ÜÊô∫ËÉΩÊåáÈíàÂ≠óÊÆµÊ†áËÆ∞‰∏∫ÂèØÁ©∫ÔºàÂèØ‰∏∫ nullptrÔºâÔºö  struct Node { fory::field&lt;std::string, 0&gt; name; fory::field&lt;std::shared_ptr&lt;Node&gt;, 1, fory::nullable&gt; next; // Can be nullptr }; FORY_STRUCT(Node, name, next);   ÈÄÇÁî®Á±ªÂûãÔºö std::shared_ptr&lt;T&gt;„ÄÅstd::unique_ptr&lt;T&gt;  ËØ¥ÊòéÔºö ÂØπÂéüÁîüÂÄºÁ±ªÂûãÊàñÂ≠óÁ¨¶‰∏≤ÁöÑÂèØÁ©∫ËØ≠‰πâÔºåËØ∑‰ΩøÁî® std::optional&lt;T&gt;Ôºö  // Correct: use std::optional for nullable primitives fory::field&lt;std::optional&lt;int32_t&gt;, 0&gt; optional_value; // Wrong: nullable is not allowed for primitives // fory::field&lt;int32_t, 0, fory::nullable&gt; value; // Compile error!   ","version":"0.15","tagName":"h3"},{"title":"fory::not_null‚Äã","type":1,"pageTitle":"Â≠óÊÆµÈÖçÁΩÆ","url":"/zh-CN/docs/guide/cpp/field_configuration#forynot_null","content":" ÊòæÂºèÂ£∞ÊòéÊåáÈíàÂ≠óÊÆµ‰∏çÂèØÁ©∫„ÄÇËôΩÁÑ∂ËøôÊòØÊô∫ËÉΩÊåáÈíàÁöÑÈªòËÆ§Ë°å‰∏∫Ôºå‰ΩÜÂèØÁî®‰∫éÂ¢ûÂº∫ÂèØËØªÊÄßÔºö  fory::field&lt;std::shared_ptr&lt;Data&gt;, 0, fory::not_null&gt; data; // Must not be nullptr   ÈÄÇÁî®Á±ªÂûãÔºö std::shared_ptr&lt;T&gt;„ÄÅstd::unique_ptr&lt;T&gt;  ","version":"0.15","tagName":"h3"},{"title":"fory::ref‚Äã","type":1,"pageTitle":"Â≠óÊÆµÈÖçÁΩÆ","url":"/zh-CN/docs/guide/cpp/field_configuration#foryref","content":" ‰∏∫ÂÖ±‰∫´ÊåáÈíàÂ≠óÊÆµÂêØÁî®ÂºïÁî®Ë∑üË∏™„ÄÇÂ§ö‰∏™Â≠óÊÆµÂºïÁî®Âêå‰∏ÄÂØπË±°Êó∂Ôºå‰ªÖÂ∫èÂàóÂåñ‰∏ÄÊ¨°Âπ∂‰øùÊåÅÂÖ±‰∫´ÂÖ≥Á≥ªÔºö  struct Graph { fory::field&lt;std::string, 0&gt; name; fory::field&lt;std::shared_ptr&lt;Graph&gt;, 1, fory::ref&gt; left; // Ref tracked fory::field&lt;std::shared_ptr&lt;Graph&gt;, 2, fory::ref&gt; right; // Ref tracked }; FORY_STRUCT(Graph, name, left, right);   ÈÄÇÁî®Á±ªÂûãÔºö ‰ªÖ std::shared_ptr&lt;T&gt;ÔºàÈúÄË¶ÅÂÖ±‰∫´ÊâÄÊúâÊùÉÔºâ  ","version":"0.15","tagName":"h3"},{"title":"ÁªÑÂêàÊ†áÁ≠æ‚Äã","type":1,"pageTitle":"Â≠óÊÆµÈÖçÁΩÆ","url":"/zh-CN/docs/guide/cpp/field_configuration#ÁªÑÂêàÊ†áÁ≠æ","content":" ÂÖ±‰∫´ÊåáÈíàÂèØÁªÑÂêàÂ§ö‰∏™Ê†áÁ≠æÔºö  // Nullable + ref tracking fory::field&lt;std::shared_ptr&lt;Node&gt;, 0, fory::nullable, fory::ref&gt; link;   ","version":"0.15","tagName":"h3"},{"title":"Á±ªÂûãËßÑÂàô‚Äã","type":1,"pageTitle":"Â≠óÊÆµÈÖçÁΩÆ","url":"/zh-CN/docs/guide/cpp/field_configuration#Á±ªÂûãËßÑÂàô","content":" Á±ªÂûã\tÂèØÁî®ÈÄâÈ°π\tÂèØÁ©∫ËØ≠‰πâÂéüÁîüÁ±ªÂûã„ÄÅÂ≠óÁ¨¶‰∏≤\tÊó†\tËã•ÈúÄÂèØÁ©∫ËØ∑‰ΩøÁî® std::optional&lt;T&gt; std::optional&lt;T&gt;\tÊó†\tÂ§©ÁÑ∂ÂèØÁ©∫ std::shared_ptr&lt;T&gt;\tnullable„ÄÅref\tÈªòËÆ§‰∏çÂèØÁ©∫ std::unique_ptr&lt;T&gt;\tnullable\tÈªòËÆ§‰∏çÂèØÁ©∫  ","version":"0.15","tagName":"h2"},{"title":"ÂÆåÊï¥Á§∫‰æã‚Äã","type":1,"pageTitle":"Â≠óÊÆµÈÖçÁΩÆ","url":"/zh-CN/docs/guide/cpp/field_configuration#ÂÆåÊï¥Á§∫‰æã","content":" #include &quot;fory/serialization/fory.h&quot; using namespace fory::serialization; // Define a struct with various field configurations struct Document { // Required fields (non-nullable) fory::field&lt;std::string, 0&gt; title; fory::field&lt;int32_t, 1&gt; version; // Optional primitive using std::optional fory::field&lt;std::optional&lt;std::string&gt;, 2&gt; description; // Nullable pointer fory::field&lt;std::unique_ptr&lt;std::string&gt;, 3, fory::nullable&gt; metadata; // Reference-tracked shared pointer fory::field&lt;std::shared_ptr&lt;Document&gt;, 4, fory::ref&gt; parent; // Nullable + reference-tracked fory::field&lt;std::shared_ptr&lt;Document&gt;, 5, fory::nullable, fory::ref&gt; related; }; FORY_STRUCT(Document, title, version, description, metadata, parent, related); int main() { auto fory = Fory::builder().xlang(true).build(); fory.register_struct&lt;Document&gt;(100); Document doc; doc.title = &quot;My Document&quot;; doc.version = 1; doc.description = &quot;A sample document&quot;; doc.metadata = nullptr; // Allowed because nullable doc.parent = std::make_shared&lt;Document&gt;(); doc.parent-&gt;title = &quot;Parent Doc&quot;; doc.related = nullptr; // Allowed because nullable auto bytes = fory.serialize(doc).value(); auto decoded = fory.deserialize&lt;Document&gt;(bytes).value(); }   ","version":"0.15","tagName":"h2"},{"title":"ÁºñËØëÊúüÊ†°È™å‚Äã","type":1,"pageTitle":"Â≠óÊÆµÈÖçÁΩÆ","url":"/zh-CN/docs/guide/cpp/field_configuration#ÁºñËØëÊúüÊ†°È™å","content":" ÈùûÊ≥ïÈÖçÁΩÆ‰ºöÂú®ÁºñËØëÊúüÊä•ÈîôÔºö  // Error: nullable and not_null are mutually exclusive fory::field&lt;std::shared_ptr&lt;int&gt;, 0, fory::nullable, fory::not_null&gt; bad1; // Error: nullable only valid for smart pointers fory::field&lt;int32_t, 0, fory::nullable&gt; bad2; // Error: ref only valid for shared_ptr fory::field&lt;std::unique_ptr&lt;int&gt;, 0, fory::ref&gt; bad3; // Error: options not allowed for std::optional (inherently nullable) fory::field&lt;std::optional&lt;int&gt;, 0, fory::nullable&gt; bad4;   ","version":"0.15","tagName":"h2"},{"title":"ÂêëÂêéÂÖºÂÆπ‚Äã","type":1,"pageTitle":"Â≠óÊÆµÈÖçÁΩÆ","url":"/zh-CN/docs/guide/cpp/field_configuration#ÂêëÂêéÂÖºÂÆπ","content":" Êú™‰ΩøÁî® fory::field&lt;&gt; ÂåÖË£ÖÁöÑÊóß struct ‰ªçÂèØÊ≠£Â∏∏Â∑•‰ΩúÔºö  // Old style - still works struct LegacyPerson { std::string name; int32_t age; }; FORY_STRUCT(LegacyPerson, name, age); // New style with field metadata struct ModernPerson { fory::field&lt;std::string, 0&gt; name; fory::field&lt;int32_t, 1&gt; age; }; FORY_STRUCT(ModernPerson, name, age);   ","version":"0.15","tagName":"h2"},{"title":"FORY_FIELD_TAGS ÂÆè‚Äã","type":1,"pageTitle":"Â≠óÊÆµÈÖçÁΩÆ","url":"/zh-CN/docs/guide/cpp/field_configuration#fory_field_tags-ÂÆè","content":" FORY_FIELD_TAGS Êèê‰æõ‰∫Ü‰∏ÄÁßçÈùû‰æµÂÖ•ÂºèÊñπÊ°àÔºöÊó†ÈúÄ‰øÆÊîπ struct ÂÆö‰πâÂç≥ÂèØÈôÑÂä†Â≠óÊÆµÂÖÉ‰ø°ÊÅØ„ÄÇÈÄÇÁî®Âú∫ÊôØÔºö  Á¨¨‰∏âÊñπÁ±ªÂûãÔºö‰∏∫ÈùûËá™ÊúâÁ±ªÂûãÊ∑ªÂä†ÂÖÉ‰ø°ÊÅØÁ∫ØÂáÄÁªìÊûÑÂÆö‰πâÔºö‰øùÊåÅ struct ‰ªÖÂåÖÂê´Ê†áÂáÜ C++ Á±ªÂûã‰æùËµñÈöîÁ¶ªÔºöÂ∞Ü Fory Â§¥Êñá‰ª∂ÈôêÂà∂Âú®Â∫èÂàóÂåñÈÖçÁΩÆÊñá‰ª∂‰∏≠  ","version":"0.15","tagName":"h2"},{"title":"Áî®Ê≥ï‚Äã","type":1,"pageTitle":"Â≠óÊÆµÈÖçÁΩÆ","url":"/zh-CN/docs/guide/cpp/field_configuration#Áî®Ê≥ï","content":" // user_types.h - NO fory headers needed! struct Document { std::string title; int32_t version; std::optional&lt;std::string&gt; description; std::shared_ptr&lt;User&gt; author; std::shared_ptr&lt;User&gt; reviewer; std::shared_ptr&lt;Document&gt; parent; std::unique_ptr&lt;Data&gt; data; }; // serialization_config.cpp - fory config isolated here #include &quot;fory/serialization/fory.h&quot; #include &quot;user_types.h&quot; FORY_STRUCT(Document, title, version, description, author, reviewer, parent, data) FORY_FIELD_TAGS(Document, (title, 0), // string: non-nullable (version, 1), // int: non-nullable (description, 2), // optional: inherently nullable (author, 3), // shared_ptr: non-nullable (default) (reviewer, 4, nullable), // shared_ptr: nullable (parent, 5, ref), // shared_ptr: non-nullable, with ref tracking (data, 6, nullable) // unique_ptr: nullable )   ","version":"0.15","tagName":"h3"},{"title":"FORY_FIELD_TAGS ÈÄâÈ°π‚Äã","type":1,"pageTitle":"Â≠óÊÆµÈÖçÁΩÆ","url":"/zh-CN/docs/guide/cpp/field_configuration#fory_field_tags-ÈÄâÈ°π","content":" Â≠óÊÆµÁ±ªÂûã\tÂêàÊ≥ïÁªÑÂêàÂéüÁîüÁ±ªÂûã„ÄÅÂ≠óÁ¨¶‰∏≤\t‰ªÖ (field, id) std::optional&lt;T&gt;\t‰ªÖ (field, id) std::shared_ptr&lt;T&gt;\t(field, id)„ÄÅ(field, id, nullable)„ÄÅ(field, id, ref)„ÄÅ(field, id, nullable, ref) std::unique_ptr&lt;T&gt;\t(field, id)„ÄÅ(field, id, nullable)  ","version":"0.15","tagName":"h3"},{"title":"API ÂØπÊØî‚Äã","type":1,"pageTitle":"Â≠óÊÆµÈÖçÁΩÆ","url":"/zh-CN/docs/guide/cpp/field_configuration#api-ÂØπÊØî","content":" Áª¥Â∫¶\tfory::field&lt;&gt; ÂåÖË£Ö\tFORY_FIELD_TAGS ÂÆèÁªìÊûÑÂÆö‰πâ\tÈúÄË¶ÅÊîπÂä®ÔºàÂåÖË£ÖÂ≠óÊÆµÁ±ªÂûãÔºâ\tÊó†ÈúÄÊîπÂä®Ôºà‰øùÊåÅÁ∫Ø C++Ôºâ IDE ‰ΩìÈ™å\tÊúâÊ®°ÊùøÂô™Èü≥\tÊõ¥Ê∏ÖÊô∞ÔºàÂéüÁîüÂ≠óÊÆµÁ±ªÂûãÔºâ Á¨¨‰∏âÊñπÁ±ªÂûã\t‰∏çÊîØÊåÅ\tÊîØÊåÅ Â§¥Êñá‰ª∂‰æùËµñ\tÂêÑÂ§ÑÈÉΩÈúÄË¶Å\tÂèØÈõÜ‰∏≠Âú®ÈÖçÁΩÆÊñá‰ª∂ ËøÅÁßªÊàêÊú¨\tÈ´òÔºà‰øÆÊîπÂÖ®ÈÉ®Â≠óÊÆµÔºâ\t‰ΩéÔºàÊñ∞Â¢û‰∏Ä‰∏™ÂÆèÔºâ  ","version":"0.15","tagName":"h3"},{"title":"FORY_FIELD_CONFIG ÂÆè‚Äã","type":1,"pageTitle":"Â≠óÊÆµÈÖçÁΩÆ","url":"/zh-CN/docs/guide/cpp/field_configuration#fory_field_config-ÂÆè","content":" FORY_FIELD_CONFIG ÊòØÊõ¥Âº∫„ÄÅÊõ¥ÁÅµÊ¥ªÁöÑÂ≠óÊÆµÈÖçÁΩÆÊñπÂºèÔºåÊèê‰æõÔºö  Builder È£éÊ†º APIÔºöÈìæÂºèÈÖçÁΩÆ F(id).option1().option2()ÁºñÁ†ÅÊéßÂà∂ÔºöÊåáÂÆöÊó†Á¨¶Âè∑Êï¥Êï∞ÁºñÁ†ÅÔºàvarint„ÄÅfixed„ÄÅtaggedÔºâÁºñËØëÊúüÊ†°È™åÔºöÈÄöËøáÊàêÂëòÊåáÈíàÊ†°È™åÂ≠óÊÆµÂêçË∑®ËØ≠Ë®ÄÂÖºÂÆπÔºöÊåâ Java„ÄÅRust Á≠âËØ≠Ë®ÄÊúüÊúõÈÖçÁΩÆÁºñÁ†Å  ","version":"0.15","tagName":"h2"},{"title":"Âü∫Êú¨ËØ≠Ê≥ï‚Äã","type":1,"pageTitle":"Â≠óÊÆµÈÖçÁΩÆ","url":"/zh-CN/docs/guide/cpp/field_configuration#Âü∫Êú¨ËØ≠Ê≥ï","content":" FORY_FIELD_CONFIG(StructType, (field1, fory::F(0)), // Simple: just ID (field2, fory::F(1).nullable()), // With nullable (field3, fory::F(2).varint()), // With encoding (field4, fory::F(3).nullable().ref()), // Multiple options (field5, 4) // Backward compatible: integer ID );   ","version":"0.15","tagName":"h3"},{"title":"F() Builder‚Äã","type":1,"pageTitle":"Â≠óÊÆµÈÖçÁΩÆ","url":"/zh-CN/docs/guide/cpp/field_configuration#f-builder","content":" fory::F(id) Â∑•ÂéÇÂáΩÊï∞‰ºöÂàõÂª∫ÊîØÊåÅÈìæÂºèË∞ÉÁî®ÁöÑ FieldMeta ÂØπË±°Ôºö  fory::F(0) // Create with field ID 0 .nullable() // Mark as nullable .ref() // Enable reference tracking .varint() // Use variable-length encoding .fixed() // Use fixed-size encoding .tagged() // Use tagged encoding .monomorphic() // Mark as monomorphic type .compress(false) // Disable compression   ÊèêÁ§∫Ôºö Ëã•Â∏åÊúõÁúÅÁï• fory:: ÂâçÁºÄÔºåÂèØÊ∑ªÂä† using Â£∞ÊòéÔºö  using fory::F; FORY_FIELD_CONFIG(MyStruct, (field1, F(0).varint()), // No prefix needed (field2, F(1).nullable()) );   ","version":"0.15","tagName":"h3"},{"title":"Êó†Á¨¶Âè∑Êï¥Êï∞ÁºñÁ†ÅÈÄâÈ°π‚Äã","type":1,"pageTitle":"Â≠óÊÆµÈÖçÁΩÆ","url":"/zh-CN/docs/guide/cpp/field_configuration#Êó†Á¨¶Âè∑Êï¥Êï∞ÁºñÁ†ÅÈÄâÈ°π","content":" ÂØπ‰∫é uint32_t ‰∏é uint64_t Â≠óÊÆµÔºåÂèØÊòæÂºèÊåáÂÆöÁ∫øÊ†ºÂºèÁºñÁ†ÅÔºö  ÊñπÊ≥ï\tType ID\tËØ¥Êòé\tÈÄÇÁî®Âú∫ÊôØ.varint()\tVAR_UINT32/64\tÂèòÈïøÁºñÁ†ÅÔºà1-5 Êàñ 1-10 Â≠óËäÇÔºâ\tÊï∞ÂÄºÈÄöÂ∏∏ËæÉÂ∞è .fixed()\tUINT32/64\tÂÆöÈïøÁºñÁ†ÅÔºàÂõ∫ÂÆö 4 Êàñ 8 Â≠óËäÇÔºâ\tÊï∞ÂÄºÂàÜÂ∏ÉËæÉÂùáÂåÄ .tagged()\tTAGGED_UINT64\tÂ∏¶Â§ßÂ∞èÊèêÁ§∫ÁöÑÊ∑∑ÂêàÁºñÁ†ÅÔºà‰ªÖ uint64Ôºâ\tÂ∞èÂÄº‰∏éÂ§ßÂÄºÊ∑∑ÂêàÔºàuint64Ôºâ  ËØ¥ÊòéÔºö uint8_t ‰∏é uint16_t ÂßãÁªà‰ΩøÁî®ÂÆöÈïøÁºñÁ†ÅÔºàUINT8„ÄÅUINT16Ôºâ„ÄÇ  ","version":"0.15","tagName":"h3"},{"title":"ÂÆåÊï¥Á§∫‰æã‚Äã","type":1,"pageTitle":"Â≠óÊÆµÈÖçÁΩÆ","url":"/zh-CN/docs/guide/cpp/field_configuration#ÂÆåÊï¥Á§∫‰æã-1","content":" #include &quot;fory/serialization/fory.h&quot; using namespace fory::serialization; // Define struct with unsigned integer fields struct MetricsData { // Counters - often small values, use varint for space efficiency uint32_t requestCount; uint64_t bytesSent; // IDs - uniformly distributed, use fixed for consistent performance uint32_t userId; uint64_t sessionId; // Timestamps - use tagged encoding for mixed value ranges uint64_t createdAt; // Nullable fields std::optional&lt;uint32_t&gt; errorCount; std::optional&lt;uint64_t&gt; lastAccessTime; }; FORY_STRUCT(MetricsData, requestCount, bytesSent, userId, sessionId, createdAt, errorCount, lastAccessTime); // Configure field encoding FORY_FIELD_CONFIG(MetricsData, // Small counters - varint saves space (requestCount, fory::F(0).varint()), (bytesSent, fory::F(1).varint()), // IDs - fixed for consistent performance (userId, fory::F(2).fixed()), (sessionId, fory::F(3).fixed()), // Timestamp - tagged encoding (createdAt, fory::F(4).tagged()), // Nullable fields (errorCount, fory::F(5).nullable().varint()), (lastAccessTime, fory::F(6).nullable().tagged()) ); int main() { auto fory = Fory::builder().xlang(true).build(); fory.register_struct&lt;MetricsData&gt;(100); MetricsData data{ .requestCount = 42, .bytesSent = 1024, .userId = 12345678, .sessionId = 9876543210, .createdAt = 1704067200000000000ULL, // 2024-01-01 in nanoseconds .errorCount = 3, .lastAccessTime = std::nullopt }; auto bytes = fory.serialize(data).value(); auto decoded = fory.deserialize&lt;MetricsData&gt;(bytes).value(); }   ","version":"0.15","tagName":"h3"},{"title":"Ë∑®ËØ≠Ë®ÄÂÖºÂÆπ‚Äã","type":1,"pageTitle":"Â≠óÊÆµÈÖçÁΩÆ","url":"/zh-CN/docs/guide/cpp/field_configuration#Ë∑®ËØ≠Ë®ÄÂÖºÂÆπ","content":" ÂΩìÂ∫èÂàóÂåñÊï∞ÊçÆ‰ºöË¢´ÂÖ∂‰ªñËØ≠Ë®ÄËØªÂèñÊó∂ÔºåÂª∫ËÆÆÈÄöËøá FORY_FIELD_CONFIG ÊòæÂºèÂåπÈÖçÁõÆÊ†áËØ≠Ë®ÄÁºñÁ†ÅÁ∫¶ÂÆö„ÄÇ  Java ÂÖºÂÆπÁ§∫‰æãÔºö  // Java uses these type IDs for unsigned integers: // - Byte (u8): UINT8 (fixed) // - Short (u16): UINT16 (fixed) // - Integer (u32): VAR_UINT32 (varint) or UINT32 (fixed) // - Long (u64): VAR_UINT64 (varint), UINT64 (fixed), or TAGGED_UINT64 struct JavaCompatible { uint8_t byteField; // Maps to Java Byte uint16_t shortField; // Maps to Java Short uint32_t intVarField; // Maps to Java Integer with varint uint32_t intFixedField; // Maps to Java Integer with fixed uint64_t longVarField; // Maps to Java Long with varint uint64_t longTagged; // Maps to Java Long with tagged }; FORY_STRUCT(JavaCompatible, byteField, shortField, intVarField, intFixedField, longVarField, longTagged); FORY_FIELD_CONFIG(JavaCompatible, (byteField, fory::F(0)), // UINT8 (auto) (shortField, fory::F(1)), // UINT16 (auto) (intVarField, fory::F(2).varint()), // VAR_UINT32 (intFixedField, fory::F(3).fixed()), // UINT32 (longVarField, fory::F(4).varint()), // VAR_UINT64 (longTagged, fory::F(5).tagged()) // TAGGED_UINT64 );   ","version":"0.15","tagName":"h3"},{"title":"‰ΩøÁî® FORY_FIELD_CONFIG ÂÅö Schema ÊºîËøõ‚Äã","type":1,"pageTitle":"Â≠óÊÆµÈÖçÁΩÆ","url":"/zh-CN/docs/guide/cpp/field_configuration#‰ΩøÁî®-fory_field_config-ÂÅö-schema-ÊºîËøõ","content":" Âú®ÂÖºÂÆπÊ®°Âºè‰∏ãÔºåÂèëÈÄÅÁ´ØÂíåÊé•Êî∂Á´ØÂèØ‰ª•ÂØπÂ≠óÊÆµ‰ΩøÁî®‰∏çÂêåÂèØÁ©∫Á≠ñÁï•Ôºö  // Version 1: All fields non-nullable struct DataV1 { uint32_t id; uint64_t timestamp; }; FORY_STRUCT(DataV1, id, timestamp); FORY_FIELD_CONFIG(DataV1, (id, fory::F(0).varint()), (timestamp, fory::F(1).tagged()) ); // Version 2: Added nullable fields struct DataV2 { uint32_t id; uint64_t timestamp; std::optional&lt;uint32_t&gt; version; // New nullable field }; FORY_STRUCT(DataV2, id, timestamp, version); FORY_FIELD_CONFIG(DataV2, (id, fory::F(0).varint()), (timestamp, fory::F(1).tagged()), (version, fory::F(2).nullable().varint()) // New field with nullable );   ","version":"0.15","tagName":"h3"},{"title":"FORY_FIELD_CONFIG ÈÄâÈ°πÈÄüÊü•‚Äã","type":1,"pageTitle":"Â≠óÊÆµÈÖçÁΩÆ","url":"/zh-CN/docs/guide/cpp/field_configuration#fory_field_config-ÈÄâÈ°πÈÄüÊü•","content":" ÊñπÊ≥ï\tËØ¥Êòé\tÈÄÇÁî®ËåÉÂõ¥.nullable()\tÂ∞ÜÂ≠óÊÆµÊ†áËÆ∞‰∏∫ÂèØÁ©∫\tÊô∫ËÉΩÊåáÈíà„ÄÅÂèØÁ©∫ÂÄºÁ±ªÂûã .ref()\tÂêØÁî®ÂºïÁî®Ë∑üË∏™\t‰ªÖ std::shared_ptr .monomorphic()\tÊ†áËÆ∞ÊåáÈíàÂßãÁªàÊåáÂêëÂçï‰∏ÄÁ±ªÂûã\tÊô∫ËÉΩÊåáÈíà .varint()\tÂèòÈïøÁºñÁ†Å\tuint32_t„ÄÅuint64_t .fixed()\tÂÆöÈïøÁºñÁ†Å\tuint32_t„ÄÅuint64_t .tagged()\ttagged Ê∑∑ÂêàÁºñÁ†Å\t‰ªÖ uint64_t .compress(v)\tÂêØÁî®/Á¶ÅÁî®Â≠óÊÆµÂéãÁº©\tÊâÄÊúâÁ±ªÂûã  ","version":"0.15","tagName":"h3"},{"title":"Â≠óÊÆµÈÖçÁΩÆÊñπÊ°àÂØπÊØî‚Äã","type":1,"pageTitle":"Â≠óÊÆµÈÖçÁΩÆ","url":"/zh-CN/docs/guide/cpp/field_configuration#Â≠óÊÆµÈÖçÁΩÆÊñπÊ°àÂØπÊØî","content":" ÁâπÊÄß\tfory::field&lt;&gt;\tFORY_FIELD_TAGS\tFORY_FIELD_CONFIGÈúÄË¶Å‰øÆÊîπ struct\tÊòØÔºàÂåÖË£ÖÂ≠óÊÆµÁ±ªÂûãÔºâ\tÂê¶\tÂê¶ ÁºñÁ†ÅÊéßÂà∂\tÂê¶\tÂê¶\tÊòØÔºàvarint/fixed/taggedÔºâ Builder È£éÊ†º\tÂê¶\tÂê¶\tÊòØ ÁºñËØëÊúüÊ†°È™å\tÊòØ\tÊúâÈôê\tÊòØÔºàÊàêÂëòÊåáÈíàÊ†°È™åÔºâ Ë∑®ËØ≠Ë®ÄÂÖºÂÆπËÉΩÂäõ\tÊúâÈôê\tÊúâÈôê\tÂÆåÊï¥ Êé®ËçêÂú∫ÊôØ\tÁÆÄÂçïÁªìÊûÑ‰Ωì\tÁ¨¨‰∏âÊñπÁ±ªÂûã\tÂ§çÊùÇ/Ë∑®ËØ≠Ë®ÄÁªìÊûÑ‰Ωì  ","version":"0.15","tagName":"h3"},{"title":"Áõ∏ÂÖ≥‰∏ªÈ¢ò‚Äã","type":1,"pageTitle":"Â≠óÊÆµÈÖçÁΩÆ","url":"/zh-CN/docs/guide/cpp/field_configuration#Áõ∏ÂÖ≥‰∏ªÈ¢ò","content":" Á±ªÂûãÊ≥®ÂÜå - ‰ΩøÁî® FORY_STRUCT Ê≥®ÂÜåÁ±ªÂûãSchema ÊºîËøõ - Âü∫‰∫é tag ID ÁöÑÊºîËøõÁ≠ñÁï•ÈÖçÁΩÆ - ÂÖ®Â±ÄÂêØÁî®ÂºïÁî®Ë∑üË∏™Á≠âÈÄâÈ°πË∑®ËØ≠Ë®Ä - ‰∏é Java„ÄÅRust„ÄÅPython ÁöÑ‰∫íÊìç‰Ωú ","version":"0.15","tagName":"h2"},{"title":"Ëá™ÂÆö‰πâÂ∫èÂàóÂåñÂô®","type":0,"sectionRef":"#","url":"/zh-CN/docs/guide/cpp/custom_serializers","content":"","keywords":"","version":"0.15"},{"title":"‰ΩïÊó∂‰ΩøÁî®Ëá™ÂÆö‰πâÂ∫èÂàóÂåñÂô®‚Äã","type":1,"pageTitle":"Ëá™ÂÆö‰πâÂ∫èÂàóÂåñÂô®","url":"/zh-CN/docs/guide/cpp/custom_serializers#‰ΩïÊó∂‰ΩøÁî®Ëá™ÂÆö‰πâÂ∫èÂàóÂåñÂô®","content":" External types from third-party librariesTypes with special serialization requirementsLegacy data format compatibilityPerformance-critical custom encodingCross-language interoperability with custom protocols  ","version":"0.15","tagName":"h2"},{"title":"ÂÆûÁé∞ Serializer Ê®°Êùø‚Äã","type":1,"pageTitle":"Ëá™ÂÆö‰πâÂ∫èÂàóÂåñÂô®","url":"/zh-CN/docs/guide/cpp/custom_serializers#ÂÆûÁé∞-serializer-Ê®°Êùø","content":" To create a custom serializer, specialize the Serializer template for your type within the fory::serialization namespace:  #include &quot;fory/serialization/fory.h&quot; using namespace fory::serialization; // Define your custom type struct MyExt { int32_t id; bool operator==(const MyExt &amp;other) const { return id == other.id; } }; namespace fory { namespace serialization { template &lt;&gt; struct Serializer&lt;MyExt&gt; { // Declare as extension type for custom serialization static constexpr TypeId type_id = TypeId::EXT; // Main write method - handles null checking and type info static void write(const MyExt &amp;value, WriteContext &amp;ctx, RefMode ref_mode, bool write_type, bool has_generics = false) { (void)has_generics; write_not_null_ref_flag(ctx, ref_mode); if (write_type) { auto result = ctx.write_any_type_info( static_cast&lt;uint32_t&gt;(TypeId::UNKNOWN), std::type_index(typeid(MyExt))); if (!result.ok()) { ctx.set_error(std::move(result).error()); return; } } write_data(value, ctx); } // write only the data (no type info) static void write_data(const MyExt &amp;value, WriteContext &amp;ctx) { Serializer&lt;int32_t&gt;::write_data(value.id, ctx); } // write data with generics support static void write_data_generic(const MyExt &amp;value, WriteContext &amp;ctx, bool has_generics) { (void)has_generics; write_data(value, ctx); } // Main read method - handles null checking and type info static MyExt read(ReadContext &amp;ctx, RefMode ref_mode, bool read_type) { bool has_value = read_null_only_flag(ctx, ref_mode); if (ctx.has_error() || !has_value) { return MyExt{}; } if (read_type) { const TypeInfo *type_info = ctx.read_any_type_info(ctx.error()); if (ctx.has_error()) { return MyExt{}; } if (!type_info) { ctx.set_error(Error::type_error(&quot;TypeInfo for MyExt not found&quot;)); return MyExt{}; } } return read_data(ctx); } // Read only the data (no type info) static MyExt read_data(ReadContext &amp;ctx) { MyExt value; value.id = Serializer&lt;int32_t&gt;::read_data(ctx); return value; } // Read data with generics support static MyExt read_data_generic(ReadContext &amp;ctx, bool has_generics) { (void)has_generics; return read_data(ctx); } // Read with pre-resolved type info static MyExt read_with_type_info(ReadContext &amp;ctx, RefMode ref_mode, const TypeInfo &amp;type_info) { (void)type_info; return read(ctx, ref_mode, false); } }; } // namespace serialization } // namespace fory   ","version":"0.15","tagName":"h2"},{"title":"Required Methods‚Äã","type":1,"pageTitle":"Ëá™ÂÆö‰πâÂ∫èÂàóÂåñÂô®","url":"/zh-CN/docs/guide/cpp/custom_serializers#required-methods","content":" A custom serializer must implement these static methods:  Method\tPurposewrite\tMain serialization entry point with type info write_data\tSerialize data only (no type info) write_data_generic\tSerialize data with generics support read\tMain deserialization entry point with type info read_data\tDeserialize data only (no type info) read_data_generic\tDeserialize data with generics support read_with_type_info\tDeserialize with pre-resolved TypeInfo  The type_id constant should be set to TypeId::EXT for custom extension types.  ","version":"0.15","tagName":"h2"},{"title":"Registering Custom Serializers‚Äã","type":1,"pageTitle":"Ëá™ÂÆö‰πâÂ∫èÂàóÂåñÂô®","url":"/zh-CN/docs/guide/cpp/custom_serializers#registering-custom-serializers","content":" Register your custom serializer with Fory before use:  auto fory = Fory::builder().xlang(true).build(); // Register with numeric type ID (must match across languages) auto result = fory.register_extension_type&lt;MyExt&gt;(103); if (!result.ok()) { std::cerr &lt;&lt; &quot;Failed to register: &quot; &lt;&lt; result.error().to_string() &lt;&lt; std::endl; } // Or register with type name for named type systems fory.register_extension_type&lt;MyExt&gt;(&quot;my_ext&quot;); // Or with namespace and type name fory.register_extension_type&lt;MyExt&gt;(&quot;com.example&quot;, &quot;MyExt&quot;);   ","version":"0.15","tagName":"h2"},{"title":"Complete Example‚Äã","type":1,"pageTitle":"Ëá™ÂÆö‰πâÂ∫èÂàóÂåñÂô®","url":"/zh-CN/docs/guide/cpp/custom_serializers#complete-example","content":" #include &quot;fory/serialization/fory.h&quot; #include &lt;iostream&gt; using namespace fory::serialization; struct CustomType { int32_t value; std::string name; bool operator==(const CustomType &amp;other) const { return value == other.value &amp;&amp; name == other.name; } }; namespace fory { namespace serialization { template &lt;&gt; struct Serializer&lt;CustomType&gt; { static constexpr TypeId type_id = TypeId::EXT; static void write(const CustomType &amp;value, WriteContext &amp;ctx, RefMode ref_mode, bool write_type, bool has_generics = false) { (void)has_generics; write_not_null_ref_flag(ctx, ref_mode); if (write_type) { auto result = ctx.write_any_type_info( static_cast&lt;uint32_t&gt;(TypeId::UNKNOWN), std::type_index(typeid(CustomType))); if (!result.ok()) { ctx.set_error(std::move(result).error()); return; } } write_data(value, ctx); } static void write_data(const CustomType &amp;value, WriteContext &amp;ctx) { // write value as varint for compact encoding Serializer&lt;int32_t&gt;::write_data(value.value, ctx); // Delegate string serialization to built-in serializer Serializer&lt;std::string&gt;::write_data(value.name, ctx); } static void write_data_generic(const CustomType &amp;value, WriteContext &amp;ctx, bool has_generics) { (void)has_generics; write_data(value, ctx); } static CustomType read(ReadContext &amp;ctx, RefMode ref_mode, bool read_type) { bool has_value = read_null_only_flag(ctx, ref_mode); if (ctx.has_error() || !has_value) { return CustomType{}; } if (read_type) { const TypeInfo *type_info = ctx.read_any_type_info(ctx.error()); if (ctx.has_error()) { return CustomType{}; } if (!type_info) { ctx.set_error(Error::type_error(&quot;TypeInfo for CustomType not found&quot;)); return CustomType{}; } } return read_data(ctx); } static CustomType read_data(ReadContext &amp;ctx) { CustomType value; value.value = Serializer&lt;int32_t&gt;::read_data(ctx); value.name = Serializer&lt;std::string&gt;::read_data(ctx); return value; } static CustomType read_data_generic(ReadContext &amp;ctx, bool has_generics) { (void)has_generics; return read_data(ctx); } static CustomType read_with_type_info(ReadContext &amp;ctx, RefMode ref_mode, const TypeInfo &amp;type_info) { (void)type_info; return read(ctx, ref_mode, false); } }; } // namespace serialization } // namespace fory int main() { auto fory = Fory::builder().xlang(true).build(); fory.register_extension_type&lt;CustomType&gt;(100); CustomType original{42, &quot;test&quot;}; auto serialized = fory.serialize(original); if (!serialized.ok()) { std::cerr &lt;&lt; &quot;Serialization failed&quot; &lt;&lt; std::endl; return 1; } auto deserialized = fory.deserialize&lt;CustomType&gt;(serialized.value()); if (!deserialized.ok()) { std::cerr &lt;&lt; &quot;Deserialization failed&quot; &lt;&lt; std::endl; return 1; } assert(original == deserialized.value()); std::cout &lt;&lt; &quot;Custom serializer works!&quot; &lt;&lt; std::endl; return 0; }   ","version":"0.15","tagName":"h2"},{"title":"WriteContext Methods‚Äã","type":1,"pageTitle":"Ëá™ÂÆö‰πâÂ∫èÂàóÂåñÂô®","url":"/zh-CN/docs/guide/cpp/custom_serializers#writecontext-methods","content":" The WriteContext provides methods for writing data:  // Primitive types ctx.write_uint8(value); ctx.write_int8(value); ctx.write_uint16(value); // Variable-length integers (compact encoding) ctx.write_var_uint32(value); // Unsigned varint ctx.write_varint32(value); // Signed zigzag varint ctx.write_var_uint64(value); // Unsigned varint ctx.write_varint64(value); // Signed zigzag varint // Tagged integers (for mixed-size encoding) ctx.write_tagged_uint64(value); ctx.write_tagged_int64(value); // Raw bytes ctx.write_bytes(data_ptr, length); // Access underlying buffer for advanced operations ctx.buffer().write_int32(value); ctx.buffer().write_float(value); ctx.buffer().write_double(value);   ","version":"0.15","tagName":"h2"},{"title":"ReadContext Methods‚Äã","type":1,"pageTitle":"Ëá™ÂÆö‰πâÂ∫èÂàóÂåñÂô®","url":"/zh-CN/docs/guide/cpp/custom_serializers#readcontext-methods","content":" The ReadContext provides methods for reading data:  // Primitive types (use error reference pattern) uint8_t u8 = ctx.read_uint8(ctx.error()); int8_t i8 = ctx.read_int8(ctx.error()); // Variable-length integers uint32_t u32 = ctx.read_var_uint32(ctx.error()); int32_t i32 = ctx.read_varint32(ctx.error()); uint64_t u64 = ctx.read_var_uint64(ctx.error()); int64_t i64 = ctx.read_varint64(ctx.error()); // Check for errors after read operations if (ctx.has_error()) { return MyType{}; // Return default on error } // Access underlying buffer for advanced operations int32_t value = ctx.buffer().read_int32(ctx.error()); float f = ctx.buffer().read_float(ctx.error()); double d = ctx.buffer().read_double(ctx.error());   ","version":"0.15","tagName":"h2"},{"title":"Delegating to Built-in Serializers‚Äã","type":1,"pageTitle":"Ëá™ÂÆö‰πâÂ∫èÂàóÂåñÂô®","url":"/zh-CN/docs/guide/cpp/custom_serializers#delegating-to-built-in-serializers","content":" Reuse existing serializers for nested types:  static void write_data(const MyType &amp;value, WriteContext &amp;ctx) { // Delegate to built-in serializers Serializer&lt;int32_t&gt;::write_data(value.int_field, ctx); Serializer&lt;std::string&gt;::write_data(value.string_field, ctx); Serializer&lt;std::vector&lt;int32_t&gt;&gt;::write_data(value.vec_field, ctx); } static MyType read_data(ReadContext &amp;ctx) { MyType value; value.int_field = Serializer&lt;int32_t&gt;::read_data(ctx); value.string_field = Serializer&lt;std::string&gt;::read_data(ctx); value.vec_field = Serializer&lt;std::vector&lt;int32_t&gt;&gt;::read_data(ctx); return value; }   ","version":"0.15","tagName":"h2"},{"title":"Best Practices‚Äã","type":1,"pageTitle":"Ëá™ÂÆö‰πâÂ∫èÂàóÂåñÂô®","url":"/zh-CN/docs/guide/cpp/custom_serializers#best-practices","content":" Use variable-length encoding for integers that may be smallCheck errors after read operations using ctx.has_error()Return default values on error to maintain consistent behaviorDelegate to built-in serializers for standard typesMatch type IDs across languages for cross-language compatibilityUse (void)param to suppress unused parameter warnings  ","version":"0.15","tagName":"h2"},{"title":"Related Topics‚Äã","type":1,"pageTitle":"Ëá™ÂÆö‰πâÂ∫èÂàóÂåñÂô®","url":"/zh-CN/docs/guide/cpp/custom_serializers#related-topics","content":" Type Registration - Registering serializersBasic Serialization - Using FORY_STRUCT macroSchema Evolution - Compatible modeCross-Language - Cross-language serialization ","version":"0.15","tagName":"h2"},{"title":"Â§öÊÄÅÂ∫èÂàóÂåñ","type":0,"sectionRef":"#","url":"/zh-CN/docs/guide/cpp/polymorphism","content":"","keywords":"","version":"0.15"},{"title":"ÊîØÊåÅÁöÑÂ§öÊÄÅÁ±ªÂûã‚Äã","type":1,"pageTitle":"Â§öÊÄÅÂ∫èÂàóÂåñ","url":"/zh-CN/docs/guide/cpp/polymorphism#ÊîØÊåÅÁöÑÂ§öÊÄÅÁ±ªÂûã","content":" std::shared_ptr&lt;Base&gt; - Shared ownership with polymorphic dispatchstd::unique_ptr&lt;Base&gt; - Exclusive ownership with polymorphic dispatchCollections: std::vector&lt;std::shared_ptr&lt;Base&gt;&gt;, std::map&lt;K, std::unique_ptr&lt;Base&gt;&gt;Optional: std::optional&lt;std::shared_ptr&lt;Base&gt;&gt;  ","version":"0.15","tagName":"h2"},{"title":"Âü∫Á°ÄÂ§öÊÄÅÂ∫èÂàóÂåñ‚Äã","type":1,"pageTitle":"Â§öÊÄÅÂ∫èÂàóÂåñ","url":"/zh-CN/docs/guide/cpp/polymorphism#Âü∫Á°ÄÂ§öÊÄÅÂ∫èÂàóÂåñ","content":" #include &quot;fory/serialization/fory.h&quot; using namespace fory::serialization; // Define base class with virtual methods struct Animal { virtual ~Animal() = default; virtual std::string speak() const = 0; int32_t age = 0; }; FORY_STRUCT(Animal, age); // Define derived classes struct Dog : Animal { std::string speak() const override { return &quot;Woof!&quot;; } std::string breed; }; FORY_STRUCT(Dog, age, breed); struct Cat : Animal { std::string speak() const override { return &quot;Meow!&quot;; } std::string color; }; FORY_STRUCT(Cat, age, color); // Struct with polymorphic field struct Zoo { std::shared_ptr&lt;Animal&gt; star_animal; }; FORY_STRUCT(Zoo, star_animal); int main() { auto fory = Fory::builder().track_ref(true).build(); // Register all types with unique type IDs fory.register_struct&lt;Zoo&gt;(100); fory.register_struct&lt;Dog&gt;(101); fory.register_struct&lt;Cat&gt;(102); // Create object with polymorphic field Zoo zoo; zoo.star_animal = std::make_shared&lt;Dog&gt;(); zoo.star_animal-&gt;age = 3; static_cast&lt;Dog*&gt;(zoo.star_animal.get())-&gt;breed = &quot;Labrador&quot;; // Serialize auto bytes_result = fory.serialize(zoo); assert(bytes_result.ok()); // Deserialize - runtime type is preserved auto decoded_result = fory.deserialize&lt;Zoo&gt;(bytes_result.value()); assert(decoded_result.ok()); auto decoded = std::move(decoded_result).value(); assert(decoded.star_animal-&gt;speak() == &quot;Woof!&quot;); assert(decoded.star_animal-&gt;age == 3); auto* dog_ptr = dynamic_cast&lt;Dog*&gt;(decoded.star_animal.get()); assert(dog_ptr != nullptr); assert(dog_ptr-&gt;breed == &quot;Labrador&quot;); }   ","version":"0.15","tagName":"h2"},{"title":"Type Registration for Polymorphism‚Äã","type":1,"pageTitle":"Â§öÊÄÅÂ∫èÂàóÂåñ","url":"/zh-CN/docs/guide/cpp/polymorphism#type-registration-for-polymorphism","content":" For polymorphic serialization, register derived types with unique type IDs:  // Register with numeric type ID fory.register_struct&lt;Derived1&gt;(100); fory.register_struct&lt;Derived2&gt;(101);   Why type ID registration?  Compact binary representationFast type lookup and dispatchConsistent with non-polymorphic type registration  ","version":"0.15","tagName":"h2"},{"title":"Automatic Polymorphism Detection‚Äã","type":1,"pageTitle":"Â§öÊÄÅÂ∫èÂàóÂåñ","url":"/zh-CN/docs/guide/cpp/polymorphism#automatic-polymorphism-detection","content":" Fory automatically detects polymorphic types using std::is_polymorphic&lt;T&gt;:  struct Base { virtual ~Base() = default; // Virtual destructor makes it polymorphic int32_t value = 0; }; struct NonPolymorphic { int32_t value = 0; // No virtual methods }; // Polymorphic field - type info written automatically struct Container1 { std::shared_ptr&lt;Base&gt; ptr; // Auto-detected as polymorphic }; // Non-polymorphic field - no type info written struct Container2 { std::shared_ptr&lt;NonPolymorphic&gt; ptr; // Not polymorphic };   ","version":"0.15","tagName":"h2"},{"title":"Controlling Dynamic Dispatch‚Äã","type":1,"pageTitle":"Â§öÊÄÅÂ∫èÂàóÂåñ","url":"/zh-CN/docs/guide/cpp/polymorphism#controlling-dynamic-dispatch","content":" Use fory::dynamic&lt;V&gt; to override automatic polymorphism detection:  struct Animal { virtual ~Animal() = default; virtual std::string speak() const = 0; }; struct Pet { // Auto-detected: type info written (Animal has virtual methods) std::shared_ptr&lt;Animal&gt; animal1; // Force dynamic: type info written explicitly fory::field&lt;std::shared_ptr&lt;Animal&gt;, 0, fory::dynamic&lt;true&gt;&gt; animal2; // Force non-dynamic: skip type info (faster but no runtime subtyping) fory::field&lt;std::shared_ptr&lt;Animal&gt;, 1, fory::dynamic&lt;false&gt;&gt; animal3; }; FORY_STRUCT(Pet, animal1, animal2, animal3);   When to use fory::dynamic&lt;false&gt;:  You know the runtime type will always match the declared typePerformance is critical and you don't need subtype supportWorking with monomorphic data despite having a polymorphic base class  ","version":"0.15","tagName":"h2"},{"title":"Field Configuration Without Wrapper Types‚Äã","type":1,"pageTitle":"Â§öÊÄÅÂ∫èÂàóÂåñ","url":"/zh-CN/docs/guide/cpp/polymorphism#field-configuration-without-wrapper-types","content":" Use FORY_FIELD_CONFIG to configure fields without fory::field&lt;&gt; wrapper:  struct Zoo { std::shared_ptr&lt;Animal&gt; star; // Auto-detected as polymorphic std::shared_ptr&lt;Animal&gt; backup; // Nullable polymorphic field std::shared_ptr&lt;Animal&gt; mascot; // Non-dynamic (no subtype dispatch) }; FORY_STRUCT(Zoo, star, backup, mascot); // Configure fields with tag IDs and options FORY_FIELD_CONFIG(Zoo, (star, fory::F(0)), // Tag ID 0, default options (backup, fory::F(1).nullable()), // Tag ID 1, allow nullptr (mascot, fory::F(2).dynamic(false)) // Tag ID 2, disable polymorphism );   See Field Configuration for complete details on fory::nullable, fory::ref, and other field-level options  ","version":"0.15","tagName":"h3"},{"title":"std::unique_ptr Polymorphism‚Äã","type":1,"pageTitle":"Â§öÊÄÅÂ∫èÂàóÂåñ","url":"/zh-CN/docs/guide/cpp/polymorphism#stdunique_ptr-polymorphism","content":" std::unique_ptr works the same way as std::shared_ptr for polymorphic types:  struct Container { std::unique_ptr&lt;Animal&gt; pet; }; FORY_STRUCT(Container, pet); auto fory = Fory::builder().track_ref(true).build(); fory.register_struct&lt;Container&gt;(200); fory.register_struct&lt;Dog&gt;(201); Container container; container.pet = std::make_unique&lt;Dog&gt;(); static_cast&lt;Dog*&gt;(container.pet.get())-&gt;breed = &quot;Beagle&quot;; auto bytes = fory.serialize(container).value(); auto decoded = fory.deserialize&lt;Container&gt;(bytes).value(); // Runtime type preserved auto* dog = dynamic_cast&lt;Dog*&gt;(decoded.pet.get()); assert(dog != nullptr); assert(dog-&gt;breed == &quot;Beagle&quot;);   ","version":"0.15","tagName":"h2"},{"title":"Collections of Polymorphic Objects‚Äã","type":1,"pageTitle":"Â§öÊÄÅÂ∫èÂàóÂåñ","url":"/zh-CN/docs/guide/cpp/polymorphism#collections-of-polymorphic-objects","content":" #include &lt;vector&gt; #include &lt;map&gt; struct AnimalShelter { std::vector&lt;std::shared_ptr&lt;Animal&gt;&gt; animals; std::map&lt;std::string, std::unique_ptr&lt;Animal&gt;&gt; registry; }; FORY_STRUCT(AnimalShelter, animals, registry); auto fory = Fory::builder().track_ref(true).build(); fory.register_struct&lt;AnimalShelter&gt;(100); fory.register_struct&lt;Dog&gt;(101); fory.register_struct&lt;Cat&gt;(102); AnimalShelter shelter; shelter.animals.push_back(std::make_shared&lt;Dog&gt;()); shelter.animals.push_back(std::make_shared&lt;Cat&gt;()); shelter.registry[&quot;pet1&quot;] = std::make_unique&lt;Dog&gt;(); auto bytes = fory.serialize(shelter).value(); auto decoded = fory.deserialize&lt;AnimalShelter&gt;(bytes).value(); // All runtime types preserved assert(dynamic_cast&lt;Dog*&gt;(decoded.animals[0].get()) != nullptr); assert(dynamic_cast&lt;Cat*&gt;(decoded.animals[1].get()) != nullptr); assert(dynamic_cast&lt;Dog*&gt;(decoded.registry[&quot;pet1&quot;].get()) != nullptr);   ","version":"0.15","tagName":"h2"},{"title":"Reference Tracking‚Äã","type":1,"pageTitle":"Â§öÊÄÅÂ∫èÂàóÂåñ","url":"/zh-CN/docs/guide/cpp/polymorphism#reference-tracking","content":" Reference tracking for std::shared_ptr works the same with polymorphic types. See Supported Types for details and examples.  ","version":"0.15","tagName":"h2"},{"title":"Nested Polymorphism Depth Limit‚Äã","type":1,"pageTitle":"Â§öÊÄÅÂ∫èÂàóÂåñ","url":"/zh-CN/docs/guide/cpp/polymorphism#nested-polymorphism-depth-limit","content":" To prevent stack overflow from deeply nested polymorphic structures, Fory limits the maximum dynamic nesting depth:  struct Container { virtual ~Container() = default; int32_t value = 0; std::shared_ptr&lt;Container&gt; nested; }; FORY_STRUCT(Container, value, nested); // Default max_dyn_depth is 5 auto fory1 = Fory::builder().build(); assert(fory1.config().max_dyn_depth == 5); // Increase limit for deeper nesting auto fory2 = Fory::builder().max_dyn_depth(10).build(); fory2.register_struct&lt;Container&gt;(1); // Create deeply nested structure auto level3 = std::make_shared&lt;Container&gt;(); level3-&gt;value = 3; auto level2 = std::make_shared&lt;Container&gt;(); level2-&gt;value = 2; level2-&gt;nested = level3; auto level1 = std::make_shared&lt;Container&gt;(); level1-&gt;value = 1; level1-&gt;nested = level2; // Serialization succeeds auto bytes = fory2.serialize(level1).value(); // Deserialization succeeds with sufficient depth auto decoded = fory2.deserialize&lt;std::shared_ptr&lt;Container&gt;&gt;(bytes).value();   Depth exceeded error:  auto fory_shallow = Fory::builder().max_dyn_depth(2).build(); fory_shallow.register_struct&lt;Container&gt;(1); // 3 levels exceeds max_dyn_depth=2 auto result = fory_shallow.deserialize&lt;std::shared_ptr&lt;Container&gt;&gt;(bytes); assert(!result.ok()); // Fails with depth exceeded error   When to adjust:  Increase max_dyn_depth: For legitimate deeply nested polymorphic data structuresDecrease max_dyn_depth: For stricter security requirements or shallow data structures  ","version":"0.15","tagName":"h2"},{"title":"Nullability for Polymorphic Fields‚Äã","type":1,"pageTitle":"Â§öÊÄÅÂ∫èÂàóÂåñ","url":"/zh-CN/docs/guide/cpp/polymorphism#nullability-for-polymorphic-fields","content":" By default, std::shared_ptr&lt;T&gt; and std::unique_ptr&lt;T&gt; fields are treated as non-nullable in the schema. To allow nullptr, wrap the field withfory::field&lt;&gt; (or FORY_FIELD_TAGS) and opt in with fory::nullable.  struct Pet { // Non-nullable (default) std::shared_ptr&lt;Animal&gt; primary; // Nullable via explicit field metadata fory::field&lt;std::shared_ptr&lt;Animal&gt;, 0, fory::nullable&gt; optional; }; FORY_STRUCT(Pet, primary, optional);   See Field Configuration for more details.  ","version":"0.15","tagName":"h2"},{"title":"Combining Polymorphism with Other Features‚Äã","type":1,"pageTitle":"Â§öÊÄÅÂ∫èÂàóÂåñ","url":"/zh-CN/docs/guide/cpp/polymorphism#combining-polymorphism-with-other-features","content":" ","version":"0.15","tagName":"h2"},{"title":"Polymorphism + Reference Tracking‚Äã","type":1,"pageTitle":"Â§öÊÄÅÂ∫èÂàóÂåñ","url":"/zh-CN/docs/guide/cpp/polymorphism#polymorphism--reference-tracking","content":" struct GraphNode { virtual ~GraphNode() = default; int32_t id = 0; std::vector&lt;std::shared_ptr&lt;GraphNode&gt;&gt; neighbors; }; FORY_STRUCT(GraphNode, id, neighbors); struct WeightedNode : GraphNode { double weight = 0.0; }; FORY_STRUCT(WeightedNode, id, neighbors, weight); // Enable ref tracking to handle shared references and cycles auto fory = Fory::builder().track_ref(true).build(); fory.register_struct&lt;GraphNode&gt;(100); fory.register_struct&lt;WeightedNode&gt;(101); // Create cyclic graph auto node1 = std::make_shared&lt;WeightedNode&gt;(); node1-&gt;id = 1; auto node2 = std::make_shared&lt;WeightedNode&gt;(); node2-&gt;id = 2; node1-&gt;neighbors.push_back(node2); node2-&gt;neighbors.push_back(node1); // Cycle auto bytes = fory.serialize(node1).value(); auto decoded = fory.deserialize&lt;std::shared_ptr&lt;GraphNode&gt;&gt;(bytes).value(); // Cycle handled correctly   ","version":"0.15","tagName":"h3"},{"title":"Polymorphism + Schema Evolution‚Äã","type":1,"pageTitle":"Â§öÊÄÅÂ∫èÂàóÂåñ","url":"/zh-CN/docs/guide/cpp/polymorphism#polymorphism--schema-evolution","content":" Use compatible mode for schema evolution with polymorphic types:  auto fory = Fory::builder() .compatible(true) // Enable schema evolution .track_ref(true) .build();   ","version":"0.15","tagName":"h3"},{"title":"Best Practices‚Äã","type":1,"pageTitle":"Â§öÊÄÅÂ∫èÂàóÂåñ","url":"/zh-CN/docs/guide/cpp/polymorphism#best-practices","content":" Use type ID registration for polymorphic types: fory.register_struct&lt;DerivedType&gt;(100); Enable reference tracking for polymorphic types: auto fory = Fory::builder().track_ref(true).build(); Virtual destructors required: Ensure base classes have virtual destructors: struct Base { virtual ~Base() = default; // Required for polymorphism }; Register all concrete types before serialization/deserialization: fory.register_struct&lt;Derived1&gt;(100); fory.register_struct&lt;Derived2&gt;(101); Use dynamic_cast to downcast after deserialization: auto* derived = dynamic_cast&lt;DerivedType*&gt;(base_ptr.get()); if (derived) { // Use derived-specific members } Adjust max_dyn_depth based on your data structure depth: auto fory = Fory::builder().max_dyn_depth(10).build(); Use fory::nullable for optional polymorphic fields: fory::field&lt;std::shared_ptr&lt;Base&gt;, 0, fory::nullable&gt; optional_ptr;   ","version":"0.15","tagName":"h2"},{"title":"Error Handling‚Äã","type":1,"pageTitle":"Â§öÊÄÅÂ∫èÂàóÂåñ","url":"/zh-CN/docs/guide/cpp/polymorphism#error-handling","content":" auto bytes_result = fory.serialize(obj); if (!bytes_result.ok()) { std::cerr &lt;&lt; &quot;Serialization failed: &quot; &lt;&lt; bytes_result.error().to_string() &lt;&lt; std::endl; return; } auto decoded_result = fory.deserialize&lt;MyType&gt;(bytes_result.value()); if (!decoded_result.ok()) { std::cerr &lt;&lt; &quot;Deserialization failed: &quot; &lt;&lt; decoded_result.error().to_string() &lt;&lt; std::endl; return; }   Common errors:  Type not registered: Register all concrete types with unique IDs before useDepth exceeded: Increase max_dyn_depth for deeply nested structuresType ID conflict: Ensure each type has a unique type ID across all registered types  ","version":"0.15","tagName":"h2"},{"title":"Performance Considerations‚Äã","type":1,"pageTitle":"Â§öÊÄÅÂ∫èÂàóÂåñ","url":"/zh-CN/docs/guide/cpp/polymorphism#performance-considerations","content":" Polymorphic serialization overhead:  Type metadata written for each polymorphic object (~16-32 bytes)Dynamic type resolution during deserializationVirtual function calls for runtime dispatch  Optimization tips:  Use fory::dynamic&lt;false&gt; when runtime type matches declared type: fory::field&lt;std::shared_ptr&lt;Base&gt;, 0, fory::dynamic&lt;false&gt;&gt; fixed_type; Minimize nesting depth to reduce metadata overhead Batch polymorphic objects in collections rather than individual fields Consider non-polymorphic alternatives when polymorphism isn't needed: std::variant&lt;Dog, Cat&gt; animal; // Type-safe union instead of polymorphism   ","version":"0.15","tagName":"h2"},{"title":"Related Topics‚Äã","type":1,"pageTitle":"Â§öÊÄÅÂ∫èÂàóÂåñ","url":"/zh-CN/docs/guide/cpp/polymorphism#related-topics","content":" Type Registration - Registering types for serializationField Configuration - Field-level metadata and optionsSupported Types - Smart pointers and collectionsConfiguration - max_dyn_depth and other settingsBasic Serialization - Core serialization concepts ","version":"0.15","tagName":"h2"},{"title":"Ë°åÊ†ºÂºè","type":0,"sectionRef":"#","url":"/zh-CN/docs/guide/cpp/row_format","content":"","keywords":"","version":"0.15"},{"title":"Ê¶ÇËø∞‚Äã","type":1,"pageTitle":"Ë°åÊ†ºÂºè","url":"/zh-CN/docs/guide/cpp/row_format#Ê¶ÇËø∞","content":" Apache Fory‚Ñ¢ Ë°åÊ†ºÂºèÊòØ‰∏ÄÁßçÈíàÂØπ‰ª•‰∏ãÂú∫ÊôØ‰ºòÂåñÁöÑ‰∫åËøõÂà∂Ê†ºÂºèÔºö  ÈöèÊú∫ËÆøÈóÆÔºöÊó†ÈúÄÂèçÂ∫èÂàóÂåñÊï¥‰∏™ÂØπË±°Âç≥ÂèØËØªÂèñ‰ªªÊÑèÂ≠óÊÆµÈõ∂Êã∑Ë¥ùÔºöÊó†Êï∞ÊçÆÂ§çÂà∂ÁöÑÁõ¥Êé•ÂÜÖÂ≠òËÆøÈóÆÁºìÂ≠òÂèãÂ•ΩÔºöËøûÁª≠ÂÜÖÂ≠òÂ∏ÉÂ±ÄÊèêÈ´ò CPU ÁºìÂ≠òÊïàÁéáÂàóÂºèËΩ¨Êç¢ÔºöÊòì‰∫éËΩ¨Êç¢‰∏∫ Apache Arrow Ê†ºÂºèÈÉ®ÂàÜÂ∫èÂàóÂåñÔºöÂè™Â∫èÂàóÂåñÈúÄË¶ÅÁöÑÂ≠óÊÆµ  ","version":"0.15","tagName":"h2"},{"title":"‰ΩïÊó∂‰ΩøÁî®Ë°åÊ†ºÂºè‚Äã","type":1,"pageTitle":"Ë°åÊ†ºÂºè","url":"/zh-CN/docs/guide/cpp/row_format#‰ΩïÊó∂‰ΩøÁî®Ë°åÊ†ºÂºè","content":" ‰ΩøÁî®Âú∫ÊôØ\tË°åÊ†ºÂºè\tÂØπË±°ÂõæÂàÜÊûê/OLAP\t‚úÖ\t‚ùå ÈöèÊú∫Â≠óÊÆµËÆøÈóÆ\t‚úÖ\t‚ùå ÂÆåÊï¥ÂØπË±°Â∫èÂàóÂåñ\t‚ùå\t‚úÖ Â§çÊùÇÂØπË±°Âõæ\t‚ùå\t‚úÖ ÂºïÁî®Ë∑üË∏™\t‚ùå\t‚úÖ Ë∑®ËØ≠Ë®ÄÔºàÁÆÄÂçïÁ±ªÂûãÔºâ\t‚úÖ\t‚úÖ  ","version":"0.15","tagName":"h2"},{"title":"Âø´ÈÄüÂºÄÂßã‚Äã","type":1,"pageTitle":"Ë°åÊ†ºÂºè","url":"/zh-CN/docs/guide/cpp/row_format#Âø´ÈÄüÂºÄÂßã","content":" #include &quot;fory/encoder/row_encoder.h&quot; #include &quot;fory/row/writer.h&quot; using namespace fory::row; using namespace fory::row::encoder; // ÂÆö‰πâÁªìÊûÑ‰Ωì struct Person { int32_t id; std::string name; float score; }; // Ê≥®ÂÜåÂ≠óÊÆµÂÖÉÊï∞ÊçÆÔºàË°åÁºñÁ†ÅÂøÖÈúÄÔºâ FORY_FIELD_INFO(Person, id, name, score); int main() { // ÂàõÂª∫ÁºñÁ†ÅÂô® RowEncoder&lt;Person&gt; encoder; // ÁºñÁ†Å‰∏Ä‰∏™ person Person person{1, &quot;Alice&quot;, 95.5f}; encoder.Encode(person); // Ëé∑ÂèñÁºñÁ†ÅÂêéÁöÑË°å auto row = encoder.GetWriter().ToRow(); // ÈöèÊú∫ËÆøÈóÆÂ≠óÊÆµ int32_t id = row-&gt;GetInt32(0); std::string name = row-&gt;GetString(1); float score = row-&gt;GetFloat(2); assert(id == 1); assert(name == &quot;Alice&quot;); assert(score == 95.5f); return 0; }   ","version":"0.15","tagName":"h2"},{"title":"Ë°åÁºñÁ†ÅÂô®‚Äã","type":1,"pageTitle":"Ë°åÊ†ºÂºè","url":"/zh-CN/docs/guide/cpp/row_format#Ë°åÁºñÁ†ÅÂô®","content":" ","version":"0.15","tagName":"h2"},{"title":"Âü∫Êú¨Áî®Ê≥ï‚Äã","type":1,"pageTitle":"Ë°åÊ†ºÂºè","url":"/zh-CN/docs/guide/cpp/row_format#Âü∫Êú¨Áî®Ê≥ï","content":" RowEncoder&lt;T&gt; Ê®°ÊùøÁ±ªÊèê‰æõÁ±ªÂûãÂÆâÂÖ®ÁöÑÁºñÁ†ÅÔºö  #include &quot;fory/encoder/row_encoder.h&quot; // ‰ΩøÁî® FORY_FIELD_INFO ÂÆö‰πâÁªìÊûÑ‰Ωì struct Point { double x; double y; }; FORY_FIELD_INFO(Point, x, y); // ÂàõÂª∫ÁºñÁ†ÅÂô® RowEncoder&lt;Point&gt; encoder; // ËÆøÈóÆ schemaÔºàÁî®‰∫éÊ£ÄÊü•Ôºâ const Schema&amp; schema = encoder.GetSchema(); std::cout &lt;&lt; &quot;Fields: &quot; &lt;&lt; schema.field_names().size() &lt;&lt; std::endl; // ÁºñÁ†ÅÂÄº Point p{1.0, 2.0}; encoder.Encode(p); // Ëé∑ÂèñÁªìÊûú‰Ωú‰∏∫ Row auto row = encoder.GetWriter().ToRow();   ","version":"0.15","tagName":"h3"},{"title":"ÂµåÂ•óÁªìÊûÑ‰Ωì‚Äã","type":1,"pageTitle":"Ë°åÊ†ºÂºè","url":"/zh-CN/docs/guide/cpp/row_format#ÂµåÂ•óÁªìÊûÑ‰Ωì","content":" struct Address { std::string city; std::string country; }; FORY_FIELD_INFO(Address, city, country); struct Person { std::string name; Address address; }; FORY_FIELD_INFO(Person, name, address); // ÁºñÁ†ÅÂµåÂ•óÁªìÊûÑ‰Ωì RowEncoder&lt;Person&gt; encoder; Person person{&quot;Alice&quot;, {&quot;New York&quot;, &quot;USA&quot;}}; encoder.Encode(person); auto row = encoder.GetWriter().ToRow(); std::string name = row-&gt;GetString(0); // ËÆøÈóÆÂµåÂ•óÁªìÊûÑ‰Ωì auto address_row = row-&gt;GetStruct(1); std::string city = address_row-&gt;GetString(0); std::string country = address_row-&gt;GetString(1);   ","version":"0.15","tagName":"h3"},{"title":"Êï∞ÁªÑ / ÂàóË°®‚Äã","type":1,"pageTitle":"Ë°åÊ†ºÂºè","url":"/zh-CN/docs/guide/cpp/row_format#Êï∞ÁªÑ--ÂàóË°®","content":" struct Record { std::vector&lt;int32_t&gt; values; std::string label; }; FORY_FIELD_INFO(Record, values, label); RowEncoder&lt;Record&gt; encoder; Record record{{1, 2, 3, 4, 5}, &quot;test&quot;}; encoder.Encode(record); auto row = encoder.GetWriter().ToRow(); auto array = row-&gt;GetArray(0); int count = array-&gt;num_elements(); for (int i = 0; i &lt; count; i++) { int32_t value = array-&gt;GetInt32(i); }   ","version":"0.15","tagName":"h3"},{"title":"Áõ¥Êé•ÁºñÁ†ÅÊï∞ÁªÑ‚Äã","type":1,"pageTitle":"Ë°åÊ†ºÂºè","url":"/zh-CN/docs/guide/cpp/row_format#Áõ¥Êé•ÁºñÁ†ÅÊï∞ÁªÑ","content":" // Áõ¥Êé•ÁºñÁ†Å vectorÔºà‰∏çÂú®ÁªìÊûÑ‰ΩìÂÜÖÔºâ std::vector&lt;Person&gt; people{ {&quot;Alice&quot;, {&quot;NYC&quot;, &quot;USA&quot;}}, {&quot;Bob&quot;, {&quot;London&quot;, &quot;UK&quot;}} }; RowEncoder&lt;decltype(people)&gt; encoder; encoder.Encode(people); // Ëé∑ÂèñÊï∞ÁªÑÊï∞ÊçÆ auto array = encoder.GetWriter().CopyToArrayData(); auto first_person = array-&gt;GetStruct(0); std::string first_name = first_person-&gt;GetString(0);   ","version":"0.15","tagName":"h3"},{"title":"Ë°åÊï∞ÊçÆËÆøÈóÆ‚Äã","type":1,"pageTitle":"Ë°åÊ†ºÂºè","url":"/zh-CN/docs/guide/cpp/row_format#Ë°åÊï∞ÊçÆËÆøÈóÆ","content":" ","version":"0.15","tagName":"h2"},{"title":"Row Á±ª‚Äã","type":1,"pageTitle":"Ë°åÊ†ºÂºè","url":"/zh-CN/docs/guide/cpp/row_format#row-Á±ª","content":" Row Á±ªÊèê‰æõÂØπÁªìÊûÑ‰ΩìÂ≠óÊÆµÁöÑÈöèÊú∫ËÆøÈóÆÔºö  class Row { public: // Á©∫ÂÄºÊ£ÄÊü• bool IsNullAt(int i) const; // Âü∫Êú¨Á±ªÂûã getter bool GetBoolean(int i) const; int8_t GetInt8(int i) const; int16_t GetInt16(int i) const; int32_t GetInt32(int i) const; int64_t GetInt64(int i) const; float GetFloat(int i) const; double GetDouble(int i) const; // Â≠óÁ¨¶‰∏≤/‰∫åËøõÂà∂ getter std::string GetString(int i) const; std::vector&lt;uint8_t&gt; GetBinary(int i) const; // ÂµåÂ•óÁ±ªÂûã std::shared_ptr&lt;Row&gt; GetStruct(int i) const; std::shared_ptr&lt;ArrayData&gt; GetArray(int i) const; std::shared_ptr&lt;MapData&gt; GetMap(int i) const; // ÂÖÉÊï∞ÊçÆ int num_fields() const; SchemaPtr schema() const; // Ë∞ÉËØï std::string ToString() const; };   ","version":"0.15","tagName":"h3"},{"title":"ArrayData Á±ª‚Äã","type":1,"pageTitle":"Ë°åÊ†ºÂºè","url":"/zh-CN/docs/guide/cpp/row_format#arraydata-Á±ª","content":" ArrayData Á±ªÊèê‰æõÂØπÂàóË°®/Êï∞ÁªÑÂÖÉÁ¥†ÁöÑËÆøÈóÆÔºö  class ArrayData { public: // Á©∫ÂÄºÊ£ÄÊü• bool IsNullAt(int i) const; // ÂÖÉÁ¥†Êï∞Èáè int num_elements() const; // Âü∫Êú¨Á±ªÂûã getterÔºà‰∏é Row Áõ∏ÂêåÔºâ int32_t GetInt32(int i) const; // ... ÂÖ∂‰ªñÂü∫Êú¨Á±ªÂûã // Â≠óÁ¨¶‰∏≤ getter std::string GetString(int i) const; // ÂµåÂ•óÁ±ªÂûã std::shared_ptr&lt;Row&gt; GetStruct(int i) const; std::shared_ptr&lt;ArrayData&gt; GetArray(int i) const; std::shared_ptr&lt;MapData&gt; GetMap(int i) const; // Á±ªÂûã‰ø°ÊÅØ ListTypePtr type() const; };   ","version":"0.15","tagName":"h3"},{"title":"MapData Á±ª‚Äã","type":1,"pageTitle":"Ë°åÊ†ºÂºè","url":"/zh-CN/docs/guide/cpp/row_format#mapdata-Á±ª","content":" MapData Á±ªÊèê‰æõÂØπ map ÈîÆÂÄºÂØπÁöÑËÆøÈóÆÔºö  class MapData { public: // ÂÖÉÁ¥†Êï∞Èáè int num_elements(); // ‰ª•Êï∞ÁªÑÂΩ¢ÂºèËÆøÈóÆÈîÆÂíåÂÄº std::shared_ptr&lt;ArrayData&gt; keys_array(); std::shared_ptr&lt;ArrayData&gt; values_array(); // Á±ªÂûã‰ø°ÊÅØ MapTypePtr type(); };   ","version":"0.15","tagName":"h3"},{"title":"Schema ÂíåÁ±ªÂûã‚Äã","type":1,"pageTitle":"Ë°åÊ†ºÂºè","url":"/zh-CN/docs/guide/cpp/row_format#schema-ÂíåÁ±ªÂûã","content":" ","version":"0.15","tagName":"h2"},{"title":"Schema ÂÆö‰πâ‚Äã","type":1,"pageTitle":"Ë°åÊ†ºÂºè","url":"/zh-CN/docs/guide/cpp/row_format#schema-ÂÆö‰πâ","content":" Schema ÂÆö‰πâË°åÊï∞ÊçÆÁöÑÁªìÊûÑÔºö  #include &quot;fory/row/schema.h&quot; using namespace fory::row; // ‰ª•ÁºñÁ®ãÊñπÂºèÂàõÂª∫ schema auto person_schema = schema({ field(&quot;id&quot;, int32()), field(&quot;name&quot;, utf8()), field(&quot;score&quot;, float32()), field(&quot;active&quot;, boolean()) }); // ËÆøÈóÆ schema ‰ø°ÊÅØ for (const auto&amp; f : person_schema-&gt;fields()) { std::cout &lt;&lt; f-&gt;name() &lt;&lt; &quot;: &quot; &lt;&lt; f-&gt;type()-&gt;name() &lt;&lt; std::endl; }   ","version":"0.15","tagName":"h3"},{"title":"Á±ªÂûãÁ≥ªÁªü‚Äã","type":1,"pageTitle":"Ë°åÊ†ºÂºè","url":"/zh-CN/docs/guide/cpp/row_format#Á±ªÂûãÁ≥ªÁªü","content":" Ë°åÊ†ºÂºèÂèØÁî®ÁöÑÁ±ªÂûãÔºö  // Âü∫Êú¨Á±ªÂûã DataTypePtr boolean(); // bool DataTypePtr int8(); // int8_t DataTypePtr int16(); // int16_t DataTypePtr int32(); // int32_t DataTypePtr int64(); // int64_t DataTypePtr float32(); // float DataTypePtr float64(); // double // Â≠óÁ¨¶‰∏≤Âíå‰∫åËøõÂà∂ DataTypePtr utf8(); // std::string DataTypePtr binary(); // std::vector&lt;uint8_t&gt; // Â§çÊùÇÁ±ªÂûã DataTypePtr list(DataTypePtr element_type); DataTypePtr map(DataTypePtr key_type, DataTypePtr value_type); DataTypePtr struct_(std::vector&lt;FieldPtr&gt; fields);   ","version":"0.15","tagName":"h3"},{"title":"Á±ªÂûãÊé®Êñ≠‚Äã","type":1,"pageTitle":"Ë°åÊ†ºÂºè","url":"/zh-CN/docs/guide/cpp/row_format#Á±ªÂûãÊé®Êñ≠","content":" RowEncodeTrait Ê®°ÊùøËá™Âä®Êé®Êñ≠Á±ªÂûãÔºö  // Âü∫Êú¨Á±ªÂûãÁöÑÁ±ªÂûãÊé®Êñ≠ RowEncodeTrait&lt;int32_t&gt;::Type(); // ËøîÂõû int32() RowEncodeTrait&lt;float&gt;::Type(); // ËøîÂõû float32() RowEncodeTrait&lt;std::string&gt;::Type(); // ËøîÂõû utf8() // ÈõÜÂêàÁöÑÁ±ªÂûãÊé®Êñ≠ RowEncodeTrait&lt;std::vector&lt;int32_t&gt;&gt;::Type(); // ËøîÂõû list(int32()) // map ÁöÑÁ±ªÂûãÊé®Êñ≠ RowEncodeTrait&lt;std::map&lt;std::string, int32_t&gt;&gt;::Type(); // ËøîÂõû map(utf8(), int32()) // ÁªìÊûÑ‰ΩìÁöÑÁ±ªÂûãÊé®Êñ≠ÔºàÈúÄË¶Å FORY_FIELD_INFOÔºâ RowEncodeTrait&lt;Person&gt;::Type(); // ËøîÂõû struct_({...}) RowEncodeTrait&lt;Person&gt;::Schema(); // ËøîÂõû schema({...})   ","version":"0.15","tagName":"h3"},{"title":"Ë°åÂÜôÂÖ•Âô®‚Äã","type":1,"pageTitle":"Ë°åÊ†ºÂºè","url":"/zh-CN/docs/guide/cpp/row_format#Ë°åÂÜôÂÖ•Âô®","content":" ","version":"0.15","tagName":"h2"},{"title":"RowWriter‚Äã","type":1,"pageTitle":"Ë°åÊ†ºÂºè","url":"/zh-CN/docs/guide/cpp/row_format#rowwriter","content":" Áî®‰∫éÊâãÂä®ÊûÑÈÄ†Ë°åÔºö  #include &quot;fory/row/writer.h&quot; // ÂàõÂª∫ schema auto my_schema = schema({ field(&quot;x&quot;, int32()), field(&quot;y&quot;, float64()), field(&quot;name&quot;, utf8()) }); // ÂàõÂª∫ÂÜôÂÖ•Âô® RowWriter writer(my_schema); writer.Reset(); // ÂÜôÂÖ•Â≠óÊÆµ writer.Write(0, 42); // x = 42 writer.Write(1, 3.14); // y = 3.14 writer.WriteString(2, &quot;test&quot;); // name = &quot;test&quot; // Ëé∑ÂèñÁªìÊûú auto row = writer.ToRow();   ","version":"0.15","tagName":"h3"},{"title":"ArrayWriter‚Äã","type":1,"pageTitle":"Ë°åÊ†ºÂºè","url":"/zh-CN/docs/guide/cpp/row_format#arraywriter","content":" Áî®‰∫éÊâãÂä®ÊûÑÈÄ†Êï∞ÁªÑÔºö  // ÂàõÂª∫Êï∞ÁªÑÁ±ªÂûã auto array_type = list(int32()); // ÂàõÂª∫ÂÜôÂÖ•Âô® ArrayWriter writer(array_type); writer.Reset(5); // 5 ‰∏™ÂÖÉÁ¥† // ÂÜôÂÖ•ÂÖÉÁ¥† for (int i = 0; i &lt; 5; i++) { writer.Write(i, i * 10); } // Ëé∑ÂèñÁªìÊûú auto array = writer.CopyToArrayData();   ","version":"0.15","tagName":"h3"},{"title":"Á©∫ÂÄº‚Äã","type":1,"pageTitle":"Ë°åÊ†ºÂºè","url":"/zh-CN/docs/guide/cpp/row_format#Á©∫ÂÄº","content":" // Âú®ÁâπÂÆöÁ¥¢ÂºïÂ§ÑËÆæÁΩÆÁ©∫ÂÄº writer.SetNullAt(2); // Â≠óÊÆµ 2 ‰∏∫Á©∫ // ËØªÂèñÊó∂Ê£ÄÊü•Á©∫ÂÄº if (!row-&gt;IsNullAt(2)) { std::string value = row-&gt;GetString(2); }   ","version":"0.15","tagName":"h3"},{"title":"ÂÜÖÂ≠òÂ∏ÉÂ±Ä‚Äã","type":1,"pageTitle":"Ë°åÊ†ºÂºè","url":"/zh-CN/docs/guide/cpp/row_format#ÂÜÖÂ≠òÂ∏ÉÂ±Ä","content":" ","version":"0.15","tagName":"h2"},{"title":"Ë°åÂ∏ÉÂ±Ä‚Äã","type":1,"pageTitle":"Ë°åÊ†ºÂºè","url":"/zh-CN/docs/guide/cpp/row_format#Ë°åÂ∏ÉÂ±Ä","content":" +------------------+--------------------+--------------------+ | Á©∫ÂÄº‰ΩçÂõæ | Âõ∫ÂÆöÂ§ßÂ∞èÊï∞ÊçÆ | ÂèòÈïøÊï∞ÊçÆ | +------------------+--------------------+--------------------+ | ceil(n/8) B | 8 * n Â≠óËäÇ | ÂèØÂèò | +------------------+--------------------+--------------------+   Á©∫ÂÄº‰ΩçÂõæÔºöÊØèÂ≠óÊÆµ‰∏Ä‰ΩçÔºåÊåáÁ§∫Á©∫ÂÄºÂõ∫ÂÆöÂ§ßÂ∞èÊï∞ÊçÆÔºöÊØèÂ≠óÊÆµ 8 Â≠óËäÇÔºàÂü∫Êú¨Á±ªÂûãÁõ¥Êé•Â≠òÂÇ®ÔºåÂèòÈïøÁ±ªÂûãÂ≠òÂÇ®ÂÅèÁßªÈáè+Â§ßÂ∞èÔºâÂèòÈïøÊï∞ÊçÆÔºöÂ≠óÁ¨¶‰∏≤„ÄÅÊï∞ÁªÑ„ÄÅÂµåÂ•óÁªìÊûÑ‰Ωì  ","version":"0.15","tagName":"h3"},{"title":"Êï∞ÁªÑÂ∏ÉÂ±Ä‚Äã","type":1,"pageTitle":"Ë°åÊ†ºÂºè","url":"/zh-CN/docs/guide/cpp/row_format#Êï∞ÁªÑÂ∏ÉÂ±Ä","content":" +------------+------------------+--------------------+--------------------+ | ÂÖÉÁ¥†Êï∞Èáè | Á©∫ÂÄº‰ΩçÂõæ | Âõ∫ÂÆöÂ§ßÂ∞èÊï∞ÊçÆ | ÂèòÈïøÊï∞ÊçÆ | +------------+------------------+--------------------+--------------------+ | 8 Â≠óËäÇ | ceil(n/8) Â≠óËäÇ | elem_size * n | ÂèØÂèò | +------------+------------------+--------------------+--------------------+   ","version":"0.15","tagName":"h3"},{"title":"Map Â∏ÉÂ±Ä‚Äã","type":1,"pageTitle":"Ë°åÊ†ºÂºè","url":"/zh-CN/docs/guide/cpp/row_format#map-Â∏ÉÂ±Ä","content":" +------------------+------------------+ | ÈîÆÊï∞ÁªÑ | ÂÄºÊï∞ÁªÑ | +------------------+------------------+   ","version":"0.15","tagName":"h3"},{"title":"ÊÄßËÉΩÊèêÁ§∫‚Äã","type":1,"pageTitle":"Ë°åÊ†ºÂºè","url":"/zh-CN/docs/guide/cpp/row_format#ÊÄßËÉΩÊèêÁ§∫","content":" ","version":"0.15","tagName":"h2"},{"title":"1. Â§çÁî®ÁºñÁ†ÅÂô®‚Äã","type":1,"pageTitle":"Ë°åÊ†ºÂºè","url":"/zh-CN/docs/guide/cpp/row_format#1-Â§çÁî®ÁºñÁ†ÅÂô®","content":" RowEncoder&lt;Person&gt; encoder; // ÁºñÁ†ÅÂ§öÊù°ËÆ∞ÂΩï for (const auto&amp; person : people) { encoder.Encode(person); auto row = encoder.GetWriter().ToRow(); // Â§ÑÁêÜ row... }   ","version":"0.15","tagName":"h3"},{"title":"2. È¢ÑÂàÜÈÖçÁºìÂÜ≤Âå∫‚Äã","type":1,"pageTitle":"Ë°åÊ†ºÂºè","url":"/zh-CN/docs/guide/cpp/row_format#2-È¢ÑÂàÜÈÖçÁºìÂÜ≤Âå∫","content":" // Ëé∑ÂèñÁºìÂÜ≤Âå∫ÂºïÁî®ËøõË°åÈ¢ÑÂàÜÈÖç auto&amp; buffer = encoder.GetWriter().buffer(); buffer-&gt;Reserve(expected_size);   ","version":"0.15","tagName":"h3"},{"title":"3. ÊâπÈáèÂ§ÑÁêÜ‚Äã","type":1,"pageTitle":"Ë°åÊ†ºÂºè","url":"/zh-CN/docs/guide/cpp/row_format#3-ÊâπÈáèÂ§ÑÁêÜ","content":" // ÊâπÈáèÂ§ÑÁêÜ‰ª•ÊèêÈ´òÁºìÂ≠òÂà©Áî®Áéá std::vector&lt;Person&gt; batch; batch.reserve(BATCH_SIZE); while (hasMore()) { batch.clear(); fillBatch(batch); for (const auto&amp; person : batch) { encoder.Encode(person); process(encoder.GetWriter().ToRow()); } }   ","version":"0.15","tagName":"h3"},{"title":"4. Èõ∂Êã∑Ë¥ùËØªÂèñ‚Äã","type":1,"pageTitle":"Ë°åÊ†ºÂºè","url":"/zh-CN/docs/guide/cpp/row_format#4-Èõ∂Êã∑Ë¥ùËØªÂèñ","content":" // ÊåáÂêëÁé∞ÊúâÁºìÂÜ≤Âå∫ÔºàÈõ∂Êã∑Ë¥ùÔºâ Row row(schema); row.PointTo(buffer, offset, size); // Áõ¥Êé•‰ªéÁºìÂÜ≤Âå∫ËÆøÈóÆÂ≠óÊÆµ int32_t id = row.GetInt32(0);   ","version":"0.15","tagName":"h3"},{"title":"ÊîØÊåÅÁ±ªÂûãÊ±áÊÄª‚Äã","type":1,"pageTitle":"Ë°åÊ†ºÂºè","url":"/zh-CN/docs/guide/cpp/row_format#ÊîØÊåÅÁ±ªÂûãÊ±áÊÄª","content":" C++ Á±ªÂûã\tË°åÁ±ªÂûã\tÂõ∫ÂÆöÂ§ßÂ∞èbool\tboolean()\t1 Â≠óËäÇ int8_t\tint8()\t1 Â≠óËäÇ int16_t\tint16()\t2 Â≠óËäÇ int32_t\tint32()\t4 Â≠óËäÇ int64_t\tint64()\t8 Â≠óËäÇ float\tfloat32()\t4 Â≠óËäÇ double\tfloat64()\t8 Â≠óËäÇ std::string\tutf8()\tÂèØÂèò std::vector&lt;T&gt;\tlist(T)\tÂèØÂèò std::map&lt;K,V&gt;\tmap(K,V)\tÂèØÂèò std::optional&lt;T&gt;\tÂÜÖÈÉ®Á±ªÂûã\tÂèØÁ©∫ ÁªìÊûÑ‰Ωì (FORY_FIELD_INFO)\tstruct_({...})\tÂèØÂèò  ","version":"0.15","tagName":"h2"},{"title":"Áõ∏ÂÖ≥‰∏ªÈ¢ò‚Äã","type":1,"pageTitle":"Ë°åÊ†ºÂºè","url":"/zh-CN/docs/guide/cpp/row_format#Áõ∏ÂÖ≥‰∏ªÈ¢ò","content":" Âü∫Á°ÄÂ∫èÂàóÂåñ - ÂØπË±°ÂõæÂ∫èÂàóÂåñÈÖçÁΩÆ - ÊûÑÂª∫Âô®ÈÄâÈ°πÊîØÊåÅÁöÑÁ±ªÂûã - ÊâÄÊúâÊîØÊåÅÁöÑÁ±ªÂûã ","version":"0.15","tagName":"h2"},{"title":"ÊîØÊåÅÁöÑÁ±ªÂûã","type":0,"sectionRef":"#","url":"/zh-CN/docs/guide/cpp/supported_types","content":"","keywords":"","version":"0.15"},{"title":"Âü∫Êú¨Á±ªÂûã‚Äã","type":1,"pageTitle":"ÊîØÊåÅÁöÑÁ±ªÂûã","url":"/zh-CN/docs/guide/cpp/supported_types#Âü∫Êú¨Á±ªÂûã","content":" ÊâÄÊúâ C++ Âü∫Êú¨Á±ªÂûãÈÉΩÊîØÊåÅÈ´òÊïàÁöÑ‰∫åËøõÂà∂ÁºñÁ†ÅÔºö  Á±ªÂûã\tÂ§ßÂ∞è\tFory TypeId\tËØ¥Êòébool\t1 Â≠óËäÇ\tBOOL\tTrue/false int8_t\t1 Â≠óËäÇ\tINT8\tÊúâÁ¨¶Âè∑Â≠óËäÇ uint8_t\t1 Â≠óËäÇ\tINT8\tÊó†Á¨¶Âè∑Â≠óËäÇ int16_t\t2 Â≠óËäÇ\tINT16\tÊúâÁ¨¶Âè∑Áü≠Êï¥Âûã uint16_t\t2 Â≠óËäÇ\tINT16\tÊó†Á¨¶Âè∑Áü≠Êï¥Âûã int32_t\t4 Â≠óËäÇ\tINT32\tÊúâÁ¨¶Âè∑Êï¥Âûã uint32_t\t4 Â≠óËäÇ\tINT32\tÊó†Á¨¶Âè∑Êï¥Âûã int64_t\t8 Â≠óËäÇ\tINT64\tÊúâÁ¨¶Âè∑ÈïøÊï¥Âûã uint64_t\t8 Â≠óËäÇ\tINT64\tÊó†Á¨¶Âè∑ÈïøÊï¥Âûã float\t4 Â≠óËäÇ\tFLOAT32\tIEEE 754 ÂçïÁ≤æÂ∫¶ double\t8 Â≠óËäÇ\tFLOAT64\tIEEE 754 ÂèåÁ≤æÂ∫¶ char\t1 Â≠óËäÇ\tINT8\tÂ≠óÁ¨¶Ôºà‰Ωú‰∏∫ÊúâÁ¨¶Âè∑Ôºâ char16_t\t2 Â≠óËäÇ\tINT16\t16 ‰ΩçÂ≠óÁ¨¶ char32_t\t4 Â≠óËäÇ\tINT32\t32 ‰ΩçÂ≠óÁ¨¶  int32_t value = 42; auto bytes = fory.serialize(value).value(); auto decoded = fory.deserialize&lt;int32_t&gt;(bytes).value(); assert(value == decoded);   ","version":"0.15","tagName":"h2"},{"title":"Â≠óÁ¨¶‰∏≤Á±ªÂûã‚Äã","type":1,"pageTitle":"ÊîØÊåÅÁöÑÁ±ªÂûã","url":"/zh-CN/docs/guide/cpp/supported_types#Â≠óÁ¨¶‰∏≤Á±ªÂûã","content":" Á±ªÂûã\tFory TypeId\tËØ¥Êòéstd::string\tSTRING\tUTF-8 ÁºñÁ†Å std::string_view\tSTRING\tÈõ∂Êã∑Ë¥ùËßÜÂõæÔºàËØªÂèñÔºâ std::u16string\tSTRING\tUTF-16ÔºàËΩ¨Êç¢Ôºâ binary\tBINARY\tÊó†ÈïøÂ∫¶ÁöÑÂéüÂßãÂ≠óËäÇ  std::string text = &quot;Hello, World!&quot;; auto bytes = fory.serialize(text).value(); auto decoded = fory.deserialize&lt;std::string&gt;(bytes).value(); assert(text == decoded);   ","version":"0.15","tagName":"h2"},{"title":"ÈõÜÂêàÁ±ªÂûã‚Äã","type":1,"pageTitle":"ÊîØÊåÅÁöÑÁ±ªÂûã","url":"/zh-CN/docs/guide/cpp/supported_types#ÈõÜÂêàÁ±ªÂûã","content":" ","version":"0.15","tagName":"h2"},{"title":"Vector / List‚Äã","type":1,"pageTitle":"ÊîØÊåÅÁöÑÁ±ªÂûã","url":"/zh-CN/docs/guide/cpp/supported_types#vector--list","content":" std::vector&lt;T&gt; ÊîØÊåÅ‰ªª‰ΩïÂèØÂ∫èÂàóÂåñÁöÑÂÖÉÁ¥†Á±ªÂûãÔºö  std::vector&lt;int32_t&gt; numbers{1, 2, 3, 4, 5}; auto bytes = fory.serialize(numbers).value(); auto decoded = fory.deserialize&lt;std::vector&lt;int32_t&gt;&gt;(bytes).value(); // ÂµåÂ•ó vector std::vector&lt;std::vector&lt;std::string&gt;&gt; nested{ {&quot;a&quot;, &quot;b&quot;}, {&quot;c&quot;, &quot;d&quot;, &quot;e&quot;} };   ","version":"0.15","tagName":"h3"},{"title":"Set‚Äã","type":1,"pageTitle":"ÊîØÊåÅÁöÑÁ±ªÂûã","url":"/zh-CN/docs/guide/cpp/supported_types#set","content":" std::set&lt;T&gt; Âíå std::unordered_set&lt;T&gt;Ôºö  std::set&lt;std::string&gt; tags{&quot;cpp&quot;, &quot;serialization&quot;, &quot;fory&quot;}; auto bytes = fory.serialize(tags).value(); auto decoded = fory.deserialize&lt;std::set&lt;std::string&gt;&gt;(bytes).value(); std::unordered_set&lt;int32_t&gt; ids{1, 2, 3};   ","version":"0.15","tagName":"h3"},{"title":"Map‚Äã","type":1,"pageTitle":"ÊîØÊåÅÁöÑÁ±ªÂûã","url":"/zh-CN/docs/guide/cpp/supported_types#map","content":" std::map&lt;K, V&gt; Âíå std::unordered_map&lt;K, V&gt;Ôºö  std::map&lt;std::string, int32_t&gt; scores{ {&quot;Alice&quot;, 100}, {&quot;Bob&quot;, 95} }; auto bytes = fory.serialize(scores).value(); auto decoded = fory.deserialize&lt;std::map&lt;std::string, int32_t&gt;&gt;(bytes).value(); // Êó†Â∫è map std::unordered_map&lt;int32_t, std::string&gt; lookup{ {1, &quot;one&quot;}, {2, &quot;two&quot;} };   ","version":"0.15","tagName":"h3"},{"title":"Êô∫ËÉΩÊåáÈíà‚Äã","type":1,"pageTitle":"ÊîØÊåÅÁöÑÁ±ªÂûã","url":"/zh-CN/docs/guide/cpp/supported_types#Êô∫ËÉΩÊåáÈíà","content":" ","version":"0.15","tagName":"h2"},{"title":"std::optional‚Äã","type":1,"pageTitle":"ÊîØÊåÅÁöÑÁ±ªÂûã","url":"/zh-CN/docs/guide/cpp/supported_types#stdoptional","content":" ‰ªª‰ΩïÁ±ªÂûãÁöÑÂèØÁ©∫ÂåÖË£ÖÔºö  std::optional&lt;int32_t&gt; maybe_value = 42; std::optional&lt;int32_t&gt; empty_value = std::nullopt; auto bytes = fory.serialize(maybe_value).value(); auto decoded = fory.deserialize&lt;std::optional&lt;int32_t&gt;&gt;(bytes).value(); assert(decoded.has_value() &amp;&amp; *decoded == 42);   ","version":"0.15","tagName":"h3"},{"title":"std::shared_ptr‚Äã","type":1,"pageTitle":"ÊîØÊåÅÁöÑÁ±ªÂûã","url":"/zh-CN/docs/guide/cpp/supported_types#stdshared_ptr","content":" Â∏¶ÂºïÁî®Ë∑üË∏™ÁöÑÂÖ±‰∫´ÊâÄÊúâÊùÉÔºö  auto shared = std::make_shared&lt;Person&gt;(&quot;Alice&quot;, 30); auto bytes = fory.serialize(shared).value(); auto decoded = fory.deserialize&lt;std::shared_ptr&lt;Person&gt;&gt;(bytes).value();   ÂêØÁî®ÂºïÁî®Ë∑üË∏™Ôºàtrack_ref(true)ÔºâÊó∂Ôºö  ÂÖ±‰∫´ÂØπË±°Âè™Â∫èÂàóÂåñ‰∏ÄÊ¨°ÂØπÂêå‰∏ÄÂØπË±°ÁöÑÂºïÁî®Ë¢´‰øùÁïôÂæ™ÁéØÂºïÁî®Ëá™Âä®Â§ÑÁêÜ  ","version":"0.15","tagName":"h3"},{"title":"std::unique_ptr‚Äã","type":1,"pageTitle":"ÊîØÊåÅÁöÑÁ±ªÂûã","url":"/zh-CN/docs/guide/cpp/supported_types#stdunique_ptr","content":" Áã¨Âç†ÊâÄÊúâÊùÉÔºö  auto unique = std::make_unique&lt;Person&gt;(&quot;Bob&quot;, 25); auto bytes = fory.serialize(unique).value(); auto decoded = fory.deserialize&lt;std::unique_ptr&lt;Person&gt;&gt;(bytes).value();   ","version":"0.15","tagName":"h3"},{"title":"Variant Á±ªÂûã‚Äã","type":1,"pageTitle":"ÊîØÊåÅÁöÑÁ±ªÂûã","url":"/zh-CN/docs/guide/cpp/supported_types#variant-Á±ªÂûã","content":" std::variant&lt;Ts...&gt; Áî®‰∫éÁ±ªÂûãÂÆâÂÖ®ÁöÑËÅîÂêàÔºö  using MyVariant = std::variant&lt;int32_t, std::string, double&gt;; MyVariant v1 = 42; MyVariant v2 = std::string(&quot;hello&quot;); MyVariant v3 = 3.14; auto bytes = fory.serialize(v1).value(); auto decoded = fory.deserialize&lt;MyVariant&gt;(bytes).value(); assert(std::get&lt;int32_t&gt;(decoded) == 42);   ","version":"0.15","tagName":"h2"},{"title":"std::monostate‚Äã","type":1,"pageTitle":"ÊîØÊåÅÁöÑÁ±ªÂûã","url":"/zh-CN/docs/guide/cpp/supported_types#stdmonostate","content":" Á©∫ variant Êõø‰ª£Ôºö  using OptionalInt = std::variant&lt;std::monostate, int32_t&gt;; OptionalInt empty = std::monostate{}; OptionalInt value = 42;   ","version":"0.15","tagName":"h3"},{"title":"Êó∂Èó¥Á±ªÂûã‚Äã","type":1,"pageTitle":"ÊîØÊåÅÁöÑÁ±ªÂûã","url":"/zh-CN/docs/guide/cpp/supported_types#Êó∂Èó¥Á±ªÂûã","content":" ","version":"0.15","tagName":"h2"},{"title":"Duration‚Äã","type":1,"pageTitle":"ÊîØÊåÅÁöÑÁ±ªÂûã","url":"/zh-CN/docs/guide/cpp/supported_types#duration","content":" std::chrono::nanosecondsÔºö  using Duration = std::chrono::nanoseconds; Duration d = std::chrono::seconds(30); auto bytes = fory.serialize(d).value(); auto decoded = fory.deserialize&lt;Duration&gt;(bytes).value();   ","version":"0.15","tagName":"h3"},{"title":"Timestamp‚Äã","type":1,"pageTitle":"ÊîØÊåÅÁöÑÁ±ªÂûã","url":"/zh-CN/docs/guide/cpp/supported_types#timestamp","content":" Ëá™ Unix Á∫™ÂÖÉ‰ª•Êù•ÁöÑÊó∂Èó¥ÁÇπÔºö  using Timestamp = std::chrono::time_point&lt;std::chrono::system_clock, std::chrono::nanoseconds&gt;; Timestamp now = std::chrono::system_clock::now(); auto bytes = fory.serialize(now).value(); auto decoded = fory.deserialize&lt;Timestamp&gt;(bytes).value();   ","version":"0.15","tagName":"h3"},{"title":"LocalDate‚Äã","type":1,"pageTitle":"ÊîØÊåÅÁöÑÁ±ªÂûã","url":"/zh-CN/docs/guide/cpp/supported_types#localdate","content":" Ëá™ Unix Á∫™ÂÖÉ‰ª•Êù•ÁöÑÂ§©Êï∞Ôºö  LocalDate date{18628}; // Ëá™ 1970-01-01 ‰ª•Êù•ÁöÑÂ§©Êï∞ auto bytes = fory.serialize(date).value(); auto decoded = fory.deserialize&lt;LocalDate&gt;(bytes).value();   ","version":"0.15","tagName":"h3"},{"title":"Áî®Êà∑ÂÆö‰πâÁªìÊûÑ‰Ωì‚Äã","type":1,"pageTitle":"ÊîØÊåÅÁöÑÁ±ªÂûã","url":"/zh-CN/docs/guide/cpp/supported_types#Áî®Êà∑ÂÆö‰πâÁªìÊûÑ‰Ωì","content":" ‰ªª‰ΩïÁªìÊûÑ‰ΩìÈÉΩÂèØ‰ª•‰ΩøÁî® FORY_STRUCT ËøõË°åÂ∫èÂàóÂåñÔºö  struct Point { double x; double y; double z; }; FORY_STRUCT(Point, x, y, z); struct Line { Point start; Point end; std::string label; }; FORY_STRUCT(Line, start, end, label);   ","version":"0.15","tagName":"h2"},{"title":"Êûö‰∏æÁ±ªÂûã‚Äã","type":1,"pageTitle":"ÊîØÊåÅÁöÑÁ±ªÂûã","url":"/zh-CN/docs/guide/cpp/supported_types#Êûö‰∏æÁ±ªÂûã","content":" ‰ΩøÁî® FORY_ENUM ÊîØÊåÅ‰ΩúÁî®ÂüüÂíåÈùû‰ΩúÁî®ÂüüÊûö‰∏æÔºö  // ‰ΩúÁî®ÂüüÊûö‰∏æÔºàC++11 enum classÔºâ enum class Color { RED = 0, GREEN = 1, BLUE = 2 }; // ÈùûËøûÁª≠ÂÄºÁöÑÈùû‰ΩúÁî®ÂüüÊûö‰∏æ enum Priority : int32_t { LOW = -10, NORMAL = 0, HIGH = 10 }; FORY_ENUM(Priority, LOW, NORMAL, HIGH); // ‰ΩøÁî® Color c = Color::GREEN; auto bytes = fory.serialize(c).value(); auto decoded = fory.deserialize&lt;Color&gt;(bytes).value();   ","version":"0.15","tagName":"h2"},{"title":"‰∏çÊîØÊåÅÁöÑÁ±ªÂûã‚Äã","type":1,"pageTitle":"ÊîØÊåÅÁöÑÁ±ªÂûã","url":"/zh-CN/docs/guide/cpp/supported_types#‰∏çÊîØÊåÅÁöÑÁ±ªÂûã","content":" ÂΩìÂâç‰∏çÊîØÊåÅÔºö  ÂéüÂßãÊåáÈíàÔºàT*Ôºâ- ‰ΩøÁî®Êô∫ËÉΩÊåáÈíà‰ª£Êõøstd::tuple&lt;Ts...&gt; - ‰ΩøÁî®ÁªìÊûÑ‰Ωì‰ª£Êõøstd::array&lt;T, N&gt; - ‰ΩøÁî® std::vector&lt;T&gt; ‰ª£ÊõøÂáΩÊï∞ÊåáÈíàÂºïÁî®ÔºàT&amp;„ÄÅconst T&amp;Ôºâ- ‰ªÖÊîØÊåÅÊåâÂÄº‰º†ÈÄí  ","version":"0.15","tagName":"h2"},{"title":"Áõ∏ÂÖ≥‰∏ªÈ¢ò‚Äã","type":1,"pageTitle":"ÊîØÊåÅÁöÑÁ±ªÂûã","url":"/zh-CN/docs/guide/cpp/supported_types#Áõ∏ÂÖ≥‰∏ªÈ¢ò","content":" Âü∫Á°ÄÂ∫èÂàóÂåñ - ‰ΩøÁî®Ëøô‰∫õÁ±ªÂûãÁ±ªÂûãÊ≥®ÂÜå - Ê≥®ÂÜåÁ±ªÂûãË∑®ËØ≠Ë®Ä - Ë∑®ËØ≠Ë®ÄÂÖºÂÆπÊÄß ","version":"0.15","tagName":"h2"},{"title":"ÂºÄÂèëÊåáÂçó","type":0,"sectionRef":"#","url":"/zh-CN/docs/guide/development","content":"","keywords":"","version":"0.15"},{"title":"Â¶Ç‰ΩïÊûÑÂª∫ Apache Fory‚Ñ¢‚Äã","type":1,"pageTitle":"ÂºÄÂèëÊåáÂçó","url":"/zh-CN/docs/guide/development#Â¶Ç‰ΩïÊûÑÂª∫-apache-fory","content":" ËØ∑‰ªé https://github.com/apache/fory Ê£ÄÂá∫Ê∫ê‰ª£Á†ÅÊ†ë„ÄÇ  ","version":"0.15","tagName":"h2"},{"title":"ÊûÑÂª∫ Apache Fory‚Ñ¢ Java‚Äã","type":1,"pageTitle":"ÂºÄÂèëÊåáÂçó","url":"/zh-CN/docs/guide/development#ÊûÑÂª∫-apache-fory-java","content":" cd java mvn clean compile -DskipTests   ÁéØÂ¢ÉË¶ÅÊ±Ç‚Äã  java 1.8+maven 3.6.3+  ","version":"0.15","tagName":"h3"},{"title":"ÊûÑÂª∫ Apache Fory‚Ñ¢ Python‚Äã","type":1,"pageTitle":"ÂºÄÂèëÊåáÂçó","url":"/zh-CN/docs/guide/development#ÊûÑÂª∫-apache-fory-python","content":" cd python # È¶ñÂÖàÂç∏ËΩΩ numpyÔºå‰ª•‰æøÂú®ÂÆâË£Ö pyarrow Êó∂Ëá™Âä®ÂÆâË£ÖÊ≠£Á°ÆÁöÑ numpy ÁâàÊú¨„ÄÇ # ÂØπ‰∫é Python ÁâàÊú¨‰Ωé‰∫é 3.13ÔºåÁõÆÂâç‰∏çÊîØÊåÅ numpy 2„ÄÇ pip uninstall -y numpy # ‰∏∫ Python &lt; 3.13 ÂÆâË£ÖÂøÖË¶ÅÁöÑÁéØÂ¢É„ÄÇ pip install pyarrow Cython wheel pytest # pip install pyarrow Cython wheel pytest pip install -v -e .   ÁéØÂ¢ÉË¶ÅÊ±Ç‚Äã  python 3.6+  ","version":"0.15","tagName":"h3"},{"title":"ÊûÑÂª∫ Apache Fory‚Ñ¢ C++‚Äã","type":1,"pageTitle":"ÂºÄÂèëÊåáÂçó","url":"/zh-CN/docs/guide/development#ÊûÑÂª∫-apache-fory-c","content":" ÊûÑÂª∫ fory Ë°åÊ†ºÂºèÔºö  bazel build //cpp/fory/row:fory_row_format   ÊûÑÂª∫ fory Ë°åÊ†ºÂºèÁºñÁ†ÅÂô®Ôºö  bazel build //cpp/fory/encoder:fory_encoder   ÁéØÂ¢ÉË¶ÅÊ±Ç‚Äã  ÊîØÊåÅ C++17 ÁöÑÁºñËØëÂô®bazel 6.3.2  ","version":"0.15","tagName":"h3"},{"title":"ÊûÑÂª∫ Apache Fory‚Ñ¢ GoLang‚Äã","type":1,"pageTitle":"ÂºÄÂèëÊåáÂçó","url":"/zh-CN/docs/guide/development#ÊûÑÂª∫-apache-fory-golang","content":" cd go/fory # ËøêË°åÊµãËØï go test -v ./... # ËøêË°åË∑®ËØ≠Ë®ÄÊµãËØï go test -v fory_xlang_test.go   ÁéØÂ¢ÉË¶ÅÊ±Ç‚Äã  go 1.13+  ","version":"0.15","tagName":"h3"},{"title":"ÊûÑÂª∫ Apache Fory‚Ñ¢ Rust‚Äã","type":1,"pageTitle":"ÂºÄÂèëÊåáÂçó","url":"/zh-CN/docs/guide/development#ÊûÑÂª∫-apache-fory-rust","content":" cd rust # ÊûÑÂª∫ cargo build # ËøêË°åÊµãËØï cargo test # ËøêË°åÁâπÂÆöÊµãËØï cargo test -p tests --test $test_file $test_method # ËøêË°åÂ≠êÁõÆÂΩï‰∏ãÁöÑÁâπÂÆöÊµãËØï cargo test --test mod $dir$::$test_file::$test_method # Ë∞ÉËØïÂ≠êÁõÆÂΩï‰∏ãÁöÑÁâπÂÆöÊµãËØïÂπ∂Ëé∑ÂèñÂõûÊ∫Ø‰ø°ÊÅØ RUST_BACKTRACE=1 FORY_PANIC_ON_ERROR=1 cargo test --test mod $dir$::$test_file::$test_method # Ê£ÄÊü• fory derive ÂÆèÁîüÊàêÁöÑ‰ª£Á†Å cargo expand --test mod $mod$::$file$ &gt; expanded.rs   ÁéØÂ¢ÉË¶ÅÊ±Ç‚Äã  curl --proto '=https' --tlsv1.2 -sSf https://sh.rustup.rs | sh   ","version":"0.15","tagName":"h3"},{"title":"ÊûÑÂª∫ Apache Fory‚Ñ¢ JavaScript‚Äã","type":1,"pageTitle":"ÂºÄÂèëÊåáÂçó","url":"/zh-CN/docs/guide/development#ÊûÑÂª∫-apache-fory-javascript","content":" cd javascript npm install # ËøêË°åÊûÑÂª∫ npm run build # ËøêË°åÊµãËØï npm run test   ÁéØÂ¢ÉË¶ÅÊ±Ç‚Äã  node 14+npm 8+  ","version":"0.15","tagName":"h3"},{"title":"Lint Markdown ÊñáÊ°£‚Äã","type":1,"pageTitle":"ÂºÄÂèëÊåáÂçó","url":"/zh-CN/docs/guide/development#lint-markdown-ÊñáÊ°£","content":" # ÂÖ®Â±ÄÂÆâË£Ö prettier npm install -g prettier # Ê†ºÂºèÂåñ markdown Êñá‰ª∂ prettier --write &quot;**/*.md&quot;   ÁéØÂ¢ÉË¶ÅÊ±Ç‚Äã  node 14+npm 8+  ","version":"0.15","tagName":"h3"},{"title":"Ë¥°ÁåÆ‚Äã","type":1,"pageTitle":"ÂºÄÂèëÊåáÂçó","url":"/zh-CN/docs/guide/development#Ë¥°ÁåÆ","content":" Êõ¥Â§ö‰ø°ÊÅØÔºåËØ∑ÂèÇËÄÉÂ¶Ç‰ΩïË¥°ÁåÆÂà∞ Apache Fory‚Ñ¢„ÄÇ ","version":"0.15","tagName":"h2"},{"title":"Schema ÊºîÂåñ","type":0,"sectionRef":"#","url":"/zh-CN/docs/guide/cpp/schema_evolution","content":"","keywords":"","version":"0.15"},{"title":"Compatible Ê®°Âºè‚Äã","type":1,"pageTitle":"Schema ÊºîÂåñ","url":"/zh-CN/docs/guide/cpp/schema_evolution#compatible-Ê®°Âºè","content":" ‰ΩøÁî® compatible(true) ÂêØÁî® schema ÊºîÂåñÔºö  #include &quot;fory/serialization/fory.h&quot; using namespace fory::serialization; // ÁâàÊú¨ 1ÔºöÂéüÂßã schema struct PersonV1 { std::string name; int32_t age; }; FORY_STRUCT(PersonV1, name, age); // ÁâàÊú¨ 2ÔºöÊ∑ªÂä† email Â≠óÊÆµ struct PersonV2 { std::string name; int32_t age; std::string email; // Êñ∞Â≠óÊÆµ }; FORY_STRUCT(PersonV2, name, age, email); int main() { // ‰∏∫ÊØè‰∏™ schema ÁâàÊú¨ÂàõÂª∫ÂçïÁã¨ÁöÑ Fory ÂÆû‰æã auto fory_v1 = Fory::builder() .compatible(true) // ÂêØÁî® schema ÊºîÂåñ .xlang(true) .build(); auto fory_v2 = Fory::builder() .compatible(true) .xlang(true) .build(); // ‰ΩøÁî®Áõ∏ÂêåÁöÑÁ±ªÂûã ID ËøõË°å schema ÊºîÂåñ constexpr uint32_t PERSON_TYPE_ID = 100; fory_v1.register_struct&lt;PersonV1&gt;(PERSON_TYPE_ID); fory_v2.register_struct&lt;PersonV2&gt;(PERSON_TYPE_ID); // ‰ΩøÁî® V1 Â∫èÂàóÂåñ PersonV1 v1{&quot;Alice&quot;, 30}; auto bytes = fory_v1.serialize(v1).value(); // ÂèçÂ∫èÂàóÂåñ‰∏∫ V2 - email Ëé∑ÂæóÈªòËÆ§ÂÄºÔºàÁ©∫Â≠óÁ¨¶‰∏≤Ôºâ auto v2 = fory_v2.deserialize&lt;PersonV2&gt;(bytes).value(); assert(v2.name == &quot;Alice&quot;); assert(v2.age == 30); assert(v2.email == &quot;&quot;); // Áº∫Â§±Â≠óÊÆµÁöÑÈªòËÆ§ÂÄº return 0; }   ","version":"0.15","tagName":"h2"},{"title":"Schema ÊºîÂåñÁâπÊÄß‚Äã","type":1,"pageTitle":"Schema ÊºîÂåñ","url":"/zh-CN/docs/guide/cpp/schema_evolution#schema-ÊºîÂåñÁâπÊÄß","content":" Compatible Ê®°ÂºèÊîØÊåÅ‰ª•‰∏ã schema ÂèòÊõ¥Ôºö  ÂèòÊõ¥Á±ªÂûã\tÊîØÊåÅ\tË°å‰∏∫Ê∑ªÂä†Êñ∞Â≠óÊÆµ\t‚úÖ\tÁº∫Â§±Â≠óÊÆµ‰ΩøÁî®ÈªòËÆ§ÂÄº Âà†Èô§Â≠óÊÆµ\t‚úÖ\tÈ¢ùÂ§ñÂ≠óÊÆµË¢´Ë∑≥Ëøá ÈáçÊéíÂ≠óÊÆµÈ°∫Â∫è\t‚úÖ\tÊåâÂêçÁß∞ÂåπÈÖçÂ≠óÊÆµÔºåËÄåÈùû‰ΩçÁΩÆ Êõ¥ÊîπÂèØÁ©∫ÊÄß\t‚úÖ\tT ‚Üî std::optional&lt;T&gt; Êõ¥ÊîπÂ≠óÊÆµÁ±ªÂûã\t‚ùå\tÁ±ªÂûãÂøÖÈ°ªÂÖºÂÆπ ÈáçÂëΩÂêçÂ≠óÊÆµ\t‚ùå\tÂ≠óÊÆµÂêçÂøÖÈ°ªÂåπÈÖçÔºàÂå∫ÂàÜÂ§ßÂ∞èÂÜôÔºâ  ","version":"0.15","tagName":"h2"},{"title":"Ê∑ªÂä†Â≠óÊÆµÔºàÂêëÂêéÂÖºÂÆπÔºâ‚Äã","type":1,"pageTitle":"Schema ÊºîÂåñ","url":"/zh-CN/docs/guide/cpp/schema_evolution#Ê∑ªÂä†Â≠óÊÆµÂêëÂêéÂÖºÂÆπ","content":" ÂΩì‰ΩøÁî®ÂÖ∑ÊúâÈ¢ùÂ§ñÂ≠óÊÆµÁöÑÊñ∞ schema ÂèçÂ∫èÂàóÂåñÊóßÊï∞ÊçÆÊó∂Ôºö  // Êóß schema (V1) struct ProductV1 { std::string name; double price; }; FORY_STRUCT(ProductV1, name, price); // Êñ∞ schema (V2) Â∏¶ÊúâÈ¢ùÂ§ñÂ≠óÊÆµ struct ProductV2 { std::string name; double price; std::vector&lt;std::string&gt; tags; // Êñ∞Â≠óÊÆµ std::map&lt;std::string, std::string&gt; attributes; // Êñ∞Â≠óÊÆµ }; FORY_STRUCT(ProductV2, name, price, tags, attributes); // Â∫èÂàóÂåñ V1 ProductV1 v1{&quot;Laptop&quot;, 999.99}; auto bytes = fory_v1.serialize(v1).value(); // ÂèçÂ∫èÂàóÂåñ‰∏∫ V2 auto v2 = fory_v2.deserialize&lt;ProductV2&gt;(bytes).value(); assert(v2.name == &quot;Laptop&quot;); assert(v2.price == 999.99); assert(v2.tags.empty()); // ÈªòËÆ§ÔºöÁ©∫ vector assert(v2.attributes.empty()); // ÈªòËÆ§ÔºöÁ©∫ map   ","version":"0.15","tagName":"h2"},{"title":"Âà†Èô§Â≠óÊÆµÔºàÂêëÂâçÂÖºÂÆπÔºâ‚Äã","type":1,"pageTitle":"Schema ÊºîÂåñ","url":"/zh-CN/docs/guide/cpp/schema_evolution#Âà†Èô§Â≠óÊÆµÂêëÂâçÂÖºÂÆπ","content":" ÂΩì‰ΩøÁî®ÂÖ∑ÊúâËæÉÂ∞ëÂ≠óÊÆµÁöÑÊóß schema ÂèçÂ∫èÂàóÂåñÊñ∞Êï∞ÊçÆÊó∂Ôºö  // ÂÆåÊï¥ schema struct UserFull { int64_t id; std::string username; std::string email; std::string password_hash; int32_t login_count; }; FORY_STRUCT(UserFull, id, username, email, password_hash, login_count); // Á≤æÁÆÄ schemaÔºàÂà†Èô§‰∫Ü 3 ‰∏™Â≠óÊÆµÔºâ struct UserMinimal { int64_t id; std::string username; }; FORY_STRUCT(UserMinimal, id, username); // Â∫èÂàóÂåñÂÆåÊï¥ÁâàÊú¨ UserFull full{12345, &quot;johndoe&quot;, &quot;john@example.com&quot;, &quot;hash123&quot;, 42}; auto bytes = fory_full.serialize(full).value(); // ÂèçÂ∫èÂàóÂåñ‰∏∫Á≤æÁÆÄÁâàÊú¨ - È¢ùÂ§ñÂ≠óÊÆµË¢´Ë∑≥Ëøá auto minimal = fory_minimal.deserialize&lt;UserMinimal&gt;(bytes).value(); assert(minimal.id == 12345); assert(minimal.username == &quot;johndoe&quot;); // email„ÄÅpassword_hash„ÄÅlogin_count Ë¢´Ë∑≥Ëøá   ","version":"0.15","tagName":"h2"},{"title":"Â≠óÊÆµÈáçÊéí‚Äã","type":1,"pageTitle":"Schema ÊºîÂåñ","url":"/zh-CN/docs/guide/cpp/schema_evolution#Â≠óÊÆµÈáçÊéí","content":" Âú® compatible Ê®°Âºè‰∏ãÔºåÂ≠óÊÆµÊåâÂêçÁß∞ÂåπÈÖçÔºåËÄåÈùû‰ΩçÁΩÆÔºö  // ÂéüÂßãÂ≠óÊÆµÈ°∫Â∫è struct ConfigOriginal { std::string host; int32_t port; bool enable_ssl; std::string protocol; }; FORY_STRUCT(ConfigOriginal, host, port, enable_ssl, protocol); // ÈáçÊéíÂêéÁöÑÂ≠óÊÆµ struct ConfigReordered { bool enable_ssl; // ÁßªÂà∞Á¨¨‰∏Ä‰Ωç std::string protocol; // ÁßªÂà∞Á¨¨‰∫å‰Ωç std::string host; // ÁßªÂà∞Á¨¨‰∏â‰Ωç int32_t port; // ÁßªÂà∞ÊúÄÂêé }; FORY_STRUCT(ConfigReordered, enable_ssl, protocol, host, port); // ‰ΩøÁî®ÂéüÂßãÈ°∫Â∫èÂ∫èÂàóÂåñ ConfigOriginal orig{&quot;localhost&quot;, 8080, true, &quot;https&quot;}; auto bytes = fory_orig.serialize(orig).value(); // ‰ΩøÁî®‰∏çÂêåÂ≠óÊÆµÈ°∫Â∫èÂèçÂ∫èÂàóÂåñ - Ê≠£Â∏∏Â∑•‰Ωú auto reordered = fory_reord.deserialize&lt;ConfigReordered&gt;(bytes).value(); assert(reordered.host == &quot;localhost&quot;); assert(reordered.port == 8080); assert(reordered.enable_ssl == true); assert(reordered.protocol == &quot;https&quot;);   ","version":"0.15","tagName":"h2"},{"title":"ÂµåÂ•óÁªìÊûÑ‰ΩìÊºîÂåñ‚Äã","type":1,"pageTitle":"Schema ÊºîÂåñ","url":"/zh-CN/docs/guide/cpp/schema_evolution#ÂµåÂ•óÁªìÊûÑ‰ΩìÊºîÂåñ","content":" Schema ÊºîÂåñÈÄíÂΩíÊîØÊåÅÂµåÂ•óÁªìÊûÑ‰ΩìÔºö  // V1 Address struct AddressV1 { std::string street; std::string city; }; FORY_STRUCT(AddressV1, street, city); // V2 Address Â∏¶ÊúâÊñ∞Â≠óÊÆµ struct AddressV2 { std::string street; std::string city; std::string country; // Êñ∞Â≠óÊÆµ std::string zipcode; // Êñ∞Â≠óÊÆµ }; FORY_STRUCT(AddressV2, street, city, country, zipcode); // V1 Employee ‰ΩøÁî® V1 Address struct EmployeeV1 { std::string name; AddressV1 home_address; }; FORY_STRUCT(EmployeeV1, name, home_address); // V2 Employee ‰ΩøÁî® V2 Address ÂíåÊñ∞Â≠óÊÆµ struct EmployeeV2 { std::string name; AddressV2 home_address; // ÂµåÂ•óÁªìÊûÑ‰ΩìÂ∑≤ÊºîÂåñ std::string employee_id; // Êñ∞Â≠óÊÆµ }; FORY_STRUCT(EmployeeV2, name, home_address, employee_id); // ‰ΩøÁî®Áõ∏Âêå ID Ê≥®ÂÜåÁ±ªÂûã constexpr uint32_t ADDRESS_TYPE_ID = 100; constexpr uint32_t EMPLOYEE_TYPE_ID = 101; fory_v1.register_struct&lt;AddressV1&gt;(ADDRESS_TYPE_ID); fory_v1.register_struct&lt;EmployeeV1&gt;(EMPLOYEE_TYPE_ID); fory_v2.register_struct&lt;AddressV2&gt;(ADDRESS_TYPE_ID); fory_v2.register_struct&lt;EmployeeV2&gt;(EMPLOYEE_TYPE_ID); // Â∫èÂàóÂåñ V1 EmployeeV1 emp_v1{&quot;Jane Doe&quot;, {&quot;123 Main St&quot;, &quot;NYC&quot;}}; auto bytes = fory_v1.serialize(emp_v1).value(); // ÂèçÂ∫èÂàóÂåñ‰∏∫ V2 auto emp_v2 = fory_v2.deserialize&lt;EmployeeV2&gt;(bytes).value(); assert(emp_v2.name == &quot;Jane Doe&quot;); assert(emp_v2.home_address.street == &quot;123 Main St&quot;); assert(emp_v2.home_address.city == &quot;NYC&quot;); assert(emp_v2.home_address.country == &quot;&quot;); // ÈªòËÆ§ÂÄº assert(emp_v2.home_address.zipcode == &quot;&quot;); // ÈªòËÆ§ÂÄº assert(emp_v2.employee_id == &quot;&quot;); // ÈªòËÆ§ÂÄº   ","version":"0.15","tagName":"h2"},{"title":"ÂèåÂêëÊºîÂåñ‚Äã","type":1,"pageTitle":"Schema ÊºîÂåñ","url":"/zh-CN/docs/guide/cpp/schema_evolution#ÂèåÂêëÊºîÂåñ","content":" Schema ÊºîÂåñÂèåÂêëÂ∑•‰ΩúÔºö  // V2 -&gt; V1ÔºàÈôçÁ∫ßÔºâ PersonV2 v2{&quot;Charlie&quot;, 35, &quot;charlie@example.com&quot;}; auto bytes = fory_v2.serialize(v2).value(); auto v1 = fory_v1.deserialize&lt;PersonV1&gt;(bytes).value(); assert(v1.name == &quot;Charlie&quot;); assert(v1.age == 35); // email Â≠óÊÆµÂú®ÂèçÂ∫èÂàóÂåñÊó∂Ë¢´‰∏¢ÂºÉ   ","version":"0.15","tagName":"h2"},{"title":"ÈªòËÆ§ÂÄº‚Äã","type":1,"pageTitle":"Schema ÊºîÂåñ","url":"/zh-CN/docs/guide/cpp/schema_evolution#ÈªòËÆ§ÂÄº","content":" ÂΩìÂ≠óÊÆµÁº∫Â§±Êó∂Ôºå‰ΩøÁî® C++ ÈªòËÆ§ÂàùÂßãÂåñÔºö  Á±ªÂûã\tÈªòËÆ§ÂÄºint8_t„ÄÅint16_t...\t0 float„ÄÅdouble\t0.0 bool\tfalse std::string\t&quot;&quot; std::vector&lt;T&gt;\tÁ©∫ vector std::map&lt;K,V&gt;\tÁ©∫ map std::set&lt;T&gt;\tÁ©∫ set std::optional&lt;T&gt;\tstd::nullopt ÁªìÊûÑ‰ΩìÁ±ªÂûã\tÈªòËÆ§ÊûÑÈÄ†  ","version":"0.15","tagName":"h2"},{"title":"SchemaConsistent Ê®°ÂºèÔºàÈªòËÆ§Ôºâ‚Äã","type":1,"pageTitle":"Schema ÊºîÂåñ","url":"/zh-CN/docs/guide/cpp/schema_evolution#schemaconsistent-Ê®°ÂºèÈªòËÆ§","content":" ‰∏ç‰ΩøÁî® compatible Ê®°ÂºèÊó∂Ôºåschema ÂøÖÈ°ªÂÆåÂÖ®ÂåπÈÖçÔºö  // ‰∏•Ê†ºÊ®°ÂºèÔºàÈªòËÆ§Ôºâ auto fory = Fory::builder() .compatible(false) // ÈªòËÆ§Ôºöschema ÂøÖÈ°ªÂåπÈÖç .xlang(true) .build(); // Â∫èÂàóÂåñ/ÂèçÂ∫èÂàóÂåñË¶ÅÊ±ÇÁõ∏ÂêåÁöÑ schema // Schema ‰∏çÂåπÈÖçÂèØËÉΩÂØºËá¥ÈîôËØØÊàñÊú™ÂÆö‰πâË°å‰∏∫   ‰ΩïÊó∂‰ΩøÁî® SchemaConsistent Ê®°ÂºèÔºö  Schema ‰øùËØÅÂåπÈÖçÔºàÁõ∏ÂêåÁöÑ‰∫åËøõÂà∂ÁâàÊú¨ÔºâÈúÄË¶ÅÊúÄÈ´òÊÄßËÉΩÔºàÊõ¥Â∞ëÁöÑÂÖÉÊï∞ÊçÆÂºÄÈîÄÔºâÊÇ®ÂêåÊó∂ÊéßÂà∂Â∫èÂàóÂåñÂíåÂèçÂ∫èÂàóÂåñ  ‰ΩïÊó∂‰ΩøÁî® Compatible Ê®°ÂºèÔºö  Schema ÂèØËÉΩÁã¨Á´ãÊºîÂåñÈúÄË¶ÅË∑®ÁâàÊú¨ÂÖºÂÆπÊÄß‰∏çÂêåÊúçÂä°ÂèØËÉΩÊúâ‰∏çÂêåÁöÑ schema ÁâàÊú¨  ","version":"0.15","tagName":"h2"},{"title":"Á±ªÂûã ID Ë¶ÅÊ±Ç‚Äã","type":1,"pageTitle":"Schema ÊºîÂåñ","url":"/zh-CN/docs/guide/cpp/schema_evolution#Á±ªÂûã-id-Ë¶ÅÊ±Ç","content":" Ë¶Å‰Ωø schema ÊºîÂåñÊ≠£Â∏∏Â∑•‰ΩúÔºö  Áõ∏ÂêåÁ±ªÂûã IDÔºöÂêå‰∏ÄÁªìÊûÑ‰ΩìÁöÑ‰∏çÂêåÁâàÊú¨ÂøÖÈ°ª‰ΩøÁî®Áõ∏ÂêåÁöÑÁ±ªÂûã ID‰∏ÄËá¥ÁöÑ IDÔºöÁ±ªÂûã ID ÂøÖÈ°ªÂú®ÊâÄÊúâ Fory ÂÆû‰æã‰∏≠‰øùÊåÅ‰∏ÄËá¥Ê≥®ÂÜåÊâÄÊúâÁâàÊú¨ÔºöÊØè‰∏™ Fory ÂÆû‰æãÊ≥®ÂÜåËá™Â∑±ÁöÑÁªìÊûÑ‰ΩìÁâàÊú¨  constexpr uint32_t PERSON_TYPE_ID = 100; // ÂÆû‰æã 1 ‰ΩøÁî® PersonV1 fory_v1.register_struct&lt;PersonV1&gt;(PERSON_TYPE_ID); // ÂÆû‰æã 2 ‰ΩøÁî® PersonV2 fory_v2.register_struct&lt;PersonV2&gt;(PERSON_TYPE_ID); // Áõ∏ÂêåÁöÑÁ±ªÂûã ID ÂêØÁî® schema ÊºîÂåñ   ","version":"0.15","tagName":"h2"},{"title":"ÊúÄ‰Ω≥ÂÆûË∑µ‚Äã","type":1,"pageTitle":"Schema ÊºîÂåñ","url":"/zh-CN/docs/guide/cpp/schema_evolution#ÊúÄ‰Ω≥ÂÆûË∑µ","content":" ","version":"0.15","tagName":"h2"},{"title":"1. ‰∏∫ÊºîÂåñÂÅöËßÑÂàí‚Äã","type":1,"pageTitle":"Schema ÊºîÂåñ","url":"/zh-CN/docs/guide/cpp/schema_evolution#1-‰∏∫ÊºîÂåñÂÅöËßÑÂàí","content":" ËÆæËÆ° schema Êó∂ËÄÉËôëÊú™Êù•ÁöÑÂèòÊõ¥Ôºö  // Â•ΩÁöÑÂÅöÊ≥ïÔºöÂØπÂèØËÉΩÂà†Èô§ÁöÑÂ≠óÊÆµ‰ΩøÁî® optional struct Config { std::string host; int32_t port; std::optional&lt;std::string&gt; deprecated_field; // ‰ª•ÂêéÂèØ‰ª•Âà†Èô§ };   ","version":"0.15","tagName":"h3"},{"title":"2. ‰ΩøÁî®ÊúâÊÑè‰πâÁöÑÈªòËÆ§ÂÄº‚Äã","type":1,"pageTitle":"Schema ÊºîÂåñ","url":"/zh-CN/docs/guide/cpp/schema_evolution#2-‰ΩøÁî®ÊúâÊÑè‰πâÁöÑÈªòËÆ§ÂÄº","content":" ËÄÉËôëÊñ∞Â≠óÊÆµ‰ΩøÁî®‰ªÄ‰πàÈªòËÆ§ÂÄºÊâçÊúâÊÑè‰πâÔºö  struct Settings { int32_t timeout_ms; // ÈªòËÆ§Ôºö0ÔºàÂèØËÉΩÈúÄË¶Å‰∏Ä‰∏™ÂêàÁêÜÁöÑÈªòËÆ§ÂÄºÔºâ bool enabled; // ÈªòËÆ§Ôºöfalse std::string mode; // ÈªòËÆ§Ôºö&quot;&quot;ÔºàÂèØËÉΩÈúÄË¶Å &quot;default&quot;Ôºâ };   ","version":"0.15","tagName":"h3"},{"title":"3. ËÆ∞ÂΩï Schema ÁâàÊú¨‚Äã","type":1,"pageTitle":"Schema ÊºîÂåñ","url":"/zh-CN/docs/guide/cpp/schema_evolution#3-ËÆ∞ÂΩï-schema-ÁâàÊú¨","content":" Ë∑üË∏™ schema ÂèòÊõ¥‰ª•‰æøË∞ÉËØïÔºö  // V1ÔºöÂàùÂßã schemaÔºà2024-01-01Ôºâ // V2ÔºöÊ∑ªÂä† email Â≠óÊÆµÔºà2024-02-01Ôºâ // V3ÔºöÊ∑ªÂä† phone„ÄÅaddress Â≠óÊÆµÔºà2024-03-01Ôºâ   ","version":"0.15","tagName":"h3"},{"title":"4. ÊµãËØïÊºîÂåñË∑ØÂæÑ‚Äã","type":1,"pageTitle":"Schema ÊºîÂåñ","url":"/zh-CN/docs/guide/cpp/schema_evolution#4-ÊµãËØïÊºîÂåñË∑ØÂæÑ","content":" ÊµãËØïÂçáÁ∫ßÂíåÈôçÁ∫ßÂú∫ÊôØÔºö  // ÊµãËØï V1 -&gt; V2 // ÊµãËØï V2 -&gt; V1 // ÊµãËØï V1 -&gt; V3 // ÊµãËØï V3 -&gt; V1   ","version":"0.15","tagName":"h3"},{"title":"Ë∑®ËØ≠Ë®Ä Schema ÊºîÂåñ‚Äã","type":1,"pageTitle":"Schema ÊºîÂåñ","url":"/zh-CN/docs/guide/cpp/schema_evolution#Ë∑®ËØ≠Ë®Ä-schema-ÊºîÂåñ","content":" ‰ΩøÁî® xlang Ê®°ÂºèÊó∂Ôºåschema ÊºîÂåñË∑®ËØ≠Ë®ÄÂ∑•‰ΩúÔºö  // ‰ΩøÁî® compatible Ê®°ÂºèÁöÑ C++ auto fory = Fory::builder() .compatible(true) .xlang(true) .build();   // ‰ΩøÁî® compatible Ê®°ÂºèÁöÑ Java Fory fory = Fory.builder() .withCompatibleMode(CompatibleMode.COMPATIBLE) .withLanguage(Language.XLANG) .build();   Âç≥‰Ωø schema ÁâàÊú¨‰∏çÂêåÔºå‰∏§‰∏™ÂÆû‰æã‰πüÂèØ‰ª•‰∫§Êç¢Êï∞ÊçÆ„ÄÇ  ","version":"0.15","tagName":"h2"},{"title":"Áõ∏ÂÖ≥‰∏ªÈ¢ò‚Äã","type":1,"pageTitle":"Schema ÊºîÂåñ","url":"/zh-CN/docs/guide/cpp/schema_evolution#Áõ∏ÂÖ≥‰∏ªÈ¢ò","content":" ÈÖçÁΩÆ - ÂêØÁî® compatible Ê®°ÂºèÁ±ªÂûãÊ≥®ÂÜå - Á±ªÂûã ID ÁÆ°ÁêÜË∑®ËØ≠Ë®Ä - Ë∑®ËØ≠Ë®ÄÊ≥®ÊÑè‰∫ãÈ°π ","version":"0.15","tagName":"h2"},{"title":"Go Â∫èÂàóÂåñÊåáÂçó","type":0,"sectionRef":"#","url":"/zh-CN/docs/guide/go/","content":"","keywords":"","version":"0.15"},{"title":"‰∏∫‰ªÄ‰πàÈÄâÊã© Fory GoÔºü‚Äã","type":1,"pageTitle":"Go Â∫èÂàóÂåñÊåáÂçó","url":"/zh-CN/docs/guide/go/#‰∏∫‰ªÄ‰πàÈÄâÊã©-fory-go","content":" È´òÊÄßËÉΩÔºöÂ∫èÂàóÂåñÈÄüÂ∫¶Âø´Ôºå‰∫åËøõÂà∂ÂçèËÆÆÁªèËøá‰ºòÂåñË∑®ËØ≠Ë®ÄÔºöÂèØ‰∏é Java„ÄÅPython„ÄÅC++„ÄÅRust„ÄÅJavaScript Êó†Áºù‰∫§Êç¢Êï∞ÊçÆËá™Âä®Â∫èÂàóÂåñÔºöÊó†ÈúÄ IDL ÂÆö‰πâÊàñ schema ÁºñËØëÂºïÁî®Ë∑üË∏™ÔºöÂÜÖÁΩÆÂæ™ÁéØÂºïÁî®ÂíåÂÖ±‰∫´ÂØπË±°ÊîØÊåÅÁ±ªÂûãÂÆâÂÖ®ÔºöÂº∫Á±ªÂûãËÉΩÂäõÔºåÂπ∂ÂèØÈÄâÁî®‰ª£Á†ÅÁîüÊàêÂÆûÁé∞ÁºñËØëÊúüÊ†°È™åSchema ÊºîËøõÔºöÂÖºÂÆπÊ®°ÂºèÊîØÊåÅÂâçÂêë/ÂêéÂêëÂÖºÂÆπÁ∫øÁ®ãÂÆâÂÖ®ÈÄâÈ°πÔºöÊèê‰æõÂü∫‰∫éÊ±†ÂåñÁöÑÁ∫øÁ®ãÂÆâÂÖ®Â∞ÅË£ÖÔºåÈÄÇÁî®‰∫éÂπ∂ÂèëÂú∫ÊôØ  ","version":"0.15","tagName":"h2"},{"title":"Âø´ÈÄüÂºÄÂßã‚Äã","type":1,"pageTitle":"Go Â∫èÂàóÂåñÊåáÂçó","url":"/zh-CN/docs/guide/go/#Âø´ÈÄüÂºÄÂßã","content":" ","version":"0.15","tagName":"h2"},{"title":"ÂÆâË£Ö‚Äã","type":1,"pageTitle":"Go Â∫èÂàóÂåñÊåáÂçó","url":"/zh-CN/docs/guide/go/#ÂÆâË£Ö","content":" Ë¶ÅÊ±ÇÔºöGo 1.24 ÊàñÊõ¥È´òÁâàÊú¨  go get github.com/apache/fory/go/fory   ","version":"0.15","tagName":"h3"},{"title":"Âü∫Êú¨Áî®Ê≥ï‚Äã","type":1,"pageTitle":"Go Â∫èÂàóÂåñÊåáÂçó","url":"/zh-CN/docs/guide/go/#Âü∫Êú¨Áî®Ê≥ï","content":" package main import ( &quot;fmt&quot; &quot;github.com/apache/fory/go/fory&quot; ) type User struct { ID int64 Name string Age int32 } func main() { // Create a Fory instance f := fory.New() // Register struct with a type ID if err := f.RegisterStruct(User{}, 1); err != nil { panic(err) } // Serialize user := &amp;User{ID: 1, Name: &quot;Alice&quot;, Age: 30} data, err := f.Serialize(user) if err != nil { panic(err) } // Deserialize var result User if err := f.Deserialize(data, &amp;result); err != nil { panic(err) } fmt.Printf(&quot;Deserialized: %+v\\n&quot;, result) // Output: Deserialized: {ID:1 Name:Alice Age:30} }   ","version":"0.15","tagName":"h3"},{"title":"Êû∂ÊûÑ‚Äã","type":1,"pageTitle":"Go Â∫èÂàóÂåñÊåáÂçó","url":"/zh-CN/docs/guide/go/#Êû∂ÊûÑ","content":" Fory Go Êèê‰æõ‰∏§Êù°Â∫èÂàóÂåñË∑ØÂæÑÔºö  ","version":"0.15","tagName":"h2"},{"title":"Âü∫‰∫éÂèçÂ∞ÑÔºàÈªòËÆ§Ôºâ‚Äã","type":1,"pageTitle":"Go Â∫èÂàóÂåñÊåáÂçó","url":"/zh-CN/docs/guide/go/#Âü∫‰∫éÂèçÂ∞ÑÈªòËÆ§","content":" ÈªòËÆ§Ë∑ØÂæÑ‰ΩøÁî® Go ÂèçÂ∞ÑÂú®ËøêË°åÊó∂Ê£ÄÊü•Á±ªÂûã„ÄÇÂÆÉÂºÄÁÆ±Âç≥Áî®ÔºåÂèØÂ§ÑÁêÜ‰ªªÊÑèÁªìÊûÑ‰Ωì„ÄÇËôΩÁÑ∂ËØ•Ê®°Âºè‰æùËµñÂèçÂ∞ÑÔºå‰ΩÜÈÄöËøáÁ±ªÂûãÁºìÂ≠òÂíåÁÉ≠ÁÇπË∑ØÂæÑÂÜÖËÅî‰ºòÂåñÔºåÂú®ÁªùÂ§ßÂ§öÊï∞Âú∫ÊôØ‰∏ãÈÉΩËÉΩÊèê‰æõ‰ºòÁßÄÊÄßËÉΩÔºö  f := fory.New() data, _ := f.Serialize(myStruct)   ","version":"0.15","tagName":"h3"},{"title":"‰ª£Á†ÅÁîüÊàêÔºàÂÆûÈ™åÁâπÊÄßÔºâ‚Äã","type":1,"pageTitle":"Go Â∫èÂàóÂåñÊåáÂçó","url":"/zh-CN/docs/guide/go/#‰ª£Á†ÅÁîüÊàêÂÆûÈ™åÁâπÊÄß","content":" ÂØπÊÄßËÉΩÊûÅÂÖ∂ÊïèÊÑüÁöÑË∑ØÂæÑÔºåÂèØ‰ª•‰ΩøÁî®ÂèØÈÄâÁöÑÈ¢ÑÁºñËØë‰ª£Á†ÅÁîüÊàêÔºåÊ∂àÈô§ÂèçÂ∞ÑÂºÄÈîÄ„ÄÇËØ¶ËßÅ ‰ª£Á†ÅÁîüÊàê„ÄÇ  ","version":"0.15","tagName":"h3"},{"title":"ÈÖçÁΩÆ‚Äã","type":1,"pageTitle":"Go Â∫èÂàóÂåñÊåáÂçó","url":"/zh-CN/docs/guide/go/#ÈÖçÁΩÆ","content":" Fory Go ‰ΩøÁî®ÂáΩÊï∞ÂºèÈÄâÈ°πÊ®°ÂºèËøõË°åÈÖçÁΩÆÔºö  f := fory.New( fory.WithTrackRef(true), // Enable reference tracking fory.WithCompatible(true), // Enable schema evolution fory.WithMaxDepth(20), // Set max nesting depth )   ÂÖ®ÈÉ®ÂèØÈÄâÈ°πËØ∑ÂèÇËÄÉ ÈÖçÁΩÆ„ÄÇ  ","version":"0.15","tagName":"h2"},{"title":"ÊîØÊåÅÁ±ªÂûã‚Äã","type":1,"pageTitle":"Go Â∫èÂàóÂåñÊåáÂçó","url":"/zh-CN/docs/guide/go/#ÊîØÊåÅÁ±ªÂûã","content":" Fory Go ÊîØÊåÅÂπøÊ≥õÁöÑÊï∞ÊçÆÁ±ªÂûãÔºö  Âü∫Á°ÄÁ±ªÂûãÔºöbool„ÄÅint8-int64„ÄÅuint8-uint64„ÄÅfloat32„ÄÅfloat64„ÄÅstringÈõÜÂêàÁ±ªÂûãÔºöslice„ÄÅmap„ÄÅsetÊó∂Èó¥Á±ªÂûãÔºötime.Time„ÄÅtime.DurationÊåáÈíàÁ±ªÂûãÔºöËá™Âä®Â§ÑÁêÜ nil ÁöÑÂêÑÁ±ªÊåáÈíàÁªìÊûÑ‰ΩìÔºö‰ªªÊÑèÂåÖÂê´ÂØºÂá∫Â≠óÊÆµÁöÑÁªìÊûÑ‰Ωì  ÂÆåÊï¥Êò†Â∞ÑËØ∑ËßÅ ÊîØÊåÅÁ±ªÂûã„ÄÇ  ","version":"0.15","tagName":"h2"},{"title":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ‚Äã","type":1,"pageTitle":"Go Â∫èÂàóÂåñÊåáÂçó","url":"/zh-CN/docs/guide/go/#Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ","content":" Fory Go ‰∏éÂÖ∂‰ªñ Fory ÂÆûÁé∞ÂÆåÂÖ®ÂÖºÂÆπ„ÄÇÂú® Go ‰∏≠Â∫èÂàóÂåñÁöÑÊï∞ÊçÆÂèØÂú® Java„ÄÅPython„ÄÅC++„ÄÅRust Êàñ JavaScript ‰∏≠ÂèçÂ∫èÂàóÂåñÔºö  // Go serialization f := fory.New() f.RegisterStruct(User{}, 1) data, _ := f.Serialize(&amp;User{ID: 1, Name: &quot;Alice&quot;}) // 'data' can be deserialized by Java, Python, etc.   Á±ªÂûãÊò†Â∞Ñ‰∏éÂÖºÂÆπÊÄßÁªÜËäÇËØ∑ÂèÇËÄÉ Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ„ÄÇ  ","version":"0.15","tagName":"h2"},{"title":"ÊñáÊ°£ÂØºËà™‚Äã","type":1,"pageTitle":"Go Â∫èÂàóÂåñÊåáÂçó","url":"/zh-CN/docs/guide/go/#ÊñáÊ°£ÂØºËà™","content":" ‰∏ªÈ¢ò\tËØ¥ÊòéÈÖçÁΩÆ\tÈÖçÁΩÆÈ°π‰∏éËøêË°åÂèÇÊï∞ Âü∫Êú¨Â∫èÂàóÂåñ\tÊ†∏ÂøÉ API ‰∏é‰ΩøÁî®Ê®°Âºè Á±ªÂûãÊ≥®ÂÜå\tÂ∫èÂàóÂåñÂâçÁöÑÁ±ªÂûãÊ≥®ÂÜå ÊîØÊåÅÁ±ªÂûã\tÂÆåÊï¥Á±ªÂûãÊîØÊåÅËØ¥Êòé ÂºïÁî®\tÂæ™ÁéØÂºïÁî®‰∏éÂÖ±‰∫´ÂØπË±° Struct Ê†áÁ≠æ\tÂ≠óÊÆµÁ∫ßÈÖçÁΩÆ Schema ÊºîËøõ\tÂâçÂêë/ÂêéÂêëÂÖºÂÆπÁ≠ñÁï• Ë∑®ËØ≠Ë®Ä\tÂ§öËØ≠Ë®ÄÂ∫èÂàóÂåñ ‰ª£Á†ÅÁîüÊàê\tÂÆûÈ™åÊÄßÁöÑ AOT ‰ª£Á†ÅÁîüÊàê Á∫øÁ®ãÂÆâÂÖ®\tÂπ∂Âèë‰ΩøÁî®Ê®°Âºè ÊïÖÈöúÊéíÊü•\tÂ∏∏ËßÅÈóÆÈ¢ò‰∏éËß£ÂÜ≥ÊñπÊ°à  ","version":"0.15","tagName":"h2"},{"title":"Áõ∏ÂÖ≥ËµÑÊ∫ê‚Äã","type":1,"pageTitle":"Go Â∫èÂàóÂåñÊåáÂçó","url":"/zh-CN/docs/guide/go/#Áõ∏ÂÖ≥ËµÑÊ∫ê","content":" Xlang Â∫èÂàóÂåñËßÑËåÉË∑®ËØ≠Ë®ÄÁ±ªÂûãÊò†Â∞ÑGitHub ‰ªìÂ∫ì ","version":"0.15","tagName":"h2"},{"title":"Á±ªÂûãÊ≥®ÂÜå","type":0,"sectionRef":"#","url":"/zh-CN/docs/guide/cpp/type_registration","content":"","keywords":"","version":"0.15"},{"title":"Ê¶ÇËø∞‚Äã","type":1,"pageTitle":"Á±ªÂûãÊ≥®ÂÜå","url":"/zh-CN/docs/guide/cpp/type_registration#Ê¶ÇËø∞","content":" Apache Fory‚Ñ¢ Ë¶ÅÊ±ÇÊòæÂºèÊ≥®ÂÜåÁªìÊûÑ‰ΩìÁ±ªÂûã„ÄÇËøôÁßçËÆæËÆ°‰ΩøÂæóÔºö  Ë∑®ËØ≠Ë®ÄÂÖºÂÆπÊÄßÔºöÊ≥®ÂÜåÁöÑÁ±ªÂûã ID Ë∑®ËØ≠Ë®ÄËæπÁïå‰ΩøÁî®Á±ªÂûãÂÆâÂÖ®ÔºöÂú®ÂèçÂ∫èÂàóÂåñÊó∂Ê£ÄÊµãÁ±ªÂûã‰∏çÂåπÈÖçÂ§öÊÄÅÂ∫èÂàóÂåñÔºöÈÄöËøáÊô∫ËÉΩÊåáÈíàÂêØÁî®Â§öÊÄÅÂØπË±°ÁöÑÂ∫èÂàóÂåñ  ","version":"0.15","tagName":"h2"},{"title":"Ê≥®ÂÜåÁªìÊûÑ‰Ωì‚Äã","type":1,"pageTitle":"Á±ªÂûãÊ≥®ÂÜå","url":"/zh-CN/docs/guide/cpp/type_registration#Ê≥®ÂÜåÁªìÊûÑ‰Ωì","content":" ‰ΩøÁî® register_struct&lt;T&gt;(type_id) Ê≥®ÂÜåÁªìÊûÑ‰ΩìÁ±ªÂûãÔºö  #include &quot;fory/serialization/fory.h&quot; using namespace fory::serialization; struct Person { std::string name; int32_t age; }; FORY_STRUCT(Person, name, age); int main() { auto fory = Fory::builder().xlang(true).build(); // ‰ΩøÁî®ÂîØ‰∏ÄÁöÑÁ±ªÂûã ID Ê≥®ÂÜå fory.register_struct&lt;Person&gt;(100); Person person{&quot;Alice&quot;, 30}; auto bytes = fory.serialize(person).value(); auto decoded = fory.deserialize&lt;Person&gt;(bytes).value(); }   ","version":"0.15","tagName":"h2"},{"title":"Á±ªÂûã ID ÊåáÂçó‚Äã","type":1,"pageTitle":"Á±ªÂûãÊ≥®ÂÜå","url":"/zh-CN/docs/guide/cpp/type_registration#Á±ªÂûã-id-ÊåáÂçó","content":" Á±ªÂûã ID ÂøÖÈ°ªÔºö  ÂîØ‰∏ÄÔºöÊØè‰∏™Á±ªÂûãÂú® Fory ÂÆû‰æã‰∏≠ÂøÖÈ°ªÊúâÂîØ‰∏ÄÁöÑ ID‰∏ÄËá¥ÔºöÂøÖÈ°ªÂú®ÊâÄÊúâËØ≠Ë®ÄÂíåÁâàÊú¨‰∏≠‰ΩøÁî®Áõ∏ÂêåÁöÑ ID  Áî®Êà∑Ê≥®ÂÜåÁöÑÁ±ªÂûã ID ‰∏éÂÜÖÁΩÆÁ±ªÂûã ID Âú®‰∏çÂêåÁöÑÂëΩÂêçÁ©∫Èó¥‰∏≠ÔºåÂõ†Ê≠§ÂèØ‰ª•‰ªé 0 ÂºÄÂßãÔºö  // Áî®Êà∑Á±ªÂûã ID ÂèØ‰ª•‰ªé 0 ÂºÄÂßã fory.register_struct&lt;Address&gt;(0); fory.register_struct&lt;Person&gt;(1); fory.register_struct&lt;Order&gt;(2);   ","version":"0.15","tagName":"h2"},{"title":"Ê≥®ÂÜåÊûö‰∏æ‚Äã","type":1,"pageTitle":"Á±ªÂûãÊ≥®ÂÜå","url":"/zh-CN/docs/guide/cpp/type_registration#Ê≥®ÂÜåÊûö‰∏æ","content":" ‰ΩøÁî® register_enum&lt;T&gt;(type_id) Ê≥®ÂÜåÊûö‰∏æÁ±ªÂûã„ÄÇÂØπ‰∫é‰ªé 0 ÂºÄÂßãËøûÁª≠ÂÄºÁöÑÁÆÄÂçïÊûö‰∏æÔºå‰∏çÈúÄË¶ÅÂÆèÔºö  // ÁÆÄÂçïËøûÁª≠Êûö‰∏æ - ‰∏çÈúÄË¶Å FORY_ENUM enum class Color { RED, GREEN, BLUE }; // ÂÄºÔºö0„ÄÅ1„ÄÅ2 // ‰ΩøÁî® register_enum Ê≥®ÂÜå fory.register_enum&lt;Color&gt;(0);   ÂØπ‰∫éÂÖ∑ÊúâÈùûËøûÁª≠ÂÄºÁöÑÊûö‰∏æÔºå‰ΩøÁî® FORY_ENUM ÂÆèÂ∞ÜÂÄºÊò†Â∞ÑÂà∞Â∫èÂè∑Ôºö  // ÈùûËøûÁª≠Êûö‰∏æÂÄº - ÈúÄË¶Å FORY_ENUM enum class Priority { LOW = 10, MEDIUM = 50, HIGH = 100 }; FORY_ENUM(Priority, LOW, MEDIUM, HIGH); // ÂÖ®Â±ÄÂëΩÂêçÁ©∫Èó¥Êûö‰∏æÔºàÂâçÁºÄ ::Ôºâ enum LegacyStatus { UNKNOWN = -1, OK = 0, ERROR = 1 }; FORY_ENUM(::LegacyStatus, UNKNOWN, OK, ERROR); // FORY_ENUM ÂêéÊ≥®ÂÜå fory.register_enum&lt;Priority&gt;(1); fory.register_enum&lt;LegacyStatus&gt;(2);   ‰ΩïÊó∂‰ΩøÁî® FORY_ENUMÔºö  Êûö‰∏æÂÄº‰∏ç‰ªé 0 ÂºÄÂßãÊûö‰∏æÂÄº‰∏çËøûÁª≠Ôºà‰æãÂ¶Ç 10„ÄÅ50„ÄÅ100ÔºâÈúÄË¶ÅÂú®ÁºñËØëÊó∂ËøõË°åÂêçÁß∞Âà∞ÂÄºÁöÑÊò†Â∞Ñ  ","version":"0.15","tagName":"h2"},{"title":"Á∫øÁ®ãÂÆâÂÖ®Ê≥®ÂÜå‚Äã","type":1,"pageTitle":"Á±ªÂûãÊ≥®ÂÜå","url":"/zh-CN/docs/guide/cpp/type_registration#Á∫øÁ®ãÂÆâÂÖ®Ê≥®ÂÜå","content":" ÂØπ‰∫é ThreadSafeForyÔºåÂú®ÁîüÊàêÁ∫øÁ®ã‰πãÂâçÊ≥®ÂÜåÁ±ªÂûãÔºö  auto fory = Fory::builder().xlang(true).build_thread_safe(); // È¶ñÂÖàÊ≥®ÂÜåÊâÄÊúâÁ±ªÂûã fory.register_struct&lt;TypeA&gt;(100); fory.register_struct&lt;TypeB&gt;(101); // Áé∞Âú®ÂèØ‰ª•‰ªéÂ§ö‰∏™Á∫øÁ®ãÂÆâÂÖ®‰ΩøÁî® std::thread t1([&amp;]() { auto result = fory.serialize(obj_a); }); std::thread t2([&amp;]() { auto result = fory.serialize(obj_b); });   ","version":"0.15","tagName":"h2"},{"title":"Ë∑®ËØ≠Ë®ÄÊ≥®ÂÜå‚Äã","type":1,"pageTitle":"Á±ªÂûãÊ≥®ÂÜå","url":"/zh-CN/docs/guide/cpp/type_registration#Ë∑®ËØ≠Ë®ÄÊ≥®ÂÜå","content":" ‰∏∫‰∫ÜË∑®ËØ≠Ë®ÄÂÖºÂÆπÊÄßÔºåÁ°Æ‰øùÔºö  Áõ∏ÂêåÁ±ªÂûã IDÔºöÂú®ÊâÄÊúâËØ≠Ë®Ä‰∏≠‰ΩøÁî®Áõ∏ÂêåÁöÑ IDÂÖºÂÆπÁ±ªÂûãÔºöË∑®ËØ≠Ë®Ä‰ΩøÁî®Á≠âÊïàÁ±ªÂûã  ","version":"0.15","tagName":"h2"},{"title":"Java‚Äã","type":1,"pageTitle":"Á±ªÂûãÊ≥®ÂÜå","url":"/zh-CN/docs/guide/cpp/type_registration#java","content":" Fory fory = Fory.builder().build(); fory.register(Person.class, 100); fory.register(Address.class, 101);   ","version":"0.15","tagName":"h3"},{"title":"Python‚Äã","type":1,"pageTitle":"Á±ªÂûãÊ≥®ÂÜå","url":"/zh-CN/docs/guide/cpp/type_registration#python","content":" import pyfory fory = pyfory.Fory() fory.register(Person, 100) fory.register(Address, 101)   ","version":"0.15","tagName":"h3"},{"title":"C++‚Äã","type":1,"pageTitle":"Á±ªÂûãÊ≥®ÂÜå","url":"/zh-CN/docs/guide/cpp/type_registration#c","content":" auto fory = Fory::builder().xlang(true).build(); fory.register_struct&lt;Person&gt;(100); fory.register_struct&lt;Address&gt;(101);   ","version":"0.15","tagName":"h3"},{"title":"ÂÜÖÁΩÆÁ±ªÂûã ID‚Äã","type":1,"pageTitle":"Á±ªÂûãÊ≥®ÂÜå","url":"/zh-CN/docs/guide/cpp/type_registration#ÂÜÖÁΩÆÁ±ªÂûã-id","content":" ÂÜÖÁΩÆÁ±ªÂûãÊúâÈ¢ÑÂàÜÈÖçÁöÑÁ±ªÂûã IDÔºå‰∏çÈúÄË¶ÅÊ≥®ÂÜåÔºö  Á±ªÂûã ID\tÁ±ªÂûã0\tNONE 1\tBOOL 2\tINT8 3\tINT16 4\tINT32 5\tVAR_INT32 6\tINT64 7\tVAR_INT64 8\tSLI_INT64 9\tFLOAT16 10\tFLOAT32 11\tFLOAT64 12\tSTRING 13\tLIST 14\tMAP 15\tSET 16\tTIMESTAMP 17\tDURATION 18\tLOCAL_DATE 19\tDECIMAL 20\tBINARY 21\tARRAY 22\tBOOL_ARRAY 23-28\tINT_ARRAY Âèò‰Ωì 29-31\tFLOAT_ARRAY Âèò‰Ωì 32\tSTRUCT 33\tCOMPATIBLE_STRUCT 34\tNAMED_STRUCT 35\tNAMEDCOMPATIBLE... 36\tEXT 37\tNAMED_EXT 63\tUNKNOWN  ","version":"0.15","tagName":"h2"},{"title":"ÈîôËØØÂ§ÑÁêÜ‚Äã","type":1,"pageTitle":"Á±ªÂûãÊ≥®ÂÜå","url":"/zh-CN/docs/guide/cpp/type_registration#ÈîôËØØÂ§ÑÁêÜ","content":" Ê≥®ÂÜåÈîôËØØÂú®Â∫èÂàóÂåñ/ÂèçÂ∫èÂàóÂåñÊó∂Ê£ÄÊü•Ôºö  // Â∞ùËØïÂ∫èÂàóÂåñÊú™Ê≥®ÂÜåÁöÑÁ±ªÂûã auto result = fory.serialize(unregistered_obj); if (!result.ok()) { // ÈîôËØØÔºö&quot;Type not registered: ...&quot; std::cerr &lt;&lt; result.error().to_string() &lt;&lt; std::endl; } // ÂèçÂ∫èÂàóÂåñÊó∂Á±ªÂûã ID ‰∏çÂåπÈÖç auto result = fory.deserialize&lt;WrongType&gt;(bytes); if (!result.ok()) { // ÈîôËØØÔºö&quot;Type mismatch: expected X, got Y&quot; std::cerr &lt;&lt; result.error().to_string() &lt;&lt; std::endl; }   ","version":"0.15","tagName":"h2"},{"title":"Áõ∏ÂÖ≥‰∏ªÈ¢ò‚Äã","type":1,"pageTitle":"Á±ªÂûãÊ≥®ÂÜå","url":"/zh-CN/docs/guide/cpp/type_registration#Áõ∏ÂÖ≥‰∏ªÈ¢ò","content":" Âü∫Á°ÄÂ∫èÂàóÂåñ - ‰ΩøÁî®Â∑≤Ê≥®ÂÜåÁöÑÁ±ªÂûãË∑®ËØ≠Ë®Ä - Ë∑®ËØ≠Ë®ÄÊ≥®ÊÑè‰∫ãÈ°πÊîØÊåÅÁöÑÁ±ªÂûã - ÊâÄÊúâÊîØÊåÅÁöÑÁ±ªÂûã ","version":"0.15","tagName":"h2"},{"title":"‰ª£Á†ÅÁîüÊàê","type":0,"sectionRef":"#","url":"/zh-CN/docs/guide/go/codegen","content":"","keywords":"","version":"0.15"},{"title":"‰∏∫‰ªÄ‰πà‰ΩøÁî®‰ª£Á†ÅÁîüÊàêÔºü‚Äã","type":1,"pageTitle":"‰ª£Á†ÅÁîüÊàê","url":"/zh-CN/docs/guide/go/codegen#‰∏∫‰ªÄ‰πà‰ΩøÁî®‰ª£Á†ÅÁîüÊàê","content":" Aspect\tReflection-Based\tCode GenerationSetup\tZero configuration\tRequires go generate Performance\tGood\tBetter (no reflection) Type Safety\tRuntime\tCompile-time Maintenance\tAutomatic\tRequires regeneration  Use code generation when:  Maximum performance is requiredCompile-time type safety is importantHot paths are performance-critical  Use reflection when:  Simple setup is preferredTypes change frequentlyDynamic typing is neededCode generation complexity is undesirable  ","version":"0.15","tagName":"h2"},{"title":"ÂÆâË£Ö‚Äã","type":1,"pageTitle":"‰ª£Á†ÅÁîüÊàê","url":"/zh-CN/docs/guide/go/codegen#ÂÆâË£Ö","content":" Install the fory generator binary:  go install github.com/apache/fory/go/fory/cmd/fory@latest GO111MODULE=on go get -u github.com/apache/fory/go/fory/cmd/fory   Ensure $GOBIN or $GOPATH/bin is in your PATH.  ","version":"0.15","tagName":"h2"},{"title":"Âü∫Êú¨Áî®Ê≥ï‚Äã","type":1,"pageTitle":"‰ª£Á†ÅÁîüÊàê","url":"/zh-CN/docs/guide/go/codegen#Âü∫Êú¨Áî®Ê≥ï","content":" ","version":"0.15","tagName":"h2"},{"title":"Step 1: Annotate Structs‚Äã","type":1,"pageTitle":"‰ª£Á†ÅÁîüÊàê","url":"/zh-CN/docs/guide/go/codegen#step-1-annotate-structs","content":" Add the //fory:generate comment above structs:  package models //fory:generate type User struct { ID int64 `json:&quot;id&quot;` Name string `json:&quot;name&quot;` } //fory:generate type Order struct { ID int64 Customer string Total float64 }   ","version":"0.15","tagName":"h3"},{"title":"Step 2: Add Go Generate Directive‚Äã","type":1,"pageTitle":"‰ª£Á†ÅÁîüÊàê","url":"/zh-CN/docs/guide/go/codegen#step-2-add-go-generate-directive","content":" Add a go:generate directive (once per file or package):  //go:generate fory -file models.go   Or for the entire package:  //go:generate fory -pkg .   ","version":"0.15","tagName":"h3"},{"title":"Step 3: Run Code Generation‚Äã","type":1,"pageTitle":"‰ª£Á†ÅÁîüÊàê","url":"/zh-CN/docs/guide/go/codegen#step-3-run-code-generation","content":" go generate ./...   This creates models_fory_gen.go with generated serializers.  ","version":"0.15","tagName":"h3"},{"title":"ÁîüÊàê‰ª£Á†ÅÁªìÊûÑ‚Äã","type":1,"pageTitle":"‰ª£Á†ÅÁîüÊàê","url":"/zh-CN/docs/guide/go/codegen#ÁîüÊàê‰ª£Á†ÅÁªìÊûÑ","content":" The generator creates:  ","version":"0.15","tagName":"h2"},{"title":"Type Snapshot‚Äã","type":1,"pageTitle":"‰ª£Á†ÅÁîüÊàê","url":"/zh-CN/docs/guide/go/codegen#type-snapshot","content":" A compile-time check to detect struct changes:  // Snapshot of User's underlying type at generation time type _User_expected struct { ID int64 Name string } // Compile-time check: fails if User no longer matches var _ = func(x User) { _ = _User_expected(x) }   ","version":"0.15","tagName":"h3"},{"title":"Serializer Implementation‚Äã","type":1,"pageTitle":"‰ª£Á†ÅÁîüÊàê","url":"/zh-CN/docs/guide/go/codegen#serializer-implementation","content":" Strongly-typed serialization methods:  type User_ForyGenSerializer struct{} func (User_ForyGenSerializer) WriteTyped(f *fory.Fory, buf *fory.ByteBuffer, v *User) error { buf.WriteInt64(v.ID) fory.WriteString(buf, v.Name) return nil } func (User_ForyGenSerializer) ReadTyped(f *fory.Fory, buf *fory.ByteBuffer, v *User) error { v.ID = buf.ReadInt64() v.Name = fory.ReadString(buf) return nil }   ","version":"0.15","tagName":"h3"},{"title":"Auto-Registration‚Äã","type":1,"pageTitle":"‰ª£Á†ÅÁîüÊàê","url":"/zh-CN/docs/guide/go/codegen#auto-registration","content":" Serializers are registered in init():  func init() { fory.RegisterGenSerializer(User{}, User_ForyGenSerializer{}) }   ","version":"0.15","tagName":"h3"},{"title":"Command-Line Options‚Äã","type":1,"pageTitle":"‰ª£Á†ÅÁîüÊàê","url":"/zh-CN/docs/guide/go/codegen#command-line-options","content":" ","version":"0.15","tagName":"h2"},{"title":"File-Based Generation‚Äã","type":1,"pageTitle":"‰ª£Á†ÅÁîüÊàê","url":"/zh-CN/docs/guide/go/codegen#file-based-generation","content":" Generate for a specific file:  fory -file models.go   ","version":"0.15","tagName":"h3"},{"title":"Package-Based Generation‚Äã","type":1,"pageTitle":"‰ª£Á†ÅÁîüÊàê","url":"/zh-CN/docs/guide/go/codegen#package-based-generation","content":" Generate for a package:  fory -pkg ./models   ","version":"0.15","tagName":"h3"},{"title":"Explicit Types (Legacy)‚Äã","type":1,"pageTitle":"‰ª£Á†ÅÁîüÊàê","url":"/zh-CN/docs/guide/go/codegen#explicit-types-legacy","content":" Specify types explicitly:  fory -pkg ./models -type &quot;User,Order&quot;   ","version":"0.15","tagName":"h3"},{"title":"Force Regeneration‚Äã","type":1,"pageTitle":"‰ª£Á†ÅÁîüÊàê","url":"/zh-CN/docs/guide/go/codegen#force-regeneration","content":" Force regeneration even if up-to-date:  fory --force -file models.go   ","version":"0.15","tagName":"h3"},{"title":"When to Regenerate‚Äã","type":1,"pageTitle":"‰ª£Á†ÅÁîüÊàê","url":"/zh-CN/docs/guide/go/codegen#when-to-regenerate","content":" Regenerate when any of these change:  Field additions, removals, or renamesField type changesStruct tag changesNew structs with //fory:generate  ","version":"0.15","tagName":"h2"},{"title":"Automatic Detection‚Äã","type":1,"pageTitle":"‰ª£Á†ÅÁîüÊàê","url":"/zh-CN/docs/guide/go/codegen#automatic-detection","content":" Fory includes a compile-time guard:  // If struct changed, this fails to compile var _ = func(x User) { _ = _User_expected(x) }   If you forget to regenerate, the build fails with a clear message.  ","version":"0.15","tagName":"h3"},{"title":"Auto-Retry‚Äã","type":1,"pageTitle":"‰ª£Á†ÅÁîüÊàê","url":"/zh-CN/docs/guide/go/codegen#auto-retry","content":" When invoked via go generate, the generator detects stale code and retries:  Detects compile error from guardRemoves stale generated fileRegenerates fresh code  ","version":"0.15","tagName":"h3"},{"title":"Supported Types‚Äã","type":1,"pageTitle":"‰ª£Á†ÅÁîüÊàê","url":"/zh-CN/docs/guide/go/codegen#supported-types","content":" Code generation supports:  All primitive types (bool, int*, uint*, float*, string)Slices of primitives and structsMaps with supported key/value typesNested structs (must also be generated)Pointers to structs  ","version":"0.15","tagName":"h2"},{"title":"Nested Structs‚Äã","type":1,"pageTitle":"‰ª£Á†ÅÁîüÊàê","url":"/zh-CN/docs/guide/go/codegen#nested-structs","content":" All nested structs must also have //fory:generate:  //fory:generate type Address struct { City string Country string } //fory:generate type Person struct { Name string Address Address // Address must also be generated }   ","version":"0.15","tagName":"h3"},{"title":"CI/CD Integration‚Äã","type":1,"pageTitle":"‰ª£Á†ÅÁîüÊàê","url":"/zh-CN/docs/guide/go/codegen#cicd-integration","content":" ","version":"0.15","tagName":"h2"},{"title":"Check In Generated Code‚Äã","type":1,"pageTitle":"‰ª£Á†ÅÁîüÊàê","url":"/zh-CN/docs/guide/go/codegen#check-in-generated-code","content":" Recommended for libraries:  go generate ./... git add *_fory_gen.go git commit -m &quot;Regenerate Fory serializers&quot;   Pros: Consumers can build without generator; reproducible buildsCons: Larger diffs; must remember to regenerate  ","version":"0.15","tagName":"h3"},{"title":"Generate in Pipeline‚Äã","type":1,"pageTitle":"‰ª£Á†ÅÁîüÊàê","url":"/zh-CN/docs/guide/go/codegen#generate-in-pipeline","content":" Recommended for applications:  steps: - run: go install github.com/apache/fory/go/fory/cmd/fory@latest - run: go generate ./... - run: go build ./...   ","version":"0.15","tagName":"h3"},{"title":"Usage with Generated Code‚Äã","type":1,"pageTitle":"‰ª£Á†ÅÁîüÊàê","url":"/zh-CN/docs/guide/go/codegen#usage-with-generated-code","content":" Generated code integrates transparently:  f := fory.New() // Fory automatically uses generated serializer if available user := &amp;User{ID: 1, Name: &quot;Alice&quot;} data, _ := f.Serialize(user) var result User f.Deserialize(data, &amp;result)   No code changes needed - registration happens in init().  ","version":"0.15","tagName":"h2"},{"title":"Mixing Generated and Non-Generated‚Äã","type":1,"pageTitle":"‰ª£Á†ÅÁîüÊàê","url":"/zh-CN/docs/guide/go/codegen#mixing-generated-and-non-generated","content":" You can mix approaches:  //fory:generate type HotPathStruct struct { // Performance-critical, use codegen } type ColdPathStruct struct { // Not annotated, uses reflection }   ","version":"0.15","tagName":"h2"},{"title":"Limitations‚Äã","type":1,"pageTitle":"‰ª£Á†ÅÁîüÊàê","url":"/zh-CN/docs/guide/go/codegen#limitations","content":" ","version":"0.15","tagName":"h2"},{"title":"Experimental Status‚Äã","type":1,"pageTitle":"‰ª£Á†ÅÁîüÊàê","url":"/zh-CN/docs/guide/go/codegen#experimental-status","content":" API may changeNot all edge cases testedMay have undiscovered bugs  ","version":"0.15","tagName":"h3"},{"title":"Not Supported‚Äã","type":1,"pageTitle":"‰ª£Á†ÅÁîüÊàê","url":"/zh-CN/docs/guide/go/codegen#not-supported","content":" Interface fields (dynamic types)Recursive types without pointersPrivate (unexported) fieldsCustom serializers  ","version":"0.15","tagName":"h3"},{"title":"Reflection Fallback‚Äã","type":1,"pageTitle":"‰ª£Á†ÅÁîüÊàê","url":"/zh-CN/docs/guide/go/codegen#reflection-fallback","content":" If codegen fails, Fory falls back to reflection:  // If User_ForyGenSerializer not found, uses reflection f.Serialize(&amp;User{})   ","version":"0.15","tagName":"h3"},{"title":"Troubleshooting‚Äã","type":1,"pageTitle":"‰ª£Á†ÅÁîüÊàê","url":"/zh-CN/docs/guide/go/codegen#troubleshooting","content":" ","version":"0.15","tagName":"h2"},{"title":"\"fory: command not found\"‚Äã","type":1,"pageTitle":"‰ª£Á†ÅÁîüÊàê","url":"/zh-CN/docs/guide/go/codegen#fory-command-not-found","content":" Ensure the binary is in PATH:  export PATH=$PATH:$(go env GOPATH)/bin   ","version":"0.15","tagName":"h3"},{"title":"Compile Error After Struct Change‚Äã","type":1,"pageTitle":"‰ª£Á†ÅÁîüÊàê","url":"/zh-CN/docs/guide/go/codegen#compile-error-after-struct-change","content":" Regenerate:  go generate ./...   Or force:  fory --force -file yourfile.go   ","version":"0.15","tagName":"h3"},{"title":"Generated Code Out of Sync‚Äã","type":1,"pageTitle":"‰ª£Á†ÅÁîüÊàê","url":"/zh-CN/docs/guide/go/codegen#generated-code-out-of-sync","content":" The compile-time guard catches this:  cannot use x (variable of type User) as type _User_expected in argument   Run go generate to fix.  ","version":"0.15","tagName":"h3"},{"title":"Example Project Structure‚Äã","type":1,"pageTitle":"‰ª£Á†ÅÁîüÊàê","url":"/zh-CN/docs/guide/go/codegen#example-project-structure","content":" myproject/ ‚îú‚îÄ‚îÄ models/ ‚îÇ ‚îú‚îÄ‚îÄ models.go # Struct definitions ‚îÇ ‚îú‚îÄ‚îÄ models_fory_gen.go # Generated code ‚îÇ ‚îî‚îÄ‚îÄ generate.go # go:generate directive ‚îú‚îÄ‚îÄ main.go ‚îî‚îÄ‚îÄ go.mod   models/generate.go:  package models //go:generate fory -pkg .   models/models.go:  package models //fory:generate type User struct { ID int64 Name string }   ","version":"0.15","tagName":"h2"},{"title":"FAQ‚Äã","type":1,"pageTitle":"‰ª£Á†ÅÁîüÊàê","url":"/zh-CN/docs/guide/go/codegen#faq","content":" ","version":"0.15","tagName":"h2"},{"title":"Is codegen required?‚Äã","type":1,"pageTitle":"‰ª£Á†ÅÁîüÊàê","url":"/zh-CN/docs/guide/go/codegen#is-codegen-required","content":" No. Reflection-based serialization works without code generation.  ","version":"0.15","tagName":"h3"},{"title":"Does generated code work across Go versions?‚Äã","type":1,"pageTitle":"‰ª£Á†ÅÁîüÊàê","url":"/zh-CN/docs/guide/go/codegen#does-generated-code-work-across-go-versions","content":" Yes. Generated code is plain Go with no version-specific features.  ","version":"0.15","tagName":"h3"},{"title":"Can I mix generated and non-generated types?‚Äã","type":1,"pageTitle":"‰ª£Á†ÅÁîüÊàê","url":"/zh-CN/docs/guide/go/codegen#can-i-mix-generated-and-non-generated-types","content":" Yes. Fory automatically uses generated serializers when available.  ","version":"0.15","tagName":"h3"},{"title":"How do I update generated code?‚Äã","type":1,"pageTitle":"‰ª£Á†ÅÁîüÊàê","url":"/zh-CN/docs/guide/go/codegen#how-do-i-update-generated-code","content":" Run go generate ./... after struct changes.  ","version":"0.15","tagName":"h3"},{"title":"Should I commit generated files?‚Äã","type":1,"pageTitle":"‰ª£Á†ÅÁîüÊàê","url":"/zh-CN/docs/guide/go/codegen#should-i-commit-generated-files","content":" For libraries: yes. For applications: either works.  ","version":"0.15","tagName":"h3"},{"title":"Áõ∏ÂÖ≥‰∏ªÈ¢ò‚Äã","type":1,"pageTitle":"‰ª£Á†ÅÁîüÊàê","url":"/zh-CN/docs/guide/go/codegen#Áõ∏ÂÖ≥‰∏ªÈ¢ò","content":" Basic SerializationConfigurationTroubleshooting ","version":"0.15","tagName":"h2"},{"title":"Âü∫Êú¨Â∫èÂàóÂåñ","type":0,"sectionRef":"#","url":"/zh-CN/docs/guide/go/basic_serialization","content":"","keywords":"","version":"0.15"},{"title":"ÂàõÂª∫ Fory ÂÆû‰æã‚Äã","type":1,"pageTitle":"Âü∫Êú¨Â∫èÂàóÂåñ","url":"/zh-CN/docs/guide/go/basic_serialization#ÂàõÂª∫-fory-ÂÆû‰æã","content":" Âú®Â∫èÂàóÂåñÂâçÂÖàÂàõÂª∫ Fory ÂÆû‰æãÂπ∂Ê≥®ÂÜåÁ±ªÂûãÔºö  import &quot;github.com/apache/fory/go/fory&quot; f := fory.New() // Register struct with a type ID f.RegisterStruct(User{}, 1) f.RegisterStruct(Order{}, 2) // Or register with a name (more flexible, less prone to ID conflicts, but higher serialization cost) f.RegisterNamedStruct(User{}, &quot;example.User&quot;) // Register enum types f.RegisterEnum(Color(0), 3)   ÈáçË¶ÅÔºöÂ∫îÂú®Â§öÊ¨°Â∫èÂàóÂåñË∞ÉÁî®Èó¥Â§çÁî®Âêå‰∏Ä‰∏™ Fory ÂÆû‰æã„ÄÇÂàõÂª∫Êñ∞ÂÆû‰æã‰ºöÂàÜÈÖçÂÜÖÈÉ®ÁºìÂÜ≤Âå∫„ÄÅÁ±ªÂûãÁºìÂ≠òÂíåËß£ÊûêÂô®ÔºåÂºÄÈîÄËæÉÈ´ò„ÄÇÈªòËÆ§ÂÆû‰æã‰∏çÊòØÁ∫øÁ®ãÂÆâÂÖ®ÁöÑÔºõÂπ∂ÂèëÂú∫ÊôØËØ∑‰ΩøÁî®Á∫øÁ®ãÂÆâÂÖ®Â∞ÅË£ÖÔºàËßÅ Á∫øÁ®ãÂÆâÂÖ®Ôºâ„ÄÇ  Êõ¥Â§öÂÜÖÂÆπËØ∑ÂèÇËÄÉ Á±ªÂûãÊ≥®ÂÜå„ÄÇ  ","version":"0.15","tagName":"h2"},{"title":"Ê†∏ÂøÉ API‚Äã","type":1,"pageTitle":"Âü∫Êú¨Â∫èÂàóÂåñ","url":"/zh-CN/docs/guide/go/basic_serialization#Ê†∏ÂøÉ-api","content":" ","version":"0.15","tagName":"h2"},{"title":"Serialize ‰∏é Deserialize‚Äã","type":1,"pageTitle":"Âü∫Êú¨Â∫èÂàóÂåñ","url":"/zh-CN/docs/guide/go/basic_serialization#serialize-‰∏é-deserialize","content":" ÊúÄ‰∏ªË¶ÅÁöÑÂ∫èÂàóÂåñÊé•Âè£Ôºö  // Serialize any value data, err := f.Serialize(value) if err != nil { // Handle error } // Deserialize into target var result MyType err = f.Deserialize(data, &amp;result) if err != nil { // Handle error }   ","version":"0.15","tagName":"h3"},{"title":"Marshal ‰∏é Unmarshal‚Äã","type":1,"pageTitle":"Âü∫Êú¨Â∫èÂàóÂåñ","url":"/zh-CN/docs/guide/go/basic_serialization#marshal-‰∏é-unmarshal","content":" Serialize Âíå Deserialize ÁöÑÂà´ÂêçÔºàÂØπ Go ÂºÄÂèëËÄÖÊõ¥ÁÜüÊÇâÔºâÔºö  data, err := f.Marshal(value) err = f.Unmarshal(data, &amp;result)   ","version":"0.15","tagName":"h3"},{"title":"Â∫èÂàóÂåñÂü∫Á°ÄÁ±ªÂûã‚Äã","type":1,"pageTitle":"Âü∫Êú¨Â∫èÂàóÂåñ","url":"/zh-CN/docs/guide/go/basic_serialization#Â∫èÂàóÂåñÂü∫Á°ÄÁ±ªÂûã","content":" // Integers data, _ := f.Serialize(int64(42)) var i int64 f.Deserialize(data, &amp;i) // i = 42 // Floats data, _ = f.Serialize(float64(3.14)) var fl float64 f.Deserialize(data, &amp;fl) // fl = 3.14 // Strings data, _ = f.Serialize(&quot;hello&quot;) var s string f.Deserialize(data, &amp;s) // s = &quot;hello&quot; // Booleans data, _ = f.Serialize(true) var b bool f.Deserialize(data, &amp;b) // b = true   ","version":"0.15","tagName":"h2"},{"title":"Â∫èÂàóÂåñÈõÜÂêàÁ±ªÂûã‚Äã","type":1,"pageTitle":"Âü∫Êú¨Â∫èÂàóÂåñ","url":"/zh-CN/docs/guide/go/basic_serialization#Â∫èÂàóÂåñÈõÜÂêàÁ±ªÂûã","content":" ","version":"0.15","tagName":"h2"},{"title":"Slice‚Äã","type":1,"pageTitle":"Âü∫Êú¨Â∫èÂàóÂåñ","url":"/zh-CN/docs/guide/go/basic_serialization#slice","content":" // String slice strs := []string{&quot;a&quot;, &quot;b&quot;, &quot;c&quot;} data, _ := f.Serialize(strs) var result []string f.Deserialize(data, &amp;result) // result = [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;] // Integer slice nums := []int64{1, 2, 3} data, _ = f.Serialize(nums) var intResult []int64 f.Deserialize(data, &amp;intResult) // intResult = [1, 2, 3]   ","version":"0.15","tagName":"h3"},{"title":"Map‚Äã","type":1,"pageTitle":"Âü∫Êú¨Â∫èÂàóÂåñ","url":"/zh-CN/docs/guide/go/basic_serialization#map","content":" // String to string map m := map[string]string{&quot;key&quot;: &quot;value&quot;} data, _ := f.Serialize(m) var result map[string]string f.Deserialize(data, &amp;result) // result = {&quot;key&quot;: &quot;value&quot;} // String to int map m2 := map[string]int64{&quot;count&quot;: 42} data, _ = f.Serialize(m2) var result2 map[string]int64 f.Deserialize(data, &amp;result2) // result2 = {&quot;count&quot;: 42}   ","version":"0.15","tagName":"h3"},{"title":"Â∫èÂàóÂåñÁªìÊûÑ‰Ωì‚Äã","type":1,"pageTitle":"Âü∫Êú¨Â∫èÂàóÂåñ","url":"/zh-CN/docs/guide/go/basic_serialization#Â∫èÂàóÂåñÁªìÊûÑ‰Ωì","content":" ","version":"0.15","tagName":"h2"},{"title":"Âü∫Á°ÄÁªìÊûÑ‰ΩìÂ∫èÂàóÂåñ‚Äã","type":1,"pageTitle":"Âü∫Êú¨Â∫èÂàóÂåñ","url":"/zh-CN/docs/guide/go/basic_serialization#Âü∫Á°ÄÁªìÊûÑ‰ΩìÂ∫èÂàóÂåñ","content":" Âè™ÊúâÂØºÂá∫Â≠óÊÆµÔºàÈ¶ñÂ≠óÊØçÂ§ßÂÜôÔºâ‰ºöË¢´Â∫èÂàóÂåñÔºö  type User struct { ID int64 // Serialized Name string // Serialized password string // NOT serialized (unexported) } f.RegisterStruct(User{}, 1) user := &amp;User{ID: 1, Name: &quot;Alice&quot;, password: &quot;secret&quot;} data, _ := f.Serialize(user) var result User f.Deserialize(data, &amp;result) // result.ID = 1, result.Name = &quot;Alice&quot;, result.password = &quot;&quot;   ","version":"0.15","tagName":"h3"},{"title":"ÂµåÂ•óÁªìÊûÑ‰Ωì‚Äã","type":1,"pageTitle":"Âü∫Êú¨Â∫èÂàóÂåñ","url":"/zh-CN/docs/guide/go/basic_serialization#ÂµåÂ•óÁªìÊûÑ‰Ωì","content":" type Address struct { City string Country string } type Person struct { Name string Address Address } f.RegisterStruct(Address{}, 1) f.RegisterStruct(Person{}, 2) person := &amp;Person{ Name: &quot;Alice&quot;, Address: Address{City: &quot;NYC&quot;, Country: &quot;USA&quot;}, } data, _ := f.Serialize(person) var result Person f.Deserialize(data, &amp;result) // result.Address.City = &quot;NYC&quot;   ","version":"0.15","tagName":"h3"},{"title":"ÊåáÈíàÂ≠óÊÆµ‚Äã","type":1,"pageTitle":"Âü∫Êú¨Â∫èÂàóÂåñ","url":"/zh-CN/docs/guide/go/basic_serialization#ÊåáÈíàÂ≠óÊÆµ","content":" type Node struct { Value int32 Child *Node } // Use WithTrackRef for pointer fields f := fory.New(fory.WithTrackRef(true)) f.RegisterStruct(Node{}, 1) root := &amp;Node{ Value: 1, Child: &amp;Node{Value: 2, Child: nil}, } data, _ := f.Serialize(root) var result Node f.Deserialize(data, &amp;result) // result.Child.Value = 2   ","version":"0.15","tagName":"h3"},{"title":"ÊµÅÂºè API‚Äã","type":1,"pageTitle":"Âü∫Êú¨Â∫èÂàóÂåñ","url":"/zh-CN/docs/guide/go/basic_serialization#ÊµÅÂºè-api","content":" ÂΩì‰Ω†Â∏åÊúõËá™Ë°åÁÆ°ÁêÜÁºìÂÜ≤Âå∫Êó∂ÂèØ‰ΩøÁî®ÊµÅÂºèÊé•Âè£„ÄÇ  ","version":"0.15","tagName":"h2"},{"title":"SerializeTo‚Äã","type":1,"pageTitle":"Âü∫Êú¨Â∫èÂàóÂåñ","url":"/zh-CN/docs/guide/go/basic_serialization#serializeto","content":" Â∫èÂàóÂåñÂà∞Áé∞ÊúâÁºìÂÜ≤Âå∫Ôºö  buf := fory.NewByteBuffer(nil) // Serialize multiple values to same buffer f.SerializeTo(buf, value1) f.SerializeTo(buf, value2) // Get all serialized data data := buf.GetByteSlice(0, buf.WriterIndex())   ","version":"0.15","tagName":"h3"},{"title":"DeserializeFrom‚Äã","type":1,"pageTitle":"Âü∫Êú¨Â∫èÂàóÂåñ","url":"/zh-CN/docs/guide/go/basic_serialization#deserializefrom","content":" ‰ªéÁé∞ÊúâÁºìÂÜ≤Âå∫ÂèçÂ∫èÂàóÂåñÔºö  buf := fory.NewByteBuffer(data) var result1, result2 MyType f.DeserializeFrom(buf, &amp;result1) f.DeserializeFrom(buf, &amp;result2)   ","version":"0.15","tagName":"h3"},{"title":"Ê≥õÂûã APIÔºàÁ±ªÂûãÂÆâÂÖ®Ôºâ‚Äã","type":1,"pageTitle":"Âü∫Êú¨Â∫èÂàóÂåñ","url":"/zh-CN/docs/guide/go/basic_serialization#Ê≥õÂûã-apiÁ±ªÂûãÂÆâÂÖ®","content":" Fory Go Êèê‰æõ‰∫ÜÊ≥õÂûãÂáΩÊï∞Áî®‰∫éÁ±ªÂûãÂÆâÂÖ®ÁöÑÂ∫èÂàóÂåñÔºö  import &quot;github.com/apache/fory/go/fory&quot; type User struct { ID int64 Name string } // Type-safe serialization user := &amp;User{ID: 1, Name: &quot;Alice&quot;} data, err := fory.Serialize(f, user) // Type-safe deserialization var result User err = fory.Deserialize(f, data, &amp;result)   Ê≥õÂûã API ÁöÑ‰ºòÂäøÔºö  Âú®ÁºñËØëÊúüÊé®Êñ≠Á±ªÂûãÊèê‰æõÊõ¥Â•ΩÁöÑÁ±ªÂûãÂÆâÂÖ®Âú®Êüê‰∫õÂú∫ÊôØ‰∏ãÂèØËé∑ÂæóÊÄßËÉΩÊî∂Áõä  ","version":"0.15","tagName":"h2"},{"title":"ÈîôËØØÂ§ÑÁêÜ‚Äã","type":1,"pageTitle":"Âü∫Êú¨Â∫èÂàóÂåñ","url":"/zh-CN/docs/guide/go/basic_serialization#ÈîôËØØÂ§ÑÁêÜ","content":" Âä°ÂøÖÊ£ÄÊü•Â∫èÂàóÂåñ/ÂèçÂ∫èÂàóÂåñËøîÂõûÁöÑÈîôËØØÔºö  data, err := f.Serialize(value) if err != nil { switch e := err.(type) { case fory.Error: fmt.Printf(&quot;Fory error: %s (kind: %d)\\n&quot;, e.Error(), e.Kind()) default: fmt.Printf(&quot;Unknown error: %v\\n&quot;, err) } return } err = f.Deserialize(data, &amp;result) if err != nil { // Handle deserialization error }   Â∏∏ËßÅÈîôËØØÁ±ªÂûãÔºö  ErrKindBufferOutOfBoundÔºöËØªÂÜôË∂äÁïåErrKindTypeMismatchÔºöÂèçÂ∫èÂàóÂåñÊó∂Á±ªÂûã ID ‰∏çÂåπÈÖçErrKindUnknownTypeÔºöÈÅáÂà∞Êú™Áü•Á±ªÂûãErrKindMaxDepthExceededÔºöË∂ÖËøáÈÄíÂΩíÊ∑±Â∫¶ÈôêÂà∂ErrKindHashMismatchÔºöÁªìÊûÑ‰ΩìÂìàÂ∏å‰∏ç‰∏ÄËá¥Ôºàschema Â∑≤ÂèòÊõ¥Ôºâ  ÊéíÊü•Âª∫ËÆÆËßÅ ÊïÖÈöúÊéíÊü•„ÄÇ  ","version":"0.15","tagName":"h2"},{"title":"Nil Â§ÑÁêÜ‚Äã","type":1,"pageTitle":"Âü∫Êú¨Â∫èÂàóÂåñ","url":"/zh-CN/docs/guide/go/basic_serialization#nil-Â§ÑÁêÜ","content":" ","version":"0.15","tagName":"h2"},{"title":"Nil ÊåáÈíà‚Äã","type":1,"pageTitle":"Âü∫Êú¨Â∫èÂàóÂåñ","url":"/zh-CN/docs/guide/go/basic_serialization#nil-ÊåáÈíà","content":" var ptr *User = nil data, _ := f.Serialize(ptr) var result *User f.Deserialize(data, &amp;result) // result = nil   ","version":"0.15","tagName":"h3"},{"title":"Á©∫ÈõÜÂêà‚Äã","type":1,"pageTitle":"Âü∫Êú¨Â∫èÂàóÂåñ","url":"/zh-CN/docs/guide/go/basic_serialization#Á©∫ÈõÜÂêà","content":" // Nil slice var slice []string = nil data, _ := f.Serialize(slice) var result []string f.Deserialize(data, &amp;result) // result = nil // Empty slice (different from nil) empty := []string{} data, _ = f.Serialize(empty) f.Deserialize(data, &amp;result) // result = [] (empty, not nil)   ","version":"0.15","tagName":"h3"},{"title":"ÂÆåÊï¥Á§∫‰æã‚Äã","type":1,"pageTitle":"Âü∫Êú¨Â∫èÂàóÂåñ","url":"/zh-CN/docs/guide/go/basic_serialization#ÂÆåÊï¥Á§∫‰æã","content":" package main import ( &quot;fmt&quot; &quot;github.com/apache/fory/go/fory&quot; ) type Order struct { ID int64 Customer string Items []Item Total float64 } type Item struct { Name string Quantity int32 Price float64 } func main() { f := fory.New() f.RegisterStruct(Order{}, 1) f.RegisterStruct(Item{}, 2) order := &amp;Order{ ID: 12345, Customer: &quot;Alice&quot;, Items: []Item{ {Name: &quot;Widget&quot;, Quantity: 2, Price: 9.99}, {Name: &quot;Gadget&quot;, Quantity: 1, Price: 24.99}, }, Total: 44.97, } // Serialize data, err := f.Serialize(order) if err != nil { panic(err) } fmt.Printf(&quot;Serialized %d bytes\\n&quot;, len(data)) // Deserialize var result Order if err := f.Deserialize(data, &amp;result); err != nil { panic(err) } fmt.Printf(&quot;Order ID: %d\\n&quot;, result.ID) fmt.Printf(&quot;Customer: %s\\n&quot;, result.Customer) fmt.Printf(&quot;Items: %d\\n&quot;, len(result.Items)) fmt.Printf(&quot;Total: %.2f\\n&quot;, result.Total) }   ","version":"0.15","tagName":"h2"},{"title":"Áõ∏ÂÖ≥‰∏ªÈ¢ò‚Äã","type":1,"pageTitle":"Âü∫Êú¨Â∫èÂàóÂåñ","url":"/zh-CN/docs/guide/go/basic_serialization#Áõ∏ÂÖ≥‰∏ªÈ¢ò","content":" ÈÖçÁΩÆÁ±ªÂûãÊ≥®ÂÜåÊîØÊåÅÁ±ªÂûãÂºïÁî® ","version":"0.15","tagName":"h2"},{"title":"ÈÖçÁΩÆ","type":0,"sectionRef":"#","url":"/zh-CN/docs/guide/go/configuration","content":"","keywords":"","version":"0.15"},{"title":"ÂàõÂª∫ Fory ÂÆû‰æã‚Äã","type":1,"pageTitle":"ÈÖçÁΩÆ","url":"/zh-CN/docs/guide/go/configuration#ÂàõÂª∫-fory-ÂÆû‰æã","content":" ","version":"0.15","tagName":"h2"},{"title":"ÈªòËÆ§ÈÖçÁΩÆ‚Äã","type":1,"pageTitle":"ÈÖçÁΩÆ","url":"/zh-CN/docs/guide/go/configuration#ÈªòËÆ§ÈÖçÁΩÆ","content":" import &quot;github.com/apache/fory/go/fory&quot; f := fory.New()   ÈªòËÆ§ËÆæÁΩÆÔºö  Option\tDefault\tDescriptionTrackRef\tfalse\tÂÖ≥Èó≠ÂºïÁî®Ë∑üË∏™ MaxDepth\t20\tÊúÄÂ§ßÂµåÂ•óÊ∑±Â∫¶ IsXlang\tfalse\tÂÖ≥Èó≠Ë∑®ËØ≠Ë®ÄÊ®°Âºè Compatible\tfalse\tÂÖ≥Èó≠ Schema ÊºîËøõÂÖºÂÆπÊ®°Âºè  ","version":"0.15","tagName":"h3"},{"title":"ÈÄöËøáÈÄâÈ°πÈÖçÁΩÆ‚Äã","type":1,"pageTitle":"ÈÖçÁΩÆ","url":"/zh-CN/docs/guide/go/configuration#ÈÄöËøáÈÄâÈ°πÈÖçÁΩÆ","content":" f := fory.New( fory.WithTrackRef(true), fory.WithCompatible(true), fory.WithMaxDepth(10), )   ","version":"0.15","tagName":"h3"},{"title":"ÈÖçÁΩÆÈ°π‚Äã","type":1,"pageTitle":"ÈÖçÁΩÆ","url":"/zh-CN/docs/guide/go/configuration#ÈÖçÁΩÆÈ°π","content":" ","version":"0.15","tagName":"h2"},{"title":"WithTrackRef‚Äã","type":1,"pageTitle":"ÈÖçÁΩÆ","url":"/zh-CN/docs/guide/go/configuration#withtrackref","content":" ÂêØÁî®ÂºïÁî®Ë∑üË∏™Ôºå‰ª•ÊîØÊåÅÂæ™ÁéØÂºïÁî®ÂíåÂÖ±‰∫´ÂØπË±°Ôºö  f := fory.New(fory.WithTrackRef(true))   ÂºÄÂêØÂêéÔºö  Â§öÊ¨°Âá∫Áé∞ÁöÑÂêå‰∏ÄÂØπË±°Âè™‰ºöÂ∫èÂàóÂåñ‰∏ÄÊ¨°ÂèØÊ≠£Á°ÆÂ§ÑÁêÜÂæ™ÁéØÂºïÁî®Â≠óÊÆµÁ∫ß fory:&quot;ref&quot; Ê†áÁ≠æÁîüÊïà‰ºöÂ∏¶Êù•ÂØπË±°Ë∫´‰ªΩË∑üË∏™ÂºÄÈîÄ  ÂÖ≥Èó≠ÔºàÈªòËÆ§ÔºâÊó∂Ôºö  ÊØèÊ¨°ÂØπË±°Âá∫Áé∞ÈÉΩÁã¨Á´ãÂ∫èÂàóÂåñÂæ™ÁéØÂºïÁî®‰ºöÂØºËá¥Ê†àÊ∫¢Âá∫ÊàñË∂ÖÂá∫ÊúÄÂ§ßÊ∑±Â∫¶ÈîôËØØÂ≠óÊÆµÁ∫ß fory:&quot;ref&quot; Ê†áÁ≠æË¢´ÂøΩÁï•ÂØπÁÆÄÂçïÊï∞ÊçÆÁªìÊûÑÊÄßËÉΩÊõ¥Â•Ω  Âª∫ËÆÆÂêØÁî®Âú∫ÊôØÔºö  Êï∞ÊçÆ‰∏≠Â≠òÂú®Âæ™ÁéØÂºïÁî®Âêå‰∏ÄÂØπË±°Ë¢´Â§öÂ§ÑÂºïÁî®ÈúÄË¶ÅÂ∫èÂàóÂåñÂõæÁªìÊûÑÔºàÂ¶ÇÂ∏¶Áà∂ÊåáÈíàÁöÑÊ†ë„ÄÅÂ∏¶ÁéØÈìæË°®Ôºâ  ËØ¶ËßÅ ÂºïÁî®„ÄÇ  ","version":"0.15","tagName":"h3"},{"title":"WithCompatible‚Äã","type":1,"pageTitle":"ÈÖçÁΩÆ","url":"/zh-CN/docs/guide/go/configuration#withcompatible","content":" ÂêØÁî® schema ÊºîËøõÂÖºÂÆπÊ®°ÂºèÔºö  f := fory.New(fory.WithCompatible(true))   ÂºÄÂêØÂêéÔºö  ‰ºöÂêëÂ∫èÂàóÂåñÊï∞ÊçÆÂÜôÂÖ•Á±ªÂûãÂÖÉ‰ø°ÊÅØÊîØÊåÅÁâàÊú¨Èó¥Êñ∞Â¢û/Âà†Èô§Â≠óÊÆµÊåâÂ≠óÊÆµÂêçÊàñÂ≠óÊÆµ ID ÂåπÈÖçÔºà‰∏éÈ°∫Â∫èÊó†ÂÖ≥ÔºâÂõ†ÂÖÉ‰ø°ÊÅØÂØºËá¥ËæìÂá∫Êõ¥Â§ß  ÂÖ≥Èó≠ÔºàÈªòËÆ§ÔºâÊó∂Ôºö  ‰∏çÂÜôÂ≠óÊÆµÂÖÉ‰ø°ÊÅØÔºåÂ∫èÂàóÂåñÊõ¥Á¥ßÂáëÂ∫èÂàóÂåñÊõ¥Âø´„ÄÅËæìÂá∫Êõ¥Â∞èÂ≠óÊÆµÊåâÊéíÂ∫èÈ°∫Â∫èÂåπÈÖçË¶ÅÊ±ÇÂêÑÊúçÂä°Èó¥ÁªìÊûÑ‰ΩìÂÆö‰πâ‰øùÊåÅ‰∏ÄËá¥  ËØ¶ËßÅ Schema ÊºîËøõ„ÄÇ  ","version":"0.15","tagName":"h3"},{"title":"WithMaxDepth‚Äã","type":1,"pageTitle":"ÈÖçÁΩÆ","url":"/zh-CN/docs/guide/go/configuration#withmaxdepth","content":" ËÆæÁΩÆÊúÄÂ§ßÂµåÂ•óÊ∑±Â∫¶ÔºåÈò≤Ê≠¢Ê†àÊ∫¢Âá∫Ôºö  f := fory.New(fory.WithMaxDepth(30))   ÈªòËÆ§ÂÄºÔºö20Èò≤Êä§Ê∑±Â±ÇÈÄíÂΩíÁªìÊûÑÊàñÊÅ∂ÊÑèÊï∞ÊçÆË∂ÖËøáÈôêÂà∂‰ºöËøîÂõûÈîôËØØ  ","version":"0.15","tagName":"h3"},{"title":"WithXlang‚Äã","type":1,"pageTitle":"ÈÖçÁΩÆ","url":"/zh-CN/docs/guide/go/configuration#withxlang","content":" ÂêØÁî®Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñÊ®°ÂºèÔºö  f := fory.New(fory.WithXlang(true))   ÂºÄÂêØÂêéÔºö  ‰ΩøÁî®Ë∑®ËØ≠Ë®ÄÁ±ªÂûãÁ≥ªÁªü‰∏é Java„ÄÅPython„ÄÅC++„ÄÅRust„ÄÅJavaScript ÂÖºÂÆπÁ±ªÂûã ID ÈÅµÂæ™ xlang ËßÑËåÉ  ÂÖ≥Èó≠ÔºàÈªòËÆ§ÔºâÊó∂Ôºö  ‰ΩøÁî® Go ÂéüÁîüÂ∫èÂàóÂåñÊ®°ÂºèÊîØÊåÅÊõ¥Â§ö Go ÂéüÁîüÁ±ªÂûã‰∏éÂÖ∂‰ªñËØ≠Ë®ÄÂÆûÁé∞‰∏çÂÖºÂÆπ  ","version":"0.15","tagName":"h3"},{"title":"Á∫øÁ®ãÂÆâÂÖ®‚Äã","type":1,"pageTitle":"ÈÖçÁΩÆ","url":"/zh-CN/docs/guide/go/configuration#Á∫øÁ®ãÂÆâÂÖ®","content":" ÈªòËÆ§ Fory ÂÆû‰æã‰∏çÊòØÁ∫øÁ®ãÂÆâÂÖ®ÁöÑ„ÄÇÂπ∂ÂèëÂú∫ÊôØËØ∑‰ΩøÁî®Á∫øÁ®ãÂÆâÂÖ®Â∞ÅË£ÖÔºö  import &quot;github.com/apache/fory/go/fory/threadsafe&quot; // Create thread-safe Fory with same options f := threadsafe.New( fory.WithTrackRef(true), fory.WithCompatible(true), ) // Safe for concurrent use from multiple goroutines go func() { data, _ := f.Serialize(value1) // data is already copied, safe to use after return }() go func() { data, _ := f.Serialize(value2) }()   Á∫øÁ®ãÂÆâÂÖ®Â∞ÅË£ÖÂÖ∑Â§áÔºö  ÂÜÖÈÉ®‰ΩøÁî® sync.Pool È´òÊïàÂ§çÁî®ÂÆû‰æãËøîÂõûÂâçËá™Âä®Â§çÂà∂Â∫èÂàóÂåñÊï∞ÊçÆ‰∏é fory.New() Áõ∏ÂêåÁöÑÈÖçÁΩÆÈÄâÈ°π  ","version":"0.15","tagName":"h2"},{"title":"ÂÖ®Â±ÄÁ∫øÁ®ãÂÆâÂÖ®ÂÆû‰æã‚Äã","type":1,"pageTitle":"ÈÖçÁΩÆ","url":"/zh-CN/docs/guide/go/configuration#ÂÖ®Â±ÄÁ∫øÁ®ãÂÆâÂÖ®ÂÆû‰æã","content":" ‰∏∫‰∫Ü‰æøÊç∑Ôºåthreadsafe ÂåÖÊèê‰æõÂÖ®Â±ÄÂáΩÊï∞Ôºö  import &quot;github.com/apache/fory/go/fory/threadsafe&quot; // Uses a global thread-safe instance with default configuration data, err := threadsafe.Marshal(&amp;myValue) err = threadsafe.Unmarshal(data, &amp;result)   ËØ¶ËßÅ Á∫øÁ®ãÂÆâÂÖ®„ÄÇ  ","version":"0.15","tagName":"h3"},{"title":"ÁºìÂÜ≤Âå∫ÁÆ°ÁêÜ‚Äã","type":1,"pageTitle":"ÈÖçÁΩÆ","url":"/zh-CN/docs/guide/go/configuration#ÁºìÂÜ≤Âå∫ÁÆ°ÁêÜ","content":" ","version":"0.15","tagName":"h2"},{"title":"Èõ∂Êã∑Ë¥ùË°å‰∏∫‚Äã","type":1,"pageTitle":"ÈÖçÁΩÆ","url":"/zh-CN/docs/guide/go/configuration#Èõ∂Êã∑Ë¥ùË°å‰∏∫","content":" ÈªòËÆ§ Fory ÂÆû‰æã‰ºöÂ§çÁî®ÂÜÖÈÉ®ÁºìÂÜ≤Âå∫Ôºö  f := fory.New() data1, _ := f.Serialize(value1) // WARNING: data1 becomes invalid after next Serialize call! data2, _ := f.Serialize(value2) // data1 now points to invalid memory // To keep the data, copy it: safeCopy := make([]byte, len(data1)) copy(safeCopy, data1)   Á∫øÁ®ãÂÆâÂÖ®Â∞ÅË£Ö‰ºöËá™Âä®Êã∑Ë¥ùÊï∞ÊçÆÔºåÂõ†Ê≠§‰∏çÂ≠òÂú®ËØ•ÈóÆÈ¢òÔºö  f := threadsafe.New() data1, _ := f.Serialize(value1) data2, _ := f.Serialize(value2) // Both data1 and data2 are valid   ","version":"0.15","tagName":"h3"},{"title":"ÊâãÂä®ÊéßÂà∂ÁºìÂÜ≤Âå∫‚Äã","type":1,"pageTitle":"ÈÖçÁΩÆ","url":"/zh-CN/docs/guide/go/configuration#ÊâãÂä®ÊéßÂà∂ÁºìÂÜ≤Âå∫","content":" È´òÂêûÂêêÂú∫ÊôØÂèØÊâãÂä®ÁÆ°ÁêÜÁºìÂÜ≤Âå∫Ôºö  f := fory.New() buf := fory.NewByteBuffer(nil) // Serialize to existing buffer err := f.SerializeTo(buf, value) // Get serialized data data := buf.GetByteSlice(0, buf.WriterIndex()) // Process data... // Reset for next use buf.Reset()   ","version":"0.15","tagName":"h3"},{"title":"ÈÖçÁΩÆÁ§∫‰æã‚Äã","type":1,"pageTitle":"ÈÖçÁΩÆ","url":"/zh-CN/docs/guide/go/configuration#ÈÖçÁΩÆÁ§∫‰æã","content":" ","version":"0.15","tagName":"h2"},{"title":"ÁÆÄÂçïÊï∞ÊçÆÔºàÈªòËÆ§ÈÖçÁΩÆÔºâ‚Äã","type":1,"pageTitle":"ÈÖçÁΩÆ","url":"/zh-CN/docs/guide/go/configuration#ÁÆÄÂçïÊï∞ÊçÆÈªòËÆ§ÈÖçÁΩÆ","content":" ÈÄÇÁî®‰∫é‰∏çÂê´Âæ™ÁéØÂºïÁî®ÁöÑÁÆÄÂçïÁªìÊûÑ‰ΩìÔºö  f := fory.New() type Config struct { Host string Port int32 } f.RegisterStruct(Config{}, 1) data, _ := f.Serialize(&amp;Config{Host: &quot;localhost&quot;, Port: 8080})   ","version":"0.15","tagName":"h3"},{"title":"ÂõæÁªìÊûÑÊï∞ÊçÆ‚Äã","type":1,"pageTitle":"ÈÖçÁΩÆ","url":"/zh-CN/docs/guide/go/configuration#ÂõæÁªìÊûÑÊï∞ÊçÆ","content":" ÈÄÇÁî®‰∫éÂ≠òÂú®Âæ™ÁéØÂºïÁî®ÁöÑÊï∞ÊçÆÔºö  f := fory.New(fory.WithTrackRef(true)) type Node struct { Value int32 Next *Node `fory:&quot;ref&quot;` } f.RegisterStruct(Node{}, 1) n1 := &amp;Node{Value: 1} n2 := &amp;Node{Value: 2} n1.Next = n2 n2.Next = n1 // Circular reference data, _ := f.Serialize(n1)   ","version":"0.15","tagName":"h3"},{"title":"Schema ÊºîËøõ‚Äã","type":1,"pageTitle":"ÈÖçÁΩÆ","url":"/zh-CN/docs/guide/go/configuration#schema-ÊºîËøõ","content":" ÈÄÇÁî®‰∫éÁªìÊûÑÂèØËÉΩÈöèÊó∂Èó¥ÂèòÂåñÁöÑÊï∞ÊçÆÔºö  // V1: original struct type UserV1 struct { ID int64 Name string } // V2: added Email field type UserV2 struct { ID int64 Name string Email string // New field } // Serialize with V1 f1 := fory.New(fory.WithCompatible(true)) f1.RegisterStruct(UserV1{}, 1) data, _ := f1.Serialize(&amp;UserV1{ID: 1, Name: &quot;Alice&quot;}) // Deserialize into V2 - Email will have zero value f2 := fory.New(fory.WithCompatible(true)) f2.RegisterStruct(UserV2{}, 1) var user UserV2 f2.Deserialize(data, &amp;user)   ","version":"0.15","tagName":"h3"},{"title":"È´òÊÄßËÉΩÂπ∂ÂèëÂú∫ÊôØ‚Äã","type":1,"pageTitle":"ÈÖçÁΩÆ","url":"/zh-CN/docs/guide/go/configuration#È´òÊÄßËÉΩÂπ∂ÂèëÂú∫ÊôØ","content":" ÈÄÇÁî®‰∫éÈ´òÂêûÂêêÂπ∂ÂèëÂ§ÑÁêÜÔºö  type Request struct { ID int64 Payload string } f := threadsafe.New( fory.WithMaxDepth(30), ) f.RegisterStruct(Request{}, 1) // Process requests concurrently for req := range requests { go func(r Request) { data, _ := f.Serialize(&amp;r) sendResponse(data) }(req) }   ","version":"0.15","tagName":"h3"},{"title":"ÊúÄ‰Ω≥ÂÆûË∑µ‚Äã","type":1,"pageTitle":"ÈÖçÁΩÆ","url":"/zh-CN/docs/guide/go/configuration#ÊúÄ‰Ω≥ÂÆûË∑µ","content":" Â§çÁî® Fory ÂÆû‰æãÔºöÂàõÂª∫ÂÆû‰æãÊúâÂàùÂßãÂåñÂºÄÈîÄÔºåÂª∫ËÆÆÂàõÂª∫‰∏ÄÊ¨°ÂêéÂ§çÁî®„ÄÇÂπ∂ÂèëÊó∂‰ΩøÁî®Á∫øÁ®ãÂÆâÂÖ®Â∞ÅË£ÖÔºö‰∏çË¶ÅÂú®Â§ö‰∏™ goroutine Èó¥ÂÖ±‰∫´ÈªòËÆ§ÂÆû‰æã„ÄÇÊåâÈúÄÂêØÁî®ÂºïÁî®Ë∑üË∏™ÔºöÂºïÁî®Ë∑üË∏™‰ºöÂ¢ûÂä†ÂºÄÈîÄ„ÄÇÈúÄË¶ÅÈïøÊúü‰øùÂ≠òÊï∞ÊçÆÊó∂ËØ∑Â§çÂà∂ÔºöÈªòËÆ§ÂÆû‰æãËøîÂõûÁöÑÂ≠óËäÇÂàáÁâá‰ºöÂú®ÂêéÁª≠Ë∞ÉÁî®ÂêéÂ§±Êïà„ÄÇÂêàÁêÜËÆæÁΩÆÊúÄÂ§ßÊ∑±Â∫¶ÔºöÊ∑±Â±ÇÁªìÊûÑÂèØÈÄÇÂΩìË∞ÉÂ§ßÔºå‰ΩÜÈúÄÂÖ≥Ê≥®ÂÜÖÂ≠òÂç†Áî®„ÄÇSchema ÂèØËÉΩÊºîËøõÊó∂ÂêØÁî®ÂÖºÂÆπÊ®°ÂºèÔºöÊúçÂä°ÁâàÊú¨Â≠òÂú®ÁªìÊûÑÂ∑ÆÂºÇÊó∂Âª∫ËÆÆÂºÄÂêØ„ÄÇ  ","version":"0.15","tagName":"h2"},{"title":"Áõ∏ÂÖ≥‰∏ªÈ¢ò‚Äã","type":1,"pageTitle":"ÈÖçÁΩÆ","url":"/zh-CN/docs/guide/go/configuration#Áõ∏ÂÖ≥‰∏ªÈ¢ò","content":" Âü∫Êú¨Â∫èÂàóÂåñÂºïÁî®Schema ÊºîËøõÁ∫øÁ®ãÂÆâÂÖ® ","version":"0.15","tagName":"h2"},{"title":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ","type":0,"sectionRef":"#","url":"/zh-CN/docs/guide/go/cross_language","content":"","keywords":"","version":"0.15"},{"title":"ÂêØÁî®Ë∑®ËØ≠Ë®ÄÊ®°Âºè‚Äã","type":1,"pageTitle":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/guide/go/cross_language#ÂêØÁî®Ë∑®ËØ≠Ë®ÄÊ®°Âºè","content":" ÈúÄË¶ÅÊòæÂºèÂºÄÂêØË∑®ËØ≠Ë®ÄÔºàxlangÔºâÊ®°ÂºèÔºö  f := fory.New(fory.WithXlang(true))   ","version":"0.15","tagName":"h2"},{"title":"Ë∑®ËØ≠Ë®ÄÁ±ªÂûãÊ≥®ÂÜå‚Äã","type":1,"pageTitle":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/guide/go/cross_language#Ë∑®ËØ≠Ë®ÄÁ±ªÂûãÊ≥®ÂÜå","content":" Âú®ÊâÄÊúâËØ≠Ë®Ä‰∏≠‰ΩøÁî®‰∏ÄËá¥ÁöÑÁ±ªÂûã IDÔºö  ","version":"0.15","tagName":"h2"},{"title":"Go‚Äã","type":1,"pageTitle":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/guide/go/cross_language#go","content":" type User struct { ID int64 Name string } f := fory.New(fory.WithXlang(true)) f.RegisterStruct(User{}, 1) data, _ := f.Serialize(&amp;User{ID: 1, Name: &quot;Alice&quot;})   ","version":"0.15","tagName":"h3"},{"title":"Java‚Äã","type":1,"pageTitle":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/guide/go/cross_language#java","content":" public class User { public long id; public String name; } Fory fory = Fory.builder().withXlang(true).build(); fory.register(User.class, 1); User user = fory.deserialize(data, User.class);   ","version":"0.15","tagName":"h3"},{"title":"Python‚Äã","type":1,"pageTitle":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/guide/go/cross_language#python","content":" from dataclasses import dataclass import pyfory @dataclass class User: id: pyfory.Int64Type name: str fory = pyfory.Fory() fory.register(User, type_id=1) user = fory.deserialize(data)   ","version":"0.15","tagName":"h3"},{"title":"Á±ªÂûãÊò†Â∞Ñ‚Äã","type":1,"pageTitle":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/guide/go/cross_language#Á±ªÂûãÊò†Â∞Ñ","content":" ‰∏çÂêåËØ≠Ë®ÄÈó¥ÂÆåÊï¥Á±ªÂûãÊò†Â∞ÑËØ∑ÂèÇËÄÉ Á±ªÂûãÊò†Â∞ÑËßÑËåÉ„ÄÇ  ","version":"0.15","tagName":"h2"},{"title":"Â≠óÊÆµÈ°∫Â∫è‚Äã","type":1,"pageTitle":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/guide/go/cross_language#Â≠óÊÆµÈ°∫Â∫è","content":" Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñË¶ÅÊ±ÇÂ≠óÊÆµÈ°∫Â∫è‰∏ÄËá¥„ÄÇFory ‰ºöÂ∞ÜÂ≠óÊÆµÂêçËΩ¨‰∏∫ snake_case ÂêéÊåâÂ≠óÊØçÂ∫èÊéíÂ∫è„ÄÇ  Go Â≠óÊÆµÂêç‰ºöÂÖàËΩ¨ snake_caseÔºö  type Example struct { UserID int64 // -&gt; user_id FirstName string // -&gt; first_name Age int32 // -&gt; age } // Sorted order: age, first_name, user_id   ËØ∑Á°Æ‰øùÂÖ∂‰ªñËØ≠Ë®Ä‰ΩøÁî®ËÉΩ‰∫ßÁîüÁõ∏Âêå snake_case È°∫Â∫èÁöÑÂ≠óÊÆµÂêçÔºõÊàñÈÄöËøáÂ≠óÊÆµ ID ÊòæÂºèÊéßÂà∂Ôºö  type Example struct { UserID int64 `fory:&quot;id=0&quot;` FirstName string `fory:&quot;id=1&quot;` Age int32 `fory:&quot;id=2&quot;` }   ","version":"0.15","tagName":"h2"},{"title":"Á§∫‰æã‚Äã","type":1,"pageTitle":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/guide/go/cross_language#Á§∫‰æã","content":" ","version":"0.15","tagName":"h2"},{"title":"Go Âà∞ Java‚Äã","type":1,"pageTitle":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/guide/go/cross_language#go-Âà∞-java","content":" GoÔºàÂ∫èÂàóÂåñÁ´ØÔºâÔºö  type Order struct { ID int64 Customer string Total float64 Items []string } f := fory.New(fory.WithXlang(true)) f.RegisterStruct(Order{}, 1) order := &amp;Order{ ID: 12345, Customer: &quot;Alice&quot;, Total: 99.99, Items: []string{&quot;Widget&quot;, &quot;Gadget&quot;}, } data, _ := f.Serialize(order) // Send 'data' to Java service   JavaÔºàÂèçÂ∫èÂàóÂåñÁ´ØÔºâÔºö  public class Order { public long id; public String customer; public double total; public List&lt;String&gt; items; } Fory fory = Fory.builder().withXlang(true).build(); fory.register(Order.class, 1); Order order = fory.deserialize(data, Order.class);   ","version":"0.15","tagName":"h3"},{"title":"Python Âà∞ Go‚Äã","type":1,"pageTitle":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/guide/go/cross_language#python-Âà∞-go","content":" PythonÔºàÂ∫èÂàóÂåñÁ´ØÔºâÔºö  from dataclasses import dataclass import pyfory @dataclass class Message: id: pyfory.Int64Type content: str timestamp: pyfory.Int64Type fory = pyfory.Fory() fory.register(Message, type_id=1) msg = Message(id=1, content=&quot;Hello from Python&quot;, timestamp=1234567890) data = fory.serialize(msg)   GoÔºàÂèçÂ∫èÂàóÂåñÁ´ØÔºâÔºö  type Message struct { ID int64 Content string Timestamp int64 } f := fory.New(fory.WithXlang(true)) f.RegisterStruct(Message{}, 1) var msg Message f.Deserialize(data, &amp;msg) fmt.Println(msg.Content) // &quot;Hello from Python&quot;   ","version":"0.15","tagName":"h3"},{"title":"ÂµåÂ•óÁªìÊûÑ‚Äã","type":1,"pageTitle":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/guide/go/cross_language#ÂµåÂ•óÁªìÊûÑ","content":" Ë∑®ËØ≠Ë®ÄÂµåÂ•óÁªìÊûÑË¶ÅÊ±ÇÁõ∏ÂÖ≥Á±ªÂûãÂÖ®ÈÉ®Ê≥®ÂÜåÔºö  GoÔºö  type Address struct { Street string City string Country string } type Company struct { Name string Address Address } f := fory.New(fory.WithXlang(true)) f.RegisterStruct(Address{}, 1) f.RegisterStruct(Company{}, 2)   JavaÔºö  public class Address { public String street; public String city; public String country; } public class Company { public String name; public Address address; } fory.register(Address.class, 1); fory.register(Company.class, 2);   ","version":"0.15","tagName":"h3"},{"title":"Â∏∏ËßÅÈóÆÈ¢ò‚Äã","type":1,"pageTitle":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/guide/go/cross_language#Â∏∏ËßÅÈóÆÈ¢ò","content":" ","version":"0.15","tagName":"h2"},{"title":"Â≠óÊÆµÂêç‰∏çÂåπÈÖç‚Äã","type":1,"pageTitle":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/guide/go/cross_language#Â≠óÊÆµÂêç‰∏çÂåπÈÖç","content":" Go Â∏∏Áî® PascalCaseÔºåÂÖ∂‰ªñËØ≠Ë®ÄÂèØËÉΩÊòØ camelCase Êàñ snake_case„ÄÇFory Êåâ snake_case ËΩ¨Êç¢ÁªìÊûúÂÅöÂ≠óÊÆµÂåπÈÖçÔºö  // Go type User struct { FirstName string // -&gt; first_name } // Java - field name converted to snake_case must match public class User { public String firstName; // -&gt; first_name (matches) }   ","version":"0.15","tagName":"h3"},{"title":"Á±ªÂûãËØ≠‰πâÂ∑ÆÂºÇ‚Äã","type":1,"pageTitle":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/guide/go/cross_language#Á±ªÂûãËØ≠‰πâÂ∑ÆÂºÇ","content":" Go ÁöÑÊó†Á¨¶Âè∑Á±ªÂûãÂú® Java ‰∏≠‰ºöÊò†Â∞ÑÂà∞Áõ∏ÂêåÊØîÁâπ‰ΩçÁöÑÊúâÁ¨¶Âè∑Á±ªÂûãÔºö  var value uint64 = 18446744073709551615 // Max uint64   Java long ÊåÅÊúâÁõ∏ÂêåÊØîÁâπ‰ΩçÔºå‰ΩÜÊåâÊúâÁ¨¶Âè∑Ëß£Èáä‰∏∫ -1„ÄÇËã•ÈúÄÊó†Á¨¶Âè∑ËØ≠‰πâÔºåÂèØÂú® Java ‰∏≠‰ΩøÁî® Long.toUnsignedString()„ÄÇ  ","version":"0.15","tagName":"h3"},{"title":"Nil ‰∏é Null‚Äã","type":1,"pageTitle":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/guide/go/cross_language#nil-‰∏é-null","content":" Go ÁöÑ nil slice/map Âú®‰∏çÂêåÈÖçÁΩÆ‰∏ãÂ∫èÂàóÂåñÊñπÂºè‰∏çÂêåÔºö  var slice []string = nil // In xlang mode: serializes based on nullable configuration   ËØ∑Á°Æ‰øùÂÖ∂‰ªñËØ≠Ë®ÄÁ´ØËÉΩÊ≠£Á°ÆÂ§ÑÁêÜ null„ÄÇ  ","version":"0.15","tagName":"h3"},{"title":"ÊúÄ‰Ω≥ÂÆûË∑µ‚Äã","type":1,"pageTitle":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/guide/go/cross_language#ÊúÄ‰Ω≥ÂÆûË∑µ","content":" Áªü‰∏Ä type IDÔºöÂêå‰∏ÄÁ±ªÂûãÂú®ÊâÄÊúâËØ≠Ë®Ä‰∏≠‰ΩøÁî®Áõ∏ÂêåÊï∞ÂÄº IDÂÆåÊï¥Ê≥®ÂÜåÁ±ªÂûãÔºöÂåÖÊã¨ÂµåÂ•óÁªìÊûÑ‰ΩìÁ±ªÂûãÁªü‰∏ÄÂ≠óÊÆµÈ°∫Â∫èÔºö‰ΩøÁî®‰∏ÄËá¥ snake_caseÔºåÊàñ‰ΩøÁî®ÊòæÂºèÂ≠óÊÆµ IDÂ∞ΩÊó©ÂÅöË∑®ËØ≠Ë®ÄÈõÜÊàêÊµãËØïÔºöÊåÅÁª≠È™åËØÅÂÖºÂÆπÊÄßÊ≥®ÊÑèÁ±ªÂûãËØ≠‰πâÂ∑ÆÂºÇÔºöÁâπÂà´ÊòØÊúâÁ¨¶Âè∑/Êó†Á¨¶Âè∑Ëß£ÈáäÂ∑ÆÂºÇ  ","version":"0.15","tagName":"h2"},{"title":"Áõ∏ÂÖ≥‰∏ªÈ¢ò‚Äã","type":1,"pageTitle":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/guide/go/cross_language#Áõ∏ÂÖ≥‰∏ªÈ¢ò","content":" Á±ªÂûãÊ≥®ÂÜåÊîØÊåÅÁ±ªÂûãSchema ÊºîËøõ ","version":"0.15","tagName":"h2"},{"title":"Struct Ê†áÁ≠æ","type":0,"sectionRef":"#","url":"/zh-CN/docs/guide/go/struct_tags","content":"","keywords":"","version":"0.15"},{"title":"Ê†áÁ≠æËØ≠Ê≥ï‚Äã","type":1,"pageTitle":"Struct Ê†áÁ≠æ","url":"/zh-CN/docs/guide/go/struct_tags#Ê†áÁ≠æËØ≠Ê≥ï","content":" Fory struct tag ÁöÑÈÄöÁî®Ê†ºÂºèÂ¶Ç‰∏ãÔºö  type MyStruct struct { Field Type `fory:&quot;option1,option2=value&quot;` }   Â§ö‰∏™ÈÄâÈ°π‰ΩøÁî®ÈÄóÂè∑Ôºà,ÔºâÂàÜÈöî„ÄÇ  ","version":"0.15","tagName":"h2"},{"title":"ÂèØÁî®Ê†áÁ≠æ‚Äã","type":1,"pageTitle":"Struct Ê†áÁ≠æ","url":"/zh-CN/docs/guide/go/struct_tags#ÂèØÁî®Ê†áÁ≠æ","content":" ","version":"0.15","tagName":"h2"},{"title":"Â≠óÊÆµ ID‚Äã","type":1,"pageTitle":"Struct Ê†áÁ≠æ","url":"/zh-CN/docs/guide/go/struct_tags#Â≠óÊÆµ-id","content":" ‰ΩøÁî® id=N ‰∏∫Â≠óÊÆµÂàÜÈÖçÊï∞ÂÄº IDÔºå‰ª•Ëé∑ÂæóÊõ¥Á¥ßÂáëÁºñÁ†ÅÔºö  type User struct { ID int64 `fory:&quot;id=0&quot;` Name string `fory:&quot;id=1&quot;` Age int32 `fory:&quot;id=2&quot;` }   Êî∂ÁõäÔºö  Â∫èÂàóÂåñ‰ΩìÁßØÊõ¥Â∞èÔºàÊï∞ÂÄº ID Êõø‰ª£Â≠óÊÆµÂêçÔºâÂ∫èÂàóÂåñ/ÂèçÂ∫èÂàóÂåñÊõ¥Âø´Ë∑®ËØ≠Ë®ÄÂÖºÂÆπÂú∫ÊôØ‰∏ãÊõ¥Êé®Ëçê  Ê≥®ÊÑèÔºö  Âêå‰∏Ä struct ÂÜÖ ID ÂøÖÈ°ªÂîØ‰∏ÄID ÂøÖÈ°ª &gt;= 0Êú™ÊåáÂÆöÊó∂‰ΩøÁî®Â≠óÊÆµÂêçÔºàpayload Êõ¥Â§ßÔºâ  ","version":"0.15","tagName":"h3"},{"title":"ÂøΩÁï•Â≠óÊÆµ‚Äã","type":1,"pageTitle":"Struct Ê†áÁ≠æ","url":"/zh-CN/docs/guide/go/struct_tags#ÂøΩÁï•Â≠óÊÆµ","content":" ‰ΩøÁî® - Â∞ÜÂ≠óÊÆµÊéíÈô§Âú®Â∫èÂàóÂåñ‰πãÂ§ñÔºö  type User struct { ID int64 Name string Password string `fory:&quot;-&quot;` // Not serialized }   Password ‰∏ç‰ºöËøõÂÖ•Â∫èÂàóÂåñÁªìÊûúÔºåÂèçÂ∫èÂàóÂåñÂêéÂ∞Ü‰øùÊåÅËØ•Á±ªÂûãÈõ∂ÂÄº„ÄÇ  ","version":"0.15","tagName":"h3"},{"title":"ÂèØÁ©∫ÊéßÂà∂‚Äã","type":1,"pageTitle":"Struct Ê†áÁ≠æ","url":"/zh-CN/docs/guide/go/struct_tags#ÂèØÁ©∫ÊéßÂà∂","content":" ‰ΩøÁî® nullable ÊéßÂà∂ÊòØÂê¶‰∏∫ÊåáÈíàÂ≠óÊÆµÂÜôÂÖ• null Ê†áËÆ∞Ôºö  type Record struct { // Write null flag for this field (allows nil values) OptionalData *Data `fory:&quot;nullable&quot;` // Skip null flag (field must not be nil) RequiredData *Data `fory:&quot;nullable=false&quot;` }   Ê≥®ÊÑèÔºö  ‰ªÖÈÄÇÁî®‰∫éÊåáÈíà„ÄÅslice„ÄÅmap Â≠óÊÆµnullable=false Êó∂ÔºåÂ∫èÂàóÂåñ nil ‰ºöÊä•ÈîôÈªòËÆ§ÊòØ falseÔºà‰∏çÂÜô null Ê†áËÆ∞Ôºâ  ","version":"0.15","tagName":"h3"},{"title":"ÂºïÁî®Ë∑üË∏™‚Äã","type":1,"pageTitle":"Struct Ê†áÁ≠æ","url":"/zh-CN/docs/guide/go/struct_tags#ÂºïÁî®Ë∑üË∏™","content":" ÂèØ‰∏∫ slice„ÄÅmap„ÄÅÊàñ‚ÄúÊåáÂêë struct ÁöÑÊåáÈíàÂ≠óÊÆµ‚ÄùËÆæÁΩÆÂ≠óÊÆµÁ∫ßÂºïÁî®Ë∑üË∏™Ôºö  type Container struct { // Enable reference tracking for this field SharedData *Data `fory:&quot;ref&quot;` // Disable reference tracking for this field SimpleData *Data `fory:&quot;ref=false&quot;` }   Ê≥®ÊÑèÔºö  ÈÄÇÁî®‰∫é slice„ÄÅmap ‰∏é‚ÄúÊåáÂêë struct ÁöÑÊåáÈíàÂ≠óÊÆµ‚ÄùÊåáÂêëÂéüÁîüÁ±ªÂûãÁöÑÊåáÈíàÔºàÂ¶Ç *int„ÄÅ*stringÔºâ‰∏çËÉΩ‰ΩøÁî®ËØ•Ê†áÁ≠æÈªòËÆ§ ref=falseÔºà‰∏çÂºÄÂêØÂºïÁî®Ë∑üË∏™ÔºâÂÖ®Â±Ä WithTrackRef(false) Êó∂ÔºåÂ≠óÊÆµÁ∫ß ref Ê†áÁ≠æ‰ºöË¢´ÂøΩÁï•ÂÖ®Â±Ä WithTrackRef(true) Êó∂ÔºåÂèØÁî® ref=false ÂØπÂçïÂ≠óÊÆµÁ¶ÅÁî®  ÈÄÇÁî®Âú∫ÊôØÔºö  ÂèØËÉΩÂá∫Áé∞ÂÖ±‰∫´ÊàñÂæ™ÁéØÂºïÁî®ÁöÑÂ≠óÊÆµÂèØÊòéÁ°ÆÂîØ‰∏ÄÁöÑÂ≠óÊÆµÂèØÁ¶ÅÁî®ÔºàÊÄßËÉΩ‰ºòÂåñÔºâ  ","version":"0.15","tagName":"h3"},{"title":"ÁºñÁ†ÅÊéßÂà∂‚Äã","type":1,"pageTitle":"Struct Ê†áÁ≠æ","url":"/zh-CN/docs/guide/go/struct_tags#ÁºñÁ†ÅÊéßÂà∂","content":" ‰ΩøÁî® encoding ÊéßÂà∂Êï∞ÂÄºÂ≠óÊÆµÁºñÁ†ÅÊñπÂºèÔºö  type Metrics struct { // Variable-length encoding (default, smaller for small values) Count int64 `fory:&quot;encoding=varint&quot;` // Fixed-length encoding (consistent size) Timestamp int64 `fory:&quot;encoding=fixed&quot;` // Tagged encoding (includes type tag) Value int64 `fory:&quot;encoding=tagged&quot;` }   ÊîØÊåÅÁºñÁ†ÅÔºö  Á±ªÂûã\tÂèØÈÄâÂÄº\tÈªòËÆ§ÂÄºint32\tvarint„ÄÅfixed\tvarint uint32\tvarint„ÄÅfixed\tvarint int64\tvarint„ÄÅfixed„ÄÅtagged\tvarint uint64\tvarint„ÄÅfixed„ÄÅtagged\tvarint  ‰ΩïÊó∂‰ΩøÁî®Ôºö  varintÔºöÈÄÇÂêàÂ∞èÂÄºÂ±ÖÂ§öÔºàÈªòËÆ§ÔºâfixedÔºöÈÄÇÂêàÊé•ËøëÂÖ®ÂÄºÂüüÂàÜÂ∏ÉÔºàÂ¶ÇÊó∂Èó¥Êà≥„ÄÅÂìàÂ∏åÔºâtaggedÔºöÈÄÇÂêàÈúÄ‰øùÁïôÁ±ªÂûã‰ø°ÊÅØÁöÑÂú∫ÊôØ  int32/uint32 ÁÆÄÂÜôÔºö  ÂØπ int32/uint32 Â≠óÊÆµÂèØ‰ΩøÁî® compress ‰Ωú‰∏∫‰æøÊç∑Ê†áÁ≠æÔºö  type Data struct { SmallValue int32 `fory:&quot;compress&quot;` // Same as encoding=varint (default) FixedValue uint32 `fory:&quot;compress=false&quot;` // Same as encoding=fixed }   ","version":"0.15","tagName":"h3"},{"title":"ÁªÑÂêàÊ†áÁ≠æ‚Äã","type":1,"pageTitle":"Struct Ê†áÁ≠æ","url":"/zh-CN/docs/guide/go/struct_tags#ÁªÑÂêàÊ†áÁ≠æ","content":" Â§ö‰∏™Ê†áÁ≠æÂèØ‰ΩøÁî®ÈÄóÂè∑ÁªÑÂêàÔºö  type Document struct { ID int64 `fory:&quot;id=0,encoding=fixed&quot;` Content string `fory:&quot;id=1&quot;` Author *User `fory:&quot;id=2,ref&quot;` }   ","version":"0.15","tagName":"h2"},{"title":"‰∏éÂÖ∂‰ªñÊ†áÁ≠æÂÖ±Â≠ò‚Äã","type":1,"pageTitle":"Struct Ê†áÁ≠æ","url":"/zh-CN/docs/guide/go/struct_tags#‰∏éÂÖ∂‰ªñÊ†áÁ≠æÂÖ±Â≠ò","content":" Fory Ê†áÁ≠æÂèØ‰∏éÂÖ∂‰ªñ struct tag Âπ∂Â≠òÔºö  type User struct { ID int64 `json:&quot;id&quot; fory:&quot;id=0&quot;` Name string `json:&quot;name,omitempty&quot; fory:&quot;id=1&quot;` Password string `json:&quot;-&quot; fory:&quot;-&quot;` }   ÂêÑÊ†áÁ≠æÂëΩÂêçÁ©∫Èó¥‰∫í‰∏çÂΩ±Âìç„ÄÇ  ","version":"0.15","tagName":"h2"},{"title":"Â≠óÊÆµÂèØËßÅÊÄß‚Äã","type":1,"pageTitle":"Struct Ê†áÁ≠æ","url":"/zh-CN/docs/guide/go/struct_tags#Â≠óÊÆµÂèØËßÅÊÄß","content":" ‰ªÖÂ§ÑÁêÜÂØºÂá∫Â≠óÊÆµÔºàÈ¶ñÂ≠óÊØçÂ§ßÂÜôÔºâÔºö  type User struct { ID int64 // Serialized Name string // Serialized password string // NOT serialized (unexported, no tag needed) }   Êú™ÂØºÂá∫Â≠óÊÆµÂßãÁªàÂøΩÁï•Ôºå‰∏éÊòØÂê¶ÈÖçÁΩÆ tag Êó†ÂÖ≥„ÄÇ  ","version":"0.15","tagName":"h2"},{"title":"Â≠óÊÆµÈ°∫Â∫è‚Äã","type":1,"pageTitle":"Struct Ê†áÁ≠æ","url":"/zh-CN/docs/guide/go/struct_tags#Â≠óÊÆµÈ°∫Â∫è","content":" Â≠óÊÆµ‰ºöÊåâÁ®≥ÂÆöÈ°∫Â∫èÂ∫èÂàóÂåñÔºå‰æùÊçÆÔºö  Â≠óÊÆµÂêçÔºàsnake_case Â≠óÂÖ∏Â∫èÔºâÂ≠óÊÆµÁ±ªÂûã  ËøôÂèØ‰øùËØÅË∑®ËØ≠Ë®ÄÂú∫ÊôØ‰∏ãÁöÑÂ≠óÊÆµÈ°∫Â∫è‰∏ÄËá¥ÊÄß„ÄÇ  ","version":"0.15","tagName":"h2"},{"title":"Struct ÂìàÂ∏å‚Äã","type":1,"pageTitle":"Struct Ê†áÁ≠æ","url":"/zh-CN/docs/guide/go/struct_tags#struct-ÂìàÂ∏å","content":" Fory ‰ºöÂü∫‰∫é struct Â≠óÊÆµËÆ°ÁÆóÂìàÂ∏åÁî®‰∫éÁâàÊú¨Ê†°È™åÔºö  ÂìàÂ∏åÂåÖÂê´Â≠óÊÆµÂêç‰∏éÂ≠óÊÆµÁ±ªÂûãÂìàÂ∏å‰ºöÂÜôÂÖ•Â∫èÂàóÂåñÊï∞ÊçÆ‰∏çÂåπÈÖç‰ºöËß¶Âèë ErrKindHashMismatch  ÁªìÊûÑÂ≠óÊÆµÂèòÊõ¥‰ºöÂΩ±ÂìçÂìàÂ∏åÔºö  // These produce different hashes type V1 struct { UserID int64 } type V2 struct { UserId int64 // Different field name = different hash }   ","version":"0.15","tagName":"h2"},{"title":"Á§∫‰æã‚Äã","type":1,"pageTitle":"Struct Ê†áÁ≠æ","url":"/zh-CN/docs/guide/go/struct_tags#Á§∫‰æã","content":" ","version":"0.15","tagName":"h2"},{"title":"API ÂìçÂ∫îÁªìÊûÑ‚Äã","type":1,"pageTitle":"Struct Ê†áÁ≠æ","url":"/zh-CN/docs/guide/go/struct_tags#api-ÂìçÂ∫îÁªìÊûÑ","content":" type APIResponse struct { Status int32 `json:&quot;status&quot; fory:&quot;id=0&quot;` Message string `json:&quot;message&quot; fory:&quot;id=1&quot;` Data any `json:&quot;data&quot; fory:&quot;id=2&quot;` Internal string `json:&quot;-&quot; fory:&quot;-&quot;` // Ignored in both JSON and Fory }   ","version":"0.15","tagName":"h3"},{"title":"Â∏¶ÂÖ±‰∫´ÂºïÁî®ÁöÑÁºìÂ≠òÁªìÊûÑ‚Äã","type":1,"pageTitle":"Struct Ê†áÁ≠æ","url":"/zh-CN/docs/guide/go/struct_tags#Â∏¶ÂÖ±‰∫´ÂºïÁî®ÁöÑÁºìÂ≠òÁªìÊûÑ","content":" type CacheEntry struct { Key string Value *CachedData `fory:&quot;ref&quot;` // May be shared Metadata *Metadata `fory:&quot;ref=false&quot;` // Always unique ExpiresAt int64 }   ","version":"0.15","tagName":"h3"},{"title":"Â∏¶Âæ™ÁéØÂºïÁî®ÁöÑÊñáÊ°£ÁªìÊûÑ‚Äã","type":1,"pageTitle":"Struct Ê†áÁ≠æ","url":"/zh-CN/docs/guide/go/struct_tags#Â∏¶Âæ™ÁéØÂºïÁî®ÁöÑÊñáÊ°£ÁªìÊûÑ","content":" type Document struct { ID int64 Title string Parent *Document `fory:&quot;ref&quot;` // May reference self or siblings Children []*Document `fory:&quot;ref&quot;` }   ","version":"0.15","tagName":"h3"},{"title":"Ê†áÁ≠æËß£ÊûêÈîôËØØ‚Äã","type":1,"pageTitle":"Struct Ê†áÁ≠æ","url":"/zh-CN/docs/guide/go/struct_tags#Ê†áÁ≠æËß£ÊûêÈîôËØØ","content":" Ê≥®ÂÜåÈò∂ÊÆµËã•Ê†áÁ≠æÈùûÊ≥ï‰ºöÊä•ÈîôÔºö  type BadStruct struct { Field int `fory:&quot;invalid=option=format&quot;` } f := fory.New() err := f.RegisterStruct(BadStruct{}, 1) // Error: ErrKindInvalidTag   ","version":"0.15","tagName":"h2"},{"title":"ÊúÄ‰Ω≥ÂÆûË∑µ‚Äã","type":1,"pageTitle":"Struct Ê†áÁ≠æ","url":"/zh-CN/docs/guide/go/struct_tags#ÊúÄ‰Ω≥ÂÆûË∑µ","content":" ÊïèÊÑüÂ≠óÊÆµ‰ΩøÁî® -ÔºöÂ¶ÇÂØÜÁ†Å„ÄÅ‰ª§Áâå„ÄÅÂÜÖÈÉ®Áä∂ÊÄÅÂÖ±‰∫´ÂØπË±°ÂêØÁî® refÔºöÂêå‰∏ÄÊåáÈíàÂèØËÉΩÂ§öÊ¨°Âá∫Áé∞Êó∂ÂºÄÂêØÁÆÄÂçïÂîØ‰∏ÄÂ≠óÊÆµÁ¶ÅÁî® refÔºöÂèØÂÅöÊÄßËÉΩ‰ºòÂåñ‰øùÊåÅÂëΩÂêç‰∏ÄËá¥ÔºöË∑®ËØ≠Ë®ÄÂ≠óÊÆµÂêçÂ∫î‰øùÊåÅÁ®≥ÂÆöËÆ∞ÂΩïÊ†áÁ≠æÊÑèÂõæÔºöÈùûÊòæÂºèÈÖçÁΩÆÂª∫ËÆÆË°•ÂÖÖÊ≥®ÈáäËØ¥Êòé  ","version":"0.15","tagName":"h2"},{"title":"Â∏∏ËßÅÊ®°Âºè‚Äã","type":1,"pageTitle":"Struct Ê†áÁ≠æ","url":"/zh-CN/docs/guide/go/struct_tags#Â∏∏ËßÅÊ®°Âºè","content":" ","version":"0.15","tagName":"h2"},{"title":"ÂøΩÁï•ËÆ°ÁÆóÂ≠óÊÆµ‚Äã","type":1,"pageTitle":"Struct Ê†áÁ≠æ","url":"/zh-CN/docs/guide/go/struct_tags#ÂøΩÁï•ËÆ°ÁÆóÂ≠óÊÆµ","content":" type Rectangle struct { Width float64 Height float64 Area float64 `fory:&quot;-&quot;` // Computed, don't serialize } func (r *Rectangle) ComputeArea() { r.Area = r.Width * r.Height }   ","version":"0.15","tagName":"h3"},{"title":"Â∏¶Áà∂ÊåáÈíàÁöÑÂæ™ÁéØÁªìÊûÑ‚Äã","type":1,"pageTitle":"Struct Ê†áÁ≠æ","url":"/zh-CN/docs/guide/go/struct_tags#Â∏¶Áà∂ÊåáÈíàÁöÑÂæ™ÁéØÁªìÊûÑ","content":" type TreeNode struct { Value string Parent *TreeNode `fory:&quot;ref&quot;` // Circular back-reference Children []*TreeNode `fory:&quot;ref&quot;` }   ","version":"0.15","tagName":"h3"},{"title":"Ê∑∑ÂêàÂ∫èÂàóÂåñÈúÄÊ±Ç‚Äã","type":1,"pageTitle":"Struct Ê†áÁ≠æ","url":"/zh-CN/docs/guide/go/struct_tags#Ê∑∑ÂêàÂ∫èÂàóÂåñÈúÄÊ±Ç","content":" type Session struct { ID string UserID int64 Token string `fory:&quot;-&quot;` // Security: don't serialize User *User `fory:&quot;ref&quot;` // May be shared across sessions CreatedAt int64 }   ","version":"0.15","tagName":"h3"},{"title":"Áõ∏ÂÖ≥‰∏ªÈ¢ò‚Äã","type":1,"pageTitle":"Struct Ê†áÁ≠æ","url":"/zh-CN/docs/guide/go/struct_tags#Áõ∏ÂÖ≥‰∏ªÈ¢ò","content":" ÂºïÁî®Âü∫Á°ÄÂ∫èÂàóÂåñSchema ÊºîËøõ ","version":"0.15","tagName":"h2"},{"title":"Ëá™ÂÆö‰πâÂ∫èÂàóÂåñÂô®","type":0,"sectionRef":"#","url":"/zh-CN/docs/guide/go/custom_serializers","content":"","keywords":"","version":"0.15"},{"title":"‰ΩïÊó∂‰ΩøÁî®Ëá™ÂÆö‰πâÂ∫èÂàóÂåñÂô®‚Äã","type":1,"pageTitle":"Ëá™ÂÆö‰πâÂ∫èÂàóÂåñÂô®","url":"/zh-CN/docs/guide/go/custom_serializers#‰ΩïÊó∂‰ΩøÁî®Ëá™ÂÆö‰πâÂ∫èÂàóÂåñÂô®","content":" Special encoding: Types that need a specific binary formatThird-party types: Types from external libraries that Fory doesn't handle automaticallyOptimization: When you can serialize more efficiently than the default reflection-based approachCross-language compatibility: When you need precise control over the binary format for interoperability  ","version":"0.15","tagName":"h2"},{"title":"ExtensionSerializer Êé•Âè£‚Äã","type":1,"pageTitle":"Ëá™ÂÆö‰πâÂ∫èÂàóÂåñÂô®","url":"/zh-CN/docs/guide/go/custom_serializers#extensionserializer-Êé•Âè£","content":" Custom serializers implement the ExtensionSerializer interface:  type ExtensionSerializer interface { // WriteData serializes the value to the buffer. // Only write the data - Fory handles type info and references. // Use ctx.Buffer() to access the ByteBuffer. // Use ctx.SetError() to report errors. WriteData(ctx *WriteContext, value reflect.Value) // ReadData deserializes the value from the buffer into the provided value. // Only read the data - Fory handles type info and references. // Use ctx.Buffer() to access the ByteBuffer. // Use ctx.SetError() to report errors. ReadData(ctx *ReadContext, value reflect.Value) }   ","version":"0.15","tagName":"h2"},{"title":"Âü∫Á°ÄÁ§∫‰æã‚Äã","type":1,"pageTitle":"Ëá™ÂÆö‰πâÂ∫èÂàóÂåñÂô®","url":"/zh-CN/docs/guide/go/custom_serializers#Âü∫Á°ÄÁ§∫‰æã","content":" Here's a simple custom serializer for a type with an integer field:  import ( &quot;reflect&quot; &quot;github.com/apache/fory/go/fory&quot; ) type MyExt struct { Id int32 } type MyExtSerializer struct{} func (s *MyExtSerializer) WriteData(ctx *fory.WriteContext, value reflect.Value) { myExt := value.Interface().(MyExt) ctx.Buffer().WriteVarint32(myExt.Id) } func (s *MyExtSerializer) ReadData(ctx *fory.ReadContext, value reflect.Value) { id := ctx.Buffer().ReadVarint32(ctx.Err()) value.Set(reflect.ValueOf(MyExt{Id: id})) } // Register the custom serializer f := fory.New() err := f.RegisterExtension(MyExt{}, 100, &amp;MyExtSerializer{})   ","version":"0.15","tagName":"h2"},{"title":"Context ÊñπÊ≥ï‚Äã","type":1,"pageTitle":"Ëá™ÂÆö‰πâÂ∫èÂàóÂåñÂô®","url":"/zh-CN/docs/guide/go/custom_serializers#context-ÊñπÊ≥ï","content":" The WriteContext and ReadContext provide access to serialization resources:  Method\tDescriptionBuffer()\tReturns the *ByteBuffer for reading/writing Err()\tReturns *Error for deferred error checking SetError(err)\tSets an error on the context HasError()\tReturns true if an error has been set TypeResolver()\tReturns the type resolver for nested types RefResolver()\tReturns the reference resolver for ref support  ","version":"0.15","tagName":"h2"},{"title":"ByteBuffer ÊñπÊ≥ï‚Äã","type":1,"pageTitle":"Ëá™ÂÆö‰πâÂ∫èÂàóÂåñÂô®","url":"/zh-CN/docs/guide/go/custom_serializers#bytebuffer-ÊñπÊ≥ï","content":" The ByteBuffer provides methods for reading and writing primitive types:  ","version":"0.15","tagName":"h2"},{"title":"ÂÜôÂÖ•ÊñπÊ≥ï‚Äã","type":1,"pageTitle":"Ëá™ÂÆö‰πâÂ∫èÂàóÂåñÂô®","url":"/zh-CN/docs/guide/go/custom_serializers#ÂÜôÂÖ•ÊñπÊ≥ï","content":" Method\tDescriptionWriteBool(v bool)\tWrite a boolean WriteInt8(v int8)\tWrite a signed 8-bit integer WriteInt16(v int16)\tWrite a signed 16-bit integer WriteInt32(v int32)\tWrite a signed 32-bit integer WriteInt64(v int64)\tWrite a signed 64-bit integer WriteFloat32(v float32)\tWrite a 32-bit float WriteFloat64(v float64)\tWrite a 64-bit float WriteVarint32(v int32)\tWrite a variable-length signed 32-bit integer WriteVarint64(v int64)\tWrite a variable-length signed 64-bit integer WriteBinary(data []byte)\tWrite raw bytes  ","version":"0.15","tagName":"h3"},{"title":"ËØªÂèñÊñπÊ≥ï‚Äã","type":1,"pageTitle":"Ëá™ÂÆö‰πâÂ∫èÂàóÂåñÂô®","url":"/zh-CN/docs/guide/go/custom_serializers#ËØªÂèñÊñπÊ≥ï","content":" All read methods take an *Error parameter for deferred error checking:  Method\tDescriptionReadBool(err *Error) bool\tRead a boolean ReadInt8(err *Error) int8\tRead a signed 8-bit integer ReadInt16(err *Error) int16\tRead a signed 16-bit integer ReadInt32(err *Error) int32\tRead a signed 32-bit integer ReadInt64(err *Error) int64\tRead a signed 64-bit integer ReadFloat32(err *Error) float32\tRead a 32-bit float ReadFloat64(err *Error) float64\tRead a 64-bit float ReadVarint32(err *Error) int32\tRead a variable-length signed 32-bit integer ReadVarint64(err *Error) int64\tRead a variable-length signed 64-bit integer ReadBinary(length int, err *Error) []byte\tRead raw bytes of specified length  ","version":"0.15","tagName":"h3"},{"title":"Complex Type Example‚Äã","type":1,"pageTitle":"Ëá™ÂÆö‰πâÂ∫èÂàóÂåñÂô®","url":"/zh-CN/docs/guide/go/custom_serializers#complex-type-example","content":" A custom serializer for a type with multiple fields:  type Point3D struct { X, Y, Z float64 Label string } type Point3DSerializer struct{} func (s *Point3DSerializer) WriteData(ctx *fory.WriteContext, value reflect.Value) { p := value.Interface().(Point3D) buf := ctx.Buffer() buf.WriteFloat64(p.X) buf.WriteFloat64(p.Y) buf.WriteFloat64(p.Z) // Write string as length + bytes labelBytes := []byte(p.Label) buf.WriteVarint32(int32(len(labelBytes))) buf.WriteBinary(labelBytes) } func (s *Point3DSerializer) ReadData(ctx *fory.ReadContext, value reflect.Value) { buf := ctx.Buffer() err := ctx.Err() x := buf.ReadFloat64(err) y := buf.ReadFloat64(err) z := buf.ReadFloat64(err) labelLen := buf.ReadVarint32(err) labelBytes := buf.ReadBinary(int(labelLen), err) value.Set(reflect.ValueOf(Point3D{ X: x, Y: y, Z: z, Label: string(labelBytes), })) } f := fory.New() f.RegisterExtension(Point3D{}, 101, &amp;Point3DSerializer{})   ","version":"0.15","tagName":"h2"},{"title":"Handling Pointers‚Äã","type":1,"pageTitle":"Ëá™ÂÆö‰πâÂ∫èÂàóÂåñÂô®","url":"/zh-CN/docs/guide/go/custom_serializers#handling-pointers","content":" When your type contains pointers, handle nil values explicitly:  type OptionalValue struct { Value *int64 } type OptionalValueSerializer struct{} func (s *OptionalValueSerializer) WriteData(ctx *fory.WriteContext, value reflect.Value) { ov := value.Interface().(OptionalValue) buf := ctx.Buffer() if ov.Value == nil { buf.WriteBool(false) // nil flag } else { buf.WriteBool(true) // not nil buf.WriteInt64(*ov.Value) } } func (s *OptionalValueSerializer) ReadData(ctx *fory.ReadContext, value reflect.Value) { buf := ctx.Buffer() err := ctx.Err() hasValue := buf.ReadBool(err) if !hasValue { value.Set(reflect.ValueOf(OptionalValue{Value: nil})) return } v := buf.ReadInt64(err) value.Set(reflect.ValueOf(OptionalValue{Value: &amp;v})) }   ","version":"0.15","tagName":"h2"},{"title":"Error Handling‚Äã","type":1,"pageTitle":"Ëá™ÂÆö‰πâÂ∫èÂàóÂåñÂô®","url":"/zh-CN/docs/guide/go/custom_serializers#error-handling","content":" Use ctx.SetError() to report errors:  func (s *MySerializer) ReadData(ctx *fory.ReadContext, value reflect.Value) { buf := ctx.Buffer() version := buf.ReadInt8(ctx.Err()) if ctx.HasError() { return } if version != 1 { ctx.SetError(fory.DeserializationErrorf(&quot;unsupported version: %d&quot;, version)) return } // Continue reading... value.Set(reflect.ValueOf(result)) }   ","version":"0.15","tagName":"h2"},{"title":"Registration Options‚Äã","type":1,"pageTitle":"Ëá™ÂÆö‰πâÂ∫èÂàóÂåñÂô®","url":"/zh-CN/docs/guide/go/custom_serializers#registration-options","content":" ","version":"0.15","tagName":"h2"},{"title":"Register by ID‚Äã","type":1,"pageTitle":"Ëá™ÂÆö‰πâÂ∫èÂàóÂåñÂô®","url":"/zh-CN/docs/guide/go/custom_serializers#register-by-id","content":" More compact serialization, requires ID coordination across languages:  f.RegisterExtension(MyType{}, 100, &amp;MySerializer{})   ","version":"0.15","tagName":"h3"},{"title":"Register by Name‚Äã","type":1,"pageTitle":"Ëá™ÂÆö‰πâÂ∫èÂàóÂåñÂô®","url":"/zh-CN/docs/guide/go/custom_serializers#register-by-name","content":" More flexible but more serialization cost, type name included in serialized data:  f.RegisterNamedExtension(MyType{}, &quot;myapp.MyType&quot;, &amp;MySerializer{})   ","version":"0.15","tagName":"h3"},{"title":"ÊúÄ‰Ω≥ÂÆûË∑µ‚Äã","type":1,"pageTitle":"Ëá™ÂÆö‰πâÂ∫èÂàóÂåñÂô®","url":"/zh-CN/docs/guide/go/custom_serializers#ÊúÄ‰Ω≥ÂÆûË∑µ","content":" Keep it simple: Only serialize what you needUse variable-length integers: WriteVarint32/WriteVarint64 for integers that are often smallHandle nil explicitly: Check for nil pointers and slicesVersion your format: Consider adding a version byte for future compatibilityTest round-trips: Always verify that Read(Write(value)) == valueMatch read/write order: Read fields in exactly the same order you write themCheck errors: Use ctx.HasError() after reading to handle errors gracefullyDeploy before use: Always deploy the registered serializer to all services before sending data serialized with it. If a service receives data for an unregistered serializer, deserialization will fail  ","version":"0.15","tagName":"h2"},{"title":"Testing Custom Serializers‚Äã","type":1,"pageTitle":"Ëá™ÂÆö‰πâÂ∫èÂàóÂåñÂô®","url":"/zh-CN/docs/guide/go/custom_serializers#testing-custom-serializers","content":" func TestMySerializer(t *testing.T) { f := fory.New() f.RegisterExtension(MyType{}, 100, &amp;MySerializer{}) original := MyType{Field: &quot;test&quot;} // Serialize data, err := f.Serialize(original) require.NoError(t, err) // Deserialize var result MyType err = f.Deserialize(data, &amp;result) require.NoError(t, err) assert.Equal(t, original, result) }   ","version":"0.15","tagName":"h2"},{"title":"Áõ∏ÂÖ≥‰∏ªÈ¢ò‚Äã","type":1,"pageTitle":"Ëá™ÂÆö‰πâÂ∫èÂàóÂåñÂô®","url":"/zh-CN/docs/guide/go/custom_serializers#Áõ∏ÂÖ≥‰∏ªÈ¢ò","content":" Type RegistrationSupported TypesCross-Language Serialization ","version":"0.15","tagName":"h2"},{"title":"ÂºïÁî®Â§ÑÁêÜ","type":0,"sectionRef":"#","url":"/zh-CN/docs/guide/go/references","content":"","keywords":"","version":"0.15"},{"title":"ÂêØÁî®ÂºïÁî®Ë∑üË∏™‚Äã","type":1,"pageTitle":"ÂºïÁî®Â§ÑÁêÜ","url":"/zh-CN/docs/guide/go/references#ÂêØÁî®ÂºïÁî®Ë∑üË∏™","content":" Reference tracking is disabled by default. Enable it when creating a Fory instance:  f := fory.New(fory.WithTrackRef(true))   Important: Global reference tracking must be enabled for any reference tracking to occur. When WithTrackRef(false) (the default), all per-field reference tags are ignored.  ","version":"0.15","tagName":"h2"},{"title":"ÂºïÁî®Ë∑üË∏™Â∑•‰ΩúÂéüÁêÜ‚Äã","type":1,"pageTitle":"ÂºïÁî®Â§ÑÁêÜ","url":"/zh-CN/docs/guide/go/references#ÂºïÁî®Ë∑üË∏™Â∑•‰ΩúÂéüÁêÜ","content":" ","version":"0.15","tagName":"h2"},{"title":"Without Reference Tracking (Default)‚Äã","type":1,"pageTitle":"ÂºïÁî®Â§ÑÁêÜ","url":"/zh-CN/docs/guide/go/references#without-reference-tracking-default","content":" When disabled, each object is serialized independently:  f := fory.New() // TrackRef disabled by default shared := &amp;Data{Value: 42} container := &amp;Container{A: shared, B: shared} data, _ := f.Serialize(container) // 'shared' is serialized TWICE (no deduplication)   ","version":"0.15","tagName":"h3"},{"title":"With Reference Tracking‚Äã","type":1,"pageTitle":"ÂºïÁî®Â§ÑÁêÜ","url":"/zh-CN/docs/guide/go/references#with-reference-tracking","content":" When enabled, objects are tracked by identity:  f := fory.New(fory.WithTrackRef(true)) shared := &amp;Data{Value: 42} container := &amp;Container{A: shared, B: shared} data, _ := f.Serialize(container) // 'shared' is serialized ONCE, second occurrence is a reference   ","version":"0.15","tagName":"h3"},{"title":"ÂºïÁî®Ê†áËÆ∞‚Äã","type":1,"pageTitle":"ÂºïÁî®Â§ÑÁêÜ","url":"/zh-CN/docs/guide/go/references#ÂºïÁî®Ê†áËÆ∞","content":" Fory uses flags to indicate reference states during serialization:  Flag\tValue\tMeaningNullFlag\t-3\tNil/null value RefFlag\t-2\tReference to previously serialized object NotNullValueFlag\t-1\tNon-null value (data follows) RefValueFlag\t0\tReference value flag  ","version":"0.15","tagName":"h2"},{"title":"ÂèØÂºïÁî®Ë∑üË∏™ÁöÑÁ±ªÂûã‚Äã","type":1,"pageTitle":"ÂºïÁî®Â§ÑÁêÜ","url":"/zh-CN/docs/guide/go/references#ÂèØÂºïÁî®Ë∑üË∏™ÁöÑÁ±ªÂûã","content":" Only certain types support reference tracking. In xlang mode, the following types can track references:  Type\tReference Tracked\tNotes*struct (pointer to struct)\tYes\tEnable with fory:&quot;ref&quot; tag any (interface)\tYes\tAutomatically tracked []T (slices)\tYes\tEnable with fory:&quot;ref&quot; tag map[K]V\tYes\tEnable with fory:&quot;ref&quot; tag *int, *string, etc.\tNo\tPointer to primitives excluded Primitives\tNo\tValue types time.Time, time.Duration\tNo\tValue types Arrays ([N]T)\tNo\tValue types  ","version":"0.15","tagName":"h2"},{"title":"Â≠óÊÆµÁ∫ßÂºïÁî®ÊéßÂà∂‚Äã","type":1,"pageTitle":"ÂºïÁî®Â§ÑÁêÜ","url":"/zh-CN/docs/guide/go/references#Â≠óÊÆµÁ∫ßÂºïÁî®ÊéßÂà∂","content":" By default, reference tracking is disabled for individual fields even when global WithTrackRef(true) is set. You can enable reference tracking for specific fields using the ref struct tag:  type Container struct { // Enable ref tracking for this field SharedData *Data `fory:&quot;ref&quot;` // Explicitly disable ref tracking (same as default) SimpleData *Data `fory:&quot;ref=false&quot;` }   Important notes:  Per-field tags only take effect when global WithTrackRef(true) is setWhen global WithTrackRef(false) (default), all field ref tags are ignoredApplies to slices, maps, and pointer to struct fieldsPointer to primitive types (e.g., *int, *string) cannot use this tagDefault is ref=false (no reference tracking per field)  See Struct Tags for more details.  ","version":"0.15","tagName":"h2"},{"title":"Âæ™ÁéØÂºïÁî®‚Äã","type":1,"pageTitle":"ÂºïÁî®Â§ÑÁêÜ","url":"/zh-CN/docs/guide/go/references#Âæ™ÁéØÂºïÁî®","content":" Reference tracking is required for circular data structures:  ","version":"0.15","tagName":"h2"},{"title":"Circular Linked List‚Äã","type":1,"pageTitle":"ÂºïÁî®Â§ÑÁêÜ","url":"/zh-CN/docs/guide/go/references#circular-linked-list","content":" type Node struct { Value int32 Next *Node `fory:&quot;ref&quot;` } f := fory.New(fory.WithTrackRef(true)) f.RegisterStruct(Node{}, 1) // Create circular list n1 := &amp;Node{Value: 1} n2 := &amp;Node{Value: 2} n3 := &amp;Node{Value: 3} n1.Next = n2 n2.Next = n3 n3.Next = n1 // Circular reference back to n1 data, _ := f.Serialize(n1) var result Node f.Deserialize(data, &amp;result) // Circular structure is preserved // result.Next.Next.Next == &amp;result   ","version":"0.15","tagName":"h3"},{"title":"Parent-Child Tree‚Äã","type":1,"pageTitle":"ÂºïÁî®Â§ÑÁêÜ","url":"/zh-CN/docs/guide/go/references#parent-child-tree","content":" type TreeNode struct { Value string Parent *TreeNode `fory:&quot;ref&quot;` Children []*TreeNode `fory:&quot;ref&quot;` } f := fory.New(fory.WithTrackRef(true)) f.RegisterStruct(TreeNode{}, 1) root := &amp;TreeNode{Value: &quot;root&quot;} child1 := &amp;TreeNode{Value: &quot;child1&quot;, Parent: root} child2 := &amp;TreeNode{Value: &quot;child2&quot;, Parent: root} root.Children = []*TreeNode{child1, child2} data, _ := f.Serialize(root) var result TreeNode f.Deserialize(data, &amp;result) // result.Children[0].Parent == &amp;result   ","version":"0.15","tagName":"h3"},{"title":"Graph Structures‚Äã","type":1,"pageTitle":"ÂºïÁî®Â§ÑÁêÜ","url":"/zh-CN/docs/guide/go/references#graph-structures","content":" type GraphNode struct { ID int32 Neighbors []*GraphNode `fory:&quot;ref&quot;` } f := fory.New(fory.WithTrackRef(true)) f.RegisterStruct(GraphNode{}, 1) // Create a graph a := &amp;GraphNode{ID: 1} b := &amp;GraphNode{ID: 2} c := &amp;GraphNode{ID: 3} // Bidirectional connections a.Neighbors = []*GraphNode{b, c} b.Neighbors = []*GraphNode{a, c} c.Neighbors = []*GraphNode{a, b} data, _ := f.Serialize(a) var result GraphNode f.Deserialize(data, &amp;result)   ","version":"0.15","tagName":"h3"},{"title":"Shared Object Deduplication‚Äã","type":1,"pageTitle":"ÂºïÁî®Â§ÑÁêÜ","url":"/zh-CN/docs/guide/go/references#shared-object-deduplication","content":" Reference tracking also deduplicates shared objects:  type Config struct { Setting string } type Application struct { MainConfig *Config `fory:&quot;ref&quot;` BackupConfig *Config `fory:&quot;ref&quot;` FallbackConfig *Config `fory:&quot;ref&quot;` } f := fory.New(fory.WithTrackRef(true)) f.RegisterStruct(Config{}, 1) f.RegisterStruct(Application{}, 2) // Shared configuration config := &amp;Config{Setting: &quot;value&quot;} // Multiple references to same object app := &amp;Application{ MainConfig: config, BackupConfig: config, FallbackConfig: config, } data, _ := f.Serialize(app) // 'config' serialized once, others are references var result Application f.Deserialize(data, &amp;result) // result.MainConfig == result.BackupConfig == result.FallbackConfig   ","version":"0.15","tagName":"h2"},{"title":"Performance Considerations‚Äã","type":1,"pageTitle":"ÂºïÁî®Â§ÑÁêÜ","url":"/zh-CN/docs/guide/go/references#performance-considerations","content":" ","version":"0.15","tagName":"h2"},{"title":"Overhead‚Äã","type":1,"pageTitle":"ÂºïÁî®Â§ÑÁêÜ","url":"/zh-CN/docs/guide/go/references#overhead","content":" Reference tracking adds overhead:  Memory for tracking seen objects (hash map)Hash lookups during serializationAdditional bytes for reference flags and IDs  ","version":"0.15","tagName":"h3"},{"title":"When to Enable‚Äã","type":1,"pageTitle":"ÂºïÁî®Â§ÑÁêÜ","url":"/zh-CN/docs/guide/go/references#when-to-enable","content":" Enable reference tracking when:  Data has circular referencesSame object referenced multiple timesSerializing graph structuresObject identity must be preserved  Disable reference tracking when:  Data is tree-structured (no cycles)Each object appears only onceMaximum performance is requiredObject identity doesn't matter  ","version":"0.15","tagName":"h3"},{"title":"Memory Usage‚Äã","type":1,"pageTitle":"ÂºïÁî®Â§ÑÁêÜ","url":"/zh-CN/docs/guide/go/references#memory-usage","content":" Reference tracking maintains a map of serializing objects:  // Internal reference tracking structure type RefResolver struct { writtenObjects map[refKey]int32 // pointer -&gt; reference ID readObjects []reflect.Value // reference ID -&gt; object }   For large object graphs, this may increase memory usage.  ","version":"0.15","tagName":"h3"},{"title":"Error Handling‚Äã","type":1,"pageTitle":"ÂºïÁî®Â§ÑÁêÜ","url":"/zh-CN/docs/guide/go/references#error-handling","content":" ","version":"0.15","tagName":"h2"},{"title":"Without Reference Tracking‚Äã","type":1,"pageTitle":"ÂºïÁî®Â§ÑÁêÜ","url":"/zh-CN/docs/guide/go/references#without-reference-tracking","content":" Circular references without tracking cause stack overflow or max depth errors:  f := fory.New() // No reference tracking n1 := &amp;Node{Value: 1} n1.Next = n1 // Self-reference data, err := f.Serialize(n1) // Error: max depth exceeded (or stack overflow)   ","version":"0.15","tagName":"h3"},{"title":"Invalid Reference ID‚Äã","type":1,"pageTitle":"ÂºïÁî®Â§ÑÁêÜ","url":"/zh-CN/docs/guide/go/references#invalid-reference-id","content":" During deserialization, an invalid reference ID produces an error:  // Error type: ErrKindInvalidRefId   This occurs when serialized data contains a reference to an object that wasn't previously serialized.  ","version":"0.15","tagName":"h3"},{"title":"Complete Example‚Äã","type":1,"pageTitle":"ÂºïÁî®Â§ÑÁêÜ","url":"/zh-CN/docs/guide/go/references#complete-example","content":" package main import ( &quot;fmt&quot; &quot;github.com/apache/fory/go/fory&quot; ) type Person struct { Name string Friends []*Person `fory:&quot;ref&quot;` BestFriend *Person `fory:&quot;ref&quot;` } func main() { f := fory.New(fory.WithTrackRef(true)) f.RegisterStruct(Person{}, 1) // Create people with mutual friendships alice := &amp;Person{Name: &quot;Alice&quot;} bob := &amp;Person{Name: &quot;Bob&quot;} charlie := &amp;Person{Name: &quot;Charlie&quot;} alice.Friends = []*Person{bob, charlie} alice.BestFriend = bob bob.Friends = []*Person{alice, charlie} bob.BestFriend = alice // Mutual best friends charlie.Friends = []*Person{alice, bob} // Serialize data, err := f.Serialize(alice) if err != nil { panic(err) } fmt.Printf(&quot;Serialized %d bytes\\n&quot;, len(data)) // Deserialize var result Person if err := f.Deserialize(data, &amp;result); err != nil { panic(err) } // Verify circular references preserved fmt.Printf(&quot;Alice's best friend: %s\\n&quot;, result.BestFriend.Name) fmt.Printf(&quot;Bob's best friend: %s\\n&quot;, result.BestFriend.BestFriend.Name) // Output: Alice (circular reference preserved) }   ","version":"0.15","tagName":"h2"},{"title":"Áõ∏ÂÖ≥‰∏ªÈ¢ò‚Äã","type":1,"pageTitle":"ÂºïÁî®Â§ÑÁêÜ","url":"/zh-CN/docs/guide/go/references#Áõ∏ÂÖ≥‰∏ªÈ¢ò","content":" ConfigurationStruct TagsCross-Language Serialization ","version":"0.15","tagName":"h2"},{"title":"Schema ÊºîËøõ","type":0,"sectionRef":"#","url":"/zh-CN/docs/guide/go/schema_evolution","content":"","keywords":"","version":"0.15"},{"title":"ÂêØÁî®ÂÖºÂÆπÊ®°Âºè‚Äã","type":1,"pageTitle":"Schema ÊºîËøõ","url":"/zh-CN/docs/guide/go/schema_evolution#ÂêØÁî®ÂÖºÂÆπÊ®°Âºè","content":" Enable compatible mode when creating a Fory instance:  f := fory.New(fory.WithCompatible(true))   ","version":"0.15","tagName":"h2"},{"title":"Â∑•‰ΩúÊú∫Âà∂‚Äã","type":1,"pageTitle":"Schema ÊºîËøõ","url":"/zh-CN/docs/guide/go/schema_evolution#Â∑•‰ΩúÊú∫Âà∂","content":" ","version":"0.15","tagName":"h2"},{"title":"Without Compatible Mode (Default)‚Äã","type":1,"pageTitle":"Schema ÊºîËøõ","url":"/zh-CN/docs/guide/go/schema_evolution#without-compatible-mode-default","content":" Compact serialization without metadataStruct hash is checked during deserializationAny schema change causes ErrKindHashMismatch  ","version":"0.15","tagName":"h3"},{"title":"With Compatible Mode‚Äã","type":1,"pageTitle":"Schema ÊºîËøõ","url":"/zh-CN/docs/guide/go/schema_evolution#with-compatible-mode","content":" Type metadata is written to serialized dataSupports adding, removing, and reordering fieldsEnables forward and backward compatibility  ","version":"0.15","tagName":"h3"},{"title":"ÊîØÊåÅÁöÑ Schema ÂèòÊõ¥‚Äã","type":1,"pageTitle":"Schema ÊºîËøõ","url":"/zh-CN/docs/guide/go/schema_evolution#ÊîØÊåÅÁöÑ-schema-ÂèòÊõ¥","content":" ","version":"0.15","tagName":"h2"},{"title":"Êñ∞Â¢ûÂ≠óÊÆµ‚Äã","type":1,"pageTitle":"Schema ÊºîËøõ","url":"/zh-CN/docs/guide/go/schema_evolution#Êñ∞Â¢ûÂ≠óÊÆµ","content":" New fields can be added; they receive zero values when deserializing old data:  // Version 1 type UserV1 struct { ID int64 Name string } // Version 2 (added Email) type UserV2 struct { ID int64 Name string Email string // New field } f := fory.New(fory.WithCompatible(true)) f.RegisterStruct(UserV1{}, 1) // Serialize with V1 userV1 := &amp;UserV1{ID: 1, Name: &quot;Alice&quot;} data, _ := f.Serialize(userV1) // Deserialize with V2 f2 := fory.New(fory.WithCompatible(true)) f2.RegisterStruct(UserV2{}, 1) var userV2 UserV2 f2.Deserialize(data, &amp;userV2) // userV2.Email = &quot;&quot; (zero value)   ","version":"0.15","tagName":"h3"},{"title":"Âà†Èô§Â≠óÊÆµ‚Äã","type":1,"pageTitle":"Schema ÊºîËøõ","url":"/zh-CN/docs/guide/go/schema_evolution#Âà†Èô§Â≠óÊÆµ","content":" Removed fields are skipped during deserialization:  // Version 1 type ConfigV1 struct { Host string Port int32 Timeout int64 Debug bool // Will be removed } // Version 2 (removed Debug) type ConfigV2 struct { Host string Port int32 Timeout int64 // Debug field removed } f := fory.New(fory.WithCompatible(true)) f.RegisterStruct(ConfigV1{}, 1) // Serialize with V1 config := &amp;ConfigV1{Host: &quot;localhost&quot;, Port: 8080, Timeout: 30, Debug: true} data, _ := f.Serialize(config) // Deserialize with V2 f2 := fory.New(fory.WithCompatible(true)) f2.RegisterStruct(ConfigV2{}, 1) var configV2 ConfigV2 f2.Deserialize(data, &amp;configV2) // Debug field data is skipped   ","version":"0.15","tagName":"h3"},{"title":"Â≠óÊÆµÈáçÊéí‚Äã","type":1,"pageTitle":"Schema ÊºîËøõ","url":"/zh-CN/docs/guide/go/schema_evolution#Â≠óÊÆµÈáçÊéí","content":" Field order can change between versions:  // Version 1 type PersonV1 struct { FirstName string LastName string Age int32 } // Version 2 (reordered) type PersonV2 struct { Age int32 // Moved up LastName string FirstName string // Moved down }   Compatible mode handles this automatically by matching fields by name.  ","version":"0.15","tagName":"h3"},{"title":"Incompatible Changes‚Äã","type":1,"pageTitle":"Schema ÊºîËøõ","url":"/zh-CN/docs/guide/go/schema_evolution#incompatible-changes","content":" Some changes are NOT supported, even in compatible mode:  ","version":"0.15","tagName":"h2"},{"title":"Type Changes‚Äã","type":1,"pageTitle":"Schema ÊºîËøõ","url":"/zh-CN/docs/guide/go/schema_evolution#type-changes","content":" // NOT SUPPORTED type V1 struct { Value int32 // int32 } type V2 struct { Value string // Changed to string - INCOMPATIBLE }   ","version":"0.15","tagName":"h3"},{"title":"Renaming Fields‚Äã","type":1,"pageTitle":"Schema ÊºîËøõ","url":"/zh-CN/docs/guide/go/schema_evolution#renaming-fields","content":" // NOT SUPPORTED (treated as remove + add) type V1 struct { UserName string } type V2 struct { Username string // Different name - NOT a rename }   This is treated as removing UserName and adding Username, resulting in data loss.  ","version":"0.15","tagName":"h3"},{"title":"ÊúÄ‰Ω≥ÂÆûË∑µ‚Äã","type":1,"pageTitle":"Schema ÊºîËøõ","url":"/zh-CN/docs/guide/go/schema_evolution#ÊúÄ‰Ω≥ÂÆûË∑µ","content":" ","version":"0.15","tagName":"h2"},{"title":"1. Use Compatible Mode for Persistent Data‚Äã","type":1,"pageTitle":"Schema ÊºîËøõ","url":"/zh-CN/docs/guide/go/schema_evolution#1-use-compatible-mode-for-persistent-data","content":" // For data stored in databases, files, or caches f := fory.New(fory.WithCompatible(true))   ","version":"0.15","tagName":"h3"},{"title":"2. Provide Default Values‚Äã","type":1,"pageTitle":"Schema ÊºîËøõ","url":"/zh-CN/docs/guide/go/schema_evolution#2-provide-default-values","content":" type ConfigV2 struct { Host string Port int32 Timeout int64 Retries int32 // New field } func NewConfigV2() *ConfigV2 { return &amp;ConfigV2{ Retries: 3, // Default value } } // After deserialize, apply defaults if config.Retries == 0 { config.Retries = 3 }   ","version":"0.15","tagName":"h3"},{"title":"Cross-Language Schema Evolution‚Äã","type":1,"pageTitle":"Schema ÊºîËøõ","url":"/zh-CN/docs/guide/go/schema_evolution#cross-language-schema-evolution","content":" Schema evolution works across languages:  ","version":"0.15","tagName":"h2"},{"title":"Go (Producer)‚Äã","type":1,"pageTitle":"Schema ÊºîËøõ","url":"/zh-CN/docs/guide/go/schema_evolution#go-producer","content":" type MessageV1 struct { ID int64 Content string } f := fory.New(fory.WithCompatible(true)) f.RegisterStruct(MessageV1{}, 1) data, _ := f.Serialize(&amp;MessageV1{ID: 1, Content: &quot;Hello&quot;})   ","version":"0.15","tagName":"h3"},{"title":"Java (Consumer with newer schema)‚Äã","type":1,"pageTitle":"Schema ÊºîËøõ","url":"/zh-CN/docs/guide/go/schema_evolution#java-consumer-with-newer-schema","content":" public class Message { long id; String content; String author; // New field in Java } Fory fory = Fory.builder() .withXlang(true) .withCompatibleMode(true) .build(); fory.register(Message.class, 1); Message msg = fory.deserialize(data, Message.class); // msg.author will be null   ","version":"0.15","tagName":"h3"},{"title":"Performance Considerations‚Äã","type":1,"pageTitle":"Schema ÊºîËøõ","url":"/zh-CN/docs/guide/go/schema_evolution#performance-considerations","content":" Compatible mode mainly affects serialized size:  Aspect\tSchema Consistent\tCompatible ModeSerialized Size\tSmaller\tLarger (includes metadata, especially without field IDs) Speed\tFast\tSimilar (metadata is just memcpy) Schema Flexibility\tNone\tFull  Note: Using field IDs (fory:&quot;id=N&quot;) reduces metadata size in compatible mode.  Recommendation: Use compatible mode for:  Persistent storageCross-service communicationLong-lived caches  Use schema consistent mode for:  In-memory operationsSame-version communicationMinimum serialized size  ","version":"0.15","tagName":"h2"},{"title":"Error Handling‚Äã","type":1,"pageTitle":"Schema ÊºîËøõ","url":"/zh-CN/docs/guide/go/schema_evolution#error-handling","content":" ","version":"0.15","tagName":"h2"},{"title":"Hash Mismatch (Schema Consistent Mode)‚Äã","type":1,"pageTitle":"Schema ÊºîËøõ","url":"/zh-CN/docs/guide/go/schema_evolution#hash-mismatch-schema-consistent-mode","content":" f := fory.New() // Compatible mode disabled // Schema changed without compatible mode err := f.Deserialize(oldData, &amp;newStruct) // Error: ErrKindHashMismatch   ","version":"0.15","tagName":"h3"},{"title":"Unknown Fields‚Äã","type":1,"pageTitle":"Schema ÊºîËøõ","url":"/zh-CN/docs/guide/go/schema_evolution#unknown-fields","content":" In compatible mode, unknown fields are skipped silently. To detect them:  // Currently, Fory skips unknown fields automatically // No explicit API for detecting unknown fields   ","version":"0.15","tagName":"h3"},{"title":"Complete Example‚Äã","type":1,"pageTitle":"Schema ÊºîËøõ","url":"/zh-CN/docs/guide/go/schema_evolution#complete-example","content":" package main import ( &quot;fmt&quot; &quot;github.com/apache/fory/go/fory&quot; ) // V1: Initial schema type ProductV1 struct { ID int64 Name string Price float64 } // V2: Added fields type ProductV2 struct { ID int64 Name string Price float64 Description string // New InStock bool // New } func main() { // Serialize with V1 f1 := fory.New(fory.WithCompatible(true)) f1.RegisterStruct(ProductV1{}, 1) product := &amp;ProductV1{ID: 1, Name: &quot;Widget&quot;, Price: 9.99} data, _ := f1.Serialize(product) fmt.Printf(&quot;V1 serialized: %d bytes\\n&quot;, len(data)) // Deserialize with V2 f2 := fory.New(fory.WithCompatible(true)) f2.RegisterStruct(ProductV2{}, 1) var productV2 ProductV2 if err := f2.Deserialize(data, &amp;productV2); err != nil { panic(err) } fmt.Printf(&quot;ID: %d\\n&quot;, productV2.ID) fmt.Printf(&quot;Name: %s\\n&quot;, productV2.Name) fmt.Printf(&quot;Price: %.2f\\n&quot;, productV2.Price) fmt.Printf(&quot;Description: %q (zero value)\\n&quot;, productV2.Description) fmt.Printf(&quot;InStock: %v (zero value)\\n&quot;, productV2.InStock) }   ","version":"0.15","tagName":"h2"},{"title":"Áõ∏ÂÖ≥‰∏ªÈ¢ò‚Äã","type":1,"pageTitle":"Schema ÊºîËøõ","url":"/zh-CN/docs/guide/go/schema_evolution#Áõ∏ÂÖ≥‰∏ªÈ¢ò","content":" ConfigurationCross-Language SerializationTroubleshooting ","version":"0.15","tagName":"h2"},{"title":"ÊîØÊåÅÁ±ªÂûã","type":0,"sectionRef":"#","url":"/zh-CN/docs/guide/go/supported_types","content":"","keywords":"","version":"0.15"},{"title":"Âü∫Á°ÄÁ±ªÂûã‚Äã","type":1,"pageTitle":"ÊîØÊåÅÁ±ªÂûã","url":"/zh-CN/docs/guide/go/supported_types#Âü∫Á°ÄÁ±ªÂûã","content":" Go Type\tFory TypeId\tEncoding\tNotesbool\tBOOL (1)\t1 byte int8\tINT8 (2)\t1 byte, signed int16\tINT16 (3)\t2 bytes, signed\tLittle-endian int32\tINT32 (4)\tVarint\tVariable-length encoding int64\tINT64 (6)\tVarint\tVariable-length encoding int\tINT32/INT64\tVarint\tPlatform-dependent (32 or 64 bit) uint8 / byte\tUINT8 (9)\t1 byte, unsigned uint16\tUINT16 (10)\t2 bytes, unsigned\tLittle-endian uint32\tUINT32 (11)\tVaruint\tVariable-length encoding uint64\tUINT64 (13)\tVaruint\tVariable-length encoding float32\tFLOAT32 (17)\t4 bytes\tIEEE 754 float64\tFLOAT64 (18)\t8 bytes\tIEEE 754 string\tSTRING (19)\tLength-prefixed UTF-8\t  ","version":"0.15","tagName":"h2"},{"title":"Integer Encoding‚Äã","type":1,"pageTitle":"ÊîØÊåÅÁ±ªÂûã","url":"/zh-CN/docs/guide/go/supported_types#integer-encoding","content":" Fory uses variable-length integer encoding (varint) for better compression:  Small values use fewer bytesNegative values use ZigZag encodingPlatform int maps to int32 on 32-bit, int64 on 64-bit systems  f := fory.New() // All integer types supported var i8 int8 = 127 var i16 int16 = 32767 var i32 int32 = 2147483647 var i64 int64 = 9223372036854775807 data, _ := f.Serialize(i64) // Uses varint encoding   ","version":"0.15","tagName":"h3"},{"title":"ÈõÜÂêàÁ±ªÂûã‚Äã","type":1,"pageTitle":"ÊîØÊåÅÁ±ªÂûã","url":"/zh-CN/docs/guide/go/supported_types#ÈõÜÂêàÁ±ªÂûã","content":" ","version":"0.15","tagName":"h2"},{"title":"Slice‚Äã","type":1,"pageTitle":"ÊîØÊåÅÁ±ªÂûã","url":"/zh-CN/docs/guide/go/supported_types#slice","content":" Go Type\tFory TypeId\tNotes[]bool\tBOOL_ARRAY\tOptimized encoding []int8\tINT8_ARRAY\tOptimized encoding []int16\tINT16_ARRAY\tOptimized encoding []int32\tINT32_ARRAY\tOptimized encoding []int64\tINT64_ARRAY\tOptimized encoding []float32\tFLOAT32_ARRAY\tOptimized encoding []float64\tFLOAT64_ARRAY\tOptimized encoding []string\tLIST\tGeneric list encoding []T (any)\tLIST (20)\tAny serializable type []I (any/any)\tLIST\tAny interface type  f := fory.New() // Primitive slices (optimized) ints := []int32{1, 2, 3, 4, 5} data, _ := f.Serialize(ints) // String slices strs := []string{&quot;a&quot;, &quot;b&quot;, &quot;c&quot;} data, _ = f.Serialize(strs) // Struct slices users := []User{{ID: 1}, {ID: 2}} data, _ = f.Serialize(users) // Dynamic slices dynamic := []any{1, &quot;hello&quot;, true} data, _ = f.Serialize(dynamic)   ","version":"0.15","tagName":"h3"},{"title":"Map‚Äã","type":1,"pageTitle":"ÊîØÊåÅÁ±ªÂûã","url":"/zh-CN/docs/guide/go/supported_types#map","content":" Go Type\tFory TypeId\tNotesmap[string]string\tMAP (22)\tOptimized map[string]int64\tMAP\tOptimized map[string]int32\tMAP\tOptimized map[string]int\tMAP\tOptimized map[string]float64\tMAP\tOptimized map[string]bool\tMAP\tOptimized map[int32]int32\tMAP\tOptimized map[int64]int64\tMAP\tOptimized map[int]int\tMAP\tOptimized map[string]any\tMAP\tDynamic values map[any]any\tMAP\tDynamic keys and values  f := fory.New() // String key maps m1 := map[string]string{&quot;key&quot;: &quot;value&quot;} m2 := map[string]int64{&quot;count&quot;: 42} // Integer key maps m3 := map[int32]int32{1: 100, 2: 200} // Dynamic maps m4 := map[string]any{ &quot;name&quot;: &quot;Alice&quot;, &quot;age&quot;: int64(30), }   ","version":"0.15","tagName":"h3"},{"title":"Sets‚Äã","type":1,"pageTitle":"ÊîØÊåÅÁ±ªÂûã","url":"/zh-CN/docs/guide/go/supported_types#sets","content":" Fory provides a generic Set[T] type (uses map[T]struct{} for zero memory overhead):  // Create a set of strings s := fory.NewSet[string]() s.Add(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;) // Check membership if s.Contains(&quot;a&quot;) { fmt.Println(&quot;found&quot;) } // Serialize data, _ := f.Serialize(s)   ","version":"0.15","tagName":"h3"},{"title":"Time Types‚Äã","type":1,"pageTitle":"ÊîØÊåÅÁ±ªÂûã","url":"/zh-CN/docs/guide/go/supported_types#time-types","content":" Go Type\tFory TypeId\tNotestime.Time\tTIMESTAMP (34)\tNanosecond precision time.Duration\tDURATION (33)\tNanosecond precision  import &quot;time&quot; f := fory.New() // Timestamp t := time.Now() data, _ := f.Serialize(t) // Duration d := 5 * time.Second data, _ = f.Serialize(d)   ","version":"0.15","tagName":"h2"},{"title":"Struct Types‚Äã","type":1,"pageTitle":"ÊîØÊåÅÁ±ªÂûã","url":"/zh-CN/docs/guide/go/supported_types#struct-types","content":" Category\tFory TypeId\tNotesStruct\tSTRUCT (25)\tRegistered by ID, no evolution Compatible Struct\tCOMPATIBLE_STRUCT (26)\tWith schema evolution Named Struct\tNAMED_STRUCT (27)\tRegistered by name, no evolution Named Compatible Struct\tNAMED_COMPATIBLE_STRUCT (28)\tNamed with schema evolution  ","version":"0.15","tagName":"h2"},{"title":"Struct Requirements‚Äã","type":1,"pageTitle":"ÊîØÊåÅÁ±ªÂûã","url":"/zh-CN/docs/guide/go/supported_types#struct-requirements","content":" Exported fields only: Fields starting with uppercase are serializedSupported field types: All types listed in this documentRegistration: Structs should be registered for cross-language use  type User struct { ID int64 // Serialized Name string // Serialized Age int32 // Serialized password string // NOT serialized (unexported) } f := fory.New() f.RegisterStruct(User{}, 1) user := &amp;User{ID: 1, Name: &quot;Alice&quot;, Age: 30, password: &quot;secret&quot;} data, _ := f.Serialize(user)   ","version":"0.15","tagName":"h3"},{"title":"Nested Structs‚Äã","type":1,"pageTitle":"ÊîØÊåÅÁ±ªÂûã","url":"/zh-CN/docs/guide/go/supported_types#nested-structs","content":" type Address struct { Street string City string Country string } type Company struct { Name string Address Address Founded int32 } f := fory.New() f.RegisterStruct(Address{}, 1) f.RegisterStruct(Company{}, 2)   ","version":"0.15","tagName":"h3"},{"title":"Pointer Types‚Äã","type":1,"pageTitle":"ÊîØÊåÅÁ±ªÂûã","url":"/zh-CN/docs/guide/go/supported_types#pointer-types","content":" Go Type\tBehavior*T\tNil-able, reference tracked (if enabled) **T\tNested pointers supported  f := fory.New(fory.WithTrackRef(true)) type Node struct { Value int32 Left *Node Right *Node } f.RegisterStruct(Node{}, 1) root := &amp;Node{ Value: 1, Left: &amp;Node{Value: 2}, Right: &amp;Node{Value: 3}, } data, _ := f.Serialize(root)   ","version":"0.15","tagName":"h2"},{"title":"Nil Handling‚Äã","type":1,"pageTitle":"ÊîØÊåÅÁ±ªÂûã","url":"/zh-CN/docs/guide/go/supported_types#nil-handling","content":" var ptr *User = nil data, _ := f.Serialize(ptr) var result *User f.Deserialize(data, &amp;result) // result == nil   ","version":"0.15","tagName":"h3"},{"title":"Interface Types‚Äã","type":1,"pageTitle":"ÊîØÊåÅÁ±ªÂûã","url":"/zh-CN/docs/guide/go/supported_types#interface-types","content":" Go Type\tFory TypeId\tNotesany\tUNION (31)\tPolymorphic values  f := fory.New() // Serialize any var value any = &quot;hello&quot; data, _ := f.Serialize(value) var result any f.Deserialize(data, &amp;result) // result = &quot;hello&quot; (string)   For struct interfaces, register all possible concrete types:  type Shape interface { Area() float64 } type Circle struct { Radius float64 } func (c Circle) Area() float64 { return 3.14159 * c.Radius * c.Radius } f := fory.New() f.RegisterStruct(Circle{}, 1) var shape Shape = Circle{Radius: 5.0} data, _ := f.Serialize(shape)   ","version":"0.15","tagName":"h2"},{"title":"Binary Data‚Äã","type":1,"pageTitle":"ÊîØÊåÅÁ±ªÂûã","url":"/zh-CN/docs/guide/go/supported_types#binary-data","content":" Go Type\tFory TypeId\tNotes[]byte\tBINARY (37)\tVariable-length bytes  f := fory.New() data := []byte{0x01, 0x02, 0x03, 0x04} serialized, _ := f.Serialize(data) var result []byte f.Deserialize(serialized, &amp;result)   ","version":"0.15","tagName":"h2"},{"title":"Enum Types‚Äã","type":1,"pageTitle":"ÊîØÊåÅÁ±ªÂûã","url":"/zh-CN/docs/guide/go/supported_types#enum-types","content":" Go uses integer types for enums:  type Status int32 const ( StatusPending Status = 0 StatusActive Status = 1 StatusComplete Status = 2 ) f := fory.New() f.RegisterEnum(Status(0), 1) status := StatusActive data, _ := f.Serialize(status)   ","version":"0.15","tagName":"h2"},{"title":"Cross-Language Type Mapping‚Äã","type":1,"pageTitle":"ÊîØÊåÅÁ±ªÂûã","url":"/zh-CN/docs/guide/go/supported_types#cross-language-type-mapping","content":" Go Type\tJava\tPython\tC++\tRustbool\tboolean\tbool\tbool\tbool int8\tbyte\tint\tint8_t\ti8 int16\tshort\tint\tint16_t\ti16 int32\tint\tint\tint32_t\ti32 int64\tlong\tint\tint64_t\ti64 float32\tfloat\tfloat\tfloat\tf32 float64\tdouble\tfloat\tdouble\tf64 string\tString\tstr\tstd::string\tString []T\tList&lt;T&gt;\tlist\tstd::vector&lt;T&gt;\tVec&lt;T&gt; map[K]V\tMap&lt;K,V&gt;\tdict\tstd::unordered_map\tHashMap&lt;K,V&gt; time.Time\tInstant\tdatetime\t-\t- time.Duration\tDuration\ttimedelta\t-\t-  See Cross-Language Serialization for detailed mapping.  ","version":"0.15","tagName":"h2"},{"title":"Unsupported Types‚Äã","type":1,"pageTitle":"ÊîØÊåÅÁ±ªÂûã","url":"/zh-CN/docs/guide/go/supported_types#unsupported-types","content":" The following Go types are not supported:  Channels (chan T)Functions (func())Complex numbers (complex64, complex128)Unsafe pointers (unsafe.Pointer)  Attempting to serialize these types will result in an error.  ","version":"0.15","tagName":"h2"},{"title":"Áõ∏ÂÖ≥‰∏ªÈ¢ò‚Äã","type":1,"pageTitle":"ÊîØÊåÅÁ±ªÂûã","url":"/zh-CN/docs/guide/go/supported_types#Áõ∏ÂÖ≥‰∏ªÈ¢ò","content":" Type RegistrationCross-Language SerializationReferences ","version":"0.15","tagName":"h2"},{"title":"Á±ªÂûãÊ≥®ÂÜå","type":0,"sectionRef":"#","url":"/zh-CN/docs/guide/go/type_registration","content":"","keywords":"","version":"0.15"},{"title":"‰∏∫‰ªÄ‰πàË¶ÅÊ≥®ÂÜåÁ±ªÂûãÔºü‚Äã","type":1,"pageTitle":"Á±ªÂûãÊ≥®ÂÜå","url":"/zh-CN/docs/guide/go/type_registration#‰∏∫‰ªÄ‰πàË¶ÅÊ≥®ÂÜåÁ±ªÂûã","content":" Á±ªÂûãËØÜÂà´ÔºöÂèçÂ∫èÂàóÂåñÊó∂ÔºåFory ÈúÄË¶ÅÁü•ÈÅìÂÆûÈôÖÁ±ªÂûãÂ§öÊÄÅÊîØÊåÅÔºöÂèçÂ∫èÂàóÂåñÊé•Âè£Á±ªÂûãÊó∂ÔºåFory ÈúÄË¶ÅÁü•ÈÅìË¶ÅÂàõÂª∫Âì™‰∏™ÂÖ∑‰ΩìÁ±ªÂûãË∑®ËØ≠Ë®ÄÂÖºÂÆπÔºöÂÖ∂‰ªñËØ≠Ë®ÄÂÆûÁé∞ÈúÄË¶ÅËØÜÂà´Âπ∂ÂèçÂ∫èÂàóÂåñ‰Ω†ÁöÑÁ±ªÂûã  ","version":"0.15","tagName":"h2"},{"title":"ÁªìÊûÑ‰ΩìÊ≥®ÂÜå‚Äã","type":1,"pageTitle":"Á±ªÂûãÊ≥®ÂÜå","url":"/zh-CN/docs/guide/go/type_registration#ÁªìÊûÑ‰ΩìÊ≥®ÂÜå","content":" ","version":"0.15","tagName":"h2"},{"title":"ÈÄöËøá ID Ê≥®ÂÜå‚Äã","type":1,"pageTitle":"Á±ªÂûãÊ≥®ÂÜå","url":"/zh-CN/docs/guide/go/type_registration#ÈÄöËøá-id-Ê≥®ÂÜå","content":" ‰ΩøÁî®Êï∞ÂÄºÁ±ªÂûã ID Ê≥®ÂÜåÁªìÊûÑ‰ΩìÔºåÂèØËé∑ÂæóÊõ¥Á¥ßÂáëÁöÑÂ∫èÂàóÂåñÁªìÊûúÔºö  type User struct { ID int64 Name string } f := fory.New() err := f.RegisterStruct(User{}, 1) if err != nil { panic(err) }   ID ‰ΩøÁî®Âª∫ËÆÆÔºö  ID Âú®Â∫îÁî®ÂÜÖÂøÖÈ°ªÂîØ‰∏ÄËã•Áî®‰∫éË∑®ËØ≠Ë®ÄÔºåÊâÄÊúâËØ≠Ë®Ä‰∏≠ÁöÑ ID ÂøÖÈ°ª‰∏ÄËá¥Â∫èÂàóÂåñÁ´ØÂíåÂèçÂ∫èÂàóÂåñÁ´ØÂøÖÈ°ª‰∏∫Âêå‰∏ÄÁ±ªÂûã‰ΩøÁî®Âêå‰∏Ä ID  ","version":"0.15","tagName":"h3"},{"title":"ÈÄöËøáÂêçÁß∞Ê≥®ÂÜå‚Äã","type":1,"pageTitle":"Á±ªÂûãÊ≥®ÂÜå","url":"/zh-CN/docs/guide/go/type_registration#ÈÄöËøáÂêçÁß∞Ê≥®ÂÜå","content":" ‰ΩøÁî®Á±ªÂûãÂêçÂ≠óÁ¨¶‰∏≤Ê≥®ÂÜåÁªìÊûÑ‰Ωì„ÄÇËØ•ÊñπÂºèÊõ¥ÁÅµÊ¥ªÔºå‰ΩÜÂ∫èÂàóÂåñÂºÄÈîÄÊõ¥È´òÔºö  f := fory.New() err := f.RegisterNamedStruct(User{}, &quot;example.User&quot;) if err != nil { panic(err) }   ÂêçÁß∞‰ΩøÁî®Âª∫ËÆÆÔºö  ‰ΩøÁî® namespace.TypeName Á∫¶ÂÆöÁöÑÂÖ®ÈôêÂÆöÂêçÂêçÁß∞Âú®ÊâÄÊúâËØ≠Ë®Ä‰∏≠ÂøÖÈ°ªÂîØ‰∏Ä‰∏î‰∏ÄËá¥ÂêçÁß∞Âå∫ÂàÜÂ§ßÂ∞èÂÜô  ","version":"0.15","tagName":"h3"},{"title":"Êûö‰∏æÊ≥®ÂÜå‚Äã","type":1,"pageTitle":"Á±ªÂûãÊ≥®ÂÜå","url":"/zh-CN/docs/guide/go/type_registration#Êûö‰∏æÊ≥®ÂÜå","content":" Go Ê≤°ÊúâÂéüÁîüÊûö‰∏æÁ±ªÂûãÔºå‰ΩÜÂèØ‰ª•ÊääÊï¥Êï∞Á±ªÂûãÊåâÊûö‰∏æÊ≥®ÂÜå„ÄÇ  ","version":"0.15","tagName":"h2"},{"title":"ÈÄöËøá ID Ê≥®ÂÜå‚Äã","type":1,"pageTitle":"Á±ªÂûãÊ≥®ÂÜå","url":"/zh-CN/docs/guide/go/type_registration#ÈÄöËøá-id-Ê≥®ÂÜå-1","content":" type Status int32 const ( StatusPending Status = 0 StatusActive Status = 1 StatusComplete Status = 2 ) f := fory.New() err := f.RegisterEnum(Status(0), 1)   ","version":"0.15","tagName":"h3"},{"title":"ÈÄöËøáÂêçÁß∞Ê≥®ÂÜå‚Äã","type":1,"pageTitle":"Á±ªÂûãÊ≥®ÂÜå","url":"/zh-CN/docs/guide/go/type_registration#ÈÄöËøáÂêçÁß∞Ê≥®ÂÜå-1","content":" err := f.RegisterNamedEnum(Status(0), &quot;example.Status&quot;)   ","version":"0.15","tagName":"h3"},{"title":"Êâ©Â±ïÁ±ªÂûã‚Äã","type":1,"pageTitle":"Á±ªÂûãÊ≥®ÂÜå","url":"/zh-CN/docs/guide/go/type_registration#Êâ©Â±ïÁ±ªÂûã","content":" ÂØπ‰∫éÈúÄË¶ÅËá™ÂÆö‰πâÂ∫èÂàóÂåñÈÄªËæëÁöÑÁ±ªÂûãÔºåÂèØÂ∞ÜÂÖ∂Ê≥®ÂÜå‰∏∫Êâ©Â±ïÁ±ªÂûãÔºåÂπ∂Êèê‰æõËá™ÂÆö‰πâÂ∫èÂàóÂåñÂô®Ôºö  f := fory.New() // Register by ID err := f.RegisterExtension(CustomType{}, 1, &amp;CustomSerializer{}) // Or register by name err = f.RegisterNamedExtension(CustomType{}, &quot;example.Custom&quot;, &amp;CustomSerializer{})   ÂÖ≥‰∫é ExtensionSerializer Êé•Âè£ÂÆûÁé∞ÔºåËØ∑ÂèÇËÄÉ Ëá™ÂÆö‰πâÂ∫èÂàóÂåñÂô®„ÄÇ  ","version":"0.15","tagName":"h2"},{"title":"Ê≥®ÂÜå‰ΩúÁî®Âüü‚Äã","type":1,"pageTitle":"Á±ªÂûãÊ≥®ÂÜå","url":"/zh-CN/docs/guide/go/type_registration#Ê≥®ÂÜå‰ΩúÁî®Âüü","content":" Á±ªÂûãÊ≥®ÂÜåÊòØ Fory ÂÆû‰æãÁ∫ßÂà´ ÁöÑÔºö  f1 := fory.New() f2 := fory.New() // Types registered on f1 are NOT available on f2 f1.RegisterStruct(User{}, 1) // f2 cannot deserialize User unless also registered f2.RegisterStruct(User{}, 1)   ","version":"0.15","tagName":"h2"},{"title":"Ê≥®ÂÜåÊó∂Êú∫‚Äã","type":1,"pageTitle":"Á±ªÂûãÊ≥®ÂÜå","url":"/zh-CN/docs/guide/go/type_registration#Ê≥®ÂÜåÊó∂Êú∫","content":" Â∫îÂú®ÂàõÂª∫ Fory ÂÆû‰æãÂêé„ÄÅÈ¶ñÊ¨°Â∫èÂàóÂåñ/ÂèçÂ∫èÂàóÂåñ‰πãÂâçÂÆåÊàêÁ±ªÂûãÊ≥®ÂÜåÔºö  f := fory.New() // Register before use f.RegisterStruct(User{}, 1) f.RegisterStruct(Order{}, 2) // Now serialize/deserialize data, _ := f.Serialize(&amp;User{ID: 1, Name: &quot;Alice&quot;})   ","version":"0.15","tagName":"h2"},{"title":"ÂµåÂ•óÁ±ªÂûãÊ≥®ÂÜå‚Äã","type":1,"pageTitle":"Á±ªÂûãÊ≥®ÂÜå","url":"/zh-CN/docs/guide/go/type_registration#ÂµåÂ•óÁ±ªÂûãÊ≥®ÂÜå","content":" ÂØπË±°Âõæ‰∏≠ÁöÑÊâÄÊúâÁªìÊûÑ‰ΩìÁ±ªÂûãÔºàÂåÖÊã¨ÂµåÂ•óÁ±ªÂûãÔºâÈÉΩÂ∫îÊ≥®ÂÜåÔºö  type Address struct { City string Country string } type Person struct { Name string Address Address } f := fory.New() // Register ALL struct types used in the object graph f.RegisterStruct(Address{}, 1) f.RegisterStruct(Person{}, 2)   ","version":"0.15","tagName":"h2"},{"title":"Ë∑®ËØ≠Ë®ÄÊ≥®ÂÜå‚Äã","type":1,"pageTitle":"Á±ªÂûãÊ≥®ÂÜå","url":"/zh-CN/docs/guide/go/type_registration#Ë∑®ËØ≠Ë®ÄÊ≥®ÂÜå","content":" ËøõË°åË∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñÊó∂ÔºåÂøÖÈ°ªÂú®ÊâÄÊúâËØ≠Ë®Ä‰∏≠‰øùÊåÅ‰∏ÄËá¥Ê≥®ÂÜå„ÄÇ  ","version":"0.15","tagName":"h2"},{"title":"‰ΩøÁî® ID‚Äã","type":1,"pageTitle":"Á±ªÂûãÊ≥®ÂÜå","url":"/zh-CN/docs/guide/go/type_registration#‰ΩøÁî®-id","content":" ÊâÄÊúâËØ≠Ë®Ä‰ΩøÁî®Âêå‰∏Ä‰∏™Êï∞ÂÄº IDÔºö  Go:  f.RegisterStruct(User{}, 1)   Java:  fory.register(User.class, 1);   Python:  fory.register(User, type_id=1)   ","version":"0.15","tagName":"h3"},{"title":"‰ΩøÁî®ÂêçÁß∞‚Äã","type":1,"pageTitle":"Á±ªÂûãÊ≥®ÂÜå","url":"/zh-CN/docs/guide/go/type_registration#‰ΩøÁî®ÂêçÁß∞","content":" ÊâÄÊúâËØ≠Ë®Ä‰ΩøÁî®Âêå‰∏Ä‰∏™Á±ªÂûãÂêçÔºö  Go:  f.RegisterNamedStruct(User{}, &quot;example.User&quot;)   Java:  fory.register(User.class, &quot;example.User&quot;);   Python:  fory.register(User, typename=&quot;example.User&quot;)   Rust:  #[derive(Fory)] struct User { id: i64, name: String, } let mut fory = Fory::default(); fory.register_by_name::&lt;User&gt;(&quot;example.User&quot;)?;   ","version":"0.15","tagName":"h3"},{"title":"ÊúÄ‰Ω≥ÂÆûË∑µ‚Äã","type":1,"pageTitle":"Á±ªÂûãÊ≥®ÂÜå","url":"/zh-CN/docs/guide/go/type_registration#ÊúÄ‰Ω≥ÂÆûË∑µ","content":" Â∞ΩÊó©Ê≥®ÂÜåÔºöÂ∫îÁî®ÂêØÂä®Âêé„ÄÅ‰ªª‰ΩïÂ∫èÂàóÂåñÊìç‰ΩúÂâçÂÆåÊàêÂÖ®ÈÉ®Á±ªÂûãÊ≥®ÂÜå‰øùÊåÅ‰∏ÄËá¥ÔºöÊâÄÊúâËØ≠Ë®Ä‰∏éÂÆû‰æã‰∏≠‰ΩøÁî®‰∏ÄËá¥ÁöÑ ID ÊàñÂêçÁß∞Ê≥®ÂÜåÂÆåÊï¥Ôºö‰∏ç‰ªÖÊ≥®ÂÜåÈ°∂Â±ÇÁ±ªÂûãÔºå‰πüË¶ÅÊ≥®ÂÜåÂµåÂ•óÁªìÊûÑ‰ΩìÊÄßËÉΩ‰ºòÂÖàÊó∂Áî® IDÔºöÊï∞ÂÄº ID ÊØîÂêçÁß∞ÂºÄÈîÄÊõ¥‰ΩéÁÅµÊ¥ªÊÄß‰ºòÂÖàÊó∂Áî®ÂêçÁß∞ÔºöÂêçÁß∞Êõ¥ÊòìÁª¥Êä§Ôºå‰πüÊõ¥‰∏çÊòìÂÜ≤Á™Å  ","version":"0.15","tagName":"h2"},{"title":"Â∏∏ËßÅÈîôËØØ‚Äã","type":1,"pageTitle":"Á±ªÂûãÊ≥®ÂÜå","url":"/zh-CN/docs/guide/go/type_registration#Â∏∏ËßÅÈîôËØØ","content":" ","version":"0.15","tagName":"h2"},{"title":"Á±ªÂûãÊú™Ê≥®ÂÜå‚Äã","type":1,"pageTitle":"Á±ªÂûãÊ≥®ÂÜå","url":"/zh-CN/docs/guide/go/type_registration#Á±ªÂûãÊú™Ê≥®ÂÜå","content":" error: unknown type encountered   Ëß£ÂÜ≥ÊñπÂºèÔºöÂú®Â∫èÂàóÂåñ/ÂèçÂ∫èÂàóÂåñÂâçÂÖàÊ≥®ÂÜåÁ±ªÂûã„ÄÇ  ","version":"0.15","tagName":"h3"},{"title":"ID/ÂêçÁß∞‰∏çÂåπÈÖç‚Äã","type":1,"pageTitle":"Á±ªÂûãÊ≥®ÂÜå","url":"/zh-CN/docs/guide/go/type_registration#idÂêçÁß∞‰∏çÂåπÈÖç","content":" Áî®Êüê‰∏™ ID/ÂêçÁß∞Â∫èÂàóÂåñÁöÑÊï∞ÊçÆÔºåËã•Âú®ÂèçÂ∫èÂàóÂåñÁ´Ø‰ΩøÁî®‰∏çÂêå ID/ÂêçÁß∞Ê≥®ÂÜåÔºåÂ∞ÜÊó†Ê≥ïÊ≠£Á°ÆÂèçÂ∫èÂàóÂåñ„ÄÇ  Ëß£ÂÜ≥ÊñπÂºèÔºöÁ°Æ‰øùÂ∫èÂàóÂåñÁ´Ø‰∏éÂèçÂ∫èÂàóÂåñÁ´Ø‰ΩøÁî®‰∏ÄËá¥ÁöÑ ID ÊàñÂêçÁß∞„ÄÇ  ","version":"0.15","tagName":"h3"},{"title":"ÈáçÂ§çÊ≥®ÂÜå‚Äã","type":1,"pageTitle":"Á±ªÂûãÊ≥®ÂÜå","url":"/zh-CN/docs/guide/go/type_registration#ÈáçÂ§çÊ≥®ÂÜå","content":" ‰∏§‰∏™Á±ªÂûã‰ΩøÁî®Âêå‰∏Ä ID ‰ºöÂèëÁîüÂÜ≤Á™Å„ÄÇ  Ëß£ÂÜ≥ÊñπÂºèÔºöÁ°Æ‰øùÊØè‰∏™Á±ªÂûã‰ΩøÁî®ÂîØ‰∏Ä ID„ÄÇ  ","version":"0.15","tagName":"h3"},{"title":"Áõ∏ÂÖ≥‰∏ªÈ¢ò‚Äã","type":1,"pageTitle":"Á±ªÂûãÊ≥®ÂÜå","url":"/zh-CN/docs/guide/go/type_registration#Áõ∏ÂÖ≥‰∏ªÈ¢ò","content":" Âü∫Êú¨Â∫èÂàóÂåñË∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ ","version":"0.15","tagName":"h2"},{"title":"Á∫øÁ®ãÂÆâÂÖ®","type":0,"sectionRef":"#","url":"/zh-CN/docs/guide/go/thread_safety","content":"","keywords":"","version":"0.15"},{"title":"ÈªòËÆ§ Fory ÂÆû‰æã‚Äã","type":1,"pageTitle":"Á∫øÁ®ãÂÆâÂÖ®","url":"/zh-CN/docs/guide/go/thread_safety#ÈªòËÆ§-fory-ÂÆû‰æã","content":" The default Fory instance is not thread-safe:  f := fory.New() // NOT SAFE: Concurrent access from multiple goroutines go func() { f.Serialize(value1) // Race condition! }() go func() { f.Serialize(value2) // Race condition! }()   ","version":"0.15","tagName":"h2"},{"title":"‰∏∫‰ªÄ‰πà‰∏çÊòØÁ∫øÁ®ãÂÆâÂÖ®Ôºü‚Äã","type":1,"pageTitle":"Á∫øÁ®ãÂÆâÂÖ®","url":"/zh-CN/docs/guide/go/thread_safety#‰∏∫‰ªÄ‰πà‰∏çÊòØÁ∫øÁ®ãÂÆâÂÖ®","content":" For performance, Fory reuses internal state:  Buffer is cleared and reused between callsReference resolvers are resetContext objects are recycled  This avoids allocations but requires exclusive access.  ","version":"0.15","tagName":"h3"},{"title":"Á∫øÁ®ãÂÆâÂÖ®Â∞ÅË£Ö‚Äã","type":1,"pageTitle":"Á∫øÁ®ãÂÆâÂÖ®","url":"/zh-CN/docs/guide/go/thread_safety#Á∫øÁ®ãÂÆâÂÖ®Â∞ÅË£Ö","content":" For concurrent use, use the threadsafe package:  import &quot;github.com/apache/fory/go/fory/threadsafe&quot; // Create thread-safe Fory f := threadsafe.New() // Safe for concurrent use go func() { data, _ := f.Serialize(value1) }() go func() { data, _ := f.Serialize(value2) }()   ","version":"0.15","tagName":"h2"},{"title":"Â∑•‰ΩúÊú∫Âà∂‚Äã","type":1,"pageTitle":"Á∫øÁ®ãÂÆâÂÖ®","url":"/zh-CN/docs/guide/go/thread_safety#Â∑•‰ΩúÊú∫Âà∂","content":" The thread-safe wrapper uses sync.Pool:  Acquire: Gets a Fory instance from the poolUse: Performs serialization/deserializationCopy: Copies result data (buffer will be reused)Release: Returns instance to pool  // Simplified implementation func (f *Fory) Serialize(v any) ([]byte, error) { fory := f.pool.Get().(*fory.Fory) defer f.pool.Put(fory) data, err := fory.Serialize(v) if err != nil { return nil, err } // Copy because underlying buffer will be reused result := make([]byte, len(data)) copy(result, data) return result, nil }   ","version":"0.15","tagName":"h3"},{"title":"API‚Äã","type":1,"pageTitle":"Á∫øÁ®ãÂÆâÂÖ®","url":"/zh-CN/docs/guide/go/thread_safety#api","content":" // Create thread-safe instance f := threadsafe.New() // Instance methods data, err := f.Serialize(value) err = f.Deserialize(data, &amp;target) // Generic functions data, err := threadsafe.Serialize(f, &amp;value) err = threadsafe.Deserialize(f, data, &amp;target) // Global convenience functions data, err := threadsafe.Marshal(&amp;value) err = threadsafe.Unmarshal(data, &amp;target)   ","version":"0.15","tagName":"h3"},{"title":"Á±ªÂûãÊ≥®ÂÜå‚Äã","type":1,"pageTitle":"Á∫øÁ®ãÂÆâÂÖ®","url":"/zh-CN/docs/guide/go/thread_safety#Á±ªÂûãÊ≥®ÂÜå","content":" Type registration should be done before concurrent use:  f := threadsafe.New() // Register types BEFORE concurrent access f.RegisterStruct(User{}, 1) f.RegisterStruct(Order{}, 2) // Now safe to use concurrently go func() { f.Serialize(&amp;User{ID: 1}) }()   ","version":"0.15","tagName":"h2"},{"title":"Thread-Safe Registration‚Äã","type":1,"pageTitle":"Á∫øÁ®ãÂÆâÂÖ®","url":"/zh-CN/docs/guide/go/thread_safety#thread-safe-registration","content":" The thread-safe wrapper handles registration safely:  // Safe: Registration is synchronized f := threadsafe.New() f.RegisterStruct(User{}, 1) // Thread-safe   However, for best performance, register all types at startup before concurrent use.  ","version":"0.15","tagName":"h3"},{"title":"Zero-Copy Considerations‚Äã","type":1,"pageTitle":"Á∫øÁ®ãÂÆâÂÖ®","url":"/zh-CN/docs/guide/go/thread_safety#zero-copy-considerations","content":" ","version":"0.15","tagName":"h2"},{"title":"Non-Thread-Safe Instance‚Äã","type":1,"pageTitle":"Á∫øÁ®ãÂÆâÂÖ®","url":"/zh-CN/docs/guide/go/thread_safety#non-thread-safe-instance","content":" With the default Fory, returned byte slices are views into the internal buffer:  f := fory.New() data1, _ := f.Serialize(value1) // data1 is valid data2, _ := f.Serialize(value2) // data1 is NOW INVALID (buffer was reused)   ","version":"0.15","tagName":"h3"},{"title":"Thread-Safe Instance‚Äã","type":1,"pageTitle":"Á∫øÁ®ãÂÆâÂÖ®","url":"/zh-CN/docs/guide/go/thread_safety#thread-safe-instance","content":" The thread-safe wrapper copies data automatically:  f := threadsafe.New() data1, _ := f.Serialize(value1) data2, _ := f.Serialize(value2) // Both data1 and data2 are valid (independent copies)   This is safer but has allocation overhead.  ","version":"0.15","tagName":"h3"},{"title":"Performance Comparison‚Äã","type":1,"pageTitle":"Á∫øÁ®ãÂÆâÂÖ®","url":"/zh-CN/docs/guide/go/thread_safety#performance-comparison","content":" Scenario\tNon-Thread-Safe\tThread-SafeSingle goroutine\tFastest\tSlower (pool overhead) Multiple goroutines\tUnsafe\tSafe, good scaling Memory allocations\tMinimal\tPer-call copy Buffer reuse\tYes\tPer-pool-instance  ","version":"0.15","tagName":"h2"},{"title":"Benchmarking‚Äã","type":1,"pageTitle":"Á∫øÁ®ãÂÆâÂÖ®","url":"/zh-CN/docs/guide/go/thread_safety#benchmarking","content":" func BenchmarkNonThreadSafe(b *testing.B) { f := fory.New() f.RegisterStruct(User{}, 1) user := &amp;User{ID: 1, Name: &quot;Alice&quot;} for i := 0; i &lt; b.N; i++ { data, _ := f.Serialize(user) _ = data } } func BenchmarkThreadSafe(b *testing.B) { f := threadsafe.New() f.RegisterStruct(User{}, 1) user := &amp;User{ID: 1, Name: &quot;Alice&quot;} for i := 0; i &lt; b.N; i++ { data, _ := f.Serialize(user) _ = data } }   ","version":"0.15","tagName":"h3"},{"title":"Patterns‚Äã","type":1,"pageTitle":"Á∫øÁ®ãÂÆâÂÖ®","url":"/zh-CN/docs/guide/go/thread_safety#patterns","content":" ","version":"0.15","tagName":"h2"},{"title":"Per-Goroutine Instance‚Äã","type":1,"pageTitle":"Á∫øÁ®ãÂÆâÂÖ®","url":"/zh-CN/docs/guide/go/thread_safety#per-goroutine-instance","content":" For maximum performance with known goroutine count:  func worker(id int) { // Each worker has its own Fory instance f := fory.New() f.RegisterStruct(User{}, 1) for task := range tasks { data, _ := f.Serialize(task) process(data) } } // Start workers for i := 0; i &lt; numWorkers; i++ { go worker(i) }   ","version":"0.15","tagName":"h3"},{"title":"Shared Thread-Safe Instance‚Äã","type":1,"pageTitle":"Á∫øÁ®ãÂÆâÂÖ®","url":"/zh-CN/docs/guide/go/thread_safety#shared-thread-safe-instance","content":" For dynamic goroutine count or simplicity:  // Single shared instance var f = threadsafe.New() func init() { f.RegisterStruct(User{}, 1) } func handleRequest(user *User) []byte { // Safe from any goroutine data, _ := f.Serialize(user) return data }   ","version":"0.15","tagName":"h3"},{"title":"HTTP Handler Example‚Äã","type":1,"pageTitle":"Á∫øÁ®ãÂÆâÂÖ®","url":"/zh-CN/docs/guide/go/thread_safety#http-handler-example","content":" var fory = threadsafe.New() func init() { fory.RegisterStruct(Response{}, 1) } func handler(w http.ResponseWriter, r *http.Request) { response := &amp;Response{ Status: &quot;ok&quot;, Data: getData(), } // Safe: threadsafe.Fory handles concurrency data, err := fory.Serialize(response) if err != nil { http.Error(w, err.Error(), 500) return } w.Header().Set(&quot;Content-Type&quot;, &quot;application/octet-stream&quot;) w.Write(data) }   ","version":"0.15","tagName":"h3"},{"title":"Common Mistakes‚Äã","type":1,"pageTitle":"Á∫øÁ®ãÂÆâÂÖ®","url":"/zh-CN/docs/guide/go/thread_safety#common-mistakes","content":" ","version":"0.15","tagName":"h2"},{"title":"Sharing Non-Thread-Safe Instance‚Äã","type":1,"pageTitle":"Á∫øÁ®ãÂÆâÂÖ®","url":"/zh-CN/docs/guide/go/thread_safety#sharing-non-thread-safe-instance","content":" // WRONG: Race condition var f = fory.New() func handler1() { f.Serialize(value1) // Race! } func handler2() { f.Serialize(value2) // Race! }   Fix: Use threadsafe.New() or per-goroutine instances.  ","version":"0.15","tagName":"h3"},{"title":"Keeping Reference to Buffer‚Äã","type":1,"pageTitle":"Á∫øÁ®ãÂÆâÂÖ®","url":"/zh-CN/docs/guide/go/thread_safety#keeping-reference-to-buffer","content":" // WRONG: Buffer invalidated on next call f := fory.New() data, _ := f.Serialize(value1) savedData := data // Just copies the slice header! f.Serialize(value2) // Invalidates data and savedData   Fix: Clone the data or use thread-safe wrapper.  // Correct: Clone the data data, _ := f.Serialize(value1) savedData := make([]byte, len(data)) copy(savedData, data) // Or use thread-safe (auto-copies) f := threadsafe.New() data, _ := f.Serialize(value1) // Already copied   ","version":"0.15","tagName":"h3"},{"title":"Registering Types Concurrently‚Äã","type":1,"pageTitle":"Á∫øÁ®ãÂÆâÂÖ®","url":"/zh-CN/docs/guide/go/thread_safety#registering-types-concurrently","content":" // RISKY: Concurrent registration go func() { f.RegisterStruct(TypeA{}, 1) }() go func() { f.Serialize(value) // May not see TypeA }()   Fix: Register all types before concurrent use.  ","version":"0.15","tagName":"h3"},{"title":"ÊúÄ‰Ω≥ÂÆûË∑µ‚Äã","type":1,"pageTitle":"Á∫øÁ®ãÂÆâÂÖ®","url":"/zh-CN/docs/guide/go/thread_safety#ÊúÄ‰Ω≥ÂÆûË∑µ","content":" Register types at startup: Before any concurrent operationsClone data if keeping references: With non-thread-safe instanceUse per-worker instances for hot paths: Eliminates pool contentionProfile before optimizing: Thread-safe overhead may be negligible  ","version":"0.15","tagName":"h2"},{"title":"Áõ∏ÂÖ≥‰∏ªÈ¢ò‚Äã","type":1,"pageTitle":"Á∫øÁ®ãÂÆâÂÖ®","url":"/zh-CN/docs/guide/go/thread_safety#Áõ∏ÂÖ≥‰∏ªÈ¢ò","content":" ConfigurationBasic SerializationTroubleshooting ","version":"0.15","tagName":"h2"},{"title":"ÊïÖÈöúÊéíÊü•","type":0,"sectionRef":"#","url":"/zh-CN/docs/guide/go/troubleshooting","content":"","keywords":"","version":"0.15"},{"title":"ÈîôËØØÁ±ªÂûã‚Äã","type":1,"pageTitle":"ÊïÖÈöúÊéíÊü•","url":"/zh-CN/docs/guide/go/troubleshooting#ÈîôËØØÁ±ªÂûã","content":" Fory Go uses typed errors with specific error kinds:  type Error struct { kind ErrorKind message string // Additional context fields } func (e Error) Kind() ErrorKind { return e.kind } func (e Error) Error() string { return e.message }   ","version":"0.15","tagName":"h2"},{"title":"ÈîôËØØÁßçÁ±ª‚Äã","type":1,"pageTitle":"ÊïÖÈöúÊéíÊü•","url":"/zh-CN/docs/guide/go/troubleshooting#ÈîôËØØÁßçÁ±ª","content":" Kind\tValue\tDescriptionErrKindOK\t0\tNo error ErrKindBufferOutOfBound\t1\tRead/write beyond buffer bounds ErrKindTypeMismatch\t2\tType ID mismatch ErrKindUnknownType\t3\tUnknown type encountered ErrKindSerializationFailed\t4\tGeneral serialization failure ErrKindDeserializationFailed\t5\tGeneral deserialization failure ErrKindMaxDepthExceeded\t6\tRecursion depth limit exceeded ErrKindNilPointer\t7\tUnexpected nil pointer ErrKindInvalidRefId\t8\tInvalid reference ID ErrKindHashMismatch\t9\tStruct hash mismatch ErrKindInvalidTag\t10\tInvalid fory struct tag  ","version":"0.15","tagName":"h3"},{"title":"Â∏∏ËßÅÈîôËØØ‰∏éËß£ÂÜ≥ÊñπÊ°à‚Äã","type":1,"pageTitle":"ÊïÖÈöúÊéíÊü•","url":"/zh-CN/docs/guide/go/troubleshooting#Â∏∏ËßÅÈîôËØØ‰∏éËß£ÂÜ≥ÊñπÊ°à","content":" ","version":"0.15","tagName":"h2"},{"title":"ErrKindUnknownType‚Äã","type":1,"pageTitle":"ÊïÖÈöúÊéíÊü•","url":"/zh-CN/docs/guide/go/troubleshooting#errkindunknowntype","content":" Error: unknown type encountered  Cause: Type not registered before serialization/deserialization.  Solution:  f := fory.New() // Register type before use f.RegisterStruct(User{}, 1) // Now serialization works data, _ := f.Serialize(&amp;User{ID: 1})   ","version":"0.15","tagName":"h3"},{"title":"ErrKindTypeMismatch‚Äã","type":1,"pageTitle":"ÊïÖÈöúÊéíÊü•","url":"/zh-CN/docs/guide/go/troubleshooting#errkindtypemismatch","content":" Error: type mismatch: expected X, got Y  Cause: Serialized data has different type than expected.  Solutions:  Use correct target type:  // Wrong: Deserializing User into Order var order Order f.Deserialize(userData, &amp;order) // Error! // Correct var user User f.Deserialize(userData, &amp;user)   Ensure consistent registration:  // Serializer f1 := fory.New() f1.RegisterStruct(User{}, 1) // Deserializer - must use same ID f2 := fory.New() f2.RegisterStruct(User{}, 1) // Same ID!   ","version":"0.15","tagName":"h3"},{"title":"ErrKindHashMismatch‚Äã","type":1,"pageTitle":"ÊïÖÈöúÊéíÊü•","url":"/zh-CN/docs/guide/go/troubleshooting#errkindhashmismatch","content":" Error: hash X is not consistent with Y for type Z  Cause: Struct definition changed between serialization and deserialization.  Solutions:  Enable compatible mode:  f := fory.New(fory.WithCompatible(true))   Ensure struct definitions match:  // Both serializer and deserializer must have same struct type User struct { ID int64 Name string }   Regenerate codegen (if using):  go generate ./...   ","version":"0.15","tagName":"h3"},{"title":"ErrKindMaxDepthExceeded‚Äã","type":1,"pageTitle":"ÊïÖÈöúÊéíÊü•","url":"/zh-CN/docs/guide/go/troubleshooting#errkindmaxdepthexceeded","content":" Error: max depth exceeded  Cause: Data nesting exceeds maximum depth limit.  Possible causes:  Deeply nested data structures exceeding the default limit (20)Unintended circular references without reference tracking enabledMalicious data: Attackers may craft deeply nested payloads to cause resource exhaustion  Solutions:  Increase max depth (default is 20):  f := fory.New(fory.WithMaxDepth(50))   Enable reference tracking (for circular data):  f := fory.New(fory.WithTrackRef(true))   Check for unintended circular references in your data. Validate untrusted data: When deserializing data from untrusted sources, do not blindly increase max depth. Consider validating input size and structure before deserialization.  ","version":"0.15","tagName":"h3"},{"title":"ErrKindBufferOutOfBound‚Äã","type":1,"pageTitle":"ÊïÖÈöúÊéíÊü•","url":"/zh-CN/docs/guide/go/troubleshooting#errkindbufferoutofbound","content":" Error: buffer out of bound: offset=X, need=Y, size=Z  Cause: Reading beyond available data.  Solutions:  Ensure complete data transfer:  // Wrong: Truncated data data := fullData[:100] f.Deserialize(data, &amp;target) // Error if data was larger // Correct: Use full data f.Deserialize(fullData, &amp;target)   Check for data corruption: Verify data integrity during transmission.  ","version":"0.15","tagName":"h3"},{"title":"ErrKindInvalidRefId‚Äã","type":1,"pageTitle":"ÊïÖÈöúÊéíÊü•","url":"/zh-CN/docs/guide/go/troubleshooting#errkindinvalidrefid","content":" Error: invalid reference ID  Cause: Reference to non-existent object in serialized data.  Solutions:  Ensure reference tracking consistency:  // Serializer and deserializer must have same setting f1 := fory.New(fory.WithTrackRef(true)) f2 := fory.New(fory.WithTrackRef(true)) // Must match!   Check for data corruption.  ","version":"0.15","tagName":"h3"},{"title":"ErrKindInvalidTag‚Äã","type":1,"pageTitle":"ÊïÖÈöúÊéíÊü•","url":"/zh-CN/docs/guide/go/troubleshooting#errkindinvalidtag","content":" Error: invalid fory struct tag  Cause: Invalid struct tag configuration.  Common causes:  Invalid tag ID: ID must be &gt;= -1  // Wrong: negative ID (other than -1) type Bad struct { Field int `fory:&quot;id=-5&quot;` } // Correct type Good struct { Field int `fory:&quot;id=0&quot;` }   Duplicate tag IDs: Each field must have a unique ID within the struct  // Wrong: duplicate IDs type Bad struct { Field1 int `fory:&quot;id=0&quot;` Field2 int `fory:&quot;id=0&quot;` // Duplicate! } // Correct type Good struct { Field1 int `fory:&quot;id=0&quot;` Field2 int `fory:&quot;id=1&quot;` }   ","version":"0.15","tagName":"h3"},{"title":"Cross-Language Issues‚Äã","type":1,"pageTitle":"ÊïÖÈöúÊéíÊü•","url":"/zh-CN/docs/guide/go/troubleshooting#cross-language-issues","content":" ","version":"0.15","tagName":"h2"},{"title":"Field Order Mismatch‚Äã","type":1,"pageTitle":"ÊïÖÈöúÊéíÊü•","url":"/zh-CN/docs/guide/go/troubleshooting#field-order-mismatch","content":" Symptom: Data deserializes but fields have wrong values.  Cause: Different field ordering between languages. In non-compatible mode, fields are sorted by their snake_case names. CamelCase field names (e.g., FirstName) are converted to snake_case (e.g., first_name) for sorting.  Solutions:  Ensure converted snake_case names are consistent: Field names across languages must produce the same snake_case ordering:  type User struct { FirstName string // Go: FirstName -&gt; first_name LastName string // Go: LastName -&gt; last_name // Sorted alphabetically by snake_case: first_name, last_name }   Use field IDs for consistent ordering: Field IDs (non-negative integers) act as aliases for field names, used for both sorting and field matching during deserialization:  type User struct { FirstName string `fory:&quot;id=0&quot;` LastName string `fory:&quot;id=1&quot;` }   Ensure the same field IDs are used across all languages for corresponding fields.  ","version":"0.15","tagName":"h3"},{"title":"Name Registration Mismatch‚Äã","type":1,"pageTitle":"ÊïÖÈöúÊéíÊü•","url":"/zh-CN/docs/guide/go/troubleshooting#name-registration-mismatch","content":" Symptom: unknown type in other languages.  Solution: Use identical names:  // Go f.RegisterNamedStruct(User{}, &quot;example.User&quot;) // Java - must match exactly fory.register(User.class, &quot;example.User&quot;); // Python fory.register(User, typename=&quot;example.User&quot;)   ","version":"0.15","tagName":"h3"},{"title":"Performance Issues‚Äã","type":1,"pageTitle":"ÊïÖÈöúÊéíÊü•","url":"/zh-CN/docs/guide/go/troubleshooting#performance-issues","content":" ","version":"0.15","tagName":"h2"},{"title":"Slow Serialization‚Äã","type":1,"pageTitle":"ÊïÖÈöúÊéíÊü•","url":"/zh-CN/docs/guide/go/troubleshooting#slow-serialization","content":" Possible causes:  Large object graphs: Reduce data size or serialize incrementally. Excessive reference tracking: Disable if not needed:  f := fory.New(fory.WithTrackRef(false))   Deep nesting: Flatten data structures where possible.  ","version":"0.15","tagName":"h3"},{"title":"High Memory Usage‚Äã","type":1,"pageTitle":"ÊïÖÈöúÊéíÊü•","url":"/zh-CN/docs/guide/go/troubleshooting#high-memory-usage","content":" Possible causes:  Large serialized data: Process in chunks. Reference tracking overhead: Disable if not needed. Buffer not released: Reuse buffers:  buf := fory.NewByteBuffer(nil) f.SerializeTo(buf, value) // Process data buf.Reset() // Reuse for next serialization   ","version":"0.15","tagName":"h3"},{"title":"Thread Contention‚Äã","type":1,"pageTitle":"ÊïÖÈöúÊéíÊü•","url":"/zh-CN/docs/guide/go/troubleshooting#thread-contention","content":" Symptom: Slowdown under concurrent load.  Solutions:  Use per-goroutine instances for hot paths:  func worker() { f := fory.New() // Each worker has own instance for task := range tasks { f.Serialize(task) } }   Profile pool usage with thread-safe wrapper.  ","version":"0.15","tagName":"h3"},{"title":"Debugging Techniques‚Äã","type":1,"pageTitle":"ÊïÖÈöúÊéíÊü•","url":"/zh-CN/docs/guide/go/troubleshooting#debugging-techniques","content":" ","version":"0.15","tagName":"h2"},{"title":"Enable Debug Output‚Äã","type":1,"pageTitle":"ÊïÖÈöúÊéíÊü•","url":"/zh-CN/docs/guide/go/troubleshooting#enable-debug-output","content":" Set environment variable:  ENABLE_FORY_DEBUG_OUTPUT=1 go test ./...   ","version":"0.15","tagName":"h3"},{"title":"Inspect Serialized Data‚Äã","type":1,"pageTitle":"ÊïÖÈöúÊéíÊü•","url":"/zh-CN/docs/guide/go/troubleshooting#inspect-serialized-data","content":" data, _ := f.Serialize(value) fmt.Printf(&quot;Serialized %d bytes\\n&quot;, len(data)) fmt.Printf(&quot;Header: %x\\n&quot;, data[:4]) // Magic + flags   ","version":"0.15","tagName":"h3"},{"title":"Check Type Registration‚Äã","type":1,"pageTitle":"ÊïÖÈöúÊéíÊü•","url":"/zh-CN/docs/guide/go/troubleshooting#check-type-registration","content":" // Verify type is registered f := fory.New() err := f.RegisterStruct(User{}, 1) if err != nil { fmt.Printf(&quot;Registration failed: %v\\n&quot;, err) }   ","version":"0.15","tagName":"h3"},{"title":"Compare Struct Hashes‚Äã","type":1,"pageTitle":"ÊïÖÈöúÊéíÊü•","url":"/zh-CN/docs/guide/go/troubleshooting#compare-struct-hashes","content":" If getting hash mismatch, compare struct definitions:  // Print struct info for debugging t := reflect.TypeOf(User{}) for i := 0; i &lt; t.NumField(); i++ { f := t.Field(i) fmt.Printf(&quot;Field: %s, Type: %s\\n&quot;, f.Name, f.Type) }   ","version":"0.15","tagName":"h3"},{"title":"Testing Tips‚Äã","type":1,"pageTitle":"ÊïÖÈöúÊéíÊü•","url":"/zh-CN/docs/guide/go/troubleshooting#testing-tips","content":" ","version":"0.15","tagName":"h2"},{"title":"Test Round-Trip‚Äã","type":1,"pageTitle":"ÊïÖÈöúÊéíÊü•","url":"/zh-CN/docs/guide/go/troubleshooting#test-round-trip","content":" func TestRoundTrip(t *testing.T) { f := fory.New() f.RegisterStruct(User{}, 1) original := &amp;User{ID: 1, Name: &quot;Alice&quot;} data, err := f.Serialize(original) require.NoError(t, err) var result User err = f.Deserialize(data, &amp;result) require.NoError(t, err) assert.Equal(t, original.ID, result.ID) assert.Equal(t, original.Name, result.Name) }   ","version":"0.15","tagName":"h3"},{"title":"Test Cross-Language‚Äã","type":1,"pageTitle":"ÊïÖÈöúÊéíÊü•","url":"/zh-CN/docs/guide/go/troubleshooting#test-cross-language","content":" cd java/fory-core FORY_GO_JAVA_CI=1 mvn test -Dtest=org.apache.fory.xlang.GoXlangTest   ","version":"0.15","tagName":"h3"},{"title":"Test Schema Evolution‚Äã","type":1,"pageTitle":"ÊïÖÈöúÊéíÊü•","url":"/zh-CN/docs/guide/go/troubleshooting#test-schema-evolution","content":" func TestSchemaEvolution(t *testing.T) { f1 := fory.New(fory.WithCompatible(true)) f1.RegisterStruct(UserV1{}, 1) data, _ := f1.Serialize(&amp;UserV1{ID: 1, Name: &quot;Alice&quot;}) f2 := fory.New(fory.WithCompatible(true)) f2.RegisterStruct(UserV2{}, 1) var result UserV2 err := f2.Deserialize(data, &amp;result) require.NoError(t, err) }   ","version":"0.15","tagName":"h3"},{"title":"Getting Help‚Äã","type":1,"pageTitle":"ÊïÖÈöúÊéíÊü•","url":"/zh-CN/docs/guide/go/troubleshooting#getting-help","content":" If you encounter issues not covered here:  Check GitHub Issues: github.com/apache/fory/issuesEnable debug output: ENABLE_FORY_DEBUG_OUTPUT=1Create minimal reproduction: Isolate the problemReport the issue: Include Go version, Fory version, and minimal code  ","version":"0.15","tagName":"h2"},{"title":"Áõ∏ÂÖ≥‰∏ªÈ¢ò‚Äã","type":1,"pageTitle":"ÊïÖÈöúÊéíÊü•","url":"/zh-CN/docs/guide/go/troubleshooting#Áõ∏ÂÖ≥‰∏ªÈ¢ò","content":" ConfigurationCross-Language SerializationSchema EvolutionThread Safety ","version":"0.15","tagName":"h2"},{"title":"Java Â∫èÂàóÂåñÊåáÂçó","type":0,"sectionRef":"#","url":"/zh-CN/docs/guide/java/","content":"","keywords":"","version":"0.15"},{"title":"ÁâπÊÄß‚Äã","type":1,"pageTitle":"Java Â∫èÂàóÂåñÊåáÂçó","url":"/zh-CN/docs/guide/java/#ÁâπÊÄß","content":" ","version":"0.15","tagName":"h2"},{"title":"È´òÊÄßËÉΩ‚Äã","type":1,"pageTitle":"Java Â∫èÂàóÂåñÊåáÂçó","url":"/zh-CN/docs/guide/java/#È´òÊÄßËÉΩ","content":" JIT ‰ª£Á†ÅÁîüÊàêÔºöÈ´òÂ∫¶ÂèØÊâ©Â±ïÁöÑ JIT Ê°ÜÊû∂Âú®ËøêË°åÊó∂‰ΩøÁî®ÂºÇÊ≠•Â§öÁ∫øÁ®ãÁºñËØëÁîüÊàêÂ∫èÂàóÂåñÂô®‰ª£Á†ÅÔºåÈÄöËøá‰ª•‰∏ãÊñπÂºèÊèê‰æõ 20-170 ÂÄçÁöÑÂä†ÈÄüÔºö ÂÜÖËÅîÂèòÈáè‰ª•ÂáèÂ∞ëÂÜÖÂ≠òËÆøÈóÆÂÜÖËÅîÊñπÊ≥ïË∞ÉÁî®‰ª•Ê∂àÈô§ËôöÊãüÂàÜÊ¥æÂºÄÈîÄÊúÄÂ∞èÂåñÊù°‰ª∂ÂàÜÊîØÊ∂àÈô§ÂìàÂ∏åÊü•Êâæ Èõ∂Êã∑Ë¥ùÔºöÁõ¥Êé•ÂÜÖÂ≠òËÆøÈóÆÔºåÊó†‰∏≠Èó¥ÁºìÂÜ≤Âå∫Êã∑Ë¥ùÔºõË°åÊ†ºÂºèÊîØÊåÅÈöèÊú∫ËÆøÈóÆÂíåÈÉ®ÂàÜÂ∫èÂàóÂåñÂèòÈïøÁºñÁ†ÅÔºöÂØπÊï¥Êï∞ÂíåÈïøÊï¥ÂûãËøõË°å‰ºòÂåñÂéãÁº©ÂÖÉÊï∞ÊçÆÂÖ±‰∫´ÔºöÁºìÂ≠òÁöÑÁ±ªÂÖÉÊï∞ÊçÆÂáèÂ∞ëÂÜó‰ΩôÁ±ªÂûã‰ø°ÊÅØSIMD Âä†ÈÄüÔºöÊîØÊåÅ Java Vector API Áî®‰∫éÊï∞ÁªÑÊìç‰ΩúÔºàJava 16+Ôºâ  ","version":"0.15","tagName":"h3"},{"title":"Âç≥ÊèíÂç≥Áî®Êõø‰ª£‚Äã","type":1,"pageTitle":"Java Â∫èÂàóÂåñÊåáÂçó","url":"/zh-CN/docs/guide/java/#Âç≥ÊèíÂç≥Áî®Êõø‰ª£","content":" 100% JDK Â∫èÂàóÂåñÂÖºÂÆπÔºöÊîØÊåÅ writeObject/readObject/writeReplace/readResolve/readObjectNoData/ExternalizableJava 8-24 ÊîØÊåÅÔºöÈÄÇÁî®‰∫éÊâÄÊúâÁé∞‰ª£ Java ÁâàÊú¨ÔºåÂåÖÊã¨ Java 17+ ÁöÑ recordGraalVM Native ImageÔºöÊîØÊåÅ AOT ÁºñËØëÔºåÊó†ÈúÄÂèçÂ∞ÑÈÖçÁΩÆ  ","version":"0.15","tagName":"h3"},{"title":"È´òÁ∫ßÁâπÊÄß‚Äã","type":1,"pageTitle":"Java Â∫èÂàóÂåñÊåáÂçó","url":"/zh-CN/docs/guide/java/#È´òÁ∫ßÁâπÊÄß","content":" ÂºïÁî®Ë∑üË∏™ÔºöËá™Âä®Â§ÑÁêÜÂÖ±‰∫´ÂºïÁî®ÂíåÂæ™ÁéØÂºïÁî®Schema ÊºîÂåñÔºöÁ±ª schema ÂèòÊõ¥ÁöÑÂâçÂêë/ÂêéÂêëÂÖºÂÆπÊÄßÂ§öÊÄÅÊÄßÔºöÂÆåÂÖ®ÊîØÊåÅÁªßÊâøÂ±ÇÊ¨°ÁªìÊûÑÂíåÊé•Âè£Ê∑±Êã∑Ë¥ùÔºöÈ´òÊïàÊ∑±Â∫¶ÂÖãÈöÜÂ§çÊùÇÂØπË±°ÂõæÂπ∂‰øùÁïôÂºïÁî®ÂÆâÂÖ®ÊÄßÔºöÁ±ªÊ≥®ÂÜåÂíåÂèØÈÖçÁΩÆÁöÑÂèçÂ∫èÂàóÂåñÁ≠ñÁï•  ","version":"0.15","tagName":"h3"},{"title":"Âø´ÈÄüÂºÄÂßã‚Äã","type":1,"pageTitle":"Java Â∫èÂàóÂåñÊåáÂçó","url":"/zh-CN/docs/guide/java/#Âø´ÈÄüÂºÄÂßã","content":" Ê≥®ÊÑèÔºåFory ÁöÑÂàõÂª∫ÊàêÊú¨‰∏ç‰ΩéÔºåÂ∫îËØ•Âú®Â§öÊ¨°Â∫èÂàóÂåñ‰πãÈó¥Â§çÁî® Fory ÂÆû‰æãÔºåËÄå‰∏çÊòØÊØèÊ¨°ÈÉΩÂàõÂª∫„ÄÇ‰Ω†Â∫îËØ•Â∞Ü Fory ‰Ωú‰∏∫ÈùôÊÄÅÂÖ®Â±ÄÂèòÈáèÔºåÊàñËÄÖÊüê‰∏™Âçï‰æãÂØπË±°ÊàñÊúâÈôêÂØπË±°ÁöÑÂÆû‰æãÂèòÈáè„ÄÇ  ","version":"0.15","tagName":"h2"},{"title":"ÂçïÁ∫øÁ®ã‰ΩøÁî®‚Äã","type":1,"pageTitle":"Java Â∫èÂàóÂåñÊåáÂçó","url":"/zh-CN/docs/guide/java/#ÂçïÁ∫øÁ®ã‰ΩøÁî®","content":" import java.util.List; import java.util.Arrays; import org.apache.fory.*; import org.apache.fory.config.*; public class Example { public static void main(String[] args) { SomeClass object = new SomeClass(); // Ê≥®ÊÑè Fory ÂÆû‰æãÂ∫îËØ•Âú®Â§öÊ¨°‰∏çÂêåÂØπË±°ÁöÑÂ∫èÂàóÂåñ‰πãÈó¥Â§çÁî®„ÄÇ Fory fory = Fory.builder().withLanguage(Language.JAVA) .requireClassRegistration(true) .build(); // Ê≥®ÂÜåÁ±ªÂûãÂèØ‰ª•ÂáèÂ∞ëÁ±ªÂêçÂ∫èÂàóÂåñÂºÄÈîÄÔºå‰ΩÜ‰∏çÊòØÂøÖÈ°ªÁöÑ„ÄÇ // Â¶ÇÊûúÂêØÁî®‰∫ÜÁ±ªÊ≥®ÂÜåÔºåÊâÄÊúâËá™ÂÆö‰πâÁ±ªÂûãÈÉΩÂøÖÈ°ªÊ≥®ÂÜå„ÄÇ // Â¶ÇÊûúÊú™ÊåáÂÆö idÔºåÊ≥®ÂÜåÈ°∫Â∫èÂøÖÈ°ª‰∏ÄËá¥ fory.register(SomeClass.class); byte[] bytes = fory.serialize(object); System.out.println(fory.deserialize(bytes)); } }   ","version":"0.15","tagName":"h3"},{"title":"Â§öÁ∫øÁ®ã‰ΩøÁî®‚Äã","type":1,"pageTitle":"Java Â∫èÂàóÂåñÊåáÂçó","url":"/zh-CN/docs/guide/java/#Â§öÁ∫øÁ®ã‰ΩøÁî®","content":" import java.util.List; import java.util.Arrays; import org.apache.fory.*; import org.apache.fory.config.*; public class Example { public static void main(String[] args) { SomeClass object = new SomeClass(); // Ê≥®ÊÑè Fory ÂÆû‰æãÂ∫îËØ•Âú®Â§öÊ¨°‰∏çÂêåÂØπË±°ÁöÑÂ∫èÂàóÂåñ‰πãÈó¥Â§çÁî®„ÄÇ ThreadSafeFory fory = new ThreadLocalFory(classLoader -&gt; { Fory f = Fory.builder().withLanguage(Language.JAVA) .withClassLoader(classLoader).build(); f.register(SomeClass.class, 1); return f; }); byte[] bytes = fory.serialize(object); System.out.println(fory.deserialize(bytes)); } }   ","version":"0.15","tagName":"h3"},{"title":"Fory ÂÆû‰æãÂ§çÁî®Ê®°Âºè‚Äã","type":1,"pageTitle":"Java Â∫èÂàóÂåñÊåáÂçó","url":"/zh-CN/docs/guide/java/#fory-ÂÆû‰æãÂ§çÁî®Ê®°Âºè","content":" import java.util.List; import java.util.Arrays; import org.apache.fory.*; import org.apache.fory.config.*; public class Example { // Â§çÁî® fory„ÄÇ private static final ThreadSafeFory fory = new ThreadLocalFory(classLoader -&gt; { Fory f = Fory.builder().withLanguage(Language.JAVA) .withClassLoader(classLoader).build(); f.register(SomeClass.class, 1); return f; }); public static void main(String[] args) { SomeClass object = new SomeClass(); byte[] bytes = fory.serialize(object); System.out.println(fory.deserialize(bytes)); } }   ","version":"0.15","tagName":"h3"},{"title":"Á∫øÁ®ãÂÆâÂÖ®‚Äã","type":1,"pageTitle":"Java Â∫èÂàóÂåñÊåáÂçó","url":"/zh-CN/docs/guide/java/#Á∫øÁ®ãÂÆâÂÖ®","content":" Fory Êèê‰æõÂ§öÁßçÁ∫øÁ®ãÂÆâÂÖ®Â∫èÂàóÂåñÈÄâÈ°πÔºö  ","version":"0.15","tagName":"h2"},{"title":"ThreadLocalFory‚Äã","type":1,"pageTitle":"Java Â∫èÂàóÂåñÊåáÂçó","url":"/zh-CN/docs/guide/java/#threadlocalfory","content":" ‰ΩøÁî®Á∫øÁ®ãÊú¨Âú∞Â≠òÂÇ®‰∏∫ÊØè‰∏™Á∫øÁ®ãÁª¥Êä§Áã¨Á´ãÁöÑ Fory ÂÆû‰æãÔºö  ThreadSafeFory fory = new ThreadLocalFory(classLoader -&gt; { Fory f = Fory.builder().withLanguage(Language.JAVA) .withClassLoader(classLoader).build(); f.register(SomeClass.class, 1); return f; }); byte[] bytes = fory.serialize(object); System.out.println(fory.deserialize(bytes));   ","version":"0.15","tagName":"h3"},{"title":"ThreadSafeForyPool‚Äã","type":1,"pageTitle":"Java Â∫èÂàóÂåñÊåáÂçó","url":"/zh-CN/docs/guide/java/#threadsafeforypool","content":" ÂØπ‰∫éËôöÊãüÁ∫øÁ®ãÊàñ‰∏çÈÄÇÂêà‰ΩøÁî®Á∫øÁ®ãÊú¨Âú∞Â≠òÂÇ®ÁöÑÁéØÂ¢ÉÔºå‰ΩøÁî® buildThreadSafeForyPoolÔºö  ThreadSafeFory fory = Fory.builder() .withLanguage(Language.JAVA) .withRefTracking(false) .withCompatibleMode(CompatibleMode.SCHEMA_CONSISTENT) .withAsyncCompilation(true) .buildThreadSafeForyPool(minPoolSize, maxPoolSize);   Ê≥®ÊÑèÔºåÂú® ForyBuilder ‰∏äË∞ÉÁî® buildThreadSafeFory() Â∞ÜÂàõÂª∫ ThreadLocalFory ÂÆû‰æã„ÄÇËøôÂú®‰ΩøÁî®ËôöÊãüÁ∫øÁ®ãÁöÑÁéØÂ¢É‰∏≠ÂèØËÉΩ‰∏çÂêàÈÄÇÔºåÂõ†‰∏∫ÊØè‰∏™Á∫øÁ®ãÈÉΩ‰ºöÂàõÂª∫Ëá™Â∑±ÁöÑ Fory ÂÆû‰æãÔºåËøôÊòØ‰∏Ä‰∏™Áõ∏ÂØπÊòÇË¥µÁöÑÊìç‰Ωú„ÄÇÂØπ‰∫éËôöÊãüÁ∫øÁ®ãÔºåÂè¶‰∏ÄÁßçÈÄâÊã©ÊòØ‰ΩøÁî® buildThreadSafeForyPool„ÄÇ  ","version":"0.15","tagName":"h3"},{"title":"Builder ÊñπÊ≥ï‚Äã","type":1,"pageTitle":"Java Â∫èÂàóÂåñÊåáÂçó","url":"/zh-CN/docs/guide/java/#builder-ÊñπÊ≥ï","content":" // ÂçïÁ∫øÁ®ã Fory Fory fory = Fory.builder() .withLanguage(Language.JAVA) .withRefTracking(false) .withCompatibleMode(CompatibleMode.SCHEMA_CONSISTENT) .withAsyncCompilation(true) .build(); // Á∫øÁ®ãÂÆâÂÖ® Fory (ThreadLocalFory) ThreadSafeFory fory = Fory.builder() .withLanguage(Language.JAVA) .withRefTracking(false) .withCompatibleMode(CompatibleMode.SCHEMA_CONSISTENT) .withAsyncCompilation(true) .buildThreadSafeFory();   ","version":"0.15","tagName":"h3"},{"title":"ÂêéÁª≠Ê≠•È™§‚Äã","type":1,"pageTitle":"Java Â∫èÂàóÂåñÊåáÂçó","url":"/zh-CN/docs/guide/java/#ÂêéÁª≠Ê≠•È™§","content":" ÈÖçÁΩÆÈÄâÈ°π - ‰∫ÜËß£ ForyBuilder ÈÄâÈ°πÂü∫Á°ÄÂ∫èÂàóÂåñ - ËØ¶ÁªÜÁöÑÂ∫èÂàóÂåñÊ®°ÂºèÁ±ªÂûãÊ≥®ÂÜå - Á±ªÊ≥®ÂÜåÂíåÂÆâÂÖ®ÊÄßËá™ÂÆö‰πâÂ∫èÂàóÂåñÂô® - ÂÆûÁé∞Ëá™ÂÆö‰πâÂ∫èÂàóÂåñÂô®Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ - ‰∏∫ÂÖ∂‰ªñËØ≠Ë®ÄÂ∫èÂàóÂåñÊï∞ÊçÆ ","version":"0.15","tagName":"h2"},{"title":"GraalVM ÊåáÂçó","type":0,"sectionRef":"#","url":"/zh-CN/docs/guide/graalvm_serialization","content":"","keywords":"","version":"0.15"},{"title":"GraalVM Native Image‚Äã","type":1,"pageTitle":"GraalVM ÊåáÂçó","url":"/zh-CN/docs/guide/graalvm_serialization#graalvm-native-image","content":" GraalVM native image ÊèêÂâçÂ∞Ü Java ‰ª£Á†ÅÁºñËØë‰∏∫Êú¨Âú∞ÂèØÊâßË°åÊñá‰ª∂Ôºå‰ªéËÄåÂÆûÁé∞Êõ¥Âø´ÁöÑÂêØÂä®ÈÄüÂ∫¶ÂíåÊõ¥‰ΩéÁöÑÂÜÖÂ≠ò‰ΩøÁî®„ÄÇ‰ΩÜÊòØÔºåÊú¨Âú∞ÈïúÂÉè‰∏çÊîØÊåÅËøêË°åÊó∂ JIT ÁºñËØëÊàñÂèçÂ∞ÑÔºåÈô§ÈùûËøõË°åÊòæÂºèÈÖçÁΩÆ„ÄÇ  Apache Fory‚Ñ¢ ÈÄöËøá‰ΩøÁî®‰ª£Á†ÅÁîüÊàêËÄåÈùûÂèçÂ∞ÑÔºåÂèØ‰ª•ÂÆåÁæéÂú∞‰∏é GraalVM native image ÈÖçÂêà‰ΩøÁî®„ÄÇÊâÄÊúâÂ∫èÂàóÂåñÂô®‰ª£Á†ÅÈÉΩÂú®ÊûÑÂª∫Êó∂ÁîüÊàêÔºåÂú®Â§ßÂ§öÊï∞ÊÉÖÂÜµ‰∏ãÊó†ÈúÄÂèçÂ∞ÑÈÖçÁΩÆÊñá‰ª∂„ÄÇ  ","version":"0.15","tagName":"h2"},{"title":"Â∑•‰ΩúÂéüÁêÜ‚Äã","type":1,"pageTitle":"GraalVM ÊåáÂçó","url":"/zh-CN/docs/guide/graalvm_serialization#Â∑•‰ΩúÂéüÁêÜ","content":" ÂΩìÊÇ®ÊâßË°å‰ª•‰∏ãÊìç‰ΩúÊó∂ÔºåFory ‰ºöÂú® GraalVM ÊûÑÂª∫Êó∂ÁîüÊàêÂ∫èÂàóÂåñ‰ª£Á†ÅÔºö  Â∞Ü Fory ÂàõÂª∫‰∏∫ÈùôÊÄÅÂ≠óÊÆµÂú®ÈùôÊÄÅÂàùÂßãÂåñÂô®‰∏≠Ê≥®ÂÜåÊâÄÊúâÁ±ªË∞ÉÁî® fory.ensureSerializersCompiled() Êù•ÁºñËØëÂ∫èÂàóÂåñÂô®ÈÄöËøá native-image.properties ÈÖçÁΩÆËØ•Á±ªÂú®ÊûÑÂª∫Êó∂ÂàùÂßãÂåñ  ‰∏ªË¶Å‰ºòÂäøÔºöÂØπ‰∫éÂ§ßÂ§öÊï∞ÂèØÂ∫èÂàóÂåñÁöÑÁ±ªÔºåÊÇ®Êó†ÈúÄÈÖçÁΩÆÂèçÂ∞Ñ json ÊàñÂ∫èÂàóÂåñ json„ÄÇ  Ê≥®ÊÑèÔºöFory ÁöÑ asyncCompilationEnabled ÈÄâÈ°πÂú® GraalVM native image ‰∏≠‰ºöËá™Âä®Á¶ÅÁî®ÔºåÂõ†‰∏∫‰∏çÊîØÊåÅËøêË°åÊó∂ JIT„ÄÇ  ","version":"0.15","tagName":"h2"},{"title":"Âü∫Á°ÄÁî®Ê≥ï‚Äã","type":1,"pageTitle":"GraalVM ÊåáÂçó","url":"/zh-CN/docs/guide/graalvm_serialization#Âü∫Á°ÄÁî®Ê≥ï","content":" ","version":"0.15","tagName":"h2"},{"title":"Ê≠•È™§ 1ÔºöÂàõÂª∫ Fory Âπ∂Ê≥®ÂÜåÁ±ª‚Äã","type":1,"pageTitle":"GraalVM ÊåáÂçó","url":"/zh-CN/docs/guide/graalvm_serialization#Ê≠•È™§-1ÂàõÂª∫-fory-Âπ∂Ê≥®ÂÜåÁ±ª","content":" import org.apache.fory.Fory; public class Example { // ÂøÖÈ°ªÊòØÈùôÊÄÅÂ≠óÊÆµ static Fory fory; static { fory = Fory.builder().build(); fory.register(MyClass.class); fory.register(AnotherClass.class); // Âú®ÊûÑÂª∫Êó∂ÁºñËØëÊâÄÊúâÂ∫èÂàóÂåñÂô® fory.ensureSerializersCompiled(); } public static void main(String[] args) { byte[] bytes = fory.serialize(new MyClass()); MyClass obj = (MyClass) fory.deserialize(bytes); } }   ","version":"0.15","tagName":"h3"},{"title":"Ê≠•È™§ 2ÔºöÈÖçÁΩÆÊûÑÂª∫Êó∂ÂàùÂßãÂåñ‚Äã","type":1,"pageTitle":"GraalVM ÊåáÂçó","url":"/zh-CN/docs/guide/graalvm_serialization#Ê≠•È™§-2ÈÖçÁΩÆÊûÑÂª∫Êó∂ÂàùÂßãÂåñ","content":" ÂàõÂª∫ resources/META-INF/native-image/your-group/your-artifact/native-image.propertiesÔºö  Args = --initialize-at-build-time=com.example.Example   ","version":"0.15","tagName":"h3"},{"title":"ForyGraalVMFeatureÔºàÂèØÈÄâÔºâ‚Äã","type":1,"pageTitle":"GraalVM ÊåáÂçó","url":"/zh-CN/docs/guide/graalvm_serialization#forygraalvmfeatureÂèØÈÄâ","content":" ÂØπ‰∫éÂ§ßÂ§öÊï∞ÂÖ∑ÊúâÂÖ¨ÂÖ±ÊûÑÈÄ†ÂáΩÊï∞ÁöÑÁ±ªÂûãÔºå‰∏äËø∞Âü∫Êú¨ËÆæÁΩÆÂ∞±Ë∂≥Â§ü‰∫Ü„ÄÇ‰ΩÜÊòØÔºå‰∏Ä‰∫õÈ´òÁ∫ßÊÉÖÂÜµÈúÄË¶ÅÂèçÂ∞ÑÊ≥®ÂÜåÔºö  ÁßÅÊúâÊûÑÈÄ†ÂáΩÊï∞ÔºàÊ≤°ÊúâÂèØËÆøÈóÆÁöÑÊó†ÂèÇÊûÑÈÄ†ÂáΩÊï∞ÁöÑÁ±ªÔºâÁßÅÊúâÂÜÖÈÉ®Á±ª/ËÆ∞ÂΩïÂä®ÊÄÅ‰ª£ÁêÜÂ∫èÂàóÂåñ  fory-graalvm-feature Ê®°Âùó‰ºöËá™Âä®Â§ÑÁêÜËøô‰∫õÊÉÖÂÜµÔºåÊó†ÈúÄÊâãÂä®ÈÖçÁΩÆ reflect-config.json„ÄÇ  ","version":"0.15","tagName":"h2"},{"title":"Ê∑ªÂä†‰æùËµñ‚Äã","type":1,"pageTitle":"GraalVM ÊåáÂçó","url":"/zh-CN/docs/guide/graalvm_serialization#Ê∑ªÂä†‰æùËµñ","content":" &lt;dependency&gt; &lt;groupId&gt;org.apache.fory&lt;/groupId&gt; &lt;artifactId&gt;fory-graalvm-feature&lt;/artifactId&gt; &lt;version&gt;${fory.version}&lt;/version&gt; &lt;/dependency&gt;   ","version":"0.15","tagName":"h3"},{"title":"ÂêØÁî®ÂäüËÉΩ‚Äã","type":1,"pageTitle":"GraalVM ÊåáÂçó","url":"/zh-CN/docs/guide/graalvm_serialization#ÂêØÁî®ÂäüËÉΩ","content":" Â∞Ü‰ª•‰∏ãÂÜÖÂÆπÊ∑ªÂä†Âà∞ÊÇ®ÁöÑ native-image.propertiesÔºö  Args = --initialize-at-build-time=com.example.Example \\ --features=org.apache.fory.graalvm.feature.ForyGraalVMFeature   ","version":"0.15","tagName":"h3"},{"title":"ForyGraalVMFeature Â§ÑÁêÜÁöÑÂÜÖÂÆπ‚Äã","type":1,"pageTitle":"GraalVM ÊåáÂçó","url":"/zh-CN/docs/guide/graalvm_serialization#forygraalvmfeature-Â§ÑÁêÜÁöÑÂÜÖÂÆπ","content":" Âú∫ÊôØ\t‰∏ç‰ΩøÁî® Feature\t‰ΩøÁî® FeatureÂÖ∑ÊúâÊó†ÂèÇÊûÑÈÄ†ÂáΩÊï∞ÁöÑÂÖ¨ÂÖ±Á±ª\t‚úÖ ÂèØÂ∑•‰Ωú\t‚úÖ ÂèØÂ∑•‰Ωú ÁßÅÊúâÊûÑÈÄ†ÂáΩÊï∞\t‚ùå ÈúÄË¶Å reflect-config.json\t‚úÖ Ëá™Âä®Ê≥®ÂÜå ÁßÅÊúâÂÜÖÈÉ®ËÆ∞ÂΩï\t‚ùå ÈúÄË¶Å reflect-config.json\t‚úÖ Ëá™Âä®Ê≥®ÂÜå Âä®ÊÄÅ‰ª£ÁêÜ\t‚ùå ÈúÄË¶ÅÊâãÂä®ÈÖçÁΩÆ\t‚úÖ Ëá™Âä®Ê≥®ÂÜå  ","version":"0.15","tagName":"h3"},{"title":"ÁßÅÊúâËÆ∞ÂΩïÁ§∫‰æã‚Äã","type":1,"pageTitle":"GraalVM ÊåáÂçó","url":"/zh-CN/docs/guide/graalvm_serialization#ÁßÅÊúâËÆ∞ÂΩïÁ§∫‰æã","content":" public class Example { // ÁßÅÊúâÂÜÖÈÉ®ËÆ∞ÂΩï - ÈúÄË¶Å ForyGraalVMFeature private record PrivateRecord(int id, String name) {} static Fory fory; static { fory = Fory.builder().build(); fory.register(PrivateRecord.class); fory.ensureSerializersCompiled(); } }   ","version":"0.15","tagName":"h3"},{"title":"Âä®ÊÄÅ‰ª£ÁêÜÁ§∫‰æã‚Äã","type":1,"pageTitle":"GraalVM ÊåáÂçó","url":"/zh-CN/docs/guide/graalvm_serialization#Âä®ÊÄÅ‰ª£ÁêÜÁ§∫‰æã","content":" import org.apache.fory.util.GraalvmSupport; public class ProxyExample { public interface MyService { String execute(); } static Fory fory; static { fory = Fory.builder().build(); // ‰∏∫Â∫èÂàóÂåñÊ≥®ÂÜå‰ª£ÁêÜÊé•Âè£ GraalvmSupport.registerProxySupport(MyService.class); fory.ensureSerializersCompiled(); } }   ","version":"0.15","tagName":"h3"},{"title":"Á∫øÁ®ãÂÆâÂÖ®ÁöÑ Fory‚Äã","type":1,"pageTitle":"GraalVM ÊåáÂçó","url":"/zh-CN/docs/guide/graalvm_serialization#Á∫øÁ®ãÂÆâÂÖ®ÁöÑ-fory","content":" ÂØπ‰∫éÂ§öÁ∫øÁ®ãÂ∫îÁî®Á®ãÂ∫èÔºå‰ΩøÁî® ThreadLocalForyÔºö  import org.apache.fory.Fory; import org.apache.fory.ThreadLocalFory; import org.apache.fory.ThreadSafeFory; public class ThreadSafeExample { public record Foo(int f1, String f2, List&lt;String&gt; f3) {} static ThreadSafeFory fory; static { fory = new ThreadLocalFory(classLoader -&gt; { Fory f = Fory.builder().build(); f.register(Foo.class); f.ensureSerializersCompiled(); return f; }); } public static void main(String[] args) { Foo foo = new Foo(10, &quot;abc&quot;, List.of(&quot;str1&quot;, &quot;str2&quot;)); byte[] bytes = fory.serialize(foo); Foo result = (Foo) fory.deserialize(bytes); } }   ","version":"0.15","tagName":"h2"},{"title":"ÊïÖÈöúÊéíÈô§‚Äã","type":1,"pageTitle":"GraalVM ÊåáÂçó","url":"/zh-CN/docs/guide/graalvm_serialization#ÊïÖÈöúÊéíÈô§","content":" ","version":"0.15","tagName":"h2"},{"title":"\"Type is instantiated reflectively but was never registered\"‚Äã","type":1,"pageTitle":"GraalVM ÊåáÂçó","url":"/zh-CN/docs/guide/graalvm_serialization#type-is-instantiated-reflectively-but-was-never-registered","content":" Â¶ÇÊûúÊÇ®ÁúãÂà∞Ê≠§ÈîôËØØÔºö  Type com.example.MyClass is instantiated reflectively but was never registered   Ëß£ÂÜ≥ÊñπÊ°àÔºö‰ΩøÁî® Fory Ê≥®ÂÜåËØ•Á±ªÔºà‰∏çË¶ÅÊ∑ªÂä†Âà∞ reflect-config.jsonÔºâÔºö  fory.register(MyClass.class); fory.ensureSerializersCompiled();   Â¶ÇÊûúËØ•Á±ªÂÖ∑ÊúâÁßÅÊúâÊûÑÈÄ†ÂáΩÊï∞ÔºåÂèØ‰ª•Ôºö  Ê∑ªÂä† fory-graalvm-feature ‰æùËµñÔºåÊàñ‰∏∫ËØ•ÁâπÂÆöÁ±ªÂàõÂª∫ reflect-config.json  ","version":"0.15","tagName":"h3"},{"title":"Ê°ÜÊû∂ÈõÜÊàê‚Äã","type":1,"pageTitle":"GraalVM ÊåáÂçó","url":"/zh-CN/docs/guide/graalvm_serialization#Ê°ÜÊû∂ÈõÜÊàê","content":" ÂØπ‰∫éÈõÜÊàê Fory ÁöÑÊ°ÜÊû∂ÂºÄÂèëËÄÖÔºö  ‰∏∫Áî®Êà∑Êèê‰æõÈÖçÁΩÆÊñá‰ª∂‰ª•ÂàóÂá∫ÂèØÂ∫èÂàóÂåñÁöÑÁ±ªÂä†ËΩΩËøô‰∫õÁ±ªÂπ∂‰∏∫ÊØè‰∏™Á±ªË∞ÉÁî® fory.register(Class&lt;?&gt;)ÂÆåÊàêÊâÄÊúâÊ≥®ÂÜåÂêéË∞ÉÁî® fory.ensureSerializersCompiled()ÈÖçÁΩÆÊÇ®ÁöÑÈõÜÊàêÁ±ª‰ª•Âú®ÊûÑÂª∫Êó∂ÂàùÂßãÂåñ  ","version":"0.15","tagName":"h2"},{"title":"Âü∫ÂáÜÊµãËØï‚Äã","type":1,"pageTitle":"GraalVM ÊåáÂçó","url":"/zh-CN/docs/guide/graalvm_serialization#Âü∫ÂáÜÊµãËØï","content":" Fory ‰∏é GraalVM JDK Â∫èÂàóÂåñÁöÑÊÄßËÉΩÊØîËæÉÔºö  Á±ªÂûã\tÂéãÁº©\tÈÄüÂ∫¶\tÂ§ßÂ∞èStruct\tÂÖ≥Èó≠\t46 ÂÄçÊõ¥Âø´\t43% Struct\tÂºÄÂêØ\t24 ÂÄçÊõ¥Âø´\t31% Pojo\tÂÖ≥Èó≠\t12 ÂÄçÊõ¥Âø´\t56% Pojo\tÂºÄÂêØ\t12 ÂÄçÊõ¥Âø´\t48%  Êü•Áúã Benchmark.java Ëé∑ÂèñÂü∫ÂáÜÊµãËØï‰ª£Á†Å„ÄÇ  ","version":"0.15","tagName":"h2"},{"title":"Struct Âü∫ÂáÜÊµãËØï‚Äã","type":1,"pageTitle":"GraalVM ÊåáÂçó","url":"/zh-CN/docs/guide/graalvm_serialization#struct-Âü∫ÂáÜÊµãËØï","content":" Á±ªÂ≠óÊÆµ‚Äã  public class Struct implements Serializable { public int f1; public long f2; public float f3; public double f4; public int f5; public long f6; public float f7; public double f8; public int f9; public long f10; public float f11; public double f12; }   Âü∫ÂáÜÊµãËØïÁªìÊûú‚Äã  Êó†ÂéãÁº©Ôºö  Benchmark repeat number: 400000 Object type: class org.apache.fory.graalvm.Struct Compress number: false Fory size: 76.0 JDK size: 178.0 Fory serialization took mills: 49 JDK serialization took mills: 2254 Compare speed: Fory is 45.70x speed of JDK Compare size: Fory is 0.43x size of JDK   Êï∞Â≠óÂéãÁº©Ôºö  Benchmark repeat number: 400000 Object type: class org.apache.fory.graalvm.Struct Compress number: true Fory size: 55.0 JDK size: 178.0 Fory serialization took mills: 130 JDK serialization took mills: 3161 Compare speed: Fory is 24.16x speed of JDK Compare size: Fory is 0.31x size of JDK   ","version":"0.15","tagName":"h3"},{"title":"Pojo Âü∫ÂáÜÊµãËØï‚Äã","type":1,"pageTitle":"GraalVM ÊåáÂçó","url":"/zh-CN/docs/guide/graalvm_serialization#pojo-Âü∫ÂáÜÊµãËØï","content":" Á±ªÂ≠óÊÆµ‚Äã  public class Foo implements Serializable { int f1; String f2; List&lt;String&gt; f3; Map&lt;String, Long&gt; f4; }   Âü∫ÂáÜÊµãËØïÁªìÊûú‚Äã  Êó†ÂéãÁº©Ôºö  Benchmark repeat number: 400000 Object type: class org.apache.fory.graalvm.Foo Compress number: false Fory size: 541.0 JDK size: 964.0 Fory serialization took mills: 1663 JDK serialization took mills: 16266 Compare speed: Fory is 12.19x speed of JDK Compare size: Fory is 0.56x size of JDK   Êï∞Â≠óÂéãÁº©Ôºö  Benchmark repeat number: 400000 Object type: class org.apache.fory.graalvm.Foo Compress number: true Fory size: 459.0 JDK size: 964.0 Fory serialization took mills: 1289 JDK serialization took mills: 15069 Compare speed: Fory is 12.11x speed of JDK Compare size: Fory is 0.48x size of JDK  ","version":"0.15","tagName":"h3"},{"title":"È´òÁ∫ßÁâπÊÄß","type":0,"sectionRef":"#","url":"/zh-CN/docs/guide/java/advanced_features","content":"","keywords":"","version":"0.15"},{"title":"Èõ∂Êã∑Ë¥ùÂ∫èÂàóÂåñ‚Äã","type":1,"pageTitle":"È´òÁ∫ßÁâπÊÄß","url":"/zh-CN/docs/guide/java/advanced_features#Èõ∂Êã∑Ë¥ùÂ∫èÂàóÂåñ","content":" Fory ÊîØÊåÅÈõ∂Êã∑Ë¥ùÂ∫èÂàóÂåñÔºå‰ª•È´òÊïàÂ§ÑÁêÜÂ§ßÂûã‰∫åËøõÂà∂Êï∞ÊçÆÔºö  import org.apache.fory.*; import org.apache.fory.config.*; import org.apache.fory.serializer.BufferObject; import org.apache.fory.memory.MemoryBuffer; import java.util.*; import java.util.stream.Collectors; public class ZeroCopyExample { // Ê≥®ÊÑè fory ÂÆû‰æãÂ∫îËØ•Â§çÁî®ÔºåËÄå‰∏çÊòØÊØèÊ¨°ÈÉΩÂàõÂª∫„ÄÇ static Fory fory = Fory.builder() .withLanguage(Language.JAVA) .build(); public static void main(String[] args) { List&lt;Object&gt; list = Arrays.asList(&quot;str&quot;, new byte[1000], new int[100], new double[100]); Collection&lt;BufferObject&gt; bufferObjects = new ArrayList&lt;&gt;(); byte[] bytes = fory.serialize(list, e -&gt; !bufferObjects.add(e)); List&lt;MemoryBuffer&gt; buffers = bufferObjects.stream() .map(BufferObject::toBuffer).collect(Collectors.toList()); System.out.println(fory.deserialize(bytes, buffers)); } }   ","version":"0.15","tagName":"h2"},{"title":"ÂØπË±°Ê∑±Êã∑Ë¥ù‚Äã","type":1,"pageTitle":"È´òÁ∫ßÁâπÊÄß","url":"/zh-CN/docs/guide/java/advanced_features#ÂØπË±°Ê∑±Êã∑Ë¥ù","content":" Fory Êèê‰æõÈ´òÊïàÁöÑÊ∑±Êã∑Ë¥ùÂäüËÉΩÔºö  ","version":"0.15","tagName":"h2"},{"title":"ÂêØÁî®ÂºïÁî®Ë∑üË∏™‚Äã","type":1,"pageTitle":"È´òÁ∫ßÁâπÊÄß","url":"/zh-CN/docs/guide/java/advanced_features#ÂêØÁî®ÂºïÁî®Ë∑üË∏™","content":" Fory fory = Fory.builder().withRefCopy(true).build(); SomeClass a = xxx; SomeClass copied = fory.copy(a);   ","version":"0.15","tagName":"h3"},{"title":"Á¶ÅÁî®ÂºïÁî®Ë∑üË∏™ÔºàÊõ¥Â•ΩÁöÑÊÄßËÉΩÔºâ‚Äã","type":1,"pageTitle":"È´òÁ∫ßÁâπÊÄß","url":"/zh-CN/docs/guide/java/advanced_features#Á¶ÅÁî®ÂºïÁî®Ë∑üË∏™Êõ¥Â•ΩÁöÑÊÄßËÉΩ","content":" Á¶ÅÁî®Êó∂ÔºåÊ∑±Êã∑Ë¥ùÂ∞ÜÂøΩÁï•Âæ™ÁéØÂºïÁî®ÂíåÂÖ±‰∫´ÂºïÁî®„ÄÇÂØπË±°ÂõæÁöÑÁõ∏ÂêåÂºïÁî®Â∞ÜÂú®‰∏ÄÊ¨° Fory#copy ‰∏≠Ë¢´Â§çÂà∂‰∏∫‰∏çÂêåÁöÑÂØπË±°Ôºö  Fory fory = Fory.builder().withRefCopy(false).build(); SomeClass a = xxx; SomeClass copied = fory.copy(a);   ","version":"0.15","tagName":"h3"},{"title":"ÂÜÖÂ≠òÂàÜÈÖçËá™ÂÆö‰πâ‚Äã","type":1,"pageTitle":"È´òÁ∫ßÁâπÊÄß","url":"/zh-CN/docs/guide/java/advanced_features#ÂÜÖÂ≠òÂàÜÈÖçËá™ÂÆö‰πâ","content":" Fory Êèê‰æõ‰∫Ü MemoryAllocator Êé•Âè£ÔºåÂÖÅËÆ∏‰Ω†Ëá™ÂÆö‰πâÂú®Â∫èÂàóÂåñÊìç‰ΩúÊúüÈó¥Â¶Ç‰ΩïÂàÜÈÖçÂíåÂ¢ûÈïøÂÜÖÂ≠òÁºìÂÜ≤Âå∫„ÄÇËøôÂØπ‰∫éÊÄßËÉΩ‰ºòÂåñ„ÄÅÂÜÖÂ≠òÊ±†ÂåñÊàñË∞ÉËØïÂÜÖÂ≠ò‰ΩøÁî®ÂæàÊúâÁî®„ÄÇ  ","version":"0.15","tagName":"h2"},{"title":"MemoryAllocator Êé•Âè£‚Äã","type":1,"pageTitle":"È´òÁ∫ßÁâπÊÄß","url":"/zh-CN/docs/guide/java/advanced_features#memoryallocator-Êé•Âè£","content":" MemoryAllocator Êé•Âè£ÂÆö‰πâ‰∫Ü‰∏§‰∏™ÂÖ≥ÈîÆÊñπÊ≥ïÔºö  public interface MemoryAllocator { /** * ÂàÜÈÖçÂÖ∑ÊúâÊåáÂÆöÂàùÂßãÂÆπÈáèÁöÑÊñ∞ MemoryBuffer„ÄÇ */ MemoryBuffer allocate(int initialCapacity); /** * Â¢ûÈïøÁé∞ÊúâÁºìÂÜ≤Âå∫‰ª•ÂÆπÁ∫≥Êñ∞ÂÆπÈáè„ÄÇ * ÂÆûÁé∞ÂøÖÈ°ªÈÄöËøá‰øÆÊîπÁé∞ÊúâÁºìÂÜ≤Âå∫ÂÆû‰æãÊù•ÂéüÂú∞Â¢ûÈïøÁºìÂÜ≤Âå∫„ÄÇ */ MemoryBuffer grow(MemoryBuffer buffer, int newCapacity); }   ","version":"0.15","tagName":"h3"},{"title":"‰ΩøÁî®Ëá™ÂÆö‰πâÂÜÖÂ≠òÂàÜÈÖçÂô®‚Äã","type":1,"pageTitle":"È´òÁ∫ßÁâπÊÄß","url":"/zh-CN/docs/guide/java/advanced_features#‰ΩøÁî®Ëá™ÂÆö‰πâÂÜÖÂ≠òÂàÜÈÖçÂô®","content":" ‰Ω†ÂèØ‰ª•ËÆæÁΩÆ‰∏Ä‰∏™ÂÖ®Â±ÄÂÜÖÂ≠òÂàÜÈÖçÂô®ÔºåÊâÄÊúâ MemoryBuffer ÂÆû‰æãÈÉΩÂ∞Ü‰ΩøÁî®ÂÆÉÔºö  // ÂàõÂª∫Ëá™ÂÆö‰πâÂàÜÈÖçÂô® MemoryAllocator customAllocator = new MemoryAllocator() { @Override public MemoryBuffer allocate(int initialCapacity) { // ‰∏∫Ë∞ÉËØïÊàñÊ±†ÂåñÊ∑ªÂä†È¢ùÂ§ñÂÆπÈáè return MemoryBuffer.fromByteArray(new byte[initialCapacity + 100]); } @Override public MemoryBuffer grow(MemoryBuffer buffer, int newCapacity) { if (newCapacity &lt;= buffer.size()) { return buffer; } // Ëá™ÂÆö‰πâÂ¢ûÈïøÁ≠ñÁï• - Ê∑ªÂä† 100% È¢ùÂ§ñÂÆπÈáè int newSize = (int) (newCapacity * 2); byte[] data = new byte[newSize]; buffer.copyToUnsafe(0, data, Platform.BYTE_ARRAY_OFFSET, buffer.size()); buffer.initHeapBuffer(data, 0, data.length); return buffer; } }; // ÂÖ®Â±ÄËÆæÁΩÆËá™ÂÆö‰πâÂàÜÈÖçÂô® MemoryBuffer.setGlobalAllocator(customAllocator); // ÊâÄÊúâÂêéÁª≠ÁöÑ MemoryBuffer ÂàÜÈÖçÈÉΩÂ∞Ü‰ΩøÁî®‰Ω†ÁöÑËá™ÂÆö‰πâÂàÜÈÖçÂô® Fory fory = Fory.builder().withLanguage(Language.JAVA).build(); byte[] bytes = fory.serialize(someObject); // ‰ΩøÁî®Ëá™ÂÆö‰πâÂàÜÈÖçÂô®   ","version":"0.15","tagName":"h3"},{"title":"ÈªòËÆ§ÂÜÖÂ≠òÂàÜÈÖçÂô®Ë°å‰∏∫‚Äã","type":1,"pageTitle":"È´òÁ∫ßÁâπÊÄß","url":"/zh-CN/docs/guide/java/advanced_features#ÈªòËÆ§ÂÜÖÂ≠òÂàÜÈÖçÂô®Ë°å‰∏∫","content":" ÈªòËÆ§ÂàÜÈÖçÂô®‰ΩøÁî®‰ª•‰∏ãÂ¢ûÈïøÁ≠ñÁï•Ôºö  ÂØπ‰∫éÂ∞è‰∫é BUFFER_GROW_STEP_THRESHOLD (100MB) ÁöÑÁºìÂÜ≤Âå∫ÔºöÂ∞ÜÂÆπÈáè‰πò‰ª• 2ÂØπ‰∫éËæÉÂ§ßÁöÑÁºìÂÜ≤Âå∫ÔºöÂ∞ÜÂÆπÈáè‰πò‰ª• 1.5Ôºà‰∏äÈôê‰∏∫ Integer.MAX_VALUE - 8Ôºâ  ËøôÂú®ÈÅøÂÖçÈ¢ëÁπÅÈáçÊñ∞ÂàÜÈÖçÂíåÈò≤Ê≠¢ËøáÂ∫¶ÂÜÖÂ≠ò‰ΩøÁî®‰πãÈó¥Êèê‰æõ‰∫ÜÂπ≥Ë°°„ÄÇ  ","version":"0.15","tagName":"h3"},{"title":"‰ΩøÁî®Âú∫ÊôØ‚Äã","type":1,"pageTitle":"È´òÁ∫ßÁâπÊÄß","url":"/zh-CN/docs/guide/java/advanced_features#‰ΩøÁî®Âú∫ÊôØ","content":" Ëá™ÂÆö‰πâÂÜÖÂ≠òÂàÜÈÖçÂô®ÈÄÇÁî®‰∫éÔºö  ÂÜÖÂ≠òÊ±†ÂåñÔºöÈáçÁî®ÂàÜÈÖçÁöÑÁºìÂÜ≤Âå∫‰ª•ÂáèÂ∞ë GC ÂéãÂäõÊÄßËÉΩË∞É‰ºòÔºöÊ†πÊçÆ‰Ω†ÁöÑÂ∑•‰ΩúË¥üËΩΩ‰ΩøÁî®‰∏çÂêåÁöÑÂ¢ûÈïøÁ≠ñÁï•Ë∞ÉËØïÔºöÊ∑ªÂä†Êó•ÂøóËÆ∞ÂΩïÊàñË∑üË∏™‰ª•ÁõëÊéßÂÜÖÂ≠ò‰ΩøÁî®Â†ÜÂ§ñÂÜÖÂ≠òÔºö‰∏éÂ†ÜÂ§ñÂÜÖÂ≠òÁÆ°ÁêÜÁ≥ªÁªüÈõÜÊàê  ","version":"0.15","tagName":"h3"},{"title":"Êó•ÂøóËÆ∞ÂΩï‚Äã","type":1,"pageTitle":"È´òÁ∫ßÁâπÊÄß","url":"/zh-CN/docs/guide/java/advanced_features#Êó•ÂøóËÆ∞ÂΩï","content":" ","version":"0.15","tagName":"h2"},{"title":"ForyLogger‚Äã","type":1,"pageTitle":"È´òÁ∫ßÁâπÊÄß","url":"/zh-CN/docs/guide/java/advanced_features#forylogger","content":" ÈªòËÆ§ÊÉÖÂÜµ‰∏ãÔºåFory ‰ΩøÁî®Ëá™ÂÆö‰πâÊó•ÂøóËÆ∞ÂΩïÂô® ForyLogger Êù•Êª°Ë∂≥ÂÜÖÈÉ®ÈúÄÊ±Ç„ÄÇÂÆÉÂ∞ÜÁîüÊàêÁöÑÊó•ÂøóÊï∞ÊçÆÊûÑÂª∫‰∏∫Âçï‰∏™Â≠óÁ¨¶‰∏≤ÔºåÂπ∂Áõ¥Êé•ÂèëÈÄÅÂà∞ System.out„ÄÇÁªìÊûúË°åÂ∏ÉÂ±ÄÁ±ª‰ºº‰∫éÔºàLog4j Ë°®Á§∫Ê≥ïÔºâÔºö  %d{yyyy-MM-dd hh:mm:ss} %p %C:%L [%t] - %m%n   Â∏ÉÂ±ÄÊó†Ê≥ïÊõ¥Êîπ„ÄÇ  Á§∫‰æãËæìÂá∫Ôºö  2025-11-07 08:49:59 INFO CompileUnit:55 [main] - Generate code for org.apache.fory.builder.SerializedLambdaForyCodec_0 took 35 ms. 2025-11-07 08:50:00 INFO JaninoUtils:121 [main] - Compile [SerializedLambdaForyCodec_0] take 144 ms   ","version":"0.15","tagName":"h3"},{"title":"Slf4jLogger‚Äã","type":1,"pageTitle":"È´òÁ∫ßÁâπÊÄß","url":"/zh-CN/docs/guide/java/advanced_features#slf4jlogger","content":" Â¶ÇÊûúÈúÄË¶ÅÊõ¥Â§çÊùÇÁöÑÊó•ÂøóËÆ∞ÂΩïÂô®ÔºåÂèØ‰ª•ÈÄöËøá LoggerFactory.useSlf4jLogging() ÈÖçÁΩÆ Fory ‰ΩøÁî® Slf4j„ÄÇ‰æãÂ¶ÇÔºåÂú®ÂàõÂª∫ Fory ‰πãÂâçÂêØÁî® Slf4jÔºö  public static final ThreadSafeFory FORY; static { LoggerFactory.useSlf4jLogging(true); FORY = Fory.builder() .buildThreadSafeFory(); }   Ê≥®ÊÑèÔºöÂΩìÂ∫îÁî®Á®ãÂ∫èÂú® GraalVM native image ‰∏≠ËøêË°åÊó∂ÔºåÈÄöËøá useSlf4jLogging ÂêØÁî® Slf4j Â∞ÜË¢´ÂøΩÁï•„ÄÇ  ","version":"0.15","tagName":"h3"},{"title":"ÊäëÂà∂ Fory Êó•Âøó‚Äã","type":1,"pageTitle":"È´òÁ∫ßÁâπÊÄß","url":"/zh-CN/docs/guide/java/advanced_features#ÊäëÂà∂-fory-Êó•Âøó","content":" ForyLogger Âíå Slf4jLogger ÈÉΩÂÖÅËÆ∏ÊéßÂà∂Êó•ÂøóËæìÂá∫Á∫ßÂà´ÊàñÂÆåÂÖ®ÊäëÂà∂Êó•Âøó„ÄÇÈÄöËøá LoggerFactory.setLogLevel() ÈÖçÁΩÆÊó•ÂøóÁ∫ßÂà´Ôºö  static { // Âè™ËÆ∞ÂΩï WARN ÂèäÊõ¥È´òÁ∫ßÂà´ LoggerFactory.setLogLevel(LogLevel.WARN_LEVEL); // ÂÆåÂÖ®Á¶ÅÁî®Êó•ÂøóËÆ∞ÂΩï LoggerFactory.disableLogging(); }   Ê≥®ÊÑèÔºöÊâÄÈÄâÁöÑÊó•ÂøóÁ∫ßÂà´Âú® Slf4j ÂÆûÁé∞ÁöÑÊó•ÂøóÁ∫ßÂà´‰πãÂâçÂ∫îÁî®„ÄÇÂõ†Ê≠§ÔºåÂ¶ÇÊûú‰Ω†ËÆæÁΩÆ WARN_LEVELÔºàÂ¶Ç‰∏ä‰æãÔºâÔºåÂç≥‰ΩøÂú® Logback ‰∏≠ÂêØÁî®‰∫Ü INFOÔºå‰Ω†‰πü‰∏ç‰ºöÁúãÂà∞Êù•Ëá™ Fory ÁöÑ INFO Ê∂àÊÅØ„ÄÇ  ","version":"0.15","tagName":"h3"},{"title":"Áõ∏ÂÖ≥‰∏ªÈ¢ò‚Äã","type":1,"pageTitle":"È´òÁ∫ßÁâπÊÄß","url":"/zh-CN/docs/guide/java/advanced_features#Áõ∏ÂÖ≥‰∏ªÈ¢ò","content":" ÂéãÁº© - Êï∞ÊçÆÂéãÁº©ÈÄâÈ°πÈÖçÁΩÆÈÄâÈ°π - ÊâÄÊúâ ForyBuilder ÈÄâÈ°πË∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ - XLANG Ê®°Âºè ","version":"0.15","tagName":"h2"},{"title":"Âü∫Á°ÄÂ∫èÂàóÂåñ","type":0,"sectionRef":"#","url":"/zh-CN/docs/guide/java/basic_serialization","content":"","keywords":"","version":"0.15"},{"title":"ÂàõÂª∫ Fory ÂÆû‰æã‚Äã","type":1,"pageTitle":"Âü∫Á°ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/guide/java/basic_serialization#ÂàõÂª∫-fory-ÂÆû‰æã","content":" ","version":"0.15","tagName":"h2"},{"title":"ÂçïÁ∫øÁ®ã Fory‚Äã","type":1,"pageTitle":"Âü∫Á°ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/guide/java/basic_serialization#ÂçïÁ∫øÁ®ã-fory","content":" ÂØπ‰∫éÂçïÁ∫øÁ®ãÂ∫îÁî®Á®ãÂ∫èÔºö  Fory fory = Fory.builder() .withLanguage(Language.JAVA) // ÂêØÁî®ÂºïÁî®Ë∑üË∏™‰ª•ÊîØÊåÅÂÖ±‰∫´/Âæ™ÁéØÂºïÁî®„ÄÇ // Â¶ÇÊûúÊ≤°ÊúâÈáçÂ§çÂºïÁî®ÔºåÁ¶ÅÁî®ÂÆÉ‰ºöÊúâÊõ¥Â•ΩÁöÑÊÄßËÉΩ„ÄÇ .withRefTracking(false) .withCompatibleMode(CompatibleMode.SCHEMA_CONSISTENT) // ÂêØÁî®Á±ªÂûãÂâçÂêë/ÂêéÂêëÂÖºÂÆπÊÄß // Á¶ÅÁî®ÂÆÉ‰ª•Ëé∑ÂæóÊõ¥Â∞èÁöÑÂ§ßÂ∞èÂíåÊõ¥Â•ΩÁöÑÊÄßËÉΩ„ÄÇ // .withCompatibleMode(CompatibleMode.COMPATIBLE) // ÂêØÁî®ÂºÇÊ≠•Â§öÁ∫øÁ®ãÁºñËØë„ÄÇ .withAsyncCompilation(true) .build(); byte[] bytes = fory.serialize(object); System.out.println(fory.deserialize(bytes));   ","version":"0.15","tagName":"h3"},{"title":"Á∫øÁ®ãÂÆâÂÖ® Fory‚Äã","type":1,"pageTitle":"Âü∫Á°ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/guide/java/basic_serialization#Á∫øÁ®ãÂÆâÂÖ®-fory","content":" ÂØπ‰∫éÂ§öÁ∫øÁ®ãÂ∫îÁî®Á®ãÂ∫èÔºö  ThreadSafeFory fory = Fory.builder() .withLanguage(Language.JAVA) // ÂêØÁî®ÂºïÁî®Ë∑üË∏™‰ª•ÊîØÊåÅÂÖ±‰∫´/Âæ™ÁéØÂºïÁî®„ÄÇ // Â¶ÇÊûúÊ≤°ÊúâÈáçÂ§çÂºïÁî®ÔºåÁ¶ÅÁî®ÂÆÉ‰ºöÊúâÊõ¥Â•ΩÁöÑÊÄßËÉΩ„ÄÇ .withRefTracking(false) // ÂéãÁº© int ‰ª•Ëé∑ÂæóÊõ¥Â∞èÁöÑÂ§ßÂ∞è // .withIntCompressed(true) // ÂéãÁº© long ‰ª•Ëé∑ÂæóÊõ¥Â∞èÁöÑÂ§ßÂ∞è // .withLongCompressed(true) .withCompatibleMode(CompatibleMode.SCHEMA_CONSISTENT) // ÂêØÁî®Á±ªÂûãÂâçÂêë/ÂêéÂêëÂÖºÂÆπÊÄß // Á¶ÅÁî®ÂÆÉ‰ª•Ëé∑ÂæóÊõ¥Â∞èÁöÑÂ§ßÂ∞èÂíåÊõ¥Â•ΩÁöÑÊÄßËÉΩ„ÄÇ // .withCompatibleMode(CompatibleMode.COMPATIBLE) // ÂêØÁî®ÂºÇÊ≠•Â§öÁ∫øÁ®ãÁºñËØë„ÄÇ .withAsyncCompilation(true) .buildThreadSafeFory(); byte[] bytes = fory.serialize(object); System.out.println(fory.deserialize(bytes));   ","version":"0.15","tagName":"h3"},{"title":"ÂØπË±°Ê∑±Êã∑Ë¥ù‚Äã","type":1,"pageTitle":"Âü∫Á°ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/guide/java/basic_serialization#ÂØπË±°Ê∑±Êã∑Ë¥ù","content":" Fory Êèê‰æõÈ´òÊïàÁöÑÊ∑±Êã∑Ë¥ùÂäüËÉΩÔºö  ","version":"0.15","tagName":"h2"},{"title":"ÂêØÁî®ÂºïÁî®Ë∑üË∏™‚Äã","type":1,"pageTitle":"Âü∫Á°ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/guide/java/basic_serialization#ÂêØÁî®ÂºïÁî®Ë∑üË∏™","content":" Fory fory = Fory.builder().withRefCopy(true).build(); SomeClass a = xxx; SomeClass copied = fory.copy(a);   ","version":"0.15","tagName":"h3"},{"title":"Á¶ÅÁî®ÂºïÁî®Ë∑üË∏™ÔºàÊõ¥Â•ΩÁöÑÊÄßËÉΩÔºâ‚Äã","type":1,"pageTitle":"Âü∫Á°ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/guide/java/basic_serialization#Á¶ÅÁî®ÂºïÁî®Ë∑üË∏™Êõ¥Â•ΩÁöÑÊÄßËÉΩ","content":" Á¶ÅÁî®Êó∂ÔºåÊ∑±Êã∑Ë¥ùÂ∞ÜÂøΩÁï•Âæ™ÁéØÂºïÁî®ÂíåÂÖ±‰∫´ÂºïÁî®„ÄÇÂØπË±°ÂõæÁöÑÁõ∏ÂêåÂºïÁî®Â∞ÜÂú®‰∏ÄÊ¨° Fory#copy ‰∏≠Ë¢´Â§çÂà∂‰∏∫‰∏çÂêåÁöÑÂØπË±°Ôºö  Fory fory = Fory.builder().withRefCopy(false).build(); SomeClass a = xxx; SomeClass copied = fory.copy(a);   ","version":"0.15","tagName":"h3"},{"title":"Â∫èÂàóÂåñ API‚Äã","type":1,"pageTitle":"Âü∫Á°ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/guide/java/basic_serialization#Â∫èÂàóÂåñ-api","content":" ","version":"0.15","tagName":"h2"},{"title":"Âü∫Êú¨Â∫èÂàóÂåñ/ÂèçÂ∫èÂàóÂåñ‚Äã","type":1,"pageTitle":"Âü∫Á°ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/guide/java/basic_serialization#Âü∫Êú¨Â∫èÂàóÂåñÂèçÂ∫èÂàóÂåñ","content":" // Â∞ÜÂØπË±°Â∫èÂàóÂåñ‰∏∫Â≠óËäÇÊï∞ÁªÑ byte[] bytes = fory.serialize(object); // Â∞ÜÂ≠óËäÇÊï∞ÁªÑÂèçÂ∫èÂàóÂåñ‰∏∫ÂØπË±° Object obj = fory.deserialize(bytes);   ","version":"0.15","tagName":"h3"},{"title":"Â∏¶Á±ªÂûãÁöÑÂ∫èÂàóÂåñ/ÂèçÂ∫èÂàóÂåñ‚Äã","type":1,"pageTitle":"Âü∫Á°ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/guide/java/basic_serialization#Â∏¶Á±ªÂûãÁöÑÂ∫èÂàóÂåñÂèçÂ∫èÂàóÂåñ","content":" // ‰ΩøÁî®ÊòæÂºèÁ±ªÂûãÂ∫èÂàóÂåñ byte[] bytes = fory.serializeJavaObject(object); // ‰ΩøÁî®È¢ÑÊúüÁ±ªÂûãÂèçÂ∫èÂàóÂåñ MyClass obj = fory.deserializeJavaObject(bytes, MyClass.class);   ","version":"0.15","tagName":"h3"},{"title":"Â∏¶Á±ªÂûã‰ø°ÊÅØÁöÑÂ∫èÂàóÂåñ/ÂèçÂ∫èÂàóÂåñ‚Äã","type":1,"pageTitle":"Âü∫Á°ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/guide/java/basic_serialization#Â∏¶Á±ªÂûã‰ø°ÊÅØÁöÑÂ∫èÂàóÂåñÂèçÂ∫èÂàóÂåñ","content":" // Â∏¶Á±ªÂûã‰ø°ÊÅØÂ∫èÂàóÂåñ byte[] bytes = fory.serializeJavaObjectAndClass(object); // ‰ΩøÁî®ÂµåÂÖ•ÁöÑÁ±ªÂûã‰ø°ÊÅØÂèçÂ∫èÂàóÂåñ Object obj = fory.deserializeJavaObjectAndClass(bytes);   ","version":"0.15","tagName":"h3"},{"title":"ÊúÄ‰Ω≥ÂÆûË∑µ‚Äã","type":1,"pageTitle":"Âü∫Á°ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/guide/java/basic_serialization#ÊúÄ‰Ω≥ÂÆûË∑µ","content":" Â§çÁî® Fory ÂÆû‰æãÔºöÂàõÂª∫ Fory ÊàêÊú¨ÂæàÈ´òÔºåÂßãÁªàÂ§çÁî®ÂÆû‰æã‰ΩøÁî®ÈÄÇÂΩìÁöÑÁ∫øÁ®ãÂÆâÂÖ®ÊÄßÔºöÊ†πÊçÆÈúÄË¶ÅÂú®ÂçïÁ∫øÁ®ãÂíåÁ∫øÁ®ãÂÆâÂÖ®‰πãÈó¥ÈÄâÊã©Ê≥®ÂÜåÁ±ªÔºöÊ≥®ÂÜåÂ∏∏Áî®Á±ª‰ª•Ëé∑ÂæóÊõ¥Â•ΩÁöÑÊÄßËÉΩÈÖçÁΩÆÂºïÁî®Ë∑üË∏™ÔºöÂ¶ÇÊûúÊ≤°ÊúâÂæ™ÁéØ/ÂÖ±‰∫´ÂºïÁî®ÔºåËØ∑Á¶ÅÁî®ÂÆÉ  ","version":"0.15","tagName":"h2"},{"title":"Áõ∏ÂÖ≥‰∏ªÈ¢ò‚Äã","type":1,"pageTitle":"Âü∫Á°ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/guide/java/basic_serialization#Áõ∏ÂÖ≥‰∏ªÈ¢ò","content":" ÈÖçÁΩÆÈÄâÈ°π - ÊâÄÊúâ ForyBuilder ÈÄâÈ°πÁ±ªÂûãÊ≥®ÂÜå - Á±ªÊ≥®ÂÜåÊïÖÈöúÊéíÈô§ - Â∏∏ËßÅ API ‰ΩøÁî®ÈóÆÈ¢ò ","version":"0.15","tagName":"h2"},{"title":"ÂéãÁº©","type":0,"sectionRef":"#","url":"/zh-CN/docs/guide/java/compression","content":"","keywords":"","version":"0.15"},{"title":"Êï¥Êï∞ÂéãÁº©‚Äã","type":1,"pageTitle":"ÂéãÁº©","url":"/zh-CN/docs/guide/java/compression#Êï¥Êï∞ÂéãÁº©","content":" ForyBuilder#withIntCompressed/ForyBuilder#withLongCompressed ÂèØÁî®‰∫éÂéãÁº© int/long ‰ª•Ëé∑ÂæóÊõ¥Â∞èÁöÑÂ§ßÂ∞è„ÄÇÈÄöÂ∏∏ÂéãÁº© int Â∞±Ë∂≥Â§ü‰∫Ü„ÄÇ  Ëøô‰∏§‰∏™ÂéãÁº©ÈÄâÈ°πÈªòËÆ§ÈÉΩÊòØÂêØÁî®ÁöÑ„ÄÇÂ¶ÇÊûúÂ∫èÂàóÂåñÂ§ßÂ∞è‰∏çÈáçË¶ÅÔºà‰æãÂ¶ÇÔºå‰Ω†‰πãÂâç‰ΩøÁî® FlatBuffers ËøõË°åÂ∫èÂàóÂåñÔºåÂÆÉ‰∏çÂéãÁº©‰ªª‰Ωï‰∏úË•øÔºâÔºåÈÇ£‰πà‰Ω†Â∫îËØ•Á¶ÅÁî®ÂéãÁº©„ÄÇÂ¶ÇÊûú‰Ω†ÁöÑÊï∞ÊçÆÂÖ®ÊòØÊï∞Â≠óÔºåÂéãÁº©ÂèØËÉΩ‰ºöÂ∏¶Êù• 80% ÁöÑÊÄßËÉΩÂõûÈÄÄ„ÄÇ  ","version":"0.15","tagName":"h2"},{"title":"Int ÂéãÁº©‚Äã","type":1,"pageTitle":"ÂéãÁº©","url":"/zh-CN/docs/guide/java/compression#int-ÂéãÁº©","content":" ÂØπ‰∫é int ÂéãÁº©ÔºåFory ‰ΩøÁî® 1~5 ‰∏™Â≠óËäÇËøõË°åÁºñÁ†Å„ÄÇÊØè‰∏™Â≠óËäÇ‰∏≠ÁöÑÁ¨¨‰∏Ä‰ΩçË°®Á§∫ÊòØÂê¶Êúâ‰∏ã‰∏Ä‰∏™Â≠óËäÇ„ÄÇÂ¶ÇÊûúËÆæÁΩÆ‰∫ÜÁ¨¨‰∏Ä‰ΩçÔºåÂàôÂ∞ÜËØªÂèñ‰∏ã‰∏Ä‰∏™Â≠óËäÇÔºåÁõ¥Âà∞‰∏ã‰∏Ä‰∏™Â≠óËäÇÁöÑÁ¨¨‰∏Ä‰ΩçÊú™ËÆæÁΩÆ„ÄÇ  ","version":"0.15","tagName":"h3"},{"title":"Long ÂéãÁº©‚Äã","type":1,"pageTitle":"ÂéãÁº©","url":"/zh-CN/docs/guide/java/compression#long-ÂéãÁº©","content":" ÂØπ‰∫é long ÂéãÁº©ÔºåFory ÊîØÊåÅ‰∏§ÁßçÁºñÁ†ÅÔºö  SLIÔºàSmall Long as IntÔºâÁºñÁ†ÅÔºàÈªòËÆ§Ôºâ‚Äã  Â¶ÇÊûú long Âú® [-1073741824, 1073741823] ËåÉÂõ¥ÂÜÖÔºåÁºñÁ†Å‰∏∫ 4 Â≠óËäÇ intÔºö| little-endian: ((int) value) &lt;&lt; 1 |Âê¶ÂàôÂÜô‰∏∫ 9 Â≠óËäÇÔºö| 0b1 | little-endian 8bytes long |  PVLÔºàProgressive Variable-length LongÔºâÁºñÁ†Å‚Äã  ÊØè‰∏™Â≠óËäÇ‰∏≠ÁöÑÁ¨¨‰∏Ä‰ΩçË°®Á§∫ÊòØÂê¶Êúâ‰∏ã‰∏Ä‰∏™Â≠óËäÇ„ÄÇÂ¶ÇÊûúËÆæÁΩÆ‰∫ÜÁ¨¨‰∏Ä‰ΩçÔºåÂàôÂ∞ÜËØªÂèñ‰∏ã‰∏Ä‰∏™Â≠óËäÇÔºåÁõ¥Âà∞‰∏ã‰∏Ä‰∏™Â≠óËäÇÁöÑÁ¨¨‰∏Ä‰ΩçÊú™ËÆæÁΩÆ„ÄÇË¥üÊï∞Â∞ÜÈÄöËøá (v &lt;&lt; 1) ^ (v &gt;&gt; 63) ËΩ¨Êç¢‰∏∫Ê≠£Êï∞Ôºå‰ª•ÂáèÂ∞ëÂ∞èË¥üÊï∞ÁöÑÊàêÊú¨„ÄÇ  Â¶ÇÊûúÊï∞Â≠óÊòØ long Á±ªÂûãÔºå‰ΩÜÂ§ßÂ§öÊï∞ÊÉÖÂÜµ‰∏ã‰∏çËÉΩÁî®ËæÉÂ∞èÁöÑÂ≠óËäÇË°®Á§∫ÔºåÂéãÁº©‰∏ç‰ºöÂæóÂà∞Ë∂≥Â§üÂ•ΩÁöÑÁªìÊûú‚Äî‚Äî‰∏éÊÄßËÉΩÊàêÊú¨Áõ∏ÊØî‰∏çÂÄºÂæó„ÄÇÂ¶ÇÊûú‰Ω†ÂèëÁé∞ÂÆÉÊ≤°ÊúâÂ∏¶Êù•Â§™Â§öÁ©∫Èó¥ËäÇÁúÅÔºå‰πüËÆ∏‰Ω†Â∫îËØ•Â∞ùËØïÁ¶ÅÁî® long ÂéãÁº©„ÄÇ  ","version":"0.15","tagName":"h3"},{"title":"Êï∞ÁªÑÂéãÁº©‚Äã","type":1,"pageTitle":"ÂéãÁº©","url":"/zh-CN/docs/guide/java/compression#Êï∞ÁªÑÂéãÁº©","content":" ÂΩìÊï∞ÁªÑÂÄºÂèØ‰ª•ÈÄÇÈÖçËæÉÂ∞èÁöÑÊï∞ÊçÆÁ±ªÂûãÊó∂ÔºåFory ÊîØÊåÅÂéüÂßãÊï∞ÁªÑÔºàint[] Âíå long[]ÔºâÁöÑ SIMD Âä†ÈÄüÂéãÁº©„ÄÇÊ≠§ÂäüËÉΩÂú® Java 16+ ‰∏äÂèØÁî®ÔºåÂπ∂‰ΩøÁî® Vector API ‰ª•Ëé∑ÂæóÊúÄ‰Ω≥ÊÄßËÉΩ„ÄÇ  ","version":"0.15","tagName":"h2"},{"title":"Êï∞ÁªÑÂéãÁº©Â∑•‰ΩúÂéüÁêÜ‚Äã","type":1,"pageTitle":"ÂéãÁº©","url":"/zh-CN/docs/guide/java/compression#Êï∞ÁªÑÂéãÁº©Â∑•‰ΩúÂéüÁêÜ","content":" Êï∞ÁªÑÂéãÁº©ÂàÜÊûêÊï∞ÁªÑ‰ª•Á°ÆÂÆöÂÄºÊòØÂê¶ÂèØ‰ª•‰ΩøÁî®Êõ¥Â∞ëÁöÑÂ≠óËäÇÂ≠òÂÇ®Ôºö  int[] ‚Üí byte[]ÔºöÂΩìÊâÄÊúâÂÄºÈÉΩÂú®ËåÉÂõ¥ [-128, 127] ÂÜÖÊó∂ÔºàÂáèÂ∞ë 75% Â§ßÂ∞èÔºâint[] ‚Üí short[]ÔºöÂΩìÊâÄÊúâÂÄºÈÉΩÂú®ËåÉÂõ¥ [-32768, 32767] ÂÜÖÊó∂ÔºàÂáèÂ∞ë 50% Â§ßÂ∞èÔºâlong[] ‚Üí int[]ÔºöÂΩìÊâÄÊúâÂÄºÈÉΩÈÄÇÂêàÊï¥Êï∞ËåÉÂõ¥Êó∂ÔºàÂáèÂ∞ë 50% Â§ßÂ∞èÔºâ  ","version":"0.15","tagName":"h3"},{"title":"ÈÖçÁΩÆÂíåÊ≥®ÂÜå‚Äã","type":1,"pageTitle":"ÂéãÁº©","url":"/zh-CN/docs/guide/java/compression#ÈÖçÁΩÆÂíåÊ≥®ÂÜå","content":" Ë¶ÅÂêØÁî®Êï∞ÁªÑÂéãÁº©Ôºå‰Ω†ÂøÖÈ°ªÊòæÂºèÊ≥®ÂÜåÂ∫èÂàóÂåñÂô®Ôºö  Fory fory = Fory.builder() .withLanguage(Language.JAVA) // ÂêØÁî® int Êï∞ÁªÑÂéãÁº© .withIntArrayCompressed(true) // ÂêØÁî® long Êï∞ÁªÑÂéãÁº© .withLongArrayCompressed(true) .build(); // ‰Ω†ÂøÖÈ°ªÊòæÂºèÊ≥®ÂÜåÂéãÁº©Êï∞ÁªÑÂ∫èÂàóÂåñÂô® CompressedArraySerializers.registerSerializers(fory);   Ê≥®ÊÑèÔºöÂøÖÈ°ªÂú®‰æùËµñÈ°π‰∏≠ÂåÖÂê´ fory-simd Ê®°ÂùóÔºåÂéãÁº©Êï∞ÁªÑÂ∫èÂàóÂåñÂô®ÊâçÂèØÁî®„ÄÇ  ","version":"0.15","tagName":"h3"},{"title":"Maven ‰æùËµñ‚Äã","type":1,"pageTitle":"ÂéãÁº©","url":"/zh-CN/docs/guide/java/compression#maven-‰æùËµñ","content":" &lt;dependency&gt; &lt;groupId&gt;org.apache.fory&lt;/groupId&gt; &lt;artifactId&gt;fory-simd&lt;/artifactId&gt; &lt;version&gt;0.14.1&lt;/version&gt; &lt;/dependency&gt;   ","version":"0.15","tagName":"h3"},{"title":"Â≠óÁ¨¶‰∏≤ÂéãÁº©‚Äã","type":1,"pageTitle":"ÂéãÁº©","url":"/zh-CN/docs/guide/java/compression#Â≠óÁ¨¶‰∏≤ÂéãÁº©","content":" Â≠óÁ¨¶‰∏≤ÂéãÁº©ÂèØ‰ª•ÈÄöËøá ForyBuilder#withStringCompressed(true) ÂêØÁî®„ÄÇËøôÈªòËÆ§ÊòØÁ¶ÅÁî®ÁöÑ„ÄÇ  ","version":"0.15","tagName":"h2"},{"title":"ÈÖçÁΩÆÊëòË¶Å‚Äã","type":1,"pageTitle":"ÂéãÁº©","url":"/zh-CN/docs/guide/java/compression#ÈÖçÁΩÆÊëòË¶Å","content":" ÈÄâÈ°π\tÊèèËø∞\tÈªòËÆ§ÂÄºcompressInt\tÂêØÁî® int ÂéãÁº©\ttrue compressLong\tÂêØÁî® long ÂéãÁº©\ttrue compressIntArray\tÂêØÁî® SIMD int Êï∞ÁªÑÂéãÁº©ÔºàJava 16+Ôºâ\ttrue compressLongArray\tÂêØÁî® SIMD long Êï∞ÁªÑÂéãÁº©ÔºàJava 16+Ôºâ\ttrue compressString\tÂêØÁî®Â≠óÁ¨¶‰∏≤ÂéãÁº©\tfalse  ","version":"0.15","tagName":"h2"},{"title":"ÊÄßËÉΩËÄÉËôë‚Äã","type":1,"pageTitle":"ÂéãÁº©","url":"/zh-CN/docs/guide/java/compression#ÊÄßËÉΩËÄÉËôë","content":" ÂØπÊï∞Â≠óÂØÜÈõÜÂûãÊï∞ÊçÆÁ¶ÅÁî®ÂéãÁº©ÔºöÂ¶ÇÊûú‰Ω†ÁöÑÊï∞ÊçÆ‰∏ªË¶ÅÊòØÊï∞Â≠óÔºåÂéãÁº©ÂºÄÈîÄÂèØËÉΩ‰∏çÂÄºÂæóÊï∞ÁªÑÂéãÁº©ÈúÄË¶Å Java 16+Ôºö‰ΩøÁî® Vector API ËøõË°å SIMD Âä†ÈÄüLong ÂéãÁº©ÂèØËÉΩÂØπÂ§ßÂÄºÊó†Áî®ÔºöÂ¶ÇÊûúÂ§ßÂ§öÊï∞ long ‰∏çËÉΩÈÄÇÈÖçËæÉÂ∞èÁöÑË°®Á§∫ÔºåËØ∑Á¶ÅÁî®ÂÆÉÂ≠óÁ¨¶‰∏≤ÂéãÁº©ÊúâÂºÄÈîÄÔºö‰ªÖÂú®Â≠óÁ¨¶‰∏≤È´òÂ∫¶ÂèØÂéãÁº©Êó∂ÂêØÁî®  ","version":"0.15","tagName":"h2"},{"title":"Á§∫‰æãÈÖçÁΩÆ‚Äã","type":1,"pageTitle":"ÂéãÁº©","url":"/zh-CN/docs/guide/java/compression#Á§∫‰æãÈÖçÁΩÆ","content":" // ÂØπ‰∫é‰∏ªË¶ÅÊòØÊï∞Â≠óÁöÑÊï∞ÊçÆ - Á¶ÅÁî®ÂéãÁº© Fory fory = Fory.builder() .withLanguage(Language.JAVA) .withIntCompressed(false) .withLongCompressed(false) .build(); // ÂØπ‰∫éÂåÖÂê´Êï∞ÁªÑÁöÑÊ∑∑ÂêàÊï∞ÊçÆ - ÂêØÁî®Êï∞ÁªÑÂéãÁº© Fory fory = Fory.builder() .withLanguage(Language.JAVA) .withIntCompressed(true) .withLongCompressed(true) .withIntArrayCompressed(true) .withLongArrayCompressed(true) .build(); CompressedArraySerializers.registerSerializers(fory);   ","version":"0.15","tagName":"h2"},{"title":"Áõ∏ÂÖ≥‰∏ªÈ¢ò‚Äã","type":1,"pageTitle":"ÂéãÁº©","url":"/zh-CN/docs/guide/java/compression#Áõ∏ÂÖ≥‰∏ªÈ¢ò","content":" ÈÖçÁΩÆÈÄâÈ°π - ÊâÄÊúâ ForyBuilder ÈÄâÈ°πÈ´òÁ∫ßÁâπÊÄß - ÂÜÖÂ≠òÁÆ°ÁêÜ ","version":"0.15","tagName":"h2"},{"title":"ÈÖçÁΩÆÈÄâÈ°π","type":0,"sectionRef":"#","url":"/zh-CN/docs/guide/java/configuration","content":"","keywords":"","version":"0.15"},{"title":"ForyBuilder ÈÄâÈ°π‚Äã","type":1,"pageTitle":"ÈÖçÁΩÆÈÄâÈ°π","url":"/zh-CN/docs/guide/java/configuration#forybuilder-ÈÄâÈ°π","content":" ÈÄâÈ°πÂêçÁß∞\tÊèèËø∞\tÈªòËÆ§ÂÄºtimeRefIgnored\tÂΩìÂêØÁî®ÂºïÁî®Ë∑üË∏™Êó∂ÔºåÊòØÂê¶ÂøΩÁï•Âú® TimeSerializers ‰∏≠Ê≥®ÂÜåÁöÑÊâÄÊúâÊó∂Èó¥Á±ªÂûãÂèäÂÖ∂Â≠êÁ±ªÁöÑÂºïÁî®Ë∑üË∏™„ÄÇÂ¶ÇÊûúÂøΩÁï•ÔºåÂèØ‰ª•ÈÄöËøáË∞ÉÁî® Fory#registerSerializer(Class, Serializer) ‰∏∫ÊØè‰∏™Êó∂Èó¥Á±ªÂûãÂêØÁî®ÂºïÁî®Ë∑üË∏™„ÄÇ‰æãÂ¶ÇÔºåfory.registerSerializer(Date.class, new DateSerializer(fory, true))„ÄÇÊ≥®ÊÑèÔºåÂêØÁî®ÂºïÁî®Ë∑üË∏™Â∫îËØ•Âú®ÂåÖÂê´Êó∂Èó¥Â≠óÊÆµÁöÑ‰ªª‰ΩïÁ±ªÂûãÁöÑÂ∫èÂàóÂåñÂô®‰ª£Á†ÅÁîüÊàê‰πãÂâçËøõË°å„ÄÇÂê¶ÂàôÔºåËøô‰∫õÂ≠óÊÆµ‰ªçÂ∞ÜË∑≥ËøáÂºïÁî®Ë∑üË∏™„ÄÇ\ttrue compressInt\tÂêØÁî®ÊàñÁ¶ÅÁî® int ÂéãÁº©‰ª•Ëé∑ÂæóÊõ¥Â∞èÁöÑÂ§ßÂ∞è„ÄÇ\ttrue compressLong\tÂêØÁî®ÊàñÁ¶ÅÁî® long ÂéãÁº©‰ª•Ëé∑ÂæóÊõ¥Â∞èÁöÑÂ§ßÂ∞è„ÄÇ\ttrue compressIntArray\tÂΩìÂÄºÂèØ‰ª•ÈÄÇÈÖçËæÉÂ∞èÊï∞ÊçÆÁ±ªÂûãÊó∂ÔºåÂêØÁî®ÊàñÁ¶ÅÁî® int Êï∞ÁªÑÁöÑ SIMD Âä†ÈÄüÂéãÁº©„ÄÇÈúÄË¶Å Java 16+„ÄÇ\ttrue compressLongArray\tÂΩìÂÄºÂèØ‰ª•ÈÄÇÈÖçËæÉÂ∞èÊï∞ÊçÆÁ±ªÂûãÊó∂ÔºåÂêØÁî®ÊàñÁ¶ÅÁî® long Êï∞ÁªÑÁöÑ SIMD Âä†ÈÄüÂéãÁº©„ÄÇÈúÄË¶Å Java 16+„ÄÇ\ttrue compressString\tÂêØÁî®ÊàñÁ¶ÅÁî®Â≠óÁ¨¶‰∏≤ÂéãÁº©‰ª•Ëé∑ÂæóÊõ¥Â∞èÁöÑÂ§ßÂ∞è„ÄÇ\tfalse classLoader\t‰∏çÂ∫îÊõ¥Êñ∞Á±ªÂä†ËΩΩÂô®ÔºõFory ÁºìÂ≠òÁ±ªÂÖÉÊï∞ÊçÆ„ÄÇÂØπ‰∫éÁ±ªÂä†ËΩΩÂô®Êõ¥Êñ∞ÔºåËØ∑‰ΩøÁî® LoaderBinding Êàñ ThreadSafeFory„ÄÇ\tThread.currentThread().getContextClassLoader() compatibleMode\tÁ±ªÂûãÂâçÂêë/ÂêéÂêëÂÖºÂÆπÊÄßÈÖçÁΩÆ„ÄÇ‰πü‰∏é checkClassVersion ÈÖçÁΩÆÁõ∏ÂÖ≥„ÄÇSCHEMA_CONSISTENTÔºöÂ∫èÂàóÂåñÁ´ØÂíåÂèçÂ∫èÂàóÂåñÁ´Ø‰πãÈó¥ÁöÑÁ±ª schema ÂøÖÈ°ª‰∏ÄËá¥„ÄÇCOMPATIBLEÔºöÂ∫èÂàóÂåñÁ´ØÂíåÂèçÂ∫èÂàóÂåñÁ´Ø‰πãÈó¥ÁöÑÁ±ª schema ÂèØ‰ª•‰∏çÂêå„ÄÇÂÆÉ‰ª¨ÂèØ‰ª•Áã¨Á´ãÊ∑ªÂä†/Âà†Èô§Â≠óÊÆµ„ÄÇÊü•ÁúãÊõ¥Â§ö„ÄÇ\tCompatibleMode.SCHEMA_CONSISTENT checkClassVersion\tÁ°ÆÂÆöÊòØÂê¶Ê£ÄÊü•Á±ª schema ÁöÑ‰∏ÄËá¥ÊÄß„ÄÇÂ¶ÇÊûúÂêØÁî®ÔºåFory ‰ºö‰ΩøÁî® classVersionHash Ê£ÄÊü•„ÄÅÂÜôÂÖ•ÂíåÊ£ÄÊü•‰∏ÄËá¥ÊÄß„ÄÇÂΩìÂêØÁî® CompatibleMode#COMPATIBLE Êó∂ÔºåÂÆÉÂ∞ÜËá™Âä®Á¶ÅÁî®„ÄÇÈô§Èùû‰Ω†ËÉΩÁ°Æ‰øùÁ±ª‰∏ç‰ºöÊºîÂåñÔºåÂê¶Âàô‰∏çÂª∫ËÆÆÁ¶ÅÁî®„ÄÇ\tfalse checkJdkClassSerializable\tÂêØÁî®ÊàñÁ¶ÅÁî®ÂØπ java.* ‰∏ãÁöÑÁ±ªÁöÑ Serializable Êé•Âè£Ê£ÄÊü•„ÄÇÂ¶ÇÊûú java.* ‰∏ãÁöÑÁ±ª‰∏çÊòØ SerializableÔºåFory Â∞ÜÊäõÂá∫ UnsupportedOperationException„ÄÇ\ttrue registerGuavaTypes\tÊòØÂê¶È¢ÑÊ≥®ÂÜå Guava Á±ªÂûãÔºåÂ¶Ç RegularImmutableMap/RegularImmutableList„ÄÇËøô‰∫õÁ±ªÂûã‰∏çÊòØÂÖ¨ÂÖ± APIÔºå‰ΩÜ‰ºº‰πéÁõ∏ÂΩìÁ®≥ÂÆö„ÄÇ\ttrue requireClassRegistration\tÁ¶ÅÁî®ÂèØËÉΩÂÖÅËÆ∏Êú™Áü•Á±ªË¢´ÂèçÂ∫èÂàóÂåñÔºåÂèØËÉΩÂØºËá¥ÂÆâÂÖ®È£éÈô©„ÄÇ\ttrue maxDepth\tËÆæÁΩÆÂèçÂ∫èÂàóÂåñÁöÑÊúÄÂ§ßÊ∑±Â∫¶ÔºåÂΩìÊ∑±Â∫¶Ë∂ÖËøáÊó∂ÔºåÂ∞ÜÊäõÂá∫ÂºÇÂ∏∏„ÄÇËøôÂèØÁî®‰∫éÊãíÁªùÂèçÂ∫èÂàóÂåñ DDOS ÊîªÂáª„ÄÇ\t50 suppressClassRegistrationWarnings\tÊòØÂê¶ÊäëÂà∂Á±ªÊ≥®ÂÜåË≠¶Âëä„ÄÇËøô‰∫õË≠¶ÂëäÂèØÁî®‰∫éÂÆâÂÖ®ÂÆ°ËÆ°Ôºå‰ΩÜÂèØËÉΩÂæàÁÉ¶‰∫∫ÔºåÈªòËÆ§ÊÉÖÂÜµ‰∏ãÂ∞ÜÂêØÁî®Ê≠§ÊäëÂà∂„ÄÇ\ttrue metaShareEnabled\tÂêØÁî®ÊàñÁ¶ÅÁî®ÂÖÉÊï∞ÊçÆÂÖ±‰∫´Ê®°Âºè„ÄÇ\tÂ¶ÇÊûúËÆæÁΩÆ‰∫Ü CompatibleMode.Compatible Âàô‰∏∫ trueÔºåÂê¶Âàô‰∏∫ false„ÄÇ scopedMetaShareEnabled\t‰ΩúÁî®ÂüüÂÖÉÊï∞ÊçÆÂÖ±‰∫´‰∏ìÊ≥®‰∫éÂçï‰∏™Â∫èÂàóÂåñËøáÁ®ã„ÄÇÂú®Ê≠§ËøáÁ®ã‰∏≠ÂàõÂª∫ÊàñËØÜÂà´ÁöÑÂÖÉÊï∞ÊçÆÊòØÂÆÉ‰∏ìÊúâÁöÑÔºå‰∏ç‰ºö‰∏éÂÖ∂‰ªñÂ∫èÂàóÂåñÂÖ±‰∫´„ÄÇ\tÂ¶ÇÊûúËÆæÁΩÆ‰∫Ü CompatibleMode.Compatible Âàô‰∏∫ trueÔºåÂê¶Âàô‰∏∫ false„ÄÇ metaCompressor\t‰∏∫ÂÖÉÊï∞ÊçÆÂéãÁº©ËÆæÁΩÆÂéãÁº©Âô®„ÄÇÊ≥®ÊÑè‰º†ÈÄíÁöÑ MetaCompressor Â∫îËØ•ÊòØÁ∫øÁ®ãÂÆâÂÖ®ÁöÑ„ÄÇÈªòËÆ§ÊÉÖÂÜµ‰∏ãÔºåÂ∞Ü‰ΩøÁî®Âü∫‰∫é Deflater ÁöÑÂéãÁº©Âô® DeflaterMetaCompressor„ÄÇÁî®Êà∑ÂèØ‰ª•‰º†ÈÄíÂÖ∂‰ªñÂéãÁº©Âô®ÔºåÂ¶Ç zstd ‰ª•Ëé∑ÂæóÊõ¥Â•ΩÁöÑÂéãÁº©Áéá„ÄÇ\tDeflaterMetaCompressor deserializeNonexistentClass\tÂêØÁî®ÊàñÁ¶ÅÁî®ÂØπ‰∏çÂ≠òÂú®Á±ªÁöÑÊï∞ÊçÆÁöÑÂèçÂ∫èÂàóÂåñ/Ë∑≥Ëøá„ÄÇ\tÂ¶ÇÊûúËÆæÁΩÆ‰∫Ü CompatibleMode.Compatible Âàô‰∏∫ trueÔºåÂê¶Âàô‰∏∫ false„ÄÇ codeGenEnabled\tÁ¶ÅÁî®ÂèØËÉΩÂØºËá¥Êõ¥Âø´ÁöÑÂàùÂßãÂ∫èÂàóÂåñÔºå‰ΩÜÂêéÁª≠Â∫èÂàóÂåñ‰ºöÊõ¥ÊÖ¢„ÄÇ\ttrue asyncCompilationEnabled\tÂ¶ÇÊûúÂêØÁî®ÔºåÂ∫èÂàóÂåñÈ¶ñÂÖà‰ΩøÁî®Ëß£ÈáäÂô®Ê®°ÂºèÔºåÂú®Á±ªÁöÑÂºÇÊ≠•Â∫èÂàóÂåñÂô® JIT ÂÆåÊàêÂêéÂàáÊç¢Âà∞ JIT Â∫èÂàóÂåñ„ÄÇ\tfalse scalaOptimizationEnabled\tÂêØÁî®ÊàñÁ¶ÅÁî® Scala ÁâπÂÆöÁöÑÂ∫èÂàóÂåñ‰ºòÂåñ„ÄÇ\tfalse copyRef\tÁ¶ÅÁî®Êó∂ÔºåÊã∑Ë¥ùÊÄßËÉΩ‰ºöÊõ¥Â•Ω„ÄÇ‰ΩÜ Fory Ê∑±Êã∑Ë¥ùÂ∞ÜÂøΩÁï•Âæ™ÁéØÂºïÁî®ÂíåÂÖ±‰∫´ÂºïÁî®„ÄÇÂØπË±°ÂõæÁöÑÁõ∏ÂêåÂºïÁî®Â∞ÜÂú®‰∏ÄÊ¨° Fory#copy ‰∏≠Ë¢´Â§çÂà∂‰∏∫‰∏çÂêåÁöÑÂØπË±°„ÄÇ\ttrue serializeEnumByName\tÂêØÁî®Êó∂ÔºåFory ÊåâÂêçÁß∞ËÄå‰∏çÊòØÂ∫èÊï∞Â∫èÂàóÂåñÊûö‰∏æ„ÄÇ\tfalse  ","version":"0.15","tagName":"h2"},{"title":"Á§∫‰æãÈÖçÁΩÆ‚Äã","type":1,"pageTitle":"ÈÖçÁΩÆÈÄâÈ°π","url":"/zh-CN/docs/guide/java/configuration#Á§∫‰æãÈÖçÁΩÆ","content":" Fory fory = Fory.builder() .withLanguage(Language.JAVA) // ÂêØÁî®ÂºïÁî®Ë∑üË∏™‰ª•ÊîØÊåÅÂÖ±‰∫´/Âæ™ÁéØÂºïÁî®„ÄÇ // Â¶ÇÊûúÊ≤°ÊúâÈáçÂ§çÂºïÁî®ÔºåÁ¶ÅÁî®ÂÆÉ‰ºöÊúâÊõ¥Â•ΩÁöÑÊÄßËÉΩ„ÄÇ .withRefTracking(false) // ÂéãÁº© int ‰ª•Ëé∑ÂæóÊõ¥Â∞èÁöÑÂ§ßÂ∞è .withIntCompressed(true) // ÂéãÁº© long ‰ª•Ëé∑ÂæóÊõ¥Â∞èÁöÑÂ§ßÂ∞è .withLongCompressed(true) .withCompatibleMode(CompatibleMode.SCHEMA_CONSISTENT) // ÂêØÁî®Á±ªÂûãÂâçÂêë/ÂêéÂêëÂÖºÂÆπÊÄß // Á¶ÅÁî®ÂÆÉ‰ª•Ëé∑ÂæóÊõ¥Â∞èÁöÑÂ§ßÂ∞èÂíåÊõ¥Â•ΩÁöÑÊÄßËÉΩ„ÄÇ // .withCompatibleMode(CompatibleMode.COMPATIBLE) // ÂêØÁî®ÂºÇÊ≠•Â§öÁ∫øÁ®ãÁºñËØë„ÄÇ .withAsyncCompilation(true) .build();   ","version":"0.15","tagName":"h2"},{"title":"Áõ∏ÂÖ≥‰∏ªÈ¢ò‚Äã","type":1,"pageTitle":"ÈÖçÁΩÆÈÄâÈ°π","url":"/zh-CN/docs/guide/java/configuration#Áõ∏ÂÖ≥‰∏ªÈ¢ò","content":" Schema ÊºîÂåñ - ÂÖºÂÆπÊ®°ÂºèÂíåÂÖÉÊï∞ÊçÆÂÖ±‰∫´ÂéãÁº© - Int„ÄÅlong ÂíåÊï∞ÁªÑÂéãÁº©ËØ¶ÊÉÖÁ±ªÂûãÊ≥®ÂÜå - Á±ªÊ≥®ÂÜåÈÄâÈ°π ","version":"0.15","tagName":"h2"},{"title":"ËøÅÁßªÊåáÂçó","type":0,"sectionRef":"#","url":"/zh-CN/docs/guide/java/migration","content":"","keywords":"","version":"0.15"},{"title":"JDK Â∫èÂàóÂåñËøÅÁßª‚Äã","type":1,"pageTitle":"ËøÅÁßªÊåáÂçó","url":"/zh-CN/docs/guide/java/migration#jdk-Â∫èÂàóÂåñËøÅÁßª","content":" Â¶ÇÊûú‰Ω†‰πãÂâç‰ΩøÁî® JDK Â∫èÂàóÂåñÔºåÂπ∂‰∏îÊó†Ê≥ïÂêåÊó∂ÂçáÁ∫ßÂÆ¢Êà∑Á´ØÂíåÊúçÂä°Âô®ÔºàËøôÂØπ‰∫éÂú®Á∫øÂ∫îÁî®Á®ãÂ∫èÂæàÂ∏∏ËßÅÔºâÔºåFory Êèê‰æõ‰∫Ü‰∏Ä‰∏™ÂÆûÁî®ÊñπÊ≥ï org.apache.fory.serializer.JavaSerializer.serializedByJDK Êù•Ê£ÄÊü•‰∫åËøõÂà∂ÊòØÂê¶Áî± JDK Â∫èÂàóÂåñÁîüÊàê„ÄÇ  ‰Ω†ÂèØ‰ª•‰ΩøÁî®‰ª•‰∏ãÊ®°Âºè‰ΩøÁé∞ÊúâÂ∫èÂàóÂåñÂçèËÆÆÊÑüÁü•ÔºåÁÑ∂Âêé‰ª•ÂºÇÊ≠•ÊªöÂä®ÊñπÂºèÂçáÁ∫ßÂ∫èÂàóÂåñÂà∞ ForyÔºö  if (JavaSerializer.serializedByJDK(bytes)) { ObjectInputStream objectInputStream = xxx; return objectInputStream.readObject(); } else { return fory.deserialize(bytes); }   ËøôÂÖÅËÆ∏‰Ω†Ôºö  ÈÉ®ÁΩ≤ÂèØ‰ª•ÂêåÊó∂ËØªÂèñ JDK Âíå Fory Â∫èÂàóÂåñÊï∞ÊçÆÁöÑÊñ∞‰ª£Á†ÅÈÄêÊ≠•Â∞ÜÂ∫èÂàóÂåñËøÅÁßªÂà∞ ForyÊúÄÁªàÁßªÈô§ JDK Â∫èÂàóÂåñÊîØÊåÅ  ","version":"0.15","tagName":"h2"},{"title":"ÂçáÁ∫ß Fory‚Äã","type":1,"pageTitle":"ËøÅÁßªÊåáÂçó","url":"/zh-CN/docs/guide/java/migration#ÂçáÁ∫ß-fory","content":" ","version":"0.15","tagName":"h2"},{"title":"Â∞èÁâàÊú¨ÂçáÁ∫ß‚Äã","type":1,"pageTitle":"ËøÅÁßªÊåáÂçó","url":"/zh-CN/docs/guide/java/migration#Â∞èÁâàÊú¨ÂçáÁ∫ß","content":" ÁõÆÂâçÔºå‰ªÖ‰∏∫Â∞èÁâàÊú¨Êèê‰æõ‰∫åËøõÂà∂ÂÖºÂÆπÊÄß„ÄÇ‰æãÂ¶ÇÔºåÂ¶ÇÊûú‰Ω†‰ΩøÁî® Fory v0.2.0ÔºåÂ¶ÇÊûúÂçáÁ∫ßÂà∞ Fory v0.2.1ÔºåÂ∞ÜÊèê‰æõ‰∫åËøõÂà∂ÂÖºÂÆπÊÄß„ÄÇ  Â¶ÇÊûú‰Ω†ÊåâÂ∞èÁâàÊú¨ÂçáÁ∫ßÔºåÊàñËÄÖ‰Ω†‰∏ç‰ºöÊúâÊóßÁâà Fory Â∫èÂàóÂåñÁöÑÊï∞ÊçÆÔºå‰Ω†ÂèØ‰ª•Áõ¥Êé•ÂçáÁ∫ß ForyÔºåÊó†ÈúÄ‰ªª‰ΩïÁâπÊÆäÂ§ÑÁêÜ„ÄÇ  ","version":"0.15","tagName":"h3"},{"title":"Â§ßÁâàÊú¨ÂçáÁ∫ß‚Äã","type":1,"pageTitle":"ËøÅÁßªÊåáÂçó","url":"/zh-CN/docs/guide/java/migration#Â§ßÁâàÊú¨ÂçáÁ∫ß","content":" Â¶ÇÊûú‰Ω†‰ªé v0.2.x ÂçáÁ∫ßÂà∞ Fory v0.4.1ÔºåÂàô‰∏ç‰øùËØÅ‰∫åËøõÂà∂ÂÖºÂÆπÊÄß„ÄÇ  Â§ßÂ§öÊï∞Êó∂ÂÄô‰∏çÈúÄË¶ÅÂçáÁ∫ß Fory Âà∞Êõ¥Êñ∞ÁöÑÂ§ßÁâàÊú¨‚Äî‚ÄîÂΩìÂâçÁâàÊú¨Â∑≤ÁªèË∂≥Â§üÂø´ÈÄüÂíåÁ¥ßÂáëÔºåÊàë‰ª¨‰∏∫ÊúÄËøëÁöÑÊóßÁâàÊú¨Êèê‰æõ‰∏Ä‰∫õÂ∞è‰øÆÂ§ç„ÄÇ  ","version":"0.15","tagName":"h3"},{"title":"‰∏∫Â∫èÂàóÂåñÊï∞ÊçÆÊ∑ªÂä†ÁâàÊú¨‚Äã","type":1,"pageTitle":"ËøÅÁßªÊåáÂçó","url":"/zh-CN/docs/guide/java/migration#‰∏∫Â∫èÂàóÂåñÊï∞ÊçÆÊ∑ªÂä†ÁâàÊú¨","content":" Â¶ÇÊûú‰Ω†Á°ÆÂÆûÊÉ≥ÂçáÁ∫ß Fory ‰ª•Ëé∑ÂæóÊõ¥Â•ΩÁöÑÊÄßËÉΩÂíåÊõ¥Â∞èÁöÑÂ§ßÂ∞èÔºå‰Ω†ÈúÄË¶ÅÂ∞Ü Fory ÁâàÊú¨‰Ωú‰∏∫Â§¥ÈÉ®ÂÜôÂÖ•Â∫èÂàóÂåñÊï∞ÊçÆÔºå‰ΩøÁî®Â¶Ç‰∏ã‰ª£Á†ÅÊù•‰øùÊåÅ‰∫åËøõÂà∂ÂÖºÂÆπÊÄßÔºö  Â∏¶ÁâàÊú¨Â§¥ÁöÑÂ∫èÂàóÂåñ‚Äã  MemoryBuffer buffer = xxx; buffer.writeVarInt32(2); // ÂÜôÂÖ• Fory ÁâàÊú¨ fory.serialize(buffer, obj);   Â∏¶ÁâàÊú¨Â§¥ÁöÑÂèçÂ∫èÂàóÂåñ‚Äã  MemoryBuffer buffer = xxx; int foryVersion = buffer.readVarInt32(); Fory fory = getFory(foryVersion); fory.deserialize(buffer);   getFory ÊòØ‰∏Ä‰∏™Âä†ËΩΩÁõ∏Â∫î Fory ÁâàÊú¨ÁöÑÊñπÊ≥ï„ÄÇ‰Ω†ÂèØ‰ª•Â∞Ü‰∏çÂêåÁâàÊú¨ÁöÑ Fory shade Âíå relocate Âà∞‰∏çÂêåÁöÑÂåÖÔºåÂπ∂ÊåâÁâàÊú¨Âä†ËΩΩ Fory„ÄÇ  ","version":"0.15","tagName":"h3"},{"title":"Shading Á§∫‰æã‚Äã","type":1,"pageTitle":"ËøÅÁßªÊåáÂçó","url":"/zh-CN/docs/guide/java/migration#shading-Á§∫‰æã","content":" &lt;!-- Maven Shade Plugin ÈÖçÁΩÆÁî®‰∫éÂ§ö‰∏™ Fory ÁâàÊú¨ --&gt; &lt;plugin&gt; &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt; &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt; &lt;executions&gt; &lt;execution&gt; &lt;id&gt;shade-fory-v1&lt;/id&gt; &lt;phase&gt;package&lt;/phase&gt; &lt;goals&gt; &lt;goal&gt;shade&lt;/goal&gt; &lt;/goals&gt; &lt;configuration&gt; &lt;relocations&gt; &lt;relocation&gt; &lt;pattern&gt;org.apache.fory&lt;/pattern&gt; &lt;shadedPattern&gt;com.myapp.fory.v1&lt;/shadedPattern&gt; &lt;/relocation&gt; &lt;/relocations&gt; &lt;/configuration&gt; &lt;/execution&gt; &lt;/executions&gt; &lt;/plugin&gt;   ","version":"0.15","tagName":"h3"},{"title":"ÊúÄ‰Ω≥ÂÆûË∑µ‚Äã","type":1,"pageTitle":"ËøÅÁßªÊåáÂçó","url":"/zh-CN/docs/guide/java/migration#ÊúÄ‰Ω≥ÂÆûË∑µ","content":" ÂçáÁ∫ßÂâçÂΩªÂ∫ïÊµãËØïÔºöÁ°Æ‰øù‰∏éÁé∞ÊúâÂ∫èÂàóÂåñÊï∞ÊçÆÁöÑÂÖºÂÆπÊÄßÂØπÈïøÊúüÂ≠òÂÇ®‰ΩøÁî®ÁâàÊú¨Â§¥ÔºöÂ¶ÇÊûúÊï∞ÊçÆÂú® Fory ÁâàÊú¨‰πãÈó¥ÊåÅ‰πÖÂåñ‰øùÊåÅÂêëÂêéÂÖºÂÆπÊÄßÔºö‰øùÁïôÊóßÁâàÊú¨ Fory ‰ª•ËØªÂèñÈÅóÁïôÊï∞ÊçÆÂçáÁ∫ßÂêéÁõëÊéßÔºöÂú®Áîü‰∫ßÁéØÂ¢É‰∏≠Ê≥®ÊÑèÂèçÂ∫èÂàóÂåñÈîôËØØ  ","version":"0.15","tagName":"h2"},{"title":"Áõ∏ÂÖ≥‰∏ªÈ¢ò‚Äã","type":1,"pageTitle":"ËøÅÁßªÊåáÂçó","url":"/zh-CN/docs/guide/java/migration#Áõ∏ÂÖ≥‰∏ªÈ¢ò","content":" ÈÖçÁΩÆÈÄâÈ°π - ForyBuilder ÈÄâÈ°πSchema ÊºîÂåñ - Â§ÑÁêÜÁ±ªÂèòÊõ¥ÊïÖÈöúÊéíÈô§ - Â∏∏ËßÅËøÅÁßªÈóÆÈ¢ò ","version":"0.15","tagName":"h2"},{"title":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ","type":0,"sectionRef":"#","url":"/zh-CN/docs/guide/java/cross_language","content":"","keywords":"","version":"0.15"},{"title":"ÂêØÁî®Ë∑®ËØ≠Ë®ÄÊ®°Âºè‚Äã","type":1,"pageTitle":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/guide/java/cross_language#ÂêØÁî®Ë∑®ËØ≠Ë®ÄÊ®°Âºè","content":" Ë¶ÅÂ∫èÂàóÂåñ‰æõÂÖ∂‰ªñËØ≠Ë®Ä‰ΩøÁî®ÁöÑÊï∞ÊçÆÔºå‰ΩøÁî® Language.XLANG Ê®°ÂºèÔºö  import org.apache.fory.*; import org.apache.fory.config.*; // ‰ΩøÁî® XLANG Ê®°ÂºèÂàõÂª∫ Fory ÂÆû‰æã Fory fory = Fory.builder() .withLanguage(Language.XLANG) .withRefTracking(true) // ‰∏∫Â§çÊùÇÂõæÂêØÁî®ÂºïÁî®Ë∑üË∏™ .build();   ","version":"0.15","tagName":"h2"},{"title":"‰∏∫Ë∑®ËØ≠Ë®ÄÂÖºÂÆπÊÄßÊ≥®ÂÜåÁ±ªÂûã‚Äã","type":1,"pageTitle":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/guide/java/cross_language#‰∏∫Ë∑®ËØ≠Ë®ÄÂÖºÂÆπÊÄßÊ≥®ÂÜåÁ±ªÂûã","content":" Á±ªÂûãÂøÖÈ°ª‰ΩøÁî®‰∏ÄËá¥ÁöÑ ID ÊàñÂêçÁß∞Âú®ÊâÄÊúâËØ≠Ë®Ä‰∏≠Ê≥®ÂÜå„ÄÇFory ÊîØÊåÅ‰∏§ÁßçÊ≥®ÂÜåÊñπÊ≥ïÔºö  ","version":"0.15","tagName":"h2"},{"title":"Êåâ ID Ê≥®ÂÜåÔºàÊé®ËçêÁî®‰∫éÊÄßËÉΩÔºâ‚Äã","type":1,"pageTitle":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/guide/java/cross_language#Êåâ-id-Ê≥®ÂÜåÊé®ËçêÁî®‰∫éÊÄßËÉΩ","content":" public record Person(String name, int age) {} // ‰ΩøÁî®Êï∞Â≠ó ID Ê≥®ÂÜå - Êõ¥Âø´Êõ¥Á¥ßÂáë fory.register(Person.class, 1); Person person = new Person(&quot;Alice&quot;, 30); byte[] bytes = fory.serialize(person); // bytes ÂèØ‰ª•Ë¢´ Python„ÄÅRust„ÄÅGo Á≠âÂèçÂ∫èÂàóÂåñ„ÄÇ   ‰ºòÁÇπÔºöÊõ¥Âø´ÁöÑÂ∫èÂàóÂåñÔºåÊõ¥Â∞èÁöÑ‰∫åËøõÂà∂Â§ßÂ∞èÊùÉË°°ÔºöÈúÄË¶ÅÂçèË∞É‰ª•ÈÅøÂÖçË∑®Âõ¢Èòü/ÊúçÂä°ÁöÑ ID ÂÜ≤Á™Å  ","version":"0.15","tagName":"h3"},{"title":"ÊåâÂêçÁß∞Ê≥®ÂÜåÔºàÊé®ËçêÁî®‰∫éÁÅµÊ¥ªÊÄßÔºâ‚Äã","type":1,"pageTitle":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/guide/java/cross_language#ÊåâÂêçÁß∞Ê≥®ÂÜåÊé®ËçêÁî®‰∫éÁÅµÊ¥ªÊÄß","content":" public record Person(String name, int age) {} // ‰ΩøÁî®Â≠óÁ¨¶‰∏≤ÂêçÁß∞Ê≥®ÂÜå - Êõ¥ÁÅµÊ¥ª fory.register(Person.class, &quot;example.Person&quot;); Person person = new Person(&quot;Alice&quot;, 30); byte[] bytes = fory.serialize(person); // bytes ÂèØ‰ª•Ë¢´ Python„ÄÅRust„ÄÅGo Á≠âÂèçÂ∫èÂàóÂåñ„ÄÇ   ‰ºòÁÇπÔºö‰∏çÂÆπÊòìÂÜ≤Á™ÅÔºåË∑®Âõ¢ÈòüÁÆ°ÁêÜÊõ¥ÂÆπÊòìÔºåÊó†ÈúÄÂçèË∞ÉÊùÉË°°ÔºöÁî±‰∫éÂ≠óÁ¨¶‰∏≤ÁºñÁ†ÅÔºå‰∫åËøõÂà∂Â§ßÂ∞èÁ®çÂ§ß  ","version":"0.15","tagName":"h3"},{"title":"Ë∑®ËØ≠Ë®ÄÁ§∫‰æãÔºöJava ‚Üî Python‚Äã","type":1,"pageTitle":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/guide/java/cross_language#Ë∑®ËØ≠Ë®ÄÁ§∫‰æãjava--python","content":" ","version":"0.15","tagName":"h2"},{"title":"JavaÔºàÂ∫èÂàóÂåñÂô®Ôºâ‚Äã","type":1,"pageTitle":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/guide/java/cross_language#javaÂ∫èÂàóÂåñÂô®","content":" import org.apache.fory.*; import org.apache.fory.config.*; public record Person(String name, int age) {} public class Example { public static void main(String[] args) { Fory fory = Fory.builder() .withLanguage(Language.XLANG) .withRefTracking(true) .build(); // ‰ΩøÁî®‰∏ÄËá¥ÁöÑÂêçÁß∞Ê≥®ÂÜå fory.register(Person.class, &quot;example.Person&quot;); Person person = new Person(&quot;Bob&quot;, 25); byte[] bytes = fory.serialize(person); // ÈÄöËøáÁΩëÁªú/Êñá‰ª∂/ÈòüÂàóÂ∞Ü bytes ÂèëÈÄÅÂà∞ Python ÊúçÂä° } }   ","version":"0.15","tagName":"h3"},{"title":"PythonÔºàÂèçÂ∫èÂàóÂåñÂô®Ôºâ‚Äã","type":1,"pageTitle":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/guide/java/cross_language#pythonÂèçÂ∫èÂàóÂåñÂô®","content":" import pyfory from dataclasses import dataclass @dataclass class Person: name: str age: pyfory.int32 # Âú® xlang Ê®°Âºè‰∏ãÂàõÂª∫ Fory fory = pyfory.Fory(ref_tracking=True) # ‰ΩøÁî®‰∏é Java Áõ∏ÂêåÁöÑÂêçÁß∞Ê≥®ÂÜå fory.register_type(Person, typename=&quot;example.Person&quot;) # ‰ªé Java ÂèçÂ∫èÂàóÂåñ bytes person = fory.deserialize(bytes_from_java) print(f&quot;{person.name}, {person.age}&quot;) # ËæìÂá∫ÔºöBob, 25   ","version":"0.15","tagName":"h3"},{"title":"Â§ÑÁêÜÂæ™ÁéØÂºïÁî®ÂíåÂÖ±‰∫´ÂºïÁî®‚Äã","type":1,"pageTitle":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/guide/java/cross_language#Â§ÑÁêÜÂæ™ÁéØÂºïÁî®ÂíåÂÖ±‰∫´ÂºïÁî®","content":" ÂêØÁî®ÂºïÁî®Ë∑üË∏™Êó∂ÔºåË∑®ËØ≠Ë®ÄÊ®°ÂºèÊîØÊåÅÂæ™ÁéØÂºïÁî®ÂíåÂÖ±‰∫´ÂºïÁî®Ôºö  public class Node { public String value; public Node next; public Node parent; } Fory fory = Fory.builder() .withLanguage(Language.XLANG) .withRefTracking(true) // Âæ™ÁéØÂºïÁî®ÈúÄË¶Å .build(); fory.register(Node.class, &quot;example.Node&quot;); // ÂàõÂª∫Âæ™ÁéØÂºïÁî® Node node1 = new Node(); node1.value = &quot;A&quot;; Node node2 = new Node(); node2.value = &quot;B&quot;; node1.next = node2; node2.parent = node1; // Âæ™ÁéØÂºïÁî® byte[] bytes = fory.serialize(node1); // Python/Rust/Go ÂèØ‰ª•Ê≠£Á°ÆÂèçÂ∫èÂàóÂåñËøô‰∏™ÔºåÂπ∂‰øùÁïôÂæ™ÁéØÂºïÁî®   ","version":"0.15","tagName":"h2"},{"title":"Á±ªÂûãÊò†Â∞ÑËÄÉËôë‚Äã","type":1,"pageTitle":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/guide/java/cross_language#Á±ªÂûãÊò†Â∞ÑËÄÉËôë","content":" Âπ∂ÈùûÊâÄÊúâ Java Á±ªÂûãÂú®ÂÖ∂‰ªñËØ≠Ë®Ä‰∏≠ÈÉΩÊúâÁ≠â‰ª∑Áâ©„ÄÇ‰ΩøÁî® xlang Ê®°ÂºèÊó∂Ôºö  ‰ΩøÁî®ÂéüÂßãÁ±ªÂûãÔºàint„ÄÅlong„ÄÅdouble„ÄÅStringÔºâ‰ª•Ëé∑ÂæóÊúÄÂ§ßÂÖºÂÆπÊÄß‰ΩøÁî®Ê†áÂáÜÈõÜÂêàÔºàList„ÄÅMap„ÄÅSetÔºâËÄå‰∏çÊòØÁâπÂÆö‰∫éËØ≠Ë®ÄÁöÑÈõÜÂêàÈÅøÂÖç Java ÁâπÂÆöÁ±ªÂûãÔºåÂ¶Ç Optional„ÄÅBigDecimalÔºàÈô§ÈùûÁõÆÊ†áËØ≠Ë®ÄÊîØÊåÅÂÆÉ‰ª¨ÔºâÊü•ÁúãÁ±ªÂûãÊò†Â∞ÑÊåáÂçóËé∑ÂèñÂÆåÊï¥ÁöÑÂÖºÂÆπÊÄßÁü©Èòµ  ","version":"0.15","tagName":"h2"},{"title":"ÂÖºÂÆπÁ±ªÂûã‚Äã","type":1,"pageTitle":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/guide/java/cross_language#ÂÖºÂÆπÁ±ªÂûã","content":" public record UserData( String name, // ‚úÖ ÂÖºÂÆπ int age, // ‚úÖ ÂÖºÂÆπ List&lt;String&gt; tags, // ‚úÖ ÂÖºÂÆπ Map&lt;String, Integer&gt; scores // ‚úÖ ÂÖºÂÆπ ) {}   ","version":"0.15","tagName":"h3"},{"title":"ÊúâÈóÆÈ¢òÁöÑÁ±ªÂûã‚Äã","type":1,"pageTitle":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/guide/java/cross_language#ÊúâÈóÆÈ¢òÁöÑÁ±ªÂûã","content":" public record UserData( Optional&lt;String&gt; name, // ‚ùå ‰∏çË∑®ËØ≠Ë®ÄÂÖºÂÆπ BigDecimal balance, // ‚ùå ÊîØÊåÅÊúâÈôê EnumSet&lt;Status&gt; statuses // ‚ùå Java ÁâπÂÆöÈõÜÂêà ) {}   ","version":"0.15","tagName":"h3"},{"title":"ÊÄßËÉΩËÄÉËôë‚Äã","type":1,"pageTitle":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/guide/java/cross_language#ÊÄßËÉΩËÄÉËôë","content":" Ë∑®ËØ≠Ë®ÄÊ®°ÂºèÁõ∏ÊØî‰ªÖ Java Ê®°ÂºèÊúâÈ¢ùÂ§ñÁöÑÂºÄÈîÄÔºö  Á±ªÂûãÂÖÉÊï∞ÊçÆÁºñÁ†ÅÔºöÊØè‰∏™Á±ªÂûãÊ∑ªÂä†È¢ùÂ§ñÂ≠óËäÇÁ±ªÂûãËß£ÊûêÔºöÂú®ÂèçÂ∫èÂàóÂåñÊúüÈó¥ÈúÄË¶ÅÂêçÁß∞/ID Êü•Êâæ  ‰∏∫‰∫ÜÊúÄ‰Ω≥ÊÄßËÉΩÔºö  Â∞ΩÂèØËÉΩ‰ΩøÁî®Âü∫‰∫é ID ÁöÑÊ≥®ÂÜåÔºàÊõ¥Â∞èÁöÑÁºñÁ†ÅÔºâÂ¶ÇÊûú‰∏çÈúÄË¶ÅÂæ™ÁéØÂºïÁî®ÔºåÁ¶ÅÁî®ÂºïÁî®Ë∑üË∏™ÔºàwithRefTracking(false)ÔºâÂΩìÂè™ÈúÄË¶Å Java Â∫èÂàóÂåñÊó∂‰ΩøÁî® Java Ê®°ÂºèÔºàLanguage.JAVAÔºâ  ","version":"0.15","tagName":"h2"},{"title":"Ë∑®ËØ≠Ë®ÄÊúÄ‰Ω≥ÂÆûË∑µ‚Äã","type":1,"pageTitle":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/guide/java/cross_language#Ë∑®ËØ≠Ë®ÄÊúÄ‰Ω≥ÂÆûË∑µ","content":" ‰∏ÄËá¥ÁöÑÊ≥®ÂÜåÔºöÁ°Æ‰øùÊâÄÊúâÊúçÂä°‰ΩøÁî®Áõ∏ÂêåÁöÑ ID/ÂêçÁß∞Ê≥®ÂÜåÁ±ªÂûãÁâàÊú¨ÂÖºÂÆπÊÄßÔºö‰ΩøÁî®ÂÖºÂÆπÊ®°ÂºèË∑®ÊúçÂä°ËøõË°å schema ÊºîÂåñ  ","version":"0.15","tagName":"h2"},{"title":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñÊïÖÈöúÊéíÈô§‚Äã","type":1,"pageTitle":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/guide/java/cross_language#Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñÊïÖÈöúÊéíÈô§","content":" ","version":"0.15","tagName":"h2"},{"title":"\"Type not registered\" ÈîôËØØ‚Äã","type":1,"pageTitle":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/guide/java/cross_language#type-not-registered-ÈîôËØØ","content":" È™åËØÅÁ±ªÂûãÂú®‰∏§Á´ØÈÉΩ‰ΩøÁî®Áõ∏ÂêåÁöÑ ID/ÂêçÁß∞Ê≥®ÂÜåÊ£ÄÊü•Á±ªÂûãÂêçÁß∞ÊòØÂê¶ÊúâÊãºÂÜôÈîôËØØÊàñÂ§ßÂ∞èÂÜôÂ∑ÆÂºÇ  ","version":"0.15","tagName":"h3"},{"title":"\"Type mismatch\" ÈîôËØØ‚Äã","type":1,"pageTitle":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/guide/java/cross_language#type-mismatch-ÈîôËØØ","content":" Á°Æ‰øùÂ≠óÊÆµÁ±ªÂûãÂú®ËØ≠Ë®Ä‰πãÈó¥ÂÖºÂÆπÊü•ÁúãÁ±ªÂûãÊò†Â∞ÑÊåáÂçó  ","version":"0.15","tagName":"h3"},{"title":"Êï∞ÊçÆÊçüÂùèÊàñÊÑèÂ§ñÂÄº‚Äã","type":1,"pageTitle":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/guide/java/cross_language#Êï∞ÊçÆÊçüÂùèÊàñÊÑèÂ§ñÂÄº","content":" È™åËØÅ‰∏§Á´ØÈÉΩ‰ΩøÁî® Language.XLANG Ê®°ÂºèÁ°Æ‰øù‰∏§Á´ØÂÖ∑ÊúâÂÖºÂÆπÁöÑ Fory ÁâàÊú¨  ","version":"0.15","tagName":"h3"},{"title":"Âè¶ËØ∑ÂèÇÈòÖ‚Äã","type":1,"pageTitle":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/guide/java/cross_language#Âè¶ËØ∑ÂèÇÈòÖ","content":" Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñËßÑËåÉÁ±ªÂûãÊò†Â∞ÑÂèÇËÄÉPython Ë∑®ËØ≠Ë®ÄÊåáÂçóRust Ë∑®ËØ≠Ë®ÄÊåáÂçó  ","version":"0.15","tagName":"h2"},{"title":"Áõ∏ÂÖ≥‰∏ªÈ¢ò‚Äã","type":1,"pageTitle":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/guide/java/cross_language#Áõ∏ÂÖ≥‰∏ªÈ¢ò","content":" Schema ÊºîÂåñ - ÂÖºÂÆπÊ®°ÂºèÁ±ªÂûãÊ≥®ÂÜå - Ê≥®ÂÜåÊñπÊ≥ïË°åÊ†ºÂºè - Ë∑®ËØ≠Ë®ÄË°åÊ†ºÂºè ","version":"0.15","tagName":"h2"},{"title":"Ë°åÊ†ºÂºè","type":0,"sectionRef":"#","url":"/zh-CN/docs/guide/java/row_format","content":"","keywords":"","version":"0.15"},{"title":"Ê¶ÇËø∞‚Äã","type":1,"pageTitle":"Ë°åÊ†ºÂºè","url":"/zh-CN/docs/guide/java/row_format#Ê¶ÇËø∞","content":" Ë°åÊ†ºÂºèÊòØ‰∏ÄÁßçÁºìÂ≠òÂèãÂ•ΩÁöÑ‰∫åËøõÂà∂ÈöèÊú∫ËÆøÈóÆÊ†ºÂºèÔºåÊîØÊåÅÔºö  Èõ∂Êã∑Ë¥ùËÆøÈóÆÔºöÁõ¥Êé•‰ªé‰∫åËøõÂà∂ËØªÂèñÂ≠óÊÆµÔºåÊó†ÈúÄÂàÜÈÖçÂØπË±°ÈÉ®ÂàÜÂèçÂ∫èÂàóÂåñÔºöÂè™ËÆøÈóÆ‰Ω†ÈúÄË¶ÅÁöÑÂ≠óÊÆµË∑≥ËøáÂ∫èÂàóÂåñÔºöË∑≥Ëøá‰∏çÈúÄË¶ÅÁöÑÂ≠óÊÆµÁöÑÂ∫èÂàóÂåñË∑®ËØ≠Ë®ÄÂÖºÂÆπÊÄßÔºöÂú® Python„ÄÅJava„ÄÅC++ ÂíåÂÖ∂‰ªñËØ≠Ë®Ä‰πãÈó¥Â∑•‰ΩúÂàóÊ†ºÂºèËΩ¨Êç¢ÔºöÂèØ‰ª•Ëá™Âä®ËΩ¨Êç¢‰∏∫ Apache Arrow ÂàóÊ†ºÂºè  ","version":"0.15","tagName":"h2"},{"title":"Âü∫Êú¨‰ΩøÁî®‚Äã","type":1,"pageTitle":"Ë°åÊ†ºÂºè","url":"/zh-CN/docs/guide/java/row_format#Âü∫Êú¨‰ΩøÁî®","content":" public class Bar { String f1; List&lt;Long&gt; f2; } public class Foo { int f1; List&lt;Integer&gt; f2; Map&lt;String, Integer&gt; f3; List&lt;Bar&gt; f4; } RowEncoder&lt;Foo&gt; encoder = Encoders.bean(Foo.class); // ÂàõÂª∫Â§ßÂûãÊï∞ÊçÆÈõÜ Foo foo = new Foo(); foo.f1 = 10; foo.f2 = IntStream.range(0, 1_000_000).boxed().collect(Collectors.toList()); foo.f3 = IntStream.range(0, 1_000_000).boxed().collect(Collectors.toMap(i -&gt; &quot;k&quot; + i, i -&gt; i)); List&lt;Bar&gt; bars = new ArrayList&lt;&gt;(1_000_000); for (int i = 0; i &lt; 1_000_000; i++) { Bar bar = new Bar(); bar.f1 = &quot;s&quot; + i; bar.f2 = LongStream.range(0, 10).boxed().collect(Collectors.toList()); bars.add(bar); } foo.f4 = bars; // ÁºñÁ†Å‰∏∫Ë°åÊ†ºÂºèÔºàË∑®ËØ≠Ë®ÄÂÖºÂÆπ Python/C++Ôºâ BinaryRow binaryRow = encoder.toRow(foo); // Èõ∂Êã∑Ë¥ùÈöèÊú∫ËÆøÈóÆÔºåÊó†ÈúÄÂÆåÂÖ®ÂèçÂ∫èÂàóÂåñ BinaryArray f2Array = binaryRow.getArray(1); // ËÆøÈóÆ f2 ÂàóË°® BinaryArray f4Array = binaryRow.getArray(3); // ËÆøÈóÆ f4 ÂàóË°® BinaryRow bar10 = f4Array.getStruct(10); // ËÆøÈóÆÁ¨¨ 11 ‰∏™ Bar long value = bar10.getArray(1).getInt64(5); // ËÆøÈóÆ bar.f2 ÁöÑÁ¨¨ 6 ‰∏™ÂÖÉÁ¥† // ÈÉ®ÂàÜÂèçÂ∫èÂàóÂåñ - Âè™ÂèçÂ∫èÂàóÂåñ‰Ω†ÈúÄË¶ÅÁöÑ RowEncoder&lt;Bar&gt; barEncoder = Encoders.bean(Bar.class); Bar bar1 = barEncoder.fromRow(f4Array.getStruct(10)); // Âè™ÂèçÂ∫èÂàóÂåñÁ¨¨ 11 ‰∏™ Bar Bar bar2 = barEncoder.fromRow(f4Array.getStruct(20)); // Âè™ÂèçÂ∫èÂàóÂåñÁ¨¨ 21 ‰∏™ Bar // ÈúÄË¶ÅÊó∂ÂÆåÂÖ®ÂèçÂ∫èÂàóÂåñ Foo newFoo = encoder.fromRow(binaryRow);   ","version":"0.15","tagName":"h2"},{"title":"‰∏ªË¶Å‰ºòÂäø‚Äã","type":1,"pageTitle":"Ë°åÊ†ºÂºè","url":"/zh-CN/docs/guide/java/row_format#‰∏ªË¶Å‰ºòÂäø","content":" ÁâπÊÄß\tÊèèËø∞Èõ∂Êã∑Ë¥ùËÆøÈóÆ\tËØªÂèñÂµåÂ•óÂ≠óÊÆµËÄåÊó†ÈúÄÂèçÂ∫èÂàóÂåñÊï¥‰∏™ÂØπË±° ÂÜÖÂ≠òÊïàÁéá\tÁõ¥Êé•‰ªéÁ£ÅÁõòÂÜÖÂ≠òÊò†Â∞ÑÂ§ßÊï∞ÊçÆÈõÜ Ë∑®ËØ≠Ë®Ä\tJava„ÄÅPython„ÄÅC++ ‰πãÈó¥ÁöÑ‰∫åËøõÂà∂Ê†ºÂºèÂÖºÂÆπ ÈÉ®ÂàÜÂèçÂ∫èÂàóÂåñ\tÂè™ÂèçÂ∫èÂàóÂåñ‰Ω†ÈúÄË¶ÅÁöÑÁâπÂÆöÂÖÉÁ¥† È´òÊÄßËÉΩ\tË∑≥Ëøá‰∏çÂøÖË¶ÅÁöÑÊï∞ÊçÆËß£ÊûêÁî®‰∫éÂàÜÊûêÂ∑•‰ΩúË¥üËΩΩ  ","version":"0.15","tagName":"h2"},{"title":"‰ΩïÊó∂‰ΩøÁî®Ë°åÊ†ºÂºè‚Äã","type":1,"pageTitle":"Ë°åÊ†ºÂºè","url":"/zh-CN/docs/guide/java/row_format#‰ΩïÊó∂‰ΩøÁî®Ë°åÊ†ºÂºè","content":" Ë°åÊ†ºÂºèÈÄÇÁî®‰∫éÔºö  ÂàÜÊûêÂ∑•‰ΩúË¥üËΩΩÔºöÂΩì‰Ω†Âè™ÈúÄË¶ÅËÆøÈóÆÁâπÂÆöÂ≠óÊÆµÊó∂Â§ßÊï∞ÊçÆÈõÜÔºöÂΩìÂÆåÂÖ®ÂèçÂ∫èÂàóÂåñÊàêÊú¨Â§™È´òÊó∂ÂÜÖÂ≠òÊò†Â∞ÑÊñá‰ª∂ÔºöÂ§ÑÁêÜÂ§ß‰∫é RAM ÁöÑÊï∞ÊçÆÊï∞ÊçÆÁÆ°ÈÅìÔºöÊó†ÈúÄÂÆåÊï¥ÂØπË±°ÈáçÂª∫Âç≥ÂèØÂ§ÑÁêÜÊï∞ÊçÆË∑®ËØ≠Ë®ÄÊï∞ÊçÆÂÖ±‰∫´ÔºöÂΩìÊï∞ÊçÆÈúÄË¶Å‰ªéÂ§öÁßçËØ≠Ë®ÄËÆøÈóÆÊó∂  ","version":"0.15","tagName":"h2"},{"title":"Ë∑®ËØ≠Ë®ÄÂÖºÂÆπÊÄß‚Äã","type":1,"pageTitle":"Ë°åÊ†ºÂºè","url":"/zh-CN/docs/guide/java/row_format#Ë∑®ËØ≠Ë®ÄÂÖºÂÆπÊÄß","content":" Ë°åÊ†ºÂºèÂú®ËØ≠Ë®Ä‰πãÈó¥Êó†ÁºùÂ∑•‰Ωú„ÄÇÁõ∏ÂêåÁöÑ‰∫åËøõÂà∂Êï∞ÊçÆÂèØ‰ª•‰ªé‰ª•‰∏ãËØ≠Ë®ÄËÆøÈóÆÔºö  ","version":"0.15","tagName":"h2"},{"title":"Python‚Äã","type":1,"pageTitle":"Ë°åÊ†ºÂºè","url":"/zh-CN/docs/guide/java/row_format#python","content":" import pyfory import pyarrow as pa from dataclasses import dataclass from typing import List, Dict @dataclass class Bar: f1: str f2: List[pa.int64] @dataclass class Foo: f1: pa.int32 f2: List[pa.int32] f3: Dict[str, pa.int32] f4: List[Bar] encoder = pyfory.encoder(Foo) binary: bytes = encoder.to_row(foo).to_bytes() # Èõ∂Êã∑Ë¥ùËÆøÈóÆ foo_row = pyfory.RowData(encoder.schema, binary) print(foo_row.f2[100000]) print(foo_row.f4[100000].f1)   ","version":"0.15","tagName":"h3"},{"title":"C++‚Äã","type":1,"pageTitle":"Ë°åÊ†ºÂºè","url":"/zh-CN/docs/guide/java/row_format#c","content":" #include &quot;fory/encoder/row_encoder.h&quot; #include &quot;fory/row/writer.h&quot; struct Bar { std::string f1; std::vector&lt;int64_t&gt; f2; }; FORY_FIELD_INFO(Bar, f1, f2); struct Foo { int32_t f1; std::vector&lt;int32_t&gt; f2; std::map&lt;std::string, int32_t&gt; f3; std::vector&lt;Bar&gt; f4; }; FORY_FIELD_INFO(Foo, f1, f2, f3, f4); fory::encoder::RowEncoder&lt;Foo&gt; encoder; encoder.Encode(foo); auto row = encoder.GetWriter().ToRow(); // Èõ∂Êã∑Ë¥ùÈöèÊú∫ËÆøÈóÆ auto f2_array = row-&gt;GetArray(1); auto f4_array = row-&gt;GetArray(3); auto bar10 = f4_array-&gt;GetStruct(10); int64_t value = bar10-&gt;GetArray(1)-&gt;GetInt64(5); std::string str = bar10-&gt;GetString(0);   ","version":"0.15","tagName":"h3"},{"title":"ÊÄßËÉΩÊØîËæÉ‚Äã","type":1,"pageTitle":"Ë°åÊ†ºÂºè","url":"/zh-CN/docs/guide/java/row_format#ÊÄßËÉΩÊØîËæÉ","content":" Êìç‰Ωú\tÂØπË±°Ê†ºÂºè\tË°åÊ†ºÂºèÂÆåÂÖ®ÂèçÂ∫èÂàóÂåñ\tÂàÜÈÖçÊâÄÊúâÂØπË±°\tÈõ∂ÂàÜÈÖç ÂçïÂ≠óÊÆµËÆøÈóÆ\tÈúÄË¶ÅÂÆåÂÖ®ÂèçÂ∫èÂàóÂåñ\tÁõ¥Êé•ÂÅèÁßªËØªÂèñ ÂÜÖÂ≠ò‰ΩøÁî®\tÂÆåÊï¥ÂØπË±°ÂõæÂú®ÂÜÖÂ≠ò‰∏≠\t‰ªÖËÆøÈóÆÁöÑÂ≠óÊÆµ ÈÄÇÁî®‰∫é\tÂ∞èÂØπË±°ÔºåÂÆåÂÖ®ËÆøÈóÆ\tÂ§ßÂØπË±°ÔºåÈÄâÊã©ÊÄßËÆøÈóÆ  ","version":"0.15","tagName":"h2"},{"title":"Áõ∏ÂÖ≥‰∏ªÈ¢ò‚Äã","type":1,"pageTitle":"Ë°åÊ†ºÂºè","url":"/zh-CN/docs/guide/java/row_format#Áõ∏ÂÖ≥‰∏ªÈ¢ò","content":" Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ - XLANG Ê®°ÂºèÈ´òÁ∫ßÁâπÊÄß - Èõ∂Êã∑Ë¥ùÂ∫èÂàóÂåñË°åÊ†ºÂºèËßÑËåÉ - ÂçèËÆÆËØ¶ÊÉÖ ","version":"0.15","tagName":"h2"},{"title":"Schema ÊºîÂåñ","type":0,"sectionRef":"#","url":"/zh-CN/docs/guide/java/schema_evolution","content":"","keywords":"","version":"0.15"},{"title":"Â§ÑÁêÜÁ±ª Schema ÊºîÂåñ‚Äã","type":1,"pageTitle":"Schema ÊºîÂåñ","url":"/zh-CN/docs/guide/java/schema_evolution#Â§ÑÁêÜÁ±ª-schema-ÊºîÂåñ","content":" Âú®ËÆ∏Â§öÁ≥ªÁªü‰∏≠ÔºåÁî®‰∫éÂ∫èÂàóÂåñÁöÑÁ±ªÁöÑ schema ÂèØËÉΩ‰ºöÈöèÊó∂Èó¥ËÄåÊîπÂèò„ÄÇ‰æãÂ¶ÇÔºåÁ±ª‰∏≠ÁöÑÂ≠óÊÆµÂèØËÉΩ‰ºöË¢´Ê∑ªÂä†ÊàñÂà†Èô§„ÄÇÂΩìÂ∫èÂàóÂåñÂíåÂèçÂ∫èÂàóÂåñËøáÁ®ã‰ΩøÁî®‰∏çÂêåÁâàÊú¨ÁöÑ jar Êó∂ÔºåË¢´ÂèçÂ∫èÂàóÂåñÁöÑÁ±ªÁöÑ schema ÂèØËÉΩ‰∏éÂ∫èÂàóÂåñÊúüÈó¥‰ΩøÁî®ÁöÑ‰∏çÂêå„ÄÇ  ","version":"0.15","tagName":"h2"},{"title":"ÈªòËÆ§Ê®°ÂºèÔºöSCHEMA_CONSISTENT‚Äã","type":1,"pageTitle":"Schema ÊºîÂåñ","url":"/zh-CN/docs/guide/java/schema_evolution#ÈªòËÆ§Ê®°Âºèschema_consistent","content":" ÈªòËÆ§ÊÉÖÂÜµ‰∏ãÔºåFory ‰ΩøÁî® CompatibleMode.SCHEMA_CONSISTENT Ê®°ÂºèÂ∫èÂàóÂåñÂØπË±°„ÄÇÊ≠§Ê®°ÂºèÂÅáËÆæÂèçÂ∫èÂàóÂåñËøáÁ®ã‰ΩøÁî®‰∏éÂ∫èÂàóÂåñËøáÁ®ãÁõ∏ÂêåÁöÑÁ±ª schemaÔºå‰ªéËÄåÊúÄÂ∞èÂåñÊúâÊïàË¥üËΩΩÂºÄÈîÄ„ÄÇ‰ΩÜÊòØÔºåÂ¶ÇÊûúÂ≠òÂú® schema ‰∏ç‰∏ÄËá¥ÔºåÂèçÂ∫èÂàóÂåñÂ∞ÜÂ§±Ë¥•„ÄÇ  ","version":"0.15","tagName":"h3"},{"title":"ÂÖºÂÆπÊ®°Âºè‚Äã","type":1,"pageTitle":"Schema ÊºîÂåñ","url":"/zh-CN/docs/guide/java/schema_evolution#ÂÖºÂÆπÊ®°Âºè","content":" Â¶ÇÊûúÈ¢ÑÊúü schema ‰ºöÂèëÁîüÂèòÂåñÔºå‰∏∫‰∫Ü‰ΩøÂèçÂ∫èÂàóÂåñÊàêÂäüÔºàÂç≥ schema ÂâçÂêë/ÂêéÂêëÂÖºÂÆπÊÄßÔºâÔºåÁî®Êà∑ÂøÖÈ°ªÈÖçÁΩÆ Fory ‰ΩøÁî® CompatibleMode.COMPATIBLE„ÄÇËøôÂèØ‰ª•‰ΩøÁî® ForyBuilder#withCompatibleMode(CompatibleMode.COMPATIBLE) ÊñπÊ≥ïÂÆåÊàê„ÄÇ  Âú®Ê≠§ÂÖºÂÆπÊ®°Âºè‰∏ãÔºåÂèçÂ∫èÂàóÂåñÂèØ‰ª•Â§ÑÁêÜ schema ÂèòÊõ¥ÔºåÂ¶ÇÁº∫Â§±ÊàñÈ¢ùÂ§ñÁöÑÂ≠óÊÆµÔºåÂÖÅËÆ∏Âú®Â∫èÂàóÂåñÂíåÂèçÂ∫èÂàóÂåñËøáÁ®ãÂÖ∑Êúâ‰∏çÂêåÁ±ª schema Êó∂‰πüËÉΩÊàêÂäü„ÄÇ  Fory fory = Fory.builder() .withCompatibleMode(CompatibleMode.COMPATIBLE) .build(); byte[] bytes = fory.serialize(object); System.out.println(fory.deserialize(bytes));   Ê≠§ÂÖºÂÆπÊ®°ÂºèÊ∂âÂèäÂ∞ÜÁ±ªÂÖÉÊï∞ÊçÆÂ∫èÂàóÂåñÂà∞Â∫èÂàóÂåñËæìÂá∫‰∏≠„ÄÇÂ∞ΩÁÆ° Fory ‰ΩøÁî®Â§çÊùÇÁöÑÂéãÁº©ÊäÄÊúØÊù•ÊúÄÂ∞èÂåñÂºÄÈîÄÔºå‰ΩÜ‰∏éÁ±ªÂÖÉÊï∞ÊçÆÁõ∏ÂÖ≥ËÅîÁöÑ‰ªçÊúâ‰∏Ä‰∫õÈ¢ùÂ§ñÁöÑÁ©∫Èó¥ÊàêÊú¨„ÄÇ  ","version":"0.15","tagName":"h3"},{"title":"ÂÖÉÊï∞ÊçÆÂÖ±‰∫´‚Äã","type":1,"pageTitle":"Schema ÊºîÂåñ","url":"/zh-CN/docs/guide/java/schema_evolution#ÂÖÉÊï∞ÊçÆÂÖ±‰∫´","content":" ‰∏∫‰∫ÜËøõ‰∏ÄÊ≠•Èôç‰ΩéÂÖÉÊï∞ÊçÆÊàêÊú¨ÔºåFory ÂºïÂÖ•‰∫ÜÁ±ªÂÖÉÊï∞ÊçÆÂÖ±‰∫´Êú∫Âà∂ÔºåÂÖÅËÆ∏ÂÖÉÊï∞ÊçÆÂè™ÂèëÈÄÅÂà∞ÂèçÂ∫èÂàóÂåñËøáÁ®ã‰∏ÄÊ¨°„ÄÇ  Fory ÊîØÊåÅÂú®‰∏ä‰∏ãÊñáÔºà‰æãÂ¶Ç TCP ËøûÊé•Ôºâ‰∏≠ÁöÑÂ§öÊ¨°Â∫èÂàóÂåñ‰πãÈó¥ÂÖ±‰∫´Á±ªÂûãÂÖÉÊï∞ÊçÆÔºàÁ±ªÂêç„ÄÅÂ≠óÊÆµÂêç„ÄÅÊúÄÁªàÂ≠óÊÆµÁ±ªÂûã‰ø°ÊÅØÁ≠âÔºâ„ÄÇÊ≠§‰ø°ÊÅØÂ∞ÜÂú®‰∏ä‰∏ãÊñá‰∏≠ÁöÑÁ¨¨‰∏ÄÊ¨°Â∫èÂàóÂåñÊúüÈó¥ÂèëÈÄÅÂà∞ÂØπÁ≠âÁ´Ø„ÄÇÂü∫‰∫éÊ≠§ÂÖÉÊï∞ÊçÆÔºåÂØπÁ≠âÁ´ØÂèØ‰ª•ÈáçÂª∫Áõ∏ÂêåÁöÑÂèçÂ∫èÂàóÂåñÂô®ÔºåËøôÈÅøÂÖç‰∫Ü‰∏∫ÂêéÁª≠Â∫èÂàóÂåñ‰º†ËæìÂÖÉÊï∞ÊçÆÔºåÂπ∂Èôç‰ΩéÁΩëÁªúÊµÅÈáèÂéãÂäõÔºåÂêåÊó∂Ëá™Âä®ÊîØÊåÅÁ±ªÂûãÂâçÂêë/ÂêéÂêëÂÖºÂÆπÊÄß„ÄÇ  ","version":"0.15","tagName":"h2"},{"title":"‰ΩøÁî®ÂÖÉÊï∞ÊçÆÂÖ±‰∫´‚Äã","type":1,"pageTitle":"Schema ÊºîÂåñ","url":"/zh-CN/docs/guide/java/schema_evolution#‰ΩøÁî®ÂÖÉÊï∞ÊçÆÂÖ±‰∫´","content":" // Fory.builder() // .withLanguage(Language.JAVA) // .withRefTracking(false) // // Âú®Â§öÊ¨°Â∫èÂàóÂåñ‰πãÈó¥ÂÖ±‰∫´ÂÖÉÊï∞ÊçÆ„ÄÇ // .withMetaContextShare(true) // ÈùûÁ∫øÁ®ãÂÆâÂÖ® fory„ÄÇ MetaContext context = xxx; fory.getSerializationContext().setMetaContext(context); byte[] bytes = fory.serialize(o); // ÈùûÁ∫øÁ®ãÂÆâÂÖ® fory„ÄÇ MetaContext context = xxx; fory.getSerializationContext().setMetaContext(context); fory.deserialize(bytes);   ","version":"0.15","tagName":"h3"},{"title":"Á∫øÁ®ãÂÆâÂÖ®ÂÖÉÊï∞ÊçÆÂÖ±‰∫´‚Äã","type":1,"pageTitle":"Schema ÊºîÂåñ","url":"/zh-CN/docs/guide/java/schema_evolution#Á∫øÁ®ãÂÆâÂÖ®ÂÖÉÊï∞ÊçÆÂÖ±‰∫´","content":" // Á∫øÁ®ãÂÆâÂÖ® fory fory.setClassLoader(beanA.getClass().getClassLoader()); byte[] serialized = fory.execute( f -&gt; { f.getSerializationContext().setMetaContext(context); return f.serialize(beanA); } ); // Á∫øÁ®ãÂÆâÂÖ® fory fory.setClassLoader(beanA.getClass().getClassLoader()); Object newObj = fory.execute( f -&gt; { f.getSerializationContext().setMetaContext(context); return f.deserialize(serialized); } );   Ê≥®ÊÑèÔºöMetaContext ‰∏çÊòØÁ∫øÁ®ãÂÆâÂÖ®ÁöÑÔºå‰∏çËÉΩÂú® Fory ÂÆû‰æãÊàñÂ§ö‰∏™Á∫øÁ®ã‰πãÈó¥ÈáçÁî®„ÄÇÂú®Â§öÁ∫øÁ®ãÊÉÖÂÜµ‰∏ãÔºåÂøÖÈ°ª‰∏∫ÊØè‰∏™ Fory ÂÆû‰æãÂàõÂª∫ÂçïÁã¨ÁöÑ MetaContext„ÄÇ  ÊúâÂÖ≥Êõ¥Â§öËØ¶ÁªÜ‰ø°ÊÅØÔºåËØ∑ÂèÇÈòÖ ÂÖÉÊï∞ÊçÆÂÖ±‰∫´ËßÑËåÉ„ÄÇ  ","version":"0.15","tagName":"h3"},{"title":"ÂèçÂ∫èÂàóÂåñ‰∏çÂ≠òÂú®ÁöÑÁ±ª‚Äã","type":1,"pageTitle":"Schema ÊºîÂåñ","url":"/zh-CN/docs/guide/java/schema_evolution#ÂèçÂ∫èÂàóÂåñ‰∏çÂ≠òÂú®ÁöÑÁ±ª","content":" Fory ÊîØÊåÅÂèçÂ∫èÂàóÂåñ‰∏çÂ≠òÂú®ÁöÑÁ±ª„ÄÇÊ≠§ÂäüËÉΩÂèØ‰ª•ÈÄöËøá ForyBuilder#deserializeNonexistentClass(true) ÂêØÁî®„ÄÇ  ÂêØÁî®Êó∂ÔºåÂ¶ÇÊûúÂêØÁî®‰∫ÜÂÖÉÊï∞ÊçÆÂÖ±‰∫´ÔºåFory Â∞ÜÊääÊ≠§Á±ªÂûãÁöÑÂèçÂ∫èÂàóÂåñÊï∞ÊçÆÂ≠òÂÇ®Âú® Map ÁöÑÂª∂ËøüÂ≠êÁ±ª‰∏≠„ÄÇÈÄöËøá‰ΩøÁî® Fory ÂÆûÁé∞ÁöÑÂª∂ËøüÊò†Â∞ÑÔºåÂèØ‰ª•ÈÅøÂÖçÂèçÂ∫èÂàóÂåñÊúüÈó¥Â°´ÂÖÖÊò†Â∞ÑÁöÑÈáçÊñ∞Âπ≥Ë°°ÊàêÊú¨Ôºå‰ªéËÄåËøõ‰∏ÄÊ≠•ÊèêÈ´òÊÄßËÉΩ„ÄÇ  Â¶ÇÊûúÊ≠§Êï∞ÊçÆË¢´ÂèëÈÄÅÂà∞Âè¶‰∏Ä‰∏™ËøõÁ®ãÔºåÂπ∂‰∏îËØ•Á±ªÂú®Ê≠§ËøáÁ®ã‰∏≠Â≠òÂú®ÔºåÂàôÊï∞ÊçÆÂ∞ÜË¢´ÂèçÂ∫èÂàóÂåñ‰∏∫Ê≠§Á±ªÂûãÁöÑÂØπË±°ÔºåËÄå‰∏ç‰ºö‰∏¢Â§±‰ªª‰Ωï‰ø°ÊÅØ„ÄÇ  Â¶ÇÊûúÊú™ÂêØÁî®ÂÖÉÊï∞ÊçÆÂÖ±‰∫´ÔºåÊñ∞Á±ªÊï∞ÊçÆÂ∞ÜË¢´Ë∑≥ËøáÔºåÂπ∂ËøîÂõû NonexistentSkipClass Â≠òÊ†πÂØπË±°„ÄÇ  ","version":"0.15","tagName":"h2"},{"title":"Â∞ÜÂØπË±°‰ªé‰∏ÄÁßçÁ±ªÂûãÂ§çÂà∂/Êò†Â∞ÑÂà∞Âè¶‰∏ÄÁßçÁ±ªÂûã‚Äã","type":1,"pageTitle":"Schema ÊºîÂåñ","url":"/zh-CN/docs/guide/java/schema_evolution#Â∞ÜÂØπË±°‰ªé‰∏ÄÁßçÁ±ªÂûãÂ§çÂà∂Êò†Â∞ÑÂà∞Âè¶‰∏ÄÁßçÁ±ªÂûã","content":" Fory ÊîØÊåÅÂ∞ÜÂØπË±°‰ªé‰∏ÄÁßçÁ±ªÂûãÊò†Â∞ÑÂà∞Âè¶‰∏ÄÁßçÁ±ªÂûã„ÄÇ  Ê≥®ÊÑèÔºö  Ê≠§Êò†Â∞ÑÂ∞ÜÊâßË°åÊ∑±Êã∑Ë¥ù„ÄÇÊâÄÊúâÊò†Â∞ÑÁöÑÂ≠óÊÆµÈÉΩË¢´Â∫èÂàóÂåñ‰∏∫‰∫åËøõÂà∂ÔºåÂπ∂‰ªéËØ•‰∫åËøõÂà∂ÂèçÂ∫èÂàóÂåñ‰ª•Êò†Â∞ÑÂà∞Âè¶‰∏ÄÁßçÁ±ªÂûã„ÄÇÊâÄÊúâÁªìÊûÑ‰ΩìÁ±ªÂûãÂøÖÈ°ª‰ΩøÁî®Áõ∏ÂêåÁöÑ ID Ê≥®ÂÜåÔºåÂê¶Âàô Fory Êó†Ê≥ïÊò†Â∞ÑÂà∞Ê≠£Á°ÆÁöÑÁªìÊûÑ‰ΩìÁ±ªÂûã„ÄÇ‰ΩøÁî® Fory#register(Class) Êó∂Ë¶ÅÂ∞èÂøÉÔºåÂõ†‰∏∫ Fory ‰ºöÂàÜÈÖç‰∏Ä‰∏™Ëá™Âä®Â¢ûÈïøÁöÑ IDÔºåÂ¶ÇÊûú‰Ω†Âú® Fory ÂÆû‰æã‰πãÈó¥‰ª•‰∏çÂêåÁöÑÈ°∫Â∫èÊ≥®ÂÜåÁ±ªÔºåËøôÂèØËÉΩ‰ºö‰∏ç‰∏ÄËá¥„ÄÇ  public class StructMappingExample { static class Struct1 { int f1; String f2; public Struct1(int f1, String f2) { this.f1 = f1; this.f2 = f2; } } static class Struct2 { int f1; String f2; double f3; } static ThreadSafeFory fory1 = Fory.builder() .withCompatibleMode(CompatibleMode.COMPATIBLE).buildThreadSafeFory(); static ThreadSafeFory fory2 = Fory.builder() .withCompatibleMode(CompatibleMode.COMPATIBLE).buildThreadSafeFory(); static { fory1.register(Struct1.class); fory2.register(Struct2.class); } public static void main(String[] args) { Struct1 struct1 = new Struct1(10, &quot;abc&quot;); Struct2 struct2 = (Struct2) fory2.deserialize(fory1.serialize(struct1)); Assert.assertEquals(struct2.f1, struct1.f1); Assert.assertEquals(struct2.f2, struct1.f2); struct1 = (Struct1) fory1.deserialize(fory2.serialize(struct2)); Assert.assertEquals(struct1.f1, struct2.f1); Assert.assertEquals(struct1.f2, struct2.f2); } }   ","version":"0.15","tagName":"h2"},{"title":"Â∞Ü POJO ÂèçÂ∫èÂàóÂåñ‰∏∫Âè¶‰∏ÄÁßçÁ±ªÂûã‚Äã","type":1,"pageTitle":"Schema ÊºîÂåñ","url":"/zh-CN/docs/guide/java/schema_evolution#Â∞Ü-pojo-ÂèçÂ∫èÂàóÂåñ‰∏∫Âè¶‰∏ÄÁßçÁ±ªÂûã","content":" Fory ÂÖÅËÆ∏‰Ω†Â∫èÂàóÂåñ‰∏Ä‰∏™ POJO Âπ∂Â∞ÜÂÖ∂ÂèçÂ∫èÂàóÂåñ‰∏∫Âè¶‰∏Ä‰∏™ POJO„ÄÇ‰∏çÂêåÁöÑ POJO ÊÑèÂë≥ÁùÄ schema ‰∏ç‰∏ÄËá¥„ÄÇÁî®Êà∑ÂøÖÈ°ªÂ∞Ü Fory ÈÖçÁΩÆ‰∏∫ CompatibleMode ËÆæÁΩÆ‰∏∫ org.apache.fory.config.CompatibleMode.COMPATIBLE„ÄÇ  public class DeserializeIntoType { static class Struct1 { int f1; String f2; public Struct1(int f1, String f2) { this.f1 = f1; this.f2 = f2; } } static class Struct2 { int f1; String f2; double f3; } static ThreadSafeFory fory = Fory.builder() .withCompatibleMode(CompatibleMode.COMPATIBLE).buildThreadSafeFory(); public static void main(String[] args) { Struct1 struct1 = new Struct1(10, &quot;abc&quot;); byte[] data = fory.serializeJavaObject(struct1); Struct2 struct2 = (Struct2) fory.deserializeJavaObject(bytes, Struct2.class); } }   ","version":"0.15","tagName":"h2"},{"title":"ÈÖçÁΩÆÈÄâÈ°π‚Äã","type":1,"pageTitle":"Schema ÊºîÂåñ","url":"/zh-CN/docs/guide/java/schema_evolution#ÈÖçÁΩÆÈÄâÈ°π","content":" ÈÄâÈ°π\tÊèèËø∞\tÈªòËÆ§ÂÄºcompatibleMode\tSCHEMA_CONSISTENT Êàñ COMPATIBLE\tSCHEMA_CONSISTENT checkClassVersion\tÊ£ÄÊü•Á±ª schema ‰∏ÄËá¥ÊÄß\tfalse metaShareEnabled\tÂêØÁî®ÂÖÉÊï∞ÊçÆÂÖ±‰∫´\tÂ¶ÇÊûúÊòØÂÖºÂÆπÊ®°ÂºèÂàô‰∏∫ true scopedMetaShareEnabled\tÊØèÊ¨°Â∫èÂàóÂåñÁöÑ‰ΩúÁî®ÂüüÂÖÉÊï∞ÊçÆÂÖ±‰∫´\tÂ¶ÇÊûúÊòØÂÖºÂÆπÊ®°ÂºèÂàô‰∏∫ true deserializeNonexistentClass\tÂ§ÑÁêÜ‰∏çÂ≠òÂú®ÁöÑÁ±ª\tÂ¶ÇÊûúÊòØÂÖºÂÆπÊ®°ÂºèÂàô‰∏∫ true metaCompressor\tÂÖÉÊï∞ÊçÆÂéãÁº©ÁöÑÂéãÁº©Âô®\tDeflaterMetaCompressor  ","version":"0.15","tagName":"h2"},{"title":"ÊúÄ‰Ω≥ÂÆûË∑µ‚Äã","type":1,"pageTitle":"Schema ÊºîÂåñ","url":"/zh-CN/docs/guide/java/schema_evolution#ÊúÄ‰Ω≥ÂÆûË∑µ","content":" ÂØπÊºîÂåñÁöÑ schema ‰ΩøÁî® COMPATIBLE Ê®°ÂºèÔºöÂΩìÁ±ªÂèØËÉΩÂú®ÁâàÊú¨‰πãÈó¥Êõ¥ÊîπÊó∂‰∏∫ÁΩëÁªúÈÄö‰ø°ÂêØÁî®ÂÖÉÊï∞ÊçÆÂÖ±‰∫´ÔºöÂáèÂ∞ëÈáçÂ§çÂ∫èÂàóÂåñÁöÑÂ∏¶ÂÆΩÂØπÁªìÊûÑ‰ΩìÊò†Â∞Ñ‰ΩøÁî®‰∏ÄËá¥ÁöÑÁ±ªÂûã IDÔºöÁ°Æ‰øùÁõ∏ÂêåÁöÑÊ≥®ÂÜåÈ°∫Â∫èÊàñÊòæÂºè IDËÄÉËôëÁ©∫Èó¥ÂºÄÈîÄÔºöÂÖºÂÆπÊ®°Âºè‰ºöÊ∑ªÂä†ÂÖÉÊï∞ÊçÆÔºåÊ†πÊçÆÈúÄÊ±ÇÂπ≥Ë°°  ","version":"0.15","tagName":"h2"},{"title":"Áõ∏ÂÖ≥‰∏ªÈ¢ò‚Äã","type":1,"pageTitle":"Schema ÊºîÂåñ","url":"/zh-CN/docs/guide/java/schema_evolution#Áõ∏ÂÖ≥‰∏ªÈ¢ò","content":" ÈÖçÁΩÆÈÄâÈ°π - ÊâÄÊúâ ForyBuilder ÈÄâÈ°πË∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ - XLANG Ê®°ÂºèÊïÖÈöúÊéíÈô§ - Â∏∏ËßÅ schema ÈóÆÈ¢ò ","version":"0.15","tagName":"h2"},{"title":"ÊïÖÈöúÊéíÈô§","type":0,"sectionRef":"#","url":"/zh-CN/docs/guide/java/troubleshooting","content":"","keywords":"","version":"0.15"},{"title":"Á±ª‰∏ç‰∏ÄËá¥ÂíåÁ±ªÁâàÊú¨Ê£ÄÊü•‚Äã","type":1,"pageTitle":"ÊïÖÈöúÊéíÈô§","url":"/zh-CN/docs/guide/java/troubleshooting#Á±ª‰∏ç‰∏ÄËá¥ÂíåÁ±ªÁâàÊú¨Ê£ÄÊü•","content":" Â¶ÇÊûú‰Ω†ÂàõÂª∫ Fory Êó∂Ê≤°ÊúâÂ∞Ü CompatibleMode ËÆæÁΩÆ‰∏∫ org.apache.fory.config.CompatibleMode.COMPATIBLEÔºåÂπ∂‰∏îÈÅáÂà∞Â•áÊÄ™ÁöÑÂ∫èÂàóÂåñÈîôËØØÔºåËøôÂèØËÉΩÊòØÁî±‰∫éÂ∫èÂàóÂåñÁ´ØÂíåÂèçÂ∫èÂàóÂåñÁ´Ø‰πãÈó¥ÁöÑÁ±ª‰∏ç‰∏ÄËá¥ÈÄ†ÊàêÁöÑ„ÄÇ  Âú®ËøôÁßçÊÉÖÂÜµ‰∏ãÔºå‰Ω†ÂèØ‰ª•Ë∞ÉÁî® ForyBuilder#withClassVersionCheck Êù•ÂàõÂª∫ Fory ‰ª•È™åËØÅÂÆÉ„ÄÇÂ¶ÇÊûúÂèçÂ∫èÂàóÂåñÊäõÂá∫ org.apache.fory.exception.ClassNotCompatibleExceptionÔºåÂàôË°®Á§∫Á±ª‰∏ç‰∏ÄËá¥Ôºå‰Ω†Â∫îËØ•‰ΩøÁî® ForyBuilder#withCompatibleMode(CompatibleMode.COMPATIBLE) ÂàõÂª∫ Fory„ÄÇ  // ÂêØÁî®Á±ªÁâàÊú¨Ê£ÄÊü•‰ª•ËØäÊñ≠ÈóÆÈ¢ò Fory fory = Fory.builder() .withLanguage(Language.JAVA) .withClassVersionCheck(true) .build(); // Â¶ÇÊûúÊäõÂá∫ ClassNotCompatibleExceptionÔºå‰ΩøÁî®ÂÖºÂÆπÊ®°Âºè Fory fory = Fory.builder() .withLanguage(Language.JAVA) .withCompatibleMode(CompatibleMode.COMPATIBLE) .build();   Ê≥®ÊÑèÔºöCompatibleMode.COMPATIBLE ÊúâÊõ¥Â§öÁöÑÊÄßËÉΩÂíåÁ©∫Èó¥ÊàêÊú¨„ÄÇÂ¶ÇÊûú‰Ω†ÁöÑÁ±ªÂú®Â∫èÂàóÂåñÂíåÂèçÂ∫èÂàóÂåñ‰πãÈó¥ÂßãÁªà‰∏ÄËá¥ÔºåËØ∑‰∏çË¶ÅÈªòËÆ§ËÆæÁΩÆÂÆÉ„ÄÇ  ","version":"0.15","tagName":"h2"},{"title":"‰ΩøÁî®ÈîôËØØÁöÑÂèçÂ∫èÂàóÂåñ API‚Äã","type":1,"pageTitle":"ÊïÖÈöúÊéíÈô§","url":"/zh-CN/docs/guide/java/troubleshooting#‰ΩøÁî®ÈîôËØØÁöÑÂèçÂ∫èÂàóÂåñ-api","content":" Á°Æ‰øù‰ΩøÁî®ÂåπÈÖçÁöÑ API ÂØπÔºö  Â∫èÂàóÂåñ API\tÂèçÂ∫èÂàóÂåñ APIFory#serialize\tFory#deserialize Fory#serializeJavaObject\tFory#deserializeJavaObject Fory#serializeJavaObjectAndClass\tFory#deserializeJavaObjectAndClass  ÈîôËØØ‰ΩøÁî®Á§∫‰æãÔºö  // ‚ùå ÈîôËØØÔºö‰ΩøÁî® serialize Â∫èÂàóÂåñÔºå‰ΩøÁî® deserializeJavaObject ÂèçÂ∫èÂàóÂåñ byte[] bytes = fory.serialize(object); Object result = fory.deserializeJavaObject(bytes, MyClass.class); // ÈîôËØØÔºÅ // ‚ùå ÈîôËØØÔºö‰ΩøÁî® serializeJavaObject Â∫èÂàóÂåñÔºå‰ΩøÁî® deserialize ÂèçÂ∫èÂàóÂåñ byte[] bytes = fory.serializeJavaObject(object); Object result = fory.deserialize(bytes); // ÈîôËØØÔºÅ   Ê≠£Á°Æ‰ΩøÁî®Ôºö  // ‚úÖ Ê≠£Á°ÆÔºöÂåπÈÖçÁöÑ API ÂØπ byte[] bytes = fory.serialize(object); Object result = fory.deserialize(bytes); byte[] bytes = fory.serializeJavaObject(object); MyClass result = fory.deserializeJavaObject(bytes, MyClass.class); byte[] bytes = fory.serializeJavaObjectAndClass(object); Object result = fory.deserializeJavaObjectAndClass(bytes);   ","version":"0.15","tagName":"h2"},{"title":"Â∞Ü POJO ÂèçÂ∫èÂàóÂåñ‰∏∫Âè¶‰∏ÄÁßçÁ±ªÂûã‚Äã","type":1,"pageTitle":"ÊïÖÈöúÊéíÈô§","url":"/zh-CN/docs/guide/java/troubleshooting#Â∞Ü-pojo-ÂèçÂ∫èÂàóÂåñ‰∏∫Âè¶‰∏ÄÁßçÁ±ªÂûã","content":" Â¶ÇÊûú‰Ω†ÊÉ≥Â∫èÂàóÂåñ‰∏Ä‰∏™ POJO Âπ∂Â∞ÜÂÖ∂ÂèçÂ∫èÂàóÂåñ‰∏∫Âè¶‰∏Ä‰∏™ POJO Á±ªÂûãÔºå‰Ω†ÂøÖÈ°ª‰ΩøÁî® CompatibleMode.COMPATIBLEÔºö  public class DeserializeIntoType { static class Struct1 { int f1; String f2; public Struct1(int f1, String f2) { this.f1 = f1; this.f2 = f2; } } static class Struct2 { int f1; String f2; double f3; } static ThreadSafeFory fory = Fory.builder() .withCompatibleMode(CompatibleMode.COMPATIBLE).buildThreadSafeFory(); public static void main(String[] args) { Struct1 struct1 = new Struct1(10, &quot;abc&quot;); byte[] data = fory.serializeJavaObject(struct1); Struct2 struct2 = (Struct2) fory.deserializeJavaObject(data, Struct2.class); } }   ","version":"0.15","tagName":"h2"},{"title":"Â∏∏ËßÅÈîôËØØÊ∂àÊÅØ‚Äã","type":1,"pageTitle":"ÊïÖÈöúÊéíÈô§","url":"/zh-CN/docs/guide/java/troubleshooting#Â∏∏ËßÅÈîôËØØÊ∂àÊÅØ","content":" ","version":"0.15","tagName":"h2"},{"title":"\"Class not registered\"‚Äã","type":1,"pageTitle":"ÊïÖÈöúÊéíÈô§","url":"/zh-CN/docs/guide/java/troubleshooting#class-not-registered","content":" ÂéüÂõ†ÔºöÈúÄË¶ÅÁ±ªÊ≥®ÂÜåÔºå‰ΩÜÁ±ªÊú™Ê≥®ÂÜå„ÄÇ  Ëß£ÂÜ≥ÊñπÊ°àÔºöÂú®Â∫èÂàóÂåñ‰πãÂâçÊ≥®ÂÜåÁ±ªÔºö  fory.register(MyClass.class); // Êàñ‰ΩøÁî®ÊòæÂºè ID fory.register(MyClass.class, 100);   ","version":"0.15","tagName":"h3"},{"title":"\"ClassNotCompatibleException\"‚Äã","type":1,"pageTitle":"ÊïÖÈöúÊéíÈô§","url":"/zh-CN/docs/guide/java/troubleshooting#classnotcompatibleexception","content":" ÂéüÂõ†ÔºöÂ∫èÂàóÂåñÂíåÂèçÂ∫èÂàóÂåñ‰πãÈó¥ÁöÑÁ±ª schema ‰∏çÂêå„ÄÇ  Ëß£ÂÜ≥ÊñπÊ°àÔºö‰ΩøÁî®ÂÖºÂÆπÊ®°ÂºèÔºö  Fory fory = Fory.builder() .withCompatibleMode(CompatibleMode.COMPATIBLE) .build();   ","version":"0.15","tagName":"h3"},{"title":"\"Max depth exceeded\"‚Äã","type":1,"pageTitle":"ÊïÖÈöúÊéíÈô§","url":"/zh-CN/docs/guide/java/troubleshooting#max-depth-exceeded","content":" ÂéüÂõ†ÔºöÂØπË±°ÂõæÂ§™Ê∑±ÔºåÂèØËÉΩË°®Á§∫Âæ™ÁéØÂºïÁî®ÊîªÂáª„ÄÇ  Ëß£ÂÜ≥ÊñπÊ°àÔºöÂ¶ÇÊûúÊòØÂêàÊ≥ïÁöÑÔºåÂ¢ûÂä†ÊúÄÂ§ßÊ∑±Â∫¶ÔºåÊàñÊ£ÄÊü•ÊÅ∂ÊÑèÊï∞ÊçÆÔºö  Fory fory = Fory.builder() .withMaxDepth(100) // ‰ªéÈªòËÆ§ÁöÑ 50 Â¢ûÂä† .build();   ","version":"0.15","tagName":"h3"},{"title":"\"Serializer not found\"‚Äã","type":1,"pageTitle":"ÊïÖÈöúÊéíÈô§","url":"/zh-CN/docs/guide/java/troubleshooting#serializer-not-found","content":" ÂéüÂõ†ÔºöÊú™‰∏∫ËØ•Á±ªÂûãÊ≥®ÂÜåÂ∫èÂàóÂåñÂô®„ÄÇ  Ëß£ÂÜ≥ÊñπÊ°àÔºöÊ≥®ÂÜåËá™ÂÆö‰πâÂ∫èÂàóÂåñÂô®Ôºö  fory.registerSerializer(MyClass.class, new MyClassSerializer(fory));   ","version":"0.15","tagName":"h3"},{"title":"ÊÄßËÉΩÈóÆÈ¢ò‚Äã","type":1,"pageTitle":"ÊïÖÈöúÊéíÈô§","url":"/zh-CN/docs/guide/java/troubleshooting#ÊÄßËÉΩÈóÆÈ¢ò","content":" ","version":"0.15","tagName":"h2"},{"title":"ÂàùÂßãÂ∫èÂàóÂåñÊÖ¢‚Äã","type":1,"pageTitle":"ÊïÖÈöúÊéíÈô§","url":"/zh-CN/docs/guide/java/troubleshooting#ÂàùÂßãÂ∫èÂàóÂåñÊÖ¢","content":" ÂéüÂõ†ÔºöJIT ÁºñËØëÂú®Á¨¨‰∏ÄÊ¨°Â∫èÂàóÂåñÊó∂ÂèëÁîü„ÄÇ  Ëß£ÂÜ≥ÊñπÊ°àÔºöÂêØÁî®ÂºÇÊ≠•ÁºñËØëÔºö  Fory fory = Fory.builder() .withAsyncCompilation(true) .build();   ","version":"0.15","tagName":"h3"},{"title":"ÂÜÖÂ≠ò‰ΩøÁî®È´ò‚Äã","type":1,"pageTitle":"ÊïÖÈöúÊéíÈô§","url":"/zh-CN/docs/guide/java/troubleshooting#ÂÜÖÂ≠ò‰ΩøÁî®È´ò","content":" ÂéüÂõ†ÔºöÂ§ßÂØπË±°ÂõæÊàñÂºïÁî®Ë∑üË∏™ÂºÄÈîÄ„ÄÇ  Ëß£ÂÜ≥ÊñπÊ°àÔºö  Â¶ÇÊûú‰∏çÈúÄË¶ÅÔºåÁ¶ÅÁî®ÂºïÁî®Ë∑üË∏™Ôºö.withRefTracking(false)‰ΩøÁî®Ëá™ÂÆö‰πâÂÜÖÂ≠òÂàÜÈÖçÂô®ËøõË°åÊ±†ÂåñËÄÉËôëÂØπÂ§ßÊï∞ÊçÆÈõÜ‰ΩøÁî®Ë°åÊ†ºÂºè  ","version":"0.15","tagName":"h3"},{"title":"Â∫èÂàóÂåñÂ§ßÂ∞èÂ§ß‚Äã","type":1,"pageTitle":"ÊïÖÈöúÊéíÈô§","url":"/zh-CN/docs/guide/java/troubleshooting#Â∫èÂàóÂåñÂ§ßÂ∞èÂ§ß","content":" ÂéüÂõ†ÔºöÂÖÉÊï∞ÊçÆÂºÄÈîÄÊàñÊú™ÂéãÁº©ÁöÑÊï∞ÊçÆ„ÄÇ  Ëß£ÂÜ≥ÊñπÊ°àÔºö  ÂêØÁî®ÂéãÁº©Ôºö.withIntCompressed(true)„ÄÅ.withLongCompressed(true)‰ªÖÂú®ÈúÄË¶ÅÊó∂‰ΩøÁî®ÂÖºÂÆπÊ®°ÂºèÊ≥®ÂÜåÁ±ª‰ª•ÈÅøÂÖçÁ±ªÂêçÂ∫èÂàóÂåñ  ","version":"0.15","tagName":"h3"},{"title":"Ë∞ÉËØïÊäÄÂ∑ß‚Äã","type":1,"pageTitle":"ÊïÖÈöúÊéíÈô§","url":"/zh-CN/docs/guide/java/troubleshooting#Ë∞ÉËØïÊäÄÂ∑ß","content":" ÂêØÁî®Á±ªÁâàÊú¨Ê£ÄÊü•‰ª•ËØäÊñ≠ schema ÈóÆÈ¢òÊ£ÄÊü• API ÈÖçÂØπ - Á°Æ‰øùÂ∫èÂàóÂåñ/ÂèçÂ∫èÂàóÂåñ API ÂåπÈÖçÈ™åËØÅÊ≥®ÂÜåÈ°∫Â∫è - ÂøÖÈ°ªÂú®ÂêÑÁ´Ø‰πãÈó¥‰øùÊåÅ‰∏ÄËá¥ÂêØÁî®Êó•ÂøóËÆ∞ÂΩï‰ª•Êü•ÁúãÂÜÖÈÉ®Êìç‰ΩúÔºö  LoggerFactory.setLogLevel(LogLevel.DEBUG_LEVEL);   ","version":"0.15","tagName":"h2"},{"title":"Áõ∏ÂÖ≥‰∏ªÈ¢ò‚Äã","type":1,"pageTitle":"ÊïÖÈöúÊéíÈô§","url":"/zh-CN/docs/guide/java/troubleshooting#Áõ∏ÂÖ≥‰∏ªÈ¢ò","content":" ÈÖçÁΩÆÈÄâÈ°π - ÊâÄÊúâ ForyBuilder ÈÄâÈ°πSchema ÊºîÂåñ - ÂÖºÂÆπÊ®°ÂºèËØ¶ÊÉÖÁ±ªÂûãÊ≥®ÂÜå - Ê≥®ÂÜåÊúÄ‰Ω≥ÂÆûË∑µËøÅÁßªÊåáÂçó - ÂçáÁ∫ß Fory ÁâàÊú¨ ","version":"0.15","tagName":"h2"},{"title":"Á±ªÂûãÊ≥®ÂÜå‰∏éÂÆâÂÖ®","type":0,"sectionRef":"#","url":"/zh-CN/docs/guide/java/type_registration","content":"","keywords":"","version":"0.15"},{"title":"Á±ªÊ≥®ÂÜå‚Äã","type":1,"pageTitle":"Á±ªÂûãÊ≥®ÂÜå‰∏éÂÆâÂÖ®","url":"/zh-CN/docs/guide/java/type_registration#Á±ªÊ≥®ÂÜå","content":" ForyBuilder#requireClassRegistration ÂèØÁî®‰∫éÁ¶ÅÁî®Á±ªÊ≥®ÂÜå„ÄÇËøôÂ∞ÜÂÖÅËÆ∏ÂèçÂ∫èÂàóÂåñÊú™Áü•Á±ªÂûãÁöÑÂØπË±°ÔºåËøôÊõ¥ÁÅµÊ¥ª‰ΩÜÂ¶ÇÊûúÁ±ªÂåÖÂê´ÊÅ∂ÊÑè‰ª£Á†ÅÂèØËÉΩ‰∏çÂÆâÂÖ®„ÄÇ  Èô§Èùû‰Ω†ËÉΩÁ°Æ‰øùÁéØÂ¢ÉÊòØÂÆâÂÖ®ÁöÑÔºåÂê¶Âàô‰∏çË¶ÅÁ¶ÅÁî®Á±ªÊ≥®ÂÜå„ÄÇÂΩìÁ¶ÅÁî®Ê≠§ÈÄâÈ°πÊó∂ÔºåÂèçÂ∫èÂàóÂåñÊú™Áü•/‰∏çÂèó‰ø°‰ªªÁöÑÁ±ªÂûãÊó∂Ôºåinit/equals/hashCode ‰∏≠ÁöÑÊÅ∂ÊÑè‰ª£Á†ÅÂèØËÉΩ‰ºöË¢´ÊâßË°å„ÄÇ  Á±ªÊ≥®ÂÜå‰∏ç‰ªÖÂèØ‰ª•Èôç‰ΩéÂÆâÂÖ®È£éÈô©ÔºåËøòÂèØ‰ª•ÈÅøÂÖçÁ±ªÂêçÂ∫èÂàóÂåñÊàêÊú¨„ÄÇ  ","version":"0.15","tagName":"h2"},{"title":"Êåâ ID Ê≥®ÂÜå‚Äã","type":1,"pageTitle":"Á±ªÂûãÊ≥®ÂÜå‰∏éÂÆâÂÖ®","url":"/zh-CN/docs/guide/java/type_registration#Êåâ-id-Ê≥®ÂÜå","content":" ‰Ω†ÂèØ‰ª•‰ΩøÁî® API Fory#register Ê≥®ÂÜåÁ±ªÔºö  Fory fory = xxx; fory.register(SomeClass.class); fory.register(SomeClass1.class, 1);   Ê≥®ÊÑèÔºåÁ±ªÊ≥®ÂÜåÈ°∫Â∫èÂæàÈáçË¶Å„ÄÇÂ∫èÂàóÂåñÂíåÂèçÂ∫èÂàóÂåñÁ´ØÂ∫îËØ•ÂÖ∑ÊúâÁõ∏ÂêåÁöÑÊ≥®ÂÜåÈ°∫Â∫è„ÄÇ  ","version":"0.15","tagName":"h3"},{"title":"ÊåâÂêçÁß∞Ê≥®ÂÜå‚Äã","type":1,"pageTitle":"Á±ªÂûãÊ≥®ÂÜå‰∏éÂÆâÂÖ®","url":"/zh-CN/docs/guide/java/type_registration#ÊåâÂêçÁß∞Ê≥®ÂÜå","content":" Êåâ ID Ê≥®ÂÜåÁ±ª‰ºöÊúâÊõ¥Â•ΩÁöÑÊÄßËÉΩÂíåÊõ¥Â∞èÁöÑÁ©∫Èó¥ÂºÄÈîÄ„ÄÇ‰ΩÜÂú®Êüê‰∫õÊÉÖÂÜµ‰∏ãÔºåÁÆ°ÁêÜ‰∏ÄÂ†ÜÁ±ªÂûã ID ÂæàÂ§çÊùÇ„ÄÇÂú®ËøôÁßçÊÉÖÂÜµ‰∏ãÔºåÂª∫ËÆÆ‰ΩøÁî® API register(Class&lt;?&gt; cls, String namespace, String typeName) ÊåâÂêçÁß∞Ê≥®ÂÜåÁ±ªÔºö  fory.register(Foo.class, &quot;demo&quot;, &quot;Foo&quot;);   Â¶ÇÊûúÁ±ªÂûãÊ≤°ÊúâÈáçÂ§çÁöÑÂêçÁß∞Ôºånamespace ÂèØ‰ª•ÁïôÁ©∫‰ª•ÂáèÂ∞ëÂ∫èÂàóÂåñÂ§ßÂ∞è„ÄÇ  ‰∏çË¶Å‰ΩøÁî®Ê≠§ API Ê≥®ÂÜåÁ±ªÔºåÂõ†‰∏∫‰∏éÊåâ ID Ê≥®ÂÜåÁ±ªÁõ∏ÊØîÔºåÂÆÉ‰ºöÂ§ßÂ§ßÂ¢ûÂä†Â∫èÂàóÂåñÂ§ßÂ∞è„ÄÇ  ","version":"0.15","tagName":"h3"},{"title":"ÂÆâÂÖ®ÈÖçÁΩÆ‚Äã","type":1,"pageTitle":"Á±ªÂûãÊ≥®ÂÜå‰∏éÂÆâÂÖ®","url":"/zh-CN/docs/guide/java/type_registration#ÂÆâÂÖ®ÈÖçÁΩÆ","content":" ","version":"0.15","tagName":"h2"},{"title":"Á±ªÊ£ÄÊü•Âô®‚Äã","type":1,"pageTitle":"Á±ªÂûãÊ≥®ÂÜå‰∏éÂÆâÂÖ®","url":"/zh-CN/docs/guide/java/type_registration#Á±ªÊ£ÄÊü•Âô®","content":" Â¶ÇÊûú‰Ω†Ë∞ÉÁî® ForyBuilder#requireClassRegistration(false) Êù•Á¶ÅÁî®Á±ªÊ≥®ÂÜåÊ£ÄÊü•Ôºå‰Ω†ÂèØ‰ª•ÈÄöËøá ClassResolver#setClassChecker ËÆæÁΩÆ org.apache.fory.resolver.ClassChecker Êù•ÊéßÂà∂Âì™‰∫õÁ±ªÂÖÅËÆ∏Â∫èÂàóÂåñ„ÄÇ  ‰æãÂ¶ÇÔºå‰Ω†ÂèØ‰ª•ÂÖÅËÆ∏‰ª• org.example.* ÂºÄÂ§¥ÁöÑÁ±ªÔºö  Fory fory = xxx; fory.getClassResolver().setClassChecker( (classResolver, className) -&gt; className.startsWith(&quot;org.example.&quot;));   ","version":"0.15","tagName":"h3"},{"title":"AllowListChecker‚Äã","type":1,"pageTitle":"Á±ªÂûãÊ≥®ÂÜå‰∏éÂÆâÂÖ®","url":"/zh-CN/docs/guide/java/type_registration#allowlistchecker","content":" Fory Êèê‰æõ‰∫Ü org.apache.fory.resolver.AllowListCheckerÔºåËøôÊòØ‰∏Ä‰∏™Âü∫‰∫éÂÖÅËÆ∏/Á¶ÅÊ≠¢ÂàóË°®ÁöÑÊ£ÄÊü•Âô®ÔºåÁî®‰∫éÁÆÄÂåñÁ±ªÊ£ÄÊü•Êú∫Âà∂ÁöÑËá™ÂÆö‰πâÔºö  AllowListChecker checker = new AllowListChecker(AllowListChecker.CheckLevel.STRICT); ThreadSafeFory fory = new ThreadLocalFory(classLoader -&gt; { Fory f = Fory.builder().requireClassRegistration(true).withClassLoader(classLoader).build(); f.getClassResolver().setClassChecker(checker); checker.addListener(f.getClassResolver()); return f; }); checker.allowClass(&quot;org.example.*&quot;);   ‰Ω†ÂèØ‰ª•‰ΩøÁî®Ê≠§Ê£ÄÊü•Âô®ÊàñËá™Â∑±ÂÆûÁé∞Êõ¥Â§çÊùÇÁöÑÊ£ÄÊü•Âô®„ÄÇ  ","version":"0.15","tagName":"h3"},{"title":"ÈôêÂà∂ÊúÄÂ§ßÂèçÂ∫èÂàóÂåñÊ∑±Â∫¶‚Äã","type":1,"pageTitle":"Á±ªÂûãÊ≥®ÂÜå‰∏éÂÆâÂÖ®","url":"/zh-CN/docs/guide/java/type_registration#ÈôêÂà∂ÊúÄÂ§ßÂèçÂ∫èÂàóÂåñÊ∑±Â∫¶","content":" Fory Êèê‰æõ ForyBuilder#withMaxDepth Êù•ÈôêÂà∂ÊúÄÂ§ßÂèçÂ∫èÂàóÂåñÊ∑±Â∫¶„ÄÇÈªòËÆ§ÊúÄÂ§ßÊ∑±Â∫¶‰∏∫ 50„ÄÇ  Â¶ÇÊûúËææÂà∞ÊúÄÂ§ßÊ∑±Â∫¶ÔºåFory Â∞ÜÊäõÂá∫ ForyException„ÄÇËøôÂèØÁî®‰∫éÈò≤Ê≠¢ÊÅ∂ÊÑèÊï∞ÊçÆÂØºËá¥Â†ÜÊ†àÊ∫¢Âá∫ÊàñÂÖ∂‰ªñÈóÆÈ¢ò„ÄÇ  Fory fory = Fory.builder() .withLanguage(Language.JAVA) .withMaxDepth(100) // ËÆæÁΩÆËá™ÂÆö‰πâÊúÄÂ§ßÊ∑±Â∫¶ .build();   ","version":"0.15","tagName":"h2"},{"title":"ÊúÄ‰Ω≥ÂÆûË∑µ‚Äã","type":1,"pageTitle":"Á±ªÂûãÊ≥®ÂÜå‰∏éÂÆâÂÖ®","url":"/zh-CN/docs/guide/java/type_registration#ÊúÄ‰Ω≥ÂÆûË∑µ","content":" Âú®Áîü‰∫ßÁéØÂ¢É‰∏≠ÂßãÁªàÂêØÁî®Á±ªÊ≥®ÂÜåÔºö‰ΩøÁî® requireClassRegistration(true)‰ΩøÁî®Âü∫‰∫é ID ÁöÑÊ≥®ÂÜå‰ª•Ëé∑ÂæóÊÄßËÉΩÔºöÊï∞Â≠ó ID ÊØîÂ≠óÁ¨¶‰∏≤ÂêçÁß∞Êõ¥Âø´‰øùÊåÅ‰∏ÄËá¥ÁöÑÊ≥®ÂÜåÈ°∫Â∫èÔºöÂ∫èÂàóÂåñÂíåÂèçÂ∫èÂàóÂåñÁ´ØÁöÑÈ°∫Â∫èÁõ∏ÂêåËÆæÁΩÆÈÄÇÂΩìÁöÑÊúÄÂ§ßÊ∑±Â∫¶ÔºöÈò≤Ê≠¢Â†ÜÊ†àÊ∫¢Âá∫ÊîªÂáª‰ΩøÁî® AllowListChecker ËøõË°åÁªÜÁ≤íÂ∫¶ÊéßÂà∂ÔºöÂΩì‰Ω†ÈúÄË¶ÅÁÅµÊ¥ªÁöÑÁ±ªËøáÊª§Êó∂  ","version":"0.15","tagName":"h2"},{"title":"Áõ∏ÂÖ≥‰∏ªÈ¢ò‚Äã","type":1,"pageTitle":"Á±ªÂûãÊ≥®ÂÜå‰∏éÂÆâÂÖ®","url":"/zh-CN/docs/guide/java/type_registration#Áõ∏ÂÖ≥‰∏ªÈ¢ò","content":" ÈÖçÁΩÆÈÄâÈ°π - ForyBuilder ÂÆâÂÖ®ÈÄâÈ°πËá™ÂÆö‰πâÂ∫èÂàóÂåñÂô® - Ê≥®ÂÜåËá™ÂÆö‰πâÂ∫èÂàóÂåñÂô®ÊïÖÈöúÊéíÈô§ - Â∏∏ËßÅÊ≥®ÂÜåÈóÆÈ¢ò ","version":"0.15","tagName":"h2"},{"title":"Â≠óÊÆµÈÖçÁΩÆ","type":0,"sectionRef":"#","url":"/zh-CN/docs/guide/java/field_configuration","content":"","keywords":"","version":"0.15"},{"title":"Ê¶ÇËø∞‚Äã","type":1,"pageTitle":"Â≠óÊÆµÈÖçÁΩÆ","url":"/zh-CN/docs/guide/java/field_configuration#Ê¶ÇËø∞","content":" Apache ForyTM ÈÄöËøáÊ≥®Ëß£Êèê‰æõÂ≠óÊÆµÁ∫ßÈÖçÁΩÆÔºö  @ForyFieldÔºöÈÖçÁΩÆÂ≠óÊÆµÂÖÉ‰ø°ÊÅØÔºàid„ÄÅnullable„ÄÅref„ÄÅdynamicÔºâ@IgnoreÔºöÂ∞ÜÂ≠óÊÆµÊéíÈô§Âú®Â∫èÂàóÂåñ‰πãÂ§ñÊï¥Êï∞Á±ªÂûãÊ≥®Ëß£ÔºöÊéßÂà∂Êï¥Êï∞ÁºñÁ†ÅÊñπÂºèÔºàvarint„ÄÅfixed„ÄÅtagged„ÄÅunsignedÔºâ  Ëøô‰∫õËÉΩÂäõÂèØÁî®‰∫éÔºö  Tag IDÔºö‰∏∫ÂÖºÂÆπÊ®°ÂºèÂàÜÈÖçÁ¥ßÂáëÊï∞ÂÄº IDÔºåÈôç‰Ωé struct Â≠óÊÆµÂÖÉ‰ø°ÊÅØÂºÄÈîÄÂèØÁ©∫ÊéßÂà∂ÔºöÂ£∞ÊòéÂ≠óÊÆµÊòØÂê¶ÂÖÅËÆ∏‰∏∫ nullÂºïÁî®Ë∑üË∏™Ôºö‰∏∫ÂÖ±‰∫´ÂØπË±°ÂºÄÂêØÂºïÁî®Ë∑üË∏™Â≠óÊÆµË∑≥ËøáÔºöÊòæÂºèÊéíÈô§‰∏çÈúÄË¶ÅÂ∫èÂàóÂåñÁöÑÂ≠óÊÆµÁºñÁ†ÅÊéßÂà∂ÔºöÊåáÂÆöÊï¥Êï∞Â∫èÂàóÂåñÁºñÁ†ÅÁ≠ñÁï•Â§öÊÄÅÊéßÂà∂ÔºöÊéßÂà∂ struct Â≠óÊÆµÊòØÂê¶ÂÜôÂÖ•ËøêË°åÊó∂Á±ªÂûã‰ø°ÊÅØ  ","version":"0.15","tagName":"h2"},{"title":"Âü∫Êú¨ËØ≠Ê≥ï‚Äã","type":1,"pageTitle":"Â≠óÊÆµÈÖçÁΩÆ","url":"/zh-CN/docs/guide/java/field_configuration#Âü∫Êú¨ËØ≠Ê≥ï","content":" Âú®Â≠óÊÆµ‰∏ä‰ΩøÁî®Ê≥®Ëß£Ôºö  import org.apache.fory.annotation.ForyField; public class Person { @ForyField(id = 0) private String name; @ForyField(id = 1) private int age; @ForyField(id = 2, nullable = true) private String nickname; }   ","version":"0.15","tagName":"h2"},{"title":"@ForyField Ê≥®Ëß£‚Äã","type":1,"pageTitle":"Â≠óÊÆµÈÖçÁΩÆ","url":"/zh-CN/docs/guide/java/field_configuration#foryfield-Ê≥®Ëß£","content":" ‰ΩøÁî® @ForyField ÈÖçÁΩÆÂ≠óÊÆµÁ∫ßÂÖÉ‰ø°ÊÅØÔºö  public class User { @ForyField(id = 0) private long id; @ForyField(id = 1) private String name; @ForyField(id = 2, nullable = true) private String email; @ForyField(id = 3, ref = true) private List&lt;User&gt; friends; @ForyField(id = 4, dynamic = ForyField.Dynamic.TRUE) private Object data; }   ","version":"0.15","tagName":"h2"},{"title":"ÂèÇÊï∞‚Äã","type":1,"pageTitle":"Â≠óÊÆµÈÖçÁΩÆ","url":"/zh-CN/docs/guide/java/field_configuration#ÂèÇÊï∞","content":" ÂèÇÊï∞\tÁ±ªÂûã\tÈªòËÆ§ÂÄº\tËØ¥Êòéid\tint\t-1\tÂ≠óÊÆµ tag IDÔºà-1 Ë°®Á§∫‰ΩøÁî®Â≠óÊÆµÂêçÁºñÁ†ÅÔºâ nullable\tboolean\tfalse\tÂ≠óÊÆµÊòØÂê¶ÂèØ‰∏∫ null ref\tboolean\tfalse\tÊòØÂê¶ÂºÄÂêØÂºïÁî®Ë∑üË∏™ dynamic\tDynamic\tAUTO\tÊéßÂà∂ struct Â≠óÊÆµÂ§öÊÄÅË°å‰∏∫  ","version":"0.15","tagName":"h3"},{"title":"Â≠óÊÆµ IDÔºàidÔºâ‚Äã","type":1,"pageTitle":"Â≠óÊÆµÈÖçÁΩÆ","url":"/zh-CN/docs/guide/java/field_configuration#Â≠óÊÆµ-idid","content":" ÈÄöËøá‰∏∫Â≠óÊÆµÂàÜÈÖçÊï∞ÂÄº IDÔºåÂèØÈôç‰ΩéÂÖºÂÆπÊ®°Âºè‰∏ã struct Â≠óÊÆµÂÖÉ‰ø°ÊÅØÂºÄÈîÄÔºö  public class User { @ForyField(id = 0) private long id; @ForyField(id = 1) private String name; @ForyField(id = 2) private int age; }   Êî∂ÁõäÔºö  Â∫èÂàóÂåñ‰ΩìÁßØÊõ¥Â∞èÔºàÂÖÉ‰ø°ÊÅØÈáåÁî®Êï∞ÂÄº ID ËÄå‰∏çÊòØÂ≠óÊÆµÂêçÔºâstruct Â≠óÊÆµÂÖÉ‰ø°ÊÅØÂºÄÈîÄÊõ¥‰ΩéÂèØÂú®‰∏çÁ†¥Âùè‰∫åËøõÂà∂ÂÖºÂÆπÊÄßÁöÑÂâçÊèê‰∏ãÈáçÂëΩÂêçÂ≠óÊÆµ  Âª∫ËÆÆÔºö ÂÖºÂÆπÊ®°Âºè‰∏ãÂª∫ËÆÆÈÖçÁΩÆÂ≠óÊÆµ IDÔºå‰ª•Èôç‰ΩéÂ∫èÂàóÂåñÊàêÊú¨„ÄÇ  Ê≥®ÊÑèÔºö  Âêå‰∏Ä‰∏™Á±ªÂÜÖ ID ÂøÖÈ°ªÂîØ‰∏ÄID ÂøÖÈ°ª &gt;= 0Ôºà-1 Ë°®Á§∫‰ΩøÁî®Â≠óÊÆµÂêçÁºñÁ†ÅÔºå‰πüÊòØÈªòËÆ§Ë°å‰∏∫ÔºâÊú™ÊåáÂÆöÊó∂ÔºåÂÖÉ‰ø°ÊÅØÂ∞ÜÂÜôÂ≠óÊÆµÂêçÔºàÂºÄÈîÄÊõ¥Â§ßÔºâ  ‰∏çÈÖçÁΩÆÂ≠óÊÆµ IDÔºàÂÖÉ‰ø°ÊÅØ‰ΩøÁî®Â≠óÊÆµÂêçÔºâÁ§∫‰æãÔºö  public class User { private long id; private String name; }   ","version":"0.15","tagName":"h2"},{"title":"ÂèØÁ©∫Â≠óÊÆµÔºànullableÔºâ‚Äã","type":1,"pageTitle":"Â≠óÊÆµÈÖçÁΩÆ","url":"/zh-CN/docs/guide/java/field_configuration#ÂèØÁ©∫Â≠óÊÆµnullable","content":" ÂØπÂèØËÉΩ‰∏∫ null ÁöÑÂ≠óÊÆµ‰ΩøÁî® nullable = trueÔºö  public class Record { // ÂèØÁ©∫Â≠óÁ¨¶‰∏≤Â≠óÊÆµ @ForyField(id = 0, nullable = true) private String optionalName; // ÂèØÁ©∫ Integer Â≠óÊÆµÔºàË£ÖÁÆ±Á±ªÂûãÔºâ @ForyField(id = 1, nullable = true) private Integer optionalCount; // ÈùûÂèØÁ©∫Â≠óÊÆµÔºàÈªòËÆ§Ôºâ @ForyField(id = 2) private String requiredName; }   Ê≥®ÊÑèÔºö  ÈªòËÆ§ÊòØ nullable = falseÔºà‰∏çÂèØÁ©∫Ôºânullable = false Êó∂ÔºåFory ‰ºöÁúÅÁï• null Ê†áËÆ∞ÂÜôÂÖ•ÔºàËäÇÁúÅ 1 Â≠óËäÇÔºâÂèØËÉΩ‰∏∫ null ÁöÑË£ÖÁÆ±Á±ªÂûãÔºàInteger„ÄÅLong Á≠âÔºâÂª∫ËÆÆÊòæÂºèËÆæ‰∏∫ nullable = true  ","version":"0.15","tagName":"h2"},{"title":"ÂºïÁî®Ë∑üË∏™ÔºàrefÔºâ‚Äã","type":1,"pageTitle":"Â≠óÊÆµÈÖçÁΩÆ","url":"/zh-CN/docs/guide/java/field_configuration#ÂºïÁî®Ë∑üË∏™ref","content":" ÂØπ‰∫éÂèØËÉΩÂÖ±‰∫´ÊàñÂæ™ÁéØÂºïÁî®ÁöÑÂ≠óÊÆµÔºåÂêØÁî®ÂºïÁî®Ë∑üË∏™Ôºö  public class RefOuter { // ‰∏§‰∏™Â≠óÊÆµÂèØËÉΩÊåáÂêëÂêå‰∏Ä‰∏™ÂÜÖÈÉ®ÂØπË±° @ForyField(id = 0, ref = true, nullable = true) private RefInner inner1; @ForyField(id = 1, ref = true, nullable = true) private RefInner inner2; } public class CircularRef { @ForyField(id = 0) private String name; // Ëá™ÂºïÁî®Â≠óÊÆµÔºåÁî®‰∫éÂæ™ÁéØÂºïÁî® @ForyField(id = 1, ref = true, nullable = true) private CircularRef selfRef; }   ÈÄÇÁî®Âú∫ÊôØÔºö  Â≠óÊÆµÂèØËÉΩÂΩ¢ÊàêÂæ™ÁéØÊàñÂÖ±‰∫´ÂÖ≥Á≥ªÂêå‰∏ÄÂØπË±°Ë¢´Â§ö‰∏™Â≠óÊÆµÂºïÁî®  Ê≥®ÊÑèÔºö  ÈªòËÆ§ÊòØ ref = falseÔºà‰∏çË∑üË∏™ÂºïÁî®Ôºâref = false ÂèØÈÅøÂÖç IdentityMap ÂºÄÈîÄÔºå‰πü‰ºöË∑≥ËøáÂºïÁî®Ë∑üË∏™Ê†áËÆ∞‰ªÖÂú®ÂÖ®Â±ÄÂêØÁî® ref tracking Êó∂ÔºåÂ≠óÊÆµÁ∫ß ref ÊâçÁîüÊïà  ","version":"0.15","tagName":"h2"},{"title":"DynamicÔºàÂ§öÊÄÅÊéßÂà∂Ôºâ‚Äã","type":1,"pageTitle":"Â≠óÊÆµÈÖçÁΩÆ","url":"/zh-CN/docs/guide/java/field_configuration#dynamicÂ§öÊÄÅÊéßÂà∂","content":" ÊéßÂà∂Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñÊó∂ struct Â≠óÊÆµÁöÑÂ§öÊÄÅË°å‰∏∫Ôºö  public class Container { // AUTOÔºöÊé•Âè£/ÊäΩË±°Á±ªÂûãÂä®ÊÄÅÔºåÂÖ∑‰ΩìÁ±ªÂûãÈùûÂä®ÊÄÅ @ForyField(id = 0, dynamic = ForyField.Dynamic.AUTO) private Animal animal; // Êé•Âè£Á±ªÂûãÔºåÂÜôÂÖ•Á±ªÂûã‰ø°ÊÅØ // FALSEÔºö‰∏çÂÜôÁ±ªÂûã‰ø°ÊÅØÔºåÁõ¥Êé•ÊåâÂ£∞ÊòéÁ±ªÂûãÂ∫èÂàóÂåñ @ForyField(id = 1, dynamic = ForyField.Dynamic.FALSE) private Dog dog; // ÂÖ∑‰ΩìÁ±ªÂûãÔºå‰∏çÂÜôÁ±ªÂûã‰ø°ÊÅØ // TRUEÔºöÂÜôÁ±ªÂûã‰ø°ÊÅØÔºåÊîØÊåÅËøêË°åÊó∂Â≠êÁ±ªÂûã @ForyField(id = 2, dynamic = ForyField.Dynamic.TRUE) private Object data; // Âº∫Âà∂Â§öÊÄÅ }   ÂèñÂÄºÔºö  ÂÄº\tËØ¥ÊòéAUTO\tËá™Âä®Âà§Êñ≠ÔºöÊé•Âè£/ÊäΩË±°Á±ªÂûãÂä®ÊÄÅÔºåÂÖ∑‰ΩìÁ±ªÂûãÈùûÂä®ÊÄÅ FALSE\t‰∏çÂÜôÁ±ªÂûã‰ø°ÊÅØÔºåÁõ¥Êé•‰ΩøÁî®Â£∞ÊòéÁ±ªÂûãÁöÑÂ∫èÂàóÂåñÂô® TRUE\tÂÜôÂÖ•Á±ªÂûã‰ø°ÊÅØÔºå‰ª•ÊîØÊåÅËøêË°åÊó∂Â≠êÁ±ªÂûã  ","version":"0.15","tagName":"h2"},{"title":"Ë∑≥ËøáÂ≠óÊÆµ‚Äã","type":1,"pageTitle":"Â≠óÊÆµÈÖçÁΩÆ","url":"/zh-CN/docs/guide/java/field_configuration#Ë∑≥ËøáÂ≠óÊÆµ","content":" ","version":"0.15","tagName":"h2"},{"title":"‰ΩøÁî® @Ignore‚Äã","type":1,"pageTitle":"Â≠óÊÆµÈÖçÁΩÆ","url":"/zh-CN/docs/guide/java/field_configuration#‰ΩøÁî®-ignore","content":" Â∞ÜÂ≠óÊÆµÊéíÈô§Âú®Â∫èÂàóÂåñ‰πãÂ§ñÔºö  import org.apache.fory.annotation.Ignore; public class User { @ForyField(id = 0) private long id; @ForyField(id = 1) private String name; @Ignore private String password; // ‰∏çÂ∫èÂàóÂåñ @Ignore private Object internalState; // ‰∏çÂ∫èÂàóÂåñ }   ","version":"0.15","tagName":"h3"},{"title":"‰ΩøÁî® transient‚Äã","type":1,"pageTitle":"Â≠óÊÆµÈÖçÁΩÆ","url":"/zh-CN/docs/guide/java/field_configuration#‰ΩøÁî®-transient","content":" Java ÁöÑ transient ÂÖ≥ÈîÆÂ≠óÂêåÊ†∑‰ºöÊéíÈô§Â≠óÊÆµÔºö  public class User { @ForyField(id = 0) private long id; private transient String password; // ‰∏çÂ∫èÂàóÂåñ private transient Object cache; // ‰∏çÂ∫èÂàóÂåñ }   ","version":"0.15","tagName":"h3"},{"title":"Êï¥Êï∞Á±ªÂûãÊ≥®Ëß£‚Äã","type":1,"pageTitle":"Â≠óÊÆµÈÖçÁΩÆ","url":"/zh-CN/docs/guide/java/field_configuration#Êï¥Êï∞Á±ªÂûãÊ≥®Ëß£","content":" Fory Êèê‰æõÊï¥Êï∞Ê≥®Ëß£ÔºåÁî®‰∫éÂú®Ë∑®ËØ≠Ë®ÄÂú∫ÊôØ‰∏≠ÊéßÂà∂ÁºñÁ†ÅÊñπÂºè„ÄÇ  ","version":"0.15","tagName":"h2"},{"title":"ÊúâÁ¨¶Âè∑ 32 ‰ΩçÊï¥Êï∞Ôºà@Int32TypeÔºâ‚Äã","type":1,"pageTitle":"Â≠óÊÆµÈÖçÁΩÆ","url":"/zh-CN/docs/guide/java/field_configuration#ÊúâÁ¨¶Âè∑-32-‰ΩçÊï¥Êï∞int32type","content":" import org.apache.fory.annotation.Int32Type; public class MyStruct { // ÂèòÈïøÁºñÁ†ÅÔºàÈªòËÆ§ÔºâÔºåÂ∞èÂÄºÊõ¥Á¥ßÂáë @Int32Type(compress = true) private int compactId; // Âõ∫ÂÆö 4 Â≠óËäÇÁºñÁ†ÅÔºåÈïøÂ∫¶Á®≥ÂÆö @Int32Type(compress = false) private int fixedId; }   ","version":"0.15","tagName":"h3"},{"title":"ÊúâÁ¨¶Âè∑ 64 ‰ΩçÊï¥Êï∞Ôºà@Int64TypeÔºâ‚Äã","type":1,"pageTitle":"Â≠óÊÆµÈÖçÁΩÆ","url":"/zh-CN/docs/guide/java/field_configuration#ÊúâÁ¨¶Âè∑-64-‰ΩçÊï¥Êï∞int64type","content":" import org.apache.fory.annotation.Int64Type; import org.apache.fory.config.LongEncoding; public class MyStruct { // ÂèòÈïøÁºñÁ†ÅÔºàÈªòËÆ§Ôºâ @Int64Type(encoding = LongEncoding.VARINT) private long compactId; // Âõ∫ÂÆö 8 Â≠óËäÇÁºñÁ†Å @Int64Type(encoding = LongEncoding.FIXED) private long fixedTimestamp; // tagged ÁºñÁ†ÅÔºàÂ∞èÂÄº 4 Â≠óËäÇÔºåÂê¶Âàô 9 Â≠óËäÇÔºâ @Int64Type(encoding = LongEncoding.TAGGED) private long taggedValue; }   ","version":"0.15","tagName":"h3"},{"title":"Êó†Á¨¶Âè∑Êï¥Êï∞‚Äã","type":1,"pageTitle":"Â≠óÊÆµÈÖçÁΩÆ","url":"/zh-CN/docs/guide/java/field_configuration#Êó†Á¨¶Âè∑Êï¥Êï∞","content":" import org.apache.fory.annotation.Uint8Type; import org.apache.fory.annotation.Uint16Type; import org.apache.fory.annotation.Uint32Type; import org.apache.fory.annotation.Uint64Type; import org.apache.fory.config.LongEncoding; public class UnsignedStruct { // Êó†Á¨¶Âè∑ 8 ‰Ωç [0, 255] @Uint8Type private short flags; // Êó†Á¨¶Âè∑ 16 ‰Ωç [0, 65535] @Uint16Type private int port; // Êó†Á¨¶Âè∑ 32 ‰ΩçÔºåvarint ÁºñÁ†ÅÔºàÈªòËÆ§Ôºâ @Uint32Type(compress = true) private long compactCount; // Êó†Á¨¶Âè∑ 32 ‰ΩçÔºåfixed ÁºñÁ†Å @Uint32Type(compress = false) private long fixedCount; // Êó†Á¨¶Âè∑ 64 ‰ΩçÔºåÂ§öÁßçÁºñÁ†Å @Uint64Type(encoding = LongEncoding.VARINT) private long varintU64; @Uint64Type(encoding = LongEncoding.FIXED) private long fixedU64; @Uint64Type(encoding = LongEncoding.TAGGED) private long taggedU64; }   ","version":"0.15","tagName":"h3"},{"title":"ÁºñÁ†ÅÊ±áÊÄª‚Äã","type":1,"pageTitle":"Â≠óÊÆµÈÖçÁΩÆ","url":"/zh-CN/docs/guide/java/field_configuration#ÁºñÁ†ÅÊ±áÊÄª","content":" Ê≥®Ëß£\tType ID\tÁºñÁ†Å\tÂ§ßÂ∞è@Int32Type(compress = true)\t5\tvarint\t1-5 Â≠óËäÇ @Int32Type(compress = false)\t4\tfixed\t4 Â≠óËäÇ @Int64Type(encoding = VARINT)\t7\tvarint\t1-10 Â≠óËäÇ @Int64Type(encoding = FIXED)\t6\tfixed\t8 Â≠óËäÇ @Int64Type(encoding = TAGGED)\t8\ttagged\t4 Êàñ 9 Â≠óËäÇ @Uint8Type\t9\tfixed\t1 Â≠óËäÇ @Uint16Type\t10\tfixed\t2 Â≠óËäÇ @Uint32Type(compress = true)\t12\tvarint\t1-5 Â≠óËäÇ @Uint32Type(compress = false)\t11\tfixed\t4 Â≠óËäÇ @Uint64Type(encoding = VARINT)\t14\tvarint\t1-10 Â≠óËäÇ @Uint64Type(encoding = FIXED)\t13\tfixed\t8 Â≠óËäÇ @Uint64Type(encoding = TAGGED)\t15\ttagged\t4 Êàñ 9 Â≠óËäÇ  ‰ΩïÊó∂‰ΩøÁî®Ôºö  varintÔºöÊï∞ÂÄºÈÄöÂ∏∏ËæÉÂ∞èÊó∂ÊúÄ‰ºòÔºàÈªòËÆ§ÔºâfixedÔºöÊï∞ÂÄºÂàÜÂ∏ÉÊé•ËøëÂÖ®ËåÉÂõ¥Êó∂Êõ¥Á®≥ÂÆöÔºàÂ¶ÇÊó∂Èó¥Êà≥„ÄÅÂìàÂ∏åÔºâtaggedÔºöÂú®‰ΩìÁßØ‰∏éÊÄßËÉΩÈó¥Âπ≥Ë°°ËæÉÂ•ΩÊó†Á¨¶Âè∑Á±ªÂûãÔºöÈÄÇÂêà‰∏é Rust/Go/C++ Á≠âËØ≠Ë®ÄËøõË°åÊó†Á¨¶Âè∑Êï¥Êï∞‰∫íÊìç‰Ωú  ","version":"0.15","tagName":"h3"},{"title":"ÂÆåÊï¥Á§∫‰æã‚Äã","type":1,"pageTitle":"Â≠óÊÆµÈÖçÁΩÆ","url":"/zh-CN/docs/guide/java/field_configuration#ÂÆåÊï¥Á§∫‰æã","content":" import org.apache.fory.Fory; import org.apache.fory.annotation.ForyField; import org.apache.fory.annotation.Ignore; import org.apache.fory.annotation.Int64Type; import org.apache.fory.annotation.Uint64Type; import org.apache.fory.config.LongEncoding; import java.util.List; import java.util.Map; import java.util.Set; public class Document { // Â∏¶ tag ID ÁöÑÂ≠óÊÆµÔºàÂÖºÂÆπÊ®°ÂºèÊé®ËçêÔºâ @ForyField(id = 0) private String title; @ForyField(id = 1) private int version; // ÂèØÁ©∫Â≠óÊÆµ @ForyField(id = 2, nullable = true) private String description; // ÈõÜÂêàÂ≠óÊÆµ @ForyField(id = 3) private List&lt;String&gt; tags; @ForyField(id = 4) private Map&lt;String, String&gt; metadata; @ForyField(id = 5) private Set&lt;String&gt; categories; // ‰∏çÂêåÁºñÁ†ÅÊñπÂºèÁöÑÊï¥Êï∞ @ForyField(id = 6) @Uint64Type(encoding = LongEncoding.VARINT) private long viewCount; // varint ÁºñÁ†Å @ForyField(id = 7) @Uint64Type(encoding = LongEncoding.FIXED) private long fileSize; // fixed ÁºñÁ†Å @ForyField(id = 8) @Uint64Type(encoding = LongEncoding.TAGGED) private long checksum; // tagged ÁºñÁ†Å // ÂÖ±‰∫´/Âæ™ÁéØÂºïÁî®Â≠óÊÆµ @ForyField(id = 9, ref = true, nullable = true) private Document parent; // ÂøΩÁï•Â≠óÊÆµÔºà‰∏çÂ∫èÂàóÂåñÔºâ private transient Object cache; // Getters and setters... } // Usage public class Main { public static void main(String[] args) { Fory fory = Fory.builder() .withXlang(true) .withCompatible(true) .withRefTracking(true) .build(); fory.register(Document.class, 100); Document doc = new Document(); doc.setTitle(&quot;My Document&quot;); doc.setVersion(1); doc.setDescription(&quot;A sample document&quot;); // Serialize byte[] data = fory.serialize(doc); // Deserialize Document decoded = (Document) fory.deserialize(data); } }   ","version":"0.15","tagName":"h2"},{"title":"Ë∑®ËØ≠Ë®ÄÂÖºÂÆπ‚Äã","type":1,"pageTitle":"Â≠óÊÆµÈÖçÁΩÆ","url":"/zh-CN/docs/guide/java/field_configuration#Ë∑®ËØ≠Ë®ÄÂÖºÂÆπ","content":" ÂΩìÊï∞ÊçÆÈúÄË¶ÅË¢´ÂÖ∂‰ªñËØ≠Ë®ÄÔºàPython„ÄÅRust„ÄÅC++„ÄÅGoÔºâËØªÂèñÊó∂ÔºåÂª∫ËÆÆ‰ΩøÁî®Â≠óÊÆµ ID Âπ∂ÈÖçÂ•óÁ±ªÂûãÊ≥®Ëß£Ôºö  public class CrossLangData { // ‰ΩøÁî®Â≠óÊÆµ ID ‰øùËØÅË∑®ËØ≠Ë®ÄÂÖºÂÆπ @ForyField(id = 0) @Int32Type(compress = true) private int intVar; @ForyField(id = 1) @Uint64Type(encoding = LongEncoding.FIXED) private long longFixed; @ForyField(id = 2) @Uint64Type(encoding = LongEncoding.TAGGED) private long longTagged; @ForyField(id = 3, nullable = true) private String optionalValue; }   ","version":"0.15","tagName":"h2"},{"title":"Schema ÊºîËøõ‚Äã","type":1,"pageTitle":"Â≠óÊÆµÈÖçÁΩÆ","url":"/zh-CN/docs/guide/java/field_configuration#schema-ÊºîËøõ","content":" ÂÖºÂÆπÊ®°ÂºèÊîØÊåÅ Schema ÊºîËøõ„ÄÇÂª∫ËÆÆÈÖçÁΩÆÂ≠óÊÆµ ID ‰ª•Èôç‰ΩéÂ∫èÂàóÂåñÊàêÊú¨Ôºö  // Version 1 public class DataV1 { @ForyField(id = 0) private long id; @ForyField(id = 1) private String name; } // Version 2: Added new field public class DataV2 { @ForyField(id = 0) private long id; @ForyField(id = 1) private String name; @ForyField(id = 2, nullable = true) private String email; // New field }   V1 ÂÜôÂÖ•ÁöÑÊï∞ÊçÆÂèØÁî± V2 ËØªÂèñÔºàÊñ∞Â¢ûÂ≠óÊÆµ‰ºöÊòØ nullÔºâ„ÄÇ  ‰πüÂèØ‰ª•‰∏çÈÖçÁΩÆÂ≠óÊÆµ IDÔºàÂÖÉ‰ø°ÊÅØ‰ºö‰ΩøÁî®Â≠óÊÆµÂêçÔºåÂºÄÈîÄÊõ¥Â§ßÔºâÔºö  public class Data { private long id; private String name; }   ","version":"0.15","tagName":"h2"},{"title":"Native Ê®°Âºè‰∏é Xlang Ê®°Âºè‚Äã","type":1,"pageTitle":"Â≠óÊÆµÈÖçÁΩÆ","url":"/zh-CN/docs/guide/java/field_configuration#native-Ê®°Âºè‰∏é-xlang-Ê®°Âºè","content":" Â≠óÊÆµÈÖçÁΩÆÂú®‰∏çÂêåÂ∫èÂàóÂåñÊ®°Âºè‰∏ãÁöÑÈªòËÆ§Ë°å‰∏∫‰∏çÂêå„ÄÇ  ","version":"0.15","tagName":"h2"},{"title":"Native Ê®°ÂºèÔºà‰ªÖ JavaÔºâ‚Äã","type":1,"pageTitle":"Â≠óÊÆµÈÖçÁΩÆ","url":"/zh-CN/docs/guide/java/field_configuration#native-Ê®°Âºè‰ªÖ-java","content":" Native Ê®°Âºè‰ª•ÊúÄÂ§ßÂÖºÂÆπÊÄß‰∏∫ÁõÆÊ†áÔºåÈªòËÆ§ÂÄºÊõ¥ÂÆΩÊùæÔºö  NullableÔºöÂºïÁî®Á±ªÂûãÈªòËÆ§ÂèØÁ©∫Ref trackingÔºöÂØπË±°ÂºïÁî®ÈªòËÆ§ÂºÄÂêØÔºàString„ÄÅË£ÖÁÆ±Á±ªÂûã„ÄÅÊó∂Èó¥Á±ªÂûãÈô§Â§ñÔºâPolymorphismÔºöÊâÄÊúâÈùû final Á±ªÈªòËÆ§ÊîØÊåÅÂ§öÊÄÅ  Âú® Native Ê®°Âºè‰∏ãÔºåÈÄöÂ∏∏‰∏çÈúÄË¶ÅÈ¢ùÂ§ñÂ≠óÊÆµÊ≥®Ëß£ÔºåÈô§Èùû‰Ω†Â∏åÊúõÔºö  Áî®Â≠óÊÆµ ID Èôç‰Ωé‰ΩìÁßØÂÖ≥Èó≠‰∏çÂøÖË¶ÅÁöÑ ref Ë∑üË∏™‰ª•‰ºòÂåñÊÄßËÉΩÂØπÁâπÂÆöÂ≠óÊÆµÁ≤æÁ°ÆÊéßÂà∂Êï¥Êï∞ÁºñÁ†Å  // Native mode: works without any annotations public class User { private long id; private String name; private List&lt;String&gt; tags; // Nullable and ref-tracked by default }   ","version":"0.15","tagName":"h3"},{"title":"Xlang Ê®°ÂºèÔºàË∑®ËØ≠Ë®ÄÔºâ‚Äã","type":1,"pageTitle":"Â≠óÊÆµÈÖçÁΩÆ","url":"/zh-CN/docs/guide/java/field_configuration#xlang-Ê®°ÂºèË∑®ËØ≠Ë®Ä","content":" Áî±‰∫é‰∏çÂêåËØ≠Ë®ÄÁ±ªÂûãÁ≥ªÁªüÂ∑ÆÂºÇÔºåXlang Ê®°ÂºèÈªòËÆ§ÂÄºÊõ¥‰∏•Ê†ºÔºö  NullableÔºöÂ≠óÊÆµÈªòËÆ§‰∏çÂèØÁ©∫Ôºànullable = falseÔºâRef trackingÔºöÈªòËÆ§ÂÖ≥Èó≠Ôºàref = falseÔºâPolymorphismÔºöÂÖ∑‰ΩìÁ±ªÂûãÈªòËÆ§‰∏çÂÜôÂ§öÊÄÅÁ±ªÂûã‰ø°ÊÅØ  Âú® Xlang Ê®°Âºè‰∏ãÔºå‰ª•‰∏ãÊÉÖÂÜµÈúÄË¶ÅÊòæÂºèÈÖçÁΩÆÔºö  Â≠óÊÆµÂèØËÉΩ‰∏∫ nullÔºà‰ΩøÁî® nullable = trueÔºâÂ≠óÊÆµÈúÄË¶ÅÂÖ±‰∫´/Âæ™ÁéØÂºïÁî®ËØ≠‰πâÔºà‰ΩøÁî® ref = trueÔºâÊï¥Êï∞Á±ªÂûãÈúÄË¶Å‰∏∫Ë∑®ËØ≠Ë®ÄÂÖºÂÆπÊåáÂÆöÁºñÁ†Å‰Ω†Â∏åÊúõÂáèÂ∞ëÂÖÉ‰ø°ÊÅØÂ§ßÂ∞èÔºà‰ΩøÁî®Â≠óÊÆµ IDÔºâ  // Xlang mode: explicit configuration required for nullable/ref fields public class User { @ForyField(id = 0) private long id; @ForyField(id = 1) private String name; @ForyField(id = 2, nullable = true) // Must declare nullable private String email; @ForyField(id = 3, ref = true, nullable = true) // Must declare ref for shared objects private User friend; }   ","version":"0.15","tagName":"h3"},{"title":"ÈªòËÆ§ÂÄºÊ±áÊÄª‚Äã","type":1,"pageTitle":"Â≠óÊÆµÈÖçÁΩÆ","url":"/zh-CN/docs/guide/java/field_configuration#ÈªòËÆ§ÂÄºÊ±áÊÄª","content":" ÈÄâÈ°π\tNative Ê®°ÂºèÈªòËÆ§ÂÄº\tXlang Ê®°ÂºèÈªòËÆ§ÂÄºnullable\ttrueÔºàÂºïÁî®Á±ªÂûãÔºâ\tfalse ref\ttrue\tfalse dynamic\ttrueÔºàÈùû final Á±ªÔºâ\tAUTOÔºàÂÖ∑‰ΩìÁ±ªÂûãÈÄöÂ∏∏ÊåâÈùûÂä®ÊÄÅÂ§ÑÁêÜÔºâ  ","version":"0.15","tagName":"h3"},{"title":"ÊúÄ‰Ω≥ÂÆûË∑µ‚Äã","type":1,"pageTitle":"Â≠óÊÆµÈÖçÁΩÆ","url":"/zh-CN/docs/guide/java/field_configuration#ÊúÄ‰Ω≥ÂÆûË∑µ","content":" ÈÖçÁΩÆÂ≠óÊÆµ IDÔºöÂÖºÂÆπÊ®°Âºè‰∏ãÂª∫ËÆÆÈÖçÁΩÆÔºåÈôç‰ΩéÂ∫èÂàóÂåñÊàêÊú¨ÂèØÁ©∫Â≠óÊÆµ‰ΩøÁî® nullable = trueÔºöÂØπÂèØ‰∏∫ null ÁöÑÂ≠óÊÆµÂøÖÈ°ªÊòæÂºèÂ£∞ÊòéÂÖ±‰∫´ÂØπË±°ÂºÄÂêØ refÔºöÂØπË±°ÂÖ±‰∫´ÊàñÂæ™ÁéØÊó∂‰ΩøÁî® ref = trueÊïèÊÑüÂ≠óÊÆµÁî® @Ignore Êàñ transientÔºöÂ¶ÇÂØÜÁ†Å„ÄÅ‰ª§Áâå„ÄÅÂÜÖÈÉ®Áä∂ÊÄÅÈÄâÊã©ÂêàÈÄÇÁºñÁ†ÅÔºöÂ∞èÂÄºÁî® varintÔºåÂÖ®ËåÉÂõ¥ÂÄºÁî® fixed‰øùÊåÅ ID Á®≥ÂÆöÔºö‰∏ÄÊó¶ÂàÜÈÖçÔºå‰∏çË¶ÅÈöèÊÑèÊîπÂä®Â≠óÊÆµ IDË∑®ËØ≠Ë®ÄÂú∫ÊôØÊòæÂºèÊó†Á¨¶Âè∑Á±ªÂûãÔºö‰∏é Rust„ÄÅGo„ÄÅC++ ‰∫íÊìç‰ΩúÊó∂Â∞§ÂÖ∂ÈáçË¶Å  ","version":"0.15","tagName":"h2"},{"title":"Ê≥®Ëß£ÈÄüÊü•‚Äã","type":1,"pageTitle":"Â≠óÊÆµÈÖçÁΩÆ","url":"/zh-CN/docs/guide/java/field_configuration#Ê≥®Ëß£ÈÄüÊü•","content":" Ê≥®Ëß£\tËØ¥Êòé@ForyField(id = N)\tÈÖçÁΩÆÂ≠óÊÆµ tag IDÔºåÂáèÂ∞ëÂÖÉ‰ø°ÊÅØÂºÄÈîÄ @ForyField(nullable = true)\tÂ∞ÜÂ≠óÊÆµÊ†áËÆ∞‰∏∫ÂèØÁ©∫ @ForyField(ref = true)\t‰∏∫Â≠óÊÆµÂêØÁî®ÂºïÁî®Ë∑üË∏™ @ForyField(dynamic = ...)\tÊéßÂà∂ struct Â≠óÊÆµÂ§öÊÄÅË°å‰∏∫ @Ignore\tÂ∞ÜÂ≠óÊÆµÊéíÈô§Âú®Â∫èÂàóÂåñ‰πãÂ§ñ @Int32Type(compress = ...)\t32 ‰ΩçÊúâÁ¨¶Âè∑Êï¥Êï∞ÁºñÁ†Å @Int64Type(encoding = ...)\t64 ‰ΩçÊúâÁ¨¶Âè∑Êï¥Êï∞ÁºñÁ†Å @Uint8Type\t8 ‰ΩçÊó†Á¨¶Âè∑Êï¥Êï∞ @Uint16Type\t16 ‰ΩçÊó†Á¨¶Âè∑Êï¥Êï∞ @Uint32Type(compress = ...)\t32 ‰ΩçÊó†Á¨¶Âè∑Êï¥Êï∞ÁºñÁ†Å @Uint64Type(encoding = ...)\t64 ‰ΩçÊó†Á¨¶Âè∑Êï¥Êï∞ÁºñÁ†Å  ","version":"0.15","tagName":"h2"},{"title":"Áõ∏ÂÖ≥‰∏ªÈ¢ò‚Äã","type":1,"pageTitle":"Â≠óÊÆµÈÖçÁΩÆ","url":"/zh-CN/docs/guide/java/field_configuration#Áõ∏ÂÖ≥‰∏ªÈ¢ò","content":" Âü∫Á°ÄÂ∫èÂàóÂåñ - Âø´ÈÄü‰∏äÊâã Fory Â∫èÂàóÂåñSchema ÊºîËøõ - ÂÖºÂÆπÊ®°Âºè‰∏é schema ÊºîËøõË∑®ËØ≠Ë®Ä - ‰∏é Python„ÄÅRust„ÄÅC++„ÄÅGo ‰∫íÊìç‰Ωú ","version":"0.15","tagName":"h2"},{"title":"Kotlin Â∫èÂàóÂåñÊåáÂçó","type":0,"sectionRef":"#","url":"/zh-CN/docs/guide/kotlin/","content":"","keywords":"","version":"0.15"},{"title":"ÁâπÊÄß‚Äã","type":1,"pageTitle":"Kotlin Â∫èÂàóÂåñÊåáÂçó","url":"/zh-CN/docs/guide/kotlin/#ÁâπÊÄß","content":" Fory Kotlin ÁªßÊâø‰∫Ü Fory Java ÁöÑÊâÄÊúâÁâπÊÄßÔºåÂπ∂Â¢ûÂä†‰∫Ü Kotlin ÁâπÂÆöÁöÑ‰ºòÂåñÔºö  È´òÊÄßËÉΩÔºöJIT ‰ª£Á†ÅÁîüÊàê„ÄÅÈõ∂Êã∑Ë¥ùÔºåÊØî‰º†ÁªüÂ∫èÂàóÂåñÂø´ 20-170 ÂÄçKotlin Á±ªÂûãÊîØÊåÅÔºö‰∏∫Êï∞ÊçÆÁ±ª„ÄÅÊó†Á¨¶Âè∑Á±ªÂûã„ÄÅËåÉÂõ¥ÂíåÊ†áÂáÜÂ∫ìÁ±ªÂûãÊèê‰æõ‰ºòÂåñÁöÑÂ∫èÂàóÂåñÂô®ÈªòËÆ§ÂÄºÊîØÊåÅÔºöÂú® schema ÊºîÂåñÊúüÈó¥Ëá™Âä®Â§ÑÁêÜ Kotlin Êï∞ÊçÆÁ±ªÁöÑÈªòËÆ§ÂèÇÊï∞Schema ÊºîÂåñÔºöÊîØÊåÅÁ±ª schema ÂèòÊõ¥ÁöÑÂâçÂêë/ÂêéÂêëÂÖºÂÆπÊÄß  ÂÆåÊï¥ÁâπÊÄßÂàóË°®ËØ∑ÂèÇÈòÖ Java ÁâπÊÄß„ÄÇ  ","version":"0.15","tagName":"h2"},{"title":"ÂÆâË£Ö‚Äã","type":1,"pageTitle":"Kotlin Â∫èÂàóÂåñÊåáÂçó","url":"/zh-CN/docs/guide/kotlin/#ÂÆâË£Ö","content":" ","version":"0.15","tagName":"h2"},{"title":"Maven‚Äã","type":1,"pageTitle":"Kotlin Â∫èÂàóÂåñÊåáÂçó","url":"/zh-CN/docs/guide/kotlin/#maven","content":" &lt;dependency&gt; &lt;groupId&gt;org.apache.fory&lt;/groupId&gt; &lt;artifactId&gt;fory-kotlin&lt;/artifactId&gt; &lt;version&gt;0.14.1&lt;/version&gt; &lt;/dependency&gt;   ","version":"0.15","tagName":"h3"},{"title":"Gradle‚Äã","type":1,"pageTitle":"Kotlin Â∫èÂàóÂåñÊåáÂçó","url":"/zh-CN/docs/guide/kotlin/#gradle","content":" implementation(&quot;org.apache.fory:fory-kotlin:0.14.1&quot;)   ","version":"0.15","tagName":"h3"},{"title":"Âø´ÈÄüÂºÄÂßã‚Äã","type":1,"pageTitle":"Kotlin Â∫èÂàóÂåñÊåáÂçó","url":"/zh-CN/docs/guide/kotlin/#Âø´ÈÄüÂºÄÂßã","content":" import org.apache.fory.Fory import org.apache.fory.ThreadSafeFory import org.apache.fory.serializer.kotlin.KotlinSerializers data class Person(val name: String, val id: Long, val github: String) data class Point(val x: Int, val y: Int, val z: Int) fun main() { // ÂàõÂª∫ Fory ÂÆû‰æãÔºàÂ∫îËØ•ÈáçÁî®Ôºâ val fory: ThreadSafeFory = Fory.builder() .requireClassRegistration(true) .buildThreadSafeFory() // Ê≥®ÂÜå Kotlin Â∫èÂàóÂåñÂô® KotlinSerializers.registerSerializers(fory) // Ê≥®ÂÜå‰Ω†ÁöÑÁ±ª fory.register(Person::class.java) fory.register(Point::class.java) val p = Person(&quot;Shawn Yang&quot;, 1, &quot;https://github.com/chaokunyang&quot;) println(fory.deserialize(fory.serialize(p))) println(fory.deserialize(fory.serialize(Point(1, 2, 3)))) }   ","version":"0.15","tagName":"h2"},{"title":"Âü∫‰∫é Fory Java ÊûÑÂª∫‚Äã","type":1,"pageTitle":"Kotlin Â∫èÂàóÂåñÊåáÂçó","url":"/zh-CN/docs/guide/kotlin/#Âü∫‰∫é-fory-java-ÊûÑÂª∫","content":" Fory Kotlin Âü∫‰∫é Fory Java ÊûÑÂª∫„ÄÇFory Java ÁöÑÂ§ßÂ§öÊï∞ÈÖçÁΩÆÈÄâÈ°π„ÄÅÁâπÊÄßÂíåÊ¶ÇÂøµÁõ¥Êé•ÈÄÇÁî®‰∫é Kotlin„ÄÇËØ∑ÂèÇÈòÖ Java ÊñáÊ°£‰∫ÜËß£Ôºö  ÈÖçÁΩÆÈÄâÈ°π - ÊâÄÊúâ ForyBuilder ÈÄâÈ°πÂü∫Á°ÄÂ∫èÂàóÂåñ - Â∫èÂàóÂåñÊ®°ÂºèÂíå APIÁ±ªÂûãÊ≥®ÂÜå - Á±ªÊ≥®ÂÜåÂíåÂÆâÂÖ®ÊÄßSchema ÊºîÂåñ - ÂâçÂêë/ÂêéÂêëÂÖºÂÆπÊÄßËá™ÂÆö‰πâÂ∫èÂàóÂåñÂô® - ÂÆûÁé∞Ëá™ÂÆö‰πâÂ∫èÂàóÂåñÂô®ÂéãÁº© - Int„ÄÅlong ÂíåÂ≠óÁ¨¶‰∏≤ÂéãÁº©ÊïÖÈöúÊéíÈô§ - Â∏∏ËßÅÈóÆÈ¢òÂíåËß£ÂÜ≥ÊñπÊ°à  ","version":"0.15","tagName":"h2"},{"title":"Kotlin ÁâπÂÆöÊñáÊ°£‚Äã","type":1,"pageTitle":"Kotlin Â∫èÂàóÂåñÊåáÂçó","url":"/zh-CN/docs/guide/kotlin/#kotlin-ÁâπÂÆöÊñáÊ°£","content":" Fory ÂàõÂª∫ - Kotlin ÁâπÂÆöÁöÑ Fory ËÆæÁΩÆË¶ÅÊ±ÇÁ±ªÂûãÂ∫èÂàóÂåñ - Â∫èÂàóÂåñ Kotlin Á±ªÂûãÈªòËÆ§ÂÄº - Kotlin Êï∞ÊçÆÁ±ªÈªòËÆ§ÂÄºÊîØÊåÅ ","version":"0.15","tagName":"h2"},{"title":"ÈªòËÆ§ÂÄº","type":0,"sectionRef":"#","url":"/zh-CN/docs/guide/kotlin/default_values","content":"","keywords":"","version":"0.15"},{"title":"Ê¶ÇËø∞‚Äã","type":1,"pageTitle":"ÈªòËÆ§ÂÄº","url":"/zh-CN/docs/guide/kotlin/default_values#Ê¶ÇËø∞","content":" ÂΩì Kotlin Êï∞ÊçÆÁ±ªÂÖ∑ÊúâÂ∏¶ÈªòËÆ§ÂÄºÁöÑÂèÇÊï∞Êó∂ÔºåFory ÂèØ‰ª•Ôºö  Ê£ÄÊµãÈªòËÆ§ÂÄºÔºö‰ΩøÁî® Kotlin ÂèçÂ∞ÑÂ∫îÁî®ÈªòËÆ§ÂÄºÔºöÂΩìÂ∫èÂàóÂåñÊï∞ÊçÆ‰∏≠Áº∫Â∞ëÂ≠óÊÆµÊó∂ÔºåÂú®ÂèçÂ∫èÂàóÂåñÊúüÈó¥Â∫îÁî®ÈªòËÆ§ÂÄºÊîØÊåÅ schema ÊºîÂåñÔºöÂÖÅËÆ∏Ê∑ªÂä†Â∏¶ÈªòËÆ§ÂÄºÁöÑÊñ∞Â≠óÊÆµÔºåËÄå‰∏ç‰ºöÁ†¥ÂùèÁé∞ÊúâÁöÑÂ∫èÂàóÂåñÊï∞ÊçÆ  ","version":"0.15","tagName":"h2"},{"title":"Áî®Ê≥ï‚Äã","type":1,"pageTitle":"ÈªòËÆ§ÂÄº","url":"/zh-CN/docs/guide/kotlin/default_values#Áî®Ê≥ï","content":" Âú®‰ª•‰∏ãÊÉÖÂÜµ‰∏ãÔºåÊ≠§ÁâπÊÄß‰ºöËá™Âä®ÂêØÁî®Ôºö  ÂêØÁî®‰∫ÜÂÖºÂÆπÊ®°ÂºèÔºàwithCompatibleMode(CompatibleMode.COMPATIBLE)ÔºâÂ∑≤Ê≥®ÂÜå Kotlin Â∫èÂàóÂåñÂô®ÔºàKotlinSerializers.registerSerializers(fory)ÔºâÂ∫èÂàóÂåñÊï∞ÊçÆ‰∏≠Áº∫Â∞ëÊüê‰∏™Â≠óÊÆµÔºå‰ΩÜÁõÆÊ†áÁ±ª‰∏≠ËØ•Â≠óÊÆµÂ≠òÂú®Âπ∂ÂÖ∑ÊúâÈªòËÆ§ÂÄº  ","version":"0.15","tagName":"h2"},{"title":"Á§∫‰æã‚Äã","type":1,"pageTitle":"ÈªòËÆ§ÂÄº","url":"/zh-CN/docs/guide/kotlin/default_values#Á§∫‰æã","content":" import org.apache.fory.Fory import org.apache.fory.config.CompatibleMode import org.apache.fory.serializer.kotlin.KotlinSerializers // ÂéüÂßãÊï∞ÊçÆÁ±ª data class User(val name: String, val age: Int) // ÊºîÂåñÂêéÁöÑÊï∞ÊçÆÁ±ªÔºåÂ∏¶ÊúâÊñ∞Â≠óÊÆµÂíåÈªòËÆ§ÂÄº data class UserV2(val name: String, val age: Int, val email: String = &quot;default@example.com&quot;) fun main() { val fory = Fory.builder() .withCompatibleMode(CompatibleMode.COMPATIBLE) .build() KotlinSerializers.registerSerializers(fory) fory.register(User::class.java) fory.register(UserV2::class.java) // ‰ΩøÁî®Êóß schema Â∫èÂàóÂåñ val oldUser = User(&quot;John&quot;, 30) val serialized = fory.serialize(oldUser) // ‰ΩøÁî®Êñ∞ schema ÂèçÂ∫èÂàóÂåñ - Áº∫Â§±ÁöÑÂ≠óÊÆµËé∑ÂæóÈªòËÆ§ÂÄº val newUser = fory.deserialize(serialized) as UserV2 println(newUser) // UserV2(name=John, age=30, email=default@example.com) }   ","version":"0.15","tagName":"h2"},{"title":"ÊîØÊåÅÁöÑÈªòËÆ§ÂÄºÁ±ªÂûã‚Äã","type":1,"pageTitle":"ÈªòËÆ§ÂÄº","url":"/zh-CN/docs/guide/kotlin/default_values#ÊîØÊåÅÁöÑÈªòËÆ§ÂÄºÁ±ªÂûã","content":" ‰ª•‰∏ãÁ±ªÂûãÊîØÊåÅÈªòËÆ§ÂÄºÔºö  ÂéüÂßãÁ±ªÂûãÔºöInt„ÄÅLong„ÄÅDouble„ÄÅFloat„ÄÅBoolean„ÄÅByte„ÄÅShort„ÄÅCharÊó†Á¨¶Âè∑Á±ªÂûãÔºöUInt„ÄÅULong„ÄÅUByte„ÄÅUShortÂ≠óÁ¨¶‰∏≤ÔºöStringÈõÜÂêàÔºöList„ÄÅSet„ÄÅMapÔºàÂ∏¶ÈªòËÆ§ÂÆû‰æãÔºâËá™ÂÆö‰πâÂØπË±°Ôºö‰ªª‰ΩïÂèØ‰ª•ÈÄöËøáÂèçÂ∞ÑÂÆû‰æãÂåñÁöÑÂØπË±°  ","version":"0.15","tagName":"h2"},{"title":"Â§çÊùÇÁöÑÈªòËÆ§ÂÄº‚Äã","type":1,"pageTitle":"ÈªòËÆ§ÂÄº","url":"/zh-CN/docs/guide/kotlin/default_values#Â§çÊùÇÁöÑÈªòËÆ§ÂÄº","content":" ÈªòËÆ§ÂÄºÂèØ‰ª•ÊòØÂ§çÊùÇÁöÑË°®ËææÂºèÔºö  data class ConfigV1(val name: String) data class ConfigV2( val name: String, val settings: Map&lt;String, String&gt; = mapOf(&quot;default&quot; to &quot;value&quot;), val tags: List&lt;String&gt; = listOf(&quot;default&quot;), val enabled: Boolean = true, val retryCount: Int = 3 ) val fory = Fory.builder() .withCompatibleMode(CompatibleMode.COMPATIBLE) .build() KotlinSerializers.registerSerializers(fory) val original = ConfigV1(&quot;myConfig&quot;) val serialized = fory.serialize(original) val deserialized = fory.deserialize(serialized) as ConfigV2 // deserialized.name == &quot;myConfig&quot; // deserialized.settings == mapOf(&quot;default&quot; to &quot;value&quot;) // deserialized.tags == listOf(&quot;default&quot;) // deserialized.enabled == true // deserialized.retryCount == 3   ","version":"0.15","tagName":"h2"},{"title":"ÂèØÁ©∫Â≠óÊÆµ‰∏éÈªòËÆ§ÂÄº‚Äã","type":1,"pageTitle":"ÈªòËÆ§ÂÄº","url":"/zh-CN/docs/guide/kotlin/default_values#ÂèØÁ©∫Â≠óÊÆµ‰∏éÈªòËÆ§ÂÄº","content":" ‰πüÊîØÊåÅÂ∏¶ÈªòËÆ§ÂÄºÁöÑÂèØÁ©∫Â≠óÊÆµÔºö  data class PersonV1(val name: String) data class PersonV2( val name: String, val nickname: String? = null, val age: Int? = null ) val original = PersonV1(&quot;John&quot;) val serialized = fory.serialize(original) val deserialized = fory.deserialize(serialized) as PersonV2 // deserialized.name == &quot;John&quot; // deserialized.nickname == null (ÈªòËÆ§ÂÄº) // deserialized.age == null (ÈªòËÆ§ÂÄº)   ","version":"0.15","tagName":"h2"},{"title":"Áõ∏ÂÖ≥‰∏ªÈ¢ò‚Äã","type":1,"pageTitle":"ÈªòËÆ§ÂÄº","url":"/zh-CN/docs/guide/kotlin/default_values#Áõ∏ÂÖ≥‰∏ªÈ¢ò","content":" Schema ÊºîÂåñ - Java ‰∏≠ÁöÑÂâçÂêë/ÂêéÂêëÂÖºÂÆπÊÄßFory ÂàõÂª∫ - ‰ΩøÁî®ÂÖºÂÆπÊ®°ÂºèËÆæÁΩÆ Fory ","version":"0.15","tagName":"h2"},{"title":"Ëá™ÂÆö‰πâÂ∫èÂàóÂåñÂô®","type":0,"sectionRef":"#","url":"/zh-CN/docs/guide/java/custom_serializers","content":"","keywords":"","version":"0.15"},{"title":"Âü∫Êú¨Ëá™ÂÆö‰πâÂ∫èÂàóÂåñÂô®‚Äã","type":1,"pageTitle":"Ëá™ÂÆö‰πâÂ∫èÂàóÂåñÂô®","url":"/zh-CN/docs/guide/java/custom_serializers#Âü∫Êú¨Ëá™ÂÆö‰πâÂ∫èÂàóÂåñÂô®","content":" Âú®Êüê‰∫õÊÉÖÂÜµ‰∏ãÔºå‰Ω†ÂèØËÉΩÊÉ≥‰∏∫‰Ω†ÁöÑÁ±ªÂûãÂÆûÁé∞Â∫èÂàóÂåñÂô®ÔºåÁâπÂà´ÊòØÂØπ‰∫é‰ΩøÁî® JDK writeObject/writeReplace/readObject/readResolve Ëá™ÂÆö‰πâÂ∫èÂàóÂåñÁöÑÁ±ªÔºåËøôÈùûÂ∏∏‰ΩéÊïà„ÄÇ  ‰æãÂ¶ÇÔºåÂ¶ÇÊûú‰Ω†‰∏çÊÉ≥Ë∞ÉÁî®‰ª•‰∏ã Foo#writeObjectÔºå‰Ω†ÂèØ‰ª•ÂÆûÁé∞Ëá™ÂÆö‰πâÂ∫èÂàóÂåñÂô®Ôºö  class Foo { public long f1; private void writeObject(ObjectOutputStream s) throws IOException { System.out.println(f1); s.defaultWriteObject(); } } class FooSerializer extends Serializer&lt;Foo&gt; { public FooSerializer(Fory fory) { super(fory, Foo.class); } @Override public void write(MemoryBuffer buffer, Foo value) { buffer.writeInt64(value.f1); } @Override public Foo read(MemoryBuffer buffer) { Foo foo = new Foo(); foo.f1 = buffer.readInt64(); return foo; } }   ","version":"0.15","tagName":"h2"},{"title":"Ê≥®ÂÜåÂ∫èÂàóÂåñÂô®‚Äã","type":1,"pageTitle":"Ëá™ÂÆö‰πâÂ∫èÂàóÂåñÂô®","url":"/zh-CN/docs/guide/java/custom_serializers#Ê≥®ÂÜåÂ∫èÂàóÂåñÂô®","content":" Fory fory = getFory(); fory.registerSerializer(Foo.class, new FooSerializer(fory));   Èô§‰∫ÜÊ≥®ÂÜåÂ∫èÂàóÂåñÂô®Ôºå‰Ω†ËøòÂèØ‰ª•‰∏∫Á±ªÂÆûÁé∞ java.io.Externalizable Êù•Ëá™ÂÆö‰πâÂ∫èÂàóÂåñÈÄªËæë„ÄÇËøôÁßçÁ±ªÂûãÂ∞ÜÁî± Fory ÁöÑ ExternalizableSerializer Â∫èÂàóÂåñ„ÄÇ  ","version":"0.15","tagName":"h3"},{"title":"ÈõÜÂêàÂ∫èÂàóÂåñÂô®‚Äã","type":1,"pageTitle":"Ëá™ÂÆö‰πâÂ∫èÂàóÂåñÂô®","url":"/zh-CN/docs/guide/java/custom_serializers#ÈõÜÂêàÂ∫èÂàóÂåñÂô®","content":" Âú®‰∏∫Ëá™ÂÆö‰πâÈõÜÂêàÁ±ªÂûãÂÆûÁé∞Â∫èÂàóÂåñÂô®Êó∂Ôºå‰Ω†ÂøÖÈ°ªÊâ©Â±ï CollectionSerializer Êàñ CollectionLikeSerializer„ÄÇ‰∏ªË¶ÅÂå∫Âà´ÊòØ CollectionLikeSerializer ÂèØ‰ª•Â∫èÂàóÂåñÂÖ∑ÊúâÁ±ª‰ººÈõÜÂêàÁªìÊûÑ‰ΩÜ‰∏çÊòØ Java Collection Â≠êÁ±ªÂûãÁöÑÁ±ª„ÄÇ  ","version":"0.15","tagName":"h2"},{"title":"supportCodegenHook ÂèÇÊï∞‚Äã","type":1,"pageTitle":"Ëá™ÂÆö‰πâÂ∫èÂàóÂåñÂô®","url":"/zh-CN/docs/guide/java/custom_serializers#supportcodegenhook-ÂèÇÊï∞","content":" Ëøô‰∏™ÁâπÊÆäÂèÇÊï∞ÊéßÂà∂Â∫èÂàóÂåñË°å‰∏∫Ôºö  ÂΩì‰∏∫ true Êó∂Ôºö  ÂêØÁî®ÂØπÈõÜÂêàÂÖÉÁ¥†ÁöÑ‰ºòÂåñËÆøÈóÆÂíå JIT ÁºñËØë‰ª•Ëé∑ÂæóÊõ¥Â•ΩÁöÑÊÄßËÉΩÁõ¥Êé•Â∫èÂàóÂåñË∞ÉÁî®ÂíåÂÜÖËÅîÈõÜÂêàÈ°πÔºåÊó†ÈúÄÂä®ÊÄÅÂ∫èÂàóÂåñÂô®ÂàÜÊ¥æÊàêÊú¨ÂØπÊ†áÂáÜÈõÜÂêàÁ±ªÂûãÊúâÊõ¥Â•ΩÁöÑÊÄßËÉΩÂØπÂ§ßÂ§öÊï∞ÈõÜÂêàÊé®Ëçê  ÂΩì‰∏∫ false Êó∂Ôºö  ‰ΩøÁî®Âü∫‰∫éÊé•Âè£ÁöÑÂÖÉÁ¥†ËÆøÈóÆÂíåÂÖÉÁ¥†ÁöÑÂä®ÊÄÅÂ∫èÂàóÂåñÂô®ÂàÜÊ¥æÔºàÊàêÊú¨Êõ¥È´òÔºâÂØπËá™ÂÆö‰πâÈõÜÂêàÁ±ªÂûãÊõ¥ÁÅµÊ¥ªÂΩìÈõÜÂêàÊúâÁâπÊÆäÂ∫èÂàóÂåñÈúÄÊ±ÇÊó∂ÈúÄË¶ÅÂ§ÑÁêÜÂ§çÊùÇÁöÑÈõÜÂêàÂÆûÁé∞  ","version":"0.15","tagName":"h3"},{"title":"Â∏¶ JIT ÊîØÊåÅÁöÑÈõÜÂêàÂ∫èÂàóÂåñÂô®‚Äã","type":1,"pageTitle":"Ëá™ÂÆö‰πâÂ∫èÂàóÂåñÂô®","url":"/zh-CN/docs/guide/java/custom_serializers#Â∏¶-jit-ÊîØÊåÅÁöÑÈõÜÂêàÂ∫èÂàóÂåñÂô®","content":" Âú®ÂÆûÁé∞Â∏¶ JIT ÊîØÊåÅÁöÑÈõÜÂêàÂ∫èÂàóÂåñÂô®Êó∂ÔºåÂà©Áî® Fory Áé∞ÊúâÁöÑ‰∫åËøõÂà∂Ê†ºÂºèÂíåÈõÜÂêàÂ∫èÂàóÂåñÂü∫Á°ÄËÆæÊñΩÔºö  public class CustomCollectionSerializer&lt;T extends Collection&gt; extends CollectionSerializer&lt;T&gt; { public CustomCollectionSerializer(Fory fory, Class&lt;T&gt; cls) { // supportCodegenHook ÊéßÂà∂ÊòØÂê¶‰ΩøÁî® JIT ÁºñËØë super(fory, cls, true); } @Override public Collection onCollectionWrite(MemoryBuffer buffer, T value) { // ÂÜôÂÖ•ÈõÜÂêàÂ§ßÂ∞è buffer.writeVarUint32Small7(value.size()); // ÂÜôÂÖ•‰ªª‰ΩïÈ¢ùÂ§ñÁöÑÈõÜÂêàÂÖÉÊï∞ÊçÆ return value; } @Override public Collection newCollection(MemoryBuffer buffer) { // ÂàõÂª∫Êñ∞ÁöÑÈõÜÂêàÂÆû‰æã Collection collection = super.newCollection(buffer); // ËØªÂèñÂπ∂ËÆæÁΩÆÈõÜÂêàÂ§ßÂ∞è int numElements = getAndClearNumElements(); setNumElements(numElements); return collection; } }   Ê≥®ÊÑèÔºöÂú®ÂÆûÁé∞ newCollection Êó∂Ë∞ÉÁî® setNumElementsÔºåËÆ© Fory Áü•ÈÅìË¶ÅÂèçÂ∫èÂàóÂåñÂ§öÂ∞ëÂÖÉÁ¥†„ÄÇ  ","version":"0.15","tagName":"h3"},{"title":"‰∏çÂ∏¶ JIT ÁöÑËá™ÂÆö‰πâÈõÜÂêàÂ∫èÂàóÂåñÂô®‚Äã","type":1,"pageTitle":"Ëá™ÂÆö‰πâÂ∫èÂàóÂåñÂô®","url":"/zh-CN/docs/guide/java/custom_serializers#‰∏çÂ∏¶-jit-ÁöÑËá™ÂÆö‰πâÈõÜÂêàÂ∫èÂàóÂåñÂô®","content":" ÂØπ‰∫é‰ΩøÁî®ÂéüÂßãÊï∞ÁªÑÊàñÊúâÁâπÊÆäË¶ÅÊ±ÇÁöÑÈõÜÂêàÔºåÂÆûÁé∞Á¶ÅÁî® JIT ÁöÑÂ∫èÂàóÂåñÂô®Ôºö  class IntList extends AbstractCollection&lt;Integer&gt; { private final int[] elements; private final int size; public IntList(int size) { this.elements = new int[size]; this.size = size; } public IntList(int[] elements, int size) { this.elements = elements; this.size = size; } @Override public Iterator&lt;Integer&gt; iterator() { return new Iterator&lt;Integer&gt;() { private int index = 0; @Override public boolean hasNext() { return index &lt; size; } @Override public Integer next() { if (!hasNext()) { throw new NoSuchElementException(); } return elements[index++]; } }; } @Override public int size() { return size; } public int get(int index) { if (index &gt;= size) { throw new IndexOutOfBoundsException(); } return elements[index]; } public void set(int index, int value) { if (index &gt;= size) { throw new IndexOutOfBoundsException(); } elements[index] = value; } public int[] getElements() { return elements; } } class IntListSerializer extends CollectionLikeSerializer&lt;IntList&gt; { public IntListSerializer(Fory fory) { // Á¶ÅÁî® JITÔºåÂõ†‰∏∫Êàë‰ª¨Áõ¥Êé•Â§ÑÁêÜÂ∫èÂàóÂåñ super(fory, IntList.class, false); } @Override public void write(MemoryBuffer buffer, IntList value) { // ÂÜôÂÖ•Â§ßÂ∞è buffer.writeVarUint32Small7(value.size()); // Áõ¥Êé•Â∞ÜÂÖÉÁ¥†ÂÜô‰∏∫ÂéüÂßã int int[] elements = value.getElements(); for (int i = 0; i &lt; value.size(); i++) { buffer.writeVarInt32(elements[i]); } } @Override public IntList read(MemoryBuffer buffer) { // ËØªÂèñÂ§ßÂ∞è int size = buffer.readVarUint32Small7(); // ÂàõÂª∫Êï∞ÁªÑÂπ∂ËØªÂèñÂÖÉÁ¥† int[] elements = new int[size]; for (int i = 0; i &lt; size; i++) { elements[i] = buffer.readVarInt32(); } return new IntList(elements, size); } // ÂΩìÁ¶ÅÁî® JIT Êó∂‰∏ç‰ΩøÁî®Ëøô‰∫õÊñπÊ≥ï @Override public Collection onCollectionWrite(MemoryBuffer buffer, IntList value) { throw new UnsupportedOperationException(); } @Override public Collection newCollection(MemoryBuffer buffer) { throw new UnsupportedOperationException(); } @Override public IntList onCollectionRead(Collection collection) { throw new UnsupportedOperationException(); } }   ‰ΩïÊó∂‰ΩøÁî®Ê≠§ÊñπÊ≥ïÔºö  Â§ÑÁêÜÂéüÂßãÁ±ªÂûãÈúÄË¶ÅÊúÄÂ§ßÊÄßËÉΩÊÉ≥Ë¶ÅÊúÄÂ∞èÂåñÂÜÖÂ≠òÂºÄÈîÄÊúâÁâπÊÆäÁöÑÂ∫èÂàóÂåñÈúÄÊ±Ç  ","version":"0.15","tagName":"h3"},{"title":"Á±ªÈõÜÂêàÁ±ªÂûãÂ∫èÂàóÂåñÂô®‚Äã","type":1,"pageTitle":"Ëá™ÂÆö‰πâÂ∫èÂàóÂåñÂô®","url":"/zh-CN/docs/guide/java/custom_serializers#Á±ªÈõÜÂêàÁ±ªÂûãÂ∫èÂàóÂåñÂô®","content":" ÂØπ‰∫éË°å‰∏∫Á±ª‰ººÈõÜÂêà‰ΩÜ‰∏çÊòØÊ†áÂáÜ Java ÈõÜÂêàÁöÑÁ±ªÂûãÔºö  class CustomCollectionLike { private final Object[] elements; private final int size; public CustomCollectionLike(int size) { this.elements = new Object[size]; this.size = 0; } public CustomCollectionLike(Object[] elements, int size) { this.elements = elements; this.size = size; } public Object get(int index) { if (index &gt;= size) { throw new IndexOutOfBoundsException(); } return elements[index]; } public int size() { return size; } public Object[] getElements() { return elements; } } class CollectionView extends AbstractCollection&lt;Object&gt; { private final Object[] elements; private final int size; private int writeIndex; public CollectionView(CustomCollectionLike collection) { this.elements = collection.getElements(); this.size = collection.size(); } public CollectionView(int size) { this.size = size; this.elements = new Object[size]; } @Override public Iterator&lt;Object&gt; iterator() { return new Iterator&lt;Object&gt;() { private int index = 0; @Override public boolean hasNext() { return index &lt; size; } @Override public Object next() { if (!hasNext()) { throw new NoSuchElementException(); } return elements[index++]; } }; } @Override public boolean add(Object element) { if (writeIndex &gt;= size) { throw new IllegalStateException(&quot;Collection is full&quot;); } elements[writeIndex++] = element; return true; } @Override public int size() { return size; } public Object[] getElements() { return elements; } } class CustomCollectionSerializer extends CollectionLikeSerializer&lt;CustomCollectionLike&gt; { public CustomCollectionSerializer(Fory fory) { super(fory, CustomCollectionLike.class, true); } @Override public Collection onCollectionWrite(MemoryBuffer buffer, CustomCollectionLike value) { buffer.writeVarUint32Small7(value.size()); return new CollectionView(value); } @Override public Collection newCollection(MemoryBuffer buffer) { int numElements = buffer.readVarUint32Small7(); setNumElements(numElements); return new CollectionView(numElements); } @Override public CustomCollectionLike onCollectionRead(Collection collection) { CollectionView view = (CollectionView) collection; return new CustomCollectionLike(view.getElements(), view.size()); } }   ","version":"0.15","tagName":"h3"},{"title":"Map Â∫èÂàóÂåñÂô®‚Äã","type":1,"pageTitle":"Ëá™ÂÆö‰πâÂ∫èÂàóÂåñÂô®","url":"/zh-CN/docs/guide/java/custom_serializers#map-Â∫èÂàóÂåñÂô®","content":" Âú®‰∏∫Ëá™ÂÆö‰πâ Map Á±ªÂûãÂÆûÁé∞Â∫èÂàóÂåñÂô®Êó∂ÔºåÊâ©Â±ï MapSerializer Êàñ MapLikeSerializer„ÄÇ‰∏ªË¶ÅÂå∫Âà´ÊòØ MapLikeSerializer ÂèØ‰ª•Â∫èÂàóÂåñÂÖ∑ÊúâÁ±ª‰ºº map ÁªìÊûÑ‰ΩÜ‰∏çÊòØ Java Map Â≠êÁ±ªÂûãÁöÑÁ±ª„ÄÇ  ","version":"0.15","tagName":"h2"},{"title":"Â∏¶ JIT ÊîØÊåÅÁöÑ Map Â∫èÂàóÂåñÂô®‚Äã","type":1,"pageTitle":"Ëá™ÂÆö‰πâÂ∫èÂàóÂåñÂô®","url":"/zh-CN/docs/guide/java/custom_serializers#Â∏¶-jit-ÊîØÊåÅÁöÑ-map-Â∫èÂàóÂåñÂô®","content":" public class CustomMapSerializer&lt;T extends Map&gt; extends MapSerializer&lt;T&gt; { public CustomMapSerializer(Fory fory, Class&lt;T&gt; cls) { // supportCodegenHook ÊòØÂÜ≥ÂÆöÂ∫èÂàóÂåñË°å‰∏∫ÁöÑÂÖ≥ÈîÆÂèÇÊï∞ super(fory, cls, true); } @Override public Map onMapWrite(MemoryBuffer buffer, T value) { // ÂÜôÂÖ• map Â§ßÂ∞è buffer.writeVarUint32Small7(value.size()); // Âú®ËøôÈáåÂÜôÂÖ•‰ªª‰ΩïÈ¢ùÂ§ñÁöÑ map ÂÖÉÊï∞ÊçÆ return value; } @Override public Map newMap(MemoryBuffer buffer) { // ËØªÂèñ map Â§ßÂ∞è int numElements = buffer.readVarUint32Small7(); setNumElements(numElements); // ÂàõÂª∫Âπ∂ËøîÂõûÊñ∞ÁöÑ map ÂÆû‰æã T map = (T) new HashMap(numElements); fory.getRefResolver().reference(map); return map; } }   Ê≥®ÊÑèÔºöÂú®ÂÆûÁé∞ newMap Êó∂Ë∞ÉÁî® setNumElementsÔºåËÆ© Fory Áü•ÈÅìË¶ÅÂèçÂ∫èÂàóÂåñÂ§öÂ∞ëÂÖÉÁ¥†„ÄÇ  ","version":"0.15","tagName":"h3"},{"title":"‰∏çÂ∏¶ JIT ÁöÑËá™ÂÆö‰πâ Map Â∫èÂàóÂåñÂô®‚Äã","type":1,"pageTitle":"Ëá™ÂÆö‰πâÂ∫èÂàóÂåñÂô®","url":"/zh-CN/docs/guide/java/custom_serializers#‰∏çÂ∏¶-jit-ÁöÑËá™ÂÆö‰πâ-map-Â∫èÂàóÂåñÂô®","content":" ÂØπ‰∫éÂÆåÂÖ®ÊéßÂà∂Â∫èÂàóÂåñËøáÁ®ãÔºö  class FixedValueMap extends AbstractMap&lt;String, Integer&gt; { private final Set&lt;String&gt; keys; private final int fixedValue; public FixedValueMap(Set&lt;String&gt; keys, int fixedValue) { this.keys = keys; this.fixedValue = fixedValue; } @Override public Set&lt;Entry&lt;String, Integer&gt;&gt; entrySet() { Set&lt;Entry&lt;String, Integer&gt;&gt; entries = new HashSet&lt;&gt;(); for (String key : keys) { entries.add(new SimpleEntry&lt;&gt;(key, fixedValue)); } return entries; } @Override public Integer get(Object key) { return keys.contains(key) ? fixedValue : null; } public Set&lt;String&gt; getKeys() { return keys; } public int getFixedValue() { return fixedValue; } } class FixedValueMapSerializer extends MapLikeSerializer&lt;FixedValueMap&gt; { public FixedValueMapSerializer(Fory fory) { // Á¶ÅÁî® codegenÔºåÂõ†‰∏∫Êàë‰ª¨Áõ¥Êé•Â§ÑÁêÜÂ∫èÂàóÂåñ super(fory, FixedValueMap.class, false); } @Override public void write(MemoryBuffer buffer, FixedValueMap value) { // ÂÜôÂÖ•Âõ∫ÂÆöÂÄº buffer.writeInt32(value.getFixedValue()); // ÂÜôÂÖ•ÈîÆÁöÑÊï∞Èáè buffer.writeVarUint32Small7(value.getKeys().size()); // ÂÜôÂÖ•ÊØè‰∏™ÈîÆ for (String key : value.getKeys()) { buffer.writeString(key); } } @Override public FixedValueMap read(MemoryBuffer buffer) { // ËØªÂèñÂõ∫ÂÆöÂÄº int fixedValue = buffer.readInt32(); // ËØªÂèñÈîÆÁöÑÊï∞Èáè int size = buffer.readVarUint32Small7(); Set&lt;String&gt; keys = new HashSet&lt;&gt;(size); for (int i = 0; i &lt; size; i++) { keys.add(buffer.readString()); } return new FixedValueMap(keys, fixedValue); } // ÂΩì supportCodegenHook ‰∏∫ false Êó∂‰∏ç‰ΩøÁî®Ëøô‰∫õÊñπÊ≥ï @Override public Map onMapWrite(MemoryBuffer buffer, FixedValueMap value) { throw new UnsupportedOperationException(); } @Override public FixedValueMap onMapRead(Map map) { throw new UnsupportedOperationException(); } @Override public FixedValueMap onMapCopy(Map map) { throw new UnsupportedOperationException(); } }   ","version":"0.15","tagName":"h3"},{"title":"Á±ª Map Á±ªÂûãÂ∫èÂàóÂåñÂô®‚Äã","type":1,"pageTitle":"Ëá™ÂÆö‰πâÂ∫èÂàóÂåñÂô®","url":"/zh-CN/docs/guide/java/custom_serializers#Á±ª-map-Á±ªÂûãÂ∫èÂàóÂåñÂô®","content":" ÂØπ‰∫éË°å‰∏∫Á±ª‰ºº map ‰ΩÜ‰∏çÊòØÊ†áÂáÜ Java Map ÁöÑÁ±ªÂûãÔºö  class CustomMapLike { private final Object[] keyArray; private final Object[] valueArray; private final int size; public CustomMapLike(int initialCapacity) { this.keyArray = new Object[initialCapacity]; this.valueArray = new Object[initialCapacity]; this.size = 0; } public CustomMapLike(Object[] keyArray, Object[] valueArray, int size) { this.keyArray = keyArray; this.valueArray = valueArray; this.size = size; } public Integer get(String key) { for (int i = 0; i &lt; size; i++) { if (key.equals(keyArray[i])) { return (Integer) valueArray[i]; } } return null; } public int size() { return size; } public Object[] getKeyArray() { return keyArray; } public Object[] getValueArray() { return valueArray; } } class MapView extends AbstractMap&lt;Object, Object&gt; { private final Object[] keyArray; private final Object[] valueArray; private final int size; private int writeIndex; public MapView(CustomMapLike mapLike) { this.size = mapLike.size(); this.keyArray = mapLike.getKeyArray(); this.valueArray = mapLike.getValueArray(); } public MapView(int size) { this.size = size; this.keyArray = new Object[size]; this.valueArray = new Object[size]; } @Override public Set&lt;Entry&lt;Object, Object&gt;&gt; entrySet() { return new AbstractSet&lt;Entry&lt;Object, Object&gt;&gt;() { @Override public Iterator&lt;Entry&lt;Object, Object&gt;&gt; iterator() { return new Iterator&lt;Entry&lt;Object, Object&gt;&gt;() { private int index = 0; @Override public boolean hasNext() { return index &lt; size; } @Override public Entry&lt;Object, Object&gt; next() { if (!hasNext()) { throw new NoSuchElementException(); } final int currentIndex = index++; return new SimpleEntry&lt;&gt;( keyArray[currentIndex], valueArray[currentIndex] ); } }; } @Override public int size() { return size; } }; } @Override public Object put(Object key, Object value) { if (writeIndex &gt;= size) { throw new IllegalStateException(&quot;Map is full&quot;); } keyArray[writeIndex] = key; valueArray[writeIndex] = value; writeIndex++; return null; } public Object[] getKeyArray() { return keyArray; } public Object[] getValueArray() { return valueArray; } public int size() { return size; } } class CustomMapLikeSerializer extends MapLikeSerializer&lt;CustomMapLike&gt; { public CustomMapLikeSerializer(Fory fory) { super(fory, CustomMapLike.class, true); } @Override public Map onMapWrite(MemoryBuffer buffer, CustomMapLike value) { buffer.writeVarUint32Small7(value.size()); return new MapView(value); } @Override public Map newMap(MemoryBuffer buffer) { int numElements = buffer.readVarUint32Small7(); setNumElements(numElements); return new MapView(numElements); } @Override public CustomMapLike onMapRead(Map map) { MapView view = (MapView) map; return new CustomMapLike(view.getKeyArray(), view.getValueArray(), view.size()); } @Override public CustomMapLike onMapCopy(Map map) { MapView view = (MapView) map; return new CustomMapLike(view.getKeyArray(), view.getValueArray(), view.size()); } }   ","version":"0.15","tagName":"h3"},{"title":"Ê≥®ÂÜåËá™ÂÆö‰πâÂ∫èÂàóÂåñÂô®‚Äã","type":1,"pageTitle":"Ëá™ÂÆö‰πâÂ∫èÂàóÂåñÂô®","url":"/zh-CN/docs/guide/java/custom_serializers#Ê≥®ÂÜåËá™ÂÆö‰πâÂ∫èÂàóÂåñÂô®","content":" Fory fory = Fory.builder() .withLanguage(Language.JAVA) .build(); // Ê≥®ÂÜå map Â∫èÂàóÂåñÂô® fory.registerSerializer(CustomMap.class, new CustomMapSerializer&lt;&gt;(fory, CustomMap.class)); // Ê≥®ÂÜåÈõÜÂêàÂ∫èÂàóÂåñÂô® fory.registerSerializer(CustomCollection.class, new CustomCollectionSerializer&lt;&gt;(fory, CustomCollection.class));   ","version":"0.15","tagName":"h2"},{"title":"ÂÖ≥ÈîÆÁÇπ‚Äã","type":1,"pageTitle":"Ëá™ÂÆö‰πâÂ∫èÂàóÂåñÂô®","url":"/zh-CN/docs/guide/java/custom_serializers#ÂÖ≥ÈîÆÁÇπ","content":" ÂÆûÁé∞Ëá™ÂÆö‰πâ map ÊàñÈõÜÂêàÂ∫èÂàóÂåñÂô®Êó∂Ôºö  ÂßãÁªàÊâ©Â±ïÈÄÇÂΩìÁöÑÂü∫Á±ªÔºàmap ‰ΩøÁî® MapSerializer/MapLikeSerializerÔºåÈõÜÂêà‰ΩøÁî® CollectionSerializer/CollectionLikeSerializerÔºâËÄÉËôë supportCodegenHook ÂØπÊÄßËÉΩÂíåÂäüËÉΩÁöÑÂΩ±ÂìçÂ¶ÇÊûúÈúÄË¶ÅÔºåÈÄÇÂΩìÂ§ÑÁêÜÂºïÁî®Ë∑üË∏™ÂΩì supportCodegenHook ‰∏∫ true Êó∂Ôºå‰ΩøÁî® setNumElements Âíå getAndClearNumElements ÂÆûÁé∞ÈÄÇÂΩìÁöÑÂ§ßÂ∞èÁÆ°ÁêÜ  ","version":"0.15","tagName":"h2"},{"title":"Áõ∏ÂÖ≥‰∏ªÈ¢ò‚Äã","type":1,"pageTitle":"Ëá™ÂÆö‰πâÂ∫èÂàóÂåñÂô®","url":"/zh-CN/docs/guide/java/custom_serializers#Áõ∏ÂÖ≥‰∏ªÈ¢ò","content":" Á±ªÂûãÊ≥®ÂÜå - Ê≥®ÂÜåÂ∫èÂàóÂåñÂô®Schema ÊºîÂåñ - ÂÖºÂÆπÊ®°ÂºèËÄÉËôëÈÖçÁΩÆÈÄâÈ°π - Â∫èÂàóÂåñÈÄâÈ°π ","version":"0.15","tagName":"h2"},{"title":"Fory ÂàõÂª∫","type":0,"sectionRef":"#","url":"/zh-CN/docs/guide/kotlin/fory_creation","content":"","keywords":"","version":"0.15"},{"title":"Âü∫Êú¨ËÆæÁΩÆ‚Äã","type":1,"pageTitle":"Fory ÂàõÂª∫","url":"/zh-CN/docs/guide/kotlin/fory_creation#Âü∫Êú¨ËÆæÁΩÆ","content":" Âú®‰ΩøÁî® Fory ËøõË°å Kotlin Â∫èÂàóÂåñÊó∂ÔºåÈÄöËøá KotlinSerializers.registerSerializers(fory) Ê≥®ÂÜå Kotlin Â∫èÂàóÂåñÂô®Ôºö  import org.apache.fory.Fory import org.apache.fory.serializer.kotlin.KotlinSerializers val fory = Fory.builder() .requireClassRegistration(true) .build() // Ê≥®ÂÜå Kotlin Â∫èÂàóÂåñÂô® KotlinSerializers.registerSerializers(fory)   ","version":"0.15","tagName":"h2"},{"title":"Á∫øÁ®ãÂÆâÂÖ®‚Äã","type":1,"pageTitle":"Fory ÂàõÂª∫","url":"/zh-CN/docs/guide/kotlin/fory_creation#Á∫øÁ®ãÂÆâÂÖ®","content":" Fory ÂÆû‰æãÁöÑÂàõÂª∫ÊàêÊú¨‰∏ç‰Ωé„ÄÇÂÆû‰æãÂ∫îËØ•Âú®Â§öÊ¨°Â∫èÂàóÂåñ‰πãÈó¥ÂÖ±‰∫´„ÄÇ  ","version":"0.15","tagName":"h2"},{"title":"ÂçïÁ∫øÁ®ã‰ΩøÁî®‚Äã","type":1,"pageTitle":"Fory ÂàõÂª∫","url":"/zh-CN/docs/guide/kotlin/fory_creation#ÂçïÁ∫øÁ®ã‰ΩøÁî®","content":" import org.apache.fory.Fory import org.apache.fory.serializer.kotlin.KotlinSerializers object ForyHolder { val fory: Fory = Fory.builder() .requireClassRegistration(true) .build().also { KotlinSerializers.registerSerializers(it) } }   ","version":"0.15","tagName":"h3"},{"title":"Â§öÁ∫øÁ®ã‰ΩøÁî®‚Äã","type":1,"pageTitle":"Fory ÂàõÂª∫","url":"/zh-CN/docs/guide/kotlin/fory_creation#Â§öÁ∫øÁ®ã‰ΩøÁî®","content":" ÂØπ‰∫éÂ§öÁ∫øÁ®ãÂ∫îÁî®Á®ãÂ∫èÔºå‰ΩøÁî® ThreadSafeForyÔºö  import org.apache.fory.Fory import org.apache.fory.ThreadSafeFory import org.apache.fory.ThreadLocalFory import org.apache.fory.serializer.kotlin.KotlinSerializers object ForyHolder { val fory: ThreadSafeFory = ThreadLocalFory { classLoader -&gt; Fory.builder() .withClassLoader(classLoader) .requireClassRegistration(true) .build().also { KotlinSerializers.registerSerializers(it) } } }   ","version":"0.15","tagName":"h3"},{"title":"‰ΩøÁî®ÊûÑÂª∫Âô®ÊñπÊ≥ï‚Äã","type":1,"pageTitle":"Fory ÂàõÂª∫","url":"/zh-CN/docs/guide/kotlin/fory_creation#‰ΩøÁî®ÊûÑÂª∫Âô®ÊñπÊ≥ï","content":" // Á∫øÁ®ãÂÆâÂÖ®ÁöÑ Fory val fory: ThreadSafeFory = Fory.builder() .requireClassRegistration(true) .buildThreadSafeFory() KotlinSerializers.registerSerializers(fory)   ","version":"0.15","tagName":"h3"},{"title":"ÈÖçÁΩÆÈÄâÈ°π‚Äã","type":1,"pageTitle":"Fory ÂàõÂª∫","url":"/zh-CN/docs/guide/kotlin/fory_creation#ÈÖçÁΩÆÈÄâÈ°π","content":" Fory Java ÁöÑÊâÄÊúâÈÖçÁΩÆÈÄâÈ°πÈÉΩÂèØÁî®„ÄÇÂÆåÊï¥ÂàóË°®ËØ∑ÂèÇÈòÖ Java ÈÖçÁΩÆÈÄâÈ°π„ÄÇ  Kotlin ÁöÑÂ∏∏Áî®ÈÄâÈ°πÔºö  import org.apache.fory.Fory import org.apache.fory.config.CompatibleMode import org.apache.fory.serializer.kotlin.KotlinSerializers val fory = Fory.builder() // ÂêØÁî®Âæ™ÁéØÂºïÁî®ÁöÑÂºïÁî®Ë∑üË∏™ .withRefTracking(true) // ÂêØÁî® schema ÊºîÂåñÊîØÊåÅ .withCompatibleMode(CompatibleMode.COMPATIBLE) // ÂêØÁî®ÂºÇÊ≠•ÁºñËØë‰ª•Ëé∑ÂæóÊõ¥Â•ΩÁöÑÂêØÂä®ÊÄßËÉΩ .withAsyncCompilation(true) // ÂéãÁº©ÈÄâÈ°π .withIntCompressed(true) .withLongCompressed(true) .build() KotlinSerializers.registerSerializers(fory)  ","version":"0.15","tagName":"h2"},{"title":"Python Â∫èÂàóÂåñÊåáÂçó","type":0,"sectionRef":"#","url":"/zh-CN/docs/guide/python/","content":"","keywords":"","version":"0.15"},{"title":"Ê†∏ÂøÉÁâπÊÄß‚Äã","type":1,"pageTitle":"Python Â∫èÂàóÂåñÊåáÂçó","url":"/zh-CN/docs/guide/python/#Ê†∏ÂøÉÁâπÊÄß","content":" ","version":"0.15","tagName":"h2"},{"title":"ÁÅµÊ¥ªÁöÑÂ∫èÂàóÂåñÊ®°Âºè‚Äã","type":1,"pageTitle":"Python Â∫èÂàóÂåñÊåáÂçó","url":"/zh-CN/docs/guide/python/#ÁÅµÊ¥ªÁöÑÂ∫èÂàóÂåñÊ®°Âºè","content":" Python ÂéüÁîüÊ®°ÂºèÔºöÂÆåÂÖ® Python ÂÖºÂÆπÔºåÂèØÊõø‰ª£ pickle/cloudpickleË∑®ËØ≠Ë®ÄÊ®°ÂºèÔºöÈíàÂØπÂ§öËØ≠Ë®ÄÊï∞ÊçÆ‰∫§Êç¢‰ºòÂåñË°åÊ†ºÂºèÔºöÁî®‰∫éÂàÜÊûêÂ∑•‰ΩúË¥üËΩΩÁöÑÈõ∂Êã∑Ë¥ùË°åÊ†ºÂºè  ","version":"0.15","tagName":"h3"},{"title":"Â§öÂäüËÉΩÂ∫èÂàóÂåñÁâπÊÄß‚Äã","type":1,"pageTitle":"Python Â∫èÂàóÂåñÊåáÂçó","url":"/zh-CN/docs/guide/python/#Â§öÂäüËÉΩÂ∫èÂàóÂåñÁâπÊÄß","content":" ÂÖ±‰∫´/Âæ™ÁéØÂºïÁî®ÊîØÊåÅÔºöÂú® Python ÂéüÁîüÂíåË∑®ËØ≠Ë®ÄÊ®°Âºè‰∏≠ÊîØÊåÅÂ§çÊùÇÂØπË±°ÂõæÂ§öÊÄÅÊîØÊåÅÔºöËá™ÂÆö‰πâÁ±ªÂûãÁöÑËá™Âä®Á±ªÂûãÂàÜÂèëSchema ÊºîÂåñÊîØÊåÅÔºöÂú®Ë∑®ËØ≠Ë®ÄÊ®°Âºè‰∏ã‰ΩøÁî® dataclass Êó∂ÁöÑÂêëÂêé/ÂêëÂâçÂÖºÂÆπÊÄßÂ∏¶Â§ñÁºìÂÜ≤Âå∫ÊîØÊåÅÔºöÈõ∂Êã∑Ë¥ùÂ∫èÂàóÂåñÂ§ßÂûãÊï∞ÊçÆÁªìÊûÑÔºàÂ¶Ç NumPy Êï∞ÁªÑÂíå Pandas DataFrameÔºâÔºåÂÖºÂÆπ pickle ÂçèËÆÆ 5  ","version":"0.15","tagName":"h3"},{"title":"ÊûÅÈÄüÊÄßËÉΩ‚Äã","type":1,"pageTitle":"Python Â∫èÂàóÂåñÊåáÂçó","url":"/zh-CN/docs/guide/python/#ÊûÅÈÄüÊÄßËÉΩ","content":" Ë∂ÖÂø´ÊÄßËÉΩÔºöÁõ∏ÊØîÂÖ∂‰ªñÂ∫èÂàóÂåñÊ°ÜÊû∂ËøêË°åÊó∂‰ª£Á†ÅÁîüÊàêÂíå Cython Âä†ÈÄüÁöÑÊ†∏ÂøÉÂÆûÁé∞ÔºåÂÆûÁé∞ÊúÄ‰ºòÊÄßËÉΩ  ","version":"0.15","tagName":"h3"},{"title":"Á¥ßÂáëÊï∞ÊçÆÂ§ßÂ∞è‚Äã","type":1,"pageTitle":"Python Â∫èÂàóÂåñÊåáÂçó","url":"/zh-CN/docs/guide/python/#Á¥ßÂáëÊï∞ÊçÆÂ§ßÂ∞è","content":" Á¥ßÂáëÁöÑÂØπË±°ÂõæÂçèËÆÆÔºöÊúÄÂ∞èÁ©∫Èó¥ÂºÄÈîÄ‚Äî‚ÄîÁõ∏ÊØî pickle/cloudpickle ÂáèÂ∞ëÈ´òËææ 3 ÂÄçÂ§ßÂ∞èÂÖÉÊï∞ÊçÆÊâìÂåÖ‰∏éÂÖ±‰∫´ÔºöÊúÄÂ∞èÂåñÁ±ªÂûãÂêëÂâç/ÂêëÂêéÂÖºÂÆπÊÄßÁöÑÁ©∫Èó¥ÂºÄÈîÄ  ","version":"0.15","tagName":"h3"},{"title":"ÂÆâÂÖ®ÊÄß‰∏éÂÆâÂÖ®‚Äã","type":1,"pageTitle":"Python Â∫èÂàóÂåñÊåáÂçó","url":"/zh-CN/docs/guide/python/#ÂÆâÂÖ®ÊÄß‰∏éÂÆâÂÖ®","content":" ‰∏•Ê†ºÊ®°ÂºèÔºöÈÄöËøáÁ±ªÂûãÊ≥®ÂÜåÂíåÊ£ÄÊü•Èò≤Ê≠¢ÂèçÂ∫èÂàóÂåñ‰∏çÂèó‰ø°‰ªªÁöÑÁ±ªÂûãÂºïÁî®Ë∑üË∏™ÔºöÂÆâÂÖ®Â§ÑÁêÜÂæ™ÁéØÂºïÁî®  ","version":"0.15","tagName":"h3"},{"title":"ÂÆâË£Ö‚Äã","type":1,"pageTitle":"Python Â∫èÂàóÂåñÊåáÂçó","url":"/zh-CN/docs/guide/python/#ÂÆâË£Ö","content":" ","version":"0.15","tagName":"h2"},{"title":"Âü∫Á°ÄÂÆâË£Ö‚Äã","type":1,"pageTitle":"Python Â∫èÂàóÂåñÊåáÂçó","url":"/zh-CN/docs/guide/python/#Âü∫Á°ÄÂÆâË£Ö","content":" pip install pyfory   ","version":"0.15","tagName":"h3"},{"title":"ÂèØÈÄâ‰æùËµñ‚Äã","type":1,"pageTitle":"Python Â∫èÂàóÂåñÊåáÂçó","url":"/zh-CN/docs/guide/python/#ÂèØÈÄâ‰æùËµñ","content":" # ÂÆâË£ÖË°åÊ†ºÂºèÊîØÊåÅÔºàÈúÄË¶Å Apache ArrowÔºâ pip install pyfory[format] # ‰ªéÊ∫êÁ†ÅÂÆâË£ÖÁî®‰∫éÂºÄÂèë git clone https://github.com/apache/fory.git cd fory/python pip install -e &quot;.[dev,format]&quot;   ","version":"0.15","tagName":"h3"},{"title":"Á≥ªÁªüË¶ÅÊ±Ç‚Äã","type":1,"pageTitle":"Python Â∫èÂàóÂåñÊåáÂçó","url":"/zh-CN/docs/guide/python/#Á≥ªÁªüË¶ÅÊ±Ç","content":" PythonÔºö3.8 ÊàñÊõ¥È´òÁâàÊú¨Êìç‰ΩúÁ≥ªÁªüÔºöLinux„ÄÅmacOS„ÄÅWindows  ","version":"0.15","tagName":"h3"},{"title":"Á∫øÁ®ãÂÆâÂÖ®‚Äã","type":1,"pageTitle":"Python Â∫èÂàóÂåñÊåáÂçó","url":"/zh-CN/docs/guide/python/#Á∫øÁ®ãÂÆâÂÖ®","content":" pyfory Êèê‰æõ ThreadSafeFory Áî®‰∫éÁ∫øÁ®ãÂÆâÂÖ®Â∫èÂàóÂåñÔºå‰ΩøÁî®Á∫øÁ®ãÊú¨Âú∞Â≠òÂÇ®Ôºö  import pyfory import threading from dataclasses import dataclass @dataclass class Person: name: str age: int # ÂàõÂª∫Á∫øÁ®ãÂÆâÂÖ®ÁöÑ Fory ÂÆû‰æã fory = pyfory.ThreadSafeFory(xlang=False, ref=True) fory.register(Person) # Âú®Â§öÁ∫øÁ®ã‰∏≠ÂÆâÂÖ®‰ΩøÁî® def serialize_in_thread(thread_id): person = Person(name=f&quot;User{thread_id}&quot;, age=25 + thread_id) data = fory.serialize(person) result = fory.deserialize(data) print(f&quot;Thread {thread_id}: {result}&quot;) threads = [threading.Thread(target=serialize_in_thread, args=(i,)) for i in range(10)] for t in threads: t.start() for t in threads: t.join()   Ê†∏ÂøÉÁâπÊÄßÔºö  ÂÆû‰æãÊ±†ÔºöÁª¥Êä§‰∏Ä‰∏™ÂèóÈîÅ‰øùÊä§ÁöÑ Fory ÂÆû‰æãÊ±†ÔºåÁ°Æ‰øùÁ∫øÁ®ãÂÆâÂÖ®ÂÖ±‰∫´ÈÖçÁΩÆÔºöÊâÄÊúâÊ≥®ÂÜåÂøÖÈ°ªÈ¢ÑÂÖàÂÆåÊàêÔºåÂπ∂Â∫îÁî®‰∫éÊâÄÊúâÂÆû‰æãÁõ∏Âêå APIÔºö‰∏é Fory Á±ªÁõ∏ÂêåÁöÑÊñπÊ≥ïÔºåÂèØÁõ¥Êé•ÊõøÊç¢Ê≥®ÂÜåÂÆâÂÖ®ÔºöÈò≤Ê≠¢È¶ñÊ¨°‰ΩøÁî®ÂêéÊ≥®ÂÜåÔºåÁ°Æ‰øù‰∏ÄËá¥ÊÄß  ÈÄÇÁî®Âú∫ÊôØÔºö  Â§öÁ∫øÁ®ãÂ∫îÁî®Á®ãÂ∫èÔºöWeb ÊúçÂä°Âô®„ÄÅÂπ∂ÂèëÂ∑•‰ΩúÁ∫øÁ®ã„ÄÅÂπ∂Ë°åÂ§ÑÁêÜÂÖ±‰∫´ Fory ÂÆû‰æãÔºöÂΩìÂ§ö‰∏™Á∫øÁ®ãÈúÄË¶ÅÂ∫èÂàóÂåñ/ÂèçÂ∫èÂàóÂåñÊï∞ÊçÆÊó∂Á∫øÁ®ãÊ±†Ôºö‰ΩøÁî®Á∫øÁ®ãÊ±†Êàñ concurrent.futures ÁöÑÂ∫îÁî®Á®ãÂ∫è  ","version":"0.15","tagName":"h2"},{"title":"Âø´ÈÄüÂºÄÂßã‚Äã","type":1,"pageTitle":"Python Â∫èÂàóÂåñÊåáÂçó","url":"/zh-CN/docs/guide/python/#Âø´ÈÄüÂºÄÂßã","content":" import pyfory from dataclasses import dataclass @dataclass class Person: name: str age: int # ÂàõÂª∫ Fory ÂÆû‰æã fory = pyfory.Fory(xlang=False, ref=True) fory.register(Person) person = Person(&quot;Alice&quot;, 30) data = fory.serialize(person) result = fory.deserialize(data) print(result) # Person(name='Alice', age=30)   ","version":"0.15","tagName":"h2"},{"title":"ÂêéÁª≠Ê≠•È™§‚Äã","type":1,"pageTitle":"Python Â∫èÂàóÂåñÊåáÂçó","url":"/zh-CN/docs/guide/python/#ÂêéÁª≠Ê≠•È™§","content":" ÈÖçÁΩÆ - Fory ÂèÇÊï∞ÂíåÊ®°ÂºèÂü∫Á°ÄÂ∫èÂàóÂåñ - Âü∫Á°Ä‰ΩøÁî®Ê®°ÂºèPython ÂéüÁîüÊ®°Âºè - ÂáΩÊï∞„ÄÅlambda„ÄÅÁ±ªË∑®ËØ≠Ë®Ä - XLANG Ê®°ÂºèË°åÊ†ºÂºè - Èõ∂Êã∑Ë¥ùË°åÊ†ºÂºèÂÆâÂÖ®ÊÄß - ÂÆâÂÖ®ÊúÄ‰Ω≥ÂÆûË∑µ  ","version":"0.15","tagName":"h2"},{"title":"ÈìæÊé•‚Äã","type":1,"pageTitle":"Python Â∫èÂàóÂåñÊåáÂçó","url":"/zh-CN/docs/guide/python/#ÈìæÊé•","content":" ÊñáÊ°£Ôºöhttps://fory.apache.org/docs/latest/python_guide/GitHubÔºöhttps://github.com/apache/foryPyPIÔºöhttps://pypi.org/project/pyfory/ÈóÆÈ¢òÂèçÈ¶àÔºöhttps://github.com/apache/fory/issuesSlackÔºöhttps://join.slack.com/t/fory-project/shared_invite/zt-36g0qouzm-kcQSvV_dtfbtBKHRwT5gsw ","version":"0.15","tagName":"h2"},{"title":"Á±ªÂûãÂ∫èÂàóÂåñ","type":0,"sectionRef":"#","url":"/zh-CN/docs/guide/kotlin/type_serialization","content":"","keywords":"","version":"0.15"},{"title":"ËÆæÁΩÆ‚Äã","type":1,"pageTitle":"Á±ªÂûãÂ∫èÂàóÂåñ","url":"/zh-CN/docs/guide/kotlin/type_serialization#ËÆæÁΩÆ","content":" ÊâÄÊúâÁ§∫‰æãÈÉΩÂÅáÂÆö‰ª•‰∏ãËÆæÁΩÆÔºö  import org.apache.fory.Fory import org.apache.fory.serializer.kotlin.KotlinSerializers val fory = Fory.builder() .requireClassRegistration(false) .build() KotlinSerializers.registerSerializers(fory)   ","version":"0.15","tagName":"h2"},{"title":"Êï∞ÊçÆÁ±ª‚Äã","type":1,"pageTitle":"Á±ªÂûãÂ∫èÂàóÂåñ","url":"/zh-CN/docs/guide/kotlin/type_serialization#Êï∞ÊçÆÁ±ª","content":" data class Person(val name: String, val age: Int, val id: Long) fory.register(Person::class.java) val p = Person(&quot;John&quot;, 30, 1L) println(fory.deserialize(fory.serialize(p)))   ","version":"0.15","tagName":"h2"},{"title":"Êó†Á¨¶Âè∑ÂéüÂßãÁ±ªÂûã‚Äã","type":1,"pageTitle":"Á±ªÂûãÂ∫èÂàóÂåñ","url":"/zh-CN/docs/guide/kotlin/type_serialization#Êó†Á¨¶Âè∑ÂéüÂßãÁ±ªÂûã","content":" ÂÆåÂÖ®ÊîØÊåÅ Kotlin Êó†Á¨¶Âè∑Á±ªÂûãÔºö  val uByte: UByte = 255u val uShort: UShort = 65535u val uInt: UInt = 4294967295u val uLong: ULong = 18446744073709551615u println(fory.deserialize(fory.serialize(uByte))) println(fory.deserialize(fory.serialize(uShort))) println(fory.deserialize(fory.serialize(uInt))) println(fory.deserialize(fory.serialize(uLong)))   ","version":"0.15","tagName":"h2"},{"title":"Êó†Á¨¶Âè∑Êï∞ÁªÑ‚Äã","type":1,"pageTitle":"Á±ªÂûãÂ∫èÂàóÂåñ","url":"/zh-CN/docs/guide/kotlin/type_serialization#Êó†Á¨¶Âè∑Êï∞ÁªÑ","content":" val uByteArray = ubyteArrayOf(1u, 2u, 255u) val uShortArray = ushortArrayOf(1u, 2u, 65535u) val uIntArray = uintArrayOf(1u, 2u, 4294967295u) val uLongArray = ulongArrayOf(1u, 2u, 18446744073709551615u) println(fory.deserialize(fory.serialize(uByteArray)).contentToString()) println(fory.deserialize(fory.serialize(uShortArray)).contentToString()) println(fory.deserialize(fory.serialize(uIntArray)).contentToString()) println(fory.deserialize(fory.serialize(uLongArray)).contentToString())   ","version":"0.15","tagName":"h2"},{"title":"Ê†áÂáÜÂ∫ìÁ±ªÂûã‚Äã","type":1,"pageTitle":"Á±ªÂûãÂ∫èÂàóÂåñ","url":"/zh-CN/docs/guide/kotlin/type_serialization#Ê†áÂáÜÂ∫ìÁ±ªÂûã","content":" ","version":"0.15","tagName":"h2"},{"title":"Pair Âíå Triple‚Äã","type":1,"pageTitle":"Á±ªÂûãÂ∫èÂàóÂåñ","url":"/zh-CN/docs/guide/kotlin/type_serialization#pair-Âíå-triple","content":" val pair = Pair(&quot;key&quot;, 42) val triple = Triple(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;) println(fory.deserialize(fory.serialize(pair))) println(fory.deserialize(fory.serialize(triple)))   ","version":"0.15","tagName":"h3"},{"title":"Result‚Äã","type":1,"pageTitle":"Á±ªÂûãÂ∫èÂàóÂåñ","url":"/zh-CN/docs/guide/kotlin/type_serialization#result","content":" val success: Result&lt;Int&gt; = Result.success(42) val failure: Result&lt;Int&gt; = Result.failure(Exception(&quot;error&quot;)) println(fory.deserialize(fory.serialize(success))) println(fory.deserialize(fory.serialize(failure)))   ","version":"0.15","tagName":"h3"},{"title":"ËåÉÂõ¥ÂíåÁ≠âÂ∑ÆÊï∞Âàó‚Äã","type":1,"pageTitle":"Á±ªÂûãÂ∫èÂàóÂåñ","url":"/zh-CN/docs/guide/kotlin/type_serialization#ËåÉÂõ¥ÂíåÁ≠âÂ∑ÆÊï∞Âàó","content":" val intRange = 1..10 val longRange = 1L..100L val charRange = 'a'..'z' println(fory.deserialize(fory.serialize(intRange))) println(fory.deserialize(fory.serialize(longRange))) println(fory.deserialize(fory.serialize(charRange))) // Á≠âÂ∑ÆÊï∞Âàó val intProgression = 1..10 step 2 val longProgression = 1L..100L step 10 println(fory.deserialize(fory.serialize(intProgression))) println(fory.deserialize(fory.serialize(longProgression)))   ","version":"0.15","tagName":"h2"},{"title":"ÈõÜÂêà‚Äã","type":1,"pageTitle":"Á±ªÂûãÂ∫èÂàóÂåñ","url":"/zh-CN/docs/guide/kotlin/type_serialization#ÈõÜÂêà","content":" ","version":"0.15","tagName":"h2"},{"title":"ArrayDeque‚Äã","type":1,"pageTitle":"Á±ªÂûãÂ∫èÂàóÂåñ","url":"/zh-CN/docs/guide/kotlin/type_serialization#arraydeque","content":" val deque = ArrayDeque&lt;String&gt;() deque.addFirst(&quot;first&quot;) deque.addLast(&quot;last&quot;) println(fory.deserialize(fory.serialize(deque)))   ","version":"0.15","tagName":"h3"},{"title":"Á©∫ÈõÜÂêà‚Äã","type":1,"pageTitle":"Á±ªÂûãÂ∫èÂàóÂåñ","url":"/zh-CN/docs/guide/kotlin/type_serialization#Á©∫ÈõÜÂêà","content":" val emptyList = emptyList&lt;String&gt;() val emptySet = emptySet&lt;Int&gt;() val emptyMap = emptyMap&lt;String, Int&gt;() println(fory.deserialize(fory.serialize(emptyList))) println(fory.deserialize(fory.serialize(emptySet))) println(fory.deserialize(fory.serialize(emptyMap)))   ","version":"0.15","tagName":"h3"},{"title":"Duration‚Äã","type":1,"pageTitle":"Á±ªÂûãÂ∫èÂàóÂåñ","url":"/zh-CN/docs/guide/kotlin/type_serialization#duration","content":" import kotlin.time.Duration import kotlin.time.Duration.Companion.hours import kotlin.time.Duration.Companion.minutes val duration: Duration = 2.hours + 30.minutes println(fory.deserialize(fory.serialize(duration)))   ","version":"0.15","tagName":"h2"},{"title":"Regex‚Äã","type":1,"pageTitle":"Á±ªÂûãÂ∫èÂàóÂåñ","url":"/zh-CN/docs/guide/kotlin/type_serialization#regex","content":" val regex = Regex(&quot;[a-zA-Z]+&quot;) println(fory.deserialize(fory.serialize(regex)))   ","version":"0.15","tagName":"h2"},{"title":"UUIDÔºàKotlin 2.0+Ôºâ‚Äã","type":1,"pageTitle":"Á±ªÂûãÂ∫èÂàóÂåñ","url":"/zh-CN/docs/guide/kotlin/type_serialization#uuidkotlin-20","content":" import kotlin.uuid.Uuid val uuid = Uuid.random() println(fory.deserialize(fory.serialize(uuid)))   ","version":"0.15","tagName":"h2"},{"title":"ÂºÄÁÆ±Âç≥Áî®ÁöÑÁ±ªÂûã‚Äã","type":1,"pageTitle":"Á±ªÂûãÂ∫èÂàóÂåñ","url":"/zh-CN/docs/guide/kotlin/type_serialization#ÂºÄÁÆ±Âç≥Áî®ÁöÑÁ±ªÂûã","content":" ‰ª•‰∏ãÁ±ªÂûãÂèØ‰ª•‰ΩøÁî®ÈªòËÆ§ÁöÑ Fory Java ÂÆûÁé∞ÔºåÊó†ÈúÄ‰ΩøÁî® KotlinSerializersÔºö  ÂéüÂßãÁ±ªÂûãÔºöByte„ÄÅBoolean„ÄÅInt„ÄÅShort„ÄÅLong„ÄÅChar„ÄÅFloat„ÄÅDoubleÂ≠óÁ¨¶‰∏≤ÔºöStringÈõÜÂêàÔºöArrayList„ÄÅHashMap„ÄÅHashSet„ÄÅLinkedHashSet„ÄÅLinkedHashMapÊï∞ÁªÑÔºöArray„ÄÅBooleanArray„ÄÅByteArray„ÄÅCharArray„ÄÅDoubleArray„ÄÅFloatArray„ÄÅIntArray„ÄÅLongArray„ÄÅShortArray  ‰ΩÜÊòØÔºåÂª∫ËÆÆÂßãÁªàË∞ÉÁî® KotlinSerializers.registerSerializers(fory) ‰ª•Á°Æ‰øùÊ≠£Á°ÆÊîØÊåÅÊâÄÊúâ Kotlin Á±ªÂûã„ÄÇ ","version":"0.15","tagName":"h2"},{"title":"Âü∫Á°ÄÂ∫èÂàóÂåñ","type":0,"sectionRef":"#","url":"/zh-CN/docs/guide/python/basic_serialization","content":"","keywords":"","version":"0.15"},{"title":"Âü∫Á°ÄÂØπË±°Â∫èÂàóÂåñ‚Äã","type":1,"pageTitle":"Âü∫Á°ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/guide/python/basic_serialization#Âü∫Á°ÄÂØπË±°Â∫èÂàóÂåñ","content":" ‰ΩøÁî®ÁÆÄÂçïÁöÑ API Â∫èÂàóÂåñÂíåÂèçÂ∫èÂàóÂåñ Python ÂØπË±°Ôºö  import pyfory # ÂàõÂª∫ Fory ÂÆû‰æã fory = pyfory.Fory(xlang=True) # Â∫èÂàóÂåñ‰ªª‰Ωï Python ÂØπË±° data = fory.dumps({&quot;name&quot;: &quot;Alice&quot;, &quot;age&quot;: 30, &quot;scores&quot;: [95, 87, 92]}) # ÂèçÂ∫èÂàóÂåñÂõû Python ÂØπË±° obj = fory.loads(data) print(obj) # {'name': 'Alice', 'age': 30, 'scores': [95, 87, 92]}   Ê≥®ÊÑèÔºödumps()/loads() ÊòØ serialize()/deserialize() ÁöÑÂà´Âêç„ÄÇ‰∏§‰∏™ API ÂÆåÂÖ®Áõ∏ÂêåÔºå‰ΩøÁî®‰ªª‰Ωï‰∏Ä‰∏™ÈÉΩÂèØ‰ª•„ÄÇ  ","version":"0.15","tagName":"h2"},{"title":"Ëá™ÂÆö‰πâÁ±ªÂ∫èÂàóÂåñ‚Äã","type":1,"pageTitle":"Âü∫Á°ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/guide/python/basic_serialization#Ëá™ÂÆö‰πâÁ±ªÂ∫èÂàóÂåñ","content":" Fory Ëá™Âä®Â§ÑÁêÜ dataclass ÂíåËá™ÂÆö‰πâÁ±ªÂûãÔºö  import pyfory from dataclasses import dataclass from typing import List, Dict @dataclass class Person: name: str age: int scores: List[int] metadata: Dict[str, str] # Python Ê®°Âºè - ÊîØÊåÅÊâÄÊúâ Python Á±ªÂûãÔºåÂåÖÊã¨ dataclass fory = pyfory.Fory(xlang=False, ref=True) fory.register(Person) person = Person(&quot;Bob&quot;, 25, [88, 92, 85], {&quot;team&quot;: &quot;engineering&quot;}) data = fory.serialize(person) result = fory.deserialize(data) print(result) # Person(name='Bob', age=25, ...)   ","version":"0.15","tagName":"h2"},{"title":"ÂºïÁî®Ë∑üË∏™ÂíåÂæ™ÁéØÂºïÁî®‚Äã","type":1,"pageTitle":"Âü∫Á°ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/guide/python/basic_serialization#ÂºïÁî®Ë∑üË∏™ÂíåÂæ™ÁéØÂºïÁî®","content":" ÂÆâÂÖ®Â§ÑÁêÜÂÖ±‰∫´ÂºïÁî®ÂíåÂæ™ÁéØ‰æùËµñÔºö  import pyfory f = pyfory.Fory(ref=True) # ÂêØÁî®ÂºïÁî®Ë∑üË∏™ # ÂÆâÂÖ®Â§ÑÁêÜÂæ™ÁéØÂºïÁî® class Node: def __init__(self, value): self.value = value self.children = [] self.parent = None root = Node(&quot;root&quot;) child = Node(&quot;child&quot;) child.parent = root # Âæ™ÁéØÂºïÁî® root.children.append(child) # Â∫èÂàóÂåñ‰∏ç‰ºöÂØºËá¥Êó†ÈôêÈÄíÂΩí data = f.serialize(root) result = f.deserialize(data) assert result.children[0].parent is result # ÂºïÁî®Ë¢´‰øùÁïô   ","version":"0.15","tagName":"h2"},{"title":"API ÂèÇËÄÉ‚Äã","type":1,"pageTitle":"Âü∫Á°ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/guide/python/basic_serialization#api-ÂèÇËÄÉ","content":" ","version":"0.15","tagName":"h2"},{"title":"Â∫èÂàóÂåñÊñπÊ≥ï‚Äã","type":1,"pageTitle":"Âü∫Á°ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/guide/python/basic_serialization#Â∫èÂàóÂåñÊñπÊ≥ï","content":" # Â∫èÂàóÂåñ‰∏∫Â≠óËäÇ data: bytes = fory.serialize(obj) data: bytes = fory.dumps(obj) # Âà´Âêç # ‰ªéÂ≠óËäÇÂèçÂ∫èÂàóÂåñ obj = fory.deserialize(data) obj = fory.loads(data) # Âà´Âêç   ","version":"0.15","tagName":"h3"},{"title":"‰ΩøÁî®Â∏¶Â§ñÁºìÂÜ≤Âå∫‚Äã","type":1,"pageTitle":"Âü∫Á°ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/guide/python/basic_serialization#‰ΩøÁî®Â∏¶Â§ñÁºìÂÜ≤Âå∫","content":" # ‰ΩøÁî®ÁºìÂÜ≤Âå∫ÂõûË∞ÉÂ∫èÂàóÂåñ buffer_objects = [] data = fory.serialize(obj, buffer_callback=buffer_objects.append) # ‰ΩøÁî®ÁºìÂÜ≤Âå∫ÂèçÂ∫èÂàóÂåñ buffers = [obj.getbuffer() for obj in buffer_objects] obj = fory.deserialize(data, buffers=buffers)   ","version":"0.15","tagName":"h3"},{"title":"ÊÄßËÉΩÊèêÁ§∫‚Äã","type":1,"pageTitle":"Âü∫Á°ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/guide/python/basic_serialization#ÊÄßËÉΩÊèêÁ§∫","content":" Â¶ÇÊûú‰∏çÈúÄË¶ÅÂàôÁ¶ÅÁî® ref=TrueÔºöÂºïÁî®Ë∑üË∏™ÊúâÂºÄÈîÄ‰ΩøÁî® type_id ËÄå‰∏çÊòØ typenameÔºöÊï¥Êï∞ ID ÊØîÂ≠óÁ¨¶‰∏≤ÂêçÁß∞Êõ¥Âø´ÈáçÁî® Fory ÂÆû‰æãÔºöÂàõÂª∫‰∏ÄÊ¨°ÔºåÂ§öÊ¨°‰ΩøÁî®ÂêØÁî® CythonÔºöÁ°Æ‰øù ENABLE_FORY_CYTHON_SERIALIZATION=1  # Â•ΩÔºöÈáçÁî®ÂÆû‰æã fory = pyfory.Fory() for obj in objects: data = fory.dumps(obj) # ÂùèÔºöÊØèÊ¨°ÂàõÂª∫Êñ∞ÂÆû‰æã for obj in objects: fory = pyfory.Fory() # Êµ™Ë¥πÔºÅ data = fory.dumps(obj)   ","version":"0.15","tagName":"h2"},{"title":"Áõ∏ÂÖ≥‰∏ªÈ¢ò‚Äã","type":1,"pageTitle":"Âü∫Á°ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/guide/python/basic_serialization#Áõ∏ÂÖ≥‰∏ªÈ¢ò","content":" ÈÖçÁΩÆ - Fory ÂèÇÊï∞Á±ªÂûãÊ≥®ÂÜå - Ê≥®ÂÜåÊ®°ÂºèPython ÂéüÁîüÊ®°Âºè - ÂáΩÊï∞Âíå lambda ","version":"0.15","tagName":"h2"},{"title":"ÈÖçÁΩÆ","type":0,"sectionRef":"#","url":"/zh-CN/docs/guide/python/configuration","content":"","keywords":"","version":"0.15"},{"title":"Fory Á±ª‚Äã","type":1,"pageTitle":"ÈÖçÁΩÆ","url":"/zh-CN/docs/guide/python/configuration#fory-Á±ª","content":" ‰∏ªË¶ÅÂ∫èÂàóÂåñÊé•Âè£Ôºö  class Fory: def __init__( self, xlang: bool = False, ref: bool = False, strict: bool = True, compatible: bool = False, max_depth: int = 50 )   ","version":"0.15","tagName":"h2"},{"title":"ThreadSafeFory Á±ª‚Äã","type":1,"pageTitle":"ÈÖçÁΩÆ","url":"/zh-CN/docs/guide/python/configuration#threadsafefory-Á±ª","content":" ‰ΩøÁî®Á∫øÁ®ãÊú¨Âú∞Â≠òÂÇ®ÁöÑÁ∫øÁ®ãÂÆâÂÖ®Â∫èÂàóÂåñÊé•Âè£Ôºö  class ThreadSafeFory: def __init__( self, xlang: bool = False, ref: bool = False, strict: bool = True, compatible: bool = False, max_depth: int = 50 )   ","version":"0.15","tagName":"h2"},{"title":"ÂèÇÊï∞‚Äã","type":1,"pageTitle":"ÈÖçÁΩÆ","url":"/zh-CN/docs/guide/python/configuration#ÂèÇÊï∞","content":" ÂèÇÊï∞\tÁ±ªÂûã\tÈªòËÆ§ÂÄº\tÊèèËø∞xlang\tbool\tFalse\tÂêØÁî®Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ„ÄÇÂΩì‰∏∫ False Êó∂ÔºåÂêØÁî® Python ÂéüÁîüÊ®°ÂºèÔºåÊîØÊåÅÊâÄÊúâ Python ÂØπË±°„ÄÇÂΩì‰∏∫ True Êó∂ÔºåÂêØÁî®Ë∑®ËØ≠Ë®ÄÊ®°ÂºèÔºåÂÖºÂÆπ Java„ÄÅGo„ÄÅRust Á≠â„ÄÇ ref\tbool\tFalse\tÂêØÁî®ÂºïÁî®Ë∑üË∏™‰ª•ÊîØÊåÅÂÖ±‰∫´/Âæ™ÁéØÂºïÁî®„ÄÇÂ¶ÇÊûúÊï∞ÊçÆÊ≤°ÊúâÂÖ±‰∫´ÂºïÁî®ÔºåÁ¶ÅÁî®Ê≠§ÈÄâÈ°πÂèØËé∑ÂæóÊõ¥Â•ΩÊÄßËÉΩ„ÄÇ strict\tbool\tTrue\tÂá∫‰∫éÂÆâÂÖ®ËÄÉËôëÈúÄË¶ÅÁ±ªÂûãÊ≥®ÂÜå„ÄÇÁîü‰∫ßÁéØÂ¢ÉÂº∫ÁÉàÊé®Ëçê„ÄÇ‰ªÖÂú®Âèó‰ø°‰ªªÁöÑÁéØÂ¢É‰∏≠Á¶ÅÁî®„ÄÇ compatible\tbool\tFalse\tÂú®Ë∑®ËØ≠Ë®ÄÊ®°Âºè‰∏≠ÂêØÁî® schema ÊºîÂåñÔºåÂÖÅËÆ∏Âú®‰øùÊåÅÂÖºÂÆπÊÄßÁöÑÂêåÊó∂Ê∑ªÂä†/Âà†Èô§Â≠óÊÆµ„ÄÇ max_depth\tint\t50\tÂèçÂ∫èÂàóÂåñÁöÑÊúÄÂ§ßÊ∑±Â∫¶ÔºåÁî®‰∫éÂÆâÂÖ®Èò≤Êä§ÔºåÈò≤Ê≠¢Ê†àÊ∫¢Âá∫ÊîªÂáª„ÄÇ  ","version":"0.15","tagName":"h2"},{"title":"Ê†∏ÂøÉÊñπÊ≥ï‚Äã","type":1,"pageTitle":"ÈÖçÁΩÆ","url":"/zh-CN/docs/guide/python/configuration#Ê†∏ÂøÉÊñπÊ≥ï","content":" # Â∫èÂàóÂåñÔºàserialize/deserialize ‰∏é dumps/loads ÂÆåÂÖ®Áõ∏ÂêåÔºâ data: bytes = fory.serialize(obj) obj = fory.deserialize(data) # Êõø‰ª£ APIÔºàÂà´ÂêçÔºâ data: bytes = fory.dumps(obj) obj = fory.loads(data) # Êåâ ID Ê≥®ÂÜåÁ±ªÂûãÔºàÁî®‰∫é Python Ê®°ÂºèÔºâ fory.register(MyClass, type_id=123) fory.register(MyClass, type_id=123, serializer=custom_serializer) # ÊåâÂêçÁß∞Ê≥®ÂÜåÁ±ªÂûãÔºàÁî®‰∫éË∑®ËØ≠Ë®ÄÊ®°ÂºèÔºâ fory.register(MyClass, typename=&quot;my.package.MyClass&quot;) fory.register(MyClass, typename=&quot;my.package.MyClass&quot;, serializer=custom_serializer)   ","version":"0.15","tagName":"h2"},{"title":"ËØ≠Ë®ÄÊ®°ÂºèÊØîËæÉ‚Äã","type":1,"pageTitle":"ÈÖçÁΩÆ","url":"/zh-CN/docs/guide/python/configuration#ËØ≠Ë®ÄÊ®°ÂºèÊØîËæÉ","content":" ÁâπÊÄß\tPython Ê®°Âºè (xlang=False)\tË∑®ËØ≠Ë®ÄÊ®°Âºè (xlang=True)‰ΩøÁî®Âú∫ÊôØ\tÁ∫Ø Python Â∫îÁî®\tÂ§öËØ≠Ë®ÄÁ≥ªÁªü ÂÖºÂÆπÊÄß\t‰ªÖÈôê Python\tJava„ÄÅGo„ÄÅRust„ÄÅC++„ÄÅJavaScript Á≠â ÊîØÊåÅÁöÑÁ±ªÂûã\tÊâÄÊúâ Python Á±ªÂûã\t‰ªÖÈôêË∑®ËØ≠Ë®ÄÂÖºÂÆπÁ±ªÂûã ÂáΩÊï∞/Lambda\t‚úì ÊîØÊåÅ\t‚úó ‰∏çÂÖÅËÆ∏ Êú¨Âú∞Á±ª\t‚úì ÊîØÊåÅ\t‚úó ‰∏çÂÖÅËÆ∏ Âä®ÊÄÅÁ±ª\t‚úì ÊîØÊåÅ\t‚úó ‰∏çÂÖÅËÆ∏ Schema ÊºîÂåñ\t‚úì ÊîØÊåÅÔºàÈúÄË¶Å compatible=TrueÔºâ\t‚úì ÊîØÊåÅÔºàÈúÄË¶Å compatible=TrueÔºâ ÊÄßËÉΩ\tÊûÅÂø´\tÈùûÂ∏∏Âø´ Êï∞ÊçÆÂ§ßÂ∞è\tÁ¥ßÂáë\tÁ¥ßÂáëÔºàÂ∏¶Á±ªÂûãÂÖÉÊï∞ÊçÆÔºâ  ","version":"0.15","tagName":"h2"},{"title":"Python Ê®°Âºè (xlang=False)‚Äã","type":1,"pageTitle":"ÈÖçÁΩÆ","url":"/zh-CN/docs/guide/python/configuration#python-Ê®°Âºè-xlangfalse","content":" Python Ê®°ÂºèÊîØÊåÅÊâÄÊúâ Python Á±ªÂûãÔºåÂåÖÊã¨ÂáΩÊï∞„ÄÅÁ±ªÂíåÈó≠ÂåÖÔºö  import pyfory # ÂÆåÂÖ® Python ÂÖºÂÆπÊ®°Âºè fory = pyfory.Fory(xlang=False, ref=True, strict=False) # ÊîØÊåÅÊâÄÊúâ Python ÂØπË±°Ôºö data = fory.dumps({ 'function': lambda x: x * 2, # ÂáΩÊï∞Âíå lambda 'class': type('Dynamic', (), {}), # Âä®ÊÄÅÁ±ª 'method': str.upper, # ÊñπÊ≥ï 'nested': {'circular_ref': None} # Âæ™ÁéØÂºïÁî®ÔºàÂΩì ref=True Êó∂Ôºâ }) # ÂèØÁõ¥Êé•Êõø‰ª£ pickle/cloudpickle import pickle obj = [1, 2, {&quot;nested&quot;: [3, 4]}] assert fory.loads(fory.dumps(obj)) == pickle.loads(pickle.dumps(obj))   ","version":"0.15","tagName":"h2"},{"title":"Ë∑®ËØ≠Ë®ÄÊ®°Âºè (xlang=True)‚Äã","type":1,"pageTitle":"ÈÖçÁΩÆ","url":"/zh-CN/docs/guide/python/configuration#Ë∑®ËØ≠Ë®ÄÊ®°Âºè-xlangtrue","content":" Ë∑®ËØ≠Ë®ÄÊ®°ÂºèÂ∞ÜÁ±ªÂûãÈôêÂà∂‰∏∫ÊâÄÊúâ Fory ÂÆûÁé∞Èó¥ÂÖºÂÆπÁöÑÁ±ªÂûãÔºö  import pyfory # Ë∑®ËØ≠Ë®ÄÂÖºÂÆπÊ®°Âºè f = pyfory.Fory(xlang=True, ref=True) # ‰ªÖÊîØÊåÅË∑®ËØ≠Ë®ÄÂÖºÂÆπÁ±ªÂûã f.register(MyDataClass, typename=&quot;com.example.MyDataClass&quot;) # Êï∞ÊçÆÂèØ‰ª•Ë¢´ Java„ÄÅGo„ÄÅRust Á≠âËØªÂèñ data = f.serialize(MyDataClass(field1=&quot;value&quot;, field2=42))   ","version":"0.15","tagName":"h2"},{"title":"Á§∫‰æãÈÖçÁΩÆ‚Äã","type":1,"pageTitle":"ÈÖçÁΩÆ","url":"/zh-CN/docs/guide/python/configuration#Á§∫‰æãÈÖçÁΩÆ","content":" ","version":"0.15","tagName":"h2"},{"title":"Áîü‰∫ßÁéØÂ¢ÉÈÖçÁΩÆ‚Äã","type":1,"pageTitle":"ÈÖçÁΩÆ","url":"/zh-CN/docs/guide/python/configuration#Áîü‰∫ßÁéØÂ¢ÉÈÖçÁΩÆ","content":" import pyfory # Áîü‰∫ßÁéØÂ¢ÉÊé®ËçêËÆæÁΩÆ fory = pyfory.Fory( xlang=False, # Â¶ÇÊûúÈúÄË¶ÅË∑®ËØ≠Ë®ÄÊîØÊåÅÂàô‰ΩøÁî® True ref=False, # Â¶ÇÊûúÊúâÂÖ±‰∫´/Âæ™ÁéØÂºïÁî®ÂàôÂêØÁî® strict=True, # ÂÖ≥ÈîÆÔºöÁîü‰∫ßÁéØÂ¢ÉÂßãÁªà‰∏∫ True compatible=False, # ‰ªÖÂú®ÈúÄË¶Å schema ÊºîÂåñÊó∂ÂêØÁî® max_depth=20 # Ê†πÊçÆÊï∞ÊçÆÁªìÊûÑÊ∑±Â∫¶Ë∞ÉÊï¥ ) # È¢ÑÂÖàÊ≥®ÂÜåÊâÄÊúâÁ±ªÂûã fory.register(UserModel, type_id=100) fory.register(OrderModel, type_id=101) fory.register(ProductModel, type_id=102)   ","version":"0.15","tagName":"h3"},{"title":"ÂºÄÂèëÁéØÂ¢ÉÈÖçÁΩÆ‚Äã","type":1,"pageTitle":"ÈÖçÁΩÆ","url":"/zh-CN/docs/guide/python/configuration#ÂºÄÂèëÁéØÂ¢ÉÈÖçÁΩÆ","content":" import pyfory # ÂºÄÂèëËÆæÁΩÆÔºàÊõ¥ÂÆΩÊùæÔºâ fory = pyfory.Fory( xlang=False, ref=True, strict=False, # ÂºÄÂèëÊó∂ÂÖÅËÆ∏‰ªª‰ΩïÁ±ªÂûã max_depth=1000 # ÂºÄÂèëÊó∂Êõ¥È´òÁöÑÈôêÂà∂ )   ","version":"0.15","tagName":"h3"},{"title":"Áõ∏ÂÖ≥‰∏ªÈ¢ò‚Äã","type":1,"pageTitle":"ÈÖçÁΩÆ","url":"/zh-CN/docs/guide/python/configuration#Áõ∏ÂÖ≥‰∏ªÈ¢ò","content":" Âü∫Á°ÄÂ∫èÂàóÂåñ - ‰ΩøÁî®Â∑≤ÈÖçÁΩÆÁöÑ ForyÁ±ªÂûãÊ≥®ÂÜå - Ê≥®ÂÜåÊ®°ÂºèÂÆâÂÖ®ÊÄß - ÂÆâÂÖ®ÊúÄ‰Ω≥ÂÆûË∑µ ","version":"0.15","tagName":"h2"},{"title":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ","type":0,"sectionRef":"#","url":"/zh-CN/docs/guide/python/cross_language","content":"","keywords":"","version":"0.15"},{"title":"ÂêØÁî®Ë∑®ËØ≠Ë®ÄÊ®°Âºè‚Äã","type":1,"pageTitle":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/guide/python/cross_language#ÂêØÁî®Ë∑®ËØ≠Ë®ÄÊ®°Âºè","content":" Ë¶Å‰ΩøÁî® xlang Ê®°ÂºèÔºåÂàõÂª∫ Fory Êó∂ËÆæÁΩÆ xlang=TrueÔºö  import pyfory fory = pyfory.Fory(xlang=True, ref=False, strict=True)   ","version":"0.15","tagName":"h2"},{"title":"Ë∑®ËØ≠Ë®ÄÁ§∫‰æã‚Äã","type":1,"pageTitle":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/guide/python/cross_language#Ë∑®ËØ≠Ë®ÄÁ§∫‰æã","content":" ","version":"0.15","tagName":"h2"},{"title":"PythonÔºàÂ∫èÂàóÂåñÂô®Ôºâ‚Äã","type":1,"pageTitle":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/guide/python/cross_language#pythonÂ∫èÂàóÂåñÂô®","content":" import pyfory from dataclasses import dataclass # Ë∑®ËØ≠Ë®ÄÊ®°ÂºèÂÆûÁé∞‰∫íÊìç‰ΩúÊÄß f = pyfory.Fory(xlang=True, ref=True) # Ê≥®ÂÜåÁ±ªÂûã‰ª•ÂÆûÁé∞Ë∑®ËØ≠Ë®ÄÂÖºÂÆπÊÄß @dataclass class Person: name: str age: pyfory.int32 f.register(Person, typename=&quot;example.Person&quot;) person = Person(&quot;Charlie&quot;, 35) binary_data = f.serialize(person) # binary_data Áé∞Âú®ÂèØ‰ª•ÂèëÈÄÅÂà∞ Java„ÄÅGo Á≠â   ","version":"0.15","tagName":"h3"},{"title":"JavaÔºàÂèçÂ∫èÂàóÂåñÂô®Ôºâ‚Äã","type":1,"pageTitle":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/guide/python/cross_language#javaÂèçÂ∫èÂàóÂåñÂô®","content":" import org.apache.fory.*; public class Person { public String name; public int age; } Fory fory = Fory.builder() .withLanguage(Language.XLANG) .withRefTracking(true) .build(); fory.register(Person.class, &quot;example.Person&quot;); Person person = (Person) fory.deserialize(binaryData);   ","version":"0.15","tagName":"h3"},{"title":"RustÔºàÂèçÂ∫èÂàóÂåñÂô®Ôºâ‚Äã","type":1,"pageTitle":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/guide/python/cross_language#rustÂèçÂ∫èÂàóÂåñÂô®","content":" use fory::Fory; use fory::ForyObject; #[derive(ForyObject)] struct Person { name: String, age: i32, } let mut fory = Fory::default() .compatible(true) .xlang(true); fory.register_by_namespace::&lt;Person&gt;(&quot;example&quot;, &quot;Person&quot;); let person: Person = fory.deserialize(&amp;binary_data)?;   ","version":"0.15","tagName":"h3"},{"title":"Ë∑®ËØ≠Ë®ÄÁöÑÁ±ªÂûãÊ≥®Ëß£‚Äã","type":1,"pageTitle":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/guide/python/cross_language#Ë∑®ËØ≠Ë®ÄÁöÑÁ±ªÂûãÊ≥®Ëß£","content":" ‰ΩøÁî® pyfory Á±ªÂûãÊ≥®Ëß£ËøõË°åÊòæÂºèË∑®ËØ≠Ë®ÄÁ±ªÂûãÊò†Â∞ÑÔºö  from dataclasses import dataclass import pyfory @dataclass class TypedData: int_value: pyfory.int32 # 32 ‰ΩçÊï¥Êï∞ long_value: pyfory.int64 # 64 ‰ΩçÊï¥Êï∞ float_value: pyfory.float32 # 32 ‰ΩçÊµÆÁÇπÊï∞ double_value: pyfory.float64 # 64 ‰ΩçÊµÆÁÇπÊï∞   ","version":"0.15","tagName":"h2"},{"title":"Á±ªÂûãÊò†Â∞Ñ‚Äã","type":1,"pageTitle":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/guide/python/cross_language#Á±ªÂûãÊò†Â∞Ñ","content":" Python\tJava\tRust\tGostr\tString\tString\tstring int\tlong\ti64\tint64 pyfory.int32\tint\ti32\tint32 pyfory.int64\tlong\ti64\tint64 float\tdouble\tf64\tfloat64 pyfory.float32\tfloat\tf32\tfloat32 list\tList\tVec\t[]T dict\tMap\tHashMap\tmap[K]V  ","version":"0.15","tagName":"h2"},{"title":"‰∏é Python ÂéüÁîüÊ®°ÂºèÁöÑÂå∫Âà´‚Äã","type":1,"pageTitle":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/guide/python/cross_language#‰∏é-python-ÂéüÁîüÊ®°ÂºèÁöÑÂå∫Âà´","content":" ‰∫åËøõÂà∂ÂçèËÆÆÂíå API ‰∏é pyfory ÁöÑ Python ÂéüÁîüÊ®°ÂºèÁ±ª‰ººÔºå‰ΩÜ Python ÂéüÁîüÊ®°ÂºèÂèØ‰ª•Â∫èÂàóÂåñ‰ªª‰Ωï Python ÂØπË±°‚Äî‚ÄîÂåÖÊã¨ÂÖ®Â±ÄÂáΩÊï∞„ÄÅÂ±ÄÈÉ®ÂáΩÊï∞„ÄÅlambda„ÄÅÂ±ÄÈÉ®Á±ª‰ª•Âèä‰ΩøÁî® __getstate__/__reduce__/__reduce_ex__ Ëá™ÂÆö‰πâÂ∫èÂàóÂåñÁöÑÁ±ªÂûãÔºåËøô‰∫õÂú® xlang Ê®°Âºè‰∏≠‰∏çÂÖÅËÆ∏„ÄÇ  ","version":"0.15","tagName":"h2"},{"title":"Âè¶ËØ∑ÂèÇÈòÖ‚Äã","type":1,"pageTitle":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/guide/python/cross_language#Âè¶ËØ∑ÂèÇÈòÖ","content":" Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñËßÑËåÉÁ±ªÂûãÊò†Â∞ÑÂèÇËÄÉJava Ë∑®ËØ≠Ë®ÄÊåáÂçóRust Ë∑®ËØ≠Ë®ÄÊåáÂçó  ","version":"0.15","tagName":"h2"},{"title":"Áõ∏ÂÖ≥‰∏ªÈ¢ò‚Äã","type":1,"pageTitle":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/guide/python/cross_language#Áõ∏ÂÖ≥‰∏ªÈ¢ò","content":" ÈÖçÁΩÆ - XLANG Ê®°ÂºèËÆæÁΩÆSchema ÊºîÂåñ - ÂÖºÂÆπÊ®°ÂºèÁ±ªÂûãÊ≥®ÂÜå - Ê≥®ÂÜåÊ®°Âºè ","version":"0.15","tagName":"h2"},{"title":"Ëá™ÂÆö‰πâÂ∫èÂàóÂåñÂô®","type":0,"sectionRef":"#","url":"/zh-CN/docs/guide/python/custom_serializers","content":"","keywords":"","version":"0.15"},{"title":"ÂÆûÁé∞Ëá™ÂÆö‰πâÂ∫èÂàóÂåñÂô®‚Äã","type":1,"pageTitle":"Ëá™ÂÆö‰πâÂ∫èÂàóÂåñÂô®","url":"/zh-CN/docs/guide/python/custom_serializers#ÂÆûÁé∞Ëá™ÂÆö‰πâÂ∫èÂàóÂåñÂô®","content":" ‰∏∫ Python Ê®°ÂºèË¶ÜÁõñ write/readÔºå‰∏∫Ë∑®ËØ≠Ë®ÄÊ®°ÂºèË¶ÜÁõñ xwrite/xreadÔºö  import pyfory from pyfory.serializer import Serializer from dataclasses import dataclass @dataclass class Foo: f1: int f2: str class FooSerializer(Serializer): def __init__(self, fory, cls): super().__init__(fory, cls) def write(self, buffer, obj: Foo): # Ëá™ÂÆö‰πâÂ∫èÂàóÂåñÈÄªËæë buffer.write_varint32(obj.f1) buffer.write_string(obj.f2) def read(self, buffer): # Ëá™ÂÆö‰πâÂèçÂ∫èÂàóÂåñÈÄªËæë f1 = buffer.read_varint32() f2 = buffer.read_string() return Foo(f1, f2) # Áî®‰∫éË∑®ËØ≠Ë®ÄÊ®°Âºè def xwrite(self, buffer, obj: Foo): buffer.write_int32(obj.f1) buffer.write_string(obj.f2) def xread(self, buffer): return Foo(buffer.read_int32(), buffer.read_string()) f = pyfory.Fory() f.register(Foo, type_id=100, serializer=FooSerializer(f, Foo)) # Áé∞Âú® Foo ‰ΩøÁî®Ëá™ÂÆö‰πâÂ∫èÂàóÂåñÂô® data = f.dumps(Foo(42, &quot;hello&quot;)) result = f.loads(data) print(result) # Foo(f1=42, f2='hello')   ","version":"0.15","tagName":"h2"},{"title":"Buffer API‚Äã","type":1,"pageTitle":"Ëá™ÂÆö‰πâÂ∫èÂàóÂåñÂô®","url":"/zh-CN/docs/guide/python/custom_serializers#buffer-api","content":" ","version":"0.15","tagName":"h2"},{"title":"ÂÜôÂÖ•ÊñπÊ≥ï‚Äã","type":1,"pageTitle":"Ëá™ÂÆö‰πâÂ∫èÂàóÂåñÂô®","url":"/zh-CN/docs/guide/python/custom_serializers#ÂÜôÂÖ•ÊñπÊ≥ï","content":" # Êï¥Êï∞ buffer.write_int8(value) buffer.write_int16(value) buffer.write_int32(value) buffer.write_int64(value) # ÂèòÈïøÊï¥Êï∞ buffer.write_varint32(value) buffer.write_varint64(value) # ÊµÆÁÇπÊï∞ buffer.write_float32(value) buffer.write_float64(value) # Â≠óÁ¨¶‰∏≤ÂíåÂ≠óËäÇ buffer.write_string(value) buffer.write_bytes(value) # Â∏ÉÂ∞îÂÄº buffer.write_bool(value)   ","version":"0.15","tagName":"h3"},{"title":"ËØªÂèñÊñπÊ≥ï‚Äã","type":1,"pageTitle":"Ëá™ÂÆö‰πâÂ∫èÂàóÂåñÂô®","url":"/zh-CN/docs/guide/python/custom_serializers#ËØªÂèñÊñπÊ≥ï","content":" # Êï¥Êï∞ value = buffer.read_int8() value = buffer.read_int16() value = buffer.read_int32() value = buffer.read_int64() # ÂèòÈïøÊï¥Êï∞ value = buffer.read_varint32() value = buffer.read_varint64() # ÊµÆÁÇπÊï∞ value = buffer.read_float32() value = buffer.read_float64() # Â≠óÁ¨¶‰∏≤ÂíåÂ≠óËäÇ value = buffer.read_string() value = buffer.read_bytes(length) # Â∏ÉÂ∞îÂÄº value = buffer.read_bool()   ","version":"0.15","tagName":"h3"},{"title":"‰ΩïÊó∂‰ΩøÁî®Ëá™ÂÆö‰πâÂ∫èÂàóÂåñÂô®‚Äã","type":1,"pageTitle":"Ëá™ÂÆö‰πâÂ∫èÂàóÂåñÂô®","url":"/zh-CN/docs/guide/python/custom_serializers#‰ΩïÊó∂‰ΩøÁî®Ëá™ÂÆö‰πâÂ∫èÂàóÂåñÂô®","content":" Êù•Ëá™ÂÖ∂‰ªñÂåÖÁöÑÂ§ñÈÉ®Á±ªÂûãÂÖ∑ÊúâÁâπÊÆäÂ∫èÂàóÂåñÈúÄÊ±ÇÁöÑÁ±ªÂûãÊóßÊï∞ÊçÆÊ†ºÂºèÂÖºÂÆπÊÄßÊÄßËÉΩÂÖ≥ÈîÆÁöÑËá™ÂÆö‰πâÁºñÁ†ÅËá™Âä®Â∫èÂàóÂåñÊïàÊûú‰∏çÂ•ΩÁöÑÁ±ªÂûã  ","version":"0.15","tagName":"h2"},{"title":"Ê≥®ÂÜåËá™ÂÆö‰πâÂ∫èÂàóÂåñÂô®‚Äã","type":1,"pageTitle":"Ëá™ÂÆö‰πâÂ∫èÂàóÂåñÂô®","url":"/zh-CN/docs/guide/python/custom_serializers#Ê≥®ÂÜåËá™ÂÆö‰πâÂ∫èÂàóÂåñÂô®","content":" fory = pyfory.Fory() # ‰ΩøÁî® type_id Ê≥®ÂÜå fory.register(MyClass, type_id=100, serializer=MySerializer(fory, MyClass)) # ‰ΩøÁî® typename Ê≥®ÂÜåÔºàÁî®‰∫é xlangÔºâ fory.register(MyClass, typename=&quot;com.example.MyClass&quot;, serializer=MySerializer(fory, MyClass))   ","version":"0.15","tagName":"h2"},{"title":"Áõ∏ÂÖ≥‰∏ªÈ¢ò‚Äã","type":1,"pageTitle":"Ëá™ÂÆö‰πâÂ∫èÂàóÂåñÂô®","url":"/zh-CN/docs/guide/python/custom_serializers#Áõ∏ÂÖ≥‰∏ªÈ¢ò","content":" Á±ªÂûãÊ≥®ÂÜå - Ê≥®ÂÜåÊ®°ÂºèÈÖçÁΩÆ - Fory ÂèÇÊï∞Ë∑®ËØ≠Ë®Ä - xlang ÁöÑ xwrite/xread ","version":"0.15","tagName":"h2"},{"title":"ËøÅÁßªÊåáÂçó","type":0,"sectionRef":"#","url":"/zh-CN/docs/guide/python/migration","content":"","keywords":"","version":"0.15"},{"title":"‰ªé Pickle ËøÅÁßª‚Äã","type":1,"pageTitle":"ËøÅÁßªÊåáÂçó","url":"/zh-CN/docs/guide/python/migration#‰ªé-pickle-ËøÅÁßª","content":" Áî® Fory ÊõøÊç¢ pickleÔºåÂú®‰øùÊåÅÁõ∏Âêå API ÁöÑÂêåÊó∂Ëé∑ÂæóÊõ¥Â•ΩÁöÑÊÄßËÉΩÔºö  # ‰πãÂâçÔºàpickleÔºâ import pickle data = pickle.dumps(obj) result = pickle.loads(data) # ‰πãÂêéÔºàFory - Áõ¥Êé•ÊõøÊç¢ÔºåÊÄßËÉΩÊõ¥Â•ΩÔºâ import pyfory f = pyfory.Fory(xlang=False, ref=True, strict=False) data = f.dumps(obj) # Êõ¥Âø´‰∏îÊõ¥Á¥ßÂáë result = f.loads(data) # Êõ¥Âø´ÁöÑÂèçÂ∫èÂàóÂåñ # ‰ºòÂäøÔºö # - Â∫èÂàóÂåñÂø´ 2-10 ÂÄç # - ÂèçÂ∫èÂàóÂåñÂø´ 2-5 ÂÄç # - Êï∞ÊçÆÂ§ßÂ∞èÂáèÂ∞ëÈ´òËææ 3 ÂÄç # - Áõ∏ÂêåÁöÑ APIÔºåÊõ¥Â•ΩÁöÑÊÄßËÉΩ   ","version":"0.15","tagName":"h2"},{"title":"‰ªé JSON ËøÅÁßª‚Äã","type":1,"pageTitle":"ËøÅÁßªÊåáÂçó","url":"/zh-CN/docs/guide/python/migration#‰ªé-json-ËøÅÁßª","content":" ‰∏é JSON ‰∏çÂêåÔºåFory ÊîØÊåÅÂåÖÊã¨ÂáΩÊï∞Âú®ÂÜÖÁöÑ‰ªªÊÑè Python Á±ªÂûãÔºö  # ‰πãÂâçÔºàJSON - Á±ªÂûãÂèóÈôêÔºâ import json data = json.dumps({&quot;name&quot;: &quot;Alice&quot;, &quot;age&quot;: 30}) result = json.loads(data) # ‰πãÂêéÔºàFory - ÊâÄÊúâ Python Á±ªÂûãÔºâ import pyfory f = pyfory.Fory() data = f.dumps({&quot;name&quot;: &quot;Alice&quot;, &quot;age&quot;: 30, &quot;func&quot;: lambda x: x}) result = f.loads(data)   ","version":"0.15","tagName":"h2"},{"title":"‰∏ªË¶ÅÂå∫Âà´‚Äã","type":1,"pageTitle":"ËøÅÁßªÊåáÂçó","url":"/zh-CN/docs/guide/python/migration#‰∏ªË¶ÅÂå∫Âà´","content":" ÁâπÊÄß\tpickle\tJSON\tpyforyÊÄßËÉΩ\t‰∏≠Á≠â\tÊÖ¢\tÂø´ Êï∞ÊçÆÂ§ßÂ∞è\tÂ§ß\tÂ§ß\tÁ¥ßÂáë Á±ªÂûãÊîØÊåÅ\tÊâÄÊúâ Python\tÂèóÈôê\tÊâÄÊúâ Python Ë∑®ËØ≠Ë®Ä\tÂê¶\tÊòØ\tÊòØÔºàxlang Ê®°ÂºèÔºâ ÂÆâÂÖ®ÊÄß\t‰Ωé\tÈ´ò\tÂèØÈÖçÁΩÆ  ","version":"0.15","tagName":"h2"},{"title":"ËøÅÁßªÊèêÁ§∫‚Äã","type":1,"pageTitle":"ËøÅÁßªÊåáÂçó","url":"/zh-CN/docs/guide/python/migration#ËøÅÁßªÊèêÁ§∫","content":" ‰ªé strict=False ÂºÄÂßã ‰ª•Á°Æ‰øùÂÖºÂÆπÊÄßÊ∑ªÂä†Á±ªÂûãÊ≥®ÂÜå ‰ª•ÊèêÈ´òÊÄßËÉΩÂíåÂÆâÂÖ®ÊÄßÂú®ÈÉ®ÁΩ≤ÂâçÂΩªÂ∫ïÊµãËØïÁõëÊéßÊÄßËÉΩ ÊîπËøõ  ","version":"0.15","tagName":"h2"},{"title":"Áõ∏ÂÖ≥‰∏ªÈ¢ò‚Äã","type":1,"pageTitle":"ËøÅÁßªÊåáÂçó","url":"/zh-CN/docs/guide/python/migration#Áõ∏ÂÖ≥‰∏ªÈ¢ò","content":" ÈÖçÁΩÆ - Fory ÂèÇÊï∞Python ÂéüÁîüÊ®°Âºè - Pickle ÊõøÊç¢ÂäüËÉΩÂÆâÂÖ®ÊÄß - ÂÆâÂÖ®ÊúÄ‰Ω≥ÂÆûË∑µ ","version":"0.15","tagName":"h2"},{"title":"NumPy ‰∏éÁßëÂ≠¶ËÆ°ÁÆó","type":0,"sectionRef":"#","url":"/zh-CN/docs/guide/python/numpy_integration","content":"","keywords":"","version":"0.15"},{"title":"NumPy Êï∞ÁªÑÂ∫èÂàóÂåñ‚Äã","type":1,"pageTitle":"NumPy ‰∏éÁßëÂ≠¶ËÆ°ÁÆó","url":"/zh-CN/docs/guide/python/numpy_integration#numpy-Êï∞ÁªÑÂ∫èÂàóÂåñ","content":" Â§ßÂûãÊï∞ÁªÑÂú®ÂèØËÉΩÁöÑÊÉÖÂÜµ‰∏ã‰ΩøÁî®Èõ∂Êã∑Ë¥ùÔºö  import pyfory import numpy as np f = pyfory.Fory() # ÂéüÁîüÊîØÊåÅ Numpy Êï∞ÁªÑ arrays = { 'matrix': np.random.rand(1000, 1000), 'vector': np.arange(10000), 'bool_mask': np.random.choice([True, False], size=5000) } data = f.serialize(arrays) result = f.deserialize(data) # ÂØπ‰∫éÂÖºÂÆπÁöÑÊï∞ÁªÑÁ±ªÂûã‰ΩøÁî®Èõ∂Êã∑Ë¥ù assert np.array_equal(arrays['matrix'], result['matrix'])   ","version":"0.15","tagName":"h2"},{"title":"Pandas DataFrame‚Äã","type":1,"pageTitle":"NumPy ‰∏éÁßëÂ≠¶ËÆ°ÁÆó","url":"/zh-CN/docs/guide/python/numpy_integration#pandas-dataframe","content":" Fory ÂèØ‰ª•È´òÊïàÂ∫èÂàóÂåñ Pandas DataFrameÔºö  import pyfory import pandas as pd import numpy as np f = pyfory.Fory(xlang=False, ref=False, strict=False) df = pd.DataFrame({ 'a': np.arange(1000, dtype=np.float64), 'b': np.arange(1000, dtype=np.int64), 'c': ['text'] * 1000 }) data = f.serialize(df) result = f.deserialize(data) assert df.equals(result)   ","version":"0.15","tagName":"h2"},{"title":"‰ΩøÁî®Â∏¶Â§ñÁºìÂÜ≤Âå∫ÁöÑÈõ∂Êã∑Ë¥ù‚Äã","type":1,"pageTitle":"NumPy ‰∏éÁßëÂ≠¶ËÆ°ÁÆó","url":"/zh-CN/docs/guide/python/numpy_integration#‰ΩøÁî®Â∏¶Â§ñÁºìÂÜ≤Âå∫ÁöÑÈõ∂Êã∑Ë¥ù","content":" ÂØπ‰∫éÂ§ßÂûãÊï∞ÁªÑÁöÑÊúÄÂ§ßÊÄßËÉΩÔºå‰ΩøÁî®Â∏¶Â§ñÂ∫èÂàóÂåñÔºö  import pyfory import numpy as np f = pyfory.Fory(xlang=False, ref=False, strict=False) # Â§ßÂûãÊï∞ÁªÑ array = np.random.rand(10000, 1000) # Â∏¶Â§ñÈõ∂Êã∑Ë¥ù buffer_objects = [] data = f.serialize(array, buffer_callback=buffer_objects.append) buffers = [obj.getbuffer() for obj in buffer_objects] result = f.deserialize(data, buffers=buffers) assert np.array_equal(array, result)   ","version":"0.15","tagName":"h2"},{"title":"ÊîØÊåÅÁöÑÊï∞ÁªÑÁ±ªÂûã‚Äã","type":1,"pageTitle":"NumPy ‰∏éÁßëÂ≠¶ËÆ°ÁÆó","url":"/zh-CN/docs/guide/python/numpy_integration#ÊîØÊåÅÁöÑÊï∞ÁªÑÁ±ªÂûã","content":" np.ndarrayÔºàÊâÄÊúâ dtypeÔºânp.matrixÁªìÊûÑÂåñÊï∞ÁªÑËÆ∞ÂΩïÊï∞ÁªÑ  ","version":"0.15","tagName":"h2"},{"title":"Áõ∏ÂÖ≥‰∏ªÈ¢ò‚Äã","type":1,"pageTitle":"NumPy ‰∏éÁßëÂ≠¶ËÆ°ÁÆó","url":"/zh-CN/docs/guide/python/numpy_integration#Áõ∏ÂÖ≥‰∏ªÈ¢ò","content":" Â∏¶Â§ñÂ∫èÂàóÂåñ - Èõ∂Êã∑Ë¥ùÁºìÂÜ≤Âå∫Âü∫Á°ÄÂ∫èÂàóÂåñ - Ê†áÂáÜÁî®Ê≥ï ","version":"0.15","tagName":"h2"},{"title":"Python ÂéüÁîüÊ®°Âºè","type":0,"sectionRef":"#","url":"/zh-CN/docs/guide/python/native_mode","content":"","keywords":"","version":"0.15"},{"title":"Ê¶ÇËø∞‚Äã","type":1,"pageTitle":"Python ÂéüÁîüÊ®°Âºè","url":"/zh-CN/docs/guide/python/native_mode#Ê¶ÇËø∞","content":" ‰∫åËøõÂà∂ÂçèËÆÆÂíå API ‰∏é Fory ÁöÑ xlang Ê®°ÂºèÁ±ª‰ººÔºå‰ΩÜ Python ÂéüÁîüÊ®°ÂºèÂèØ‰ª•Â∫èÂàóÂåñ‰ªª‰Ωï Python ÂØπË±°‚Äî‚ÄîÂåÖÊã¨ÂÖ®Â±ÄÂáΩÊï∞„ÄÅÂ±ÄÈÉ®ÂáΩÊï∞„ÄÅlambda„ÄÅÂ±ÄÈÉ®Á±ª‰ª•Âèä‰ΩøÁî® __getstate__/__reduce__/__reduce_ex__ Ëá™ÂÆö‰πâÂ∫èÂàóÂåñÁöÑÁ±ªÂûãÔºåËøô‰∫õÂú® xlang Ê®°Âºè‰∏≠ÊòØ‰∏çÂÖÅËÆ∏ÁöÑ„ÄÇ  Ë¶Å‰ΩøÁî® Python ÂéüÁîüÊ®°ÂºèÔºåÂàõÂª∫ Fory Êó∂ËÆæÁΩÆ xlang=FalseÔºö  import pyfory fory = pyfory.Fory(xlang=False, ref=False, strict=True)   ","version":"0.15","tagName":"h2"},{"title":"ÂèØÁõ¥Êé•Êõø‰ª£ Pickle/Cloudpickle‚Äã","type":1,"pageTitle":"Python ÂéüÁîüÊ®°Âºè","url":"/zh-CN/docs/guide/python/native_mode#ÂèØÁõ¥Êé•Êõø‰ª£-picklecloudpickle","content":" pyfory ÂèØ‰ª•‰ΩøÁî®‰ª•‰∏ãÈÖçÁΩÆÂ∫èÂàóÂåñ‰ªª‰Ωï Python ÂØπË±°Ôºö  ÂØπ‰∫éÂæ™ÁéØÂºïÁî®ÔºöËÆæÁΩÆ ref=True ÂêØÁî®ÂºïÁî®Ë∑üË∏™ÂØπ‰∫éÂáΩÊï∞/Á±ªÔºöËÆæÁΩÆ strict=False ÂÖÅËÆ∏ÂèçÂ∫èÂàóÂåñÂä®ÊÄÅÁ±ªÂûã  ‚ö†Ô∏è ÂÆâÂÖ®Ë≠¶ÂëäÔºöÂΩì strict=False Êó∂ÔºåFory Â∞ÜÂèçÂ∫èÂàóÂåñ‰ªªÊÑèÁ±ªÂûãÔºåÂ¶ÇÊûúÊï∞ÊçÆÊù•Ëá™‰∏çÂèó‰ø°‰ªªÁöÑÊ∫êÔºåËøôÂèØËÉΩÂ∏¶Êù•ÂÆâÂÖ®È£éÈô©„ÄÇ‰ªÖÂú®ÂÆåÂÖ®‰ø°‰ªªÊï∞ÊçÆÊ∫êÁöÑÂèóÊéßÁéØÂ¢É‰∏≠‰ΩøÁî® strict=False„ÄÇ  ","version":"0.15","tagName":"h2"},{"title":"Â∏∏ËßÅÁî®Ê≥ï‚Äã","type":1,"pageTitle":"Python ÂéüÁîüÊ®°Âºè","url":"/zh-CN/docs/guide/python/native_mode#Â∏∏ËßÅÁî®Ê≥ï","content":" import pyfory # ÂàõÂª∫ Fory ÂÆû‰æã fory = pyfory.Fory(xlang=False, ref=True, strict=False) # Â∫èÂàóÂåñÂ∏∏ËßÅ Python ÂØπË±° data = fory.dumps({&quot;name&quot;: &quot;Alice&quot;, &quot;age&quot;: 30, &quot;scores&quot;: [95, 87, 92]}) print(fory.loads(data)) # Â∫èÂàóÂåñËá™ÂÆö‰πâÂØπË±° from dataclasses import dataclass @dataclass class Person: name: str age: int person = Person(&quot;Bob&quot;, 25) data = fory.dumps(person) print(fory.loads(data)) # Person(name='Bob', age=25)   ","version":"0.15","tagName":"h3"},{"title":"Â∫èÂàóÂåñÂÖ®Â±ÄÂáΩÊï∞‚Äã","type":1,"pageTitle":"Python ÂéüÁîüÊ®°Âºè","url":"/zh-CN/docs/guide/python/native_mode#Â∫èÂàóÂåñÂÖ®Â±ÄÂáΩÊï∞","content":" ÊçïËé∑Âπ∂Â∫èÂàóÂåñÂú®Ê®°ÂùóÁ∫ßÂà´ÂÆö‰πâÁöÑÂáΩÊï∞„ÄÇFory ÂèçÂ∫èÂàóÂåñÂπ∂ËøîÂõûÁõ∏ÂêåÁöÑÂáΩÊï∞ÂØπË±°Ôºö  import pyfory fory = pyfory.Fory(xlang=False, ref=True, strict=False) def my_global_function(x): return 10 * x data = fory.dumps(my_global_function) print(fory.loads(data)(10)) # 100   ","version":"0.15","tagName":"h2"},{"title":"Â∫èÂàóÂåñÂ±ÄÈÉ®ÂáΩÊï∞/Lambda‚Äã","type":1,"pageTitle":"Python ÂéüÁîüÊ®°Âºè","url":"/zh-CN/docs/guide/python/native_mode#Â∫èÂàóÂåñÂ±ÄÈÉ®ÂáΩÊï∞lambda","content":" Â∫èÂàóÂåñÂ∏¶Èó≠ÂåÖÁöÑÂáΩÊï∞Âíå lambda Ë°®ËææÂºè„ÄÇFory Ëá™Âä®ÊçïËé∑Èó≠ÂåÖÂèòÈáèÔºö  import pyfory fory = pyfory.Fory(xlang=False, ref=True, strict=False) # Â∏¶Èó≠ÂåÖÁöÑÂ±ÄÈÉ®ÂáΩÊï∞ def my_function(): local_var = 10 def local_func(x): return x * local_var return local_func data = fory.dumps(my_function()) print(fory.loads(data)(10)) # 100 # Lambda data = fory.dumps(lambda x: 10 * x) print(fory.loads(data)(10)) # 100   ","version":"0.15","tagName":"h2"},{"title":"Â∫èÂàóÂåñÂÖ®Â±ÄÁ±ª/ÊñπÊ≥ï‚Äã","type":1,"pageTitle":"Python ÂéüÁîüÊ®°Âºè","url":"/zh-CN/docs/guide/python/native_mode#Â∫èÂàóÂåñÂÖ®Â±ÄÁ±ªÊñπÊ≥ï","content":" Â∫èÂàóÂåñÁ±ªÂØπË±°„ÄÅÂÆû‰æãÊñπÊ≥ï„ÄÅÁ±ªÊñπÊ≥ïÂíåÈùôÊÄÅÊñπÊ≥ïÔºö  from dataclasses import dataclass import pyfory fory = pyfory.Fory(xlang=False, ref=True, strict=False) @dataclass class Person: name: str age: int def f(self, x): return self.age * x @classmethod def g(cls, x): return 10 * x @staticmethod def h(x): return 10 * x # Â∫èÂàóÂåñÂÖ®Â±ÄÁ±ª print(fory.loads(fory.dumps(Person))(&quot;Bob&quot;, 25)) # Person(name='Bob', age=25) # Â∫èÂàóÂåñÂÆû‰æãÊñπÊ≥ï print(fory.loads(fory.dumps(Person(&quot;Bob&quot;, 20).f))(10)) # 200 # Â∫èÂàóÂåñÁ±ªÊñπÊ≥ï print(fory.loads(fory.dumps(Person.g))(10)) # 100 # Â∫èÂàóÂåñÈùôÊÄÅÊñπÊ≥ï print(fory.loads(fory.dumps(Person.h))(10)) # 100   ","version":"0.15","tagName":"h2"},{"title":"Â∫èÂàóÂåñÂ±ÄÈÉ®Á±ª/ÊñπÊ≥ï‚Äã","type":1,"pageTitle":"Python ÂéüÁîüÊ®°Âºè","url":"/zh-CN/docs/guide/python/native_mode#Â∫èÂàóÂåñÂ±ÄÈÉ®Á±ªÊñπÊ≥ï","content":" Â∫èÂàóÂåñÂú®ÂáΩÊï∞ÂÜÖÂÆö‰πâÁöÑÁ±ªÂèäÂÖ∂ÊñπÊ≥ïÔºö  from dataclasses import dataclass import pyfory fory = pyfory.Fory(xlang=False, ref=True, strict=False) def create_local_class(): class LocalClass: def f(self, x): return 10 * x @classmethod def g(cls, x): return 10 * x @staticmethod def h(x): return 10 * x return LocalClass # Â∫èÂàóÂåñÂ±ÄÈÉ®Á±ª data = fory.dumps(create_local_class()) print(fory.loads(data)().f(10)) # 100 # Â∫èÂàóÂåñÂ±ÄÈÉ®Á±ªÂÆû‰æãÊñπÊ≥ï data = fory.dumps(create_local_class()().f) print(fory.loads(data)(10)) # 100 # Â∫èÂàóÂåñÂ±ÄÈÉ®Á±ªÊñπÊ≥ï data = fory.dumps(create_local_class().g) print(fory.loads(data)(10)) # 100 # Â∫èÂàóÂåñÂ±ÄÈÉ®Á±ªÈùôÊÄÅÊñπÊ≥ï data = fory.dumps(create_local_class().h) print(fory.loads(data)(10)) # 100   ","version":"0.15","tagName":"h2"},{"title":"ÊÄßËÉΩÊØîËæÉ‚Äã","type":1,"pageTitle":"Python ÂéüÁîüÊ®°Âºè","url":"/zh-CN/docs/guide/python/native_mode#ÊÄßËÉΩÊØîËæÉ","content":" import pyfory import pickle import timeit fory = pyfory.Fory(xlang=False, ref=True, strict=False) obj = {f&quot;key{i}&quot;: f&quot;value{i}&quot; for i in range(10000)} print(f&quot;Fory: {timeit.timeit(lambda: fory.dumps(obj), number=1000):.3f}s&quot;) print(f&quot;Pickle: {timeit.timeit(lambda: pickle.dumps(obj), number=1000):.3f}s&quot;)   ","version":"0.15","tagName":"h2"},{"title":"Áõ∏ÂÖ≥‰∏ªÈ¢ò‚Äã","type":1,"pageTitle":"Python ÂéüÁîüÊ®°Âºè","url":"/zh-CN/docs/guide/python/native_mode#Áõ∏ÂÖ≥‰∏ªÈ¢ò","content":" ÈÖçÁΩÆ - Python Ê®°ÂºèÈÖçÁΩÆÂ∏¶Â§ñÂ∫èÂàóÂåñ - Èõ∂Êã∑Ë¥ùÁºìÂÜ≤Âå∫ÂÆâÂÖ®ÊÄß - DeserializationPolicy ","version":"0.15","tagName":"h2"},{"title":"Â∏¶Â§ñÂ∫èÂàóÂåñ","type":0,"sectionRef":"#","url":"/zh-CN/docs/guide/python/out_of_band","content":"","keywords":"","version":"0.15"},{"title":"Ê¶ÇËø∞‚Äã","type":1,"pageTitle":"Â∏¶Â§ñÂ∫èÂàóÂåñ","url":"/zh-CN/docs/guide/python/out_of_band#Ê¶ÇËø∞","content":" Â∏¶Â§ñÂ∫èÂàóÂåñÂ∞ÜÂÖÉÊï∞ÊçÆ‰∏éÂÆûÈôÖÊï∞ÊçÆÁºìÂÜ≤Âå∫ÂàÜÁ¶ªÔºåÂÖÅËÆ∏Ôºö  Èõ∂Êã∑Ë¥ù‰º†ËæìÔºö‰ΩøÁî® memoryview ÈÄöËøáÁΩëÁªúÊàñ IPC ÂèëÈÄÅÊï∞ÊçÆÊó∂ÊèêÈ´òÊÄßËÉΩÔºöÁî®‰∫éÂ§ßÂûãÊï∞ÊçÆÈõÜPickle5 ÂÖºÂÆπÊÄßÔºö‰ΩøÁî® pickle.PickleBufferÁÅµÊ¥ªÁöÑÊµÅÊîØÊåÅÔºöÂÜôÂÖ•‰ªª‰ΩïÂèØÂÜôÂØπË±°ÔºàÊñá‰ª∂„ÄÅBytesIO„ÄÅÂ•óÊé•Â≠óÁ≠âÔºâ  ","version":"0.15","tagName":"h2"},{"title":"Âü∫Á°ÄÂ∏¶Â§ñÂ∫èÂàóÂåñ‚Äã","type":1,"pageTitle":"Â∏¶Â§ñÂ∫èÂàóÂåñ","url":"/zh-CN/docs/guide/python/out_of_band#Âü∫Á°ÄÂ∏¶Â§ñÂ∫èÂàóÂåñ","content":" import pyfory import numpy as np fory = pyfory.Fory(xlang=False, ref=False, strict=False) # Â§ßÂûã numpy Êï∞ÁªÑ array = np.arange(10000, dtype=np.float64) # ‰ΩøÁî®Â∏¶Â§ñÁºìÂÜ≤Âå∫Â∫èÂàóÂåñ buffer_objects = [] serialized_data = fory.serialize(array, buffer_callback=buffer_objects.append) # Â∞ÜÁºìÂÜ≤Âå∫ÂØπË±°ËΩ¨Êç¢‰∏∫ memoryview ‰ª•ËøõË°åÈõ∂Êã∑Ë¥ù‰º†Ëæì # ÂØπ‰∫éËøûÁª≠ÁºìÂÜ≤Âå∫Ôºàbytes„ÄÅnumpy Êï∞ÁªÑÔºâÔºåËøôÊòØÈõ∂Êã∑Ë¥ù # ÂØπ‰∫éÈùûËøûÁª≠Êï∞ÊçÆÔºåÂèØËÉΩ‰ºöÂàõÂª∫ÂâØÊú¨‰ª•Á°Æ‰øùËøûÁª≠ÊÄß buffers = [obj.getbuffer() for obj in buffer_objects] # ‰ΩøÁî®Â∏¶Â§ñÁºìÂÜ≤Âå∫ÂèçÂ∫èÂàóÂåñÔºàÊé•Âèó memoryview„ÄÅbytes Êàñ BufferÔºâ deserialized_array = fory.deserialize(serialized_data, buffers=buffers) assert np.array_equal(array, deserialized_array)   ","version":"0.15","tagName":"h2"},{"title":"‰ΩøÁî® Pandas DataFrame ÁöÑÂ∏¶Â§ñÂ∫èÂàóÂåñ‚Äã","type":1,"pageTitle":"Â∏¶Â§ñÂ∫èÂàóÂåñ","url":"/zh-CN/docs/guide/python/out_of_band#‰ΩøÁî®-pandas-dataframe-ÁöÑÂ∏¶Â§ñÂ∫èÂàóÂåñ","content":" import pyfory import pandas as pd import numpy as np fory = pyfory.Fory(xlang=False, ref=False, strict=False) # ÂàõÂª∫Â∏¶Êï∞ÂÄºÂàóÁöÑ DataFrame df = pd.DataFrame({ 'a': np.arange(1000, dtype=np.float64), 'b': np.arange(1000, dtype=np.int64), 'c': ['text'] * 1000 }) # ‰ΩøÁî®Â∏¶Â§ñÁºìÂÜ≤Âå∫Â∫èÂàóÂåñ buffer_objects = [] serialized_data = fory.serialize(df, buffer_callback=buffer_objects.append) buffers = [obj.getbuffer() for obj in buffer_objects] # ÂèçÂ∫èÂàóÂåñ deserialized_df = fory.deserialize(serialized_data, buffers=buffers) assert df.equals(deserialized_df)   ","version":"0.15","tagName":"h2"},{"title":"ÈÄâÊã©ÊÄßÂ∏¶Â§ñÂ∫èÂàóÂåñ‚Äã","type":1,"pageTitle":"Â∏¶Â§ñÂ∫èÂàóÂåñ","url":"/zh-CN/docs/guide/python/out_of_band#ÈÄâÊã©ÊÄßÂ∏¶Â§ñÂ∫èÂàóÂåñ","content":" ÈÄöËøáÊèê‰æõÂõûË∞ÉÊù•ÊéßÂà∂Âì™‰∫õÁºìÂÜ≤Âå∫Â∏¶Â§ñ‰º†ËæìÔºåËØ•ÂõûË∞ÉËøîÂõû True ‰øùÊåÅÊï∞ÊçÆÂÜÖËÅîÊàñËøîÂõû False Â∏¶Â§ñÂèëÈÄÅÔºö  import pyfory import numpy as np fory = pyfory.Fory(xlang=False, ref=True, strict=False) arr1 = np.arange(1000, dtype=np.float64) arr2 = np.arange(2000, dtype=np.float64) data = [arr1, arr2] buffer_objects = [] counter = 0 def selective_callback(buffer_object): global counter counter += 1 # Âè™ÊúâÂÅ∂Êï∞ÁºñÂè∑ÁöÑÁºìÂÜ≤Âå∫Â∏¶Â§ñÂèëÈÄÅ if counter % 2 == 0: buffer_objects.append(buffer_object) return False # Â∏¶Â§ñ return True # ÂÜÖËÅî serialized = fory.serialize(data, buffer_callback=selective_callback) buffers = [obj.getbuffer() for obj in buffer_objects] deserialized = fory.deserialize(serialized, buffers=buffers)   ","version":"0.15","tagName":"h2"},{"title":"Pickle5 ÂÖºÂÆπÊÄß‚Äã","type":1,"pageTitle":"Â∏¶Â§ñÂ∫èÂàóÂåñ","url":"/zh-CN/docs/guide/python/out_of_band#pickle5-ÂÖºÂÆπÊÄß","content":" Fory ÁöÑÂ∏¶Â§ñÂ∫èÂàóÂåñÂÆåÂÖ®ÂÖºÂÆπ pickle ÂçèËÆÆ 5Ôºö  import pyfory import pickle fory = pyfory.Fory(xlang=False, ref=False, strict=False) # Ëá™Âä®ÊîØÊåÅ PickleBuffer ÂØπË±° data = b&quot;Large binary data&quot; pickle_buffer = pickle.PickleBuffer(data) # ‰ΩøÁî®ÁºìÂÜ≤Âå∫ÂõûË∞ÉÂ∫èÂàóÂåñ‰ª•ËøõË°åÂ∏¶Â§ñÂ§ÑÁêÜ buffer_objects = [] serialized = fory.serialize(pickle_buffer, buffer_callback=buffer_objects.append) buffers = [obj.getbuffer() for obj in buffer_objects] # ‰ΩøÁî®ÁºìÂÜ≤Âå∫ÂèçÂ∫èÂàóÂåñ deserialized = fory.deserialize(serialized, buffers=buffers) assert bytes(deserialized.raw()) == data   ","version":"0.15","tagName":"h2"},{"title":"Â∞ÜÁºìÂÜ≤Âå∫ÂÜôÂÖ•‰∏çÂêåÁöÑÊµÅ‚Äã","type":1,"pageTitle":"Â∏¶Â§ñÂ∫èÂàóÂåñ","url":"/zh-CN/docs/guide/python/out_of_band#Â∞ÜÁºìÂÜ≤Âå∫ÂÜôÂÖ•‰∏çÂêåÁöÑÊµÅ","content":" BufferObject.write_to() ÊñπÊ≥ïÊé•Âèó‰ªª‰ΩïÂèØÂÜôÊµÅÂØπË±°Ôºö  import pyfory import numpy as np import io fory = pyfory.Fory(xlang=False, ref=False, strict=False) array = np.arange(1000, dtype=np.float64) # Êî∂ÈõÜÂ∏¶Â§ñÁºìÂÜ≤Âå∫ buffer_objects = [] serialized = fory.serialize(array, buffer_callback=buffer_objects.append) # ÂÜôÂÖ•‰∏çÂêåÁöÑÊµÅÁ±ªÂûã for buffer_obj in buffer_objects: # ÂÜôÂÖ• BytesIOÔºàÂÜÖÂ≠òÊµÅÔºâ bytes_stream = io.BytesIO() buffer_obj.write_to(bytes_stream) # ÂÜôÂÖ•Êñá‰ª∂ with open('/tmp/buffer_data.bin', 'wb') as f: buffer_obj.write_to(f) # Ëé∑ÂèñÈõ∂Êã∑Ë¥ù memoryviewÔºàÁî®‰∫éËøûÁª≠ÁºìÂÜ≤Âå∫Ôºâ mv = buffer_obj.getbuffer() assert isinstance(mv, memoryview)   Ê≥®ÊÑèÔºöÂØπ‰∫éËøûÁª≠ÂÜÖÂ≠òÁºìÂÜ≤Âå∫ÔºàÂ¶Ç bytes„ÄÅnumpy Êï∞ÁªÑÔºâÔºågetbuffer() ËøîÂõûÈõ∂Êã∑Ë¥ù memoryview„ÄÇÂØπ‰∫éÈùûËøûÁª≠Êï∞ÊçÆÔºåÂèØËÉΩ‰ºöÂàõÂª∫ÂâØÊú¨‰ª•Á°Æ‰øùËøûÁª≠ÊÄß„ÄÇ  ","version":"0.15","tagName":"h2"},{"title":"Áõ∏ÂÖ≥‰∏ªÈ¢ò‚Äã","type":1,"pageTitle":"Â∏¶Â§ñÂ∫èÂàóÂåñ","url":"/zh-CN/docs/guide/python/out_of_band#Áõ∏ÂÖ≥‰∏ªÈ¢ò","content":" NumPy ÈõÜÊàê - NumPy Êï∞ÁªÑÂ∫èÂàóÂåñÂü∫Á°ÄÂ∫èÂàóÂåñ - Ê†áÂáÜÂ∫èÂàóÂåñÈÖçÁΩÆ - Fory ÂèÇÊï∞ ","version":"0.15","tagName":"h2"},{"title":"Schema ÊºîÂåñ","type":0,"sectionRef":"#","url":"/zh-CN/docs/guide/python/schema_evolution","content":"","keywords":"","version":"0.15"},{"title":"ÂêØÁî®ÂÖºÂÆπÊ®°Âºè‚Äã","type":1,"pageTitle":"Schema ÊºîÂåñ","url":"/zh-CN/docs/guide/python/schema_evolution#ÂêØÁî®ÂÖºÂÆπÊ®°Âºè","content":" import pyfory f = pyfory.Fory(xlang=True, compatible=True)   ","version":"0.15","tagName":"h2"},{"title":"Schema ÊºîÂåñÁ§∫‰æã‚Äã","type":1,"pageTitle":"Schema ÊºîÂåñ","url":"/zh-CN/docs/guide/python/schema_evolution#schema-ÊºîÂåñÁ§∫‰æã","content":" import pyfory from dataclasses import dataclass # ÁâàÊú¨ 1ÔºöÂéüÂßãÁ±ª @dataclass class User: name: str age: int f = pyfory.Fory(xlang=True, compatible=True) f.register(User, typename=&quot;User&quot;) data = f.dumps(User(&quot;Alice&quot;, 30)) # ÁâàÊú¨ 2ÔºöÊ∑ªÂä†Êñ∞Â≠óÊÆµÔºàÂêëÂêéÂÖºÂÆπÔºâ @dataclass class User: name: str age: int email: str = &quot;unknown@example.com&quot; # Â∏¶ÈªòËÆ§ÂÄºÁöÑÊñ∞Â≠óÊÆµ # ‰ªçÁÑ∂ÂèØ‰ª•ÂèçÂ∫èÂàóÂåñÊóßÊï∞ÊçÆ user = f.loads(data) print(user.email) # &quot;unknown@example.com&quot;   ","version":"0.15","tagName":"h2"},{"title":"ÊîØÊåÅÁöÑÂèòÊõ¥‚Äã","type":1,"pageTitle":"Schema ÊºîÂåñ","url":"/zh-CN/docs/guide/python/schema_evolution#ÊîØÊåÅÁöÑÂèòÊõ¥","content":" Ê∑ªÂä†Êñ∞Â≠óÊÆµÔºöÂ∏¶ÈªòËÆ§ÂÄºÂà†Èô§Â≠óÊÆµÔºöÂÖ∑ÊúâÈ¢ùÂ§ñÂ≠óÊÆµÁöÑÊóßÊï∞ÊçÆÂ∞ÜË¢´Ë∑≥ËøáÈáçÊñ∞ÊéíÂ∫èÂ≠óÊÆµÔºöÂ≠óÊÆµÊåâÂêçÁß∞ÂåπÈÖçÔºåËÄå‰∏çÊòØ‰ΩçÁΩÆ  ","version":"0.15","tagName":"h2"},{"title":"ÊúÄ‰Ω≥ÂÆûË∑µ‚Äã","type":1,"pageTitle":"Schema ÊºîÂåñ","url":"/zh-CN/docs/guide/python/schema_evolution#ÊúÄ‰Ω≥ÂÆûË∑µ","content":" ÂßãÁªà‰∏∫Êñ∞Â≠óÊÆµÊèê‰æõÈªòËÆ§ÂÄº‰ΩøÁî® typename ÂÆûÁé∞Ë∑®ËØ≠Ë®ÄÂÖºÂÆπÊÄßÂú®ÈÉ®ÁΩ≤ÂâçÊµãËØï schema ÂèòÊõ¥‰∏∫Âõ¢ÈòüËÆ∞ÂΩï schema ÁâàÊú¨  ","version":"0.15","tagName":"h2"},{"title":"Áõ∏ÂÖ≥‰∏ªÈ¢ò‚Äã","type":1,"pageTitle":"Schema ÊºîÂåñ","url":"/zh-CN/docs/guide/python/schema_evolution#Áõ∏ÂÖ≥‰∏ªÈ¢ò","content":" ÈÖçÁΩÆ - ÂÖºÂÆπÊ®°ÂºèËÆæÁΩÆË∑®ËØ≠Ë®Ä - Ë∑®ËØ≠Ë®ÄÁöÑ schema ÊºîÂåñÁ±ªÂûãÊ≥®ÂÜå - Ê≥®ÂÜåÊ®°Âºè ","version":"0.15","tagName":"h2"},{"title":"Â≠óÊÆµÈÖçÁΩÆ","type":0,"sectionRef":"#","url":"/zh-CN/docs/guide/python/field_configuration","content":"","keywords":"","version":"0.15"},{"title":"Ê¶ÇËø∞‚Äã","type":1,"pageTitle":"Â≠óÊÆµÈÖçÁΩÆ","url":"/zh-CN/docs/guide/python/field_configuration#Ê¶ÇËø∞","content":" Apache ForyTM ÈÄöËøá‰ª•‰∏ãÊú∫Âà∂Êèê‰æõÂ≠óÊÆµÁ∫ßÈÖçÁΩÆÔºö  pyfory.field()ÔºöÈÖçÁΩÆÂ≠óÊÆµÂÖÉ‰ø°ÊÅØÔºàid„ÄÅnullable„ÄÅref„ÄÅignore„ÄÅdynamicÔºâÁ±ªÂûãÊ≥®Ëß£ÔºöÊéßÂà∂Êï¥Êï∞ÁºñÁ†ÅÔºàvarint„ÄÅfixed„ÄÅtaggedÔºâOptional[T]ÔºöÊ†áËÆ∞Â≠óÊÆµÂèØÁ©∫  Ëøô‰∫õËÉΩÂäõÂèØÁî®‰∫éÔºö  Tag IDÔºöÂàÜÈÖçÁ¥ßÂáëÊï∞ÂÄº IDÔºåÈôç‰Ωé struct Â≠óÊÆµÂÖÉ‰ø°ÊÅØÂºÄÈîÄÂèØÁ©∫ÊéßÂà∂ÔºöÂ£∞ÊòéÂ≠óÊÆµÊòØÂê¶ÂèØ‰∏∫ null/NoneÂºïÁî®Ë∑üË∏™Ôºö‰∏∫ÂÖ±‰∫´ÂØπË±°ÂêØÁî®ÂºïÁî®Ë∑üË∏™Â≠óÊÆµË∑≥ËøáÔºö‰ªéÂ∫èÂàóÂåñ‰∏≠ÊéíÈô§Â≠óÊÆµÁºñÁ†ÅÊéßÂà∂ÔºöÊåáÂÆöÊï¥Êï∞ÁºñÁ†ÅÊñπÂºèÔºàvarint„ÄÅfixed„ÄÅtaggedÔºâÂ§öÊÄÅÊéßÂà∂ÔºöÊéßÂà∂ struct Â≠óÊÆµÊòØÂê¶ÂÜôÂÖ•Á±ªÂûã‰ø°ÊÅØ  ","version":"0.15","tagName":"h2"},{"title":"Âü∫Êú¨ËØ≠Ê≥ï‚Äã","type":1,"pageTitle":"Â≠óÊÆµÈÖçÁΩÆ","url":"/zh-CN/docs/guide/python/field_configuration#Âü∫Êú¨ËØ≠Ê≥ï","content":" ÁªìÂêà @dataclass„ÄÅÁ±ªÂûãÊ≥®Ëß£‰∏é pyfory.field()Ôºö  from dataclasses import dataclass from typing import Optional import pyfory @dataclass class Person: name: str = pyfory.field(id=0) age: pyfory.int32 = pyfory.field(id=1, default=0) nickname: Optional[str] = pyfory.field(id=2, nullable=True, default=None)   ","version":"0.15","tagName":"h2"},{"title":"pyfory.field() ÂáΩÊï∞‚Äã","type":1,"pageTitle":"Â≠óÊÆµÈÖçÁΩÆ","url":"/zh-CN/docs/guide/python/field_configuration#pyforyfield-ÂáΩÊï∞","content":" ‰ΩøÁî® pyfory.field() ÈÖçÁΩÆÂ≠óÊÆµÁ∫ßÂÖÉ‰ø°ÊÅØÔºö  @dataclass class User: id: pyfory.int64 = pyfory.field(id=0, default=0) name: str = pyfory.field(id=1, default=&quot;&quot;) email: Optional[str] = pyfory.field(id=2, nullable=True, default=None) friends: List[&quot;User&quot;] = pyfory.field(id=3, ref=True, default_factory=list) _cache: dict = pyfory.field(ignore=True, default_factory=dict)   ","version":"0.15","tagName":"h2"},{"title":"ÂèÇÊï∞‚Äã","type":1,"pageTitle":"Â≠óÊÆµÈÖçÁΩÆ","url":"/zh-CN/docs/guide/python/field_configuration#ÂèÇÊï∞","content":" ÂèÇÊï∞\tÁ±ªÂûã\tÈªòËÆ§ÂÄº\tËØ¥Êòéid\tint\t-1\tÂ≠óÊÆµ tag IDÔºà-1 Ë°®Á§∫‰ΩøÁî®Â≠óÊÆµÂêçÔºâ nullable\tbool\tFalse\tÂ≠óÊÆµÊòØÂê¶ÂèØ‰∏∫ null/None ref\tbool\tFalse\tÊòØÂê¶ÂêØÁî®ÂºïÁî®Ë∑üË∏™ ignore\tbool\tFalse\tÊòØÂê¶‰ªéÂ∫èÂàóÂåñ‰∏≠ÊéíÈô§ dynamic\tbool\tNone\tÊéßÂà∂ÊòØÂê¶ÂÜôÂÖ•Á±ªÂûã‰ø°ÊÅØ default\tAny\tMISSING\tÂ≠óÊÆµÈªòËÆ§ÂÄº default_factory\tCallable\tMISSING\tÈªòËÆ§ÂÄºÂ∑•ÂéÇÂáΩÊï∞  ","version":"0.15","tagName":"h3"},{"title":"Â≠óÊÆµ IDÔºàidÔºâ‚Äã","type":1,"pageTitle":"Â≠óÊÆµÈÖçÁΩÆ","url":"/zh-CN/docs/guide/python/field_configuration#Â≠óÊÆµ-idid","content":" ÈÄöËøáÁªôÂ≠óÊÆµÂàÜÈÖçÊï∞ÂÄº IDÔºåÂèØÂáèÂ∞ë struct Â≠óÊÆµÂÖÉ‰ø°ÊÅØÂºÄÈîÄÔºö  @dataclass class User: id: pyfory.int64 = pyfory.field(id=0, default=0) name: str = pyfory.field(id=1, default=&quot;&quot;) age: pyfory.int32 = pyfory.field(id=2, default=0)   Êî∂ÁõäÔºö  Â∫èÂàóÂåñ‰ΩìÁßØÊõ¥Â∞èÔºàÂÖÉ‰ø°ÊÅØ‰∏≠Êï∞ÂÄº ID Êõø‰ª£Â≠óÊÆµÂêçÔºâstruct Â≠óÊÆµÂÖÉ‰ø°ÊÅØÂºÄÈîÄÊõ¥‰ΩéÂ≠óÊÆµÈáçÂëΩÂêçÊó∂ÂèØ‰øùÊåÅ‰∫åËøõÂà∂ÂÖºÂÆπ  Âª∫ËÆÆÔºö ÂÖºÂÆπÊ®°Âºè‰∏ãÂª∫ËÆÆÈÖçÁΩÆÂ≠óÊÆµ IDÔºå‰ª•Èôç‰ΩéÂ∫èÂàóÂåñÊàêÊú¨„ÄÇ  Ê≥®ÊÑèÔºö  Âêå‰∏ÄÁ±ªÂÜÖ ID ÂøÖÈ°ªÂîØ‰∏ÄID ÂøÖÈ°ª &gt;= 0Ôºà-1 Ë°®Á§∫‰ΩøÁî®Â≠óÊÆµÂêçÁºñÁ†ÅÔºåÈªòËÆ§Ë°å‰∏∫ÔºâÊú™ÊåáÂÆöÊó∂‰ºö‰ΩøÁî®Â≠óÊÆµÂêçÂÜôÂÖ•ÂÖÉ‰ø°ÊÅØÔºàÂºÄÈîÄÊõ¥Â§ßÔºâ  ‰∏çÈÖçÁΩÆÂ≠óÊÆµ IDÔºàÂÖÉ‰ø°ÊÅØ‰ΩøÁî®Â≠óÊÆµÂêçÔºâÁ§∫‰æãÔºö  @dataclass class User: id: pyfory.int64 = 0 name: str = &quot;&quot;   ","version":"0.15","tagName":"h2"},{"title":"ÂèØÁ©∫Â≠óÊÆµÔºànullableÔºâ‚Äã","type":1,"pageTitle":"Â≠óÊÆµÈÖçÁΩÆ","url":"/zh-CN/docs/guide/python/field_configuration#ÂèØÁ©∫Â≠óÊÆµnullable","content":" ÂØπÂèØËÉΩ‰∏∫ None ÁöÑÂ≠óÊÆµ‰ΩøÁî® nullable=TrueÔºö  from typing import Optional @dataclass class Record: # ÂèØÁ©∫Â≠óÁ¨¶‰∏≤Â≠óÊÆµ optional_name: Optional[str] = pyfory.field(id=0, nullable=True, default=None) # ÂèØÁ©∫Êï¥Êï∞Â≠óÊÆµ optional_count: Optional[pyfory.int32] = pyfory.field(id=1, nullable=True, default=None)   Ê≥®ÊÑèÔºö  Optional[T] Â≠óÊÆµÂ∫îÈÖçÂêà nullable=TrueÈùû Optional Â≠óÊÆµÈªòËÆ§ nullable=False  ","version":"0.15","tagName":"h2"},{"title":"ÂºïÁî®Ë∑üË∏™ÔºàrefÔºâ‚Äã","type":1,"pageTitle":"Â≠óÊÆµÈÖçÁΩÆ","url":"/zh-CN/docs/guide/python/field_configuration#ÂºïÁî®Ë∑üË∏™ref","content":" ÂØπ‰∫éÂèØËÉΩÂÖ±‰∫´ÊàñÂæ™ÁéØÂºïÁî®ÁöÑÂ≠óÊÆµÂêØÁî®ÂºïÁî®Ë∑üË∏™Ôºö  @dataclass class RefOuter: # ‰∏§‰∏™Â≠óÊÆµÂèØËÉΩÊåáÂêëÂêå‰∏Ä‰∏™ÂÜÖÈÉ®ÂØπË±° inner1: Optional[RefInner] = pyfory.field(id=0, ref=True, nullable=True, default=None) inner2: Optional[RefInner] = pyfory.field(id=1, ref=True, nullable=True, default=None) @dataclass class CircularRef: name: str = pyfory.field(id=0, default=&quot;&quot;) # Ëá™ÂºïÁî®Â≠óÊÆµÔºåÁî®‰∫éÂæ™ÁéØÂºïÁî® self_ref: Optional[&quot;CircularRef&quot;] = pyfory.field(id=1, ref=True, nullable=True, default=None)   ÈÄÇÁî®Âú∫ÊôØÔºö  Â≠óÊÆµÂèØËÉΩÂΩ¢ÊàêÂæ™ÁéØÊàñÂÖ±‰∫´ÂÖ≥Á≥ªÂêå‰∏ÄÂØπË±°Ë¢´Â§ö‰∏™Â≠óÊÆµÂºïÁî®  Ê≥®ÊÑèÔºö  Âè™ÊúâÂÖ®Â±ÄËÆæÁΩÆ Fory(ref=True) Êó∂ÔºåÂºïÁî®Ë∑üË∏™ÊâçÁîüÊïàÂ≠óÊÆµÁ∫ß ref=True ‰∏éÂÖ®Â±Ä ref=True ÂøÖÈ°ªÂêåÊó∂ÂºÄÂêØ  ","version":"0.15","tagName":"h2"},{"title":"Ë∑≥ËøáÂ≠óÊÆµÔºàignoreÔºâ‚Äã","type":1,"pageTitle":"Â≠óÊÆµÈÖçÁΩÆ","url":"/zh-CN/docs/guide/python/field_configuration#Ë∑≥ËøáÂ≠óÊÆµignore","content":" Â∞ÜÂ≠óÊÆµÊéíÈô§Âú®Â∫èÂàóÂåñ‰πãÂ§ñÔºö  @dataclass class User: id: pyfory.int64 = pyfory.field(id=0, default=0) name: str = pyfory.field(id=1, default=&quot;&quot;) # ‰∏çÂ∫èÂàóÂåñ _cache: dict = pyfory.field(ignore=True, default_factory=dict) _internal_state: str = pyfory.field(ignore=True, default=&quot;&quot;)   ","version":"0.15","tagName":"h2"},{"title":"Dynamic Â≠óÊÆµÔºàdynamicÔºâ‚Äã","type":1,"pageTitle":"Â≠óÊÆµÈÖçÁΩÆ","url":"/zh-CN/docs/guide/python/field_configuration#dynamic-Â≠óÊÆµdynamic","content":" ÊéßÂà∂ struct Â≠óÊÆµÊòØÂê¶ÂÜôÂÖ•Á±ªÂûã‰ø°ÊÅØÔºåËøôÊòØÊîØÊåÅÂ§öÊÄÅÁöÑÂÖ≥ÈîÆÔºö  from abc import ABC, abstractmethod class Shape(ABC): @abstractmethod def area(self) -&gt; float: pass @dataclass class Circle(Shape): radius: float = 0.0 def area(self) -&gt; float: return 3.14159 * self.radius * self.radius @dataclass class Container: # ÊäΩË±°Á±ªÔºödynamic ÊÄª‰∏∫ TrueÔºàÂÜôÁ±ªÂûã‰ø°ÊÅØÔºâ shape: Shape = pyfory.field(id=0) # ÂØπÂÖ∑‰ΩìÁ±ªÂûãÂº∫Âà∂ÂÜôÁ±ªÂûã‰ø°ÊÅØÔºàÊîØÊåÅËøêË°åÊó∂Â≠êÁ±ªÔºâ circle: Circle = pyfory.field(id=1, dynamic=True) # ÂØπÂÖ∑‰ΩìÁ±ªÂûãË∑≥ËøáÁ±ªÂûã‰ø°ÊÅØÔºàÊåâÂ£∞ÊòéÁ±ªÂûãÂ§ÑÁêÜÔºâ fixed_circle: Circle = pyfory.field(id=2, dynamic=False)   ÈªòËÆ§Ë°å‰∏∫Ôºö  Ê®°Âºè\tÊäΩË±°Á±ª\tÂÖ∑‰ΩìÂØπË±°Á±ªÂûã\tÊï∞ÂÄº/str/time Á±ªÂûãNative Ê®°Âºè\tTrue\tTrue\tFalse Xlang Ê®°Âºè\tTrue\tFalse\tFalse  Ê≥®ÊÑèÔºö  ÊäΩË±°Á±ªÔºödynamic ÂßãÁªà‰∏∫ TrueÔºàÂøÖÈ°ªÂÜôÁ±ªÂûã‰ø°ÊÅØÔºâNative Ê®°ÂºèÔºöÂØπË±°Á±ªÂûãÈªòËÆ§ dynamic=TrueÔºõÊï∞ÂÄº/str/time ÈªòËÆ§ FalseXlang Ê®°ÂºèÔºöÂÖ∑‰ΩìÁ±ªÂûãÈªòËÆ§ dynamic=FalseÂΩìÂÖ∑‰ΩìÂ≠óÊÆµÂèØËÉΩÊåÅÊúâÂ≠êÁ±ªÂÆû‰æãÊó∂Ôºå‰ΩøÁî® dynamic=TrueÂΩìÁ±ªÂûãÂõ∫ÂÆö‰∏îËøΩÊ±ÇÊÄßËÉΩÊó∂ÔºåÂèØ‰ΩøÁî® dynamic=False  ","version":"0.15","tagName":"h2"},{"title":"Êï¥Êï∞Á±ªÂûãÊ≥®Ëß£‚Äã","type":1,"pageTitle":"Â≠óÊÆµÈÖçÁΩÆ","url":"/zh-CN/docs/guide/python/field_configuration#Êï¥Êï∞Á±ªÂûãÊ≥®Ëß£","content":" Fory Êèê‰æõÁ±ªÂûãÊ≥®Ëß£Êù•ÊéßÂà∂Êï¥Êï∞ÁºñÁ†Å„ÄÇ  ","version":"0.15","tagName":"h2"},{"title":"ÊúâÁ¨¶Âè∑Êï¥Êï∞‚Äã","type":1,"pageTitle":"Â≠óÊÆµÈÖçÁΩÆ","url":"/zh-CN/docs/guide/python/field_configuration#ÊúâÁ¨¶Âè∑Êï¥Êï∞","content":" @dataclass class SignedIntegers: byte_val: pyfory.int8 = 0 # 8-bit signed short_val: pyfory.int16 = 0 # 16-bit signed int_val: pyfory.int32 = 0 # 32-bit signed (varint encoding) long_val: pyfory.int64 = 0 # 64-bit signed (varint encoding)   ","version":"0.15","tagName":"h3"},{"title":"Êó†Á¨¶Âè∑Êï¥Êï∞‚Äã","type":1,"pageTitle":"Â≠óÊÆµÈÖçÁΩÆ","url":"/zh-CN/docs/guide/python/field_configuration#Êó†Á¨¶Âè∑Êï¥Êï∞","content":" @dataclass class UnsignedIntegers: # Fixed-size encoding u8_val: pyfory.uint8 = 0 # 8-bit unsigned (fixed) u16_val: pyfory.uint16 = 0 # 16-bit unsigned (fixed) # Variable-length encoding (default for u32/u64) u32_var: pyfory.uint32 = 0 # 32-bit unsigned (varint) u64_var: pyfory.uint64 = 0 # 64-bit unsigned (varint) # Explicit fixed-size encoding u32_fixed: pyfory.fixed_uint32 = 0 # 32-bit unsigned (fixed 4 bytes) u64_fixed: pyfory.fixed_uint64 = 0 # 64-bit unsigned (fixed 8 bytes) # Tagged encoding (includes type tag) u64_tagged: pyfory.tagged_uint64 = 0 # 64-bit unsigned (tagged)   ","version":"0.15","tagName":"h3"},{"title":"ÊµÆÁÇπÊï∞‚Äã","type":1,"pageTitle":"Â≠óÊÆµÈÖçÁΩÆ","url":"/zh-CN/docs/guide/python/field_configuration#ÊµÆÁÇπÊï∞","content":" @dataclass class FloatingPoint: float_val: pyfory.float32 = 0.0 # 32-bit float double_val: pyfory.float64 = 0.0 # 64-bit double   ","version":"0.15","tagName":"h3"},{"title":"ÁºñÁ†ÅÊ±áÊÄª‚Äã","type":1,"pageTitle":"Â≠óÊÆµÈÖçÁΩÆ","url":"/zh-CN/docs/guide/python/field_configuration#ÁºñÁ†ÅÊ±áÊÄª","content":" Á±ªÂûã\tÁºñÁ†Å\tÂ§ßÂ∞èpyfory.int8\tfixed\t1 Â≠óËäÇ pyfory.int16\tfixed\t2 Â≠óËäÇ pyfory.int32\tvarint\t1-5 Â≠óËäÇ pyfory.int64\tvarint\t1-10 Â≠óËäÇ pyfory.uint8\tfixed\t1 Â≠óËäÇ pyfory.uint16\tfixed\t2 Â≠óËäÇ pyfory.uint32\tvarint\t1-5 Â≠óËäÇ pyfory.uint64\tvarint\t1-10 Â≠óËäÇ pyfory.fixed_uint32\tfixed\t4 Â≠óËäÇ pyfory.fixed_uint64\tfixed\t8 Â≠óËäÇ pyfory.tagged_uint64\ttagged\t1-9 Â≠óËäÇ pyfory.float32\tfixed\t4 Â≠óËäÇ pyfory.float64\tfixed\t8 Â≠óËäÇ  ‰ΩïÊó∂‰ΩøÁî®Ôºö  varintÔºöÈÄÇÂêàÂ∞èÂÄºÂç†Â§öÊï∞ÁöÑÂú∫ÊôØÔºàint32/int64/uint32/uint64 ÈªòËÆ§ÔºâfixedÔºöÈÄÇÂêàË¶ÜÁõñÂÖ®ÂÄºÂüüÁöÑÂú∫ÊôØÔºà‰æãÂ¶ÇÊó∂Èó¥Êà≥„ÄÅÂìàÂ∏åÔºâtaggedÔºöÈÄÇÂêàÈúÄË¶Å‰øùÁïôÁ±ªÂûã‰ø°ÊÅØÁöÑÂú∫ÊôØÔºà‰ªÖ uint64Ôºâ  ","version":"0.15","tagName":"h3"},{"title":"ÂÆåÊï¥Á§∫‰æã‚Äã","type":1,"pageTitle":"Â≠óÊÆµÈÖçÁΩÆ","url":"/zh-CN/docs/guide/python/field_configuration#ÂÆåÊï¥Á§∫‰æã","content":" from dataclasses import dataclass from typing import Optional, List, Dict, Set import pyfory @dataclass class Document: # Fields with tag IDs (recommended for compatible mode) title: str = pyfory.field(id=0, default=&quot;&quot;) version: pyfory.int32 = pyfory.field(id=1, default=0) # Nullable field description: Optional[str] = pyfory.field(id=2, nullable=True, default=None) # Collection fields tags: List[str] = pyfory.field(id=3, default_factory=list) metadata: Dict[str, str] = pyfory.field(id=4, default_factory=dict) categories: Set[str] = pyfory.field(id=5, default_factory=set) # Unsigned integers with different encodings view_count: pyfory.uint64 = pyfory.field(id=6, default=0) # varint encoding file_size: pyfory.fixed_uint64 = pyfory.field(id=7, default=0) # fixed encoding checksum: pyfory.tagged_uint64 = pyfory.field(id=8, default=0) # tagged encoding # Reference-tracked field for shared/circular references parent: Optional[&quot;Document&quot;] = pyfory.field(id=9, ref=True, nullable=True, default=None) # Ignored field (not serialized) _cache: dict = pyfory.field(ignore=True, default_factory=dict) def main(): fory = pyfory.Fory(xlang=True, compatible=True, ref=True) fory.register_type(Document, type_id=100) doc = Document( title=&quot;My Document&quot;, version=1, description=&quot;A sample document&quot;, tags=[&quot;tag1&quot;, &quot;tag2&quot;], metadata={&quot;key&quot;: &quot;value&quot;}, categories={&quot;cat1&quot;}, view_count=42, file_size=1024, checksum=123456789, parent=None, ) # Serialize data = fory.serialize(doc) # Deserialize decoded = fory.deserialize(data) assert decoded.title == doc.title assert decoded.version == doc.version if __name__ == &quot;__main__&quot;: main()   ","version":"0.15","tagName":"h2"},{"title":"Ë∑®ËØ≠Ë®ÄÂÖºÂÆπ‚Äã","type":1,"pageTitle":"Â≠óÊÆµÈÖçÁΩÆ","url":"/zh-CN/docs/guide/python/field_configuration#Ë∑®ËØ≠Ë®ÄÂÖºÂÆπ","content":" ÂΩìÂ∫èÂàóÂåñÊï∞ÊçÆÂ∞ÜË¢´ÂÖ∂‰ªñËØ≠Ë®ÄÔºàJava„ÄÅRust„ÄÅC++„ÄÅGoÔºâËØªÂèñÊó∂ÔºåÂª∫ËÆÆ‰ΩøÁî®Â≠óÊÆµ ID Âπ∂ÈÖçÂ•óÁ±ªÂûãÊ≥®Ëß£Ôºö  @dataclass class CrossLangData: # Use field IDs for cross-language compatibility int_var: pyfory.int32 = pyfory.field(id=0, default=0) long_fixed: pyfory.fixed_uint64 = pyfory.field(id=1, default=0) long_tagged: pyfory.tagged_uint64 = pyfory.field(id=2, default=0) optional_value: Optional[str] = pyfory.field(id=3, nullable=True, default=None)   ","version":"0.15","tagName":"h2"},{"title":"Schema ÊºîËøõ‚Äã","type":1,"pageTitle":"Â≠óÊÆµÈÖçÁΩÆ","url":"/zh-CN/docs/guide/python/field_configuration#schema-ÊºîËøõ","content":" ÂÖºÂÆπÊ®°ÂºèÊîØÊåÅ Schema ÊºîËøõ„ÄÇÂª∫ËÆÆÈÄöËøáÂ≠óÊÆµ ID Èôç‰ΩéÂ∫èÂàóÂåñÊàêÊú¨Ôºö  # Version 1 @dataclass class DataV1: id: pyfory.int64 = pyfory.field(id=0, default=0) name: str = pyfory.field(id=1, default=&quot;&quot;) # Version 2: Added new field @dataclass class DataV2: id: pyfory.int64 = pyfory.field(id=0, default=0) name: str = pyfory.field(id=1, default=&quot;&quot;) email: Optional[str] = pyfory.field(id=2, nullable=True, default=None) # New field   V1 ÂÜôÂá∫ÁöÑÊï∞ÊçÆÂèØÁî± V2 ËØªÂèñÔºàÊñ∞Â¢ûÂ≠óÊÆµÂ∞Ü‰∏∫ NoneÔºâ„ÄÇ  ‰πüÂèØ‰ª•‰∏çÈÖçÁΩÆÂ≠óÊÆµ IDÔºàÊ≠§Êó∂ÂÖÉ‰ø°ÊÅØ‰ΩøÁî®Â≠óÊÆµÂêçÔºåÂºÄÈîÄÊõ¥Â§ßÔºâÔºö  @dataclass class Data: id: pyfory.int64 = 0 name: str = &quot;&quot;   ","version":"0.15","tagName":"h2"},{"title":"Native Ê®°Âºè‰∏é Xlang Ê®°Âºè‚Äã","type":1,"pageTitle":"Â≠óÊÆµÈÖçÁΩÆ","url":"/zh-CN/docs/guide/python/field_configuration#native-Ê®°Âºè‰∏é-xlang-Ê®°Âºè","content":" Â≠óÊÆµÈÖçÁΩÆ‰ºöÈöèÂ∫èÂàóÂåñÊ®°Âºè‰∏çÂêåËÄåÂèòÂåñ„ÄÇ  ","version":"0.15","tagName":"h2"},{"title":"Native Ê®°ÂºèÔºà‰ªÖ PythonÔºâ‚Äã","type":1,"pageTitle":"Â≠óÊÆµÈÖçÁΩÆ","url":"/zh-CN/docs/guide/python/field_configuration#native-Ê®°Âºè‰ªÖ-python","content":" Native Ê®°ÂºèÈªòËÆ§ÂÄºÊõ¥ÂÆΩÊùæÔºå‰ª•Ëé∑ÂæóÊõ¥È´òÂÖºÂÆπÊÄßÔºö  NullableÔºöstr ÂíåÊï∞ÂÄºÁ±ªÂûãÈªòËÆ§‰∏çÂèØÁ©∫ÔºåÈô§Èùû‰ΩøÁî® OptionalRef trackingÔºöÂØπË±°ÂºïÁî®ÈªòËÆ§ÂºÄÂêØÔºàstr ‰∏éÊï∞ÂÄºÁ±ªÂûãÈô§Â§ñÔºâ  Âú® Native Ê®°Âºè‰∏≠ÔºåÈÄöÂ∏∏‰∏çÈúÄË¶ÅÊòæÂºèÂ≠óÊÆµÈÖçÁΩÆÔºåÈô§Èùû‰Ω†Â∏åÊúõÔºö  ÈÄöËøáÂ≠óÊÆµ ID Èôç‰ΩéÂ∫èÂàóÂåñ‰ΩìÁßØÂÖ≥Èó≠‰∏çÂøÖË¶ÅÁöÑ ref Ë∑üË∏™‰ª•‰ºòÂåñÊÄßËÉΩ  # Native mode: works without field configuration @dataclass class User: id: int = 0 name: str = &quot;&quot; tags: List[str] = None   ","version":"0.15","tagName":"h3"},{"title":"Xlang Ê®°ÂºèÔºàË∑®ËØ≠Ë®ÄÔºâ‚Äã","type":1,"pageTitle":"Â≠óÊÆµÈÖçÁΩÆ","url":"/zh-CN/docs/guide/python/field_configuration#xlang-Ê®°ÂºèË∑®ËØ≠Ë®Ä","content":" Áî±‰∫éËØ≠Ë®ÄÈó¥Á±ªÂûãÁ≥ªÁªüÂ∑ÆÂºÇÔºåXlang Ê®°ÂºèÈªòËÆ§ÂÄºÊõ¥‰∏•Ê†ºÔºö  NullableÔºöÈªòËÆ§‰∏çÂèØÁ©∫Ôºànullable=FalseÔºâRef trackingÔºöÈªòËÆ§ÂÖ≥Èó≠Ôºàref=FalseÔºâ  Âú® Xlang Ê®°Âºè‰∏≠Ôºå‰ª•‰∏ãÊÉÖÂÜµÈúÄË¶ÅÊòæÂºèÈÖçÁΩÆÔºö  Â≠óÊÆµÂèØËÉΩ‰∏∫ NoneÔºàOptional[T] + nullable=TrueÔºâÂ≠óÊÆµÈúÄË¶ÅÂÖ±‰∫´/Âæ™ÁéØÂºïÁî®ËØ≠‰πâÔºàref=TrueÔºâÊï¥Êï∞Á±ªÂûãÈúÄË¶ÅÊåáÂÆöË∑®ËØ≠Ë®ÄÁºñÁ†ÅÈúÄË¶ÅÂáèÂ∞ëÂÖÉ‰ø°ÊÅØÂºÄÈîÄÔºàÂ≠óÊÆµ IDÔºâ  # Xlang mode: explicit configuration required for nullable/ref fields @dataclass class User: id: pyfory.int64 = pyfory.field(id=0, default=0) name: str = pyfory.field(id=1, default=&quot;&quot;) email: Optional[str] = pyfory.field(id=2, nullable=True, default=None) # Must declare nullable friend: Optional[&quot;User&quot;] = pyfory.field(id=3, ref=True, nullable=True, default=None) # Must declare ref   ","version":"0.15","tagName":"h3"},{"title":"ÈªòËÆ§ÂÄºÊ±áÊÄª‚Äã","type":1,"pageTitle":"Â≠óÊÆµÈÖçÁΩÆ","url":"/zh-CN/docs/guide/python/field_configuration#ÈªòËÆ§ÂÄºÊ±áÊÄª","content":" ÈÄâÈ°π\tNative Ê®°ÂºèÈªòËÆ§ÂÄº\tXlang Ê®°ÂºèÈªòËÆ§ÂÄºnullable\tstr/Êï∞ÂÄºÁ±ªÂûã‰∏∫ FalseÔºåÂÖ∂‰ΩôÂØπË±°ÈÄöÂ∏∏ÂèØÁ©∫\tFalse ref\tTrueÔºàstr ÂíåÊï∞ÂÄºÁ±ªÂûãÈô§Â§ñÔºâ\tFalse dynamic\tTrueÔºàÊï∞ÂÄº/str/time Á±ªÂûãÈô§Â§ñÔºâ\tFalseÔºàÂÖ∑‰ΩìÁ±ªÂûãÔºâ  ","version":"0.15","tagName":"h3"},{"title":"ÊúÄ‰Ω≥ÂÆûË∑µ‚Äã","type":1,"pageTitle":"Â≠óÊÆµÈÖçÁΩÆ","url":"/zh-CN/docs/guide/python/field_configuration#ÊúÄ‰Ω≥ÂÆûË∑µ","content":" ÈÖçÁΩÆÂ≠óÊÆµ IDÔºöÂÖºÂÆπÊ®°Âºè‰∏ãÂª∫ËÆÆÈÖçÁΩÆÔºåÈôç‰ΩéÂ∫èÂàóÂåñÊàêÊú¨Optional[T] ÈÖçÂêà nullable=TrueÔºöxlang ‰∏ãÂèØÁ©∫Â≠óÊÆµÈúÄË¶ÅÊòæÂºèÂ£∞ÊòéÂÖ±‰∫´ÂØπË±°ÂêØÁî® refÔºöÂÖ±‰∫´ÊàñÂæ™ÁéØÂÖ≥Á≥ª‰ΩøÁî® ref=TrueÊïèÊÑüÂ≠óÊÆµ‰ΩøÁî® ignore=TrueÔºö‰æãÂ¶ÇÂØÜÁ†Å„ÄÅ‰ª§Áâå„ÄÅÂÜÖÈÉ®Áä∂ÊÄÅÈÄâÊã©ÂêàÈÄÇÁºñÁ†ÅÔºöÂ∞èÂÄºÁî® varintÔºåÂÖ®ËåÉÂõ¥ÂÄºÁî® fixed‰øùÊåÅ ID Á®≥ÂÆöÔºöÂàÜÈÖçÂêé‰∏çË¶ÅÊõ¥ÊîπÂ≠óÊÆµ ID  ","version":"0.15","tagName":"h2"},{"title":"ÈÄâÈ°πÈÄüÊü•‚Äã","type":1,"pageTitle":"Â≠óÊÆµÈÖçÁΩÆ","url":"/zh-CN/docs/guide/python/field_configuration#ÈÄâÈ°πÈÄüÊü•","content":" ÈÖçÁΩÆ\tËØ¥Êòépyfory.field(id=N)\tÂ≠óÊÆµ tag IDÔºåÂáèÂ∞ëÂÖÉ‰ø°ÊÅØÂºÄÈîÄ pyfory.field(nullable=True)\tÊ†áËÆ∞Â≠óÊÆµÂèØÁ©∫ pyfory.field(ref=True)\tÂêØÁî®ÂºïÁî®Ë∑üË∏™ pyfory.field(ignore=True)\tÂ∞ÜÂ≠óÊÆµÊéíÈô§Âú®Â∫èÂàóÂåñ‰πãÂ§ñ pyfory.field(dynamic=True)\tÂº∫Âà∂ÂÜôÂÖ•Á±ªÂûã‰ø°ÊÅØ pyfory.field(dynamic=False)\tË∑≥ËøáÁ±ªÂûã‰ø°ÊÅØÔºàÊåâÂ£∞ÊòéÁ±ªÂûãÂ§ÑÁêÜÔºâ Optional[T]\tÂèØÁ©∫Â≠óÊÆµÁ±ªÂûãÊèêÁ§∫ pyfory.int32, pyfory.int64\tÊúâÁ¨¶Âè∑Êï¥Êï∞Ôºàvarint ÁºñÁ†ÅÔºâ pyfory.uint32, pyfory.uint64\tÊó†Á¨¶Âè∑Êï¥Êï∞Ôºàvarint ÁºñÁ†ÅÔºâ pyfory.fixed_uint32, pyfory.fixed_uint64\tÂÆöÈïøÊó†Á¨¶Âè∑Êï¥Êï∞ pyfory.tagged_uint64\tuint64 ÁöÑ tagged ÁºñÁ†Å  ","version":"0.15","tagName":"h2"},{"title":"Áõ∏ÂÖ≥‰∏ªÈ¢ò‚Äã","type":1,"pageTitle":"Â≠óÊÆµÈÖçÁΩÆ","url":"/zh-CN/docs/guide/python/field_configuration#Áõ∏ÂÖ≥‰∏ªÈ¢ò","content":" Âü∫Á°ÄÂ∫èÂàóÂåñ - Âø´ÈÄü‰∏äÊâã Fory Â∫èÂàóÂåñSchema ÊºîËøõ - ÂÖºÂÆπÊ®°Âºè‰∏é schema ÊºîËøõË∑®ËØ≠Ë®Ä - ‰∏é Java„ÄÅRust„ÄÅC++„ÄÅGo ‰∫íÊìç‰Ωú ","version":"0.15","tagName":"h2"},{"title":"Ë°åÊ†ºÂºè","type":0,"sectionRef":"#","url":"/zh-CN/docs/guide/python/row_format","content":"","keywords":"","version":"0.15"},{"title":"Ê¶ÇËø∞‚Äã","type":1,"pageTitle":"Ë°åÊ†ºÂºè","url":"/zh-CN/docs/guide/python/row_format#Ê¶ÇËø∞","content":" ÂΩìÂè™ÈúÄË¶ÅÈÉ®ÂàÜÊï∞ÊçÆËÆøÈóÆÊó∂ÔºåË°åÊ†ºÂºèÂèØ‰ª•Â§ßÂπÖÂáèÂ∞ëÂ§ÑÁêÜÂ§ßÂûãÂØπË±°ÁöÑÂºÄÈîÄ„ÄÇÂÆÉËøòÊîØÊåÅÂÜÖÂ≠òÊò†Â∞ÑÊñá‰ª∂ÔºåÂÆûÁé∞Ë∂Ö‰ΩéÂÜÖÂ≠òÂç†Áî®„ÄÇ  Ê†∏ÂøÉ‰ºòÂäøÔºö  ÁâπÊÄß\tÊèèËø∞Èõ∂Êã∑Ë¥ùËÆøÈóÆ\tÊó†ÈúÄÂèçÂ∫èÂàóÂåñÊï¥‰∏™ÂØπË±°Âç≥ÂèØËØªÂèñÂµåÂ•óÂ≠óÊÆµ ÂÜÖÂ≠òÊïàÁéá\tÁõ¥Êé•‰ªéÁ£ÅÁõòÂÜÖÂ≠òÊò†Â∞ÑÂ§ßÂûãÊï∞ÊçÆÈõÜ Ë∑®ËØ≠Ë®Ä\tPython„ÄÅJava„ÄÅC++ ‰πãÈó¥ÁöÑ‰∫åËøõÂà∂Ê†ºÂºèÂÖºÂÆπ ÈÉ®ÂàÜÂèçÂ∫èÂàóÂåñ\t‰ªÖÂèçÂ∫èÂàóÂåñÊâÄÈúÄÁöÑÁâπÂÆöÂÖÉÁ¥† È´òÊÄßËÉΩ\tË∑≥Ëøá‰∏çÂøÖË¶ÅÁöÑÊï∞ÊçÆËß£ÊûêÔºåÈÄÇÁî®‰∫éÂàÜÊûêÂ∑•‰ΩúË¥üËΩΩ  ","version":"0.15","tagName":"h2"},{"title":"Âü∫Á°ÄÁî®Ê≥ï‚Äã","type":1,"pageTitle":"Ë°åÊ†ºÂºè","url":"/zh-CN/docs/guide/python/row_format#Âü∫Á°ÄÁî®Ê≥ï","content":" import pyfory import pyarrow as pa from dataclasses import dataclass from typing import List, Dict @dataclass class Bar: f1: str f2: List[pa.int64] @dataclass class Foo: f1: pa.int32 f2: List[pa.int32] f3: Dict[str, pa.int32] f4: List[Bar] # ‰∏∫Ë°åÊ†ºÂºèÂàõÂª∫ÁºñÁ†ÅÂô® encoder = pyfory.encoder(Foo) # ÂàõÂª∫Â§ßÂûãÊï∞ÊçÆÈõÜ foo = Foo( f1=10, f2=list(range(1_000_000)), f3={f&quot;k{i}&quot;: i for i in range(1_000_000)}, f4=[Bar(f1=f&quot;s{i}&quot;, f2=list(range(10))) for i in range(1_000_000)] ) # ÁºñÁ†Å‰∏∫Ë°åÊ†ºÂºè binary: bytes = encoder.to_row(foo).to_bytes() # Èõ∂Êã∑Ë¥ùËÆøÈóÆ - Êó†ÈúÄÂÆåÂÖ®ÂèçÂ∫èÂàóÂåñÔºÅ foo_row = pyfory.RowData(encoder.schema, binary) print(foo_row.f2[100000]) # Áõ¥Êé•ËÆøÈóÆÁ¨¨ 100,000 ‰∏™ÂÖÉÁ¥† print(foo_row.f4[100000].f1) # Áõ¥Êé•ËÆøÈóÆÂµåÂ•óÂ≠óÊÆµ print(foo_row.f4[200000].f2[5]) # Áõ¥Êé•ËÆøÈóÆÊ∑±Â±ÇÂµåÂ•óÂ≠óÊÆµ   ","version":"0.15","tagName":"h2"},{"title":"Ë∑®ËØ≠Ë®ÄÂÖºÂÆπÊÄß‚Äã","type":1,"pageTitle":"Ë°åÊ†ºÂºè","url":"/zh-CN/docs/guide/python/row_format#Ë∑®ËØ≠Ë®ÄÂÖºÂÆπÊÄß","content":" Ë°åÊ†ºÂºèÂèØ‰ª•Ë∑®ËØ≠Ë®ÄÊó†ÁºùÂ∑•‰Ωú„ÄÇÁõ∏ÂêåÁöÑ‰∫åËøõÂà∂Êï∞ÊçÆÂèØ‰ª•‰ªé Java Âíå C++ ËÆøÈóÆ„ÄÇ  ","version":"0.15","tagName":"h2"},{"title":"Java‚Äã","type":1,"pageTitle":"Ë°åÊ†ºÂºè","url":"/zh-CN/docs/guide/python/row_format#java","content":" public class Bar { String f1; List&lt;Long&gt; f2; } public class Foo { int f1; List&lt;Integer&gt; f2; Map&lt;String, Integer&gt; f3; List&lt;Bar&gt; f4; } RowEncoder&lt;Foo&gt; encoder = Encoders.bean(Foo.class); // ÁºñÁ†Å‰∏∫Ë°åÊ†ºÂºèÔºà‰∏é Python Ë∑®ËØ≠Ë®ÄÂÖºÂÆπÔºâ BinaryRow binaryRow = encoder.toRow(foo); // Èõ∂Êã∑Ë¥ùÈöèÊú∫ËÆøÈóÆÔºåÊó†ÈúÄÂÆåÂÖ®ÂèçÂ∫èÂàóÂåñ BinaryArray f2Array = binaryRow.getArray(1); // ËÆøÈóÆ f2 ÂàóË°® BinaryArray f4Array = binaryRow.getArray(3); // ËÆøÈóÆ f4 ÂàóË°® BinaryRow bar10 = f4Array.getStruct(10); // ËÆøÈóÆÁ¨¨ 11 ‰∏™ Bar long value = bar10.getArray(1).getInt64(5); // ËÆøÈóÆ bar.f2 ÁöÑÁ¨¨ 6 ‰∏™ÂÖÉÁ¥† // ÈÉ®ÂàÜÂèçÂ∫èÂàóÂåñ - ‰ªÖÂèçÂ∫èÂàóÂåñÊâÄÈúÄÂÜÖÂÆπ RowEncoder&lt;Bar&gt; barEncoder = Encoders.bean(Bar.class); Bar bar1 = barEncoder.fromRow(f4Array.getStruct(10)); // ‰ªÖÂèçÂ∫èÂàóÂåñÁ¨¨ 11 ‰∏™ Bar Bar bar2 = barEncoder.fromRow(f4Array.getStruct(20)); // ‰ªÖÂèçÂ∫èÂàóÂåñÁ¨¨ 21 ‰∏™ Bar   ","version":"0.15","tagName":"h3"},{"title":"C++‚Äã","type":1,"pageTitle":"Ë°åÊ†ºÂºè","url":"/zh-CN/docs/guide/python/row_format#c","content":" #include &quot;fory/encoder/row_encoder.h&quot; #include &quot;fory/row/writer.h&quot; struct Bar { std::string f1; std::vector&lt;int64_t&gt; f2; }; FORY_FIELD_INFO(Bar, f1, f2); struct Foo { int32_t f1; std::vector&lt;int32_t&gt; f2; std::map&lt;std::string, int32_t&gt; f3; std::vector&lt;Bar&gt; f4; }; FORY_FIELD_INFO(Foo, f1, f2, f3, f4); fory::encoder::RowEncoder&lt;Foo&gt; encoder; encoder.Encode(foo); auto row = encoder.GetWriter().ToRow(); // Èõ∂Êã∑Ë¥ùÈöèÊú∫ËÆøÈóÆÔºåÊó†ÈúÄÂÆåÂÖ®ÂèçÂ∫èÂàóÂåñ auto f2_array = row-&gt;GetArray(1); // ËÆøÈóÆ f2 ÂàóË°® auto f4_array = row-&gt;GetArray(3); // ËÆøÈóÆ f4 ÂàóË°® auto bar10 = f4_array-&gt;GetStruct(10); // ËÆøÈóÆÁ¨¨ 11 ‰∏™ Bar int64_t value = bar10-&gt;GetArray(1)-&gt;GetInt64(5); // ËÆøÈóÆ bar.f2 ÁöÑÁ¨¨ 6 ‰∏™ÂÖÉÁ¥† std::string str = bar10-&gt;GetString(0); // ËÆøÈóÆ bar.f1   ","version":"0.15","tagName":"h3"},{"title":"ÂÆâË£Ö‚Äã","type":1,"pageTitle":"Ë°åÊ†ºÂºè","url":"/zh-CN/docs/guide/python/row_format#ÂÆâË£Ö","content":" Ë°åÊ†ºÂºèÈúÄË¶Å Apache ArrowÔºö  pip install pyfory[format]   ","version":"0.15","tagName":"h2"},{"title":"‰ΩïÊó∂‰ΩøÁî®Ë°åÊ†ºÂºè‚Äã","type":1,"pageTitle":"Ë°åÊ†ºÂºè","url":"/zh-CN/docs/guide/python/row_format#‰ΩïÊó∂‰ΩøÁî®Ë°åÊ†ºÂºè","content":" ÂàÜÊûêÂ∑•‰ΩúË¥üËΩΩÔºöÂΩìÊÇ®Âè™ÈúÄË¶ÅËÆøÈóÆÁâπÂÆöÂ≠óÊÆµÊó∂Â§ßÂûãÊï∞ÊçÆÈõÜÔºöÂΩìÂÆåÂÖ®ÂèçÂ∫èÂàóÂåñÊàêÊú¨Â§™È´òÊó∂ÂÜÖÂ≠òÊò†Â∞ÑÊñá‰ª∂ÔºöÂ§ÑÁêÜÂ§ß‰∫é RAM ÁöÑÊï∞ÊçÆÊï∞ÊçÆÁÆ°ÈÅìÔºöÂú®‰∏çÂÆåÂÖ®ÂØπË±°ÈáçÂª∫ÁöÑÊÉÖÂÜµ‰∏ãÂ§ÑÁêÜÊï∞ÊçÆË∑®ËØ≠Ë®ÄÊï∞ÊçÆÂÖ±‰∫´ÔºöÂΩìÊï∞ÊçÆÈúÄË¶Å‰ªéÂ§öÁßçËØ≠Ë®ÄËÆøÈóÆÊó∂  ","version":"0.15","tagName":"h2"},{"title":"Áõ∏ÂÖ≥‰∏ªÈ¢ò‚Äã","type":1,"pageTitle":"Ë°åÊ†ºÂºè","url":"/zh-CN/docs/guide/python/row_format#Áõ∏ÂÖ≥‰∏ªÈ¢ò","content":" Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ - XLANG Ê®°ÂºèÂü∫Á°ÄÂ∫èÂàóÂåñ - ÂØπË±°Â∫èÂàóÂåñË°åÊ†ºÂºèËßÑËåÉ - ÂçèËÆÆËØ¶ÊÉÖ ","version":"0.15","tagName":"h2"},{"title":"ÂÆâÂÖ®ÊúÄ‰Ω≥ÂÆûË∑µ","type":0,"sectionRef":"#","url":"/zh-CN/docs/guide/python/security","content":"","keywords":"","version":"0.15"},{"title":"Áîü‰∫ßÁéØÂ¢ÉÈÖçÁΩÆ‚Äã","type":1,"pageTitle":"ÂÆâÂÖ®ÊúÄ‰Ω≥ÂÆûË∑µ","url":"/zh-CN/docs/guide/python/security#Áîü‰∫ßÁéØÂ¢ÉÈÖçÁΩÆ","content":" Èô§ÈùûÁéØÂ¢ÉÂÆåÂÖ®ÂèØ‰ø°ÔºåÂê¶Âàô‰∏çË¶ÅÂú®Áîü‰∫ßÁéØÂ¢É‰∏≠Á¶ÅÁî® strict=TrueÔºö  import pyfory # Áîü‰∫ßÁéØÂ¢ÉÊé®ËçêËÆæÁΩÆ f = pyfory.Fory( xlang=False, # Â¶ÇÊûúÈúÄË¶ÅË∑®ËØ≠Ë®ÄÊîØÊåÅÂàô‰∏∫ True ref=True, # Â§ÑÁêÜÂæ™ÁéØÂºïÁî® strict=True, # ÈáçË¶ÅÔºöÈò≤Ê≠¢ÊÅ∂ÊÑèÊï∞ÊçÆ max_depth=100 # Èò≤Ê≠¢Ê∑±Â∫¶ÈÄíÂΩíÊîªÂáª ) # ÊòæÂºèÊ≥®ÂÜåÂÖÅËÆ∏ÁöÑÁ±ªÂûã f.register(UserModel, type_id=100) f.register(OrderModel, type_id=101) # Ê∞∏Ëøú‰∏çË¶ÅÂú®Áîü‰∫ßÁéØÂ¢É‰∏≠ÂØπ‰∏çÂèó‰ø°‰ªªÁöÑÊï∞ÊçÆËÆæÁΩÆ strict=FalseÔºÅ   ","version":"0.15","tagName":"h2"},{"title":"ÂºÄÂèëÁéØÂ¢É vs Áîü‰∫ßÁéØÂ¢É‚Äã","type":1,"pageTitle":"ÂÆâÂÖ®ÊúÄ‰Ω≥ÂÆûË∑µ","url":"/zh-CN/docs/guide/python/security#ÂºÄÂèëÁéØÂ¢É-vs-Áîü‰∫ßÁéØÂ¢É","content":" ‰ΩøÁî®ÁéØÂ¢ÉÂèòÈáèÂú®ÈÖçÁΩÆ‰πãÈó¥ÂàáÊç¢Ôºö  import pyfory import os # ÂºÄÂèëÁéØÂ¢ÉÈÖçÁΩÆ if os.getenv('ENV') == 'development': fory = pyfory.Fory( xlang=False, ref=True, strict=False, # ÂºÄÂèëÊó∂ÂÖÅËÆ∏‰ªª‰ΩïÁ±ªÂûã max_depth=1000 # ÂºÄÂèëÊó∂Êõ¥È´òÁöÑÈôêÂà∂ ) else: # Áîü‰∫ßÁéØÂ¢ÉÈÖçÁΩÆÔºàÂÆâÂÖ®Âä†Âõ∫Ôºâ fory = pyfory.Fory( xlang=False, ref=True, strict=True, # ÂÖ≥ÈîÆÔºöÈúÄË¶ÅÊ≥®ÂÜå max_depth=100 # ÂêàÁêÜÁöÑÈôêÂà∂ ) # Âè™Ê≥®ÂÜåÂ∑≤Áü•ÁöÑÂÆâÂÖ®Á±ªÂûã for idx, model_class in enumerate([UserModel, ProductModel, OrderModel]): fory.register(model_class, type_id=100 + idx)   ","version":"0.15","tagName":"h2"},{"title":"DeserializationPolicy‚Äã","type":1,"pageTitle":"ÂÆâÂÖ®ÊúÄ‰Ω≥ÂÆûË∑µ","url":"/zh-CN/docs/guide/python/security#deserializationpolicy","content":" ÂΩìÈúÄË¶Å strict=False Êó∂Ôºà‰æãÂ¶ÇÔºåÂèçÂ∫èÂàóÂåñÂáΩÊï∞/lambdaÔºâÔºå‰ΩøÁî® DeserializationPolicy Âú®ÂèçÂ∫èÂàóÂåñÊúüÈó¥ÂÆûÁé∞ÁªÜÁ≤íÂ∫¶ÁöÑÂÆâÂÖ®ÊéßÂà∂„ÄÇ  ‰∏∫‰ªÄ‰πà‰ΩøÁî® DeserializationPolicyÔºü  ÈòªÊ≠¢Âç±Èô©ÁöÑÁ±ª/Ê®°ÂùóÔºà‰æãÂ¶ÇÔºåsubprocess.PopenÔºâÂú®Ë∞ÉÁî®ÂâçÊã¶Êà™ÂíåÈ™åËØÅ __reduce__ ÂèØË∞ÉÁî®ÂØπË±°Âú® __setstate__ ÊúüÈó¥Ê∏ÖÁêÜÊïèÊÑüÊï∞ÊçÆÊ†πÊçÆËá™ÂÆö‰πâËßÑÂàôÊõøÊç¢ÊàñÊãíÁªùÂèçÂ∫èÂàóÂåñÁöÑÂØπË±°  ","version":"0.15","tagName":"h2"},{"title":"ÈòªÊ≠¢Âç±Èô©Á±ª‚Äã","type":1,"pageTitle":"ÂÆâÂÖ®ÊúÄ‰Ω≥ÂÆûË∑µ","url":"/zh-CN/docs/guide/python/security#ÈòªÊ≠¢Âç±Èô©Á±ª","content":" import pyfory from pyfory import DeserializationPolicy dangerous_modules = {'subprocess', 'os', '__builtin__'} class SafeDeserializationPolicy(DeserializationPolicy): &quot;&quot;&quot;Âú®ÂèçÂ∫èÂàóÂåñÊúüÈó¥ÈòªÊ≠¢ÊΩúÂú®Âç±Èô©ÁöÑÁ±ª„ÄÇ&quot;&quot;&quot; def validate_class(self, cls, is_local, **kwargs): # ÈòªÊ≠¢Âç±Èô©Ê®°Âùó if cls.__module__ in dangerous_modules: raise ValueError(f&quot;Â∑≤ÈòªÊ≠¢Âç±Èô©Á±ªÔºö{cls.__module__}.{cls.__name__}&quot;) return None def intercept_reduce_call(self, callable_obj, args, **kwargs): # Âú® __reduce__ ÊúüÈó¥ÈòªÊ≠¢ÁâπÂÆöÁöÑÂèØË∞ÉÁî®ÂØπË±°Ë∞ÉÁî® if getattr(callable_obj, '__name__', &quot;&quot;) == 'Popen': raise ValueError(&quot;Â∑≤ÈòªÊ≠¢Â∞ùËØïË∞ÉÁî® subprocess.Popen&quot;) return None def intercept_setstate(self, obj, state, **kwargs): # Ê∏ÖÁêÜÊïèÊÑüÊï∞ÊçÆ if isinstance(state, dict) and 'password' in state: state['password'] = '***REDACTED***' return None # ‰ΩøÁî®Ëá™ÂÆö‰πâÂÆâÂÖ®Á≠ñÁï•ÂàõÂª∫ Fory policy = SafeDeserializationPolicy() fory = pyfory.Fory(xlang=False, ref=True, strict=False, policy=policy) # Áé∞Âú®ÂèçÂ∫èÂàóÂåñÂèóÂà∞Ëá™ÂÆö‰πâÁ≠ñÁï•ÁöÑ‰øùÊä§ data = fory.serialize(my_object) result = fory.deserialize(data) # Â∞ÜË∞ÉÁî®Á≠ñÁï•Èí©Â≠ê   ","version":"0.15","tagName":"h3"},{"title":"ÂèØÁî®ÁöÑÁ≠ñÁï•Èí©Â≠ê‚Äã","type":1,"pageTitle":"ÂÆâÂÖ®ÊúÄ‰Ω≥ÂÆûË∑µ","url":"/zh-CN/docs/guide/python/security#ÂèØÁî®ÁöÑÁ≠ñÁï•Èí©Â≠ê","content":" Èí©Â≠ê\tÊèèËø∞validate_class(cls, is_local)\tÂú®ÂèçÂ∫èÂàóÂåñÊúüÈó¥È™åËØÅ/ÈòªÊ≠¢Á±ªÁ±ªÂûã validate_module(module, is_local)\tÈ™åËØÅ/ÈòªÊ≠¢Ê®°ÂùóÂØºÂÖ• validate_function(func, is_local)\tÈ™åËØÅ/ÈòªÊ≠¢ÂáΩÊï∞ÂºïÁî® intercept_reduce_call(callable_obj, args)\tÊã¶Êà™ __reduce__ Ë∞ÉÁî® inspect_reduced_object(obj)\tÊ£ÄÊü•/ÊõøÊç¢ÈÄöËøá __reduce__ ÂàõÂª∫ÁöÑÂØπË±° intercept_setstate(obj, state)\tÂú® __setstate__ ‰πãÂâçÊ∏ÖÁêÜÁä∂ÊÄÅ authorize_instantiation(cls, args, kwargs)\tÊéßÂà∂Á±ªÂÆû‰æãÂåñ  Âè¶ËØ∑ÂèÇÈòÖÔºö pyfory/policy.py ÂåÖÂê´ÊØè‰∏™Èí©Â≠êÁöÑËØ¶ÁªÜÊñáÊ°£ÂíåÁ§∫‰æã„ÄÇ  ","version":"0.15","tagName":"h2"},{"title":"ÊúÄ‰Ω≥ÂÆûË∑µ‚Äã","type":1,"pageTitle":"ÂÆâÂÖ®ÊúÄ‰Ω≥ÂÆûË∑µ","url":"/zh-CN/docs/guide/python/security#ÊúÄ‰Ω≥ÂÆûË∑µ","content":" Áîü‰∫ßÁéØÂ¢ÉÂßãÁªà‰ΩøÁî® strict=TrueÂøÖË¶ÅÊó∂‰ΩøÁî® DeserializationPolicy ÂΩìÈúÄË¶Å strict=False Êó∂ÈòªÊ≠¢Âç±Èô©Ê®°ÂùóÔºàsubprocess„ÄÅos Á≠âÔºâËÆæÁΩÆÈÄÇÂΩìÁöÑ max_depth ‰ª•Èò≤Ê≠¢Ê†àÊ∫¢Âá∫Âú®ÂèçÂ∫èÂàóÂåñÂâçÈ™åËØÅÊï∞ÊçÆÊ∫êËÆ∞ÂΩïÂÆâÂÖ®‰∫ã‰ª∂ Áî®‰∫éÂÆ°ËÆ°  ","version":"0.15","tagName":"h2"},{"title":"Áõ∏ÂÖ≥‰∏ªÈ¢ò‚Äã","type":1,"pageTitle":"ÂÆâÂÖ®ÊúÄ‰Ω≥ÂÆûË∑µ","url":"/zh-CN/docs/guide/python/security#Áõ∏ÂÖ≥‰∏ªÈ¢ò","content":" Á±ªÂûãÊ≥®ÂÜå - Ê≥®ÂÜåÂíå‰∏•Ê†ºÊ®°ÂºèÈÖçÁΩÆ - Fory ÂèÇÊï∞Python ÂéüÁîüÊ®°Âºè - ÂáΩÊï∞Âíå lambda ","version":"0.15","tagName":"h2"},{"title":"ÊïÖÈöúÊéíÈô§","type":0,"sectionRef":"#","url":"/zh-CN/docs/guide/python/troubleshooting","content":"","keywords":"","version":"0.15"},{"title":"Â∏∏ËßÅÈóÆÈ¢ò‚Äã","type":1,"pageTitle":"ÊïÖÈöúÊéíÈô§","url":"/zh-CN/docs/guide/python/troubleshooting#Â∏∏ËßÅÈóÆÈ¢ò","content":" ","version":"0.15","tagName":"h2"},{"title":"Ê†ºÂºèÂäüËÉΩÁöÑ ImportError‚Äã","type":1,"pageTitle":"ÊïÖÈöúÊéíÈô§","url":"/zh-CN/docs/guide/python/troubleshooting#Ê†ºÂºèÂäüËÉΩÁöÑ-importerror","content":" # Ëß£ÂÜ≥ÊñπÊ°àÔºöÂÆâË£ÖË°åÊ†ºÂºèÊîØÊåÅ pip install pyfory[format] # Êàñ‰ªéÊ∫êÁ†ÅÂÆâË£ÖÊ†ºÂºèÊîØÊåÅ pip install -e &quot;.[format]&quot;   ","version":"0.15","tagName":"h3"},{"title":"Â∫èÂàóÂåñÊÄßËÉΩÊÖ¢‚Äã","type":1,"pageTitle":"ÊïÖÈöúÊéíÈô§","url":"/zh-CN/docs/guide/python/troubleshooting#Â∫èÂàóÂåñÊÄßËÉΩÊÖ¢","content":" # Ê£ÄÊü•ÊòØÂê¶ÂêØÁî®‰∫Ü Cython Âä†ÈÄü import pyfory print(pyfory.ENABLE_FORY_CYTHON_SERIALIZATION) # Â∫îËØ•‰∏∫ True # Â¶ÇÊûú‰∏∫ FalseÔºåCython Êâ©Â±ïÂèØËÉΩÊú™Ê≠£Á°ÆÁºñËØë # ÈáçÊñ∞ÂÆâË£ÖÔºöpip install --force-reinstall --no-cache-dir pyfory   ","version":"0.15","tagName":"h3"},{"title":"Ë∑®ËØ≠Ë®ÄÂÖºÂÆπÊÄßÈóÆÈ¢ò‚Äã","type":1,"pageTitle":"ÊïÖÈöúÊéíÈô§","url":"/zh-CN/docs/guide/python/troubleshooting#Ë∑®ËØ≠Ë®ÄÂÖºÂÆπÊÄßÈóÆÈ¢ò","content":" # ‰ΩøÁî®‰∏ÄËá¥ÁöÑÂëΩÂêçËøõË°åÊòæÂºèÁ±ªÂûãÊ≥®ÂÜå f = pyfory.Fory(xlang=True) f.register(MyClass, typename=&quot;com.package.MyClass&quot;) # Âú®ÊâÄÊúâËØ≠Ë®Ä‰∏≠‰ΩøÁî®Áõ∏ÂêåÁöÑÂêçÁß∞   ","version":"0.15","tagName":"h3"},{"title":"Âæ™ÁéØÂºïÁî®ÈîôËØØÊàñÈáçÂ§çÊï∞ÊçÆ‚Äã","type":1,"pageTitle":"ÊïÖÈöúÊéíÈô§","url":"/zh-CN/docs/guide/python/troubleshooting#Âæ™ÁéØÂºïÁî®ÈîôËØØÊàñÈáçÂ§çÔøΩÊï∞ÊçÆ","content":" # ÂêØÁî®ÂºïÁî®Ë∑üË∏™ f = pyfory.Fory(ref=True) # Âæ™ÁéØÂºïÁî®ÊâÄÈúÄ # Âæ™ÁéØÂºïÁî®Á§∫‰æã class Node: def __init__(self, value): self.value = value self.next = None node1 = Node(1) node2 = Node(2) node1.next = node2 node2.next = node1 # Âæ™ÁéØÂºïÁî® data = f.dumps(node1) result = f.loads(data) assert result.next.next is result # Âæ™ÁéØÂºïÁî®Ë¢´‰øùÁïô   ","version":"0.15","tagName":"h3"},{"title":"Schema ÊºîÂåñ‰∏çÂ∑•‰Ωú‚Äã","type":1,"pageTitle":"ÊïÖÈöúÊéíÈô§","url":"/zh-CN/docs/guide/python/troubleshooting#schema-ÊºîÂåñ‰∏çÂ∑•‰Ωú","content":" # ÂêØÁî®ÂÖºÂÆπÊ®°ÂºèÁî®‰∫é schema ÊºîÂåñ f = pyfory.Fory(xlang=True, compatible=True) # ÁâàÊú¨ 1ÔºöÂéüÂßãÁ±ª @dataclass class User: name: str age: int f.register(User, typename=&quot;User&quot;) data = f.dumps(User(&quot;Alice&quot;, 30)) # ÁâàÊú¨ 2ÔºöÊ∑ªÂä†Êñ∞Â≠óÊÆµÔºàÂêëÂêéÂÖºÂÆπÔºâ @dataclass class User: name: str age: int email: str = &quot;unknown@example.com&quot; # Â∏¶ÈªòËÆ§ÂÄºÁöÑÊñ∞Â≠óÊÆµ # ‰ªçÁÑ∂ÂèØ‰ª•ÂèçÂ∫èÂàóÂåñÊóßÊï∞ÊçÆ user = f.loads(data) print(user.email) # &quot;unknown@example.com&quot;   ","version":"0.15","tagName":"h3"},{"title":"‰∏•Ê†ºÊ®°Âºè‰∏ãÁöÑÁ±ªÂûãÊ≥®ÂÜåÈîôËØØ‚Äã","type":1,"pageTitle":"ÊïÖÈöúÊéíÈô§","url":"/zh-CN/docs/guide/python/troubleshooting#‰∏•Ê†ºÊ®°Âºè‰∏ãÁöÑÁ±ªÂûãÊ≥®ÂÜåÈîôËØØ","content":" # Âú®Â∫èÂàóÂåñ‰πãÂâçÊ≥®ÂÜåÊâÄÊúâËá™ÂÆö‰πâÁ±ªÂûã f = pyfory.Fory(strict=True) # ‰ΩøÁî®ÂâçÂøÖÈ°ªÊ≥®ÂÜå f.register(MyClass, type_id=100) f.register(AnotherClass, type_id=101) # ÊàñÁ¶ÅÁî®‰∏•Ê†ºÊ®°ÂºèÔºàÁîü‰∫ßÁéØÂ¢É‰∏çÊé®ËçêÔºâ f = pyfory.Fory(strict=False) # ‰ªÖÂú®Âèó‰ø°‰ªªÁöÑÁéØÂ¢É‰∏≠‰ΩøÁî®   ","version":"0.15","tagName":"h3"},{"title":"Ë∞ÉËØïÊ®°Âºè‚Äã","type":1,"pageTitle":"ÊïÖÈöúÊéíÈô§","url":"/zh-CN/docs/guide/python/troubleshooting#Ë∞ÉËØïÊ®°Âºè","content":" Âú®ÂØºÂÖ• pyfory ‰πãÂâçËÆæÁΩÆÁéØÂ¢ÉÂèòÈáè‰ª•Á¶ÅÁî® Cython ËøõË°åË∞ÉËØïÔºö  import os os.environ['ENABLE_FORY_CYTHON_SERIALIZATION'] = '0' import pyfory # Áé∞Âú®‰ΩøÁî®Á∫Ø Python ÂÆûÁé∞ # ËøôÂØπ‰ª•‰∏ãÊÉÖÂÜµÂæàÊúâÁî®Ôºö # 1. Ë∞ÉËØïÂçèËÆÆÈóÆÈ¢ò # 2. ÁêÜËß£Â∫èÂàóÂåñË°å‰∏∫ # 3. Êó†ÈúÄÈáçÊñ∞ÁºñËØë Cython ÁöÑÂºÄÂèë   ","version":"0.15","tagName":"h2"},{"title":"ÈîôËØØÂ§ÑÁêÜ‚Äã","type":1,"pageTitle":"ÊïÖÈöúÊéíÈô§","url":"/zh-CN/docs/guide/python/troubleshooting#ÈîôËØØÂ§ÑÁêÜ","content":" ‰ºòÈõÖÂú∞Â§ÑÁêÜÂ∏∏ËßÅÁöÑÂ∫èÂàóÂåñÈîôËØØÔºö  import pyfory from pyfory.error import TypeUnregisteredError, TypeNotCompatibleError fory = pyfory.Fory(strict=True) try: data = fory.dumps(my_object) except TypeUnregisteredError as e: print(f&quot;Á±ªÂûãÊú™Ê≥®ÂÜåÔºö{e}&quot;) # Ê≥®ÂÜåÁ±ªÂûãÂπ∂ÈáçËØï fory.register(type(my_object), type_id=100) data = fory.dumps(my_object) except Exception as e: print(f&quot;Â∫èÂàóÂåñÂ§±Ë¥•Ôºö{e}&quot;) try: obj = fory.loads(data) except TypeNotCompatibleError as e: print(f&quot;Schema ‰∏çÂåπÈÖçÔºö{e}&quot;) # Â§ÑÁêÜÁâàÊú¨‰∏çÂåπÈÖç except Exception as e: print(f&quot;ÂèçÂ∫èÂàóÂåñÂ§±Ë¥•Ôºö{e}&quot;)   ","version":"0.15","tagName":"h2"},{"title":"ÂºÄÂèëÁéØÂ¢ÉËÆæÁΩÆ‚Äã","type":1,"pageTitle":"ÊïÖÈöúÊéíÈô§","url":"/zh-CN/docs/guide/python/troubleshooting#ÂºÄÂèëÁéØÂ¢ÉËÆæÁΩÆ","content":" git clone https://github.com/apache/fory.git cd fory/python # ÂÆâË£Ö‰æùËµñ pip install -e &quot;.[dev,format]&quot; # ËøêË°åÊµãËØï pytest -v -s . # ËøêË°åÁâπÂÆöÊµãËØï pytest -v -s pyfory/tests/test_serializer.py # Ê†ºÂºèÂåñ‰ª£Á†Å ruff format . ruff check --fix .   ","version":"0.15","tagName":"h2"},{"title":"Áõ∏ÂÖ≥‰∏ªÈ¢ò‚Äã","type":1,"pageTitle":"ÊïÖÈöúÊéíÈô§","url":"/zh-CN/docs/guide/python/troubleshooting#Áõ∏ÂÖ≥‰∏ªÈ¢ò","content":" ÈÖçÁΩÆ - Fory ÂèÇÊï∞Á±ªÂûãÊ≥®ÂÜå - Ê≥®ÂÜåÊúÄ‰Ω≥ÂÆûË∑µÂÆâÂÖ®ÊÄß - ÂÆâÂÖ®ÈÖçÁΩÆ ","version":"0.15","tagName":"h2"},{"title":"Á±ªÂûãÊ≥®ÂÜå‰∏éÂÆâÂÖ®ÊÄß","type":0,"sectionRef":"#","url":"/zh-CN/docs/guide/python/type_registration","content":"","keywords":"","version":"0.15"},{"title":"Á±ªÂûãÊ≥®ÂÜå‚Äã","type":1,"pageTitle":"Á±ªÂûãÊ≥®ÂÜå‰∏éÂÆâÂÖ®ÊÄß","url":"/zh-CN/docs/guide/python/type_registration#Á±ªÂûãÊ≥®ÂÜå","content":" Âú®‰∏•Ê†ºÊ®°Âºè‰∏ãÔºåÂè™ÊúâÂ∑≤Ê≥®ÂÜåÁöÑÁ±ªÂûãÊâçËÉΩË¢´ÂèçÂ∫èÂàóÂåñ„ÄÇËøôÂèØ‰ª•Èò≤Ê≠¢‰ªªÊÑè‰ª£Á†ÅÊâßË°åÔºö  import pyfory # ‰∏•Ê†ºÊ®°ÂºèÔºàÁîü‰∫ßÁéØÂ¢ÉÊé®ËçêÔºâ f = pyfory.Fory(strict=True) class SafeClass: def __init__(self, data): self.data = data # Âú®‰∏•Ê†ºÊ®°Âºè‰∏ãÂøÖÈ°ªÊ≥®ÂÜåÁ±ªÂûã f.register(SafeClass, typename=&quot;com.example.SafeClass&quot;) # Áé∞Âú®Â∫èÂàóÂåñÂèØ‰ª•Ê≠£Â∏∏Â∑•‰Ωú obj = SafeClass(&quot;safe data&quot;) data = f.serialize(obj) result = f.deserialize(data) # Êú™Ê≥®ÂÜåÁöÑÁ±ªÂûãÂ∞ÜÂºïÂèëÂºÇÂ∏∏ class UnsafeClass: pass # Âú®‰∏•Ê†ºÊ®°Âºè‰∏ãËøôÂ∞ÜÂ§±Ë¥• try: f.serialize(UnsafeClass()) except Exception as e: print(&quot;ÂÆâÂÖ®‰øùÊä§Â∑≤ÊøÄÊ¥ªÔºÅ&quot;)   ","version":"0.15","tagName":"h2"},{"title":"Ê≥®ÂÜåÊ®°Âºè‚Äã","type":1,"pageTitle":"Á±ªÂûãÊ≥®ÂÜå‰∏éÂÆâÂÖ®ÊÄß","url":"/zh-CN/docs/guide/python/type_registration#Ê≥®ÂÜåÊ®°Âºè","content":" ","version":"0.15","tagName":"h2"},{"title":"Ê®°Âºè 1ÔºöÁÆÄÂçïÊ≥®ÂÜå‚Äã","type":1,"pageTitle":"Á±ªÂûãÊ≥®ÂÜå‰∏éÂÆâÂÖ®ÊÄß","url":"/zh-CN/docs/guide/python/type_registration#Ê®°Âºè-1ÁÆÄÂçïÊ≥®ÂÜå","content":" fory.register(MyClass, type_id=100)   ","version":"0.15","tagName":"h3"},{"title":"Ê®°Âºè 2Ôºö‰ΩøÁî®Á±ªÂûãÂêçÁß∞ÁöÑË∑®ËØ≠Ë®ÄÊ≥®ÂÜå‚Äã","type":1,"pageTitle":"Á±ªÂûãÊ≥®ÂÜå‰∏éÂÆâÂÖ®ÊÄß","url":"/zh-CN/docs/guide/python/type_registration#Ê®°Âºè-2‰ΩøÁî®Á±ªÂûãÂêçÁß∞ÁöÑË∑®ËØ≠Ë®ÄÊ≥®ÂÜå","content":" fory.register(MyClass, typename=&quot;com.example.MyClass&quot;)   ","version":"0.15","tagName":"h3"},{"title":"Ê®°Âºè 3Ôºö‰ΩøÁî®Ëá™ÂÆö‰πâÂ∫èÂàóÂåñÂô®‚Äã","type":1,"pageTitle":"Á±ªÂûãÊ≥®ÂÜå‰∏éÂÆâÂÖ®ÊÄß","url":"/zh-CN/docs/guide/python/type_registration#Ê®°Âºè-3‰ΩøÁî®Ëá™ÂÆö‰πâÂ∫èÂàóÂåñÂô®","content":" fory.register(MyClass, type_id=100, serializer=MySerializer(fory, MyClass))   ","version":"0.15","tagName":"h3"},{"title":"Ê®°Âºè 4ÔºöÊâπÈáèÊ≥®ÂÜå‚Äã","type":1,"pageTitle":"Á±ªÂûãÊ≥®ÂÜå‰∏éÂÆâÂÖ®ÊÄß","url":"/zh-CN/docs/guide/python/type_registration#Ê®°Âºè-4ÊâπÈáèÊ≥®ÂÜå","content":" type_id = 100 for model_class in [User, Order, Product, Invoice]: fory.register(model_class, type_id=type_id) type_id += 1   ","version":"0.15","tagName":"h3"},{"title":"ÂÆâÂÖ®Ê®°Âºè‚Äã","type":1,"pageTitle":"Á±ªÂûãÊ≥®ÂÜå‰∏éÂÆâÂÖ®ÊÄß","url":"/zh-CN/docs/guide/python/type_registration#ÂÆâÂÖ®Ê®°Âºè","content":" ","version":"0.15","tagName":"h2"},{"title":"‰∏•Ê†ºÊ®°ÂºèÔºàÊé®ËçêÔºâ‚Äã","type":1,"pageTitle":"Á±ªÂûãÊ≥®ÂÜå‰∏éÂÆâÂÖ®ÊÄß","url":"/zh-CN/docs/guide/python/type_registration#‰∏•Ê†ºÊ®°ÂºèÊé®Ëçê","content":" # Áîü‰∫ßÁéØÂ¢ÉÂßãÁªà‰ΩøÁî® strict=True fory = pyfory.Fory(strict=True) # ÊòæÂºèÊ≥®ÂÜåÂÖÅËÆ∏ÁöÑÁ±ªÂûã fory.register(UserModel, type_id=100) fory.register(OrderModel, type_id=101)   ","version":"0.15","tagName":"h3"},{"title":"Èùû‰∏•Ê†ºÊ®°Âºè‚Äã","type":1,"pageTitle":"Á±ªÂûãÊ≥®ÂÜå‰∏éÂÆâÂÖ®ÊÄß","url":"/zh-CN/docs/guide/python/type_registration#Èùû‰∏•Ê†ºÊ®°Âºè","content":" ‚ö†Ô∏è ÂÆâÂÖ®Ë≠¶ÂëäÔºöÂΩì strict=False Êó∂ÔºåFory Â∞ÜÂèçÂ∫èÂàóÂåñ‰ªªÊÑèÁ±ªÂûãÔºåÂ¶ÇÊûúÊï∞ÊçÆÊù•Ëá™‰∏çÂèó‰ø°‰ªªÁöÑÊ∫êÔºåËøôÂèØËÉΩÂ∏¶Êù•ÂÆâÂÖ®È£éÈô©„ÄÇ‰ªÖÂú®ÂÆåÂÖ®‰ø°‰ªªÊï∞ÊçÆÊ∫êÁöÑÂèóÊéßÁéØÂ¢É‰∏≠‰ΩøÁî® strict=False„ÄÇ  # ‰ªÖÂú®Âèó‰ø°‰ªªÁöÑÁéØÂ¢É‰∏≠ fory = pyfory.Fory(xlang=False, ref=True, strict=False)   Â¶ÇÊûúÁ°ÆÂÆûÈúÄË¶Å‰ΩøÁî® strict=FalseÔºåËØ∑ÈÖçÁΩÆ DeserializationPolicyÔºö  from pyfory import DeserializationPolicy class SafePolicy(DeserializationPolicy): def validate_class(self, cls, is_local, **kwargs): # ÈòªÊ≠¢Âç±Èô©Ê®°Âùó if cls.__module__ in {'subprocess', 'os', '__builtin__'}: raise ValueError(f&quot;Â∑≤ÈòªÊ≠¢Ôºö{cls}&quot;) return None fory = pyfory.Fory(xlang=False, strict=False, policy=SafePolicy())   ","version":"0.15","tagName":"h3"},{"title":"ÊúÄÂ§ßÊ∑±Â∫¶‰øùÊä§‚Äã","type":1,"pageTitle":"Á±ªÂûãÊ≥®ÂÜå‰∏éÂÆâÂÖ®ÊÄß","url":"/zh-CN/docs/guide/python/type_registration#ÊúÄÂ§ßÊ∑±Â∫¶‰øùÊä§","content":" ÈôêÂà∂ÂèçÂ∫èÂàóÂåñÊ∑±Â∫¶‰ª•Èò≤Ê≠¢Ê†àÊ∫¢Âá∫ÊîªÂáªÔºö  fory = pyfory.Fory( strict=True, max_depth=100 # Ê†πÊçÆÊï∞ÊçÆÁªìÊûÑÊ∑±Â∫¶Ë∞ÉÊï¥ )   ","version":"0.15","tagName":"h2"},{"title":"ÊúÄ‰Ω≥ÂÆûË∑µ‚Äã","type":1,"pageTitle":"Á±ªÂûãÊ≥®ÂÜå‰∏éÂÆâÂÖ®ÊÄß","url":"/zh-CN/docs/guide/python/type_registration#ÊúÄ‰Ω≥ÂÆûË∑µ","content":" Áîü‰∫ßÁéØÂ¢ÉÂßãÁªà‰ΩøÁî® strict=True‰ΩøÁî® type_id ÊèêÈ´òÊÄßËÉΩÔºå‰ΩøÁî® typename ÊèêÈ´òÁÅµÊ¥ªÊÄßÂú®‰ªª‰ΩïÂ∫èÂàóÂåñ‰πãÂâçÈ¢ÑÂÖàÊ≥®ÂÜåÊâÄÊúâÁ±ªÂûãÊ†πÊçÆÊï∞ÊçÆÁªìÊûÑËÆæÁΩÆÈÄÇÂΩìÁöÑ max_depthÂøÖË¶ÅÊó∂‰ΩøÁî® DeserializationPolicy ÂΩìÈúÄË¶Å strict=False Êó∂  ","version":"0.15","tagName":"h2"},{"title":"Áõ∏ÂÖ≥‰∏ªÈ¢ò‚Äã","type":1,"pageTitle":"Á±ªÂûãÊ≥®ÂÜå‰∏éÂÆâÂÖ®ÊÄß","url":"/zh-CN/docs/guide/python/type_registration#Áõ∏ÂÖ≥‰∏ªÈ¢ò","content":" ÈÖçÁΩÆ - Fory ÂèÇÊï∞ÂÆâÂÖ®ÊÄß - DeserializationPolicy ËØ¶ÊÉÖËá™ÂÆö‰πâÂ∫èÂàóÂåñÂô® - Ëá™ÂÆö‰πâÂ∫èÂàóÂåñ ","version":"0.15","tagName":"h2"},{"title":"Rust Â∫èÂàóÂåñÊåáÂçó","type":0,"sectionRef":"#","url":"/zh-CN/docs/guide/rust/","content":"","keywords":"","version":"0.15"},{"title":"‰∏∫‰ªÄ‰πàÈÄâÊã© Apache Fory‚Ñ¢ RustÔºü‚Äã","type":1,"pageTitle":"Rust Â∫èÂàóÂåñÊåáÂçó","url":"/zh-CN/docs/guide/rust/#‰∏∫‰ªÄ‰πàÈÄâÊã©-apache-fory-rust","content":" üî• ÊûÅÈÄüÊÄßËÉΩÔºöÈõ∂Êã∑Ë¥ùÂèçÂ∫èÂàóÂåñÂíå‰ºòÂåñÁöÑ‰∫åËøõÂà∂ÂçèËÆÆüåç Ë∑®ËØ≠Ë®ÄÔºöÂú® Java„ÄÅPython„ÄÅC++„ÄÅGo„ÄÅJavaScript Âíå Rust ‰πãÈó¥Êó†ÁºùÂ∫èÂàóÂåñ/ÂèçÂ∫èÂàóÂåñÊï∞ÊçÆüéØ Á±ªÂûãÂÆâÂÖ®Ôºö‰ΩøÁî® derive macro ÂÆûÁé∞ÁºñËØëÊó∂Á±ªÂûãÊ£ÄÊü•üîÑ Âæ™ÁéØÂºïÁî®Ôºö‰ΩøÁî® Rc/Arc ÂíåÂº±ÊåáÈíàËá™Âä®Ë∑üË∏™ÂÖ±‰∫´ÂºïÁî®ÂíåÂæ™ÁéØÂºïÁî®üß¨ Â§öÊÄÅÊîØÊåÅÔºö‰ΩøÁî® Box&lt;dyn Trait&gt;„ÄÅRc&lt;dyn Trait&gt; Âíå Arc&lt;dyn Trait&gt; Â∫èÂàóÂåñ trait ÂØπË±°üì¶ Schema ÊºîÂåñÔºöÂÖºÂÆπÊ®°ÂºèÊîØÊåÅÁã¨Á´ãÁöÑ schema ÂèòÊõ¥‚ö° ÂèåÊ†ºÂºèÊîØÊåÅÔºöÂØπË±°ÂõæÂ∫èÂàóÂåñÂíåÈõ∂Êã∑Ë¥ùË°åÊ†ºÂºè  ","version":"0.15","tagName":"h2"},{"title":"Crate ÂàóË°®‚Äã","type":1,"pageTitle":"Rust Â∫èÂàóÂåñÊåáÂçó","url":"/zh-CN/docs/guide/rust/#crate-ÂàóË°®","content":" Crate\tÊèèËø∞\tÁâàÊú¨fory\tÂ∏¶Êúâ derive macro ÁöÑÈ´òÁ∫ß API fory-core\tÊ†∏ÂøÉÂ∫èÂàóÂåñÂºïÊìé fory-derive\tËøáÁ®ãÂÆè\t  ","version":"0.15","tagName":"h2"},{"title":"Âø´ÈÄüÂºÄÂßã‚Äã","type":1,"pageTitle":"Rust Â∫èÂàóÂåñÊåáÂçó","url":"/zh-CN/docs/guide/rust/#Âø´ÈÄüÂºÄÂßã","content":" Âú®‰Ω†ÁöÑ Cargo.toml ‰∏≠Ê∑ªÂä† Apache Fory‚Ñ¢Ôºö  [dependencies] fory = &quot;0.14&quot;   ","version":"0.15","tagName":"h2"},{"title":"Âü∫Á°ÄÁ§∫‰æã‚Äã","type":1,"pageTitle":"Rust Â∫èÂàóÂåñÊåáÂçó","url":"/zh-CN/docs/guide/rust/#Âü∫Á°ÄÁ§∫‰æã","content":" use fory::{Fory, Error, Reader}; use fory::ForyObject; #[derive(ForyObject, Debug, PartialEq)] struct User { name: String, age: i32, email: String, } fn main() -&gt; Result&lt;(), Error&gt; { let mut fory = Fory::default(); fory.register::&lt;User&gt;(1)?; let user = User { name: &quot;Alice&quot;.to_string(), age: 30, email: &quot;alice@example.com&quot;.to_string(), }; // Â∫èÂàóÂåñ let bytes = fory.serialize(&amp;user)?; // ÂèçÂ∫èÂàóÂåñ let decoded: User = fory.deserialize(&amp;bytes)?; assert_eq!(user, decoded); // Â∫èÂàóÂåñÂà∞ÊåáÂÆöÁºìÂÜ≤Âå∫ let mut buf: Vec&lt;u8&gt; = vec![]; fory.serialize_to(&amp;mut buf, &amp;user)?; // ‰ªéÊåáÂÆöÁºìÂÜ≤Âå∫ÂèçÂ∫èÂàóÂåñ let mut reader = Reader::new(&amp;buf); let decoded: User = fory.deserialize_from(&amp;mut reader)?; assert_eq!(user, decoded); Ok(()) }   ","version":"0.15","tagName":"h3"},{"title":"Á∫øÁ®ãÂÆâÂÖ®‚Äã","type":1,"pageTitle":"Rust Â∫èÂàóÂåñÊåáÂçó","url":"/zh-CN/docs/guide/rust/#Á∫øÁ®ãÂÆâÂÖ®","content":" Apache Fory‚Ñ¢ Rust ÊòØÂÆåÂÖ®Á∫øÁ®ãÂÆâÂÖ®ÁöÑÔºöFory ÂêåÊó∂ÂÆûÁé∞‰∫Ü Send Âíå SyncÔºåÂõ†Ê≠§‰∏Ä‰∏™ÈÖçÁΩÆÂ•ΩÁöÑÂÆû‰æãÂèØ‰ª•Âú®Â§ö‰∏™Á∫øÁ®ã‰πãÈó¥ÂÖ±‰∫´‰ª•ËøõË°åÂπ∂ÂèëÂ∑•‰Ωú„ÄÇÂÜÖÈÉ®ÁöÑËØª/ÂÜô‰∏ä‰∏ãÊñáÊ±†ÊòØ‰ΩøÁî®Á∫øÁ®ãÂÆâÂÖ®ÂéüËØ≠Âª∂ËøüÂàùÂßãÂåñÁöÑÔºåËÆ©Â∑•‰ΩúÁ∫øÁ®ãÂèØ‰ª•ÈáçÁî®ÁºìÂÜ≤Âå∫ËÄåÊó†ÈúÄÂçèË∞É„ÄÇ  use fory::{Fory, Error}; use fory::ForyObject; use std::sync::Arc; use std::thread; #[derive(ForyObject, Clone, Copy, Debug, PartialEq)] struct Item { value: i32, } fn main() -&gt; Result&lt;(), Error&gt; { let mut fory = Fory::default(); fory.register::&lt;Item&gt;(1000)?; let fory = Arc::new(fory); let handles: Vec&lt;_&gt; = (0..8) .map(|i| { let shared = Arc::clone(&amp;fory); thread::spawn(move || { let item = Item { value: i }; shared.serialize(&amp;item) }) }) .collect(); for handle in handles { let bytes = handle.join().unwrap()?; let item: Item = fory.deserialize(&amp;bytes)?; assert!(item.value &gt;= 0); } Ok(()) }   ÊèêÁ§∫Ôºö Âú®ÁîüÊàêÁ∫øÁ®ã‰πãÂâçÊâßË°åÊ≥®ÂÜåÊìç‰ΩúÔºà‰æãÂ¶Ç fory.register::&lt;T&gt;(id)ÔºâÔºå‰ª•‰æøÊØè‰∏™Â∑•‰ΩúÁ∫øÁ®ãÁúãÂà∞Áõ∏ÂêåÁöÑÂÖÉÊï∞ÊçÆ„ÄÇÈÖçÁΩÆÂÆåÊàêÂêéÔºåÂ∞ÜÂÆû‰æãÂåÖË£ÖÂú® Arc ‰∏≠Â∞±Ë∂≥‰ª•ÂÆâÂÖ®Âú∞ÂàÜÂèëÂ∫èÂàóÂåñÂíåÂèçÂ∫èÂàóÂåñ‰ªªÂä°„ÄÇ  ","version":"0.15","tagName":"h2"},{"title":"Êû∂ÊûÑ‚Äã","type":1,"pageTitle":"Rust Â∫èÂàóÂåñÊåáÂçó","url":"/zh-CN/docs/guide/rust/#Êû∂ÊûÑ","content":" Rust ÂÆûÁé∞Áî±‰∏â‰∏™‰∏ªË¶Å crate ÁªÑÊàêÔºö  fory/ # È´òÁ∫ß API ‚îú‚îÄ‚îÄ src/lib.rs # ÂÖ¨ÂÖ± API ÂØºÂá∫ fory-core/ # Ê†∏ÂøÉÂ∫èÂàóÂåñÂºïÊìé ‚îú‚îÄ‚îÄ src/ ‚îÇ ‚îú‚îÄ‚îÄ fory.rs # ‰∏ªÂ∫èÂàóÂåñÂÖ•Âè£ÁÇπ ‚îÇ ‚îú‚îÄ‚îÄ buffer.rs # ‰∫åËøõÂà∂ÁºìÂÜ≤Âå∫ÁÆ°ÁêÜ ‚îÇ ‚îú‚îÄ‚îÄ serializer/ # Á±ªÂûãÁâπÂÆöÂ∫èÂàóÂåñÂô® ‚îÇ ‚îú‚îÄ‚îÄ resolver/ # Á±ªÂûãËß£ÊûêÂíåÂÖÉÊï∞ÊçÆ ‚îÇ ‚îú‚îÄ‚îÄ meta/ # ÂÖÉÂ≠óÁ¨¶‰∏≤ÂéãÁº© ‚îÇ ‚îú‚îÄ‚îÄ row/ # Ë°åÊ†ºÂºèÂÆûÁé∞ ‚îÇ ‚îî‚îÄ‚îÄ types.rs # Á±ªÂûãÂÆö‰πâ fory-derive/ # ËøáÁ®ãÂÆè ‚îú‚îÄ‚îÄ src/ ‚îÇ ‚îú‚îÄ‚îÄ object/ # ForyObject ÂÆè ‚îÇ ‚îî‚îÄ‚îÄ fory_row.rs # ForyRow ÂÆè   ","version":"0.15","tagName":"h2"},{"title":"‰ΩøÁî®Âú∫ÊôØ‚Äã","type":1,"pageTitle":"Rust Â∫èÂàóÂåñÊåáÂçó","url":"/zh-CN/docs/guide/rust/#‰ΩøÁî®Âú∫ÊôØ","content":" ","version":"0.15","tagName":"h2"},{"title":"ÂØπË±°Â∫èÂàóÂåñ‚Äã","type":1,"pageTitle":"Rust Â∫èÂàóÂåñÊåáÂçó","url":"/zh-CN/docs/guide/rust/#ÂØπË±°Â∫èÂàóÂåñ","content":" ÂåÖÂê´ÂµåÂ•óÂØπË±°ÂíåÂºïÁî®ÁöÑÂ§çÊùÇÊï∞ÊçÆÁªìÊûÑÂæÆÊúçÂä°‰∏≠ÁöÑË∑®ËØ≠Ë®ÄÈÄö‰ø°ÂÖ∑ÊúâÂÆåÊï¥Á±ªÂûãÂÆâÂÖ®ÁöÑÈÄöÁî®Â∫èÂàóÂåñ‰ΩøÁî®ÂÖºÂÆπÊ®°ÂºèÁöÑ schema ÊºîÂåñÂÖ∑ÊúâÂæ™ÁéØÂºïÁî®ÁöÑÂõæÂΩ¢Êï∞ÊçÆÁªìÊûÑ  ","version":"0.15","tagName":"h3"},{"title":"Ë°åÊ†ºÂºèÂ∫èÂàóÂåñ‚Äã","type":1,"pageTitle":"Rust Â∫èÂàóÂåñÊåáÂçó","url":"/zh-CN/docs/guide/rust/#Ë°åÊ†ºÂºèÂ∫èÂàóÂåñ","content":" È´òÂêûÂêêÈáèÊï∞ÊçÆÂ§ÑÁêÜÈúÄË¶ÅÂø´ÈÄüÂ≠óÊÆµËÆøÈóÆÁöÑÂàÜÊûêÂ∑•‰ΩúË¥üËΩΩÂÜÖÂ≠òÂèóÈôêÁéØÂ¢ÉÂÆûÊó∂Êï∞ÊçÆÊµÅÂ∫îÁî®Èõ∂Êã∑Ë¥ùÂú∫ÊôØ  ","version":"0.15","tagName":"h3"},{"title":"ÂêéÁª≠Ê≠•È™§‚Äã","type":1,"pageTitle":"Rust Â∫èÂàóÂåñÊåáÂçó","url":"/zh-CN/docs/guide/rust/#ÂêéÁª≠Ê≠•È™§","content":" ÈÖçÁΩÆ - Fory ÊûÑÂª∫Âô®ÈÄâÈ°πÂíåÊ®°ÂºèÂü∫Á°ÄÂ∫èÂàóÂåñ - ÂØπË±°ÂõæÂ∫èÂàóÂåñÂºïÁî® - ÂÖ±‰∫´ÂºïÁî®ÂíåÂæ™ÁéØÂºïÁî®Â§öÊÄÅ - Trait ÂØπË±°Â∫èÂàóÂåñË∑®ËØ≠Ë®Ä - XLANG Ê®°ÂºèË°åÊ†ºÂºè - Èõ∂Êã∑Ë¥ùË°åÊ†ºÂºè ","version":"0.15","tagName":"h2"},{"title":"ÈÖçÁΩÆ","type":0,"sectionRef":"#","url":"/zh-CN/docs/guide/rust/configuration","content":"","keywords":"","version":"0.15"},{"title":"Â∫èÂàóÂåñÊ®°Âºè‚Äã","type":1,"pageTitle":"ÈÖçÁΩÆ","url":"/zh-CN/docs/guide/rust/configuration#Â∫èÂàóÂåñÊ®°Âºè","content":" Apache Fory‚Ñ¢ ÊîØÊåÅ‰∏§ÁßçÂ∫èÂàóÂåñÊ®°ÂºèÔºö  ","version":"0.15","tagName":"h2"},{"title":"SchemaConsistent Ê®°ÂºèÔºàÈªòËÆ§Ôºâ‚Äã","type":1,"pageTitle":"ÈÖçÁΩÆ","url":"/zh-CN/docs/guide/rust/configuration#schemaconsistent-Ê®°ÂºèÈªòËÆ§","content":" Á±ªÂûãÂ£∞ÊòéÂøÖÈ°ªÂú®ÂØπÁ≠âÊñπ‰πãÈó¥ÂÆåÂÖ®ÂåπÈÖçÔºö  let fory = Fory::default(); // ÈªòËÆ§‰∏∫ SchemaConsistent   ","version":"0.15","tagName":"h3"},{"title":"Compatible Ê®°Âºè‚Äã","type":1,"pageTitle":"ÈÖçÁΩÆ","url":"/zh-CN/docs/guide/rust/configuration#compatible-Ê®°Âºè","content":" ÂÖÅËÆ∏Áã¨Á´ãÁöÑ schema ÊºîÂåñÔºö  let fory = Fory::default().compatible(true);   ","version":"0.15","tagName":"h3"},{"title":"ÈÖçÁΩÆÈÄâÈ°π‚Äã","type":1,"pageTitle":"ÈÖçÁΩÆ","url":"/zh-CN/docs/guide/rust/configuration#ÈÖçÁΩÆÈÄâÈ°π","content":" ","version":"0.15","tagName":"h2"},{"title":"ÊúÄÂ§ßÂä®ÊÄÅÂØπË±°ÂµåÂ•óÊ∑±Â∫¶‚Äã","type":1,"pageTitle":"ÈÖçÁΩÆ","url":"/zh-CN/docs/guide/rust/configuration#ÊúÄÂ§ßÂä®ÊÄÅÂØπË±°ÂµåÂ•óÊ∑±Â∫¶","content":" Apache Fory‚Ñ¢ Êèê‰æõÈíàÂØπÂèçÂ∫èÂàóÂåñÊúüÈó¥Ê∑±Â∫¶ÂµåÂ•óÂä®ÊÄÅÂØπË±°ÂØºËá¥ÁöÑÊ†àÊ∫¢Âá∫‰øùÊä§„ÄÇÈªòËÆ§ÊÉÖÂÜµ‰∏ãÔºåtrait ÂØπË±°ÂíåÂÆπÂô®ÁöÑÊúÄÂ§ßÂµåÂ•óÊ∑±Â∫¶ËÆæÁΩÆ‰∏∫ 5 Â±Ç„ÄÇ  ÈªòËÆ§ÈÖçÁΩÆÔºö  let fory = Fory::default(); // max_dyn_depth = 5   Ëá™ÂÆö‰πâÊ∑±Â∫¶ÈôêÂà∂Ôºö  let fory = Fory::default().max_dyn_depth(10); // ÂÖÅËÆ∏ÊúÄÂ§ö 10 Â±Ç   ‰ΩïÊó∂Ë∞ÉÊï¥Ôºö  Â¢ûÂä†ÔºöÁî®‰∫éÂêàÊ≥ïÁöÑÊ∑±Â∫¶ÂµåÂ•óÊï∞ÊçÆÁªìÊûÑÂáèÂ∞ëÔºöÁî®‰∫éÊõ¥‰∏•Ê†ºÁöÑÂÆâÂÖ®Ë¶ÅÊ±ÇÊàñÊµÖÂ±ÇÊï∞ÊçÆÁªìÊûÑ  Âèó‰øùÊä§ÁöÑÁ±ªÂûãÔºö  Box&lt;dyn Any&gt;„ÄÅRc&lt;dyn Any&gt;„ÄÅArc&lt;dyn Any&gt;Box&lt;dyn Trait&gt;„ÄÅRc&lt;dyn Trait&gt;„ÄÅArc&lt;dyn Trait&gt;Ôºàtrait ÂØπË±°ÔºâRcWeak&lt;T&gt;„ÄÅArcWeak&lt;T&gt;ÈõÜÂêàÁ±ªÂûãÔºàVec„ÄÅHashMap„ÄÅHashSetÔºâCompatible Ê®°Âºè‰∏ãÁöÑÂµåÂ•óÁªìÊûÑ‰ΩìÁ±ªÂûã  Ê≥®ÊÑèÔºöÈùôÊÄÅÊï∞ÊçÆÁ±ªÂûãÔºàÈùûÂä®ÊÄÅÁ±ªÂûãÔºâÊú¨Ë¥®‰∏äÊòØÂÆâÂÖ®ÁöÑÔºå‰∏çÂèóÊ∑±Â∫¶ÈôêÂà∂Á∫¶ÊùüÔºåÂõ†‰∏∫ÂÆÉ‰ª¨ÁöÑÁªìÊûÑÂú®ÁºñËØëÊó∂Â∞±Â∑≤Áü•„ÄÇ  ","version":"0.15","tagName":"h3"},{"title":"Ë∑®ËØ≠Ë®ÄÊ®°Âºè‚Äã","type":1,"pageTitle":"ÈÖçÁΩÆ","url":"/zh-CN/docs/guide/rust/configuration#Ë∑®ËØ≠Ë®ÄÊ®°Âºè","content":" ÂêØÁî®Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñÔºö  let fory = Fory::default() .compatible(true) .xlang(true);   ","version":"0.15","tagName":"h3"},{"title":"ÊûÑÂª∫Âô®Ê®°Âºè‚Äã","type":1,"pageTitle":"ÈÖçÁΩÆ","url":"/zh-CN/docs/guide/rust/configuration#ÊûÑÂª∫Âô®Ê®°Âºè","content":" use fory::Fory; // ÈªòËÆ§ÈÖçÁΩÆ let fory = Fory::default(); // Áî®‰∫é schema ÊºîÂåñÁöÑÂÖºÂÆπÊ®°Âºè let fory = Fory::default().compatible(true); // Ë∑®ËØ≠Ë®ÄÊ®°Âºè let fory = Fory::default() .compatible(true) .xlang(true); // Ëá™ÂÆö‰πâÊ∑±Â∫¶ÈôêÂà∂ let fory = Fory::default().max_dyn_depth(10); // ÁªÑÂêàÈÖçÁΩÆ let fory = Fory::default() .compatible(true) .xlang(true) .max_dyn_depth(10);   ","version":"0.15","tagName":"h2"},{"title":"ÈÖçÁΩÆÊëòË¶Å‚Äã","type":1,"pageTitle":"ÈÖçÁΩÆ","url":"/zh-CN/docs/guide/rust/configuration#ÈÖçÁΩÆÊëòË¶Å","content":" ÈÄâÈ°π\tÊèèËø∞\tÈªòËÆ§ÂÄºcompatible(bool)\tÂêØÁî® schema ÊºîÂåñ\tfalse xlang(bool)\tÂêØÁî®Ë∑®ËØ≠Ë®ÄÊ®°Âºè\tfalse max_dyn_depth(u32)\tÂä®ÊÄÅÁ±ªÂûãÁöÑÊúÄÂ§ßÂµåÂ•óÊ∑±Â∫¶\t5  ","version":"0.15","tagName":"h2"},{"title":"Áõ∏ÂÖ≥‰∏ªÈ¢ò‚Äã","type":1,"pageTitle":"ÈÖçÁΩÆ","url":"/zh-CN/docs/guide/rust/configuration#Áõ∏ÂÖ≥‰∏ªÈ¢ò","content":" Âü∫Á°ÄÂ∫èÂàóÂåñ - ‰ΩøÁî®Â∑≤ÈÖçÁΩÆÁöÑ ForySchema ÊºîÂåñ - Compatible Ê®°ÂºèËØ¶ÊÉÖË∑®ËØ≠Ë®Ä - XLANG Ê®°Âºè ","version":"0.15","tagName":"h2"},{"title":"Âü∫Á°ÄÂ∫èÂàóÂåñ","type":0,"sectionRef":"#","url":"/zh-CN/docs/guide/rust/basic_serialization","content":"","keywords":"","version":"0.15"},{"title":"ÂØπË±°ÂõæÂ∫èÂàóÂåñ‚Äã","type":1,"pageTitle":"Âü∫Á°ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/guide/rust/basic_serialization#ÂØπË±°ÂõæÂ∫èÂàóÂåñ","content":" Apache Fory‚Ñ¢ Êèê‰æõÂ§çÊùÇÂØπË±°ÂõæÁöÑËá™Âä®Â∫èÂàóÂåñÔºå‰øùÁïôÂØπË±°‰πãÈó¥ÁöÑÁªìÊûÑÂíåÂÖ≥Á≥ª„ÄÇ#[derive(ForyObject)] ÂÆèÂú®ÁºñËØëÊó∂ÁîüÊàêÈ´òÊïàÁöÑÂ∫èÂàóÂåñ‰ª£Á†ÅÔºåÊ∂àÈô§ËøêË°åÊó∂ÂºÄÈîÄ„ÄÇ  Ê†∏ÂøÉÂäüËÉΩÔºö  ‰ªªÊÑèÊ∑±Â∫¶ÁöÑÂµåÂ•óÁªìÊûÑ‰ΩìÂ∫èÂàóÂåñÈõÜÂêàÁ±ªÂûãÔºàVec„ÄÅHashMap„ÄÅHashSet„ÄÅBTreeMapÔºâ‰ΩøÁî® Option&lt;T&gt; ÁöÑÂèØÈÄâÂ≠óÊÆµÂéüÂßãÁ±ªÂûãÂíåÂ≠óÁ¨¶‰∏≤ÁöÑËá™Âä®Â§ÑÁêÜ‰ΩøÁî®ÂèòÈïøÊï¥Êï∞ÁöÑÈ´òÊïà‰∫åËøõÂà∂ÁºñÁ†Å  use fory::{Fory, Error}; use fory::ForyObject; use std::collections::HashMap; #[derive(ForyObject, Debug, PartialEq)] struct Person { name: String, age: i32, address: Address, hobbies: Vec&lt;String&gt;, metadata: HashMap&lt;String, String&gt;, } #[derive(ForyObject, Debug, PartialEq)] struct Address { street: String, city: String, country: String, } let mut fory = Fory::default(); fory.register::&lt;Address&gt;(100); fory.register::&lt;Person&gt;(200); let person = Person { name: &quot;John Doe&quot;.to_string(), age: 30, address: Address { street: &quot;123 Main St&quot;.to_string(), city: &quot;New York&quot;.to_string(), country: &quot;USA&quot;.to_string(), }, hobbies: vec![&quot;reading&quot;.to_string(), &quot;coding&quot;.to_string()], metadata: HashMap::from([ (&quot;role&quot;.to_string(), &quot;developer&quot;.to_string()), ]), }; let bytes = fory.serialize(&amp;person); let decoded: Person = fory.deserialize(&amp;bytes)?; assert_eq!(person, decoded);   ","version":"0.15","tagName":"h2"},{"title":"ÊîØÊåÅÁöÑÁ±ªÂûã‚Äã","type":1,"pageTitle":"Âü∫Á°ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/guide/rust/basic_serialization#ÊîØÊåÅÁöÑÁ±ªÂûã","content":" ","version":"0.15","tagName":"h2"},{"title":"ÂéüÂßãÁ±ªÂûã‚Äã","type":1,"pageTitle":"Âü∫Á°ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/guide/rust/basic_serialization#ÂéüÂßãÁ±ªÂûã","content":" Rust Á±ªÂûã\tÊèèËø∞bool\tÂ∏ÉÂ∞îÂÄº i8, i16, i32, i64\tÊúâÁ¨¶Âè∑Êï¥Êï∞ f32, f64\tÊµÆÁÇπÊï∞ String\tUTF-8 Â≠óÁ¨¶‰∏≤  ","version":"0.15","tagName":"h3"},{"title":"ÈõÜÂêàÁ±ªÂûã‚Äã","type":1,"pageTitle":"Âü∫Á°ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/guide/rust/basic_serialization#ÈõÜÂêàÁ±ªÂûã","content":" Rust Á±ªÂûã\tÊèèËø∞Vec&lt;T&gt;\tÂä®ÊÄÅÊï∞ÁªÑ VecDeque&lt;T&gt;\tÂèåÁ´ØÈòüÂàó LinkedList&lt;T&gt;\tÂèåÂêëÈìæË°® HashMap&lt;K, V&gt;\tÂìàÂ∏åÊò†Â∞Ñ BTreeMap&lt;K, V&gt;\tÊúâÂ∫èÊò†Â∞Ñ HashSet&lt;T&gt;\tÂìàÂ∏åÈõÜÂêà BTreeSet&lt;T&gt;\tÊúâÂ∫èÈõÜÂêà BinaryHeap&lt;T&gt;\t‰∫åÂèâÂ†Ü Option&lt;T&gt;\tÂèØÈÄâÂÄº  ","version":"0.15","tagName":"h3"},{"title":"Êô∫ËÉΩÊåáÈíà‚Äã","type":1,"pageTitle":"Âü∫Á°ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/guide/rust/basic_serialization#Êô∫ËÉΩÊåáÈíà","content":" Rust Á±ªÂûã\tÊèèËø∞Box&lt;T&gt;\tÂ†ÜÂàÜÈÖç Rc&lt;T&gt;\tÂºïÁî®ËÆ°Êï∞ÔºàË∑üË∏™ÂÖ±‰∫´ÂºïÁî®Ôºâ Arc&lt;T&gt;\tÁ∫øÁ®ãÂÆâÂÖ®ÂºïÁî®ËÆ°Êï∞ÔºàË∑üË∏™ÂÖ±‰∫´ÂºïÁî®Ôºâ RcWeak&lt;T&gt;\tÊåáÂêë Rc&lt;T&gt; ÁöÑÂº±ÂºïÁî®ÔºàÊâìÁ†¥Âæ™ÁéØÂºïÁî®Ôºâ ArcWeak&lt;T&gt;\tÊåáÂêë Arc&lt;T&gt; ÁöÑÂº±ÂºïÁî®ÔºàÊâìÁ†¥Âæ™ÁéØÂºïÁî®Ôºâ RefCell&lt;T&gt;\tÂÜÖÈÉ®ÂèØÂèòÊÄßÔºàËøêË°åÊó∂ÂÄüÁî®Ê£ÄÊü•Ôºâ Mutex&lt;T&gt;\tÁ∫øÁ®ãÂÆâÂÖ®ÂÜÖÈÉ®ÂèØÂèòÊÄß  ","version":"0.15","tagName":"h3"},{"title":"Êó•ÊúüÂíåÊó∂Èó¥‚Äã","type":1,"pageTitle":"Âü∫Á°ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/guide/rust/basic_serialization#Êó•ÊúüÂíåÊó∂Èó¥","content":" Rust Á±ªÂûã\tÊèèËø∞chrono::NaiveDate\t‰∏çÂ∏¶Êó∂Âå∫ÁöÑÊó•Êúü chrono::NaiveDateTime\t‰∏çÂ∏¶Êó∂Âå∫ÁöÑÊó∂Èó¥Êà≥  ","version":"0.15","tagName":"h3"},{"title":"Ëá™ÂÆö‰πâÁ±ªÂûã‚Äã","type":1,"pageTitle":"Âü∫Á°ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/guide/rust/basic_serialization#Ëá™ÂÆö‰πâÁ±ªÂûã","content":" ÂÆè\tÊèèËø∞#[derive(ForyObject)]\tÂØπË±°ÂõæÂ∫èÂàóÂåñ #[derive(ForyRow)]\tË°åÊ†ºÂºèÂ∫èÂàóÂåñ  ","version":"0.15","tagName":"h3"},{"title":"Â∫èÂàóÂåñ API‚Äã","type":1,"pageTitle":"Âü∫Á°ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/guide/rust/basic_serialization#Â∫èÂàóÂåñ-api","content":" use fory::{Fory, Reader}; let mut fory = Fory::default(); fory.register::&lt;MyStruct&gt;(1)?; let obj = MyStruct { /* ... */ }; // Âü∫Á°ÄÂ∫èÂàóÂåñ/ÂèçÂ∫èÂàóÂåñ let bytes = fory.serialize(&amp;obj)?; let decoded: MyStruct = fory.deserialize(&amp;bytes)?; // Â∫èÂàóÂåñÂà∞Áé∞ÊúâÁºìÂÜ≤Âå∫ let mut buf: Vec&lt;u8&gt; = vec![]; fory.serialize_to(&amp;mut buf, &amp;obj)?; // ‰ªé reader ÂèçÂ∫èÂàóÂåñ let mut reader = Reader::new(&amp;buf); let decoded: MyStruct = fory.deserialize_from(&amp;mut reader)?;   ","version":"0.15","tagName":"h2"},{"title":"ÊÄßËÉΩ‰ºòÂåñÂª∫ËÆÆ‚Äã","type":1,"pageTitle":"Âü∫Á°ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/guide/rust/basic_serialization#ÊÄßËÉΩ‰ºòÂåñÂª∫ËÆÆ","content":" Èõ∂Êã∑Ë¥ùÂèçÂ∫èÂàóÂåñÔºöË°åÊ†ºÂºèÊîØÊåÅÁõ¥Êé•ÂÜÖÂ≠òËÆøÈóÆËÄåÊó†ÈúÄÂ§çÂà∂ÁºìÂÜ≤Âå∫È¢ÑÂàÜÈÖçÔºöÂú®Â∫èÂàóÂåñÊúüÈó¥ÊúÄÂ∞èÂåñÂÜÖÂ≠òÂàÜÈÖçÁ¥ßÂáëÁºñÁ†ÅÔºöÂèòÈïøÁºñÁ†Å‰ª•ÊèêÈ´òÁ©∫Èó¥ÊïàÁéáÂ∞èÁ´ØÂ∫èÔºö‰∏∫Áé∞‰ª£ CPU Êû∂ÊûÑ‰ºòÂåñÂºïÁî®ÂéªÈáçÔºöÂÖ±‰∫´ÂØπË±°‰ªÖÂ∫èÂàóÂåñ‰∏ÄÊ¨°  ","version":"0.15","tagName":"h2"},{"title":"Áõ∏ÂÖ≥‰∏ªÈ¢ò‚Äã","type":1,"pageTitle":"Âü∫Á°ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/guide/rust/basic_serialization#Áõ∏ÂÖ≥‰∏ªÈ¢ò","content":" Á±ªÂûãÊ≥®ÂÜå - Ê≥®ÂÜåÁ±ªÂûãÂºïÁî® - ÂÖ±‰∫´ÂºïÁî®ÂíåÂæ™ÁéØÂºïÁî®Ëá™ÂÆö‰πâÂ∫èÂàóÂåñÂô® - ÊâãÂä®Â∫èÂàóÂåñ ","version":"0.15","tagName":"h2"},{"title":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ","type":0,"sectionRef":"#","url":"/zh-CN/docs/guide/rust/cross_language","content":"","keywords":"","version":"0.15"},{"title":"ÂêØÁî®Ë∑®ËØ≠Ë®ÄÊ®°Âºè‚Äã","type":1,"pageTitle":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/guide/rust/cross_language#ÂêØÁî®Ë∑®ËØ≠Ë®ÄÊ®°Âºè","content":" use fory::Fory; // ÂêØÁî®Ë∑®ËØ≠Ë®ÄÊ®°Âºè let mut fory = Fory::default() .compatible(true) .xlang(true); // ‰ΩøÁî®Ë∑®ËØ≠Ë®Ä‰∏ÄËá¥ÁöÑ ID Ê≥®ÂÜåÁ±ªÂûã fory.register::&lt;MyStruct&gt;(100); // Êàñ‰ΩøÁî®Âü∫‰∫éÂëΩÂêçÁ©∫Èó¥ÁöÑÊ≥®ÂÜå fory.register_by_namespace::&lt;MyStruct&gt;(&quot;com.example&quot;, &quot;MyStruct&quot;);   ","version":"0.15","tagName":"h2"},{"title":"Ë∑®ËØ≠Ë®ÄÁ±ªÂûãÊ≥®ÂÜå‚Äã","type":1,"pageTitle":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/guide/rust/cross_language#Ë∑®ËØ≠Ë®ÄÁ±ªÂûãÊ≥®ÂÜå","content":" ","version":"0.15","tagName":"h2"},{"title":"Êåâ ID Ê≥®ÂÜå‚Äã","type":1,"pageTitle":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/guide/rust/cross_language#Êåâ-id-Ê≥®ÂÜå","content":" ÂØπ‰∫é‰ΩøÁî®Ë∑®ËØ≠Ë®Ä‰∏ÄËá¥ ID ÁöÑÂø´ÈÄü„ÄÅÁ¥ßÂáëÂ∫èÂàóÂåñÔºö  let mut fory = Fory::default() .compatible(true) .xlang(true); fory.register::&lt;User&gt;(100); // Âú® Java„ÄÅPython Á≠â‰∏≠‰ΩøÁî®Áõ∏ÂêåÁöÑ ID   ","version":"0.15","tagName":"h3"},{"title":"ÊåâÂëΩÂêçÁ©∫Èó¥Ê≥®ÂÜå‚Äã","type":1,"pageTitle":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/guide/rust/cross_language#ÊåâÂëΩÂêçÁ©∫Èó¥Ê≥®ÂÜå","content":" ÂØπ‰∫éÊõ¥ÁÅµÊ¥ªÁöÑÁ±ªÂûãÂëΩÂêçÔºö  fory.register_by_namespace::&lt;User&gt;(&quot;com.example&quot;, &quot;User&quot;);   ","version":"0.15","tagName":"h3"},{"title":"Ë∑®ËØ≠Ë®ÄÁ§∫‰æã‚Äã","type":1,"pageTitle":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/guide/rust/cross_language#Ë∑®ËØ≠Ë®ÄÁ§∫‰æã","content":" ","version":"0.15","tagName":"h2"},{"title":"RustÔºàÂ∫èÂàóÂåñÂô®Ôºâ‚Äã","type":1,"pageTitle":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/guide/rust/cross_language#rustÂ∫èÂàóÂåñÂô®","content":" use fory::Fory; use fory::ForyObject; #[derive(ForyObject)] struct Person { name: String, age: i32, } let mut fory = Fory::default() .compatible(true) .xlang(true); fory.register::&lt;Person&gt;(100); let person = Person { name: &quot;Alice&quot;.to_string(), age: 30, }; let bytes = fory.serialize(&amp;person)?; // bytes ÂèØ‰ª•Ë¢´ Java„ÄÅPython Á≠âÂèçÂ∫èÂàóÂåñ   ","version":"0.15","tagName":"h3"},{"title":"JavaÔºàÂèçÂ∫èÂàóÂåñÂô®Ôºâ‚Äã","type":1,"pageTitle":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/guide/rust/cross_language#javaÂèçÂ∫èÂàóÂåñÂô®","content":" import org.apache.fory.*; import org.apache.fory.config.*; public class Person { public String name; public int age; } Fory fory = Fory.builder() .withLanguage(Language.XLANG) .withRefTracking(true) .build(); fory.register(Person.class, 100); // ‰∏é Rust ‰ΩøÁî®Áõ∏ÂêåÁöÑ ID Person person = (Person) fory.deserialize(bytesFromRust);   ","version":"0.15","tagName":"h3"},{"title":"PythonÔºàÂèçÂ∫èÂàóÂåñÂô®Ôºâ‚Äã","type":1,"pageTitle":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/guide/rust/cross_language#pythonÂèçÂ∫èÂàóÂåñÂô®","content":" import pyfory from dataclasses import dataclass @dataclass class Person: name: str age: pyfory.int32 fory = pyfory.Fory(ref_tracking=True) fory.register_type(Person, type_id=100) # ‰∏é Rust ‰ΩøÁî®Áõ∏ÂêåÁöÑ ID person = fory.deserialize(bytes_from_rust)   ","version":"0.15","tagName":"h3"},{"title":"Á±ªÂûãÊò†Â∞Ñ‚Äã","type":1,"pageTitle":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/guide/rust/cross_language#Á±ªÂûãÊò†Â∞Ñ","content":" ÊúâÂÖ≥Ë∑®ËØ≠Ë®ÄÂÆåÊï¥Á±ªÂûãÊò†Â∞ÑÔºåËØ∑ÂèÇÈòÖ xlang_type_mapping.md„ÄÇ  ","version":"0.15","tagName":"h2"},{"title":"Â∏∏ËßÅÁ±ªÂûãÊò†Â∞Ñ‚Äã","type":1,"pageTitle":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/guide/rust/cross_language#Â∏∏ËßÅÁ±ªÂûãÊò†Â∞Ñ","content":" Rust\tJava\tPythoni32\tint\tint32 i64\tlong\tint64 f32\tfloat\tfloat32 f64\tdouble\tfloat64 String\tString\tstr Vec&lt;T&gt;\tList&lt;T&gt;\tList[T] HashMap&lt;K,V&gt;\tMap&lt;K,V&gt;\tDict[K,V] Option&lt;T&gt;\tÂèØÁ©∫ T\tOptional[T]  ","version":"0.15","tagName":"h3"},{"title":"ÊúÄ‰Ω≥ÂÆûË∑µ‚Äã","type":1,"pageTitle":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/guide/rust/cross_language#ÊúÄ‰Ω≥ÂÆûË∑µ","content":" ‰ΩøÁî®‰∏ÄËá¥ÁöÑÁ±ªÂûã IDÔºöÂú®ÊâÄÊúâËØ≠Ë®Ä‰∏≠‰ΩøÁî®Áõ∏ÂêåÁöÑ IDÂêØÁî® compatible Ê®°ÂºèÔºöÁî®‰∫é schema ÊºîÂåñÊ≥®ÂÜåÊâÄÊúâÁ±ªÂûãÔºöÂú®Â∫èÂàóÂåñ‰πãÂâçÊµãËØïË∑®ËØ≠Ë®ÄÔºöÂú®ÂºÄÂèëÊúüÈó¥ÊµãËØïÂÖºÂÆπÊÄß  ","version":"0.15","tagName":"h2"},{"title":"Âè¶ËØ∑ÂèÇÈòÖ‚Äã","type":1,"pageTitle":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/guide/rust/cross_language#Âè¶ËØ∑ÂèÇÈòÖ","content":" Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñËßÑËåÉÁ±ªÂûãÊò†Â∞ÑÂèÇËÄÉJava Ë∑®ËØ≠Ë®ÄÊåáÂçóPython Ë∑®ËØ≠Ë®ÄÊåáÂçó  ","version":"0.15","tagName":"h2"},{"title":"Áõ∏ÂÖ≥‰∏ªÈ¢ò‚Äã","type":1,"pageTitle":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ","url":"/zh-CN/docs/guide/rust/cross_language#Áõ∏ÂÖ≥‰∏ªÈ¢ò","content":" ÈÖçÁΩÆ - XLANG Ê®°ÂºèÈÖçÁΩÆSchema ÊºîÂåñ - Compatible Ê®°ÂºèÁ±ªÂûãÊ≥®ÂÜå - Ê≥®ÂÜåÊñπÊ≥ï ","version":"0.15","tagName":"h2"},{"title":"Ëá™ÂÆö‰πâÂ∫èÂàóÂåñÂô®","type":0,"sectionRef":"#","url":"/zh-CN/docs/guide/rust/custom_serializers","content":"","keywords":"","version":"0.15"},{"title":"‰ΩïÊó∂‰ΩøÁî®Ëá™ÂÆö‰πâÂ∫èÂàóÂåñÂô®‚Äã","type":1,"pageTitle":"Ëá™ÂÆö‰πâÂ∫èÂàóÂåñÂô®","url":"/zh-CN/docs/guide/rust/custom_serializers#‰ΩïÊó∂‰ΩøÁî®Ëá™ÂÆö‰πâÂ∫èÂàóÂåñÂô®","content":" Êù•Ëá™ÂÖ∂‰ªñ crate ÁöÑÂ§ñÈÉ®Á±ªÂûãÂÖ∑ÊúâÁâπÊÆäÂ∫èÂàóÂåñË¶ÅÊ±ÇÁöÑÁ±ªÂûãÊóßÊï∞ÊçÆÊ†ºÂºèÂÖºÂÆπÊÄßÊÄßËÉΩÂÖ≥ÈîÆÁöÑËá™ÂÆö‰πâÁºñÁ†Å  ","version":"0.15","tagName":"h2"},{"title":"ÂÆûÁé∞ Serializer Trait‚Äã","type":1,"pageTitle":"Ëá™ÂÆö‰πâÂ∫èÂàóÂåñÂô®","url":"/zh-CN/docs/guide/rust/custom_serializers#ÂÆûÁé∞-serializer-trait","content":" use fory::{Fory, ReadContext, WriteContext, Serializer, ForyDefault, Error}; use std::any::Any; #[derive(Debug, PartialEq)] struct CustomType { value: i32, name: String, } impl Serializer for CustomType { fn fory_write_data(&amp;self, context: &amp;mut WriteContext, is_field: bool) { context.writer.write_i32(self.value); context.writer.write_varuint32(self.name.len() as u32); context.writer.write_utf8_string(&amp;self.name); } fn fory_read_data(context: &amp;mut ReadContext, is_field: bool) -&gt; Result&lt;Self, Error&gt; { let value = context.reader.read_i32(); let len = context.reader.read_varuint32() as usize; let name = context.reader.read_utf8_string(len); Ok(Self { value, name }) } fn fory_type_id_dyn(&amp;self, type_resolver: &amp;TypeResolver) -&gt; u32 { Self::fory_get_type_id(type_resolver) } fn as_any(&amp;self) -&gt; &amp;dyn Any { self } } impl ForyDefault for CustomType { fn fory_default() -&gt; Self { Self::default() } }   ","version":"0.15","tagName":"h2"},{"title":"Ê≥®ÂÜåËá™ÂÆö‰πâÂ∫èÂàóÂåñÂô®‚Äã","type":1,"pageTitle":"Ëá™ÂÆö‰πâÂ∫èÂàóÂåñÂô®","url":"/zh-CN/docs/guide/rust/custom_serializers#Ê≥®ÂÜåËá™ÂÆö‰πâÂ∫èÂàóÂåñÂô®","content":" let mut fory = Fory::default(); fory.register_serializer::&lt;CustomType&gt;(100); let custom = CustomType { value: 42, name: &quot;test&quot;.to_string(), }; let bytes = fory.serialize(&amp;custom); let decoded: CustomType = fory.deserialize(&amp;bytes)?; assert_eq!(custom, decoded);   ","version":"0.15","tagName":"h2"},{"title":"WriteContext Âíå ReadContext‚Äã","type":1,"pageTitle":"Ëá™ÂÆö‰πâÂ∫èÂàóÂåñÂô®","url":"/zh-CN/docs/guide/rust/custom_serializers#writecontext-Âíå-readcontext","content":" WriteContext Âíå ReadContext Êèê‰æõÂØπ‰ª•‰∏ãÂÜÖÂÆπÁöÑËÆøÈóÆÔºö  writer/readerÔºö‰∫åËøõÂà∂ÁºìÂÜ≤Âå∫Êìç‰Ωútype_resolverÔºöÁ±ªÂûãÊ≥®ÂÜå‰ø°ÊÅØref_resolverÔºöÂºïÁî®Ë∑üË∏™ÔºàÁî®‰∫éÂÖ±‰∫´/Âæ™ÁéØÂºïÁî®Ôºâ  ","version":"0.15","tagName":"h2"},{"title":"Â∏∏Áî® Writer ÊñπÊ≥ï‚Äã","type":1,"pageTitle":"Ëá™ÂÆö‰πâÂ∫èÂàóÂåñÂô®","url":"/zh-CN/docs/guide/rust/custom_serializers#Â∏∏Áî®-writer-ÊñπÊ≥ï","content":" // ÂéüÂßãÁ±ªÂûã context.writer.write_i8(value); context.writer.write_i16(value); context.writer.write_i32(value); context.writer.write_i64(value); context.writer.write_f32(value); context.writer.write_f64(value); context.writer.write_bool(value); // ÂèòÈïøÊï¥Êï∞ context.writer.write_varint32(value); context.writer.write_varuint32(value); // Â≠óÁ¨¶‰∏≤ context.writer.write_utf8_string(&amp;string);   ","version":"0.15","tagName":"h3"},{"title":"Â∏∏Áî® Reader ÊñπÊ≥ï‚Äã","type":1,"pageTitle":"Ëá™ÂÆö‰πâÂ∫èÂàóÂåñÂô®","url":"/zh-CN/docs/guide/rust/custom_serializers#Â∏∏Áî®-reader-ÊñπÊ≥ï","content":" // ÂéüÂßãÁ±ªÂûã let value = context.reader.read_i8(); let value = context.reader.read_i16(); let value = context.reader.read_i32(); let value = context.reader.read_i64(); let value = context.reader.read_f32(); let value = context.reader.read_f64(); let value = context.reader.read_bool(); // ÂèòÈïøÊï¥Êï∞ let value = context.reader.read_varint32(); let value = context.reader.read_varuint32(); // Â≠óÁ¨¶‰∏≤ let string = context.reader.read_utf8_string(len);   ","version":"0.15","tagName":"h3"},{"title":"ÊúÄ‰Ω≥ÂÆûË∑µ‚Äã","type":1,"pageTitle":"Ëá™ÂÆö‰πâÂ∫èÂàóÂåñÂô®","url":"/zh-CN/docs/guide/rust/custom_serializers#ÊúÄ‰Ω≥ÂÆûË∑µ","content":" ‰ΩøÁî®ÂèòÈïøÁºñÁ†ÅÔºöÂØπÂèØËÉΩËæÉÂ∞èÁöÑÊï¥Êï∞‰ΩøÁî®ÂèòÈïøÁºñÁ†ÅÈ¶ñÂÖàÂÜôÂÖ•ÈïøÂ∫¶ÔºöÂØπÂèòÈïøÊï∞ÊçÆÂÖàÂÜôÂÖ•ÈïøÂ∫¶Ê≠£Á°ÆÂ§ÑÁêÜÈîôËØØÔºöÂú® read ÊñπÊ≥ï‰∏≠Ê≠£Á°ÆÂ§ÑÁêÜÈîôËØØÂÆûÁé∞ ForyDefaultÔºö‰ª•ÊîØÊåÅ schema ÊºîÂåñ  ","version":"0.15","tagName":"h2"},{"title":"Áõ∏ÂÖ≥‰∏ªÈ¢ò‚Äã","type":1,"pageTitle":"Ëá™ÂÆö‰πâÂ∫èÂàóÂåñÂô®","url":"/zh-CN/docs/guide/rust/custom_serializers#Áõ∏ÂÖ≥‰∏ªÈ¢ò","content":" Á±ªÂûãÊ≥®ÂÜå - Ê≥®ÂÜåÂ∫èÂàóÂåñÂô®Âü∫Á°ÄÂ∫èÂàóÂåñ - ‰ΩøÁî® ForyObject deriveSchema ÊºîÂåñ - Compatible Ê®°Âºè ","version":"0.15","tagName":"h2"},{"title":"Â≠óÊÆµÈÖçÁΩÆ","type":0,"sectionRef":"#","url":"/zh-CN/docs/guide/rust/field_configuration","content":"","keywords":"","version":"0.15"},{"title":"Ê¶ÇËø∞‚Äã","type":1,"pageTitle":"Â≠óÊÆµÈÖçÁΩÆ","url":"/zh-CN/docs/guide/rust/field_configuration#Ê¶ÇËø∞","content":" Apache Fory‚Ñ¢ Êèê‰æõ #[fory(...)] Â±ûÊÄßÂÆèÔºåÁî®‰∫éÂú®ÁºñËØëÊúüÂ£∞ÊòéÂèØÈÄâÂ≠óÊÆµÁ∫ßÂÖÉ‰ø°ÊÅØ„ÄÇ This enables:  Tag IDs: Assign compact numeric IDs to minimize struct field meta size overheadNullability: Control whether fields can be nullReference Tracking: Enable reference tracking for shared ownership typesField Skipping: Exclude fields from serializationEncoding Control: Specify how integers are encoded (varint, fixed, tagged)  ","version":"0.15","tagName":"h2"},{"title":"Âü∫Êú¨ËØ≠Ê≥ï‚Äã","type":1,"pageTitle":"Â≠óÊÆµÈÖçÁΩÆ","url":"/zh-CN/docs/guide/rust/field_configuration#Âü∫Êú¨ËØ≠Ê≥ï","content":" The #[fory(...)] attribute is placed on individual struct fields:  use fory::ForyObject; #[derive(ForyObject)] struct Person { #[fory(id = 0)] name: String, #[fory(id = 1)] age: i32, #[fory(id = 2, nullable)] nickname: Option&lt;String&gt;, }   Multiple options are separated by commas.  ","version":"0.15","tagName":"h2"},{"title":"ÂèØÁî®ÈÄâÈ°π‚Äã","type":1,"pageTitle":"Â≠óÊÆµÈÖçÁΩÆ","url":"/zh-CN/docs/guide/rust/field_configuration#ÂèØÁî®ÈÄâÈ°π","content":" ","version":"0.15","tagName":"h2"},{"title":"Field ID (id = N)‚Äã","type":1,"pageTitle":"Â≠óÊÆµÈÖçÁΩÆ","url":"/zh-CN/docs/guide/rust/field_configuration#field-id-id--n","content":" Assigns a numeric ID to a field to minimize struct field meta size overhead:  #[derive(ForyObject)] struct User { #[fory(id = 0)] id: i64, #[fory(id = 1)] name: String, #[fory(id = 2)] age: i32, }   Benefits:  Smaller serialized size (numeric IDs vs field names in metadata)Allows renaming fields without breaking binary compatibility  Recommendation: It is recommended to configure field IDs for compatible mode since it reduces serialization cost.  Notes:  IDs must be unique within a structIDs must be &gt;= 0 (use -1 to explicitly opt-out of tag ID encoding)If not specified, field name is used in metadata (larger overhead)  ","version":"0.15","tagName":"h3"},{"title":"Skipping Fields (skip)‚Äã","type":1,"pageTitle":"Â≠óÊÆµÈÖçÁΩÆ","url":"/zh-CN/docs/guide/rust/field_configuration#skipping-fields-skip","content":" Excludes a field from serialization:  #[derive(ForyObject)] struct User { #[fory(id = 0)] id: i64, #[fory(id = 1)] name: String, #[fory(skip)] password: String, // Not serialized }   The password field will not be included in serialized output and will remain at its default value after deserialization.  ","version":"0.15","tagName":"h3"},{"title":"Nullable (nullable)‚Äã","type":1,"pageTitle":"Â≠óÊÆµÈÖçÁΩÆ","url":"/zh-CN/docs/guide/rust/field_configuration#nullable-nullable","content":" Controls whether null flags are written for fields:  use fory::{Fory, RcWeak}; #[derive(ForyObject)] struct Record { // RcWeak is nullable by default, override to non-nullable #[fory(id = 0, nullable = false)] required_ref: RcWeak&lt;Data&gt;, }   Default Behavior:  Type\tDefault NullableOption&lt;T&gt;\ttrue RcWeak&lt;T&gt;, ArcWeak&lt;T&gt;\ttrue All other types\tfalse  Notes:  For Option&lt;T&gt;, RcWeak&lt;T&gt;, ArcWeak&lt;T&gt;, nullable defaults to trueFor all other types, nullable defaults to falseUse nullable = false to override defaults for types that are nullable by default  ","version":"0.15","tagName":"h3"},{"title":"Reference Tracking (ref)‚Äã","type":1,"pageTitle":"Â≠óÊÆµÈÖçÁΩÆ","url":"/zh-CN/docs/guide/rust/field_configuration#reference-tracking-ref","content":" Controls per-field reference tracking for shared ownership types:  use std::rc::Rc; use std::sync::Arc; #[derive(ForyObject)] struct Container { // Enable reference tracking (default for Rc/Arc) #[fory(id = 0, ref = true)] shared_data: Rc&lt;Data&gt;, // Disable reference tracking #[fory(id = 1, ref = false)] unique_data: Rc&lt;Data&gt;, }   Default Behavior:  Type\tDefault Ref TrackingRc&lt;T&gt;, Arc&lt;T&gt;\ttrue RcWeak&lt;T&gt;, ArcWeak&lt;T&gt;\ttrue Option&lt;Rc&lt;T&gt;&gt;, Option&lt;Arc&lt;T&gt;&gt;\ttrue (inherited) All other types\tfalse  Use Cases:  Enable for fields that may be circular or sharedDisable for fields that are always unique (optimization)  ","version":"0.15","tagName":"h3"},{"title":"Encoding (encoding)‚Äã","type":1,"pageTitle":"Â≠óÊÆµÈÖçÁΩÆ","url":"/zh-CN/docs/guide/rust/field_configuration#encoding-encoding","content":" Controls how integer fields are encoded:  #[derive(ForyObject)] struct Metrics { // Variable-length encoding (smaller for small values) #[fory(id = 0, encoding = &quot;varint&quot;)] count: i64, // Fixed-length encoding (consistent size) #[fory(id = 1, encoding = &quot;fixed&quot;)] timestamp: i64, // Tagged encoding (includes type tag, u64 only) #[fory(id = 2, encoding = &quot;tagged&quot;)] value: u64, }   Supported Encodings:  Type\tOptions\tDefaulti32, u32\tvarint, fixed\tvarint i64, u64\tvarint, fixed, tagged\tvarint  When to Use:  varint: Best for values that are often small (default)fixed: Best for values that use full range (e.g., timestamps, hashes)tagged: When type information needs to be preserved (u64 only)  ","version":"0.15","tagName":"h3"},{"title":"Compress (compress)‚Äã","type":1,"pageTitle":"Â≠óÊÆµÈÖçÁΩÆ","url":"/zh-CN/docs/guide/rust/field_configuration#compress-compress","content":" A convenience shorthand for controlling integer encoding:  #[derive(ForyObject)] struct Data { // compress = true -&gt; varint encoding (default) #[fory(id = 0, compress)] small_value: i32, // compress = false -&gt; fixed encoding #[fory(id = 1, compress = false)] fixed_value: u32, }   Notes:  compress or compress = true is equivalent to encoding = &quot;varint&quot;compress = false is equivalent to encoding = &quot;fixed&quot;If both compress and encoding are specified, they must not conflict  ","version":"0.15","tagName":"h3"},{"title":"Type Classification‚Äã","type":1,"pageTitle":"Â≠óÊÆµÈÖçÁΩÆ","url":"/zh-CN/docs/guide/rust/field_configuration#type-classification","content":" Fory classifies field types to determine default behavior:  Type Class\tExamples\tDefault Nullable\tDefault RefPrimitive\ti8, i32, f64, bool\tfalse\tfalse Option\tOption&lt;T&gt;\ttrue\tfalse Rc\tRc&lt;T&gt;\tfalse\ttrue Arc\tArc&lt;T&gt;\tfalse\ttrue RcWeak\tRcWeak&lt;T&gt; (fory type)\ttrue\ttrue ArcWeak\tArcWeak&lt;T&gt; (fory type)\ttrue\ttrue Other\tString, Vec&lt;T&gt;, user types\tfalse\tfalse  Special Case: Option&lt;Rc&lt;T&gt;&gt; and Option&lt;Arc&lt;T&gt;&gt; inherit the inner type's ref tracking behavior.  ","version":"0.15","tagName":"h2"},{"title":"Complete Example‚Äã","type":1,"pageTitle":"Â≠óÊÆµÈÖçÁΩÆ","url":"/zh-CN/docs/guide/rust/field_configuration#complete-example","content":" use fory::ForyObject; use std::rc::Rc; #[derive(ForyObject, Default)] struct Document { // Required fields with tag IDs #[fory(id = 0)] title: String, #[fory(id = 1)] version: i32, // Optional field (nullable by default for Option) #[fory(id = 2)] description: Option&lt;String&gt;, // Reference-tracked shared pointer #[fory(id = 3)] parent: Rc&lt;Document&gt;, // Nullable + reference-tracked #[fory(id = 4, nullable)] related: Option&lt;Rc&lt;Document&gt;&gt;, // Counter with varint encoding (small values) #[fory(id = 5, encoding = &quot;varint&quot;)] view_count: u64, // Timestamp with fixed encoding (full range values) #[fory(id = 6, encoding = &quot;fixed&quot;)] created_at: i64, // Skip sensitive field #[fory(skip)] internal_state: String, } fn main() { let fory = fory::Fory::default(); let doc = Document { title: &quot;My Document&quot;.to_string(), version: 1, description: Some(&quot;A sample document&quot;.to_string()), parent: Rc::new(Document::default()), related: None, // Allowed because nullable view_count: 42, created_at: 1704067200, internal_state: &quot;secret&quot;.to_string(), // Will be skipped }; let bytes = fory.serialize(&amp;doc); let decoded: Document = fory.deserialize(&amp;bytes).unwrap(); }   ","version":"0.15","tagName":"h2"},{"title":"Compile-Time Validation‚Äã","type":1,"pageTitle":"Â≠óÊÆµÈÖçÁΩÆ","url":"/zh-CN/docs/guide/rust/field_configuration#compile-time-validation","content":" Invalid configurations are caught at compile time:  // Error: duplicate field IDs #[derive(ForyObject)] struct Bad { #[fory(id = 0)] field1: String, #[fory(id = 0)] // Compile error: duplicate id field2: String, } // Error: invalid id value #[derive(ForyObject)] struct Bad2 { #[fory(id = -2)] // Compile error: id must be &gt;= -1 field: String, } // Error: conflicting encoding attributes #[derive(ForyObject)] struct Bad3 { #[fory(compress = true, encoding = &quot;fixed&quot;)] // Compile error: conflict field: i32, }   ","version":"0.15","tagName":"h2"},{"title":"Cross-Language Compatibility‚Äã","type":1,"pageTitle":"Â≠óÊÆµÈÖçÁΩÆ","url":"/zh-CN/docs/guide/rust/field_configuration#cross-language-compatibility","content":" When serializing data to be read by other languages (Java, C++, Go, Python), use field configuration to match encoding expectations:  #[derive(ForyObject)] struct CrossLangData { // Matches Java Integer with varint #[fory(id = 0, encoding = &quot;varint&quot;)] int_var: i32, // Matches Java Integer with fixed #[fory(id = 1, encoding = &quot;fixed&quot;)] int_fixed: i32, // Matches Java Long with tagged encoding #[fory(id = 2, encoding = &quot;tagged&quot;)] long_tagged: u64, // Nullable pointer matches Java nullable reference #[fory(id = 3, nullable)] optional: Option&lt;String&gt;, }   ","version":"0.15","tagName":"h2"},{"title":"Schema Evolution‚Äã","type":1,"pageTitle":"Â≠óÊÆµÈÖçÁΩÆ","url":"/zh-CN/docs/guide/rust/field_configuration#schema-evolution","content":" Compatible mode supports schema evolution. It is recommended to configure field IDs to reduce serialization cost:  // Version 1 #[derive(ForyObject)] struct DataV1 { #[fory(id = 0)] id: i64, #[fory(id = 1)] name: String, } // Version 2: Added new field #[derive(ForyObject)] struct DataV2 { #[fory(id = 0)] id: i64, #[fory(id = 1)] name: String, #[fory(id = 2)] email: Option&lt;String&gt;, // New nullable field }   Data serialized with V1 can be deserialized with V2 (new field will be None).  Alternatively, field IDs can be omitted (field names will be used in metadata with larger overhead):  #[derive(ForyObject)] struct Data { id: i64, name: String, }   ","version":"0.15","tagName":"h2"},{"title":"Default Values‚Äã","type":1,"pageTitle":"Â≠óÊÆµÈÖçÁΩÆ","url":"/zh-CN/docs/guide/rust/field_configuration#default-values","content":" Nullable: Option&lt;T&gt;, RcWeak&lt;T&gt;, and ArcWeak&lt;T&gt; are nullable by default; all other types are non-nullableRef tracking: Rc&lt;T&gt;, Arc&lt;T&gt;, RcWeak&lt;T&gt;, and ArcWeak&lt;T&gt; enable ref tracking by default; all other types are disabled  You need to configure fields when:  A field can be None (use Option&lt;T&gt;)A field needs reference tracking for shared/circular objects (use ref = true)Integer types need specific encoding for cross-language compatibilityYou want to reduce metadata size (use field IDs)  // Xlang mode: explicit configuration required #[derive(ForyObject)] struct User { #[fory(id = 0)] name: String, // Non-nullable by default #[fory(id = 1)] email: Option&lt;String&gt;, // Nullable (Option&lt;T&gt;) #[fory(id = 2, ref = true)] friend: Rc&lt;User&gt;, // Ref tracking (default for Rc) }   ","version":"0.15","tagName":"h2"},{"title":"Default Values Summary‚Äã","type":1,"pageTitle":"Â≠óÊÆµÈÖçÁΩÆ","url":"/zh-CN/docs/guide/rust/field_configuration#default-values-summary","content":" Type\tDefault Nullable\tDefault Ref TrackingPrimitives, String\tfalse\tfalse Option&lt;T&gt;\ttrue\tfalse Rc&lt;T&gt;, Arc&lt;T&gt;\tfalse\ttrue RcWeak&lt;T&gt;, ArcWeak&lt;T&gt;\ttrue\ttrue  ","version":"0.15","tagName":"h3"},{"title":"Best Practices‚Äã","type":1,"pageTitle":"Â≠óÊÆµÈÖçÁΩÆ","url":"/zh-CN/docs/guide/rust/field_configuration#best-practices","content":" Configure field IDs: Recommended for compatible mode to reduce serialization costUse skip for sensitive data: Passwords, tokens, internal stateEnable ref tracking for shared objects: When the same pointer appears multiple timesDisable ref tracking for unique fields: Optimization when you know the field is uniqueChoose appropriate encoding: varint for small values, fixed for full-range valuesKeep IDs stable: Once assigned, don't change field IDs  ","version":"0.15","tagName":"h2"},{"title":"Options Reference‚Äã","type":1,"pageTitle":"Â≠óÊÆµÈÖçÁΩÆ","url":"/zh-CN/docs/guide/rust/field_configuration#options-reference","content":" Option\tSyntax\tDescription\tValid Forid\tid = N\tField tag ID to reduce metadata size\tAll fields skip\tskip\tExclude field from serialization\tAll fields nullable\tnullable or nullable = bool\tControl null flag writing\tAll fields ref\tref or ref = bool\tControl reference tracking\tRc, Arc, weak types encoding\tencoding = &quot;varint/fixed/tagged&quot;\tInteger encoding method\ti32, u32, i64, u64 compress\tcompress or compress = bool\tShorthand for varint/fixed\ti32, u32  ","version":"0.15","tagName":"h2"},{"title":"Related Topics‚Äã","type":1,"pageTitle":"Â≠óÊÆµÈÖçÁΩÆ","url":"/zh-CN/docs/guide/rust/field_configuration#related-topics","content":" Basic Serialization - Getting started with Fory serializationSchema Evolution - Compatible mode and schema evolutionCross-Language - Interoperability with Java, C++, Go, Python ","version":"0.15","tagName":"h2"},{"title":"ÂÖ±‰∫´ÂíåÂæ™ÁéØÂºïÁî®","type":0,"sectionRef":"#","url":"/zh-CN/docs/guide/rust/references","content":"","keywords":"","version":"0.15"},{"title":"ÂÖ±‰∫´ÂºïÁî®‚Äã","type":1,"pageTitle":"ÂÖ±‰∫´ÂíåÂæ™ÁéØÂºïÁî®","url":"/zh-CN/docs/guide/rust/references#ÂÖ±‰∫´ÂºïÁî®","content":" ÂΩìÂêå‰∏ÄÂØπË±°Ë¢´Â§öÊ¨°ÂºïÁî®Êó∂ÔºåFory ‰ªÖÂ∫èÂàóÂåñ‰∏ÄÊ¨°ÔºåÂπ∂ÂØπÂêéÁª≠Âá∫Áé∞‰ΩøÁî®ÂºïÁî® ID„ÄÇËøôÁ°Æ‰øù‰∫ÜÔºö  Á©∫Èó¥ÊïàÁéáÔºöÂ∫èÂàóÂåñËæìÂá∫‰∏≠Êó†Êï∞ÊçÆÈáçÂ§çÂºïÁî®Ë∫´‰ªΩ‰øùÁïôÔºöÂèçÂ∫èÂàóÂåñÁöÑÂØπË±°‰øùÊåÅÁõ∏ÂêåÁöÑÂÖ±‰∫´ÂÖ≥Á≥ªÂæ™ÁéØÂºïÁî®ÊîØÊåÅÔºö‰ΩøÁî® RcWeak&lt;T&gt; Âíå ArcWeak&lt;T&gt; ÊâìÁ†¥Âæ™ÁéØ  ","version":"0.15","tagName":"h2"},{"title":"‰ΩøÁî® Rc ÁöÑÂÖ±‰∫´ÂºïÁî®‚Äã","type":1,"pageTitle":"ÂÖ±‰∫´ÂíåÂæ™ÁéØÂºïÁî®","url":"/zh-CN/docs/guide/rust/references#‰ΩøÁî®-rc-ÁöÑÂÖ±‰∫´ÂºïÁî®","content":" use fory::Fory; use std::rc::Rc; let fory = Fory::default(); // ÂàõÂª∫ÂÖ±‰∫´ÂÄº let shared = Rc::new(String::from(&quot;shared_value&quot;)); // Â§öÊ¨°ÂºïÁî®ÂÆÉ let data = vec![shared.clone(), shared.clone(), shared.clone()]; // ÂÖ±‰∫´ÂÄº‰ªÖÂ∫èÂàóÂåñ‰∏ÄÊ¨° let bytes = fory.serialize(&amp;data); let decoded: Vec&lt;Rc&lt;String&gt;&gt; = fory.deserialize(&amp;bytes)?; // È™åËØÅÂºïÁî®Ë∫´‰ªΩË¢´‰øùÁïô assert_eq!(decoded.len(), 3); assert_eq!(*decoded[0], &quot;shared_value&quot;); // ÊâÄÊúâ‰∏â‰∏™ Rc ÊåáÈíàÊåáÂêëÂêå‰∏ÄÂØπË±° assert!(Rc::ptr_eq(&amp;decoded[0], &amp;decoded[1])); assert!(Rc::ptr_eq(&amp;decoded[1], &amp;decoded[2]));   ","version":"0.15","tagName":"h3"},{"title":"‰ΩøÁî® Arc ÁöÑÂÖ±‰∫´ÂºïÁî®‚Äã","type":1,"pageTitle":"ÂÖ±‰∫´ÂíåÂæ™ÁéØÂºïÁî®","url":"/zh-CN/docs/guide/rust/references#‰ΩøÁî®-arc-ÁöÑÂÖ±‰∫´ÂºïÁî®","content":" ÂØπ‰∫éÁ∫øÁ®ãÂÆâÂÖ®ÁöÑÂÖ±‰∫´ÂºïÁî®Ôºå‰ΩøÁî® Arc&lt;T&gt;Ôºö  use fory::Fory; use std::sync::Arc; let fory = Fory::default(); let shared = Arc::new(String::from(&quot;shared_value&quot;)); let data = vec![shared.clone(), shared.clone()]; let bytes = fory.serialize(&amp;data); let decoded: Vec&lt;Arc&lt;String&gt;&gt; = fory.deserialize(&amp;bytes)?; assert!(Arc::ptr_eq(&amp;decoded[0], &amp;decoded[1]));   ","version":"0.15","tagName":"h3"},{"title":"‰ΩøÁî®Âº±ÊåáÈíàÁöÑÂæ™ÁéØÂºïÁî®‚Äã","type":1,"pageTitle":"ÂÖ±‰∫´ÂíåÂæ™ÁéØÂºïÁî®","url":"/zh-CN/docs/guide/rust/references#‰ΩøÁî®Âº±ÊåáÈíàÁöÑÂæ™ÁéØÂºïÁî®","content":" Ë¶ÅÂ∫èÂàóÂåñÁ±ª‰ººÁà∂Â≠êÂÖ≥Á≥ªÊàñÂèåÂêëÈìæË°®ÁªìÊûÑÁöÑÂæ™ÁéØÂºïÁî®Ôºå‰ΩøÁî® RcWeak&lt;T&gt; Êàñ ArcWeak&lt;T&gt; Êù•ÊâìÁ†¥Âæ™ÁéØ„ÄÇ  Â∑•‰ΩúÂéüÁêÜÔºö  Âº±ÊåáÈíàÂ∫èÂàóÂåñ‰∏∫ÂØπÂÖ∂ÁõÆÊ†áÂØπË±°ÁöÑÂºïÁî®Â¶ÇÊûúÂº∫ÊåáÈíàÂ∑≤Ë¢´‰∏¢ÂºÉÔºåÂº±ÊåáÈíàÂ∫èÂàóÂåñ‰∏∫ NullÂâçÂêëÂºïÁî®ÔºàÂº±ÊåáÈíàÂá∫Áé∞Âú®ÁõÆÊ†á‰πãÂâçÔºâÈÄöËøáÂõûË∞ÉËß£ÊûêÂº±ÊåáÈíàÁöÑÊâÄÊúâÂÖãÈöÜÂÖ±‰∫´Áõ∏ÂêåÁöÑÂÜÖÈÉ®ÂçïÂÖÉ‰ª•ËøõË°åËá™Âä®Êõ¥Êñ∞  ","version":"0.15","tagName":"h2"},{"title":"‰ΩøÁî® RcWeak ÁöÑÂæ™ÁéØÂºïÁî®‚Äã","type":1,"pageTitle":"ÂÖ±‰∫´ÂíåÂæ™ÁéØÂºïÁî®","url":"/zh-CN/docs/guide/rust/references#‰ΩøÁî®-rcweak-ÁöÑÂæ™ÁéØÂºïÁî®","content":" use fory::{Fory, Error}; use fory::ForyObject; use fory::RcWeak; use std::rc::Rc; use std::cell::RefCell; #[derive(ForyObject, Debug)] struct Node { value: i32, parent: RcWeak&lt;RefCell&lt;Node&gt;&gt;, children: Vec&lt;Rc&lt;RefCell&lt;Node&gt;&gt;&gt;, } let mut fory = Fory::default(); fory.register::&lt;Node&gt;(2000); // ÊûÑÂª∫Áà∂Â≠êÊ†ë let parent = Rc::new(RefCell::new(Node { value: 1, parent: RcWeak::new(), children: vec![], })); let child1 = Rc::new(RefCell::new(Node { value: 2, parent: RcWeak::from(&amp;parent), children: vec![], })); let child2 = Rc::new(RefCell::new(Node { value: 3, parent: RcWeak::from(&amp;parent), children: vec![], })); parent.borrow_mut().children.push(child1.clone()); parent.borrow_mut().children.push(child2.clone()); // Â∫èÂàóÂåñÂíåÂèçÂ∫èÂàóÂåñÂæ™ÁéØÁªìÊûÑ let bytes = fory.serialize(&amp;parent); let decoded: Rc&lt;RefCell&lt;Node&gt;&gt; = fory.deserialize(&amp;bytes)?; // È™åËØÅÂæ™ÁéØÂÖ≥Á≥ª assert_eq!(decoded.borrow().children.len(), 2); for child in &amp;decoded.borrow().children { let upgraded_parent = child.borrow().parent.upgrade().unwrap(); assert!(Rc::ptr_eq(&amp;decoded, &amp;upgraded_parent)); }   ","version":"0.15","tagName":"h3"},{"title":"‰ΩøÁî® Arc ÁöÑÁ∫øÁ®ãÂÆâÂÖ®Âæ™ÁéØÂõæ‚Äã","type":1,"pageTitle":"ÂÖ±‰∫´ÂíåÂæ™ÁéØÂºïÁî®","url":"/zh-CN/docs/guide/rust/references#‰ΩøÁî®-arc-ÁöÑÁ∫øÁ®ãÂÆâÂÖ®Âæ™ÁéØÂõæ","content":" use fory::{Fory, Error}; use fory::ForyObject; use fory::ArcWeak; use std::sync::{Arc, Mutex}; #[derive(ForyObject)] struct Node { val: i32, parent: ArcWeak&lt;Mutex&lt;Node&gt;&gt;, children: Vec&lt;Arc&lt;Mutex&lt;Node&gt;&gt;&gt;, } let mut fory = Fory::default(); fory.register::&lt;Node&gt;(6000); let parent = Arc::new(Mutex::new(Node { val: 10, parent: ArcWeak::new(), children: vec![], })); let child1 = Arc::new(Mutex::new(Node { val: 20, parent: ArcWeak::from(&amp;parent), children: vec![], })); let child2 = Arc::new(Mutex::new(Node { val: 30, parent: ArcWeak::from(&amp;parent), children: vec![], })); parent.lock().unwrap().children.push(child1.clone()); parent.lock().unwrap().children.push(child2.clone()); let bytes = fory.serialize(&amp;parent); let decoded: Arc&lt;Mutex&lt;Node&gt;&gt; = fory.deserialize(&amp;bytes)?; assert_eq!(decoded.lock().unwrap().children.len(), 2); for child in &amp;decoded.lock().unwrap().children { let upgraded_parent = child.lock().unwrap().parent.upgrade().unwrap(); assert!(Arc::ptr_eq(&amp;decoded, &amp;upgraded_parent)); }   ","version":"0.15","tagName":"h3"},{"title":"ÊîØÊåÅÁöÑÊô∫ËÉΩÊåáÈíàÁ±ªÂûã‚Äã","type":1,"pageTitle":"ÂÖ±‰∫´ÂíåÂæ™ÁéØÂºïÁî®","url":"/zh-CN/docs/guide/rust/references#ÊîØÊåÅÁöÑÊô∫ËÉΩÊåáÈíàÁ±ªÂûã","content":" Á±ªÂûã\tÊèèËø∞Rc&lt;T&gt;\tÂºïÁî®ËÆ°Êï∞ÔºåË∑üË∏™ÂÖ±‰∫´ÂºïÁî® Arc&lt;T&gt;\tÁ∫øÁ®ãÂÆâÂÖ®ÂºïÁî®ËÆ°Êï∞ÔºåË∑üË∏™ÂÖ±‰∫´ÂºïÁî® RcWeak&lt;T&gt;\tÊåáÂêë Rc&lt;T&gt; ÁöÑÂº±ÂºïÁî®ÔºåÊâìÁ†¥Âæ™ÁéØÂºïÁî® ArcWeak&lt;T&gt;\tÊåáÂêë Arc&lt;T&gt; ÁöÑÂº±ÂºïÁî®ÔºåÊâìÁ†¥Âæ™ÁéØÂºïÁî® RefCell&lt;T&gt;\tÂÜÖÈÉ®ÂèØÂèòÊÄßÔºåËøêË°åÊó∂ÂÄüÁî®Ê£ÄÊü• Mutex&lt;T&gt;\tÁ∫øÁ®ãÂÆâÂÖ®ÂÜÖÈÉ®ÂèØÂèòÊÄß  ","version":"0.15","tagName":"h2"},{"title":"ÊúÄ‰Ω≥ÂÆûË∑µ‚Äã","type":1,"pageTitle":"ÂÖ±‰∫´ÂíåÂæ™ÁéØÂºïÁî®","url":"/zh-CN/docs/guide/rust/references#ÊúÄ‰Ω≥ÂÆûË∑µ","content":" ‰ΩøÁî® Rc/Arc ÂÖ±‰∫´Êï∞ÊçÆÔºöËÆ© Fory Â§ÑÁêÜÂéªÈáç‰ΩøÁî®Âº±ÊåáÈíàÂ§ÑÁêÜÂæ™ÁéØÔºöÈò≤Ê≠¢Êó†ÈôêÈÄíÂΩíÂØπÁ∫øÁ®ãÂÆâÂÖ®Âú∫ÊôØ‰ºòÂÖà‰ΩøÁî® ArcÔºöÂΩìÊï∞ÊçÆË∑®Ë∂äÁ∫øÁ®ãËæπÁïåÊó∂‰∏é RefCell/Mutex ÁªìÂêà‰ΩøÁî®ÔºöÁî®‰∫éÂÜÖÈÉ®ÂèØÂèòÊÄß  ","version":"0.15","tagName":"h2"},{"title":"Áõ∏ÂÖ≥‰∏ªÈ¢ò‚Äã","type":1,"pageTitle":"ÂÖ±‰∫´ÂíåÂæ™ÁéØÂºïÁî®","url":"/zh-CN/docs/guide/rust/references#Áõ∏ÂÖ≥‰∏ªÈ¢ò","content":" Âü∫Á°ÄÂ∫èÂàóÂåñ - ÊîØÊåÅÁöÑÁ±ªÂûãÂ§öÊÄÅ - ‰ΩøÁî® Rc/Arc ÁöÑ Trait ÂØπË±°ÈÖçÁΩÆ - ÂºïÁî®Ë∑üË∏™ÈÄâÈ°π ","version":"0.15","tagName":"h2"},{"title":"Trait ÂØπË±°Â∫èÂàóÂåñ","type":0,"sectionRef":"#","url":"/zh-CN/docs/guide/rust/polymorphism","content":"","keywords":"","version":"0.15"},{"title":"ÊîØÊåÅÁöÑ Trait ÂØπË±°Á±ªÂûã‚Äã","type":1,"pageTitle":"Trait ÂØπË±°Â∫èÂàóÂåñ","url":"/zh-CN/docs/guide/rust/polymorphism#ÊîØÊåÅÁöÑ-trait-ÂØπË±°Á±ªÂûã","content":" Box&lt;dyn Trait&gt; - Êã•ÊúâÊâÄÊúâÊùÉÁöÑ trait ÂØπË±°Rc&lt;dyn Trait&gt; - ÂºïÁî®ËÆ°Êï∞ trait ÂØπË±°Arc&lt;dyn Trait&gt; - Á∫øÁ®ãÂÆâÂÖ®ÂºïÁî®ËÆ°Êï∞ trait ÂØπË±°Vec&lt;Box&lt;dyn Trait&gt;&gt;„ÄÅHashMap&lt;K, Box&lt;dyn Trait&gt;&gt; - trait ÂØπË±°ÈõÜÂêà  ","version":"0.15","tagName":"h2"},{"title":"Âü∫Á°Ä Trait ÂØπË±°Â∫èÂàóÂåñ‚Äã","type":1,"pageTitle":"Trait ÂØπË±°Â∫èÂàóÂåñ","url":"/zh-CN/docs/guide/rust/polymorphism#Âü∫Á°Ä-trait-ÂØπË±°Â∫èÂàóÂåñ","content":" use fory::{Fory, register_trait_type}; use fory::Serializer; use fory::ForyObject; trait Animal: Serializer { fn speak(&amp;self) -&gt; String; fn name(&amp;self) -&gt; &amp;str; } #[derive(ForyObject)] struct Dog { name: String, breed: String } impl Animal for Dog { fn speak(&amp;self) -&gt; String { &quot;Woof!&quot;.to_string() } fn name(&amp;self) -&gt; &amp;str { &amp;self.name } } #[derive(ForyObject)] struct Cat { name: String, color: String } impl Animal for Cat { fn speak(&amp;self) -&gt; String { &quot;Meow!&quot;.to_string() } fn name(&amp;self) -&gt; &amp;str { &amp;self.name } } // Ê≥®ÂÜå trait ÂÆûÁé∞ register_trait_type!(Animal, Dog, Cat); #[derive(ForyObject)] struct Zoo { star_animal: Box&lt;dyn Animal&gt;, } let mut fory = Fory::default().compatible(true); fory.register::&lt;Dog&gt;(100); fory.register::&lt;Cat&gt;(101); fory.register::&lt;Zoo&gt;(102); let zoo = Zoo { star_animal: Box::new(Dog { name: &quot;Buddy&quot;.to_string(), breed: &quot;Labrador&quot;.to_string(), }), }; let bytes = fory.serialize(&amp;zoo); let decoded: Zoo = fory.deserialize(&amp;bytes)?; assert_eq!(decoded.star_animal.name(), &quot;Buddy&quot;); assert_eq!(decoded.star_animal.speak(), &quot;Woof!&quot;);   ","version":"0.15","tagName":"h2"},{"title":"Â∫èÂàóÂåñ dyn Any Trait ÂØπË±°‚Äã","type":1,"pageTitle":"Trait ÂØπË±°Â∫èÂàóÂåñ","url":"/zh-CN/docs/guide/rust/polymorphism#Â∫èÂàóÂåñ-dyn-any-trait-ÂØπË±°","content":" Apache Fory‚Ñ¢ ÊîØÊåÅÂ∫èÂàóÂåñ Rc&lt;dyn Any&gt; Âíå Arc&lt;dyn Any&gt; ‰ª•ÂÆûÁé∞ËøêË°åÊó∂Á±ªÂûãÂàÜÂèëÔºö  Ë¶ÅÁÇπÔºö  ÈÄÇÁî®‰∫é‰ªª‰ΩïÂÆûÁé∞ Serializer ÁöÑÁ±ªÂûãÂèçÂ∫èÂàóÂåñÂêéÈúÄË¶ÅÂêë‰∏ãËΩ¨Âûã‰ª•ËÆøÈóÆÂÖ∑‰ΩìÁ±ªÂûãÂ∫èÂàóÂåñÊúüÈó¥‰øùÁïôÁ±ªÂûã‰ø°ÊÅØÂØπÊèí‰ª∂Á≥ªÁªüÂíåÂä®ÊÄÅÁ±ªÂûãÂ§ÑÁêÜÂæàÊúâÁî®  use std::rc::Rc; use std::any::Any; let dog_rc: Rc&lt;dyn Animal&gt; = Rc::new(Dog { name: &quot;Rex&quot;.to_string(), breed: &quot;Golden&quot;.to_string() }); // ËΩ¨Êç¢‰∏∫ Rc&lt;dyn Any&gt; ‰ª•ËøõË°åÂ∫èÂàóÂåñ let dog_any: Rc&lt;dyn Any&gt; = dog_rc.clone(); // Â∫èÂàóÂåñ Any ÂåÖË£ÖÂô® let bytes = fory.serialize(&amp;dog_any); let decoded: Rc&lt;dyn Any&gt; = fory.deserialize(&amp;bytes)?; // Âêë‰∏ãËΩ¨ÂûãÂõûÂÖ∑‰ΩìÁ±ªÂûã let unwrapped = decoded.downcast_ref::&lt;Dog&gt;().unwrap(); assert_eq!(unwrapped.name, &quot;Rex&quot;);   ÂØπ‰∫éÁ∫øÁ®ãÂÆâÂÖ®Âú∫ÊôØÔºå‰ΩøÁî® Arc&lt;dyn Any&gt;Ôºö  use std::sync::Arc; use std::any::Any; let dog_arc: Arc&lt;dyn Animal&gt; = Arc::new(Dog { name: &quot;Buddy&quot;.to_string(), breed: &quot;Labrador&quot;.to_string() }); // ËΩ¨Êç¢‰∏∫ Arc&lt;dyn Any&gt; let dog_any: Arc&lt;dyn Any&gt; = dog_arc.clone(); let bytes = fory.serialize(&amp;dog_any); let decoded: Arc&lt;dyn Any&gt; = fory.deserialize(&amp;bytes)?; // Âêë‰∏ãËΩ¨Âûã‰∏∫ÂÖ∑‰ΩìÁ±ªÂûã let unwrapped = decoded.downcast_ref::&lt;Dog&gt;().unwrap(); assert_eq!(unwrapped.name, &quot;Buddy&quot;);   ","version":"0.15","tagName":"h2"},{"title":"ÁªìÊûÑ‰Ωì‰∏≠Âü∫‰∫é Rc/Arc ÁöÑ Trait ÂØπË±°‚Äã","type":1,"pageTitle":"Trait ÂØπË±°Â∫èÂàóÂåñ","url":"/zh-CN/docs/guide/rust/polymorphism#ÁªìÊûÑ‰Ωì‰∏≠Âü∫‰∫é-rcarc-ÁöÑ-trait-ÂØπË±°","content":" ÂØπ‰∫éÂÖ∑Êúâ Rc&lt;dyn Trait&gt; Êàñ Arc&lt;dyn Trait&gt; ÁöÑÂ≠óÊÆµÔºåFory Ëá™Âä®Â§ÑÁêÜËΩ¨Êç¢Ôºö  use std::sync::Arc; use std::rc::Rc; use std::collections::HashMap; #[derive(ForyObject)] struct AnimalShelter { animals_rc: Vec&lt;Rc&lt;dyn Animal&gt;&gt;, animals_arc: Vec&lt;Arc&lt;dyn Animal&gt;&gt;, registry: HashMap&lt;String, Arc&lt;dyn Animal&gt;&gt;, } let mut fory = Fory::default().compatible(true); fory.register::&lt;Dog&gt;(100); fory.register::&lt;Cat&gt;(101); fory.register::&lt;AnimalShelter&gt;(102); let shelter = AnimalShelter { animals_rc: vec![ Rc::new(Dog { name: &quot;Rex&quot;.to_string(), breed: &quot;Golden&quot;.to_string() }), Rc::new(Cat { name: &quot;Mittens&quot;.to_string(), color: &quot;Gray&quot;.to_string() }), ], animals_arc: vec![ Arc::new(Dog { name: &quot;Buddy&quot;.to_string(), breed: &quot;Labrador&quot;.to_string() }), ], registry: HashMap::from([ (&quot;pet1&quot;.to_string(), Arc::new(Dog { name: &quot;Max&quot;.to_string(), breed: &quot;Shepherd&quot;.to_string() }) as Arc&lt;dyn Animal&gt;), ]), }; let bytes = fory.serialize(&amp;shelter); let decoded: AnimalShelter = fory.deserialize(&amp;bytes)?; assert_eq!(decoded.animals_rc[0].name(), &quot;Rex&quot;); assert_eq!(decoded.animals_arc[0].speak(), &quot;Woof!&quot;);   ","version":"0.15","tagName":"h2"},{"title":"Áã¨Á´ã Trait ÂØπË±°Â∫èÂàóÂåñ‚Äã","type":1,"pageTitle":"Trait ÂØπË±°Â∫èÂàóÂåñ","url":"/zh-CN/docs/guide/rust/polymorphism#Áã¨Á´ã-trait-ÂØπË±°Â∫èÂàóÂåñ","content":" Áî±‰∫é Rust ÁöÑÂ≠§ÂÑøËßÑÂàôÔºåRc&lt;dyn Trait&gt; Âíå Arc&lt;dyn Trait&gt; ‰∏çËÉΩÁõ¥Êé•ÂÆûÁé∞ Serializer„ÄÇÂØπ‰∫éÁã¨Á´ãÂ∫èÂàóÂåñÔºà‰∏çÂú®ÁªìÊûÑ‰ΩìÂ≠óÊÆµÂÜÖÔºâÔºåregister_trait_type! ÂÆèÁîüÊàêÂåÖË£ÖÁ±ªÂûã„ÄÇ  Ê≥®ÊÑèÔºö Â¶ÇÊûú‰∏çÊÉ≥‰ΩøÁî®ÂåÖË£ÖÁ±ªÂûãÔºåÂèØ‰ª•Êîπ‰∏∫Â∫èÂàóÂåñ‰∏∫ Rc&lt;dyn Any&gt; Êàñ Arc&lt;dyn Any&gt;ÔºàÂèÇËßÅ‰∏äÈù¢ÁöÑ dyn Any ÈÉ®ÂàÜÔºâ„ÄÇ  register_trait_type! ÂÆèÁîüÊàê AnimalRc Âíå AnimalArc ÂåÖË£ÖÁ±ªÂûãÔºö  // ÂØπ‰∫é Rc&lt;dyn Trait&gt; let dog_rc: Rc&lt;dyn Animal&gt; = Rc::new(Dog { name: &quot;Rex&quot;.to_string(), breed: &quot;Golden&quot;.to_string() }); let wrapper = AnimalRc::from(dog_rc); let bytes = fory.serialize(&amp;wrapper); let decoded: AnimalRc = fory.deserialize(&amp;bytes)?; // Ëß£ÂåÖÂõû Rc&lt;dyn Animal&gt; let unwrapped: Rc&lt;dyn Animal&gt; = decoded.unwrap(); assert_eq!(unwrapped.name(), &quot;Rex&quot;); // ÂØπ‰∫é Arc&lt;dyn Trait&gt; let dog_arc: Arc&lt;dyn Animal&gt; = Arc::new(Dog { name: &quot;Buddy&quot;.to_string(), breed: &quot;Labrador&quot;.to_string() }); let wrapper = AnimalArc::from(dog_arc); let bytes = fory.serialize(&amp;wrapper); let decoded: AnimalArc = fory.deserialize(&amp;bytes)?; let unwrapped: Arc&lt;dyn Animal&gt; = decoded.unwrap(); assert_eq!(unwrapped.name(), &quot;Buddy&quot;);   ","version":"0.15","tagName":"h2"},{"title":"ÊúÄ‰Ω≥ÂÆûË∑µ‚Äã","type":1,"pageTitle":"Trait ÂØπË±°Â∫èÂàóÂåñ","url":"/zh-CN/docs/guide/rust/polymorphism#ÊúÄ‰Ω≥ÂÆûË∑µ","content":" ‰ΩøÁî® register_trait_type! Ê≥®ÂÜåÊâÄÊúâ trait ÂÆûÁé∞ÂêØÁî® compatible Ê®°ÂºèÔºöÂØπ trait ÂØπË±°‰ΩøÁî® .compatible(true)Ê≥®ÂÜåÊâÄÊúâÂÖ∑‰ΩìÁ±ªÂûãÔºöÂú®Â∫èÂàóÂåñ‰πãÂâç‰ºòÂÖà‰ΩøÁî® dyn AnyÔºöÂØπ‰∫éÊõ¥ÁÆÄÂçïÁöÑÁã¨Á´ãÂ∫èÂàóÂåñ  ","version":"0.15","tagName":"h2"},{"title":"Áõ∏ÂÖ≥‰∏ªÈ¢ò‚Äã","type":1,"pageTitle":"Trait ÂØπË±°Â∫èÂàóÂåñ","url":"/zh-CN/docs/guide/rust/polymorphism#Áõ∏ÂÖ≥‰∏ªÈ¢ò","content":" ÂºïÁî® - Rc/Arc ÂÖ±‰∫´ÂºïÁî®Schema ÊºîÂåñ - Compatible Ê®°ÂºèÁ±ªÂûãÊ≥®ÂÜå - Ê≥®ÂÜåÁ±ªÂûã ","version":"0.15","tagName":"h2"},{"title":"Ë°åÊ†ºÂºè","type":0,"sectionRef":"#","url":"/zh-CN/docs/guide/rust/row_format","content":"","keywords":"","version":"0.15"},{"title":"Ê¶ÇËø∞‚Äã","type":1,"pageTitle":"Ë°åÊ†ºÂºè","url":"/zh-CN/docs/guide/rust/row_format#Ê¶ÇËø∞","content":" ‰∏éÂú®ÂÜÖÂ≠ò‰∏≠ÈáçÊûÑÂÆåÊï¥ÂØπË±°ÁöÑ‰º†ÁªüÂØπË±°Â∫èÂàóÂåñ‰∏çÂêåÔºåË°åÊ†ºÂºèÊîØÊåÅÁõ¥Êé•‰ªé‰∫åËøõÂà∂Êï∞ÊçÆÈöèÊú∫ËÆøÈóÆÂ≠óÊÆµÔºåÊó†ÈúÄÂÆåÊï¥ÂèçÂ∫èÂàóÂåñ„ÄÇ  ‰∏ªË¶Å‰ºòÂäøÔºö  Èõ∂Êã∑Ë¥ùËÆøÈóÆÔºöÊó†ÈúÄÂàÜÈÖçÊàñÂ§çÂà∂Êï∞ÊçÆÂç≥ÂèØËØªÂèñÂ≠óÊÆµÈÉ®ÂàÜÂèçÂ∫èÂàóÂåñÔºö‰ªÖËÆøÈóÆÊâÄÈúÄÁöÑÂ≠óÊÆµÂÜÖÂ≠òÊò†Â∞ÑÊñá‰ª∂ÔºöÂ§ÑÁêÜÂ§ß‰∫é RAM ÁöÑÊï∞ÊçÆÁºìÂ≠òÂèãÂ•ΩÔºöÈ°∫Â∫èÂÜÖÂ≠òÂ∏ÉÂ±Ä‰ª•ÊèêÈ´ò CPU ÁºìÂ≠òÂà©Áî®ÁéáÂª∂ËøüËÆ°ÁÆóÔºöÂ∞ÜÊòÇË¥µÁöÑÊìç‰ΩúÂª∂ËøüÂà∞Â≠óÊÆµËÆøÈóÆÊó∂  ","version":"0.15","tagName":"h2"},{"title":"‰ΩïÊó∂‰ΩøÁî®Ë°åÊ†ºÂºè‚Äã","type":1,"pageTitle":"Ë°åÊ†ºÂºè","url":"/zh-CN/docs/guide/rust/row_format#‰ΩïÊó∂‰ΩøÁî®Ë°åÊ†ºÂºè","content":" ÂÖ∑ÊúâÈÄâÊã©ÊÄßÂ≠óÊÆµËÆøÈóÆÁöÑÂàÜÊûêÂ∑•‰ΩúË¥üËΩΩ‰ªÖÈúÄË¶ÅÂ≠óÊÆµÂ≠êÈõÜÁöÑÂ§ßÂûãÊï∞ÊçÆÈõÜÂÜÖÂ≠òÂèóÈôêÁéØÂ¢ÉÈ´òÂêûÂêêÈáèÊï∞ÊçÆÁÆ°ÈÅì‰ªéÂÜÖÂ≠òÊò†Â∞ÑÊñá‰ª∂ÊàñÂÖ±‰∫´ÂÜÖÂ≠òËØªÂèñ  ","version":"0.15","tagName":"h2"},{"title":"Âü∫Á°ÄÁî®Ê≥ï‚Äã","type":1,"pageTitle":"Ë°åÊ†ºÂºè","url":"/zh-CN/docs/guide/rust/row_format#Âü∫Á°ÄÁî®Ê≥ï","content":" use fory::{to_row, from_row}; use fory::ForyRow; use std::collections::BTreeMap; #[derive(ForyRow)] struct UserProfile { id: i64, username: String, email: String, scores: Vec&lt;i32&gt;, preferences: BTreeMap&lt;String, String&gt;, is_active: bool, } let profile = UserProfile { id: 12345, username: &quot;alice&quot;.to_string(), email: &quot;alice@example.com&quot;.to_string(), scores: vec![95, 87, 92, 88], preferences: BTreeMap::from([ (&quot;theme&quot;.to_string(), &quot;dark&quot;.to_string()), (&quot;language&quot;.to_string(), &quot;en&quot;.to_string()), ]), is_active: true, }; // Â∫èÂàóÂåñ‰∏∫Ë°åÊ†ºÂºè let row_data = to_row(&amp;profile); // Èõ∂Êã∑Ë¥ùÂèçÂ∫èÂàóÂåñ - Êó†ÂØπË±°ÂàÜÈÖçÔºÅ let row = from_row::&lt;UserProfile&gt;(&amp;row_data); // Áõ¥Êé•‰ªé‰∫åËøõÂà∂Êï∞ÊçÆËÆøÈóÆÂ≠óÊÆµ assert_eq!(row.id(), 12345); assert_eq!(row.username(), &quot;alice&quot;); assert_eq!(row.email(), &quot;alice@example.com&quot;); assert_eq!(row.is_active(), true); // È´òÊïàËÆøÈóÆÈõÜÂêà let scores = row.scores(); assert_eq!(scores.size(), 4); assert_eq!(scores.get(0), 95); assert_eq!(scores.get(1), 87); let prefs = row.preferences(); assert_eq!(prefs.keys().size(), 2); assert_eq!(prefs.keys().get(0), &quot;language&quot;); assert_eq!(prefs.values().get(0), &quot;en&quot;);   ","version":"0.15","tagName":"h2"},{"title":"Â∑•‰ΩúÂéüÁêÜ‚Äã","type":1,"pageTitle":"Ë°åÊ†ºÂºè","url":"/zh-CN/docs/guide/rust/row_format#Â∑•‰ΩúÂéüÁêÜ","content":" Â≠óÊÆµÂú®‰∫åËøõÂà∂Ë°å‰∏≠ÁºñÁ†ÅÔºåÂéüÂßãÁ±ªÂûã‰ΩøÁî®Âõ∫ÂÆöÂÅèÁßªÈáèÂèòÈïøÊï∞ÊçÆÔºàÂ≠óÁ¨¶‰∏≤„ÄÅÈõÜÂêàÔºâ‰ΩøÁî®ÂÅèÁßªÊåáÈíàÂ≠òÂÇ®Null ‰ΩçÂõæË∑üË∏™Âì™‰∫õÂ≠óÊÆµÂ≠òÂú®ÈÄöËøáÈÄíÂΩíË°åÁºñÁ†ÅÊîØÊåÅÂµåÂ•óÁªìÊûÑ  ","version":"0.15","tagName":"h2"},{"title":"ÊÄßËÉΩÊØîËæÉ‚Äã","type":1,"pageTitle":"Ë°åÊ†ºÂºè","url":"/zh-CN/docs/guide/rust/row_format#ÊÄßËÉΩÊØîËæÉ","content":" Êìç‰Ωú\tÂØπË±°Ê†ºÂºè\tË°åÊ†ºÂºèÂÆåÊï¥ÂèçÂ∫èÂàóÂåñ\tÂàÜÈÖçÊâÄÊúâÂØπË±°\tÈõ∂ÂàÜÈÖç ÂçïÂ≠óÊÆµËÆøÈóÆ\tÈúÄË¶ÅÂÆåÊï¥ÂèçÂ∫èÂàóÂåñ\tÁõ¥Êé•ÂÅèÁßªËØªÂèñ ÂÜÖÂ≠ò‰ΩøÁî®\tÂÜÖÂ≠ò‰∏≠ÁöÑÂÆåÊï¥ÂØπË±°Âõæ\t‰ªÖÂ∑≤ËÆøÈóÆÂ≠óÊÆµÂú®ÂÜÖÂ≠ò‰∏≠ ÈÄÇÁî®‰∫é\tÂ∞èÂØπË±°ÔºåÂÆåÊï¥ËÆøÈóÆ\tÂ§ßÂØπË±°ÔºåÈÄâÊã©ÊÄßËÆøÈóÆ  ","version":"0.15","tagName":"h2"},{"title":"ForyRow vs ForyObject‚Äã","type":1,"pageTitle":"Ë°åÊ†ºÂºè","url":"/zh-CN/docs/guide/rust/row_format#foryrow-vs-foryobject","content":" ÂäüËÉΩ\t#[derive(ForyRow)]\t#[derive(ForyObject)]ÂèçÂ∫èÂàóÂåñ\tÈõ∂Êã∑Ë¥ùÔºåÂª∂Ëøü\tÂÆåÊï¥ÂØπË±°ÈáçÊûÑ Â≠óÊÆµËÆøÈóÆ\tÁõ¥Êé•‰ªé‰∫åËøõÂà∂\tÊ≠£Â∏∏ÁªìÊûÑ‰ΩìËÆøÈóÆ ÂÜÖÂ≠ò‰ΩøÁî®\tÊúÄÂ∞è\tÂÆåÊï¥ÂØπË±° ÊúÄÈÄÇÂêà\tÂàÜÊûêÔºåÂ§ßÊï∞ÊçÆ\tÈÄöÁî®Â∫èÂàóÂåñ  ","version":"0.15","tagName":"h2"},{"title":"Áõ∏ÂÖ≥‰∏ªÈ¢ò‚Äã","type":1,"pageTitle":"Ë°åÊ†ºÂºè","url":"/zh-CN/docs/guide/rust/row_format#Áõ∏ÂÖ≥‰∏ªÈ¢ò","content":" Âü∫Á°ÄÂ∫èÂàóÂåñ - ÂØπË±°ÂõæÂ∫èÂàóÂåñË∑®ËØ≠Ë®Ä - Ë∑®ËØ≠Ë®ÄÁöÑË°åÊ†ºÂºèË°åÊ†ºÂºèËßÑËåÉ - ÂçèËÆÆÁªÜËäÇ ","version":"0.15","tagName":"h2"},{"title":"ÊïÖÈöúÊéíÈô§","type":0,"sectionRef":"#","url":"/zh-CN/docs/guide/rust/troubleshooting","content":"","keywords":"","version":"0.15"},{"title":"Â∏∏ËßÅÈóÆÈ¢ò‚Äã","type":1,"pageTitle":"ÊïÖÈöúÊéíÈô§","url":"/zh-CN/docs/guide/rust/troubleshooting#Â∏∏ËßÅÈóÆÈ¢ò","content":" ","version":"0.15","tagName":"h2"},{"title":"Á±ªÂûãÊ≥®ÂÜåË°®ÈîôËØØ‚Äã","type":1,"pageTitle":"ÊïÖÈöúÊéíÈô§","url":"/zh-CN/docs/guide/rust/troubleshooting#Á±ªÂûãÊ≥®ÂÜåË°®ÈîôËØØ","content":" ÈîôËØØÔºöTypeId ... not found in type_info registry  ÂéüÂõ†ÔºöËØ•Á±ªÂûã‰ªéÊú™Âú®ÂΩìÂâç Fory ÂÆû‰æã‰∏≠Ê≥®ÂÜå„ÄÇ  Ëß£ÂÜ≥ÊñπÊ°àÔºöÂú®Â∫èÂàóÂåñ‰πãÂâçÊ≥®ÂÜåÁ±ªÂûãÔºö  let mut fory = Fory::default(); fory.register::&lt;MyStruct&gt;(100)?; // ‰ΩøÁî®ÂâçÊ≥®ÂÜå   Á°ÆËÆ§Ôºö  ÊØè‰∏™ÂèØÂ∫èÂàóÂåñÁöÑÁªìÊûÑ‰ΩìÊàñ trait ÂÆûÁé∞ÈÉΩË∞ÉÁî® fory.register::&lt;T&gt;(type_id)Âú®ÂèçÂ∫èÂàóÂåñÁ´ØÈáçÁî®Áõ∏ÂêåÁöÑ ID  ","version":"0.15","tagName":"h3"},{"title":"Á±ªÂûã‰∏çÂåπÈÖçÈîôËØØ‚Äã","type":1,"pageTitle":"ÊïÖÈöúÊéíÈô§","url":"/zh-CN/docs/guide/rust/troubleshooting#Á±ªÂûã‰∏çÂåπÈÖçÈîôËØØ","content":" ÂéüÂõ†ÔºöÂ≠óÊÆµÁ±ªÂûã‰∏çÂÖºÂÆπÊàñ schema Â∑≤Êõ¥Êîπ„ÄÇ  Ëß£ÂÜ≥ÊñπÊ°àÔºö  ÂêØÁî® compatible Ê®°Âºè‰ª•ÊîØÊåÅ schema ÊºîÂåñÁ°Æ‰øùË∑®ÁâàÊú¨Â≠óÊÆµÁ±ªÂûãÂåπÈÖç  let fory = Fory::default().compatible(true);   ","version":"0.15","tagName":"h3"},{"title":"Ë∞ÉËØïÊäÄÊúØ‚Äã","type":1,"pageTitle":"ÊïÖÈöúÊéíÈô§","url":"/zh-CN/docs/guide/rust/troubleshooting#Ë∞ÉËØïÊäÄÊúØ","content":" ","version":"0.15","tagName":"h2"},{"title":"ÂêØÁî®ÈîôËØØÊó∂ Panic ‰ª•Ëé∑ÂèñÂõûÊ∫Ø‚Äã","type":1,"pageTitle":"ÊïÖÈöúÊéíÈô§","url":"/zh-CN/docs/guide/rust/troubleshooting#ÂêØÁî®ÈîôËØØÊó∂-panic-‰ª•Ëé∑ÂèñÂõûÊ∫Ø","content":" Âú® RUST_BACKTRACE=1 ÊóÅËæπÂàáÊç¢ FORY_PANIC_ON_ERROR=1ÔºåÂú®ÊûÑÈÄ†ÈîôËØØÁöÑÁ°ÆÂàá‰ΩçÁΩÆ panicÔºö  RUST_BACKTRACE=1 FORY_PANIC_ON_ERROR=1 cargo test --features tests   ‰πãÂêéÈáçÁΩÆËØ•ÂèòÈáè‰ª•ÈÅøÂÖç‰∏≠Ê≠¢Èù¢ÂêëÁî®Êà∑ÁöÑ‰ª£Á†ÅË∑ØÂæÑ„ÄÇ  ","version":"0.15","tagName":"h3"},{"title":"ÁªìÊûÑ‰ΩìÂ≠óÊÆµË∑üË∏™‚Äã","type":1,"pageTitle":"ÊïÖÈöúÊéíÈô§","url":"/zh-CN/docs/guide/rust/troubleshooting#ÁªìÊûÑ‰ΩìÂ≠óÊÆµË∑üË∏™","content":" Âú® #[derive(ForyObject)] ÊóÅËæπÊ∑ªÂä† #[fory(debug)] Â±ûÊÄß‰ª•ÂèëÂá∫Èí©Â≠êË∞ÉÁî®Ôºö  #[derive(ForyObject)] #[fory(debug)] struct MyStruct { field1: i32, field2: String, }   ‰ΩøÁî®Ë∞ÉËØïÈí©Â≠êÁºñËØëÂêéÔºåË∞ÉÁî®Ëøô‰∫õÂáΩÊï∞‰ª•ÊèíÂÖ•Ëá™ÂÆö‰πâÂõûË∞ÉÔºö  set_before_write_field_funcset_after_write_field_funcset_before_read_field_funcset_after_read_field_func  ÂΩì‰Ω†ÊÉ≥Ë¶ÅÊÅ¢Â§çÈªòËÆ§ÂÄºÊó∂Ôºå‰ΩøÁî® reset_struct_debug_hooks()„ÄÇ  ","version":"0.15","tagName":"h3"},{"title":"ËΩªÈáèÁ∫ßÊó•Âøó‚Äã","type":1,"pageTitle":"ÊïÖÈöúÊéíÈô§","url":"/zh-CN/docs/guide/rust/troubleshooting#ËΩªÈáèÁ∫ßÊó•Âøó","content":" Âú®Ê≤°ÊúâËá™ÂÆö‰πâÈí©Â≠êÁöÑÊÉÖÂÜµ‰∏ãÔºåÂêØÁî® ENABLE_FORY_DEBUG_OUTPUT=1 ‰ª•ÊâìÂç∞Â≠óÊÆµÁ∫ßËØª/ÂÜô‰∫ã‰ª∂Ôºö  ENABLE_FORY_DEBUG_OUTPUT=1 cargo test --features tests   ËøôÂú®Ë∞ÉÊü•ÂØπÈΩêÊàñÊ∏∏Ê†á‰∏çÂåπÈÖçÊó∂ÁâπÂà´ÊúâÁî®„ÄÇ  ","version":"0.15","tagName":"h3"},{"title":"Ê£ÄÊü•ÁîüÊàêÁöÑ‰ª£Á†Å‚Äã","type":1,"pageTitle":"ÊïÖÈöúÊéíÈô§","url":"/zh-CN/docs/guide/rust/troubleshooting#Ê£ÄÊü•ÁîüÊàêÁöÑ‰ª£Á†Å","content":" ‰ΩøÁî® cargo expand Ê£ÄÊü• Fory derive ÂÆèÁîüÊàêÁöÑ‰ª£Á†ÅÔºö  cargo expand --test mod $mod$::$file$ &gt; expanded.rs   ","version":"0.15","tagName":"h3"},{"title":"ËøêË°åÊµãËØï‚Äã","type":1,"pageTitle":"ÊïÖÈöúÊéíÈô§","url":"/zh-CN/docs/guide/rust/troubleshooting#ËøêË°åÊµãËØï","content":" ","version":"0.15","tagName":"h2"},{"title":"ËøêË°åÊâÄÊúâÊµãËØï‚Äã","type":1,"pageTitle":"ÊïÖÈöúÊéíÈô§","url":"/zh-CN/docs/guide/rust/troubleshooting#ËøêË°åÊâÄÊúâÊµãËØï","content":" cargo test --features tests   ","version":"0.15","tagName":"h3"},{"title":"ËøêË°åÁâπÂÆöÊµãËØï‚Äã","type":1,"pageTitle":"ÊïÖÈöúÊéíÈô§","url":"/zh-CN/docs/guide/rust/troubleshooting#ËøêË°åÁâπÂÆöÊµãËØï","content":" cargo test -p tests --test $test_file $test_method   ","version":"0.15","tagName":"h3"},{"title":"‰ΩøÁî®Ë∞ÉËØïËøêË°åÊµãËØï‚Äã","type":1,"pageTitle":"ÊïÖÈöúÊéíÈô§","url":"/zh-CN/docs/guide/rust/troubleshooting#‰ΩøÁî®Ë∞ÉËØïËøêË°åÊµãËØï","content":" RUST_BACKTRACE=1 FORY_PANIC_ON_ERROR=1 ENABLE_FORY_DEBUG_OUTPUT=1 \\ cargo test --test mod $dir$::$test_file::$test_method -- --nocapture   ","version":"0.15","tagName":"h3"},{"title":"ÊµãËØïÊó∂ÁöÑÂç´Áîü‚Äã","type":1,"pageTitle":"ÊïÖÈöúÊéíÈô§","url":"/zh-CN/docs/guide/rust/troubleshooting#ÊµãËØïÊó∂ÁöÑÂç´Áîü","content":" ‰∏Ä‰∫õÈõÜÊàêÊµãËØïÊúüÊúõ FORY_PANIC_ON_ERROR ‰øùÊåÅÊú™ËÆæÁΩÆÁä∂ÊÄÅ„ÄÇ‰ªÖÂú®ÈõÜ‰∏≠Ë∞ÉËØï‰ºöËØùÊó∂ÂØºÂá∫ÂÆÉÔºö  # ‰ªÖÁî®‰∫éÁâπÂÆöË∞ÉËØï FORY_PANIC_ON_ERROR=1 cargo test -p tests --test specific_test -- --nocapture # Ê≠£Â∏∏ÊµãËØïËøêË°åÔºà‰∏çÂú®ÈîôËØØÊó∂ panicÔºâ cargo test --features tests   ","version":"0.15","tagName":"h2"},{"title":"ÈîôËØØÂ§ÑÁêÜÊúÄ‰Ω≥ÂÆûË∑µ‚Äã","type":1,"pageTitle":"ÊïÖÈöúÊéíÈô§","url":"/zh-CN/docs/guide/rust/troubleshooting#ÈîôËØØÂ§ÑÁêÜÊúÄ‰Ω≥ÂÆûË∑µ","content":" ‰ºòÂÖà‰ΩøÁî® fory_core::error::Error ‰∏äÁöÑÈùôÊÄÅÊûÑÈÄ†ÂáΩÊï∞Ôºö  Error::type_mismatchError::invalid_dataError::unknown  ËøôÊ†∑ÂèØ‰ª•‰øùÊåÅËØäÊñ≠ÁöÑ‰∏ÄËá¥ÊÄßÔºåÂπ∂‰ΩøÈÄâÊã©ÊÄß panic Ê≠£Á°ÆÂ∑•‰Ωú„ÄÇ  ","version":"0.15","tagName":"h2"},{"title":"Âø´ÈÄüÂèÇËÄÉ‚Äã","type":1,"pageTitle":"ÊïÖÈöúÊéíÈô§","url":"/zh-CN/docs/guide/rust/troubleshooting#Âø´ÈÄüÂèÇËÄÉ","content":" ÁéØÂ¢ÉÂèòÈáè\tÁõÆÁöÑRUST_BACKTRACE=1\tÂêØÁî®Â†ÜÊ†àË∑üË∏™ FORY_PANIC_ON_ERROR=1\tÂú®ÈîôËØØ‰ΩçÁΩÆ panic ‰ª•Ë∞ÉËØï ENABLE_FORY_DEBUG_OUTPUT=1\tÊâìÂç∞Â≠óÊÆµÁ∫ßËØª/ÂÜô‰∫ã‰ª∂  ","version":"0.15","tagName":"h2"},{"title":"Áõ∏ÂÖ≥‰∏ªÈ¢ò‚Äã","type":1,"pageTitle":"ÊïÖÈöúÊéíÈô§","url":"/zh-CN/docs/guide/rust/troubleshooting#Áõ∏ÂÖ≥‰∏ªÈ¢ò","content":" ÈÖçÁΩÆ - Fory ÈÄâÈ°πÁ±ªÂûãÊ≥®ÂÜå - Ê≥®ÂÜåÊúÄ‰Ω≥ÂÆûË∑µSchema ÊºîÂåñ - Compatible Ê®°Âºè ","version":"0.15","tagName":"h2"},{"title":"Scala Â∫èÂàóÂåñÊåáÂçó","type":0,"sectionRef":"#","url":"/zh-CN/docs/guide/scala/","content":"","keywords":"","version":"0.15"},{"title":"ÁâπÊÄß‚Äã","type":1,"pageTitle":"Scala Â∫èÂàóÂåñÊåáÂçó","url":"/zh-CN/docs/guide/scala/#ÁâπÊÄß","content":" Fory Scala ÁªßÊâø‰∫Ü Fory Java ÁöÑÊâÄÊúâÁâπÊÄßÔºåÂπ∂Â¢ûÂä†‰∫Ü Scala ÁâπÂÆöÁöÑ‰ºòÂåñÔºö  È´òÊÄßËÉΩÔºöJIT ‰ª£Á†ÅÁîüÊàê„ÄÅÈõ∂Êã∑Ë¥ù„ÄÅÊØî‰º†ÁªüÂ∫èÂàóÂåñÂø´ 20-170 ÂÄçScala Á±ªÂûãÊîØÊåÅÔºö‰∏∫ case Á±ª„ÄÅÂçï‰æã„ÄÅÈõÜÂêà„ÄÅÂÖÉÁªÑ„ÄÅOption„ÄÅEither Êèê‰æõ‰ºòÂåñÁöÑÂ∫èÂàóÂåñÂô®ÈªòËÆ§ÂÄºÊîØÊåÅÔºöÂú® schema ÊºîÂåñÊúüÈó¥Ëá™Âä®Â§ÑÁêÜ Scala Á±ªÁöÑÈªòËÆ§ÂèÇÊï∞Âçï‰æã‰øùÊåÅÔºöobject Âçï‰æãÂú®ÂèçÂ∫èÂàóÂåñÂêé‰øùÊåÅÂºïÁî®Áõ∏Á≠âÊÄßSchema ÊºîÂåñÔºöÊîØÊåÅÁ±ª schema ÂèòÊõ¥ÁöÑÂâçÂêë/ÂêéÂêëÂÖºÂÆπÊÄß  Êü•Áúã Java ÁâπÊÄßËé∑ÂèñÂÆåÊï¥ÁâπÊÄßÂàóË°®„ÄÇ  ","version":"0.15","tagName":"h2"},{"title":"ÂÆâË£Ö‚Äã","type":1,"pageTitle":"Scala Â∫èÂàóÂåñÊåáÂçó","url":"/zh-CN/docs/guide/scala/#ÂÆâË£Ö","content":" ‰ΩøÁî® sbt Ê∑ªÂä†‰æùËµñÔºö  libraryDependencies += &quot;org.apache.fory&quot; %% &quot;fory-scala&quot; % &quot;0.14.1&quot;   ","version":"0.15","tagName":"h2"},{"title":"Âø´ÈÄüÂºÄÂßã‚Äã","type":1,"pageTitle":"Scala Â∫èÂàóÂåñÊåáÂçó","url":"/zh-CN/docs/guide/scala/#Âø´ÈÄüÂºÄÂßã","content":" import org.apache.fory.Fory import org.apache.fory.serializer.scala.ScalaSerializers case class Person(name: String, id: Long, github: String) case class Point(x: Int, y: Int, z: Int) object ScalaExample { // ÂàõÂª∫ÂêØÁî® Scala ‰ºòÂåñÁöÑ Fory val fory: Fory = Fory.builder() .withScalaOptimizationEnabled(true) .build() // ‰∏∫ Scala Ê≥®ÂÜå‰ºòÂåñÁöÑ Fory Â∫èÂàóÂåñÂô® ScalaSerializers.registerSerializers(fory) // Ê≥®ÂÜå‰Ω†ÁöÑÁ±ª fory.register(classOf[Person]) fory.register(classOf[Point]) def main(args: Array[String]): Unit = { val p = Person(&quot;Shawn Yang&quot;, 1, &quot;https://github.com/chaokunyang&quot;) println(fory.deserialize(fory.serialize(p))) println(fory.deserialize(fory.serialize(Point(1, 2, 3)))) } }   ","version":"0.15","tagName":"h2"},{"title":"ÊûÑÂª∫‰∫é Fory Java ‰πã‰∏ä‚Äã","type":1,"pageTitle":"Scala Â∫èÂàóÂåñÊåáÂçó","url":"/zh-CN/docs/guide/scala/#ÊûÑÂª∫‰∫é-fory-java-‰πã‰∏ä","content":" Fory Scala ÊûÑÂª∫Âú® Fory Java ‰πã‰∏ä„ÄÇÂ§ßÂ§öÊï∞ÈÖçÁΩÆÈÄâÈ°π„ÄÅÁâπÊÄßÂíåÊ¶ÇÂøµÈÉΩÁõ¥Êé•ÈÄÇÁî®‰∫é Scala„ÄÇËØ∑ÂèÇËÄÉ Java ÊñáÊ°£Ôºö  ÈÖçÁΩÆÈÄâÈ°π - ÊâÄÊúâ ForyBuilder ÈÄâÈ°πÂü∫Á°ÄÂ∫èÂàóÂåñ - Â∫èÂàóÂåñÊ®°ÂºèÂíå APIÁ±ªÂûãÊ≥®ÂÜå - Á±ªÊ≥®ÂÜåÂíåÂÆâÂÖ®ÊÄßSchema ÊºîÂåñ - ÂâçÂêë/ÂêéÂêëÂÖºÂÆπÊÄßËá™ÂÆö‰πâÂ∫èÂàóÂåñÂô® - ÂÆûÁé∞Ëá™ÂÆö‰πâÂ∫èÂàóÂåñÂô®ÂéãÁº© - Int„ÄÅlong Âíå string ÂéãÁº©ÊïÖÈöúÊéíÊü• - Â∏∏ËßÅÈóÆÈ¢òÂíåËß£ÂÜ≥ÊñπÊ°à  ","version":"0.15","tagName":"h2"},{"title":"Scala ÁâπÂÆöÊñáÊ°£‚Äã","type":1,"pageTitle":"Scala Â∫èÂàóÂåñÊåáÂçó","url":"/zh-CN/docs/guide/scala/#scala-ÁâπÂÆöÊñáÊ°£","content":" Fory ÂàõÂª∫ - Scala ÁâπÂÆöÁöÑ Fory ËÆæÁΩÆË¶ÅÊ±ÇÁ±ªÂûãÂ∫èÂàóÂåñ - Â∫èÂàóÂåñ Scala Á±ªÂûãÈªòËÆ§ÂÄº - Scala Á±ªÈªòËÆ§ÂÄºÊîØÊåÅ ","version":"0.15","tagName":"h2"},{"title":"Á±ªÂûãÊ≥®ÂÜå","type":0,"sectionRef":"#","url":"/zh-CN/docs/guide/rust/type_registration","content":"","keywords":"","version":"0.15"},{"title":"Êåâ ID Ê≥®ÂÜå‚Äã","type":1,"pageTitle":"Á±ªÂûãÊ≥®ÂÜå","url":"/zh-CN/docs/guide/rust/type_registration#Êåâ-id-Ê≥®ÂÜå","content":" ‰ΩøÁî®Êï∞Â≠ó ID Ê≥®ÂÜåÁ±ªÂûã‰ª•ÂÆûÁé∞Âø´ÈÄü„ÄÅÁ¥ßÂáëÁöÑÂ∫èÂàóÂåñÔºö  use fory::Fory; use fory::ForyObject; #[derive(ForyObject)] struct User { name: String, age: i32, } let mut fory = Fory::default(); fory.register::&lt;User&gt;(1)?; let user = User { name: &quot;Alice&quot;.to_string(), age: 30, }; let bytes = fory.serialize(&amp;user)?; let decoded: User = fory.deserialize(&amp;bytes)?;   ","version":"0.15","tagName":"h2"},{"title":"ÊåâÂëΩÂêçÁ©∫Èó¥Ê≥®ÂÜå‚Äã","type":1,"pageTitle":"Á±ªÂûãÊ≥®ÂÜå","url":"/zh-CN/docs/guide/rust/type_registration#ÊåâÂëΩÂêçÁ©∫Èó¥Ê≥®ÂÜå","content":" ‰∏∫‰∫ÜË∑®ËØ≠Ë®ÄÂÖºÂÆπÊÄßÔºå‰ΩøÁî®ÂëΩÂêçÁ©∫Èó¥ÂíåÁ±ªÂûãÂêçÁß∞Ê≥®ÂÜåÔºö  let mut fory = Fory::default() .compatible(true) .xlang(true); // ‰ΩøÁî®Âü∫‰∫éÂëΩÂêçÁ©∫Èó¥ÁöÑÂëΩÂêçÊ≥®ÂÜå fory.register_by_namespace::&lt;MyStruct&gt;(&quot;com.example&quot;, &quot;MyStruct&quot;);   ","version":"0.15","tagName":"h2"},{"title":"Ê≥®ÂÜåËá™ÂÆö‰πâÂ∫èÂàóÂåñÂô®‚Äã","type":1,"pageTitle":"Á±ªÂûãÊ≥®ÂÜå","url":"/zh-CN/docs/guide/rust/type_registration#Ê≥®ÂÜåËá™ÂÆö‰πâÂ∫èÂàóÂåñÂô®","content":" ÂØπ‰∫éÈúÄË¶ÅËá™ÂÆö‰πâÂ∫èÂàóÂåñÈÄªËæëÁöÑÁ±ªÂûãÔºö  let mut fory = Fory::default(); fory.register_serializer::&lt;CustomType&gt;(100);   ","version":"0.15","tagName":"h2"},{"title":"Ê≥®ÂÜåÈ°∫Â∫è‚Äã","type":1,"pageTitle":"Á±ªÂûãÊ≥®ÂÜå","url":"/zh-CN/docs/guide/rust/type_registration#Ê≥®ÂÜåÈ°∫Â∫è","content":" ÂΩì‰ΩøÁî®Ê≤°ÊúâÊòæÂºè ID ÁöÑÂü∫‰∫é ID ÁöÑÊ≥®ÂÜåÊó∂ÔºåÊ≥®ÂÜåÈ°∫Â∫èÂæàÈáçË¶Å„ÄÇÁ°Æ‰øùÂ∫èÂàóÂåñÂíåÂèçÂ∫èÂàóÂåñ‰πãÈó¥ÁöÑÊ≥®ÂÜåÈ°∫Â∫è‰∏ÄËá¥Ôºö  // Â∫èÂàóÂåñÂô®Á´Ø let mut fory = Fory::default(); fory.register::&lt;TypeA&gt;(1)?; fory.register::&lt;TypeB&gt;(2)?; fory.register::&lt;TypeC&gt;(3)?; // ÂèçÂ∫èÂàóÂåñÂô®Á´Ø - ÂøÖÈ°ª‰ΩøÁî®Áõ∏ÂêåÈ°∫Â∫è let mut fory = Fory::default(); fory.register::&lt;TypeA&gt;(1)?; fory.register::&lt;TypeB&gt;(2)?; fory.register::&lt;TypeC&gt;(3)?;   ","version":"0.15","tagName":"h2"},{"title":"Á∫øÁ®ãÂÆâÂÖ®Ê≥®ÂÜå‚Äã","type":1,"pageTitle":"Á±ªÂûãÊ≥®ÂÜå","url":"/zh-CN/docs/guide/rust/type_registration#Á∫øÁ®ãÂÆâÂÖ®Ê≥®ÂÜå","content":" Âú®ÁîüÊàêÁ∫øÁ®ã‰πãÂâçÊâßË°åÊâÄÊúâÊ≥®ÂÜåÔºö  use std::sync::Arc; use std::thread; let mut fory = Fory::default(); fory.register::&lt;User&gt;(1)?; fory.register::&lt;Order&gt;(2)?; // Áé∞Âú®ÂèØ‰ª•Âú®Á∫øÁ®ãÈó¥ÂÖ±‰∫´ let fory = Arc::new(fory); let handles: Vec&lt;_&gt; = (0..4) .map(|_| { let shared = Arc::clone(&amp;fory); thread::spawn(move || { // ‰ΩøÁî® fory ËøõË°åÂ∫èÂàóÂåñ }) }) .collect();   ","version":"0.15","tagName":"h2"},{"title":"ÊúÄ‰Ω≥ÂÆûË∑µ‚Äã","type":1,"pageTitle":"Á±ªÂûãÊ≥®ÂÜå","url":"/zh-CN/docs/guide/rust/type_registration#ÊúÄ‰Ω≥ÂÆûË∑µ","content":" ‰ΩøÁî®‰∏ÄËá¥ÁöÑ IDÔºöÂú®ÊâÄÊúâËØ≠Ë®Ä‰∏≠‰∏∫Áõ∏ÂêåÁ±ªÂûã‰ΩøÁî®Áõ∏ÂêåÁöÑÁ±ªÂûã ID ‰ª•ÂÆûÁé∞Ë∑®ËØ≠Ë®ÄÂÖºÂÆπÊÄßÂú®Á∫øÁ®ãÂåñ‰πãÂâçÊ≥®ÂÜåÔºöÂú®ÁîüÊàêÁ∫øÁ®ã‰πãÂâçÂÆåÊàêÊâÄÊúâÊ≥®ÂÜåÂØπ xlang ‰ΩøÁî®ÂëΩÂêçÁ©∫Èó¥Ôºö‰ΩøÁ±ªÂûãÂêçÁß∞Âú®ÂêÑËØ≠Ë®Ä‰πãÈó¥‰øùÊåÅ‰∏ÄËá¥ÊòæÂºè ID ‰ª•‰øùÊåÅÁ®≥ÂÆöÊÄßÔºöÂú®Áîü‰∫ßÁéØÂ¢É‰∏≠ÈÅøÂÖçËá™Âä®ÁîüÊàêÁöÑ ID  ","version":"0.15","tagName":"h2"},{"title":"Áõ∏ÂÖ≥‰∏ªÈ¢ò‚Äã","type":1,"pageTitle":"Á±ªÂûãÊ≥®ÂÜå","url":"/zh-CN/docs/guide/rust/type_registration#Áõ∏ÂÖ≥‰∏ªÈ¢ò","content":" ÈÖçÁΩÆ - Fory ÊûÑÂª∫Âô®ÈÄâÈ°πË∑®ËØ≠Ë®Ä - XLANG Ê®°ÂºèÊ≥®ÂÜåËá™ÂÆö‰πâÂ∫èÂàóÂåñÂô® - Ëá™ÂÆö‰πâÂ∫èÂàóÂåñ ","version":"0.15","tagName":"h2"},{"title":"Schema ÊºîÂåñ","type":0,"sectionRef":"#","url":"/zh-CN/docs/guide/rust/schema_evolution","content":"","keywords":"","version":"0.15"},{"title":"Compatible Ê®°Âºè‚Äã","type":1,"pageTitle":"Schema ÊºîÂåñ","url":"/zh-CN/docs/guide/rust/schema_evolution#compatible-Ê®°Âºè","content":" ‰ΩøÁî® compatible(true) ÂêØÁî® schema ÊºîÂåñÔºö  use fory::Fory; use fory::ForyObject; use std::collections::HashMap; #[derive(ForyObject, Debug)] struct PersonV1 { name: String, age: i32, address: String, } #[derive(ForyObject, Debug)] struct PersonV2 { name: String, age: i32, // address Â∑≤ÁßªÈô§ // phone Â∑≤Ê∑ªÂä† phone: Option&lt;String&gt;, metadata: HashMap&lt;String, String&gt;, } let mut fory1 = Fory::default().compatible(true); fory1.register::&lt;PersonV1&gt;(1); let mut fory2 = Fory::default().compatible(true); fory2.register::&lt;PersonV2&gt;(1); let person_v1 = PersonV1 { name: &quot;Alice&quot;.to_string(), age: 30, address: &quot;123 Main St&quot;.to_string(), }; // ‰ΩøÁî® V1 Â∫èÂàóÂåñ let bytes = fory1.serialize(&amp;person_v1); // ‰ΩøÁî® V2 ÂèçÂ∫èÂàóÂåñ - Áº∫Â§±ÁöÑÂ≠óÊÆµËé∑ÂæóÈªòËÆ§ÂÄº let person_v2: PersonV2 = fory2.deserialize(&amp;bytes)?; assert_eq!(person_v2.name, &quot;Alice&quot;); assert_eq!(person_v2.age, 30); assert_eq!(person_v2.phone, None);   ","version":"0.15","tagName":"h2"},{"title":"Schema ÊºîÂåñÂäüËÉΩ‚Äã","type":1,"pageTitle":"Schema ÊºîÂåñ","url":"/zh-CN/docs/guide/rust/schema_evolution#schema-ÊºîÂåñÂäüËÉΩ","content":" Ê∑ªÂä†ÂÖ∑ÊúâÈªòËÆ§ÂÄºÁöÑÊñ∞Â≠óÊÆµÁßªÈô§ËøáÊó∂Â≠óÊÆµÔºàÂú®ÂèçÂ∫èÂàóÂåñÊúüÈó¥Ë∑≥ËøáÔºâÊõ¥ÊîπÂ≠óÊÆµÂèØÁ©∫ÊÄßÔºàT ‚Üî Option&lt;T&gt;ÔºâÈáçÊñ∞ÊéíÂ∫èÂ≠óÊÆµÔºàÊåâÂêçÁß∞ÂåπÈÖçÔºåËÄåÈùû‰ΩçÁΩÆÔºâÂØπÁº∫Â§±Â≠óÊÆµÁöÑÁ±ªÂûãÂÆâÂÖ®ÂõûÈÄÄÂà∞ÈªòËÆ§ÂÄº  ","version":"0.15","tagName":"h2"},{"title":"ÂÖºÂÆπÊÄßËßÑÂàô‚Äã","type":1,"pageTitle":"Schema ÊºîÂåñ","url":"/zh-CN/docs/guide/rust/schema_evolution#ÂÖºÂÆπÊÄßËßÑÂàô","content":" Â≠óÊÆµÂêçÁß∞ÂøÖÈ°ªÂåπÈÖçÔºàÂå∫ÂàÜÂ§ßÂ∞èÂÜôÔºâ‰∏çÊîØÊåÅÁ±ªÂûãÊõ¥ÊîπÔºàÂèØÁ©∫/ÈùûÂèØÁ©∫Èô§Â§ñÔºâÂµåÂ•óÁªìÊûÑ‰ΩìÁ±ªÂûãÂøÖÈ°ªÂú®‰∏§Á´ØÈÉΩÊ≥®ÂÜå  ","version":"0.15","tagName":"h2"},{"title":"Êûö‰∏æÊîØÊåÅ‚Äã","type":1,"pageTitle":"Schema ÊºîÂåñ","url":"/zh-CN/docs/guide/rust/schema_evolution#Êûö‰∏æÊîØÊåÅ","content":" Apache Fory‚Ñ¢ ÊîØÊåÅ‰∏âÁßçÁ±ªÂûãÁöÑÊûö‰∏æÂèò‰ΩìÔºåÂú® Compatible Ê®°Âºè‰∏ãÂÖ∑ÊúâÂÆåÊï¥ÁöÑ schema ÊºîÂåñÊîØÊåÅÔºö  Âèò‰ΩìÁ±ªÂûãÔºö  UnitÔºöC È£éÊ†ºÊûö‰∏æÔºàStatus::ActiveÔºâUnnamedÔºöÂÖÉÁªÑÈ£éÊ†ºÂèò‰ΩìÔºàMessage::Pair(String, i32)ÔºâNamedÔºöÁªìÊûÑ‰ΩìÈ£éÊ†ºÂèò‰ΩìÔºàEvent::Click { x: i32, y: i32 }Ôºâ  use fory::{Fory, ForyObject}; #[derive(Default, ForyObject, Debug, PartialEq)] enum Value { #[default] Null, Bool(bool), Number(f64), Text(String), Object { name: String, value: i32 }, } let mut fory = Fory::default(); fory.register::&lt;Value&gt;(1)?; let value = Value::Object { name: &quot;score&quot;.to_string(), value: 100 }; let bytes = fory.serialize(&amp;value)?; let decoded: Value = fory.deserialize(&amp;bytes)?; assert_eq!(value, decoded);   ","version":"0.15","tagName":"h2"},{"title":"Êûö‰∏æ Schema ÊºîÂåñ‚Äã","type":1,"pageTitle":"Schema ÊºîÂåñ","url":"/zh-CN/docs/guide/rust/schema_evolution#Êûö‰∏æ-schema-ÊºîÂåñ","content":" Compatible Ê®°ÂºèÈÄöËøáÂèò‰ΩìÁ±ªÂûãÁºñÁ†ÅÔºà2 ‰ΩçÔºâÂÆûÁé∞Âº∫Â§ßÁöÑ schema ÊºîÂåñÔºö  0b0 = UnitÔºå0b1 = UnnamedÔºå0b10 = Named  use fory::{Fory, ForyObject}; // ÊóßÁâàÊú¨ #[derive(ForyObject)] enum OldEvent { Click { x: i32, y: i32 }, Scroll { delta: f64 }, } // Êñ∞ÁâàÊú¨ - Ê∑ªÂä†‰∫ÜÂ≠óÊÆµÂíåÂèò‰Ωì #[derive(Default, ForyObject)] enum NewEvent { #[default] Unknown, Click { x: i32, y: i32, timestamp: u64 }, // Ê∑ªÂä†‰∫ÜÂ≠óÊÆµ Scroll { delta: f64 }, KeyPress(String), // Êñ∞Âèò‰Ωì } let mut fory = Fory::builder().compatible().build(); // ‰ΩøÁî®Êóß schema Â∫èÂàóÂåñ let old_bytes = fory.serialize(&amp;OldEvent::Click { x: 100, y: 200 })?; // ‰ΩøÁî®Êñ∞ schema ÂèçÂ∫èÂàóÂåñ - timestamp Ëé∑ÂæóÈªòËÆ§ÂÄº (0) let new_event: NewEvent = fory.deserialize(&amp;old_bytes)?; assert!(matches!(new_event, NewEvent::Click { x: 100, y: 200, timestamp: 0 }));   ÊºîÂåñËÉΩÂäõÔºö  Êú™Áü•Âèò‰Ωì ‚Üí ÂõûÈÄÄÂà∞ÈªòËÆ§Âèò‰ΩìNamed Âèò‰ΩìÂ≠óÊÆµ ‚Üí Ê∑ªÂä†/ÁßªÈô§Â≠óÊÆµÔºàÁº∫Â§±Â≠óÊÆµ‰ΩøÁî®ÈªòËÆ§ÂÄºÔºâUnnamed Âèò‰ΩìÂÖÉÁ¥† ‚Üí Ê∑ªÂä†/ÁßªÈô§ÂÖÉÁ¥†ÔºàÈ¢ùÂ§ñÁöÑË∑≥ËøáÔºåÁº∫Â§±ÁöÑ‰ΩøÁî®ÈªòËÆ§ÂÄºÔºâÂèò‰ΩìÁ±ªÂûã‰∏çÂåπÈÖç ‚Üí Ëá™Âä®‰ΩøÁî®ÂΩìÂâçÂèò‰ΩìÁöÑÈªòËÆ§ÂÄº  ÊúÄ‰Ω≥ÂÆûË∑µÔºö  ÂßãÁªà‰ΩøÁî® #[default] Ê†áËÆ∞ÈªòËÆ§Âèò‰ΩìNamed Âèò‰ΩìÊØî unnamed Âèò‰ΩìÊèê‰æõÊõ¥Â•ΩÁöÑÊºîÂåñËÉΩÂäõÂØπË∑®ÁâàÊú¨ÈÄö‰ø°‰ΩøÁî® compatible Ê®°Âºè  ","version":"0.15","tagName":"h3"},{"title":"ÂÖÉÁªÑÊîØÊåÅ‚Äã","type":1,"pageTitle":"Schema ÊºîÂåñ","url":"/zh-CN/docs/guide/rust/schema_evolution#ÂÖÉÁªÑÊîØÊåÅ","content":" Apache Fory‚Ñ¢ Âú®ÂÖºÂÆπÂíåÈùûÂÖºÂÆπÊ®°Âºè‰∏ãÂùáÊîØÊåÅÊúÄÂ§ö 22 ‰∏™ÂÖÉÁ¥†ÁöÑÂÖÉÁªÑÔºåÂπ∂ÂÖ∑ÊúâÈ´òÊïàÁöÑÂ∫èÂàóÂåñ„ÄÇ  ÂäüËÉΩÔºö  ÂØπ 1 Âà∞ 22 ‰∏™ÂÖÉÁ¥†ÁöÑÂÖÉÁªÑËá™Âä®Â∫èÂàóÂåñÂºÇÊûÑÁ±ªÂûãÊîØÊåÅÔºàÊØè‰∏™ÂÖÉÁ¥†ÂèØ‰ª•ÊòØ‰∏çÂêåÁöÑÁ±ªÂûãÔºâCompatible Ê®°Âºè‰∏ãÁöÑ schema ÊºîÂåñÔºàÂ§ÑÁêÜÁº∫Â§±/È¢ùÂ§ñÂÖÉÁ¥†Ôºâ  Â∫èÂàóÂåñÊ®°ÂºèÔºö  ÈùûÂÖºÂÆπÊ®°ÂºèÔºöÊåâÈ°∫Â∫èÂ∫èÂàóÂåñÂÖÉÁ¥†Ôºå‰∏ç‰ΩøÁî®ÈõÜÂêàÂ§¥ÈÉ®Ôºå‰ª•ÂÆûÁé∞ÊúÄÂ∞èÂºÄÈîÄCompatible Ê®°ÂºèÔºö‰ΩøÁî®Â∏¶ÊúâÁ±ªÂûãÂÖÉÊï∞ÊçÆÁöÑÈõÜÂêàÂçèËÆÆ‰ª•ÊîØÊåÅ schema ÊºîÂåñ  use fory::{Fory, Error}; let mut fory = Fory::default(); // ÂÖ∑ÊúâÂºÇÊûÑÁ±ªÂûãÁöÑÂÖÉÁªÑ let data: (i32, String, bool, Vec&lt;i32&gt;) = ( 42, &quot;hello&quot;.to_string(), true, vec![1, 2, 3], ); let bytes = fory.serialize(&amp;data)?; let decoded: (i32, String, bool, Vec&lt;i32&gt;) = fory.deserialize(&amp;bytes)?; assert_eq!(data, decoded);   ","version":"0.15","tagName":"h2"},{"title":"Áõ∏ÂÖ≥‰∏ªÈ¢ò‚Äã","type":1,"pageTitle":"Schema ÊºîÂåñ","url":"/zh-CN/docs/guide/rust/schema_evolution#Áõ∏ÂÖ≥‰∏ªÈ¢ò","content":" ÈÖçÁΩÆ - ÂêØÁî® compatible Ê®°ÂºèÂ§öÊÄÅ - ÂÖ∑Êúâ schema ÊºîÂåñÁöÑ Trait ÂØπË±°Ë∑®ËØ≠Ë®Ä - Ë∑®ËØ≠Ë®ÄÁöÑ schema ÊºîÂåñ ","version":"0.15","tagName":"h2"},{"title":"Fory ÂàõÂª∫","type":0,"sectionRef":"#","url":"/zh-CN/docs/guide/scala/fory_creation","content":"","keywords":"","version":"0.15"},{"title":"Âü∫Á°ÄËÆæÁΩÆ‚Äã","type":1,"pageTitle":"Fory ÂàõÂª∫","url":"/zh-CN/docs/guide/scala/fory_creation#Âü∫Á°ÄËÆæÁΩÆ","content":" ‰ΩøÁî® Fory ËøõË°å Scala Â∫èÂàóÂåñÊó∂ÔºåÂøÖÈ°ªÔºö  ÈÄöËøá withScalaOptimizationEnabled(true) ÂêØÁî® Scala ‰ºòÂåñÈÄöËøá ScalaSerializers.registerSerializers(fory) Ê≥®ÂÜå Scala Â∫èÂàóÂåñÂô®  import org.apache.fory.Fory import org.apache.fory.serializer.scala.ScalaSerializers val fory = Fory.builder() .withScalaOptimizationEnabled(true) .build() // ‰∏∫ Scala Ê≥®ÂÜå‰ºòÂåñÁöÑ Fory Â∫èÂàóÂåñÂô® ScalaSerializers.registerSerializers(fory)   ","version":"0.15","tagName":"h2"},{"title":"Ê≥®ÂÜå Scala ÂÜÖÈÉ®Á±ªÂûã‚Äã","type":1,"pageTitle":"Fory ÂàõÂª∫","url":"/zh-CN/docs/guide/scala/fory_creation#Ê≥®ÂÜå-scala-ÂÜÖÈÉ®Á±ªÂûã","content":" Ê†πÊçÆÂ∫èÂàóÂåñÁöÑÂØπË±°Á±ªÂûãÔºåÂèØËÉΩÈúÄË¶ÅÊ≥®ÂÜå‰∏Ä‰∫õ Scala ÂÜÖÈÉ®Á±ªÂûãÔºö  fory.register(Class.forName(&quot;scala.Enumeration.Val&quot;))   ‰∏∫ÈÅøÂÖçËøôÁßçÊ≥®ÂÜåÔºåÂèØ‰ª•Á¶ÅÁî®Á±ªÊ≥®ÂÜåÔºö  val fory = Fory.builder() .withScalaOptimizationEnabled(true) .requireClassRegistration(false) .build()   Ê≥®ÊÑèÔºöÁ¶ÅÁî®Á±ªÊ≥®ÂÜåÂÖÅËÆ∏ÂèçÂ∫èÂàóÂåñÊú™Áü•Á±ªÂûã„ÄÇËøôÊõ¥Âä†ÁÅµÊ¥ªÔºå‰ΩÜÂ¶ÇÊûúÁ±ªÂåÖÂê´ÊÅ∂ÊÑè‰ª£Á†ÅÂèØËÉΩ‰∏çÂÆâÂÖ®„ÄÇ  ","version":"0.15","tagName":"h2"},{"title":"ÂºïÁî®Ë∑üË∏™‚Äã","type":1,"pageTitle":"Fory ÂàõÂª∫","url":"/zh-CN/docs/guide/scala/fory_creation#ÂºïÁî®Ë∑üË∏™","content":" Âæ™ÁéØÂºïÁî®Âú® Scala ‰∏≠ÂæàÂ∏∏ËßÅ„ÄÇÂ∫îËØ•‰ΩøÁî® withRefTracking(true) ÂêØÁî®ÂºïÁî®Ë∑üË∏™Ôºö  val fory = Fory.builder() .withScalaOptimizationEnabled(true) .withRefTracking(true) .build()   Ê≥®ÊÑèÔºöÂ¶ÇÊûú‰∏çÂêØÁî®ÂºïÁî®Ë∑üË∏™ÔºåÂú®Êüê‰∫õ Scala ÁâàÊú¨‰∏≠Â∫èÂàóÂåñ Scala Enumeration Êó∂ÂèØËÉΩ‰ºöÂá∫Áé∞ StackOverflowError„ÄÇ  ","version":"0.15","tagName":"h2"},{"title":"Á∫øÁ®ãÂÆâÂÖ®‚Äã","type":1,"pageTitle":"Fory ÂàõÂª∫","url":"/zh-CN/docs/guide/scala/fory_creation#Á∫øÁ®ãÂÆâÂÖ®","content":" Fory ÂÆû‰æãÁöÑÂàõÂª∫ÊàêÊú¨‰∏ç‰Ωé„ÄÇÂÆû‰æãÂ∫îËØ•Âú®Â§öÊ¨°Â∫èÂàóÂåñ‰πãÈó¥ÂÖ±‰∫´„ÄÇ  ","version":"0.15","tagName":"h2"},{"title":"ÂçïÁ∫øÁ®ã‰ΩøÁî®‚Äã","type":1,"pageTitle":"Fory ÂàõÂª∫","url":"/zh-CN/docs/guide/scala/fory_creation#ÂçïÁ∫øÁ®ã‰ΩøÁî®","content":" import org.apache.fory.Fory import org.apache.fory.serializer.scala.ScalaSerializers object ForyHolder { val fory: Fory = { val f = Fory.builder() .withScalaOptimizationEnabled(true) .build() ScalaSerializers.registerSerializers(f) f } }   ","version":"0.15","tagName":"h3"},{"title":"Â§öÁ∫øÁ®ã‰ΩøÁî®‚Äã","type":1,"pageTitle":"Fory ÂàõÂª∫","url":"/zh-CN/docs/guide/scala/fory_creation#Â§öÁ∫øÁ®ã‰ΩøÁî®","content":" ÂØπ‰∫éÂ§öÁ∫øÁ®ãÂ∫îÁî®Á®ãÂ∫èÔºå‰ΩøÁî® ThreadSafeForyÔºö  import org.apache.fory.ThreadSafeFory import org.apache.fory.ThreadLocalFory import org.apache.fory.serializer.scala.ScalaSerializers object ForyHolder { val fory: ThreadSafeFory = new ThreadLocalFory(classLoader =&gt; { val f = Fory.builder() .withScalaOptimizationEnabled(true) .withClassLoader(classLoader) .build() ScalaSerializers.registerSerializers(f) f }) }   ","version":"0.15","tagName":"h3"},{"title":"ÈÖçÁΩÆÈÄâÈ°π‚Äã","type":1,"pageTitle":"Fory ÂàõÂª∫","url":"/zh-CN/docs/guide/scala/fory_creation#ÈÖçÁΩÆÈÄâÈ°π","content":" Fory Java ÁöÑÊâÄÊúâÈÖçÁΩÆÈÄâÈ°πÈÉΩÂèØÁî®„ÄÇÊü•Áúã Java ÈÖçÁΩÆÈÄâÈ°πËé∑ÂèñÂÆåÊï¥ÂàóË°®„ÄÇ  Scala ÁöÑÂ∏∏Áî®ÈÄâÈ°πÔºö  import org.apache.fory.Fory import org.apache.fory.config.CompatibleMode import org.apache.fory.serializer.scala.ScalaSerializers val fory = Fory.builder() .withScalaOptimizationEnabled(true) // ‰∏∫Âæ™ÁéØÂºïÁî®ÂêØÁî®ÂºïÁî®Ë∑üË∏™ .withRefTracking(true) // ÂêØÁî® schema ÊºîÂåñÊîØÊåÅ .withCompatibleMode(CompatibleMode.COMPATIBLE) // ÂêØÁî®ÂºÇÊ≠•ÁºñËØë‰ª•Ëé∑ÂæóÊõ¥Â•ΩÁöÑÂêØÂä®ÊÄßËÉΩ .withAsyncCompilation(true) .build() ScalaSerializers.registerSerializers(fory)  ","version":"0.15","tagName":"h2"},{"title":"ÈªòËÆ§ÂÄº","type":0,"sectionRef":"#","url":"/zh-CN/docs/guide/scala/default_values","content":"","keywords":"","version":"0.15"},{"title":"Ê¶ÇËø∞‚Äã","type":1,"pageTitle":"ÈªòËÆ§ÂÄº","url":"/zh-CN/docs/guide/scala/default_values#ÔøΩÊ¶ÇËø∞","content":" ÂΩì Scala Á±ªÂÖ∑ÊúâÈªòËÆ§ÂèÇÊï∞Êó∂ÔºåScala ÁºñËØëÂô®‰ºöÂú®‰º¥ÁîüÂØπË±°‰∏≠ÔºàÂØπ‰∫é case Á±ªÔºâÊàñÂú®Á±ªÊú¨Ë∫´‰∏≠ÔºàÂØπ‰∫éÂ∏∏ËßÑ Scala Á±ªÔºâÁîüÊàêËØ∏Â¶Ç apply$default$1„ÄÅapply$default$2 Á≠âÊñπÊ≥ïÊù•ËøîÂõûÈªòËÆ§ÂÄº„ÄÇFory ÂèØ‰ª•Ê£ÄÊµãËøô‰∫õÊñπÊ≥ïÔºåÂπ∂Âú®ÂèçÂ∫èÂàóÂåñÂØπË±°Êó∂ÔºåÂΩìÊüê‰∫õÂ≠óÊÆµÂú®Â∫èÂàóÂåñÊï∞ÊçÆ‰∏≠Áº∫Â§±Êó∂‰ΩøÁî®ÂÆÉ‰ª¨„ÄÇ  ","version":"0.15","tagName":"h2"},{"title":"ÊîØÊåÅÁöÑÁ±ªÁ±ªÂûã‚Äã","type":1,"pageTitle":"ÈªòËÆ§ÂÄº","url":"/zh-CN/docs/guide/scala/default_values#ÊîØÊåÅÁöÑÁ±ªÁ±ªÂûã","content":" Fory ÊîØÊåÅ‰ª•‰∏ãÁ±ªÂûãÁöÑÈªòËÆ§ÂÄºÔºö  ÂÖ∑ÊúâÈªòËÆ§ÂèÇÊï∞ÁöÑ Case Á±ªÂú®‰∏ªÊûÑÈÄ†ÂáΩÊï∞‰∏≠ÂÖ∑ÊúâÈªòËÆ§ÂèÇÊï∞ÁöÑÂ∏∏ËßÑ Scala Á±ªÂÖ∑ÊúâÈªòËÆ§ÂèÇÊï∞ÁöÑÂµåÂ•ó case Á±ª  ","version":"0.15","tagName":"h2"},{"title":"Â∑•‰ΩúÂéüÁêÜ‚Äã","type":1,"pageTitle":"ÈªòËÆ§ÂÄº","url":"/zh-CN/docs/guide/scala/default_values#Â∑•‰ΩúÂéüÁêÜ","content":" Ê£ÄÊµãÔºöFory ÈÄöËøáÊ£ÄÊü•ÊòØÂê¶Â≠òÂú®ÈªòËÆ§ÂÄºÊñπÊ≥ïÔºàapply$default$N Êàñ $default$NÔºâÊù•Ê£ÄÊµãÁ±ªÊòØÂê¶‰∏∫ Scala Á±ª„ÄÇ ÈªòËÆ§ÂÄºÂèëÁé∞Ôºö ÂØπ‰∫é case Á±ªÔºöFory Êâ´Êèè‰º¥ÁîüÂØπË±°‰∏≠Âêç‰∏∫ apply$default$1„ÄÅapply$default$2 Á≠âÁöÑÊñπÊ≥ï„ÄÇÂØπ‰∫éÂ∏∏ËßÑ Scala Á±ªÔºöFory Êâ´ÊèèÁ±ªÊú¨Ë∫´‰∏≠Âêç‰∏∫ $default$1„ÄÅ$default$2 Á≠âÁöÑÊñπÊ≥ï„ÄÇ Â≠óÊÆµÊò†Â∞ÑÔºöÂú®ÂèçÂ∫èÂàóÂåñÊúüÈó¥ÔºåFory ËØÜÂà´ÁõÆÊ†áÁ±ª‰∏≠Â≠òÂú®‰ΩÜÂ∫èÂàóÂåñÊï∞ÊçÆ‰∏≠Áº∫Â§±ÁöÑÂ≠óÊÆµ„ÄÇ ÂÄºÂ∫îÁî®Ôºö‰ªéÂ∫èÂàóÂåñÊï∞ÊçÆ‰∏≠ËØªÂèñÊâÄÊúâÂèØÁî®Â≠óÊÆµÂêéÔºåFory Â∞ÜÈªòËÆ§ÂÄºÂ∫îÁî®‰∫é‰ªª‰ΩïÁº∫Â§±ÁöÑÂ≠óÊÆµ„ÄÇ  ","version":"0.15","tagName":"h2"},{"title":"‰ΩøÁî®ÊñπÊ≥ï‚Äã","type":1,"pageTitle":"ÈªòËÆ§ÂÄº","url":"/zh-CN/docs/guide/scala/default_values#‰ΩøÁî®ÊñπÊ≥ï","content":" ÂΩìÊª°Ë∂≥‰ª•‰∏ãÊù°‰ª∂Êó∂ÔºåÊ≠§ÁâπÊÄß‰ºöËá™Âä®ÂêØÁî®Ôºö  ÂêØÁî®ÂÖºÂÆπÊ®°ÂºèÔºàwithCompatibleMode(CompatibleMode.COMPATIBLE)ÔºâÁõÆÊ†áÁ±ªË¢´Ê£ÄÊµã‰∏∫ÂÖ∑ÊúâÈªòËÆ§ÂÄºÁöÑ Scala Á±ªÂ∫èÂàóÂåñÊï∞ÊçÆ‰∏≠Áº∫Â∞ëÊüê‰∏™Â≠óÊÆµÔºå‰ΩÜËØ•Â≠óÊÆµÂ≠òÂú®‰∫éÁõÆÊ†áÁ±ª‰∏≠  Êó†ÈúÄÈ¢ùÂ§ñÈÖçÁΩÆ„ÄÇ  ","version":"0.15","tagName":"h2"},{"title":"Á§∫‰æã‚Äã","type":1,"pageTitle":"ÈªòËÆ§ÂÄº","url":"/zh-CN/docs/guide/scala/default_values#Á§∫‰æã","content":" ","version":"0.15","tagName":"h2"},{"title":"ÂÖ∑ÊúâÈªòËÆ§ÂÄºÁöÑ Case Á±ª‚Äã","type":1,"pageTitle":"ÈªòËÆ§ÂÄº","url":"/zh-CN/docs/guide/scala/default_values#ÂÖ∑ÊúâÈªòËÆ§ÂÄºÁöÑ-case-Á±ª","content":" import org.apache.fory.Fory import org.apache.fory.config.CompatibleMode import org.apache.fory.serializer.scala.ScalaSerializers // Ê≤°ÊúâÈªòËÆ§ÂÄºÁöÑÁ±ªÔºàÁî®‰∫éÂ∫èÂàóÂåñÔºâ case class PersonV1(name: String) // ÊúâÈªòËÆ§ÂÄºÁöÑÁ±ªÔºàÁî®‰∫éÂèçÂ∫èÂàóÂåñÔºâ case class PersonV2(name: String, age: Int = 25, city: String = &quot;Unknown&quot;) val fory = Fory.builder() .withCompatibleMode(CompatibleMode.COMPATIBLE) .withScalaOptimizationEnabled(true) .build() ScalaSerializers.registerSerializers(fory) // ‰ΩøÁî®Ê≤°ÊúâÈªòËÆ§ÂÄºÁöÑÁ±ªËøõË°åÂ∫èÂàóÂåñ val original = PersonV1(&quot;John&quot;) val serialized = fory.serialize(original) // ÂèçÂ∫èÂàóÂåñÂà∞ÊúâÈªòËÆ§ÂÄºÁöÑÁ±ª // Áº∫Â§±ÁöÑÂ≠óÊÆµÂ∞Ü‰ΩøÁî®ÈªòËÆ§ÂÄº val deserialized = fory.deserialize(serialized).asInstanceOf[PersonV2] // deserialized.name == &quot;John&quot; // deserialized.age == 25ÔºàÈªòËÆ§ÂÄºÔºâ // deserialized.city == &quot;Unknown&quot;ÔºàÈªòËÆ§ÂÄºÔºâ   ","version":"0.15","tagName":"h3"},{"title":"ÂÖ∑ÊúâÈªòËÆ§ÂÄºÁöÑÂ∏∏ËßÑ Scala Á±ª‚Äã","type":1,"pageTitle":"ÈªòËÆ§ÂÄº","url":"/zh-CN/docs/guide/scala/default_values#ÂÖ∑ÊúâÈªòËÆ§ÂÄºÁöÑÂ∏∏ËßÑ-scala-Á±ª","content":" // Ê≤°ÊúâÈªòËÆ§ÂÄºÁöÑÁ±ªÔºàÁî®‰∫éÂ∫èÂàóÂåñÔºâ class EmployeeV1(val name: String) // ÊúâÈªòËÆ§ÂÄºÁöÑÁ±ªÔºàÁî®‰∫éÂèçÂ∫èÂàóÂåñÔºâ class EmployeeV2( val name: String, val age: Int = 30, val department: String = &quot;Engineering&quot; ) val fory = Fory.builder() .withCompatibleMode(CompatibleMode.COMPATIBLE) .withScalaOptimizationEnabled(true) .build() ScalaSerializers.registerSerializers(fory) // ‰ΩøÁî®Ê≤°ÊúâÈªòËÆ§ÂÄºÁöÑÁ±ªËøõË°åÂ∫èÂàóÂåñ val original = new EmployeeV1(&quot;Jane&quot;) val serialized = fory.serialize(original) // ÂèçÂ∫èÂàóÂåñÂà∞ÊúâÈªòËÆ§ÂÄºÁöÑÁ±ª val deserialized = fory.deserialize(serialized).asInstanceOf[EmployeeV2] // deserialized.name == &quot;Jane&quot; // deserialized.age == 30ÔºàÈªòËÆ§ÂÄºÔºâ // deserialized.department == &quot;Engineering&quot;ÔºàÈªòËÆ§ÂÄºÔºâ   ","version":"0.15","tagName":"h3"},{"title":"Â§çÊùÇÈªòËÆ§ÂÄº‚Äã","type":1,"pageTitle":"ÈªòËÆ§ÂÄº","url":"/zh-CN/docs/guide/scala/default_values#Â§çÊùÇÈªòËÆ§ÂÄº","content":" ÈªòËÆ§ÂÄºÂèØ‰ª•ÊòØÂ§çÊùÇË°®ËææÂºèÔºö  // Ê≤°ÊúâÈªòËÆ§ÂÄºÁöÑÁ±ªÔºàÁî®‰∫éÂ∫èÂàóÂåñÔºâ case class ConfigV1(name: String) // ÊúâÈªòËÆ§ÂÄºÁöÑÁ±ªÔºàÁî®‰∫éÂèçÂ∫èÂàóÂåñÔºâ case class ConfigV2( name: String, settings: Map[String, String] = Map(&quot;default&quot; -&gt; &quot;value&quot;), tags: List[String] = List(&quot;default&quot;), enabled: Boolean = true ) val fory = Fory.builder() .withCompatibleMode(CompatibleMode.COMPATIBLE) .withScalaOptimizationEnabled(true) .build() ScalaSerializers.registerSerializers(fory) val original = ConfigV1(&quot;myConfig&quot;) val serialized = fory.serialize(original) val deserialized = fory.deserialize(serialized).asInstanceOf[ConfigV2] // deserialized.name == &quot;myConfig&quot; // deserialized.settings == Map(&quot;default&quot; -&gt; &quot;value&quot;) // deserialized.tags == List(&quot;default&quot;) // deserialized.enabled == true   ","version":"0.15","tagName":"h3"},{"title":"ÂµåÂ•ó Case Á±ª‚Äã","type":1,"pageTitle":"ÈªòËÆ§ÂÄº","url":"/zh-CN/docs/guide/scala/default_values#ÂµåÂ•ó-case-Á±ª","content":" object Models { // Ê≤°ÊúâÈªòËÆ§ÂÄºÁöÑÁ±ªÔºàÁî®‰∫éÂ∫èÂàóÂåñÔºâ case class PersonV1(name: String) // ÊúâÈªòËÆ§ÂÄºÁöÑÁ±ªÔºàÁî®‰∫éÂèçÂ∫èÂàóÂåñÔºâ case class Address(street: String, city: String = &quot;DefaultCity&quot;) case class PersonV2(name: String, address: Address = Address(&quot;DefaultStreet&quot;)) } val fory = Fory.builder() .withCompatibleMode(CompatibleMode.COMPATIBLE) .withScalaOptimizationEnabled(true) .build() ScalaSerializers.registerSerializers(fory) val original = Models.PersonV1(&quot;Alice&quot;) val serialized = fory.serialize(original) val deserialized = fory.deserialize(serialized).asInstanceOf[Models.PersonV2] // deserialized.name == &quot;Alice&quot; // deserialized.address == Address(&quot;DefaultStreet&quot;, &quot;DefaultCity&quot;)   ","version":"0.15","tagName":"h3"},{"title":"Áõ∏ÂÖ≥‰∏ªÈ¢ò‚Äã","type":1,"pageTitle":"ÈªòËÆ§ÂÄº","url":"/zh-CN/docs/guide/scala/default_values#Áõ∏ÂÖ≥‰∏ªÈ¢ò","content":" Schema ÊºîÂåñ - Java ‰∏≠ÁöÑÂâçÂêë/ÂêéÂêëÂÖºÂÆπÊÄßFory ÂàõÂª∫ - ‰ΩøÁî®ÂÖºÂÆπÊ®°ÂºèËÆæÁΩÆ Fory ","version":"0.15","tagName":"h2"},{"title":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñÊåáÂçó","type":0,"sectionRef":"#","url":"/zh-CN/docs/guide/xlang/","content":"","keywords":"","version":"0.15"},{"title":"ÁâπÊÄß‚Äã","type":1,"pageTitle":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñÊåáÂçó","url":"/zh-CN/docs/guide/xlang/#ÁâπÊÄß","content":" Êó†ÈúÄ IDLÔºöËá™Âä®Â∫èÂàóÂåñ‰ªª‰ΩïÂØπË±°ÔºåÊó†ÈúÄ Protocol Buffers„ÄÅThrift ÊàñÂÖ∂‰ªñ IDL ÂÆö‰πâÂ§öËØ≠Ë®ÄÊîØÊåÅÔºöJava„ÄÅPython„ÄÅC++„ÄÅGo„ÄÅRust„ÄÅJavaScript ‰πãÈó¥Êó†Áºù‰∫íÊìç‰ΩúÂºïÁî®ÊîØÊåÅÔºöË∑®ËØ≠Ë®ÄËæπÁïåÊîØÊåÅÂÖ±‰∫´ÂºïÁî®ÂíåÂæ™ÁéØÂºïÁî®Schema ÊºîÂåñÔºöÁ±ªÂÆö‰πâÂèòÊõ¥Êó∂ÁöÑÂâçÂêë/ÂêéÂêëÂÖºÂÆπÊÄßÈõ∂Êã∑Ë¥ùÔºöÂ§ßÂûã‰∫åËøõÂà∂Êï∞ÊçÆÁöÑÂ∏¶Â§ñÂ∫èÂàóÂåñÈ´òÊÄßËÉΩÔºöJIT ÁºñËØëÂíå‰ºòÂåñÁöÑ‰∫åËøõÂà∂ÂçèËÆÆ  ","version":"0.15","tagName":"h2"},{"title":"ÊîØÊåÅÁöÑËØ≠Ë®Ä‚Äã","type":1,"pageTitle":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñÊåáÂçó","url":"/zh-CN/docs/guide/xlang/#ÊîØÊåÅÁöÑËØ≠Ë®Ä","content":" ËØ≠Ë®Ä\tÁä∂ÊÄÅ\tÂåÖJava\t‚úÖ\torg.apache.fory:fory-core Python\t‚úÖ\tpyfory C++\t‚úÖ\tBazel/CMake ÊûÑÂª∫ Go\t‚úÖ\tgithub.com/apache/fory/go/fory Rust\t‚úÖ\tfory crate JavaScript\t‚úÖ\t@apache-fory/fory  ","version":"0.15","tagName":"h2"},{"title":"‰ΩïÊó∂‰ΩøÁî® Xlang Ê®°Âºè‚Äã","type":1,"pageTitle":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñÊåáÂçó","url":"/zh-CN/docs/guide/xlang/#‰ΩïÊó∂‰ΩøÁî®-xlang-Ê®°Âºè","content":" ‰ΩøÁî® xlang Ê®°ÂºèÁöÑÂú∫ÊôØÔºö  ÊûÑÂª∫Â§öËØ≠Ë®ÄÂæÆÊúçÂä°ÂàõÂª∫Â§öËØ≠Ë®ÄÊï∞ÊçÆÁÆ°ÈÅìÂú®ÂâçÁ´ØÔºàJavaScriptÔºâÂíåÂêéÁ´ØÔºàJava/Python/GoÔºâ‰πãÈó¥ÂÖ±‰∫´Êï∞ÊçÆ  ‰ΩøÁî®ËØ≠Ë®ÄÂéüÁîüÊ®°ÂºèÁöÑÂú∫ÊôØÔºö  ÊâÄÊúâÂ∫èÂàóÂåñ/ÂèçÂ∫èÂàóÂåñÈÉΩÂú®Âêå‰∏ÄËØ≠Ë®Ä‰∏≠ËøõË°åÈúÄË¶ÅÊúÄÂ§ßÊÄßËÉΩÔºàÂéüÁîüÊ®°ÂºèÊõ¥Âø´ÔºâÈúÄË¶ÅÁâπÂÆöËØ≠Ë®ÄÂäüËÉΩÔºàPython pickle ÂÖºÂÆπÊÄß„ÄÅJava Â∫èÂàóÂåñÈí©Â≠êÔºâ  ","version":"0.15","tagName":"h2"},{"title":"Âø´ÈÄüÁ§∫‰æã‚Äã","type":1,"pageTitle":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñÊåáÂçó","url":"/zh-CN/docs/guide/xlang/#Âø´ÈÄüÁ§∫‰æã","content":" ","version":"0.15","tagName":"h2"},{"title":"JavaÔºàÁîü‰∫ßËÄÖÔºâ‚Äã","type":1,"pageTitle":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñÊåáÂçó","url":"/zh-CN/docs/guide/xlang/#javaÁîü‰∫ßËÄÖ","content":" import org.apache.fory.*; import org.apache.fory.config.*; public class Person { public String name; public int age; } Fory fory = Fory.builder() .withLanguage(Language.XLANG) .build(); fory.register(Person.class, &quot;example.Person&quot;); Person person = new Person(); person.name = &quot;Alice&quot;; person.age = 30; byte[] bytes = fory.serialize(person); // Â∞Ü bytes ÂèëÈÄÅÂà∞ Python„ÄÅGo„ÄÅRust Á≠â   ","version":"0.15","tagName":"h3"},{"title":"PythonÔºàÊ∂àË¥πËÄÖÔºâ‚Äã","type":1,"pageTitle":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñÊåáÂçó","url":"/zh-CN/docs/guide/xlang/#pythonÊ∂àË¥πËÄÖ","content":" import pyfory from dataclasses import dataclass @dataclass class Person: name: str age: pyfory.Int32Type fory = pyfory.Fory() fory.register_type(Person, typename=&quot;example.Person&quot;) # ‰ªé Java Êé•Êî∂ bytes person = fory.deserialize(bytes_from_java) print(f&quot;{person.name}, {person.age}&quot;) # Alice, 30   ","version":"0.15","tagName":"h3"},{"title":"ÊñáÊ°£‚Äã","type":1,"pageTitle":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñÊåáÂçó","url":"/zh-CN/docs/guide/xlang/#ÊñáÊ°£","content":" ‰∏ªÈ¢ò\tÊèèËø∞ÂÖ•Èó®ÊåáÂçó\tÊâÄÊúâËØ≠Ë®ÄÁöÑÂÆâË£ÖÂíåÂü∫Êú¨ËÆæÁΩÆ Á±ªÂûãÊò†Â∞Ñ\tË∑®ËØ≠Ë®ÄÁ±ªÂûãÊò†Â∞ÑÂèÇËÄÉ Â∫èÂàóÂåñ\tÂÜÖÁΩÆÁ±ªÂûã„ÄÅËá™ÂÆö‰πâÁ±ªÂûã„ÄÅÂºïÁî®Â§ÑÁêÜ Èõ∂Êã∑Ë¥ù\tÂ§ßÂûãÊï∞ÊçÆÁöÑÂ∏¶Â§ñÂ∫èÂàóÂåñ Ë°åÊ†ºÂºè\tÂÖ∑ÊúâÈöèÊú∫ËÆøÈóÆÁöÑÁºìÂ≠òÂèãÂ•Ω‰∫åËøõÂà∂Ê†ºÂºè ÊïÖÈöúÊéíÊü•\tÂ∏∏ËßÅÈóÆÈ¢òÂèäËß£ÂÜ≥ÊñπÊ°à  ","version":"0.15","tagName":"h2"},{"title":"ÁâπÂÆöËØ≠Ë®ÄÊåáÂçó‚Äã","type":1,"pageTitle":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñÊåáÂçó","url":"/zh-CN/docs/guide/xlang/#ÁâπÂÆöËØ≠Ë®ÄÊåáÂçó","content":" ÊúâÂÖ≥ÁâπÂÆöËØ≠Ë®ÄÁöÑËØ¶ÁªÜ‰ø°ÊÅØÂíå API ÂèÇËÄÉÔºö  Java Ë∑®ËØ≠Ë®ÄÊåáÂçóPython Ë∑®ËØ≠Ë®ÄÊåáÂçóC++ Ë∑®ËØ≠Ë®ÄÊåáÂçóRust Ë∑®ËØ≠Ë®ÄÊåáÂçó  ","version":"0.15","tagName":"h2"},{"title":"ËßÑËåÉ‚Äã","type":1,"pageTitle":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñÊåáÂçó","url":"/zh-CN/docs/guide/xlang/#ËßÑËåÉ","content":" Xlang Â∫èÂàóÂåñËßÑËåÉ - ‰∫åËøõÂà∂ÂçèËÆÆËØ¶ÊÉÖÁ±ªÂûãÊò†Â∞ÑËßÑËåÉ - ÂÆåÊï¥ÁöÑÁ±ªÂûãÊò†Â∞ÑÂèÇËÄÉ ","version":"0.15","tagName":"h2"},{"title":"Á±ªÂûãÂ∫èÂàóÂåñ","type":0,"sectionRef":"#","url":"/zh-CN/docs/guide/scala/type_serialization","content":"","keywords":"","version":"0.15"},{"title":"ËÆæÁΩÆ‚Äã","type":1,"pageTitle":"Á±ªÂûãÂ∫èÂàóÂåñ","url":"/zh-CN/docs/guide/scala/type_serialization#ËÆæÁΩÆ","content":" ÊâÄÊúâÁ§∫‰æãÂÅáËÆæ‰ª•‰∏ãËÆæÁΩÆÔºö  import org.apache.fory.Fory import org.apache.fory.serializer.scala.ScalaSerializers val fory = Fory.builder() .withScalaOptimizationEnabled(true) .build() ScalaSerializers.registerSerializers(fory)   ","version":"0.15","tagName":"h2"},{"title":"Case Á±ª‚Äã","type":1,"pageTitle":"Á±ªÂûãÂ∫èÂàóÂåñ","url":"/zh-CN/docs/guide/scala/type_serialization#case-Á±ª","content":" case class Person(github: String, age: Int, id: Long) fory.register(classOf[Person]) val p = Person(&quot;https://github.com/chaokunyang&quot;, 18, 1) println(fory.deserialize(fory.serialize(p)))   ","version":"0.15","tagName":"h2"},{"title":"POJO Á±ª‚Äã","type":1,"pageTitle":"Á±ªÂûãÂ∫èÂàóÂåñ","url":"/zh-CN/docs/guide/scala/type_serialization#pojo-Á±ª","content":" class Foo(f1: Int, f2: String) { override def toString: String = s&quot;Foo($f1, $f2)&quot; } fory.register(classOf[Foo]) println(fory.deserialize(fory.serialize(new Foo(1, &quot;chaokunyang&quot;))))   ","version":"0.15","tagName":"h2"},{"title":"Object Âçï‰æã‚Äã","type":1,"pageTitle":"Á±ªÂûãÂ∫èÂàóÂåñ","url":"/zh-CN/docs/guide/scala/type_serialization#object-Âçï‰æã","content":" Scala object Âçï‰æãË¢´Â∫èÂàóÂåñÂíåÂèçÂ∫èÂàóÂåñ‰∏∫Âêå‰∏Ä‰∏™ÂÆû‰æãÔºö  object MySingleton { val value = 42 } fory.register(MySingleton.getClass) val o1 = fory.deserialize(fory.serialize(MySingleton)) val o2 = fory.deserialize(fory.serialize(MySingleton)) println(o1 == o2) // true   ","version":"0.15","tagName":"h2"},{"title":"ÈõÜÂêà‚Äã","type":1,"pageTitle":"Á±ªÂûãÂ∫èÂàóÂåñ","url":"/zh-CN/docs/guide/scala/type_serialization#ÈõÜÂêà","content":" ÂÆåÂÖ®ÊîØÊåÅ Scala ÈõÜÂêàÔºö  val seq = Seq(1, 2) val list = List(&quot;a&quot;, &quot;b&quot;) val map = Map(&quot;a&quot; -&gt; 1, &quot;b&quot; -&gt; 2) println(fory.deserialize(fory.serialize(seq))) println(fory.deserialize(fory.serialize(list))) println(fory.deserialize(fory.serialize(map)))   ","version":"0.15","tagName":"h2"},{"title":"ÂÖÉÁªÑ‚Äã","type":1,"pageTitle":"Á±ªÂûãÂ∫èÂàóÂåñ","url":"/zh-CN/docs/guide/scala/type_serialization#ÂÖÉÁªÑ","content":" ÊîØÊåÅÊâÄÊúâ Scala ÂÖÉÁªÑÁ±ªÂûãÔºàTuple1 Âà∞ Tuple22ÔºâÔºö  val tuple2 = (100, 10000L) println(fory.deserialize(fory.serialize(tuple2))) val tuple4 = (100, 10000L, 10000L, &quot;str&quot;) println(fory.deserialize(fory.serialize(tuple4)))   ","version":"0.15","tagName":"h2"},{"title":"Êûö‰∏æ‚Äã","type":1,"pageTitle":"Á±ªÂûãÂ∫èÂàóÂåñ","url":"/zh-CN/docs/guide/scala/type_serialization#Êûö‰∏æ","content":" ","version":"0.15","tagName":"h2"},{"title":"Scala 3 Êûö‰∏æ‚Äã","type":1,"pageTitle":"Á±ªÂûãÂ∫èÂàóÂåñ","url":"/zh-CN/docs/guide/scala/type_serialization#scala-3-Êûö‰∏æ","content":" enum Color { case Red, Green, Blue } fory.register(classOf[Color]) println(fory.deserialize(fory.serialize(Color.Green)))   ","version":"0.15","tagName":"h3"},{"title":"Scala 2 Enumeration‚Äã","type":1,"pageTitle":"Á±ªÂûãÂ∫èÂàóÂåñ","url":"/zh-CN/docs/guide/scala/type_serialization#scala-2-enumeration","content":" object ColorEnum extends Enumeration { type ColorEnum = Value val Red, Green, Blue = Value } fory.register(Class.forName(&quot;scala.Enumeration.Val&quot;)) println(fory.deserialize(fory.serialize(ColorEnum.Green)))   Ê≥®ÊÑèÔºöÂØπ‰∫é Scala 2 EnumerationÔºåÂèØËÉΩÈúÄË¶ÅÊ≥®ÂÜå scala.Enumeration.Val ÊàñÂêØÁî®ÂºïÁî®Ë∑üË∏™‰ª•ÈÅøÂÖç StackOverflowError„ÄÇ  ","version":"0.15","tagName":"h3"},{"title":"Option‚Äã","type":1,"pageTitle":"Á±ªÂûãÂ∫èÂàóÂåñ","url":"/zh-CN/docs/guide/scala/type_serialization#option","content":" val some: Option[Long] = Some(100) println(fory.deserialize(fory.serialize(some))) val none: Option[Long] = None println(fory.deserialize(fory.serialize(none)))   ","version":"0.15","tagName":"h2"},{"title":"Either‚Äã","type":1,"pageTitle":"Á±ªÂûãÂ∫èÂàóÂåñ","url":"/zh-CN/docs/guide/scala/type_serialization#either","content":" val right: Either[String, Int] = Right(42) println(fory.deserialize(fory.serialize(right))) val left: Either[String, Int] = Left(&quot;error&quot;) println(fory.deserialize(fory.serialize(left)))   ","version":"0.15","tagName":"h2"},{"title":"ÂµåÂ•óÁ±ªÂûã‚Äã","type":1,"pageTitle":"Á±ªÂûãÂ∫èÂàóÂåñ","url":"/zh-CN/docs/guide/scala/type_serialization#ÂµåÂ•óÁ±ªÂûã","content":" ÂÆåÂÖ®ÊîØÊåÅÂ§çÊùÇÁöÑÂµåÂ•óÁªìÊûÑÔºö  case class Address(street: String, city: String) case class Company(name: String, address: Address) case class Employee(name: String, company: Company, tags: List[String]) fory.register(classOf[Address]) fory.register(classOf[Company]) fory.register(classOf[Employee]) val employee = Employee( &quot;John&quot;, Company(&quot;Acme&quot;, Address(&quot;123 Main St&quot;, &quot;Springfield&quot;)), List(&quot;developer&quot;, &quot;scala&quot;) ) println(fory.deserialize(fory.serialize(employee)))  ","version":"0.15","tagName":"h2"},{"title":"Â≠óÊÆµÂèØÁ©∫ÊÄß","type":0,"sectionRef":"#","url":"/zh-CN/docs/guide/xlang/field_nullability","content":"","keywords":"","version":"0.15"},{"title":"ÈªòËÆ§Ë°å‰∏∫‚Äã","type":1,"pageTitle":"Â≠óÊÆµÂèØÁ©∫ÊÄß","url":"/zh-CN/docs/guide/xlang/field_nullability#ÈªòËÆ§Ë°å‰∏∫","content":" In xlang mode, fields are non-nullable by default. This means:  Values must always be present (non-null)No null flag byte is written for the fieldSerialization is more compact  The following types are nullable by default:  Optional&lt;T&gt; (Java, C++)Java boxed types (Integer, Long, Double, etc.)Go pointer types (*int32, *string, etc.)Rust Option&lt;T&gt;Python Optional[T]  Field Type\tDefault Nullable\tNull Flag WrittenPrimitives (int, bool, float, etc.)\tNo\tNo String\tNo\tNo List&lt;T&gt;, Map&lt;K,V&gt;, Set&lt;T&gt;\tNo\tNo Custom structs\tNo\tNo Enums\tNo\tNo Java boxed types (Integer, Long, etc.)\tYes\tYes Go pointer types (*int32, *string)\tYes\tYes Optional&lt;T&gt; / Option&lt;T&gt;\tYes\tYes  ","version":"0.15","tagName":"h2"},{"title":"Á∫øÊ†ºÂºè‚Äã","type":1,"pageTitle":"Â≠óÊÆµÂèØÁ©∫ÊÄß","url":"/zh-CN/docs/guide/xlang/field_nullability#Á∫øÊ†ºÂºè","content":" The nullable flag controls whether a null flag byte is written before the field value:  Non-nullable field: [value data] Nullable field: [null_flag] [value data if not null]   Where null_flag is:  -1 (NULL_FLAG): Value is null-2 (NOT_NULL_VALUE_FLAG): Value is present  ","version":"0.15","tagName":"h2"},{"title":"ÂèØÁ©∫ÊÄß‰∏éÂºïÁî®Ë∑üË∏™‚Äã","type":1,"pageTitle":"Â≠óÊÆµÂèØÁ©∫ÊÄß","url":"/zh-CN/docs/guide/xlang/field_nullability#ÂèØÁ©∫ÊÄß‰∏éÂºïÁî®Ë∑üË∏™","content":" These are related but distinct concepts:  Concept\tPurpose\tFlag ValuesNullable\tAllow null values for a field\t-1 (null), -2 (not null) Reference Tracking\tDeduplicate shared object references\t-1 (null), -2 (not null), ‚â•0 (ref ID)  Key differences:  Nullable only: Writes -1 or -2 flag, no reference deduplicationReference tracking: Extends nullable semantics with reference IDs (‚â•0) for previously seen objectsBoth use the same flag byte position‚Äîref tracking is a superset of nullable  When refTracking=true, the null flag byte doubles as a ref flag:  ref_flag = -1 ‚Üí null value ref_flag = -2 ‚Üí new object (first occurrence) ref_flag &gt;= 0 ‚Üí reference to object at index ref_flag   For detailed reference tracking behavior, see Reference Tracking.  ","version":"0.15","tagName":"h2"},{"title":"ÂêÑËØ≠Ë®ÄÁ§∫‰æã‚Äã","type":1,"pageTitle":"Â≠óÊÆµÂèØÁ©∫ÊÄß","url":"/zh-CN/docs/guide/xlang/field_nullability#ÂêÑËØ≠Ë®ÄÁ§∫‰æã","content":" ","version":"0.15","tagName":"h2"},{"title":"Java‚Äã","type":1,"pageTitle":"Â≠óÊÆµÂèØÁ©∫ÊÄß","url":"/zh-CN/docs/guide/xlang/field_nullability#java","content":" public class Person { // Non-nullable by default in xlang mode String name; // Must not be null int age; // Primitive, always non-nullable List&lt;String&gt; tags; // Must not be null // Explicitly nullable @ForyField(nullable = true) String nickname; // Can be null // Optional wrapper - nullable by default Optional&lt;String&gt; bio; // Can be empty/null } Fory fory = Fory.builder() .withLanguage(Language.XLANG) .build(); fory.register(Person.class, &quot;example.Person&quot;);   ","version":"0.15","tagName":"h3"},{"title":"Python‚Äã","type":1,"pageTitle":"Â≠óÊÆµÂèØÁ©∫ÊÄß","url":"/zh-CN/docs/guide/xlang/field_nullability#python","content":" from dataclasses import dataclass from typing import Optional, List import pyfory @dataclass class Person: # Non-nullable by default name: str # Must have a value age: pyfory.int32 # Primitive tags: List[str] # Must not be None # Optional makes it nullable nickname: Optional[str] = None # Can be None bio: Optional[str] = None # Can be None fory = pyfory.Fory(xlang=True) fory.register_type(Person, typename=&quot;example.Person&quot;)   ","version":"0.15","tagName":"h3"},{"title":"Rust‚Äã","type":1,"pageTitle":"Â≠óÊÆµÂèØÁ©∫ÊÄß","url":"/zh-CN/docs/guide/xlang/field_nullability#rust","content":" use fory::Fory; #[derive(Fory)] #[tag(&quot;example.Person&quot;)] struct Person { // Non-nullable by default name: String, age: i32, tags: Vec&lt;String&gt;, // Option&lt;T&gt; is nullable nickname: Option&lt;String&gt;, // Can be None bio: Option&lt;String&gt;, // Can be None }   ","version":"0.15","tagName":"h3"},{"title":"Go‚Äã","type":1,"pageTitle":"Â≠óÊÆµÂèØÁ©∫ÊÄß","url":"/zh-CN/docs/guide/xlang/field_nullability#go","content":" type Person struct { // Non-nullable by default Name string Age int32 Tags []string // Pointer types for nullable fields Nickname *string // Can be nil Bio *string // Can be nil } fory := forygo.NewFory() fory.RegisterTagType(&quot;example.Person&quot;, Person{})   ","version":"0.15","tagName":"h3"},{"title":"C++‚Äã","type":1,"pageTitle":"Â≠óÊÆµÂèØÁ©∫ÊÄß","url":"/zh-CN/docs/guide/xlang/field_nullability#c","content":" struct Person { // Non-nullable by default std::string name; int32_t age; std::vector&lt;std::string&gt; tags; // std::optional for nullable std::optional&lt;std::string&gt; nickname; std::optional&lt;std::string&gt; bio; }; FORY_STRUCT(Person, name, age, tags, nickname, bio);   ","version":"0.15","tagName":"h3"},{"title":"Customizing Nullability‚Äã","type":1,"pageTitle":"Â≠óÊÆµÂèØÁ©∫ÊÄß","url":"/zh-CN/docs/guide/xlang/field_nullability#customizing-nullability","content":" ","version":"0.15","tagName":"h2"},{"title":"Java: @ForyField Annotation‚Äã","type":1,"pageTitle":"Â≠óÊÆµÂèØÁ©∫ÊÄß","url":"/zh-CN/docs/guide/xlang/field_nullability#java-foryfield-annotation","content":" public class Config { @ForyField(nullable = true) String optionalSetting; // Explicitly nullable @ForyField(nullable = false) String requiredSetting; // Explicitly non-nullable (default) }   ","version":"0.15","tagName":"h3"},{"title":"C++: fory::field Wrapper‚Äã","type":1,"pageTitle":"Â≠óÊÆµÂèØÁ©∫ÊÄß","url":"/zh-CN/docs/guide/xlang/field_nullability#c-foryfield-wrapper","content":" struct Config { // Explicitly mark as nullable fory::field&lt;std::string, 1, fory::nullable&lt;true&gt;&gt; optional_setting; // Explicitly mark as non-nullable (default) fory::field&lt;std::string, 2, fory::nullable&lt;false&gt;&gt; required_setting; }; FORY_STRUCT(Config, optional_setting, required_setting);   ","version":"0.15","tagName":"h3"},{"title":"Null Value Handling‚Äã","type":1,"pageTitle":"Â≠óÊÆµÂèØÁ©∫ÊÄß","url":"/zh-CN/docs/guide/xlang/field_nullability#null-value-handling","content":" When a non-nullable field receives a null value:  Language\tBehaviorJava\tThrows NullPointerException or serialization error Python\tRaises TypeError or serialization error Rust\tCompile-time error (non-Option types can't be None) Go\tZero value is used (empty string, 0, etc.) C++\tDefault-constructed value or undefined behavior  ","version":"0.15","tagName":"h2"},{"title":"Schema Compatibility‚Äã","type":1,"pageTitle":"Â≠óÊÆµÂèØÁ©∫ÊÄß","url":"/zh-CN/docs/guide/xlang/field_nullability#schema-compatibility","content":" The nullable flag is part of the struct schema fingerprint. Changing a field's nullability is a breaking change that will cause schema version mismatch errors.  Schema A: { name: String (non-nullable) } Schema B: { name: String (nullable) } // These have different fingerprints and are incompatible   ","version":"0.15","tagName":"h2"},{"title":"Best Practices‚Äã","type":1,"pageTitle":"Â≠óÊÆµÂèØÁ©∫ÊÄß","url":"/zh-CN/docs/guide/xlang/field_nullability#best-practices","content":" Use non-nullable by default: Only make fields nullable when null is a valid semantic valueUse Optional/Option wrappers: Instead of raw types with nullable annotationBe consistent across languages: Use the same nullability for corresponding fieldsDocument nullable fields: Make it clear which fields can be null in your API  ","version":"0.15","tagName":"h2"},{"title":"See Also‚Äã","type":1,"pageTitle":"Â≠óÊÆµÂèØÁ©∫ÊÄß","url":"/zh-CN/docs/guide/xlang/field_nullability#see-also","content":" Reference Tracking - Shared and circular reference handlingSerialization - Basic cross-language serializationType Mapping - Cross-language type mapping referenceXlang Specification - Binary protocol details ","version":"0.15","tagName":"h2"},{"title":"Â≠óÊÆµÁ±ªÂûãÂÖÉ‰ø°ÊÅØ","type":0,"sectionRef":"#","url":"/zh-CN/docs/guide/xlang/field_type_meta","content":"","keywords":"","version":"0.15"},{"title":"Ê¶ÇËø∞‚Äã","type":1,"pageTitle":"Â≠óÊÆµÁ±ªÂûãÂÖÉ‰ø°ÊÅØ","url":"/zh-CN/docs/guide/xlang/field_type_meta#Ê¶ÇËø∞","content":" When serializing a struct field, Fory needs to determine whether to write type metadata:  Static typing: Use the declared field type's serializer directly (no type info written)Dynamic typing: Write type information to support runtime subtypes  ","version":"0.15","tagName":"h2"},{"title":"‰ΩïÊó∂ÈúÄË¶ÅÁ±ªÂûãÂÖÉ‰ø°ÊÅØ‚Äã","type":1,"pageTitle":"Â≠óÊÆµÁ±ªÂûãÂÖÉ‰ø°ÊÅØ","url":"/zh-CN/docs/guide/xlang/field_type_meta#‰ΩïÊó∂ÈúÄË¶ÅÁ±ªÂûãÂÖÉ‰ø°ÊÅØ","content":" Type metadata is required when:  Interface/abstract fields: The declared type is abstract, so concrete type must be recordedPolymorphic fields: The runtime type may be a subclass of the declared typeCross-language compatibility: When the receiver needs type information to deserialize correctly  Type metadata is NOT needed when:  Final/concrete types: The declared type is final/sealed and cannot be subclassedPrimitive types: Type is known at compile timePerformance optimization: When you know the runtime type always matches the declared type  ","version":"0.15","tagName":"h2"},{"title":"ÂêÑËØ≠Ë®ÄÈÖçÁΩÆ‚Äã","type":1,"pageTitle":"Â≠óÊÆµÁ±ªÂûãÂÖÉ‰ø°ÊÅØ","url":"/zh-CN/docs/guide/xlang/field_type_meta#ÂêÑËØ≠Ë®ÄÈÖçÁΩÆ","content":" ","version":"0.15","tagName":"h2"},{"title":"Java‚Äã","type":1,"pageTitle":"Â≠óÊÆµÁ±ªÂûãÂÖÉ‰ø°ÊÅØ","url":"/zh-CN/docs/guide/xlang/field_type_meta#java","content":" Java requires explicit configuration because concrete classes can be subclassed unless marked final.  Use the @ForyField annotation with the dynamic parameter:  import org.apache.fory.annotation.ForyField; import org.apache.fory.annotation.ForyField.Dynamic; public class Container { // AUTO (default): Interface types write type info, concrete types don't @ForyField(id = 0) private Shape shape; // Interface - type info written // FALSE: Never write type info (use declared type's serializer) @ForyField(id = 1, dynamic = Dynamic.FALSE) private Circle circle; // Always treated as Circle // TRUE: Always write type info (support runtime subtypes) @ForyField(id = 2, dynamic = Dynamic.TRUE) private Shape concreteShape; // Type info written even if concrete }   Dynamic Options:  Value\tBehaviorAUTO\tInterface/abstract types are dynamic, concrete are not FALSE\tNever write type info, use declared type's serializer TRUE\tAlways write type info to support runtime subtypes  Use Cases:  AUTO: Default behavior, suitable for most casesFALSE: Performance optimization when you know the exact typeTRUE: When a concrete field may hold subclass instances  ","version":"0.15","tagName":"h3"},{"title":"C++‚Äã","type":1,"pageTitle":"Â≠óÊÆµÁ±ªÂûãÂÖÉ‰ø°ÊÅØ","url":"/zh-CN/docs/guide/xlang/field_type_meta#c","content":" C++ uses the fory::dynamic&lt;V&gt; template tag or .dynamic(bool) builder method:  Using fory::field&lt;&gt; template:  #include &quot;fory/serialization/fory.h&quot; // Abstract base class with pure virtual methods struct Animal { virtual ~Animal() = default; virtual std::string speak() const = 0; }; struct Zoo { // Auto: type info written because Animal is polymorphic (std::is_polymorphic) fory::field&lt;std::shared_ptr&lt;Animal&gt;, 0, fory::nullable&gt; animal; // Force non-dynamic: skip type info even though Animal is polymorphic fory::field&lt;std::shared_ptr&lt;Animal&gt;, 1, fory::nullable, fory::dynamic&lt;false&gt;&gt; fixed_animal; // Force dynamic: write type info even for non-polymorphic types fory::field&lt;std::shared_ptr&lt;Data&gt;, 2, fory::dynamic&lt;true&gt;&gt; polymorphic_data; }; FORY_STRUCT(Zoo, animal, fixed_animal, polymorphic_data);   Using FORY_FIELD_CONFIG macro:  struct Zoo { std::shared_ptr&lt;Animal&gt; animal; std::shared_ptr&lt;Animal&gt; fixed_animal; std::shared_ptr&lt;Data&gt; polymorphic_data; }; FORY_STRUCT(Zoo, animal, fixed_animal, polymorphic_data); FORY_FIELD_CONFIG(Zoo, (animal, fory::F(0).nullable()), // Auto-detect polymorphism (fixed_animal, fory::F(1).nullable().dynamic(false)), // Skip type info (polymorphic_data, fory::F(2).dynamic(true)) // Force type info );   Default Behavior: Fory auto-detects polymorphism via std::is_polymorphic&lt;T&gt;. Types with pure virtual methods are treated as dynamic by default.  ","version":"0.15","tagName":"h3"},{"title":"Go and Rust‚Äã","type":1,"pageTitle":"Â≠óÊÆµÁ±ªÂûãÂÖÉ‰ø°ÊÅØ","url":"/zh-CN/docs/guide/xlang/field_type_meta#go-and-rust","content":" Go and Rust do not require explicit dynamic configuration because:  Go: Interface types are inherently dynamic - Fory can determine from the type whether it's an interfaceRust: Trait objects (dyn Trait) are explicitly marked in the type system  The type system in these languages already indicates whether a field is polymorphic:  // Go: interface types are automatically dynamic type Container struct { Shape Shape // Interface - type info written automatically Circle Circle // Concrete struct - no type info needed }   // Rust: trait objects are explicitly marked struct Container { shape: Box&lt;dyn Shape&gt;, // Trait object - type info written automatically circle: Circle, // Concrete type - no type info needed }   ","version":"0.15","tagName":"h3"},{"title":"Python‚Äã","type":1,"pageTitle":"Â≠óÊÆµÁ±ªÂûãÂÖÉ‰ø°ÊÅØ","url":"/zh-CN/docs/guide/xlang/field_type_meta#python","content":" Use pyfory.field() with the dynamic parameter:  from dataclasses import dataclass from abc import ABC, abstractmethod import pyfory class Shape(ABC): @abstractmethod def area(self) -&gt; float: pass @dataclass class Circle(Shape): radius: float = 0.0 def area(self) -&gt; float: return 3.14159 * self.radius * self.radius @dataclass class Container: # Abstract class: dynamic is always True (type info written) shape: Shape = pyfory.field(id=0) # Concrete type with explicit dynamic=True (force type info) circle: Circle = pyfory.field(id=1, dynamic=True) # Concrete type with explicit dynamic=False (skip type info) fixed_circle: Circle = pyfory.field(id=2, dynamic=False)   Default Behavior:  Mode\tAbstract Class\tConcrete Object Types\tNumeric/str/time TypesNative mode\tTrue\tTrue\tFalse Xlang mode\tTrue\tFalse\tFalse  Abstract classes: dynamic is always True (type info must be written)Native mode: dynamic defaults to True for object types, False for numeric/str/time typesXlang mode: dynamic defaults to False for concrete types  ","version":"0.15","tagName":"h3"},{"title":"ÈªòËÆ§Ë°å‰∏∫‚Äã","type":1,"pageTitle":"Â≠óÊÆµÁ±ªÂûãÂÖÉ‰ø°ÊÅØ","url":"/zh-CN/docs/guide/xlang/field_type_meta#ÈªòËÆ§Ë°å‰∏∫","content":" Language\tInterface/Abstract Types\tConcrete TypesJava\tDynamic (write type)\tStatic (no type) C++\tDynamic (virtual)\tStatic Go\tDynamic (interface)\tStatic (struct) Rust\tDynamic (dyn Trait)\tStatic Python\tDynamic (all objects)\tDynamic  ","version":"0.15","tagName":"h2"},{"title":"Performance Considerations‚Äã","type":1,"pageTitle":"Â≠óÊÆµÁ±ªÂûãÂÖÉ‰ø°ÊÅØ","url":"/zh-CN/docs/guide/xlang/field_type_meta#performance-considerations","content":" Writing type metadata has overhead:  Space: Type information adds bytes to serialized outputTime: Type resolution during serialization/deserialization  Use dynamic = FALSE (Java) or dynamic(false) (C++) when:  You're certain the runtime type matches the declared typePerformance is critical and polymorphism is not neededThe field type is effectively final  ","version":"0.15","tagName":"h2"},{"title":"Cross-Language Compatibility‚Äã","type":1,"pageTitle":"Â≠óÊÆµÁ±ªÂûãÂÖÉ‰ø°ÊÅØ","url":"/zh-CN/docs/guide/xlang/field_type_meta#cross-language-compatibility","content":" When serializing data for cross-language consumption:  Use consistent type registration: Register types with the same ID across languagesPrefer explicit configuration: Use dynamic = TRUE when unsure about receiver's expectationsDocument polymorphic fields: Make it clear which fields may contain subtypes  ","version":"0.15","tagName":"h2"},{"title":"Example: Polymorphic Container‚Äã","type":1,"pageTitle":"Â≠óÊÆµÁ±ªÂûãÂÖÉ‰ø°ÊÅØ","url":"/zh-CN/docs/guide/xlang/field_type_meta#example-polymorphic-container","content":" ","version":"0.15","tagName":"h2"},{"title":"Java‚Äã","type":1,"pageTitle":"Â≠óÊÆµÁ±ªÂûãÂÖÉ‰ø°ÊÅØ","url":"/zh-CN/docs/guide/xlang/field_type_meta#java-1","content":" public interface Animal { String speak(); } public class Dog implements Animal { private String name; @Override public String speak() { return &quot;Woof!&quot;; } } public class Cat implements Animal { private String name; @Override public String speak() { return &quot;Meow!&quot;; } } public class Zoo { // Type info written because Animal is an interface @ForyField(id = 0) private Animal animal; // Force type info for concrete type that may hold subtypes @ForyField(id = 1, dynamic = Dynamic.TRUE) private Dog maybeMixedBreed; }   ","version":"0.15","tagName":"h3"},{"title":"C++‚Äã","type":1,"pageTitle":"Â≠óÊÆµÁ±ªÂûãÂÖÉ‰ø°ÊÅØ","url":"/zh-CN/docs/guide/xlang/field_type_meta#c-1","content":" // Abstract base class with pure virtual methods class Animal { public: virtual std::string speak() const = 0; virtual ~Animal() = default; }; class Dog : public Animal { public: std::string name; std::string speak() const override { return &quot;Woof!&quot;; } }; struct Zoo { std::shared_ptr&lt;Animal&gt; animal; std::shared_ptr&lt;Dog&gt; maybe_mixed_breed; }; FORY_STRUCT(Zoo, animal, maybe_mixed_breed); FORY_FIELD_CONFIG(Zoo, (animal, fory::F(0).nullable()), // Auto-detect (Animal is polymorphic) (maybe_mixed_breed, fory::F(1).dynamic(true)) // Force dynamic for concrete type );   ","version":"0.15","tagName":"h3"},{"title":"Related Topics‚Äã","type":1,"pageTitle":"Â≠óÊÆµÁ±ªÂûãÂÖÉ‰ø°ÊÅØ","url":"/zh-CN/docs/guide/xlang/field_type_meta#related-topics","content":" Field Nullability - Controlling null handling for fieldsField Reference Tracking - Managing shared/circular referencesType Mapping - Cross-language type compatibility ","version":"0.15","tagName":"h2"},{"title":"ÂºïÁî®Ë∑üË∏™","type":0,"sectionRef":"#","url":"/zh-CN/docs/guide/xlang/reference_tracking","content":"","keywords":"","version":"0.15"},{"title":"Ê¶ÇËø∞‚Äã","type":1,"pageTitle":"ÂºïÁî®Ë∑üË∏™","url":"/zh-CN/docs/guide/xlang/reference_tracking#Ê¶ÇËø∞","content":" Reference tracking enables:  Shared references: Same object referenced multiple times is serialized onceCircular references: Objects that reference themselves or form cyclesMemory efficiency: No duplicate data for repeated objects  ","version":"0.15","tagName":"h2"},{"title":"ÂêØÁî®ÂºïÁî®Ë∑üË∏™‚Äã","type":1,"pageTitle":"ÂºïÁî®Ë∑üË∏™","url":"/zh-CN/docs/guide/xlang/reference_tracking#ÂêØÁî®ÂºïÁî®Ë∑üË∏™","content":" ","version":"0.15","tagName":"h2"},{"title":"Java‚Äã","type":1,"pageTitle":"ÂºïÁî®Ë∑üË∏™","url":"/zh-CN/docs/guide/xlang/reference_tracking#java","content":" Fory fory = Fory.builder() .withLanguage(Language.XLANG) .withRefTracking(true) .build();   ","version":"0.15","tagName":"h3"},{"title":"Python‚Äã","type":1,"pageTitle":"ÂºïÁî®Ë∑üË∏™","url":"/zh-CN/docs/guide/xlang/reference_tracking#python","content":" fory = pyfory.Fory(xlang=True, ref_tracking=True)   ","version":"0.15","tagName":"h3"},{"title":"Go‚Äã","type":1,"pageTitle":"ÂºïÁî®Ë∑üË∏™","url":"/zh-CN/docs/guide/xlang/reference_tracking#go","content":" fory := forygo.NewFory(true) // true enables ref tracking   ","version":"0.15","tagName":"h3"},{"title":"C++‚Äã","type":1,"pageTitle":"ÂºïÁî®Ë∑üË∏™","url":"/zh-CN/docs/guide/xlang/reference_tracking#c","content":" auto fory = fory::Fory::create(fory::Config{ .ref_tracking = true });   ","version":"0.15","tagName":"h3"},{"title":"Rust‚Äã","type":1,"pageTitle":"ÂºïÁî®Ë∑üË∏™","url":"/zh-CN/docs/guide/xlang/reference_tracking#rust","content":" let fory = Fory::builder() .with_ref_tracking(true) .build();   ","version":"0.15","tagName":"h3"},{"title":"Á∫øÊ†ºÂºè‚Äã","type":1,"pageTitle":"ÂºïÁî®Ë∑üË∏™","url":"/zh-CN/docs/guide/xlang/reference_tracking#Á∫øÊ†ºÂºè","content":" When reference tracking is enabled, nullable fields write a ref flag byte before the value:  [ref_flag] [value data if not null/ref]   Where ref_flag is:  Value\tMeaning-1 (NULL_FLAG)\tValue is null -2 (NOT_NULL_VALUE_FLAG)\tValue is present, first occurrence ‚â•0\tReference ID pointing to previously serialized object  ","version":"0.15","tagName":"h2"},{"title":"ÂºïÁî®Ë∑üË∏™‰∏éÂèØÁ©∫ÊÄß‚Äã","type":1,"pageTitle":"ÂºïÁî®Ë∑üË∏™","url":"/zh-CN/docs/guide/xlang/reference_tracking#ÂºïÁî®Ë∑üË∏™‰∏éÂèØÁ©∫ÊÄß","content":" These are independent concepts:  Concept\tPurpose\tControlled ByNullability\tWhether a field can hold null values\tField type (Optional&lt;T&gt;) or annotation Reference Tracking\tWhether duplicate objects are deduplicated\tGlobal refTracking option  Key behavior:  Ref flag bytes are only written for nullable fieldsNon-nullable fields skip ref flags entirely, even with refTracking=trueReference deduplication only applies to objects that appear multiple times  // Reference tracking enabled, but non-nullable fields still skip ref flags Fory fory = Fory.builder() .withLanguage(Language.XLANG) .withRefTracking(true) .build();   ","version":"0.15","tagName":"h2"},{"title":"Per-Field Reference Tracking‚Äã","type":1,"pageTitle":"ÂºïÁî®Ë∑üË∏™","url":"/zh-CN/docs/guide/xlang/reference_tracking#per-field-reference-tracking","content":" By default, most fields do not track references even when global refTracking=true. Only specific pointer/smart pointer types track references by default.  ","version":"0.15","tagName":"h2"},{"title":"ÈªòËÆ§Ë°å‰∏∫ by Language‚Äã","type":1,"pageTitle":"ÂºïÁî®Ë∑üË∏™","url":"/zh-CN/docs/guide/xlang/reference_tracking#ÈªòËÆ§Ë°å‰∏∫-by-language","content":" Language\tDefault Ref Tracking\tTypes That Track Refs by DefaultJava\tNo\tNone (use annotation to enable) Python\tNo\tNone (use annotation to enable) Go\tNo\tNone (use fory:&quot;ref&quot; to enable) C++\tNo\tstd::shared_ptr&lt;T&gt; Rust\tNo\tRc&lt;T&gt;, Arc&lt;T&gt;, Weak&lt;T&gt;  ","version":"0.15","tagName":"h3"},{"title":"Customizing Per-Field Ref Tracking‚Äã","type":1,"pageTitle":"ÂºïÁî®Ë∑üË∏™","url":"/zh-CN/docs/guide/xlang/reference_tracking#customizing-per-field-ref-tracking","content":" Java: @ForyField Annotation‚Äã  public class Document { // Default: no ref tracking String title; // Enable ref tracking for this field @ForyField(trackingRef = true) Author author; // Shared across documents, track refs to avoid duplicates @ForyField(trackingRef = true) List&lt;Tag&gt; tags; }   C++: fory::field Wrapper‚Äã  struct Document { std::string title; // shared_ptr tracks refs by default std::shared_ptr&lt;Author&gt; author; // Explicitly enable ref tracking fory::field&lt;std::vector&lt;Tag&gt;, 1, fory::track_ref&lt;true&gt;&gt; tags; // Explicitly disable ref tracking fory::field&lt;std::shared_ptr&lt;Data&gt;, 2, fory::track_ref&lt;false&gt;&gt; data; }; FORY_STRUCT(Document, title, author, tags, data);   Rust: Field Attributes‚Äã  #[derive(Fory)] #[tag(&quot;example.Document&quot;)] struct Document { title: String, // Rc/Arc track refs by default author: Rc&lt;Author&gt;, // Explicitly enable ref tracking #[track_ref] tags: Vec&lt;Tag&gt;, }   Go: Struct Tags‚Äã  type Document struct { Title string // Enable ref tracking for pointer to struct Author *Author `fory:&quot;ref&quot;` // Enable ref tracking for slice Tags []Tag `fory:&quot;ref&quot;` }   ","version":"0.15","tagName":"h3"},{"title":"When to Enable Per-Field Ref Tracking‚Äã","type":1,"pageTitle":"ÂºïÁî®Ë∑üË∏™","url":"/zh-CN/docs/guide/xlang/reference_tracking#when-to-enable-per-field-ref-tracking","content":" Enable ref tracking for fields that:  May contain the same object instance multiple timesAre part of circular reference chainsHold large objects that might be shared  Disable (or leave default) for fields that:  Always contain unique valuesAre primitives or simple value typesDon't participate in object sharing  ","version":"0.15","tagName":"h3"},{"title":"Example: Shared References‚Äã","type":1,"pageTitle":"ÂºïÁî®Ë∑üË∏™","url":"/zh-CN/docs/guide/xlang/reference_tracking#example-shared-references","content":" public class Container { List&lt;String&gt; data; List&lt;String&gt; sameData; // Points to same list } Container obj = new Container(); obj.data = Arrays.asList(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;); obj.sameData = obj.data; // Shared reference // With refTracking=true: data serialized once, sameData stores reference ID // With refTracking=false: data serialized twice (duplicate)   ","version":"0.15","tagName":"h2"},{"title":"Example: Circular References‚Äã","type":1,"pageTitle":"ÂºïÁî®Ë∑üË∏™","url":"/zh-CN/docs/guide/xlang/reference_tracking#example-circular-references","content":" public class Node { String value; Node next; } Node a = new Node(&quot;A&quot;); Node b = new Node(&quot;B&quot;); a.next = b; b.next = a; // Circular reference // With refTracking=true: works correctly // With refTracking=false: infinite recursion error   ","version":"0.15","tagName":"h2"},{"title":"Language Support‚Äã","type":1,"pageTitle":"ÂºïÁî®Ë∑üË∏™","url":"/zh-CN/docs/guide/xlang/reference_tracking#language-support","content":" Language\tShared Refs\tCircular RefsJava\tYes\tYes Python\tYes\tYes Go\tYes\tYes C++\tYes\tYes JavaScript\tYes\tYes Rust\tYes\tNo (ownership rules)  ","version":"0.15","tagName":"h2"},{"title":"Performance Considerations‚Äã","type":1,"pageTitle":"ÂºïÁî®Ë∑üË∏™","url":"/zh-CN/docs/guide/xlang/reference_tracking#performance-considerations","content":" Overhead: Reference tracking adds a hash map lookup per objectWhen to enable: Use when data has shared/circular referencesWhen to disable: Use for simple data structures without sharing  ","version":"0.15","tagName":"h2"},{"title":"See Also‚Äã","type":1,"pageTitle":"ÂºïÁî®Ë∑üË∏™","url":"/zh-CN/docs/guide/xlang/reference_tracking#see-also","content":" Field Nullability - How nullability affects serializationSerialization - Basic cross-language serialization examplesXlang Specification - Binary protocol details ","version":"0.15","tagName":"h2"},{"title":"Ë°åÊ†ºÂºè","type":0,"sectionRef":"#","url":"/zh-CN/docs/guide/xlang/row_format","content":"","keywords":"","version":"0.15"},{"title":"ÁâπÊÄß‚Äã","type":1,"pageTitle":"Ë°åÊ†ºÂºè","url":"/zh-CN/docs/guide/xlang/row_format#ÁâπÊÄß","content":" Èõ∂Êã∑Ë¥ùÈöèÊú∫ËÆøÈóÆÔºöÁõ¥Êé•‰ªé‰∫åËøõÂà∂Êï∞ÊçÆ‰∏≠ËØªÂèñÁâπÂÆöÂ≠óÊÆµÈÉ®ÂàÜÂ∫èÂàóÂåñÔºöÂú®Â∫èÂàóÂåñÊúüÈó¥Ë∑≥Ëøá‰∏çÂøÖË¶ÅÁöÑÂ≠óÊÆµË∑®ËØ≠Ë®ÄÂÖºÂÆπÔºöË°åÊ†ºÂºèÊï∞ÊçÆÂèØ‰ª•Âú® Java„ÄÅPython Âíå C++ ‰πãÈó¥ÂÖ±‰∫´Apache Arrow ÈõÜÊàêÔºöÂ∞ÜË°åÊ†ºÂºè‰∏é Arrow RecordBatch Áõ∏‰∫íËΩ¨Êç¢‰ª•ËøõË°åÂàÜÊûêÔºàJava/PythonÔºâ  ","version":"0.15","tagName":"h2"},{"title":"Java‚Äã","type":1,"pageTitle":"Ë°åÊ†ºÂºè","url":"/zh-CN/docs/guide/xlang/row_format#java","content":" public class Bar { String f1; List&lt;Long&gt; f2; } public class Foo { int f1; List&lt;Integer&gt; f2; Map&lt;String, Integer&gt; f3; List&lt;Bar&gt; f4; } RowEncoder&lt;Foo&gt; encoder = Encoders.bean(Foo.class); Foo foo = new Foo(); foo.f1 = 10; foo.f2 = IntStream.range(0, 1000000).boxed().collect(Collectors.toList()); foo.f3 = IntStream.range(0, 1000000).boxed().collect(Collectors.toMap(i -&gt; &quot;k&quot;+i, i-&gt;i)); List&lt;Bar&gt; bars = new ArrayList&lt;&gt;(1000000); for (int i = 0; i &lt; 1000000; i++) { Bar bar = new Bar(); bar.f1 = &quot;s&quot;+i; bar.f2 = LongStream.range(0, 10).boxed().collect(Collectors.toList()); bars.add(bar); } foo.f4 = bars; // ÂèØ‰ª•Ë¢´ Python Èõ∂Êã∑Ë¥ùËØªÂèñ BinaryRow binaryRow = encoder.toRow(foo); // ÂèØ‰ª•ÊòØÊù•Ëá™ Python ÁöÑÊï∞ÊçÆ Foo newFoo = encoder.fromRow(binaryRow); // Èõ∂Êã∑Ë¥ùËØªÂèñ List&lt;Integer&gt; f2 BinaryArray binaryArray2 = binaryRow.getArray(1); // Èõ∂Êã∑Ë¥ùËØªÂèñ List&lt;Bar&gt; f4 BinaryArray binaryArray4 = binaryRow.getArray(3); // Èõ∂Êã∑Ë¥ùËØªÂèñ List&lt;Bar&gt; f4 ÁöÑÁ¨¨ 11 ‰∏™ÂÖÉÁ¥† BinaryRow barStruct = binaryArray4.getStruct(10); // Èõ∂Êã∑Ë¥ùËØªÂèñ List&lt;Bar&gt; f4 ÁöÑÁ¨¨ 11 ‰∏™ÂÖÉÁ¥†ÁöÑ f2 ÁöÑÁ¨¨ 6 ‰∏™ÂÖÉÁ¥† barStruct.getArray(1).getInt64(5); RowEncoder&lt;Bar&gt; barEncoder = Encoders.bean(Bar.class); // ÂèçÂ∫èÂàóÂåñÈÉ®ÂàÜÊï∞ÊçÆ Bar newBar = barEncoder.fromRow(barStruct); Bar newBar2 = barEncoder.fromRow(binaryArray4.getStruct(20));   ","version":"0.15","tagName":"h2"},{"title":"Python‚Äã","type":1,"pageTitle":"Ë°åÊ†ºÂºè","url":"/zh-CN/docs/guide/xlang/row_format#python","content":" @dataclass class Bar: f1: str f2: List[pa.int64] @dataclass class Foo: f1: pa.int32 f2: List[pa.int32] f3: Dict[str, pa.int32] f4: List[Bar] encoder = pyfory.encoder(Foo) foo = Foo(f1=10, f2=list(range(1000_000)), f3={f&quot;k{i}&quot;: i for i in range(1000_000)}, f4=[Bar(f1=f&quot;s{i}&quot;, f2=list(range(10))) for i in range(1000_000)]) binary: bytes = encoder.to_row(foo).to_bytes() print(f&quot;start: {datetime.datetime.now()}&quot;) foo_row = pyfory.RowData(encoder.schema, binary) print(foo_row.f2[100000], foo_row.f4[100000].f1, foo_row.f4[200000].f2[5]) print(f&quot;end: {datetime.datetime.now()}&quot;) binary = pickle.dumps(foo) print(f&quot;pickle start: {datetime.datetime.now()}&quot;) new_foo = pickle.loads(binary) print(new_foo.f2[100000], new_foo.f4[100000].f1, new_foo.f4[200000].f2[5]) print(f&quot;pickle end: {datetime.datetime.now()}&quot;)   ","version":"0.15","tagName":"h2"},{"title":"Apache Arrow ÊîØÊåÅ‚Äã","type":1,"pageTitle":"Ë°åÊ†ºÂºè","url":"/zh-CN/docs/guide/xlang/row_format#apache-arrow-ÊîØÊåÅ","content":" Fory Ë°åÊ†ºÂºèÊîØÊåÅ‰ªé/Âà∞ Arrow Table/RecordBatch ÁöÑËá™Âä®ËΩ¨Êç¢Ôºå‰ª•Áî®‰∫éÂàÜÊûêÂ∑•‰ΩúË¥üËΩΩ„ÄÇ  ","version":"0.15","tagName":"h2"},{"title":"Java‚Äã","type":1,"pageTitle":"Ë°åÊ†ºÂºè","url":"/zh-CN/docs/guide/xlang/row_format#java-1","content":" Schema schema = TypeInference.inferSchema(BeanA.class); ArrowWriter arrowWriter = ArrowUtils.createArrowWriter(schema); Encoder&lt;BeanA&gt; encoder = Encoders.rowEncoder(BeanA.class); for (int i = 0; i &lt; 10; i++) { BeanA beanA = BeanA.createBeanA(2); arrowWriter.write(encoder.toRow(beanA)); } return arrowWriter.finishAsRecordBatch();   ","version":"0.15","tagName":"h3"},{"title":"Python‚Äã","type":1,"pageTitle":"Ë°åÊ†ºÂºè","url":"/zh-CN/docs/guide/xlang/row_format#python-1","content":" import pyfory encoder = pyfory.encoder(Foo) encoder.to_arrow_record_batch([foo] * 10000) encoder.to_arrow_table([foo] * 10000)   ","version":"0.15","tagName":"h3"},{"title":"Êé•Âè£ÂíåÊâ©Â±ïÁ±ªÂûãÁöÑÊîØÊåÅ‚Äã","type":1,"pageTitle":"Ë°åÊ†ºÂºè","url":"/zh-CN/docs/guide/xlang/row_format#Êé•Âè£ÂíåÊâ©Â±ïÁ±ªÂûãÁöÑÊîØÊåÅ","content":" Fory ÊîØÊåÅ Java interface Á±ªÂûãÂíåÂ≠êÁ±ªÔºàextendsÔºâÁ±ªÂûãÁöÑË°åÊ†ºÂºèÊò†Â∞ÑÔºåÂÆûÁé∞Êõ¥Âä®ÊÄÅÂíåÁÅµÊ¥ªÁöÑÊï∞ÊçÆ schema„ÄÇ  Ëøô‰∫õÂ¢ûÂº∫ÂäüËÉΩÂú® #2243„ÄÅ#2250 Âíå #2256 ‰∏≠ÂºïÂÖ•„ÄÇ  ","version":"0.15","tagName":"h2"},{"title":"Á§∫‰æãÔºö‰ΩøÁî® RowEncoder ÁöÑÊé•Âè£Êò†Â∞Ñ‚Äã","type":1,"pageTitle":"Ë°åÊ†ºÂºè","url":"/zh-CN/docs/guide/xlang/row_format#Á§∫‰æã‰ΩøÁî®-rowencoder-ÁöÑÊé•Âè£Êò†Â∞Ñ","content":" public interface Animal { String speak(); } public class Dog implements Animal { public String name; @Override public String speak() { return &quot;Woof&quot;; } } // ‰ΩøÁî®Êé•Âè£Á±ªÂûãÁöÑ RowEncoder ËøõË°åÁºñÁ†ÅÂíåËß£Á†Å RowEncoder&lt;Animal&gt; encoder = Encoders.bean(Animal.class); Dog dog = new Dog(); dog.name = &quot;Bingo&quot;; BinaryRow row = encoder.toRow(dog); Animal decoded = encoder.fromRow(row); System.out.println(decoded.speak()); // Woof   ","version":"0.15","tagName":"h3"},{"title":"Á§∫‰æãÔºö‰ΩøÁî® RowEncoder ÁöÑÊâ©Â±ïÁ±ªÂûã‚Äã","type":1,"pageTitle":"Ë°åÊ†ºÂºè","url":"/zh-CN/docs/guide/xlang/row_format#Á§∫‰æã‰ΩøÁî®-rowencoder-ÁöÑÊâ©Â±ïÁ±ªÂûã","content":" public class Parent { public String parentField; } public class Child extends Parent { public String childField; } // ‰ΩøÁî®Áà∂Á±ªÁ±ªÂûãÁöÑ RowEncoder ËøõË°åÁºñÁ†ÅÂíåËß£Á†Å RowEncoder&lt;Parent&gt; encoder = Encoders.bean(Parent.class); Child child = new Child(); child.parentField = &quot;Hello&quot;; child.childField = &quot;World&quot;; BinaryRow row = encoder.toRow(child); Parent decoded = encoder.fromRow(row);   ","version":"0.15","tagName":"h3"},{"title":"Âè¶ËØ∑ÂèÇÈòÖ‚Äã","type":1,"pageTitle":"Ë°åÊ†ºÂºè","url":"/zh-CN/docs/guide/xlang/row_format#Âè¶ËØ∑ÂèÇÈòÖ","content":" Ë°åÊ†ºÂºèËßÑËåÉ - ‰∫åËøõÂà∂Ê†ºÂºèËØ¶ÊÉÖJava Ë°åÊ†ºÂºèÊåáÂçó - Java ÁâπÂÆöÁöÑË°åÊ†ºÂºèÊñáÊ°£Python Ë°åÊ†ºÂºèÊåáÂçó - Python ÁâπÂÆöÁöÑË°åÊ†ºÂºèÊñáÊ°£ ","version":"0.15","tagName":"h2"},{"title":"ÂÖ•Èó®ÊåáÂçó","type":0,"sectionRef":"#","url":"/zh-CN/docs/guide/xlang/xlang_getting_started","content":"","keywords":"","version":"0.15"},{"title":"ÂÆâË£Ö‚Äã","type":1,"pageTitle":"ÂÖ•Èó®ÊåáÂçó","url":"/zh-CN/docs/guide/xlang/xlang_getting_started#ÂÆâË£Ö","content":" ","version":"0.15","tagName":"h2"},{"title":"Java‚Äã","type":1,"pageTitle":"ÂÖ•Èó®ÊåáÂçó","url":"/zh-CN/docs/guide/xlang/xlang_getting_started#java","content":" MavenÔºö  &lt;dependency&gt; &lt;groupId&gt;org.apache.fory&lt;/groupId&gt; &lt;artifactId&gt;fory-core&lt;/artifactId&gt; &lt;version&gt;0.14.1&lt;/version&gt; &lt;/dependency&gt;   GradleÔºö  implementation 'org.apache.fory:fory-core:0.14.1'   ","version":"0.15","tagName":"h3"},{"title":"Python‚Äã","type":1,"pageTitle":"ÂÖ•Èó®ÊåáÂçó","url":"/zh-CN/docs/guide/xlang/xlang_getting_started#python","content":" pip install pyfory   ","version":"0.15","tagName":"h3"},{"title":"Go‚Äã","type":1,"pageTitle":"ÂÖ•Èó®ÊåáÂçó","url":"/zh-CN/docs/guide/xlang/xlang_getting_started#go","content":" go get github.com/apache/fory/go/fory   ","version":"0.15","tagName":"h3"},{"title":"Rust‚Äã","type":1,"pageTitle":"ÂÖ•Èó®ÊåáÂçó","url":"/zh-CN/docs/guide/xlang/xlang_getting_started#rust","content":" [dependencies] fory = &quot;0.14&quot;   ","version":"0.15","tagName":"h3"},{"title":"JavaScript‚Äã","type":1,"pageTitle":"ÂÖ•Èó®ÊåáÂçó","url":"/zh-CN/docs/guide/xlang/xlang_getting_started#javascript","content":" npm install @apache-fory/fory   ","version":"0.15","tagName":"h3"},{"title":"C++‚Äã","type":1,"pageTitle":"ÂÖ•Èó®ÊåáÂçó","url":"/zh-CN/docs/guide/xlang/xlang_getting_started#c","content":" ‰ΩøÁî® Bazel Êàñ CMake ‰ªéÊ∫ê‰ª£Á†ÅÊûÑÂª∫„ÄÇÊúâÂÖ≥ËØ¶ÁªÜ‰ø°ÊÅØÔºåËØ∑ÂèÇÈòÖ C++ ÊåáÂçó„ÄÇ  ","version":"0.15","tagName":"h3"},{"title":"ÂêØÁî®Ë∑®ËØ≠Ë®ÄÊ®°Âºè‚Äã","type":1,"pageTitle":"ÂÖ•Èó®ÊåáÂçó","url":"/zh-CN/docs/guide/xlang/xlang_getting_started#ÂêØÁî®Ë∑®ËØ≠Ë®ÄÊ®°Âºè","content":" ÊØèÁßçËØ≠Ë®ÄÈÉΩÈúÄË¶ÅÂêØÁî® xlang Ê®°Âºè‰ª•Á°Æ‰øùË∑®ËØ≠Ë®ÄÁöÑ‰∫åËøõÂà∂ÂÖºÂÆπÊÄß„ÄÇ  ","version":"0.15","tagName":"h2"},{"title":"Java‚Äã","type":1,"pageTitle":"ÂÖ•Èó®ÊåáÂçó","url":"/zh-CN/docs/guide/xlang/xlang_getting_started#java-1","content":" import org.apache.fory.*; import org.apache.fory.config.*; Fory fory = Fory.builder() .withLanguage(Language.XLANG) // ÂêØÁî®Ë∑®ËØ≠Ë®ÄÊ®°Âºè .withRefTracking(true) // ÂèØÈÄâÔºöÁî®‰∫éÂæ™ÁéØÂºïÁî® .build();   ","version":"0.15","tagName":"h3"},{"title":"Python‚Äã","type":1,"pageTitle":"ÂÖ•Èó®ÊåáÂçó","url":"/zh-CN/docs/guide/xlang/xlang_getting_started#python-1","content":" import pyfory # xlang Ê®°ÂºèÈªòËÆ§ÂêØÁî® fory = pyfory.Fory() # ÊòæÂºèÈÖçÁΩÆ fory = pyfory.Fory(ref_tracking=True)   ","version":"0.15","tagName":"h3"},{"title":"Go‚Äã","type":1,"pageTitle":"ÂÖ•Èó®ÊåáÂçó","url":"/zh-CN/docs/guide/xlang/xlang_getting_started#go-1","content":" import forygo &quot;github.com/apache/fory/go/fory&quot; fory := forygo.NewFory() // ÊàñÂêØÁî®ÂºïÁî®Ë∑üË∏™ fory := forygo.NewFory(true)   ","version":"0.15","tagName":"h3"},{"title":"Rust‚Äã","type":1,"pageTitle":"ÂÖ•Èó®ÊåáÂçó","url":"/zh-CN/docs/guide/xlang/xlang_getting_started#rust-1","content":" use fory::Fory; let fory = Fory::default();   ","version":"0.15","tagName":"h3"},{"title":"JavaScript‚Äã","type":1,"pageTitle":"ÂÖ•Èó®ÊåáÂçó","url":"/zh-CN/docs/guide/xlang/xlang_getting_started#javascript-1","content":" import Fory from &quot;@apache-fory/fory&quot;; const fory = new Fory();   ","version":"0.15","tagName":"h3"},{"title":"C++‚Äã","type":1,"pageTitle":"ÂÖ•Èó®ÊåáÂçó","url":"/zh-CN/docs/guide/xlang/xlang_getting_started#c-1","content":" #include &quot;fory/serialization/fory.h&quot; using namespace fory::serialization; auto fory = Fory::builder() .xlang(true) .build();   ","version":"0.15","tagName":"h3"},{"title":"Á±ªÂûãÊ≥®ÂÜå‚Äã","type":1,"pageTitle":"ÂÖ•Èó®ÊåáÂçó","url":"/zh-CN/docs/guide/xlang/xlang_getting_started#Á±ªÂûãÊ≥®ÂÜå","content":" Ëá™ÂÆö‰πâÁ±ªÂûãÂøÖÈ°ªÂú®ÊâÄÊúâËØ≠Ë®Ä‰∏≠‰ΩøÁî®‰∏ÄËá¥ÁöÑÂêçÁß∞Êàñ ID ËøõË°åÊ≥®ÂÜå„ÄÇ  ","version":"0.15","tagName":"h2"},{"title":"ÊåâÂêçÁß∞Ê≥®ÂÜåÔºàÊé®ËçêÔºâ‚Äã","type":1,"pageTitle":"ÂÖ•Èó®ÊåáÂçó","url":"/zh-CN/docs/guide/xlang/xlang_getting_started#ÊåâÂêçÁß∞Ê≥®ÂÜåÊé®Ëçê","content":" ‰ΩøÁî®Â≠óÁ¨¶‰∏≤ÂêçÁß∞Êõ¥ÁÅµÊ¥ªÔºå‰∏çÊòì‰∫ßÁîüÂÜ≤Á™ÅÔºö  JavaÔºö  fory.register(Person.class, &quot;example.Person&quot;);   PythonÔºö  fory.register_type(Person, typename=&quot;example.Person&quot;)   GoÔºö  fory.RegisterNamedType(Person{}, &quot;example.Person&quot;)   RustÔºö  #[derive(Fory)] #[tag(&quot;example.Person&quot;)] struct Person { name: String, age: i32, }   JavaScriptÔºö  const description = Type.object(&quot;example.Person&quot;, { name: Type.string(), age: Type.int32(), }); fory.registerSerializer(description);   C++Ôºö  fory.register_struct&lt;Person&gt;(&quot;example.Person&quot;); // ÂØπ‰∫éÊûö‰∏æÔºå‰ΩøÁî® register_enumÔºö // fory.register_enum&lt;Color&gt;(&quot;example.Color&quot;);   ","version":"0.15","tagName":"h3"},{"title":"Êåâ ID Ê≥®ÂÜå‚Äã","type":1,"pageTitle":"ÂÖ•Èó®ÊåáÂçó","url":"/zh-CN/docs/guide/xlang/xlang_getting_started#Êåâ-id-Ê≥®ÂÜå","content":" ‰ΩøÁî®Êï∞Â≠ó ID Êõ¥Âø´ÔºåÁîüÊàêÁöÑ‰∫åËøõÂà∂ËæìÂá∫Êõ¥Â∞èÔºö  JavaÔºö  fory.register(Person.class, 100);   PythonÔºö  fory.register_type(Person, type_id=100)   GoÔºö  fory.Register(Person{}, 100)   C++Ôºö  fory.register_struct&lt;Person&gt;(100); // ÂØπ‰∫éÊûö‰∏æÔºå‰ΩøÁî® register_enumÔºö // fory.register_enum&lt;Color&gt;(101);   ","version":"0.15","tagName":"h3"},{"title":"Hello World Á§∫‰æã‚Äã","type":1,"pageTitle":"ÂÖ•Èó®ÊåáÂçó","url":"/zh-CN/docs/guide/xlang/xlang_getting_started#hello-world-Á§∫‰æã","content":" ‰∏Ä‰∏™ÂÆåÊï¥ÁöÑÁ§∫‰æãÔºåÂ±ïÁ§∫‰∫ÜÂú® Java ‰∏≠Â∫èÂàóÂåñÂπ∂Âú® Python ‰∏≠ÂèçÂ∫èÂàóÂåñÔºö  ","version":"0.15","tagName":"h2"},{"title":"JavaÔºàÂ∫èÂàóÂåñÂô®Ôºâ‚Äã","type":1,"pageTitle":"ÂÖ•Èó®ÊåáÂçó","url":"/zh-CN/docs/guide/xlang/xlang_getting_started#javaÂ∫èÂàóÂåñÂô®","content":" import org.apache.fory.*; import org.apache.fory.config.*; import java.nio.file.*; public class Person { public String name; public int age; } public class HelloWorld { public static void main(String[] args) throws Exception { Fory fory = Fory.builder() .withLanguage(Language.XLANG) .build(); fory.register(Person.class, &quot;example.Person&quot;); Person person = new Person(); person.name = &quot;Alice&quot;; person.age = 30; byte[] bytes = fory.serialize(person); Files.write(Path.of(&quot;person.bin&quot;), bytes); System.out.println(&quot;Serialized to person.bin&quot;); } }   ","version":"0.15","tagName":"h3"},{"title":"PythonÔºàÂèçÂ∫èÂàóÂåñÂô®Ôºâ‚Äã","type":1,"pageTitle":"ÂÖ•Èó®ÊåáÂçó","url":"/zh-CN/docs/guide/xlang/xlang_getting_started#pythonÂèçÂ∫èÂàóÂåñÂô®","content":" import pyfory from dataclasses import dataclass @dataclass class Person: name: str age: pyfory.Int32Type fory = pyfory.Fory() fory.register_type(Person, typename=&quot;example.Person&quot;) with open(&quot;person.bin&quot;, &quot;rb&quot;) as f: data = f.read() person = fory.deserialize(data) print(f&quot;Name: {person.name}, Age: {person.age}&quot;) # ËæìÂá∫: Name: Alice, Age: 30   ","version":"0.15","tagName":"h3"},{"title":"ÊúÄ‰Ω≥ÂÆûË∑µ‚Äã","type":1,"pageTitle":"ÂÖ•Èó®ÊåáÂçó","url":"/zh-CN/docs/guide/xlang/xlang_getting_started#ÊúÄ‰Ω≥ÂÆûË∑µ","content":" ‰ΩøÁî®‰∏ÄËá¥ÁöÑÁ±ªÂûãÂêçÁß∞ÔºöÁ°Æ‰øùÊâÄÊúâËØ≠Ë®Ä‰ΩøÁî®Áõ∏ÂêåÁöÑÁ±ªÂûãÂêçÁß∞Êàñ IDÂêØÁî®ÂºïÁî®Ë∑üË∏™ÔºöÂ¶ÇÊûúÊï∞ÊçÆÂåÖÂê´Âæ™ÁéØÂºïÁî®ÊàñÂÖ±‰∫´ÂºïÁî®ÈáçÁî® Fory ÂÆû‰æãÔºöÂàõÂª∫ Fory ÁöÑÊàêÊú¨ËæÉÈ´òÔºõÂ∫îÈáçÁî®ÂÆû‰æã‰ΩøÁî®Á±ªÂûãÊ≥®Ëß£ÔºöÂú® Python ‰∏≠Ôºå‰ΩøÁî® pyfory.Int32Type Á≠âËøõË°åÁ≤æÁ°ÆÁ±ªÂûãÊò†Â∞ÑÊµãËØïË∑®ËØ≠Ë®ÄÔºöÈ™åËØÅÂ∫èÂàóÂåñÂú®ÊâÄÊúâÁõÆÊ†áËØ≠Ë®Ä‰∏≠ÈÉΩËÉΩÊ≠£Â∏∏Â∑•‰Ωú  ","version":"0.15","tagName":"h2"},{"title":"ÂêéÁª≠Ê≠•È™§‚Äã","type":1,"pageTitle":"ÂÖ•Èó®ÊåáÂçó","url":"/zh-CN/docs/guide/xlang/xlang_getting_started#ÂêéÁª≠Ê≠•È™§","content":" Á±ªÂûãÊò†Â∞Ñ - Ë∑®ËØ≠Ë®ÄÁ±ªÂûãÊò†Â∞ÑÂèÇËÄÉÂ∫èÂàóÂåñ - ËØ¶ÁªÜÁöÑÂ∫èÂàóÂåñÁ§∫‰æãÊïÖÈöúÊéíÊü• - Â∏∏ËßÅÈóÆÈ¢òÂèäËß£ÂÜ≥ÊñπÊ°à ","version":"0.15","tagName":"h2"},{"title":"ÊïÖÈöúÊéíÊü•","type":0,"sectionRef":"#","url":"/zh-CN/docs/guide/xlang/xlang_troubleshooting","content":"","keywords":"","version":"0.15"},{"title":"Á±ªÂûãÊ≥®ÂÜåÈîôËØØ‚Äã","type":1,"pageTitle":"ÊïÖÈöúÊéíÊü•","url":"/zh-CN/docs/guide/xlang/xlang_troubleshooting#Á±ªÂûãÊ≥®ÂÜåÈîôËØØ","content":" ","version":"0.15","tagName":"h2"},{"title":"\"Á±ªÂûãÊú™Ê≥®ÂÜå\"ÈîôËØØ‚Äã","type":1,"pageTitle":"ÊïÖÈöúÊéíÊü•","url":"/zh-CN/docs/guide/xlang/xlang_troubleshooting#Á±ªÂûãÊú™Ê≥®ÂÜåÈîôËØØ","content":" ÁóáÁä∂Ôºö  Error: Type 'example.Person' is not registered   ÂéüÂõ†Ôºö Âú®ÂèçÂ∫èÂàóÂåñ‰πãÂâçÊú™Ê≥®ÂÜåÁ±ªÂûãÔºåÊàñÁ±ªÂûãÂêçÁß∞‰∏çÂåπÈÖç„ÄÇ  Ëß£ÂÜ≥ÊñπÊ°àÔºö  Á°Æ‰øùÁ±ªÂûãÂú®ÂèåÊñπ‰ΩøÁî®Áõ∏ÂêåÁöÑÂêçÁß∞Ê≥®ÂÜåÔºö // Java fory.register(Person.class, &quot;example.Person&quot;); # Python fory.register_type(Person, typename=&quot;example.Person&quot;) Ê£ÄÊü•Á±ªÂûãÂêçÁß∞‰∏≠ÁöÑÊãºÂÜôÈîôËØØÊàñÂ§ßÂ∞èÂÜôÂ∑ÆÂºÇ Âú®‰ªª‰ΩïÂ∫èÂàóÂåñ/ÂèçÂ∫èÂàóÂåñË∞ÉÁî®‰πãÂâçÊ≥®ÂÜåÁ±ªÂûã  ","version":"0.15","tagName":"h3"},{"title":"\"Á±ªÂûã ID ‰∏çÂåπÈÖç\"ÈîôËØØ‚Äã","type":1,"pageTitle":"ÊïÖÈöúÊéíÊü•","url":"/zh-CN/docs/guide/xlang/xlang_troubleshooting#Á±ªÂûã-id-‰∏çÂåπÈÖçÈîôËØØ","content":" ÁóáÁä∂Ôºö  Error: Expected type ID 100, got 101   ÂéüÂõ†Ôºö Ë∑®ËØ≠Ë®Ä‰ΩøÁî®‰∫Ü‰∏çÂêåÁöÑÁ±ªÂûã ID„ÄÇ  Ëß£ÂÜ≥ÊñπÊ°àÔºö ‰ΩøÁî®‰∏ÄËá¥ÁöÑÁ±ªÂûã IDÔºö  // Java fory.register(Person.class, 100); fory.register(Address.class, 101);   # Python fory.register_type(Person, type_id=100) fory.register_type(Address, type_id=101)   ","version":"0.15","tagName":"h3"},{"title":"Á±ªÂûãÊò†Â∞ÑÈóÆÈ¢ò‚Äã","type":1,"pageTitle":"ÊïÖÈöúÊéíÊü•","url":"/zh-CN/docs/guide/xlang/xlang_troubleshooting#Á±ªÂûãÊò†Â∞ÑÈóÆÈ¢ò","content":" ","version":"0.15","tagName":"h2"},{"title":"Êï¥Êï∞Ê∫¢Âá∫‚Äã","type":1,"pageTitle":"ÊïÖÈöúÊéíÊü•","url":"/zh-CN/docs/guide/xlang/xlang_troubleshooting#Êï¥Êï∞Ê∫¢Âá∫","content":" ÁóáÁä∂Ôºö ÂÄºË¢´Êà™Êñ≠ÊàñÊÑèÂ§ñÂåÖË£Ö„ÄÇ  ÂéüÂõ†Ôºö Ë∑®ËØ≠Ë®Ä‰ΩøÁî®‰∫Ü‰∏çÂêåÁöÑÊï¥Êï∞Â§ßÂ∞è„ÄÇ  Ëß£ÂÜ≥ÊñπÊ°àÔºö  Âú® Python ‰∏≠Ôºå‰ΩøÁî®ÊòæÂºèÁ±ªÂûãÊ≥®Ëß£Ôºö @dataclass class Data: value: pyfory.Int32Type # ËÄå‰∏ç‰ªÖ‰ªÖÊòØ 'int' Á°Æ‰øùÊï¥Êï∞ËåÉÂõ¥ÂÖºÂÆπÔºö int8Ôºö-128 Âà∞ 127int16Ôºö-32,768 Âà∞ 32,767int32Ôºö-2,147,483,648 Âà∞ 2,147,483,647  ","version":"0.15","tagName":"h3"},{"title":"ÊµÆÁÇπÁ≤æÂ∫¶ÊçüÂ§±‚Äã","type":1,"pageTitle":"ÊïÖÈöúÊéíÊü•","url":"/zh-CN/docs/guide/xlang/xlang_troubleshooting#ÊµÆÁÇπÁ≤æÂ∫¶ÊçüÂ§±","content":" ÁóáÁä∂Ôºö ÊµÆÁÇπÂÄºÁöÑÁ≤æÂ∫¶Âá∫‰πéÊÑèÊñô„ÄÇ  ÂéüÂõ†Ôºö Ê∑∑Âêà‰ΩøÁî® float32 Âíå float64 Á±ªÂûã„ÄÇ  Ëß£ÂÜ≥ÊñπÊ°àÔºö  ‰ΩøÁî®‰∏ÄËá¥ÁöÑÊµÆÁÇπÁ±ªÂûãÔºö @dataclass class Data: value: pyfory.Float32Type # ÊòæÂºè 32 ‰ΩçÊµÆÁÇπÊï∞ ËØ∑Ê≥®ÊÑèÔºåPython ÁöÑ float ÈªòËÆ§Êò†Â∞ÑÂà∞ float64  ","version":"0.15","tagName":"h3"},{"title":"Â≠óÁ¨¶‰∏≤ÁºñÁ†ÅÈîôËØØ‚Äã","type":1,"pageTitle":"ÊïÖÈöúÊéíÊü•","url":"/zh-CN/docs/guide/xlang/xlang_troubleshooting#Â≠óÁ¨¶‰∏≤ÁºñÁ†ÅÈîôËØØ","content":" ÁóáÁä∂Ôºö  Error: Invalid UTF-8 sequence   ÂéüÂõ†Ôºö Èùû UTF-8 ÁºñÁ†ÅÁöÑÂ≠óÁ¨¶‰∏≤„ÄÇ  Ëß£ÂÜ≥ÊñπÊ°àÔºö  Á°Æ‰øùÊâÄÊúâÂ≠óÁ¨¶‰∏≤ÈÉΩÊòØÊúâÊïàÁöÑ UTF-8 Âú® Python ‰∏≠ÔºåÂú®Â∫èÂàóÂåñ‰πãÂâçËß£Á†ÅÂ≠óËäÇÔºö text = raw_bytes.decode('utf-8')   ","version":"0.15","tagName":"h3"},{"title":"Â≠óÊÆµÈ°∫Â∫èÈóÆÈ¢ò‚Äã","type":1,"pageTitle":"ÊïÖÈöúÊéíÊü•","url":"/zh-CN/docs/guide/xlang/xlang_troubleshooting#Â≠óÊÆµÈ°∫Â∫èÈóÆÈ¢ò","content":" ","version":"0.15","tagName":"h2"},{"title":"\"Â≠óÊÆµ‰∏çÂåπÈÖç\"ÈîôËØØ‚Äã","type":1,"pageTitle":"ÊïÖÈöúÊéíÊü•","url":"/zh-CN/docs/guide/xlang/xlang_troubleshooting#Â≠óÊÆµ‰∏çÂåπÈÖçÈîôËØØ","content":" ÁóáÁä∂Ôºö ÂèçÂ∫èÂàóÂåñÁöÑÂØπË±°ÂÖ∑ÊúâÈîôËØØÁöÑÂ≠óÊÆµÂÄº„ÄÇ  ÂéüÂõ†Ôºö ËØ≠Ë®Ä‰πãÈó¥ÁöÑÂ≠óÊÆµÈ°∫Â∫è‰∏çÂêå„ÄÇ  Ëß£ÂÜ≥ÊñπÊ°àÔºö Fory ÊåâÂ≠óÊÆµÁöÑ snake_cased ÂêçÁß∞ÂØπÂ≠óÊÆµËøõË°åÊéíÂ∫è„ÄÇÁ°Æ‰øùÂ≠óÊÆµÂêçÁß∞‰∏ÄËá¥Ôºö  // Java - Â≠óÊÆµÂ∞ÜÊåâ‰ª•‰∏ãÈ°∫Â∫èÊéíÂ∫èÔºöage„ÄÅemail„ÄÅname public class Person { public String name; public int age; public String email; }   # Python - Áõ∏ÂêåÁöÑÂ≠óÊÆµÈ°∫Â∫è @dataclass class Person: name: str age: pyfory.Int32Type email: str   ","version":"0.15","tagName":"h3"},{"title":"ÂºïÁî®Ë∑üË∏™ÈóÆÈ¢ò‚Äã","type":1,"pageTitle":"ÊïÖÈöúÊéíÊü•","url":"/zh-CN/docs/guide/xlang/xlang_troubleshooting#ÂºïÁî®Ë∑üË∏™ÈóÆÈ¢ò","content":" ","version":"0.15","tagName":"h2"},{"title":"Âæ™ÁéØÂºïÁî®ÂØºËá¥Ê†àÊ∫¢Âá∫‚Äã","type":1,"pageTitle":"ÊïÖÈöúÊéíÊü•","url":"/zh-CN/docs/guide/xlang/xlang_troubleshooting#Âæ™ÁéØÂºïÁî®ÂØºËá¥Ê†àÊ∫¢Âá∫","content":" ÁóáÁä∂Ôºö  StackOverflowError Êàñ RecursionError   ÂéüÂõ†Ôºö ÂºïÁî®Ë∑üË∏™Ë¢´Á¶ÅÁî®Ôºå‰ΩÜÊï∞ÊçÆÂÖ∑ÊúâÂæ™ÁéØÂºïÁî®„ÄÇ  Ëß£ÂÜ≥ÊñπÊ°àÔºö ÂêØÁî®ÂºïÁî®Ë∑üË∏™Ôºö  // Java Fory fory = Fory.builder() .withLanguage(Language.XLANG) .withRefTracking(true) .build();   # Python fory = pyfory.Fory(ref_tracking=True)   ","version":"0.15","tagName":"h3"},{"title":"ÈáçÂ§çÂØπË±°‚Äã","type":1,"pageTitle":"ÊïÖÈöúÊéíÊü•","url":"/zh-CN/docs/guide/xlang/xlang_troubleshooting#ÈáçÂ§çÂØπË±°","content":" ÁóáÁä∂Ôºö ÂÖ±‰∫´ÂØπË±°Âú®ÂèçÂ∫èÂàóÂåñÂêéË¢´ÈáçÂ§ç„ÄÇ  ÂéüÂõ†Ôºö ÂºïÁî®Ë∑üË∏™Ë¢´Á¶ÅÁî®„ÄÇ  Ëß£ÂÜ≥ÊñπÊ°àÔºö Â¶ÇÊûúÂØπË±°Âú®Âõæ‰∏≠ÂÖ±‰∫´ÔºåËØ∑ÂêØÁî®ÂºïÁî®Ë∑üË∏™„ÄÇ  ","version":"0.15","tagName":"h3"},{"title":"ËØ≠Ë®ÄÊ®°ÂºèÈóÆÈ¢ò‚Äã","type":1,"pageTitle":"ÊïÖÈöúÊéíÊü•","url":"/zh-CN/docs/guide/xlang/xlang_troubleshooting#ËØ≠Ë®ÄÊ®°ÂºèÈóÆÈ¢ò","content":" ","version":"0.15","tagName":"h2"},{"title":"\"Êó†ÊïàÁöÑÈ≠îÊúØÊï∞Â≠ó\"ÈîôËØØ‚Äã","type":1,"pageTitle":"ÊïÖÈöúÊéíÊü•","url":"/zh-CN/docs/guide/xlang/xlang_troubleshooting#Êó†ÊïàÁöÑÈ≠îÊúØÊï∞Â≠óÈîôËØØ","content":" ÁóáÁä∂Ôºö  Error: Invalid magic number in header   ÂéüÂõ†Ôºö ‰∏ÄÊñπ‰ΩøÁî® Java ÂéüÁîüÊ®°ÂºèËÄå‰∏çÊòØ xlang Ê®°Âºè„ÄÇ  Ëß£ÂÜ≥ÊñπÊ°àÔºö Á°Æ‰øùÂèåÊñπÈÉΩ‰ΩøÁî® xlang Ê®°ÂºèÔºö  // Java - ÂøÖÈ°ª‰ΩøÁî® Language.XLANG Fory fory = Fory.builder() .withLanguage(Language.XLANG) .build();   ","version":"0.15","tagName":"h3"},{"title":"Xlang Ê®°Âºè‰∏≠ÁöÑ‰∏çÂÖºÂÆπÁ±ªÂûã‚Äã","type":1,"pageTitle":"ÊïÖÈöúÊéíÊü•","url":"/zh-CN/docs/guide/xlang/xlang_troubleshooting#xlang-Ê®°Âºè‰∏≠ÁöÑ‰∏çÂÖºÂÆπÁ±ªÂûã","content":" ÁóáÁä∂Ôºö  Error: Type 'Optional' is not supported in xlang mode   ÂéüÂõ†Ôºö ‰ΩøÁî®‰∫ÜÊ≤°ÊúâË∑®ËØ≠Ë®ÄÁ≠âÊïàÈ°πÁöÑ Java ÁâπÂÆöÁ±ªÂûã„ÄÇ  Ëß£ÂÜ≥ÊñπÊ°àÔºö ‰ΩøÁî®ÂÖºÂÆπÁöÑÁ±ªÂûãÔºö  // ËÄå‰∏çÊòØ Optional&lt;String&gt; public String email; // nullable // ËÄå‰∏çÊòØ BigDecimal public double amount; // ËÄå‰∏çÊòØ EnumSet&lt;Status&gt; public Set&lt;Status&gt; statuses;   ","version":"0.15","tagName":"h3"},{"title":"ÁâàÊú¨ÂÖºÂÆπÊÄß‚Äã","type":1,"pageTitle":"ÊïÖÈöúÊéíÊü•","url":"/zh-CN/docs/guide/xlang/xlang_troubleshooting#ÁâàÊú¨ÂÖºÂÆπÊÄß","content":" ","version":"0.15","tagName":"h2"},{"title":"Â∫èÂàóÂåñÊ†ºÂºèÂ∑≤Êõ¥Êîπ‚Äã","type":1,"pageTitle":"ÊïÖÈöúÊéíÊü•","url":"/zh-CN/docs/guide/xlang/xlang_troubleshooting#Â∫èÂàóÂåñÊ†ºÂºèÂ∑≤Êõ¥Êîπ","content":" ÁóáÁä∂Ôºö ÂçáÁ∫ß Fory ÂêéÂèçÂ∫èÂàóÂåñÂ§±Ë¥•„ÄÇ  ÂéüÂõ†Ôºö Â∫èÂàóÂåñÊ†ºÂºè‰∏≠ÁöÑÁ†¥ÂùèÊÄßÊõ¥Êîπ„ÄÇ  Ëß£ÂÜ≥ÊñπÊ°àÔºö  Á°Æ‰øùÊâÄÊúâÊúçÂä°‰ΩøÁî®ÂÖºÂÆπÁöÑ Fory ÁâàÊú¨Ê£ÄÊü•ÂèëÂ∏ÉËØ¥Êòé‰∏≠ÁöÑÁ†¥ÂùèÊÄßÊõ¥ÊîπËÄÉËôë‰ΩøÁî® schema ÊºîÂåñÔºàcompatible Ê®°ÂºèÔºâËøõË°åÊ∏êËøõÂºèÂçáÁ∫ß  ","version":"0.15","tagName":"h3"},{"title":"Ë∞ÉËØïÊäÄÂ∑ß‚Äã","type":1,"pageTitle":"ÊïÖÈöúÊéíÊü•","url":"/zh-CN/docs/guide/xlang/xlang_troubleshooting#Ë∞ÉËØïÊäÄÂ∑ß","content":" ","version":"0.15","tagName":"h2"},{"title":"ÂêØÁî®Ë∞ÉËØïÊó•Âøó‚Äã","type":1,"pageTitle":"ÊïÖÈöúÊéíÊü•","url":"/zh-CN/docs/guide/xlang/xlang_troubleshooting#ÂêØÁî®Ë∞ÉËØïÊó•Âøó","content":" JavaÔºö  // Ê∑ªÂä†Âà∞ JVM ÈÄâÈ°π -Dfory.debug=true   PythonÔºö  import logging logging.getLogger('pyfory').setLevel(logging.DEBUG)   ","version":"0.15","tagName":"h3"},{"title":"Ê£ÄÊü•Â∫èÂàóÂåñÊï∞ÊçÆ‚Äã","type":1,"pageTitle":"ÊïÖÈöúÊéíÊü•","url":"/zh-CN/docs/guide/xlang/xlang_troubleshooting#Ê£ÄÊü•Â∫èÂàóÂåñÊï∞ÊçÆ","content":" ‰ΩøÁî®ÂçÅÂÖ≠ËøõÂà∂ËΩ¨ÂÇ®Ê£ÄÊü•‰∫åËøõÂà∂Ê†ºÂºèÔºö  data = fory.serialize(obj) print(data.hex())   ","version":"0.15","tagName":"h3"},{"title":"ÊµãËØïÂæÄËøî‚Äã","type":1,"pageTitle":"ÊïÖÈöúÊéíÊü•","url":"/zh-CN/docs/guide/xlang/xlang_troubleshooting#ÊµãËØïÂæÄËøî","content":" ÂßãÁªàÂú®ÊØèÁßçËØ≠Ë®Ä‰∏≠ÊµãËØïÂæÄËøîÂ∫èÂàóÂåñÔºö  byte[] bytes = fory.serialize(obj); Object result = fory.deserialize(bytes); assert obj.equals(result);   ","version":"0.15","tagName":"h3"},{"title":"Ë∑®ËØ≠Ë®ÄÊµãËØï‚Äã","type":1,"pageTitle":"ÊïÖÈöúÊéíÊü•","url":"/zh-CN/docs/guide/xlang/xlang_troubleshooting#Ë∑®ËØ≠Ë®ÄÊµãËØï","content":" Âú®ÈÉ®ÁΩ≤‰πãÂâçÊµãËØïÊâÄÊúâÁõÆÊ†áËØ≠Ë®ÄÁöÑÂ∫èÂàóÂåñÔºö  # Âú® Java ‰∏≠Â∫èÂàóÂåñ java -jar serializer.jar &gt; data.bin # Âú® Python ‰∏≠ÂèçÂ∫èÂàóÂåñ python deserializer.py data.bin   ","version":"0.15","tagName":"h3"},{"title":"Â∏∏ËßÅÈîôËØØ‚Äã","type":1,"pageTitle":"ÊïÖÈöúÊéíÊü•","url":"/zh-CN/docs/guide/xlang/xlang_troubleshooting#Â∏∏ËßÅÈîôËØØ","content":" Êú™Ê≥®ÂÜåÁ±ªÂûãÔºöÂßãÁªàÂú®‰ΩøÁî®ÂâçÊ≥®ÂÜåËá™ÂÆö‰πâÁ±ªÂûãÁ±ªÂûãÂêçÁß∞/ID ‰∏ç‰∏ÄËá¥ÔºöÂú®ÊâÄÊúâËØ≠Ë®Ä‰∏≠‰ΩøÁî®Áõ∏ÂêåÁöÑÂêçÁß∞/IDÂøòËÆ∞ xlang Ê®°ÂºèÔºöÂú® Java ‰∏≠‰ΩøÁî® Language.XLANGÈîôËØØÁöÑÁ±ªÂûãÊ≥®Ëß£ÔºöÂú® Python ‰∏≠‰ΩøÁî® pyfory.Int32Type Á≠âÂøΩÁï•ÂºïÁî®Ë∑üË∏™Ôºö‰∏∫Âæ™ÁéØ/ÂÖ±‰∫´ÂºïÁî®ÂêØÁî®  ","version":"0.15","tagName":"h2"},{"title":"Âè¶ËØ∑ÂèÇÈòÖ‚Äã","type":1,"pageTitle":"ÊïÖÈöúÊéíÊü•","url":"/zh-CN/docs/guide/xlang/xlang_troubleshooting#Âè¶ËØ∑ÂèÇÈòÖ","content":" Á±ªÂûãÊò†Â∞Ñ - Ë∑®ËØ≠Ë®ÄÁ±ªÂûãÊò†Â∞ÑÂèÇËÄÉÂÖ•Èó®ÊåáÂçó - ËÆæÁΩÆÊåáÂçóJava ÊïÖÈöúÊéíÊü• - Java ÁâπÂÆöÈóÆÈ¢òPython ÊïÖÈöúÊéíÊü• - Python ÁâπÂÆöÈóÆÈ¢ò ","version":"0.15","tagName":"h2"},{"title":"ÊÄßËÉΩÊµãËØï","type":0,"sectionRef":"#","url":"/zh-CN/docs/introduction/benchmark","content":"","keywords":"","version":"0.15"},{"title":"Java ÊÄßËÉΩÊµãËØï‚Äã","type":1,"pageTitle":"ÊÄßËÉΩÊµãËØï","url":"/zh-CN/docs/introduction/benchmark#java-ÊÄßËÉΩÊµãËØï","content":" ","version":"0.15","tagName":"h2"},{"title":"Java Â∫èÂàóÂåñ‚Äã","type":1,"pageTitle":"ÊÄßËÉΩÊµãËØï","url":"/zh-CN/docs/introduction/benchmark#java-Â∫èÂàóÂåñ","content":"         ","version":"0.15","tagName":"h3"},{"title":"Java ÂèçÂ∫èÂàóÂåñ‚Äã","type":1,"pageTitle":"ÊÄßËÉΩÊµãËØï","url":"/zh-CN/docs/introduction/benchmark#java-ÂèçÂ∫èÂàóÂåñ","content":"         Êõ¥Â§öÂÖ≥‰∫éÁ±ªÂûãÂâçÂêë/ÂêéÂêëÂÖºÂÆπÊÄß„ÄÅÂ†ÜÂ§ñÊîØÊåÅ„ÄÅÈõ∂Êã∑Ë¥ùÂ∫èÂàóÂåñÁöÑÊÄßËÉΩÊµãËØïÔºåËØ∑ÂèÇËßÅ benchmarks„ÄÇ  ","version":"0.15","tagName":"h3"},{"title":"Rust ÊÄßËÉΩÊµãËØï‚Äã","type":1,"pageTitle":"ÊÄßËÉΩÊµãËØï","url":"/zh-CN/docs/introduction/benchmark#rust-ÊÄßËÉΩÊµãËØï","content":"       Ê≥®ÊÑèÔºöÁªìÊûúÂèñÂÜ≥‰∫éÁ°¨‰ª∂„ÄÅÊï∞ÊçÆÈõÜÂíåÂÆûÁé∞ÁâàÊú¨„ÄÇÊúâÂÖ≥Â¶Ç‰ΩïËá™Ë°åËøêË°åÊÄßËÉΩÊµãËØïÁöÑ‰ø°ÊÅØÔºåËØ∑ÂèÇÈòÖ Fory Rust Benchmark ÊåáÂçóÔºöhttps://github.com/apache/fory/blob/main/benchmarks/rust_benchmark/README.md  ","version":"0.15","tagName":"h2"},{"title":"JavaScript ÊÄßËÉΩÊµãËØï‚Äã","type":1,"pageTitle":"ÊÄßËÉΩÊµãËØï","url":"/zh-CN/docs/introduction/benchmark#javascript-ÊÄßËÉΩÊµãËØï","content":"   Ê≠§Êü±Áä∂Âõæ‰ΩøÁî®ÁöÑÊï∞ÊçÆÂåÖÂê´‰∏Ä‰∏™ÂÖ∑ÊúâÂ§öÁßçÂ≠óÊÆµÁ±ªÂûãÁöÑÂ§çÊùÇÂØπË±°ÔºåJSON Êï∞ÊçÆÂ§ßÂ∞è‰∏∫ 3KB„ÄÇ  ÊÄßËÉΩÊµãËØï‰ª£Á†ÅËØ∑ÂèÇËßÅ benchmarks„ÄÇ ","version":"0.15","tagName":"h2"},{"title":"Features","type":0,"sectionRef":"#","url":"/zh-CN/docs/introduction/features","content":"Features Â§öÁßçËØ≠Ë®ÄÔºöJava/Python/C++/Golang/Javascript/Rust„ÄÇÈõ∂Êã∑Ë¥ùÔºöÁ±ª‰ººpickle5ÔºåÊîØÊåÅÂ†ÜÂ§ñËØª/ÂÜôÁöÑË∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ„ÄÇÈ´òÊÄßËÉΩÔºöÈ´òÂ∫¶ÂèØÊâ©Â±ïÁöÑ JIT Ê°ÜÊû∂ÔºåÂèØÂú®ËøêË°åÊó∂‰ª•ÂºÇÊ≠•Â§öÁ∫øÁ®ãÊñπÂºèÁîüÊàêÂ∫èÂàóÂåñÁ®ãÂ∫è‰ª£Á†ÅÔºå‰ª•Âä†Âø´Â∫èÂàóÂåñÈÄüÂ∫¶ÔºåÈÄöËøá‰ª•‰∏ãÊñπÂºèÊèêÂçá 20-170 ÂÄçÁöÑÈÄüÂ∫¶Ôºö ÂáèÂ∞ëÂú®ÁîüÊàê‰ª£Á†Å‰∏≠ÂÜÖËÅîÂèòÈáèÂáèÂ∞ëÂÜÖÂ≠òËÆøÈóÆÔºõÈÄöËøáÂú®ÁîüÊàêÁöÑ‰ª£Á†Å‰∏≠ÂÜÖËÅîË∞ÉÁî®Êù•ÂáèÂ∞ëËôöÊãüÊñπÊ≥ïË∞ÉÁî®ÔºõÂáèÂ∞ëÊù°‰ª∂ÂàÜÊîØÔºõÂáèÂ∞ëÂìàÂ∏åÊü•ÊâæÔºõ ‰∫åËøõÂà∂ÂçèËÆÆÔºöÂØπË±°Âõæ„ÄÅË°åÊ†ºÂºèÁ≠â„ÄÇ Èô§‰∫ÜË∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ‰πãÂ§ñÔºåApache Fory‚Ñ¢ ËøòÊîØÊåÅ‰ª•‰∏ãÂäüËÉΩÔºö Áõ¥Êé•ÊõøÊç¢ Java Â∫èÂàóÂåñÊ°ÜÊû∂ÔºåÂ¶Ç JDK/Kryo/HessianÔºåÊó†ÈúÄ‰øÆÊîπ‰ªª‰Ωï‰ª£Á†ÅÔºå‰ΩÜÈÄüÂ∫¶ÊèêÈ´ò 100 ÂÄç„ÄÇÂÆÉÂèØ‰ª•Â§ßÂ§ßÊèêÈ´ò RPC Ë∞ÉÁî®ÊÄßËÉΩ„ÄÅÊï∞ÊçÆ‰º†ËæìÂíåÂØπË±°ÊåÅ‰πÖÂåñÁöÑÊïàÁéáÔºõJDK Â∫èÂàóÂåñ 100% ÂÖºÂÆπÔºåÂéüÁîüÊîØÊåÅ java Ëá™ÂÆö‰πâÂ∫èÂàóÂåñ writeObject/readObject/writeReplace/readResolve/readObjectNoDataÔºõÊîØÊåÅ golang ÁöÑÂÖ±‰∫´ÂíåÂæ™ÁéØÂºïÁî®ÂØπË±°Â∫èÂàóÂåñÔºõÊîØÊåÅ golang ÁöÑËá™Âä®ÂØπË±°Â∫èÂàóÂåñ„ÄÇ","keywords":"","version":"0.15"},{"title":"Èõ∂Êã∑Ë¥ùÂ∫èÂàóÂåñ","type":0,"sectionRef":"#","url":"/zh-CN/docs/guide/xlang/xlang_zero_copy","content":"","keywords":"","version":"0.15"},{"title":"‰ΩïÊó∂‰ΩøÁî®Èõ∂Êã∑Ë¥ù‚Äã","type":1,"pageTitle":"Èõ∂Êã∑Ë¥ùÂ∫èÂàóÂåñ","url":"/zh-CN/docs/guide/xlang/xlang_zero_copy#‰ΩïÊó∂‰ΩøÁî®Èõ∂Êã∑Ë¥ù","content":" Âú®‰ª•‰∏ãÊÉÖÂÜµ‰∏ã‰ΩøÁî®Èõ∂Êã∑Ë¥ùÂ∫èÂàóÂåñÔºö  Â∫èÂàóÂåñÂ§ßÂûãÂ≠óËäÇÊï∞ÁªÑÊàñ‰∫åËøõÂà∂Êï∞ÊçÆÂùóÂ§ÑÁêÜÊï∞ÂÄºÊï∞ÁªÑÔºàint[]„ÄÅdouble[] Á≠âÔºâÈÄöËøáÈ´òÊÄßËÉΩÁΩëÁªú‰º†ËæìÊï∞ÊçÆÂÜÖÂ≠òÊïàÁéáËá≥ÂÖ≥ÈáçË¶Å  ","version":"0.15","tagName":"h2"},{"title":"Â∑•‰ΩúÂéüÁêÜ‚Äã","type":1,"pageTitle":"Èõ∂Êã∑Ë¥ùÂ∫èÂàóÂåñ","url":"/zh-CN/docs/guide/xlang/xlang_zero_copy#Â∑•‰ΩúÂéüÁêÜ","content":" Â∫èÂàóÂåñÔºöÂ§ßÂûãÁºìÂÜ≤Âå∫Ë¢´ÊèêÂèñÂá∫Êù•ÔºåÂπ∂ÈÄöËøáÂõûË∞ÉÂçïÁã¨ËøîÂõû‰º†ËæìÔºö‰∏ªÂ∫èÂàóÂåñÊï∞ÊçÆÂíåÁºìÂÜ≤Âå∫ÂØπË±°ÂàÜÂà´‰º†ËæìÂèçÂ∫èÂàóÂåñÔºöÊèê‰æõÁºìÂÜ≤Âå∫‰ª•ÈáçÂª∫ÂéüÂßãÂØπË±°  ËøôÈÅøÂÖç‰∫ÜÂ∞ÜÂ§ßÂûãÊï∞ÊçÆÂ§çÂà∂Âà∞‰∏ªÂ∫èÂàóÂåñÁºìÂÜ≤Âå∫‰∏≠„ÄÇ  ","version":"0.15","tagName":"h2"},{"title":"Java‚Äã","type":1,"pageTitle":"Èõ∂Êã∑Ë¥ùÂ∫èÂàóÂåñ","url":"/zh-CN/docs/guide/xlang/xlang_zero_copy#java","content":" import org.apache.fory.*; import org.apache.fory.config.*; import org.apache.fory.serializer.BufferObject; import org.apache.fory.memory.MemoryBuffer; import java.util.*; import java.util.stream.Collectors; public class ZeroCopyExample { public static void main(String[] args) { Fory fory = Fory.builder().withLanguage(Language.XLANG).build(); // ÂåÖÂê´Â§ßÂûãÊï∞ÁªÑÁöÑÊï∞ÊçÆ List&lt;Object&gt; list = List.of( &quot;str&quot;, new byte[1000], // Â§ßÂûãÂ≠óËäÇÊï∞ÁªÑ new int[100], // Â§ßÂûã int Êï∞ÁªÑ new double[100] // Â§ßÂûã double Êï∞ÁªÑ ); // Âú®Â∫èÂàóÂåñÊúüÈó¥Êî∂ÈõÜÁºìÂÜ≤Âå∫ÂØπË±° Collection&lt;BufferObject&gt; bufferObjects = new ArrayList&lt;&gt;(); byte[] bytes = fory.serialize(list, e -&gt; !bufferObjects.add(e)); // ËΩ¨Êç¢‰∏∫ÁºìÂÜ≤Âå∫‰ª•‰æø‰º†Ëæì List&lt;MemoryBuffer&gt; buffers = bufferObjects.stream() .map(BufferObject::toBuffer) .collect(Collectors.toList()); // ‰ΩøÁî®ÁºìÂÜ≤Âå∫ÂèçÂ∫èÂàóÂåñ Object result = fory.deserialize(bytes, buffers); System.out.println(result); } }   ","version":"0.15","tagName":"h2"},{"title":"Python‚Äã","type":1,"pageTitle":"Èõ∂Êã∑Ë¥ùÂ∫èÂàóÂåñ","url":"/zh-CN/docs/guide/xlang/xlang_zero_copy#python","content":" import array import pyfory import numpy as np fory = pyfory.Fory() # ÂåÖÂê´Â§ßÂûãÊï∞ÁªÑÁöÑÊï∞ÊçÆ data = [ &quot;str&quot;, bytes(bytearray(1000)), # Â§ßÂûãÂ≠óËäÇÊï∞ÁªÑ array.array(&quot;i&quot;, range(100)), # Â§ßÂûã int Êï∞ÁªÑ np.full(100, 0.0, dtype=np.double) # Â§ßÂûã numpy Êï∞ÁªÑ ] # Âú®Â∫èÂàóÂåñÊúüÈó¥Êî∂ÈõÜÁºìÂÜ≤Âå∫ÂØπË±° serialized_objects = [] serialized_data = fory.serialize(data, buffer_callback=serialized_objects.append) # ËΩ¨Êç¢‰∏∫ÁºìÂÜ≤Âå∫‰ª•‰æø‰º†Ëæì buffers = [obj.to_buffer() for obj in serialized_objects] # ‰ΩøÁî®ÁºìÂÜ≤Âå∫ÂèçÂ∫èÂàóÂåñ result = fory.deserialize(serialized_data, buffers=buffers) print(result)   ","version":"0.15","tagName":"h2"},{"title":"Go‚Äã","type":1,"pageTitle":"Èõ∂Êã∑Ë¥ùÂ∫èÂàóÂåñ","url":"/zh-CN/docs/guide/xlang/xlang_zero_copy#go","content":" package main import forygo &quot;github.com/apache/fory/go/fory&quot; import &quot;fmt&quot; func main() { fory := forygo.NewFory() // ÂåÖÂê´Â§ßÂûãÊï∞ÁªÑÁöÑÊï∞ÊçÆ list := []interface{}{ &quot;str&quot;, make([]byte, 1000), // Â§ßÂûãÂ≠óËäÇÊï∞ÁªÑ } buf := fory.NewByteBuffer(nil) var bufferObjects []fory.BufferObject // Âú®Â∫èÂàóÂåñÊúüÈó¥Êî∂ÈõÜÁºìÂÜ≤Âå∫ÂØπË±° fory.Serialize(buf, list, func(o fory.BufferObject) bool { bufferObjects = append(bufferObjects, o) return false }) // ËΩ¨Êç¢‰∏∫ÁºìÂÜ≤Âå∫‰ª•‰æø‰º†Ëæì var buffers []*fory.ByteBuffer for _, o := range bufferObjects { buffers = append(buffers, o.ToBuffer()) } // ‰ΩøÁî®ÁºìÂÜ≤Âå∫ÂèçÂ∫èÂàóÂåñ var newList []interface{} if err := fory.Deserialize(buf, &amp;newList, buffers); err != nil { panic(err) } fmt.Println(newList) }   ","version":"0.15","tagName":"h2"},{"title":"JavaScript‚Äã","type":1,"pageTitle":"Èõ∂Êã∑Ë¥ùÂ∫èÂàóÂåñ","url":"/zh-CN/docs/guide/xlang/xlang_zero_copy#javascript","content":" // Èõ∂Êã∑Ë¥ùÊîØÊåÅÂç≥Â∞ÜÊé®Âá∫   ","version":"0.15","tagName":"h2"},{"title":"‰ΩøÁî®Âú∫ÊôØ‚Äã","type":1,"pageTitle":"Èõ∂Êã∑Ë¥ùÂ∫èÂàóÂåñ","url":"/zh-CN/docs/guide/xlang/xlang_zero_copy#‰ΩøÁî®Âú∫ÊôØ","content":" ","version":"0.15","tagName":"h2"},{"title":"È´òÊÄßËÉΩÊï∞ÊçÆ‰º†Ëæì‚Äã","type":1,"pageTitle":"Èõ∂Êã∑Ë¥ùÂ∫èÂàóÂåñ","url":"/zh-CN/docs/guide/xlang/xlang_zero_copy#È´òÊÄßËÉΩÊï∞ÊçÆ‰º†Ëæì","content":" Âú®ÈÄöËøáÁΩëÁªúÂèëÈÄÅÂ§ßÂûãÊï∞ÊçÆÈõÜÊó∂Ôºö  // ÂèëÈÄÅÊñπ Collection&lt;BufferObject&gt; buffers = new ArrayList&lt;&gt;(); byte[] metadata = fory.serialize(dataObject, e -&gt; !buffers.add(e)); // ÂàÜÂà´ÂèëÈÄÅÂÖÉÊï∞ÊçÆÂíåÁºìÂÜ≤Âå∫ network.sendMetadata(metadata); for (BufferObject buf : buffers) { network.sendBuffer(buf.toBuffer()); } // Êé•Êî∂Êñπ byte[] metadata = network.receiveMetadata(); List&lt;MemoryBuffer&gt; buffers = network.receiveBuffers(); Object data = fory.deserialize(metadata, buffers);   ","version":"0.15","tagName":"h3"},{"title":"ÂÜÖÂ≠òÊò†Â∞ÑÊñá‰ª∂‚Äã","type":1,"pageTitle":"Èõ∂Êã∑Ë¥ùÂ∫èÂàóÂåñ","url":"/zh-CN/docs/guide/xlang/xlang_zero_copy#ÂÜÖÂ≠òÊò†Â∞ÑÊñá‰ª∂","content":" Èõ∂Êã∑Ë¥ù‰∏éÂÜÖÂ≠òÊò†Â∞ÑÊñá‰ª∂ÈÖçÂêàËâØÂ•ΩÔºö  // ÂÜôÂÖ• Collection&lt;BufferObject&gt; buffers = new ArrayList&lt;&gt;(); byte[] data = fory.serialize(largeObject, e -&gt; !buffers.add(e)); writeToFile(&quot;data.bin&quot;, data); for (int i = 0; i &lt; buffers.size(); i++) { writeToFile(&quot;buffer&quot; + i + &quot;.bin&quot;, buffers.get(i).toBuffer()); } // ËØªÂèñ byte[] data = readFromFile(&quot;data.bin&quot;); List&lt;MemoryBuffer&gt; buffers = readBufferFiles(); Object result = fory.deserialize(data, buffers);   ","version":"0.15","tagName":"h3"},{"title":"ÊÄßËÉΩËÄÉËôë‚Äã","type":1,"pageTitle":"Èõ∂Êã∑Ë¥ùÂ∫èÂàóÂåñ","url":"/zh-CN/docs/guide/xlang/xlang_zero_copy#ÊÄßËÉΩËÄÉËôë","content":" ÈòàÂÄºÔºöÁî±‰∫éÂõûË∞ÉÂºÄÈîÄÔºåÂ∞èÊï∞ÁªÑÂèØËÉΩ‰∏ç‰ºö‰ªéÈõ∂Êã∑Ë¥ù‰∏≠ÂèóÁõäÁΩëÁªúÔºöÂΩìÁºìÂÜ≤Âå∫ÂèØ‰ª•Âú®‰∏çÂ§çÂà∂ÁöÑÊÉÖÂÜµ‰∏ãÂèëÈÄÅÊó∂ÔºåÈõ∂Êã∑Ë¥ùÊúÄÊúâÁõäÂÜÖÂ≠òÔºöÈÄöËøáÈÅøÂÖçÁºìÂÜ≤Âå∫Â§çÂà∂Êù•ÂáèÂ∞ëÂ≥∞ÂÄºÂÜÖÂ≠ò‰ΩøÁî®  ","version":"0.15","tagName":"h2"},{"title":"Âè¶ËØ∑ÂèÇÈòÖ‚Äã","type":1,"pageTitle":"Èõ∂Êã∑Ë¥ùÂ∫èÂàóÂåñ","url":"/zh-CN/docs/guide/xlang/xlang_zero_copy#Âè¶ËØ∑ÂèÇÈòÖ","content":" Â∫èÂàóÂåñ - Ê†áÂáÜÂ∫èÂàóÂåñÁ§∫‰æãPython Â∏¶Â§ñÊåáÂçó - Python ÁâπÂÆöÁöÑÈõ∂Êã∑Ë¥ùËØ¶ÊÉÖ ","version":"0.15","tagName":"h2"},{"title":"Ê¶ÇËø∞","type":0,"sectionRef":"#","url":"/zh-CN/docs/introduction/overview","content":"","keywords":"","version":"0.15"},{"title":"Âø´ÈÄüÁ§∫‰æã‚Äã","type":1,"pageTitle":"Ê¶ÇËø∞","url":"/zh-CN/docs/introduction/overview#Âø´ÈÄüÁ§∫‰æã","content":" Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ - Âú® Rust ‰∏≠Â∫èÂàóÂåñÔºåÂú® Python ‰∏≠ÂèçÂ∫èÂàóÂåñÔºö  Rust  use fory::{Fory, ForyObject}; #[derive(ForyObject, Debug, PartialEq)] struct User { name: String, age: i32, } fn main() { let mut fory = Fory::default().xlang(true); fory.register::&lt;User&gt;(1); let user = User { name: &quot;Alice&quot;.to_string(), age: 30 }; let bytes = fory.serialize(&amp;user).unwrap(); let decoded: User = fory.deserialize(&amp;bytes).unwrap(); println!(&quot;{:?}&quot;, decoded); // User { name: &quot;Alice&quot;, age: 30 } }   Python  import pyfory from dataclasses import dataclass @dataclass class User: name: str age: pyfory.int32 fory = pyfory.Fory(xlang=True) fory.register(User, type_id=1) user = User(name=&quot;Alice&quot;, age=30) data = fory.serialize(user) decoded = fory.deserialize(data) print(decoded) # User(name='Alice', age=30)   ","version":"0.15","tagName":"h2"},{"title":"Ê†∏ÂøÉÁâπÊÄß‚Äã","type":1,"pageTitle":"Ê¶ÇËø∞","url":"/zh-CN/docs/introduction/overview#Ê†∏ÂøÉÁâπÊÄß","content":" ","version":"0.15","tagName":"h2"},{"title":"üöÄ È´òÊÄßËÉΩÂ∫èÂàóÂåñ‚Äã","type":1,"pageTitle":"Ê¶ÇËø∞","url":"/zh-CN/docs/introduction/overview#-È´òÊÄßËÉΩÂ∫èÂàóÂåñ","content":" Apache Fory‚Ñ¢ ÈÄöËøáÂÖàËøõÁöÑ‰ºòÂåñÊäÄÊúØÊèê‰æõÂçìË∂äÊÄßËÉΩÔºö  JIT ÁºñËØëÔºöJava ËøêË°åÊó∂‰ª£Á†ÅÁîüÊàêÊ∂àÈô§ËôöÊñπÊ≥ïË∞ÉÁî®Âπ∂ÂÜÖËÅîÁÉ≠Ë∑ØÂæÑÈùôÊÄÅ‰ª£Á†ÅÁîüÊàêÔºöRust„ÄÅC++ Âíå Go ÁöÑÁºñËØëÊó∂‰ª£Á†ÅÁîüÊàêÔºåÊó†ËøêË°åÊó∂ÂºÄÈîÄÂç≥ÂèØËææÂà∞Â≥∞ÂÄºÊÄßËÉΩÈõ∂Êã∑Ë¥ùÊìç‰ΩúÔºöÊó†ÈúÄ‰∏≠Èó¥ÁºìÂÜ≤Âå∫Â§çÂà∂ÁöÑÁõ¥Êé•ÂÜÖÂ≠òËÆøÈóÆÔºõË°åÊ†ºÂºèÊîØÊåÅÈöèÊú∫ËÆøÈóÆÂíåÈÉ®ÂàÜÂ∫èÂàóÂåñÊô∫ËÉΩÁºñÁ†ÅÔºöÊï¥Êï∞ÂíåÂ≠óÁ¨¶‰∏≤ÁöÑÂèòÈïøÂéãÁº©ÔºõÊï∞ÁªÑÁöÑ SIMD Âä†ÈÄüÔºàJava 16+ÔºâÂÖÉÊï∞ÊçÆÂÖ±‰∫´ÔºöÁ±ªÂÖÉÊï∞ÊçÆÊâìÂåÖÂáèÂ∞ëË∑®Â∫èÂàóÂåñÁöÑÂÜó‰ΩôÁ±ªÂûã‰ø°ÊÅØ  ","version":"0.15","tagName":"h3"},{"title":"üîÑ Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ‚Äã","type":1,"pageTitle":"Ê¶ÇËø∞","url":"/zh-CN/docs/introduction/overview#-Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ","content":" xlang Â∫èÂàóÂåñÊ†ºÂºè ÊîØÊåÅË∑®ÁºñÁ®ãËØ≠Ë®ÄÁöÑÊó†ÁºùÊï∞ÊçÆ‰∫§Êç¢Ôºö  Ëá™Âä®Á±ªÂûãÊò†Â∞ÑÔºöËØ≠Ë®ÄÁâπÂÆöÁ±ªÂûã‰πãÈó¥ÁöÑÊô∫ËÉΩËΩ¨Êç¢ÔºàÁ±ªÂûãÊò†Â∞ÑÔºâÂºïÁî®‰øùÊåÅÔºöÂÖ±‰∫´ÂíåÂæ™ÁéØÂºïÁî®Âú®Ë∑®ËØ≠Ë®ÄÊó∂Ê≠£Á°ÆÂ∑•‰ΩúÂ§öÊÄÅÊîØÊåÅÔºöÂØπË±°‰ª•ÂÖ∂ÂÆûÈôÖËøêË°åÊó∂Á±ªÂûãËøõË°åÂ∫èÂàóÂåñ/ÂèçÂ∫èÂàóÂåñSchema ÊºîËøõÔºöÂèØÈÄâÁöÑÂêëÂâç/ÂêëÂêéÂÖºÂÆπÊÄßÊîØÊåÅ Schema ÊºîËøõËá™Âä®Â∫èÂàóÂåñÔºöÊó†ÈúÄ IDL Êàñ Schema ÂÆö‰πâÔºõÁõ¥Êé•Â∫èÂàóÂåñ‰ªª‰ΩïÂØπË±°ÔºåÊó†ÈúÄ‰ª£Á†ÅÁîüÊàê  ","version":"0.15","tagName":"h3"},{"title":"üìä Ë°åÊ†ºÂºè‚Äã","type":1,"pageTitle":"Ê¶ÇËø∞","url":"/zh-CN/docs/introduction/overview#-Ë°åÊ†ºÂºè","content":" ÈíàÂØπÂàÜÊûêÂ∑•‰ΩúË¥üËΩΩ‰ºòÂåñÁöÑÁºìÂ≠òÂèãÂ•ΩÂûã Ë°åÊ†ºÂºèÔºö  Èõ∂Êã∑Ë¥ùÈöèÊú∫ËÆøÈóÆÔºöÊó†ÈúÄÂèçÂ∫èÂàóÂåñÊï¥‰∏™ÂØπË±°Âç≥ÂèØËØªÂèñÂçï‰∏™Â≠óÊÆµÈÉ®ÂàÜÊìç‰ΩúÔºöÈÄâÊã©ÊÄßÂ≠óÊÆµÂ∫èÂàóÂåñÂíåÂèçÂ∫èÂàóÂåñ‰ª•ÊèêÈ´òÊïàÁéáApache Arrow ÈõÜÊàêÔºöÊó†ÁºùËΩ¨Êç¢‰∏∫ÂàóÊ†ºÂºè‰ª•Áî®‰∫éÂàÜÊûêÊµÅÊ∞¥Á∫øÂ§öËØ≠Ë®ÄÊîØÊåÅÔºöÂèØÁî®‰∫é Java„ÄÅPython„ÄÅRust Âíå C++  ","version":"0.15","tagName":"h3"},{"title":"üîí ÂÆâÂÖ®ÊÄß‰∏éÁîü‰∫ßÂ∞±Áª™‚Äã","type":1,"pageTitle":"Ê¶ÇËø∞","url":"/zh-CN/docs/introduction/overview#-ÂÆâÂÖ®ÊÄß‰∏éÁîü‰∫ßÂ∞±Áª™","content":" ‰ºÅ‰∏öÁ∫ßÂÆâÂÖ®ÊÄßÂíåÂÖºÂÆπÊÄßÔºö  Á±ªÊ≥®ÂÜåÔºöÂü∫‰∫éÁôΩÂêçÂçïÁöÑÂèçÂ∫èÂàóÂåñÊéßÂà∂ÔºàÈªòËÆ§ÂêØÁî®ÔºâÊ∑±Â∫¶ÈôêÂà∂ÔºöÈò≤Ê≠¢ÈÄíÂΩíÂØπË±°ÂõæÊîªÂáªÂèØÈÖçÁΩÆÁ≠ñÁï•ÔºöËá™ÂÆö‰πâÁ±ªÊ£ÄÊü•Âô®ÂíåÂèçÂ∫èÂàóÂåñÁ≠ñÁï•Âπ≥Âè∞ÊîØÊåÅÔºöJava 8-24„ÄÅGraalVM ÂéüÁîüÈïúÂÉè„ÄÅÂ§öÊìç‰ΩúÁ≥ªÁªüÂπ≥Âè∞  ","version":"0.15","tagName":"h3"},{"title":"ÂçèËÆÆ‚Äã","type":1,"pageTitle":"Ê¶ÇËø∞","url":"/zh-CN/docs/introduction/overview#ÂçèËÆÆ","content":" Apache Fory‚Ñ¢ ÂÆûÁé∞‰∫ÜÈíàÂØπ‰∏çÂêåÂú∫ÊôØ‰ºòÂåñÁöÑÂ§ö‰∏™‰∫åËøõÂà∂ÂçèËÆÆÔºö  ÂçèËÆÆ\t‰ΩøÁî®Âú∫ÊôØ\tÊ†∏ÂøÉÁâπÊÄßË∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ\tË∑®ËØ≠Ë®ÄÂØπË±°‰∫§Êç¢\tËá™Âä®Â∫èÂàóÂåñ„ÄÅÂºïÁî®„ÄÅÂ§öÊÄÅ Java Â∫èÂàóÂåñ\tÈ´òÊÄßËÉΩ Java ‰∏ìÁî®\tJDK Â∫èÂàóÂåñÁöÑÁõ¥Êé•Êõø‰ª£ÔºåÂø´ 100 ÂÄç Ë°åÊ†ºÂºè\tÂàÜÊûêÂíåÊï∞ÊçÆÂ§ÑÁêÜ\tÈõ∂Êã∑Ë¥ùÈöèÊú∫ËÆøÈóÆ„ÄÅArrow ÂÖºÂÆπ Python ÂéüÁîü\tPython ‰∏ìÁî®Â∫èÂàóÂåñ\tPickle/cloudpickle Êõø‰ª£ÔºåÊÄßËÉΩÊõ¥Â•Ω  ÊâÄÊúâÂçèËÆÆÂÖ±‰∫´Áõ∏ÂêåÁöÑ‰ºòÂåñ‰ª£Á†ÅÂ∫ìÔºå‰∏Ä‰∏™ÂçèËÆÆÁöÑÊîπËøõÂèØ‰ª•ÊÉ†ÂèäÂÖ∂‰ªñÂçèËÆÆ„ÄÇ  ","version":"0.15","tagName":"h2"},{"title":"ÊñáÊ°£‚Äã","type":1,"pageTitle":"Ê¶ÇËø∞","url":"/zh-CN/docs/introduction/overview#ÊñáÊ°£","content":" ","version":"0.15","tagName":"h2"},{"title":"Áî®Êà∑ÊåáÂçó‚Äã","type":1,"pageTitle":"Ê¶ÇËø∞","url":"/zh-CN/docs/introduction/overview#Áî®Êà∑ÊåáÂçó","content":" ÊåáÂçó\tÊèèËø∞\tÊ∫êÊñá‰ª∂\tÁΩëÁ´ôJava Â∫èÂàóÂåñ\tJava Â∫èÂàóÂåñÁªºÂêàÊåáÂçó\tJava ÊåáÂçó\tüìñ Êü•Áúã Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ\tÂ§öËØ≠Ë®ÄÂØπË±°‰∫§Êç¢\tXlang ÊåáÂçó\tüìñ Êü•Áúã Ë°åÊ†ºÂºè\tÈõ∂Êã∑Ë¥ùÈöèÊú∫ËÆøÈóÆÊ†ºÂºè\tJava Ë°åÊ†ºÂºè\tüìñ Êü•Áúã Python\tPython ÁâπÂÆöÂäüËÉΩÂíåÁî®Ê≥ï\tPython ÊåáÂçó\tüìñ Êü•Áúã Rust\tRust ÂÆûÁé∞ÂíåÊ®°Âºè\tRust ÊåáÂçó\tüìñ Êü•Áúã Scala\tScala ÈõÜÊàêÂíåÊúÄ‰Ω≥ÂÆûË∑µ\tScala ÊåáÂçó\tüìñ Êü•Áúã GraalVM\tÂéüÁîüÈïúÂÉèÊîØÊåÅÂíå AOT ÁºñËØë\tGraalVM ÊåáÂçó\tüìñ Êü•Áúã ÂºÄÂèë\tÊûÑÂª∫ÂíåË¥°ÁåÆ Fory\tÂºÄÂèëÊåáÂçó\tüìñ Êü•Áúã  ","version":"0.15","tagName":"h3"},{"title":"ÂçèËÆÆËßÑËåÉ‚Äã","type":1,"pageTitle":"Ê¶ÇËø∞","url":"/zh-CN/docs/introduction/overview#ÂçèËÆÆËßÑËåÉ","content":" ËßÑËåÉ\tÊèèËø∞\tÊ∫êÊñá‰ª∂\tÁΩëÁ´ôË∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ\tË∑®ËØ≠Ë®Ä‰∫åËøõÂà∂ÂçèËÆÆ\txlang_serialization_spec.md\tüìñ Êü•Áúã Java Â∫èÂàóÂåñ\tJava ‰ºòÂåñÂçèËÆÆ\tjava_serialization_spec.md\tüìñ Êü•Áúã Ë°åÊ†ºÂºè\tÂü∫‰∫éË°åÁöÑ‰∫åËøõÂà∂Ê†ºÂºè\trow_format_spec.md\tüìñ Êü•Áúã Á±ªÂûãÊò†Â∞Ñ\tË∑®ËØ≠Ë®ÄÁ±ªÂûãËΩ¨Êç¢\txlang_type_mapping.md\tüìñ Êü•Áúã  ","version":"0.15","tagName":"h3"},{"title":"ÂÖºÂÆπÊÄß‚Äã","type":1,"pageTitle":"Ê¶ÇËø∞","url":"/zh-CN/docs/introduction/overview#ÂÖºÂÆπÊÄß","content":" ","version":"0.15","tagName":"h2"},{"title":"Schema ÂÖºÂÆπÊÄß‚Äã","type":1,"pageTitle":"Ê¶ÇËø∞","url":"/zh-CN/docs/introduction/overview#schema-ÂÖºÂÆπÊÄß","content":" Apache Fory‚Ñ¢ ÊîØÊåÅ Java„ÄÅPython„ÄÅRust Âíå Golang ÁöÑÁ±ª Schema ÂêëÂâç/ÂêëÂêéÂÖºÂÆπÔºåÊîØÊåÅÁîü‰∫ßÁ≥ªÁªü‰∏≠ÁöÑÊó†Áºù Schema ÊºîËøõÔºåÊó†ÈúÄË∑®ÊâÄÊúâÊúçÂä°ÂçèË∞ÉÂçáÁ∫ß„ÄÇFory Êèê‰æõ‰∏§Áßç Schema ÂÖºÂÆπÊÄßÊ®°ÂºèÔºö  Schema ‰∏ÄËá¥Ê®°ÂºèÔºàÈªòËÆ§ÔºâÔºöÂÅáËÆæÂ∫èÂàóÂåñÂíåÂèçÂ∫èÂàóÂåñÁ´Ø‰πãÈó¥ÁöÑÁ±ª Schema Áõ∏Âêå„ÄÇÊ≠§Ê®°ÂºèÊèê‰æõÊúÄÂ∞èÁöÑÂ∫èÂàóÂåñÂºÄÈîÄ„ÄÅÊúÄÂ∞èÁöÑÊï∞ÊçÆÂ§ßÂ∞èÂíåÊúÄÂø´ÁöÑÊÄßËÉΩÔºöÈÄÇÁî®‰∫éÁ®≥ÂÆöÁöÑ Schema ÊàñÂèóÊéßÁéØÂ¢É„ÄÇ ÂÖºÂÆπÊ®°ÂºèÔºöÊîØÊåÅÁã¨Á´ãÁöÑ Schema ÊºîËøõÔºåÂÖ∑ÊúâÂêëÂâçÂíåÂêëÂêéÂÖºÂÆπÊÄß„ÄÇÊ≠§Ê®°ÂºèÊîØÊåÅÂ≠óÊÆµÊ∑ªÂä†/Âà†Èô§„ÄÅÊúâÈôêÁöÑÁ±ªÂûãÊºîËøõÂíå‰ºòÈõÖÂ§ÑÁêÜ Schema ‰∏çÂåπÈÖç„ÄÇÂú® Java ‰∏≠‰ΩøÁî® withCompatibleMode(CompatibleMode.COMPATIBLE) ÂêØÁî®ÔºåÂú® Python ‰∏≠‰ΩøÁî® compatible=TrueÔºåÂú® Rust ‰∏≠‰ΩøÁî® compatible_mode(true)ÔºåÂú® Go ‰∏≠‰ΩøÁî® NewFory(true)„ÄÇ  ","version":"0.15","tagName":"h3"},{"title":"‰∫åËøõÂà∂ÂÖºÂÆπÊÄß‚Äã","type":1,"pageTitle":"Ê¶ÇËø∞","url":"/zh-CN/docs/introduction/overview#‰∫åËøõÂà∂ÂÖºÂÆπÊÄß","content":" ÂΩìÂâçÁä∂ÊÄÅÔºöÁî±‰∫éÂçèËÆÆÊåÅÁª≠ÊºîËøõÔºåFory ‰∏ªË¶ÅÁâàÊú¨‰πãÈó¥‰∏ç‰øùËØÅ‰∫åËøõÂà∂ÂÖºÂÆπÊÄß„ÄÇ‰ΩÜÊòØÔºåÊ¨°Ë¶ÅÁâàÊú¨‰πãÈó¥Ôºà‰æãÂ¶Ç 0.13.xÔºâ‰øùËØÅÂÖºÂÆπÊÄß„ÄÇ  Âª∫ËÆÆÔºö  Êåâ Fory ‰∏ªË¶ÅÁâàÊú¨ÂØπÂ∫èÂàóÂåñÊï∞ÊçÆËøõË°åÁâàÊú¨ÊéßÂà∂ÂçáÁ∫ß‰∏ªË¶ÅÁâàÊú¨Êó∂ËßÑÂàíËøÅÁßªÁ≠ñÁï•ËØ¶ËßÅÂçáÁ∫ßÊåáÂçó  Êú™Êù•Ôºö‰ªé Fory 1.0 ÁâàÊú¨ÂºÄÂßãÂ∞Ü‰øùËØÅ‰∫åËøõÂà∂ÂÖºÂÆπÊÄß„ÄÇ  ","version":"0.15","tagName":"h3"},{"title":"ÂÆâÂÖ®‚Äã","type":1,"pageTitle":"Ê¶ÇËø∞","url":"/zh-CN/docs/introduction/overview#ÂÆâÂÖ®","content":" ","version":"0.15","tagName":"h2"},{"title":"Ê¶ÇËø∞‚Äã","type":1,"pageTitle":"Ê¶ÇËø∞","url":"/zh-CN/docs/introduction/overview#Ê¶ÇËø∞","content":" Â∫èÂàóÂåñÂÆâÂÖ®ÊÄßÂõ†ÂçèËÆÆËÄåÂºÇÔºö  Ë°åÊ†ºÂºèÔºö‰ΩøÁî®È¢ÑÂÆö‰πâ SchemaÔºåÊú¨Ë¥®‰∏äÂÆâÂÖ®ÂØπË±°ÂõæÂ∫èÂàóÂåñÔºàJava/Python ÂéüÁîüÔºâÔºöÊõ¥ÁÅµÊ¥ª‰ΩÜÈúÄË¶Å‰ªîÁªÜÁöÑÂÆâÂÖ®ÈÖçÁΩÆ  Âä®ÊÄÅÂ∫èÂàóÂåñÂèØ‰ª•ÂèçÂ∫èÂàóÂåñ‰ªªÊÑèÁ±ªÂûãÔºåËøôÂèØËÉΩ‰ºöÂ∏¶Êù•È£éÈô©„ÄÇ‰æãÂ¶ÇÔºåÂèçÂ∫èÂàóÂåñÂèØËÉΩ‰ºöË∞ÉÁî® init ÊûÑÈÄ†ÂáΩÊï∞Êàñ equals/hashCode ÊñπÊ≥ïÔºåÂ¶ÇÊûúÊñπÊ≥ï‰ΩìÂåÖÂê´ÊÅ∂ÊÑè‰ª£Á†ÅÔºåÁ≥ªÁªüÂ∞ÜÈù¢‰∏¥È£éÈô©„ÄÇ  Fory ÈªòËÆ§ÂêØÁî®Âä®ÊÄÅÂçèËÆÆÁöÑÁ±ªÊ≥®ÂÜåÔºåÂè™ÂÖÅËÆ∏Âèó‰ø°‰ªªÁöÑÂ∑≤Ê≥®ÂÜåÁ±ªÂûãÊàñÂÜÖÁΩÆÁ±ªÂûã„ÄÇÈô§ÈùûÊÇ®ËÉΩÁ°Æ‰øùÁéØÂ¢ÉÂÆâÂÖ®ÔºåÂê¶Âàô‰∏çË¶ÅÁ¶ÅÁî®Á±ªÊ≥®ÂÜå„ÄÇ  Â¶ÇÊûúÁ¶ÅÁî®Ê≠§ÈÄâÈ°πÔºåÊÇ®ÈúÄË¶ÅÂØπÂ∫èÂàóÂåñÂÆâÂÖ®Ë¥üË¥£„ÄÇÊÇ®Â∫îËØ•ÂÆûÁé∞Âπ∂ÈÖçÁΩÆËá™ÂÆö‰πâÁöÑ ClassChecker Êàñ DeserializationPolicy ‰ª•ËøõË°åÁªÜÁ≤íÂ∫¶ÁöÑÂÆâÂÖ®ÊéßÂà∂„ÄÇ  Ë¶ÅÊä•Âëä Apache Fory‚Ñ¢ ‰∏≠ÁöÑÂÆâÂÖ®ÊºèÊ¥ûÔºåËØ∑ÈÅµÂæ™ ASF ÊºèÊ¥ûÊä•ÂëäÊµÅÁ®ã„ÄÇ  ","version":"0.15","tagName":"h3"},{"title":"Á§æÂå∫‰∏éÊîØÊåÅ‚Äã","type":1,"pageTitle":"Ê¶ÇËø∞","url":"/zh-CN/docs/introduction/overview#Á§æÂå∫‰∏éÊîØÊåÅ","content":" ","version":"0.15","tagName":"h2"},{"title":"Ëé∑ÂèñÂ∏ÆÂä©‚Äã","type":1,"pageTitle":"Ê¶ÇËø∞","url":"/zh-CN/docs/introduction/overview#Ëé∑ÂèñÂ∏ÆÂä©","content":" SlackÔºöÂä†ÂÖ•Êàë‰ª¨ÁöÑ Slack Â∑•‰ΩúÂå∫ÂèÇ‰∏éÁ§æÂå∫ËÆ®ËÆ∫Twitter/XÔºöÂÖ≥Ê≥® @ApacheFory Ëé∑ÂèñÊõ¥Êñ∞ÂíåÂÖ¨ÂëäGitHub IssuesÔºöÂú® apache/fory Êä•ÂëäÈîôËØØÂíåËØ∑Ê±ÇÂäüËÉΩÈÇÆ‰ª∂ÂàóË°®ÔºöËÆ¢ÈòÖ Apache Fory ÈÇÆ‰ª∂ÂàóË°®ÂèÇ‰∏éÂºÄÂèëËÆ®ËÆ∫  ","version":"0.15","tagName":"h3"},{"title":"Ë¥°ÁåÆ‚Äã","type":1,"pageTitle":"Ê¶ÇËø∞","url":"/zh-CN/docs/introduction/overview#Ë¥°ÁåÆ","content":" Êàë‰ª¨Ê¨¢ËøéË¥°ÁåÆÔºÅËØ∑ÈòÖËØªÊàë‰ª¨ÁöÑË¥°ÁåÆÊåáÂçóÂºÄÂßã„ÄÇ  Ë¥°ÁåÆÊñπÂºèÔºö  üêõ Êä•ÂëäÈîôËØØÂíåÈóÆÈ¢òüí° ÊèêÂá∫Êñ∞ÂäüËÉΩüìù ÊîπËøõÊñáÊ°£üîß Êèê‰∫§ Pull Requestüß™ Ê∑ªÂä†ÊµãËØïÁî®‰æãüìä ÂàÜ‰∫´Âü∫ÂáÜÊµãËØï  ËØ¶ËßÅÂºÄÂèëÊåáÂçó‰∫ÜËß£ÊûÑÂª∫ËØ¥ÊòéÂíåÂºÄÂèëÂ∑•‰ΩúÊµÅÁ®ã„ÄÇ ","version":"0.15","tagName":"h3"},{"title":"Java Â∫èÂàóÂåñÊ†ºÂºè","type":0,"sectionRef":"#","url":"/zh-CN/docs/specification/java_serialization_spec","content":"","keywords":"","version":"0.15"},{"title":"ËßÑËåÉÊ¶ÇËßà‚Äã","type":1,"pageTitle":"Java Â∫èÂàóÂåñÊ†ºÂºè","url":"/zh-CN/docs/specification/java_serialization_spec#ËßÑËåÉÊ¶ÇËßà","content":" Fory Java ÂéüÁîüÊ†ºÂºèÈù¢Âêë Java ÂØπË±°ÂõæÔºåÊîØÊåÅÔºö  ÂÖ±‰∫´ÂºïÁî®‰∏éÂæ™ÁéØÂºïÁî®Â§öÊÄÅÂØπË±°ÂèØÈÄâ schema ÊºîËøõÊµÅÂºèÂÜôÂÖ•ÔºàÂÖ±‰∫´ type meta ÊåâÈúÄÂÜÖËÅîÔºå‰∏çË¶ÅÊ±ÇÈ¢ÑÂÖà meta Âå∫Ôºâ  Java native ÊòØ xlang ÁºñÁ†ÅÊ†ºÂºèÁöÑÊâ©Â±ïÔºåÂ§çÁî®Áõ∏ÂêåÊ†∏ÂøÉÂ∏ß‰∏éÂü∫Á°ÄÁºñÁ†Å„ÄÇ  ÊÄª‰ΩìÂ∏ÉÂ±ÄÔºö  | fory header | object ref meta | object type meta | object value data |   Â≠óËäÇÂ∫èÁªü‰∏Ä‰∏∫ little-endian„ÄÇÂ§ßÁ´ØÂπ≥Âè∞ÂÆûÁé∞ÈúÄÂú®Êï∞ÁªÑÁ≠âË∑ØÂæÑÂÅöÂ≠óËäÇÂ∫èËΩ¨Êç¢ÔºåÁ°Æ‰øùÁ∫ø‰∏äÊ†ºÂºè‰∏ÄËá¥„ÄÇ  ","version":"0.15","tagName":"h2"},{"title":"Fory Â§¥ÈÉ®‚Äã","type":1,"pageTitle":"Java Â∫èÂàóÂåñÊ†ºÂºè","url":"/zh-CN/docs/specification/java_serialization_spec#fory-Â§¥ÈÉ®","content":" Java ÂéüÁîüÂ∫èÂàóÂåñÂ§¥ÈÉ®ÊòØ 1-byte ‰ΩçÂõæÔºö  | 5 bits | 1 bit | 1 bit | 1 bit | +--------------+-------+-------+-------+ | reserved | oob | xlang | null |   Âê´‰πâÔºö  nullÔºöÂØπË±°ÊòØÂê¶‰∏∫ nullÔºà‰∏∫ 1 Êó∂ÂÖ∂‰Ωô‰Ωç‰∏çÂ∫îÁΩÆ‰ΩçÔºâxlangÔºö1 Ë°®Á§∫ xlang Ê†ºÂºèÔºå0 Ë°®Á§∫ Java nativeoobÔºö1 Ë°®Á§∫Â≠òÂú® BufferCallback  Â§¥ÈÉ®ÂßãÁªà 1 Â≠óËäÇÔºå‰∏çÈ¢ùÂ§ñÂÜô language ID„ÄÇ  ","version":"0.15","tagName":"h2"},{"title":"ÂºïÁî®ÂÖÉ‰ø°ÊÅØ‚Äã","type":1,"pageTitle":"Java Â∫èÂàóÂåñÊ†ºÂºè","url":"/zh-CN/docs/specification/java_serialization_spec#ÂºïÁî®ÂÖÉ‰ø°ÊÅØ","content":" ÂºïÁî®Ë∑üË∏™Ê†áËÆ∞‰∏é xlang ‰∏ÄËá¥Ôºö  Ê†áËÆ∞\tÂ≠óËäÇÂÄº\tËØ¥ÊòéNULL FLAG\t-3\tÂØπË±°‰∏∫ nullÔºåÂêéÁª≠‰∏çÂÜôÂØπË±°ÂÜÖÂÆπ REF FLAG\t-2\tÂ∑≤Âá∫Áé∞ÂØπË±°ÔºåÂêéÊé• varuint32 ÁöÑ reference ID NOT_NULL VALUE FLAG\t-1\tÈùûÁ©∫‰ΩÜËØ•Á±ªÂûãÊú™ÂêØÁî®ÂºïÁî®Ë∑üË∏™ÔºåÂêéÊé•ÂØπË±°ÂÜÖÂÆπ REF VALUE FLAG\t0\tÂèØÂºïÁî®ÂØπË±°È¶ñÊ¨°Âá∫Áé∞ÔºåÂêéÊé•ÂØπË±°ÂÜÖÂÆπÔºåÂπ∂ÂàÜÈÖçÊñ∞ reference ID  ÂΩìÂÖ®Â±ÄÊàñÂ≠óÊÆµÁ∫ßÁ¶ÅÁî®ÂºïÁî®Ë∑üË∏™Êó∂Ôºå‰ªÖ‰ΩøÁî® NULL FLAG ‰∏é NOT_NULL VALUE FLAG„ÄÇ  ","version":"0.15","tagName":"h2"},{"title":"Type system and type IDs‚Äã","type":1,"pageTitle":"Java Â∫èÂàóÂåñÊ†ºÂºè","url":"/zh-CN/docs/specification/java_serialization_spec#type-system-and-type-ids","content":" Java native ‰ΩøÁî®‰∏é xlang Áªü‰∏ÄÁöÑÁ±ªÂûã ID ÁªÑÂêàÊñπÂºèÔºö  full_type_id = (user_type_id &lt;&lt; 8) | internal_type_id   internal_type_idÔºö‰Ωé 8 ‰ΩçÔºåË°®Á§∫Á±ªÂûãÁßçÁ±ªuser_type_idÔºöÁî®Êà∑Ê≥®ÂÜåÊï∞ÂÄº IDÔºàÈÄÇÁî®‰∫éÁî®Êà∑ enum/struct/extÔºânamed Á±ªÂûã‰ΩøÁî® NAMED_*ÔºåÂÖ∂Ê†áËØÜÊù•Ëá™ÂÖÉ‰ø°ÊÅØÔºàÂëΩÂêçÁ©∫Èó¥+Á±ªÂûãÂêçÔºâ  ","version":"0.15","tagName":"h2"},{"title":"Shared internal type IDs (0-63)‚Äã","type":1,"pageTitle":"Java Â∫èÂàóÂåñÊ†ºÂºè","url":"/zh-CN/docs/specification/java_serialization_spec#shared-internal-type-ids-0-63","content":" Java native ‰∏é xlang ÂÖ±‰∫´ &lt; 64 ÁöÑ internal IDsÔºö  0~56 Â∑≤ÂÆö‰πâ57~63 È¢ÑÁïô  ËØ¶ËßÅ Xlang Serialization Format„ÄÇ  ","version":"0.15","tagName":"h3"},{"title":"Java native built-in type IDs‚Äã","type":1,"pageTitle":"Java Â∫èÂàóÂåñÊ†ºÂºè","url":"/zh-CN/docs/specification/java_serialization_spec#java-native-built-in-type-ids","content":" Java ‰∏ìÊúâÂÜÖÂª∫Á±ªÂûã‰ªé Types.BOUND + 5 ÂºÄÂßãÔºàTypes.BOUND=64ÔºåÈ¢ÑÁïô 5 ‰∏™Ôºâ„ÄÇ  Type ID\tName\tDescription69\tVOID_ID\tjava.lang.Void 70\tCHAR_ID\tjava.lang.Character 71\tPRIMITIVE_VOID_ID\tvoid 72\tPRIMITIVE_BOOL_ID\tboolean 73\tPRIMITIVE_INT8_ID\tbyte 74\tPRIMITIVE_CHAR_ID\tchar 75\tPRIMITIVE_INT16_ID\tshort 76\tPRIMITIVE_INT32_ID\tint 77\tPRIMITIVE_FLOAT32_ID\tfloat 78\tPRIMITIVE_INT64_ID\tlong 79\tPRIMITIVE_FLOAT64_ID\tdouble 80\tPRIMITIVE_BOOLEAN_ARRAY_ID\tboolean[] 81\tPRIMITIVE_BYTE_ARRAY_ID\tbyte[] 82\tPRIMITIVE_CHAR_ARRAY_ID\tchar[] 83\tPRIMITIVE_SHORT_ARRAY_ID\tshort[] 84\tPRIMITIVE_INT_ARRAY_ID\tint[] 85\tPRIMITIVE_FLOAT_ARRAY_ID\tfloat[] 86\tPRIMITIVE_LONG_ARRAY_ID\tlong[] 87\tPRIMITIVE_DOUBLE_ARRAY_ID\tdouble[] 88\tSTRING_ARRAY_ID\tString[] 89\tOBJECT_ARRAY_ID\tObject[] 90\tARRAYLIST_ID\tjava.util.ArrayList 91\tHASHMAP_ID\tjava.util.HashMap 92\tHASHSET_ID\tjava.util.HashSet 93\tCLASS_ID\tjava.lang.Class 94\tEMPTY_OBJECT_ID\tempty object stub 95\tLAMBDA_STUB_ID\tlambda stub 96\tJDK_PROXY_STUB_ID\tJDK proxy stub 97\tREPLACE_STUB_ID\twriteReplace/readResolve stub 98\tNONEXISTENT_META_SHARED_ID\tmeta-shared unknown class stub  ","version":"0.15","tagName":"h3"},{"title":"Registration and named types‚Äã","type":1,"pageTitle":"Java Â∫èÂàóÂåñÊ†ºÂºè","url":"/zh-CN/docs/specification/java_serialization_spec#registration-and-named-types","content":" Áî®Êà∑Á±ªÂûãÂèØÊåâÊï∞ÂÄºÊàñÂêçÁß∞Ê≥®ÂÜåÔºö  Êï∞ÂÄºÊ≥®ÂÜåÔºöfull_type_id = (user_id &lt;&lt; 8) | internal_type_idÂêçÁß∞Ê≥®ÂÜåÔºöÈÄöËøá namespace + typenameÊú™Ê≥®ÂÜåÁ±ªÂûãÊåâ named Á±ªÂûãÂÜôÂá∫Ôºànamespace=ÂåÖÂêçÔºåtypename=Á±ªÂêçÔºâ  Êú™Ê≥®ÂÜåÊó∂ÂëΩÂêçÁ±ªÂûãÈÄâÊã©Ôºö  enum -&gt; NAMED_ENUMstruct-like -&gt; NAMED_STRUCTÔºàÂÖºÂÆπÊ®°Âºè‰∏ã NAMED_COMPATIBLE_STRUCTÔºâÂÖ∂‰ªñËá™ÂÆö‰πâ serializer -&gt; NAMED_EXT  ","version":"0.15","tagName":"h3"},{"title":"Type meta encoding‚Äã","type":1,"pageTitle":"Java Â∫èÂàóÂåñÊ†ºÂºè","url":"/zh-CN/docs/specification/java_serialization_spec#type-meta-encoding","content":" ÊØè‰∏™ÂÄºÂÜôÂÖ•ÊµÅÁ®ãÔºö  ÂÜô type_idÔºàvaruint32 small7ÔºâÂØπ NAMED_* / COMPATIBLE_STRUCT Á≠âÁ±ªÂûãÊåâËßÑÂàôÂÜôÈ¢ùÂ§ñÂÖÉ‰ø°ÊÅØÂÖ∂‰ΩôÁ±ªÂûãÊó†ÈúÄÈ¢ùÂ§ñ meta  ","version":"0.15","tagName":"h2"},{"title":"Shared class meta (streaming)‚Äã","type":1,"pageTitle":"Java Â∫èÂàóÂåñÊ†ºÂºè","url":"/zh-CN/docs/specification/java_serialization_spec#shared-class-meta-streaming","content":" ÂºÄÂêØ meta share Êó∂Ôºå‰ΩøÁî®ÊµÅÂºèÂÖ±‰∫´ class metaÔºö  | varuint32: index_marker | [class def bytes if new] | index_marker = (index &lt;&lt; 1) | flag flag = 1 -&gt; reference flag = 0 -&gt; new type   flag=1ÔºöÂºïÁî®ÂéÜÂè≤ typeÔºåÂêéÁª≠Êó† class def bytesflag=0ÔºöÊñ∞ typeÔºåÂêéÁª≠ÂÜÖËÅî class defindex ÊåâÈ¶ñÊ¨°Âá∫Áé∞È°∫Â∫èÈÄíÂ¢û  ","version":"0.15","tagName":"h3"},{"title":"Schema modes‚Äã","type":1,"pageTitle":"Java Â∫èÂàóÂåñÊ†ºÂºè","url":"/zh-CN/docs/specification/java_serialization_spec#schema-modes","content":" Java native ÊîØÊåÅ‰∏§ÁßçÊ®°ÂºèÔºö  Schema consistentÔºàcompatible ÂÖ≥Èó≠ÔºâÔºöÂ≠óÊÆµÊåâÂõ∫ÂÆöÈ°∫Â∫èÂÜôÔºå‰∏çÈúÄË¶Å ClassDefSchema evolutionÔºàcompatible ÂºÄÂêØÔºâÔºöÊåâ ClassDef ÂÖÉ‰ø°ÊÅØÊîØÊåÅÊºîËøõ  ","version":"0.15","tagName":"h2"},{"title":"ClassDef format (compatible mode)‚Äã","type":1,"pageTitle":"Java Â∫èÂàóÂåñÊ†ºÂºè","url":"/zh-CN/docs/specification/java_serialization_spec#classdef-format-compatible-mode","content":" ClassDef ÊòØ compatible struct ÁöÑÊºîËøõÂÖÉ‰ø°ÊÅØ„ÄÇ  ","version":"0.15","tagName":"h2"},{"title":"Binary layout‚Äã","type":1,"pageTitle":"Java Â∫èÂàóÂåñÊ†ºÂºè","url":"/zh-CN/docs/specification/java_serialization_spec#binary-layout","content":" | 8 bytes header | [varuint32 extra size] | class meta bytes |   header ‰ΩçÂ∏ÉÂ±ÄÔºö  | 50-bit hash | 4 bits reserved | 1 bit compress | 1 bit has_fields_meta | 8-bit size |   ËßÑÂàôÔºö  size ‰∏∫‰Ωé 8 ‰ΩçÔºõËã•‰∏∫ 0xFFÔºåÂêéÊé•Êâ©Â±ïÈïøÂ∫¶compressÔºöpayload ÊòØÂê¶ÂéãÁº©has_fields_metaÔºöÊòØÂê¶Âê´Â≠óÊÆµÂÖÉ‰ø°ÊÅØreserved ÂøÖÈ°ª‰∏∫ 0hash ‰∏∫ payload + flags ÁöÑ 50-bit ÂìàÂ∏å  ","version":"0.15","tagName":"h3"},{"title":"Class meta bytes‚Äã","type":1,"pageTitle":"Java Â∫èÂàóÂåñÊ†ºÂºè","url":"/zh-CN/docs/specification/java_serialization_spec#class-meta-bytes","content":" Ë°®Á§∫Á∫øÊÄßÂåñÁªßÊâøÂ±ÇÊ¨°ÔºàÁà∂ -&gt; Â≠êÔºâ‰∏éÂ≠óÊÆµ‰ø°ÊÅØÔºö  | num_classes | class_layer_0 | class_layer_1 | ... | class_layer: | num_fields &lt;&lt; 1 | registered_flag | [type_id if registered] | | namespace | type_name | field_infos |   ","version":"0.15","tagName":"h3"},{"title":"Field info‚Äã","type":1,"pageTitle":"Java Â∫èÂàóÂåñÊ†ºÂºè","url":"/zh-CN/docs/specification/java_serialization_spec#field-info","content":" ÊØè‰∏™Â≠óÊÆµÔºö  | field_header | [field_name_bytes] | field_type |   field_headerÔºö  bit0: trackingRefbit1: nullablebit2-3: Â≠óÊÆµÂêçÁºñÁ†Åbit4-6: name length/tag IDÔºà7 Ë°®Á§∫Êâ©Â±ïÔºâbit7: reserved=0  Â≠óÊÆµÂêçÁºñÁ†ÅÔºö  0: UTF81: ALL_TO_LOWER_SPECIAL2: LOWER_UPPER_DIGIT_SPECIAL3: TAG_IDÔºàÁúÅÁï•Â≠óÊÆµÂêçÔºåÂ≠ò tagÔºâ  ","version":"0.15","tagName":"h3"},{"title":"Field type encoding‚Äã","type":1,"pageTitle":"Java Â∫èÂàóÂåñÊ†ºÂºè","url":"/zh-CN/docs/specification/java_serialization_spec#field-type-encoding","content":" Â≠óÊÆµÁ±ªÂûã‰ΩøÁî® type tag + ÂèØÈÄâÂµåÂ•óÁ±ªÂûã‰ø°ÊÅØÔºö  Tag\tÂ≠óÊÆµÁ±ªÂûã0\tObject (ObjectFieldType) 1\tMap (MapFieldType) 2\tCollection/List/Set (CollectionFieldType) 3\tArray (ArrayFieldType) 4\tEnum (EnumFieldType) 5+\tRegistered type (RegisteredFieldType)  ÂµåÂ•óÁ±ªÂûãÂ§¥ÈÉ®‰Ωé‰ΩçÂèØÊê∫Â∏¶ nullable/tracking_ref Ê†áÂøó„ÄÇ  ","version":"0.15","tagName":"h3"},{"title":"Meta string encoding‚Äã","type":1,"pageTitle":"Java Â∫èÂàóÂåñÊ†ºÂºè","url":"/zh-CN/docs/specification/java_serialization_spec#meta-string-encoding","content":" namespace„ÄÅtype name„ÄÅfield name Â§çÁî® xlang ÁöÑ meta string ÁºñÁ†Å„ÄÇ  ","version":"0.15","tagName":"h2"},{"title":"Package and type names‚Äã","type":1,"pageTitle":"Java Â∫èÂàóÂåñÊ†ºÂºè","url":"/zh-CN/docs/specification/java_serialization_spec#package-and-type-names","content":" Â§¥ÈÉ®Ôºö  | 6 bits size | 2 bits encoding |   size=63 Êó∂ËøΩÂä†Êâ©Â±ïÈïøÂ∫¶package ÊîØÊåÅÔºöUTF8 / ALL_TO_LOWER_SPECIAL / LOWER_UPPER_DIGIT_SPECIALtype name ÊîØÊåÅÔºöUTF8 / LOWER_UPPER_DIGIT_SPECIAL / FIRST_TO_LOWER_SPECIAL / ALL_TO_LOWER_SPECIAL  ","version":"0.15","tagName":"h3"},{"title":"Field names‚Äã","type":1,"pageTitle":"Java Â∫èÂàóÂåñÊ†ºÂºè","url":"/zh-CN/docs/specification/java_serialization_spec#field-names","content":" Â≠óÊÆµÂêçÁºñÁ†Å‰∏é ClassDef ÁöÑ field header ËßÑÂàô‰∏ÄËá¥ÔºõËã•‰ΩøÁî® TAG_IDÔºåÂàô‰∏çÂÜôÂêçÂ≠óÂ≠óËäÇ„ÄÇ  ","version":"0.15","tagName":"h3"},{"title":"Encoding algorithms‚Äã","type":1,"pageTitle":"Java Â∫èÂàóÂåñÊ†ºÂºè","url":"/zh-CN/docs/specification/java_serialization_spec#encoding-algorithms","content":" ÂÖ∑‰ΩìÁÆóÊ≥ïÂèÇËßÅ xlang ËßÑËåÉ #meta-string„ÄÇ  ","version":"0.15","tagName":"h3"},{"title":"Value encodings‚Äã","type":1,"pageTitle":"Java Â∫èÂàóÂåñÊ†ºÂºè","url":"/zh-CN/docs/specification/java_serialization_spec#value-encodings","content":" ‰ª•‰∏ã‰∏∫ Java native Â∏∏ËßÅÂÜÖÂª∫ serializer ÁöÑÂÄºÂ∏ÉÂ±Ä„ÄÇËá™ÂÆö‰πâ EXT ÂèØÂÆö‰πâËá™Ë∫´ÂÄºÊ†ºÂºèÔºå‰ΩÜÂøÖÈ°ªÈÅµÂæ™‚ÄúÂºïÁî®ÂÖÉ‰ø°ÊÅØ + Á±ªÂûãÂÖÉ‰ø°ÊÅØ‚ÄùÈÄöÈÅìËßÑÂàô„ÄÇ  ","version":"0.15","tagName":"h2"},{"title":"Primitives‚Äã","type":1,"pageTitle":"Java Â∫èÂàóÂåñÊ†ºÂºè","url":"/zh-CN/docs/specification/java_serialization_spec#primitives","content":" boolean: 1 byteÔºà0/1Ôºâbyte: 1 byteshort: 2 bytes little-endianchar: 2 bytes little-endianÔºàUTF-16 code unitÔºâint: fixed(4 bytes) Êàñ varint32(ZigZag)long: fixed(8 bytes) / varint64(ZigZag) / tagged int64float: IEEE754 float32double: IEEE754 float64  ","version":"0.15","tagName":"h3"},{"title":"String‚Äã","type":1,"pageTitle":"Java Â∫èÂàóÂåñÊ†ºÂºè","url":"/zh-CN/docs/specification/java_serialization_spec#string","content":" | varuint36_small: (num_bytes &lt;&lt; 2) | coder | string bytes |   coder(2 bits)ÔºöLATIN1 / UTF16 / UTF8UTF16 ÈááÁî® little-endian code unit  ","version":"0.15","tagName":"h3"},{"title":"Enum‚Äã","type":1,"pageTitle":"Java Â∫èÂàóÂåñÊ†ºÂºè","url":"/zh-CN/docs/specification/java_serialization_spec#enum","content":" serializeEnumByName=trueÔºöÂÜô enum ÂêçÁß∞Ôºàmeta stringÔºâÂê¶ÂàôÔºöÂÜô ordinalÔºàvaruint32 small7Ôºâ  ","version":"0.15","tagName":"h3"},{"title":"Binary (byte[])‚Äã","type":1,"pageTitle":"Java Â∫èÂàóÂåñÊ†ºÂºè","url":"/zh-CN/docs/specification/java_serialization_spec#binary-byte","content":" | varuint32: num_bytes | raw bytes |   ","version":"0.15","tagName":"h3"},{"title":"Primitive arrays‚Äã","type":1,"pageTitle":"Java Â∫èÂàóÂåñÊ†ºÂºè","url":"/zh-CN/docs/specification/java_serialization_spec#primitive-arrays","content":" ÈªòËÆ§Ôºö  | varuint32: byte_length | raw bytes |   ÂèØÈÄâÂéãÁº©Ôºö  compressIntArrayÔºö| length | varint32... |compressLongArrayÔºö| length | varint64/tagged... |  ","version":"0.15","tagName":"h3"},{"title":"Object arrays‚Äã","type":1,"pageTitle":"Java Â∫èÂàóÂåñÊ†ºÂºè","url":"/zh-CN/docs/specification/java_serialization_spec#object-arrays","content":" | varuint32_small7: (length &lt;&lt; 1) | mono_flag |   mono_flag=1ÔºöÂçïÊÄÅÊï∞ÁªÑÔºåÂÖ±‰∫´ÁªÑ‰ª∂ serializermono_flag=0ÔºöÊØèÂÖÉÁ¥†Áã¨Á´ã class info + data  ","version":"0.15","tagName":"h3"},{"title":"Collections (List/Set)‚Äã","type":1,"pageTitle":"Java Â∫èÂàóÂåñÊ†ºÂºè","url":"/zh-CN/docs/specification/java_serialization_spec#collections-listset","content":" | varuint32_small7: length | elements_header | [elem_class_info] | elements... |   elements_headerÔºö  bit0: TRACKING_REFbit1: HAS_NULLbit2: IS_DECL_ELEMENT_TYPEbit3: IS_SAME_TYPE  ","version":"0.15","tagName":"h3"},{"title":"Maps‚Äã","type":1,"pageTitle":"Java Â∫èÂàóÂåñÊ†ºÂºè","url":"/zh-CN/docs/specification/java_serialization_spec#maps","content":" | varuint32_small7: size | chunk_1 | chunk_2 | ... | chunk: | header | chunk_size | [key_class_info] | [value_class_info] | entries... |   Map ÈááÁî® chunk ÁºñÁ†ÅÔºåÊØèÂùóÊúÄÂ§ö 255 entriesÔºõkey/value ÁöÑÂºïÁî®Ë∑üË∏™‰∏éÁ±ªÂûãÂ£∞ÊòéÊåâ header ‰ΩçÂõæÊéßÂà∂„ÄÇ  Null key/value entries‚Äã  null key Êàñ null value ‰ΩøÁî®ÁâπÊÆäÂçïÊù° chunkÔºå‰∏çÂÜô chunk_sizeÔºåÂè™ÂÜôÂØπÂ∫î payload„ÄÇ  ","version":"0.15","tagName":"h3"},{"title":"Objects and structs‚Äã","type":1,"pageTitle":"Java Â∫èÂàóÂåñÊ†ºÂºè","url":"/zh-CN/docs/specification/java_serialization_spec#objects-and-structs","content":" ÂØπË±°ÂÄºÈÄöÈÅìÔºö  | ref meta | type meta | field data |   Ê†áÂáÜÂØπË±°Â∫èÂàóÂåñ‰∏≠Ôºö  Â≠óÊÆµÊåâÁ®≥ÂÆöÈ°∫Â∫èÔºàDescriptorGrouperÔºâÊéíÂ∫ècompatible Ê®°ÂºèÂèØÂÄüÂä© ClassDef Êò†Â∞ÑÂ≠óÊÆµÂπ∂Ë∑≥ËøáÊú™Áü•Â≠óÊÆµÂ≠óÊÆµÊòØÂê¶ÂÜô ref/type meta Áî± nullable/ref/polymorphic Á≠ñÁï•ÂÜ≥ÂÆö  ","version":"0.15","tagName":"h3"},{"title":"Extensions (EXT)‚Äã","type":1,"pageTitle":"Java Â∫èÂàóÂåñÊ†ºÂºè","url":"/zh-CN/docs/specification/java_serialization_spec#extensions-ext","content":" EXT Á±ªÂûãÂÄºÁî±Ê≥®ÂÜå serializer ÂÆö‰πâÔºõ‰ΩÜÂÖ∂Â§ñÂ±Ç‰ªçÈÅµÂæ™Áªü‰∏ÄÁöÑÂºïÁî®‰∏éÁ±ªÂûãÂÖÉ‰ø°ÊÅØÂçèËÆÆ„ÄÇ  ","version":"0.15","tagName":"h3"},{"title":"Out-of-band buffers‚Äã","type":1,"pageTitle":"Java Â∫èÂàóÂåñÊ†ºÂºè","url":"/zh-CN/docs/specification/java_serialization_spec#out-of-band-buffers","content":" ÂΩìÊèê‰æõ BufferCallback Êó∂Ôºåheader ÁöÑ oob ‰ΩçÁΩÆ 1„ÄÇÊ≠§Êó∂ serializer ÂèØËæìÂá∫‚ÄúÁºìÂÜ≤Âå∫ÂºïÁî®‚ÄùËÄåÈùûÂÜÖËÅîÂ≠óËäÇÔºàÂ¶ÇÂ§ßÊï∞ÁªÑÔºâ„ÄÇ ‰∏ªÊµÅ‰∏≠‰ªÖ‰øùÁïôÂºïÁî®‰ø°ÊÅØÔºåÂÖ∑‰Ωì OOB ÁºìÂÜ≤Âå∫ÂçèËÆÆÁî± callback ÂÆûÁé∞ÂÆö‰πâ„ÄÇ ","version":"0.15","tagName":"h2"},{"title":"Row Ê†ºÂºè","type":0,"sectionRef":"#","url":"/zh-CN/docs/specification/row_format_spec","content":"","keywords":"","version":"0.15"},{"title":"Ê¶ÇËø∞‚Äã","type":1,"pageTitle":"Row Ê†ºÂºè","url":"/zh-CN/docs/specification/row_format_spec#Ê¶ÇËø∞","content":" Apache Fory Row Format ÊòØÈù¢ÂêëÈ´òÊÄßËÉΩÊï∞ÊçÆÂ§ÑÁêÜÁöÑ‰∫åËøõÂà∂Â∏ÉÂ±ÄÔºåÁõÆÊ†áÊòØ‚ÄúÂèØÈöèÊú∫ËÆøÈóÆ + ‰ΩéÊã∑Ë¥ù + Ë∑®ËØ≠Ë®Ä‰∏ÄËá¥‚Äù„ÄÇ  Áõ∏ËæÉ‰∫éÂøÖÈ°ªÊï¥ÂØπË±°ÂèçÂ∫èÂàóÂåñÁöÑÊ†ºÂºèÔºåRow Format ÊîØÊåÅÔºö  ÈöèÊú∫Â≠óÊÆµËØªÂèñÔºöÂè™ËØªÁõÆÊ†áÂ≠óÊÆµÈõ∂Êã∑Ë¥ùËÆøÈóÆÔºöÂú®ÂèØË°åÂú∫ÊôØÁõ¥Êé•Âü∫‰∫éÂÜÖÂ≠òÂàáÁâáËØªÂèñÁºìÂ≠òÂèãÂ•ΩÂ∏ÉÂ±ÄÔºöÈôç‰Ωé CPU cache missË∑®ËØ≠Ë®Ä‰∏ÄËá¥ÊÄßÔºöJava/C++/Python ÂèØÂÖ±‰∫´Ê†áÂáÜÊ†ºÂºè  Fory Êèê‰æõ‰∏§ÁßçÂèò‰ΩìÔºö  Ê†ºÂºè\tÊîØÊåÅËØ≠Ë®Ä\tÂÖ∏ÂûãÁî®ÈÄîStandard Format\tJava„ÄÅC++„ÄÅPython\tË∑®ËØ≠Ë®Ä‰∏ÄËá¥„ÄÅÂÆûÁé∞ÁÆÄÂçï Compact Format\t‰ªÖ Java\tÊõ¥Â∞è‰ΩìÁßØ„ÄÅÊõ¥È´òÂ±ÄÈÉ®ÊÄß  ","version":"0.15","tagName":"h2"},{"title":"Ê†ºÂºèÂØπÊØî‚Äã","type":1,"pageTitle":"Row Ê†ºÂºè","url":"/zh-CN/docs/specification/row_format_spec#Ê†ºÂºèÂØπÊØî","content":" ÁâπÊÄß\tStandard Format\tCompact FormatÂ≠óÊÆµÊßΩ‰ΩçÂ§ßÂ∞è\tÂõ∫ÂÆö 8 Â≠óËäÇ\tÊåâËá™ÁÑ∂ÂÆΩÂ∫¶Ôºà1/2/4/8 Â≠óËäÇÔºâ Null Bitmap\t8 Â≠óËäÇÂØπÈΩê\tÂ≠óËäÇÂØπÈΩêÔºåÂèØÂÄüÁî®Â∞æÈÉ® padding Null Bitmap ‰ΩçÁΩÆ\tÂ≠óÊÆµÊßΩ‰Ωç‰πãÂâç\tÂ≠óÊÆµÊßΩ‰Ωç‰πãÂêéÔºàÂ∞æÈÉ®Ôºâ Âõ∫ÂÆöÂ§ßÂ∞è struct\tÊîæÂú® variable regionÔºàoffset+sizeÔºâ\tÂèØÂÜÖËÅîÂà∞ fixed region Â≠óÊÆµÈ°∫Â∫è\tÊåâ schema ÂÆö‰πâÈ°∫Â∫è\tÊåâÂØπÈΩêËßÑÂàôÊéíÂ∫è ÂÖ®ÈùûÁ©∫Â≠óÊÆµ\t‰ªç‰øùÁïô bitmap\tÂèØÂÆåÂÖ®ÁúÅÁï• bitmap ÂØπÈΩêÁ≠ñÁï•\t‰∏•Ê†º 8 Â≠óËäÇ\tÊîæÂÆΩÔºà2/4/8 Â≠óËäÇÔºâ  ","version":"0.15","tagName":"h2"},{"title":"Ê†áÂáÜ Row Ê†ºÂºè‚Äã","type":1,"pageTitle":"Row Ê†ºÂºè","url":"/zh-CN/docs/specification/row_format_spec#Ê†áÂáÜ-row-Ê†ºÂºè","content":" Ê†áÂáÜÊ†ºÂºèÂº∫Ë∞ÉË∑®ËØ≠Ë®ÄÁªü‰∏Ä‰∏éÂÆûÁé∞Á®≥ÂÆöÔºöÂ≠óÊÆµÊßΩ‰ΩçÁªü‰∏Ä 8 Â≠óËäÇ„ÄÇ  ","version":"0.15","tagName":"h2"},{"title":"ËÆæËÆ°ÂéüÂàô‚Äã","type":1,"pageTitle":"Row Ê†ºÂºè","url":"/zh-CN/docs/specification/row_format_spec#ËÆæËÆ°ÂéüÂàô","content":" 8 Â≠óËäÇÂØπÈΩêÔºö‰∏ªË¶ÅÁªìÊûÑÊåâ 8-byte ÂØπÈΩêÂõ∫ÂÆöÊßΩ‰ΩçÔºöÊØèÂ≠óÊÆµÂõ∫ÂÆö 8-byte slotÔºå‰æø‰∫éÂ∏∏Êï∞Êó∂Èó¥ÂØªÂùÄ‰ΩçÂõæÊ†áËÆ∞ nullÔºöÈÄöËøá bitset Ë∑üË∏™Á©∫ÂÄºÁõ∏ÂØπÂÅèÁßªÔºöÂèòÈïøÊï∞ÊçÆÈÄöËøáÁõ∏ÂØπÂÅèÁßªÂÆö‰Ωç  ","version":"0.15","tagName":"h3"},{"title":"Row ‰∫åËøõÂà∂Â∏ÉÂ±Ä‚Äã","type":1,"pageTitle":"Row Ê†ºÂºè","url":"/zh-CN/docs/specification/row_format_spec#row-‰∫åËøõÂà∂Â∏ÉÂ±Ä","content":" +----------------+------------------+------------------+-----+------------------+------------------+ | Null Bitmap | Field 0 Slot | Field 1 Slot | ... | Field N-1 Slot | Variable Data | +----------------+------------------+------------------+-----+------------------+------------------+ | B bytes | 8 bytes | 8 bytes | | 8 bytes | Variable size |   Null Bitmap‚Äã  Â§ßÂ∞èÔºö((num_fields + 63) / 64) * 8 Â≠óËäÇÔºàÂêë‰∏äÂèñÊï¥Âà∞ 8-byte wordÔºâÁºñÁ†ÅÔºöÊØè bit ÂØπÂ∫î‰∏Ä‰∏™Â≠óÊÆµbit=1 Ë°®Á§∫ nullÔºåbit=0 Ë°®Á§∫Èùû nullÁ¨¨‰∏ÄÂ≠óËäÇ bit0 ÂØπÂ∫î field0  Â≠óÊÆµÊßΩ‰Ωç‚Äã  ‰ªªÊÑèÂ≠óÊÆµÈÉΩÂç† 8 Â≠óËäÇ slotÊßΩ‰ΩçÂÅèÁßªÔºöbitmap_size + field_index * 8Âõ∫ÂÆöÂå∫ÊÄªÂ§ßÂ∞èÔºöbitmap_size + num_fields * 8  ÊßΩ‰ΩçÂÜÖÂÆπÔºö  Â≠óÊÆµÁ±ªÂà´\tÊßΩ‰ΩçÂÜÖÂÆπÂÆöÈïøÁ±ªÂûã\tÂÄºÁõ¥Êé•ÂÜôÂÖ•Ôºà‰∏çË∂≥Ë°•Èõ∂Ôºâ ÂèòÈïøÁ±ªÂûã\toffset + size ÊâìÂåÖ  ÂèòÈïøÂ≠óÊÆµÁºñÁ†Å‚Äã  ÂèòÈïøÂ≠óÊÆµÔºàstring/array/map/nested structÔºâÂú® slot ‰∏≠ÂÜôÂÖ•Ôºö  +---------------------------+---------------------------+ | Relative Offset | Size | | (32 bits) | (32 bits) | +---------------------------+---------------------------+   È´ò 32 ‰ΩçÔºöÁõ∏ÂØπ row Ëµ∑ÂßãÂú∞ÂùÄÂÅèÁßª‰Ωé 32 ‰ΩçÔºöÊï∞ÊçÆÈïøÂ∫¶ÔºàÂ≠óËäÇÔºâ  ÁºñÁ†ÅÔºö  offset_and_size = (relative_offset &lt;&lt; 32) | size   Ëß£Á†ÅÔºö  relative_offset = (offset_and_size &gt;&gt; 32) &amp; 0xFFFFFFFF size = offset_and_size &amp; 0xFFFFFFFF   Variable Data Âå∫‚Äã  ‰Ωç‰∫é fixed region ‰πãÂêéÂèòÈïøÂ≠óÊÆµÊåâÂÜôÂÖ•È°∫Â∫èÈ°∫ÊéíÊØè‰∏™Êù°ÁõÆÊåâ 8-byte ÂØπÈΩêpadding Â≠óËäÇÊ∏ÖÈõ∂Ôºå‰øùËØÅËæìÂá∫Á°ÆÂÆöÊÄß  ","version":"0.15","tagName":"h3"},{"title":"Array ‰∫åËøõÂà∂Â∏ÉÂ±Ä‚Äã","type":1,"pageTitle":"Row Ê†ºÂºè","url":"/zh-CN/docs/specification/row_format_spec#array-‰∫åËøõÂà∂Â∏ÉÂ±Ä","content":" +------------------+------------------+------------------+ | Element Count | Null Bitmap | Element Data | +------------------+------------------+------------------+ | 8 bytes | B bytes | Variable size |   Array Header‚Äã  Â≠óÊÆµ\tÂ§ßÂ∞è\tËØ¥ÊòéElement Count\t8 Â≠óËäÇ\tÂÖÉÁ¥†Êï∞ÈáèÔºàuint64Ôºâ Null Bitmap\t((count + 63) / 64) * 8 Â≠óËäÇ\tÊØèÂÖÉÁ¥† null Ê†áËÆ∞  Array Element Data‚Äã  ÂÆöÈïøÂÖÉÁ¥†ÊåâËá™ÁÑ∂ÂÆΩÂ∫¶ËøûÁª≠Â≠òÂÇ®ÂèòÈïøÂÖÉÁ¥†Â≠ò 8-byte offset+sizeÂÖÉÁ¥†ÂÅèÁßªÔºöheader_size + element_index * element_sizeÊï∞ÊçÆÂå∫ÊÄªÂ§ßÂ∞èÊåâ 8-byte ÂØπÈΩê  Array ÂÖÉÁ¥†Â§ßÂ∞è‚Äã  ÂÖÉÁ¥†Á±ªÂûã\tÂÖÉÁ¥†Âç†Áî®bool/int8\t1 byte int16\t2 bytes int32/float32\t4 bytes int64/float64\t8 bytes string/binary\t8 bytesÔºàoffset+sizeÔºâ  ","version":"0.15","tagName":"h3"},{"title":"Map ‰∫åËøõÂà∂Â∏ÉÂ±Ä‚Äã","type":1,"pageTitle":"Row Ê†ºÂºè","url":"/zh-CN/docs/specification/row_format_spec#map-‰∫åËøõÂà∂Â∏ÉÂ±Ä","content":" Map Âú® Row Format ‰∏≠ÂèØËßÜ‰∏∫ÈîÆÂÄºÂØπÊï∞ÁªÑÔºåÂπ∂ÂåÖÂê´Á±ªÂûã‰ø°ÊÅØ‰∏éÂèØÁ©∫‰ΩçÂõæ„ÄÇ  Map ÁªìÊûÑ‚Äã  Êé®ËçêÈÄªËæëÁªìÊûÑÔºö  entry countkey/value null bitmapÔºàÊåâÂÆûÁé∞ÂèØÊãÜÂàÜÔºâkey datavalue data  ÂµåÂ•ó Struct Â∏ÉÂ±Ä‚Äã  ÂµåÂ•ó struct Âú®Ê†áÂáÜÊ†ºÂºè‰∏≠‰Ωú‰∏∫ÂèòÈïøÂ≠óÊÆµÂ§ÑÁêÜÔºö  slot ÂÜô offset+sizevalue region ‰∏≠Â≠òÂÖ∂ÂÆåÊï¥ row ‰∫åËøõÂà∂ÂèØÈÄíÂΩíÂµåÂ•ó  ","version":"0.15","tagName":"h3"},{"title":"Compact Row FormatÔºà‰ªÖ JavaÔºâ‚Äã","type":1,"pageTitle":"Row Ê†ºÂºè","url":"/zh-CN/docs/specification/row_format_spec#compact-row-format‰ªÖ-java","content":" Compact Ê†ºÂºèÈíàÂØπ Java Êú¨Âú∞ÊâßË°åÈìæË∑ØÂÅö‰ΩìÁßØ‰∏éÂ±ÄÈÉ®ÊÄß‰ºòÂåñÔºå‰∏ç‰øùËØÅ‰∏éÊ†áÂáÜÊ†ºÂºèÂÆåÂÖ®ÂêåÂ∏ÉÂ±Ä„ÄÇ  ","version":"0.15","tagName":"h2"},{"title":"ËÆæËÆ°ÂéüÂàô‚Äã","type":1,"pageTitle":"Row Ê†ºÂºè","url":"/zh-CN/docs/specification/row_format_spec#ËÆæËÆ°ÂéüÂàô-1","content":" Â≠óÊÆµÊßΩÊåâËá™ÁÑ∂ÂÆΩÂ∫¶Áº©Â∞èÂ≠óÊÆµÈáçÊéí‰ª•ÂáèÂ∞ë paddingnull bitmap ÂèØÁúÅÁï•ÊàñÂéãÁº©ÂÆöÈïøÂµåÂ•ó struct Â∞ΩÂèØËÉΩÂÜÖËÅî  ","version":"0.15","tagName":"h3"},{"title":"Compact Row Binary Layout‚Äã","type":1,"pageTitle":"Row Ê†ºÂºè","url":"/zh-CN/docs/specification/row_format_spec#compact-row-binary-layout","content":" ÊÄª‰Ωì‰ªçÊòØ‚Äúfixed + variable‚ÄùÂèåÂå∫ÁªìÊûÑÔºå‰ΩÜ fixed region Êõ¥Á¥ßÂáëÔºånull bitmap ÂèØËÉΩÂêéÁΩÆ„ÄÇ  ‰∏éÊ†áÂáÜÊ†ºÂºèÁöÑÂÖ≥ÈîÆÂ∑ÆÂºÇ‚Äã  slot ÂÆΩÂ∫¶ÈùûÂõ∫ÂÆö 8 Â≠óËäÇbitmap ÂèØÂêéÁΩÆÂÖ®ÈùûÁ©∫Êó∂ bitmap ÂèØÁúÅÁï•ÂèØÂÜÖËÅîÂÆöÈïø nested struct  Null BitmapÔºàCompactÔºâ‚Äã  ÊåâÂ≠óËäÇÂØπÈΩêÂèØËÉΩÂ§çÁî®Â∞æÈÉ® paddingÊó†ÂèØÁ©∫Â≠óÊÆµÊó∂ÂèØÂÆåÂÖ®ÁßªÈô§  Â≠óÊÆµÊéíÂ∫èÁÆóÊ≥ï‚Äã  ÂÖ∏ÂûãÊéíÂ∫èÁõÆÊ†áÔºö  ‰ºòÂÖàÈ´òÂØπÈΩêÈúÄÊ±ÇÂ≠óÊÆµÊ¨°Â∫èÂÖºÈ°æËØªÂèñÁÉ≠Â∫¶‰∏é padding ÊúÄÂ∞èÂåñ‰øùÊåÅÂèØÈáçÂ§çËÆ°ÁÆóÔºàdeterministicÔºâ  ÂÆöÈïø Struct ÂÜÖËÅî‚Äã  Ëã•ÂµåÂ•ó struct Êª°Ë∂≥ÂÆöÈïøÊù°‰ª∂ÔºåÂèØÁõ¥Êé•ÂÜÖËÅîÂà∞ fixed regionÔºåÂáèÂ∞ë‰∏ÄÊ¨°Èó¥Êé•ÂØªÂùÄ„ÄÇ  ÂÆöÂÆΩËÆ°ÁÆó‚Äã  ÂÆöÂÆΩÂ≠óÊÆµÊÄªÂ§ßÂ∞èÁî±Â≠óÊÆµÁ±ªÂûãÂÆΩÂ∫¶‰∏éÂØπÈΩêÁ∫¶ÊùüÂÖ±ÂêåÂÜ≥ÂÆöÔºåÂÆûÈôÖÂ∏ÉÂ±ÄÁî±ÁºñËØëÂô®/ËøêË°åÊó∂ËßÑÂàíÂô®ËæìÂá∫„ÄÇ  ","version":"0.15","tagName":"h3"},{"title":"Compact Array Binary Layout‚Äã","type":1,"pageTitle":"Row Ê†ºÂºè","url":"/zh-CN/docs/specification/row_format_spec#compact-array-binary-layout","content":" ‰∏éÊ†áÂáÜÊï∞ÁªÑÁ±ª‰ººÔºå‰ΩÜ header ‰∏éÂÖÉÁ¥†Â∏ÉÂ±ÄÂèØÈááÁî®Êõ¥Á¥ßÂáëË°®Á§∫„ÄÇ  Compact Array Header‚Äã  ÂåÖÂê´ÔºöÂÖÉÁ¥†Êï∞Èáè„ÄÅnull ‰ø°ÊÅØÔºàÂèØÈÄâÔºâ„ÄÅÂÖÉÁ¥†Â∏ÉÂ±ÄÂÖÉ‰ø°ÊÅØÔºàÊåâÂÆûÁé∞Ôºâ„ÄÇ  ‰∏éÊ†áÂáÜÊï∞ÁªÑÂÖ≥ÈîÆÂ∑ÆÂºÇ‚Äã  Â§¥ÈÉ®Êõ¥Áü≠ÂÖÉÁ¥†Â≠òÂÇ®Êõ¥Ë¥¥ËøëËá™ÁÑ∂ÂÆΩÂ∫¶Âú® Java ÁÉ≠Ë∑ØÂæÑ‰∏ãÊõ¥ËäÇÁúÅÂÜÖÂ≠òÂ∏¶ÂÆΩ  ","version":"0.15","tagName":"h3"},{"title":"ÈÄöÁî®ËßÑËåÉ‚Äã","type":1,"pageTitle":"Row Ê†ºÂºè","url":"/zh-CN/docs/specification/row_format_spec#ÈÄöÁî®ËßÑËåÉ","content":" ","version":"0.15","tagName":"h2"},{"title":"Á±ªÂûãÁºñÁ†Å‚Äã","type":1,"pageTitle":"Row Ê†ºÂºè","url":"/zh-CN/docs/specification/row_format_spec#Á±ªÂûãÁºñÁ†Å","content":" Primitive Types‚Äã  Âü∫Á°ÄÁ±ªÂûãÊåâÊó¢ÂÆöÂÆΩÂ∫¶Âíå endian ËØªÂÜôÔºàÈªòËÆ§ little-endianÔºâ„ÄÇ  Temporal Types‚Äã  dateÔºöÈÄöÂ∏∏‰ª• epoch day Ë°®Á§∫timestampÔºöÈÄöÂ∏∏‰ª• epoch Á∫≥ÁßíÊàñÁßí+Á∫≥ÁßíË°®Á§∫  String ‰∏é Binary‚Äã  ÈÉΩÂ±û‰∫éÂèòÈïøÁ±ªÂûãÔºå‰ΩøÁî® offset+size ÊåáÂêëÁúüÂÆû payload„ÄÇ  ","version":"0.15","tagName":"h3"},{"title":"Null Â§ÑÁêÜ‚Äã","type":1,"pageTitle":"Row Ê†ºÂºè","url":"/zh-CN/docs/specification/row_format_spec#null-Â§ÑÁêÜ","content":" Row Null Â§ÑÁêÜ‚Äã  Áî± row bitmap Ê†áËÆ∞Â≠óÊÆµ null Áä∂ÊÄÅÔºånull Â≠óÊÆµÂØπÂ∫î slot ÂÜÖÂÆπÂèØÂøΩÁï•„ÄÇ  Array Null Â§ÑÁêÜ‚Äã  Áî±Êï∞ÁªÑ bitmap Ê†áËÆ∞ÊØè‰∏™ÂÖÉÁ¥†ÊòØÂê¶‰∏∫ null„ÄÇ  ÂèòÈïø null ËØ≠‰πâ‚Äã  null ‰∏éÁ©∫ÂÄºÔºàÂ¶ÇÁ©∫Â≠óÁ¨¶‰∏≤„ÄÅÁ©∫Êï∞ÁªÑÔºâÂøÖÈ°ªÂå∫ÂàÜÔºõÁ©∫ÂÄºÂ∫îÂÜôÈïøÂ∫¶‰∏∫ 0 ÁöÑÂÆû‰Ωì„ÄÇ  ","version":"0.15","tagName":"h3"},{"title":"ÂØπÈΩê‰∏é Padding‚Äã","type":1,"pageTitle":"Row Ê†ºÂºè","url":"/zh-CN/docs/specification/row_format_spec#ÂØπÈΩê‰∏é-padding","content":" Standard ÂØπÈΩê‚Äã  ‰ª• 8-byte ‰∏∫‰∏ªÔºå‰øùËØÅË∑®ËØ≠Ë®Ä‰∏ÄËá¥ÂÆûÁé∞ÁÆÄÂçï„ÄÇ  Compact ÂØπÈΩê‚Äã  ÂÖÅËÆ∏ 2/4/8 ÁÅµÊ¥ªÂØπÈΩêÔºåÁõÆÊ†áÊòØÂáèÂ∞ëÊµ™Ë¥π„ÄÇ  Padding Â≠óËäÇ‚Äã  padding Âª∫ËÆÆÂÜô 0ÔºåÈÅøÂÖçÊú™ÂàùÂßãÂåñÂÜÖÂ≠òÊ≥ÑÈú≤Âπ∂ÊèêÈ´òÂèØÈáçÂ§çÊÄß„ÄÇ  ","version":"0.15","tagName":"h3"},{"title":"Â§ßÂ∞èËÆ°ÁÆó‚Äã","type":1,"pageTitle":"Row Ê†ºÂºè","url":"/zh-CN/docs/specification/row_format_spec#Â§ßÂ∞èËÆ°ÁÆó","content":" ","version":"0.15","tagName":"h2"},{"title":"Standard Row Â§ßÂ∞è‚Äã","type":1,"pageTitle":"Row Ê†ºÂºè","url":"/zh-CN/docs/specification/row_format_spec#standard-row-Â§ßÂ∞è","content":" row_size = bitmap_size + num_fields * 8 + aligned(variable_region_size)   ","version":"0.15","tagName":"h3"},{"title":"Compact Row Â§ßÂ∞è‚Äã","type":1,"pageTitle":"Row Ê†ºÂºè","url":"/zh-CN/docs/specification/row_format_spec#compact-row-Â§ßÂ∞è","content":" row_size = compact_fixed_size + optional_bitmap + aligned(variable_region_size)   ","version":"0.15","tagName":"h3"},{"title":"Standard Array Â§ßÂ∞è‚Äã","type":1,"pageTitle":"Row Ê†ºÂºè","url":"/zh-CN/docs/specification/row_format_spec#standard-array-Â§ßÂ∞è","content":" array_size = header_size + aligned(element_data_size)   ","version":"0.15","tagName":"h3"},{"title":"Compact Array Â§ßÂ∞è‚Äã","type":1,"pageTitle":"Row Ê†ºÂºè","url":"/zh-CN/docs/specification/row_format_spec#compact-array-Â§ßÂ∞è","content":" array_size = compact_header_size + aligned(compact_element_data_size)   ","version":"0.15","tagName":"h3"},{"title":"Map Â§ßÂ∞è‚Äã","type":1,"pageTitle":"Row Ê†ºÂºè","url":"/zh-CN/docs/specification/row_format_spec#map-Â§ßÂ∞è","content":" map_size = map_header + aligned(keys_region) + aligned(values_region)   ","version":"0.15","tagName":"h3"},{"title":"Ê±áÊÄªË°®‚Äã","type":1,"pageTitle":"Row Ê†ºÂºè","url":"/zh-CN/docs/specification/row_format_spec#Ê±áÊÄªË°®","content":" ","version":"0.15","tagName":"h2"},{"title":"Â∏ÉÂ±ÄÊÄªÁªì‚Äã","type":1,"pageTitle":"Row Ê†ºÂºè","url":"/zh-CN/docs/specification/row_format_spec#Â∏ÉÂ±ÄÊÄªÁªì","content":" ÁªìÊûÑ\tStandard\tCompact (Java)Row\tbitmap + 8-byte slots + var data\tcompact fixed + optional bitmap + var data Array\tcount + bitmap + elements\tcompact header + elements Map\tcount + key/value data regions\t‰æùÂÆûÁé∞ÂèØÁ¥ßÂáëÂåñ  ","version":"0.15","tagName":"h3"},{"title":"Á±ªÂûãÂÆΩÂ∫¶ÊÄªÁªì‚Äã","type":1,"pageTitle":"Row Ê†ºÂºè","url":"/zh-CN/docs/specification/row_format_spec#Á±ªÂûãÂÆΩÂ∫¶ÊÄªÁªì","content":" Á±ªÂûãÊóè\tÂÖ∏ÂûãÂÆΩÂ∫¶bool/int8\t1 byte int16\t2 bytes int32/float32\t4 bytes int64/float64\t8 bytes string/binary/Â§çÊùÇÁ±ªÂûã\tslot ‰∏≠ 8-byte offset+size  ","version":"0.15","tagName":"h3"},{"title":"ÂÆûÁé∞ËØ¥Êòé‚Äã","type":1,"pageTitle":"Row Ê†ºÂºè","url":"/zh-CN/docs/specification/row_format_spec#ÂÆûÁé∞ËØ¥Êòé","content":" ","version":"0.15","tagName":"h2"},{"title":"Endianness‚Äã","type":1,"pageTitle":"Row Ê†ºÂºè","url":"/zh-CN/docs/specification/row_format_spec#endianness","content":" Áªü‰∏Ä‰ΩøÁî® little-endianÔºåË∑®ËØ≠Ë®ÄÂÆûÁé∞ÂøÖÈ°ª‰∏ÄËá¥„ÄÇ  ","version":"0.15","tagName":"h3"},{"title":"ÂÜÖÂ≠òÂÆâÂÖ®‚Äã","type":1,"pageTitle":"Row Ê†ºÂºè","url":"/zh-CN/docs/specification/row_format_spec#ÂÜÖÂ≠òÂÆâÂÖ®","content":" ËØªÂèñÂâçÂÖàÂÅöËæπÁïåÊ£ÄÊü•ÂØπ offset/size ÂÅöÊ∫¢Âá∫Ê£ÄÊü•ÈÅøÂÖç‰ΩøÁî®Êú™ÂàùÂßãÂåñ padding  ","version":"0.15","tagName":"h3"},{"title":"ÊÄßËÉΩÂª∫ËÆÆ‚Äã","type":1,"pageTitle":"Row Ê†ºÂºè","url":"/zh-CN/docs/specification/row_format_spec#ÊÄßËÉΩÂª∫ËÆÆ","content":" ÊâπÈáèÈ°∫Â∫èÂÜôÂÖ•ÔºåÂáèÂ∞ëÈöèÊú∫ÂÜôÁÉ≠Â≠óÊÆµ‰ºòÂÖàÊîæ fixed region ÂâçÈÉ®ÈÄöËøá profile ÂÜ≥ÂÆöÊòØÂê¶ÂêØÁî® compact  ","version":"0.15","tagName":"h3"},{"title":"‰ΩïÊó∂ÈÄâÊã©Âì™ÁßçÊ†ºÂºè‚Äã","type":1,"pageTitle":"Row Ê†ºÂºè","url":"/zh-CN/docs/specification/row_format_spec#‰ΩïÊó∂ÈÄâÊã©Âì™ÁßçÊ†ºÂºè","content":" StandardÔºöË∑®ËØ≠Ë®Ä‰∫íÈÄö„ÄÅË∞ÉËØïÂèãÂ•Ω„ÄÅÈïøÊúüÂÖºÂÆπCompactÔºöJava ÂçïËØ≠Ë®ÄÈìæË∑Ø„ÄÅÂÜÖÂ≠òÊïèÊÑü„ÄÅÈ´òÂêûÂêêÂú∫ÊôØ ","version":"0.15","tagName":"h3"},{"title":"Xlang ÂÆûÁé∞ÊåáÂçó","type":0,"sectionRef":"#","url":"/zh-CN/docs/specification/xlang_implementation_guide","content":"","keywords":"","version":"0.15"},{"title":"ÂÆûÁé∞Âª∫ËÆÆ‚Äã","type":1,"pageTitle":"Xlang ÂÆûÁé∞ÊåáÂçó","url":"/zh-CN/docs/specification/xlang_implementation_guide#ÂÆûÁé∞Âª∫ËÆÆ","content":" ","version":"0.15","tagName":"h2"},{"title":"Â¶Ç‰ΩïÂáèÂ∞ëÂÜÖÂ≠òËØªÂÜôÂºÄÈîÄ‚Äã","type":1,"pageTitle":"Xlang ÂÆûÁé∞ÊåáÂçó","url":"/zh-CN/docs/specification/xlang_implementation_guide#Â¶Ç‰ΩïÂáèÂ∞ëÂÜÖÂ≠òËØªÂÜôÂºÄÈîÄ","content":" Â∞ΩÈáèÊääÂ§öÊ¨° byte ÂÜôÂÖ•ÂêàÂπ∂‰∏∫ int/long ÂÜôÂÖ•ÔºåÈôç‰ΩéÂÜÖÂ≠ò IO ‰∏éËæπÁïåÊ£ÄÊü•ÊàêÊú¨„ÄÇËØªÂèñÊó∂ÂèØ‰∏ÄÊ¨°ËØªÂèñ int/longÔºåÂÜçÊãÜÂàÜÂ≠óËäÇÔºåÂáèÂ∞ëÂÜÖÂ≠òËÆøÈóÆÊ¨°Êï∞„ÄÇÂ∞ΩÂèØËÉΩÊää flag ‰∏é length ÂêàÂπ∂Âà∞Âêå‰∏Ä‰∏™ varint/longÔºåÂáèÂ∞ëÂ≠óËäÇÊï∞‰∏é IO„ÄÇÂú®ÂàÜÊîØÊï∞ÈáèÂèØÊéßÁöÑÂâçÊèê‰∏ãÔºåÂàÜÊîØÂºÄÈîÄÈÄöÂ∏∏Â∞è‰∫éÂÜÖÂ≠ò IO ÂºÄÈîÄ„ÄÇ  ","version":"0.15","tagName":"h3"},{"title":"ÈùôÊÄÅËØ≠Ë®ÄÔºàÊó†ËøêË°åÊó∂‰ª£Á†ÅÁîüÊàêÔºâÂ¶Ç‰ΩïÂÅöÈ´òÊÄßËÉΩÂèçÂ∫èÂàóÂåñ‚Äã","type":1,"pageTitle":"Xlang ÂÆûÁé∞ÊåáÂçó","url":"/zh-CN/docs/specification/xlang_implementation_guide#ÈùôÊÄÅËØ≠Ë®ÄÊó†ËøêË°åÊó∂‰ª£Á†ÅÁîüÊàêÂ¶Ç‰ΩïÂÅöÈ´òÊÄßËÉΩÂèçÂ∫èÂàóÂåñ","content":" Âú®Á±ªÂûãÊºîËøõÂú∫ÊôØÔºåÂ∫èÂàóÂåñÊï∞ÊçÆ‰ºöÊê∫Â∏¶ type meta„ÄÇÂèçÂ∫èÂàóÂåñÁ´Ø‰ºöÊØîËæÉ‚ÄúÊï∞ÊçÆÂÜÖ meta‚Äù‰∏é‚ÄúÊú¨Âú∞Á±ª meta‚ÄùÔºåÊ†πÊçÆÂ∑ÆÂºÇÊâßË°åÂ≠óÊÆµÊò†Â∞Ñ„ÄÇ  ÂØπ Java/Javascript/PythonÔºåÂèØÂú®ËøêË°åÊó∂Ê†πÊçÆ diff Âä®ÊÄÅÁîüÊàêÂπ∂Âä†ËΩΩÂèçÂ∫èÂàóÂåñÈÄªËæëÔºå‰ªéËÄåÊé•Ëøë schema-consistent Ê®°ÂºèÊÄßËÉΩ„ÄÇ  ÂØπ C++/RustÔºåÈÄöÂ∏∏Êó†Ê≥ïÂú®ËøêË°åÊó∂Âä®ÊÄÅÁîüÊàê serializerÔºåÂè™ËÉΩÂú®ÁºñËØëÊúüÂÖÉÁºñÁ®ãÁîüÊàê„ÄÇÊ≠§Êó∂Êó†Ê≥ïÊèêÂâçÁü•ÈÅìÂØπÁ´Ø schemaÔºå Âõ†Ê≠§ÈúÄË¶ÅÂú®ËøêË°åÊó∂Ê†πÊçÆÂ≠óÊÆµÂÖÉ‰ø°ÊÅØÈÄê‰∏™Âà§Êñ≠‚ÄúËµãÂÄºÊàñË∑≥Ëøá‚Äù„ÄÇ  ÂèØË°å‰ºòÂåñÔºöÂ∞ÜÂ≠óÁ¨¶‰∏≤Â≠óÊÆµÂåπÈÖçÂ∞ΩÈáèÊèêÂâçËΩ¨Êç¢‰∏∫ field idÔºåÂÜçÂú®ÂèçÂ∫èÂàóÂåñË∑ØÂæÑÁî® switch Â§ÑÁêÜÔºåÂà©Áî®ËøûÁª≠ case ÁöÑË∑≥ËΩ¨‰ºòÂåñ„ÄÇ  ÊÄùË∑ØÔºö  ÂÅáËÆæÊú¨Âú∞Á±ªÂûãÂ≠óÊÆµÊï∞‰∏∫ nÔºåÂØπÁ´ØÂ≠óÊÆµÊï∞‰∏∫ n1ÁºñËØëÊúüÂÖà‰∏∫Êú¨Âú∞ÊéíÂ∫èÂ≠óÊÆµÂàÜÈÖçËøûÁª≠ field idÔºà‰ªé 0 ÂºÄÂßãÔºâËøêË°åÊó∂ÊØîËæÉÂØπÁ´Ø type metaÔºöÂêåÂêçÂ≠óÊÆµÂ§çÁî®Êú¨Âú∞ idÔºå‰∏çÂêåÂ≠óÊÆµÂàÜÈÖç‰ªé n ÂºÄÂßãÁöÑÊñ∞ idÔºåÂπ∂ÁºìÂ≠òÊò†Â∞ÑÂèçÂ∫èÂàóÂåñÈÅçÂéÜÂØπÁ´ØÂ≠óÊÆµÊó∂ÂØπ field_id ÂÅö switchÔºåÂëΩ‰∏≠ÂàôËµãÂÄºÔºåÊú™ÂëΩ‰∏≠ÂàôË∑≥Ëøá  Á§∫‰æãÔºöA ËøõÁ®ãÊåÅÊúâ Foo1ÔºåB ËøõÁ®ãÊåÅÊúâÊºîËøõÂêéÁöÑ Foo2Ôºö  // class Foo with version 1 class Foo1 { int32_t v1; // id 0 std::string v2; // id 1 }; // class Foo with version 2 class Foo2 { // id 0, but will have id 2 in process A bool v0; // id 1, but will have id 0 in process A int32_t v1; // id 2, but will have id 3 in process A int64_t long_value; // id 3, but will have id 1 in process A std::string v2; // id 4, but will have id 4 in process A std::vector&lt;std::string&gt; list; };   A Êî∂Âà∞ B ÂèëÈÄÅÁöÑ Foo2 Êï∞ÊçÆÂêéÔºåÂèØÊåâ field_id Âø´ÈÄüÂàÜÂèëÔºö  Foo1 foo1 = ...; const std::vector&lt;fory::FieldInfo&gt; &amp;field_infos = type_meta.field_infos; for (const auto &amp;field_info : field_infos) { switch (field_info.field_id) { case 0: foo1.v1 = buffer.read_varint32(); break; case 1: foo1.v2 = fory.read_string(); break; default: fory.skip_data(field_info); } }   ","version":"0.15","tagName":"h3"},{"title":"Êñ∞ËØ≠Ë®ÄÂÆûÁé∞Ê£ÄÊü•Ê∏ÖÂçï‚Äã","type":1,"pageTitle":"Xlang ÂÆûÁé∞ÊåáÂçó","url":"/zh-CN/docs/specification/xlang_implementation_guide#Êñ∞ËØ≠Ë®ÄÂÆûÁé∞Ê£ÄÊü•Ê∏ÖÂçï","content":" Êú¨ËäÇÁªôÂá∫Âú®Êñ∞ËØ≠Ë®Ä‰∏≠ËêΩÂú∞ Fory xlang Â∫èÂàóÂåñÁöÑÈò∂ÊÆµÊÄßÊ∏ÖÂçï„ÄÇ  ","version":"0.15","tagName":"h2"},{"title":"Èò∂ÊÆµ 1ÔºöÊ†∏ÂøÉÂü∫Á°ÄËÆæÊñΩ‚Äã","type":1,"pageTitle":"Xlang ÂÆûÁé∞ÊåáÂçó","url":"/zh-CN/docs/specification/xlang_implementation_guide#Èò∂ÊÆµ-1Ê†∏ÂøÉÂü∫Á°ÄËÆæÊñΩ","content":" Buffer ÂÆûÁé∞ Êèê‰æõÂ∏¶ËØªÂÜôÊ∏∏Ê†áÁöÑÂ≠óËäÇÁºìÂÜ≤Âå∫ ÊâÄÊúâÂ§öÂ≠óËäÇËØªÂÜôÁªü‰∏Ä‰ΩøÁî® little-endian ÂÆûÁé∞ write_int8/int16/int32/int64 ÂÆûÁé∞ write_float32/write_float64 ÂÆûÁé∞ÂØπÂ∫î read_* ÊñπÊ≥ï ÂÆûÁé∞ÁºìÂÜ≤Âå∫Êâ©ÂÆπÁ≠ñÁï•ÔºàÂ¶ÇÂÄçÂ¢ûÔºâ Varint ÁºñÁ†Å write_varuint32/read_varuint32 write_varint32/read_varint32ÔºàÂê´ ZigZagÔºâ write_varuint64/read_varuint64 write_varint64/read_varint64ÔºàÂê´ ZigZagÔºâ write_varuint36_small/read_varuint36_smallÔºàÂ≠óÁ¨¶‰∏≤Â§¥‰ΩøÁî®Ôºâ ÂèØÈÄâÔºöÂÆûÁé∞ int64 Hybrid ÁºñÁ†ÅÔºàTAGGED_INT64/TAGGED_UINT64Ôºâ Â§¥ÈÉ®Â§ÑÁêÜ ËØªÂÜô bitmap flagsÔºànull„ÄÅxlang„ÄÅoobÔºâ  ","version":"0.15","tagName":"h3"},{"title":"Èò∂ÊÆµ 2ÔºöÂü∫Á°ÄÁ±ªÂûãÂ∫èÂàóÂåñ‚Äã","type":1,"pageTitle":"Xlang ÂÆûÁé∞ÊåáÂçó","url":"/zh-CN/docs/specification/xlang_implementation_guide#Èò∂ÊÆµ-2Âü∫Á°ÄÁ±ªÂûãÂ∫èÂàóÂåñ","content":" Âü∫Á°ÄÁ±ªÂûã boolÔºà1 Â≠óËäÇÔºö0/1Ôºâ int8/int16/int32/int64Ôºàlittle-endianÔºâ float32/float64ÔºàIEEE 754Ôºålittle-endianÔºâ Â≠óÁ¨¶‰∏≤Â∫èÂàóÂåñ ÂÆûÁé∞Â≠óÁ¨¶‰∏≤Â§¥Ôºö(byte_length &lt;&lt; 2) | encoding ÊîØÊåÅ UTF-8Ôºàxlang ÂøÖÈúÄÔºâ ÂèØÈÄâÊîØÊåÅ LATIN1 ‰∏é UTF-16 Êó∂Èó¥Á±ªÂûã DurationÔºàseconds + nanosecondsÔºâ TimestampÔºàepoch ‰ª•Êù• seconds + nanosecondsÔºâ DateÔºàepoch ‰ª•Êù•Â§©Êï∞Ôºâ ÂºïÁî®Ë∑üË∏™ ÂÜô‰æßÂØπË±°Ë∑üË∏™Ôºàobject -&gt; ref_idÔºâ ËØª‰æßÂØπË±°Ë∑üË∏™Ôºàref_id -&gt; objectÔºâ ÊîØÊåÅ 4 ÁßçÂºïÁî®Ê†áËÆ∞ÔºöNULL(-3)„ÄÅREF(-2)„ÄÅNOT_NULL(-1)„ÄÅREF_VALUE(0) ÊîØÊåÅÊåâÁ±ªÂûãÊàñÂÖ®Â±ÄÂÖ≥Èó≠ÂºïÁî®Ë∑üË∏™  ","version":"0.15","tagName":"h3"},{"title":"Èò∂ÊÆµ 3ÔºöÈõÜÂêàÁ±ªÂûã‚Äã","type":1,"pageTitle":"Xlang ÂÆûÁé∞ÊåáÂçó","url":"/zh-CN/docs/specification/xlang_implementation_guide#Èò∂ÊÆµ-3ÈõÜÂêàÁ±ªÂûã","content":" List/Array ÈïøÂ∫¶ÂÜô‰∏∫ varuint32 ÂÜô elements header byte Â§ÑÁêÜÂêåÊûÑ/ÂºÇÊûÑÂÖÉÁ¥† Â§ÑÁêÜ null ÂÖÉÁ¥† Map ÊÄªÂ§ßÂ∞èÂÜô‰∏∫ varuint32 ÂÆûÁé∞ÂàÜÂùóÊ†ºÂºèÔºàÊØèÂùóÊúÄÂ§ö 255 ÂØπÔºâ ÊØèÂùóÂÜô KV header Â§ÑÁêÜ key/value Á±ªÂûãÂèòÂåñ Set ‰∏é List Â§çÁî®Âêå‰∏ÄÂ•óÂÆûÁé∞  ","version":"0.15","tagName":"h3"},{"title":"Èò∂ÊÆµ 4ÔºöMeta String ÁºñÁ†Å‚Äã","type":1,"pageTitle":"Xlang ÂÆûÁé∞ÊåáÂçó","url":"/zh-CN/docs/specification/xlang_implementation_guide#Èò∂ÊÆµ-4meta-string-ÁºñÁ†Å","content":" meta string Áî®‰∫é enum/struct ÁöÑÂ≠óÊÆµÂêç„ÄÅÁ±ªÂûãÂêç„ÄÅÂëΩÂêçÁ©∫Èó¥ÁºñÁ†Å„ÄÇ  Meta String ÂéãÁº© LOWER_SPECIALÔºà5 bits/charÔºâ LOWER_UPPER_DIGIT_SPECIALÔºà6 bits/charÔºâ FIRST_TO_LOWER_SPECIAL ALL_TO_LOWER_SPECIAL ÁºñÁ†ÅÈÄâÊã©ÁÆóÊ≥ï meta string ÂéªÈáç  ","version":"0.15","tagName":"h3"},{"title":"Èò∂ÊÆµ 5ÔºöEnum Â∫èÂàóÂåñ‚Äã","type":1,"pageTitle":"Xlang ÂÆûÁé∞ÊåáÂçó","url":"/zh-CN/docs/specification/xlang_implementation_guide#Èò∂ÊÆµ-5enum-Â∫èÂàóÂåñ","content":" Enum ordinal ÂÜô‰∏∫ varuint32 ÊîØÊåÅÂëΩÂêç enumÔºànamespace + typenameÔºâ  ","version":"0.15","tagName":"h3"},{"title":"Èò∂ÊÆµ 6ÔºöStruct Â∫èÂàóÂåñ‚Äã","type":1,"pageTitle":"Xlang ÂÆûÁé∞ÊåáÂçó","url":"/zh-CN/docs/specification/xlang_implementation_guide#Èò∂ÊÆµ-6struct-Â∫èÂàóÂåñ","content":" Á±ªÂûãÊ≥®ÂÜå ÊîØÊåÅÊåâÊï∞ÂÄº ID Ê≥®ÂÜå ÊîØÊåÅÊåâ namespace + typename Ê≥®ÂÜå Áª¥Êä§ type -&gt; serializer Êò†Â∞Ñ ÁîüÊàê type IDÔºöÂÖàÂÜô internal type IDÔºåÂÜçÂÜô user_type_id(varuint32) Â≠óÊÆµÊéíÂ∫è ÂÆûÁé∞ËßÑËåÉÂÆö‰πâÁöÑÂàÜÁªÑ‰∏éÊéíÂ∫èÔºàprimitive/boxed/builtin„ÄÅcollections/maps„ÄÅotherÔºâ ÁªÑÂÜÖ‰ΩøÁî®Á®≥ÂÆöÊØîËæÉÂô®Ôºàtype ID + nameÔºâ ÊåáÁ∫πÂ≠óÊÆµÊ†áËØÜ‰ΩøÁî® tag ID Êàñ snake_case Â≠óÊÆµÂêç Schema Consistent Ê®°Âºè ÂºÄÂêØÁ±ªÁâàÊú¨Ê†°È™åÊó∂ÔºåÊåâÂ≠óÊÆµÊ†áËØÜËÆ°ÁÆó schema hash Âú®Â≠óÊÆµÂâçÂÜô 4-byte schema hash Êåâ Fory Â≠óÊÆµÈ°∫Â∫èÂ∫èÂàóÂåñ Compatible/Meta Share Ê®°Âºè ÂÆûÁé∞ÂÖ±‰∫´ TypeDef ÊµÅÔºàÊñ∞ TypeDef ÂÜÖËÅîÔºåÂ∑≤Â≠òÂú®Áî®Á¥¢ÂºïÔºâ ÊåâÂ≠óÊÆµÂêçÊàñ tag ID ÂÅöÊò†Â∞ÑÔºåÊú™Áü•Â≠óÊÆµË∑≥Ëøá Êåâ TypeDef ÂÖÉ‰ø°ÊÅØÂ∫îÁî® nullable/ref ËßÑÂàô  ","version":"0.15","tagName":"h3"},{"title":"Èò∂ÊÆµ 7ÔºöÂÖ∂‰ªñÁ±ªÂûã‚Äã","type":1,"pageTitle":"Xlang ÂÆûÁé∞ÊåáÂçó","url":"/zh-CN/docs/specification/xlang_implementation_guide#Èò∂ÊÆµ-7ÂÖ∂‰ªñÁ±ªÂûã","content":" Binary/Array   Âü∫Á°ÄÁ±ªÂûãÊï∞ÁªÑÊîØÊåÅÁõ¥Êé• buffer copy Â§öÁª¥Êï∞ÁªÑÊåâÂµåÂ•ó list Ë°®ËææÔºà‰∏çÂÅö tensor ‰∏ìÁî®ÁºñÁ†ÅÔºâ  ","version":"0.15","tagName":"h3"},{"title":"ÊµãËØïÁ≠ñÁï•‚Äã","type":1,"pageTitle":"Xlang ÂÆûÁé∞ÊåáÂçó","url":"/zh-CN/docs/specification/xlang_implementation_guide#ÊµãËØïÁ≠ñÁï•","content":" Ë∑®ËØ≠Ë®ÄÂÖºÂÆπÊµãËØï Êñ∞ËØ≠Ë®ÄÂÜô -&gt; Java/Python ËØª Java/Python ÂÜô -&gt; Êñ∞ËØ≠Ë®ÄËØª Ë¶ÜÁõñÊâÄÊúâÂü∫Á°ÄÁ±ªÂûã Ë¶ÜÁõñ‰∏çÂêåÂ≠óÁ¨¶‰∏≤ÁºñÁ†Å Ë¶ÜÁõñÈõÜÂêàÔºàÁ©∫„ÄÅÂçïÂÖÉÁ¥†„ÄÅÂ§öÂÖÉÁ¥†Ôºâ Ë¶ÜÁõñ‰∏çÂêå key/value map Ë¶ÜÁõñÂµåÂ•ó struct Ë¶ÜÁõñÂæ™ÁéØÂºïÁî®ÔºàËã•ÊîØÊåÅÔºâ  ","version":"0.15","tagName":"h3"},{"title":"ÂêÑËØ≠Ë®ÄÂÆûÁé∞Â§áÊ≥®‚Äã","type":1,"pageTitle":"Xlang ÂÆûÁé∞ÊåáÂçó","url":"/zh-CN/docs/specification/xlang_implementation_guide#ÂêÑËØ≠Ë®ÄÂÆûÁé∞Â§áÊ≥®","content":" ","version":"0.15","tagName":"h2"},{"title":"Java‚Äã","type":1,"pageTitle":"Xlang ÂÆûÁé∞ÊåáÂçó","url":"/zh-CN/docs/specification/xlang_implementation_guide#java","content":" ÈÄöËøáËøêË°åÊó∂‰ª£Á†ÅÁîüÊàêÔºàJITÔºâËé∑ÂæóÈ´òÊÄßËÉΩÊîØÊåÅÂÆåÊï¥ÂºïÁî®Ë∑üË∏™Ê®°ÂºèÂà©Áî® String coder ÂÅöÁºñÁ†ÅÈÄâÊã©ÂèØÈÄöËøá ThreadSafeFory Êèê‰æõÁ∫øÁ®ãÂÆâÂÖ®Â∞ÅË£Ö  ","version":"0.15","tagName":"h3"},{"title":"Python‚Äã","type":1,"pageTitle":"Xlang ÂÆûÁé∞ÊåáÂçó","url":"/zh-CN/docs/specification/xlang_implementation_guide#python","content":" Êèê‰æõÁ∫Ø PythonÔºàË∞ÉËØïÔºâ‰∏é CythonÔºàÊÄßËÉΩÔºâ‰∏§ÁßçÊ®°Âºè‰ΩøÁî® id(obj) ÂÅöÂºïÁî®Ë∑üË∏™xlang Ê®°ÂºèÊîØÊåÅ LATIN1/UTF-16/UTF-8ÈÄöËøá‰ª£Á†ÅÁîüÊàêÂ¢ûÂº∫ dataclass ÊîØÊåÅ  ","version":"0.15","tagName":"h3"},{"title":"C++‚Äã","type":1,"pageTitle":"Xlang ÂÆûÁé∞ÊåáÂçó","url":"/zh-CN/docs/specification/xlang_implementation_guide#c","content":" ÈÄöËøáÂÆèÔºàFORY_STRUCTÔºâÂÅöÁºñËØëÊúüÂèçÂ∞ÑÊ®°ÊùøÂÖÉÁºñÁ®ãËøõË°åÁ±ªÂûãÂàÜÂèë‰∏é serializer ÈÄâÊã©‰ΩøÁî® std::shared_ptr ÊîØÊåÅÂºïÁî®Ë∑üË∏™ÁºñËØëÊúüÂ≠óÊÆµÊéíÂ∫è‰∏ç‰æùËµñËøêË°åÊó∂‰ª£Á†ÅÁîüÊàê  ","version":"0.15","tagName":"h3"},{"title":"Rust‚Äã","type":1,"pageTitle":"Xlang ÂÆûÁé∞ÊåáÂçó","url":"/zh-CN/docs/specification/xlang_implementation_guide#rust","content":" ‰ΩøÁî® derive ÂÆèËá™Âä®ÁîüÊàêÂ∫èÂàóÂåñ‰ª£Á†ÅÔºà#[derive(ForyObject)]Ôºâ‰ΩøÁî® Rc&lt;T&gt;/Arc&lt;T&gt; ÂÅöÂºïÁî®Ë∑üË∏™ÈÄöËøáÁ∫øÁ®ãÊú¨Âú∞‰∏ä‰∏ãÊñáÁºìÂ≠ò‰ºòÂåñÊÄßËÉΩÁºñËØëÊúüÂ≠óÊÆµÊéíÂ∫è  ","version":"0.15","tagName":"h3"},{"title":"Go‚Äã","type":1,"pageTitle":"Xlang ÂÆûÁé∞ÊåáÂçó","url":"/zh-CN/docs/specification/xlang_implementation_guide#go","content":" ÊîØÊåÅÂèçÂ∞ÑÊ®°Âºè‰∏é‰ª£Á†ÅÁîüÊàêÊ®°ÂºèÈÄöËøá struct tag Êèê‰æõÂ≠óÊÆµÂÖÉ‰ø°ÊÅØÈÄöËøáÊé•Âè£Á±ªÂûãÊîØÊåÅÂ§öÊÄÅËØ≠‰πâ ","version":"0.15","tagName":"h3"},{"title":"Â∫èÂàóÂåñ","type":0,"sectionRef":"#","url":"/zh-CN/docs/guide/xlang/xlang_serialization","content":"","keywords":"","version":"0.15"},{"title":"Â∫èÂàóÂåñÂÜÖÁΩÆÁ±ªÂûã‚Äã","type":1,"pageTitle":"Â∫èÂàóÂåñ","url":"/zh-CN/docs/guide/xlang/xlang_serialization#Â∫èÂàóÂåñÂÜÖÁΩÆÁ±ªÂûã","content":" Â∏∏ËßÅÁ±ªÂûãÂèØ‰ª•Ëá™Âä®Â∫èÂàóÂåñÔºåÊó†ÈúÄÊ≥®ÂÜåÔºöÂéüÂßãÊï∞ÂÄºÁ±ªÂûã„ÄÅÂ≠óÁ¨¶‰∏≤„ÄÅ‰∫åËøõÂà∂„ÄÅÊï∞ÁªÑ„ÄÅÂàóË°®„ÄÅÊò†Â∞ÑÁ≠â„ÄÇ  ","version":"0.15","tagName":"h2"},{"title":"Java‚Äã","type":1,"pageTitle":"Â∫èÂàóÂåñ","url":"/zh-CN/docs/guide/xlang/xlang_serialization#java","content":" import org.apache.fory.*; import org.apache.fory.config.*; import java.util.*; public class Example1 { public static void main(String[] args) { Fory fory = Fory.builder().withLanguage(Language.XLANG).build(); List&lt;Object&gt; list = ofArrayList(true, false, &quot;str&quot;, -1.1, 1, new int[100], new double[20]); byte[] bytes = fory.serialize(list); // bytes ÂèØ‰ª•Ë¢´ÂÖ∂‰ªñËØ≠Ë®ÄÂèçÂ∫èÂàóÂåñ fory.deserialize(bytes); Map&lt;Object, Object&gt; map = new HashMap&lt;&gt;(); map.put(&quot;k1&quot;, &quot;v1&quot;); map.put(&quot;k2&quot;, list); map.put(&quot;k3&quot;, -1); bytes = fory.serialize(map); // bytes ÂèØ‰ª•Ë¢´ÂÖ∂‰ªñËØ≠Ë®ÄÂèçÂ∫èÂàóÂåñ fory.deserialize(bytes); } }   ","version":"0.15","tagName":"h3"},{"title":"Python‚Äã","type":1,"pageTitle":"Â∫èÂàóÂåñ","url":"/zh-CN/docs/guide/xlang/xlang_serialization#python","content":" import pyfory import numpy as np fory = pyfory.Fory() object_list = [True, False, &quot;str&quot;, -1.1, 1, np.full(100, 0, dtype=np.int32), np.full(20, 0.0, dtype=np.double)] data = fory.serialize(object_list) # bytes ÂèØ‰ª•Ë¢´ÂÖ∂‰ªñËØ≠Ë®ÄÂèçÂ∫èÂàóÂåñ new_list = fory.deserialize(data) object_map = {&quot;k1&quot;: &quot;v1&quot;, &quot;k2&quot;: object_list, &quot;k3&quot;: -1} data = fory.serialize(object_map) # bytes ÂèØ‰ª•Ë¢´ÂÖ∂‰ªñËØ≠Ë®ÄÂèçÂ∫èÂàóÂåñ new_map = fory.deserialize(data) print(new_map)   ","version":"0.15","tagName":"h3"},{"title":"Go‚Äã","type":1,"pageTitle":"Â∫èÂàóÂåñ","url":"/zh-CN/docs/guide/xlang/xlang_serialization#go","content":" package main import forygo &quot;github.com/apache/fory/go/fory&quot; import &quot;fmt&quot; func main() { list := []interface{}{true, false, &quot;str&quot;, -1.1, 1, make([]int32, 10), make([]float64, 20)} fory := forygo.NewFory() bytes, err := fory.Marshal(list) if err != nil { panic(err) } var newValue interface{} // bytes ÂèØ‰ª•Ë¢´ÂÖ∂‰ªñËØ≠Ë®ÄÂèçÂ∫èÂàóÂåñ if err := fory.Unmarshal(bytes, &amp;newValue); err != nil { panic(err) } fmt.Println(newValue) dict := map[string]interface{}{ &quot;k1&quot;: &quot;v1&quot;, &quot;k2&quot;: list, &quot;k3&quot;: -1, } bytes, err = fory.Marshal(dict) if err != nil { panic(err) } // bytes ÂèØ‰ª•Ë¢´ÂÖ∂‰ªñËØ≠Ë®ÄÂèçÂ∫èÂàóÂåñ if err := fory.Unmarshal(bytes, &amp;newValue); err != nil { panic(err) } fmt.Println(newValue) }   ","version":"0.15","tagName":"h3"},{"title":"JavaScript‚Äã","type":1,"pageTitle":"Â∫èÂàóÂåñ","url":"/zh-CN/docs/guide/xlang/xlang_serialization#javascript","content":" import Fory from &quot;@apache-fory/fory&quot;; /** * @apache-fory/hps ‰ΩøÁî® v8 ÁöÑ fast-calls-apiÔºåÂèØ‰ª•Áõ¥Êé•Ë¢´ jit Ë∞ÉÁî®Ôºå * Á°Æ‰øù Node ÁâàÊú¨‰∏∫ 20 ÊàñÊõ¥È´ò„ÄÇ * ÂÆûÈ™åÊÄßÂäüËÉΩÔºåÁõÆÂâçÊó†Ê≥ï‰øùËØÅÂÆâË£ÖÊàêÂäü„ÄÇ * Â¶ÇÊûúÊó†Ê≥ïÂÆâË£ÖËØ•Ê®°ÂùóÔºåËØ∑Â∞ÜÂÖ∂ÊõøÊç¢‰∏∫ `const hps = null;` **/ import hps from &quot;@apache-fory/hps&quot;; const fory = new Fory({ hps }); const input = fory.serialize(&quot;hello fory&quot;); const result = fory.deserialize(input); console.log(result);   ","version":"0.15","tagName":"h3"},{"title":"Rust‚Äã","type":1,"pageTitle":"Â∫èÂàóÂåñ","url":"/zh-CN/docs/guide/xlang/xlang_serialization#rust","content":" use fory::{from_buffer, to_buffer, Fory}; use std::collections::HashMap; fn run() { let bin: Vec&lt;u8&gt; = to_buffer(&amp;&quot;hello&quot;.to_string()); let obj: String = from_buffer(&amp;bin).expect(&quot;should success&quot;); assert_eq!(&quot;hello&quot;.to_string(), obj); }   ","version":"0.15","tagName":"h3"},{"title":"Â∫èÂàóÂåñËá™ÂÆö‰πâÁ±ªÂûã‚Äã","type":1,"pageTitle":"Â∫èÂàóÂåñ","url":"/zh-CN/docs/guide/xlang/xlang_serialization#Â∫èÂàóÂåñËá™ÂÆö‰πâÁ±ªÂûã","content":" Áî®Êà∑ÂÆö‰πâÁöÑÁ±ªÂûãÂøÖÈ°ª‰ΩøÁî® register API ËøõË°åÊ≥®ÂÜåÔºå‰ª•Âª∫Á´ã‰∏çÂêåËØ≠Ë®Ä‰∏≠Á±ªÂûã‰πãÈó¥ÁöÑÊò†Â∞ÑÂÖ≥Á≥ª„ÄÇËØ∑Âú®ÊâÄÊúâËØ≠Ë®Ä‰∏≠‰ΩøÁî®‰∏ÄËá¥ÁöÑÁ±ªÂûãÂêçÁß∞„ÄÇ  ","version":"0.15","tagName":"h2"},{"title":"Java‚Äã","type":1,"pageTitle":"Â∫èÂàóÂåñ","url":"/zh-CN/docs/guide/xlang/xlang_serialization#java-1","content":" import org.apache.fory.*; import org.apache.fory.config.*; import java.util.*; public class Example2 { public static class SomeClass1 { Object f1; Map&lt;Byte, Integer&gt; f2; } public static class SomeClass2 { Object f1; String f2; List&lt;Object&gt; f3; Map&lt;Byte, Integer&gt; f4; Byte f5; Short f6; Integer f7; Long f8; Float f9; Double f10; short[] f11; List&lt;Short&gt; f12; } public static Object createObject() { SomeClass1 obj1 = new SomeClass1(); obj1.f1 = true; obj1.f2 = ofHashMap((byte) -1, 2); SomeClass2 obj = new SomeClass2(); obj.f1 = obj1; obj.f2 = &quot;abc&quot;; obj.f3 = ofArrayList(&quot;abc&quot;, &quot;abc&quot;); obj.f4 = ofHashMap((byte) 1, 2); obj.f5 = Byte.MAX_VALUE; obj.f6 = Short.MAX_VALUE; obj.f7 = Integer.MAX_VALUE; obj.f8 = Long.MAX_VALUE; obj.f9 = 1.0f / 2; obj.f10 = 1 / 3.0; obj.f11 = new short[]{(short) 1, (short) 2}; obj.f12 = ofArrayList((short) -1, (short) 4); return obj; } // mvn exec:java -Dexec.mainClass=&quot;org.apache.fory.examples.Example2&quot; public static void main(String[] args) { Fory fory = Fory.builder().withLanguage(Language.XLANG).build(); fory.register(SomeClass1.class, &quot;example.SomeClass1&quot;); fory.register(SomeClass2.class, &quot;example.SomeClass2&quot;); byte[] bytes = fory.serialize(createObject()); // bytes ÂèØ‰ª•Ë¢´ÂÖ∂‰ªñËØ≠Ë®ÄÂèçÂ∫èÂàóÂåñ System.out.println(fory.deserialize(bytes)); } }   ","version":"0.15","tagName":"h3"},{"title":"Python‚Äã","type":1,"pageTitle":"Â∫èÂàóÂåñ","url":"/zh-CN/docs/guide/xlang/xlang_serialization#python-1","content":" from dataclasses import dataclass from typing import List, Dict, Any import pyfory, array @dataclass class SomeClass1: f1: Any f2: Dict[pyfory.Int8Type, pyfory.Int32Type] @dataclass class SomeClass2: f1: Any = None f2: str = None f3: List[str] = None f4: Dict[pyfory.Int8Type, pyfory.Int32Type] = None f5: pyfory.Int8Type = None f6: pyfory.Int16Type = None f7: pyfory.Int32Type = None # int Á±ªÂûãÂ∞ÜË¢´ËßÜ‰∏∫ `pyfory.Int64Type`„ÄÇ # Â¶ÇÊûúÂØπÁ≠âÊñπ‰ΩøÁî®Êõ¥Á™ÑÁöÑÁ±ªÂûãÔºåËØ∑‰ΩøÁî® `pyfory.Int32Type` ËøõË°åÁ±ªÂûãÊèêÁ§∫„ÄÇ f8: int = None f9: pyfory.Float32Type = None # float Á±ªÂûãÂ∞ÜË¢´ËßÜ‰∏∫ `pyfory.Float64Type` f10: float = None f11: pyfory.Int16ArrayType = None f12: List[pyfory.Int16Type] = None if __name__ == &quot;__main__&quot;: f = pyfory.Fory() f.register_type(SomeClass1, typename=&quot;example.SomeClass1&quot;) f.register_type(SomeClass2, typename=&quot;example.SomeClass2&quot;) obj1 = SomeClass1(f1=True, f2={-1: 2}) obj = SomeClass2( f1=obj1, f2=&quot;abc&quot;, f3=[&quot;abc&quot;, &quot;abc&quot;], f4={1: 2}, f5=2 ** 7 - 1, f6=2 ** 15 - 1, f7=2 ** 31 - 1, f8=2 ** 63 - 1, f9=1.0 / 2, f10=1 / 3.0, f11=array.array(&quot;h&quot;, [1, 2]), f12=[-1, 4], ) data = f.serialize(obj) # bytes ÂèØ‰ª•Ë¢´ÂÖ∂‰ªñËØ≠Ë®ÄÂèçÂ∫èÂàóÂåñ print(f.deserialize(data))   ","version":"0.15","tagName":"h3"},{"title":"Go‚Äã","type":1,"pageTitle":"Â∫èÂàóÂåñ","url":"/zh-CN/docs/guide/xlang/xlang_serialization#go-1","content":" package main import forygo &quot;github.com/apache/fory/go/fory&quot; import &quot;fmt&quot; func main() { type SomeClass1 struct { F1 interface{} F2 string F3 []interface{} F4 map[int8]int32 F5 int8 F6 int16 F7 int32 F8 int64 F9 float32 F10 float64 F11 []int16 F12 fory.Int16Slice } type SomeClass2 struct { F1 interface{} F2 map[int8]int32 } fory := forygo.NewFory() if err := fory.RegisterTagType(&quot;example.SomeClass1&quot;, SomeClass1{}); err != nil { panic(err) } if err := fory.RegisterTagType(&quot;example.SomeClass2&quot;, SomeClass2{}); err != nil { panic(err) } obj1 := &amp;SomeClass1{} obj1.F1 = true obj1.F2 = map[int8]int32{-1: 2} obj := &amp;SomeClass1{} obj.F1 = obj1 obj.F2 = &quot;abc&quot; obj.F3 = []interface{}{&quot;abc&quot;, &quot;abc&quot;} f4 := map[int8]int32{1: 2} obj.F4 = f4 obj.F5 = fory.MaxInt8 obj.F6 = fory.MaxInt16 obj.F7 = fory.MaxInt32 obj.F8 = fory.MaxInt64 obj.F9 = 1.0 / 2 obj.F10 = 1 / 3.0 obj.F11 = []int16{1, 2} obj.F12 = []int16{-1, 4} bytes, err := fory.Marshal(obj); if err != nil { panic(err) } var newValue interface{} // bytes ÂèØ‰ª•Ë¢´ÂÖ∂‰ªñËØ≠Ë®ÄÂèçÂ∫èÂàóÂåñ if err := fory.Unmarshal(bytes, &amp;newValue); err != nil { panic(err) } fmt.Println(newValue) }   ","version":"0.15","tagName":"h3"},{"title":"JavaScript‚Äã","type":1,"pageTitle":"Â∫èÂàóÂåñ","url":"/zh-CN/docs/guide/xlang/xlang_serialization#javascript-1","content":" import Fory, { Type, InternalSerializerType } from &quot;@apache-fory/fory&quot;; /** * @apache-fory/hps ‰ΩøÁî® v8 ÁöÑ fast-calls-apiÔºåÂèØ‰ª•Áõ¥Êé•Ë¢´ jit Ë∞ÉÁî®Ôºå * Á°Æ‰øù Node ÁâàÊú¨‰∏∫ 20 ÊàñÊõ¥È´ò„ÄÇ * ÂÆûÈ™åÊÄßÂäüËÉΩÔºåÁõÆÂâçÊó†Ê≥ï‰øùËØÅÂÆâË£ÖÊàêÂäü„ÄÇ * Â¶ÇÊûúÊó†Ê≥ïÂÆâË£ÖËØ•Ê®°ÂùóÔºåËØ∑Â∞ÜÂÖ∂ÊõøÊç¢‰∏∫ `const hps = null;` **/ import hps from &quot;@apache-fory/hps&quot;; // ‰ΩøÁî® JSON schema ÊèèËø∞Êï∞ÊçÆÁªìÊûÑ const description = Type.object(&quot;example.foo&quot;, { foo: Type.string(), }); const fory = new Fory({ hps }); const { serialize, deserialize } = fory.registerSerializer(description); const input = serialize({ foo: &quot;hello fory&quot; }); const result = deserialize(input); console.log(result);   ","version":"0.15","tagName":"h3"},{"title":"Rust‚Äã","type":1,"pageTitle":"Â∫èÂàóÂåñ","url":"/zh-CN/docs/guide/xlang/xlang_serialization#rust-1","content":" use chrono::{NaiveDate, NaiveDateTime}; use fory::{from_buffer, to_buffer, Fory}; use std::collections::HashMap; #[test] fn complex_struct() { #[derive(Fory, Debug, PartialEq)] #[tag(&quot;example.foo2&quot;)] struct Animal { category: String, } #[derive(Fory, Debug, PartialEq)] #[tag(&quot;example.foo&quot;)] struct Person { c1: Vec&lt;u8&gt;, // binary c2: Vec&lt;i16&gt;, // primitive array animal: Vec&lt;Animal&gt;, c3: Vec&lt;Vec&lt;u8&gt;&gt;, name: String, c4: HashMap&lt;String, String&gt;, age: u16, op: Option&lt;String&gt;, op2: Option&lt;String&gt;, date: NaiveDate, time: NaiveDateTime, c5: f32, c6: f64, } let person: Person = Person { c1: vec![1, 2, 3], c2: vec![5, 6, 7], c3: vec![vec![1, 2], vec![1, 3]], animal: vec![Animal { category: &quot;Dog&quot;.to_string(), }], c4: HashMap::from([ (&quot;hello1&quot;.to_string(), &quot;hello2&quot;.to_string()), (&quot;hello2&quot;.to_string(), &quot;hello3&quot;.to_string()), ]), age: 12, name: &quot;helo&quot;.to_string(), op: Some(&quot;option&quot;.to_string()), op2: None, date: NaiveDate::from_ymd_opt(2025, 12, 12).unwrap(), time: NaiveDateTime::from_timestamp_opt(1689912359, 0).unwrap(), c5: 2.0, c6: 4.0, }; let bin: Vec&lt;u8&gt; = to_buffer(&amp;person); let obj: Person = from_buffer(&amp;bin).expect(&quot;should success&quot;); assert_eq!(person, obj); }   ","version":"0.15","tagName":"h3"},{"title":"Â∫èÂàóÂåñÂÖ±‰∫´ÂºïÁî®ÂíåÂæ™ÁéØÂºïÁî®‚Äã","type":1,"pageTitle":"Â∫èÂàóÂåñ","url":"/zh-CN/docs/guide/xlang/xlang_serialization#Â∫èÂàóÂåñÂÖ±‰∫´ÂºïÁî®ÂíåÂæ™ÁéØÂºïÁî®","content":" ÂÖ±‰∫´ÂºïÁî®ÂíåÂæ™ÁéØÂºïÁî®ÂèØ‰ª•Ëá™Âä®Â∫èÂàóÂåñÔºå‰∏ç‰ºöÊúâÈáçÂ§çÊï∞ÊçÆÊàñÈÄíÂΩíÈîôËØØ„ÄÇÂêØÁî®ÂºïÁî®Ë∑üË∏™Âç≥ÂèØ‰ΩøÁî®Ê≠§ÂäüËÉΩ„ÄÇ  ","version":"0.15","tagName":"h2"},{"title":"Java‚Äã","type":1,"pageTitle":"Â∫èÂàóÂåñ","url":"/zh-CN/docs/guide/xlang/xlang_serialization#java-2","content":" import org.apache.fory.*; import org.apache.fory.config.*; import java.util.*; public class ReferenceExample { public static class SomeClass { SomeClass f1; Map&lt;String, String&gt; f2; Map&lt;String, String&gt; f3; } public static Object createObject() { SomeClass obj = new SomeClass(); obj.f1 = obj; obj.f2 = ofHashMap(&quot;k1&quot;, &quot;v1&quot;, &quot;k2&quot;, &quot;v2&quot;); obj.f3 = obj.f2; return obj; } // mvn exec:java -Dexec.mainClass=&quot;org.apache.fory.examples.ReferenceExample&quot; public static void main(String[] args) { Fory fory = Fory.builder().withLanguage(Language.XLANG) .withRefTracking(true).build(); fory.register(SomeClass.class, &quot;example.SomeClass&quot;); byte[] bytes = fory.serialize(createObject()); // bytes ÂèØ‰ª•Ë¢´ÂÖ∂‰ªñËØ≠Ë®ÄÂèçÂ∫èÂàóÂåñ System.out.println(fory.deserialize(bytes)); } }   ","version":"0.15","tagName":"h3"},{"title":"Python‚Äã","type":1,"pageTitle":"Â∫èÂàóÂåñ","url":"/zh-CN/docs/guide/xlang/xlang_serialization#python-2","content":" from typing import Dict import pyfory class SomeClass: f1: &quot;SomeClass&quot; f2: Dict[str, str] f3: Dict[str, str] fory = pyfory.Fory(ref_tracking=True) fory.register_type(SomeClass, typename=&quot;example.SomeClass&quot;) obj = SomeClass() obj.f2 = {&quot;k1&quot;: &quot;v1&quot;, &quot;k2&quot;: &quot;v2&quot;} obj.f1, obj.f3 = obj, obj.f2 data = fory.serialize(obj) # bytes ÂèØ‰ª•Ë¢´ÂÖ∂‰ªñËØ≠Ë®ÄÂèçÂ∫èÂàóÂåñ print(fory.deserialize(data))   ","version":"0.15","tagName":"h3"},{"title":"Go‚Äã","type":1,"pageTitle":"Â∫èÂàóÂåñ","url":"/zh-CN/docs/guide/xlang/xlang_serialization#go-2","content":" package main import forygo &quot;github.com/apache/fory/go/fory&quot; import &quot;fmt&quot; func main() { type SomeClass struct { F1 *SomeClass F2 map[string]string F3 map[string]string } fory := forygo.NewFory(true) if err := fory.Register(SomeClass{}, 65); err != nil { panic(err) } value := &amp;SomeClass{F2: map[string]string{&quot;k1&quot;: &quot;v1&quot;, &quot;k2&quot;: &quot;v2&quot;}} value.F3 = value.F2 value.F1 = value bytes, err := fory.Marshal(value) if err != nil { panic(err) } var newValue interface{} // bytes ÂèØ‰ª•Ë¢´ÂÖ∂‰ªñËØ≠Ë®ÄÂèçÂ∫èÂàóÂåñ if err := fory.Unmarshal(bytes, &amp;newValue); err != nil { panic(err) } fmt.Println(newValue) }   ","version":"0.15","tagName":"h3"},{"title":"JavaScript‚Äã","type":1,"pageTitle":"Â∫èÂàóÂåñ","url":"/zh-CN/docs/guide/xlang/xlang_serialization#javascript-2","content":" import Fory, { Type } from &quot;@apache-fory/fory&quot;; /** * @apache-fory/hps ‰ΩøÁî® v8 ÁöÑ fast-calls-apiÔºåÂèØ‰ª•Áõ¥Êé•Ë¢´ jit Ë∞ÉÁî®Ôºå * Á°Æ‰øù Node ÁâàÊú¨‰∏∫ 20 ÊàñÊõ¥È´ò„ÄÇ * ÂÆûÈ™åÊÄßÂäüËÉΩÔºåÁõÆÂâçÊó†Ê≥ï‰øùËØÅÂÆâË£ÖÊàêÂäü„ÄÇ * Â¶ÇÊûúÊó†Ê≥ïÂÆâË£ÖËØ•Ê®°ÂùóÔºåËØ∑Â∞ÜÂÖ∂ÊõøÊç¢‰∏∫ `const hps = null;` **/ import hps from &quot;@apache-fory/hps&quot;; const description = Type.object(&quot;example.foo&quot;, { foo: Type.string(), bar: Type.object(&quot;example.foo&quot;), }); const fory = new Fory({ hps }); const { serialize, deserialize } = fory.registerSerializer(description); const data: any = { foo: &quot;hello fory&quot;, }; data.bar = data; const input = serialize(data); const result = deserialize(input); console.log(result.bar.foo === result.foo);   ","version":"0.15","tagName":"h3"},{"title":"Rust‚Äã","type":1,"pageTitle":"Â∫èÂàóÂåñ","url":"/zh-CN/docs/guide/xlang/xlang_serialization#rust-2","content":" Áî±‰∫éÊâÄÊúâÊùÉÈôêÂà∂ÔºåRust ‰∏≠Êó†Ê≥ïÂÆûÁé∞Âæ™ÁéØÂºïÁî®„ÄÇ  ","version":"0.15","tagName":"h3"},{"title":"Âè¶ËØ∑ÂèÇÈòÖ‚Äã","type":1,"pageTitle":"Â∫èÂàóÂåñ","url":"/zh-CN/docs/guide/xlang/xlang_serialization#Âè¶ËØ∑ÂèÇÈòÖ","content":" Èõ∂Êã∑Ë¥ùÂ∫èÂàóÂåñ - Â§ßÂûãÊï∞ÊçÆÁöÑÂ∏¶Â§ñÂ∫èÂàóÂåñÁ±ªÂûãÊò†Â∞Ñ - Ë∑®ËØ≠Ë®ÄÁ±ªÂûãÊò†Â∞ÑÂèÇËÄÉÂÖ•Èó®ÊåáÂçó - ÂÆâË£ÖÂíåËÆæÁΩÆXlang Â∫èÂàóÂåñËßÑËåÉ - ‰∫åËøõÂà∂ÂçèËÆÆËØ¶ÊÉÖ ","version":"0.15","tagName":"h2"},{"title":"Xlang Á±ªÂûãÊò†Â∞Ñ","type":0,"sectionRef":"#","url":"/zh-CN/docs/specification/xlang_type_mapping","content":"","keywords":"","version":"0.15"},{"title":"Áî®Êà∑Á±ªÂûã ID‚Äã","type":1,"pageTitle":"Xlang Á±ªÂûãÊò†Â∞Ñ","url":"/zh-CN/docs/specification/xlang_type_mapping#Áî®Êà∑Á±ªÂûã-id","content":" Ê≥®ÂÜåÁî®Êà∑Á±ªÂûãÔºàstruct/ext/enum/unionÔºâÊó∂Ôºö  type Â≠óÊÆµÂÖàÂÜôÂÖ• 8-bit internal kindÁî®Êà∑Á±ªÂûã ID (user_type_id) ÂçïÁã¨‰ª• varuint32 ÂÜôÂÖ•‰∏çÂÅö bit shift Êàñ packinguser_type_id ËåÉÂõ¥ÂèØÁî® 0 ~ 0xFFFFFFFE  Á§∫‰æãÔºö  User ID\tType\tInternal ID\tEncoded User ID\tDecimal0\tSTRUCT\t27\t0\t0 0\tENUM\t25\t0\t0 1\tSTRUCT\t27\t1\t1 1\tCOMPATIBLE_STRUCT\t28\t1\t1 2\tNAMED_STRUCT\t29\t2\t2  ËØªÂèñÁ±ªÂûã ID Êó∂Ôºö  ÂÖàËØªÂèñ internal type IDËã•Â±û‰∫éÁî®Êà∑Ê≥®ÂÜåÁ±ªÂûãÔºåÂÜçÁªßÁª≠ËØªÂèñ user_type_id(varuint32)  ","version":"0.15","tagName":"h2"},{"title":"Á±ªÂûãÊò†Â∞Ñ‚Äã","type":1,"pageTitle":"Xlang Á±ªÂûãÊò†Â∞Ñ","url":"/zh-CN/docs/specification/xlang_type_mapping#Á±ªÂûãÊò†Â∞Ñ","content":" Fory Type\tFory Type ID\tJava\tPython\tJavascript\tC++\tGolang\tRustbool\t1\tbool/Boolean\tbool\tBoolean\tbool\tbool\tbool int8\t2\tbyte/Byte\tint/pyfory.int8\tType.int8()\tint8_t\tint8\ti8 int16\t3\tshort/Short\tint/pyfory.int16\tType.int16()\tint16_t\tint16\ti16 int32\t4\tint/Integer\tint/pyfory.fixed_int32\tType.int32()\tint32_t\tint32\ti32 varint32\t5\tint/Integer\tint/pyfory.int32\tType.varint32()\tint32_t\tint32\ti32 int64\t6\tlong/Long\tint/pyfory.fixed_int64\tType.int64()\tint64_t\tint64\ti64 varint64\t7\tlong/Long\tint/pyfory.int64\tType.varint64()\tint64_t\tint64\ti64 tagged_int64\t8\tlong/Long\tint/pyfory.tagged_int64\tType.tagged_int64()\tint64_t\tint64\ti64 uint8\t9\tshort/Short\tint/pyfory.uint8\tType.uint8()\tuint8_t\tuint8\tu8 uint16\t10\tint/Integer\tint/pyfory.uint16\tType.uint16()\tuint16_t\tuint16\tu16 uint32\t11\tlong/Long\tint/pyfory.fixed_uint32\tType.uint32()\tuint32_t\tuint32\tu32 var_uint32\t12\tlong/Long\tint/pyfory.uint32\tType.varUInt32()\tuint32_t\tuint32\tu32 uint64\t13\tlong/Long\tint/pyfory.fixed_uint64\tType.uint64()\tuint64_t\tuint64\tu64 var_uint64\t14\tlong/Long\tint/pyfory.uint64\tType.varUInt64()\tuint64_t\tuint64\tu64 tagged_uint64\t15\tlong/Long\tint/pyfory.tagged_uint64\tType.taggedUInt64()\tuint64_t\tuint64\tu64 float8\t16\t/\t/\t/\t/\t/\t/ float16\t17\tfloat/Float\tfloat/pyfory.float16\tType.float16()\tfory::float16_t\tfory.float16\tfory::f16 bfloat16\t18\t/\t/\t/\t/\t/\t/ float32\t19\tfloat/Float\tfloat/pyfory.float32\tType.float32()\tfloat\tfloat32\tf32 float64\t20\tdouble/Double\tfloat/pyfory.float64\tType.float64()\tdouble\tfloat64\tf64 string\t21\tString\tstr\tString\tstring\tstring\tString/str list\t22\tList/Collection\tlist/tuple\tarray\tvector\tslice\tVec set\t23\tSet\tset\t/\tset\tfory.Set\tSet map\t24\tMap\tdict\tMap\tunordered_map\tmap\tHashMap enum\t25\tEnum subclasses\tenum subclasses\t/\tenum\t/\tenum named_enum\t26\tEnum subclasses\tenum subclasses\t/\tenum\t/\tenum struct\t27\tpojo/record\tdata class\tobject\tstruct/class\tstruct\tstruct compatible_struct\t28\tpojo/record\tdata class\tobject\tstruct/class\tstruct\tstruct named_struct\t29\tpojo/record\tdata class\tobject\tstruct/class\tstruct\tstruct named_compatible_struct\t30\tpojo/record\tdata class\tobject\tstruct/class\tstruct\tstruct ext\t31\tpojo/record\tdata class\tobject\tstruct/class\tstruct\tstruct named_ext\t32\tpojo/record\tdata class\tobject\tstruct/class\tstruct\tstruct union\t33\tUnion\ttyping.Union\t/\tstd::variant&lt;Ts...&gt;\t/\ttagged union enum none\t36\tnull\tNone\tnull\tstd::monostate\tnil\t() duration\t37\tDuration\ttimedelta\tNumber\tduration\tDuration\tDuration timestamp\t38\tInstant\tdatetime\tNumber\tstd::chrono::nanoseconds\tTime\tDateTime date\t39\tDate\tdatetime\tNumber\tfory::serialization::Date\tTime\tDateTime decimal\t40\tBigDecimal\tDecimal\tbigint\t/\t/\t/ binary\t41\tbyte[]\tbytes\t/\tuint8_t[n]/vector&lt;T&gt;\t[n]uint8/[]T\tVec&lt;uint8_t&gt; array\t42\tarray\tnp.ndarray\t/\t/\tarray/slice\tVec bool_array\t43\tbool[]\tndarray(np.bool_)\t/\tbool[n]\t[n]bool/[]T\tVec&lt;bool&gt; int8_array\t44\tbyte[]\tndarray(int8)\t/\tint8_t[n]/vector&lt;T&gt;\t[n]int8/[]T\tVec&lt;i8&gt; int16_array\t45\tshort[]\tndarray(int16)\t/\tint16_t[n]/vector&lt;T&gt;\t[n]int16/[]T\tVec&lt;i16&gt; int32_array\t46\tint[]\tndarray(int32)\t/\tint32_t[n]/vector&lt;T&gt;\t[n]int32/[]T\tVec&lt;i32&gt; int64_array\t47\tlong[]\tndarray(int64)\t/\tint64_t[n]/vector&lt;T&gt;\t[n]int64/[]T\tVec&lt;i64&gt; uint8_array\t48\tshort[]\tndarray(uint8)\t/\tuint8_t[n]/vector&lt;T&gt;\t[n]uint8/[]T\tVec&lt;u8&gt; uint16_array\t49\tint[]\tndarray(uint16)\t/\tuint16_t[n]/vector&lt;T&gt;\t[n]uint16/[]T\tVec&lt;u16&gt; uint32_array\t50\tlong[]\tndarray(uint32)\t/\tuint32_t[n]/vector&lt;T&gt;\t[n]uint32/[]T\tVec&lt;u32&gt; uint64_array\t51\tlong[]\tndarray(uint64)\t/\tuint64_t[n]/vector&lt;T&gt;\t[n]uint64/[]T\tVec&lt;u64&gt; float8_array\t52\t/\t/\t/\t/\t/\t/ float16_array\t53\tfloat[]\tndarray(float16)\t/\tfory::float16_t[n]/vector&lt;T&gt;\t[n]float16/[]T\tVec&lt;fory::f16&gt; bfloat16_array\t54\t/\t/\t/\t/\t/\t/ float32_array\t55\tfloat[]\tndarray(float32)\t/\tfloat[n]/vector&lt;T&gt;\t[n]float32/[]T\tVec&lt;f32&gt; float64_array\t56\tdouble[]\tndarray(float64)\t/\tdouble[n]/vector&lt;T&gt;\t[n]float64/[]T\tVec&lt;f64&gt;  ","version":"0.15","tagName":"h2"},{"title":"Á±ªÂûã‰ø°ÊÅØÔºàÂΩìÂâçÂ∞öÊú™ÂÆåÊï¥ÂÆûÁé∞Ôºâ‚Äã","type":1,"pageTitle":"Xlang Á±ªÂûãÊò†Â∞Ñ","url":"/zh-CN/docs/specification/xlang_type_mapping#Á±ªÂûã‰ø°ÊÅØÂΩìÂâçÂ∞öÊú™ÂÆåÊï¥ÂÆûÁé∞","content":" Áî±‰∫é‰∏çÂêåËØ≠Ë®ÄÁ±ªÂûãÁ≥ªÁªüÂ≠òÂú®Â∑ÆÂºÇÔºåÈÉ®ÂàÜÁ±ªÂûãÊó†Ê≥ï‰∏Ä‰∏ÄÂØπÂ∫îÊò†Â∞Ñ„ÄÇ  Â¶ÇÊûúÊüêËØ≠Ë®Ä‰∏≠ÁöÑ‰∏Ä‰∏™Á±ªÂûãÂèØËÉΩÂØπÂ∫îÂ§ö‰∏™ Fory Á±ªÂûãÔºà‰æãÂ¶Ç Java long ÂèØËÉΩÂØπÂ∫î int64/varint64/tagged_int64ÔºâÔºå ËØ¥ÊòéËØ•ËØ≠Ë®ÄÁº∫Â∞ëÊõ¥ÁªÜÁ≤íÂ∫¶Âå∫ÂàÜÔºåÊ≠§Êó∂Ë∞ÉÁî®ÊñπÈúÄË¶ÅÈ¢ùÂ§ñÊèê‰æõÁ±ªÂûã‰ø°ÊÅØ„ÄÇ  ","version":"0.15","tagName":"h2"},{"title":"Á±ªÂûãÊ≥®Ëß£‚Äã","type":1,"pageTitle":"Xlang Á±ªÂûãÊò†Â∞Ñ","url":"/zh-CN/docs/specification/xlang_type_mapping#Á±ªÂûãÊ≥®Ëß£","content":" ÂΩìÊüêÁ±ªÂûã‰Ωú‰∏∫ÂÖ∂‰ªñÁ±ªÁöÑÂ≠óÊÆµÊó∂ÔºåÂèØ‰ª•ÈÄöËøáÂ≠óÊÆµÁ∫ßÊàñÁ±ªÂûãÁ∫ßÂÖÉÊï∞ÊçÆÊèêÁ§∫ÂÖ∑‰ΩìÁºñÁ†ÅËØ≠‰πâ„ÄÇ‰∏çÂêåËØ≠Ë®ÄÁöÑÈÖçÁΩÆÊñπÂºèÔºö  JavaÔºöÊ≥®Ëß£C++ÔºöÂÆè‰∏éÊ®°ÊùøGoÔºöstruct tagPythonÔºötype hintRustÔºöÂÆè  Á§∫‰æãÔºö  Java: class Foo { @Int32Type(varint = true) int f1; List&lt;@Int32Type(varint = true) Integer&gt; f2; } Python: class Foo: f1: pyfory.varint32 f2: List[pyfory.varint32]  ","version":"0.15","tagName":"h2"},{"title":"ÂÆâË£Ö Apache Fory‚Ñ¢","type":0,"sectionRef":"#","url":"/zh-CN/docs/start/install","content":"","keywords":"","version":"0.15"},{"title":"ÂÆâË£Ö Apache Fory‚Ñ¢ Java‚Äã","type":1,"pageTitle":"ÂÆâË£Ö Apache Fory‚Ñ¢","url":"/zh-CN/docs/start/install#ÂÆâË£Ö-apache-fory-java","content":" Ë¶Å‰ΩøÁî® Maven Ê∑ªÂä†ÂØπ Apache Fory‚Ñ¢ ÁöÑ‰æùËµñÔºåËØ∑‰ΩøÁî®‰ª•‰∏ãÈÖçÁΩÆÔºö  &lt;dependency&gt; &lt;groupId&gt;org.apache.fory&lt;/groupId&gt; &lt;artifactId&gt;fory-core&lt;/artifactId&gt; &lt;version&gt;0.14.1&lt;/version&gt; &lt;/dependency&gt; &lt;!-- Optional row format support --&gt; &lt;!-- &lt;dependency&gt; &lt;groupId&gt;org.apache.fory&lt;/groupId&gt; &lt;artifactId&gt;fory-format&lt;/artifactId&gt; &lt;version&gt;0.13.1&lt;/version&gt; &lt;/dependency&gt; --&gt; &lt;!-- SIMD acceleration for array compression (Java 16+) --&gt; &lt;!-- &lt;dependency&gt; &lt;groupId&gt;org.apache.fory&lt;/groupId&gt; &lt;artifactId&gt;fory-simd&lt;/artifactId&gt; &lt;version&gt;0.13.1&lt;/version&gt; &lt;/dependency&gt; --&gt;   ","version":"0.15","tagName":"h2"},{"title":"ÂÆâË£Ö Apache Fory‚Ñ¢ Scala‚Äã","type":1,"pageTitle":"ÂÆâË£Ö Apache Fory‚Ñ¢","url":"/zh-CN/docs/start/install#ÂÆâË£Ö-apache-fory-scala","content":" Ë¶Å‰ΩøÁî® Maven Ê∑ªÂä† scala 2.13 ÁöÑ Fory scala ‰æùËµñÔºåËØ∑‰ΩøÁî®‰ª•‰∏ãÈÖçÁΩÆÔºö  &lt;dependency&gt; &lt;groupId&gt;org.apache.fory&lt;/groupId&gt; &lt;artifactId&gt;fory-scala_2.13&lt;/artifactId&gt; &lt;version&gt;0.14.1&lt;/version&gt; &lt;/dependency&gt;   Ë¶Å‰ΩøÁî® Maven Ê∑ªÂä† scala 3 ÁöÑ Fory scala ‰æùËµñÔºåËØ∑‰ΩøÁî®‰ª•‰∏ãÈÖçÁΩÆÔºö  &lt;dependency&gt; &lt;groupId&gt;org.apache.fory&lt;/groupId&gt; &lt;artifactId&gt;fory-scala_3&lt;/artifactId&gt; &lt;version&gt;0.14.1&lt;/version&gt; &lt;/dependency&gt;   Ë¶Å‰ΩøÁî® sbt Ê∑ªÂä† scala 2.13 ÁöÑ Fory scala ‰æùËµñÔºåËØ∑‰ΩøÁî®‰ª•‰∏ãÈÖçÁΩÆÔºö  libraryDependencies += &quot;org.apache.fory&quot; % &quot;fory-scala_2.13&quot; % &quot;0.14.1&quot;   Ë¶Å‰ΩøÁî® sbt Ê∑ªÂä† scala 3 ÁöÑ Fory scala ‰æùËµñÔºåËØ∑‰ΩøÁî®‰ª•‰∏ãÈÖçÁΩÆÔºö  libraryDependencies += &quot;org.apache.fory&quot; % &quot;fory-scala_3&quot; % &quot;0.14.1&quot;   ","version":"0.15","tagName":"h2"},{"title":"ÂÆâË£Ö Apache Fory‚Ñ¢ Kotlin‚Äã","type":1,"pageTitle":"ÂÆâË£Ö Apache Fory‚Ñ¢","url":"/zh-CN/docs/start/install#ÂÆâË£Ö-apache-fory-kotlin","content":" To add a dependency on Apache Fory‚Ñ¢kotlin with maven, use the following:  &lt;dependency&gt; &lt;groupId&gt;org.apache.fory&lt;/groupId&gt; &lt;artifactId&gt;fory-kotlin&lt;/artifactId&gt; &lt;version&gt;0.14.1&lt;/version&gt; &lt;/dependency&gt;   ","version":"0.15","tagName":"h2"},{"title":"ÂÆâË£Ö Apache Fory‚Ñ¢ Python‚Äã","type":1,"pageTitle":"ÂÆâË£Ö Apache Fory‚Ñ¢","url":"/zh-CN/docs/start/install#ÂÆâË£Ö-apache-fory-python","content":" python -m pip install --upgrade pip pip install pyfory==0.14.1   ","version":"0.15","tagName":"h2"},{"title":"ÂÆâË£Ö Apache Fory‚Ñ¢ Rust‚Äã","type":1,"pageTitle":"ÂÆâË£Ö Apache Fory‚Ñ¢","url":"/zh-CN/docs/start/install#ÂÆâË£Ö-apache-fory-rust","content":" [dependencies] fory = &quot;0.14&quot;   ÊàñËÄÖÁõ¥Êé•ÊâßË°å‰ª•‰∏ãÂëΩ‰ª§Ôºö  cargo add fory@0.14.1  ","version":"0.15","tagName":"h2"},{"title":"Xlang Â∫èÂàóÂåñÊ†ºÂºè","type":0,"sectionRef":"#","url":"/zh-CN/docs/specification/xlang_serialization_spec","content":"","keywords":"","version":"0.15"},{"title":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñËßÑËåÉ‚Äã","type":1,"pageTitle":"Xlang Â∫èÂàóÂåñÊ†ºÂºè","url":"/zh-CN/docs/specification/xlang_serialization_spec#Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñËßÑËåÉ","content":" Êú¨ÊñáÂÆö‰πâ Apache Fory xlang ‰∫åËøõÂà∂ÂçèËÆÆÁöÑÈÄöÁî®Á∫øÊ†ºÂºèÔºåÈÄÇÁî®‰∫éÂ§öËØ≠Ë®Ä‰∫íÊìç‰ΩúÂú∫ÊôØ„ÄÇ  ÁõÆÊ†áÔºö  ‰∫åËøõÂà∂Â∏ÉÂ±ÄË∑®ËØ≠Ë®ÄÁ®≥ÂÆöÊîØÊåÅÂºïÁî®Ë∑üË∏™„ÄÅÁ±ªÂûãÂÖÉ‰ø°ÊÅØÂíå schema ÊºîËøõÂú®ÊµÅÂºèÂ∫èÂàóÂåñ‰∏≠ÊîØÊåÅÂ¢ûÈáèÂÜôÂÖ•ÂÖ±‰∫´ÂÖÉ‰ø°ÊÅØ  ","version":"0.15","tagName":"h2"},{"title":"Á±ªÂûãÁ≥ªÁªü‚Äã","type":1,"pageTitle":"Xlang Â∫èÂàóÂåñÊ†ºÂºè","url":"/zh-CN/docs/specification/xlang_serialization_spec#Á±ªÂûãÁ≥ªÁªü","content":" ","version":"0.15","tagName":"h2"},{"title":"Êï∞ÊçÆÁ±ªÂûã‚Äã","type":1,"pageTitle":"Xlang Â∫èÂàóÂåñÊ†ºÂºè","url":"/zh-CN/docs/specification/xlang_serialization_spec#Êï∞ÊçÆÁ±ªÂûã","content":" xlang Á±ªÂûãÂàÜ‰∏∫Ôºö  Âü∫Á°ÄÁ±ªÂûãÔºöbool„ÄÅÊï¥Êï∞„ÄÅÊµÆÁÇπ„ÄÅstring„ÄÅbinaryÂÆπÂô®Á±ªÂûãÔºölist„ÄÅset„ÄÅmap„ÄÅarrayÁªìÊûÑÁ±ªÂûãÔºöenum„ÄÅstruct„ÄÅunion„ÄÅextÊó∂Èó¥Á±ªÂûãÔºöduration„ÄÅtimestamp„ÄÅdate  ","version":"0.15","tagName":"h3"},{"title":"Polymorphisms‚Äã","type":1,"pageTitle":"Xlang Â∫èÂàóÂåñÊ†ºÂºè","url":"/zh-CN/docs/specification/xlang_serialization_spec#polymorphisms","content":" ÂçèËÆÆÊîØÊåÅÂ§öÊÄÅÂØπË±°„ÄÇËß£Á†ÅÁ´ØÂèØ‰æùÊçÆ type meta Âà§Êñ≠ËøêË°åÊó∂ÁúüÂÆûÁ±ªÂûãÔºåÂπ∂ÈÄâÊã©ÂØπÂ∫î serializer„ÄÇ  ","version":"0.15","tagName":"h3"},{"title":"Type disambiguation‚Äã","type":1,"pageTitle":"Xlang Â∫èÂàóÂåñÊ†ºÂºè","url":"/zh-CN/docs/specification/xlang_serialization_spec#type-disambiguation","content":" ÂΩìÊüêËØ≠Ë®ÄÁ±ªÂûãÂèØÊò†Â∞ÑÂà∞Â§ö‰∏™ Fory Á±ªÂûãÔºàÂ¶Ç fixed/varint/tagged Êï¥Êï∞ÔºâÊó∂ÔºåÂøÖÈ°ªÈÄöËøáÂ≠óÊÆµÂÖÉ‰ø°ÊÅØÊàñÁ±ªÂûãÊ≥®Ëß£Ê∂àÊ≠ß„ÄÇ  ","version":"0.15","tagName":"h3"},{"title":"Type ID‚Äã","type":1,"pageTitle":"Xlang Â∫èÂàóÂåñÊ†ºÂºè","url":"/zh-CN/docs/specification/xlang_serialization_spec#type-id","content":" Á±ªÂûãÁî± internal_type_id ‰∏éÔºàÂèØÈÄâÔºâuser_type_id ÂÖ±ÂêåË°®ËææÔºö  ÂÜÖÂª∫Á±ªÂûãÈÄöÂ∏∏Áõ¥Êé•Áî± internal ID ÂîØ‰∏ÄË°®Á§∫Áî®Êà∑Á±ªÂûãÈÄöËøá internal kind + user IDÔºàÊàñÂëΩÂêçÁ±ªÂûãÔºâË°®Á§∫  Internal Type ID Table‚Äã  Ê†∏ÂøÉ internal IDsÔºàÁ§∫‰æãÔºâÔºö  ID\tÁ±ªÂûã1\tbool 2-20\tÂêÑÁ±ªÊï∞Â≠óÁ±ªÂûã 21\tstring 22\tlist 23\tset 24\tmap 25\tenum 27\tstruct 28\tcompatible_struct 31\text 33\tunion 36\tnone 37\tduration 38\ttimestamp 39\tdate 40+\tdecimal/binary/array Á≠â  ÂÆåÊï¥Êò†Â∞ÑËßÅ Xlang Á±ªÂûãÊò†Â∞Ñ„ÄÇ  Type ID Encoding for User Types‚Äã  Áî®Êà∑Á±ªÂûãÈááÁî®ÊãÜÂàÜÁºñÁ†ÅÔºö  ÂÖàÂÜô internal type IDÔºà8-bit kindÔºâÂÜçÂÜô user_type_idÔºàvaruint32Ôºâ  ‰∏çÂÅö bit packingÔºå‰æø‰∫éÂÆûÁé∞‰∏éË∞ÉËØï„ÄÇ  ","version":"0.15","tagName":"h3"},{"title":"Type mapping‚Äã","type":1,"pageTitle":"Xlang Â∫èÂàóÂåñÊ†ºÂºè","url":"/zh-CN/docs/specification/xlang_serialization_spec#type-mapping","content":" Ë∑®ËØ≠Ë®ÄÁ±ªÂûãÊò†Â∞ÑÊÄªË°®ËßÅ xlang_type_mapping.md„ÄÇ  ","version":"0.15","tagName":"h3"},{"title":"ËßÑËåÉÊ¶ÇËßà‚Äã","type":1,"pageTitle":"Xlang Â∫èÂàóÂåñÊ†ºÂºè","url":"/zh-CN/docs/specification/xlang_serialization_spec#ËßÑËåÉÊ¶ÇÔøΩÔøΩËßà","content":" È°∂Â±ÇÂ∏ÉÂ±ÄÔºö  | fory header | reference meta | type meta | value payload |   ÂçèËÆÆÈªòËÆ§ little-endian„ÄÇ  ","version":"0.15","tagName":"h2"},{"title":"Fory Â§¥ÈÉ®‚Äã","type":1,"pageTitle":"Xlang Â∫èÂàóÂåñÊ†ºÂºè","url":"/zh-CN/docs/specification/xlang_serialization_spec#fory-Â§¥ÈÉ®","content":" Â§¥ÈÉ®ÊòØ 1-byte bitmapÔºö  | reserved(5) | oob(1) | xlang(1) | null(1) |   null=1 Êó∂ÂÄº‰∏∫Á©∫Ôºå‰∏çÂÜçÂÜôÂÄºÊï∞ÊçÆxlang=1 Ë°®Á§∫ÈááÁî® xlang Ê†ºÂºèoob=1 Ë°®Á§∫Â≠òÂú® out-of-band ÁºìÂÜ≤Âå∫ÂºïÁî®  ","version":"0.15","tagName":"h2"},{"title":"Reference Meta‚Äã","type":1,"pageTitle":"Xlang Â∫èÂàóÂåñÊ†ºÂºè","url":"/zh-CN/docs/specification/xlang_serialization_spec#reference-meta","content":" ","version":"0.15","tagName":"h2"},{"title":"Reference Flags‚Äã","type":1,"pageTitle":"Xlang Â∫èÂàóÂåñÊ†ºÂºè","url":"/zh-CN/docs/specification/xlang_serialization_spec#reference-flags","content":" Ê†áËÆ∞\tÂÄº\tÂê´‰πâNULL_FLAG\t-3\tnull REF_FLAG\t-2\tÂ∑≤Âá∫Áé∞ÂØπË±°ÔºåÂêéÊé• ref id NOT_NULL_VALUE_FLAG\t-1\tÈùûÁ©∫‰ΩÜ‰∏çË∑üË∏™ÂºïÁî® REF_VALUE_FLAG\t0\tÈ¶ñÊ¨°Âá∫Áé∞ÁöÑÂèØÂºïÁî®ÂØπË±°  ","version":"0.15","tagName":"h3"},{"title":"Reference Tracking Algorithm‚Äã","type":1,"pageTitle":"Xlang Â∫èÂàóÂåñÊ†ºÂºè","url":"/zh-CN/docs/specification/xlang_serialization_spec#reference-tracking-algorithm","content":" ÂÜô‰æßÔºö  ÂÖàÂà§Êñ≠ nullËã•ÂèØÂºïÁî®‰∏îÂ∑≤Âá∫Áé∞ÔºåÂÜô REF_FLAG + ref_idËã•ÂèØÂºïÁî®‰∏îÈ¶ñÊ¨°Âá∫Áé∞ÔºåÂÜô REF_VALUE_FLAG Âπ∂ÁôªËÆ∞Ëã•‰∏çÂèØÂºïÁî®ÔºåÂÜô NOT_NULL_VALUE_FLAG  ËØª‰æßÔºö  ËØªÂèñÊ†áËÆ∞REF_FLAG Êó∂Êåâ ref_id ÂõûË°®REF_VALUE_FLAG Êó∂ÂÖàÊûÑÈÄ†ÂØπË±°ÂÜçÁôªËÆ∞NOT_NULL_VALUE_FLAG Êó∂Áõ¥Êé•ËØªÂÄº  ","version":"0.15","tagName":"h3"},{"title":"Reference ID Assignment‚Äã","type":1,"pageTitle":"Xlang Â∫èÂàóÂåñÊ†ºÂºè","url":"/zh-CN/docs/specification/xlang_serialization_spec#reference-id-assignment","content":" ref id ÊåâÂØπË±°È¶ñÊ¨°Âá∫Áé∞È°∫Â∫èÈÄíÂ¢ûÂàÜÈÖçÔºå‰ªé 0 ÂºÄÂßã„ÄÇ  ","version":"0.15","tagName":"h3"},{"title":"When Reference Tracking is Disabled‚Äã","type":1,"pageTitle":"Xlang Â∫èÂàóÂåñÊ†ºÂºè","url":"/zh-CN/docs/specification/xlang_serialization_spec#when-reference-tracking-is-disabled","content":" Á¶ÅÁî®ÂºïÁî®Ë∑üË∏™Êó∂Ôºå‰ªÖ‰ΩøÁî® null / not-null ‰∏§Á±ªÊ†áËÆ∞Ôºå‰∏çÁª¥Êä§ ref Ë°®„ÄÇ  ","version":"0.15","tagName":"h3"},{"title":"Language-Specific Considerations‚Äã","type":1,"pageTitle":"Xlang Â∫èÂàóÂåñÊ†ºÂºè","url":"/zh-CN/docs/specification/xlang_serialization_spec#language-specific-considerations","content":" ‰∏çÂêåËØ≠Ë®ÄÂ∫î‰øùËØÅÔºö  ÂØπË±°Ë∫´‰ªΩÂà§ÂÆö‰∏ÄËá¥ÔºàË∫´‰ªΩËÄåÈùûÂÄºÁõ∏Á≠âÔºâÂÆπÂô®ÂÖÉÁ¥†ÂºïÁî®ËØ≠‰πâ‰∏ÄËá¥Âæ™ÁéØÂºïÁî®Âú∫ÊôØÂÖàÂç†‰ΩçÂêéÂ°´ÂÖÖ  ","version":"0.15","tagName":"h3"},{"title":"Type Meta‚Äã","type":1,"pageTitle":"Xlang Â∫èÂàóÂåñÊ†ºÂºè","url":"/zh-CN/docs/specification/xlang_serialization_spec#type-meta","content":" ","version":"0.15","tagName":"h2"},{"title":"Type ID encoding‚Äã","type":1,"pageTitle":"Xlang Â∫èÂàóÂåñÊ†ºÂºè","url":"/zh-CN/docs/specification/xlang_serialization_spec#type-id-encoding","content":" type id ‰ΩøÁî® varuint ÁºñÁ†ÅÂÜôÂÖ•„ÄÇ  ","version":"0.15","tagName":"h3"},{"title":"Type meta payload‚Äã","type":1,"pageTitle":"Xlang Â∫èÂàóÂåñÊ†ºÂºè","url":"/zh-CN/docs/specification/xlang_serialization_spec#type-meta-payload","content":" Âú®‰ª•‰∏ãÊÉÖÂÜµÂÜôÈ¢ùÂ§ñ type metaÔºö  ÂëΩÂêçÁ±ªÂûãÔºàNAMED_*Ôºâcompatible struct ÈúÄË¶Å TypeDefËøêË°åÊó∂Êú™Â£∞ÊòéÁ±ªÂûãÈúÄË¶ÅÂä®ÊÄÅ type info  ","version":"0.15","tagName":"h3"},{"title":"Shared Type Meta (streaming)‚Äã","type":1,"pageTitle":"Xlang Â∫èÂàóÂåñÊ†ºÂºè","url":"/zh-CN/docs/specification/xlang_serialization_spec#shared-type-meta-streaming","content":" ÂÖ±‰∫´ type meta ÈááÁî®‚ÄúÁ¥¢Âºï + ÂèØÈÄâÂÆö‰πâ‰Ωì‚ÄùÊµÅÂºèÂÜôÊ≥ïÔºö  index_marker = (index &lt;&lt; 1) | is_ref   is_ref=1ÔºöÂºïÁî®Â∑≤Êúâ typeis_ref=0ÔºöÊñ∞ typeÔºåÂêéÊé•ÂÆö‰πâ‰Ωì  ","version":"0.15","tagName":"h3"},{"title":"TypeDef (schema evolution metadata)‚Äã","type":1,"pageTitle":"Xlang Â∫èÂàóÂåñÊ†ºÂºè","url":"/zh-CN/docs/specification/xlang_serialization_spec#typedef-schema-evolution-metadata","content":" TypeDef Áî®‰∫éÊèèËø∞ compatible Ê®°ÂºèÁöÑÂ≠óÊÆµÂÖÉ‰ø°ÊÅØÔºàÂ≠óÊÆµÂêç/tag„ÄÅnullable/ref„ÄÅÂ≠óÊÆµÁ±ªÂûãÔºâ„ÄÇ  Global header‚Äã  TypeDef Â§¥ÈÉ®ÂåÖÂê´Ôºö  payload sizeflagsÔºàÂ¶Ç compress„ÄÅhas_fields_metaÔºâpayload hash  TypeDef body‚Äã  ‰∏ª‰ΩìÂåÖÂê´Ôºö  class Â±ÇÊ¨°‰ø°ÊÅØÔºàÁà∂Á±ªÂà∞Â≠êÁ±ªÔºâÊØèÂ±ÇÂ≠óÊÆµÊï∞Èáè‰∏éÁ±ªÂûãÊ†áËØÜÂ≠óÊÆµÁ∫ßÂÖÉ‰ø°ÊÅØÔºàÂêçÁß∞ÁºñÁ†Å/tag„ÄÅnullable/ref„ÄÅfield typeÔºâ  ","version":"0.15","tagName":"h3"},{"title":"Meta String‚Äã","type":1,"pageTitle":"Xlang Â∫èÂàóÂåñÊ†ºÂºè","url":"/zh-CN/docs/specification/xlang_serialization_spec#meta-string","content":" meta string Áî®‰∫é namespace„ÄÅtypename„ÄÅfieldname ÁöÑÂéãÁº©Ë°®Á§∫„ÄÇ  ","version":"0.15","tagName":"h2"},{"title":"Encoding Type IDs‚Äã","type":1,"pageTitle":"Xlang Â∫èÂàóÂåñÊ†ºÂºè","url":"/zh-CN/docs/specification/xlang_serialization_spec#encoding-type-ids","content":" Â∏∏ËßÅÁºñÁ†ÅÊóèÔºö  UTF8LOWER_SPECIALLOWER_UPPER_DIGIT_SPECIALFIRST_TO_LOWER_SPECIALALL_TO_LOWER_SPECIAL  ","version":"0.15","tagName":"h3"},{"title":"Character Mapping Tables‚Äã","type":1,"pageTitle":"Xlang Â∫èÂàóÂåñÊ†ºÂºè","url":"/zh-CN/docs/specification/xlang_serialization_spec#character-mapping-tables","content":" LOWER_SPECIAL (5 bits per character)‚Äã  ÈÄÇÁî®‰∫éÂ∞èÂÜôÂ≠óÊØç + È´òÈ¢ëÁâπÊÆäÂ≠óÁ¨¶ÈõÜÂêà„ÄÇ  LOWER_UPPER_DIGIT_SPECIAL (6 bits per character)‚Äã  ÈÄÇÁî®‰∫éÂ§ßÂ∞èÂÜôÂ≠óÊØç„ÄÅÊï∞Â≠ó‰∏éÁâπÊÆäÂ≠óÁ¨¶Ê∑∑ÂêàÂú∫ÊôØ„ÄÇ  ","version":"0.15","tagName":"h3"},{"title":"Encoding Algorithms‚Äã","type":1,"pageTitle":"Xlang Â∫èÂàóÂåñÊ†ºÂºè","url":"/zh-CN/docs/specification/xlang_serialization_spec#encoding-algorithms","content":" LOWER_SPECIAL Encoding‚Äã  Êåâ 5-bit Êò†Â∞ÑÈÄêÂ≠óÁ¨¶ÁºñÁ†ÅÔºåÊó†Ê≥ïÊò†Â∞ÑÁöÑÂ≠óÁ¨¶ÈúÄÂõûÈÄÄËá≥ÂÖ∂‰ªñÁºñÁ†Å„ÄÇ  FIRST_TO_LOWER_SPECIAL Encoding‚Äã  È¶ñÂ≠óÁ¨¶ÂçïÁã¨Â§ÑÁêÜÔºåÂÖ∂‰ΩôÂ≠óÁ¨¶Êåâ LOWER_SPECIAL ÁºñÁ†Å„ÄÇ  ALL_TO_LOWER_SPECIAL Encoding‚Äã  ÂÖàÂΩí‰∏ÄÂåñÔºåÂÜçÊåâ LOWER_SPECIAL ÁºñÁ†Å„ÄÇ  ","version":"0.15","tagName":"h3"},{"title":"Encoding Selection Algorithm‚Äã","type":1,"pageTitle":"Xlang Â∫èÂàóÂåñÊ†ºÂºè","url":"/zh-CN/docs/specification/xlang_serialization_spec#encoding-selection-algorithm","content":" ÁºñÁ†ÅÈÄâÊã©Á≠ñÁï•Ôºö  Â∞ùËØïÊúÄÁ¥ßÂáëÁºñÁ†ÅËã•Â≠óÁ¨¶ÈõÜÂêà‰∏çÊª°Ë∂≥ÂàôÈôçÁ∫ßÂøÖË¶ÅÊó∂ÂõûÈÄÄ UTF8  ","version":"0.15","tagName":"h3"},{"title":"Meta String Header Format‚Äã","type":1,"pageTitle":"Xlang Â∫èÂàóÂåñÊ†ºÂºè","url":"/zh-CN/docs/specification/xlang_serialization_spec#meta-string-header-format","content":" | size_bits | encoding_bits |   ÂΩì size Ë∂ÖËøáÁü≠Â§¥ËåÉÂõ¥Êó∂ËøΩÂä† varuint Êâ©Â±ïÈïøÂ∫¶„ÄÇ  ","version":"0.15","tagName":"h3"},{"title":"Special Character Sets by Context‚Äã","type":1,"pageTitle":"Xlang Â∫èÂàóÂåñÊ†ºÂºè","url":"/zh-CN/docs/specification/xlang_serialization_spec#special-character-sets-by-context","content":" ‰∏çÂêå‰∏ä‰∏ãÊñáÔºàÂåÖÂêç„ÄÅÁ±ªÂûãÂêç„ÄÅÂ≠óÊÆµÂêçÔºâÂÖÅËÆ∏Â≠óÁ¨¶ÈõÜÂêàÂèØ‰∏çÂêåÔºåÁºñÁ†ÅÂô®ÈúÄÊåâ‰∏ä‰∏ãÊñáÈÄâÊã©ÂêàÊ≥ïË°®„ÄÇ  ","version":"0.15","tagName":"h3"},{"title":"Deduplication‚Äã","type":1,"pageTitle":"Xlang Â∫èÂàóÂåñÊ†ºÂºè","url":"/zh-CN/docs/specification/xlang_serialization_spec#deduplication","content":" meta string ÂèØÊåâ‰ºöËØùÂéªÈáçÔºåÂáèÂ∞ëÈáçÂ§çÂÜôÂÖ•„ÄÇ  ","version":"0.15","tagName":"h3"},{"title":"Value Format‚Äã","type":1,"pageTitle":"Xlang Â∫èÂàóÂåñÊ†ºÂºè","url":"/zh-CN/docs/specification/xlang_serialization_spec#value-format","content":" ","version":"0.15","tagName":"h2"},{"title":"Basic types‚Äã","type":1,"pageTitle":"Xlang Â∫èÂàóÂåñÊ†ºÂºè","url":"/zh-CN/docs/specification/xlang_serialization_spec#basic-types","content":" bool‚Äã  1 Â≠óËäÇÔºö0x00/0x01„ÄÇ  int8‚Äã  1 Â≠óËäÇÊúâÁ¨¶Âè∑Êï¥Âûã„ÄÇ  int16‚Äã  2 Â≠óËäÇ little-endian„ÄÇ  unsigned int32‚Äã  Âõ∫ÂÆö 4 Â≠óËäÇÊó†Á¨¶Âè∑Êï¥Âûã„ÄÇ  unsigned varint32‚Äã  varint32ÔºàÊó†Á¨¶Âè∑ÔºâÁºñÁ†Å„ÄÇ  signed int32‚Äã  Âõ∫ÂÆö 4 Â≠óËäÇÊúâÁ¨¶Âè∑Êï¥Âûã„ÄÇ  signed varint32‚Äã  ZigZag + varint32„ÄÇ  unsigned int64‚Äã  Âõ∫ÂÆö 8 Â≠óËäÇÊó†Á¨¶Âè∑Êï¥Âûã„ÄÇ  unsigned varint64‚Äã  varint64ÔºàÊó†Á¨¶Âè∑ÔºâÁºñÁ†Å„ÄÇ  unsigned hybrid int64 (TAGGED_UINT64)‚Äã  tagged ÁºñÁ†ÅÔºåÂÖºÈ°æÂ∞èÂÄºÁ©∫Èó¥ÊïàÁéá‰∏éÂ§ßÂÄºË°®Á§∫ËåÉÂõ¥„ÄÇ  VarUint36Small‚Äã  Áî®‰∫éÂ≠óÁ¨¶‰∏≤Â§¥Á≠âÂú∫ÊôØÁöÑÁ¥ßÂáëÈïøÂ∫¶ÁºñÁ†Å„ÄÇ  signed int64‚Äã  Âõ∫ÂÆö 8 Â≠óËäÇÊúâÁ¨¶Âè∑Êï¥Âûã„ÄÇ  signed varint64‚Äã  ZigZag + varint64„ÄÇ  signed hybrid int64 (TAGGED_INT64)‚Äã  tagged int64 ÁºñÁ†Å„ÄÇ  float8‚Äã  È¢ÑÁïô/ÂÆûÈ™åÁ±ªÂûãÔºåÁîü‰∫ß‰∫íÊìç‰ΩúÈúÄË∞®ÊÖé„ÄÇ  float16‚Äã  16-bit ÊµÆÁÇπ„ÄÇ  bfloat16‚Äã  bfloat16 Ë°®Á§∫„ÄÇ  float32‚Äã  IEEE 754 float32 little-endian„ÄÇ  float64‚Äã  IEEE 754 float64 little-endian„ÄÇ  ","version":"0.15","tagName":"h3"},{"title":"string‚Äã","type":1,"pageTitle":"Xlang Â∫èÂàóÂåñÊ†ºÂºè","url":"/zh-CN/docs/specification/xlang_serialization_spec#string","content":" Â≠óÁ¨¶‰∏≤ÁºñÁ†ÅÔºö  | header(varuint36_small) | bytes |   header ‰∏≠ÂåÖÂê´ byte length ‰∏é coder ‰ø°ÊÅØ„ÄÇ  String Header‚Äã  (byte_length &lt;&lt; 2) | coderÔºåcoder Ë°®Á§∫ UTF8/LATIN1/UTF16 Á≠â„ÄÇ  Encoding Algorithm‚Äã  ÊåâÂÄôÈÄâÁºñÁ†ÅÂ∞ùËØïÔºå‰ºòÂÖàÈÄâÊã©Êõ¥Á¥ßÂáë‰∏îÂèØÊó†ÊçüË°®Á§∫ÁöÑÁºñÁ†Å„ÄÇ  Encoding Selection by Language‚Äã  ÂêÑËØ≠Ë®ÄÂÆûÁé∞ÂèØÊåâÊú¨Âú∞Â≠óÁ¨¶‰∏≤ÂÜÖÈÉ®Ë°®Á§∫‰ºòÂåñÔºå‰ΩÜÁ∫ø‰∏äÁºñÁ†ÅÁªìÊûúÂøÖÈ°ª‰∏éËßÑËåÉ‰∏ÄËá¥„ÄÇ  Empty String‚Äã  Á©∫‰∏≤ÈïøÂ∫¶‰∏∫ 0Ôºå‰ªçÂ∫îÂÜôÂêàÊ≥ï header„ÄÇ  ","version":"0.15","tagName":"h3"},{"title":"duration‚Äã","type":1,"pageTitle":"Xlang Â∫èÂàóÂåñÊ†ºÂºè","url":"/zh-CN/docs/specification/xlang_serialization_spec#duration","content":" ÈÄöÂ∏∏ÂÜô seconds + nanos„ÄÇ  ","version":"0.15","tagName":"h3"},{"title":"collection/list‚Äã","type":1,"pageTitle":"Xlang Â∫èÂàóÂåñÊ†ºÂºè","url":"/zh-CN/docs/specification/xlang_serialization_spec#collectionlist","content":" ÂàóË°®Â∏ÉÂ±ÄÔºö  ÈïøÂ∫¶elements headerÔºàÂèØÈÄâÔºâÂÖÉÁ¥†Á±ªÂûã‰ø°ÊÅØÂÖÉÁ¥†Êï∞ÊçÆ  Elements Header‚Äã  header ‰ΩçÁî®‰∫éË°®ËææÔºö  ÊòØÂê¶Ë∑üË∏™ÂÖÉÁ¥†ÂºïÁî®ÊòØÂê¶Âê´ nullÊòØÂê¶ÂêåÊûÑÊòØÂê¶‰ΩøÁî®Â£∞ÊòéÁ±ªÂûã  Type Info After Header‚Äã  Âú®ÂêåÊûÑ‰∏îÈùûÂ£∞ÊòéÁ±ªÂûãÂú∫ÊôØÔºåÂèØÂú® header Âêé‰∏ÄÊ¨°ÊÄßÂÜô element type info„ÄÇ  Element Serialization Based on Header‚Äã  Ê†πÊçÆ header Ëµ∞‰∏çÂêåÂÖÉÁ¥†Â∫èÂàóÂåñË∑ØÂæÑÔºàÂêåÊûÑÂø´Ë∑ØÂæÑ / ÂºÇÊûÑÊÖ¢Ë∑ØÂæÑÔºâ„ÄÇ  elements data‚Äã  ÂÖÉÁ¥†Êï∞ÊçÆÊåâÈ°∫Â∫èÁºñÁ†ÅÔºõnull ‰∏é ref Ê†áËÆ∞ÊåâÈÖçÁΩÆÊèíÂÖ•„ÄÇ  ","version":"0.15","tagName":"h3"},{"title":"array‚Äã","type":1,"pageTitle":"Xlang Â∫èÂàóÂåñÊ†ºÂºè","url":"/zh-CN/docs/specification/xlang_serialization_spec#array","content":" primitive array‚Äã  Âü∫Á°ÄÁ±ªÂûãÊï∞ÁªÑÂèØÁõ¥Êé•ÊåâÂÜÖÂ≠òÂùóÊã∑Ë¥ùÔºàÊ≥®ÊÑè endian ‰∏éÂØπÈΩêÔºâ„ÄÇ  Multi-dimensional arrays‚Äã  Â§öÁª¥Êï∞ÁªÑÊåâÂµåÂ•ó array/list ÈÄíÂΩíË°®Ëææ„ÄÇ  object array‚Äã  ÂØπË±°Êï∞ÁªÑÂÖÉÁ¥†ÈÄê‰∏™ÁºñÁ†ÅÔºåÊîØÊåÅÂºïÁî®‰∏éÂ§öÊÄÅ„ÄÇ  ","version":"0.15","tagName":"h3"},{"title":"map‚Äã","type":1,"pageTitle":"Xlang Â∫èÂàóÂåñÊ†ºÂºè","url":"/zh-CN/docs/specification/xlang_serialization_spec#map","content":" map ‰ΩøÁî®ÂàÜÂùóÁºñÁ†ÅÔºàchunk-basedÔºâ„ÄÇ  Map Chunk Format‚Äã  | map_size | chunk_1 | chunk_2 | ... |   KV Header Bits‚Äã  header ‰ΩçÊèèËø∞ key/value ÁöÑÔºö  ÊòØÂê¶Ë∑üË∏™ÂºïÁî®ÊòØÂê¶Âê´ nullÊòØÂê¶‰ΩøÁî®Â£∞ÊòéÁ±ªÂûã  Chunk Size‚Äã  ÊØè‰∏™ chunk Â§ßÂ∞è‰∏äÈôêÈÄöÂ∏∏‰∏∫ 255 entries„ÄÇ  Why Chunk-Based Format?‚Äã  ÂáèÂ∞ëÊØè‰∏™ entry ÈáçÂ§çÂÜô type info ÁöÑÊàêÊú¨ÔºåÊèêÂçáÂêûÂêê„ÄÇ  Why serialize chunk by chunk?‚Äã  Âú® key/value Á±ªÂûãÂ±ÄÈÉ®‰∏ÄËá¥Êó∂ÂèØÊâπÈáèËµ∞Âø´Ë∑ØÂæÑÔºåÂπ∂ÁÆÄÂåñËß£Á†ÅÂàÜÊîØ„ÄÇ  ","version":"0.15","tagName":"h3"},{"title":"enum‚Äã","type":1,"pageTitle":"Xlang Â∫èÂàóÂåñÊ†ºÂºè","url":"/zh-CN/docs/specification/xlang_serialization_spec#enum","content":" enum ÂèØÊåâ ordinal ÊàñÂêçÁß∞ÁºñÁ†ÅÔºàÂèñÂÜ≥‰∫éÈÖçÁΩÆ‰∏éÁõÆÊ†áÂÖºÂÆπË¶ÅÊ±ÇÔºâ„ÄÇ  ","version":"0.15","tagName":"h3"},{"title":"timestamp‚Äã","type":1,"pageTitle":"Xlang Â∫èÂàóÂåñÊ†ºÂºè","url":"/zh-CN/docs/specification/xlang_serialization_spec#timestamp","content":" ÈÄöÂ∏∏ÂÜô seconds + nanos ÊàñÁªü‰∏Ä epoch Á≤æÂ∫¶Ë°®Á§∫„ÄÇ  ","version":"0.15","tagName":"h3"},{"title":"date‚Äã","type":1,"pageTitle":"Xlang Â∫èÂàóÂåñÊ†ºÂºè","url":"/zh-CN/docs/specification/xlang_serialization_spec#date","content":" ÈÄöÂ∏∏ÂÜô epoch day„ÄÇ  ","version":"0.15","tagName":"h3"},{"title":"decimal‚Äã","type":1,"pageTitle":"Xlang Â∫èÂàóÂåñÊ†ºÂºè","url":"/zh-CN/docs/specification/xlang_serialization_spec#decimal","content":" decimal Áî± scale + unscaled value Ë°®Á§∫ÔºàÂÆûÁé∞ÂèØÁî®Â§ßÊï¥Êï∞Ôºâ„ÄÇ  ","version":"0.15","tagName":"h3"},{"title":"struct‚Äã","type":1,"pageTitle":"Xlang Â∫èÂàóÂåñÊ†ºÂºè","url":"/zh-CN/docs/specification/xlang_serialization_spec#struct","content":" struct ÁºñÁ†ÅÔºöÂ≠óÊÆµÊåâÁ®≥ÂÆöÈ°∫Â∫èÂÜôÂÖ•„ÄÇ  Field order‚Äã  Êé®Ëçê‰ΩøÁî®ËßÑËåÉÂÆö‰πâÁöÑÁ®≥ÂÆöÂàÜÁªÑÊéíÂ∫èÔºåÈÅøÂÖçËØ≠Ë®ÄÂÆûÁé∞Â∑ÆÂºÇÂØºËá¥ hash ‰∏ç‰∏ÄËá¥„ÄÇ  Step 1: Field identifier‚Äã  Â≠óÊÆµÊ†áËØÜ‰ºòÂÖà‰ΩøÁî® tag IDÔºõÂê¶Âàô‰ΩøÁî®Ê†áÂáÜÂåñÂ≠óÊÆµÂêçÔºàÂ¶Ç snake_caseÔºâ„ÄÇ  Step 2: Group assignment‚Äã  ÊåâÂ≠óÊÆµÁ±ªÂà´ÂàÜÁªÑÔºàprimitive„ÄÅbuiltin„ÄÅcollection/map„ÄÅotherÔºâ„ÄÇ  Step 3: Intra-group ordering‚Äã  ÁªÑÂÜÖ‰ΩøÁî®Á®≥ÂÆöÊØîËæÉÂô®Ôºàtype + name/tagÔºâÊéíÂ∫è„ÄÇ  Notes‚Äã  ÂÆûÁé∞ÂøÖÈ°ª‰øùËØÅÊéíÂ∫èÁ°ÆÂÆöÊÄßÔºàdeterministicÔºâ„ÄÇ  Schema consistent (meta share disabled)‚Äã  ‰∏çÂÖ±‰∫´ meta Êó∂ÔºåÂèåÊñπ schema ÈúÄ‰∏ÄËá¥ÔºõÈÄöÂ∏∏Áõ¥Êé•ÊåâÂõ∫ÂÆöÈ°∫Â∫èÂÜôÂ≠óÊÆµÂÄº„ÄÇ  Compatible mode (meta share enabled)‚Äã  ÂÖ±‰∫´ TypeDef ÂêéÂèØÊåâÂ≠óÊÆµÂêç/tag ÂÅöÊò†Â∞ÑÔºåÊú™Áü•Â≠óÊÆµË∑≥Ëøá„ÄÇ  ","version":"0.15","tagName":"h3"},{"title":"Union‚Äã","type":1,"pageTitle":"Xlang Â∫èÂàóÂåñÊ†ºÂºè","url":"/zh-CN/docs/specification/xlang_serialization_spec#union","content":" IDL syntax‚Äã  union Animal { Dog dog = 1; Cat cat = 2; }   Type IDs and type meta‚Äã  union Êú¨‰ΩìÊúâÁã¨Á´ã type idÔºåcase ‰ΩøÁî® case id Âå∫ÂàÜÂàÜÊîØ„ÄÇ  Union value payload‚Äã  | case_id | case_value |   Wire layouts‚Äã  Ê†πÊçÆ case Á±ªÂûãÊòØÂê¶ÈúÄË¶ÅÂºïÁî®/Á±ªÂûãÂÖÉ‰ø°ÊÅØÂÜ≥ÂÆöÂÖ∑‰ΩìÂ∏ÉÂ±Ä„ÄÇ  Decoding rules‚Äã  ÂÖàËØª case_idÔºåÂÜçÊåâ case Á±ªÂûãËßÑÂàôËØª payloadÔºõÊú™Áü• case ÂèØÊåâÂÖºÂÆπÁ≠ñÁï•Ë∑≥ËøáÊàñÊä•Èîô„ÄÇ  When to use each type ID‚Äã  ÁªìÊûÑÁ®≥ÂÆö„ÄÅË∑®ËØ≠Ë®ÄÂ∏∏È©ªÁ±ªÂûãÔºöÂª∫ËÆÆÂõ∫ÂÆöÊï∞ÂÄº type idÂä®ÊÄÅÁ±ªÂûã/Êú™Ê≥®ÂÜåÁ±ªÂûãÔºö‰ΩøÁî®ÂëΩÂêçÁ±ªÂûãË∑ØÂæÑ  Compatibility notes‚Äã  Êñ∞Â¢û union case Â∫î‰ΩøÁî®Êñ∞ case idÔºå‰∏çÂ∫îÂ§çÁî®Êóß id„ÄÇ  ","version":"0.15","tagName":"h3"},{"title":"Type‚Äã","type":1,"pageTitle":"Xlang Â∫èÂàóÂåñÊ†ºÂºè","url":"/zh-CN/docs/specification/xlang_serialization_spec#type","content":" Âä®ÊÄÅ type ÂÄºÂ∫îÊê∫Â∏¶Ë∂≥Â§ü type metaÔºåÁ°Æ‰øùÊé•Êî∂Á´ØÂèØÂà§Âà´Âπ∂Ëß£Á†Å„ÄÇ  ","version":"0.15","tagName":"h3"},{"title":"Common Pitfalls‚Äã","type":1,"pageTitle":"Xlang Â∫èÂàóÂåñÊ†ºÂºè","url":"/zh-CN/docs/specification/xlang_serialization_spec#common-pitfalls","content":" Â∏∏ËßÅÈóÆÈ¢òÔºö  Â≠óÊÆµÊéíÂ∫è‰∏çÁ®≥ÂÆöÂØºËá¥ schema/hash ‰∏ç‰∏ÄËá¥varint ‰∏é fixed/tagged ÈÖçÁΩÆ‰∏ç‰∏ÄËá¥null ‰∏éÁ©∫ÂÄºËØ≠‰πâÊ∑∑Ê∑ÜÂºïÁî®Ë∑üË∏™ÂºÄÂÖ≥‰∏§Á´Ø‰∏ç‰∏ÄËá¥ÂëΩÂêçÁ±ªÂûã namespace/typename ‰∏çÁ®≥ÂÆö  ","version":"0.15","tagName":"h2"},{"title":"Language Implementation Guidelines‚Äã","type":1,"pageTitle":"Xlang Â∫èÂàóÂåñÊ†ºÂºè","url":"/zh-CN/docs/specification/xlang_serialization_spec#language-implementation-guidelines","content":" Áªü‰∏Ä little-endianÊòéÁ°ÆÂØπË±°Ë∫´‰ªΩËØ≠‰πâÔºàÁî®‰∫é ref trackingÔºâÂØπÊâÄÊúâ offset/size ÂÅöËæπÁïå‰∏éÊ∫¢Âá∫Ê£ÄÊü•Áª¥Êä§Ë∑®ÁâàÊú¨ÂõûÂΩíÁî®‰æãÔºàÂê´ÊºîËøõ„ÄÅÂæ™ÁéØÂºïÁî®„ÄÅÂ§çÊùÇÂÆπÂô®Ôºâ‰∏é Java/Python/C++/Rust/Go ÂÅöÂèåÂêë‰∫íÊµã ","version":"0.15","tagName":"h2"},{"title":"Apache Fory‚Ñ¢ ‰ΩøÁî®","type":0,"sectionRef":"#","url":"/zh-CN/docs/start/usage","content":"","keywords":"","version":"0.15"},{"title":"Java Â∫èÂàóÂåñ‚Äã","type":1,"pageTitle":"Apache Fory‚Ñ¢ ‰ΩøÁî®","url":"/zh-CN/docs/start/usage#java-Â∫èÂàóÂåñ","content":" import java.util.List; import java.util.Arrays; import io.fory.*; public class Example { public static void main(String[] args) { SomeClass object = new SomeClass(); // Note that Fory instances should be reused between // multiple serializations of different objects. Fory fory = Fory.builder().withLanguage(Language.JAVA) // Allow to deserialize objects unknown types, // more flexible but less secure. // .requireClassRegistration(false) .build(); // Registering types can reduce class name serialization overhead, but not mandatory. // If secure mode enabled, all custom types must be registered. fory.register(SomeClass.class); byte[] bytes = fory.serialize(object); System.out.println(fory.deserialize(bytes)); } }   ","version":"0.15","tagName":"h2"},{"title":"ScalaÂ∫èÂàóÂåñ‚Äã","type":1,"pageTitle":"Apache Fory‚Ñ¢ ‰ΩøÁî®","url":"/zh-CN/docs/start/usage#scalaÂ∫èÂàóÂåñ","content":" import org.apache.fory.Fory import org.apache.fory.serializer.scala.ScalaSerializers case class Person(name: String, id: Long, github: String) case class Point(x : Int, y : Int, z : Int) object ScalaExample { val fory: Fory = Fory.builder().withScalaOptimizationEnabled(true).build() // Register optimized fory serializers for scala ScalaSerializers.registerSerializers(fory) fory.register(classOf[Person]) fory.register(classOf[Point]) def main(args: Array[String]): Unit = { val p = Person(&quot;Shawn Yang&quot;, 1, &quot;https://github.com/chaokunyang&quot;) println(fory.deserialize(fory.serialize(p))) println(fory.deserialize(fory.serialize(Point(1, 2, 3)))) } } ## KotlinÂ∫èÂàóÂåñ ```kotlin import org.apache.fory.Fory import org.apache.fory.ThreadSafeFory import org.apache.fory.serializer.kotlin.KotlinSerializers data class Person(val name: String, val id: Long, val github: String) data class Point(val x : Int, val y : Int, val z : Int) fun main(args: Array&lt;String&gt;) { // Ê≥®ÊÑè: ‰∏ãÈù¢ÁöÑForyÂàùÂßãÂåñ‰ª£Á†ÅÂ∫îËØ•Âè™ÊâßË°å‰∏ÄÊ¨°ÔºåËÄå‰∏çÊòØÂú®ÊØèÊ¨°Â∫èÂàóÂåñÂâçÈÉΩËøêË°å val fory: ThreadSafeFory = Fory.builder().requireClassRegistration(true).buildThreadSafeFory() KotlinSerializers.registerSerializers(fory) fory.register(Person::class.java) fory.register(Point::class.java) val p = Person(&quot;Shawn Yang&quot;, 1, &quot;https://github.com/chaokunyang&quot;) println(fory.deserialize(fory.serialize(p))) println(fory.deserialize(fory.serialize(Point(1, 2, 3)))) }   ","version":"0.15","tagName":"h2"},{"title":"Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ‚Äã","type":1,"pageTitle":"Apache Fory‚Ñ¢ ‰ΩøÁî®","url":"/zh-CN/docs/start/usage#Ë∑®ËØ≠Ë®ÄÂ∫èÂàóÂåñ","content":" ","version":"0.15","tagName":"h2"},{"title":"Java‚Äã","type":1,"pageTitle":"Apache Fory‚Ñ¢ ‰ΩøÁî®","url":"/zh-CN/docs/start/usage#java","content":" import com.google.common.collect.ImmutableMap; import io.fory.*; import java.util.Map; public class ReferenceExample { public static class SomeClass { SomeClass f1; Map&lt;String, String&gt; f2; Map&lt;String, String&gt; f3; } public static Object createObject() { SomeClass obj = new SomeClass(); obj.f1 = obj; obj.f2 = ImmutableMap.of(&quot;k1&quot;, &quot;v1&quot;, &quot;k2&quot;, &quot;v2&quot;); obj.f3 = obj.f2; return obj; } // mvn exec:java -Dexec.mainClass=&quot;io.fory.examples.ReferenceExample&quot; public static void main(String[] args) { Fory fory = Fory.builder().withLanguage(Language.XLANG) .withRefTracking(true).build(); fory.register(SomeClass.class, &quot;example.SomeClass&quot;); byte[] bytes = fory.serialize(createObject()); // bytes can be data serialized by other languages. System.out.println(fory.deserialize(bytes)); ; } }   ","version":"0.15","tagName":"h3"},{"title":"Python‚Äã","type":1,"pageTitle":"Apache Fory‚Ñ¢ ‰ΩøÁî®","url":"/zh-CN/docs/start/usage#python","content":" from typing import Dict import pyfory class SomeClass: f1: &quot;SomeClass&quot; f2: Dict[str, str] f3: Dict[str, str] fory = pyfory.Fory(ref_tracking=True) fory.register_class(SomeClass, &quot;example.SomeClass&quot;) obj = SomeClass() obj.f2 = {&quot;k1&quot;: &quot;v1&quot;, &quot;k2&quot;: &quot;v2&quot;} obj.f1, obj.f3 = obj, obj.f2 data = fory.serialize(obj) # bytes can be data serialized by other languages. print(fory.deserialize(data))   ","version":"0.15","tagName":"h3"},{"title":"Golangs‚Äã","type":1,"pageTitle":"Apache Fory‚Ñ¢ ‰ΩøÁî®","url":"/zh-CN/docs/start/usage#golangs","content":" package main import ( &quot;fmt&quot; forygo &quot;github.com/apache/fory/go/fory&quot; ) func main() { type SomeClass struct { F1 *SomeClass F2 map[string]string F3 map[string]string } fory := forygo.NewFory(true) if err := fory.RegisterTagType(&quot;example.SomeClass&quot;, SomeClass{}); err != nil { panic(err) } value := &amp;SomeClass{F2: map[string]string{&quot;k1&quot;: &quot;v1&quot;, &quot;k2&quot;: &quot;v2&quot;}} value.F3 = value.F2 value.F1 = value bytes, err := fory.Marshal(value) if err != nil { } var newValue interface{} // bytes can be data serialized by other languages. if err := fory.Unmarshal(bytes, &amp;newValue); err != nil { panic(err) } fmt.Println(newValue) }   ","version":"0.15","tagName":"h3"},{"title":"JavaScript‚Äã","type":1,"pageTitle":"Apache Fory‚Ñ¢ ‰ΩøÁî®","url":"/zh-CN/docs/start/usage#javascript","content":" import Fory, { Type } from &quot;@apache-fory/fory&quot;; /** * @apache-fory/hps use v8's fast-calls-api that can be called directly by jit, ensure that the version of Node is 20 or above. * Experimental feature, installation success cannot be guaranteed at this moment * If you are unable to install the module, replace it with `const hps = null;` **/ import hps from &quot;@apache-fory/hps&quot;; // Now we describe data structures using JSON, but in the future, we will use more ways. const description = Type.object(&quot;example.foo&quot;, { foo: Type.string(), }); const fory = new Fory({ hps }); const { serialize, deserialize } = fory.registerSerializer(description); const input = serialize({ foo: &quot;hello fory&quot; }); const result = deserialize(input); console.log(result);   ","version":"0.15","tagName":"h3"},{"title":"Rust‚Äã","type":1,"pageTitle":"Apache Fory‚Ñ¢ ‰ΩøÁî®","url":"/zh-CN/docs/start/usage#rust","content":" use fory::{from_buffer, to_buffer, Fory}; #[derive(Fory, Debug, PartialEq)] #[tag(&quot;example.foo&quot;)] struct Animal { name: String, category: String, } #[derive(Fory, Debug, PartialEq)] #[tag(&quot;example.bar&quot;)] struct Person { name: String, age: u32, pets: Vec&lt;Animal&gt;, } fn main() { let penson = Person { name: &quot;hello&quot;.to_string(), age: 12, pets: vec![ Animal { name: &quot;world1&quot;.to_string(), category: &quot;cat&quot;.to_string(), }, Animal { name: &quot;world2&quot;.to_string(), category: &quot;dog&quot;.to_string(), }, ], }; let bin = to_buffer(&amp;penson); let obj: Person = from_buffer(&amp;bin).expect(&quot;should success&quot;); assert_eq!(obj, penson); }  ","version":"0.15","tagName":"h3"}],"options":{"id":"default"}}