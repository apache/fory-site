"use strict";(self.webpackChunkfory_site=self.webpackChunkfory_site||[]).push([[59727],{93857:(n,e,s)=>{s.r(e),s.d(e,{assets:()=>a,contentTitle:()=>d,default:()=>h,frontMatter:()=>l,metadata:()=>c,toc:()=>o});var i=s(85893),r=s(11151);const l={title:"\u6545\u969c\u6392\u67e5",sidebar_position:6,id:"xlang_troubleshooting",license:'Licensed to the Apache Software Foundation (ASF) under one or more\ncontributor license agreements.  See the NOTICE file distributed with\nthis work for additional information regarding copyright ownership.\nThe ASF licenses this file to You under the Apache License, Version 2.0\n(the "License"); you may not use this file except in compliance with\nthe License.  You may obtain a copy of the License at\n\n   http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an "AS IS" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n'},d=void 0,c={id:"guide/xlang/xlang_troubleshooting",title:"\u6545\u969c\u6392\u67e5",description:"\u672c\u9875\u6db5\u76d6\u4e86\u4f7f\u7528\u8de8\u8bed\u8a00\u5e8f\u5217\u5316\u65f6\u7684\u5e38\u89c1\u95ee\u9898\u548c\u89e3\u51b3\u65b9\u6848\u3002",source:"@site/i18n/zh-CN/docusaurus-plugin-content-docs/version-0.15/guide/xlang/troubleshooting.md",sourceDirName:"guide/xlang",slug:"/guide/xlang/xlang_troubleshooting",permalink:"/zh-CN/docs/guide/xlang/xlang_troubleshooting",draft:!1,unlisted:!1,editUrl:"https://github.com/apache/fory-site/tree/main/i18n/zh-CN/docusaurus-plugin-content-docs/version-0.15/guide/xlang/troubleshooting.md",tags:[],version:"0.15",sidebarPosition:6,frontMatter:{title:"\u6545\u969c\u6392\u67e5",sidebar_position:6,id:"xlang_troubleshooting",license:'Licensed to the Apache Software Foundation (ASF) under one or more\ncontributor license agreements.  See the NOTICE file distributed with\nthis work for additional information regarding copyright ownership.\nThe ASF licenses this file to You under the Apache License, Version 2.0\n(the "License"); you may not use this file except in compliance with\nthe License.  You may obtain a copy of the License at\n\n   http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an "AS IS" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n'},sidebar:"docsSidebar",previous:{title:"\u884c\u683c\u5f0f",permalink:"/zh-CN/docs/guide/xlang/row_format"},next:{title:"\u5b57\u6bb5\u53ef\u7a7a\u6027",permalink:"/zh-CN/docs/guide/xlang/field_nullability"}},a={},o=[{value:"\u7c7b\u578b\u6ce8\u518c\u9519\u8bef",id:"\u7c7b\u578b\u6ce8\u518c\u9519\u8bef",level:2},{value:"&quot;\u7c7b\u578b\u672a\u6ce8\u518c&quot;\u9519\u8bef",id:"\u7c7b\u578b\u672a\u6ce8\u518c\u9519\u8bef",level:3},{value:"&quot;\u7c7b\u578b ID \u4e0d\u5339\u914d&quot;\u9519\u8bef",id:"\u7c7b\u578b-id-\u4e0d\u5339\u914d\u9519\u8bef",level:3},{value:"\u7c7b\u578b\u6620\u5c04\u95ee\u9898",id:"\u7c7b\u578b\u6620\u5c04\u95ee\u9898",level:2},{value:"\u6574\u6570\u6ea2\u51fa",id:"\u6574\u6570\u6ea2\u51fa",level:3},{value:"\u6d6e\u70b9\u7cbe\u5ea6\u635f\u5931",id:"\u6d6e\u70b9\u7cbe\u5ea6\u635f\u5931",level:3},{value:"\u5b57\u7b26\u4e32\u7f16\u7801\u9519\u8bef",id:"\u5b57\u7b26\u4e32\u7f16\u7801\u9519\u8bef",level:3},{value:"\u5b57\u6bb5\u987a\u5e8f\u95ee\u9898",id:"\u5b57\u6bb5\u987a\u5e8f\u95ee\u9898",level:2},{value:"&quot;\u5b57\u6bb5\u4e0d\u5339\u914d&quot;\u9519\u8bef",id:"\u5b57\u6bb5\u4e0d\u5339\u914d\u9519\u8bef",level:3},{value:"\u5f15\u7528\u8ddf\u8e2a\u95ee\u9898",id:"\u5f15\u7528\u8ddf\u8e2a\u95ee\u9898",level:2},{value:"\u5faa\u73af\u5f15\u7528\u5bfc\u81f4\u6808\u6ea2\u51fa",id:"\u5faa\u73af\u5f15\u7528\u5bfc\u81f4\u6808\u6ea2\u51fa",level:3},{value:"\u91cd\u590d\u5bf9\u8c61",id:"\u91cd\u590d\u5bf9\u8c61",level:3},{value:"\u8bed\u8a00\u6a21\u5f0f\u95ee\u9898",id:"\u8bed\u8a00\u6a21\u5f0f\u95ee\u9898",level:2},{value:"&quot;\u65e0\u6548\u7684\u9b54\u672f\u6570\u5b57&quot;\u9519\u8bef",id:"\u65e0\u6548\u7684\u9b54\u672f\u6570\u5b57\u9519\u8bef",level:3},{value:"Xlang \u6a21\u5f0f\u4e2d\u7684\u4e0d\u517c\u5bb9\u7c7b\u578b",id:"xlang-\u6a21\u5f0f\u4e2d\u7684\u4e0d\u517c\u5bb9\u7c7b\u578b",level:3},{value:"\u7248\u672c\u517c\u5bb9\u6027",id:"\u7248\u672c\u517c\u5bb9\u6027",level:2},{value:"\u5e8f\u5217\u5316\u683c\u5f0f\u5df2\u66f4\u6539",id:"\u5e8f\u5217\u5316\u683c\u5f0f\u5df2\u66f4\u6539",level:3},{value:"\u8c03\u8bd5\u6280\u5de7",id:"\u8c03\u8bd5\u6280\u5de7",level:2},{value:"\u542f\u7528\u8c03\u8bd5\u65e5\u5fd7",id:"\u542f\u7528\u8c03\u8bd5\u65e5\u5fd7",level:3},{value:"\u68c0\u67e5\u5e8f\u5217\u5316\u6570\u636e",id:"\u68c0\u67e5\u5e8f\u5217\u5316\u6570\u636e",level:3},{value:"\u6d4b\u8bd5\u5f80\u8fd4",id:"\u6d4b\u8bd5\u5f80\u8fd4",level:3},{value:"\u8de8\u8bed\u8a00\u6d4b\u8bd5",id:"\u8de8\u8bed\u8a00\u6d4b\u8bd5",level:3},{value:"\u5e38\u89c1\u9519\u8bef",id:"\u5e38\u89c1\u9519\u8bef",level:2},{value:"\u53e6\u8bf7\u53c2\u9605",id:"\u53e6\u8bf7\u53c2\u9605",level:2}];function t(n){const e={a:"a",code:"code",h2:"h2",h3:"h3",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.a)(),...n.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(e.p,{children:"\u672c\u9875\u6db5\u76d6\u4e86\u4f7f\u7528\u8de8\u8bed\u8a00\u5e8f\u5217\u5316\u65f6\u7684\u5e38\u89c1\u95ee\u9898\u548c\u89e3\u51b3\u65b9\u6848\u3002"}),"\n",(0,i.jsx)(e.h2,{id:"\u7c7b\u578b\u6ce8\u518c\u9519\u8bef",children:"\u7c7b\u578b\u6ce8\u518c\u9519\u8bef"}),"\n",(0,i.jsx)(e.h3,{id:"\u7c7b\u578b\u672a\u6ce8\u518c\u9519\u8bef",children:'"\u7c7b\u578b\u672a\u6ce8\u518c"\u9519\u8bef'}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"\u75c7\u72b6\uff1a"})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{children:"Error: Type 'example.Person' is not registered\n"})}),"\n",(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.strong,{children:"\u539f\u56e0\uff1a"})," \u5728\u53cd\u5e8f\u5217\u5316\u4e4b\u524d\u672a\u6ce8\u518c\u7c7b\u578b\uff0c\u6216\u7c7b\u578b\u540d\u79f0\u4e0d\u5339\u914d\u3002"]}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"\u89e3\u51b3\u65b9\u6848\uff1a"})}),"\n",(0,i.jsxs)(e.ol,{children:["\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsx)(e.p,{children:"\u786e\u4fdd\u7c7b\u578b\u5728\u53cc\u65b9\u4f7f\u7528\u76f8\u540c\u7684\u540d\u79f0\u6ce8\u518c\uff1a"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-java",children:'// Java\nfory.register(Person.class, "example.Person");\n'})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-python",children:'# Python\nfory.register_type(Person, typename="example.Person")\n'})}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsx)(e.p,{children:"\u68c0\u67e5\u7c7b\u578b\u540d\u79f0\u4e2d\u7684\u62fc\u5199\u9519\u8bef\u6216\u5927\u5c0f\u5199\u5dee\u5f02"}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsx)(e.p,{children:"\u5728\u4efb\u4f55\u5e8f\u5217\u5316/\u53cd\u5e8f\u5217\u5316\u8c03\u7528\u4e4b\u524d\u6ce8\u518c\u7c7b\u578b"}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(e.h3,{id:"\u7c7b\u578b-id-\u4e0d\u5339\u914d\u9519\u8bef",children:'"\u7c7b\u578b ID \u4e0d\u5339\u914d"\u9519\u8bef'}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"\u75c7\u72b6\uff1a"})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{children:"Error: Expected type ID 100, got 101\n"})}),"\n",(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.strong,{children:"\u539f\u56e0\uff1a"})," \u8de8\u8bed\u8a00\u4f7f\u7528\u4e86\u4e0d\u540c\u7684\u7c7b\u578b ID\u3002"]}),"\n",(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.strong,{children:"\u89e3\u51b3\u65b9\u6848\uff1a"})," \u4f7f\u7528\u4e00\u81f4\u7684\u7c7b\u578b ID\uff1a"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-java",children:"// Java\nfory.register(Person.class, 100);\nfory.register(Address.class, 101);\n"})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-python",children:"# Python\nfory.register_type(Person, type_id=100)\nfory.register_type(Address, type_id=101)\n"})}),"\n",(0,i.jsx)(e.h2,{id:"\u7c7b\u578b\u6620\u5c04\u95ee\u9898",children:"\u7c7b\u578b\u6620\u5c04\u95ee\u9898"}),"\n",(0,i.jsx)(e.h3,{id:"\u6574\u6570\u6ea2\u51fa",children:"\u6574\u6570\u6ea2\u51fa"}),"\n",(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.strong,{children:"\u75c7\u72b6\uff1a"})," \u503c\u88ab\u622a\u65ad\u6216\u610f\u5916\u5305\u88c5\u3002"]}),"\n",(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.strong,{children:"\u539f\u56e0\uff1a"})," \u8de8\u8bed\u8a00\u4f7f\u7528\u4e86\u4e0d\u540c\u7684\u6574\u6570\u5927\u5c0f\u3002"]}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"\u89e3\u51b3\u65b9\u6848\uff1a"})}),"\n",(0,i.jsxs)(e.ol,{children:["\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsx)(e.p,{children:"\u5728 Python \u4e2d\uff0c\u4f7f\u7528\u663e\u5f0f\u7c7b\u578b\u6ce8\u89e3\uff1a"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-python",children:"@dataclass\nclass Data:\n    value: pyfory.Int32Type  # \u800c\u4e0d\u4ec5\u4ec5\u662f 'int'\n"})}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsx)(e.p,{children:"\u786e\u4fdd\u6574\u6570\u8303\u56f4\u517c\u5bb9\uff1a"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.code,{children:"int8"}),"\uff1a-128 \u5230 127"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.code,{children:"int16"}),"\uff1a-32,768 \u5230 32,767"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.code,{children:"int32"}),"\uff1a-2,147,483,648 \u5230 2,147,483,647"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(e.h3,{id:"\u6d6e\u70b9\u7cbe\u5ea6\u635f\u5931",children:"\u6d6e\u70b9\u7cbe\u5ea6\u635f\u5931"}),"\n",(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.strong,{children:"\u75c7\u72b6\uff1a"})," \u6d6e\u70b9\u503c\u7684\u7cbe\u5ea6\u51fa\u4e4e\u610f\u6599\u3002"]}),"\n",(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.strong,{children:"\u539f\u56e0\uff1a"})," \u6df7\u5408\u4f7f\u7528 ",(0,i.jsx)(e.code,{children:"float32"})," \u548c ",(0,i.jsx)(e.code,{children:"float64"})," \u7c7b\u578b\u3002"]}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"\u89e3\u51b3\u65b9\u6848\uff1a"})}),"\n",(0,i.jsxs)(e.ol,{children:["\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsx)(e.p,{children:"\u4f7f\u7528\u4e00\u81f4\u7684\u6d6e\u70b9\u7c7b\u578b\uff1a"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-python",children:"@dataclass\nclass Data:\n    value: pyfory.Float32Type  # \u663e\u5f0f 32 \u4f4d\u6d6e\u70b9\u6570\n"})}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsxs)(e.p,{children:["\u8bf7\u6ce8\u610f\uff0cPython \u7684 ",(0,i.jsx)(e.code,{children:"float"})," \u9ed8\u8ba4\u6620\u5c04\u5230 ",(0,i.jsx)(e.code,{children:"float64"})]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(e.h3,{id:"\u5b57\u7b26\u4e32\u7f16\u7801\u9519\u8bef",children:"\u5b57\u7b26\u4e32\u7f16\u7801\u9519\u8bef"}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"\u75c7\u72b6\uff1a"})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{children:"Error: Invalid UTF-8 sequence\n"})}),"\n",(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.strong,{children:"\u539f\u56e0\uff1a"})," \u975e UTF-8 \u7f16\u7801\u7684\u5b57\u7b26\u4e32\u3002"]}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"\u89e3\u51b3\u65b9\u6848\uff1a"})}),"\n",(0,i.jsxs)(e.ol,{children:["\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsx)(e.p,{children:"\u786e\u4fdd\u6240\u6709\u5b57\u7b26\u4e32\u90fd\u662f\u6709\u6548\u7684 UTF-8"}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsx)(e.p,{children:"\u5728 Python \u4e2d\uff0c\u5728\u5e8f\u5217\u5316\u4e4b\u524d\u89e3\u7801\u5b57\u8282\uff1a"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-python",children:"text = raw_bytes.decode('utf-8')\n"})}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(e.h2,{id:"\u5b57\u6bb5\u987a\u5e8f\u95ee\u9898",children:"\u5b57\u6bb5\u987a\u5e8f\u95ee\u9898"}),"\n",(0,i.jsx)(e.h3,{id:"\u5b57\u6bb5\u4e0d\u5339\u914d\u9519\u8bef",children:'"\u5b57\u6bb5\u4e0d\u5339\u914d"\u9519\u8bef'}),"\n",(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.strong,{children:"\u75c7\u72b6\uff1a"})," \u53cd\u5e8f\u5217\u5316\u7684\u5bf9\u8c61\u5177\u6709\u9519\u8bef\u7684\u5b57\u6bb5\u503c\u3002"]}),"\n",(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.strong,{children:"\u539f\u56e0\uff1a"})," \u8bed\u8a00\u4e4b\u95f4\u7684\u5b57\u6bb5\u987a\u5e8f\u4e0d\u540c\u3002"]}),"\n",(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.strong,{children:"\u89e3\u51b3\u65b9\u6848\uff1a"})," Fory \u6309\u5b57\u6bb5\u7684 snake_cased \u540d\u79f0\u5bf9\u5b57\u6bb5\u8fdb\u884c\u6392\u5e8f\u3002\u786e\u4fdd\u5b57\u6bb5\u540d\u79f0\u4e00\u81f4\uff1a"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-java",children:"// Java - \u5b57\u6bb5\u5c06\u6309\u4ee5\u4e0b\u987a\u5e8f\u6392\u5e8f\uff1aage\u3001email\u3001name\npublic class Person {\n    public String name;\n    public int age;\n    public String email;\n}\n"})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-python",children:"# Python - \u76f8\u540c\u7684\u5b57\u6bb5\u987a\u5e8f\n@dataclass\nclass Person:\n    name: str\n    age: pyfory.Int32Type\n    email: str\n"})}),"\n",(0,i.jsx)(e.h2,{id:"\u5f15\u7528\u8ddf\u8e2a\u95ee\u9898",children:"\u5f15\u7528\u8ddf\u8e2a\u95ee\u9898"}),"\n",(0,i.jsx)(e.h3,{id:"\u5faa\u73af\u5f15\u7528\u5bfc\u81f4\u6808\u6ea2\u51fa",children:"\u5faa\u73af\u5f15\u7528\u5bfc\u81f4\u6808\u6ea2\u51fa"}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"\u75c7\u72b6\uff1a"})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{children:"StackOverflowError \u6216 RecursionError\n"})}),"\n",(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.strong,{children:"\u539f\u56e0\uff1a"})," \u5f15\u7528\u8ddf\u8e2a\u88ab\u7981\u7528\uff0c\u4f46\u6570\u636e\u5177\u6709\u5faa\u73af\u5f15\u7528\u3002"]}),"\n",(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.strong,{children:"\u89e3\u51b3\u65b9\u6848\uff1a"})," \u542f\u7528\u5f15\u7528\u8ddf\u8e2a\uff1a"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-java",children:"// Java\nFory fory = Fory.builder()\n    .withLanguage(Language.XLANG)\n    .withRefTracking(true)\n    .build();\n"})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-python",children:"# Python\nfory = pyfory.Fory(ref_tracking=True)\n"})}),"\n",(0,i.jsx)(e.h3,{id:"\u91cd\u590d\u5bf9\u8c61",children:"\u91cd\u590d\u5bf9\u8c61"}),"\n",(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.strong,{children:"\u75c7\u72b6\uff1a"})," \u5171\u4eab\u5bf9\u8c61\u5728\u53cd\u5e8f\u5217\u5316\u540e\u88ab\u91cd\u590d\u3002"]}),"\n",(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.strong,{children:"\u539f\u56e0\uff1a"})," \u5f15\u7528\u8ddf\u8e2a\u88ab\u7981\u7528\u3002"]}),"\n",(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.strong,{children:"\u89e3\u51b3\u65b9\u6848\uff1a"})," \u5982\u679c\u5bf9\u8c61\u5728\u56fe\u4e2d\u5171\u4eab\uff0c\u8bf7\u542f\u7528\u5f15\u7528\u8ddf\u8e2a\u3002"]}),"\n",(0,i.jsx)(e.h2,{id:"\u8bed\u8a00\u6a21\u5f0f\u95ee\u9898",children:"\u8bed\u8a00\u6a21\u5f0f\u95ee\u9898"}),"\n",(0,i.jsx)(e.h3,{id:"\u65e0\u6548\u7684\u9b54\u672f\u6570\u5b57\u9519\u8bef",children:'"\u65e0\u6548\u7684\u9b54\u672f\u6570\u5b57"\u9519\u8bef'}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"\u75c7\u72b6\uff1a"})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{children:"Error: Invalid magic number in header\n"})}),"\n",(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.strong,{children:"\u539f\u56e0\uff1a"})," \u4e00\u65b9\u4f7f\u7528 Java \u539f\u751f\u6a21\u5f0f\u800c\u4e0d\u662f xlang \u6a21\u5f0f\u3002"]}),"\n",(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.strong,{children:"\u89e3\u51b3\u65b9\u6848\uff1a"})," \u786e\u4fdd\u53cc\u65b9\u90fd\u4f7f\u7528 xlang \u6a21\u5f0f\uff1a"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-java",children:"// Java - \u5fc5\u987b\u4f7f\u7528 Language.XLANG\nFory fory = Fory.builder()\n    .withLanguage(Language.XLANG)\n    .build();\n"})}),"\n",(0,i.jsx)(e.h3,{id:"xlang-\u6a21\u5f0f\u4e2d\u7684\u4e0d\u517c\u5bb9\u7c7b\u578b",children:"Xlang \u6a21\u5f0f\u4e2d\u7684\u4e0d\u517c\u5bb9\u7c7b\u578b"}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"\u75c7\u72b6\uff1a"})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{children:"Error: Type 'Optional' is not supported in xlang mode\n"})}),"\n",(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.strong,{children:"\u539f\u56e0\uff1a"})," \u4f7f\u7528\u4e86\u6ca1\u6709\u8de8\u8bed\u8a00\u7b49\u6548\u9879\u7684 Java \u7279\u5b9a\u7c7b\u578b\u3002"]}),"\n",(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.strong,{children:"\u89e3\u51b3\u65b9\u6848\uff1a"})," \u4f7f\u7528\u517c\u5bb9\u7684\u7c7b\u578b\uff1a"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-java",children:"// \u800c\u4e0d\u662f Optional<String>\npublic String email;  // nullable\n\n// \u800c\u4e0d\u662f BigDecimal\npublic double amount;\n\n// \u800c\u4e0d\u662f EnumSet<Status>\npublic Set<Status> statuses;\n"})}),"\n",(0,i.jsx)(e.h2,{id:"\u7248\u672c\u517c\u5bb9\u6027",children:"\u7248\u672c\u517c\u5bb9\u6027"}),"\n",(0,i.jsx)(e.h3,{id:"\u5e8f\u5217\u5316\u683c\u5f0f\u5df2\u66f4\u6539",children:"\u5e8f\u5217\u5316\u683c\u5f0f\u5df2\u66f4\u6539"}),"\n",(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.strong,{children:"\u75c7\u72b6\uff1a"})," \u5347\u7ea7 Fory \u540e\u53cd\u5e8f\u5217\u5316\u5931\u8d25\u3002"]}),"\n",(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.strong,{children:"\u539f\u56e0\uff1a"})," \u5e8f\u5217\u5316\u683c\u5f0f\u4e2d\u7684\u7834\u574f\u6027\u66f4\u6539\u3002"]}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"\u89e3\u51b3\u65b9\u6848\uff1a"})}),"\n",(0,i.jsxs)(e.ol,{children:["\n",(0,i.jsx)(e.li,{children:"\u786e\u4fdd\u6240\u6709\u670d\u52a1\u4f7f\u7528\u517c\u5bb9\u7684 Fory \u7248\u672c"}),"\n",(0,i.jsx)(e.li,{children:"\u68c0\u67e5\u53d1\u5e03\u8bf4\u660e\u4e2d\u7684\u7834\u574f\u6027\u66f4\u6539"}),"\n",(0,i.jsx)(e.li,{children:"\u8003\u8651\u4f7f\u7528 schema \u6f14\u5316\uff08compatible \u6a21\u5f0f\uff09\u8fdb\u884c\u6e10\u8fdb\u5f0f\u5347\u7ea7"}),"\n"]}),"\n",(0,i.jsx)(e.h2,{id:"\u8c03\u8bd5\u6280\u5de7",children:"\u8c03\u8bd5\u6280\u5de7"}),"\n",(0,i.jsx)(e.h3,{id:"\u542f\u7528\u8c03\u8bd5\u65e5\u5fd7",children:"\u542f\u7528\u8c03\u8bd5\u65e5\u5fd7"}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Java\uff1a"})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-java",children:"// \u6dfb\u52a0\u5230 JVM \u9009\u9879\n-Dfory.debug=true\n"})}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Python\uff1a"})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-python",children:"import logging\nlogging.getLogger('pyfory').setLevel(logging.DEBUG)\n"})}),"\n",(0,i.jsx)(e.h3,{id:"\u68c0\u67e5\u5e8f\u5217\u5316\u6570\u636e",children:"\u68c0\u67e5\u5e8f\u5217\u5316\u6570\u636e"}),"\n",(0,i.jsx)(e.p,{children:"\u4f7f\u7528\u5341\u516d\u8fdb\u5236\u8f6c\u50a8\u68c0\u67e5\u4e8c\u8fdb\u5236\u683c\u5f0f\uff1a"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-python",children:"data = fory.serialize(obj)\nprint(data.hex())\n"})}),"\n",(0,i.jsx)(e.h3,{id:"\u6d4b\u8bd5\u5f80\u8fd4",children:"\u6d4b\u8bd5\u5f80\u8fd4"}),"\n",(0,i.jsx)(e.p,{children:"\u59cb\u7ec8\u5728\u6bcf\u79cd\u8bed\u8a00\u4e2d\u6d4b\u8bd5\u5f80\u8fd4\u5e8f\u5217\u5316\uff1a"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-java",children:"byte[] bytes = fory.serialize(obj);\nObject result = fory.deserialize(bytes);\nassert obj.equals(result);\n"})}),"\n",(0,i.jsx)(e.h3,{id:"\u8de8\u8bed\u8a00\u6d4b\u8bd5",children:"\u8de8\u8bed\u8a00\u6d4b\u8bd5"}),"\n",(0,i.jsx)(e.p,{children:"\u5728\u90e8\u7f72\u4e4b\u524d\u6d4b\u8bd5\u6240\u6709\u76ee\u6807\u8bed\u8a00\u7684\u5e8f\u5217\u5316\uff1a"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-bash",children:"# \u5728 Java \u4e2d\u5e8f\u5217\u5316\njava -jar serializer.jar > data.bin\n\n# \u5728 Python \u4e2d\u53cd\u5e8f\u5217\u5316\npython deserializer.py data.bin\n"})}),"\n",(0,i.jsx)(e.h2,{id:"\u5e38\u89c1\u9519\u8bef",children:"\u5e38\u89c1\u9519\u8bef"}),"\n",(0,i.jsxs)(e.ol,{children:["\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"\u672a\u6ce8\u518c\u7c7b\u578b"}),"\uff1a\u59cb\u7ec8\u5728\u4f7f\u7528\u524d\u6ce8\u518c\u81ea\u5b9a\u4e49\u7c7b\u578b"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"\u7c7b\u578b\u540d\u79f0/ID \u4e0d\u4e00\u81f4"}),"\uff1a\u5728\u6240\u6709\u8bed\u8a00\u4e2d\u4f7f\u7528\u76f8\u540c\u7684\u540d\u79f0/ID"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"\u5fd8\u8bb0 xlang \u6a21\u5f0f"}),"\uff1a\u5728 Java \u4e2d\u4f7f\u7528 ",(0,i.jsx)(e.code,{children:"Language.XLANG"})]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"\u9519\u8bef\u7684\u7c7b\u578b\u6ce8\u89e3"}),"\uff1a\u5728 Python \u4e2d\u4f7f\u7528 ",(0,i.jsx)(e.code,{children:"pyfory.Int32Type"})," \u7b49"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"\u5ffd\u7565\u5f15\u7528\u8ddf\u8e2a"}),"\uff1a\u4e3a\u5faa\u73af/\u5171\u4eab\u5f15\u7528\u542f\u7528"]}),"\n"]}),"\n",(0,i.jsx)(e.h2,{id:"\u53e6\u8bf7\u53c2\u9605",children:"\u53e6\u8bf7\u53c2\u9605"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.a,{href:"https://fory.apache.org/docs/specification/xlang_type_mapping",children:"\u7c7b\u578b\u6620\u5c04"})," - \u8de8\u8bed\u8a00\u7c7b\u578b\u6620\u5c04\u53c2\u8003"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.a,{href:"/zh-CN/docs/guide/xlang/xlang_getting_started",children:"\u5165\u95e8\u6307\u5357"})," - \u8bbe\u7f6e\u6307\u5357"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.a,{href:"/zh-CN/docs/guide/java/troubleshooting",children:"Java \u6545\u969c\u6392\u67e5"})," - Java \u7279\u5b9a\u95ee\u9898"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.a,{href:"/zh-CN/docs/guide/python/troubleshooting",children:"Python \u6545\u969c\u6392\u67e5"})," - Python \u7279\u5b9a\u95ee\u9898"]}),"\n"]})]})}function h(n={}){const{wrapper:e}={...(0,r.a)(),...n.components};return e?(0,i.jsx)(e,{...n,children:(0,i.jsx)(t,{...n})}):t(n)}},11151:(n,e,s)=>{s.d(e,{Z:()=>c,a:()=>d});var i=s(67294);const r={},l=i.createContext(r);function d(n){const e=i.useContext(l);return i.useMemo((function(){return"function"==typeof n?n(e):{...e,...n}}),[e,n])}function c(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(r):n.components||r:d(n.components),i.createElement(l.Provider,{value:e},n.children)}}}]);