"use strict";(self.webpackChunkfory_site=self.webpackChunkfory_site||[]).push([[6639],{9828:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>o,contentTitle:()=>a,default:()=>h,frontMatter:()=>t,metadata:()=>l,toc:()=>c});var i=s(85893),r=s(11151);const t={title:"\u8de8\u8bed\u8a00\u5e8f\u5217\u5316",sidebar_position:80,id:"cross_language",license:'Licensed to the Apache Software Foundation (ASF) under one or more\ncontributor license agreements.  See the NOTICE file distributed with\nthis work for additional information regarding copyright ownership.\nThe ASF licenses this file to You under the Apache License, Version 2.0\n(the "License"); you may not use this file except in compliance with\nthe License.  You may obtain a copy of the License at\n\n   http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an "AS IS" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n'},a=void 0,l={id:"guide/go/cross_language",title:"\u8de8\u8bed\u8a00\u5e8f\u5217\u5316",description:"Fory Go \u652f\u6301\u4e0e Java\u3001Python\u3001C++\u3001Rust\u3001JavaScript \u65e0\u7f1d\u4ea4\u6362\u6570\u636e\u3002\u672c\u6307\u5357\u4ecb\u7ecd\u8de8\u8bed\u8a00\u517c\u5bb9\u4e0e\u7c7b\u578b\u6620\u5c04\u8981\u70b9\u3002",source:"@site/i18n/zh-CN/docusaurus-plugin-content-docs/version-0.15/guide/go/cross-language.md",sourceDirName:"guide/go",slug:"/guide/go/cross_language",permalink:"/zh-CN/docs/guide/go/cross_language",draft:!1,unlisted:!1,editUrl:"https://github.com/apache/fory-site/tree/main/i18n/zh-CN/docusaurus-plugin-content-docs/version-0.15/guide/go/cross-language.md",tags:[],version:"0.15",sidebarPosition:80,frontMatter:{title:"\u8de8\u8bed\u8a00\u5e8f\u5217\u5316",sidebar_position:80,id:"cross_language",license:'Licensed to the Apache Software Foundation (ASF) under one or more\ncontributor license agreements.  See the NOTICE file distributed with\nthis work for additional information regarding copyright ownership.\nThe ASF licenses this file to You under the Apache License, Version 2.0\n(the "License"); you may not use this file except in compliance with\nthe License.  You may obtain a copy of the License at\n\n   http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an "AS IS" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n'},sidebar:"docsSidebar",previous:{title:"Schema \u6f14\u8fdb",permalink:"/zh-CN/docs/guide/go/schema_evolution"},next:{title:"\u4ee3\u7801\u751f\u6210",permalink:"/zh-CN/docs/guide/go/codegen"}},o={},c=[{value:"\u542f\u7528\u8de8\u8bed\u8a00\u6a21\u5f0f",id:"\u542f\u7528\u8de8\u8bed\u8a00\u6a21\u5f0f",level:2},{value:"\u8de8\u8bed\u8a00\u7c7b\u578b\u6ce8\u518c",id:"\u8de8\u8bed\u8a00\u7c7b\u578b\u6ce8\u518c",level:2},{value:"Go",id:"go",level:3},{value:"Java",id:"java",level:3},{value:"Python",id:"python",level:3},{value:"\u7c7b\u578b\u6620\u5c04",id:"\u7c7b\u578b\u6620\u5c04",level:2},{value:"\u5b57\u6bb5\u987a\u5e8f",id:"\u5b57\u6bb5\u987a\u5e8f",level:2},{value:"\u793a\u4f8b",id:"\u793a\u4f8b",level:2},{value:"Go \u5230 Java",id:"go-\u5230-java",level:3},{value:"Python \u5230 Go",id:"python-\u5230-go",level:3},{value:"\u5d4c\u5957\u7ed3\u6784",id:"\u5d4c\u5957\u7ed3\u6784",level:3},{value:"\u5e38\u89c1\u95ee\u9898",id:"\u5e38\u89c1\u95ee\u9898",level:2},{value:"\u5b57\u6bb5\u540d\u4e0d\u5339\u914d",id:"\u5b57\u6bb5\u540d\u4e0d\u5339\u914d",level:3},{value:"\u7c7b\u578b\u8bed\u4e49\u5dee\u5f02",id:"\u7c7b\u578b\u8bed\u4e49\u5dee\u5f02",level:3},{value:"Nil \u4e0e Null",id:"nil-\u4e0e-null",level:3},{value:"\u6700\u4f73\u5b9e\u8df5",id:"\u6700\u4f73\u5b9e\u8df5",level:2},{value:"\u76f8\u5173\u4e3b\u9898",id:"\u76f8\u5173\u4e3b\u9898",level:2}];function d(e){const n={a:"a",code:"code",h2:"h2",h3:"h3",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.a)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.p,{children:"Fory Go \u652f\u6301\u4e0e Java\u3001Python\u3001C++\u3001Rust\u3001JavaScript \u65e0\u7f1d\u4ea4\u6362\u6570\u636e\u3002\u672c\u6307\u5357\u4ecb\u7ecd\u8de8\u8bed\u8a00\u517c\u5bb9\u4e0e\u7c7b\u578b\u6620\u5c04\u8981\u70b9\u3002"}),"\n",(0,i.jsx)(n.h2,{id:"\u542f\u7528\u8de8\u8bed\u8a00\u6a21\u5f0f",children:"\u542f\u7528\u8de8\u8bed\u8a00\u6a21\u5f0f"}),"\n",(0,i.jsx)(n.p,{children:"\u9700\u8981\u663e\u5f0f\u5f00\u542f\u8de8\u8bed\u8a00\uff08xlang\uff09\u6a21\u5f0f\uff1a"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-go",children:"f := fory.New(fory.WithXlang(true))\n"})}),"\n",(0,i.jsx)(n.h2,{id:"\u8de8\u8bed\u8a00\u7c7b\u578b\u6ce8\u518c",children:"\u8de8\u8bed\u8a00\u7c7b\u578b\u6ce8\u518c"}),"\n",(0,i.jsx)(n.p,{children:"\u5728\u6240\u6709\u8bed\u8a00\u4e2d\u4f7f\u7528\u4e00\u81f4\u7684\u7c7b\u578b ID\uff1a"}),"\n",(0,i.jsx)(n.h3,{id:"go",children:"Go"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-go",children:'type User struct {\n    ID   int64\n    Name string\n}\n\nf := fory.New(fory.WithXlang(true))\nf.RegisterStruct(User{}, 1)\ndata, _ := f.Serialize(&User{ID: 1, Name: "Alice"})\n'})}),"\n",(0,i.jsx)(n.h3,{id:"java",children:"Java"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-java",children:"public class User {\n    public long id;\n    public String name;\n}\nFory fory = Fory.builder().withXlang(true).build();\nfory.register(User.class, 1);\nUser user = fory.deserialize(data, User.class);\n"})}),"\n",(0,i.jsx)(n.h3,{id:"python",children:"Python"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"from dataclasses import dataclass\nimport pyfory\n\n@dataclass\nclass User:\n    id: pyfory.Int64Type\n    name: str\n\nfory = pyfory.Fory()\nfory.register(User, type_id=1)\nuser = fory.deserialize(data)\n"})}),"\n",(0,i.jsx)(n.h2,{id:"\u7c7b\u578b\u6620\u5c04",children:"\u7c7b\u578b\u6620\u5c04"}),"\n",(0,i.jsxs)(n.p,{children:["\u4e0d\u540c\u8bed\u8a00\u95f4\u5b8c\u6574\u7c7b\u578b\u6620\u5c04\u8bf7\u53c2\u8003 ",(0,i.jsx)(n.a,{href:"https://fory.apache.org/docs/specification/xlang_type_mapping",children:"\u7c7b\u578b\u6620\u5c04\u89c4\u8303"}),"\u3002"]}),"\n",(0,i.jsx)(n.h2,{id:"\u5b57\u6bb5\u987a\u5e8f",children:"\u5b57\u6bb5\u987a\u5e8f"}),"\n",(0,i.jsx)(n.p,{children:"\u8de8\u8bed\u8a00\u5e8f\u5217\u5316\u8981\u6c42\u5b57\u6bb5\u987a\u5e8f\u4e00\u81f4\u3002Fory \u4f1a\u5c06\u5b57\u6bb5\u540d\u8f6c\u4e3a snake_case \u540e\u6309\u5b57\u6bcd\u5e8f\u6392\u5e8f\u3002"}),"\n",(0,i.jsx)(n.p,{children:"Go \u5b57\u6bb5\u540d\u4f1a\u5148\u8f6c snake_case\uff1a"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-go",children:"type Example struct {\n    UserID    int64   // -> user_id\n    FirstName string  // -> first_name\n    Age       int32   // -> age\n}\n\n// Sorted order: age, first_name, user_id\n"})}),"\n",(0,i.jsx)(n.p,{children:"\u8bf7\u786e\u4fdd\u5176\u4ed6\u8bed\u8a00\u4f7f\u7528\u80fd\u4ea7\u751f\u76f8\u540c snake_case \u987a\u5e8f\u7684\u5b57\u6bb5\u540d\uff1b\u6216\u901a\u8fc7\u5b57\u6bb5 ID \u663e\u5f0f\u63a7\u5236\uff1a"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-go",children:'type Example struct {\n    UserID    int64  `fory:"id=0"`\n    FirstName string `fory:"id=1"`\n    Age       int32  `fory:"id=2"`\n}\n'})}),"\n",(0,i.jsx)(n.h2,{id:"\u793a\u4f8b",children:"\u793a\u4f8b"}),"\n",(0,i.jsx)(n.h3,{id:"go-\u5230-java",children:"Go \u5230 Java"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Go\uff08\u5e8f\u5217\u5316\u7aef\uff09"}),"\uff1a"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-go",children:'type Order struct {\n    ID       int64\n    Customer string\n    Total    float64\n    Items    []string\n}\n\nf := fory.New(fory.WithXlang(true))\nf.RegisterStruct(Order{}, 1)\n\norder := &Order{\n    ID:       12345,\n    Customer: "Alice",\n    Total:    99.99,\n    Items:    []string{"Widget", "Gadget"},\n}\ndata, _ := f.Serialize(order)\n// Send \'data\' to Java service\n'})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Java\uff08\u53cd\u5e8f\u5217\u5316\u7aef\uff09"}),"\uff1a"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-java",children:"public class Order {\n    public long id;\n    public String customer;\n    public double total;\n    public List<String> items;\n}\n\nFory fory = Fory.builder().withXlang(true).build();\nfory.register(Order.class, 1);\n\nOrder order = fory.deserialize(data, Order.class);\n"})}),"\n",(0,i.jsx)(n.h3,{id:"python-\u5230-go",children:"Python \u5230 Go"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Python\uff08\u5e8f\u5217\u5316\u7aef\uff09"}),"\uff1a"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:'from dataclasses import dataclass\nimport pyfory\n\n@dataclass\nclass Message:\n    id: pyfory.Int64Type\n    content: str\n    timestamp: pyfory.Int64Type\n\nfory = pyfory.Fory()\nfory.register(Message, type_id=1)\n\nmsg = Message(id=1, content="Hello from Python", timestamp=1234567890)\ndata = fory.serialize(msg)\n'})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Go\uff08\u53cd\u5e8f\u5217\u5316\u7aef\uff09"}),"\uff1a"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-go",children:'type Message struct {\n    ID        int64\n    Content   string\n    Timestamp int64\n}\n\nf := fory.New(fory.WithXlang(true))\nf.RegisterStruct(Message{}, 1)\n\nvar msg Message\nf.Deserialize(data, &msg)\nfmt.Println(msg.Content)  // "Hello from Python"\n'})}),"\n",(0,i.jsx)(n.h3,{id:"\u5d4c\u5957\u7ed3\u6784",children:"\u5d4c\u5957\u7ed3\u6784"}),"\n",(0,i.jsx)(n.p,{children:"\u8de8\u8bed\u8a00\u5d4c\u5957\u7ed3\u6784\u8981\u6c42\u76f8\u5173\u7c7b\u578b\u5168\u90e8\u6ce8\u518c\uff1a"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Go"}),"\uff1a"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-go",children:"type Address struct {\n    Street  string\n    City    string\n    Country string\n}\n\ntype Company struct {\n    Name    string\n    Address Address\n}\n\nf := fory.New(fory.WithXlang(true))\nf.RegisterStruct(Address{}, 1)\nf.RegisterStruct(Company{}, 2)\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Java"}),"\uff1a"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-java",children:"public class Address {\n    public String street;\n    public String city;\n    public String country;\n}\n\npublic class Company {\n    public String name;\n    public Address address;\n}\n\nfory.register(Address.class, 1);\nfory.register(Company.class, 2);\n"})}),"\n",(0,i.jsx)(n.h2,{id:"\u5e38\u89c1\u95ee\u9898",children:"\u5e38\u89c1\u95ee\u9898"}),"\n",(0,i.jsx)(n.h3,{id:"\u5b57\u6bb5\u540d\u4e0d\u5339\u914d",children:"\u5b57\u6bb5\u540d\u4e0d\u5339\u914d"}),"\n",(0,i.jsx)(n.p,{children:"Go \u5e38\u7528 PascalCase\uff0c\u5176\u4ed6\u8bed\u8a00\u53ef\u80fd\u662f camelCase \u6216 snake_case\u3002Fory \u6309 snake_case \u8f6c\u6362\u7ed3\u679c\u505a\u5b57\u6bb5\u5339\u914d\uff1a"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-go",children:"// Go\ntype User struct {\n    FirstName string  // -> first_name\n}\n\n// Java - field name converted to snake_case must match\npublic class User {\n    public String firstName;  // -> first_name (matches)\n}\n"})}),"\n",(0,i.jsx)(n.h3,{id:"\u7c7b\u578b\u8bed\u4e49\u5dee\u5f02",children:"\u7c7b\u578b\u8bed\u4e49\u5dee\u5f02"}),"\n",(0,i.jsx)(n.p,{children:"Go \u7684\u65e0\u7b26\u53f7\u7c7b\u578b\u5728 Java \u4e2d\u4f1a\u6620\u5c04\u5230\u76f8\u540c\u6bd4\u7279\u4f4d\u7684\u6709\u7b26\u53f7\u7c7b\u578b\uff1a"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-go",children:"var value uint64 = 18446744073709551615  // Max uint64\n"})}),"\n",(0,i.jsxs)(n.p,{children:["Java ",(0,i.jsx)(n.code,{children:"long"})," \u6301\u6709\u76f8\u540c\u6bd4\u7279\u4f4d\uff0c\u4f46\u6309\u6709\u7b26\u53f7\u89e3\u91ca\u4e3a ",(0,i.jsx)(n.code,{children:"-1"}),"\u3002\u82e5\u9700\u65e0\u7b26\u53f7\u8bed\u4e49\uff0c\u53ef\u5728 Java \u4e2d\u4f7f\u7528 ",(0,i.jsx)(n.code,{children:"Long.toUnsignedString()"}),"\u3002"]}),"\n",(0,i.jsx)(n.h3,{id:"nil-\u4e0e-null",children:"Nil \u4e0e Null"}),"\n",(0,i.jsx)(n.p,{children:"Go \u7684 nil slice/map \u5728\u4e0d\u540c\u914d\u7f6e\u4e0b\u5e8f\u5217\u5316\u65b9\u5f0f\u4e0d\u540c\uff1a"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-go",children:"var slice []string = nil\n// In xlang mode: serializes based on nullable configuration\n"})}),"\n",(0,i.jsx)(n.p,{children:"\u8bf7\u786e\u4fdd\u5176\u4ed6\u8bed\u8a00\u7aef\u80fd\u6b63\u786e\u5904\u7406 null\u3002"}),"\n",(0,i.jsx)(n.h2,{id:"\u6700\u4f73\u5b9e\u8df5",children:"\u6700\u4f73\u5b9e\u8df5"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"\u7edf\u4e00 type ID"}),"\uff1a\u540c\u4e00\u7c7b\u578b\u5728\u6240\u6709\u8bed\u8a00\u4e2d\u4f7f\u7528\u76f8\u540c\u6570\u503c ID"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"\u5b8c\u6574\u6ce8\u518c\u7c7b\u578b"}),"\uff1a\u5305\u62ec\u5d4c\u5957\u7ed3\u6784\u4f53\u7c7b\u578b"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"\u7edf\u4e00\u5b57\u6bb5\u987a\u5e8f"}),"\uff1a\u4f7f\u7528\u4e00\u81f4 snake_case\uff0c\u6216\u4f7f\u7528\u663e\u5f0f\u5b57\u6bb5 ID"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"\u5c3d\u65e9\u505a\u8de8\u8bed\u8a00\u96c6\u6210\u6d4b\u8bd5"}),"\uff1a\u6301\u7eed\u9a8c\u8bc1\u517c\u5bb9\u6027"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"\u6ce8\u610f\u7c7b\u578b\u8bed\u4e49\u5dee\u5f02"}),"\uff1a\u7279\u522b\u662f\u6709\u7b26\u53f7/\u65e0\u7b26\u53f7\u89e3\u91ca\u5dee\u5f02"]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"\u76f8\u5173\u4e3b\u9898",children:"\u76f8\u5173\u4e3b\u9898"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"/zh-CN/docs/guide/go/type_registration",children:"\u7c7b\u578b\u6ce8\u518c"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"/zh-CN/docs/guide/go/supported_types",children:"\u652f\u6301\u7c7b\u578b"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"/zh-CN/docs/guide/go/schema_evolution",children:"Schema \u6f14\u8fdb"})}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,r.a)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},11151:(e,n,s)=>{s.d(n,{Z:()=>l,a:()=>a});var i=s(67294);const r={},t=i.createContext(r);function a(e){const n=i.useContext(t);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:a(e.components),i.createElement(t.Provider,{value:n},e.children)}}}]);