"use strict";(self.webpackChunkfory_site=self.webpackChunkfory_site||[]).push([[69163],{12909:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>a,contentTitle:()=>t,default:()=>h,frontMatter:()=>s,metadata:()=>l,toc:()=>d});var r=i(85893),o=i(11151);const s={title:"Kotlin \u5e8f\u5217\u5316\u6307\u5357",sidebar_position:0,id:"serialization_index",license:'Licensed to the Apache Software Foundation (ASF) under one or more\ncontributor license agreements.  See the NOTICE file distributed with\nthis work for additional information regarding copyright ownership.\nThe ASF licenses this file to You under the Apache License, Version 2.0\n(the "License"); you may not use this file except in compliance with\nthe License.  You may obtain a copy of the License at\n\n   http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an "AS IS" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n'},t=void 0,l={id:"guide/kotlin/serialization_index",title:"Kotlin \u5e8f\u5217\u5316\u6307\u5357",description:"Apache Fory\u2122 Kotlin \u57fa\u4e8e Fory Java \u6784\u5efa\uff0c\u4e3a Kotlin \u7c7b\u578b\u63d0\u4f9b\u4e86\u4f18\u5316\u7684\u5e8f\u5217\u5316\u5668\u3002\u5927\u591a\u6570\u6807\u51c6 Kotlin \u7c7b\u578b\u53ef\u4ee5\u76f4\u63a5\u4f7f\u7528\u9ed8\u8ba4\u7684 Fory Java \u5b9e\u73b0\uff0c\u800c Fory Kotlin \u5219\u4e3a Kotlin \u7279\u6709\u7684\u7c7b\u578b\u63d0\u4f9b\u4e86\u989d\u5916\u7684\u652f\u6301\u3002",source:"@site/i18n/zh-CN/docusaurus-plugin-content-docs/version-0.15/guide/kotlin/index.md",sourceDirName:"guide/kotlin",slug:"/guide/kotlin/",permalink:"/zh-CN/docs/guide/kotlin/",draft:!1,unlisted:!1,editUrl:"https://github.com/apache/fory-site/tree/main/i18n/zh-CN/docusaurus-plugin-content-docs/version-0.15/guide/kotlin/index.md",tags:[],version:"0.15",sidebarPosition:0,frontMatter:{title:"Kotlin \u5e8f\u5217\u5316\u6307\u5357",sidebar_position:0,id:"serialization_index",license:'Licensed to the Apache Software Foundation (ASF) under one or more\ncontributor license agreements.  See the NOTICE file distributed with\nthis work for additional information regarding copyright ownership.\nThe ASF licenses this file to You under the Apache License, Version 2.0\n(the "License"); you may not use this file except in compliance with\nthe License.  You may obtain a copy of the License at\n\n   http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an "AS IS" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n'},sidebar:"docsSidebar",previous:{title:"\u9ed8\u8ba4\u503c",permalink:"/zh-CN/docs/guide/scala/default_values"},next:{title:"Fory \u521b\u5efa",permalink:"/zh-CN/docs/guide/kotlin/fory_creation"}},a={},d=[{value:"\u7279\u6027",id:"\u7279\u6027",level:2},{value:"\u5b89\u88c5",id:"\u5b89\u88c5",level:2},{value:"Maven",id:"maven",level:3},{value:"Gradle",id:"gradle",level:3},{value:"\u5feb\u901f\u5f00\u59cb",id:"\u5feb\u901f\u5f00\u59cb",level:2},{value:"\u57fa\u4e8e Fory Java \u6784\u5efa",id:"\u57fa\u4e8e-fory-java-\u6784\u5efa",level:2},{value:"Kotlin \u7279\u5b9a\u6587\u6863",id:"kotlin-\u7279\u5b9a\u6587\u6863",level:2}];function c(e){const n={a:"a",code:"code",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,o.a)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.p,{children:"Apache Fory\u2122 Kotlin \u57fa\u4e8e Fory Java \u6784\u5efa\uff0c\u4e3a Kotlin \u7c7b\u578b\u63d0\u4f9b\u4e86\u4f18\u5316\u7684\u5e8f\u5217\u5316\u5668\u3002\u5927\u591a\u6570\u6807\u51c6 Kotlin \u7c7b\u578b\u53ef\u4ee5\u76f4\u63a5\u4f7f\u7528\u9ed8\u8ba4\u7684 Fory Java \u5b9e\u73b0\uff0c\u800c Fory Kotlin \u5219\u4e3a Kotlin \u7279\u6709\u7684\u7c7b\u578b\u63d0\u4f9b\u4e86\u989d\u5916\u7684\u652f\u6301\u3002"}),"\n",(0,r.jsx)(n.p,{children:"\u652f\u6301\u7684\u7c7b\u578b\u5305\u62ec\uff1a"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"data class"})," \u5e8f\u5217\u5316"]}),"\n",(0,r.jsxs)(n.li,{children:["\u65e0\u7b26\u53f7\u539f\u59cb\u7c7b\u578b\uff1a",(0,r.jsx)(n.code,{children:"UByte"}),"\u3001",(0,r.jsx)(n.code,{children:"UShort"}),"\u3001",(0,r.jsx)(n.code,{children:"UInt"}),"\u3001",(0,r.jsx)(n.code,{children:"ULong"})]}),"\n",(0,r.jsxs)(n.li,{children:["\u65e0\u7b26\u53f7\u6570\u7ec4\uff1a",(0,r.jsx)(n.code,{children:"UByteArray"}),"\u3001",(0,r.jsx)(n.code,{children:"UShortArray"}),"\u3001",(0,r.jsx)(n.code,{children:"UIntArray"}),"\u3001",(0,r.jsx)(n.code,{children:"ULongArray"})]}),"\n",(0,r.jsxs)(n.li,{children:["\u6807\u51c6\u5e93\u7c7b\u578b\uff1a",(0,r.jsx)(n.code,{children:"Pair"}),"\u3001",(0,r.jsx)(n.code,{children:"Triple"}),"\u3001",(0,r.jsx)(n.code,{children:"Result"})]}),"\n",(0,r.jsxs)(n.li,{children:["\u8303\u56f4\uff1a",(0,r.jsx)(n.code,{children:"IntRange"}),"\u3001",(0,r.jsx)(n.code,{children:"LongRange"}),"\u3001",(0,r.jsx)(n.code,{children:"CharRange"})," \u4ee5\u53ca\u7b49\u5dee\u6570\u5217"]}),"\n",(0,r.jsxs)(n.li,{children:["\u96c6\u5408\uff1a",(0,r.jsx)(n.code,{children:"ArrayDeque"}),"\u3001\u7a7a\u96c6\u5408\uff08",(0,r.jsx)(n.code,{children:"emptyList"}),"\u3001",(0,r.jsx)(n.code,{children:"emptyMap"}),"\u3001",(0,r.jsx)(n.code,{children:"emptySet"}),"\uff09"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"kotlin.time.Duration"}),"\u3001",(0,r.jsx)(n.code,{children:"kotlin.text.Regex"}),"\u3001",(0,r.jsx)(n.code,{children:"kotlin.uuid.Uuid"})]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"\u7279\u6027",children:"\u7279\u6027"}),"\n",(0,r.jsx)(n.p,{children:"Fory Kotlin \u7ee7\u627f\u4e86 Fory Java \u7684\u6240\u6709\u7279\u6027\uff0c\u5e76\u589e\u52a0\u4e86 Kotlin \u7279\u5b9a\u7684\u4f18\u5316\uff1a"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"\u9ad8\u6027\u80fd"}),"\uff1aJIT \u4ee3\u7801\u751f\u6210\u3001\u96f6\u62f7\u8d1d\uff0c\u6bd4\u4f20\u7edf\u5e8f\u5217\u5316\u5feb 20-170 \u500d"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Kotlin \u7c7b\u578b\u652f\u6301"}),"\uff1a\u4e3a\u6570\u636e\u7c7b\u3001\u65e0\u7b26\u53f7\u7c7b\u578b\u3001\u8303\u56f4\u548c\u6807\u51c6\u5e93\u7c7b\u578b\u63d0\u4f9b\u4f18\u5316\u7684\u5e8f\u5217\u5316\u5668"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"\u9ed8\u8ba4\u503c\u652f\u6301"}),"\uff1a\u5728 schema \u6f14\u5316\u671f\u95f4\u81ea\u52a8\u5904\u7406 Kotlin \u6570\u636e\u7c7b\u7684\u9ed8\u8ba4\u53c2\u6570"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Schema \u6f14\u5316"}),"\uff1a\u652f\u6301\u7c7b schema \u53d8\u66f4\u7684\u524d\u5411/\u540e\u5411\u517c\u5bb9\u6027"]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["\u5b8c\u6574\u7279\u6027\u5217\u8868\u8bf7\u53c2\u9605 ",(0,r.jsx)(n.a,{href:"/zh-CN/docs/guide/java/#features",children:"Java \u7279\u6027"}),"\u3002"]}),"\n",(0,r.jsx)(n.h2,{id:"\u5b89\u88c5",children:"\u5b89\u88c5"}),"\n",(0,r.jsx)(n.h3,{id:"maven",children:"Maven"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-xml",children:"<dependency>\n  <groupId>org.apache.fory</groupId>\n  <artifactId>fory-kotlin</artifactId>\n  <version>0.14.1</version>\n</dependency>\n"})}),"\n",(0,r.jsx)(n.h3,{id:"gradle",children:"Gradle"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-kotlin",children:'implementation("org.apache.fory:fory-kotlin:0.14.1")\n'})}),"\n",(0,r.jsx)(n.h2,{id:"\u5feb\u901f\u5f00\u59cb",children:"\u5feb\u901f\u5f00\u59cb"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-kotlin",children:'import org.apache.fory.Fory\nimport org.apache.fory.ThreadSafeFory\nimport org.apache.fory.serializer.kotlin.KotlinSerializers\n\ndata class Person(val name: String, val id: Long, val github: String)\ndata class Point(val x: Int, val y: Int, val z: Int)\n\nfun main() {\n    // \u521b\u5efa Fory \u5b9e\u4f8b\uff08\u5e94\u8be5\u91cd\u7528\uff09\n    val fory: ThreadSafeFory = Fory.builder()\n        .requireClassRegistration(true)\n        .buildThreadSafeFory()\n\n    // \u6ce8\u518c Kotlin \u5e8f\u5217\u5316\u5668\n    KotlinSerializers.registerSerializers(fory)\n\n    // \u6ce8\u518c\u4f60\u7684\u7c7b\n    fory.register(Person::class.java)\n    fory.register(Point::class.java)\n\n    val p = Person("Shawn Yang", 1, "https://github.com/chaokunyang")\n    println(fory.deserialize(fory.serialize(p)))\n    println(fory.deserialize(fory.serialize(Point(1, 2, 3))))\n}\n'})}),"\n",(0,r.jsx)(n.h2,{id:"\u57fa\u4e8e-fory-java-\u6784\u5efa",children:"\u57fa\u4e8e Fory Java \u6784\u5efa"}),"\n",(0,r.jsx)(n.p,{children:"Fory Kotlin \u57fa\u4e8e Fory Java \u6784\u5efa\u3002Fory Java \u7684\u5927\u591a\u6570\u914d\u7f6e\u9009\u9879\u3001\u7279\u6027\u548c\u6982\u5ff5\u76f4\u63a5\u9002\u7528\u4e8e Kotlin\u3002\u8bf7\u53c2\u9605 Java \u6587\u6863\u4e86\u89e3\uff1a"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"/zh-CN/docs/guide/java/configuration",children:"\u914d\u7f6e\u9009\u9879"})," - \u6240\u6709 ForyBuilder \u9009\u9879"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"/zh-CN/docs/guide/java/basic_serialization",children:"\u57fa\u7840\u5e8f\u5217\u5316"})," - \u5e8f\u5217\u5316\u6a21\u5f0f\u548c API"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"/zh-CN/docs/guide/java/type_registration",children:"\u7c7b\u578b\u6ce8\u518c"})," - \u7c7b\u6ce8\u518c\u548c\u5b89\u5168\u6027"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"/zh-CN/docs/guide/java/schema_evolution",children:"Schema \u6f14\u5316"})," - \u524d\u5411/\u540e\u5411\u517c\u5bb9\u6027"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"/zh-CN/docs/guide/java/custom_serializers",children:"\u81ea\u5b9a\u4e49\u5e8f\u5217\u5316\u5668"})," - \u5b9e\u73b0\u81ea\u5b9a\u4e49\u5e8f\u5217\u5316\u5668"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"/zh-CN/docs/guide/java/compression",children:"\u538b\u7f29"})," - Int\u3001long \u548c\u5b57\u7b26\u4e32\u538b\u7f29"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"/zh-CN/docs/guide/java/troubleshooting",children:"\u6545\u969c\u6392\u9664"})," - \u5e38\u89c1\u95ee\u9898\u548c\u89e3\u51b3\u65b9\u6848"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"kotlin-\u7279\u5b9a\u6587\u6863",children:"Kotlin \u7279\u5b9a\u6587\u6863"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"/zh-CN/docs/guide/kotlin/fory_creation",children:"Fory \u521b\u5efa"})," - Kotlin \u7279\u5b9a\u7684 Fory \u8bbe\u7f6e\u8981\u6c42"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"/zh-CN/docs/guide/kotlin/type_serialization",children:"\u7c7b\u578b\u5e8f\u5217\u5316"})," - \u5e8f\u5217\u5316 Kotlin \u7c7b\u578b"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"/zh-CN/docs/guide/kotlin/default_values",children:"\u9ed8\u8ba4\u503c"})," - Kotlin \u6570\u636e\u7c7b\u9ed8\u8ba4\u503c\u652f\u6301"]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,o.a)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(c,{...e})}):c(e)}},11151:(e,n,i)=>{i.d(n,{Z:()=>l,a:()=>t});var r=i(67294);const o={},s=r.createContext(o);function t(e){const n=r.useContext(s);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:t(e.components),r.createElement(s.Provider,{value:n},e.children)}}}]);