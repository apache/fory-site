"use strict";(self.webpackChunkfory_site=self.webpackChunkfory_site||[]).push([[25246],{21720:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>o,contentTitle:()=>l,default:()=>x,frontMatter:()=>i,metadata:()=>c,toc:()=>t});var d=r(85893),s=r(11151);const i={title:"Protobuf IDL \u652f\u6301",sidebar_position:10,id:"protobuf_idl_support",license:'Licensed to the Apache Software Foundation (ASF) under one or more\ncontributor license agreements.  See the NOTICE file distributed with\nthis work for additional information regarding copyright ownership.\nThe ASF licenses this file to You under the Apache License, Version 2.0\n(the "License"); you may not use this file except in compliance with\nthe License.  You may obtain a copy of the License at\n\n   http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an "AS IS" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n'},l=void 0,c={id:"compiler/protobuf_idl_support",title:"Protobuf IDL \u652f\u6301",description:"\u672c\u9875\u8bf4\u660e Apache Fory \u5982\u4f55\u5904\u7406 Protocol Buffers\uff08.proto\uff09schema\u3001protobuf \u6982\u5ff5\u5982\u4f55\u6620\u5c04\u5230 Fory\uff0c\u4ee5\u53ca protobuf \u4e13\u7528 Fory \u6269\u5c55\u9009\u9879\u7684\u4f7f\u7528\u65b9\u5f0f\u3002",source:"@site/i18n/zh-CN/docusaurus-plugin-content-docs/version-0.15/compiler/protobuf-idl.md",sourceDirName:"compiler",slug:"/compiler/protobuf_idl_support",permalink:"/zh-CN/docs/compiler/protobuf_idl_support",draft:!1,unlisted:!1,editUrl:"https://github.com/apache/fory-site/tree/main/i18n/zh-CN/docusaurus-plugin-content-docs/version-0.15/compiler/protobuf-idl.md",tags:[],version:"0.15",sidebarPosition:10,frontMatter:{title:"Protobuf IDL \u652f\u6301",sidebar_position:10,id:"protobuf_idl_support",license:'Licensed to the Apache Software Foundation (ASF) under one or more\ncontributor license agreements.  See the NOTICE file distributed with\nthis work for additional information regarding copyright ownership.\nThe ASF licenses this file to You under the Apache License, Version 2.0\n(the "License"); you may not use this file except in compliance with\nthe License.  You may obtain a copy of the License at\n\n   http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an "AS IS" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n'},sidebar:"docsSidebar",previous:{title:"FlatBuffers IDL \u652f\u6301",permalink:"/zh-CN/docs/compiler/flatbuffers_idl"},next:{title:"Java \u5e8f\u5217\u5316\u6307\u5357",permalink:"/zh-CN/docs/guide/java/"}},o={},t=[{value:"\u672c\u9875\u5185\u5bb9",id:"\u672c\u9875\u5185\u5bb9",level:2},{value:"\u5feb\u901f\u51b3\u7b56\u6307\u5357",id:"\u5feb\u901f\u51b3\u7b56\u6307\u5357",level:2},{value:"Protobuf \u4e0e Fory \u5bf9\u6bd4",id:"protobuf-\u4e0e-fory-\u5bf9\u6bd4",level:2},{value:"\u4e3a\u4ec0\u4e48\u4f7f\u7528 Apache Fory",id:"\u4e3a\u4ec0\u4e48\u4f7f\u7528-apache-fory",level:2},{value:"\u8bed\u6cd5\u4e0e\u8bed\u4e49\u6620\u5c04",id:"\u8bed\u6cd5\u4e0e\u8bed\u4e49\u6620\u5c04",level:2},{value:"Package \u4e0e\u6587\u4ef6\u7ea7\u9009\u9879",id:"package-\u4e0e\u6587\u4ef6\u7ea7\u9009\u9879",level:3},{value:"Message \u4e0e Enum \u5b9a\u4e49",id:"message-\u4e0e-enum-\u5b9a\u4e49",level:3},{value:"<code>oneof</code> \u5230 <code>union</code>",id:"oneof-\u5230-union",level:3},{value:"Import \u4e0e Well-Known Types",id:"import-\u4e0e-well-known-types",level:3},{value:"\u7c7b\u578b\u6620\u5c04\u8981\u70b9",id:"\u7c7b\u578b\u6620\u5c04\u8981\u70b9",level:2},{value:"Fory \u6269\u5c55\u9009\u9879\uff08Protobuf\uff09",id:"fory-\u6269\u5c55\u9009\u9879protobuf",level:2},{value:"\u6587\u4ef6\u7ea7\u9009\u9879",id:"\u6587\u4ef6\u7ea7\u9009\u9879",level:3},{value:"Message \u4e0e Enum \u7ea7\u9009\u9879",id:"message-\u4e0e-enum-\u7ea7\u9009\u9879",level:3},{value:"\u5b57\u6bb5\u7ea7\u9009\u9879",id:"\u5b57\u6bb5\u7ea7\u9009\u9879",level:3},{value:"\u5178\u578b\u9009\u9879\u7ec4\u5408\u793a\u4f8b",id:"\u5178\u578b\u9009\u9879\u7ec4\u5408\u793a\u4f8b",level:3},{value:"\u5f15\u7528\u8ddf\u8e2a vs Protobuf ID \u5173\u8054",id:"\u5f15\u7528\u8ddf\u8e2a-vs-protobuf-id-\u5173\u8054",level:2},{value:"\u8fc1\u79fb\u6307\u5357\uff1aProtobuf \u5230 Fory",id:"\u8fc1\u79fb\u6307\u5357protobuf-\u5230-fory",level:2},{value:"\u7b2c 1 \u6b65\uff1a\u8f6c\u6362 schema \u8bed\u6cd5",id:"\u7b2c-1-\u6b65\u8f6c\u6362-schema-\u8bed\u6cd5",level:3},{value:"\u7b2c 2 \u6b65\uff1a\u5904\u7406 <code>oneof</code> \u4e0e\u7279\u6b8a\u7c7b\u578b",id:"\u7b2c-2-\u6b65\u5904\u7406-oneof-\u4e0e\u7279\u6b8a\u7c7b\u578b",level:3},{value:"\u7b2c 3 \u6b65\uff1a\u7528 <code>ref</code> \u66ff\u6362 protobuf \u7684\u5bf9\u8c61\u56fe\u7ed5\u8fc7\u65b9\u6848",id:"\u7b2c-3-\u6b65\u7528-ref-\u66ff\u6362-protobuf-\u7684\u5bf9\u8c61\u56fe\u7ed5\u8fc7\u65b9\u6848",level:3},{value:"\u7b2c 4 \u6b65\uff1a\u66f4\u65b0\u6784\u5efa\u4e0e\u4ee3\u7801\u751f\u6210",id:"\u7b2c-4-\u6b65\u66f4\u65b0\u6784\u5efa\u4e0e\u4ee3\u7801\u751f\u6210",level:3},{value:"\u7b2c 5 \u6b65\uff1a\u6267\u884c\u517c\u5bb9\u6027\u9a8c\u8bc1",id:"\u7b2c-5-\u6b65\u6267\u884c\u517c\u5bb9\u6027\u9a8c\u8bc1",level:3},{value:"\u5171\u5b58\u7b56\u7565",id:"\u5171\u5b58\u7b56\u7565",level:2},{value:"\u6027\u80fd\u53c2\u8003",id:"\u6027\u80fd\u53c2\u8003",level:2},{value:"\u603b\u7ed3",id:"\u603b\u7ed3",level:2}];function h(e){const n={a:"a",code:"code",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,s.a)(),...e.components};return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)(n.p,{children:["\u672c\u9875\u8bf4\u660e Apache Fory \u5982\u4f55\u5904\u7406 Protocol Buffers\uff08",(0,d.jsx)(n.code,{children:".proto"}),"\uff09schema\u3001protobuf \u6982\u5ff5\u5982\u4f55\u6620\u5c04\u5230 Fory\uff0c\u4ee5\u53ca protobuf \u4e13\u7528 Fory \u6269\u5c55\u9009\u9879\u7684\u4f7f\u7528\u65b9\u5f0f\u3002"]}),"\n",(0,d.jsx)(n.h2,{id:"\u672c\u9875\u5185\u5bb9",children:"\u672c\u9875\u5185\u5bb9"}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsx)(n.li,{children:"\u5982\u4f55\u5728\u5177\u4f53\u573a\u666f\u4e0b\u9009\u62e9 protobuf \u6216 Fory"}),"\n",(0,d.jsx)(n.li,{children:"\u8fc1\u79fb\u65f6\u9700\u8981\u5173\u6ce8\u7684\u8bed\u6cd5\u4e0e\u8bed\u4e49\u5dee\u5f02"}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:".proto"})," \u6587\u4ef6\u4e2d\u652f\u6301\u7684 Fory \u6269\u5c55\u9009\u9879"]}),"\n",(0,d.jsx)(n.li,{children:"\u4ece protobuf \u8fc1\u79fb\u5230 Fory \u7684\u5b9e\u8df5\u8def\u5f84"}),"\n"]}),"\n",(0,d.jsx)(n.h2,{id:"\u5feb\u901f\u51b3\u7b56\u6307\u5357",children:"\u5feb\u901f\u51b3\u7b56\u6307\u5357"}),"\n",(0,d.jsxs)(n.table,{children:[(0,d.jsx)(n.thead,{children:(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.th,{children:"\u573a\u666f"}),(0,d.jsx)(n.th,{children:"\u5efa\u8bae\u683c\u5f0f"})]})}),(0,d.jsxs)(n.tbody,{children:[(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"\u4e3b\u8981\u6784\u5efa gRPC API\uff0c\u4f9d\u8d56 protobuf \u5de5\u5177\u94fe"}),(0,d.jsx)(n.td,{children:"Protocol Buffers"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"\u9700\u8981\u6781\u81f4\u5bf9\u8c61\u56fe\u6027\u80fd\u4e0e\u5f15\u7528\u8ddf\u8e2a"}),(0,d.jsx)(n.td,{children:"Fory"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"\u9700\u8981\u5728\u5e8f\u5217\u5316\u6570\u636e\u4e2d\u8868\u8fbe\u5faa\u73af/\u5171\u4eab\u5f15\u7528"}),(0,d.jsx)(n.td,{children:"Fory"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"\u9700\u8981\u5f3a unknown-field \u8bed\u4e49\u4fdd\u8bc1\u7ebf\u683c\u5f0f\u517c\u5bb9"}),(0,d.jsx)(n.td,{children:"Protocol Buffers"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"\u5e0c\u671b\u76f4\u63a5\u4f7f\u7528\u539f\u751f struct/class\uff0c\u800c\u975e protobuf \u5305\u88c5\u7c7b\u578b"}),(0,d.jsx)(n.td,{children:"Fory"})]})]})]}),"\n",(0,d.jsx)(n.h2,{id:"protobuf-\u4e0e-fory-\u5bf9\u6bd4",children:"Protobuf \u4e0e Fory \u5bf9\u6bd4"}),"\n",(0,d.jsxs)(n.table,{children:[(0,d.jsx)(n.thead,{children:(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.th,{children:"\u7ef4\u5ea6"}),(0,d.jsx)(n.th,{children:"Protocol Buffers"}),(0,d.jsx)(n.th,{children:"Fory"})]})}),(0,d.jsxs)(n.tbody,{children:[(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"\u4e3b\u8981\u76ee\u6807"}),(0,d.jsx)(n.td,{children:"RPC/\u6d88\u606f\u5951\u7ea6"}),(0,d.jsx)(n.td,{children:"\u9ad8\u6027\u80fd\u5bf9\u8c61\u5e8f\u5217\u5316"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"\u7f16\u7801\u6a21\u578b"}),(0,d.jsx)(n.td,{children:"Tag-Length-Value"}),(0,d.jsx)(n.td,{children:"Fory \u4e8c\u8fdb\u5236\u534f\u8bae"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"\u5f15\u7528\u8ddf\u8e2a"}),(0,d.jsx)(n.td,{children:"\u975e\u5185\u5efa"}),(0,d.jsxs)(n.td,{children:["\u4e00\u7b49\u652f\u6301\uff08",(0,d.jsx)(n.code,{children:"ref"}),"\uff09"]})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"\u5faa\u73af\u5f15\u7528"}),(0,d.jsx)(n.td,{children:"\u4e0d\u652f\u6301"}),(0,d.jsx)(n.td,{children:"\u652f\u6301"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"\u672a\u77e5\u5b57\u6bb5"}),(0,d.jsx)(n.td,{children:"\u4fdd\u7559"}),(0,d.jsx)(n.td,{children:"\u4e0d\u4fdd\u7559"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"\u751f\u6210\u7c7b\u578b"}),(0,d.jsx)(n.td,{children:"protobuf \u4e13\u7528\u6a21\u578b\u7c7b\u578b"}),(0,d.jsx)(n.td,{children:"\u8bed\u8a00\u539f\u751f\u6784\u9020"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"gRPC \u751f\u6001"}),(0,d.jsx)(n.td,{children:"\u539f\u751f\u6210\u719f"}),(0,d.jsx)(n.td,{children:"\u6301\u7eed\u5efa\u8bbe\u4e2d\uff08\u6d3b\u8dc3\u5f00\u53d1\uff09"})]})]})]}),"\n",(0,d.jsx)(n.p,{children:"Fory \u7684 gRPC \u652f\u6301\u4ecd\u5728\u6301\u7eed\u5f00\u53d1\u4e2d\u3002\u5f53\u524d\u751f\u4ea7\u7ea7 gRPC \u5de5\u4f5c\u6d41\u91cc\uff0cprotobuf \u4ecd\u662f\u66f4\u6210\u719f\u7684\u9ed8\u8ba4\u9009\u62e9\u3002"}),"\n",(0,d.jsx)(n.h2,{id:"\u4e3a\u4ec0\u4e48\u4f7f\u7528-apache-fory",children:"\u4e3a\u4ec0\u4e48\u4f7f\u7528 Apache Fory"}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"\u4ee3\u7801\u66f4\u8d34\u8fd1\u8bed\u8a00\u4e60\u60ef"}),"\uff1aFory IDL \u751f\u6210\u7684\u7c7b\u548c\u7ed3\u6784\u4f53\u53ef\u76f4\u63a5\u4f5c\u4e3a\u4e1a\u52a1\u9886\u57df\u5bf9\u8c61\u4f7f\u7528\u3002"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"\u5e8f\u5217\u5316\u6027\u80fd\u66f4\u9ad8"}),"\uff1a\u5728 Fory \u57fa\u51c6\u4e2d\uff0cFory \u5728\u5bf9\u8c61\u5e8f\u5217\u5316\u573a\u666f\u4e2d\u53ef\u663e\u8457\u5feb\u4e8e protobuf\u3002"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"\u5bf9\u8c61\u56fe\u8868\u8fbe\u66f4\u81ea\u7136"}),"\uff1a\u5171\u4eab\u5f15\u7528\u548c\u5faa\u73af\u5f15\u7528\u662f\u5185\u5efa\u80fd\u529b\uff0c\u65e0\u9700\u901a\u8fc7\u4e1a\u52a1\u5c42 ID \u5173\u8054\u7ed5\u8fc7\u3002"]}),"\n"]}),"\n",(0,d.jsxs)(n.p,{children:["\u6027\u80fd\u7ec6\u8282\u8bf7\u53c2\u89c1 ",(0,d.jsx)(n.a,{href:"#%E6%80%A7%E8%83%BD%E5%8F%82%E8%80%83",children:"\u6027\u80fd\u53c2\u8003"}),"\u3002"]}),"\n",(0,d.jsx)(n.h2,{id:"\u8bed\u6cd5\u4e0e\u8bed\u4e49\u6620\u5c04",children:"\u8bed\u6cd5\u4e0e\u8bed\u4e49\u6620\u5c04"}),"\n",(0,d.jsx)(n.h3,{id:"package-\u4e0e\u6587\u4ef6\u7ea7\u9009\u9879",children:"Package \u4e0e\u6587\u4ef6\u7ea7\u9009\u9879"}),"\n",(0,d.jsx)(n.p,{children:(0,d.jsx)(n.strong,{children:"Protocol Buffers"})}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-protobuf",children:'syntax = "proto3";\npackage example.models;\noption java_package = "com.example.models";\noption go_package = "example.com/models";\n'})}),"\n",(0,d.jsx)(n.p,{children:(0,d.jsx)(n.strong,{children:"Fory"})}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-protobuf",children:"package example.models;\n"})}),"\n",(0,d.jsx)(n.p,{children:"Fory \u4f7f\u7528\u7edf\u4e00 package \u547d\u540d\u7a7a\u95f4\u505a\u8de8\u8bed\u8a00\u6ce8\u518c\u3002\u8bed\u8a00\u7279\u5b9a\u7684\u5305\u8def\u5f84\u4ecd\u53ef\u5728\u4ee3\u7801\u751f\u6210\u9636\u6bb5\u5355\u72ec\u914d\u7f6e\u3002"}),"\n",(0,d.jsx)(n.h3,{id:"message-\u4e0e-enum-\u5b9a\u4e49",children:"Message \u4e0e Enum \u5b9a\u4e49"}),"\n",(0,d.jsx)(n.p,{children:(0,d.jsx)(n.strong,{children:"Protocol Buffers"})}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-protobuf",children:"message User {\n  string id = 1;\n  string name = 2;\n  optional string email = 3;\n  int32 age = 4;\n  repeated string tags = 5;\n  map<string, string> metadata = 6;\n}\n\nenum Status {\n  STATUS_UNSPECIFIED = 0;\n  STATUS_ACTIVE = 1;\n}\n"})}),"\n",(0,d.jsx)(n.p,{children:(0,d.jsx)(n.strong,{children:"Fory"})}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-protobuf",children:"message User [id=101] {\n    string id = 1;\n    string name = 2;\n    optional string email = 3;\n    int32 age = 4;\n    list<string> tags = 5;\n    map<string, string> metadata = 6;\n}\n\nenum Status [id=102] {\n    UNKNOWN = 0;\n    ACTIVE = 1;\n}\n"})}),"\n",(0,d.jsx)(n.p,{children:"\u5173\u952e\u5dee\u5f02\uff1a"}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:["Fory \u53ef\u76f4\u63a5\u5206\u914d\u7a33\u5b9a\u7c7b\u578b ID\uff08",(0,d.jsx)(n.code,{children:"[id=...]"}),"\uff09\u3002"]}),"\n",(0,d.jsxs)(n.li,{children:["Fory \u4f7f\u7528 ",(0,d.jsx)(n.code,{children:"list<T>"}),"\uff08",(0,d.jsx)(n.code,{children:"repeated T"})," \u4e3a\u517c\u5bb9\u522b\u540d\uff09\u3002"]}),"\n",(0,d.jsx)(n.li,{children:"\u679a\u4e3e\u547d\u540d\u66f4\u504f\u5411\u8bed\u8a00\u4e60\u60ef\uff0c\u800c\u975e protobuf \u524d\u7f00\u98ce\u683c\u3002"}),"\n"]}),"\n",(0,d.jsxs)(n.h3,{id:"oneof-\u5230-union",children:[(0,d.jsx)(n.code,{children:"oneof"})," \u5230 ",(0,d.jsx)(n.code,{children:"union"})]}),"\n",(0,d.jsxs)(n.p,{children:["protobuf \u7684 ",(0,d.jsx)(n.code,{children:"oneof"})," \u4f1a\u88ab\u7ffb\u8bd1\u4e3a\u5d4c\u5957 Fory ",(0,d.jsx)(n.code,{children:"union"}),"\uff0c\u5e76\u589e\u52a0\u4e00\u4e2a\u53ef\u9009\u5b57\u6bb5\u6307\u5411\u8be5 union\u3002"]}),"\n",(0,d.jsx)(n.p,{children:(0,d.jsx)(n.strong,{children:"Protocol Buffers"})}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-protobuf",children:"message Event {\n  oneof payload {\n    string text = 1;\n    int32 number = 2;\n  }\n}\n"})}),"\n",(0,d.jsx)(n.p,{children:(0,d.jsx)(n.strong,{children:"\u8f6c\u6362\u540e\u7684 Fory \u7ed3\u6784"})}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-protobuf",children:"message Event {\n    union payload {\n        string text = 1;\n        int32 number = 2;\n    }\n    optional payload payload = 1;\n}\n"})}),"\n",(0,d.jsx)(n.p,{children:"\u8bf4\u660e\uff1a"}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:["union case ID \u6765\u81ea\u539f ",(0,d.jsx)(n.code,{children:"oneof"})," \u5b57\u6bb5\u53f7\u3002"]}),"\n",(0,d.jsxs)(n.li,{children:["\u81ea\u52a8\u751f\u6210\u7684 union \u5f15\u7528\u5b57\u6bb5\u4f7f\u7528 ",(0,d.jsx)(n.code,{children:"oneof"})," \u4e2d\u6700\u5c0f\u5b57\u6bb5\u53f7\u3002"]}),"\n"]}),"\n",(0,d.jsx)(n.h3,{id:"import-\u4e0e-well-known-types",children:"Import \u4e0e Well-Known Types"}),"\n",(0,d.jsx)(n.p,{children:"\u652f\u6301 protobuf import\u3002\u5e38\u89c1 well-known types \u4f1a\u76f4\u63a5\u6620\u5c04\uff1a"}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"google.protobuf.Timestamp"})," -> ",(0,d.jsx)(n.code,{children:"timestamp"})]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"google.protobuf.Duration"})," -> ",(0,d.jsx)(n.code,{children:"duration"})]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"google.protobuf.Any"})," -> ",(0,d.jsx)(n.code,{children:"any"})]}),"\n"]}),"\n",(0,d.jsx)(n.h2,{id:"\u7c7b\u578b\u6620\u5c04\u8981\u70b9",children:"\u7c7b\u578b\u6620\u5c04\u8981\u70b9"}),"\n",(0,d.jsxs)(n.table,{children:[(0,d.jsx)(n.thead,{children:(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.th,{children:"Protobuf Type"}),(0,d.jsx)(n.th,{children:"Fory \u6620\u5c04"})]})}),(0,d.jsxs)(n.tbody,{children:[(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"bool"})}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"bool"})})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsxs)(n.td,{children:[(0,d.jsx)(n.code,{children:"int32"}),", ",(0,d.jsx)(n.code,{children:"uint32"})]}),(0,d.jsx)(n.td,{children:"\u53ef\u53d8\u957f 32 \u4f4d\u6574\u578b\u5bb6\u65cf"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"sint32"})}),(0,d.jsx)(n.td,{children:"zigzag 32 \u4f4d\u6574\u578b"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsxs)(n.td,{children:[(0,d.jsx)(n.code,{children:"int64"}),", ",(0,d.jsx)(n.code,{children:"uint64"})]}),(0,d.jsx)(n.td,{children:"\u53ef\u53d8\u957f 64 \u4f4d\u6574\u578b\u5bb6\u65cf"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"sint64"})}),(0,d.jsx)(n.td,{children:"zigzag 64 \u4f4d\u6574\u578b"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsxs)(n.td,{children:[(0,d.jsx)(n.code,{children:"fixed32"}),", ",(0,d.jsx)(n.code,{children:"fixed64"})]}),(0,d.jsx)(n.td,{children:"\u5b9a\u957f\u65e0\u7b26\u53f7\u6574\u578b\u5bb6\u65cf"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsxs)(n.td,{children:[(0,d.jsx)(n.code,{children:"sfixed32"}),", ",(0,d.jsx)(n.code,{children:"sfixed64"})]}),(0,d.jsx)(n.td,{children:"\u5b9a\u957f\u6709\u7b26\u53f7\u6574\u578b\u5bb6\u65cf"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsxs)(n.td,{children:[(0,d.jsx)(n.code,{children:"float"}),", ",(0,d.jsx)(n.code,{children:"double"})]}),(0,d.jsxs)(n.td,{children:[(0,d.jsx)(n.code,{children:"float32"}),", ",(0,d.jsx)(n.code,{children:"float64"})]})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsxs)(n.td,{children:[(0,d.jsx)(n.code,{children:"string"}),", ",(0,d.jsx)(n.code,{children:"bytes"})]}),(0,d.jsxs)(n.td,{children:[(0,d.jsx)(n.code,{children:"string"}),", ",(0,d.jsx)(n.code,{children:"bytes"})]})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"repeated T"})}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"list<T>"})})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"map<K, V>"})}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"map<K, V>"})})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"optional T"})}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"optional T"})})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"oneof"})}),(0,d.jsxs)(n.td,{children:[(0,d.jsx)(n.code,{children:"union"})," + \u53ef\u9009 union \u5f15\u7528\u5b57\u6bb5"]})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:'int64 [(fory).type = "tagged_int64"]'})}),(0,d.jsxs)(n.td,{children:[(0,d.jsx)(n.code,{children:"tagged_int64"})," \u7f16\u7801"]})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:'uint64 [(fory).type = "tagged_uint64"]'})}),(0,d.jsxs)(n.td,{children:[(0,d.jsx)(n.code,{children:"tagged_uint64"})," \u7f16\u7801"]})]})]})]}),"\n",(0,d.jsx)(n.h2,{id:"fory-\u6269\u5c55\u9009\u9879protobuf",children:"Fory \u6269\u5c55\u9009\u9879\uff08Protobuf\uff09"}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.code,{children:".proto"})," \u6587\u4ef6\u4e2d\u7684 Fory \u4e13\u7528\u9009\u9879\u4f7f\u7528 ",(0,d.jsx)(n.code,{children:"(fory)."})," \u524d\u7f00\u3002"]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-protobuf",children:"option (fory).enable_auto_type_id = true;\n\nmessage TreeNode {\n  TreeNode parent = 1 [(fory).weak_ref = true];\n  repeated TreeNode children = 2 [(fory).ref = true];\n}\n"})}),"\n",(0,d.jsx)(n.h3,{id:"\u6587\u4ef6\u7ea7\u9009\u9879",children:"\u6587\u4ef6\u7ea7\u9009\u9879"}),"\n",(0,d.jsxs)(n.table,{children:[(0,d.jsx)(n.thead,{children:(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.th,{children:"\u9009\u9879"}),(0,d.jsx)(n.th,{children:"\u7c7b\u578b"}),(0,d.jsx)(n.th,{children:"\u8bf4\u660e"})]})}),(0,d.jsxs)(n.tbody,{children:[(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"(fory).use_record_for_java_message"})}),(0,d.jsx)(n.td,{children:"bool"}),(0,d.jsx)(n.td,{children:"\u5bf9\u8be5\u6587\u4ef6\u6240\u6709 message \u751f\u6210 Java record"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"(fory).polymorphism"})}),(0,d.jsx)(n.td,{children:"bool"}),(0,d.jsx)(n.td,{children:"\u9ed8\u8ba4\u5f00\u542f\u591a\u6001\u5e8f\u5217\u5316\u5143\u4fe1\u606f"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"(fory).enable_auto_type_id"})}),(0,d.jsx)(n.td,{children:"bool"}),(0,d.jsx)(n.td,{children:"\u7f3a\u5931\u65f6\u81ea\u52a8\u751f\u6210\u7c7b\u578b ID\uff08\u7f16\u8bd1\u5668\u9ed8\u8ba4 true\uff09"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"(fory).evolving"})}),(0,d.jsx)(n.td,{children:"bool"}),(0,d.jsx)(n.td,{children:"message \u7684\u9ed8\u8ba4 schema \u6f14\u8fdb\u884c\u4e3a"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"(fory).go_nested_type_style"})}),(0,d.jsx)(n.td,{children:"string"}),(0,d.jsxs)(n.td,{children:["Go \u5d4c\u5957\u547d\u540d\u98ce\u683c\uff1a",(0,d.jsx)(n.code,{children:"underscore"}),"\uff08\u9ed8\u8ba4\uff09\u6216 ",(0,d.jsx)(n.code,{children:"camelcase"})]})]})]})]}),"\n",(0,d.jsx)(n.h3,{id:"message-\u4e0e-enum-\u7ea7\u9009\u9879",children:"Message \u4e0e Enum \u7ea7\u9009\u9879"}),"\n",(0,d.jsxs)(n.table,{children:[(0,d.jsx)(n.thead,{children:(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.th,{children:"\u9009\u9879"}),(0,d.jsx)(n.th,{children:"\u4f5c\u7528\u5bf9\u8c61"}),(0,d.jsx)(n.th,{children:"\u7c7b\u578b"}),(0,d.jsx)(n.th,{children:"\u8bf4\u660e"})]})}),(0,d.jsxs)(n.tbody,{children:[(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"(fory).id"})}),(0,d.jsx)(n.td,{children:"message, enum"}),(0,d.jsx)(n.td,{children:"int"}),(0,d.jsx)(n.td,{children:"\u663e\u5f0f\u7c7b\u578b ID\uff08\u7528\u4e8e\u6ce8\u518c\uff09"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"(fory).alias"})}),(0,d.jsx)(n.td,{children:"message, enum"}),(0,d.jsx)(n.td,{children:"string"}),(0,d.jsx)(n.td,{children:"\u81ea\u52a8 ID \u54c8\u5e0c\u4f7f\u7528\u7684\u522b\u540d"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"(fory).evolving"})}),(0,d.jsx)(n.td,{children:"message"}),(0,d.jsx)(n.td,{children:"bool"}),(0,d.jsx)(n.td,{children:"\u8986\u76d6\u6587\u4ef6\u7ea7\u6f14\u8fdb\u8bbe\u7f6e"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"(fory).use_record_for_java"})}),(0,d.jsx)(n.td,{children:"message"}),(0,d.jsx)(n.td,{children:"bool"}),(0,d.jsx)(n.td,{children:"\u4e3a\u8be5 message \u751f\u6210 Java record"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"(fory).deprecated"})}),(0,d.jsx)(n.td,{children:"message, enum"}),(0,d.jsx)(n.td,{children:"bool"}),(0,d.jsx)(n.td,{children:"\u6807\u8bb0\u7c7b\u578b\u4e3a\u5f03\u7528"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"(fory).namespace"})}),(0,d.jsx)(n.td,{children:"message"}),(0,d.jsx)(n.td,{children:"string"}),(0,d.jsx)(n.td,{children:"\u8986\u76d6\u9ed8\u8ba4 package \u547d\u540d\u7a7a\u95f4"})]})]})]}),"\n",(0,d.jsx)(n.h3,{id:"\u5b57\u6bb5\u7ea7\u9009\u9879",children:"\u5b57\u6bb5\u7ea7\u9009\u9879"}),"\n",(0,d.jsxs)(n.table,{children:[(0,d.jsx)(n.thead,{children:(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.th,{children:"\u9009\u9879"}),(0,d.jsx)(n.th,{children:"\u7c7b\u578b"}),(0,d.jsx)(n.th,{children:"\u8bf4\u660e"})]})}),(0,d.jsxs)(n.tbody,{children:[(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"(fory).ref"})}),(0,d.jsx)(n.td,{children:"bool"}),(0,d.jsx)(n.td,{children:"\u4e3a\u8be5\u5b57\u6bb5\u542f\u7528\u5f15\u7528\u8ddf\u8e2a"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"(fory).nullable"})}),(0,d.jsx)(n.td,{children:"bool"}),(0,d.jsxs)(n.td,{children:["\u5c06\u5b57\u6bb5\u89c6\u4e3a\u53ef\u7a7a\uff08",(0,d.jsx)(n.code,{children:"optional"}),"\uff09"]})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"(fory).weak_ref"})}),(0,d.jsx)(n.td,{children:"bool"}),(0,d.jsx)(n.td,{children:"\u751f\u6210\u5f31\u6307\u9488\u8bed\u4e49\uff08C++/Rust \u4ee3\u7801\u751f\u6210\uff09"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"(fory).thread_safe_pointer"})}),(0,d.jsx)(n.td,{children:"bool"}),(0,d.jsxs)(n.td,{children:["ref \u5b57\u6bb5\u5728 Rust \u4e2d\u7684\u6307\u9488\u7c7b\u578b\uff08",(0,d.jsx)(n.code,{children:"Arc"})," vs ",(0,d.jsx)(n.code,{children:"Rc"}),"\uff09"]})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"(fory).deprecated"})}),(0,d.jsx)(n.td,{children:"bool"}),(0,d.jsx)(n.td,{children:"\u6807\u8bb0\u5b57\u6bb5\u4e3a\u5f03\u7528"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"(fory).type"})}),(0,d.jsx)(n.td,{children:"string"}),(0,d.jsxs)(n.td,{children:["\u57fa\u7840\u7c7b\u578b\u8986\u76d6\uff0c\u76ee\u524d\u652f\u6301 ",(0,d.jsx)(n.code,{children:"tagged_int64"}),"/",(0,d.jsx)(n.code,{children:"tagged_uint64"})]})]})]})]}),"\n",(0,d.jsx)(n.p,{children:"\u5f15\u7528\u76f8\u5173\u884c\u4e3a\uff1a"}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"weak_ref = true"})," \u9690\u542b\u5f00\u542f ref \u8ddf\u8e2a\u3002"]}),"\n",(0,d.jsxs)(n.li,{children:["\u5bf9 ",(0,d.jsx)(n.code,{children:"repeated"})," \u5b57\u6bb5\uff0c",(0,d.jsx)(n.code,{children:"(fory).ref = true"})," \u4f5c\u7528\u4e8e\u5217\u8868\u5143\u7d20\u3002"]}),"\n",(0,d.jsxs)(n.li,{children:["\u5bf9 ",(0,d.jsx)(n.code,{children:"map<K, V>"})," \u5b57\u6bb5\uff0c",(0,d.jsx)(n.code,{children:"(fory).ref = true"})," \u4f5c\u7528\u4e8e map value\u3002"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"weak_ref"})," \u4e0e ",(0,d.jsx)(n.code,{children:"thread_safe_pointer"})," \u662f C++/Rust \u4ee3\u7801\u751f\u6210\u63d0\u793a\u3002"]}),"\n"]}),"\n",(0,d.jsx)(n.h3,{id:"\u5178\u578b\u9009\u9879\u7ec4\u5408\u793a\u4f8b",children:"\u5178\u578b\u9009\u9879\u7ec4\u5408\u793a\u4f8b"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-protobuf",children:"message Graph {\n  Node root = 1 [(fory).ref = true, (fory).thread_safe_pointer = false];\n  repeated Node nodes = 2 [(fory).ref = true];\n  map<string, Node> cache = 3 [(fory).ref = true];\n  Node parent = 4 [(fory).weak_ref = true];\n}\n"})}),"\n",(0,d.jsx)(n.h2,{id:"\u5f15\u7528\u8ddf\u8e2a-vs-protobuf-id-\u5173\u8054",children:"\u5f15\u7528\u8ddf\u8e2a vs Protobuf ID \u5173\u8054"}),"\n",(0,d.jsx)(n.p,{children:"protobuf \u672c\u8eab\u4e0d\u4fdd\u7559\u5171\u4eab/\u5faa\u73af\u5bf9\u8c61\u56fe\u3002\u501f\u52a9 Fory protobuf \u6269\u5c55\uff0c\u53ef\u4ee5\u663e\u5f0f\u542f\u7528\u5bf9\u8c61\u56fe\u8bed\u4e49\u3002"}),"\n",(0,d.jsx)(n.p,{children:(0,d.jsx)(n.strong,{children:"\u4e0d\u4f7f\u7528 Fory ref \u9009\u9879\uff08protobuf \u98ce\u683c ID \u5173\u8054\uff09\uff1a"})}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-protobuf",children:"message TreeNode {\n  string id = 1;\n  string parent_id = 2;\n  repeated string child_ids = 3;\n}\n"})}),"\n",(0,d.jsx)(n.p,{children:(0,d.jsx)(n.strong,{children:"\u4f7f\u7528 Fory ref \u9009\u9879\uff08\u5bf9\u8c61\u56fe\u8bed\u4e49\uff09\uff1a"})}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-protobuf",children:"message TreeNode {\n  TreeNode parent = 1 [(fory).weak_ref = true];\n  repeated TreeNode children = 2 [(fory).ref = true];\n}\n"})}),"\n",(0,d.jsx)(n.h2,{id:"\u8fc1\u79fb\u6307\u5357protobuf-\u5230-fory",children:"\u8fc1\u79fb\u6307\u5357\uff1aProtobuf \u5230 Fory"}),"\n",(0,d.jsx)(n.h3,{id:"\u7b2c-1-\u6b65\u8f6c\u6362-schema-\u8bed\u6cd5",children:"\u7b2c 1 \u6b65\uff1a\u8f6c\u6362 schema \u8bed\u6cd5"}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsx)(n.li,{children:"\u4fdd\u6301 package \u540d\u79f0\u7a33\u5b9a\u3002"}),"\n",(0,d.jsxs)(n.li,{children:["\u5c06 ",(0,d.jsx)(n.code,{children:"repeated T"})," \u6539\u4e3a ",(0,d.jsx)(n.code,{children:"list<T>"}),"\uff08\u6216\u4fdd\u7559 ",(0,d.jsx)(n.code,{children:"repeated"})," \u522b\u540d\uff09\u3002"]}),"\n",(0,d.jsxs)(n.li,{children:["\u5728\u9700\u8981\u7a33\u5b9a\u6570\u503c\u6ce8\u518c\u7684\u4f4d\u7f6e\u6dfb\u52a0\u663e\u5f0f ",(0,d.jsx)(n.code,{children:"[id=...]"}),"\u3002"]}),"\n"]}),"\n",(0,d.jsxs)(n.h3,{id:"\u7b2c-2-\u6b65\u5904\u7406-oneof-\u4e0e\u7279\u6b8a\u7c7b\u578b",children:["\u7b2c 2 \u6b65\uff1a\u5904\u7406 ",(0,d.jsx)(n.code,{children:"oneof"})," \u4e0e\u7279\u6b8a\u7c7b\u578b"]}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"oneof"})," -> ",(0,d.jsx)(n.code,{children:"union"})," + \u53ef\u9009 union \u5b57\u6bb5\u3002"]}),"\n",(0,d.jsxs)(n.li,{children:["\u5c06 protobuf well-known types \u6620\u5c04\u5230 Fory \u57fa\u7840\u7c7b\u578b\uff08",(0,d.jsx)(n.code,{children:"timestamp"}),"\u3001",(0,d.jsx)(n.code,{children:"duration"}),"\u3001",(0,d.jsx)(n.code,{children:"any"}),"\uff09\u3002"]}),"\n"]}),"\n",(0,d.jsxs)(n.h3,{id:"\u7b2c-3-\u6b65\u7528-ref-\u66ff\u6362-protobuf-\u7684\u5bf9\u8c61\u56fe\u7ed5\u8fc7\u65b9\u6848",children:["\u7b2c 3 \u6b65\uff1a\u7528 ",(0,d.jsx)(n.code,{children:"ref"})," \u66ff\u6362 protobuf \u7684\u5bf9\u8c61\u56fe\u7ed5\u8fc7\u65b9\u6848"]}),"\n",(0,d.jsxs)(n.p,{children:["\u82e5 protobuf \u91cc\u901a\u8fc7\u624b\u5de5 ID \u5173\u8054\u8868\u8fbe\u5bf9\u8c61\u56fe\uff0c\u8fc1\u79fb\u5230 Fory \u540e\u5e94\u6539\u7528 ",(0,d.jsx)(n.code,{children:"ref"})," \u4fee\u9970\u7b26\uff08\u5fc5\u8981\u65f6\u4f7f\u7528 ",(0,d.jsx)(n.code,{children:"ref(weak=true)"}),"\uff09\u3002"]}),"\n",(0,d.jsx)(n.h3,{id:"\u7b2c-4-\u6b65\u66f4\u65b0\u6784\u5efa\u4e0e\u4ee3\u7801\u751f\u6210",children:"\u7b2c 4 \u6b65\uff1a\u66f4\u65b0\u6784\u5efa\u4e0e\u4ee3\u7801\u751f\u6210"}),"\n",(0,d.jsx)(n.p,{children:"\u5c06 protobuf \u4ee3\u7801\u751f\u6210\u6b65\u9aa4\u66ff\u6362\u4e3a Fory \u7f16\u8bd1\u5668\u9488\u5bf9\u76ee\u6807\u8bed\u8a00\u7684\u751f\u6210\u547d\u4ee4\u3002"}),"\n",(0,d.jsx)(n.h3,{id:"\u7b2c-5-\u6b65\u6267\u884c\u517c\u5bb9\u6027\u9a8c\u8bc1",children:"\u7b2c 5 \u6b65\uff1a\u6267\u884c\u517c\u5bb9\u6027\u9a8c\u8bc1"}),"\n",(0,d.jsx)(n.p,{children:"\u5206\u9636\u6bb5\u8fc1\u79fb\u65f6\uff0c\u53ef\u5e76\u884c\u4fdd\u7559\u4e24\u79cd\u683c\u5f0f\uff0c\u5e76\u901a\u8fc7\u96c6\u6210\u6d4b\u8bd5\u9a8c\u8bc1 payload \u7ea7\u4e00\u81f4\u6027\u3002"}),"\n",(0,d.jsx)(n.h2,{id:"\u5171\u5b58\u7b56\u7565",children:"\u5171\u5b58\u7b56\u7565"}),"\n",(0,d.jsx)(n.p,{children:"\u8fc1\u79fb\u671f\u95f4\u53ef\u4ee5\u5e76\u884c\u8fd0\u884c protobuf \u4e0e Fory\uff1a"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-java",children:"public byte[] serialize(Object obj, Format format) {\n    if (format == Format.PROTOBUF) {\n        return ((MessageLite) obj).toByteArray();\n    }\n    return fory.serialize(obj);\n}\n"})}),"\n",(0,d.jsx)(n.p,{children:"\u53ef\u5728\u670d\u52a1\u8fb9\u754c\u8bbe\u7f6e\u8f6c\u6362\u5c42\uff0c\u5e76\u4f18\u5148\u8fc1\u79fb\u5185\u90e8\u5bf9\u8c61\u56fe\u8f83\u91cd\u7684\u94fe\u8def\u3002"}),"\n",(0,d.jsx)(n.h2,{id:"\u6027\u80fd\u53c2\u8003",children:"\u6027\u80fd\u53c2\u8003"}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:["Benchmarks: ",(0,d.jsx)(n.a,{href:"https://fory.apache.org/docs/introduction/benchmark",children:"https://fory.apache.org/docs/introduction/benchmark"})]}),"\n",(0,d.jsxs)(n.li,{children:["Benchmark code: ",(0,d.jsx)(n.a,{href:"https://github.com/apache/fory/tree/main/benchmarks",children:"https://github.com/apache/fory/tree/main/benchmarks"})]}),"\n"]}),"\n",(0,d.jsx)(n.h2,{id:"\u603b\u7ed3",children:"\u603b\u7ed3"}),"\n",(0,d.jsx)(n.p,{children:"\u5f53\u4e3b\u8981\u5173\u6ce8 API \u5951\u7ea6\u4e0e gRPC \u751f\u6001\u65f6\uff0c\u5efa\u8bae\u4f7f\u7528 protobuf\u3002\u82e5\u4e3b\u8981\u5173\u6ce8\u5bf9\u8c61\u56fe\u6027\u80fd\u3001\u539f\u751f\u6570\u636e\u6a21\u578b\u4e0e\u5f15\u7528\u8bed\u4e49\uff0c\u5efa\u8bae\u4f7f\u7528 Fory\u3002"})]})}function x(e={}){const{wrapper:n}={...(0,s.a)(),...e.components};return n?(0,d.jsx)(n,{...e,children:(0,d.jsx)(h,{...e})}):h(e)}},11151:(e,n,r)=>{r.d(n,{Z:()=>c,a:()=>l});var d=r(67294);const s={},i=d.createContext(s);function l(e){const n=d.useContext(i);return d.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:l(e.components),d.createElement(i.Provider,{value:n},e.children)}}}]);