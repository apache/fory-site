"use strict";(self.webpackChunkfory_site=self.webpackChunkfory_site||[]).push([[71411],{3590:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>c,contentTitle:()=>r,default:()=>a,frontMatter:()=>t,metadata:()=>l,toc:()=>h});var d=i(85893),s=i(11151);const t={title:"\u652f\u6301\u7c7b\u578b",sidebar_position:40,id:"supported_types",license:'Licensed to the Apache Software Foundation (ASF) under one or more\ncontributor license agreements.  See the NOTICE file distributed with\nthis work for additional information regarding copyright ownership.\nThe ASF licenses this file to You under the Apache License, Version 2.0\n(the "License"); you may not use this file except in compliance with\nthe License.  You may obtain a copy of the License at\n\n   http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an "AS IS" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n'},r=void 0,l={id:"guide/go/supported_types",title:"\u652f\u6301\u7c7b\u578b",description:"Fory Go \u652f\u6301\u5e7f\u6cdb\u7684 Go \u7c7b\u578b\u5e8f\u5217\u5316\u3002\u672c\u6307\u5357\u8bf4\u660e\u652f\u6301\u7c7b\u578b\u53ca\u5176\u8de8\u8bed\u8a00\u6620\u5c04\u3002",source:"@site/i18n/zh-CN/docusaurus-plugin-content-docs/version-0.15/guide/go/supported-types.md",sourceDirName:"guide/go",slug:"/guide/go/supported_types",permalink:"/zh-CN/docs/guide/go/supported_types",draft:!1,unlisted:!1,editUrl:"https://github.com/apache/fory-site/tree/main/i18n/zh-CN/docusaurus-plugin-content-docs/version-0.15/guide/go/supported-types.md",tags:[],version:"0.15",sidebarPosition:40,frontMatter:{title:"\u652f\u6301\u7c7b\u578b",sidebar_position:40,id:"supported_types",license:'Licensed to the Apache Software Foundation (ASF) under one or more\ncontributor license agreements.  See the NOTICE file distributed with\nthis work for additional information regarding copyright ownership.\nThe ASF licenses this file to You under the Apache License, Version 2.0\n(the "License"); you may not use this file except in compliance with\nthe License.  You may obtain a copy of the License at\n\n   http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an "AS IS" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n'},sidebar:"docsSidebar",previous:{title:"\u81ea\u5b9a\u4e49\u5e8f\u5217\u5316\u5668",permalink:"/zh-CN/docs/guide/go/custom_serializers"},next:{title:"\u5f15\u7528\u5904\u7406",permalink:"/zh-CN/docs/guide/go/references"}},c={},h=[{value:"\u57fa\u7840\u7c7b\u578b",id:"\u57fa\u7840\u7c7b\u578b",level:2},{value:"Integer Encoding",id:"integer-encoding",level:3},{value:"\u96c6\u5408\u7c7b\u578b",id:"\u96c6\u5408\u7c7b\u578b",level:2},{value:"Slice",id:"slice",level:3},{value:"Map",id:"map",level:3},{value:"Sets",id:"sets",level:3},{value:"Time Types",id:"time-types",level:2},{value:"Struct Types",id:"struct-types",level:2},{value:"Struct Requirements",id:"struct-requirements",level:3},{value:"Nested Structs",id:"nested-structs",level:3},{value:"Pointer Types",id:"pointer-types",level:2},{value:"Nil Handling",id:"nil-handling",level:3},{value:"Interface Types",id:"interface-types",level:2},{value:"Binary Data",id:"binary-data",level:2},{value:"Enum Types",id:"enum-types",level:2},{value:"Cross-Language Type Mapping",id:"cross-language-type-mapping",level:2},{value:"Unsupported Types",id:"unsupported-types",level:2},{value:"\u76f8\u5173\u4e3b\u9898",id:"\u76f8\u5173\u4e3b\u9898",level:2}];function o(e){const n={a:"a",code:"code",h2:"h2",h3:"h3",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,s.a)(),...e.components};return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(n.p,{children:"Fory Go \u652f\u6301\u5e7f\u6cdb\u7684 Go \u7c7b\u578b\u5e8f\u5217\u5316\u3002\u672c\u6307\u5357\u8bf4\u660e\u652f\u6301\u7c7b\u578b\u53ca\u5176\u8de8\u8bed\u8a00\u6620\u5c04\u3002"}),"\n",(0,d.jsx)(n.h2,{id:"\u57fa\u7840\u7c7b\u578b",children:"\u57fa\u7840\u7c7b\u578b"}),"\n",(0,d.jsxs)(n.table,{children:[(0,d.jsx)(n.thead,{children:(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.th,{children:"Go Type"}),(0,d.jsx)(n.th,{children:"Fory TypeId"}),(0,d.jsx)(n.th,{children:"Encoding"}),(0,d.jsx)(n.th,{children:"Notes"})]})}),(0,d.jsxs)(n.tbody,{children:[(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"bool"})}),(0,d.jsx)(n.td,{children:"BOOL (1)"}),(0,d.jsx)(n.td,{children:"1 byte"}),(0,d.jsx)(n.td,{})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"int8"})}),(0,d.jsx)(n.td,{children:"INT8 (2)"}),(0,d.jsx)(n.td,{children:"1 byte, signed"}),(0,d.jsx)(n.td,{})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"int16"})}),(0,d.jsx)(n.td,{children:"INT16 (3)"}),(0,d.jsx)(n.td,{children:"2 bytes, signed"}),(0,d.jsx)(n.td,{children:"Little-endian"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"int32"})}),(0,d.jsx)(n.td,{children:"INT32 (4)"}),(0,d.jsx)(n.td,{children:"Varint"}),(0,d.jsx)(n.td,{children:"Variable-length encoding"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"int64"})}),(0,d.jsx)(n.td,{children:"INT64 (6)"}),(0,d.jsx)(n.td,{children:"Varint"}),(0,d.jsx)(n.td,{children:"Variable-length encoding"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"int"})}),(0,d.jsx)(n.td,{children:"INT32/INT64"}),(0,d.jsx)(n.td,{children:"Varint"}),(0,d.jsx)(n.td,{children:"Platform-dependent (32 or 64 bit)"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsxs)(n.td,{children:[(0,d.jsx)(n.code,{children:"uint8"})," / ",(0,d.jsx)(n.code,{children:"byte"})]}),(0,d.jsx)(n.td,{children:"UINT8 (9)"}),(0,d.jsx)(n.td,{children:"1 byte, unsigned"}),(0,d.jsx)(n.td,{})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"uint16"})}),(0,d.jsx)(n.td,{children:"UINT16 (10)"}),(0,d.jsx)(n.td,{children:"2 bytes, unsigned"}),(0,d.jsx)(n.td,{children:"Little-endian"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"uint32"})}),(0,d.jsx)(n.td,{children:"UINT32 (11)"}),(0,d.jsx)(n.td,{children:"Varuint"}),(0,d.jsx)(n.td,{children:"Variable-length encoding"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"uint64"})}),(0,d.jsx)(n.td,{children:"UINT64 (13)"}),(0,d.jsx)(n.td,{children:"Varuint"}),(0,d.jsx)(n.td,{children:"Variable-length encoding"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"float32"})}),(0,d.jsx)(n.td,{children:"FLOAT32 (17)"}),(0,d.jsx)(n.td,{children:"4 bytes"}),(0,d.jsx)(n.td,{children:"IEEE 754"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"float64"})}),(0,d.jsx)(n.td,{children:"FLOAT64 (18)"}),(0,d.jsx)(n.td,{children:"8 bytes"}),(0,d.jsx)(n.td,{children:"IEEE 754"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"string"})}),(0,d.jsx)(n.td,{children:"STRING (19)"}),(0,d.jsx)(n.td,{children:"Length-prefixed UTF-8"}),(0,d.jsx)(n.td,{})]})]})]}),"\n",(0,d.jsx)(n.h3,{id:"integer-encoding",children:"Integer Encoding"}),"\n",(0,d.jsx)(n.p,{children:"Fory uses variable-length integer encoding (varint) for better compression:"}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsx)(n.li,{children:"Small values use fewer bytes"}),"\n",(0,d.jsx)(n.li,{children:"Negative values use ZigZag encoding"}),"\n",(0,d.jsxs)(n.li,{children:["Platform ",(0,d.jsx)(n.code,{children:"int"})," maps to ",(0,d.jsx)(n.code,{children:"int32"})," on 32-bit, ",(0,d.jsx)(n.code,{children:"int64"})," on 64-bit systems"]}),"\n"]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-go",children:"f := fory.New()\n\n// All integer types supported\nvar i8 int8 = 127\nvar i16 int16 = 32767\nvar i32 int32 = 2147483647\nvar i64 int64 = 9223372036854775807\n\ndata, _ := f.Serialize(i64)  // Uses varint encoding\n"})}),"\n",(0,d.jsx)(n.h2,{id:"\u96c6\u5408\u7c7b\u578b",children:"\u96c6\u5408\u7c7b\u578b"}),"\n",(0,d.jsx)(n.h3,{id:"slice",children:"Slice"}),"\n",(0,d.jsxs)(n.table,{children:[(0,d.jsx)(n.thead,{children:(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.th,{children:"Go Type"}),(0,d.jsx)(n.th,{children:"Fory TypeId"}),(0,d.jsx)(n.th,{children:"Notes"})]})}),(0,d.jsxs)(n.tbody,{children:[(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"[]bool"})}),(0,d.jsx)(n.td,{children:"BOOL_ARRAY"}),(0,d.jsx)(n.td,{children:"Optimized encoding"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"[]int8"})}),(0,d.jsx)(n.td,{children:"INT8_ARRAY"}),(0,d.jsx)(n.td,{children:"Optimized encoding"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"[]int16"})}),(0,d.jsx)(n.td,{children:"INT16_ARRAY"}),(0,d.jsx)(n.td,{children:"Optimized encoding"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"[]int32"})}),(0,d.jsx)(n.td,{children:"INT32_ARRAY"}),(0,d.jsx)(n.td,{children:"Optimized encoding"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"[]int64"})}),(0,d.jsx)(n.td,{children:"INT64_ARRAY"}),(0,d.jsx)(n.td,{children:"Optimized encoding"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"[]float32"})}),(0,d.jsx)(n.td,{children:"FLOAT32_ARRAY"}),(0,d.jsx)(n.td,{children:"Optimized encoding"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"[]float64"})}),(0,d.jsx)(n.td,{children:"FLOAT64_ARRAY"}),(0,d.jsx)(n.td,{children:"Optimized encoding"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"[]string"})}),(0,d.jsx)(n.td,{children:"LIST"}),(0,d.jsx)(n.td,{children:"Generic list encoding"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsxs)(n.td,{children:[(0,d.jsx)(n.code,{children:"[]T"})," (any)"]}),(0,d.jsx)(n.td,{children:"LIST (20)"}),(0,d.jsx)(n.td,{children:"Any serializable type"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsxs)(n.td,{children:[(0,d.jsx)(n.code,{children:"[]I"})," (any/any)"]}),(0,d.jsx)(n.td,{children:"LIST"}),(0,d.jsx)(n.td,{children:"Any interface type"})]})]})]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-go",children:'f := fory.New()\n\n// Primitive slices (optimized)\nints := []int32{1, 2, 3, 4, 5}\ndata, _ := f.Serialize(ints)\n\n// String slices\nstrs := []string{"a", "b", "c"}\ndata, _ = f.Serialize(strs)\n\n// Struct slices\nusers := []User{{ID: 1}, {ID: 2}}\ndata, _ = f.Serialize(users)\n\n// Dynamic slices\ndynamic := []any{1, "hello", true}\ndata, _ = f.Serialize(dynamic)\n'})}),"\n",(0,d.jsx)(n.h3,{id:"map",children:"Map"}),"\n",(0,d.jsxs)(n.table,{children:[(0,d.jsx)(n.thead,{children:(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.th,{children:"Go Type"}),(0,d.jsx)(n.th,{children:"Fory TypeId"}),(0,d.jsx)(n.th,{children:"Notes"})]})}),(0,d.jsxs)(n.tbody,{children:[(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"map[string]string"})}),(0,d.jsx)(n.td,{children:"MAP (22)"}),(0,d.jsx)(n.td,{children:"Optimized"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"map[string]int64"})}),(0,d.jsx)(n.td,{children:"MAP"}),(0,d.jsx)(n.td,{children:"Optimized"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"map[string]int32"})}),(0,d.jsx)(n.td,{children:"MAP"}),(0,d.jsx)(n.td,{children:"Optimized"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"map[string]int"})}),(0,d.jsx)(n.td,{children:"MAP"}),(0,d.jsx)(n.td,{children:"Optimized"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"map[string]float64"})}),(0,d.jsx)(n.td,{children:"MAP"}),(0,d.jsx)(n.td,{children:"Optimized"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"map[string]bool"})}),(0,d.jsx)(n.td,{children:"MAP"}),(0,d.jsx)(n.td,{children:"Optimized"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"map[int32]int32"})}),(0,d.jsx)(n.td,{children:"MAP"}),(0,d.jsx)(n.td,{children:"Optimized"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"map[int64]int64"})}),(0,d.jsx)(n.td,{children:"MAP"}),(0,d.jsx)(n.td,{children:"Optimized"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"map[int]int"})}),(0,d.jsx)(n.td,{children:"MAP"}),(0,d.jsx)(n.td,{children:"Optimized"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"map[string]any"})}),(0,d.jsx)(n.td,{children:"MAP"}),(0,d.jsx)(n.td,{children:"Dynamic values"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"map[any]any"})}),(0,d.jsx)(n.td,{children:"MAP"}),(0,d.jsx)(n.td,{children:"Dynamic keys and values"})]})]})]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-go",children:'f := fory.New()\n\n// String key maps\nm1 := map[string]string{"key": "value"}\nm2 := map[string]int64{"count": 42}\n\n// Integer key maps\nm3 := map[int32]int32{1: 100, 2: 200}\n\n// Dynamic maps\nm4 := map[string]any{\n    "name": "Alice",\n    "age":  int64(30),\n}\n'})}),"\n",(0,d.jsx)(n.h3,{id:"sets",children:"Sets"}),"\n",(0,d.jsxs)(n.p,{children:["Fory provides a generic ",(0,d.jsx)(n.code,{children:"Set[T]"})," type (uses ",(0,d.jsx)(n.code,{children:"map[T]struct{}"})," for zero memory overhead):"]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-go",children:'// Create a set of strings\ns := fory.NewSet[string]()\ns.Add("a", "b", "c")\n\n// Check membership\nif s.Contains("a") {\n    fmt.Println("found")\n}\n\n// Serialize\ndata, _ := f.Serialize(s)\n'})}),"\n",(0,d.jsx)(n.h2,{id:"time-types",children:"Time Types"}),"\n",(0,d.jsxs)(n.table,{children:[(0,d.jsx)(n.thead,{children:(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.th,{children:"Go Type"}),(0,d.jsx)(n.th,{children:"Fory TypeId"}),(0,d.jsx)(n.th,{children:"Notes"})]})}),(0,d.jsxs)(n.tbody,{children:[(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"time.Time"})}),(0,d.jsx)(n.td,{children:"TIMESTAMP (34)"}),(0,d.jsx)(n.td,{children:"Nanosecond precision"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"time.Duration"})}),(0,d.jsx)(n.td,{children:"DURATION (33)"}),(0,d.jsx)(n.td,{children:"Nanosecond precision"})]})]})]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-go",children:'import "time"\n\nf := fory.New()\n\n// Timestamp\nt := time.Now()\ndata, _ := f.Serialize(t)\n\n// Duration\nd := 5 * time.Second\ndata, _ = f.Serialize(d)\n'})}),"\n",(0,d.jsx)(n.h2,{id:"struct-types",children:"Struct Types"}),"\n",(0,d.jsxs)(n.table,{children:[(0,d.jsx)(n.thead,{children:(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.th,{children:"Category"}),(0,d.jsx)(n.th,{children:"Fory TypeId"}),(0,d.jsx)(n.th,{children:"Notes"})]})}),(0,d.jsxs)(n.tbody,{children:[(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"Struct"}),(0,d.jsx)(n.td,{children:"STRUCT (25)"}),(0,d.jsx)(n.td,{children:"Registered by ID, no evolution"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"Compatible Struct"}),(0,d.jsx)(n.td,{children:"COMPATIBLE_STRUCT (26)"}),(0,d.jsx)(n.td,{children:"With schema evolution"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"Named Struct"}),(0,d.jsx)(n.td,{children:"NAMED_STRUCT (27)"}),(0,d.jsx)(n.td,{children:"Registered by name, no evolution"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"Named Compatible Struct"}),(0,d.jsx)(n.td,{children:"NAMED_COMPATIBLE_STRUCT (28)"}),(0,d.jsx)(n.td,{children:"Named with schema evolution"})]})]})]}),"\n",(0,d.jsx)(n.h3,{id:"struct-requirements",children:"Struct Requirements"}),"\n",(0,d.jsxs)(n.ol,{children:["\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"Exported fields only"}),": Fields starting with uppercase are serialized"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"Supported field types"}),": All types listed in this document"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"Registration"}),": Structs should be registered for cross-language use"]}),"\n"]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-go",children:'type User struct {\n    ID       int64   // Serialized\n    Name     string  // Serialized\n    Age      int32   // Serialized\n    password string  // NOT serialized (unexported)\n}\n\nf := fory.New()\nf.RegisterStruct(User{}, 1)\n\nuser := &User{ID: 1, Name: "Alice", Age: 30, password: "secret"}\ndata, _ := f.Serialize(user)\n'})}),"\n",(0,d.jsx)(n.h3,{id:"nested-structs",children:"Nested Structs"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-go",children:"type Address struct {\n    Street  string\n    City    string\n    Country string\n}\n\ntype Company struct {\n    Name    string\n    Address Address\n    Founded int32\n}\n\nf := fory.New()\nf.RegisterStruct(Address{}, 1)\nf.RegisterStruct(Company{}, 2)\n"})}),"\n",(0,d.jsx)(n.h2,{id:"pointer-types",children:"Pointer Types"}),"\n",(0,d.jsxs)(n.table,{children:[(0,d.jsx)(n.thead,{children:(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.th,{children:"Go Type"}),(0,d.jsx)(n.th,{children:"Behavior"})]})}),(0,d.jsxs)(n.tbody,{children:[(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"*T"})}),(0,d.jsx)(n.td,{children:"Nil-able, reference tracked (if enabled)"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"**T"})}),(0,d.jsx)(n.td,{children:"Nested pointers supported"})]})]})]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-go",children:"f := fory.New(fory.WithTrackRef(true))\n\ntype Node struct {\n    Value int32\n    Left  *Node\n    Right *Node\n}\n\nf.RegisterStruct(Node{}, 1)\n\nroot := &Node{\n    Value: 1,\n    Left:  &Node{Value: 2},\n    Right: &Node{Value: 3},\n}\n\ndata, _ := f.Serialize(root)\n"})}),"\n",(0,d.jsx)(n.h3,{id:"nil-handling",children:"Nil Handling"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-go",children:"var ptr *User = nil\ndata, _ := f.Serialize(ptr)\n\nvar result *User\nf.Deserialize(data, &result)\n// result == nil\n"})}),"\n",(0,d.jsx)(n.h2,{id:"interface-types",children:"Interface Types"}),"\n",(0,d.jsxs)(n.table,{children:[(0,d.jsx)(n.thead,{children:(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.th,{children:"Go Type"}),(0,d.jsx)(n.th,{children:"Fory TypeId"}),(0,d.jsx)(n.th,{children:"Notes"})]})}),(0,d.jsx)(n.tbody,{children:(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"any"})}),(0,d.jsx)(n.td,{children:"UNION (31)"}),(0,d.jsx)(n.td,{children:"Polymorphic values"})]})})]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-go",children:'f := fory.New()\n\n// Serialize any\nvar value any = "hello"\ndata, _ := f.Serialize(value)\n\nvar result any\nf.Deserialize(data, &result)\n// result = "hello" (string)\n'})}),"\n",(0,d.jsx)(n.p,{children:"For struct interfaces, register all possible concrete types:"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-go",children:"type Shape interface {\n    Area() float64\n}\n\ntype Circle struct {\n    Radius float64\n}\n\nfunc (c Circle) Area() float64 {\n    return 3.14159 * c.Radius * c.Radius\n}\n\nf := fory.New()\nf.RegisterStruct(Circle{}, 1)\n\nvar shape Shape = Circle{Radius: 5.0}\ndata, _ := f.Serialize(shape)\n"})}),"\n",(0,d.jsx)(n.h2,{id:"binary-data",children:"Binary Data"}),"\n",(0,d.jsxs)(n.table,{children:[(0,d.jsx)(n.thead,{children:(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.th,{children:"Go Type"}),(0,d.jsx)(n.th,{children:"Fory TypeId"}),(0,d.jsx)(n.th,{children:"Notes"})]})}),(0,d.jsx)(n.tbody,{children:(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"[]byte"})}),(0,d.jsx)(n.td,{children:"BINARY (37)"}),(0,d.jsx)(n.td,{children:"Variable-length bytes"})]})})]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-go",children:"f := fory.New()\n\ndata := []byte{0x01, 0x02, 0x03, 0x04}\nserialized, _ := f.Serialize(data)\n\nvar result []byte\nf.Deserialize(serialized, &result)\n"})}),"\n",(0,d.jsx)(n.h2,{id:"enum-types",children:"Enum Types"}),"\n",(0,d.jsx)(n.p,{children:"Go uses integer types for enums:"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-go",children:"type Status int32\n\nconst (\n    StatusPending  Status = 0\n    StatusActive   Status = 1\n    StatusComplete Status = 2\n)\n\nf := fory.New()\nf.RegisterEnum(Status(0), 1)\n\nstatus := StatusActive\ndata, _ := f.Serialize(status)\n"})}),"\n",(0,d.jsx)(n.h2,{id:"cross-language-type-mapping",children:"Cross-Language Type Mapping"}),"\n",(0,d.jsxs)(n.table,{children:[(0,d.jsx)(n.thead,{children:(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.th,{children:"Go Type"}),(0,d.jsx)(n.th,{children:"Java"}),(0,d.jsx)(n.th,{children:"Python"}),(0,d.jsx)(n.th,{children:"C++"}),(0,d.jsx)(n.th,{children:"Rust"})]})}),(0,d.jsxs)(n.tbody,{children:[(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"bool"})}),(0,d.jsx)(n.td,{children:"boolean"}),(0,d.jsx)(n.td,{children:"bool"}),(0,d.jsx)(n.td,{children:"bool"}),(0,d.jsx)(n.td,{children:"bool"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"int8"})}),(0,d.jsx)(n.td,{children:"byte"}),(0,d.jsx)(n.td,{children:"int"}),(0,d.jsx)(n.td,{children:"int8_t"}),(0,d.jsx)(n.td,{children:"i8"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"int16"})}),(0,d.jsx)(n.td,{children:"short"}),(0,d.jsx)(n.td,{children:"int"}),(0,d.jsx)(n.td,{children:"int16_t"}),(0,d.jsx)(n.td,{children:"i16"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"int32"})}),(0,d.jsx)(n.td,{children:"int"}),(0,d.jsx)(n.td,{children:"int"}),(0,d.jsx)(n.td,{children:"int32_t"}),(0,d.jsx)(n.td,{children:"i32"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"int64"})}),(0,d.jsx)(n.td,{children:"long"}),(0,d.jsx)(n.td,{children:"int"}),(0,d.jsx)(n.td,{children:"int64_t"}),(0,d.jsx)(n.td,{children:"i64"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"float32"})}),(0,d.jsx)(n.td,{children:"float"}),(0,d.jsx)(n.td,{children:"float"}),(0,d.jsx)(n.td,{children:"float"}),(0,d.jsx)(n.td,{children:"f32"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"float64"})}),(0,d.jsx)(n.td,{children:"double"}),(0,d.jsx)(n.td,{children:"float"}),(0,d.jsx)(n.td,{children:"double"}),(0,d.jsx)(n.td,{children:"f64"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"string"})}),(0,d.jsx)(n.td,{children:"String"}),(0,d.jsx)(n.td,{children:"str"}),(0,d.jsx)(n.td,{children:"std::string"}),(0,d.jsx)(n.td,{children:"String"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"[]T"})}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"List<T>"})}),(0,d.jsx)(n.td,{children:"list"}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"std::vector<T>"})}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"Vec<T>"})})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"map[K]V"})}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"Map<K,V>"})}),(0,d.jsx)(n.td,{children:"dict"}),(0,d.jsx)(n.td,{children:"std::unordered_map"}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"HashMap<K,V>"})})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"time.Time"})}),(0,d.jsx)(n.td,{children:"Instant"}),(0,d.jsx)(n.td,{children:"datetime"}),(0,d.jsx)(n.td,{children:"-"}),(0,d.jsx)(n.td,{children:"-"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"time.Duration"})}),(0,d.jsx)(n.td,{children:"Duration"}),(0,d.jsx)(n.td,{children:"timedelta"}),(0,d.jsx)(n.td,{children:"-"}),(0,d.jsx)(n.td,{children:"-"})]})]})]}),"\n",(0,d.jsxs)(n.p,{children:["See ",(0,d.jsx)(n.a,{href:"/zh-CN/docs/guide/go/cross_language",children:"Cross-Language Serialization"})," for detailed mapping."]}),"\n",(0,d.jsx)(n.h2,{id:"unsupported-types",children:"Unsupported Types"}),"\n",(0,d.jsxs)(n.p,{children:["The following Go types are ",(0,d.jsx)(n.strong,{children:"not supported"}),":"]}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:["Channels (",(0,d.jsx)(n.code,{children:"chan T"}),")"]}),"\n",(0,d.jsxs)(n.li,{children:["Functions (",(0,d.jsx)(n.code,{children:"func()"}),")"]}),"\n",(0,d.jsxs)(n.li,{children:["Complex numbers (",(0,d.jsx)(n.code,{children:"complex64"}),", ",(0,d.jsx)(n.code,{children:"complex128"}),")"]}),"\n",(0,d.jsxs)(n.li,{children:["Unsafe pointers (",(0,d.jsx)(n.code,{children:"unsafe.Pointer"}),")"]}),"\n"]}),"\n",(0,d.jsx)(n.p,{children:"Attempting to serialize these types will result in an error."}),"\n",(0,d.jsx)(n.h2,{id:"\u76f8\u5173\u4e3b\u9898",children:"\u76f8\u5173\u4e3b\u9898"}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsx)(n.li,{children:(0,d.jsx)(n.a,{href:"/zh-CN/docs/guide/go/type_registration",children:"Type Registration"})}),"\n",(0,d.jsx)(n.li,{children:(0,d.jsx)(n.a,{href:"/zh-CN/docs/guide/go/cross_language",children:"Cross-Language Serialization"})}),"\n",(0,d.jsx)(n.li,{children:(0,d.jsx)(n.a,{href:"/zh-CN/docs/guide/go/references",children:"References"})}),"\n"]})]})}function a(e={}){const{wrapper:n}={...(0,s.a)(),...e.components};return n?(0,d.jsx)(n,{...e,children:(0,d.jsx)(o,{...e})}):o(e)}},11151:(e,n,i)=>{i.d(n,{Z:()=>l,a:()=>r});var d=i(67294);const s={},t=d.createContext(s);function r(e){const n=d.useContext(t);return d.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:r(e.components),d.createElement(t.Provider,{value:n},e.children)}}}]);