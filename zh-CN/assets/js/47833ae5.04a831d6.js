"use strict";(self.webpackChunkfory_site=self.webpackChunkfory_site||[]).push([[64204],{10886:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>o,contentTitle:()=>i,default:()=>h,frontMatter:()=>l,metadata:()=>c,toc:()=>a});var d=r(85893),s=r(11151);const l={title:"\u7f16\u8bd1\u5668\u6307\u5357",sidebar_position:3,id:"compiler_guide",license:'Licensed to the Apache Software Foundation (ASF) under one or more\ncontributor license agreements.  See the NOTICE file distributed with\nthis work for additional information regarding copyright ownership.\nThe ASF licenses this file to You under the Apache License, Version 2.0\n(the "License"); you may not use this file except in compliance with\nthe License.  You may obtain a copy of the License at\n\n   http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an "AS IS" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n'},i=void 0,c={id:"compiler/compiler_guide",title:"\u7f16\u8bd1\u5668\u6307\u5357",description:"\u672c\u6307\u5357\u4ecb\u7ecd Fory IDL \u7f16\u8bd1\u5668\u7684\u5b89\u88c5\u3001\u547d\u4ee4\u884c\u4f7f\u7528\u65b9\u5f0f\u4ee5\u53ca\u6784\u5efa\u7cfb\u7edf\u96c6\u6210\u65b9\u6848\u3002",source:"@site/i18n/zh-CN/docusaurus-plugin-content-docs/current/compiler/compiler-guide.md",sourceDirName:"compiler",slug:"/compiler/compiler_guide",permalink:"/zh-CN/docs/next/compiler/compiler_guide",draft:!1,unlisted:!1,editUrl:"https://github.com/apache/fory-site/tree/main/i18n/zh-CN/docusaurus-plugin-content-docs/current/compiler/compiler-guide.md",tags:[],version:"current",sidebarPosition:3,frontMatter:{title:"\u7f16\u8bd1\u5668\u6307\u5357",sidebar_position:3,id:"compiler_guide",license:'Licensed to the Apache Software Foundation (ASF) under one or more\ncontributor license agreements.  See the NOTICE file distributed with\nthis work for additional information regarding copyright ownership.\nThe ASF licenses this file to You under the Apache License, Version 2.0\n(the "License"); you may not use this file except in compliance with\nthe License.  You may obtain a copy of the License at\n\n   http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an "AS IS" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n'},sidebar:"docsSidebar",previous:{title:"Schema IDL \u8bed\u6cd5",permalink:"/zh-CN/docs/next/compiler/syntax"},next:{title:"\u751f\u6210\u4ee3\u7801",permalink:"/zh-CN/docs/next/compiler/generated_code"}},o={},a=[{value:"\u5b89\u88c5",id:"\u5b89\u88c5",level:2},{value:"\u4ece\u6e90\u7801\u5b89\u88c5",id:"\u4ece\u6e90\u7801\u5b89\u88c5",level:3},{value:"\u9a8c\u8bc1\u5b89\u88c5",id:"\u9a8c\u8bc1\u5b89\u88c5",level:3},{value:"\u547d\u4ee4\u884c\u63a5\u53e3",id:"\u547d\u4ee4\u884c\u63a5\u53e3",level:2},{value:"\u57fa\u672c\u7528\u6cd5",id:"\u57fa\u672c\u7528\u6cd5",level:3},{value:"\u9009\u9879",id:"\u9009\u9879",level:3},{value:"\u626b\u63cf\u751f\u6210\u6587\u4ef6",id:"\u626b\u63cf\u751f\u6210\u6587\u4ef6",level:3},{value:"\u793a\u4f8b",id:"\u793a\u4f8b",level:3},{value:"Import \u8def\u5f84\u89e3\u6790",id:"import-\u8def\u5f84\u89e3\u6790",level:2},{value:"\u652f\u6301\u8bed\u8a00",id:"\u652f\u6301\u8bed\u8a00",level:2},{value:"\u8f93\u51fa\u7ed3\u6784",id:"\u8f93\u51fa\u7ed3\u6784",level:2},{value:"Java",id:"java",level:3},{value:"Python",id:"python",level:3},{value:"Go",id:"go",level:3},{value:"Rust",id:"rust",level:3},{value:"C++",id:"c",level:3},{value:"\u6784\u5efa\u7cfb\u7edf\u96c6\u6210",id:"\u6784\u5efa\u7cfb\u7edf\u96c6\u6210",level:2},{value:"Maven (Java)",id:"maven-java",level:3},{value:"Gradle (Java/Kotlin)",id:"gradle-javakotlin",level:3},{value:"Python (setuptools)",id:"python-setuptools",level:3},{value:"Go (<code>go generate</code>)",id:"go-go-generate",level:3},{value:"Rust (<code>build.rs</code>)",id:"rust-buildrs",level:3},{value:"CMake (C++)",id:"cmake-c",level:3},{value:"Bazel",id:"bazel",level:3},{value:"\u9519\u8bef\u5904\u7406",id:"\u9519\u8bef\u5904\u7406",level:2},{value:"\u8bed\u6cd5\u9519\u8bef",id:"\u8bed\u6cd5\u9519\u8bef",level:3},{value:"\u7c7b\u578b\u540d\u91cd\u590d",id:"\u7c7b\u578b\u540d\u91cd\u590d",level:3},{value:"\u7c7b\u578b ID \u91cd\u590d",id:"\u7c7b\u578b-id-\u91cd\u590d",level:3},{value:"\u672a\u77e5\u7c7b\u578b\u5f15\u7528",id:"\u672a\u77e5\u7c7b\u578b\u5f15\u7528",level:3},{value:"\u5b57\u6bb5\u53f7\u91cd\u590d",id:"\u5b57\u6bb5\u53f7\u91cd\u590d",level:3},{value:"\u6700\u4f73\u5b9e\u8df5",id:"\u6700\u4f73\u5b9e\u8df5",level:2},{value:"\u9879\u76ee\u7ed3\u6784",id:"\u9879\u76ee\u7ed3\u6784",level:3},{value:"\u7248\u672c\u63a7\u5236",id:"\u7248\u672c\u63a7\u5236",level:3},{value:"CI/CD \u96c6\u6210",id:"cicd-\u96c6\u6210",level:3},{value:"Schema \u6f14\u8fdb",id:"schema-\u6f14\u8fdb",level:3},{value:"\u6545\u969c\u6392\u67e5",id:"\u6545\u969c\u6392\u67e5",level:2},{value:"Command Not Found",id:"command-not-found",level:3},{value:"Permission Denied",id:"permission-denied",level:3},{value:"\u751f\u6210\u4ee3\u7801 import \u9519\u8bef",id:"\u751f\u6210\u4ee3\u7801-import-\u9519\u8bef",level:3}];function t(e){const n={code:"code",h2:"h2",h3:"h3",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,s.a)(),...e.components};return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(n.p,{children:"\u672c\u6307\u5357\u4ecb\u7ecd Fory IDL \u7f16\u8bd1\u5668\u7684\u5b89\u88c5\u3001\u547d\u4ee4\u884c\u4f7f\u7528\u65b9\u5f0f\u4ee5\u53ca\u6784\u5efa\u7cfb\u7edf\u96c6\u6210\u65b9\u6848\u3002"}),"\n",(0,d.jsx)(n.h2,{id:"\u5b89\u88c5",children:"\u5b89\u88c5"}),"\n",(0,d.jsx)(n.h3,{id:"\u4ece\u6e90\u7801\u5b89\u88c5",children:"\u4ece\u6e90\u7801\u5b89\u88c5"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-bash",children:"cd compiler\npip install -e .\n"})}),"\n",(0,d.jsx)(n.h3,{id:"\u9a8c\u8bc1\u5b89\u88c5",children:"\u9a8c\u8bc1\u5b89\u88c5"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-bash",children:"foryc --help\n"})}),"\n",(0,d.jsx)(n.h2,{id:"\u547d\u4ee4\u884c\u63a5\u53e3",children:"\u547d\u4ee4\u884c\u63a5\u53e3"}),"\n",(0,d.jsx)(n.h3,{id:"\u57fa\u672c\u7528\u6cd5",children:"\u57fa\u672c\u7528\u6cd5"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-bash",children:"foryc [OPTIONS] FILES...\n"})}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-bash",children:"foryc --scan-generated [OPTIONS]\n"})}),"\n",(0,d.jsx)(n.h3,{id:"\u9009\u9879",children:"\u9009\u9879"}),"\n",(0,d.jsx)(n.p,{children:"\u7f16\u8bd1\u9009\u9879\uff1a"}),"\n",(0,d.jsxs)(n.table,{children:[(0,d.jsx)(n.thead,{children:(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.th,{children:"\u9009\u9879"}),(0,d.jsx)(n.th,{children:"\u8bf4\u660e"}),(0,d.jsx)(n.th,{children:"\u9ed8\u8ba4\u503c"})]})}),(0,d.jsxs)(n.tbody,{children:[(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"--lang"})}),(0,d.jsx)(n.td,{children:"\u76ee\u6807\u8bed\u8a00\u5217\u8868\uff08\u9017\u53f7\u5206\u9694\uff09"}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"all"})})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsxs)(n.td,{children:[(0,d.jsx)(n.code,{children:"--output"}),", ",(0,d.jsx)(n.code,{children:"-o"})]}),(0,d.jsx)(n.td,{children:"\u8f93\u51fa\u76ee\u5f55"}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"./generated"})})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"--package"})}),(0,d.jsx)(n.td,{children:"\u8986\u76d6 Fory IDL \u6587\u4ef6\u4e2d\u7684 package"}),(0,d.jsx)(n.td,{children:"\uff08\u6765\u81ea\u6587\u4ef6\uff09"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsxs)(n.td,{children:[(0,d.jsx)(n.code,{children:"-I"}),", ",(0,d.jsx)(n.code,{children:"--proto_path"}),", ",(0,d.jsx)(n.code,{children:"--import_path"})]}),(0,d.jsx)(n.td,{children:"\u6dfb\u52a0 import \u641c\u7d22\u8def\u5f84\uff08\u53ef\u91cd\u590d\uff09"}),(0,d.jsx)(n.td,{children:"\uff08\u65e0\uff09"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"--java_out=DST_DIR"})}),(0,d.jsxs)(n.td,{children:["\u5c06 Java \u4ee3\u7801\u8f93\u51fa\u5230 ",(0,d.jsx)(n.code,{children:"DST_DIR"})]}),(0,d.jsx)(n.td,{children:"\uff08\u65e0\uff09"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"--python_out=DST_DIR"})}),(0,d.jsxs)(n.td,{children:["\u5c06 Python \u4ee3\u7801\u8f93\u51fa\u5230 ",(0,d.jsx)(n.code,{children:"DST_DIR"})]}),(0,d.jsx)(n.td,{children:"\uff08\u65e0\uff09"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"--cpp_out=DST_DIR"})}),(0,d.jsxs)(n.td,{children:["\u5c06 C++ \u4ee3\u7801\u8f93\u51fa\u5230 ",(0,d.jsx)(n.code,{children:"DST_DIR"})]}),(0,d.jsx)(n.td,{children:"\uff08\u65e0\uff09"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"--go_out=DST_DIR"})}),(0,d.jsxs)(n.td,{children:["\u5c06 Go \u4ee3\u7801\u8f93\u51fa\u5230 ",(0,d.jsx)(n.code,{children:"DST_DIR"})]}),(0,d.jsx)(n.td,{children:"\uff08\u65e0\uff09"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"--rust_out=DST_DIR"})}),(0,d.jsxs)(n.td,{children:["\u5c06 Rust \u4ee3\u7801\u8f93\u51fa\u5230 ",(0,d.jsx)(n.code,{children:"DST_DIR"})]}),(0,d.jsx)(n.td,{children:"\uff08\u65e0\uff09"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"--go_nested_type_style"})}),(0,d.jsxs)(n.td,{children:["Go \u5d4c\u5957\u7c7b\u578b\u547d\u540d\u98ce\u683c\uff1a",(0,d.jsx)(n.code,{children:"camelcase"})," \u6216 ",(0,d.jsx)(n.code,{children:"underscore"})]}),(0,d.jsx)(n.td,{children:"schema/\u9ed8\u8ba4\u503c"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"--emit-fdl"})}),(0,d.jsxs)(n.td,{children:["\u5bf9\u975e ",(0,d.jsx)(n.code,{children:".fdl"})," \u8f93\u5165\u6253\u5370\u8f6c\u6362\u540e\u7684 Fory IDL"]}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"false"})})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"--emit-fdl-path"})}),(0,d.jsx)(n.td,{children:"\u5c06\u8f6c\u6362\u540e\u7684 Fory IDL \u5199\u5165\u6587\u4ef6\u6216\u76ee\u5f55"}),(0,d.jsx)(n.td,{children:"\uff08stdout\uff09"})]})]})]}),"\n",(0,d.jsxs)(n.p,{children:["\u626b\u63cf\u9009\u9879\uff08\u914d\u5408 ",(0,d.jsx)(n.code,{children:"--scan-generated"}),"\uff09\uff1a"]}),"\n",(0,d.jsxs)(n.table,{children:[(0,d.jsx)(n.thead,{children:(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.th,{children:"\u9009\u9879"}),(0,d.jsx)(n.th,{children:"\u8bf4\u660e"}),(0,d.jsx)(n.th,{children:"\u9ed8\u8ba4\u503c"})]})}),(0,d.jsxs)(n.tbody,{children:[(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"--root"})}),(0,d.jsx)(n.td,{children:"\u626b\u63cf\u6839\u76ee\u5f55"}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"."})})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"--relative"})}),(0,d.jsx)(n.td,{children:"\u4ee5\u76f8\u5bf9\u8def\u5f84\u8f93\u51fa"}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"false"})})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"--delete"})}),(0,d.jsx)(n.td,{children:"\u5220\u9664\u5339\u914d\u5230\u7684\u751f\u6210\u6587\u4ef6"}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"false"})})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"--dry-run"})}),(0,d.jsx)(n.td,{children:"\u4ec5\u626b\u63cf\u8f93\u51fa\uff0c\u4e0d\u6267\u884c\u5220\u9664"}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"false"})})]})]})]}),"\n",(0,d.jsx)(n.h3,{id:"\u626b\u63cf\u751f\u6210\u6587\u4ef6",children:"\u626b\u63cf\u751f\u6210\u6587\u4ef6"}),"\n",(0,d.jsxs)(n.p,{children:["\u4f7f\u7528 ",(0,d.jsx)(n.code,{children:"--scan-generated"})," \u53ef\u4ee5\u5b9a\u4f4d ",(0,d.jsx)(n.code,{children:"foryc"})," \u751f\u6210\u7684\u6587\u4ef6\u3002\u626b\u63cf\u5668\u4f1a\u9012\u5f52\u904d\u5386\u76ee\u5f55\u6811\uff0c\u8df3\u8fc7 ",(0,d.jsx)(n.code,{children:"build/"}),"\u3001",(0,d.jsx)(n.code,{children:"target/"})," \u548c\u9690\u85cf\u76ee\u5f55\uff0c\u5e76\u8f93\u51fa\u627e\u5230\u7684\u6bcf\u4e2a\u751f\u6210\u6587\u4ef6\u3002"]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-bash",children:"# \u626b\u63cf\u5f53\u524d\u76ee\u5f55\nforyc --scan-generated\n\n# \u626b\u63cf\u6307\u5b9a\u6839\u76ee\u5f55\nforyc --scan-generated --root ./src\n\n# \u8f93\u51fa\u76f8\u5bf9\u8def\u5f84\nforyc --scan-generated --root ./src --relative\n\n# \u5220\u9664\u626b\u63cf\u5230\u7684\u751f\u6210\u6587\u4ef6\nforyc --scan-generated --root ./src --delete\n\n# Dry-run\uff08\u4ec5\u626b\u63cf\u4e0e\u8f93\u51fa\uff09\nforyc --scan-generated --root ./src --dry-run\n"})}),"\n",(0,d.jsx)(n.h3,{id:"\u793a\u4f8b",children:"\u793a\u4f8b"}),"\n",(0,d.jsx)(n.p,{children:(0,d.jsx)(n.strong,{children:"\u4e3a\u6240\u6709\u8bed\u8a00\u7f16\u8bd1\uff1a"})}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-bash",children:"foryc schema.fdl\n"})}),"\n",(0,d.jsx)(n.p,{children:(0,d.jsx)(n.strong,{children:"\u4e3a\u6307\u5b9a\u8bed\u8a00\u7f16\u8bd1\uff1a"})}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-bash",children:"foryc schema.fdl --lang java,python\n"})}),"\n",(0,d.jsx)(n.p,{children:(0,d.jsx)(n.strong,{children:"\u6307\u5b9a\u8f93\u51fa\u76ee\u5f55\uff1a"})}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-bash",children:"foryc schema.fdl --output ./src/generated\n"})}),"\n",(0,d.jsx)(n.p,{children:(0,d.jsx)(n.strong,{children:"\u8986\u76d6 package\uff1a"})}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-bash",children:"foryc schema.fdl --package com.myapp.models\n"})}),"\n",(0,d.jsx)(n.p,{children:(0,d.jsx)(n.strong,{children:"\u7f16\u8bd1\u591a\u4e2a\u6587\u4ef6\uff1a"})}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-bash",children:"foryc user.fdl order.fdl product.fdl --output ./generated\n"})}),"\n",(0,d.jsx)(n.p,{children:(0,d.jsx)(n.strong,{children:"\u4f7f\u7528 import \u641c\u7d22\u8def\u5f84\uff1a"})}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-bash",children:"# \u5355\u4e2a\u8def\u5f84\nforyc src/main.fdl -I libs/common\n\n# \u591a\u4e2a\u8def\u5f84\uff08\u91cd\u590d\u53c2\u6570\uff09\nforyc src/main.fdl -I libs/common -I libs/types\n\n# \u591a\u4e2a\u8def\u5f84\uff08\u9017\u53f7\u5206\u9694\uff09\nforyc src/main.fdl -I libs/common,libs/types,third_party/\n\n# --proto_path\uff08protoc \u517c\u5bb9\u522b\u540d\uff09\nforyc src/main.fdl --proto_path=libs/common\n\n# \u6df7\u5408\u5199\u6cd5\nforyc src/main.fdl -I libs/common,libs/types --proto_path third_party/\n"})}),"\n",(0,d.jsx)(n.p,{children:(0,d.jsx)(n.strong,{children:"\u8bed\u8a00\u5b9a\u5411\u8f93\u51fa\u76ee\u5f55\uff08protoc \u98ce\u683c\uff09\uff1a"})}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-bash",children:"# \u4ec5\u751f\u6210 Java\nforyc schema.fdl --java_out=./src/main/java\n\n# \u591a\u8bed\u8a00\u5206\u522b\u8f93\u51fa\u5230\u4e0d\u540c\u76ee\u5f55\nforyc schema.fdl --java_out=./java/gen --python_out=./python/src --go_out=./go/gen\n\n# \u7ed3\u5408 import \u8def\u5f84\nforyc schema.fdl --java_out=./gen/java -I proto/ -I common/\n"})}),"\n",(0,d.jsxs)(n.p,{children:["\u4f7f\u7528 ",(0,d.jsx)(n.code,{children:"--{lang}_out"})," \u65f6\uff1a"]}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsx)(n.li,{children:"\u53ea\u751f\u6210\u663e\u5f0f\u6307\u5b9a\u7684\u8bed\u8a00\uff08\u4e0d\u4f1a\u751f\u6210\u5168\u90e8\u8bed\u8a00\uff09"}),"\n",(0,d.jsx)(n.li,{children:"\u8f93\u51fa\u5199\u5165\u6307\u5b9a\u76ee\u5f55\uff08\u8bed\u8a00\u751f\u6210\u5668\u53ef\u80fd\u7ee7\u7eed\u6309\u5305/\u6a21\u5757\u5206\u5c42\uff09"}),"\n",(0,d.jsx)(n.li,{children:"\u517c\u5bb9 protoc \u98ce\u683c\u5de5\u4f5c\u6d41"}),"\n"]}),"\n",(0,d.jsx)(n.p,{children:(0,d.jsx)(n.strong,{children:"\u67e5\u770b proto/fbs \u8f93\u5165\u8f6c\u6362\u540e\u7684 Fory IDL\uff1a"})}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-bash",children:"# \u8f93\u51fa\u5230 stdout\nforyc schema.proto --emit-fdl\n\n# \u8f93\u51fa\u5230\u76ee\u5f55\nforyc schema.fbs --emit-fdl --emit-fdl-path ./translated\n"})}),"\n",(0,d.jsx)(n.h2,{id:"import-\u8def\u5f84\u89e3\u6790",children:"Import \u8def\u5f84\u89e3\u6790"}),"\n",(0,d.jsx)(n.p,{children:"\u7f16\u8bd1\u542b import \u7684 Fory IDL \u6587\u4ef6\u65f6\uff0c\u5bfc\u5165\u6587\u4ef6\u6309\u4ee5\u4e0b\u987a\u5e8f\u67e5\u627e\uff1a"}),"\n",(0,d.jsxs)(n.ol,{children:["\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"\u76f8\u5bf9\u4e8e\u5bfc\u5165\u8005\u6587\u4ef6\u76ee\u5f55\uff08\u9ed8\u8ba4\uff09"}),"\uff1a\u59cb\u7ec8\u4f18\u5148\u67e5\u627e\uff0c\u65e0\u9700 ",(0,d.jsx)(n.code,{children:"-I"})]}),"\n",(0,d.jsx)(n.li,{children:(0,d.jsxs)(n.strong,{children:["\u6309\u987a\u5e8f\u904d\u5386\u6bcf\u4e2a ",(0,d.jsx)(n.code,{children:"-I"})," \u8def\u5f84"]})}),"\n"]}),"\n",(0,d.jsx)(n.p,{children:(0,d.jsx)(n.strong,{children:"\u540c\u76ee\u5f55 import \u53ef\u76f4\u63a5\u751f\u6548\uff1a"})}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-protobuf",children:'// main.fdl\nimport "common.fdl";  // \u82e5 common.fdl \u5728\u540c\u76ee\u5f55\uff0c\u5c06\u81ea\u52a8\u627e\u5230\n'})}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-bash",children:"# \u540c\u76ee\u5f55\u5bfc\u5165\u65e0\u9700 -I\nforyc main.fdl\n"})}),"\n",(0,d.jsx)(n.p,{children:(0,d.jsx)(n.strong,{children:"\u793a\u4f8b\u76ee\u5f55\u7ed3\u6784\uff1a"})}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{children:'project/\n\u251c\u2500\u2500 src/\n\u2502   \u2514\u2500\u2500 main.fdl          # import "common.fdl";\n\u2514\u2500\u2500 libs/\n    \u2514\u2500\u2500 common.fdl\n'})}),"\n",(0,d.jsx)(n.p,{children:(0,d.jsxs)(n.strong,{children:["\u4e0d\u52a0 ",(0,d.jsx)(n.code,{children:"-I"}),"\uff08\u5931\u8d25\uff09\uff1a"]})}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-bash",children:"$ foryc src/main.fdl\nImport error: Import not found: common.fdl\n  Searched in: /project/src\n"})}),"\n",(0,d.jsx)(n.p,{children:(0,d.jsxs)(n.strong,{children:["\u52a0 ",(0,d.jsx)(n.code,{children:"-I"}),"\uff08\u6210\u529f\uff09\uff1a"]})}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-bash",children:"$ foryc src/main.fdl -I libs/\nCompiling src/main.fdl...\n  Resolved 1 import(s)\n"})}),"\n",(0,d.jsx)(n.h2,{id:"\u652f\u6301\u8bed\u8a00",children:"\u652f\u6301\u8bed\u8a00"}),"\n",(0,d.jsxs)(n.table,{children:[(0,d.jsx)(n.thead,{children:(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.th,{children:"\u8bed\u8a00"}),(0,d.jsx)(n.th,{children:"\u6807\u8bb0"}),(0,d.jsx)(n.th,{children:"\u8f93\u51fa\u540e\u7f00"}),(0,d.jsx)(n.th,{children:"\u8bf4\u660e"})]})}),(0,d.jsxs)(n.tbody,{children:[(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"Java"}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"java"})}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:".java"})}),(0,d.jsx)(n.td,{children:"\u5e26 Fory \u6ce8\u89e3\u7684 POJO"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"Python"}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"python"})}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:".py"})}),(0,d.jsx)(n.td,{children:"\u5e26\u7c7b\u578b\u63d0\u793a\u7684 dataclass"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"Go"}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"go"})}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:".go"})}),(0,d.jsx)(n.td,{children:"\u5e26 struct tag \u7684\u7ed3\u6784\u4f53"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"Rust"}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"rust"})}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:".rs"})}),(0,d.jsx)(n.td,{children:"\u5e26 derive \u5b8f\u7684\u7ed3\u6784\u4f53"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"C++"}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"cpp"})}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:".h"})}),(0,d.jsx)(n.td,{children:"\u5e26 FORY \u5b8f\u7684\u7ed3\u6784\u4f53"})]})]})]}),"\n",(0,d.jsx)(n.h2,{id:"\u8f93\u51fa\u7ed3\u6784",children:"\u8f93\u51fa\u7ed3\u6784"}),"\n",(0,d.jsx)(n.h3,{id:"java",children:"Java"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{children:"generated/\n\u2514\u2500\u2500 java/\n    \u2514\u2500\u2500 com/\n        \u2514\u2500\u2500 example/\n            \u251c\u2500\u2500 User.java\n            \u251c\u2500\u2500 Order.java\n            \u251c\u2500\u2500 Status.java\n            \u2514\u2500\u2500 ExampleForyRegistration.java\n"})}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsx)(n.li,{children:"\u6bcf\u4e2a\u7c7b\u578b\uff08enum/message\uff09\u5355\u72ec\u4e00\u4e2a\u6587\u4ef6"}),"\n",(0,d.jsx)(n.li,{children:"\u5305\u8def\u5f84\u4e0e Fory IDL package \u4e00\u81f4"}),"\n",(0,d.jsx)(n.li,{children:"\u4f1a\u751f\u6210\u6ce8\u518c\u8f85\u52a9\u7c7b"}),"\n"]}),"\n",(0,d.jsx)(n.h3,{id:"python",children:"Python"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{children:"generated/\n\u2514\u2500\u2500 python/\n    \u2514\u2500\u2500 example.py\n"})}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsx)(n.li,{children:"\u6240\u6709\u7c7b\u578b\u4f4d\u4e8e\u5355\u6a21\u5757"}),"\n",(0,d.jsx)(n.li,{children:"\u6a21\u5757\u540d\u7531 package \u6d3e\u751f"}),"\n",(0,d.jsx)(n.li,{children:"\u5305\u542b\u6ce8\u518c\u51fd\u6570"}),"\n"]}),"\n",(0,d.jsx)(n.h3,{id:"go",children:"Go"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{children:"generated/\n\u2514\u2500\u2500 go/\n    \u2514\u2500\u2500 example/\n        \u2514\u2500\u2500 example.go\n"})}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsx)(n.li,{children:"\u6240\u6709\u7c7b\u578b\u5728\u5355\u6587\u4ef6\u4e2d"}),"\n",(0,d.jsxs)(n.li,{children:["\u76ee\u5f55\u540d\u4e0e\u5305\u540d\u6765\u81ea ",(0,d.jsx)(n.code,{children:"go_package"})," \u6216 Fory IDL package"]}),"\n",(0,d.jsx)(n.li,{children:"\u5305\u542b\u6ce8\u518c\u51fd\u6570"}),"\n"]}),"\n",(0,d.jsx)(n.h3,{id:"rust",children:"Rust"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{children:"generated/\n\u2514\u2500\u2500 rust/\n    \u2514\u2500\u2500 example.rs\n"})}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsx)(n.li,{children:"\u6240\u6709\u7c7b\u578b\u4f4d\u4e8e\u5355\u6a21\u5757"}),"\n",(0,d.jsx)(n.li,{children:"\u6a21\u5757\u540d\u7531 package \u6d3e\u751f"}),"\n",(0,d.jsx)(n.li,{children:"\u5305\u542b\u6ce8\u518c\u51fd\u6570"}),"\n"]}),"\n",(0,d.jsx)(n.h3,{id:"c",children:"C++"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{children:"generated/\n\u2514\u2500\u2500 cpp/\n    \u2514\u2500\u2500 example.h\n"})}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsx)(n.li,{children:"\u5355\u5934\u6587\u4ef6\u8f93\u51fa"}),"\n",(0,d.jsxs)(n.li,{children:["\u547d\u540d\u7a7a\u95f4\u4e0e package \u5bf9\u9f50\uff08\u70b9\u53f7\u8f6c\u6362\u4e3a ",(0,d.jsx)(n.code,{children:"::"}),"\uff09"]}),"\n",(0,d.jsx)(n.li,{children:"\u81ea\u52a8\u5305\u542b header guard \u4e0e\u524d\u5411\u58f0\u660e"}),"\n"]}),"\n",(0,d.jsx)(n.h2,{id:"\u6784\u5efa\u7cfb\u7edf\u96c6\u6210",children:"\u6784\u5efa\u7cfb\u7edf\u96c6\u6210"}),"\n",(0,d.jsx)(n.h3,{id:"maven-java",children:"Maven (Java)"}),"\n",(0,d.jsxs)(n.p,{children:["\u5728 ",(0,d.jsx)(n.code,{children:"pom.xml"})," \u4e2d\u6dfb\u52a0\uff1a"]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-xml",children:"<build>\n  <plugins>\n    <plugin>\n      <groupId>org.codehaus.mojo</groupId>\n      <artifactId>exec-maven-plugin</artifactId>\n      <version>3.1.0</version>\n      <executions>\n        <execution>\n          <id>generate-fory-types</id>\n          <phase>generate-sources</phase>\n          <goals>\n            <goal>exec</goal>\n          </goals>\n          <configuration>\n            <executable>foryc</executable>\n            <arguments>\n              <argument>${project.basedir}/src/main/fdl/schema.fdl</argument>\n              <argument>--java_out</argument>\n              <argument>${project.build.directory}/generated-sources/fory</argument>\n            </arguments>\n          </configuration>\n        </execution>\n      </executions>\n    </plugin>\n  </plugins>\n</build>\n"})}),"\n",(0,d.jsx)(n.p,{children:"\u6dfb\u52a0\u751f\u6210\u6e90\u7801\u76ee\u5f55\uff1a"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-xml",children:"<build>\n  <plugins>\n    <plugin>\n      <groupId>org.codehaus.mojo</groupId>\n      <artifactId>build-helper-maven-plugin</artifactId>\n      <version>3.4.0</version>\n      <executions>\n        <execution>\n          <phase>generate-sources</phase>\n          <goals>\n            <goal>add-source</goal>\n          </goals>\n          <configuration>\n            <sources>\n              <source>${project.build.directory}/generated-sources/fory</source>\n            </sources>\n          </configuration>\n        </execution>\n      </executions>\n    </plugin>\n  </plugins>\n</build>\n"})}),"\n",(0,d.jsx)(n.h3,{id:"gradle-javakotlin",children:"Gradle (Java/Kotlin)"}),"\n",(0,d.jsxs)(n.p,{children:["\u5728 ",(0,d.jsx)(n.code,{children:"build.gradle"})," \u4e2d\u6dfb\u52a0\uff1a"]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-groovy",children:'task generateForyTypes(type: Exec) {\n    commandLine \'foryc\',\n        "${projectDir}/src/main/fdl/schema.fdl",\n        \'--java_out\', "${buildDir}/generated/sources/fory"\n}\n\ncompileJava.dependsOn generateForyTypes\n\nsourceSets {\n    main {\n        java {\n            srcDir "${buildDir}/generated/sources/fory"\n        }\n    }\n}\n'})}),"\n",(0,d.jsx)(n.h3,{id:"python-setuptools",children:"Python (setuptools)"}),"\n",(0,d.jsxs)(n.p,{children:["\u5728 ",(0,d.jsx)(n.code,{children:"setup.py"})," \u6216 ",(0,d.jsx)(n.code,{children:"pyproject.toml"})," \u4e2d\u52a0\u5165\u751f\u6210\u6b65\u9aa4\uff1a"]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-python",children:"# setup.py\nfrom setuptools import setup\nfrom setuptools.command.build_py import build_py\nimport subprocess\n\nclass BuildWithForyIdl(build_py):\n    def run(self):\n        subprocess.run([\n            'foryc',\n            'schema.fdl',\n            '--python_out', 'src/generated'\n        ], check=True)\n        super().run()\n\nsetup(\n    cmdclass={'build_py': BuildWithForyIdl},\n    # ...\n)\n"})}),"\n",(0,d.jsxs)(n.h3,{id:"go-go-generate",children:["Go (",(0,d.jsx)(n.code,{children:"go generate"}),")"]}),"\n",(0,d.jsx)(n.p,{children:"\u5728 Go \u6587\u4ef6\u4e2d\u6dfb\u52a0\uff1a"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-go",children:"//go:generate foryc ../schema.fdl --lang go --output .\npackage models\n"})}),"\n",(0,d.jsx)(n.p,{children:"\u6267\u884c\uff1a"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-bash",children:"go generate ./...\n"})}),"\n",(0,d.jsxs)(n.h3,{id:"rust-buildrs",children:["Rust (",(0,d.jsx)(n.code,{children:"build.rs"}),")"]}),"\n",(0,d.jsxs)(n.p,{children:["\u5728 ",(0,d.jsx)(n.code,{children:"build.rs"})," \u4e2d\u6dfb\u52a0\uff1a"]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-rust",children:'use std::process::Command;\n\nfn main() {\n    println!("cargo:rerun-if-changed=schema.fdl");\n\n    let status = Command::new("foryc")\n        .args(&["schema.fdl", "--rust_out", "src/generated"])\n        .status()\n        .expect("Failed to run foryc");\n\n    if !status.success() {\n        panic!("Fory IDL compilation failed");\n    }\n}\n'})}),"\n",(0,d.jsx)(n.h3,{id:"cmake-c",children:"CMake (C++)"}),"\n",(0,d.jsxs)(n.p,{children:["\u5728 ",(0,d.jsx)(n.code,{children:"CMakeLists.txt"})," \u4e2d\u6dfb\u52a0\uff1a"]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-cmake",children:'find_program(FORY_COMPILER foryc)\n\nadd_custom_command(\n    OUTPUT ${CMAKE_CURRENT_SOURCE_DIR}/generated/example.h\n    COMMAND ${FORY_COMPILER}\n        ${CMAKE_CURRENT_SOURCE_DIR}/schema.fdl\n        --cpp_out ${CMAKE_CURRENT_SOURCE_DIR}/generated\n    DEPENDS ${CMAKE_CURRENT_SOURCE_DIR}/schema.fdl\n    COMMENT "Generating Fory IDL types"\n)\n\nadd_custom_target(generate_fory_idl DEPENDS ${CMAKE_CURRENT_SOURCE_DIR}/generated/example.h)\n\nadd_library(mylib ...)\nadd_dependencies(mylib generate_fory_idl)\ntarget_include_directories(mylib PRIVATE ${CMAKE_CURRENT_SOURCE_DIR}/generated)\n'})}),"\n",(0,d.jsx)(n.h3,{id:"bazel",children:"Bazel"}),"\n",(0,d.jsxs)(n.p,{children:["\u5728 ",(0,d.jsx)(n.code,{children:"BUILD"})," \u4e2d\u6dfb\u52a0\u89c4\u5219\uff1a"]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-python",children:'genrule(\n    name = "generate_fdl",\n    srcs = ["schema.fdl"],\n    outs = ["generated/example.h"],\n    cmd = "$(location //:fory_compiler) $(SRCS) --cpp_out $(RULEDIR)/generated",\n    tools = ["//:fory_compiler"],\n)\n\ncc_library(\n    name = "models",\n    hdrs = [":generate_fdl"],\n    # ...\n)\n'})}),"\n",(0,d.jsx)(n.h2,{id:"\u9519\u8bef\u5904\u7406",children:"\u9519\u8bef\u5904\u7406"}),"\n",(0,d.jsx)(n.h3,{id:"\u8bed\u6cd5\u9519\u8bef",children:"\u8bed\u6cd5\u9519\u8bef"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{children:"Error: Line 5, Column 12: Expected ';' after field declaration\n"})}),"\n",(0,d.jsx)(n.p,{children:"\u4fee\u590d\u65b9\u5f0f\uff1a\u68c0\u67e5\u5bf9\u5e94\u884c\u662f\u5426\u7f3a\u5c11\u5206\u53f7\u6216\u5b58\u5728\u8bed\u6cd5\u95ee\u9898\u3002"}),"\n",(0,d.jsx)(n.h3,{id:"\u7c7b\u578b\u540d\u91cd\u590d",children:"\u7c7b\u578b\u540d\u91cd\u590d"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{children:"Error: Duplicate type name: User\n"})}),"\n",(0,d.jsx)(n.p,{children:"\u4fee\u590d\u65b9\u5f0f\uff1a\u786e\u4fdd\u540c\u4e00\u6587\u4ef6\u5185\u6bcf\u4e2a enum/message \u540d\u79f0\u552f\u4e00\u3002"}),"\n",(0,d.jsx)(n.h3,{id:"\u7c7b\u578b-id-\u91cd\u590d",children:"\u7c7b\u578b ID \u91cd\u590d"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{children:"Error: Duplicate type ID 100: User and Order\n"})}),"\n",(0,d.jsx)(n.p,{children:"\u4fee\u590d\u65b9\u5f0f\uff1a\u4e3a\u6bcf\u4e2a\u7c7b\u578b\u5206\u914d\u552f\u4e00 ID\u3002"}),"\n",(0,d.jsx)(n.h3,{id:"\u672a\u77e5\u7c7b\u578b\u5f15\u7528",children:"\u672a\u77e5\u7c7b\u578b\u5f15\u7528"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{children:"Error: Unknown type 'Address' in Customer.address\n"})}),"\n",(0,d.jsx)(n.p,{children:"\u4fee\u590d\u65b9\u5f0f\uff1a\u5148\u5b9a\u4e49\u88ab\u5f15\u7528\u7c7b\u578b\uff0c\u6216\u68c0\u67e5\u7c7b\u578b\u540d\u62fc\u5199\u3002"}),"\n",(0,d.jsx)(n.h3,{id:"\u5b57\u6bb5\u53f7\u91cd\u590d",children:"\u5b57\u6bb5\u53f7\u91cd\u590d"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{children:"Error: Duplicate field number 1 in User: name and id\n"})}),"\n",(0,d.jsx)(n.p,{children:"\u4fee\u590d\u65b9\u5f0f\uff1a\u786e\u4fdd\u540c\u4e00 message \u5185\u5b57\u6bb5\u53f7\u552f\u4e00\u3002"}),"\n",(0,d.jsx)(n.h2,{id:"\u6700\u4f73\u5b9e\u8df5",children:"\u6700\u4f73\u5b9e\u8df5"}),"\n",(0,d.jsx)(n.h3,{id:"\u9879\u76ee\u7ed3\u6784",children:"\u9879\u76ee\u7ed3\u6784"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{children:"project/\n\u251c\u2500\u2500 fdl/\n\u2502   \u251c\u2500\u2500 common.fdl       # Shared types\n\u2502   \u251c\u2500\u2500 user.fdl         # User domain\n\u2502   \u2514\u2500\u2500 order.fdl        # Order domain\n\u251c\u2500\u2500 src/\n\u2502   \u2514\u2500\u2500 generated/       # Generated code (git-ignored)\n\u2514\u2500\u2500 build.gradle\n"})}),"\n",(0,d.jsx)(n.h3,{id:"\u7248\u672c\u63a7\u5236",children:"\u7248\u672c\u63a7\u5236"}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"\u7eb3\u5165\u7248\u672c\u63a7\u5236"}),"\uff1aFory IDL schema \u6587\u4ef6"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"\u5ffd\u7565\u751f\u6210\u4ee3\u7801"}),"\uff1a\u53ef\u5728\u6784\u5efa\u65f6\u518d\u751f\u6210"]}),"\n"]}),"\n",(0,d.jsxs)(n.p,{children:["\u5728 ",(0,d.jsx)(n.code,{children:".gitignore"})," \u4e2d\u52a0\u5165\uff1a"]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{children:"# Generated Fory IDL code\nsrc/generated/\ngenerated/\n"})}),"\n",(0,d.jsx)(n.h3,{id:"cicd-\u96c6\u6210",children:"CI/CD \u96c6\u6210"}),"\n",(0,d.jsx)(n.p,{children:"\u5728\u6784\u5efa\u6d41\u7a0b\u4e2d\u59cb\u7ec8\u91cd\u65b0\u751f\u6210\u4ee3\u7801\uff1a"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-yaml",children:"# GitHub Actions \u793a\u4f8b\nsteps:\n  - name: Install Fory IDL Compiler\n    run: pip install ./compiler\n\n  - name: Generate Types\n    run: foryc fdl/*.fdl --output src/generated\n\n  - name: Build\n    run: ./gradlew build\n"})}),"\n",(0,d.jsx)(n.h3,{id:"schema-\u6f14\u8fdb",children:"Schema \u6f14\u8fdb"}),"\n",(0,d.jsx)(n.p,{children:"\u4fee\u6539 schema \u65f6\u5efa\u8bae\u9075\u5faa\uff1a"}),"\n",(0,d.jsxs)(n.ol,{children:["\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"\u4e0d\u8981\u590d\u7528\u5b57\u6bb5\u53f7"}),"\uff1a\u5220\u9664\u5b57\u6bb5\u540e\u5e94\u4fdd\u7559/\u9884\u7559"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"\u4e0d\u8981\u6539\u52a8\u7c7b\u578b ID"}),"\uff1a\u7c7b\u578b ID \u5c5e\u4e8e\u4e8c\u8fdb\u5236\u534f\u8bae\u7684\u4e00\u90e8\u5206"]}),"\n",(0,d.jsx)(n.li,{children:(0,d.jsx)(n.strong,{children:"\u65b0\u589e\u5b57\u6bb5\u4f7f\u7528\u65b0\u5b57\u6bb5\u53f7"})}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsxs)(n.strong,{children:["\u4f18\u5148\u4f7f\u7528 ",(0,d.jsx)(n.code,{children:"optional"})]}),"\uff1a\u4fdd\u6301\u5411\u540e\u517c\u5bb9"]}),"\n"]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-protobuf",children:"message User [id=100] {\n    string id = 1;\n    string name = 2;\n    // Field 3 was removed, don't reuse\n    optional string email = 4;  // New field\n}\n"})}),"\n",(0,d.jsx)(n.h2,{id:"\u6545\u969c\u6392\u67e5",children:"\u6545\u969c\u6392\u67e5"}),"\n",(0,d.jsx)(n.h3,{id:"command-not-found",children:"Command Not Found"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{children:"foryc: command not found\n"})}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.strong,{children:"\u89e3\u51b3\uff1a"})," \u786e\u8ba4\u7f16\u8bd1\u5668\u5df2\u5b89\u88c5\u4e14\u5728 PATH \u4e2d\uff1a"]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-bash",children:"pip install -e ./compiler\n# Or add to PATH\nexport PATH=$PATH:~/.local/bin\n"})}),"\n",(0,d.jsx)(n.h3,{id:"permission-denied",children:"Permission Denied"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{children:"Permission denied: ./generated\n"})}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.strong,{children:"\u89e3\u51b3\uff1a"})," \u786e\u4fdd\u8f93\u51fa\u76ee\u5f55\u5177\u5907\u5199\u6743\u9650\uff1a"]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-bash",children:"chmod -R u+w ./generated\n"})}),"\n",(0,d.jsx)(n.h3,{id:"\u751f\u6210\u4ee3\u7801-import-\u9519\u8bef",children:"\u751f\u6210\u4ee3\u7801 import \u9519\u8bef"}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.strong,{children:"Java\uff1a"})," \u786e\u4fdd\u9879\u76ee\u5305\u542b Fory \u4f9d\u8d56\uff1a"]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-xml",children:"<dependency>\n  <groupId>org.apache.fory</groupId>\n  <artifactId>fory-core</artifactId>\n  <version>${fory.version}</version>\n</dependency>\n"})}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.strong,{children:"Python\uff1a"})," \u786e\u4fdd\u5b89\u88c5 ",(0,d.jsx)(n.code,{children:"pyfory"}),"\uff1a"]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-bash",children:"pip install pyfory\n"})}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.strong,{children:"Go\uff1a"})," \u786e\u4fdd\u53ef\u83b7\u53d6 fory \u6a21\u5757\uff1a"]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-bash",children:"go get github.com/apache/fory/go/fory\n"})}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.strong,{children:"Rust\uff1a"})," \u786e\u4fdd ",(0,d.jsx)(n.code,{children:"Cargo.toml"})," \u4e2d\u5305\u542b fory crate\uff1a"]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-toml",children:'[dependencies]\nfory = "x.y.z"\n'})}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.strong,{children:"C++\uff1a"})," \u786e\u4fdd\u7f16\u8bd1\u5668 include \u8def\u5f84\u53ef\u627e\u5230 Fory \u5934\u6587\u4ef6\u3002"]})]})}function h(e={}){const{wrapper:n}={...(0,s.a)(),...e.components};return n?(0,d.jsx)(n,{...e,children:(0,d.jsx)(t,{...e})}):t(e)}},11151:(e,n,r)=>{r.d(n,{Z:()=>c,a:()=>i});var d=r(67294);const s={},l=d.createContext(s);function i(e){const n=d.useContext(l);return d.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:i(e.components),d.createElement(l.Provider,{value:n},e.children)}}}]);