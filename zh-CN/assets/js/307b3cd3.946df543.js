"use strict";(self.webpackChunkfory_site=self.webpackChunkfory_site||[]).push([[45134],{92519:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>d,contentTitle:()=>r,default:()=>h,frontMatter:()=>l,metadata:()=>t,toc:()=>o});var a=i(85893),s=i(11151);const l={title:"\u9ed8\u8ba4\u503c",sidebar_position:3,id:"default_values",license:'Licensed to the Apache Software Foundation (ASF) under one or more\ncontributor license agreements.  See the NOTICE file distributed with\nthis work for additional information regarding copyright ownership.\nThe ASF licenses this file to You under the Apache License, Version 2.0\n(the "License"); you may not use this file except in compliance with\nthe License.  You may obtain a copy of the License at\n\n   http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an "AS IS" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n'},r=void 0,t={id:"guide/scala/default_values",title:"\u9ed8\u8ba4\u503c",description:"Fory \u5728\u4f7f\u7528\u517c\u5bb9\u6a21\u5f0f\u65f6\u652f\u6301\u5728\u53cd\u5e8f\u5217\u5316\u671f\u95f4\u4f7f\u7528 Scala \u7c7b\u9ed8\u8ba4\u503c\u3002\u6b64\u7279\u6027\u5728 case \u7c7b\u6216\u5e38\u89c4 Scala \u7c7b\u5177\u6709\u9ed8\u8ba4\u53c2\u6570\u65f6\u652f\u6301\u524d\u5411/\u540e\u5411\u517c\u5bb9\u6027\u3002",source:"@site/i18n/zh-CN/docusaurus-plugin-content-docs/version-0.14/guide/scala/default-values.md",sourceDirName:"guide/scala",slug:"/guide/scala/default_values",permalink:"/zh-CN/docs/0.14/guide/scala/default_values",draft:!1,unlisted:!1,editUrl:"https://github.com/apache/fory-site/tree/main/i18n/zh-CN/docusaurus-plugin-content-docs/version-0.14/guide/scala/default-values.md",tags:[],version:"0.14",sidebarPosition:3,frontMatter:{title:"\u9ed8\u8ba4\u503c",sidebar_position:3,id:"default_values",license:'Licensed to the Apache Software Foundation (ASF) under one or more\ncontributor license agreements.  See the NOTICE file distributed with\nthis work for additional information regarding copyright ownership.\nThe ASF licenses this file to You under the Apache License, Version 2.0\n(the "License"); you may not use this file except in compliance with\nthe License.  You may obtain a copy of the License at\n\n   http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an "AS IS" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n'},sidebar:"docsSidebar",previous:{title:"\u7c7b\u578b\u5e8f\u5217\u5316",permalink:"/zh-CN/docs/0.14/guide/scala/type_serialization"},next:{title:"Kotlin \u5e8f\u5217\u5316\u6307\u5357",permalink:"/zh-CN/docs/0.14/guide/kotlin/"}},d={},o=[{value:"\u6982\u8ff0",id:"\u6982\u8ff0",level:2},{value:"\u652f\u6301\u7684\u7c7b\u7c7b\u578b",id:"\u652f\u6301\u7684\u7c7b\u7c7b\u578b",level:2},{value:"\u5de5\u4f5c\u539f\u7406",id:"\u5de5\u4f5c\u539f\u7406",level:2},{value:"\u4f7f\u7528\u65b9\u6cd5",id:"\u4f7f\u7528\u65b9\u6cd5",level:2},{value:"\u793a\u4f8b",id:"\u793a\u4f8b",level:2},{value:"\u5177\u6709\u9ed8\u8ba4\u503c\u7684 Case \u7c7b",id:"\u5177\u6709\u9ed8\u8ba4\u503c\u7684-case-\u7c7b",level:3},{value:"\u5177\u6709\u9ed8\u8ba4\u503c\u7684\u5e38\u89c4 Scala \u7c7b",id:"\u5177\u6709\u9ed8\u8ba4\u503c\u7684\u5e38\u89c4-scala-\u7c7b",level:3},{value:"\u590d\u6742\u9ed8\u8ba4\u503c",id:"\u590d\u6742\u9ed8\u8ba4\u503c",level:3},{value:"\u5d4c\u5957 Case \u7c7b",id:"\u5d4c\u5957-case-\u7c7b",level:3},{value:"\u76f8\u5173\u4e3b\u9898",id:"\u76f8\u5173\u4e3b\u9898",level:2}];function c(e){const n={a:"a",code:"code",h2:"h2",h3:"h3",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,s.a)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.p,{children:"Fory \u5728\u4f7f\u7528\u517c\u5bb9\u6a21\u5f0f\u65f6\u652f\u6301\u5728\u53cd\u5e8f\u5217\u5316\u671f\u95f4\u4f7f\u7528 Scala \u7c7b\u9ed8\u8ba4\u503c\u3002\u6b64\u7279\u6027\u5728 case \u7c7b\u6216\u5e38\u89c4 Scala \u7c7b\u5177\u6709\u9ed8\u8ba4\u53c2\u6570\u65f6\u652f\u6301\u524d\u5411/\u540e\u5411\u517c\u5bb9\u6027\u3002"}),"\n",(0,a.jsx)(n.h2,{id:"\u6982\u8ff0",children:"\u6982\u8ff0"}),"\n",(0,a.jsxs)(n.p,{children:["\u5f53 Scala \u7c7b\u5177\u6709\u9ed8\u8ba4\u53c2\u6570\u65f6\uff0cScala \u7f16\u8bd1\u5668\u4f1a\u5728\u4f34\u751f\u5bf9\u8c61\u4e2d\uff08\u5bf9\u4e8e case \u7c7b\uff09\u6216\u5728\u7c7b\u672c\u8eab\u4e2d\uff08\u5bf9\u4e8e\u5e38\u89c4 Scala \u7c7b\uff09\u751f\u6210\u8bf8\u5982 ",(0,a.jsx)(n.code,{children:"apply$default$1"}),"\u3001",(0,a.jsx)(n.code,{children:"apply$default$2"})," \u7b49\u65b9\u6cd5\u6765\u8fd4\u56de\u9ed8\u8ba4\u503c\u3002Fory \u53ef\u4ee5\u68c0\u6d4b\u8fd9\u4e9b\u65b9\u6cd5\uff0c\u5e76\u5728\u53cd\u5e8f\u5217\u5316\u5bf9\u8c61\u65f6\uff0c\u5f53\u67d0\u4e9b\u5b57\u6bb5\u5728\u5e8f\u5217\u5316\u6570\u636e\u4e2d\u7f3a\u5931\u65f6\u4f7f\u7528\u5b83\u4eec\u3002"]}),"\n",(0,a.jsx)(n.h2,{id:"\u652f\u6301\u7684\u7c7b\u7c7b\u578b",children:"\u652f\u6301\u7684\u7c7b\u7c7b\u578b"}),"\n",(0,a.jsx)(n.p,{children:"Fory \u652f\u6301\u4ee5\u4e0b\u7c7b\u578b\u7684\u9ed8\u8ba4\u503c\uff1a"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["\u5177\u6709\u9ed8\u8ba4\u53c2\u6570\u7684 ",(0,a.jsx)(n.strong,{children:"Case \u7c7b"})]}),"\n",(0,a.jsxs)(n.li,{children:["\u5728\u4e3b\u6784\u9020\u51fd\u6570\u4e2d\u5177\u6709\u9ed8\u8ba4\u53c2\u6570\u7684",(0,a.jsx)(n.strong,{children:"\u5e38\u89c4 Scala \u7c7b"})]}),"\n",(0,a.jsxs)(n.li,{children:["\u5177\u6709\u9ed8\u8ba4\u53c2\u6570\u7684",(0,a.jsx)(n.strong,{children:"\u5d4c\u5957 case \u7c7b"})]}),"\n"]}),"\n",(0,a.jsx)(n.h2,{id:"\u5de5\u4f5c\u539f\u7406",children:"\u5de5\u4f5c\u539f\u7406"}),"\n",(0,a.jsxs)(n.ol,{children:["\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"\u68c0\u6d4b"}),"\uff1aFory \u901a\u8fc7\u68c0\u67e5\u662f\u5426\u5b58\u5728\u9ed8\u8ba4\u503c\u65b9\u6cd5\uff08",(0,a.jsx)(n.code,{children:"apply$default$N"})," \u6216 ",(0,a.jsx)(n.code,{children:"$default$N"}),"\uff09\u6765\u68c0\u6d4b\u7c7b\u662f\u5426\u4e3a Scala \u7c7b\u3002"]}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"\u9ed8\u8ba4\u503c\u53d1\u73b0"}),"\uff1a"]}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["\u5bf9\u4e8e case \u7c7b\uff1aFory \u626b\u63cf\u4f34\u751f\u5bf9\u8c61\u4e2d\u540d\u4e3a ",(0,a.jsx)(n.code,{children:"apply$default$1"}),"\u3001",(0,a.jsx)(n.code,{children:"apply$default$2"})," \u7b49\u7684\u65b9\u6cd5\u3002"]}),"\n",(0,a.jsxs)(n.li,{children:["\u5bf9\u4e8e\u5e38\u89c4 Scala \u7c7b\uff1aFory \u626b\u63cf\u7c7b\u672c\u8eab\u4e2d\u540d\u4e3a ",(0,a.jsx)(n.code,{children:"$default$1"}),"\u3001",(0,a.jsx)(n.code,{children:"$default$2"})," \u7b49\u7684\u65b9\u6cd5\u3002"]}),"\n"]}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"\u5b57\u6bb5\u6620\u5c04"}),"\uff1a\u5728\u53cd\u5e8f\u5217\u5316\u671f\u95f4\uff0cFory \u8bc6\u522b\u76ee\u6807\u7c7b\u4e2d\u5b58\u5728\u4f46\u5e8f\u5217\u5316\u6570\u636e\u4e2d\u7f3a\u5931\u7684\u5b57\u6bb5\u3002"]}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"\u503c\u5e94\u7528"}),"\uff1a\u4ece\u5e8f\u5217\u5316\u6570\u636e\u4e2d\u8bfb\u53d6\u6240\u6709\u53ef\u7528\u5b57\u6bb5\u540e\uff0cFory \u5c06\u9ed8\u8ba4\u503c\u5e94\u7528\u4e8e\u4efb\u4f55\u7f3a\u5931\u7684\u5b57\u6bb5\u3002"]}),"\n"]}),"\n"]}),"\n",(0,a.jsx)(n.h2,{id:"\u4f7f\u7528\u65b9\u6cd5",children:"\u4f7f\u7528\u65b9\u6cd5"}),"\n",(0,a.jsx)(n.p,{children:"\u5f53\u6ee1\u8db3\u4ee5\u4e0b\u6761\u4ef6\u65f6\uff0c\u6b64\u7279\u6027\u4f1a\u81ea\u52a8\u542f\u7528\uff1a"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["\u542f\u7528\u517c\u5bb9\u6a21\u5f0f\uff08",(0,a.jsx)(n.code,{children:"withCompatibleMode(CompatibleMode.COMPATIBLE)"}),"\uff09"]}),"\n",(0,a.jsx)(n.li,{children:"\u76ee\u6807\u7c7b\u88ab\u68c0\u6d4b\u4e3a\u5177\u6709\u9ed8\u8ba4\u503c\u7684 Scala \u7c7b"}),"\n",(0,a.jsx)(n.li,{children:"\u5e8f\u5217\u5316\u6570\u636e\u4e2d\u7f3a\u5c11\u67d0\u4e2a\u5b57\u6bb5\uff0c\u4f46\u8be5\u5b57\u6bb5\u5b58\u5728\u4e8e\u76ee\u6807\u7c7b\u4e2d"}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:"\u65e0\u9700\u989d\u5916\u914d\u7f6e\u3002"}),"\n",(0,a.jsx)(n.h2,{id:"\u793a\u4f8b",children:"\u793a\u4f8b"}),"\n",(0,a.jsx)(n.h3,{id:"\u5177\u6709\u9ed8\u8ba4\u503c\u7684-case-\u7c7b",children:"\u5177\u6709\u9ed8\u8ba4\u503c\u7684 Case \u7c7b"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-scala",children:'import org.apache.fory.Fory\nimport org.apache.fory.config.CompatibleMode\nimport org.apache.fory.serializer.scala.ScalaSerializers\n\n// \u6ca1\u6709\u9ed8\u8ba4\u503c\u7684\u7c7b\uff08\u7528\u4e8e\u5e8f\u5217\u5316\uff09\ncase class PersonV1(name: String)\n\n// \u6709\u9ed8\u8ba4\u503c\u7684\u7c7b\uff08\u7528\u4e8e\u53cd\u5e8f\u5217\u5316\uff09\ncase class PersonV2(name: String, age: Int = 25, city: String = "Unknown")\n\nval fory = Fory.builder()\n  .withCompatibleMode(CompatibleMode.COMPATIBLE)\n  .withScalaOptimizationEnabled(true)\n  .build()\n\nScalaSerializers.registerSerializers(fory)\n\n// \u4f7f\u7528\u6ca1\u6709\u9ed8\u8ba4\u503c\u7684\u7c7b\u8fdb\u884c\u5e8f\u5217\u5316\nval original = PersonV1("John")\nval serialized = fory.serialize(original)\n\n// \u53cd\u5e8f\u5217\u5316\u5230\u6709\u9ed8\u8ba4\u503c\u7684\u7c7b\n// \u7f3a\u5931\u7684\u5b57\u6bb5\u5c06\u4f7f\u7528\u9ed8\u8ba4\u503c\nval deserialized = fory.deserialize(serialized).asInstanceOf[PersonV2]\n// deserialized.name == "John"\n// deserialized.age == 25\uff08\u9ed8\u8ba4\u503c\uff09\n// deserialized.city == "Unknown"\uff08\u9ed8\u8ba4\u503c\uff09\n'})}),"\n",(0,a.jsx)(n.h3,{id:"\u5177\u6709\u9ed8\u8ba4\u503c\u7684\u5e38\u89c4-scala-\u7c7b",children:"\u5177\u6709\u9ed8\u8ba4\u503c\u7684\u5e38\u89c4 Scala \u7c7b"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-scala",children:'// \u6ca1\u6709\u9ed8\u8ba4\u503c\u7684\u7c7b\uff08\u7528\u4e8e\u5e8f\u5217\u5316\uff09\nclass EmployeeV1(val name: String)\n\n// \u6709\u9ed8\u8ba4\u503c\u7684\u7c7b\uff08\u7528\u4e8e\u53cd\u5e8f\u5217\u5316\uff09\nclass EmployeeV2(\n  val name: String,\n  val age: Int = 30,\n  val department: String = "Engineering"\n)\n\nval fory = Fory.builder()\n  .withCompatibleMode(CompatibleMode.COMPATIBLE)\n  .withScalaOptimizationEnabled(true)\n  .build()\n\nScalaSerializers.registerSerializers(fory)\n\n// \u4f7f\u7528\u6ca1\u6709\u9ed8\u8ba4\u503c\u7684\u7c7b\u8fdb\u884c\u5e8f\u5217\u5316\nval original = new EmployeeV1("Jane")\nval serialized = fory.serialize(original)\n\n// \u53cd\u5e8f\u5217\u5316\u5230\u6709\u9ed8\u8ba4\u503c\u7684\u7c7b\nval deserialized = fory.deserialize(serialized).asInstanceOf[EmployeeV2]\n// deserialized.name == "Jane"\n// deserialized.age == 30\uff08\u9ed8\u8ba4\u503c\uff09\n// deserialized.department == "Engineering"\uff08\u9ed8\u8ba4\u503c\uff09\n'})}),"\n",(0,a.jsx)(n.h3,{id:"\u590d\u6742\u9ed8\u8ba4\u503c",children:"\u590d\u6742\u9ed8\u8ba4\u503c"}),"\n",(0,a.jsx)(n.p,{children:"\u9ed8\u8ba4\u503c\u53ef\u4ee5\u662f\u590d\u6742\u8868\u8fbe\u5f0f\uff1a"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-scala",children:'// \u6ca1\u6709\u9ed8\u8ba4\u503c\u7684\u7c7b\uff08\u7528\u4e8e\u5e8f\u5217\u5316\uff09\ncase class ConfigV1(name: String)\n\n// \u6709\u9ed8\u8ba4\u503c\u7684\u7c7b\uff08\u7528\u4e8e\u53cd\u5e8f\u5217\u5316\uff09\ncase class ConfigV2(\n  name: String,\n  settings: Map[String, String] = Map("default" -> "value"),\n  tags: List[String] = List("default"),\n  enabled: Boolean = true\n)\n\nval fory = Fory.builder()\n  .withCompatibleMode(CompatibleMode.COMPATIBLE)\n  .withScalaOptimizationEnabled(true)\n  .build()\n\nScalaSerializers.registerSerializers(fory)\n\nval original = ConfigV1("myConfig")\nval serialized = fory.serialize(original)\n\nval deserialized = fory.deserialize(serialized).asInstanceOf[ConfigV2]\n// deserialized.name == "myConfig"\n// deserialized.settings == Map("default" -> "value")\n// deserialized.tags == List("default")\n// deserialized.enabled == true\n'})}),"\n",(0,a.jsx)(n.h3,{id:"\u5d4c\u5957-case-\u7c7b",children:"\u5d4c\u5957 Case \u7c7b"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-scala",children:'object Models {\n  // \u6ca1\u6709\u9ed8\u8ba4\u503c\u7684\u7c7b\uff08\u7528\u4e8e\u5e8f\u5217\u5316\uff09\n  case class PersonV1(name: String)\n\n  // \u6709\u9ed8\u8ba4\u503c\u7684\u7c7b\uff08\u7528\u4e8e\u53cd\u5e8f\u5217\u5316\uff09\n  case class Address(street: String, city: String = "DefaultCity")\n  case class PersonV2(name: String, address: Address = Address("DefaultStreet"))\n}\n\nval fory = Fory.builder()\n  .withCompatibleMode(CompatibleMode.COMPATIBLE)\n  .withScalaOptimizationEnabled(true)\n  .build()\n\nScalaSerializers.registerSerializers(fory)\n\nval original = Models.PersonV1("Alice")\nval serialized = fory.serialize(original)\n\nval deserialized = fory.deserialize(serialized).asInstanceOf[Models.PersonV2]\n// deserialized.name == "Alice"\n// deserialized.address == Address("DefaultStreet", "DefaultCity")\n'})}),"\n",(0,a.jsx)(n.h2,{id:"\u76f8\u5173\u4e3b\u9898",children:"\u76f8\u5173\u4e3b\u9898"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.a,{href:"/zh-CN/docs/0.14/guide/java/schema_evolution",children:"Schema \u6f14\u5316"})," - Java \u4e2d\u7684\u524d\u5411/\u540e\u5411\u517c\u5bb9\u6027"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.a,{href:"/zh-CN/docs/0.14/guide/scala/fory_creation",children:"Fory \u521b\u5efa"})," - \u4f7f\u7528\u517c\u5bb9\u6a21\u5f0f\u8bbe\u7f6e Fory"]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,s.a)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(c,{...e})}):c(e)}},11151:(e,n,i)=>{i.d(n,{Z:()=>t,a:()=>r});var a=i(67294);const s={},l=a.createContext(s);function r(e){const n=a.useContext(l);return a.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function t(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:r(e.components),a.createElement(l.Provider,{value:n},e.children)}}}]);