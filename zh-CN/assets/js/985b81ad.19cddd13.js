"use strict";(self.webpackChunkfory_site=self.webpackChunkfory_site||[]).push([[23708],{81620:(e,i,r)=>{r.r(i),r.d(i,{assets:()=>c,contentTitle:()=>a,default:()=>h,frontMatter:()=>t,metadata:()=>o,toc:()=>l});var s=r(85893),n=r(11151);const t={title:"Type Registration",sidebar_position:3,id:"type_registration",license:'Licensed to the Apache Software Foundation (ASF) under one or more\ncontributor license agreements.  See the NOTICE file distributed with\nthis work for additional information regarding copyright ownership.\nThe ASF licenses this file to You under the Apache License, Version 2.0\n(the "License"); you may not use this file except in compliance with\nthe License.  You may obtain a copy of the License at\n\n   http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an "AS IS" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n'},a=void 0,o={id:"guide/csharp/type_registration",title:"Type Registration",description:"This page covers how to register user types in Apache Fory\u2122 C#.",source:"@site/i18n/zh-CN/docusaurus-plugin-content-docs/current/guide/csharp/type-registration.md",sourceDirName:"guide/csharp",slug:"/guide/csharp/type_registration",permalink:"/zh-CN/docs/next/guide/csharp/type_registration",draft:!1,unlisted:!1,editUrl:"https://github.com/apache/fory-site/tree/main/i18n/zh-CN/docusaurus-plugin-content-docs/current/guide/csharp/type-registration.md",tags:[],version:"current",sidebarPosition:3,frontMatter:{title:"Type Registration",sidebar_position:3,id:"type_registration",license:'Licensed to the Apache Software Foundation (ASF) under one or more\ncontributor license agreements.  See the NOTICE file distributed with\nthis work for additional information regarding copyright ownership.\nThe ASF licenses this file to You under the Apache License, Version 2.0\n(the "License"); you may not use this file except in compliance with\nthe License.  You may obtain a copy of the License at\n\n   http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an "AS IS" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n'},sidebar:"docsSidebar",previous:{title:"Basic Serialization",permalink:"/zh-CN/docs/next/guide/csharp/basic_serialization"},next:{title:"Custom Serializers",permalink:"/zh-CN/docs/next/guide/csharp/custom_serializers"}},c={},l=[{value:"Register by Numeric Type ID",id:"register-by-numeric-type-id",level:2},{value:"Register by Type Name",id:"register-by-type-name",level:2},{value:"Register a Custom Serializer",id:"register-a-custom-serializer",level:2},{value:"Thread-Safe Registration",id:"thread-safe-registration",level:2},{value:"Registration Rules",id:"registration-rules",level:2},{value:"Related Topics",id:"related-topics",level:2}];function d(e){const i={a:"a",code:"code",h2:"h2",li:"li",p:"p",pre:"pre",ul:"ul",...(0,n.a)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(i.p,{children:"This page covers how to register user types in Apache Fory\u2122 C#."}),"\n",(0,s.jsx)(i.h2,{id:"register-by-numeric-type-id",children:"Register by Numeric Type ID"}),"\n",(0,s.jsx)(i.p,{children:"Use explicit IDs for compact and stable cross-service mapping."}),"\n",(0,s.jsx)(i.pre,{children:(0,s.jsx)(i.code,{className:"language-csharp",children:"Fory fory = Fory.Builder().Build();\nfory.Register<User>(100);\nfory.Register<Order>(101);\n"})}),"\n",(0,s.jsx)(i.h2,{id:"register-by-type-name",children:"Register by Type Name"}),"\n",(0,s.jsx)(i.p,{children:"Use namespace + type name registration when you prefer symbolic mappings."}),"\n",(0,s.jsx)(i.pre,{children:(0,s.jsx)(i.code,{className:"language-csharp",children:'Fory fory = Fory.Builder().Build();\nfory.Register<User>("com.example", "User");\n'})}),"\n",(0,s.jsx)(i.p,{children:"You can also use the short overload:"}),"\n",(0,s.jsx)(i.pre,{children:(0,s.jsx)(i.code,{className:"language-csharp",children:'fory.Register<User>("User");\n'})}),"\n",(0,s.jsx)(i.h2,{id:"register-a-custom-serializer",children:"Register a Custom Serializer"}),"\n",(0,s.jsx)(i.pre,{children:(0,s.jsx)(i.code,{className:"language-csharp",children:"Fory fory = Fory.Builder().Build();\nfory.Register<MyType, MyTypeSerializer>(200);\n"})}),"\n",(0,s.jsx)(i.p,{children:"Namespace-based custom serializer registration is also supported:"}),"\n",(0,s.jsx)(i.pre,{children:(0,s.jsx)(i.code,{className:"language-csharp",children:'fory.Register<MyType, MyTypeSerializer>("com.example", "MyType");\n'})}),"\n",(0,s.jsx)(i.h2,{id:"thread-safe-registration",children:"Thread-Safe Registration"}),"\n",(0,s.jsxs)(i.p,{children:[(0,s.jsx)(i.code,{children:"ThreadSafeFory"})," exposes the same registration APIs. Registrations are propagated to all per-thread runtimes."]}),"\n",(0,s.jsx)(i.pre,{children:(0,s.jsx)(i.code,{className:"language-csharp",children:"using ThreadSafeFory fory = Fory.Builder().BuildThreadSafe();\nfory.Register<User>(100);\nfory.Register<Order>(101);\n"})}),"\n",(0,s.jsx)(i.h2,{id:"registration-rules",children:"Registration Rules"}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsx)(i.li,{children:"Register user-defined types on both writer and reader sides."}),"\n",(0,s.jsx)(i.li,{children:"Keep ID/name mappings consistent across services and languages."}),"\n",(0,s.jsx)(i.li,{children:"Register before high-volume serialization workloads to avoid runtime misses."}),"\n"]}),"\n",(0,s.jsx)(i.h2,{id:"related-topics",children:"Related Topics"}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsx)(i.li,{children:(0,s.jsx)(i.a,{href:"/zh-CN/docs/next/guide/csharp/basic_serialization",children:"Basic Serialization"})}),"\n",(0,s.jsx)(i.li,{children:(0,s.jsx)(i.a,{href:"/zh-CN/docs/next/guide/csharp/custom_serializers",children:"Custom Serializers"})}),"\n",(0,s.jsx)(i.li,{children:(0,s.jsx)(i.a,{href:"/zh-CN/docs/next/guide/csharp/cross_language",children:"Cross-Language"})}),"\n"]})]})}function h(e={}){const{wrapper:i}={...(0,n.a)(),...e.components};return i?(0,s.jsx)(i,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},11151:(e,i,r)=>{r.d(i,{Z:()=>o,a:()=>a});var s=r(67294);const n={},t=s.createContext(n);function a(e){const i=s.useContext(t);return s.useMemo((function(){return"function"==typeof e?e(i):{...i,...e}}),[i,e])}function o(e){let i;return i=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:a(e.components),s.createElement(t.Provider,{value:i},e.children)}}}]);